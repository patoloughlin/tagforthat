{"total":16516,"page":1,"pagesize":100,"questions":[{"tags":["android","query","sqlite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":2,"score":0,"question_id":13298685,"title":"android how to get sqlite data by column name","body":"<p>Is it possible to get column data by column name instead of index in sqlite?  I don't want to rely on a specific order of the columns.  If so, what's the syntax?</p>\n"},{"tags":["android","multithreading","sqlite","service"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":24,"score":1,"question_id":13146991,"title":"Conflict accessing sqlite database android, from Service and onClick","body":"<p>In my app android, I can access to my sqlite database from: </p>\n\n<p>1) Service android, every 60 seconds.</p>\n\n<p>2) After pressure of button (onclik)</p>\n\n<p>If I press the button while my service is accessing the database an error occurs.</p>\n\n<p>So I insert in the onclickListener, before access to database, a call to stopService()</p>\n\n<p>but the conflict remains, because, even if I call stopService() before access to database, the service is stopped after this!</p>\n\n<p>I tried, using :</p>\n\n<pre><code>private boolean isMyServiceRunning() {\n    ActivityManager manager = (ActivityManager)  getSystemService(Context.ACTIVITY_SERVICE);\n    for (RunningServiceInfo service : manager.getRunningServices(Integer.MAX_VALUE)) {\n        if (\"com.example.MyService\".equals(service.service.getClassName())) {\n           return true;\n        }\n    }\n    return false;\n }\n</code></pre>\n\n<p>suggested in <a href=\"http://stackoverflow.com/questions/600207/android-check-if-a-service-is-running\">android: check if a service is running</a></p>\n\n<p>I tried to call this method, before access to database, in this manner:</p>\n\n<pre><code>    while(isMyServiceRunning())\n    {\n        // do nothing\n    }\n\n    // *** access to my database ***\n</code></pre>\n\n<p>What can I do in order to be sure that my service is stopped before accessing to database?</p>\n\n<p>The error is:</p>\n\n<pre><code>10-30 21:05:43.360: E/SQLiteDatabase(13960): Failed to open the database. closing it.\n10-30 21:05:43.360: E/SQLiteDatabase(13960):        android.database.sqlite.SQLiteDatabaseLockedException: database is locked\n10-30 21:05:43.360: E/SQLiteDatabase(13960):    at android.database.sqlite.SQLiteDatabase.native_setLocale(Native Method)\n10-30 21:05:43.360: E/SQLiteDatabase(13960):    at android.database.sqlite.SQLiteDatabase.setLocale(SQLiteDatabase.java:2115)\n10-30 21:05:43.360: E/SQLiteDatabase(13960):    at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:984)\n10-30 21:05:43.360: E/SQLiteDatabase(13960):    at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:956)\n10-30 21:05:43.360: E/SQLiteDatabase(13960):    at android.database.sqlite.SQLiteDatabase.openOrCreateDatabase(SQLiteDatabase.java:1021)\n10-30 21:05:43.360: E/SQLiteDatabase(13960):    at android.app.ContextImpl.openOrCreateDatabase(ContextImpl.java:753)\n10-30 21:05:43.360: E/SQLiteDatabase(13960):    at android.content.ContextWrapper.openOrCreateDatabase(ContextWrapper.java:221)\n10-30 21:05:43.360: E/SQLiteDatabase(13960):    at android.database.sqlite.SQLiteOpenHelper.getWritableDatabase(SQLiteOpenHelper.java:149)\n10-30 21:05:43.360: E/SQLiteDatabase(13960):    at host.database.DB_DatabaseManager.open(DB_DatabaseManager.java:134)\n</code></pre>\n"},{"tags":["database","eclipse","sqlite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":3,"score":0,"question_id":13298104,"title":"Copying existing database error on eclipse","body":"<p>I've made a database named \"CookbookDB\" and put it into my assets folder.\nNote: I changed the primary id field of my tables (only two, the actual table I need and android_metadata) to _id.</p>\n\n<p>I'm having errors with this code. Any help?</p>\n\n<p>Errors:</p>\n\n<pre><code>11-08 21:20:25.074: D/dalvikvm(624): Not late-enabling CheckJNI (already on)\n11-08 21:20:25.534: E/Trace(624): error opening trace file: No such file or directory (2)\n11-08 21:20:25.734: E/SQLiteLog(624): (14) cannot open file at line 30174 of [00bb9c9ce4]\n11-08 21:20:25.734: E/SQLiteLog(624): (14) os_unix.c:30174: (2) open(/data/data/com.cookbook.adiel/databases/CookbookDB) - \n11-08 21:20:25.755: E/SQLiteDatabase(624): Failed to open database '/data/data/com.cookbook.adiel/databases/CookbookDB'.\n11-08 21:20:25.755: E/SQLiteDatabase(624): android.database.sqlite.SQLiteCantOpenDatabaseException: unknown error (code 14): Could not open database\n11-08 21:20:25.755: E/SQLiteDatabase(624):  at android.database.sqlite.SQLiteConnection.nativeOpen(Native Method)\n11-08 21:20:25.755: E/SQLiteDatabase(624):  at android.database.sqlite.SQLiteConnection.open(SQLiteConnection.java:209)\n11-08 21:20:25.755: E/SQLiteDatabase(624):  at android.database.sqlite.SQLiteConnection.open(SQLiteConnection.java:193)\n11-08 21:20:25.755: E/SQLiteDatabase(624):  at android.database.sqlite.SQLiteConnectionPool.openConnectionLocked(SQLiteConnectionPool.java:463)\n11-08 21:20:25.755: E/SQLiteDatabase(624):  at android.database.sqlite.SQLiteConnectionPool.open(SQLiteConnectionPool.java:185)\n11-08 21:20:25.755: E/SQLiteDatabase(624):  at android.database.sqlite.SQLiteConnectionPool.open(SQLiteConnectionPool.java:177)\n11-08 21:20:25.755: E/SQLiteDatabase(624):  at android.database.sqlite.SQLiteDatabase.openInner(SQLiteDatabase.java:804)\n11-08 21:20:25.755: E/SQLiteDatabase(624):  at android.database.sqlite.SQLiteDatabase.open(SQLiteDatabase.java:789)\n11-08 21:20:25.755: E/SQLiteDatabase(624):  at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:694)\n11-08 21:20:25.755: E/SQLiteDatabase(624):  at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:669)\n11-08 21:20:25.755: E/SQLiteDatabase(624):  at com.cookbook.adiel.ExistingDBHandler.checkDataBase(ExistingDBHandler.java:61)\n11-08 21:20:25.755: E/SQLiteDatabase(624):  at com.cookbook.adiel.ExistingDBHandler.createDataBase(ExistingDBHandler.java:42)\n11-08 21:20:25.755: E/SQLiteDatabase(624):  at com.cookbook.adiel.MainActivity.onCreate(MainActivity.java:43)\n11-08 21:20:25.755: E/SQLiteDatabase(624):  at android.app.Activity.performCreate(Activity.java:5008)\n11-08 21:20:25.755: E/SQLiteDatabase(624):  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1079)\n11-08 21:20:25.755: E/SQLiteDatabase(624):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2023)\n11-08 21:20:25.755: E/SQLiteDatabase(624):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2084)\n11-08 21:20:25.755: E/SQLiteDatabase(624):  at android.app.ActivityThread.access$600(ActivityThread.java:130)\n11-08 21:20:25.755: E/SQLiteDatabase(624):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1195)\n11-08 21:20:25.755: E/SQLiteDatabase(624):  at android.os.Handler.dispatchMessage(Handler.java:99)\n11-08 21:20:25.755: E/SQLiteDatabase(624):  at android.os.Looper.loop(Looper.java:137)\n11-08 21:20:25.755: E/SQLiteDatabase(624):  at android.app.ActivityThread.main(ActivityThread.java:4745)\n11-08 21:20:25.755: E/SQLiteDatabase(624):  at java.lang.reflect.Method.invokeNative(Native Method)\n11-08 21:20:25.755: E/SQLiteDatabase(624):  at java.lang.reflect.Method.invoke(Method.java:511)\n11-08 21:20:25.755: E/SQLiteDatabase(624):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:786)\n11-08 21:20:25.755: E/SQLiteDatabase(624):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:553)\n11-08 21:20:25.755: E/SQLiteDatabase(624):  at dalvik.system.NativeStart.main(Native Method)\n11-08 21:20:25.755: D/AndroidRuntime(624): Shutting down VM\n11-08 21:20:25.755: W/dalvikvm(624): threadid=1: thread exiting with uncaught exception (group=0x40a13300)\n11-08 21:20:25.765: E/AndroidRuntime(624): FATAL EXCEPTION: main\n11-08 21:20:25.765: E/AndroidRuntime(624): java.lang.Error: Database doesn't exist yet\n11-08 21:20:25.765: E/AndroidRuntime(624):  at com.cookbook.adiel.ExistingDBHandler.checkDataBase(ExistingDBHandler.java:63)\n11-08 21:20:25.765: E/AndroidRuntime(624):  at com.cookbook.adiel.ExistingDBHandler.createDataBase(ExistingDBHandler.java:42)\n11-08 21:20:25.765: E/AndroidRuntime(624):  at com.cookbook.adiel.MainActivity.onCreate(MainActivity.java:43)\n11-08 21:20:25.765: E/AndroidRuntime(624):  at android.app.Activity.performCreate(Activity.java:5008)\n11-08 21:20:25.765: E/AndroidRuntime(624):  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1079)\n11-08 21:20:25.765: E/AndroidRuntime(624):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2023)\n11-08 21:20:25.765: E/AndroidRuntime(624):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2084)\n11-08 21:20:25.765: E/AndroidRuntime(624):  at android.app.ActivityThread.access$600(ActivityThread.java:130)\n11-08 21:20:25.765: E/AndroidRuntime(624):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1195)\n11-08 21:20:25.765: E/AndroidRuntime(624):  at android.os.Handler.dispatchMessage(Handler.java:99)\n11-08 21:20:25.765: E/AndroidRuntime(624):  at android.os.Looper.loop(Looper.java:137)\n11-08 21:20:25.765: E/AndroidRuntime(624):  at android.app.ActivityThread.main(ActivityThread.java:4745)\n11-08 21:20:25.765: E/AndroidRuntime(624):  at java.lang.reflect.Method.invokeNative(Native Method)\n11-08 21:20:25.765: E/AndroidRuntime(624):  at java.lang.reflect.Method.invoke(Method.java:511)\n11-08 21:20:25.765: E/AndroidRuntime(624):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:786)\n11-08 21:20:25.765: E/AndroidRuntime(624):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:553)\n11-08 21:20:25.765: E/AndroidRuntime(624):  at dalvik.system.NativeStart.main(Native Method)\n</code></pre>\n\n<p>The copying-methods part of my database handler class:</p>\n\n<pre><code>private static String DB_PATH = \"/data/data/com.cookbook.adiel/databases/\";\n\n     private static String DB_NAME = \"CookbookDB\";\n public void createDataBase() throws IOException{\n\n         boolean dbExist = checkDataBase();\n\n         if(dbExist){\n             //do nothing, database already exists\n         }\n         else{\n             this.getDatabaseName();\n             try{\n                 copyDataBase();\n             }catch(IOException e){\n                 throw new Error(\"Error copying database\");\n             }\n         }\n     }\nprivate boolean checkDataBase(){\n            SQLiteDatabase checkDB = null;\n            try{\n                String myPath = DB_PATH + DB_NAME;\n                checkDB = SQLiteDatabase.openDatabase(myPath, null, SQLiteDatabase.OPEN_READONLY);\n            }catch(SQLiteException e){\n                throw new Error(\"Database doesn't exist yet\");\n            }\n\n            if(checkDB != null){\n                checkDB.close();\n            }\n\n            return checkDB!=null ? true : false;\n        }\n\n        private void copyDataBase() throws IOException{\n\n            //Open your local db as the input stream\n             InputStream myInput = myContext.getAssets().open(DB_NAME);\n\n            // Path to the just created empty db\n             String outFileName = DB_PATH + DB_NAME; // Same as String myPath in checkDataBase()\n\n            //Open the empty db as the output stream\n             OutputStream myOutput = new FileOutputStream(outFileName);\n\n             //transfer bytes from myInput to myOutput\n             byte[] buffer = new byte[1024];\n             int length;\n             while((length = myInput.read(buffer))&gt;0){\n                 myOutput.write(buffer, 0, length);\n             }\n\n             //Close the streams\n\n             myOutput.flush();\n             myOutput.close();\n             myInput.close();\n\n        }\n</code></pre>\n\n<p>On launcher:</p>\n\n<pre><code>ExistingDBHandler dbHandler = new ExistingDBHandler(this);\n        try {\n            dbHandler.createDataBase();\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n\n        for(int i =1; i&lt;stories.length + 1;i++){\n            stories[i-1] = dbHandler.getStory(i);\n        }\n\n        List&lt;StoryType&gt; storyList = dbHandler.getAllStories();\n        for(int i = 0; i&lt;stories.length; i++){\n            Log.d(\"Checking if db is working\", \"Story \" + i);\n        }\n</code></pre>\n\n<p>Any help would be SO much appreciated. Thanks!</p>\n"},{"tags":["sql","query","sqlite","parsing"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":51,"score":2,"question_id":13242543,"title":"Parsing simplified SQL queries with Perl into SQLite","body":"<p>I am trying to turn a \"simplified\" sql query into a working SQLite one to use against XnViews databases, meaning the database layout is at best suboptimal for what I'm trying to do AND I can't change anything about that.</p>\n\n<p>Example would be \"(cat_10 and cat_12) and (cat_5 or cat_7)\".</p>\n\n<p>This should be used against the table \"t3\", which has the fields \"if\" (fileID) and \"ic\" (categoryID).</p>\n\n<p>The entries look like this:</p>\n\n<pre><code>if, ic\n7, 10\n7, 12\n7, 4\n9, 10\n9, 12\n9, 5\n10, 10\n10, 12\n10, 7\n</code></pre>\n\n<p>The simplified query above should only select the files 9 and 10 as 7 does have the wanted categories 10 and 12 but has neither 5 nor 7.</p>\n\n<p>The actual problem now is building that hell of a query statement because it took me already some hours to simply get an AND between two categories working.</p>\n\n<pre><code>SELECT if FROM t3 WHERE ic IN (10, 12) GROUP BY if HAVING count(if) = 2\n</code></pre>\n\n<p>This gives me all fileIDs that contain category 10 and 12, but I have no idea how I should combine that with the remaining \" and (cat_5 or cat_7)\".</p>\n\n<p>When I planned these simplified sql statements (made by a click-it-together-builder made in html and js) I was planning to simply replace \"cat_5\" with \"t3.ic = 5\" and leave the rest as it is.</p>\n\n<p>Of course I didn't forsee that it wouldn't work as where checks the entry as a whole and there can't be ic = 5 AND ic = 7. That pretty much broke everything.</p>\n\n<p>So I'm wondering if anyone would have an idea how I could translate these simple queries in actual working ones, keeping in mind that it might not be limited to ( x and y ) pairs.</p>\n\n<p>Edit: I worked out how to do the example I've given, I think atleast:</p>\n\n<pre><code>SELECT if FROM t3 WHERE ic IN (10, 12) GROUP BY if HAVING count(if) = 2\nINTERSECT \nSELECT if FROM t3 WHERE ic IN (5, 7) GROUP BY if\n</code></pre>\n\n<p>But the main problem now is resolving the ( ) in the right order.</p>\n\n<p>Edit 2: I think I'm giving grouping the categories into one field with group_concat() a try, then I should be able to simply to cats LIKE \"  \" AND which would be small blocks I could easy throw together, then just the brackets and it should work. Highlighting the 'should'.</p>\n"},{"tags":["ruby-on-rails","ruby","sqlite"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":17,"score":1,"question_id":13292413,"title":"How to access sqlite3 tables generated by ruby on rails rvm install","body":"<p>I'm learning ruby on rails by reading the \"agile web development with rails\" book. I installed ruby and rails using rvm. I'm using the default sqlite3 database, and generating models and tables is awesome. </p>\n\n<p>I'd like to manually browse my db, just to see the structure. </p>\n\n<p>So at the command line is run </p>\n\n<pre><code>sqlite3\n</code></pre>\n\n<p>and in the shell </p>\n\n<pre><code>.tables\n</code></pre>\n\n<p>nothing shows up... Where are my tables?</p>\n"},{"tags":["android","sqlite","mongodb","synchronization","nosql"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":6,"score":0,"question_id":13295960,"title":"SQLite on Android and MongoDB with synchronization","body":"<p>Is it possible to use SQLite on Android and a NoSQL database like MongoDB on the server, with 2-way data replication/synchronization between the two?  Or is it best to either use SQL on both ends, or NoSQL on both ends, but not mixed?</p>\n"},{"tags":["c++","sql","database","sqlite","sqlite3"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13295739,"title":"c++ sqlite3 insert or replace query i think is erroring","body":"<p>I am corrected to my database, but when i fire off a command, i get an error.  </p>\n\n<p>my table:</p>\n\n<pre><code>a{ id int primary key not null, name varchar not null, and order int not null }\n</code></pre>\n\n<p>My statement:</p>\n\n<pre><code>string query = \"insert or replace into a (id,name,order) values (5,'hi',10)\"\nint rc;\nrc = sqlite3_exec(db, query.c_str(), 0,0,&amp;errMsg);\nif(rc != SQLITE_OK){\n    cout &lt;&lt; \"Error Code: \" &lt;&lt; rc &lt;&lt; \" SQLError: \" &lt;&lt; errMsg&lt;&lt;endl;\n}\n</code></pre>\n\n<p>I wasnt sure how this is suppose to work.  It is triyng to insert.  It will see the PK matches.... Then after that, it will replace, will it try to replace the PK with itself?  I wasnt sure.   The Returned ErrorCode which RC gives is:  </p>\n\n<pre><code>1   /* SQL error or missing database */\n</code></pre>\n"},{"tags":["android","ios","database","sqlite","couchdb"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":29,"score":2,"question_id":13254057,"title":"One to one synchronization of SQLite db between app and server","body":"<p>In my app I have a SQLite DB want to backup to server but what I want is one to one synchronization for off-line backup (e.g. standalone SQLite file instead of a centralized MySQL server, mainly performance reason and I don't need real time query)</p>\n\n<p>Ideally I don't want to upload the database everytime when I need to sync, prefer only sync the changes?</p>\n\n<p>Are there any existing solution for this? (I can consider using other file DB as currently I mainly use SQLite as Key-Value database)</p>\n\n<p>Thanks.</p>\n"},{"tags":["android","sqlite","listview","checkbox","textview"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13295171,"title":"How to incorporate two TextView with a CheckBox?","body":"<p>I want to ask if how am I going to incorporate my two TextView with a Checkbox. The scenario is when I put values on my two EditText those value will be shown on two TextView respectively but I want the Checkbox be added automatically whenever I hit save. I hope that you get my question. Here are my codes:</p>\n\n<p><strong>Adapter</strong></p>\n\n<pre><code>public String getData(String columnIndex) {\n    // TODO Auto-generated method stub\n\n    String[] columns = new String[]{ KEY_ITEMID, KEY_ITEM, KEY_QTY};\n    Cursor c = ourDatabase.query(DATABASE_TABLE, columns, null, null, null, null, null);\n    String resultQty = \"\";\n\n    int iQty = c.getColumnIndex(columnIndex);\n\n        for (c.moveToFirst(); !c.isAfterLast(); c.moveToNext()){\n            resultQty = resultQty + c.getString(iQty) + \"\\n\";\n        }\n\n    return resultQty;\n}\n</code></pre>\n\n<p><strong>My onCreate method</strong></p>\n\n<pre><code> TextView tv = (TextView) findViewById(R.id.tvSQLinfo);\n        Grocery info = new Grocery(this);\n        info.open();\n        String data = info.getData(KEY_ITEM);\n        info.close();\n        tv.setText(data);\n\n        TextView tvQty = (TextView) findViewById(R.id.tvItemQty);\n        Grocery infoQty = new Grocery(this);\n        infoQty.open();\n        String dataQty = infoQty.getData(KEY_QTY);\n        infoQty.close();\n        tvQty.setText(dataQty);\n\n        CheckBox android = (CheckBox) findViewById(R.id.chkStat);\n        android.setChecked(false);\n        onClick(tvQty);\n</code></pre>\n\n<p><strong>My XML code</strong></p>\n\n<pre><code>&lt;LinearLayout\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"&gt;\n\n        &lt;TextView\n            android:text=\"@string/tvSQLinfo\"\n            android:id=\"@+id/tvSQLinfo\"\n            android:paddingTop=\"5dp\"\n            android:paddingBottom=\"5dp\"\n            android:paddingLeft=\"20dp\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"/&gt;\n\n        &lt;TextView\n            android:text=\"itemQty\"\n            android:id=\"@+id/tvItemQty\"\n            android:paddingLeft=\"20dp\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"&gt;\n        &lt;/TextView&gt;\n\n        &lt;CheckBox \n            android:id=\"@+id/chkStat\"\n            android:paddingLeft=\"30dp\"\n            android:layout_width=\"50dp\"\n            android:layout_height=\"wrap_content\"\n            android:text=\"\"/&gt;\n   &lt;/LinearLayout&gt;\n</code></pre>\n"},{"tags":["android","database","arrays","string","sqlite"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":31,"score":1,"question_id":13290363,"title":"How to get all single column values then pass it to String[]?","body":"<p>I got a big problem here. I create databasehelper class to handle all of my query function.\nNow I try to make a function that will load all values of a column from my database but I dont know how to do it. FYI I got 3 columns inside my database table. Here is my code so far:</p>\n\n<p>(UPDATED, it works and gives me values now)</p>\n\n<pre><code>public List&lt;Content&gt; getSearchKeys() {\n    List&lt;Content&gt; contentList = new ArrayList&lt;Content&gt;();\n    // The query\n    String selectQuery = \"SELECT  * FROM \" + TABLE_SEARCH;\n\n    SQLiteDatabase db = this.getWritableDatabase();\n    Cursor cursor = db.rawQuery(selectQuery, null);\n\n    // I use do.. while here and it works now, should I better use for loop?\n    if (cursor.moveToFirst()) {\n        do {\n            Content content = new Content();\n            content.setID(Integer.parseInt(cursor.getString(0)));\n            content.setsKeys(cursor.getString(1));\n            content.setAct(cursor.getString(2));\n            // Adding content to list\n            contentList.add(content);\n        } while (cursor.moveToNext());\n    }\n    // return content list\n    return contentList;\n}\n</code></pre>\n\n<p>The problem now is how to pass the result of above function into String[] ? In my Activity I try to use it like this and it's not working:</p>\n\n<p>(Updated)</p>\n\n<pre><code>...\nsetContentView(R.layout.page_search);\n\n    DatabaseHandler db = new DatabaseHandler(this);\n    List&lt;Content&gt; contents = db.getAllContacts(); \n    final String[] searchQ = new String[contents.size()];\n    int i =0;\n\n      for (Content cn : contents) {\n            searchQ[i] = cn.getsKeys().toString(); \n      }\n\n      final String[] SearchQueries = searchQ;\n</code></pre>\n\n<p>If I comment the code above and change it to string array like this, then it works:</p>\n\n<pre><code>static final String[] SearchQueries = new String[] { \"iPhone\", \"Mac\", \"Apple\",};\n</code></pre>\n\n<p>My aim is to replace array above into Array I retrieve from my database. So what's wrong and what's the correct method to handle this? Many thanks for your help.</p>\n"},{"tags":["android","sql","sqlite","distance"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13293582,"title":"from sqlite to sql android","body":"<p>i have this query</p>\n\n<pre><code>\"SELECT  id, ssid, bssid, capabilities, level, frequency,geolat, geolong, nickname, ( \"+rangeDouble+ \" * ACOS( (SIN( \" +pi+ \" * \" +geoLat+\"/180 ) * SIN( \" +pi+ \" * lat /180 ) ) + ( COS( \" +pi+ \" * \" +geoLat+ \" /180 ) * COS( \" +pi+\" * lat /180 ) * COS( ABS( ( \" + pi +\" * \" + geoLng + \"  /180 ) - ( \" +pi+ \" * longg /180 ) ) ) ) )) AS distanza FROM wifiTable HAVING distanza &lt;\"+ rangeDouble  +\" ORDER BY  distanza LIMIT 0 , 20\", null)\n</code></pre>\n\n<p>distanza is like distance in english.</p>\n\n<p>how can i transform this query from sql to sqlite? Because i don't know how to use \"lat\" obtained by select in java code!</p>\n\n<p>please help me :)</p>\n"},{"tags":["javascript","ios","sqlite","phonegap","phonegap-plugins"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":9,"score":1,"question_id":13294815,"title":"Query returns empty results using SQLitePlugin","body":"<p>I am working on an iOS app that was originally written for PhoneGap 1.0.0 that was recently upgraded to 2.2.0 so I can use <a href=\"https://github.com/chbrody/Cordova-SQLitePlugin\" rel=\"nofollow\" title=\"SQLitePlugin for PhoneGap\">SQLitePlugin</a> with <a href=\"http://sqlcipher.net/\" rel=\"nofollow\" title=\"SQLCipher for iOS\">SQLCipher</a>. I'm having problems with a <code>SELECT</code> statement never returning results, even though I know there's data in there.</p>\n\n<p>Here's the rundown:</p>\n\n<ol>\n<li>The database is created with the following code:</li>\n</ol>\n\n<pre class=\"lang-js prettyprint-override\"><code>    THDatabase.DatabaseConnection = sqlitePlugin.openDatabase(THDatabase.name, THDatabase.currentVersion, THDatabase.displayName, THDatabase.size);\n\n    THDatabase.DatabaseConnection.transaction(THDatabase.CreateUsersTable, THDatabase.FatalErrorCallback);\n    THDatabase.DatabaseConnection.transaction(THDatabase.CreateCentersTable, THDatabase.FatalErrorCallback);\n    ...\n</code></pre>\n\n<ol>\n<li>Once a user registers, the Centers and Users tables have data inserted.</li>\n<li>When the login screen loads, the db is queried for Centers and Users.</li>\n</ol>\n\n<pre class=\"lang-js prettyprint-override\"><code>    /* Centers */\n    LoadCenters: function LoadCenters() {\n        console.log(\"LoadCenters\");\n       THDatabase.DatabaseConnection.transaction(THDatabase.LoadCentersImpl, THDatabase.FatalErrorCallback);\n        console.log('THDB.LoadCenters called from: ' + arguments.callee.caller.name);\n    },\n\n    LoadCentersImpl: function(tx) {\n        console.log(\"Loading centers.\");\n        tx.executeSql('SELECT * FROM Centers', [], THDatabase.LoadCentersParse, THDatabase.RecoverableErrorCallback);\n    },\n\n    LoadCentersParse: function(tx, results) {\n        console.log('parsing centers');\n        var dataArray = [];\n        var len = results.rows.length;\n        ...\n    },\n\n    /* Users */\n    LoadUsers: function LoadUsers() {\n        console.info(\"THDB.LoadUsers\");\n    THDatabase.DatabaseConnection.transaction(THDatabase.LoadUsersImpl, THDatabase.FatalErrorCallback);\n    },\n\n    LoadUsersImpl: function (tx) {\n        console.info(\"Loading users...\");\n    tx.executeSql('SELECT * FROM Users', [], THDatabase.LoadUsersParse, THDatabase.RecoverableErrorCallback);\n    },\n\n    LoadUsersParse: function (tx, results) {\n        console.info('parsing users...');\n        var dataArray = [];\n        var len = results.rows.length;\n        console.log(len);\n        ...\n    }\n    ...\n</code></pre>\n\n<p>The problem I'm having is that after <code>LoadUsersImpl()</code> runs, <code>LoadUsersParse()</code> never gets the results of the <code>SELECT</code> statement. The console.log stops at \"Loading users...\". I'm still able to log into the app, but nothing else that requires reading from the db works.</p>\n\n<p>I've tried wrapping the call to <code>LoadUsersParse()</code> in an anonymous function, passing <code>tx, results</code>, which doesn't work. If I pass <em>just</em> <code>results</code>, then the results of the call show up in the console log, but it stops right after 'parsing users...' shows up.</p>\n\n<p>This same code works fine without the SQLitePlugin installed in PhoneGap, but I can't figure out where it may be causing the problem.</p>\n\n<p>Turning DEBUG on logs this right after \"Loading users...\":</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>SQLitePlugin.backgroundExecuteSqlBatch: {\"executes\":[{\"query\":[\"BEGIN\"],\"path\":\"ThinkHealthDBs.db\",\"callback\":\"cb55\"},{\"query\":[\"SELECT * FROM Users\"],\"path\":\"ThinkHealthDBs.db\",\"callback\":\"cb56\"}]}\n</code></pre>\n\n<p>This is a problem with and without SQLCipher being used, and on PhoneGap/Cordova 2.1.0.</p>\n"},{"tags":["javascript","jquery","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13291939,"title":"External SQLite database in JavaScript/ JQuery","body":"<p>I wonder is there any way to use external (my own) SQLite database using JavaScript/ JQuery in a website? Any good examples? I have already done some search but cannot find any good article!</p>\n"},{"tags":["android","sqlite","android-cursor"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13293718,"title":"Android Closed Cursor","body":"<p>I've this on my sqlite helper class:</p>\n\n<pre><code>public String listaProdutoDeUmaProposta(String proposta) {\n\n    String sql = \"SELECT produto FROM propostas \" +\n    \" WHERE _id =\" + proposta;\n    String x = \"\";\n    Cursor c = db.rawQuery(sql, null);\n    if (c != null) {\n        if (c.moveToFirst()) {\n            c.moveToFirst();\n            x = c.getString(0); \n        }   \n    }\n    //c.close();\n    return x;\n}\n</code></pre>\n\n<p>I use it like this on Activity A (inside onCreate):</p>\n\n<pre><code>    db = new repositorio(Dados.this);\n    db.open();\n    produto = db.listaProdutoDeUmaProposta(PROPOSTA);\n    if (\"XXX\".equals(produto)) {\n        //code code code\n    }\n    db.close()\n</code></pre>\n\n<p><strong>I'm using it on Activity A, If go to activity B and press the back button the application force to close and it says that the cursor is already closed. How can I solve this?</strong></p>\n\n<p><strong>ERROR</strong></p>\n\n<pre><code>W/SQLiteCursor(1088): requery() failed database /data/data/ace.cice/databases/combinedxxi (conn# 0) already closed\nW/SQLiteCursor(1088): java.lang.IllegalStateException: database /data/data/ace.cice/databases/combinedxxi (conn# 0) already closed\nW/SQLiteCursor(1088):   at android.database.sqlite.SQLiteDatabase.verifyDbIsOpen(SQLiteDatabase.java:2123)\nW/SQLiteCursor(1088):   at android.database.sqlite.SQLiteDatabase.getDbConnection(SQLiteDatabase.java:2448)\nW/SQLiteCursor(1088):   at android.database.sqlite.SQLiteDatabase.getDatabaseHandle(SQLiteDatabase.java:2429)\nW/SQLiteCursor(1088):   at android.database.sqlite.SQLiteCursor.requery(SQLiteCursor.java:412)\nW/SQLiteCursor(1088):   at android.app.Activity.performRestart(Activity.java:4393)\nW/SQLiteCursor(1088):   at android.app.ActivityThread.performRestartActivity(ActivityThread.java:2652)\nW/SQLiteCursor(1088):   at android.app.LocalActivityManager.moveToState(LocalActivityManager.java:163)\nW/SQLiteCursor(1088):   at android.app.LocalActivityManager.dispatchResume(LocalActivityManager.java:518)\nW/SQLiteCursor(1088):   at android.app.ActivityGroup.onResume(ActivityGroup.java:58)\nW/SQLiteCursor(1088):   at ace.cice.DadosApoliceTabs.onResume(DadosApoliceTabs.java:163)\nW/SQLiteCursor(1088):   at android.app.Instrumentation.callActivityOnResume(Instrumentation.java:1153)\nW/SQLiteCursor(1088):   at android.app.Activity.performResume(Activity.java:4428)\nW/SQLiteCursor(1088):   at android.app.ActivityThread.performResumeActivity(ActivityThread.java:2217)\nW/SQLiteCursor(1088):   at android.app.ActivityThread.handleResumeActivity(ActivityThread.java:2255)\nW/SQLiteCursor(1088):   at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1028)\nW/SQLiteCursor(1088):   at android.os.Handler.dispatchMessage(Handler.java:99)\nW/SQLiteCursor(1088):   at android.os.Looper.loop(Looper.java:132)\nW/SQLiteCursor(1088):   at android.app.ActivityThread.main(ActivityThread.java:4025)\nW/SQLiteCursor(1088):   at java.lang.reflect.Method.invokeNative(Native Method)\nW/SQLiteCursor(1088):   at java.lang.reflect.Method.invoke(Method.java:491)\nW/SQLiteCursor(1088):   at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:841)\nW/SQLiteCursor(1088):   at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:599)\nW/SQLiteCursor(1088):   at dalvik.system.NativeStart.main(Native Method)\nD/AndroidRuntime(1088): Shutting down VM W/dalvikvm(1088): threadid=1: thread exiting with uncaught exception (group=0x40014760)\nE/AndroidRuntime(1088): FATAL EXCEPTION: main \nE/AndroidRuntime(1088): java.lang.RuntimeException: Unable to resume activity {ace.cice/ace.cice.DadosApoliceTabs}: java.lang.IllegalStateException: trying to requery an already closed cursor \nE/AndroidRuntime(1088):     at android.app.ActivityThread.performResumeActivity(ActivityThread.java:2227) \nE/AndroidRuntime(1088):     at android.app.ActivityThread.handleResumeActivity(ActivityThread.java:2255) \nE/AndroidRuntime(1088):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1028) \nE/AndroidRuntime(1088):     at android.os.Handler.dispatchMessage(Handler.java:99) \nE/AndroidRuntime(1088):     at android.os.Looper.loop(Looper.java:132) \nE/AndroidRuntime(1088):     at android.app.ActivityThread.main(ActivityThread.java:4025) \nE/AndroidRuntime(1088):     at java.lang.reflect.Method.invokeNative(Native Method) \nE/AndroidRuntime(1088):     at java.lang.reflect.Method.invoke(Method.java:491) \nE/AndroidRuntime(1088):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:841) \nE/AndroidRuntime(1088):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:599) \nE/AndroidRuntime(1088):     at dalvik.system.NativeStart.main(Native Method) \nE/AndroidRuntime(1088): Caused by: java.lang.IllegalStateException: trying to requery an already closed cursor \nE/AndroidRuntime(1088):     at android.app.Activity.performRestart(Activity.java:4394) \nE/AndroidRuntime(1088):     at android.app.ActivityThread.performRestartActivity(ActivityThread.java:2652) \nE/AndroidRuntime(1088):     at android.app.LocalActivityManager.moveToState(LocalActivityManager.java:163) \nE/AndroidRuntime(1088):     at android.app.LocalActivityManager.dispatchResume(LocalActivityManager.java:518) \nE/AndroidRuntime(1088):     at android.app.ActivityGroup.onResume(ActivityGroup.java:58) \nE/AndroidRuntime(1088):     at ace.cice.DadosApoliceTabs.onResume(DadosApoliceTabs.java:163) \nE/AndroidRuntime(1088):     at android.app.Instrumentation.callActivityOnResume(Instrumentation.java:1153) \nE/AndroidRuntime(1088):     at android.app.Activity.performResume(Activity.java:4428) \nE/AndroidRuntime(1088):     at android.app.ActivityThread.performResumeActivity(ActivityThread.java:2217) \nE/AndroidRuntime(1088):     ... 10 more\n</code></pre>\n\n<p>OnResume:</p>\n\n<pre><code>@Override\npublic void onResume() {\n    System.out.println(\"Dados Apolice Tabs ON RESUME\");\n    db = new repositorio(Dados.this);\n    db.open();\n    produto = db.listaProdutoDeUmaProposta(PROPOSTA);\n    db.close();\n        super.onResume();   \n}\n</code></pre>\n\n<p>I call Activity B from A like:</p>\n\n<pre><code>I = new Intent(\"ace.cice.AconselhamentoCliente\");\nEXTRAS = new Bundle();\nEXTRAS.putString(\"proposta\", PROPOSTA);\nI.putExtras(EXTRAS);\nstartActivityForResult(I, request_Code);\n</code></pre>\n"},{"tags":["windows","sqlite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":3,"score":0,"question_id":13294065,"title":"Access SQLite (s3db) database from Windows 8 store app (C#)","body":"<p>I'm porting a Windows Phone 7 app. where I use an SQLite database, which is embedded in the app. as a content-file and copied to isolated storage.   I Query it using the ViciCoolstorage class library using standard SQL.</p>\n\n<p>Now I need to port the app. to a Windows 8 store app. - which class library should I use for that?  It has to support SQL (not LINQ) as I have my own datalayer depending on SQL.</p>\n\n<p>Further more it must be able to open/read the s3db file format.  So my questions:</p>\n\n<ol>\n<li><p>Which class library should I choose (bear in mind, that I want to support Windows RT).</p></li>\n<li><p>Should I use the same approach, embedding the file as a content-file in my project - and during installation copy it to the application storage?  ... and how do I do that?</p></li>\n<li><p>If the s3db file is copied to the application storage, will the end-user be able to see the database?   I'd like to prevent this, as the database can the easily be copied.</p></li>\n</ol>\n\n<p>Any help, greatly appreciated!  (Btw. I'm using VS2012/C#).</p>\n"},{"tags":["android","sqlite","cordova","cordova-2.0.0"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":6,"score":0,"question_id":13293821,"title":"Phonegap/Cordova Android SQLite DB Size between Android 2.x and 4.x","body":"<p>We have the same app and same Sqlite DB running on different versions of Android 2.x and Android 4.x. On the 2.x phones, the DB is twice the size it appears, or, at least, the \"data\" footprint for the app is twice the size. What gives? </p>\n\n<p>Does it have to do the different versions of Sqlite each phone is running?</p>\n"},{"tags":["ruby-on-rails","ruby","sqlite","drop-down-menu","activeadmin"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":348,"score":2,"question_id":9579402,"title":"Active Admin - refresh second drop down based on first drop down, Ruby on Rails","body":"<p>I am using Active Admin Gem on Ruby on Rails. I have a form in which i have selected category and sub category and then accordingly i have to fill the data. So i created two tables in sqlite added in active admin resouce.</p>\n\n<p>Every thing is working fine but the drop down of sub category is not getting filtered based on the category choosen.</p>\n\n<p>I am new to Ruby and RoR too. I don't know how to refresh dropdown of the subcategory after selecting category.</p>\n\n<p>I know i can do it from AJAX and javascript but i dont know where to code for that?</p>\n\n<p>Also, is there any specific filter avaliable in Active Admin which will make it happen without ajax or javascript.</p>\n\n<p>Any ideas or help will be highly appreciated.</p>\n"},{"tags":["sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":1938,"score":4,"question_id":3280105,"title":"SQLite how to declare as Byte Array?","body":"<p>I've got a SQLite database. I'd like to create a field and declare it as type Byte array but I don't know what SQLite calls something that would be of type Byte Array. How would I do this?</p>\n"},{"tags":["jquery","mysql","sqlite","phonegap"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":17,"score":1,"question_id":13292664,"title":"PhoneGap - Comparing Database Values","body":"<p>I am currently developing an app using PhoneGap and JQuery Mobile that basically detects any road surface deformations using the accellerometer of the smartphone and when a deformation is detected, it stores the latitude and longitude in an SQLite database on the mobile.</p>\n\n<p>This SQLite is in turn sync'd with a MySQL database remotely, where all data from all the users is stored together.</p>\n\n<p>Now the issue is this, can anyone tell me how I can go through the database values, compare the longitude and latitude values submitted by all users, and grab those values which are similar. Basically any values that are within a 50m range from each other can be grouped as 1 surface deformation. I am setting a treshold of 3 reports, so if a disruption is reported by 3 users, it would then be considered as a disruption and displayed as a pin on a Googlemap.  </p>\n\n<p>Basically what I need to do is compare the longitude and latitiude values, get a list of coordinates where there are road surface deformations and then pass this to the PhoneGap app in order to place pins on the GoogleMap.</p>\n\n<p>I would be extremley glad if someone can point me to a tutorial or enlighten me how I can loop through the database values and do the necessary comparison in order to come up with a concise list of coordinates for road deformations.  </p>\n\n<p>Thanks</p>\n"},{"tags":["java","android","sqlite","indexing"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13291140,"title":"Java/Android: SQLite or file for indexing?","body":"<p>my Android app needs to scan a directory for files and writes them all in one ArrayList.\nThe algorithm currently needs about 630 ms for 1273 files. Since an increase of the number of files (to 3500 and above) is very likely, I need to improve the performance.</p>\n\n<p>So I was thinking about indexing. Before I waste any time on inefficent code: Is it worth the effort and time to write a indexing class for the files? If so, is it faster to use SQLite or a default *.whatever-File?</p>\n\n<p>Thanks in advance.</p>\n\n<p>Regards</p>\n"},{"tags":["c++","sqlite","sqlite3","thunderbird"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13277307,"title":"sqlite query returning no results / callback not invoked when attempting to query Thunderbird message data","body":"<p>I'm trying to query the Thunderbird message database file (%APPDATA%/Thunderbird/Profiles//global-messages-db.sqlite) on Windows 7 from a native C++/MFC app built with VS2010.</p>\n\n<p>I'm building with the latest downloaded sqlite3 amalgamation source file, v3.7.14.1.</p>\n\n<p>The database open succeeds (sqlite3_open() returns 0) and the call to sqlite3_exec() also succeeds, returning 0 as well.  The supplied callback function is never invoked though.  I've copied the quick start sample code to execute a straightforward select query as shown below.</p>\n\n<pre><code>rc = sqlite3_exec(db,\"select * from contacts;\",sqlite3_results_callback,&amp;ctx,&amp;errmsg);\n</code></pre>\n\n<p>To double check things, I downloaded the <a href=\"http://sqlitebrowser.sourceforge.net/\" rel=\"nofollow\">SQLite Database Browser</a> and opened the DB file with that and verified that the contacts table does indeed have data as expected.</p>\n\n<p>I'm sure its something embarrassingly obvious which I'm missing :)</p>\n\n<p>As an aside, my next thought was to just step into the sqlite3_exec function and see if I could see whats happening, but I'm unable to do so.  Despite compiling it as part of my project (again, I'm using the amalgamation source not a pre-built binary) VS will not step into that function.  It takes me to some unrelated place in the sqlite source code.  This is with a debug build without optimization btw.  Not sure if this is related at all, but it was a strange symptom so I thought I'd mention it.</p>\n\n<hr>\n\n<p><strong>EDIT: As it turns out, it was indeed something embarrassingly obvious!  I was opening the wrong DB file!!!  The code was going to the default location under %APPDATA% but on this particular machine I have TB using a profile in a different location on disk.  There was an empty DB file there, prob created after initial install which it found and happily read :)</strong></p>\n"},{"tags":["objective-c","ios","database","multithreading","sqlite"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":15,"score":1,"question_id":13291036,"title":"sqlite3_prepare_v2 exc_bad_access","body":"<p>I'm getting exc_bad_access when using multiple readers for sqlite on iOS.  WAL is enabled on the database and sqlite3_threadsafety returns 2 so this shouldn't be a problem.</p>\n\n<p>The code I'm using works fine for 100k+ users most of the time, but there are certain multithreading race conditions that cause sqlite3_prepare_v2 to have exc_bad_access.  Basically when I spawn two threads to do a bunch of reads it crashes.</p>\n\n<p>With WAL and threadsafe sqlite, multiple threads shouldn't be a problem but can't figure out what's causing this exc_bad_access.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["iphone","sqlite"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":26,"score":2,"question_id":13289844,"title":"Very large sqlite database copy","body":"<p>I see from this question ( <a href=\"http://stackoverflow.com/questions/12909307/sqlite-database-copy\">SQLite Database Copy</a> ) that one must copy the sqlite database from the bundle to the working directory on installation for it to not be read-only.  But what if the database is huge?  I don't want it to take up twice the space it should.  Is there a way to delete the original from the bundle?  Any other workaround to avoid wasting so much space with a large db in the bundle that is never used after installation?\nThanks!</p>\n"},{"tags":["android","sqlite","url","android-webview"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":28,"score":1,"question_id":13276446,"title":"Populating spinner with browsers current URL","body":"<p>I'm very new to Android Developing (and stackoverflow).</p>\n\n<p>I am trying to make an application that adds the URL of the website your currenty browsing into a spinner. The problem is simply that I don't know how to do this. I can't seem to find any way or solution to this, even tho I have been searching for a long time.</p>\n\n<p>My code looks like this:</p>\n\n<pre><code>    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_browse);\n        WebView myWebView = (WebView) findViewById(R.id.webView1); \n        myWebView.setWebViewClient(new WebViewClient());\n        myWebView.loadUrl(\"no.wikipedia.org/wiki/Spesial:Tilfeldig\");\n    }\n\n    [...]\n\n    btnAdd.setOnClickListener(new View.OnClickListener() {\n\n        public void onClick(View arg0) {\n            String label = inputLabel.getText().toString();\n\n            if (label.trim().length() &gt; 0) {\n                // database handler\n                DatabaseHandler db = new DatabaseHandler(\n                        getApplicationContext());\n\n                // inserting new label into database\n                db.insertLabel(label);\n\n                // making input filed text to blank\n                inputLabel.setText(\"\");\n\n                // Hiding the keyboard\n                InputMethodManager imm = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\n                imm.hideSoftInputFromWindow(inputLabel.getWindowToken(), 0);\n\n                // loading spinner with newly added data\n                loadSpinnerData();\n            } else {\n                Toast.makeText(getApplicationContext(), \"Please enter label name\",\n                        Toast.LENGTH_SHORT).show();\n            }\n\n        }\n    }\n</code></pre>\n\n<p>I would deeply appreciate any help.</p>\n"},{"tags":["mysql","sql","database","query","sqlite"],"answer_count":3,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":39,"score":4,"question_id":13288764,"title":"Nested queries (dependent queries)","body":"<p>I need to store a family (i.e. some childs of a parent. Those childs have their own childs and so on..)</p>\n\n<p>So, I created a table family that has following structure</p>\n\n<blockquote>\n  <p>id&nbsp;&nbsp;&nbsp;&nbsp;child&nbsp;&nbsp;&nbsp;&nbsp;child_id&nbsp;&nbsp;&nbsp;&nbsp;parent_id</p>\n</blockquote>\n\n<p>When I save a child, I store a parent_id along with it.</p>\n\n<p>Now,</p>\n\n<p>when I want to fetch all childs of given parent, I can easily do.</p>\n\n<pre><code>select child_id from family where parent_id = &lt;given parent id&gt;\n</code></pre>\n\n<p>But, </p>\n\n<p>now I want to fetch the complete family (all descendants of a given parent)</p>\n\n<p>i.e.</p>\n\n<p>I want to fetch all childs which have a given parent_id + all childs that are childs of fetched childs in first query and so on.</p>\n\n<p>Can somebody help me ?</p>\n\n<p>I also, thing there could be better way to store the data initially, so I can fetch it later. Can somebody point out a better way ?</p>\n"},{"tags":["android","flex","sqlite","air"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":559,"score":0,"question_id":7968084,"title":"\"unable to open the database file\" error in Flex for Android","body":"<p>Using Flex 4.5 for Android development, this is the script that should create the database:</p>\n\n<pre><code>private var db:File = File.userDirectory.resolvePath(\"events.db\");\n        private var conn:SQLConnection;\n\n        public function MyDB() {\n            conn = new SQLConnection();\n            conn.addEventListener(SQLEvent.OPEN, openHandler);\n            conn.addEventListener(SQLErrorEvent.ERROR, errorHandler);\n            conn.open(db, );\n        }\n</code></pre>\n\n<p>and I have added this permission:</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\"/&gt;\n</code></pre>\n\n<p>but I get this error:</p>\n\n<pre><code>SQLError: 'Error #3125: Unable to open the database file.', details:'Connection closed.', operation:'open', detailID:'1001'\n    at flash.data::SQLConnection/internalOpen()\n    at flash.data::SQLConnection/open()\n    at com.galleons.util::MyDB()[/Users/luca/Documents/Adobe Flash Builder 4.5/Galleons/src/com/galleons/util/MyDB.as:24]\n</code></pre>\n"},{"tags":["android","database","sqlite","sqlite3","database-connection"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":36,"score":1,"question_id":13288609,"title":"Issue opening sqlite database connection in Android","body":"<p>In some cases when I try to open my sqlite database with the follownig code:</p>\n\n<pre><code>  dbManager.open();\n</code></pre>\n\n<p>where the method is shown below:</p>\n\n<pre><code>  SQLiteDatabase mDb;\n  DbHelper mDbHelper;\n\n   public void open(){  \n        mDb=mDbHelper.getWritableDatabase();\n   }\n</code></pre>\n\n<p>I obtain this error:</p>\n\n<pre><code>11-08 12:39:25.760: E/SQLiteDatabase(5603): close() was never explicitly called on database '/data/data/act.myactivity/databases/seasonDb' \n11-08 12:39:25.760: E/SQLiteDatabase(5603): android.database.sqlite.DatabaseObjectNotClosedException: Application did not close the cursor or database object that was opened here\n11-08 12:39:25.760: E/SQLiteDatabase(5603):     at android.database.sqlite.SQLiteDatabase.&lt;init&gt;(SQLiteDatabase.java:1980)\n11-08 12:39:25.760: E/SQLiteDatabase(5603):     at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:977)\n11-08 12:39:25.760: E/SQLiteDatabase(5603):     at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:956)\n11-08 12:39:25.760: E/SQLiteDatabase(5603):     at android.database.sqlite.SQLiteDatabase.openOrCreateDatabase(SQLiteDatabase.java:1021)\n11-08 12:39:25.760: E/SQLiteDatabase(5603):     at android.app.ContextImpl.openOrCreateDatabase(ContextImpl.java:753)\n11-08 12:39:25.760: E/SQLiteDatabase(5603):     at android.content.ContextWrapper.openOrCreateDatabase(ContextWrapper.java:221)\n11-08 12:39:25.760: E/SQLiteDatabase(5603):     at android.database.sqlite.SQLiteOpenHelper.getWritableDatabase(SQLiteOpenHelper.java:149)\n11-08 12:39:25.760: E/SQLiteDatabase(5603):     at host.database.DB_DatabaseManager.open(DB_DatabaseManager.java:136)\n11-08 12:39:25.760: E/SQLiteDatabase(5603):     at host.framework.ServicePromemoria.checkUnSyncInsert(ServicePromemoria.java:265)\n11-08 12:39:25.760: E/SQLiteDatabase(5603):     at host.framework.ServicePromemoria$1.run(ServicePromemoria.java:59)\n11-08 12:39:25.760: E/SQLiteDatabase(5603):     at java.util.Timer$TimerImpl.run(Timer.java:284)\n</code></pre>\n\n<p>I think this is related to the attempt to open database that has not been closed.</p>\n\n<p>p.s.: the method for closing database connection is :</p>\n\n<pre><code> public void close(){\n        mDb.close();\n}\n</code></pre>\n\n<p>This is the core of checkUnSyncInsert():</p>\n\n<pre><code>  dbManager.open(); //here error occurs\n    String getUserQuery = \"SELECT * FROM user\";\n    Cursor c = dbManager.RawQuery(getUserQuery, null);\n\n    if(c.getCount() != 0)\n    {\n        try{\n            c.moveToFirst();\n            usr = c.getString(0).toString();\n            pwd = c.getString(1).toString();\n            Log.i(\"USERNAME: \"+pwd,\"PASSWORD: \"+pwd);\n            c.close();\n        }catch(Exception ex)\n        {\n            ex.printStackTrace();\n            c.close();\n        }\n    }\n    else\n\n    dbManager.close();\n</code></pre>\n\n<p>The error occurs at first line (dbManager.open())</p>\n"},{"tags":["sqlite","air"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":235,"score":1,"question_id":7257317,"title":"AIR - What version of SQLite is supported","body":"<p>What version of SQLite does Air support?</p>\n"},{"tags":["iphone","xml","xcode","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1014,"score":1,"question_id":5822011,"title":"Update and Insert Bulk XML Data into my SQLite Database","body":"<p>I want to download a hosted XML document into my app's bundled SQLite database, updating existing rows, or inserting new rows of data as necessary.</p>\n\n<p>My thoughts as far as app design are this:</p>\n\n<ol>\n<li><p>App loads.</p></li>\n<li><p>App looks for a connection to XML Host.</p></li>\n<li><p>If connection exists, App consumes the hosted XML document, updating row and column data in the bundled SQLite database, adding any new rows if new rows exist in the XML document. If no connection exists, App uses the previously stored data in the SQLite database.</p></li>\n<li><p>User has a merry time using the app, oblivious to the state of the data.</p></li>\n</ol>\n\n<p>Is this the right approach? Is there a better way to do this? How do I do bulk inserts and updates from an XML document into my SQLite database. I've only seen examples of how to do this row by row. My data is hundreds of rows by 10 columns.</p>\n\n<p>Any insight is greatly appreciated.\nlq</p>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":28,"score":-2,"question_id":13284652,"title":"Android Sqlite getReadableDatabase","body":"<p>Can any body help me please. I'm doing timetable application, so working with database. </p>\n\n<p>My program crashes here:</p>\n\n<pre><code>DatabaseHandler dbHelper = new DatabaseHandler(this.getApplicationContext());\n\n                SQLiteDatabase db = dbHelper.getReadableDatabase(); //&lt;---------------\n\n                Cursor cur=null;\n                 cur = dbHelper.fetchAll(db, \"SELECT * FROM timetable\");\n\n                db.close();\n</code></pre>\n\n<p>My DatabaseHandler class is here:</p>\n\n<pre><code>public DatabaseHandler (Context context) {\n\n    super(context,DATABASE_NAME, null,DATABASE_VERSION);\n\n}\n\n//Creating Table\n@Override\npublic void onCreate(SQLiteDatabase db){\n\n    String CREATE_TABLE = \"CREATE TABLE\" + TABLE_NAME + \"(\"\n            + KEY_ID + \"INTEGER PRIMARY KEY,\" + KEY_SUBJECT_NAME\n            + \"TEXT,\" + KEY_SUBJECT_CODE + \"TEXT,\" + KEY_SUBJECT_VENUE\n            + \"TEXT,\" + KEY_TIME + \"INTEGER,\" + KEY_DAY + \"INTEGER\" + \")\";\n\n    db.execSQL(CREATE_TABLE);\n}\n\n//Upgrading Database\n@Override\npublic void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion){\n\n    // Drop older table if existed\n    db.execSQL(\"DROP TABLE IF EXISTS \" + TABLE_NAME);\n\n    // Create tables again\n    onCreate(db);\n\n}\n\n /**\n * All CRUD(Create, Read, Update, Delete) Operations\n */\n\n//Insert data\npublic void insertValues(int day, int time, String name, String code, String venue) {\n\n    SQLiteDatabase db = this.getWritableDatabase();\n\n    ContentValues values = new ContentValues();\n\n    values.put(KEY_DAY, day);\n    values.put(KEY_TIME, time);\n    values.put(KEY_SUBJECT_NAME, name);\n    values.put(KEY_SUBJECT_CODE, code);\n    values.put(KEY_SUBJECT_VENUE, venue);\n\n    db.insert(TABLE_NAME, null, values);\n\n    //closing the database connection\n    db.close();\n}\n\npublic Cursor fetchAll(SQLiteDatabase db, String query){\n\n    Cursor cursor = db.rawQuery(query, null);\n      db.close();\n    return cursor;\n\n}\n</code></pre>\n\n<p>}</p>\n\n<p>I would be more than happy If someone could help me, cause this is my Final Year Project :)</p>\n"},{"tags":["android","sqlite","auto-increment"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":45,"score":1,"question_id":13272116,"title":"Update the ID of an Item in the SQLite database","body":"<p>I still can not solve the issue of update in database.</p>\n\n<p>My application has two lists defined in two activities. \nList A has positions and List B items.\nThe data in both lists are saved to and uploaded from the database.\nAs it could be seen from the code, I don't have any problems with deleting.</p>\n\n<p>When I delete a position in List A, the set of items in List B that belong to this position are deleted as well. </p>\n\n<p>There is a problem with update: the set of items after the deleted ones should be autoincremented but it only works for the first line which comes after the deleted item, others stays unchanged. </p>\n\n<p>Here is my code: </p>\n\n<pre><code>public void deleteItemsFromProduct(long nomer) {\n\n    cursor = DataSource.queryAllinItems();\n\n    if (cursor != null) {\n\n        String [] pat = new String[] { String.valueOf(nomer) }; \n        db.delete(DBHelper.TABLE_ITEMS, DBHelper.COLUMN_NOMER + \"=?\", pat);\n\n\n    for (int i=0; i&lt;cursor.getCount(); i++){            \n    ContentValues cv = new ContentValues();\n    cv.put(DBHelper.COLUMN_NOMER, nomer);\n\n    pat = new String[] { String.valueOf(nomer+1) };\n\n    int updCount = db.update(DBHelper.TABLE_ITEMS, cv, DBHelper.COLUMN_NOMER + \"=?\", pat);\n\n    Log.d(LOG_TAG, \"updated rows count = \" + updCount); \n    }           \n\n\n    if (cursor.moveToFirst()) {\n\n        Log.d(LOG_TAG, \"--- Left in the table for items and prices: ---\");\n\n        idColIndex = cursor.getColumnIndex(DBHelper.COLUMN_ITEM_ID);\n        nameColIndex = cursor.getColumnIndex(DBHelper.COLUMN_ITEM);\n        priceColIndex = cursor.getColumnIndex(DBHelper.COLUMN_PRICE);\n        nomerColIndex = cursor.getColumnIndex(DBHelper.COLUMN_NOMER);\n\n        do {\n            Log.d(LOG_TAG, \"item id = \" \n            + cursor.getInt(idColIndex)\n            + \", item name = \"\n            + cursor.getString(nameColIndex)\n            + \", item price = \"\n            + cursor.getInt(priceColIndex)\n            + \", product nomer = \"\n            + cursor.getInt(nomerColIndex));\n\n        } while (cursor.moveToNext());\n    } else {\n        Log.d(LOG_TAG, \"Cursor is null\");\n\n        cursor.close();\n\n        }\n    }\n</code></pre>\n\n<p>and here Log</p>\n\n<pre><code>11-07 14:37:49.862: D/(1813): item id = 89, item name = б, item price = 0, product nomer = 0\n11-07 14:37:49.862: D/(1813): item id = 90, item name = т, item price = 1, product nomer = 1\n11-07 14:37:49.922: D/(1813): item id = 91, item name = м, item price = 2, product nomer = 2\n11-07 14:37:58.442: D/(1813): MainActivity: onResume()\n11-07 14:38:05.382: D/(1813): --- Delete from table for products: ---\n11-07 14:38:05.465: D/(1813): deleted row id = 72, name = х, image = /mnt/sdcard/download/sliced-bread-icon.png\n11-07 14:38:05.712: D/(1813): updated rows count = 1\n11-07 14:38:05.752: D/(1813): updated rows count = 0\n11-07 14:38:05.752: D/(1813): --- Left in the table for items and prices: ---\n11-07 14:38:05.804: D/(1813): item id = 90, item name = т, item price = 1, product nomer = 1\n11-07 14:38:05.822: D/(1813): item id = 91, item name = м, item price = 2, product nomer = 2\n11-07 14:38:10.416: D/(1813): MainActivity: onPause()\n11-07 14:38:10.622: D/(1813): ChildActivity: onCreate()\n11-07 14:38:10.723: D/(1813): item id = 90, item name = т, item price = 1, product nomer = 0\n</code></pre>\n\n<p>When I delete the product with the id 72, it stays first in the list A (nomer 0) item in the list B with id 89 is also deleted. Item with id=90 gets nomer=0 since its parent takes first position in the list A. But item with id=91 stays nomer=2, but it should be nomer=1. So, autoincrement works only for the next item after deleted, all others stay unchanged.</p>\n"},{"tags":["android","query","sqlite","optimization","select"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":42,"score":2,"question_id":13278376,"title":"Android SQLite Select query speed","body":"<p>I would like help speeding up a fairly simple select query in my <code>SQLite</code> database.  </p>\n\n<p>The query is searching a table of approx 6500 rows and currently returns in about 600ms.  I don't know if that is acceptable or not, but I had hoped that it would be faster than that.  I will be putting this into an <code>AsyncTask</code> eventually, but wanted to optimize as much as possible.  In the code snippet below you can see what I have tried.<br>\nKEY_songPath is indexed.</p>\n\n<pre><code>public ArrayList&lt;Song&gt; getCurrentDirSongs(String currentDir) {\nlong startTime = System.currentTimeMillis();\nArrayList&lt;Song&gt; songsList = new ArrayList&lt;Song&gt;();\n\nString selectQuery = \"\";\nint strLength = currentDir.length();\n    //selectQuery = \"SELECT  * FROM \" + TABLE_SONGS + \" WHERE (\" + KEY_songPath + \" &gt;= '\" + currentDir + \"')\";\n    //selectQuery = \"SELECT  * FROM \" + TABLE_SONGS + \" WHERE (\" + KEY_songPath + \" GLOB '\" + currentDir + \"*')\";\n    //selectQuery = \"SELECT  * FROM \" + TABLE_SONGS + \" WHERE (\" + KEY_songPath + \" LIKE '\" + currentDir + \"%')\";\n    selectQuery = \"SELECT  * FROM \" + TABLE_SONGS + \" WHERE \" + KEY_ID +\n                    \" IN (SELECT \" + KEY_ID +\" FROM \"+ TABLE_SONGS + \" WHERE length(\" + KEY_songPath + \")&gt;= \"+ strLength +\") AND \" + \n                    \"(\" + KEY_songPath + \" LIKE '\" + currentDir + \"%')\";\n\nSQLiteDatabase db = this.getReadableDatabase();\n\nCursor cursor = db.rawQuery(selectQuery, null);\n\n// looping through all rows and adding to list\nif (cursor.moveToFirst()) {\n    do {\n        Song song = new Song();\n        song.setSongTitle(cursor.getString(1));\n        song.setSongPath(cursor.getString(2));\n        song.setSongArtist(cursor.getString(3));\n        song.setSongAlbum(cursor.getString(4));\n        song.setTrackNumber(cursor.getString(5));\n        song.setID(Integer.parseInt(cursor.getString(6)));\n        song.setAlbumID(Integer.parseInt(cursor.getString(7)));\n        song.setArtistID(Integer.parseInt(cursor.getString(8)));\n        song.setSongCheckedStatus(Boolean.parseBoolean(cursor.getString(9)));\n        song.setSongPosition(Integer.parseInt(cursor.getString(10)));\n        song.setSongDuration(Integer.parseInt(cursor.getString(11)));\n        // Adding song to list\n        songsList.add(song);\n    } while (cursor.moveToNext());\n}\nlong estimatedTime = System.currentTimeMillis() - startTime;\nLog.d(\"AMCDatabase Database Handler: \", \"SongsList.size(): \"+ getSongsCount(\"SongsList\") + \" Time: \" + estimatedTime + \"ms\");\n// return contact list\nreturn songsList;\n</code></pre>\n\n<p>}</p>\n\n<p>This has returned with the following result:\nSongsList.size(): 6390 Time: 588ms</p>\n\n<p>Any help gratefully received!  </p>\n\n<p>P.S This may all be a non-issue - is that time of a second acceptable to query and 6000 values to an <code>ArrayList</code>?</p>\n"},{"tags":["javascript","android","sqlite","titanium","titanium-mobile"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":97,"score":0,"question_id":13282372,"title":"Sqlite table rows not getting deleted","body":"<p>I am creating an Android Application using Appcelerator Titanium. The scenario is that, I have to fetch data from the local SQLite database and upload it to the server database. After one row gets uploaded to the server, the particular row's data should get deleted from the local database. The problem which I am facing is that, the data is getting uploaded, but sometimes the row is not getting deleted from the local database, as a matter of fact, there are instances when the same data is getting uploaded to the database for multiple times. Sometimes after deletion of the data, I am getting a <strong>get filed slot from row 0 col 0 failed /get filed slot from row 0 col 1 failed</strong> pointer error. I have a SQLite table containing <strong>form data</strong>, and another one containing <strong>image data</strong>.</p>\n\n<p>This is the function which I am using to upload <strong>Form Data</strong>:</p>\n\n<pre><code> /*Upload Form Data*/\nvar boolCheck = 'true';\nfunction uploadData() {\n    var db = Ti.Database.open('DataEntry.sqlite');\n    db.execute('CREATE TABLE IF NOT EXISTS formData (\"unique_id\" VARCHAR PRIMARY KEY  NOT NULL , \"form_xml_id\" INTEGER, \"dateTime_stamp\" DATETIME, \"data\" TEXT, \"user_id\" INTEGER)');\n    var rows = db.execute('SELECT  count(*) as data FROM formData');\n    while (rows.isValidRow()) {\n        var id = rows.fieldByName('data');\n        rows.next();\n    };\n    /*alert(id);*/\n    db.close();\n    /*checking data is exists in the table or not*/\n    if (id &gt; 0) {\n        var db = Ti.Database.open('DataEntry.sqlite');\n        var rows = db.execute('SELECT  * FROM formData');\n        var dataArray = [];\n\n        while (rows.isValidRow()) {\n            guid_1 = rows.fieldByName('unique_id');\n            var findex_1 = rows.fieldByName('form_xml_id');\n            var fdata_1 = rows.fieldByName('data');\n            var userid_1 = rows.fieldByName('user_id');\n\n            var submiturl = Ti.App.information.base_url + \"iPhoneDataEntryDataService.svc/form_data\";\n            var client = Ti.Network.createHTTPClient({\n                /* function called when the response data is available*/\n                onload : function(e) {\n\n                /*Ti.API.info(\"Received text: \" + this.responseText);\n                    Delete formdata from table*/\n                    var query = \"DELETE FROM formData where form_xml_id='\" + findex_1 + \"'\";\n\n                    var rows = db.execute(query);\n\n                    activityIndicator.hide();\n\n                },\n                /* function called when an error occurs, including a timeout */\n                onerror : function(e) {\n                    activityIndicator.hide();\n                    Ti.API.debug(e.error);\n                    activityIndicator.hide();\n                    myAlert.message = \"Error in network connection in data. Please try again.\";\n                    myAlert.show();\n                },\n                timeout : 5000 /* in milliseconds*/\n            });\n            postdata = \"{\\\"form_xml_id\\\":\\\"\" + findex_1 + \"\\\",\\\"datetime_stamp\\\":\\\"\" + datetime + \"\\\",\\\"unique_id\\\":\\\"\" + guid_1 + \"\\\",\\\"version_id\\\":\\\"\" + Titanium.App.version + \"\\\",\\\"data\\\":\\\"\" + fdata_1 + \"\\\",\\\"user_id\\\":\\\"\" + userid_1 + \"\\\"}\";\n            client.open(\"POST\", submiturl, true);\n            client.setRequestHeader(\"Content-type\", \"application/json\");\n            client.send(postdata);\n            rows.next();\n        };\n    } else {\n        /*(\"no data is available\");*/\n        boolCheck = 'false';\n    }\n    uploadimagedata();\n}\n</code></pre>\n\n<p>This is the function which I am using to upload <strong>Image Data</strong>:</p>\n\n<pre><code>/*upload imagedata*/\nfunction uploadimagedata() {\n    activityIndicator.show();\n    var db = Ti.Database.open('DataEntry.sqlite');\n    db.execute('CREATE TABLE IF NOT EXISTS image_info (\"image_id\" INTEGER PRIMARY KEY  NOT NULL , \"unique_id\" VARCHAR NOT NULL , \"tag\" VARCHAR, \"image_byte\" varchar)');\n    var rows = db.execute('SELECT  count(*) as data FROM image_info');\n    while (rows.isValidRow()) {\n        var id = rows.fieldByName('data');\n        rows.next();\n    };\n\n    /*alert(id);*/\n    db.close();\n    /*checking data is exists in the table or not*/\n    if (id &gt;= 1) {\n        alert(id);\n        var db = Ti.Database.open('DataEntry.sqlite');\n        var rows = db.execute('SELECT  rowid,image_id,unique_id,tag,image_byte FROM image_info');\n        var image;\n        var dataArray = [];\n\n        while (rows.isValidRow()) {\n            image_id = rows.fieldByName('image_id');\n            var guid_2 = rows.fieldByName('unique_id');\n            var tag = rows.fieldByName('tag');\n            image = rows.fieldByName('image_byte');\n            var userid_1 = rows.fieldByName('user_id');\n            var row_id= rows.fieldByName('rowid');\n            alert(row_id);\n            var iurl = Ti.App.information.base_url + \"account/image.ashx?mode=ad&amp;uqid=\" + guid_2 + \"&amp;tag=\" + tag + \"\";\n            /*Ti.API.info(\"url: \" + iurl);*/\n            db.close();\n            clientPhotoUpload = Ti.Network.createHTTPClient({\n                onload : function(e) {\n                     var db_d = Ti.Database.open('DataEntry.sqlite');\n                    alert(\"Received text: \" + this.responseText);\n                    alert(\"Received code: \" + this.status);\n\n                    /*Ti.API.info(\"uploaded image id\" + image_id);*/\n                    /*Delete data from image_info table*/\n                    var query = \"DELETE FROM image_info where image_id=\"+image_id+\"\";\n                    var rows = db_d.execute(query);\n                    db_d.close();\n                },\n                /* function called when an error occurs, including a timeout*/\n                onerror : function(e) {\n                    Ti.API.debug(e.error);\n                    activityIndicator.hide();\n                    /*alert('Image sending failed. Please try again.');*/\n                },\n                timeout : 10000 /* in milliseconds */\n            });\n            var boundary = '---------------------------14737809831466499882746641449';\n\n            var body = \"--\" + boundary + \"\\r\\n\" + \"Content-Disposition: form-data; name=\\\"userfile\\\"; filename=\\\"image.jpg\\\"\\r\\n\";\n\n            body += \"Content-Type: application/octet-stream\\r\\n\\r\\n\";\n            var fullContent = body + image + \"\\r\\n--\" + boundary + \"--\\r\\n\";\n            clientPhotoUpload.open(\"POST\", iurl, true);\n            clientPhotoUpload.setRequestHeader(\"Connection\", \"Keep-Alive\");\n            clientPhotoUpload.setRequestHeader(\"Content-type\", \"multipart/form-data; boundary=\\\"\" + boundary + \"\\\"\");\n            clientPhotoUpload.send(fullContent);\n            clientPhotoUpload.setRequestHeader(\"Connection\", \"close\");\n            rows.next();\n\n        };\n        activityIndicator.hide();\n        alert(\"Data uploaded successfully\");\n\n    } else {\n        activityIndicator.hide();\n        alert(id);\n        if(boolCheck == 'false'){\n            alert(\"No data is available for upload.\");\n        }\n    }\n\n}\n</code></pre>\n\n<p>Where am I going wrong?</p>\n"},{"tags":["android","database","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":26,"score":0,"question_id":13283975,"title":"use group by and having in android","body":"<p>how we can use group by and having in android?\ni want to use this query :</p>\n\n<pre><code>select sum(Quantity) from tbl1 group by name having id=lastid\n</code></pre>\n\n<p>and get result to use in other place of my project\ni saw in one page for groupy by use this code:</p>\n\n<pre><code>return mDd.query(DATABASE_TABLE,new String[] {\n    KEY_ROWID,\n    KEY_TITLE,\n    KEY_DATAS,\n    KEY_BODY,\n    KEY_DATE_TIME\n},null,null,KEY_TITLE,null,null);\n</code></pre>\n\n<p>but i don t know what should i do for having and sum()!!</p>\n"},{"tags":["android","sqlite","date"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13283044,"title":"How to show data for each week in android?","body":"<p>I have a problem in displaying the data in my application for each week?</p>\n\n<p>I can show the data by day using this code in my SQLite</p>\n\n<pre><code>SELECT substr(_id, 1, 7) as _id, sum(value) as total FROM pd_table GROUP BY _id order by _id desc\n</code></pre>\n\n<p><img src=\"http://i.stack.imgur.com/aFyFx.jpg\" alt=\"This is the output after I execute the code above\"></p>\n\n<p>I was also able to display the data based on the month by using this code</p>\n\n<pre><code>SELECT substr(_id, 1, 10) as _id, sum(value) as total FROM pd_table GROUP BY _id order by _id desc\n</code></pre>\n\n<p><img src=\"http://i.stack.imgur.com/XGHdh.jpg\" alt=\"This is the output after I execute the code above\"></p>\n\n<p>_id using SimpleDateFormat (\"yyyy-MM-dd HH: mm: ss\")</p>\n\n<p>now i want to display it every week. How?</p>\n\n<p>Any answer is very useful for me :)</p>\n"},{"tags":["sqlite","actionscript","air"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":26,"score":0,"question_id":13231555,"title":"Time calculation by using sqlite and Adobe AIR","body":"<p>Now I'm working on employee  timesheet application by using SQlite and Adobe AIR (Action script). I am struggling to calculate the Time interval calculation from sqlite\n <em>(i.e every work of an employee should be updated into sqliteDB by hour basis.for example an employee worked  1:50 PM to 3:30 PM, so totally he worked 1 Hr 40 mins).</em>\nMy question is, how I can update the time into SQLite and process?</p>\n"},{"tags":["ios","sql","database","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":24,"score":1,"question_id":13282272,"title":"SQLite DateTime columns accepting any value... normal?","body":"<p>I have an iOS app that takes use of SQLite. I use FireFox and the plugin SQLite Manager for managing the database.</p>\n\n<p>Now I have a table like this:</p>\n\n<pre><code>CREATE TABLE \"someTable\" (\"id\" INTEGER NOT NULL , \"timeOfEvent\" DATETIME NOT NULL)\n</code></pre>\n\n<p>I am however able to input practically any value I want into the DateTime column like so:</p>\n\n<pre><code>INSERT INTO sometable (id, timeOfEvent) VALUES (1,'2012-99-99')\nINSERT INTO sometable (id, timeOfEvent) VALUES (2,'yyyy-mm-dd')\n...etc\n</code></pre>\n\n<p>Why is this possible?</p>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":27,"score":1,"question_id":13279952,"title":"Sqlite comparing now to datetime is comparing date only","body":"<p>I am using sqllite for android and I have a the completedDate in the db in the following format </p>\n\n<pre><code>2012-06-26 17:20\n</code></pre>\n\n<p>I am trying to get the all the rows of the Task table whose completed date is in the future (greater than now) </p>\n\n<p>I do this</p>\n\n<pre><code>select * from Task where completedDate &gt; datetime ('now') \n</code></pre>\n\n<p>The problem is that the comparison seems to be based on date only without the time stamp. I am getting all the rows with completed date that is starting from tomorrow. However if it is the date as today (regardless of the time) then I don't get the row</p>\n\n<p>Why is that? Any pointet</p>\n"},{"tags":["sqlite","random","safari","phonegap"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":319,"score":2,"question_id":5588563,"title":"Does sqlite in webkit support a RANDOM() function?","body":"<p>I'm coding a Phonegap based app for iOS, and am trying to return 10 random rows from my Safari webkit database via Javascript. My query is:</p>\n\n<pre><code>queryString = \"SELECT * FROM SBA_TABLE\n WHERE (cat_gastrointestinal = 1)\n AND (answered_correctly = 0 OR answered_correctly = 1 OR answered_correctly = 2)\n ORDER BY RANDOM() LIMIT 10\";\n\ntx.executeSql(queryString, [], querySuccess5, errorCB);\n</code></pre>\n\n<p>This works if I omit the 'ORDER BY RANDOM()' statement which leads me to believe this is not supported. Is there a RANDOM method I could use, or do I have to generate 10 random numbers and make 10 database calls?! Thanks, Nick</p>\n"},{"tags":["sqlite","database-design","sqlite3"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":19,"score":0,"question_id":13280800,"title":"Data within data in sqlite?","body":"<p>I basically have a varchar(255) content, 'content type a', that's loaded at random locations in various longtext contents, 'content type b'. I'm not sure if it's possible to describe the relationship, that content type a is in content type b, using only sqlite?</p>\n\n<p>If it isn't possible to show that relationship, I obviously just need to handle with some kind of regex pattern, or ignore half of the relationship and make the varchar content a permanent part of the longtext content.</p>\n\n<p>Here's a outline:</p>\n\n<pre><code>longtext content table:\nlt_id = 1\ntitle = longtext content a branch 1\ncontent = string 1 . \"varchar content where vc_id = m\" . string 2\nlt_id = 2\ntitle = longtext content a branch 2\ncontent =  \"varchar content where vc_id = n\" . string 1 . string 2\n\nvarchar content table:\nvc_id = 1\ntitle = varchar content a\ncontent = \"foo\"\nvc_id = 2\ntitle = varchar content b\ncontent = \"bar\"\n...\nvc_id = n\ntitle = varchar content n\ncontent = \"goo\"\n</code></pre>\n"},{"tags":["android","sqlite","ormlite"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":30,"score":2,"question_id":13280064,"title":"loading static data into SqlLite DB when Android app is installed","body":"<p>We have several tables in our app and each one is per populated via  a RAW sql file when the db is created,  ie app installed first time.  ie  using </p>\n\n<pre><code>executeSqlScript( dao, sqlFile )\n</code></pre>\n\n<p>We have 1 sql file for each table.  This is straight forward at the moment but as number of tables grows so too will the number of sql files.  Is there any better way to populate the database?  Would storing the static data in an XML file and deserializing this into Domain objects and persisting these via OrmLite be a better option or is there some other trick I am missing?</p>\n"},{"tags":["sql","database","sqlite","sqlite3"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":22,"score":2,"question_id":13280165,"title":"SQLite3 do a SELECT, order by multiple cross-table columns","body":"<p>I'm trying to produce a \"history/logs page\" out of 3 tables, tables looks like this:</p>\n\n<h2>TableA</h2>\n\n<pre><code>CreationDate\nModifDate\nLastAccessedDate\nFileName\n</code></pre>\n\n<h2>TableB</h2>\n\n<pre><code>Guid_TableA\nCreationDate\nModifDate\nLastAccessedDate\nFileName\n</code></pre>\n\n<h2>TableC</h2>\n\n<pre><code>Guid_TableA\nLastModifDate\nFileName\n</code></pre>\n\n<p>FWIW, despite the similarities in columns names, <strong>there's no relation between dates in these tables</strong>. The only valid column that related between them is <strong>Guid_TableA</strong></p>\n\n<h2>What I want is...</h2>\n\n<p>Select records &amp; order them by date. <strong>I'm trying to build an event log, so returning duplicated entries like this is valid</strong> (as long as results are ordered correctly by dates)</p>\n\n<pre><code>(TableA)  file-1.txt    '01/01/2012 00:00:00' (CreationDate)\n(TableA)  file-1.txt    '01/01/2012 00:00:01' (ModifDate)\n(TableB)  file-2.txt    '01/01/2012 00:00:02' (CreationDate)\n(TableA)  file-1.txt    '01/01/2012 00:00:03' (LastAccessedDate)\n</code></pre>\n\n<p>Hopefully my intention is clear; I basically want to select records ordered by date (that is, ordered against multiple cross-tables columns, <strong>including duplicated entries</strong>)</p>\n\n<p><strong>My question is:</strong> Is this possible? If so, how?</p>\n"},{"tags":["android","sqlite","locale"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":492,"score":1,"question_id":5404989,"title":"problem calling setLocale when creating a new db in android","body":"<p>i'm trying some db access code for the first time and i'm getting some errors and would\nappreciate some help. this is what is happening:</p>\n\n<p>1) i'm creating a new instance of SQLiteOpenHelper by calling this constructor:</p>\n\n<pre><code>public MyDbOpenHelper(Context context) {\n    super(context, \"some_name.db\", null, 1); \n}\n</code></pre>\n\n<p>the above instance is the variable myHelper used below</p>\n\n<p>2) i'm calling myHelper.getReadableDatabase()</p>\n\n<p>3) at this point Android calls my onCreate method. my implementation of this method \nbegins as follows:</p>\n\n<pre><code>public void onCreate(SQLiteDatabase db) {\n    db.setLocale(new Locale(\"en\"));\n    //...\n}\n</code></pre>\n\n<p>4) the above call does not complete. i get the following dump:</p>\n\n<p>BEGIN TRANSACTION  failed setting locale<br>\n   couldn't open some_name.db for writing (will try read-only):<br>\n   android.database.sqlite.SQLiteException: cannot start a transaction within a transaction<br>\n       &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at android.database.sqlite.SQLiteDatabase.native_setLocale(Native Method)<br>\n       &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at android.database.sqlite.SQLiteDatabase.setLocale(SQLiteDatabase.java:1751)<br>\n       &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at android.database.sqlite.SQLiteOpenHelper.getWritableDatabase(SQLiteOpenHelper...<br>\n       &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at android.database.sqlite.SQLiteOpenHelper.getReadableDatabase(SQLiteOpenHelper....<br></p>\n\n<p>it looks like since i'm trying to get a readable db when the db does not yet exist, so Android\ntries to create it and creates a writable db for the setLocale... and is that why\nit complains about \"transaction within transaction\"?\nhow is it supposed to be done? </p>\n\n<p>thanks, any help would be appreciated</p>\n"},{"tags":["android","sql","sqlite"],"answer_count":5,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":566,"score":1,"question_id":10491646,"title":"Importing SQL to SQLite","body":"<p>I have a database in sql format, and I need to make an sqlite copy in order to add it in an Android App I'm making.</p>\n\n<p>So far, I haven't got anything working for me. I tried to import the sql into SQLite Database Browser but it doesn't import properly, it always gives out an error statement. I tried creating a database then import the tables but it crashed.</p>\n\n<p>I tried using sqlite3 via Terminal (I'm using a Mac if that would make any difference), however the .import FILE TABLE format doesn't work, it says: \"Error: no such table: TABLE\". I tried creating an empty table using \"create table test42\" then \".import test.sql test42 and variants but it says \"Error: near \"test\": Syntax error\".</p>\n\n<p>I'm stuck. </p>\n\n<p>Any help would greatly help. Thanks.</p>\n"},{"tags":["php","database","excel","sqlite","data-manipulation"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":32,"score":-1,"question_id":13277142,"title":"Using PHP to manipulate data, transforming an SQLite database to an excel spreadsheet","body":"<p>I have tables such as tbl_building, tbl_rooms, tbl_lighting. </p>\n\n<p>Each have their tuples so that there can be many buildings, many rooms within buildings and many lighting items within rooms. This is structured by giving each of the buildings/rooms/lighting their own ID.</p>\n\n<p>One of the tasks that I'm trying to achieve is to display a list of lights, for each room within each building in an excel spreadsheet. </p>\n\n<p>Here is my code. It is obviously wrong but I can't get my head around outputting the data. </p>\n\n<pre><code>function getLights($buildingID, $d, $objPHPExcel, $status){\n\n        $objPHPExcel-&gt;getActiveSheet()-&gt;setCellValue($status[1].$status[2], 'Please Enter Hours Of Usage: ');\n        include(\"setText.php\");$status[2]++;\n\n        $groupStart = $status[1].$status[2];\n            $objPHPExcel-&gt;getActiveSheet()-&gt;setCellValue($status[1].$status[2], 'Lights Used:');\n            $status[1]++;\n            $objPHPExcel-&gt;getActiveSheet()-&gt;setCellValue($status[1].$status[2], 'Count');\n            $status[1]++;\n            $objPHPExcel-&gt;getActiveSheet()-&gt;setCellValue($status[1].$status[2], 'kWh/yr');\n            $status[1]++;\n            $objPHPExcel-&gt;getActiveSheet()-&gt;setCellValue($status[1].$status[2], 'Energy Saving kWh/yr');\n            $status[1]++;\n            $objPHPExcel-&gt;getActiveSheet()-&gt;setCellValue($status[1].$status[2], 'Saving(£)');\n            $status[1]++;\n            $objPHPExcel-&gt;getActiveSheet()-&gt;setCellValue($status[1].$status[2], 'Cost');\n            $status[1]++;\n            $objPHPExcel-&gt;getActiveSheet()-&gt;setCellValue($status[1].$status[2], 'Change To...');    \n        $groupEnd = $status[1].$status[2];\n\n        include(\"setHeadersText.php\");groupFill($objPHPExcel, $groupStart, $groupEnd, \"calc\");\n        $status[2]++;$status[1] = chr(65);\n\n        $query = \"SELECT r_id FROM tbl_roomDesc WHERE b_id = '$buildingID'\";\n        $result = $d-&gt;query($query);\n        $rooms = array();\n\n        array_push($rooms, 2);//echo \"&lt;br/&gt;\".$row['r_id'];\n\n\n\n            //echo \"&lt;br/&gt;Building:\";\n        /*while($row = $result-&gt;fetchArray(SQLITE3_ASSOC)){ \n            array_push($rooms, $row['r_id']);//echo \"&lt;br/&gt;\".$row['r_id'];\n        }*/\n\n        //echo \"&lt;br/&gt;\";\n        //var_dump($rooms);\n\n        $lightArray = array(\n            \"CFL\",\n            \"CFL Equivalent Halogen 100w spot\",\n            \"CFL Equivalent Halogen 50w spot\",\n            \"Double d\",\n            \"Halogen 100w spot\",\n            \"Halogen 50w spot\",\n            \"PL\",\n            \"T12 Single 4ft\",\n            \"T12 Single 5ft\",\n            \"T12 Single 6ft\",\n            \"T12 Single 8ft\",\n            \"T12 Twin 4ft\",\n            \"T12 Twin 5ft\",\n            \"T12 Twin 6ft\",\n            \"T12 Twin 8ft\",\n            \"T5 Quad 2ft\",\n            \"T5 Quad 4ft\",\n            \"T5 Single 4ft\",\n            \"T5 Single 5ft\",\n            \"T5 Triple 2ft\",\n            \"T5 Triple 4ft\",\n            \"T5 Triple 5ft\",\n            \"T5 Twin 2ft\",\n            \"T5 Twin 4ft\",\n            \"T5 Twin 5ft\",\n            \"T8 Quad 2ft\",\n            \"T8 Quad 4ft\",\n            \"T8 Single 4ft\",\n            \"T8 Single 5ft\",\n            \"T8 Single 6ft\",\n            \"T8 Twin 2ft\",\n            \"T8 Twin 4ft\",\n            \"T8 Twin 5ft\",\n            \"T8 Twin 6ft\", \n            \"Tungsten 60w\",\n            \"Other\"\n            );\n\n        //echo sizeof($lightArray);\n\n        //for each room, get quant wattage and hours of each light referenced by the room id\n\n        echo sizeOf($rooms);\n        echo \"&lt;br/&gt;\";\n        for($i=0; $i&lt;sizeof($rooms);$i++){\n\n            //set empty arrays\n            $size = 36;\n            $lightQuantityCount = array_fill(0, $size, 0);\n            $lightWattageCount = array_fill(0, $size, 0);\n            $lightHoursCount = array_fill(0, $size, 0);\n\n            //get all lighting data of particular room\n            $query2 = \"SELECT * FROM tbl_lightingData WHERE r_id = '$rooms[$i]'\";\n            $result2 = $d-&gt;query($query2);\n            $row2= $result2-&gt;fetchArray(SQLITE3_ASSOC);\n\n            //for each light type in the lightarray chechk if light type from query == light type in array, if so add quantity, wattage and hours to arrays\n\n\n            while($row2=$result2-&gt;fetchArray(SQLITE3_ASSOC)){\n\n                echo \"&lt;br/&gt;Room ID: \".$rooms[$i].\"&lt;br/&gt;\";\n                $lightID = $row2['l_id'];\n                $lightType = $row2['lightType'];\n                $lightQuantity = $row2['lightQuantity'];\n                $lightWattage = $row2['lightWattage'];\n                $lightHours = $row2['lightHours'];\n                echo \"Light Profile:&lt;br/&gt;Light ID:  \".$lightID.\"&lt;br/&gt;Light Type:  \".$lightType.\"&lt;br/&gt;Light Wattage:  \".$lightWattage.\"&lt;br/&gt;Light Hours:  \".$lightHours.\"&lt;br/&gt;\";\n\n                for($j=0; $j&lt;sizeof($lightArray); $j++){\n                    if($lightType == $lightArray[$j]){\n                        echo \"&lt;br/&gt;MATCH&lt;br/&gt;\";\n                        $lightQuantityCount[$j] = $lightQuantityCount[$j] + $lightQuantity;\n                        $lightWattageCount[$j] = $lightWattage;\n                        $lightHoursCount[$j] = $lightHoursCount[$j] + $lightHours;\n                    }\n                    else{\n                        echo \"&lt;br/&gt;NO MATCH&lt;br/&gt;\";\n                    }\n                }\n            }\n\n            //echo\"&lt;br/&gt;ARRAY DUMP START:&lt;br/&gt;\";\n            //var_dump($lightQuantityCount);\n            //echo\"&lt;br/&gt;ARRAY DUMP END:&lt;br/&gt;&lt;br/&gt;\";\n\n            echo \"&lt;br/&gt;ADFSDFADFA : \".sizeof($lightQuantityCount);\n            echo \"&lt;br/&gt;ADFSDFADFA : \";\n\n            for($k=0; $k&lt;sizeof($lightQuantityCount); $k++){\n\n                if($lightQuantityCount[$k] != 0){\n\n                    echo \"&lt;br/&gt;Light Type: \".$lightArray[$k].\"&lt;br/&gt;\";\n                    echo \"Light Quantity Count: \".$lightQuantityCount[$k].\"&lt;br/&gt;\";\n                    echo \"Wattage Count: \".$lightWattageCount[$k].\"&lt;br/&gt;\";\n                    echo \"Hours Count: \".$lightQuantityCount[$k].\"&lt;br/&gt;\";\n\n                    include(\"setText.php\");$status[2]++;\n\n                    $groupStart = $status[1].$status[2];\n                        $objPHPExcel-&gt;getActiveSheet()-&gt;setCellValue($status[1].$status[2], $lightArray[$k]);\n                        $status[1]++;\n                        $objPHPExcel-&gt;getActiveSheet()-&gt;setCellValue($status[1].$status[2], $lightQuantityCount[$k]);\n                        $status[1]++;\n\n                        $calc = $lightWattageCount[$k] * $lightQuantityCount[$k];\n                        $calc2 = $calc / 1000;\n\n                        $objPHPExcel-&gt;getActiveSheet()-&gt;setCellValue($status[1].$status[2], $calc2);\n                    $groupEnd = $status[1].$status[2];\n\n                    include(\"setHeadersText.php\");groupFill($objPHPExcel, $groupStart, $groupEnd, \"calc\");\n                    $status[2]++;$status[1] = chr(65);\n                }\n            }\n        }\n\nreturn $status;\n</code></pre>\n\n<p>}</p>\n\n<p>Comment for more information, thanks</p>\n\n<p>Chris</p>\n"},{"tags":["r","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13267771,"title":"how to deal with different data type between R and sqlite in a simple way?","body":"<p>data is a data.frame,there is a column <code>tdate</code>  whose type is character,now i want write the data into sqlite,</p>\n\n<pre><code>require(RSQLite)\ndbWriteTable(con2, name=\"quote\",value=data,row.names=FALSE,append=TRUE)\n</code></pre>\n\n<p>there is a still problem ,tdata is date type in sqlite,after i write the data into sqlite  database ,i'll   change the field <code>tdata</code> in table quote  into data type,is there a simple way to do that? </p>\n"},{"tags":["android","database","sqlite","sqlite3","adb"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":226,"score":-1,"question_id":11935491,"title":"Android Cannot see anything inside data folder","body":"<p>i am trying to see SQLite database in anyway possible (I have a rooted device). I tried File explorer in eclipse but i cannot see anything under data folder. Can anybody please help me with this\nI tried to search everywhere but couldnt find a clear solution. \nI also tried adb shell but i cannot see list of things inside data folder using \"ls\" command.\nerror\nOpendir failed. Permission denied</p>\n\n<p>I am guessing this has something to do with rights but how can i fix it</p>\n\n<p>Please help</p>\n"},{"tags":["django","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":36,"score":3,"question_id":13052202,"title":"Hide Items from Django Query","body":"<p>We have a webapp that has several product names in the django db.  The db is queried for this table(?) and populates a drop down with these product names.  I would like to hide these product names from the query/drop down without removing them from the DB.  </p>\n\n<p>Is there a way I can do this in sqlite?</p>\n\n<p>I've inherited the project from a team member who has since left and am 2 days into my learning of Django so any assistance is welcome!</p>\n"},{"tags":["android","sqlite","methods","textview","return"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13276027,"title":"How to reduce my codes?","body":"<p>I just want to ask if how am I going to reduce my codes. I'm new to android and I'm kind of still learning.</p>\n\n<pre><code>//passing data to item textview\npublic String getData() {\n    // TODO Auto-generated method stub\n\n    String[] columns = new String[]{ KEY_ITEMID, KEY_ITEM, KEY_QTY};\n    Cursor c = ourDatabase.query(DATABASE_TABLE, columns, null, null, null, null, null);\n    String resultItem = \"\";\n\n    int iItem = c.getColumnIndex(KEY_ITEM);\n\n        for (c.moveToFirst(); !c.isAfterLast(); c.moveToNext()){\n            resultItem = resultItem  + c.getString(iItem) + \"\\n\";\n        }\n\n    return resultItem;\n}\n\n//passing data to qty textview\npublic String getData2() {\n    // TODO Auto-generated method stub\n\n    String[] columns = new String[]{ KEY_ITEMID, KEY_ITEM, KEY_QTY};\n    Cursor c = ourDatabase.query(DATABASE_TABLE, columns, null, null, null, null, null);\n    String resultQty = \"\";\n\n    int iQty = c.getColumnIndex(KEY_QTY);\n\n        for (c.moveToFirst(); !c.isAfterLast(); c.moveToNext()){\n            resultQty = resultQty + c.getString(iQty) + \"\\n\";\n        }\n\n    return resultQty;\n}\n</code></pre>\n\n<p>The functionality of these codes is to pass each getData() to each intended TextView.</p>\n\n<pre><code>protected void onCreate(Bundle savedInstanceState) {\n    // TODO Auto-generated method stub\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.grocery);\n\n        TextView tv = (TextView) findViewById(R.id.tvSQLinfo);\n        Grocery info = new Grocery(this);\n        info.open();\n        String data = info.getData();\n        info.close();\n        tv.setText(data);\n\n        TextView tvQty = (TextView) findViewById(R.id.tvItemQty);\n        Grocery infoQty = new Grocery(this);\n        infoQty.open();\n        String dataQty = infoQty.getData2();\n        infoQty.close();\n        tvQty.setText(dataQty);\n}\n</code></pre>\n\n<p>Thank you for the help. :)</p>\n"},{"tags":["php","json","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":47,"score":-2,"question_id":13275004,"title":"Can't access JSON element in PHP","body":"<p>I'm having problem acessing a JSON element after a sqlite query.</p>\n\n<p>I have the following code:</p>\n\n<pre><code>$queryIdClient = \"SELECT seq FROM sqlite_sequence WHERE name = 'clientes';\";\n$id;\n\nif($result = $db-&gt;query($queryIdClient)) {\n    $row = $result-&gt;fetch(PDO::FETCH_ASSOC);\n    $row = json_encode($row);\n    echo $row;\n}\nelse {\n    die($error);\n}\n</code></pre>\n\n<p>The <code>echo $row</code> gives me {\"seq\" : \"10\"}.</p>\n\n<p>I want to pass the value 10 to the $id variable. I've tried a lot of ways, but I can't get it to work.</p>\n\n<p>Shouldn't it work with <code>$id = $row-&gt;seq;</code> ?</p>\n"},{"tags":["sqlite","vms","openvms"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":146,"score":0,"question_id":10087119,"title":"Is there a working distribution of sqlite available for OpenVMS?","body":"<p>I am looking for a working distribution of SQLite for OpenVMS. I tried building SQLite 3.7.9 from the amalgamation file, using patches I found in a mailing list, but it does not quite work.</p>\n\n<p>I am using HP C V7.1-015 on OpenVMS Alpha 7.3-2. \nSince I cannot install python, which seems to include SQLite3, I have to build from sources.</p>\n\n<p>I compile using the following commands:</p>\n\n<pre><code>$ CC /OPTIMIZE -\n     /DEFINE=(SQLITE_THREADSAFE=0, -\n              SQLITE_OMIT_LOAD_EXTENSION=1, -\n              SQLITE_OMIT_COMPILEOPTION_DIAGS=1, -\n              SQLITE_OMIT_MEMORYDB=1, -\n              SQLITE_OMIT_TEMPDB=1, -\n              SQLITE_OMIT_DEPRECATED=1, -\n              SQLITE_OMIT_SHARED_CACHE=1, -\n              _USE_STD_STAT=ENABLE) -\n     /FLOAT=IEEE_FLOAT -\n     sqlite3.c\n$ CC /OPTIMIZE -\n     /DEFINE=(SQLITE_THREADSAFE=0, -\n              SQLITE_OMIT_LOAD_EXTENSION=1, -\n              SQLITE_OMIT_COMPILEOPTION_DIAGS=1, -\n              SQLITE_OMIT_MEMORYDB=1, -\n              SQLITE_OMIT_TEMPDB=1, -\n              SQLITE_OMIT_DEPRECATED=1, -\n              SQLITE_OMIT_SHARED_CACHE=1, -\n              _USE_STD_STAT=ENABLE) -\n     /FLOAT=IEEE_FLOAT -\n     shell.c\n</code></pre>\n\n<p>I copied the defines from the mailing list, and added /FLOAT=IEEE_FLOAT to get rid of most warnings regarding floating points (related to overflows due to exponent 308).</p>\n\n<p>During compilation I got some informationals and warnings.\nI get the following messages while linking: </p>\n\n<pre><code>$ LINK shell.obj,sqlite3.obj\n...\n%LINK-W-NUDFSYMS, 2 undefined symbols:\n%LINK-I-UDFSYM,         __STD_FSTAT\n%LINK-I-UDFSYM,         __STD_STAT\n...\n</code></pre>\n\n<p>Since I am a little bit lost here, I rather have SQLite3 sources which compile on OpenVMS.</p>\n"},{"tags":["sqlite","thunderbird"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":85,"score":0,"question_id":11332692,"title":"Querying Thunderbird's SQLite message database from C#","body":"<p>I want to query email messages stored by Thunderbird from a C# application I am developing.</p>\n\n<p>Currently I can get some message parts such as From address and Subject by querying the SQLite database, global-messages-db.sqlite.</p>\n\n<pre><code>SELECT subject FROM messagesText LIMIT 10;\n</code></pre>\n\n<p>I have not been able to locate the body of messages. I have searched for documentation of Thunderbird's storage but I can't find anything that describes where this is stored.</p>\n\n<p>Where are the bodies of messages stored?</p>\n"},{"tags":["c++","sqlite","linker"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":27,"score":0,"question_id":13273424,"title":"i was adding offocial SQLite source code to my C++ project and gets a linker error","body":"<p>What sort of linking error is this referring to within my C++ project?  The only thing that i am thinking of is that the SQLite3 header is a part of the project.</p>\n\n<pre><code>duplicate symbol _main in:\n/Users/.../Build/Intermediates/AssetInspector.build/Debug-iphoneos/AssetInspector.build/Objects-normal/armv7/main.o\n/Users/.../Build/Intermediates/AssetInspector.build/Debug-iphoneos/AssetInspector.build/Objects-normal/armv7/shell.o\nld: 2 duplicate symbols for architecture armv7\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\n</code></pre>\n"},{"tags":["sql-server","sqlite","auto-increment"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":15,"score":2,"question_id":13273403,"title":"Is there a set identity_insert on equivalent for SQLite?","body":"<p>In TSQL there is </p>\n\n<pre><code>SET IDENTITY_INSERT ON;\n</code></pre>\n\n<p>is there a functional equivalent in SQLite?</p>\n"},{"tags":["c#","sqlite","orm","ormlite-servicestack"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":20,"score":1,"question_id":13262935,"title":"Keeping classes and table schemas in sync when using an ORM","body":"<p>I haven't had a lot of experience with ORMs. I'm trying to figure out the best way to handle the adding/removing of properties from a mapped class, ideally in an automatic and generic way.</p>\n\n<p>I'm using ServiceStack.OrmLite and SQLite.</p>\n\n<p>The purpose of the database is a document store. There are no foreign keys/referential integrity concerns.</p>\n\n<p>E.G.</p>\n\n<pre><code>public class Foo\n{\n   public Bar {get; set;}\n   public Baz {get; set;}\n}\n</code></pre>\n\n<p>Creates the table Foo with the columns Bar, Baz. </p>\n\n<p>In an ideal world the Foo class would never changed so I wouldn't have to worry about this, but in reality it could.</p>\n\n<p>Lets say Foo also needs a Quz property.</p>\n\n<pre><code>public class Foo\n{\n   public Bar {get; set;}\n   public Baz {get; set;}\n   public Quz {get; set;}\n}\n</code></pre>\n\n<p>Reading is fine, Quz just comes back as null, but inserting fails because there is no Quz column. This makes sense.</p>\n\n<p>Lets say that Baz is no longer required.</p>\n\n<pre><code>public class Foo\n{\n   public Bar {get; set;}\n   public Quz {get; set;}\n}\n</code></pre>\n\n<p>Reading/inserting works fine, however the underlying table would still have the Baz column which is a bit messy.</p>\n\n<p>Given that it is a server app, and won't be restarted often, a couple of things I've considered and dismissed:</p>\n\n<ul>\n<li><p>On start, If the Foo table exists, read it in to a temporary store, drop and recreate Foo (meaning that the table would be created with the correct schema) and then reinsert the data. This appears to work fine and does the job of keeping the schema in sync with the class, however it is too slow.</p></li>\n<li><p>On start, query the underlying table to gets its column definitions and use reflection to work out what the columns for the Foo class should actually be. Add/Drop columns as necessary. I'm pretty sure I could get this approach to work, but it's more complicated than ideal, and I'm not convinced it is a good idea.</p></li>\n</ul>\n"},{"tags":["git","sqlite","githooks"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13271643,"title":"Git hook for diff sqlite table","body":"<p>I have a Sqlite db in a Git repository. Today I wanted to do a diff of a view in two different commits. I did it this way:</p>\n\n<pre><code>$ sqlite3 -list file.sqlite \"SELECT * FROM contact_list_detailed\" &gt;/tmp/newlist\n$ git checkout 51c24d13c file.sqlite\n$ sqlite3 -list file.sqlite \"SELECT * FROM contact_list_detailed\" &gt;/tmp/oldlist\n$ git checkout -- file.sqlite\n$ diff /tmp/oldlist /tmp/newlist\n</code></pre>\n\n<p>It works and I could script it if I want. But are there any \"nice\" ways of doing this with hooks?</p>\n"},{"tags":["java","sqlite"],"answer_count":10,"favorite_count":89,"up_vote_count":145,"down_vote_count":0,"view_count":122854,"score":145,"question_id":41233,"title":"Java and SQLite","body":"<p>I'm attracted to the neatness that a single file database provides. What driver/connector library is out there to connect and use SQLite with Java.</p>\n\n<p>I've discovered a wrapper library, <a href=\"http://www.ch-werner.de/javasqlite/\" rel=\"nofollow\">http://www.ch-werner.de/javasqlite</a>, but are there other more prominent projects available?</p>\n"},{"tags":["iphone","sqlite","core-data","sqlite3"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":656,"score":0,"question_id":3837689,"title":"Is SQLite FTS3 still the best way to go for rolling out your full text search?","body":"<p>I need to support full text search for a 10 mb document and wondering if I should implement FTS with CoreData or Sqlite3.  I am familiar with CoreData and not too fond of Sqlite3.  Anyone with experience care to enlighten me?  What other options do i have? Thanks!</p>\n"},{"tags":["python","sqlite","sqlalchemy"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13273077,"title":"Commit errors with SQLAlchemy/sqlite for concurrent processes","body":"<p>I'm attempting to write a Python + SQLAlchemy application that uses a centralized sqlite database to store information about various files. I use checksums to verify that each file and/or file version is only stored once in the database, so I have a <code>UniqueConstraint</code> on the checksum column.</p>\n\n<p>I am storing the file info in <code>DbFile</code> objects that I want to do further operations on. I created a static method called <code>New()</code> that will return a <code>DbFile</code> object. If the file already exists in the database, it will return that object, otherwise it will create a new one. </p>\n\n<pre><code> import md5\n # Not shown: sqlalchemy imports\n\n Base = declarative_base()\n engine = create_engine('sqlite:///test.db')\n Session = sessionmaker(bind=engine)\n session = Session()\n\n class DbFile(Base):\n     id = Column(Integer, primary_key=True)\n     filename = Column(String, nullable=False)\n     checksum = Column(String, nullable=False)\n\n     __table_args__ = (UniqueConstraint('checksum'),)\n\n     @staticmethod\n     def New(filename):\n          file_md5 = md5.md5(open(filename).read())\n          checksum = file_md5.hexdigest()\n\n     q = session.query(Files).filter(Files.checksum == checksum)\n     if q.count() == 1:\n         print \"Loading existing file object from database\"\n         return q.one()\n\n     dbfile = DbFile(filename=filename, checksum=checksum)\n</code></pre>\n\n<p>After loading a number of files I do a <code>session.commit()</code>. This works fine if just a single process is accessing the database, but if I kick off multiple python processes (from the command line), one of them will invariably abort with an <code>sqlalchemy.exc.IntegrityError</code> complaining that unique key constraint was violated for the checksum. There's obviously a race condition going on between checking for existence and writing to the database, but I haven't found a good way to prevent it. </p>\n\n<p>I've tried to trap the error around the <code>session.commit()</code> but sometimes the error is triggered by the <code>q.count()</code> statement. Is there a clean way to do this?</p>\n"},{"tags":["android","sql","database","sqlite","upgrade"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":31,"score":1,"question_id":13266667,"title":"How to modify type in a table of SQLite in Android, using onUpgrade method?","body":"<p>Following this good example <a href=\"http://code.google.com/p/openintents/source/browse/trunk/notepad/NotePad/src/org/openintents/notepad/NotePadProvider.java?r=3878\" rel=\"nofollow\">http://code.google.com/p/openintents/source/browse/trunk/notepad/NotePad/src/org/openintents/notepad/NotePadProvider.java?r=3878</a></p>\n\n<p>I implement my sqlite database upgrade system. But in the link above the only example show how add new column in a table. The piece of code in the onUpgrade method is</p>\n\n<pre><code> try {\n      db.execSQL(\"ALTER TABLE \" +   NOTES_TABLE_NAME + \" ADD COLUMN \"\n                                                                    + Notes.TAGS + \" TEXT;\");\n      db.execSQL(\"ALTER TABLE \" + NOTES_TABLE_NAME + \" ADD COLUMN \"\n                                                                    + Notes.ENCRYPTED + \" INTEGER;\");\n      db.execSQL(\"ALTER TABLE \" + NOTES_TABLE_NAME + \" ADD COLUMN \"\n                                                                    + Notes.THEME + \" TEXT;\");\n      } catch (SQLException e) {\n      Log.e(TAG, \"Error executing SQL: \", e);\n      // If the error is \"duplicate column name\" then everything is fine,\n      // as this happens after upgrading 2-&gt;3, then downgrading 3-&gt;2, \n      // and then upgrading again 2-&gt;3.\n      }\n      //  *** other upgrade from version x-&gt;y\n      // ***\n</code></pre>\n\n<p>and in onCreate, something like this:</p>\n\n<pre><code>  public void onCreate(SQLiteDatabase db) {\n      db.execSQL(\"CREATE TABLE \" + NOTES_TABLE_NAME + \" (\"\n           // Version 2:\n           + Notes._ID + \" INTEGER PRIMARY KEY,\"\n           + Notes.TITLE + \" TEXT,\"\n           + Notes.NOTE + \" TEXT,\"\n           + Notes.CREATED_DATE + \" INTEGER,\"\n           + Notes.MODIFIED_DATE + \" INTEGER,\"\n           // Version 3:\n           + Notes.TAGS + \" TEXT,\"\n           + Notes.ENCRYPTED + \" INTEGER,\"\n           + Notes.THEME + \" TEXT,\"\n           // Version 4:\n           + Notes.SELECTION_START + \" INTEGER,\"\n           + Notes.SELECTION_END + \" INTEGER,\"\n           + Notes.SCROLL_POSITION + \" REAL\"\n           + \");\");\n          }\n</code></pre>\n\n<p>Now I want a new database version where no column is added, but I want just change type of some field in a table. How can I do this?</p>\n\n<p>Here <a href=\"http://sqlite.org/lang_altertable.html\" rel=\"nofollow\">http://sqlite.org/lang_altertable.html</a> is said that is not possible to change a field type. How can I circumvent the problem?</p>\n\n<p>I'm inserting data in database in this way:</p>\n\n<pre><code>   ContentValues v = new ContentValues();\n   v.put(\"field1\", myString); // fileld1 in db is defined as integer\n\n   dbManager.updateTable(\"mytable\", v, whereClause);\n</code></pre>\n\n<p>How can I make a CAST in this situation?</p>\n"},{"tags":["ios","database","sqlite","double"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":1,"view_count":18,"score":0,"question_id":13228230,"title":"Assigning to 'double*' from incompatible type 'double'","body":"<p>I have a SQLite database with some fields of type double  and I have to extract this value and put them in an instance variable, but I get this error</p>\n\n<pre><code>  Assigning to 'double *' from incompatible type 'double'\n</code></pre>\n\n<p>this is the code:</p>\n\n<p>DatabaseTable.h</p>\n\n<pre><code>   @interface DatabaseTable : NSObject {\nsqlite3 * database;\n\n   }\n\n   //........\n   @property (nonatomic, assign)double *latitude; //latitude is a field of type double\n   @property (nonatomic, assign)double *longitude; //longitude is a field of a type double\n\n   @end\n</code></pre>\n\n<p>DatabaseTable.m</p>\n\n<pre><code>   //.....\n    while (sqlite3_step(statement) == SQLITE_ROW) {\n\n       DatabaseTable * rowTable =[[ChinaDatabaseTable alloc]init];\n           //.......\n\n           rowTable.latitude =sqlite3_column_double(statement, 15); //here the error\n           rowTable.longitude =sqlite3_column_double(statement, 16);//here the error\n\n           //.....\n     }\n</code></pre>\n\n<p>What can I do?</p>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":71,"score":0,"question_id":12841537,"title":"SQLiteException: no such table only on Motorola Plus?","body":"<p>We have a user that run our app on a Motorola PLUS, and when we try to read from a sqlite db he get the following exception.</p>\n\n<p>We have already tried to delete completely the app and the database and reinstall it.</p>\n\n<p>We also tried to query the database using a simple rawquery, but no success.</p>\n\n<p>Any suggestion is welcome!</p>\n\n<pre><code>java.lang.RuntimeException: An error occured while executing doInBackground()\n    at android.support.v4.b.r.done(SourceFile:137)\n    at java.util.concurrent.FutureTask$Sync.innerSetException(FutureTask.java:274)\n    at java.util.concurrent.FutureTask.setException(FutureTask.java:125)\n    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:308)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:138)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1088)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:581)\n    at java.lang.Thread.run(Thread.java:1019)\nCaused by: android.database.sqlite.SQLiteException: no such table: records: , while compiling: SELECT _id, name, isbackground FROM records ORDER BY _id ASC\n        at android.database.sqlite.SQLiteCompiledSql.native_compile(Native Method)\n        at android.database.sqlite.SQLiteCompiledSql.compile(SQLiteCompiledSql.java:92)\n        at android.database.sqlite.SQLiteCompiledSql.&lt;init&gt;(SQLiteCompiledSql.java:65)\n        at android.database.sqlite.SQLiteProgram.&lt;init&gt;(SQLiteProgram.java:83)\n        at android.database.sqlite.SQLiteQuery.&lt;init&gt;(SQLiteQuery.java:49)\n        at android.database.sqlite.SQLiteDirectCursorDriver.query(SQLiteDirectCursorDriver.java:42)\n        at android.database.sqlite.SQLiteDatabase.rawQueryWithFactory(SQLiteDatabase.java:1365)\n        at android.database.sqlite.SQLiteQueryBuilder.query(SQLiteQueryBuilder.java:330)\n        at android.database.sqlite.SQLiteQueryBuilder.query(SQLiteQueryBuilder.java:280)\n        at com.voicepro.db.RecordsContentProvider.query(SourceFile:289)\n        at android.content.ContentProvider$Transport.query(ContentProvider.java:187)\n        at android.content.ContentResolver.query(ContentResolver.java:266)\n        at android.support.v4.b.f.loadInBackground(SourceFile:49)\n        at android.support.v4.b.f.loadInBackground(SourceFile:35)\n        at android.support.v4.b.a.onLoadInBackground(SourceFile:240)\n        at android.support.v4.b.b.doInBackground(SourceFile:51)\n        at android.support.v4.b.b.doInBackground(SourceFile:40)\n        at android.support.v4.b.q.call(SourceFile:123)\n        at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:306)\n        ... 4 more\nandroid.database.sqlite.SQLiteException: no such table: records: , while compiling: SELECT _id, name, isbackground FROM records ORDER BY _id ASC\n        at android.database.sqlite.SQLiteCompiledSql.native_compile(Native Method)\n        at android.database.sqlite.SQLiteCompiledSql.compile(SQLiteCompiledSql.java:92)\n        at android.database.sqlite.SQLiteCompiledSql.&lt;init&gt;(SQLiteCompiledSql.java:65)\n        at android.database.sqlite.SQLiteProgram.&lt;init&gt;(SQLiteProgram.java:83)\n        at android.database.sqlite.SQLiteQuery.&lt;init&gt;(SQLiteQuery.java:49)\n        at android.database.sqlite.SQLiteDirectCursorDriver.query(SQLiteDirectCursorDriver.java:42)\n        at android.database.sqlite.SQLiteDatabase.rawQueryWithFactory(SQLiteDatabase.java:1365)\n        at android.database.sqlite.SQLiteQueryBuilder.query(SQLiteQueryBuilder.java:330)\n        at android.database.sqlite.SQLiteQueryBuilder.query(SQLiteQueryBuilder.java:280)\n        at com.voicepro.db.RecordsContentProvider.query(SourceFile:289)\n        at android.content.ContentProvider$Transport.query(ContentProvider.java:187)\n        at android.content.ContentResolver.query(ContentResolver.java:266)\n        at android.support.v4.b.f.loadInBackground(SourceFile:49)\n        at android.support.v4.b.f.loadInBackground(SourceFile:35)\n        at android.support.v4.b.a.onLoadInBackground(SourceFile:240)\n        at android.support.v4.b.b.doInBackground(SourceFile:51)\n        at android.support.v4.b.b.doInBackground(SourceFile:40)\n        at android.support.v4.b.q.call(SourceFile:123)\n        at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:306)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:138)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1088)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:581)\n        at java.lang.Thread.run(Thread.java:1019)\n</code></pre>\n"},{"tags":["android","sql","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":18,"score":1,"question_id":13270649,"title":"Get all dates with optional further data, if a condition is met (Android - SQLite)","body":"<h1>What I have</h1>\n\n<p>I'm working on an Android app with a menu of school canteens. I download data from a remote website and save them to the internal SQLite database to such table (SO Markdown doesn't support tables, hence I'll make it a list):</p>\n\n<ul>\n<li>ID</li>\n<li>TEXT - The name of the meal</li>\n<li>NUMBER - The number of the meal (we can choose from more)</li>\n<li>ORDERED - Boolean, whether the particular meal is ordered or not</li>\n<li>DATE - The date (timestamp) when the meal is server</li>\n</ul>\n\n<p>(and a few more unimportant columns)</p>\n\n<h1>What I need</h1>\n\n<p>I want to provide the user with a list, where for every day when the canteen cooks there is either the meal he has ordered or information, that he hasn't ordered anything for that day.</p>\n\n<p>The question is, how should look my query when I need to get:</p>\n\n<ul>\n<li>Every date that is in the table (once).</li>\n<li>For each date either the info about the ordered meal, or (if there isn't any ordered meal) something from which I can tell that the user will be hungry that day.</li>\n</ul>\n\n<p>Because I want my users to be able to see also the meals they didn't order (so that their friends can look, what they might have), I refuse to keep only the ordered meals.</p>\n\n<p>Thanks in advance for any help.</p>\n"},{"tags":["sqlite","database-design","sqlite3","intervals"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":15,"score":1,"question_id":13267100,"title":"How do you create a rough time row in sqlite?","body":"<p>I'm trying to create a time row that indicates the duration of a drive.  An example would be: From point A to point B it takes about 20-25 minutes.  How should I go about creating that?  Does it qualify as an interval?</p>\n"},{"tags":["android","sqlite","documentation"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":3274,"score":2,"question_id":5985753,"title":"Is Android Cursor.moveToNext() Documentation Correct?","body":"<p>boolean android.database.Cursor.moveToNext() documentation says:</p>\n\n<p><a href=\"http://developer.android.com/reference/android/database/Cursor.html#moveToNext%28%29\" rel=\"nofollow\">http://developer.android.com/reference/android/database/Cursor.html#moveToNext%28%29</a></p>\n\n<p>Move the cursor to the next row.</p>\n\n<p>This method will return false if the cursor is already past the last entry in the result set.</p>\n\n<hr>\n\n<p>However, my book says to do the following to extract data from a cursor:</p>\n\n<pre>\nCursor myCursor = myDatabase.query(...);\nif (myCursor.moveToFirst()) {\n    do {\n    int value = myCursor.getInt(VALUE_COL);\n    // use value\n    } while (myCursor.moveToNext());\n}\n</pre>\n\n<hr>\n\n<p>Who's right?  These both can't be true.  If you can't see the contradiction, imagine myCursor has 1 row returned from the query.  The first call to getInt() will work, but then moveToNext() will return true because it is not \"already\" past the last entry in the result set.  So now the cursor will be past the last entry and the second call to getInt() will do something undefined.  </p>\n\n<p>I suspect the documentation is wrong and should instead read:</p>\n\n<p>This method will return false if the cursor is \"already at\" the last entry in the result set.  </p>\n\n<p>Must the cursor be already PAST (not AT) the last entry before the moveToNext() method returns false?  </p>\n\n<p>No Snark Please</p>\n"},{"tags":["sqlite","core-data","commoncrypto"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":10,"score":0,"question_id":13270026,"title":"CommonCrypto in iOS [sqlite file encryption]","body":"<p>I'm using Core Data API in my iOS application. Also, I'm using the commoncrypto library (CCCrypt()) to encrypt/decrypt the database file(.sqlite file) that resides in the documents folder when the application state changes (Background/Foreground).</p>\n\n<p>The problem which i'm facing is... some of the records in the database gets lost when the application is killed manually by the user from the background state and this issue is inconsistent.</p>\n\n<p>I'm just converting the sqlite file contents into NSData and used as an input to CCCrypt() function to encrypt/decrypt and I'm not decoding the any input data in the crypt operation.</p>\n\n<p>Can someone please help me .....what could be reason for the data loss ? that too only when the application gets killed manually from the background state ..... For both encryption and decryption operation, the CCCrypt function returns the status as kCCSuccess...</p>\n\n<p>Does it needed to use any sort of decoding the input data (raw bytes) before CCCrypt operation ?</p>\n"},{"tags":["sql","sqlite"],"answer_count":1,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":26,"score":3,"question_id":13269314,"title":"Multiple SELECT on the same field in one statement","body":"<p>I got the following table:</p>\n\n<pre><code>**stats**\n\nid INT FK\nday INT    \nvalue INT\n</code></pre>\n\n<p>I would like to create an SQL query that will sum the values in value column in the last day, last week and last month, in one statement.</p>\n\n<p>So Far i got this:</p>\n\n<pre><code>select sum(value) from stats as A where A.day &gt; now() - 1\nunion\nselect sum(value) from stats as B where B.day &gt; now() - 7\nunion\nselect sum(value) from stats as C where C.day &gt; now() - 30\n</code></pre>\n\n<p>This returns just the first sum(value), i was expecting 3 values to return.</p>\n\n<p>Running: <code>select sum(value) from stats as A where A.day &gt; now() - X ( Where x = 1/7/30)</code> in different queries works as it should.</p>\n\n<p>What's wrong with the query? Thanks!</p>\n"},{"tags":["python","sqlite","tuples"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13267922,"title":"Why can't a string from a tuple not be inserted as the fieldname in the table update command in SQLlite3 in python?","body":"<p>when i try to use a stringvalue from a tuple as the columnname in my executemany() command, like this:</p>\n\n<pre><code>tup = ('field', 'value',)\n\ncursor.executemany('UPDATE table SET ?=?', tup)\n</code></pre>\n\n<p>i get a SQlite.operationalerror:</p>\n\n<pre><code>   c.executemany('''UPDATE table SET ?=?''', tup)\nsqlite3.OperationalError: near \"?\": syntax error\n</code></pre>\n\n<p>when can't the tuple value not be inserted befor the '=' and only after??</p>\n"},{"tags":["python","sqlite","sqlite3","tuples"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":13,"score":1,"question_id":13267553,"title":"SQLite operational error is raised when trying to use cursor.executemany(string, tuple) in Python","body":"<p>this method should update a table, but i get a operational sql error at the last line:</p>\n\n<pre><code>def update_lookup(table, lookup_table, anon_table, fieldname, anon_field_prefix):\n\n    c.execute('SELECT DISTINCT ' + fieldname + ' FROM ' + table)\n    result = c.fetchall() #gives a list of tuples\n\n    #get a list of random integers in range, as many as there are unique mssi's\n    rnds = random.sample(xrange(10000,80000),len(result))\n\n    #for every name insert the value in the vesselname lookup\n    lst = []\n    lst_rev = []\n    for i,row in enumerate(result):\n        field_value_anon = anon_field_prefix + str(rnds[i]) #create a random mssi number\n        field_value = row[0]\n        lst_rev.append((anon_table, fieldname , field_value_anon, fieldname, field_value)) #needed later on\n        lst.append((field_value, field_value_anon))\n\n\n    c.executemany('INSERT INTO '+ lookup_table +' VALUES (null, ?, ?)', lst)\n\n    #update the anon table col:\n\n    c.executemany('UPDATE ? SET ?=? WHERE ?=?', lst_rev) //error is trhown\n</code></pre>\n\n<p>stacktrace:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"C:\\Users\\jgoddijn\\workspace\\DataAnonDMVV\\src\\Main.py\", line 119, in &lt;module&gt;\n    update_lookup('AIS', 'MMSI_lookup', 'AIS_anoniem', 'dad_vesselname', 'AIS_schip')\n  File \"C:\\Users\\jgoddijn\\workspace\\DataAnonDMVV\\src\\Main.py\", line 35, in update_lookup\n    c.executemany('UPDATE ? SET ?=? WHERE ?=?', lst_rev)\nsqlite3.OperationalError: near \"?\": syntax error\n</code></pre>\n\n<p>I'm doing something wrong with the tuple insertion but i cannot figure what!</p>\n\n<p>thanks a bunch!</p>\n"},{"tags":["sql","sqlite","android-sqlite"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":41,"score":2,"question_id":13263528,"title":"sql query to filter dates of this week","body":"<p>I am new to <code>sql</code> queries, can anyone help me for writing query for the following condition\nI have a column named \"dob\" in table \"members\". <strong>Note: dob datatype is text.</strong>\nAnd the values like : </p>\n\n<pre><code>dob\n===\n7-November-1980\n9-November-1981\n10-November-1982\n5-May-1990\n</code></pre>\n\n<p>Now to get birthdays of this week (i.e) from 7-11-2012 to 13-11-2012 , I want to get the result as first 3 records. For that I wrote query like this</p>\n\n<pre><code>select * from members where dob in('7-November','8-November','9-November','10-November','11-November','12-November','13-November')\n</code></pre>\n\n<p>But it never returns any results. Anyone please help me that how can I get it. Big thanks to you.</p>\n"},{"tags":["javascript","sqlite","settimeout"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":62,"score":0,"question_id":13253446,"title":"JavaScript execution exceeded timeout javascript","body":"<p>when I execute this function it displays me the following error:</p>\n\n<p>\"JavaScript execution exceeded timeout\" how I can solve this problem by using settimeout () or what?</p>\n\n<p>I retrieve 3000 line from  json file.</p>\n\n<pre><code> applyChanges_PhrasesTypes: function(employees, callback) {\n\n            //alert(\"fonction apply chamges est lancer PhrasesTypes\");\n\n          this.db.transaction(\n                function(tx) {\n                    var l = employees.length;\n                    var sql =\n                        \"INSERT OR REPLACE INTO PhrasesTypes (IdPhrase, IdPhraseES, IdRubrique, IdTypeTravauxAffichage, Phrase, AidePhrase, AvertissementPhrase,OrdrePhrase,QuotationParDefaut,Published) \" +\n                        \"VALUES (?,?,?,?,?,?,?,?,?,?)\";\n                    //alert('Inserting or Updating in local database:  PhrasesTypes');\n                    var e;\n                    for (var i = 0; i &lt; l; i++) \n                    {\n                        e = employees[i];\n                        log(i);\n                        //log(\"Ligne  \"+ i +\"  est inserer de id PhrasesTypes = \"+e.IdPhrase);\n                        var params = [e.IdPhrase, e.IdPhraseES, e.IdRubrique, e.IdTypeTravauxAffichage, e.Phrase, e.AidePhrase, e.AvertissementPhrase,e.OrdrePhrase,e.QuotationParDefaut,e.Published];\n                        tx.executeSql(sql, params);\n                    }\n                    log('sync_PhrasesType shronization terminée avec (' + l + ' items sync_PhrasesTypeshronié)');\n                },\n                this.txErrorHandler_PhrasesTypes,\n                function(tx)\n                {\n                    callback();\n                }\n            );\n        }\n</code></pre>\n"},{"tags":["sql","sqlite","sqlite3"],"answer_count":3,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":39,"score":2,"question_id":13265244,"title":"shift id's of table alike (id = id + 1) where id is primary key","body":"<p>I need to shift all the primary keys for table alike</p>\n\n<pre><code>UPDATE TODO SET id = id + 1 \n</code></pre>\n\n<p>but I can't do it (  <a href=\"http://sqlfiddle.com/#!5/bd109/2\" rel=\"nofollow\">Demo</a> from Ahmad Al-Mutawa answer ) descript why. primary key can't be changed like this.</p>\n\n<p>Also I can't ALTER the table according that this is sqlite: <a href=\"http://www.sqlite.org/omitted.html\" rel=\"nofollow\">http://www.sqlite.org/omitted.html</a></p>\n\n<p>I'm thinking about some hardcoded recursive change for other columnts but without tsql and stored procedures it's hard for me to get how can I make it?</p>\n"},{"tags":["android","sqlite","monodroid"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":48,"score":1,"question_id":12934016,"title":"How to bind data from SQLite to list in Layout Mono for Android?","body":"<p>How can I bind data in SQLite table to myLayout ?</p>\n"},{"tags":["python","database","sqlite","commit","journal"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":22,"score":2,"question_id":13258948,"title":"Commit existing journal file in SQLite from prior terminated connection to database","body":"<p>I'm prototyping a script that creates large SQLite databases with a four day time limit.  The time limit was reached before the script finished and the connection.commit() command would be executed.  The script is dropped and the database connection terminated but the journal is still in the file directory where the database was being created.</p>\n\n<p>I'd like to commit the existing journal to see if the current script is on the right track.  Initially I just try (using the Python sqlite3 module on iPython):</p>\n\n<pre><code>connection = sqlite3.connect('mydatabase')\n\nconnection.commit()\n</code></pre>\n\n<p>but I suspect I need to specify that I want to commit the existing journal.  I tried passing the journal name as an argument in commit(), but commit() doesn't take arguments in the sqlite3 Python module.</p>\n\n<p>In the future I'll incrementally .commit()</p>\n"},{"tags":["android","database","sqlite","illegalstateexception"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":120,"score":2,"question_id":13137184,"title":"Android: java.lang.IllegalStateException: database xxx.db (conn# 0) already closed","body":"<p>I have read a lot of topics about this error message but I can't resolve my problem.</p>\n\n<p>I have an app on google play and I get some error reports from the users. When I am trying the app, everything works fine.</p>\n\n<p>In the application, I am managing a big database with something like 30 tables. I am closing the database in my main activity onDestroy() and all the cursors are closed when the query is finished. </p>\n\n<p>I really don't know why from time to time the users are getting this error message.</p>\n\n<p>Here is the entire error log:</p>\n\n<pre><code>java.lang.IllegalStateException: database /data/data/mdpi.android/databases/LocalDatabase.db (conn# 0) already closed\nat android.database.sqlite.SQLiteDatabase.verifyDbIsOpen(SQLiteDatabase.java:2213)\nat android.database.sqlite.SQLiteDatabase.queryWithFactory(SQLiteDatabase.java:1565)\nat android.database.sqlite.SQLiteDatabase.query(SQLiteDatabase.java:1525)\nat android.database.sqlite.SQLiteDatabase.query(SQLiteDatabase.java:1605)\nat mdpi.android.database.LocalDatabase.getHistoryLastSuccessfullUpdate(LocalDatabase.java:661)\nat mdpi.android.Journals$7.onItemClick(Journals.java:723)\nat android.widget.AdapterView.performItemClick(AdapterView.java:292)\nat android.widget.Gallery.onSingleTapUp(Gallery.java:960)\nat android.view.GestureDetector.onTouchEvent(GestureDetector.java:1310)\nat android.widget.Gallery.onTouchEvent(Gallery.java:937)\nat android.view.View.dispatchTouchEvent(View.java:5724)\nat android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:1964)\nat android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:1725)\nat android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:1970)\nat android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:1739)\nat android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:1970)\nat android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:1739)\nat android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:1970)\nat android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:1739)\nat android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:1970)\nat android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:1739)\nat android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:1970)\nat android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:1739)\nat android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:1970)\nat android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:1739)\nat com.android.internal.policy.impl.PhoneWindow$DecorView.superDispatchTouchEvent(PhoneWindow.java:2071)\nat com.android.internal.policy.impl.PhoneWindow.superDispatchTouchEvent(PhoneWindow.java:1405)\nat android.app.Activity.dispatchTouchEvent(Activity.java:2426)\nat com.android.internal.policy.impl.PhoneWindow$DecorView.dispatchTouchEvent(PhoneWindow.java:2019)\nat android.view.View.dispatchPointerEvent(View.java:5904)\nat android.view.ViewRootImpl.deliverPointerEvent(ViewRootImpl.java:3155)\nat android.view.ViewRootImpl.handleMessage(ViewRootImpl.java:2670)\nat android.view.ViewRootImpl.processInputEvents(ViewRootImpl.java:1000)\nat android.view.ViewRootImpl.handleMessage(ViewRootImpl.java:2679)\nat android.os.Handler.dispatchMessage(Handler.java:99)\nat android.os.Looper.loop(Looper.java:137)\nat android.app.ActivityThread.main(ActivityThread.java:4517)\nat java.lang.reflect.Method.invokeNative(Native Method)\nat java.lang.reflect.Method.invoke(Method.java:511)\nat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:993)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:760)\nat dalvik.system.NativeStart.main(Native Method)\n</code></pre>\n\n<p>And another one:</p>\n\n<pre><code>java.lang.RuntimeException: Unable to start activity ComponentInfo{mdpi.android/mdpi.android.UserInformations}: java.lang.IllegalStateException: database /data/data/mdpi.android/databases/LocalDatabase.db (conn# 0) already closed\nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2202)\nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2237)\nat android.app.ActivityThread.access$600(ActivityThread.java:139)\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1262)\nat android.os.Handler.dispatchMessage(Handler.java:99)\nat android.os.Looper.loop(Looper.java:154)\nat android.app.ActivityThread.main(ActivityThread.java:4974)\nat java.lang.reflect.Method.invokeNative(Native Method)\nat java.lang.reflect.Method.invoke(Method.java:511)\nat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)\nat dalvik.system.NativeStart.main(Native Method)\nCaused by: java.lang.IllegalStateException: database /data/data/mdpi.android/databases/LocalDatabase.db (conn# 0) already closed\nat android.database.sqlite.SQLiteDatabase.verifyDbIsOpen(SQLiteDatabase.java:2194)\nat android.database.sqlite.SQLiteDatabase.queryWithFactory(SQLiteDatabase.java:1536)\nat android.database.sqlite.SQLiteDatabase.query(SQLiteDatabase.java:1496)\nat android.database.sqlite.SQLiteDatabase.query(SQLiteDatabase.java:1576)\nat mdpi.android.database.LocalDatabase.getUserInformations(LocalDatabase.java:357)\nat mdpi.android.UserInformations.onCreate(UserInformations.java:122)\nat android.app.Activity.performCreate(Activity.java:4538)\nat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1071)\nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2158)\n... 11 more\n</code></pre>\n\n<p>EDIT: One new error.</p>\n\n<p>Today, I got a new error related to the database access:</p>\n\n<pre><code>java.lang.RuntimeException: An error occured while executing doInBackground()\n\nat android.os.AsyncTask$3.done(AsyncTask.java:278)\nat java.util.concurrent.FutureTask$Sync.innerSetException(FutureTask.java:273)\nat java.util.concurrent.FutureTask.setException(FutureTask.java:124)\nat java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:307)\nat java.util.concurrent.FutureTask.run(FutureTask.java:137)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1076)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:569)\nat java.lang.Thread.run(Thread.java:856)\nCaused by: java.lang.NullPointerException\nat android.database.sqlite.SQLiteStatement.releaseAndUnlock(SQLiteStatement.java:290)\nat android.database.sqlite.SQLiteStatement.executeInsert(SQLiteStatement.java:115)\nat android.database.sqlite.SQLiteDatabase.insertWithOnConflict(SQLiteDatabase.java:1718)\nat android.database.sqlite.SQLiteDatabase.insert(SQLiteDatabase.java:1591)\nat mdpi.android.database.LocalDatabase.insertCountry(LocalDatabase.java:143)\nat mdpi.android.database.CountryTable.EnterCountry(CountryTable.java:21)\nat mdpi.android.UserInformations$insertCountryAsync.doInBackground(UserInformations.java:270)\nat mdpi.android.UserInformations$insertCountryAsync.doInBackground(UserInformations.java:1)\nat android.os.AsyncTask$2.call(AsyncTask.java:264)\nat java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:305)\n... 4 more\n</code></pre>\n"},{"tags":["java","android","sqlite","loops","hashmap"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13264478,"title":"Android trouble getting all rows data","body":"<p>I am having trouble to get all rows data from sql.</p>\n\n<p>DatabaseHandler.java</p>\n\n<pre><code>public HashMap&lt;String, String&gt; getChannelDetails(){\n    HashMap&lt;String,String&gt; channels = new HashMap&lt;String,String&gt;();\n    String selectQuery = \"SELECT  * FROM \" + TABLE_CHANNEL;\n\n    SQLiteDatabase db = this.getReadableDatabase();\n    Cursor cursor = db.rawQuery(selectQuery, null);\n    // looping through all rows and adding to list\n    if (cursor.moveToFirst()) {\n        do {\n            channels.put(\"title\", cursor.getString(1));\n            channels.put(\"url\", cursor.getString(2));\n            channels.put(\"create_at\", cursor.getString(3));\n        } while (cursor.moveToNext());\n        Log.d(\"SELECT\", channels.toString());\n        Log.d(\"Count\", Integer.toString(cursor.getCount()));\n    }\n\n    cursor.close();\n    db.close();\n    // return channels\n    return channels;\n}\n</code></pre>\n\n<p>Showresult.java</p>\n\n<pre><code>for(int i = 0; i &lt; 13; i++){\n         HashMap&lt;String, String&gt; allchannel = db.getChannelDetails(); \n         String id = allchannel.get(\"id\");\n         String title = allchannel.get(\"title\");\n         String url = allchannel.get(\"url\");\n         String date = allchannel.get(\"created_at\");\n         titles[i] = title;\n         Toast.makeText(context,titles[i]+\" \"+url+\" \"+ date, Toast.LENGTH_SHORT).show();\n         }\n</code></pre>\n\n<p>The cursor.getCount() have 13, however the output show only last row data repeatedly.</p>\n"},{"tags":["android","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":50,"score":-1,"question_id":13264367,"title":"How count row of a table from sqlite database android","body":"<p>I want to count rows of a table in android.I used 2 ways but not success &amp; get a warning message</p>\n\n<pre><code>Launch timeout has expired, giving up wake lock!\n Activity idle timeout for HistoryRecord{44e26a30 com.india.screen/.CategoryList}\n</code></pre>\n\n<p>I have tried-</p>\n\n<p>String query=\"Select count(*) from Holyplace_Tbl\";</p>\n\n<ol>\n<li><p><strong>Using rawQuery</strong></p>\n\n<p>public void countRows(String query){</p>\n\n<pre><code>Cursor mcursor = assetDatabaseHelper.executeQuery(query);\nmcursor.moveToFirst();\nint icount = mcursor.getInt(0);\nSystem.out.println(\"NUMBER IN DB: \" + icount);\nmcursor.close();\n</code></pre>\n\n<p>}</p></li>\n<li><p><strong>Using DatabaseUtils</strong></p>\n\n<pre><code>public int countRows(String query)\n{\n\n   int sometotal = (int) DatabaseUtils.longForQuery(sqliteDatabaseObj, query, null);\n  return sometotal;\n }\n</code></pre>\n\n<p><a href=\"http://stackoverflow.com/questions/13244881/how-solve-launch-timeout-has-expired-giving-up-wake-lock-in-android\">AssetDatabaseOpenHelper.class</a></p></li>\n</ol>\n"},{"tags":["android","sqlite","mobile","wampserver"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":15,"score":-1,"question_id":13263640,"title":"how to run android application in mobile which is created using wamp server?","body":"<p>sir i have developed a <strong>android mobile application</strong>. the application is working fine in my desktop, i used <strong>wamp server</strong> and <strong>sqlllite database</strong> to store all user registration data.but when i have copied <strong>.apk</strong> into my mobile(Sony Ericssion Neo V with Android 2.2) and installed this application but while registration or login it’s displaying error as below:\n<strong>*The application mini_proj (process com.app.proj) has stopped unexpectedly*</strong>. Please try again.Please help me:)</p>\n\n<p>thanks in advance</p>\n"},{"tags":["sql","sqlite","sqlite3"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":37,"score":0,"question_id":13263045,"title":"Grouping sql statement","body":"<p>I'm using SQLite and have a table like this:</p>\n\n<pre><code>CREATE TABLE stream_activity(\n    id INTEGER PRIMARY KEY,\n    username TEXT,\n    time INTEGER,\n    viewers INTEGER\n);\n</code></pre>\n\n<p>I'm keeping time as a unix timestamp. Now here's what I want to do -- have a table that shows the most viewed streams over the course of an hour (with data recorded every 5 minutes), but also sorted by time ascending and grouped by username, kind of like this (x = now, y = some random value):</p>\n\n<pre>\nTime     Username      Viewers\nx - 1h   GuyOne        y\nx - 55m  GuyOne        y\n....\nx - 5m   GuyOne        \nx        GuyOne        highest_view_count\nx - 1h   GuyTwo\nx - 55m  GuyTwo        y\n....\nx - 5m   GuyTwo        y\nx        GuyTwo        secondhighest_view_count\n</pre>\n\n<p>Also feel free to tell me if it's not possible with sqlite (and what type of sql server can do this)</p>\n"},{"tags":["android","sqlite","simplecursoradapter"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":13260748,"title":"Cursor and SimpleCursorAdapter","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/5905587/system-services-not-available-to-activities-before-oncreate\">System services not available to Activities before onCreate?</a>  </p>\n</blockquote>\n\n\n\n<p>I am trying to return the values of a database to a listview but I am getting an error. I am using a cursor to get the data from a table and a SimpleCursorAdapter to read the cursor. This is the method that does this:</p>\n\n<pre><code>public void getData(){\n        String[] columns = new String[] {ModuleDB.KEY_ROWID, \n                ModuleDB.KEY_MODCODE,\n                ModuleDB.KEY_MODNAME,\n                ModuleDB.KEY_LECPRAC,\n                ModuleDB.KEY_DAYS,\n                ModuleDB.KEY_TIMESTART,\n                ModuleDB.KEY_TIMEEND,\n                ModuleDB.KEY_LOCATION,\n                ModuleDB.KEY_INFO};\n        int[] to = new int[]{R.id.modcode_entry,\n                             R.id.modname_entry,\n                             R.id.modlecprac_entry,\n                             R.id.modday_entry,\n                             R.id.modtimestart_entry,\n                             R.id.modtimeend_entry,\n                             R.id.modlocation_entry,\n                             R.id.modaddinfo_entry};\n\n        Cursor curs = myDatabase.query(ModuleDB.DB_TABLE, columns, null, null, null, null, null);\n        if (curs != null)\n            curs.moveToFirst();\n\n        SimpleCursorAdapter dataSource = new SimpleCursorAdapter(ModuleDataSource.this, R.layout.list_entry, curs, columns, to);\n        this.setListAdapter(dataSource);\n\n        // Make sure to close the cursor\n        curs.close();\n        }\n</code></pre>\n\n<p>This method is causing the exception: <code>\"System Services not available to activites before onCreate()\"</code> </p>\n\n<p>Can anyone help me with this? I can't find any good tutorials for cursors and cursoradapters and I really am completely lost</p>\n\n<p>EDIT:</p>\n\n<p>This might help.</p>\n\n<p><strong>MainActivity.java</strong></p>\n\n<pre><code>public class MainActivity extends Activity {\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        ModuleDataSource dbinfo = new ModuleDataSource(this);\n        dbinfo.open();\n        dbinfo.getData();\n        dbinfo.close();\n    }\n</code></pre>\n\n<p><strong>ModuleDataSource.java</strong></p>\n\n<pre><code>public class ModuleDataSource extends ListActivity{\n\n    private SQLiteDatabase myDatabase;\n    private ModuleDB myhelper;\n\n    public ModuleDataSource(Context context){\n        myhelper = new ModuleDB(context);\n    }\n\n    public void open() throws SQLException { //Open the database for writing\n        myDatabase = myhelper.getWritableDatabase();\n    }\n\n    public void close(){ //Close the database\n        myhelper.close();\n    }\n\n    public void getData(){\n        String[] columns = new String[] {ModuleDB.KEY_ROWID, \n                ModuleDB.KEY_MODCODE,\n                ModuleDB.KEY_MODNAME,\n                ModuleDB.KEY_LECPRAC,\n                ModuleDB.KEY_DAYS,\n                ModuleDB.KEY_TIMESTART,\n                ModuleDB.KEY_TIMEEND,\n                ModuleDB.KEY_LOCATION,\n                ModuleDB.KEY_INFO};\n        int[] to = new int[]{R.id.modcode_entry,\n                             R.id.modname_entry,\n                             R.id.modlecprac_entry,\n                             R.id.modday_entry,\n                             R.id.modtimestart_entry,\n                             R.id.modtimeend_entry,\n                             R.id.modlocation_entry,\n                             R.id.modaddinfo_entry};\n\n        Cursor curs = myDatabase.query(ModuleDB.DB_TABLE, columns, null, null, null, null, null);\n        startManagingCursor(curs);\n\n        if (curs != null)\n            curs.moveToFirst();\n\n        SimpleCursorAdapter dataSource = new SimpleCursorAdapter(ModuleDataSource.this, R.layout.list_entry, curs, columns, to);\n        setListAdapter(dataSource);\n\n        }\n}\n</code></pre>\n\n<p>EDIT2: Logcat</p>\n\n<pre><code>11-06 23:24:07.885: D/AndroidRuntime(887): Shutting down VM\n11-06 23:24:07.885: W/dalvikvm(887): threadid=1: thread exiting with uncaught exception (group=0x4001d800)\n11-06 23:24:07.895: E/AndroidRuntime(887): FATAL EXCEPTION: main\n11-06 23:24:07.895: E/AndroidRuntime(887): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.adoherty.assignment3/com.adoherty.assignment3.MainActivity}: \n                                          java.lang.IllegalStateException: System services not available to Activities before onCreate()\n11-06 23:24:07.895: E/AndroidRuntime(887):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2663)\n11-06 23:24:07.895: E/AndroidRuntime(887):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2679)\n11-06 23:24:07.895: E/AndroidRuntime(887):  at android.app.ActivityThread.access$2300(ActivityThread.java:125)\n11-06 23:24:07.895: E/AndroidRuntime(887):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2033)\n11-06 23:24:07.895: E/AndroidRuntime(887):  at android.os.Handler.dispatchMessage(Handler.java:99)\n11-06 23:24:07.895: E/AndroidRuntime(887):  at android.os.Looper.loop(Looper.java:123)\n11-06 23:24:07.895: E/AndroidRuntime(887):  at android.app.ActivityThread.main(ActivityThread.java:4627)\n11-06 23:24:07.895: E/AndroidRuntime(887):  at java.lang.reflect.Method.invokeNative(Native Method)\n11-06 23:24:07.895: E/AndroidRuntime(887):  at java.lang.reflect.Method.invoke(Method.java:521)\n11-06 23:24:07.895: E/AndroidRuntime(887):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)\n11-06 23:24:07.895: E/AndroidRuntime(887):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)\n11-06 23:24:07.895: E/AndroidRuntime(887):  at dalvik.system.NativeStart.main(Native Method)\n11-06 23:24:07.895: E/AndroidRuntime(887): Caused by: java.lang.IllegalStateException: System services not available to Activities before onCreate()\n11-06 23:24:07.895: E/AndroidRuntime(887):  at android.app.Activity.getSystemService(Activity.java:3526)\n11-06 23:24:07.895: E/AndroidRuntime(887):  at android.widget.ResourceCursorAdapter.&lt;init&gt;(ResourceCursorAdapter.java:49)\n11-06 23:24:07.895: E/AndroidRuntime(887):  at android.widget.SimpleCursorAdapter.&lt;init&gt;(SimpleCursorAdapter.java:84)\n11-06 23:24:07.895: E/AndroidRuntime(887):  at com.adoherty.assignment3.ModuleDataSource.getData(ModuleDataSource.java:74)\n11-06 23:24:07.895: E/AndroidRuntime(887):  at com.adoherty.assignment3.MainActivity.onCreate(MainActivity.java:17)\n11-06 23:24:07.895: E/AndroidRuntime(887):  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)\n11-06 23:24:07.895: E/AndroidRuntime(887):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2627)\n11-06 23:24:07.895: E/AndroidRuntime(887):  ... 11 more\n</code></pre>\n"},{"tags":["java","android","sqlite","contextmenu"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":1940,"score":0,"question_id":2526036,"title":"Using a Context Menu to delete from a SQLite database in Android","body":"<p>I have created a list view that displays the names and dates of items stored in a SQLite database, now I want to use a Context Menu to modify these items stored in the database such as edit the name, delete, and view.</p>\n\n<p>This is the code for the list view:</p>\n\n<pre><code>public void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.listview);\n\n    SQLiteDatabase myDB = null; \n    myDB = this.openOrCreateDatabase(MY_DB_NAME, MODE_PRIVATE, null);\n\n    Cursor cur = myDB.rawQuery(\"SELECT _id, trackname, tracktime\" + \" FROM \" + MY_DB_TABLE, null);\n    ListAdapter adapter = new SimpleCursorAdapter(this, R.layout.listview, cur,\n    new String[] { Constants.TRACK_NAME, Constants.TRACK_TIME}, new int[] { R.id.text1, R.id.text2});\n    ListView list = (ListView)findViewById(R.id.list);\n    list.setAdapter(adapter);\n    registerForContextMenu(list);\n}\n</code></pre>\n\n<p>and the Context Menu...</p>\n\n<pre><code>public void onCreateContextMenu(ContextMenu menu, View v,\n        ContextMenuInfo menuInfo) {\n    super.onCreateContextMenu(menu, v, menuInfo);\n    menu.setHeaderTitle(\"Track Options\");\n    menu.add(0, CHANGE_NAME, 0, \"Change name\");\n\n    menu.add(0, VIEW_TRACK, 0, \"View track\");\n\n    menu.add(0, SEND_TRACK, 0, \"Send track\");\n\n    menu.add(0, DELETE_TRACK, 0, \"Delete track\");\n\n\n}\n</code></pre>\n\n<p>I have used a Switch statement to control the menu items..</p>\n\n<pre><code>public boolean onContextItemSelected(MenuItem item) {\n   switch (item.getItemId()){\n   case CHANGE_NAME:\n       changename();\n       return true;\n\n   case DELETE_TRACK:\n       deletetrack();\n       return true;\n\n   default:\n   return super.onContextItemSelected(item);\n}\n</code></pre>\n\n<p>So how would I go ahead and map the deletetrack(); method to find the ID of the track stored in the database to the item that has been selected in the list view?</p>\n"},{"tags":["c","multithreading","sqlite","bots","irc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":28,"score":-2,"question_id":13262528,"title":"creating a basic shell in C for an IRC bot with another thread running in the background","body":"<p>At the moment I have a very simple IRC bot written in C.  When I run it, it sets up the connection and joins the specified channel.  All the connection details are hard-coded, but this is not an issue.</p>\n\n<p>What I want to do is have a basic shell run at the same time, meaning the loop I currently have to receive text from the IRC channel and parse it is running in a thread in the background.  From this shell, I want to be able to run commands that may send messages to the IRC channel, or may terminate the program gracefully (meaning both threads will need to be closed).  This shell is not meant to be any kind of job control shell.</p>\n\n<p>The primary point of this bot is to monitor the channel for any URLs posted and store them in an SQLite database.  People in the IRC channel will then be able to search the database for particular URLs.  I also want to be able to perform various database commands from the shell, such as search, but also manual insertions and deletions.  I mention this because I assume I will need to ensure all database access is thread-safe.  Also, ideally, I'd prefer insertions to database to be prioritised over searching, but this is practically last on my list of requirements.</p>\n\n<p>Finally, there is the chance that some commands received from the IRC channel could be spawned off into their own threads.  This could be because they are accessing the database, something which definitely has the potential to be less than instant, but also because they are calling a method to block the thread for a period of time to stagger the transmission of messages to the channel.</p>\n\n<p>This is what I'm asking:</p>\n\n<ul>\n<li>How do I go about setting up this sort of program? What sort of structure do I need to run two main threads at once and potentially pass messages between the two?</li>\n<li>Does access to the socket used for communicating to the IRC channel need to be thread-safe?</li>\n<li>How should I go about making the program thread-safe? Will mutex suffice?</li>\n</ul>\n\n<p>If it matters, the program will almost certainly be running on an Ubuntu Server distribution.</p>\n"},{"tags":["android","sqlite","import","backup"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13261814,"title":"simple import/export option of a sqlite database","body":"<p>Considering that my application is still in development, from time to time error appears that have influence on my database connected with the application. Because I have already test data, that I don't want to enter every time something goes wrong, I want to implement a simple import / export functionality.</p>\n\n<p>I recently stumbled over <a href=\"http://stackoverflow.com/questions/6540906/android-simple-export-import-of-sqlite-database\">this</a> question, which is more or less what I want. I show you my code implemented. The export function works fine, I can test it with a <code>SQLIte Database</code> application from the android market. The problem is the import. It shows me the <code>Toast</code>, that everything gone good, but nothing happens. Still, I'm not quite sure if I'm doing it right.</p>\n\n<p>In the <code>MainMenuActivity</code> I've implemented following methods:</p>\n\n<pre><code>(...)\n\npublic boolean onCreateOptionsMenu(Menu menu){\n    menu.add(1, Menu.FIRST, Menu.FIRST, \"backup DB\").setIcon(R.drawable.ic_action_save);\n    menu.add(1, Menu.FIRST+1, Menu.FIRST+1, \"import DB\").setIcon(R.drawable.ic_action_upload);\n    return super.onCreateOptionsMenu(menu);\n}\n\n(...)\n\npublic boolean onOptionsItemSelected(MenuItem item){\n    switch(item.getItemId()){\n    case 1:\n        backupDatabase();\n        return true;\n    case 2:\n        importDatabase();\n        return true;\n        default:\n        break;\n    }\n    return super.onOptionsItemSelected(item);\n}\n\n\nprivate void backupDatabase(){\n    try{\n         File sd = Environment.getExternalStorageDirectory();\n         File data = Environment.getDataDirectory();\n\n         if (sd.canWrite()) {\n             String currentDBPath = \"//data//challenge.main//databases//DBCHALLENGES\";\n             String backupDBPath = \"DBCHALLENGES\";\n             File currentDB = new File(data, currentDBPath);\n             File backupDB = new File(sd, backupDBPath);\n\n             FileChannel src = new FileInputStream(currentDB).getChannel();\n             FileChannel dst = new FileOutputStream(backupDB).getChannel();\n             dst.transferFrom(src, 0, src.size());\n             src.close();\n             dst.close();\n             Toast.makeText(getBaseContext(), \"Successfully backed up database!\", Toast.LENGTH_LONG).show();\n         }\n    }catch (IOException e){\n        Toast.makeText(getBaseContext(), \"Error in backing up database!\", Toast.LENGTH_LONG).show();\n    }\n}\n\n\nprivate void importDatabase(){\n    datasource = new CustomDataSource(this);\n    datasource.open();\n    try{\n        datasource.importDatabase(\"DBCHALLENGES\");\n        Toast.makeText(getBaseContext(), \"Successfully imported database!\", Toast.LENGTH_LONG).show();\n    }catch (IOException e){\n        Toast.makeText(getBaseContext(), \"Error in importing database!\", Toast.LENGTH_LONG).show();\n    }finally{\n        datasource.close();\n    }\n}\n</code></pre>\n\n<p>in my <code>CustomDataSource</code>:</p>\n\n<pre><code>public boolean importDatabase(String dbPath) throws IOException{\n    return dbHelper.importDatabase(dbPath);\n}\n</code></pre>\n\n<p>and finally in the <code>DBHelper</code> extending <code>SQLiteOpenHelper</code></p>\n\n<pre><code>public boolean importDatabase(String dbPath) throws IOException{\n    close();\n    File newDB = new File(dbPath);\n    File oldDB = new File(\"//data//challenge.main//databases//DBCHALLENGES\");\n    if(newDB.exists()){\n        FileUtils.copyFile(new FileInputStream(newDB), new FileOutputStream(oldDB));\n        getWritableDatabase().close();\n        return true;\n    }\n\n    return false;\n}\n</code></pre>\n\n<p>However, pressing on the import <code>Button</code>, the positive <code>Toast</code> appears, saying that the import was successfull. But my application, empty before, is still empty. The backed up database is supposed to be located on the first level of the internal storage, what it does. I think, maybe I'm confusing something with the paths, but I can't get through what exactly.</p>\n"},{"tags":["android","database","sqlite","application"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":13238681,"title":"Writing to second table in database for Android Application","body":"<p>I am (and have been for a while) working on an android project that will serve as a very basic class schedule app. So far, I have the following working: add courses to database, remove courses from database, display courses with location and subject on a list, open up an \"assignments\" menu to create an assignment for a course. </p>\n\n<p>The problem is that when I attempt to click the save button on the assignment creation menu, it just doesn't add the assignment to the list.</p>\n\n<p>The assignment list is a second table within the \"courses\" database (labeled lunchlist.db). Attached below are the three classes that are responsible for handling the assignments. </p>\n\n<p>Assignment List:</p>\n\n<pre><code>public class AssList extends ListActivity {\n    public final static String ID_EXTRA = \"apt.tutorial._ID\";\n    Cursor model = null;\n    AssAdapter adapter = null;\n    AssHelper helper = null;\n    SharedPreferences prefs = null;\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.ass);\n\n        helper = new AssHelper(this);\n    }\n\n    @Override\n    public void onDestroy() {\n        super.onDestroy();\n\n        helper.close();\n    }\n\n    @Override\n    public void onListItemClick(ListView list, View view, int position, long id) {\n        Intent i = new Intent(AssList.this, AssForm.class);\n\n        i.putExtra(ID_EXTRA, String.valueOf(id));\n        startActivity(i);\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        new MenuInflater(this).inflate(R.menu.ass_option, menu);\n\n        return (super.onCreateOptionsMenu(menu));\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        if (item.getItemId() == R.id.add_ass) {\n            startActivity(new Intent(AssList.this, AssForm.class));\n\n            return (true);\n        }\n\n        return (super.onOptionsItemSelected(item));\n    }\n\n    public void initList() {\n        if (model != null) {\n            stopManagingCursor(model);\n            model.close();\n        }\n\n        model = helper.getAll(prefs.getString(\"sort_order\", \"name\"));\n        startManagingCursor(model);\n        adapter = new AssAdapter(model);\n        setListAdapter(adapter);\n    }\n\n    private SharedPreferences.OnSharedPreferenceChangeListener prefListener = new SharedPreferences.OnSharedPreferenceChangeListener() {\n        public void onSharedPreferenceChanged(SharedPreferences sharedPrefs,\n                String key) {\n            if (key.equals(\"sort_order\")) {\n                initList();\n            }\n        }\n    };\n\n    class AssAdapter extends CursorAdapter {\n        AssAdapter(Cursor c) {\n            super(AssList.this, c);\n        }\n\n        @Override\n        public void bindView(View row, Context ctxt, Cursor c) {\n            AssHolder holder = (AssHolder) row.getTag();\n\n            holder.populateFrom(c, helper);\n        }\n\n        @Override\n        public View newView(Context ctxt, Cursor c, ViewGroup parent) {\n            LayoutInflater inflater = getLayoutInflater();\n            View row = inflater.inflate(R.layout.row, parent, false);\n            AssHolder holder = new AssHolder(row);\n\n            row.setTag(holder);\n\n            return (row);\n        }\n    }\n\n    static class AssHolder {\n        private TextView name = null;\n        private TextView address = null;\n        private ImageView icon = null;\n\n        AssHolder(View row) {\n            name = (TextView) row.findViewById(R.id.title);\n            address = (TextView) row.findViewById(R.id.address);\n            icon = (ImageView) row.findViewById(R.id.icon);\n        }\n\n        void populateFrom(Cursor c, AssHelper helper) {\n            name.setText(helper.getName(c));\n            address.setText(helper.getUrgency(c));\n\n            if (helper.getUrgency(c).equals(\"normal\")) {\n                icon.setImageResource(R.drawable.eg);\n            } else if (helper.getUrgency(c).equals(\"pending\")) {\n                icon.setImageResource(R.drawable.ey);\n            } else {\n                icon.setImageResource(R.drawable.er);\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Assignment Form:</p>\n\n<pre><code>public class AssForm extends Activity {\n    EditText name = null;\n    RadioGroup types = null;\n    AssHelper helper = null;\n    String AssId = null;\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.ass_edit);\n\n        helper = new AssHelper(this);\n\n        name = (EditText) findViewById(R.id.assname);\n        types = (RadioGroup) findViewById(R.id.urge);\n\n        Button save = (Button) findViewById(R.id.save_ass);\n        Button del = (Button) findViewById(R.id.del_ass);\n        save.setOnClickListener(onSave);\n        del.setOnClickListener(onDel);\n\n        AssId = getIntent().getStringExtra(AssList.ID_EXTRA);\n\n        if (AssId != null) {\n            load();\n        }\n    }\n\n    @Override\n    public void onDestroy() {\n        super.onDestroy();\n\n        helper.close();\n    }\n\n    private void load() {\n        Cursor c = helper.getById(AssId);\n\n        c.moveToFirst();\n        name.setText(helper.getName(c));\n\n        if (helper.getUrgency(c).equals(\"normal\")) {\n            types.check(R.id.normal);\n        } else if (helper.getUrgency(c).equals(\"pending\")) {\n            types.check(R.id.pending);\n        } else {\n            types.check(R.id.due);\n        }\n\n        c.close();\n    }\n\n    private View.OnClickListener onSave = new View.OnClickListener() {\n        public void onClick(View v) {\n            String type = null;\n\n            switch (types.getCheckedRadioButtonId()) {\n            case R.id.normal:\n                type = \"normal\";\n                break;\n            case R.id.pending:\n                type = \"pending\";\n                break;\n            case R.id.due:\n                type = \"due\";\n                break;\n            }\n\n            if (AssId == null) {\n                helper.insert(name.getText().toString(), type);\n            } else {\n                helper.update(AssId, name.getText().toString(), type);\n            }\n\n            finish();\n        }\n    };\n\n    private View.OnClickListener onDel = new View.OnClickListener() {\n        public void onClick(View v) {\n            helper.deleteValue(name.getText().toString());\n\n            finish();\n        }\n    };\n}\n</code></pre>\n\n<p>Assignment Helper:</p>\n\n<pre><code>class AssHelper extends SQLiteOpenHelper {\n    private static final String DATABASE_NAME = \"lunchlist.db\";\n    private static final int SCHEMA_VERSION = 1;\n\n    public AssHelper(Context context) {\n        super(context, DATABASE_NAME, null, SCHEMA_VERSION);\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        db.execSQL(\"CREATE TABLE assignments (_id INTEGER PRIMARY KEY AUTOINCREMENT, assname TEXT, urge TEXT);\");\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n        // no-op, since will not be called until 2nd schema\n        // version exists\n    }\n\n    public Cursor getAll(String orderBy) {\n        return (getReadableDatabase().rawQuery(\n                \"SELECT _id, assname, urge FROM assignments ORDER BY \"\n                        + orderBy, null));\n    }\n\n    public Cursor getById(String id) {\n        String[] args = { id };\n\n        return (getReadableDatabase().rawQuery(\n                \"SELECT _id, assname, urge FROM assignments WHERE _ID=?\",\n                args));\n    }\n\n    public void insert(String name, String type) {\n        ContentValues cv = new ContentValues();\n\n        cv.put(\"assname\", name);\n        cv.put(\"urge\", type);\n\n        getWritableDatabase().insert(\"assignments\", \"assname\", cv);\n    }\n\n    public void deleteValue(String value) {\n        SQLiteDatabase db = getWritableDatabase();\n\n        String whereClause = \"assname\" + \"=?\";\n        String[] whereArgs = new String[] { String.valueOf(value) };\n        db.delete(\"assignments\", whereClause, whereArgs);\n        db.close();\n    }\n\n    public void update(String id, String name, String type) {\n        ContentValues cv = new ContentValues();\n        String[] args = { id };\n\n        cv.put(\"assname\", name);\n        cv.put(\"urge\", type);\n\n        getWritableDatabase().update(\"assignments\", cv, \"_ID=?\", args);\n    }\n\n    public String getName(Cursor c) {\n        return (c.getString(1));\n    }\n\n    public String getUrgency(Cursor c) {\n        return (c.getString(2));\n    }\n}\n</code></pre>\n\n<p>I know it is a lot to read through, however I am really stuck on this final part to my project. These three classes are (for all intents and purposes) almost identical to the three for adding courses. The only differences are that the variable names are changed and that the class references are switched to match the assignment classes. Any help or criticism is greatly welcomed. Thank you in advance for taking the time to read through my question.</p>\n"},{"tags":["java","sqlite","tomcat","jdbc"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":2095,"score":0,"question_id":4279632,"title":"How to configure SQLite in Tomcat 6?","body":"<p>Can you please provide the steps on how to use sqlite in tomcat 6? I am using Xerial sqlite jdbc driver. In my application, I have got multiple sqlite databases (.db files) and would need to connect to a different sqlite database depending on what user logs in ? Where can I put all the .db files - with in the webapp root's directory or any where on the system or with in WEB-INF?</p>\n\n<p>Thanks,</p>\n\n<p>Deep</p>\n"},{"tags":["jquery","database","xcode","sqlite","uiwebview"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13260369,"title":"Xcode UIWebView with SQLite Database","body":"<p>I'm creating an iPhone app that uses UIWebView, I have a MySQL database with 7 tables and about 100 rows in each table. I want to avoid using PHP so that I can locally load the html file into my app using:</p>\n\n<pre><code>[myWebView loadRequest:[NSURLRequest requestWithURL:[NSURL fileURLWithPath:[[NSBundle mainBundle] pathForResource:@\"index\" ofType:@\"html\"]isDirectory:NO]]];\n</code></pre>\n\n<p>rather than an external URL...</p>\n\n<p>I've exported the MySQL database, and formatted all the information into a SQLite database.</p>\n\n<p>Is there a way to add the database into my Xcode project, and then query the data into my HTML file without having access to the internet?</p>\n\n<p>Clarification, is there a localized, offline alternative to:</p>\n\n<pre><code>&lt;?php\ninclude(\"connect.php\");\n$variable = mysql_query(\"SELECT * FROM table ORDER BY name\");\n?&gt;\n</code></pre>\n\n<p>Essentially, I'm looking for an ALL jQuery approach so that my application doesn't require internet!</p>\n\n<p>Thanks!</p>\n"},{"tags":["sqlite","sql-server-ce","portability","embedded-database"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":12868271,"title":"Embedded database for a simple portable application","body":"<p>I am going to develop small WPF application. Target platform is .NET 3.5. The main goal is to make it portable (move to any folder and it works out of the box). It should run on Windows 7 machine without any additional installations. However I need a database into it (not need ORM support, just simple storage). Could you please suggest database that would be better for this purpose? I think about SQL CE 4.0 but I am not sure whether it requires additional installations like C++ libs or not. Including DLLs is OK.</p>\n"},{"tags":["ios","sqlite","fmdb"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":24,"score":1,"question_id":13242425,"title":"SQLite FMDB creating table - beginner iOS","body":"<p>I think this is a simple question but I didnt find the answer in the FMDB git page.\nWhen you use the command:</p>\n\n<pre><code>[database executeUpdate:@\"create table T_table(name text primary key, age int)\"];\n</code></pre>\n\n<p>does FMDB or SQLite make some kind of verification to see if the table already exists?</p>\n\n<p>Can I call this method in my class initializer without creating more than one table?</p>\n\n<p>Sorry if stupid question.</p>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":29,"score":-1,"question_id":13258862,"title":"Android: insert datetime in Sqlite database","body":"<p>I am trying to insert datetime field in Sqlite database in an Andoird project. Tried many ways <a href=\"http://stackoverflow.com/questions/13105609/inserting-datetime-in-sqlite-database-android\">like this</a> but no luck in inserting datetime field.  Here are facts</p>\n\n<p>1] My Sqlite field is type timestamp</p>\n\n<p>2] database class </p>\n\n<pre><code>package com.gcm.pushandroid;\nimport java.util.Date;\n\npublic class Notifications {\n\n     //private variables \n      String _type; \n      String _time_stamp;\n\n\n       // Empty constructor \n       public Notifications(){ \n\n       } \n       // constructor \n       public Notifications(String type, String timeStamp){ \n           this._type = type; \n           this._time_stamp = timeStamp;\n       } \n\n\n      // getting ID \n      public String getType(){ \n          return this._type; \n       } \n\n      // setting id \n      public void setType(String type){ \n         this._type = type; \n      } \n\n     // getting timestamp\n     public String getTimeStamp(){ \n        return this._time_stamp; \n     } \n\n     // setting \n     public void setTimeStamp(String time_stamp){ \n          this._time_stamp = time_stamp; \n     } \n\n}\n</code></pre>\n\n<p>3] Here is code</p>\n\n<pre><code>SQLiteDatabase db = this.getWritableDatabase(); \nContentValues values = new ContentValues(); \nvalues.put(KEY_TYPE, notificationObj.getType());  \nSimpleDateFormat dateFormat = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\"); \nDate date = new Date();\nvalues.put(\"time_stamp\", dateFormat.format(date));\ndb.insert(TABLE_CONTACTS, null, values); \ndb.close();\n</code></pre>\n\n<p>Don't know what is going wrong. Help is apprecited.\nThank you</p>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":29,"score":2,"question_id":13256993,"title":"Merging 2 android sqlite queries in a train schedule app","body":"<p>I'm building a android application with sqlite for train schedules. My application requests from the user 2 train stations, to and from and a date (I'm ignoring the date for now). With those I've been trying to do a single query to return all schedules available between those stations on a given day.</p>\n\n<p>My table structure is:</p>\n\n<pre><code>stations (_id INTEGER PRIMARY KEY AUTOINCREMENT, \n          name TEXT, \n          central BOOLEAN)\n\nschedule_stations (_id INTEGER PRIMARY KEY AUTOINCREMENT, \n                   arrival TEXT, \n                   departure TEXT, \n                   availability INTEGER, \n                   stationID INTEGER, \n                   FOREIGN KEY(stationID) REFERENCES stations(_id))\n\nschedule (_id INTEGER PRIMARY KEY AUTOINCREMENT, \n          trainID INTEGER, \n          day TEXT, \n          scheduleStationId INTEGER, \n          FOREIGN KEY(scheduleStationId) REFERENCES schedule_stations(_id))\n</code></pre>\n\n<p>So far I've been able to devise 2 queries one using the From station given :</p>\n\n<pre><code>            c1=db.rawQuery(\n                \"SELECT s2._id, name, departure, trainID \" +\n                        \"FROM schedule_stations s1 INNER JOIN stations s2 \" +\n                        \"ON s1.stationID = s2._id INNER JOIN schedule s3 \" +\n                        \"ON s3.scheduleStationId = s1._id \" +\n                        \"WHERE stationID=? \", \n                        new String[] {station1+\"\"});\n</code></pre>\n\n<p>This gives me all the departures from the provided From station (station1).</p>\n\n<p>And using the To station I have:</p>\n\n<pre><code>            c2=db.rawQuery(\n                \"SELECT s2._id, name, arrival, trainID \" +\n                        \"FROM schedule_stations s1 INNER JOIN stations s2 \" +\n                        \"ON s1.stationID = s2._id INNER JOIN schedule s3 \" +\n                        \"ON s3.scheduleStationId = s1._id \" +\n                        \"WHERE stationID=? AND trainID IN (\"+queryPlaceholders(strlist.size()-1)+\")\", \n                        strlist.toArray(new String[0]));\n</code></pre>\n\n<p>This gives me all the arrivals to the provided To station that have trainIDs that showed up in first query (to guarantee a connection).</p>\n\n<p>If I output the cursors they seem correct, individually (notice last 3 elements are: Station name | time | trainID):</p>\n\n<pre><code>C1: Row: 0, Values: 1; Station A; 08:00; 1\nC1: Row: 1, Values: 1; Station A; 12:00; 2\nC2: Row: 0, Values: 2; Station B; 09:00; 1\nC2: Row: 1, Values: 2; Station B; 13:00; 2\n</code></pre>\n\n<p>What I would like is to somehow merge these in a single query so I end up with only 1 cursor that I can use to populate my listadapter and my view. MergeCursor didn't help because it just added the columns, doesn't link them by the trainID.\nI tried using a INNER JOIN and a UNION between the queries but I ran into syntax errors. </p>\n\n<p>Assuming the output above, what I expect from a single query is a cursor giving 2 rows, each row with 2 name stations and 2 dates (arrival/departure) as that is the information I want to show in each row of the android view.</p>\n"},{"tags":["android","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13256132,"title":"android sqllite old data","body":"<p>I'm testing an application using a sqllite database. When I run the project in the emulater (ie reinstall) the old data from the previous install still exists in the database. Is there something like an onInstall method I can call to wipe the old data and start fresh?</p>\n"},{"tags":["sqlite","monotouch","vici"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":12,"score":2,"question_id":13255950,"title":"Vici CoolStorage Primary Key Not Set To INTEGER AUTOINCREMENT","body":"<p>I guess this is to do with my lack of understanding of how Vici CS ORM for MonoTouch works.\nWhen using Vici CS for Monotouch, instantiating a DB-mapped object takes long time (several tens of seconds) when the primary key is not set to INTEGER AUTOINCREMENT. When the PK is INTEGER AUTOINCREMENT, the execution is smooth.</p>\n\n<p>My DB-mapped class looks like this:</p>\n\n<pre><code>[MapTo(\"Employees\")]\npublic class Employee : CSObject&lt;Employee, int&gt;\n{\n    public Employee () { }\n\n    public int EmployeeId { get { return (int)GetField (\"EmployeeId \"); } }\n    public string Name{ get { return (string)GetField (\"Name\"); } set { SetField (\"Name\",value); } }\n    public string Address{ get { return (string)GetField (\"Address\"); } set { SetField (\"Address\",value); } }\n}\n</code></pre>\n\n<p>And the database creation script:</p>\n\n<pre><code>CREATE TABLE Employees (EmployeeId INTEGER PRIMARY KEY AUTOINCREMENT, Name TEXT, Address TEXT)\");\n</code></pre>\n\n<p>Removing AUTOINCREMENT keyword in table creation script slows down Employee object instantiation. Not removing it works fine.</p>\n\n<p>Is there recommended way avoid that constraint? For example, is it possible to have a TEXT field as the primary key which can then contain say a guid? </p>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":25,"score":1,"question_id":13254665,"title":"Why do some SQLite methods expect arguments as an Object[] while others need a String[]?","body":"<p>I'm curious about the design of the <a href=\"http://developer.android.com/reference/android/database/sqlite/SQLiteDatabase.html\" rel=\"nofollow\">Android SQLite API</a>. For example, we have</p>\n\n<pre><code>public void execSQL(String sql, Object[] bindArgs) \n</code></pre>\n\n<p>for SQLs that don't return data, and we also have</p>\n\n<pre><code>public Cursor rawQuery(String sql, String[] selectionArgs) \n</code></pre>\n\n<p>for SQLs that do return data.</p>\n\n<p>Why are the arguments expected as an Object array in the former and as a String array in the latter case? I understand that accepting only Strings might make sense due to SQLite's <a href=\"http://www.sqlite.org/datatype3.html#affinity\" rel=\"nofollow\">type affinity</a>. However, if that is the case, why not consistently use String arrays for arguments? Is there some non-String argument that makes sense for <code>execSQL</code> but not for <code>rawQuery</code>?</p>\n"},{"tags":["objective-c","ios","sqlite","core-data","fetch"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":3,"view_count":47,"score":-2,"question_id":13253741,"title":"Core Data fetching","body":"<p>I implemented an iOS Project that has a core data file, I implemented two functions </p>\n\n<ul>\n<li>first function that insert data into DB.</li>\n<li>second function get all data from DB.</li>\n</ul>\n\n<p>and then i call insert data method and then get data method.\nFirst time it shows the data from DB but in a freaky format, but when i run again it shows two records the first record returned null and the second record returned in that freaky format.</p>\n\n<p>this example of out output after 3 times:</p>\n\n<pre><code>(\n    \"&lt;Annotations: 0x89646d0&gt; (entity: Annotations; id: 0x89644f0 &lt;x-coredata://E80E0327-A490-4370-9183-96D1C15E0FBF/Annotations/p1&gt; ; data: &lt;fault&gt;)\",\n    \"&lt;Annotations: 0x8964710&gt; (entity: Annotations; id: 0x8964500 &lt;x-coredata://E80E0327-A490-4370-9183-96D1C15E0FBF/Annotations/p2&gt; ; data: &lt;fault&gt;)\",\n    \"&lt;Annotations: 0x8ba3e00&gt; (entity: Annotations; id: 0x8eb8960 &lt;x-coredata://E80E0327-A490-4370-9183-96D1C15E0FBF/Annotations/p3&gt; ; data: {\\n    \\\"annot_context\\\" = Test;\\n    \\\"annot_id\\\" = 1;\\n})\"\n)\n</code></pre>\n\n<p>so, what is the problem and what is the solution for that.</p>\n\n<p>There is Save Data: </p>\n\n<pre><code>-(void)saveDataTest \n{ \n    Annotations *_annot = [NSEntityDescription insertNewObjectForEntityForName:@\"Annotations\" inManagedObjectContext:self.managedObjectContext]; \n    _annot.annot_id = [NSNumber numberWithInt:1]; \n    _annot.annot_context = @\"Test\"; \n    NSLog(@\"%@\", _annot); \n    [self saveContext];\n    _annot.annot_context = @\"Test\"; \n    NSLog(@\"%@\", _annot); \n    [self saveContext]; \n}\n</code></pre>\n\n<p>Get Data </p>\n\n<pre><code>-(void)getDataFromDB { \n    NSEntityDescription entityDescription = [NSEntityDescription entityForName:@\"Annotations\" inManagedObjectContext:self.managedObjectContext]; \n    NSFetchRequest *request = [[[NSFetchRequest alloc] init] autorelease]; \n    [request setEntity:entityDescription]; \n    NSError error = nil; \n    NSArray *fetchedResults = [self.managedObjectContext executeFetchRequest:request error:&amp;error]; \n    if (fetchedResults == nil) NSLog(@\"No Results Found\");\n        NSLog(@\"%@\", fetchedResults);\n}\n</code></pre>\n"},{"tags":["java","android","sqlite","cipher"],"answer_count":2,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":69,"score":3,"question_id":13253783,"title":"Error decrypting in java","body":"<p>I'm trying to encrypt/decrypt a String in Java. No problem concerning the encryption then stored a in sqlite table. But I always get the same error trying to decrypt it :</p>\n\n<p>\"java.security.InvalidKeyException : no IV set when one expected\"</p>\n\n<p>Here is my code snippet :</p>\n\n<pre><code>public String encrypt(String password){\n    try\n    {\n        String key = \"mysecretpassword\";\n        SecretKeySpec keySpec = null;\n        keySpec = new SecretKeySpec(key.getBytes(\"UTF-8\"), \"AES\");\n        Cipher cipher = Cipher.getInstance(\"AES/CBC/PKCS7Padding\");\n        cipher.init(Cipher.ENCRYPT_MODE, keySpec);\n        return new String(cipher.doFinal(password.getBytes()));\n    }\n    catch (Exception e)\n    {\n        return null;\n    }\n}\n\npublic String decrypt(String password){\n    try\n    {\n        String key = \"mysecretpassword\";\n        SecretKeySpec keySpec = null;\n        keySpec = new SecretKeySpec(key.getBytes(\"UTF-8\"), \"AES\");\n        Cipher cipher = Cipher.getInstance(\"AES/CBC/PKCS7Padding\");\n        cipher.init(Cipher.DECRYPT_MODE,keySpec);\n        return new String(cipher.doFinal(password.getBytes()));\n    }\n    catch (Exception e)\n    {\n        System.out.println(e);\n        return null;\n    }\n}\n</code></pre>\n\n<p>What am I doing wrong?</p>\n"},{"tags":["android","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":23,"score":2,"question_id":13253584,"title":"Which method should I use for a \"complex\" UPDATE statement?","body":"<p>I want to execute a statement such as</p>\n\n<pre><code>UPDATE myTable SET myField = myField + 1\n</code></pre>\n\n<p>in an Android SQLite database. (Yes, I want to increment myField for all records.)</p>\n\n<p>My first idea was to use <a href=\"http://developer.android.com/reference/android/database/sqlite/SQLiteDatabase.html#execSQL%28java.lang.String,%20java.lang.Object%5b%5d%29\" rel=\"nofollow\"><code>execSQL</code></a>, but the documentation says:</p>\n\n<blockquote>\n  <p>execute a single SQL statement that is NOT a SELECT/INSERT/UPDATE/DELETE.</p>\n  \n  <p>...</p>\n  \n  <p>For UPDATE statements, use any of the following instead.<br>\n  • update(String, ContentValues, String, String[])<br>\n  • updateWithOnConflict(String, ContentValues, String, String[], int)</p>\n</blockquote>\n\n<p>However, as far as I can see, this type of UPDATE cannot be done with the <a href=\"http://developer.android.com/reference/android/database/sqlite/SQLiteDatabase.html#update%28java.lang.String,%20android.content.ContentValues,%20java.lang.String,%20java.lang.String%5b%5d%29\" rel=\"nofollow\"><code>SQLiteDatabase.update</code> method</a>. Did I miss some clever trick to do this with <code>SQLiteDatabase.update</code> or is the documentation broken? (Running the above SQL with execSQL works fine, although the documentation claims otherwise.)</p>\n"},{"tags":["python","sqlite","cursor"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":9,"score":0,"question_id":13253519,"title":"How to get value from Cursor execution result Python","body":"<p>I have a sqllite database in which the field dad_mmsi is created without a type:</p>\n\n<pre><code>c.execute('''CREATE TABLE IF NOT EXISTS AIS_anoniem\n             (dad_mmsi, dad_navstatus......)'''')\n</code></pre>\n\n<p>when i fetch the top result;</p>\n\n<pre><code>c.execute('SELECT DISTINCT dad_mmsi FROM AIS')\nprint c.fetchall()[0]\n</code></pre>\n\n<p>it prints: </p>\n\n<pre><code>(u'456000001',)\n</code></pre>\n\n<p>which is not the same as what i put in, because it is converted to a tuple. </p>\n\n<p>EDIT: since it is a tuple i need to access the index of the value i want:</p>\n\n<pre><code> print c.fetchall()[0][0] == '456000001'\n</code></pre>\n\n<p>gives me:</p>\n\n<pre><code> 'true' \n</code></pre>\n"},{"tags":["ios","sqlite","sqlite3"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":18,"score":1,"question_id":13251593,"title":"sqlite - replacing existing rows in particular range with data from another table","body":"<p>I have  table with 1500 rows and nearly 10 columns ..</p>\n\n<p>I have imported new data from csv file into another new table, now I want to copy data from this new table to already existing table's 10th column ..</p>\n\n<p>when I try</p>\n\n<pre><code>insert into presentDB (column10) select column1 from importDB\n</code></pre>\n\n<p>its inserting another 1500 new rows .. </p>\n\n<pre><code>UPDATE presentDB SET column10 = importDB.column1\n</code></pre>\n\n<p>this thing is throwing an error .. </p>\n\n<pre><code>UPDATE presentDB SET column10 = (SELECT column1 FROM importDB WHERE rowid between 1 and 1500)\n</code></pre>\n\n<p>gets executed, but copies the first value in column1.importDB to all the cells in present db.</p>\n\n<p>also what will be the query for </p>\n\n<p><code>copying data in particular range like 100 to 200 from importDB to 500 to 600 in presentDB</code></p>\n\n<p>can anyone please show a proper direction :)  thanks, any help is appreciated :) </p>\n"},{"tags":["android","iphone","database","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":13243792,"title":"storing sqlite database online","body":"<p>Previously, I developed an application with an internal sqlite database stored. \nNow I need to upload that database in an online server so that admins can easily modify the contents.</p>\n\n<p>Is it possible for my app to access/use the sqlite database online?</p>\n\n<p>The application is done on both ios and android. </p>\n"},{"tags":["c#","database","visual-studio","sqlite","windows-mobile"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13228990,"title":"Open database in Visual Studio (Windows Mobile)","body":"<p>I try to open a database with Visual Studio 2008 but I have a error: no such table. </p>\n\n<p>I created database with SQLiteAdmin and I added to project (View -> Server Explorer -> Data Connections -> Add -> SQLiteDatabaseSource)</p>\n\n<p>Moreover, this database (myDatabase.sqlite) is in the folder of the project and the query: \"SELECT Descripcion FROM Productos\" in a SQLiteAdmin is OK.</p>\n\n<p>I tried to change the path of Data Source but the error continues.</p>\n\n<p>Sorry for my english. Thanks!!!</p>\n\n<pre><code>   string myConnString = \"Data Source = myDatabase.sqlite\";\n   string mySelectQuery = \"SELECT Descripcion FROM Productos\";\n   SQLiteConnection sqConnection = new SQLiteConnection(myConnString);\n   SQLiteCommand sqCommand = new SQLiteCommand(mySelectQuery, sqConnection);\n   sqConnection.Open();\n\n   try\n   {\n       SQLiteDataReader sqReader = sqCommand.ExecuteReader(); //ERROR in run ###\n\n       while (sqReader.Read())\n       {\n            Console.WriteLine(sqReader.GetInt32(0) + \", \" + sqReader.GetString(sqReader.GetOrdinal(\"Descripcion\")));\n       }\n\n            sqReader.Close();\n\n    }\n\n    finally\n    {\n            sqConnection.Close();\n    }\n</code></pre>\n"}]}
{"total":16516,"page":2,"pagesize":100,"questions":[{"tags":["java","android","sqlite","exception"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13252058,"title":"android.database.sqlite.SQLiteDiskIOException","body":"<p>I don't use sql lite in my application but it's trowing this error. Any ideas on why that is?</p>\n\n<pre><code>android.database.sqlite.SQLiteDiskIOException: error code 10: disk I/O error \nat android.database.sqlite.SQLiteStatement.native_execute(Native Method)\nat android.database.sqlite.SQLiteStatement.execute(SQLiteStatement.java:61)\nat android.database.sqlite.SQLiteDatabase.execSQL(SQLiteDatabase.java:1809)\nat android.webkit.WebViewDatabase.flushCacheStat(WebViewDatabase.java:769)\nat android.webkit.CacheManager.trimCacheIfNeeded(CacheManager.java:558)\nat android.webkit.WebViewWorker.handleMessage(WebViewWorker.java:190)\nat android.os.Handler.dispatchMessage(Handler.java:99)\nat android.os.Looper.loop(Looper.java:130)\nat android.os.HandlerThread.run(HandlerThread.java:60)\n</code></pre>\n\n<p>Thanks</p>\n"},{"tags":["sql","sqlite","sqlite3"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":43,"score":1,"question_id":13250386,"title":"Sqlite - SELECT or INSERT and SELECT in one statment","body":"<p>I'm trying to avoid writing different SQL queries to achieve the following scenario:</p>\n\n<p>I have a Table called Values:</p>\n\n<p>Values:</p>\n\n<pre><code>id INT (PK)\ndata TEXT\n</code></pre>\n\n<p>I would like to check if a certain data exists in the table, if it is return it's id, if it does not exists, then insert it and return it's id.</p>\n\n<p>The (very) naive way would be:</p>\n\n<pre><code>select id from Values where data = \"SOME_DATA\";\n</code></pre>\n\n<p>if id is not null, great use it.\nif id is null then:</p>\n\n<pre><code>insert into Values(data) values(\"SOME_DATA\");\n</code></pre>\n\n<p>and then select it again to see its id or use the returned id.</p>\n\n<p>I am trying to make the above functionality in one line.\nI think i'm getting close, but i couldn't make it yet:\nSo far i got this:</p>\n\n<pre><code>select id from Values where data=(COALESCE((select data from Values where data=\"SOME_DATA\"), (insert into Values(data) values(\"SOME_DATA\"));\n</code></pre>\n\n<p>I'm trying to take advantage of the fact that the second select will return null and then the second argument to COALESCE will be returned. No success so far. What am I missing?</p>\n\n<p>Reminder, this is a sqlite3 engine! :P</p>\n\n<p>Thanks!</p>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":26,"score":1,"question_id":13248601,"title":"SQLite sort special characters alphabetically","body":"<p>I'm building an application that is used to teach people French. When I try to sort some French words do not end up where I intended them to be, for example:</p>\n\n<ul>\n<li>Aller</li>\n<li>Boire</li>\n<li>En</li>\n<li>Être</li>\n<li>Vouloir</li>\n</ul>\n\n<p>Will be sorted in the following order:</p>\n\n<ul>\n<li>Aller</li>\n<li>Boire</li>\n<li>En</li>\n<li>Vouloir</li>\n<li>Être</li>\n</ul>\n\n<p>The SQL statement I'm currently using is:</p>\n\n<pre><code>SELECT name, assignment_id FROM GrammarAssignments ORDER BY name COLLATE NOCASE\n</code></pre>\n"},{"tags":["android","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":64,"score":0,"question_id":13236034,"title":"SQLite usage with Android","body":"<p>For my app, I need to have a database containing one table with 4 columns in it. This tables and its parameters will be static after creation, so that they will stay in the same place with the same data to be listed in a list view.</p>\n\n<p>I have the DatabaseHandler for this purpose, but what I'm asking is how do I define this database in code? Does it build again every launch or is it only with the first launch? How does it work?</p>\n"},{"tags":["android","database","sqlite","cursor"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":30,"score":2,"question_id":13249129,"title":"close() the cursor and DB when use the sqlite database","body":"<p>In my application I use the <code>sqlite Database</code>,When I run the application Logcat display me </p>\n\n<pre><code>close() was never explicitly called on database '/data/data/com.MAT.CanadaImmigrationApp/databases/CanadaianImmigrationApp' \nE/Database(13822): android.database.sqlite.DatabaseObjectNotClosedException: Application did not close the cursor or database object that was opened here\n</code></pre>\n\n<p>I search on google and I found </p>\n\n<pre><code>db.close();  // to close your Database,\ncur.close();     //to close your cursor\n</code></pre>\n\n<p>But I don't get the idea where I add this code?</p>\n\n<p><strong>DbHelper.class</strong></p>\n\n<pre><code>public class DbHelper extends SQLiteOpenHelper {\n// Database attributes\n\npublic static final String DB_NAME = \"DB_NAME\";\npublic static final int DB_VERSION = 1;\n\npublic static final String TABLE_QUESTIONS = \"Questions_Answers\";\npublic static final String COLUMN_CHAPTERS = \"Chapters\";\npublic static final String COLUMN_QUESTIONS = \"Question\";\npublic static final String COLUMN_CORRECT_ANSWER = \"Correct_Answer\";\npublic static final String COLUMN_OPT1 = \"Answer1\";\npublic static final String COLUMN_OPT2 = \"Answer2\";\npublic static final String COLUMN_OPT3 = \"Answer3\";\n\npublic DbHelper(Context context) {\n    super(context, DB_NAME, null, DB_VERSION);\n}\n\n@Override\npublic void onCreate(SQLiteDatabase db) {\n\n\n    String createTable = \"create table if not exists \" + TABLE_QUESTIONS + \" ( \" + BaseColumns._ID + \" integer primary key autoincrement, \" \n                                                            + COLUMN_CHAPTERS + \" text not null, \"\n                                                            + COLUMN_QUESTIONS + \" text not null, \"\n                                                            + COLUMN_CORRECT_ANSWER + \" text not null, \"\n                                                            + COLUMN_OPT1 + \" text not null, \"\n                                                            + COLUMN_OPT2 + \" text not null, \"\n                                                            + COLUMN_OPT3 + \" text not null);\";\n\n    // Execute a single SQL statement that is NOT a SELECT or any other SQL statement that returns data.\n    db.execSQL(createTable);\n}\n\n@Override\npublic void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n    db.execSQL(\"DROP TABLE IF EXISTS \"+ TABLE_QUESTIONS);\n    onCreate(db);\n}\n</code></pre>\n\n<p>}</p>\n\n<p><strong>Db_Adapter.class</strong></p>\n\n<pre><code> public class Db_Adapter  {\n\npublic static final String TABLE_QUESTIONS = \"Questions_Answers\";\npublic static final String COLUMN_CHAPTERS = \"Chapters\";\npublic static final String COLUMN_QUESTIONS = \"Question\";\npublic static final String COLUMN_CORRECT_ANSWER = \"Correct_Answer\";\npublic static final String COLUMN_OPT1 = \"Answer1\";\npublic static final String COLUMN_OPT2 = \"Answer2\";\npublic static final String COLUMN_OPT3 = \"Answer3\";\n\n\npublic static  SQLiteDatabase databasesql;\nprivate  DbHelper Android_OpenDb_Helper;\nprivate   Context mycontext;\n\npublic static List&lt;String&gt; question_Set;\npublic static List&lt;String&gt; Answers_Set;\npublic static List&lt;String&gt; Option1;\npublic static List&lt;String&gt; Option2;\npublic static List&lt;String&gt; Option3;\n\n\npublic Db_Adapter( Context context)\n{\n    this.mycontext =context;\n}\npublic void close() {\n    Android_OpenDb_Helper.close();\n  }\n\npublic DbHelper createDatabase()\n{\n    Android_OpenDb_Helper = new DbHelper(mycontext);\n    databasesql = Android_OpenDb_Helper.getWritableDatabase();\n    return Android_OpenDb_Helper;\n\n} \n\npublic long addToDB(String chapters, String question,\n        String correctAnswer, String answer1, String answer2, String answer3)\n{\n    return databasesql.insert(TABLE_QUESTIONS,null, createContentValues(chapters,question,correctAnswer,answer1,answer2,answer3));\n} \n\n  private ContentValues createContentValues(String chapters, String question,\n        String correctAnswer, String answer1, String answer2, String answer3)\n{\n    ContentValues myContentVal =  new ContentValues();\n    myContentVal.put(COLUMN_CHAPTERS, chapters);\n    myContentVal.put(COLUMN_QUESTIONS, question);\n    myContentVal.put(COLUMN_CORRECT_ANSWER, correctAnswer);\n    myContentVal.put(COLUMN_OPT1, answer1);\n    myContentVal.put(COLUMN_OPT2, answer2);\n    myContentVal.put(COLUMN_OPT3, answer3);\n\n\n    return myContentVal;\n} \n\npublic Cursor readData()\n{\n    return databasesql.query(TABLE_QUESTIONS, new String[]{COLUMN_CHAPTERS,COLUMN_QUESTIONS,COLUMN_CORRECT_ANSWER,COLUMN_OPT1,COLUMN_OPT2,COLUMN_OPT3}, null, null, null, null, null);\n}\n\npublic Cursor getQuestion()\n{\n    return databasesql.query(TABLE_QUESTIONS, new String[]{COLUMN_QUESTIONS}, null, null, null, null, null); \n}\n\npublic Cursor getQuizQuestions(int numQ)\n{\n    return databasesql.rawQuery(\n            \"select * from \"+ TABLE_QUESTIONS +\" ORDER BY RANDOM() LIMIT \"\n                    + numQ, null);\n}\n\npublic List&lt;String&gt; getQuestions(String difficulty) {\n\n    question_Set = new ArrayList&lt;String&gt;();\n    Answers_Set = new ArrayList&lt;String&gt;();\n\n    Option1= new ArrayList&lt;String&gt;();\n    Option2 = new ArrayList&lt;String&gt;();\n    Option3 = new ArrayList&lt;String&gt;();\n\n\n\n    Cursor c = databasesql.rawQuery(\n            \"select * from \"+TABLE_QUESTIONS+\" where CHAPTERS = ?\",\n            new String[] { difficulty });\n\n    while (c.moveToNext()) {\n\n        question_Set.add(c.getString(2).trim());\n        Answers_Set.add(c.getString(3).trim());\n        Option1.add(c.getString(4).trim());\n        Option2.add(c.getString(5).trim());\n        Option3.add(c.getString(6).trim());\n\n\n    }\n\n    return question_Set;\n} \n\npublic int DropTable()\n{\n\n    return databasesql.delete(TABLE_QUESTIONS, null, null);\n} \n\n}\n</code></pre>\n\n<p>And I am call this methods like:</p>\n\n<p>For get question :</p>\n\n<pre><code>Cursor cursor = DB_Adapter.getQuestion();     \n</code></pre>\n\n<p>For get insert :</p>\n\n<pre><code>DB_Adapter.addToDB(Chapters,Question,CorrectAnswer,Answer1,Answer2,Answer3);\n</code></pre>\n\n<p>Please let me know where should I add the <strong><code>db.close();</code></strong>  and  <strong><code>cur.close();</code></strong></p>\n\n<p>Thanks.</p>\n"},{"tags":["sql-server","sqlite","phonegap","synchronisation"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":12,"score":-1,"question_id":13249450,"title":"microsoft sync framework and phonegap","body":"<p>In need of sync data from my mobile app to my SQL Server,? any piece of code or advise will help Basically , This is what I need:</p>\n\n<p>Download database records from SQL database server (using microsoft sync framework) into the database phone SQLite (Using PhoneGap) .??</p>\n"},{"tags":["android","sqlite"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":13244881,"title":"How solve -Launch timeout has expired, giving up wake lock! in android","body":"<p>I have got these issue, but can not get solutation</p>\n\n<p>Launch timeout has expired, giving up wake lock!\nActivity idle timeout for HistoryRecord{44e26a30 com.india.screen/.CategoryList}</p>\n\n<p>This problem get after adding these lines <strong>( String numOfRows=\"select count(*) from  Holyplace_Tbl where State_id='\"+stateId+\"'\";)</strong> console nothing print after it</p>\n\n<ol>\n<li><p><strong>Activity</strong></p>\n\n<pre><code>   public class CategoryList extends Activity{\n       private TableRow holyPlaces,historicalPalces,beach,museum,hills,lakes;\n       private int stateId;\n      private AssetDatabaseOpenHelper assetDatabaseHelper;\n\n       private Cursor holyplacesCursor,rowsCursor;\n\n\nprotected void onCreate(Bundle savedInstanceState) {\n    // TODO Auto-generated method stub\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.category_screen);\n    Bundle extras = getIntent().getExtras();\n    if (extras != null) {\n        stateId=extras.getInt(\"stateid\");\n        System.out.println(\"stateid\"+stateId);\n    }\n    holyPlaces=(TableRow) findViewById(R.id.holyPlaces);\n    historicalPalces=(TableRow) findViewById(R.id.historicalPlaces);\n    museum=(TableRow) findViewById(R.id.museum);\n    beach=(TableRow) findViewById(R.id.beach);\n    hills=(TableRow) findViewById(R.id.hills);\n    lakes=(TableRow) findViewById(R.id.lakes);\n\n     assetDatabaseHelper=new AssetDatabaseOpenHelper(CategoryList.this);\n     assetDatabaseHelper.openDatabase();\n    assetDatabaseHelper.openReadableMode();\n     System.out.println(\"success.....!\");\n\n     String numOfRows=\"select count(*) from  Holyplace_Tbl where State_id='\"+stateId+\"'\";\n\n     System.out.println(\"rav  \"+numOfRows);\n        rowsCursor=assetDatabaseHelper.executeQuery(numOfRows);\n        System.out.println(\"hjkdfhfh ..............................\"+rowsCursor);\n        System.out.println(\"hj  hi ..............................\"+rowsCursor);\n        if(rowsCursor.moveToFirst())\n        {\n            System.out.println(\"hi..........\"+rowsCursor.getColumnCount());\n            do{\n                int count=rowsCursor.getInt(0);\n                System.out.println(\"cu \"+count);\n\n                System.out.println(\"cursor.. \"+rowsCursor.getCount());\n                System.out.println(\"ccccc  \"+rowsCursor.getInt(0));\n                System.out.println(\"jdjhfhf  \"+rowsCursor.getColumnCount());\n\n            }while(rowsCursor.moveToNext());\n\n        }\n        else{\n            System.out.println(\"cursor not move\");\n        }\n\n            rowsCursor.close();\n            assetDatabaseHelper.close();\n            System.out.println(\"no next value\");\n\n\n}\n</code></pre>\n\n<p>}</p></li>\n<li><p><strong>AssetDatabaseOpenHelper.class</strong></p>\n\n<pre><code>public class AssetDatabaseOpenHelper {\n    private Context context;\nprivate SQLiteDatabase sqliteDatabaseObj;\nprivate String database_name;\nprivate CreateQueries createQueriesObj;\nprivate MySQLiteHelper mySQLitehelperObj;\nprivate int database_version;\n\nprivate  String databaseName=\"TravelguideDb\";\nprivate  int databaseVersion=3;\npublic AssetDatabaseOpenHelper(Context context,String databaseName,int database_version) {\n    this.context = context;\n    this.database_name=databaseName;\n    this.database_version=database_version;\n}\n\n\n\npublic AssetDatabaseOpenHelper(Context context) {\n\n    this.context = context;\n    this.database_name = databaseName;\n    this.database_version = databaseVersion;\n}\n\n\n\npublic void openDatabase() {\n    mySQLitehelperObj = new MySQLiteHelper(context, database_name,\n            database_version);\n\n    File dbFile = context.getDatabasePath(database_name);\n    System.out.println(\"Assests\"+dbFile.exists());\n    if (!dbFile.exists()) {\n        try {\n            copyDatabase(dbFile);\n        } catch (IOException e) {\n        throw new RuntimeException(\"Error creating source database\", e);\n\n        }\n    }\n\n\n}\n   public void openReadableMode()\n {\n sqliteDatabaseObj = mySQLitehelperObj.getReadableDatabase();\n}\n   public void openWriteableMode()\n {\n sqliteDatabaseObj = mySQLitehelperObj.getWritableDatabase();\n}\npublic void close() {\n\nmySQLitehelperObj.close();\n  }\n\nprivate void copyDatabase(File dbFile) throws IOException {\n\n    OutputStream os = new FileOutputStream(dbFile);\n\n    InputStream is = null;\n    byte[] buffer = new byte[1024];\n    for(int i=1;i&lt;5;i++)\n    {\n   is = context.getAssets().open(\"TravelguideDb.sqlite.00\"+1);\n     int length;\n    while ((length=is.read(buffer))!=-1) {\n        os.write(buffer,0,length);\n    }\n    is.close();\n}\n\n    os.flush();\n    os.close();\n    is.close();\n}\n\n   public Cursor executeQuery(String query)\n  {\n     Cursor outputCursor=  sqliteDatabaseObj.rawQuery(query, null);\nreturn outputCursor;\n  }\npublic void createTable(String tableName, String[] columns, String[] value) {\n    createQueriesObj = new CreateQueries();\n    String createTableQuery = createQueriesObj.CreateTableQuery(tableName,\n            columns, value);\n    sqliteDatabaseObj.execSQL(createTableQuery);\n    System.out.println(\"Query\" + createTableQuery);\n}\npublic void deleteTable(String tableName) \n{\n    sqliteDatabaseObj.execSQL(\"Drop table \" + tableName);\n}\n\npublic void deleteAllDataFromTable(String tableName) {\n    // truncate table\n    sqliteDatabaseObj.delete(tableName, null, null);\n}\npublic void deletePerticularRows(String tableName, String whereClause,\n        String[] whereArgs) {\n    sqliteDatabaseObj.delete(tableName, whereClause, whereArgs);\n}\n\npublic Cursor fetchAllRows(String tableName) {\n\n    return sqliteDatabaseObj.query(tableName, null, null, null, null, null,\n            null);\n}\npublic Cursor selectOnWhereCondition(String tableName,\n        String[] columnsToSelect, String whereColumnName,\n        String[] whereEqualsTo, String groupBy, String having,\n        String orderBy) {\n    return sqliteDatabaseObj.query(tableName, columnsToSelect,\n            whereColumnName, whereEqualsTo, groupBy, having, orderBy);\n}\n\npublic void updateRows(String tableName, String[] columnNames,\n        String[] values, String whereClause, String[] whereArgs)\n        throws SQLException {\n    if (columnNames.length != values.length) {\n        throw new SQLException();\n    }\n    ContentValues contentValue = new ContentValues();\n    int length = values.length;\n    for (int i = 0; i &lt; length; i++) {\n        contentValue.put(columnNames[i], values[i]);\n    }\n    sqliteDatabaseObj.update(tableName, contentValue, whereClause,\n            whereArgs);\n}\n\npublic long addRecords(String TableName, String[] columnNames,\n        String[] values) throws SQLException {\n    long result = 0;\n    if (columnNames.length != values.length) {\n        throw new SQLException();\n    } else {\n        ContentValues contentValues = new ContentValues();\n        int length = columnNames.length;\n        for (int i = 0; i &lt; length; i++) {\n            contentValues.put(columnNames[i], values[i]);\n        }\n        result = sqliteDatabaseObj.insert(TableName, null, contentValues);\n    }\n\n    return result;\n\n}\n</code></pre>\n\n<p>}</p></li>\n</ol>\n"},{"tags":["iphone","ios","sqlite","icu"],"answer_count":3,"favorite_count":3,"up_vote_count":5,"down_vote_count":0,"view_count":1849,"score":5,"question_id":8126233,"title":"How to build ICU so I can use it in an iPhone app?","body":"<p><strong>How do I configure and build ICU so I can link it to my iPhone app?</strong></p>\n\n<p>I'm maintaining an iPhone app that uses a SQLite database. Now I have to compile with ICU support enabled (<code>SQLITE_ENABLE_ICU</code>). I've got the latest ICU source.</p>\n\n<p>The <code>configure</code> flags I'm using:</p>\n\n<pre><code>./configure --target=arm-apple-darwin --enable-static --disable-shared\n</code></pre>\n\n<p>After that, running <code>gnumake</code> runs without errors.</p>\n\n<p>Then I add the libraries to my Xcode project. But when I build, I get 50 lines of this:</p>\n\n<pre><code>Undefined symbols:\n  \"_uregex_close_48\", referenced from:\n      _icuRegexpDelete in libsqlite3-cerod.a(sqlite3_cerod.o)\n  \"_ubrk_current_48\", referenced from:\n      _icuNext in libsqlite3-cerod.a(sqlite3_cerod.o)\n  \"_ucol_strcoll_48\", referenced from:\n      _icuCollationColl in libsqlite3-cerod.a(sqlite3_cerod.o)\n  \"_u_isspace_48\", referenced from:\n      _icuRegexpFunc in libsqlite3-cerod.a(sqlite3_cerod.o)\n  \"_utf8_countTrailBytes_48\", referenced from:\n      _utf8_countTrailBytes_48$non_lazy_ptr in libsqlite3-cerod.a(sqlite3_cerod.o)\n     (maybe you meant: _utf8_countTrailBytes_48$non_lazy_ptr)\n  \"_ubrk_next_48\", referenced from:\n      _icuNext in libsqlite3-cerod.a(sqlite3_cerod.o)\n</code></pre>\n\n<p>Any idea what I'm doing wrong?</p>\n\n<p><strong>Edited to add:</strong></p>\n\n<p>When I add the libraries to the project (right-click on the project name, then Add Existing...), I get this:</p>\n\n<pre><code>ld: warning: in /Users/eric.grunin/dev/iOS/icu/source/lib/libicudata.a, file was built for unsupported file format which is not the architecture being linked (i386)\nld: warning: in /Users/eric.grunin/dev/iOS/icu/source/lib/libicui18n.a, file was built for unsupported file format which is not the architecture being linked (i386)\nld: warning: in /Users/eric.grunin/dev/iOS/icu/source/lib/libicuio.a, file was built for unsupported file format which is not the architecture being linked (i386)\nld: warning: in /Users/eric.grunin/dev/iOS/icu/source/lib/libicule.a, file was built for unsupported file format which is not the architecture being linked (i386)\nld: warning: in /Users/eric.grunin/dev/iOS/icu/source/lib/libiculx.a, file was built for unsupported file format which is not the architecture being linked (i386)\nld: warning: in /Users/eric.grunin/dev/iOS/icu/source/lib/libicutu.a, file was built for unsupported file format which is not the architecture being linked (i386)\nld: warning: in /Users/eric.grunin/dev/iOS/icu/source/lib/libicuuc.a, file was built for unsupported file format which is not the architecture being linked (i386)\n</code></pre>\n\n<p>That's why I think I'm building the library incorrectly. It's as if it's saying:</p>\n\n<ul>\n<li>It can't tell what architecture the .a files are built for</li>\n<li>libsqlite3-cerod.a is built for i386</li>\n</ul>\n\n<p>I don't understand either possibility, but I'm new to iPhone development.</p>\n\n<p><strong>Edited to add</strong></p>\n\n<p>I tried @Sergio Moura's solution, and got the error mentioned in my comment.</p>\n\n<p>I tried @sergio's solution, which built. But I'm still getting the equivalent errors, starting with:</p>\n\n<pre><code>ld: warning: in /Users/eric.grunin/dev/iOS/icu/iosbuild/lib/libicudata.a, file was built for unsupported file format which is not the architecture being linked (i386)\n</code></pre>\n\n<p>Might I be telling Xcode the wrong thing? I'm right-clicking on the project name, then selecting \"Add->Existing File\", and choosing the six or seven <code>.a</code> files from <code>/icu/iosbuild/lib</code>. Is that the correct process?</p>\n\n<p><strong>Note:</strong></p>\n\n<p>@sergio is recommending <code>configure --host=arm-apple-darwin</code>, @Sergio Moura is using <code>configure --target=arm-apple-darwin</code>. Neither made a difference, alas.</p>\n\n<p><strong>Edit #2</strong></p>\n\n<p>Targeting the device (instead of the emulator) solved all but one of the link errors! Here's what's left:</p>\n\n<pre><code>Undefined symbols for architecture armv6:\n  \"___sync_synchronize\", referenced from:\n      _ucol_initUCA_48 in libicui18n.a(ucol_res.ao)\n      udata_getHashTable()      in libicuuc.a(udata.ao)\n      _umtx_init_48 in libicuuc.a(umutex.ao)\n      _initCache in libicuuc.a(uresbund.ao)\n      icu_48::hasService()       in libicui18n.a(coll.ao)\n      _ucol_initInverseUCA_48 in libicui18n.a(ucol_bld.ao)\n      icu_48::locale_set_default_internal(char const*)in libicuuc.a(locid.ao)\n      ...\nld: symbol(s) not found for architecture armv6\n</code></pre>\n\n<p>This was preceded by a cascade of these warnings:</p>\n\n<pre><code>ld: warning: CPU_SUBTYPE_ARM_ALL subtype is deprecated: /Users/eric.grunin/dev/iOS/icu/iosbuild/lib/libicuuc.a(resbund.ao)\nld: warning: CPU_SUBTYPE_ARM_ALL subtype is deprecated: /Users/eric.grunin/dev/iOS/icu/iosbuild/lib/libicuuc.a(ustrfmt.ao)\n</code></pre>\n\n<p><strong>Edit #3</strong></p>\n\n<p>@Stephen R. Loomis's suggestion that I change <code>#define U_HAVE_GCC_ATOMICS</code> from <code>1</code> to <code>0</code> (in <code>platform.h</code>) made no difference, alas. I also realized that the last line of the error (<code>not found for architecture arm6</code>) didn't mean it would work for <code>arm7</code>, it was only an fyi that this was a cross-compile. When I specified an <code>arm7</code> build, it failed with the same messages. Alas.</p>\n\n<p><strong>Edit #4</strong></p>\n\n<h1>Success!</h1>\n\n<p>Summary: @sergio's build flags were essentially correct. I added -DU_HAVE_GCC_ATOMICS=0 to the ios build's CFLAGS. The one thing I had been doing wrong was not realizing I needed to cross-compile the library to create a device build.</p>\n\n<p>I haven't tried to repeat this for the simulator, but that's outside the scope of my question.</p>\n\n<p>Special thanks to Steven R. Loomis for pitching in, and to Sergio Moura for getting things rolling.</p>\n"},{"tags":["iphone","database","sqlite"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":48,"score":-2,"question_id":13247283,"title":"Delete all the records in table in iphone sdk with sqlite3","body":"<p><strong>EDITED:-</strong> This is what i had implements:-</p>\n\n<pre><code>- (void) Delete_LoginData {\n    sqlite3 *database;\n    if(sqlite3_open([self.databasePath UTF8String], &amp;database) == SQLITE_OK)\n    {\n        const char *sql = \"DELETE FROM Login\";\n        sqlite3_stmt *statement;\n        if(sqlite3_prepare_v2(database, sql,-1, &amp;statement, NULL) == SQLITE_OK)\n        {\n            sqlite3_reset(statement);\n        }       \n    }\n}\n</code></pre>\n\n<p>I want to delete all the rows from the database in one click.I had implemented the below methods:-</p>\n\n<pre><code>- (void) Delete_LoginData {\n        sqlite3 *database;\n        if(sqlite3_open([self.databasePath UTF8String], &amp;database) == SQLITE_OK) {\n            const char *sql = \"DELETE * FROM Login\";\n            sqlite3_stmt *statement;\n\n            statement = [self PrepareStatement:sql];    \n          //  int a1 = sqlite3_bind_int(statement, 1, 1);\n\n            sqlite3_step(statement);\n            sqlite3_reset(statement);\n        }       \n    }\n\n    -(sqlite3_stmt*) PrepareStatement:(const char *)sql{\n        // Setup the database object\n        sqlite3 *database;\n        // Init the animals Array\n\n        // Open the database from the users filessytem\n        if(sqlite3_open([self.databasePath UTF8String], &amp;database) == SQLITE_OK) {\n            // Setup the SQL Statement and compile it for faster access\n            const char *sqlStatement = sql;\n            sqlite3_stmt *compiledStatement;\n\n            if(sqlite3_prepare_v2(database, sqlStatement,-1, &amp;compiledStatement, NULL) == SQLITE_OK) {\n                //NSLog(@\"COMPILED STATEMENT: %@\",compiledStatement);\n                return compiledStatement;\n\n            }\n        }\n        return nil;\n    }\n</code></pre>\n\n<p>But it not working.\nI am getting 0X0 for this statement = [self PrepareStatement:sql];\nin delete_logindata method.</p>\n\n<p>How to solve this.\nIs there any solution regarding this?</p>\n"},{"tags":["android","sqlite","exception"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":45,"score":-1,"question_id":13247723,"title":"How solve Sqlite Cursor exception in android","body":"<p>I have get Exception after succesfylly fetching data.I have <strong>cursor close</strong>.</p>\n\n<p><strong>Exception-</strong></p>\n\n<pre><code>11-06 14:31:09.942: I/dalvikvm(598): Uncaught exception thrown by finalizer (will be discarded):\n11-06 14:31:09.942: I/dalvikvm(598): Ljava/lang/IllegalStateException;: Finalizing cursor android.database.sqlite.SQLiteCursor@44c115b8 on null that has not been deactivated or closed\n11-06 14:31:09.942: I/dalvikvm(598):    at android.database.sqlite.SQLiteCursor.finalize(SQLiteCursor.java:596)\n11-06 14:31:09.942: I/dalvikvm(598):    at dalvik.system.NativeStart.run(Native Method)\n11-06 14:31:09.942: I/dalvikvm(598): Uncaught exception thrown by finalizer (will be discarded):\n11-06 14:31:09.942: I/dalvikvm(598): Ljava/lang/IllegalStateException;: Finalizing cursor android.database.sqlite.SQLiteCursor@44c10768 on null that has not been deactivated or closed\n11-06 14:31:09.942: I/dalvikvm(598):    at android.database.sqlite.SQLiteCursor.finalize(SQLiteCursor.java:596)\n11-06 14:31:09.942: I/dalvikvm(598):    at dalvik.system.NativeStart.run(Native Method)\n11-06 14:31:09.942: I/dalvikvm(598): Uncaught exception thrown by finalizer (will be discarded):\n11-06 14:31:09.942: I/dalvikvm(598): Ljava/lang/IllegalStateException;: Finalizing cursor android.database.sqlite.SQLiteCursor@44c0f918 on null that has not been deactivated or closed\n11-06 14:31:09.942: I/dalvikvm(598):    at android.database.sqlite.SQLiteCursor.finalize(SQLiteCursor.java:596)\n11-06 14:31:09.942: I/dalvikvm(598):    at dalvik.system.NativeStart.run(Native Method)\n11-06 14:31:09.942: I/dalvikvm(598): Uncaught exception thrown by finalizer (will be discarded):\n11-06 14:31:09.942: I/dalvikvm(598): Ljava/lang/IllegalStateException;: Finalizing cursor android.database.sqlite.SQLiteCursor@44c0df08 on null that has not been deactivated or closed\n11-06 14:31:09.942: I/dalvikvm(598):    at android.database.sqlite.SQLiteCursor.finalize(SQLiteCursor.java:596)\n11-06 14:31:09.942: I/dalvikvm(598):    at dalvik.system.NativeStart.run(Native Method)\n11-06 14:31:09.942: I/dalvikvm(598): Uncaught exception thrown by finalizer (will be discarded):\n11-06 14:31:09.942: I/dalvikvm(598): Ljava/lang/IllegalStateException;: Finalizing cursor android.database.sqlite.SQLiteCursor@44c0c990 on null that has not been deactivated or closed\n11-06 14:31:09.942: I/dalvikvm(598):    at android.database.sqlite.SQLiteCursor.finalize(SQLiteCursor.java:596)\n11-06 14:31:09.942: I/dalvikvm(598):    at dalvik.system.NativeStart.run(Native Method)\n</code></pre>\n\n<p><strong>Sql Statements</strong></p>\n\n<pre><code>           String tableName=\"StateList_Tbl\";\n         String databaseName=\"TravelguideDb\";\n         int databaseVersion=3;\n\n         assetDatabaseHelper=new AssetDatabaseOpenHelper(HomeScreen.this, databaseName,databaseVersion);\n         assetDatabaseHelper.openDatabase();\n         assetDatabaseHelper.openReadableMode();\n         groupEntityList=new ArrayList&lt;GroupEntity&gt;();\n\n\n\n        String selectQuery = \"SELECT State_id,State_name FROM \" +tableName +\" where country_part=36\";\n\n\n       groupCursor=assetDatabaseHelper.executeQuery(selectQuery);\n\n        if (groupCursor.moveToFirst()) \n        {\n                 do {\n                     groupEntityObj=new GroupEntity();\n                     groupEntityObj.setGroupId(groupCursor.getInt(0));\n                     System.out.println(\"stateid\"+groupCursor.getInt(0));\n                     groupEntityObj.setGroupName(groupCursor.getString(1));\n                     System.out.println(\"stateid\"+groupCursor.getString(1));\n                    String stateQuery=\"SELECT State_id,State_name FROM \" +tableName +\" where country_part=\"+groupCursor.getInt(0);\n                    stateCursor=assetDatabaseHelper.executeQuery(stateQuery);\n                    stateArrayList=new ArrayList&lt;StateMetaData&gt;();\n                    if(stateCursor.moveToFirst())\n                    {\n                        do{\n                         stateMetaDataObj=new StateMetaData();\n                         stateMetaDataObj.setStateId(stateCursor.getInt(0));\n                         System.out.println(\"stateid\"+stateCursor.getInt(0));\n                         stateMetaDataObj.setStateName(stateCursor.getString(1));\n                         System.out.println(\"stateid\"+stateCursor.getString(1));\n                         stateArrayList.add(stateMetaDataObj);\n\n                        }while(stateCursor.moveToNext());\n                    }\n\n\n                    groupEntityObj.setStatesList(stateArrayList);\n\n                    groupEntityList.add(groupEntityObj);\n                 } while (groupCursor.moveToNext());\n\n        }\n\n        System.out.println(\"gr \"+groupEntityList.size());\n        stateCursor.close();\n        groupCursor.close();\n        assetDatabaseHelper.close();\n\n        System.out.println(\"cursor\"+stateCursor.getColumnCount());\n        System.out.println(\"cursor\"+groupCursor);\n</code></pre>\n\n<p><strong>AssetDatabaseOpenHelper class</strong></p>\n\n<pre><code> public class AssetDatabaseOpenHelper {\n    private Context context;\n    private SQLiteDatabase sqliteDatabaseObj;\n    private String database_name;\n    private CreateQueries createQueriesObj;\n    private MySQLiteHelper mySQLitehelperObj;\n    private int database_version;\n\n    private  String databaseName=\"TravelguideDb\";\n    private  int databaseVersion=3;\n    public AssetDatabaseOpenHelper(Context context,String databaseName,int database_version) {\n        this.context = context;\n        this.database_name=databaseName;\n        this.database_version=database_version;\n    }\n\n\n\n    public AssetDatabaseOpenHelper(Context context) {\n\n        this.context = context;\n        this.database_name = databaseName;\n        this.database_version = databaseVersion;\n    }\n\n\n\n    public void openDatabase() {\n        mySQLitehelperObj = new MySQLiteHelper(context, database_name,\n                database_version);\n\n        File dbFile = context.getDatabasePath(database_name);\nSystem.out.println(\"Assests\"+dbFile.exists());\n        if (!dbFile.exists()) {\n            try {\n                copyDatabase(dbFile);\n            } catch (IOException e) {\n            throw new RuntimeException(\"Error creating source database\", e);\n            //  e.printStackTrace();\n            }\n        }\n //  sqliteDatabaseObj= SQLiteDatabase.openDatabase(dbFile.getPath(), null, SQLiteDatabase.OPEN_READONLY);\n//        sqliteDatabaseObj = mySQLitehelperObj.getReadableDatabase();\n\n    }\npublic void openReadableMode()\n{\n     sqliteDatabaseObj = mySQLitehelperObj.getReadableDatabase();\n}\npublic void openWriteableMode()\n{\n     sqliteDatabaseObj = mySQLitehelperObj.getWritableDatabase();\n}\npublic void close() {\n\n    mySQLitehelperObj.close();\n}\n\n    private void copyDatabase(File dbFile) throws IOException {\n\n        OutputStream os = new FileOutputStream(dbFile);\n\n        InputStream is = null;\n        byte[] buffer = new byte[1024];\n        for(int i=1;i&lt;5;i++)\n        {\n       is = context.getAssets().open(\"TravelguideDb.sqlite.00\"+1);\n         int length;\n        while ((length=is.read(buffer))!=-1) {\n            os.write(buffer,0,length);\n        }\n        is.close();\n    }\n\n        os.flush();\n        os.close();\n        is.close();\n    }\n\n   public Cursor executeQuery(String query)\n   {\n     Cursor outputCursor=  sqliteDatabaseObj.rawQuery(query, null);\n    return outputCursor;\n   }\n    public void createTable(String tableName, String[] columns, String[] value) {\n        createQueriesObj = new CreateQueries();\n        String createTableQuery = createQueriesObj.CreateTableQuery(tableName,\n                columns, value);\n        sqliteDatabaseObj.execSQL(createTableQuery);\n        System.out.println(\"Query\" + createTableQuery);\n    }\n    public void deleteTable(String tableName) \n    {\n        sqliteDatabaseObj.execSQL(\"Drop table \" + tableName);\n    }\n\n    public void deleteAllDataFromTable(String tableName) {\n        // truncate table\n        sqliteDatabaseObj.delete(tableName, null, null);\n    }\n    public void deletePerticularRows(String tableName, String whereClause,\n            String[] whereArgs) {\n        sqliteDatabaseObj.delete(tableName, whereClause, whereArgs);\n    }\n\n    public Cursor fetchAllRows(String tableName) {\n\n        return sqliteDatabaseObj.query(tableName, null, null, null, null, null,\n                null);\n    }\n    public Cursor selectOnWhereCondition(String tableName,\n            String[] columnsToSelect, String whereColumnName,\n            String[] whereEqualsTo, String groupBy, String having,\n            String orderBy) {\n        return sqliteDatabaseObj.query(tableName, columnsToSelect,\n                whereColumnName, whereEqualsTo, groupBy, having, orderBy);\n    }\n\n\n\n\n}\n</code></pre>\n"},{"tags":["java","android","sqlite","simplecursoradapter"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13247569,"title":"Android - Dynamically ListView using SimpleCursorAdapter","body":"<p>I am populating a ListView using a SimpleCursorAdapter</p>\n\n<pre><code>@Override\npublic Loader&lt;Cursor&gt; onCreateLoader(int arg0, Bundle arg1) {\n\n    String[] projection = new String[] { BlogTable.TITLE_PLAIN, BlogTable.DATE_MODIFIED, BlogTable.EXCERPT, BlogTable.ID };\n\n    CursorLoader loader = new CursorLoader(parent, BlogContentProvider.CONTENT_URI, projection, null, null, BlogTable.DATE_MODIFIED + \" DESC LIMIT \" + BlogContentProvider.QUERY_LIMIT);\n\n    return loader;\n}\n\nprivate void fillData(){\n\n    //_id is expected from this method that is why we used it earlier\n    String[] from = new String[] { BlogTable.TITLE_PLAIN, BlogTable.DATE_MODIFIED, BlogTable.EXCERPT};\n    int[] to = new int[] { R.id.text_news_title, R.id.text_news_date, R.id.text_news_excerpt};\n\n    //initialize loader to call this class with a callback\n    getLoaderManager().initLoader(0, null, this);\n\n    //We create adapter to fill list with data, but we don't provide any data as it will be done by loader\n    adapter = new SimpleCursorAdapter(parent, R.layout.news_list_view, null, from, to, 0);\n\n    setListAdapter(adapter);\n}\n</code></pre>\n\n<p>I want to load only 10 items at  a time and then at the end of the list call a method addData() and get 10 more rows and so on. I know there is the CWAC EndlessAdapter for this, however I do not know what call to make to add another 10 rows to the current ListView and at the same time keep position. </p>\n\n<p>I know this may sound like a stupid question but I am relatively new to Android development and still learning. Can anyone help?</p>\n\n<p>EDIT:</p>\n\n<p>This is the ContentProvider I am using, maybe it can be of help</p>\n\n<pre><code>package com.brndwgn.database;\n\nimport android.content.ContentProvider;\nimport android.content.ContentResolver;\nimport android.content.ContentValues;\nimport android.content.UriMatcher;\nimport android.database.Cursor;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.database.sqlite.SQLiteQueryBuilder;\nimport android.net.Uri;\nimport android.text.TextUtils;\n\npublic class BlogContentProvider extends ContentProvider {\n\n\n    private DbHelper dbh;\n\n    //identifiers for URI types\n    public static final int BLOG_LIST = 1;\n    public static final int BLOG_ITEM = 2;\n\n    //elements of our URI to identify our COntentProvider\n    public static final String AUTHORITY = \"com.brndwgn.database\";\n    public static final String BASE_PATH = \"blog\";\n\n\n    //URI to query from this Content provider\n    public static final Uri CONTENT_URI = Uri.parse(\"content://\" + AUTHORITY + \"/\" + BASE_PATH);\n\n\n    //MIME data types we offer\n    public static final String BLOG_LIST_TYPE = ContentResolver.CURSOR_DIR_BASE_TYPE + \"/bloglist\";\n    public static final String BLOG_ITEM_TYPE = ContentResolver.CURSOR_ITEM_BASE_TYPE + \"/blogitem\";\n\n    public static UriMatcher matcher = new UriMatcher(UriMatcher.NO_MATCH);\n    //patterns for our provider\n    static {\n        matcher.addURI(AUTHORITY, BASE_PATH, BLOG_LIST);\n        matcher.addURI(AUTHORITY, BASE_PATH + \"/#\", BLOG_ITEM);\n    }\n\n    public static final int QUERY_LIMIT = 2;\n\n    @Override\n    public boolean onCreate() {\n        dbh = new DbHelper(getContext());\n        return true;\n    }\n\n    @Override\n    public String getType(Uri uri) {\n        int uriId = matcher.match(uri);\n        //we check id of URI and return correct MIME type, we defined all of them before\n        switch(uriId) {\n        case BLOG_ITEM: return BLOG_ITEM_TYPE;\n        case BLOG_LIST: return BLOG_LIST_TYPE;\n        default:\n            throw new IllegalArgumentException(\"Unknown uri: \" + uri);\n        }\n    }   \n\n    @Override\n    public Cursor query(Uri uri, String[] projection, String selection,\n            String[] selectionArgs, String sortOrder) {\n        int uriId = matcher.match(uri);\n\n        //we create object of SQL query builder so we don't need to use plain SQL\n        SQLiteQueryBuilder builder = new SQLiteQueryBuilder();\n\n        //Set a name for the table to query\n        builder.setTables(BlogTable.TABLE_NAME);\n\n        switch(uriId) {\n        case BLOG_ITEM: \n            //set where condition to get just one row\n            builder.appendWhere(BlogTable.ID + \"=\" + uri.getLastPathSegment());\n            break;\n        case BLOG_LIST:\n            //we don't need to do anything here\n            break;\n        default:\n            new IllegalArgumentException(\"Unknown uri: \" + uri);\n        }\n\n        //get instance of database\n        SQLiteDatabase db = dbh.getReadableDatabase();\n\n        //execute query\n        Cursor cursor = builder.query(db, projection, selection, selectionArgs, null, null, sortOrder);\n\n        //set notifications for this URI\n        cursor.setNotificationUri(getContext().getContentResolver(), uri);\n\n        return cursor;\n    }\n\n    @Override\n    public int delete(Uri uri, String selection, String[] selectionArgs) {\n        int uriId = matcher.match(uri);\n\n        int deleted=0;\n\n        SQLiteDatabase db = dbh.getWritableDatabase();\n        switch(uriId) {\n        case BLOG_LIST:\n            deleted = db.delete(BlogTable.TABLE_NAME, selection, selectionArgs);\n            break;\n        case BLOG_ITEM:\n            if(TextUtils.isEmpty(selection)) {\n                deleted = db.delete(BlogTable.TABLE_NAME, BlogTable.ID + \"=\" + uri.getLastPathSegment(), selectionArgs);\n            }\n            else {\n                deleted = db.delete(BlogTable.TABLE_NAME, selection + \" and \" + BlogTable.ID + \"=\" + uri.getLastPathSegment(), selectionArgs);\n            }\n            break;\n        default:\n            throw new IllegalArgumentException(\"Unknow uri: \" + uri);\n        }\n        getContext().getContentResolver().notifyChange(uri, null);\n        return deleted;\n    }\n\n\n    @Override\n    public Uri insert(Uri uri, ContentValues values) {\n        int uriId = matcher.match(uri);\n\n        //Variable for ID of new record\n        long newId;\n\n        switch(uriId) {\n        case BLOG_LIST:\n            //get instance of Database\n            SQLiteDatabase db = dbh.getWritableDatabase();\n\n            //execute query\n            newId = db.replace(BlogTable.TABLE_NAME, null, values);\n            //newId = db.insertWithOnConflict(BlogTable.TABLE_NAME, null, values, SQLiteDatabase.CONFLICT_IGNORE);\n\n            //create URI for new added record\n            Uri newuri = Uri.parse(CONTENT_URI + \"/\" + newId);\n\n            //notify change for list URI\n            getContext().getContentResolver().notifyChange(uri, null);\n\n            return newuri;\n\n        default:\n            throw new IllegalArgumentException(\"Unknown uri: \" + uri);\n        }\n\n\n    }\n\n    @Override\n    public int update(Uri uri, ContentValues values, String selection,\n            String[] selectionArgs) {\n\n        int uriId = matcher.match(uri);\n\n        int updated=0;\n\n        SQLiteDatabase db = dbh.getWritableDatabase();\n\n        switch(uriId) {\n        case BLOG_LIST:\n            updated = db.update(BlogTable.TABLE_NAME, values, selection, selectionArgs);\n            break;\n        case BLOG_ITEM:\n            if(TextUtils.isEmpty(selection)) {\n                updated = db.update(BlogTable.TABLE_NAME, values, BlogTable.ID + \"=\" + uri.getLastPathSegment(), null);\n            }\n            else {\n                updated = db.update(BlogTable.TABLE_NAME, values, selection + \" and \" + BlogTable.ID + \"=\" + uri.getLastPathSegment(), selectionArgs);\n            }\n            break;\n        default:\n            throw new IllegalArgumentException(\"Unknown URI: \" + uri);\n        }\n        getContext().getContentResolver().notifyChange(uri, null);\n        return updated;\n    }\n\n}\n</code></pre>\n"},{"tags":["c#",".net","sqlite","corruption"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":662,"score":1,"question_id":5835070,"title":"Programatically Repair SQLite Database","body":"<p>So I have a need to try and repair a SQLite database from a .NET program if the database file gets corrupted. I have found several sites such as <a href=\"http://community.spiceworks.com/how_to/show/1468\" rel=\"nofollow\">Fix SQLite</a> and in the <a href=\"http://www.sqlite.org/faq.html#q21\" rel=\"nofollow\">FAQ</a> it describes that you can:</p>\n\n<blockquote>\n  <p>Depending how badly your database is corrupted, you may be able to recover some of the data by using the CLI to dump the schema and contents to a file and then recreate.</p>\n</blockquote>\n\n<p>Does anyone know of a way to repair a SQLite database programatically in .NET?</p>\n"},{"tags":["python","sqlite"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13244393,"title":"SQLite insert or ignore and return original _rowid_","body":"<p>I've spent some time reading the SQLite <a href=\"http://www.sqlite.org/lang_conflict.html\" rel=\"nofollow\">docs</a>, various questions and answers here on Stack Overflow, and <a href=\"http://sqlite.1065341.n5.nabble.com/Keeping-ROWID-for-INSERT-OR-REPLACE-td34237.html\" rel=\"nofollow\">this thing</a>, but have not come to a full answer.</p>\n\n<p>I know that there is no way to do something like <code>INSERT OR IGNORE INTO foo VALUES(...)</code> with SQLite and get back the rowid of the original row, and that the closest to it would be <code>INSERT OR REPLACE</code> <strong>but that deletes the entire row and inserts a new row and thus gets a new rowid</strong>.</p>\n\n<p>Example table:</p>\n\n<pre><code>CREATE TABLE foo(\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    data TEXT\n);\n</code></pre>\n\n<p>Right now I can do:</p>\n\n<pre><code>sql = sqlite3.connect(\":memory:\")\n# create database\nsql.execute(\"INSERT OR IGNORE INTO foo(data) VALUES(?);\", (\"Some text.\", ))\nthe_id_of_the_row = None\nfor row in sql.execute(\"SELECT id FROM foo WHERE data = ?\", (\"Some text.\", )):\n    the_id_of_the_row = row[0]\n</code></pre>\n\n<p>But something ideal would look like:</p>\n\n<pre><code>the_id_of_the_row = sql.execute(\"INSERT OR IGNORE foo(data) VALUES(?)\", (\"Some text\", )).lastrowid\n</code></pre>\n\n<p><strong>What is the best (read: most efficient) way to insert a row into a table and return the rowid, or to ignore the row if it already exists and just get the rowid?</strong> Efficiency is important because this will be happening quite often.</p>\n\n<p><strong>Is there a way to <code>INSERT OR IGNORE</code> and return the rowid of the row that the ignored row was compared to?</strong> This would be great, as it would be just as efficient as an insert.</p>\n"},{"tags":["sql","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":145,"score":3,"question_id":8667077,"title":"SQL Lite blank row id even after deleting the row","body":"<p>I have a SQLite DB file lets say a.db. And I have 100 rows in table a. When I give </p>\n\n<pre><code>SELECT * FROM a WHERE rowid BETWEEN 1 AND 100\n</code></pre>\n\n<p>it gives me the first 100 results. Now if I delete the first 2 rows from the table and run the </p>\n\n<pre><code>SELECT * FROM a WHERE rowid BETWEEN 1 AND 100 \n</code></pre>\n\n<p>it gives me only 98 rows. And when I give the query</p>\n\n<pre><code>SELECT * FROM a WHERE rowid = 1 \n</code></pre>\n\n<p>it gives me an empty row. The database doesn't seem to rearrange the rowid.</p>\n\n<p>Please help.. Is there any way to force the SQLite to rearrange the row ids ?</p>\n"},{"tags":["database","sqlite"],"answer_count":11,"favorite_count":1,"up_vote_count":7,"down_vote_count":0,"view_count":5671,"score":7,"question_id":107005,"title":"Predict next auto-inserted row id (SQLite)","body":"<p>I'm trying to find if there is a reliable way (using <a href=\"http://en.wikipedia.org/wiki/SQLite\" rel=\"nofollow\">SQLite</a>) to find the ID of the next row to be inserted, <em>before it gets inserted</em>. I need to use the id for another insert statement, but don't have the option of instantly inserting and getting the next row.</p>\n\n<p>Is predicting the next id as simple as getting the last id and adding one? Is that a guarantee?</p>\n\n<p>Edit: A little more reasoning...\nI can't insert immediately because the insert may end up being canceled by the user. User will make some changes, SQL statements will be stored, and from there the user can either save (inserting all the rows at once), or cancel (not changing anything). In the case of a program crash, the desired functionality is that nothing gets changed.</p>\n"},{"tags":["c#","sqlite","logging"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":33,"score":1,"question_id":13243346,"title":"Log4Net with SQLite is throwing a Format Exception","body":"<p>I am trying to use Log4Net and log my messages to a local SQLite DB. However when I run the application a Format Exception is thrown in <code>log4net.Config.XmlConfigurator.Configure();</code></p>\n\n<p>Here is my config file:</p>\n\n<pre><code>&lt;log4net&gt;\n</code></pre>\n\n<p></p>\n\n<pre><code>&lt;appender name=\"LogFileAppender\" type=\"log4net.Appender.FileAppender\" &gt;\n  &lt;file value=\"log-file.txt\" /&gt;\n  &lt;appendToFile value=\"true\" /&gt;\n\n  &lt;layout type=\"log4net.Layout.PatternLayout\"&gt;\n    &lt;conversionPattern value=\"%date [%-5level] - %message%newline\" /&gt;\n  &lt;/layout&gt;\n&lt;/appender&gt;\n\n&lt;appender name=\"DebugAppender\" type=\"log4net.Appender.DebugAppender\"&gt;\n  &lt;layout type=\"log4net.Layout.PatternLayout\"&gt;\n    &lt;conversionPattern value=\"%date [%-5level] - %message%newline\" /&gt;\n  &lt;/layout&gt;\n&lt;/appender&gt;\n\n\n&lt;appender name=\"AdoNetAppender\" type=\"log4net.Appender.AdoNetAppender\"&gt;\n  &lt;bufferSize value=\"0\" /&gt;\n  &lt;connectionType value=\"System.Data.SQLite.SQLiteConnection, System.Data.SQLite, Version=1.0.77.0\" /&gt;\n  &lt;connectionString value=\"Data Source=.\\kapiti.db;Version=3;\" /&gt;\n  &lt;commandText value=\"INSERT INTO Log (Date, Level, Logger, Message) VALUES (@Date, @Level, @Logger, @Message)\" /&gt;\n  &lt;parameter&gt;\n    &lt;parameterName value=\"@Date\" /&gt;\n    &lt;dbType value=\"DateTime\" /&gt;\n    &lt;layout type=\"log4net.Layout.RawTimeStampLayout\" /&gt;\n  &lt;/parameter&gt;\n  &lt;parameter&gt;\n    &lt;parameterName value=\"@Level\" /&gt;\n    &lt;dbType value=\"String\" /&gt;\n    &lt;layout type=\"log4net.Layout.PatternLayout\"&gt;\n      &lt;conversionPattern value=\"%level\" /&gt;\n    &lt;/layout&gt;\n  &lt;/parameter&gt;\n  &lt;parameter&gt;\n    &lt;parameterName value=\"@Logger\" /&gt;\n    &lt;dbType value=\"String\" /&gt;\n    &lt;layout type=\"log4net.Layout.PatternLayout\"&gt;\n      &lt;conversionPattern value=\"%logger\" /&gt;\n    &lt;/layout&gt;\n  &lt;/parameter&gt;\n  &lt;parameter&gt;\n    &lt;parameterName value=\"@Message\" /&gt;\n    &lt;dbType value=\"String\" /&gt;\n    &lt;layout type=\"log4net.Layout.PatternLayout\"&gt;\n      &lt;conversionPattern value=\"%message\" /&gt;\n    &lt;/layout&gt;\n  &lt;/parameter&gt;\n&lt;/appender&gt;\n\n&lt;!-- Setup the root category, add the appenders\n       and set the default level --&gt;\n&lt;root&gt;\n  &lt;level value=\"DEBUG\" /&gt;\n  &lt;appender-ref ref=\"DebugAppender\" /&gt;\n  &lt;appender-ref ref=\"LogFileAppender\" /&gt;\n  &lt;appender-ref ref=\"AdoNetAppender\" /&gt;\n&lt;/root&gt;\n</code></pre>\n\n<p></p>\n\n<p></p>\n\n<p>The Table is created like this, and has this schema :</p>\n\n<pre><code>DROP TABLE IF EXISTS Log;\nCREATE TABLE Log (\n    LogId     INTEGER PRIMARY KEY,\n    Date      DATETIME NOT NULL,\n    Level     VARCHAR(50) NOT NULL,\n    Logger    VARCHAR(255) NOT NULL,\n    Message   TEXT DEFAULT NULL\n    RowVersion INTEGER DEFAULT 1\n);\n\nCREATE TRIGGER Log_rowversion_trigger AFTER UPDATE ON Log \nBEGIN\nUPDATE Log SET RowVersion = new.RowVersion + 1  WHERE Id = new.Id;\nEND;\n</code></pre>\n\n<p>Please Let me know if you can see where I made the error, I have been stuck on this all day.</p>\n\n<p>Thank you\nRF</p>\n\n<p>STACK TRACE:</p>\n\n<pre><code>mscorlib.dll!long.Parse(string s = \"DateTime\", System.Globalization.NumberStyles style = AllowLeadingWhite | AllowTrailingWhite | AllowLeadingSign, System.IFormatProvider provider = {System.Globalization.NumberFormatInfo}) + 0x1a bytes \nmscorlib.dll!System.Convert.ToInt64(string value = \"DateTime\", System.IFormatProvider provider = {}) + 0x13 bytes   \nmscorlib.dll!string.System.IConvertible.ToInt64(System.IFormatProvider provider = {}) + 0x7 bytes   \nmscorlib.dll!System.Convert.DefaultToType(System.IConvertible value = \"DateTime\", System.Type targetType = {Name = \"Int64\" FullName = \"System.Int64\"}, System.IFormatProvider provider = {}) + 0xe5 bytes   \nmscorlib.dll!string.System.IConvertible.ToType(System.Type type = {Name = \"Int64\" FullName = \"System.Int64\"}, System.IFormatProvider provider = {}) \nmscorlib.dll!System.Convert.ChangeType(object value = \"DateTime\", System.Type conversionType = {Name = \"Int64\" FullName = \"System.Int64\"}, System.IFormatProvider provider = {}) + 0x51 bytes   \nlog4net.dll!log4net.Util.OptionConverter.ParseEnum(System.Type enumType = {Name = \"DbType\" FullName = \"System.Data.DbType\"}, string value = \"DateTime\", bool ignoreCase = true) + 0x4d bytes    \nlog4net.dll!log4net.Util.OptionConverter.ConvertStringTo(System.Type target = {Name = \"DbType\" FullName = \"System.Data.DbType\"}, string txt = \"DateTime\") + 0x5d bytes  \nlog4net.dll!log4net.Repository.Hierarchy.XmlHierarchyConfigurator.ConvertStringTo(System.Type type = {Name = \"DbType\" FullName = \"System.Data.DbType\"}, string value = \"DateTime\") + 0x41 bytes \nlog4net.dll!log4net.Repository.Hierarchy.XmlHierarchyConfigurator.SetParameter(System.Xml.XmlElement element = {System.Xml.XmlElement}, object target = {log4net.Appender.AdoNetAppenderParameter}) + 0x282 bytes   \nlog4net.dll!log4net.Repository.Hierarchy.XmlHierarchyConfigurator.CreateObjectFromXml(System.Xml.XmlElement element = {System.Xml.XmlElement}, System.Type defaultTargetType = {Name = \"AdoNetAppenderParameter\" FullName = \"log4net.Appender.AdoNetAppenderParameter\"}, System.Type typeConstraint = {Name = \"AdoNetAppenderParameter\" FullName = \"log4net.Appender.AdoNetAppenderParameter\"}) + 0x13a bytes   \nlog4net.dll!log4net.Repository.Hierarchy.XmlHierarchyConfigurator.SetParameter(System.Xml.XmlElement element = {System.Xml.XmlElement}, object target = {log4net.Appender.AdoNetAppender}) + 0x525 bytes    \nlog4net.dll!log4net.Repository.Hierarchy.XmlHierarchyConfigurator.ParseAppender(System.Xml.XmlElement appenderElement = {System.Xml.XmlElement}) + 0x170 bytes  \nlog4net.dll!log4net.Repository.Hierarchy.XmlHierarchyConfigurator.FindAppenderByReference(System.Xml.XmlElement appenderRef = {System.Xml.XmlElement}) + 0xb1 bytes \nlog4net.dll!log4net.Repository.Hierarchy.XmlHierarchyConfigurator.ParseChildrenOfLoggerElement(System.Xml.XmlElement catElement = {System.Xml.XmlElement}, log4net.Repository.Hierarchy.Logger log = {log4net.Repository.Hierarchy.RootLogger}, bool isRoot = true) + 0x4a bytes    \nlog4net.dll!log4net.Repository.Hierarchy.XmlHierarchyConfigurator.ParseRoot(System.Xml.XmlElement rootElement = {System.Xml.XmlElement}) + 0x1d bytes   \nlog4net.dll!log4net.Repository.Hierarchy.XmlHierarchyConfigurator.Configure(System.Xml.XmlElement element = {System.Xml.XmlElement}) + 0x1e1 bytes  \nlog4net.dll!log4net.Repository.Hierarchy.Hierarchy.XmlRepositoryConfigure(System.Xml.XmlElement element = {System.Xml.XmlElement}) + 0xe bytes  \nlog4net.dll!log4net.Repository.Hierarchy.Hierarchy.log4net.Repository.IXmlRepositoryConfigurator.Configure(System.Xml.XmlElement element = {System.Xml.XmlElement}) + 0x7 bytes \nlog4net.dll!log4net.Config.XmlConfigurator.ConfigureFromXml(log4net.Repository.ILoggerRepository repository = {log4net.Repository.Hierarchy.Hierarchy}, System.Xml.XmlElement element = {System.Xml.XmlElement}) + 0x7a bytes   \nlog4net.dll!log4net.Config.XmlConfigurator.Configure(log4net.Repository.ILoggerRepository repository = {log4net.Repository.Hierarchy.Hierarchy}, System.IO.Stream configStream = {System.IO.FileStream}) + 0xbb bytes   \nlog4net.dll!log4net.Config.XmlConfigurator.Configure(log4net.Repository.ILoggerRepository repository = {log4net.Repository.Hierarchy.Hierarchy}, System.IO.FileInfo configFile = {\\Program Files\\AlliedPetroleum.Client\\AlliedPetroleum.Client.exe.config}) + 0xa7 bytes    \nlog4net.dll!log4net.Config.XmlConfigurator.Configure(log4net.Repository.ILoggerRepository repository = {log4net.Repository.Hierarchy.Hierarchy}) + 0x52 bytes   \n</code></pre>\n\n<blockquote>\n  <p>log4net.dll!log4net.Config.XmlConfigurator.Configure() + 0xf bytes AlliedPetroleum.Client.exe!AlliedPetroleum.Client.Program.Main() Line 47 + 0x5 bytes C#</p>\n</blockquote>\n"},{"tags":["sqlite","odbc","connection-string","powerpivot"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":23,"score":1,"question_id":13243919,"title":"What connection string to use to read sqlite db from powerpivot using SQLite ODBC driver","body":"<p>I'd like to import that data contained in a sqlite file to PowerPivot. I downloaded an ODBC driver for sqlite (http://www.ch-werner.de/sqliteodbc/) to accomplish this. In PowerPivot I selected \"Home\" > \"Get External Data\" > \"From Other Sources\". I scrolled down to \"Others (OLEDB/ODBC). Selected it and clicked next.</p>\n\n<p>TheFor the connection string. I found this website: <a href=\"http://www.connectionstrings.com/sqlite\" rel=\"nofollow\">http://www.connectionstrings.com/sqlite</a> and I tried the connection string at the bottom suggested for SQLite3 ODBC Driver:</p>\n\n<pre><code>DRIVER=SQLite3 ODBC Driver;Database=c:\\Chinook_Sqlite.sqlite;LongNames=0;Timeout=1000;NoTXN=0;\nSyncPragma=NORMAL;StepAPI=0;\n</code></pre>\n\n<p>(I'm using a sample database that I put at the root of my c:. The db if from here: <a href=\"http://chinookdatabase.codeplex.com/releases/view/55169\" rel=\"nofollow\">http://chinookdatabase.codeplex.com/releases/view/55169</a> )</p>\n\n<p>With this connection string when I Test the Connection I get the following error message:</p>\n\n<blockquote>\n  <p>The test connection failed because the provider could not be initialized. If you contact Microsoft support about this error, provide the following message: Faile to connect to server. Reason: Provider information is missing from the connection string. Add the provider information and try again.</p>\n</blockquote>\n\n<p>I understand that the driver I installed is not found, but I don't know how to correct the connection string to point to the driver dll.</p>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13243672,"title":"Android SQLite simple syntax error","body":"<p>I decided to add a second table for my app. I keep getting a syntax error even though its almost exactly the same setup as the first table creation string.</p>\n\n<pre><code>private static final String BUDGET_TABLE = \"budgets\";\nprivate static final String KEY_ROW_ID_BUDGET = \"_id\";\nprivate static final String KEY_BUDGET_LIMIT = \"limit\";\nprivate static final String KEY_BUDGET_CURRENT_AMOUNT = \"current_amount\";\n</code></pre>\n\n<p>This string throws the syntax error near 'limit' </p>\n\n<pre><code>private static final String BUDGET_CREATE =\n        \"create table \"+ BUDGET_TABLE +\" ( \"+ KEY_ROW_ID_BUDGET+\" integer primary key autoincrement, \"\n        + KEY_BUDGET_LIMIT+\" text not null, \"+ KEY_BUDGET_CURRENT_AMOUNT+\" text);\";\n\n\ndb.execSQL(BUDGET_CREATE);\n</code></pre>\n"},{"tags":["android","sqlite","transactions"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":112,"score":1,"question_id":7089930,"title":"Using multiple methods in a transaction","body":"<p>I'm making an Android app, which gets its information from XML files.\nI'm filling the information in a database, for easier acces during the program's runtime, thanks to the power of queries.</p>\n\n<p>However it came to my attention, that using Transactions greatly improves speed, so naturally, I want to use that.</p>\n\n<p>My problem is the following tho;\nIn the idea of abstraction, after parsing all the information of <em>one</em> subject, the information gets send to the correct entity (class), and inside that entity there is a method that will add it in the database. After that, it returns to the parser which continues to read the next subject, which in it's turn will be send to right (and probably different) class again. </p>\n\n<p>This is implemented with a switch statement, with every case pointing to a different class constructor.</p>\n\n<p>If I want to use the speed of transactions, I would need to start a transaction already before the parsing, run through the parsing and query building (as far as I understand, all queries build within the transaction, are collected and in the end all executed as a bunch) and then end the transaction, once the whole file is parsed. </p>\n\n<p>To make this a bit clearer, or faster to read; The code idea would be;</p>\n\n<pre><code>    Class parser(){\n  database.beginTransaction();\n    try{  \n         // start parsing in a whole different class, which also points to SQL queries (in different classes again) in the entitys with a switch\n       }catch(Exception e){\n    database.endTransaction();\n       }\n        database.endTransaction();\n}\n</code></pre>\n\n<p>I hope i formulated my question clearly enough.</p>\n\n<p>Kind regards,</p>\n"},{"tags":["mysql","ruby-on-rails","sqlite"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":490,"score":2,"question_id":2394757,"title":"Rails keeps trying to use SQLite , despite that I've configured MySQL for my project","body":"<p>I setup my rails project \"tracks\" using:</p>\n\n<pre><code>$ rails --database=mysql tracks # OK\n$ cd tracks\n$ vim config/database.yml # correct using mysql adapter, added password spec\n$ rake db:create RAILS_ENV='development' # OK\n$ rake db:migrate # OK\n\n$ ruby script/generate scaffold user name:string password:string email:string url:string # OK\n$ rake db:migrate # OK, creates table\n$ ruby script/server # OK, starts WEBrick\n</code></pre>\n\n<p>I open up the thing in a web browser:</p>\n\n<pre><code>http://localhost:3000 # correctly shows the rails welcome splash\n</code></pre>\n\n<p>I navigate to</p>\n\n<pre><code>http://localhost:3000/users/new\n</code></pre>\n\n<p>and get a huge slew of errors:</p>\n\n<pre><code>ActiveRecord::StatementInvalid in UsersController#index\n\nSQLite3::SQLException: no such table: users: SELECT * FROM \"users\" \nRAILS_ROOT: /home/drew/tracks/trunk/tracks\n\nApplication Trace | Framework Trace | Full Trace\nvendor/rails/activerecord/lib/active_record/connection_adapters/abstract_adapter.rb:188:in `log'\nvendor/rails/activerecord/lib/active_record/connection_adapters/sqlite_adapter.rb:132:in `execute'\nvendor/rails/activerecord/lib/active_record/connection_adapters/sqlite_adapter.rb:372:in `catch_schema_changes'\nvendor/rails/activerecord/lib/active_record/connection_adapters/sqlite_adapter.rb:132:in `execute'\nvendor/rails/activerecord/lib/active_record/connection_adapters/sqlite_adapter.rb:275:in `select'\nvendor/rails/activerecord/lib/active_record/connection_adapters/abstract/database_statements.rb:7:in `select_all_without_query_cache'\nvendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:60:in `select_all'\nvendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:81:in `cache_sql'\nvendor/rails/activerecord/lib/active_record/connection_adapters/abstract/query_cache.rb:60:in `select_all'\nvendor/rails/activerecord/lib/active_record/base.rb:635:in `find_by_sql'\nvendor/rails/activerecord/lib/active_record/base.rb:1490:in `find_every'\nvendor/rails/activerecord/lib/active_record/base.rb:589:in `find'\napp/controllers/users_controller.rb:5:in `index'\n</code></pre>\n\n<p><strong>wtf? Why is ruby still trying to use SQLite? database.yml has zero mention of SQLite.</strong></p>\n\n<p>Thanks</p>\n"},{"tags":["eclipse","sqlite","exception"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":19,"score":-1,"question_id":13237840,"title":"SQLite onCreate exception","body":"<p>I have no idea what is happening. Any clues? </p>\n\n<pre><code>11-05 18:02:01.195: D/dalvikvm(641): Not late-enabling CheckJNI (already on)\n11-05 18:02:01.595: E/Trace(641): error opening trace file: No such file or directory (2)\n11-05 18:02:01.907: E/SQLiteLog(641): (1) near \"Table\": syntax error\n11-05 18:02:01.915: D/AndroidRuntime(641): Shutting down VM\n11-05 18:02:01.915: W/dalvikvm(641): threadid=1: thread exiting with uncaught exception (group=0x40a13300)\n11-05 18:02:01.925: E/AndroidRuntime(641): FATAL EXCEPTION: main\n11-05 18:02:01.925: E/AndroidRuntime(641): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.cookbook.adiel/com.cookbook.adiel.MainActivity}: android.database.sqlite.SQLiteException: near \"Table\": syntax error (code 1): , while compiling: CREATE TABLE Stories Table(row id INTEGER PRIMARY KEY,Story name TEXT,Recipe ingredients TEXT,Clean recipe TEXT, )\n11-05 18:02:01.925: E/AndroidRuntime(641):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2059)\n11-05 18:02:01.925: E/AndroidRuntime(641):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2084)\n11-05 18:02:01.925: E/AndroidRuntime(641):  at android.app.ActivityThread.access$600(ActivityThread.java:130)\n11-05 18:02:01.925: E/AndroidRuntime(641):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1195)\n11-05 18:02:01.925: E/AndroidRuntime(641):  at android.os.Handler.dispatchMessage(Handler.java:99)\n11-05 18:02:01.925: E/AndroidRuntime(641):  at android.os.Looper.loop(Looper.java:137)\n11-05 18:02:01.925: E/AndroidRuntime(641):  at android.app.ActivityThread.main(ActivityThread.java:4745)\n11-05 18:02:01.925: E/AndroidRuntime(641):  at java.lang.reflect.Method.invokeNative(Native Method)\n11-05 18:02:01.925: E/AndroidRuntime(641):  at java.lang.reflect.Method.invoke(Method.java:511)\n11-05 18:02:01.925: E/AndroidRuntime(641):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:786)\n11-05 18:02:01.925: E/AndroidRuntime(641):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:553)\n11-05 18:02:01.925: E/AndroidRuntime(641):  at dalvik.system.NativeStart.main(Native Method)\n11-05 18:02:01.925: E/AndroidRuntime(641): Caused by: android.database.sqlite.SQLiteException: near \"Table\": syntax error (code 1): , while compiling: CREATE TABLE Stories Table(row id INTEGER PRIMARY KEY,Story name TEXT,Recipe ingredients TEXT,Clean recipe TEXT, )\n11-05 18:02:01.925: E/AndroidRuntime(641):  at android.database.sqlite.SQLiteConnection.nativePrepareStatement(Native Method)\n11-05 18:02:01.925: E/AndroidRuntime(641):  at android.database.sqlite.SQLiteConnection.acquirePreparedStatement(SQLiteConnection.java:882)\n11-05 18:02:01.925: E/AndroidRuntime(641):  at android.database.sqlite.SQLiteConnection.prepare(SQLiteConnection.java:493)\n11-05 18:02:01.925: E/AndroidRuntime(641):  at android.database.sqlite.SQLiteSession.prepare(SQLiteSession.java:588)\n11-05 18:02:01.925: E/AndroidRuntime(641):  at android.database.sqlite.SQLiteProgram.&lt;init&gt;(SQLiteProgram.java:58)\n11-05 18:02:01.925: E/AndroidRuntime(641):  at android.database.sqlite.SQLiteStatement.&lt;init&gt;(SQLiteStatement.java:31)\n11-05 18:02:01.925: E/AndroidRuntime(641):  at android.database.sqlite.SQLiteDatabase.executeSql(SQLiteDatabase.java:1663)\n11-05 18:02:01.925: E/AndroidRuntime(641):  at    android.database.sqlite.SQLiteDatabase.execSQL(SQLiteDatabase.java:1594)\n11-05 18:02:01.925: E/AndroidRuntime(641):  at com.cookbook.adiel.StoryDatabaseHandler.onCreate(StoryDatabaseHandler.java:40)\n11-05 18:02:01.925: E/AndroidRuntime(641):  at android.database.sqlite.SQLiteOpenHelper.getDatabaseLocked(SQLiteOpenHelper.java:252)\n11-05 18:02:01.925: E/AndroidRuntime(641):  at android.database.sqlite.SQLiteOpenHelper.getWritableDatabase(SQLiteOpenHelper.java:164)\n11-05 18:02:01.925: E/AndroidRuntime(641):  at com.cookbook.adiel.StoryDatabaseHandler.addStory(StoryDatabaseHandler.java:55)\n11-05 18:02:01.925: E/AndroidRuntime(641):  at com.cookbook.adiel.MainActivity.onCreate(MainActivity.java:50)\n11-05 18:02:01.925: E/AndroidRuntime(641):  at android.app.Activity.performCreate(Activity.java:5008)\n11-05 18:02:01.925: E/AndroidRuntime(641):  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1079)\n11-05 18:02:01.925: E/AndroidRuntime(641):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2023)\n11-05 18:02:01.925: E/AndroidRuntime(641):  ... 11 more\n</code></pre>\n\n<p>I'm guessing it has something to do with the onCreate method, so here it is.\nDatabase Handler onCreate method: </p>\n\n<pre><code>private static final String DATABASE_TABLE = \"Stories Table\";\n\n// table column names\nprivate static final String KEY_ROWID = \"row id\";\nprivate static final String KEY_STORYNAME = \"Story name\";\nprivate static final String KEY_INGREDIENTS = \"Recipe ingredients\";\nprivate static final String KEY_RECIPE = \"Clean recipe\";\n\npublic StoryDatabaseHandler(Context context) {\n    super(context, DATABASE_NAME, null, DATABASE_VERSION);\n}\n\n// Creating table\n@Override\npublic void onCreate(SQLiteDatabase db) {\n    // TODO Auto-generated method stub\n    String CREATE_STORIES_TABLE = \"CREATE TABLE \" + DATABASE_TABLE + \"(\"\n            + KEY_ROWID + \" INTEGER PRIMARY KEY,\" + KEY_STORYNAME\n            + \" TEXT,\" + KEY_INGREDIENTS + \" TEXT,\" + KEY_RECIPE + \" TEXT,\"\n            + \" )\";\n    db.execSQL(CREATE_STORIES_TABLE);\n}\n</code></pre>\n\n<p>If it's something else, I'll put what is requested. Thanks for any help in advance. :)</p>\n"},{"tags":["android","database","sqlite","android-sdcard"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":44,"score":0,"question_id":13222533,"title":"how import sqlite database android","body":"<p>When I export a database on sd card I use</p>\n\n<pre><code>try {\n    File sd = new File(Environment.getExternalStorageDirectory()+\"/ABC\");\n                    File data = Environment.getDataDirectory();\n                    boolean success = false;\n                    if (!sd.exists()) {\n                        success = sd.mkdir();\n                    }\n                    if (sd.canWrite()) {\n                        String currentDBPath = \"\\\\data\\\\com.example.skurat\\\\databases\\\\Income.db\";\n                        String backupDBPath = \"Income.db\";\n                        File currentDB = new File(data, currentDBPath);\n                        File backupDB = new File(sd, backupDBPath);\n\n                        if (currentDB.exists() &amp;&amp; success) {\n                            FileChannel src = new FileInputStream(currentDB).getChannel();\n                            FileChannel dst = new FileOutputStream(backupDB).getChannel();\n                            dst.transferFrom(src, 0, src.size());\n                            src.close();\n                            dst.close();\n                        }\n                    }\n                } catch (Exception e) {\n                }\n</code></pre>\n\n<p>as a result file \"Income.db\" is stored on the sd card.</p>\n\n<p>When I import a new database from sd card I use</p>\n\n<pre><code>File dbfile = new File(Environment.getExternalStorageDirectory().getAbsolutePath() +\"/ABC/Income.db\" ); \n             String backupDBPath = \"Income.db\";\n             File backupDB = new File(dbfile, backupDBPath);\n            SQLiteDatabase db = SQLiteDatabase.openOrCreateDatabase(dbfile, null);\n            // toDoDBAdapter = new DBAdapter(this, \"Income.db\"); written in the \"onCreate\" method, working correctly\n            toDoDBAdapter.dbHelper.onUpgrade(db, 1, 2);\n            // refresh screen, working correctly\n            populateTodoList();\n</code></pre>\n\n<p>And database is not updated. Why? I use API 7</p>\n\n<p>p.s.</p>\n\n<p><strong>If you know another way to import the database from sd card in the application, please tell, thanks</strong></p>\n"},{"tags":["ios","database","xcode","sqlite","insert"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":37,"score":-1,"question_id":13236685,"title":"SQLite, insert data into a DB from different Views","body":"<p><strong>We have declared the following code in the default ViewController.m:</strong></p>\n\n<pre><code>-(void)saveData{\nsqlite3_stmt *statement;\nconst char *dbpath = [databasePath UTF8String];\n\nif (sqlite3_open(dbpath, &amp;contactDB) == SQLITE_OK)\n{\n    NSString *insertSQL = [NSString stringWithFormat:\n                           @\"INSERT INTO CONTACTS (name, address, phone) VALUES (\\\"%@\\\", \\\"%@\\\", \\\"%@\\\")\",\n                           name.text, address.text, phone.text];\n    const char *insert_stmt = [insertSQL UTF8String];\n    sqlite3_prepare_v2(contactDB, insert_stmt,-1, &amp;statement, NULL);\n    if (sqlite3_step(statement) == SQLITE_DONE)\n    {\n        name.text = @\"\";\n        address.text = @\"\";\n        phone.text = @\"\";\n    sqlite3_finalize(statement);\n    sqlite3_close(contactDB);\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>-(void)findContact{</p>\n\n<pre><code>const char *dbpath = [databasePath UTF8String];\nsqlite3_stmt *statement;\n\nif (sqlite3_open(dbpath, &amp;contactDB) == SQLITE_OK)\n{\n    NSString *querySQL = [NSString stringWithFormat:@\"SELECT address, phone FROM contacts WHERE name=\\\"%@\\\"\", name.text];\n    const char *query_stmt = [querySQL UTF8String];\n\n    if (sqlite3_prepare_v2(contactDB, query_stmt, -1, &amp;statement, NULL) == SQLITE_OK)\n    {\n        if (sqlite3_step(statement) == SQLITE_ROW)\n        {\n            NSString *addressField = [[NSString alloc] initWithUTF8String:(const char *) sqlite3_column_text(statement, 0)];\n            address.text = addressField;\n            NSString *phoneField = [[NSString alloc]\n                                    initWithUTF8String:(const char *)\n                                    sqlite3_column_text(statement, 1)];\n            phone.text = phoneField;\n\n            status.text = @\"Match found\";\n        } else {\n            status.text = @\"Match not found\";\n            address.text = @\"\";\n            phone.text = @\"\";\n\n        }\n        sqlite3_finalize(statement);\n    }\n    sqlite3_close(contactDB);\n}\n</code></pre>\n\n<p>}</p>\n\n<p>-(void)viewDidLoad{</p>\n\n<pre><code>[super viewDidLoad];\nNSString *docsDir;\nNSArray *dirPaths;\ndirPaths=NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);\ndocsDir=[dirPaths objectAtIndex:0];\ndatabasePath=[[NSString alloc]initWithString:[docsDir stringByAppendingPathComponent:@\"contacts.db\"]];\nNSFileManager *filemgr=[NSFileManager defaultManager];\nif([filemgr fileExistsAtPath:databasePath]==NO)\n{\n    const char *dbpath=[databasePath UTF8String];\n    if(sqlite3_open(dbpath, &amp;contactDB)==SQLITE_OK)\n    {\n        char *errMsg;\n        const char *sql_stmt =\n        \"CREATE TABLE IF NOT EXISTS CONTACTS (ID INTEGER PRIMARY KEY AUTOINCREMENT, NAME TEXT, ADDRESS TEXT, PHONE TEXT)\";\n\n        if (sqlite3_exec(contactDB, sql_stmt, NULL, NULL, &amp;errMsg) != SQLITE_OK)\n        {\n            status.text = @\"Failed to create table\";\n        }\n        sqlite3_close(contactDB);\n    } else {\n        status.text = @\"Failed to open/create database\";\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p><strong>It works, but we want to access to that database (contactDB) from different viewControllerName.m ; we have tried the following:</strong></p>\n\n<p>//  Scene2ViewController.m</p>\n\n<p>-(void)incrementoBarra {</p>\n\n<p>if (barra.progress == 1) {</p>\n\n<pre><code>   //In this method we want to insert the address data into the specified name. \n\n   sqlite3_stmt *statement;\n   const char *dbpath = [databasePath UTF8String];\n\n   if (sqlite3_open(dbpath, &amp;contactDB) == SQLITE_OK)\n   {\n       NSString *insertSQL = [NSString stringWithFormat:\n                              @\"INSERT INTO CONTACTS (name, address) VALUES (\\\"%@\\\", \\\"%d\\\")\",\n                              usuario, tiempo];\n       const char *insert_stmt = [insertSQL UTF8String];\n       sqlite3_prepare_v2(contactDB, insert_stmt,-1, &amp;statement, NULL);\n       if (sqlite3_step(statement) == SQLITE_DONE)\n       {\n           sqlite3_finalize(statement);\n           sqlite3_close(contactDB);\n       }\n   }\n\n   //\n\n\n   [self performSelector:@selector(hideImage) withObject: nil afterDelay:1.0];\n\n\n}\n</code></pre>\n\n<p>}</p>\n\n<p><strong>It didn´t work due to errors with the variables and the database as these were not well declared</strong></p>\n\n<p><em><strong>How do we have to implement those variables and database to work with them from different .m?\nThank you for your time!</em></strong></p>\n"},{"tags":["database","sqlite","production-environment"],"answer_count":8,"favorite_count":1,"up_vote_count":6,"down_vote_count":0,"view_count":1620,"score":6,"question_id":913067,"title":"SQLite as a production database for a low-traffic site?","body":"<p>I'm considering using SQLite as a production database for a site that would receive perhaps 20 simultaneous users, but with the potential for a peak that could be many multiples of that (since the site would be accessible on the open internet and there's always a possibility that someone will post a link somewhere that could drive many people to the site all at once). </p>\n\n<p>Is SQLite a possibility? </p>\n\n<p>I know it's not an ideal production scenario. I'm only asking if this is within the realm of being a realistic possibility.</p>\n"},{"tags":["android","database","sqlite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":243,"score":0,"question_id":11664545,"title":"retrieve data from databse in edit text box in android and want to display simple dropdown items in one line","body":"<p>I want to display simple dropdown items in one line for purpose of auto-completion of the route name EditText on the <code>AddItemsActivity</code> that I have entered as displayed below. I have created the database table, the entered data is displayed in database using <code>DDMS-&gt;data-&gt;data-&gt; my program name-&gt;databse -&gt;android_ap.db</code>  </p>\n\n<p>Here is my java class</p>\n\n<p>LoginDB.java</p>\n\n<pre><code>public class LoginDB extends SQLiteOpenHelper{\n    // All Static variables\n    // Database Version\n    private static final int DATABASE_VERSION = 2;\n\n    // Database Name\n    private static final String DATABASE_NAME = \"android_ap.db\";\n\n    // Login table name\n    private static final String TABLE_LOGIN = \"login\";\n    // Login Table Columns names\n    private static final String KEY_ID = \"_id\";\n    private static final String KEY_NAME = \"name\";\n    private static final String KEY_PASSWORD = \"password\";\n    private static final String TABLE_PARTY=\"party_master\";\n    private static final String KEY_PID=\"party_id\";\n    private static final String KEY_PNAME=\"party_name\";\n    private static final String KEY_ROUTE_NAME=\"route_name\";\n    private static final String KEY_ROUTE_NUM=\"RootNo\";\n\n    private static final String KEY_CONTACT_PERSON=\"contect_person\";\n    private static final String KEY_CELL_NUM=\"cell_no\";\n\n\n    private static final String CREATE_LOGIN_TABLE = \"CREATE TABLE \" + TABLE_LOGIN + \"(\"\n            + KEY_ID + \" INTEGER PRIMARY KEY,\" \n            + KEY_NAME + \" TEXT NOT NULL,\"\n            + KEY_PASSWORD + \" TEXT NOT NULL);\";\n    private static final String CREATE_PARTY_TABLE = \"CREATE TABLE \" + TABLE_PARTY + \"(\"\n            + KEY_PID + \" INTEGER PRIMARY KEY,\" \n            + KEY_PNAME + \" TEXT NOT NULL,\"\n            + KEY_ROUTE_NAME + \" TEXT NOT NULL);\";\n\n\n    public LoginDB(Context context) {\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\n    }\n\n\n    // Creating Tables\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        db.execSQL(CREATE_LOGIN_TABLE);\n        db.execSQL(CREATE_PARTY_TABLE);\n        }\n\n\n    // Upgrading database\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n        // Drop older table if existed\n        db.execSQL(\"DROP TABLE IF EXISTS \" + TABLE_LOGIN);\n        db.execSQL(\"DROP TABLE IF EXISTS \" + TABLE_PARTY);\n\n        // Create tables again\n        onCreate(db);\n    }\n\n\n    /**\n     * Storing user details in database\n     * */\n    public void addUser(String name, String password) {\n        SQLiteDatabase db = this.getWritableDatabase();\n\n        ContentValues values = new ContentValues();\n        values.put(KEY_NAME, name); // Name\n        values.put(KEY_PASSWORD, password); // password\n\n        // Inserting Row\n        db.insert(TABLE_LOGIN, null, values);\n        db.close(); // Closing database connection\n    }\n\n    public void add_party_master(String party_name, String route_name) {\n        SQLiteDatabase db = this.getWritableDatabase();\n\n        ContentValues values = new ContentValues();\n        values.put(KEY_PNAME, party_name); // Party Name\n        values.put(KEY_ROUTE_NAME, route_name); // Route Name\n\n        // Inserting Row\n        db.insert(TABLE_PARTY, null, values);\n        db.close(); // Closing database connection\n    }\n\n\n    /**\n     * Getting user data from database\n     * */\n    public HashMap&lt;String, String&gt; getUserDetails(String party_name,String route_name,String RootNo, String contect_person,String cell_no){\n        HashMap&lt;String,String&gt; user = new HashMap&lt;String,String&gt;();\n        String selectQuery = \"SELECT  * FROM \" + TABLE_PARTY;\n\n        SQLiteDatabase db = this.getReadableDatabase();\n        Cursor cursor = db.rawQuery(selectQuery, null);\n        // Move to first row\n        cursor.moveToFirst();\n        if(cursor.getCount() &gt; 0){\n            user.put(\"party_name\", cursor.getString(1));\n            user.put(\"route_name\", cursor.getString(2));\n            user.put(\"RootNo\", cursor.getString(3));\n            user.put(\"contect_person\", cursor.getString(4));\n            user.put(\"cell_no\", cursor.getString(5));\n        }\n        cursor.close();\n        db.close();\n        // return user\n        return user;\n    }\n\n    public ArrayList&lt;String&gt;  getUserRecords(String route_name){\n        //HashMap&lt;String,String&gt; userNew = new HashMap&lt;String,String&gt;();\n        ArrayList&lt;String&gt; a=new ArrayList&lt;String&gt;(); \n        String selectQuery = \"SELECT  * FROM \" + TABLE_PARTY;\n\n        SQLiteDatabase db = this.getReadableDatabase();\n        Cursor cursor = db.rawQuery(selectQuery, null);\n        // Move to first row\n        cursor.moveToFirst();\n        if(cursor.getCount() &gt; 0){\n            //userNew.put(\"party_name\", cursor.getString(1));\n        //  userNew.put(\"route_name\", cursor.getString(2));\n        //  userNew.put(\"RootNo\", cursor.getString(3));\n       //   userNew.put(\"contect_person\", cursor.getString(4));\n        //  userNew.put(\"cell_no\", cursor.getString(5));\n\n        a.add(cursor.getString(1));\n        }\n        cursor.close();\n        db.close();\n        // return user\n        return a;\n    }\n\n\n    /**\n     * Getting user login status\n     * return true if rows are there in table\n     * */\n    public int getRowCount() {\n        String countQuery = \"SELECT  * FROM \" + TABLE_LOGIN ;\n        SQLiteDatabase db = this.getReadableDatabase();\n        Cursor cursor = db.rawQuery(countQuery, null);\n        int rowCount = cursor.getCount();\n        db.close();\n        cursor.close();\n\n        // return row count\n        return rowCount;\n    }\n    public int getRowCount_party() {\n        String countQuery = \"SELECT  * FROM \" + TABLE_PARTY ;\n        SQLiteDatabase db = this.getReadableDatabase();\n        Cursor curs = db.rawQuery(countQuery, null);\n        int rowCount_p = curs.getCount();\n        db.close();\n        curs.close();\n\n        // return row count\n        return rowCount_p;\n    }\n\n\n    /**\n     * Re crate database\n     * Delete all tables and create them again\n     * @param pas1 \n     * @param username1 \n     * */\n\n        public int getAllname(String username1, String password1)\n      {  \n       SQLiteDatabase db=this.getReadableDatabase();\n       Cursor cur=db.rawQuery(\"SELECT KEY_NAME from \"+TABLE_LOGIN +\"WHERE KEY_NAME = '\" +username1+\"' and KEY_PASSWORD = '\"+password1+\"'\",null);\n       int rowCount = cur.getCount();\n        db.close();\n        cur.close();\n        return rowCount;            \n      }\n        public String getroot() throws SQLException\n          {  \n           SQLiteDatabase db=this.getReadableDatabase();\n           Cursor cur=db.rawQuery(\"SELECT * from \"+ TABLE_PARTY + \"WHERE route_name=?\",null);\n           cur.getString(cur.getColumnIndex(\"route_name\"));\n           db.close();\n           cur.close();\n        return getroot();\n          }\n\n\n      public boolean Login(String username, String password) throws SQLException \n        {\n          SQLiteDatabase db=this.getReadableDatabase();\n           Cursor mCursor = db.rawQuery(\"SELECT * FROM \" + TABLE_LOGIN + \" WHERE name=? AND password=?\", new String[]{username,password});\n            if (mCursor != null) {           \n                if(mCursor.getCount() &gt; 0)\n                {\n                    return true;\n                }\n            }\n         return false;\n        }\n\n      public int rootnm(String[] route_name) throws SQLException \n        {\n          SQLiteDatabase db=this.getReadableDatabase();\n           Cursor mnCursor = db.rawQuery(\"SELECT * FROM \" + TABLE_PARTY + \" WHERE route_name=? \", new String[] {});\n            if (mnCursor != null) {           \n                if(mnCursor.getCount() &gt; 0)\n                {\n                    db.getSyncedTables();\n                }\n            }\n            return 0;\n\n        }\n\n      public Cursor queueAll(){\n          String[] columns = new String[]{KEY_PID, KEY_ROUTE_NAME};\n          SQLiteDatabase db = null;\n        Cursor cursor123 = db.query(TABLE_PARTY, columns,\n            null, null, null, null, null);\n\n          return cursor123;\n          }\n\n      public Cursor retrieveRecords()\n      {\n        Cursor c = null;\n        SQLiteDatabase db = null;\n        c = db.rawQuery(\"select DISTICT route_name from party_master\", null);\n       return c;\n      }\n\n      private Cursor query(String selection, String[] selectionArgs, String[] columns) {\n            /* The SQLiteBuilder provides a map for all possible columns requested to\n             * actual columns in the database, creating a simple column alias mechanism\n             * by which the ContentProvider does not need to know the real column names\n             */\n            SQLiteQueryBuilder builder = new SQLiteQueryBuilder();\n            builder.setTables(TABLE_PARTY);\n\n            SQLiteOpenHelper db = null;\n            Cursor cursor = builder.query(db.getReadableDatabase(),\n                    columns, selection, selectionArgs, null, null, null);\n\n            if (cursor == null) {\n                return null;\n            } else if (!cursor.moveToFirst()) {\n                cursor.close();\n                return null;\n            }\n            return cursor;\n        }\n\n      public Cursor getWord(String route_name1, String[] columns) {\n            String selection = \"route_name = ?\";\n            String[] selectionArgs = new String[] {route_name1};\n\n            return query(selection, selectionArgs, columns);\n\n            /* This builds a query that looks like:\n             *     SELECT &lt;columns&gt; FROM &lt;table&gt; WHERE rowid = &lt;rowId&gt;\n             */\n        }\n\n      String[] rt = new String[]{KEY_ROUTE_NAME};\n\n\n\n    public void resetTables(){\n        SQLiteDatabase db = this.getWritableDatabase();\n        // Delete All Rows\n        db.delete(TABLE_LOGIN, null, null);\n        db.delete(TABLE_PARTY, null, null);\n        db.close();\n    }\n\n}\n</code></pre>\n\n<p>and AddItemActivity is </p>\n\n<p>public class AddItemActivity extends Activity{</p>\n\n<pre><code>private EditText etroute;\nprivate EditText etshop;\nprivate Button btnAddItem;\nprivate Button btnOkRoute;\nprivate Button btnOkShop;\npublic SQLiteDatabase db;\n\n\n/** Called when the activity is first created. */\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.additem);\n\n    LoginDB lg =new LoginDB(AddItemActivity.this);\n\n  // String[] route_name = lg.retrieveRecords();\n\nString[] route = lg.rt ;\n\n    ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(this,\n            android.R.layout.simple_dropdown_item_1line, route);\n         AutoCompleteTextView textView = (AutoCompleteTextView)\n            findViewById(R.id.route);\n\n         textView.setThreshold(0);\n         textView.setAdapter(adapter);\n\n // Get the EditText and Button References\n     etroute = (EditText)findViewById(R.id.route);\n     etshop = (EditText)findViewById(R.id.shop);\n\n     db =openOrCreateDatabase(\"DATABASE_NAME\", MODE_PRIVATE, null);\n     db.execSQL(\"CREATE TABLE IF NOT EXISTS TABLE_PARTY (KEY_ROUTE_NAME TEXT);\");\n     Cursor c1=db.rawQuery(\"SELECT * FROM TABLE_PARTY\", null);\n     if (c1.moveToNext())\n       etroute.setText(c1.getString(0));\n\n\n     etshop = (EditText)findViewById(R.id.shop);\n     btnAddItem = (Button)findViewById(R.id.add_item);\n     btnOkRoute = (Button)findViewById(R.id.btn_ok_route);\n     btnOkShop = (Button)findViewById(R.id.btn_ok_shop);\n\n\n     btnOkRoute.setOnClickListener(new OnClickListener() {\n         @Override\n         public void onClick(View v) {\n             String route_name = etroute.getText().toString();\n\n         }\n     });\n\n     btnOkShop.setOnClickListener(new OnClickListener() {\n         @Override\n         public void onClick(View v) {\n             String party_name = etshop.getText().toString();\n\n         }\n     });\n\n     btnAddItem.setOnClickListener(new OnClickListener() {\n         @Override\n         public void onClick(View v) {\n             String route_name = etroute.getText().toString();\n             String party_name = etshop.getText().toString();\n\n             {\n                     Toast.makeText(AddItemActivity.this, \"Record Successfully Inserted\", 2000).show();\n                    }\n              db.close();\n         }\n     });\n\n\n}\n}\n</code></pre>\n"},{"tags":["python","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":35,"score":3,"question_id":13235994,"title":"Supporting sqlite and sqlite3","body":"<p>I have an application that needs to support Python 2.4 and 2.6.  With 2.6, sqlite3 replaces sqlite.  Is there much else I need to worry about other than <code>paramstyle</code> differences?  Is this a decent way of handling that?</p>\n\n<pre><code>try:\n    import sqlite3 as sqlite\nexcept ImportError:\n    import sqlite\n\n...\n\nif sqlite.paramstyle == 'qmark':\n    query = 'SELECT foo FROM bar where baz = ?'\nelse:\n    query = 'SELECT foo FROM bar where baz = %s'\ncursor.execute(query, params)\n</code></pre>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":28,"score":0,"question_id":13230267,"title":"Check how much space a single row takes in Sqlite","body":"<p>Is there a way to check how much space a single row takes in Sqlite?</p>\n\n<p>I have tried using this way:</p>\n\n<p>I have 4 fields in my table:</p>\n\n<pre><code>id(int)\nname(text)\npat(text)\nis_default(bool) \n</code></pre>\n\n<p></p>\n\n<pre><code> select *, sum(length(id)+length(name)+length(pat)+length(is_default)) \n    from color;\n</code></pre>\n\n<p>But it returns character length (for example: 43). How can I determine the row length in bytes?</p>\n"},{"tags":["android","sqlite","size","sqlitedatabase"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":129,"score":0,"question_id":10264769,"title":"ANDROID: Finding the size of individual tables in a SqliteDatabase","body":"<p>I am trying to do something along the following lines:</p>\n\n<pre><code>SELECT bytes from user_segments where segment_name = 'TABLE_NAME';\n</code></pre>\n\n<p>I know that I can get the size of the whole database by </p>\n\n<pre><code>mDb = SQLiteDatabase;\nlong size = new File(mDb.getPath()).length();\n</code></pre>\n\n<p>Is it possible to get how much space an individual table takes up in storage in Android's SQLiteDatabase?</p>\n\n<p>EDIT--</p>\n\n<p>By the lack of response, I guess that it's not possible with SQLite. I am currently using a hack-ish way where I count the number of rows in the table and estimate how much space a single row takes (based on the given table schema).</p>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13229411,"title":"Android Application database(sqlite) backup on server","body":"<p>i used sqlite for creating database. Now i want to take backup of a database file on my server.</p>\n\n<p>so how to upload my sqlite database file to server from my application in android?</p>\n"},{"tags":["android","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":31,"score":1,"question_id":13227358,"title":"Sqlite query to check size of column as byte","body":"<p>I have tried search alot for how to get the memory size of table used in disk. I guess that it's not possible with SQLite.</p>\n\n<p>I think. I could get the table size if I get the row size.\nis there is query for Sqlite to check memory size of column as byte.</p>\n\n<p><strong>for example</strong>\nI have table with these following fields.</p>\n\n<p>Id (int)    Name (text) Img (blob).</p>\n\n<p>How can I check total memory size of id, name, img used in a table.</p>\n\n<p>Thank you.</p>\n"},{"tags":["android","database","sqlite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13230881,"title":"android sqlite database disk image is malformed","body":"<p>I have a problem with my database in android app.</p>\n\n<p>I'm copying the database from the assets folder to the datbase path\nafter that, some queries work just find &amp; other queries return :</p>\n\n<p>database disk image is malformed.\nbut when I check those tables using sqlbrowser, it works just fine.\nNote : all the queries are select statements only.</p>\n"},{"tags":["jquery","ajax","database","sqlite","phonegap"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":24,"score":0,"question_id":13230575,"title":"synchronizing a database using PhoneGap","body":"<p>I am trying to synchronize database with PhoneGap.</p>\n\n<p>the problem is as follows:</p>\n\n<p>when I select 30 line  from the database, $. ajax (using web service) all goes well, but when i select  300 line I got no line.</p>\n\n<blockquote>\n  <p>$.ajax({\n                 type: \"POST\",\n                   url: \"http://10.0.2.2:1998/bYzance_web_service/get_all_PhrasesTypes.asmx/Get_all_PrasesTypes\",\n                   contentType: \"application/json; charset=utf-8\",\n                   dataType: \"json\",\n                   async_PhrasesTypes : false,\n                   success:function (data)\n                {\n                     ////alert(\"Succes, des retirer les données PhrasesTypes\");\n                     var result = $.parseJSON(data.d);\n                     //////alert(\"les données\"+result);\n                     callback(result);\n                  },\n                  error: function(model, response) \n                {\n                      ////alert(\"pas des données\");\n                  }\n              });</p>\n\n<pre><code>    }\n</code></pre>\n</blockquote>\n\n<p>sorry if the code is not clear.</p>\n"},{"tags":["sqlite","windows-8","microsoft-metro","dblinq","sqlite-net"],"answer_count":1,"favorite_count":2,"up_vote_count":4,"down_vote_count":0,"view_count":76,"score":4,"question_id":13045310,"title":"Will using dblinq to SQLite in a Windows Store app pass store validation?","body":"<p>I've been trying to figure out how to get a decent LINQ to <em>something</em> working for ORM database access in a Windows Store app.\nAll I've found is SQLite and the sqlite-net NuGet package.  The latter sucks a bit, as I don't get any .dbml like structure which resolves relationships and provides navigation properties for easy querying (no manual joins needed then).</p>\n\n<p>I was wondering:</p>\n\n<ol>\n<li>Does dblinq in comnbination with SQLite offer this?</li>\n<li>Will using this pass Windows Store validation?</li>\n</ol>\n\n<p>Thank you !</p>\n\n<p>Update: Some links I used in my research:</p>\n\n<ul>\n<li>The famous Tim Heuer post on SQLite and Windows 8: <a href=\"http://timheuer.com/blog/archive/2012/08/07/updated-how-to-using-sqlite-from-windows-store-apps.aspx\" rel=\"nofollow\">http://timheuer.com/blog/archive/2012/08/07/updated-how-to-using-sqlite-from-windows-store-apps.aspx</a></li>\n<li>DBlinq: <a href=\"http://code.google.com/p/dblinq2007/\" rel=\"nofollow\">http://code.google.com/p/dblinq2007/</a></li>\n<li>sqlite-net: <a href=\"http://code.google.com/p/sqlite-net/\" rel=\"nofollow\">http://code.google.com/p/sqlite-net/</a></li>\n<li>Interesting discussion stating ADO.NET is not possible: <a href=\"http://social.msdn.microsoft.com/Forums/en-US/winappswithcsharp/thread/e9cdd75d-03e4-4577-988e-4c02a52e3f50\" rel=\"nofollow\">http://social.msdn.microsoft.com/Forums/en-US/winappswithcsharp/thread/e9cdd75d-03e4-4577-988e-4c02a52e3f50</a></li>\n</ul>\n"},{"tags":["objective-c","sqlite","fmdb"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":30,"score":1,"question_id":13209178,"title":"NSDocumentDirectory giving strange directory as output","body":"<p>I'm trying to open sqlite database from my documents directory:</p>\n\n<pre><code>NSString *docDir = [NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES) objectAtIndex:0];\nNSString *dbFileName = [docDir stringByAppendingPathComponent:@\"DatabaseName.sqlite\"];\n\nself.db = [FMDatabase databaseWithPath:dbFileName];\n\nself.db.logsErrors = YES;\n\nself.db = _db;\nif ([self.db open]) {\n    NSLog(@\"database opened\");\n\n}\nNSLog(@\"docDir = %@\",[NSString stringWithFormat:@\"%@%@\",docDir,dbFileName]);\n</code></pre>\n\n<p>NSLog shows strange path <code>docDir</code> = <code>/Users/userName/Documents/Users/userName/Documents/DatabaseName.sqlite</code> instead of <code>/Users/userName/Documents/DatabaseName.sqlite</code>. While opening there are no errors or warnings.</p>\n\n<p>After this I tried get count(*) from my table</p>\n\n<pre><code>NSString *queryString = [NSString stringWithFormat:@\"SELECT count(*) FROM histories\"];\nFMResultSet *result = [self.db executeQuery:queryString];\nNSLog(@\"count = %i\", [result intForColumnIndex:0]);\n</code></pre>\n\n<p>Database has more when 10k rows but NSLog shows 0. Application is not for iOS, only Command Line. Where can I find the problem? </p>\n"},{"tags":["sqlite","unit-testing","fluent-nhibernate","automapping"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":27,"score":1,"question_id":13178629,"title":"NHibnernate SQL Lite in memory unit testing doesn't work the same as a physical db","body":"<p>I am in the process of building a \"get to know NHibernate project).</p>\n\n<p>My unit tests (nunit) provide the repository layer the same configuration as the normal mvc site but using \"SQLiteConfiguration.Standard.InMemory()\" instead of \"MsSqlConfiguration.MsSql2008\".  My hope is that I can use fluent nhibernate and automapping exactly the same way but have a quick in memory db for tests and a real db for the app.</p>\n\n<p>In the repository constructor it creates the Session object for all queries to use and also implements IDisposable which will ensure the session is dealt with correctly.  For example a save article method would look like:</p>\n\n<pre><code>    public void SaveArticle(Article article)\n    {            \n        Session.SaveOrUpdate(article);      \n        Session.Flush();\n    }\n</code></pre>\n\n<p>So far the MVC site all seems to work correctly, and my tests are passing.  I think I have come across an issue that must be a problem with my design.</p>\n\n<p>So far I have two objects:</p>\n\n<pre><code>class Article\n{\n    public virtual int Id {get; set; }\n    public virtual IList&lt;Tag&gt; Tags {get; set; }\n }\n\n class Tag\n {\n    public virtual int Id {get; set; }\n    public virtual string Text {get; set; }\n }\n</code></pre>\n\n<p>I only want the DB to store ONE instance of each tag.  So many articles could use the same tag.  So I wrote this test:</p>\n\n<pre><code>    [Test]\n    public void TestDeletingTagWillNotDeleteOthersTagV2()\n    {\n        Article article = new Article();\n        article.Tags.Add(new Tag { Text = \"C#\" });\n        article.Tags.Add(new Tag { Text = \"VB\" });\n        Service.SaveArticle(article);\n\n        Article article2 = new Article();\n        article2.Tags.Add(new Tag { Text = \"C#\" });\n        Service.SaveArticle(article2);\n\n        Guid article1Id = article.Id;\n        Guid article2Id = article2.Id;\n\n        article = null;\n        article2 = null;\n\n        Article article3 = Service.GetArticle(article1Id);\n        Article article4 = Service.GetArticle(article2Id);\n\n        Assert.AreEqual(2, article3.Tags.Count);\n        Assert.AreEqual(1, article4.Tags.Count);\n\n        Assert.AreEqual(2, Service.Tags.Count);\n\n        article3.Tags.RemoveAt(0);\n        Service.SaveArticle(article3);\n\n        Article article5 = Service.GetArticle(article1Id);\n        Article article6 = Service.GetArticle(article2Id);\n\n        Assert.AreEqual(1, article5.Tags.Count);\n        Assert.AreEqual(1, article6.Tags.Count);\n\n        Assert.AreEqual(2, Service.Tags.Count);\n    }\n</code></pre>\n\n<p>This test passes, but I believe it should fail.  (it does when you run the MVC site i.e. the first article only has one tag, \"VB\" not \"C#\" and \"VB\".</p>\n\n<p>I believe its because as the session is still open nhibernate is still holding onto everything and remembers what there was.</p>\n\n<p>My main question is how do I test this with the in memory db?  How do I ensure that after the saves and removal of a shared tag the articles still have what they should have?</p>\n\n<p>The table structure it has created is, (which I feel is wrong, should have a link table):</p>\n\n<pre><code>Article:\n    Id (PK, uniqueid, not null)\n     ...........\n\n Tag\n    Id (PK, uniqueid, not null)\n    Text (nvarchar, null)\n    Article_id (FK, uniqueid, null)\n</code></pre>\n\n<p>Not sure how to use the fluent automapping to setup a link table so that one tag can be shared across multiple Articles and one article can have many tags </p>\n\n<p>Believe I found how to ensure that the Tags and articles have a link table:</p>\n\n<pre><code>        configuration.Mappings(m =&gt; m.AutoMappings.Add((AutoMap.AssemblyOf&lt;Article&gt;())\n                            .Override&lt;Article&gt;(map =&gt; map.IgnoreProperty(x =&gt; x.IsPublished))\n                            .Override&lt;Article&gt;(map =&gt; map.HasManyToMany(a =&gt; a.Tags).Cascade.All())\n                            .Conventions.Add(DefaultCascade.All()))\n</code></pre>\n"},{"tags":["sql","sqlite"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":1378,"score":3,"question_id":4389930,"title":"Exporting data from SQLite 3","body":"<p>I need a simple way to export data from an SQLite database of multiple tables, then import them into another database.</p>\n\n<p>Here is my scenario.  I have 5 tables: A, B, C, D, E.</p>\n\n<p>Each table has a primary key as the first column called ID.  I want a Unix command that will dump ONLY the data in the row from the primary key in a format that can be imported into another database.  </p>\n\n<p>I know I can do a </p>\n\n<pre><code>sqlite3 db .dump | grep INSERT\n</code></pre>\n\n<p>but that gives me ALL data in the table.  I'm not a database expert, and I'm trying to do this with all unix commands in which I can write a shell script, rather than writing C++ code to do it (because that's what people are telling me that's the easiest way).  I just refuse to write C++ code to accomplish a task that possible can be done in 4-5 statements from the command line.</p>\n\n<p>Any suggestions?</p>\n"},{"tags":["c#","sqlite","system.data.sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":46,"score":2,"question_id":13222824,"title":"Getting an error when trying to insert data into SQLite","body":"<p>I am using the following code to update a \"Picture\" field in my SQLite database:</p>\n\n<pre><code>    public void SetImage(byte[] image)\n    {\n        var sql = \"UPDATE Part SET Picture=@0 WHERE PartId=\" + PartId.ToString(CultureInfo.InvariantCulture);\n        var con = new SQLiteConnection(GetConnectionString());\n\n        var command = new SQLiteCommand(con)\n        {\n            CommandText = sql\n        };\n\n        command.Parameters.AddWithValue(\"@0\", image);\n        con.Open();\n        command.ExecuteNonQuery();\n        con.Close();\n        command.Dispose();\n        con.Dispose();\n    }\n</code></pre>\n\n<p>All other data access to and from my SQLite database works fine. It just seems that when I try to insert data into this one field, it gives me an error \"Database is locked\". My application is single threaded and all of my other data access functions properly close and dispose of the proper objects. Anyone have a clue what might be wrong?</p>\n"},{"tags":["sqlite","ms-access"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":30,"score":0,"question_id":13225810,"title":"quickest way to convert Sqlite Database to MS - Access (2003/7007) Format","body":"<p>what can be the quickest way to convert a sqlite database to MS-access format, give that i dont have the table structure of the database.</p>\n\n<p>my best possible guess is </p>\n\n<p>connect to sqlite db, get table schemas, then duplicate the table data row by row.</p>\n\n<p>i need the quickest way possible.</p>\n\n<p>regards\nraj</p>\n"},{"tags":["c++","sqlite","porting","winrt","microsoft-metro"],"answer_count":5,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":2444,"score":3,"question_id":7746044,"title":"Using SQLite with WinRT","body":"<p>I am developing a metro ui application and I would like to use SQLite for some internal data instead of JET in order to take advantage of some already-written code.</p>\n\n<p>Howerver when I try to use sqlite3_open for opening a data base, it does not work. I get an error saying a cannot open the data base.</p>\n\n<p>I believe some APIs used by the SQLite cannot be used on metro style application.</p>\n\n<p>Can someone help me on this? At least say me how to identify what apis should be ported?</p>\n"},{"tags":["ruby-on-rails","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":27,"score":1,"question_id":13224799,"title":"Moving sqlite3 file to new server","body":"<p>I have read over the main pages at <a href=\"http://www.sqlite.org\" rel=\"nofollow\">http://www.sqlite.org</a>.  Is it correct to say I can simply upload the sqlite3 file given to me for a new RoR site (Refinery CMS) and it will be available?  I can't seem to find any information about permissions or any procedures for \"installing\" the db.</p>\n"},{"tags":["objective-c","ios","osx","sqlite","core-data"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":51,"score":2,"question_id":12785470,"title":"Is [NSManagedObjectContext save] an atomic commit when using an underlying SQLite DB?","body":"<p>Or could it be that Core Data splits the save operation into several sequential atomic steps? For my work, I have to be sure that when re-accessing the database after a crash, either everything was saved, or I'm rolled back to the state before the save operation. I must not have the case where some modified NSObject's were saved but some not.</p>\n\n<p>NB: I'm using the following SQLite pragma options (do I need any others to ensure atomicity?):</p>\n\n<pre><code>[pragmaOptions setObject:@\"FULL\" forKey:@\"synchronous\"];\n[pragmaOptions setObject:@\"1\" forKey:@\"fullfsync\"];\n[pragmaOptions setObject:@\"WAL\" forKey:@\"journal_mode\"];\n</code></pre>\n"},{"tags":["java","android","sqlite","sharedpreferences"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":24,"score":-1,"question_id":13221055,"title":"Saving a layout for later view","body":"<p>I've created an app in which a user can can add or delete rows in a tableLayout. Inside of these rows, a user inputs an Academic class name, the letter grade received in the class, and the number of units the class is worth. Then, it calculates the user's gpa.</p>\n\n<p>I'm not sure how I would go about doing this, but I need to save an exact copy of the layout when the user presses the 'save' button that will save every current specific thing. (Eg. number of editTexts, text in the editTexts, number of rows, etc.)</p>\n\n<p>I've researched using SharedPreferences and using SQLite. I'm not sure which one is better for saving multiple specific layouts. Also, I know nothing of using SQLite because I've never used it before, so if that is the best choice, could you post a link or something to a good tutorial? Thanks!</p>\n"},{"tags":["android","sqlite"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":89,"score":0,"question_id":13146371,"title":"I have issue with SQLite database - issue solved","body":"<p>I make application and compiler show error. I don't know what happened. I want to retriev and display random record from database after click.\nI used tutorial from <a href=\"http://www.androidhive.info/2011/11/android-sqlite-database-tutorial/\" rel=\"nofollow\">Android SQLite Database Tutorial</a> and from stackoverflov \nError: </p>\n\n<pre><code>    10-30 19:19:59.533: E/AndroidRuntime(359): FATAL EXCEPTION: main\n10-30 19:19:59.533: E/AndroidRuntime(359): android.database.CursorIndexOutOfBoundsException: Index 0 requested, with a size of 0\n10-30 19:19:59.533: E/AndroidRuntime(359):  at android.database.AbstractCursor.checkPosition(AbstractCursor.java:580)\n</code></pre>\n\n<p>My code is: </p>\n\n<pre><code>public class PrzyslowiaArabskie  {\n\n    private static final String TABLE_NAME = \"tabela_przyslowia\";\n    private static final String DATABASE_NAME = \"przyslowiadb\";\n    private static final int DATABASE_VERSION = 1;\n    public static final String KEY_ID = \"id\";\n    public static final String KEY_PRZYSLOWIE = \"przyslowie\";\n\n    private DbHelper myHelper;\n    private final Context myContext;\n    private SQLiteDatabase myDatabase;\n\n\n\n\n    private static class DbHelper extends SQLiteOpenHelper {\n\n        public DbHelper(Context context) {\n            super(context, DATABASE_NAME, null, DATABASE_VERSION);\n            // TODO Auto-generated constructor stub\n        }\n\n        @Override\n        public void onCreate(SQLiteDatabase db) {\n            // TODO Auto-generated method stub\n             db.execSQL(\"CREATE TABLE \" + TABLE_NAME + \" (\" + \n                       KEY_ID + \" INTEGER PRIMARY KEY AUTOINCREMENT, \" + \n                     KEY_PRZYSLOWIE + \" TEXT NOT NULL);\" );\n\n\n        } \n\n        @Override\n        public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n            // TODO Auto-generated method stub\n            db.execSQL(\"DROP TABLE IF EXISTS \" + TABLE_NAME);\n            onCreate(db);\n        }\n\n    }\n    public PrzyslowiaArabskie(Context c) {\n        myContext = c;\n    }\n    public PrzyslowiaArabskie open() {\n        myHelper = new DbHelper(myContext);\n        myDatabase = myHelper.getWritableDatabase();\n        return this;\n    }\n    public void close() {\n        myHelper.close();\n    }\n\n\n    public String getData() {\n        // TODO Auto-generated method stub\n        String[] columns = new String[] { KEY_ID, KEY_PRZYSLOWIE };\n        Cursor c = myDatabase.query(TABLE_NAME, columns, KEY_ID + \"=?\", new String[] {String.valueOf(KEY_ID + 1)}, null, null, null);\n         if (c != null) {\n             c.moveToFirst(); \n             String data = c.getString(1);\n             return data;\n         }  \n        return null;\n    }\n\n\n}\n</code></pre>\n\n<p>What am I doing wrong?</p>\n\n<p>I solved with my problem. Instead getting random record from database, I make 3 buttons (next record, previous record and show record). I use this instructions <a href=\"http://stackoverflow.com/questions/8452310/getting-the-next-record-into-view-from-database\">Getting the next record into view from database</a>\nThanks for your help.</p>\n"},{"tags":["ios","sqlite","xcode4"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":13221006,"title":"Spatialite iOS5 and xcode 4.5. I am sorry to ask but I am at the end of my sanity trying to get this to work","body":"<p>I am at the end of my sanity trying to get spatialite to compile with xcode 4.5 for iOS6 (or any other version).  Actually, I can get it to compile using a technique based on  <a href=\"http://stackoverflow.com/questions/8360673/build-a-static-library-for-ios-specifically-spatialite?lq=1\">Build a static library for iOS - specifically spatialite</a> where the console returns that all is oK but when I run a query such as </p>\n\n<p>\"select pk_uid from uk_highways order by GLength(geometry) limit 2\" the statement won't prepare.</p>\n\n<p>Running the query \"select pk_uid from uk_highways limit 2\" will return 2 id's i.e. taking out the spatial function - works fine (and yes, there is a geometry column in the table)</p>\n\n<p>I have been banging my head for 3 days now and really need some help, I hate to say it but I think I even need an \"idiots guide\" if there is one out there.</p>\n\n<p>EDIT: not sure why I didn't include this first time round</p>\n\n<p>-(int)getStreetLength\n{\n    int length;\n    NSString *databasePath = [[NSBundle mainBundle] pathForResource:@\"dhub_spatial\" ofType:@\"sqlite\"];\n    sqlite3 *db;</p>\n\n<pre><code>if (sqlite3_open([databasePath UTF8String], &amp;db) == SQLITE_OK)\n{\nNSLog(@\"***** database opened ********\");\n    spatialite_init(1);\n    char *sql = \"SELECT pk_uid from united_kingdom_highways  where pk_uid &lt; 100 order by GLength(Geometry) limit 2;\";\n    sqlite3_stmt *stmt;\n\n    if (sqlite3_prepare(db, sql, -1, &amp;stmt, NULL) == SQLITE_OK)\n    {\n\n        NSLog(@\"***** statement prepared ********\");\n        while (sqlite3_step(stmt) == SQLITE_ROW)\n        {\n            NSLog(@\"***** all the way throug to the while loop ********\");\n\n            length = sqlite3_column_int(stmt, 0);\n            NSLog(@\"the value of pkuid is %i\",length);\n        }\n    }\n    else\n    {\n        NSLog(@\"could not prepare statement: %s\\n\", sqlite3_errmsg(db)); //this returns no such function GLength\n    }\n}\n\nreturn length;\n</code></pre>\n\n<p>}</p>\n"},{"tags":["android","sql","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":44,"score":-1,"question_id":13221839,"title":"Android SQLite values selection","body":"<p>I'm new to android and SQLite,</p>\n\n<p>is my following code correct?</p>\n\n<pre><code>SQLiteDatabase aa = openOrCreateDatabase(\"MLIdata\", MODE_WORLD_READABLE, null);\nCursor c = aa.rawQuery(\"SELECT CblocationName FROM MLITable WHERE CblocationCode = '\"+str+\"'\", null);\nc.moveToFirst();\nc.getString(c.getColumnIndex(\"CblocationName\"));\n</code></pre>\n\n<p>I doubt that my SQL query is wrong (i.e, rawQuery line in my above code).</p>\n\n<p>Thank you.</p>\n"},{"tags":["sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":10,"score":0,"question_id":13219160,"title":"overwriting my strings on item click and i can not delete from database","body":"<p>When i press \"Lägg till(Add)\" i put textin my three edittext boxes, then i'll press OK and it should save it in database and display it in my listview with the first editbox text as tite. When i press on a item in my listview i want to be abel to show inputed text and if i press \"RADERA(delete)\" i want to be able to delete it from databas and listview.</p>\n\n<p>my database adapter</p>\n\n<pre><code> package com.projekt;\n\nimport android.content.ContentValues;\nimport android.content.Context;\nimport android.database.Cursor;\nimport android.database.SQLException;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.database.sqlite.SQLiteOpenHelper;\nimport android.util.Log;\n\npublic class DBAdapter {\n    static final String KEY_ROWID = \"id\";\n    static final String KEY_PASS = \"pass\";\n    static final String KEY_USERNAME = \"user\";\n    static final String KEY_TITLE = \"title\";\n    static final String TAG = \"DBAdapter\";\n    static final String DATABASE_NAME = \"DBPASS\";\n    static final String DATABASE_TABLE = \"information\";\n    static final int DATABASE_VERSION = 1;\n    static final String DATABASE_CREATE = \"create table information (id integer primary key autoincrement, \"\n            + \"user text not null, pass text not null, title text not null);\";\n    final Context context;\n    DatabaseHelper DBHelper;\n    SQLiteDatabase db;\n\n    public DBAdapter(Context ctx) {\n        this.context = ctx;\n        DBHelper = new DatabaseHelper(context);\n    }\n\n    private static class DatabaseHelper extends SQLiteOpenHelper {\n        DatabaseHelper(Context context) {\n            super(context, DATABASE_NAME, null, DATABASE_VERSION);\n        }\n\n        @Override\n        public void onCreate(SQLiteDatabase db) {\n            try {\n                db.execSQL(DATABASE_CREATE);\n            } catch (SQLException e) {\n                e.printStackTrace();\n            }\n        }\n\n        @Override\n        public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n            Log.w(TAG, \"Upgrading database from version \" + oldVersion + \" to \"\n                    + newVersion + \", which will destroy all old data\");\n            db.execSQL(\"DROP TABLE IF EXISTS contacts\");\n            onCreate(db);\n        }\n    }\n\n    // ---opens the database---\n    public DBAdapter open() throws SQLException {\n        db = DBHelper.getWritableDatabase();\n        return this;\n    }\n\n    public void close() {\n        DBHelper.close();\n    }\n\n    public long insertInfo(String title, String user, String pass) {\n        ContentValues initialValues = new ContentValues();\n        initialValues.put(KEY_TITLE, title);\n        initialValues.put(KEY_USERNAME, user);\n        initialValues.put(KEY_PASS, pass);\n\n        return db.insert(DATABASE_TABLE, null, initialValues);\n    }\n\n    public boolean deleteInfo(long rowId) {\n        return db.delete(DATABASE_TABLE, KEY_ROWID + \"=\" + rowId, null) &gt; 0;\n    }\n\n    public void delete_byID(int id){\n         db.delete(DATABASE_TABLE, KEY_ROWID+\"=\"+id, null);\n        }\n\n    public Cursor getAllInfo() {\n        return db.query(DATABASE_TABLE, new String[] { KEY_ROWID, KEY_USERNAME,\n                KEY_PASS, KEY_TITLE }, null, null, null, null, null);\n    }\n\n    public Cursor getInfo(String title) throws SQLException {\n        Cursor mCursor = db.query(true, DATABASE_TABLE, new String[] {\n                KEY_ROWID, KEY_USERNAME, KEY_PASS, KEY_TITLE }, KEY_PASS + \"= '\" + title + \"'\",\n                null, null, null, null, null);\n        if (mCursor != null) {\n            mCursor.moveToFirst();\n        }\n        return mCursor;\n    }\n\n    public boolean updateInfo(long rowId, String title, String user, String pass) {\n        ContentValues args = new ContentValues();\n        args.put(KEY_TITLE, title);\n        args.put(KEY_USERNAME, user);\n        args.put(KEY_PASS, pass);\n        return db.update(DATABASE_TABLE, args, KEY_ROWID + \"=\" + rowId, null) &gt; 0;\n    }\n}\n\nmy program\n\n    package com.projekt;\n\nimport java.util.ArrayList;\n\n//import java.util.Arrays;\n\nimport android.app.Activity;\nimport android.app.AlertDialog;\nimport android.content.DialogInterface;\nimport android.content.Intent;\nimport android.database.Cursor;\nimport android.os.Bundle;\n//import android.text.Editable;\nimport android.view.View.OnClickListener;\nimport android.view.View;\nimport android.widget.*;\nimport android.widget.AdapterView.OnItemClickListener;\n\npublic class layout2 extends Activity implements OnClickListener, OnItemClickListener {\n    Button btn3;\n    ListView lv;\n    private ArrayAdapter&lt;String&gt; listAdapter;\n    String titleInfo;\n    ArrayList&lt;String&gt; nameList;\n    EditText anvNamn;\n    EditText pass;\n    EditText title;\n    DBAdapter db = new DBAdapter(this);\n    String passInfo = \"\"; \n    String anv = \"\";\n    String titleInfo2 = \"\";\n    String visa;\n    int del;\n    Cursor c;\n    Button btn5;\n\n    public void onCreate(Bundle savedInstanceState) {\n\n        //Start\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.program_layout);\n        btn3 = (Button) findViewById(R.id.button3);\n        btn3.setOnClickListener(this);\n        btn5 = (Button) findViewById(R.id.button5);\n        btn5.setOnClickListener(this);\n        lv = (ListView) findViewById(R.id.listView1);\n        nameList = new ArrayList&lt;String&gt;();\n        listAdapter = new ArrayAdapter&lt;String&gt;(this, R.layout.row, nameList);\n        lv.setAdapter(listAdapter);\n        lv.setOnItemClickListener(this);\n        getAllData();\n                //Stop\n\n    }\n\n    private ArrayList&lt;String&gt; getAllData() {\n\n        // ---get all contacts---\n        db.open();\n        c = db.getAllInfo();\n        if (c.moveToFirst()) {\n            do {\n                anv = c.getString(1);\n                passInfo = c.getString(2);\n                titleInfo2 = c.getString(3);\n                //in = new String (anv, passInfo, titleInfo2);\n                //nameList.add(in);\n                listAdapter.add(titleInfo2);\n                //updateList();\n            } while (c.moveToNext());\n            //listAdapter.add(titleInfo2);\n            //del = c.getInt(c.getColumnIndex(db.KEY_ROWID));\n        }\n        db.close();\n        //listAdapter.add(titleInfo2);\n        return nameList;\n    }\n\n    public void inputDialog() {\n        AlertDialog.Builder alert = new AlertDialog.Builder(this);\n        LinearLayout lila1 = new LinearLayout(this);\n        lila1.setOrientation(1);\n        anvNamn = new EditText(this);\n        pass = new EditText(this);\n        title = new EditText(this);\n        lila1.addView(title);\n        lila1.addView(anvNamn);\n        lila1.addView(pass);\n\n        title.setText(\"Titel\");\n        anvNamn.setText(\"Användarnamn\");\n        pass.setText(\"Lösenord\");\n        alert.setView(lila1);\n\n        title.setOnClickListener(new OnClickListener(){\n            public void onClick(View v) {\n                title.setText(\"\");\n            }\n        });\n\n        anvNamn.setOnClickListener(new OnClickListener(){\n            public void onClick(View v) {\n                anvNamn.setText(\"\");\n            }\n        });\n\n        pass.setOnClickListener(new OnClickListener(){\n            public void onClick(View v) {\n                pass.setText(\"\");\n            }\n        });\n\n\n\n        alert.setPositiveButton(\"Ok\", new DialogInterface.OnClickListener() {\n            public void onClick(DialogInterface dialog, int whichButton) {\n\n                String titleDB = title.getText().toString();\n                String userDB = anvNamn.getText().toString();\n                String passDB = pass.getText().toString();\n\n                listAdapter.add(titleDB);\n\n                db.open();  \n                db.insertInfo(titleDB, userDB, passDB);\n                db.close();\n            }\n        });\n\n        alert.setNegativeButton(\"Cancel\",\n                new DialogInterface.OnClickListener() {\n                    public void onClick(DialogInterface dialog, int whichButton) {\n                        dialog.cancel();\n                    }\n                });\n        alert.show();\n    }\n\n    public void onClick(View v) {\n        // TODO Auto-generated method stub\n        switch (v.getId()) {\n        case R.id.button3:\n            inputDialog();\n            break;\n        case R.id.button5:\n            Intent nextActivity = new Intent(this, MainActivity.class);\n            startActivity(nextActivity);\n        }\n    }\n\n    @Override\n    public void onItemClick(AdapterView&lt;?&gt; arg0, View arg1, final int arg2, long arg3) {\n        // TODO Auto-generated method stub\n\n\n        String text = nameList.get(arg2);\n        //final int ar = arg2;\n        Toast.makeText(this, text, Toast.LENGTH_SHORT).show();\n        AlertDialog.Builder alert = new AlertDialog.Builder(this);\n\n        alert.setTitle(titleInfo2);\n        alert.setMessage(\"Användarnamn: \" + anv + \"\\nLösenord: \"+ passInfo);\n        final String radera = listAdapter.getItem(arg2).toString();\n        final long raderaPos = listAdapter.getItemId(arg2);\n\n\n        alert.setNegativeButton(\"RADERA\",\n                new DialogInterface.OnClickListener() {\n                    public void onClick(DialogInterface dialog, int whichButton) {\n\n                        //String s = (String) arg0.getItemAtPosition(arg2);\n                        db.open();\n                        //db.updateInfo(arg2, anv, passInfo, titleInfo);\n                        db.deleteInfo(arg2);\n                        db.updateInfo(arg2, anv, passInfo, titleInfo);\n                        db.close();\n                        listAdapter.remove(radera); \n                    }\n                });\n        alert.show();\n    }\n\n}\n\nim from sweden my string names may be confusing.\n</code></pre>\n"},{"tags":["sql","sqlite","core-data"],"answer_count":3,"favorite_count":3,"up_vote_count":13,"down_vote_count":0,"view_count":494,"score":13,"question_id":13219472,"title":"Why SELECT 0, ... instead of SELECT","body":"<p>Lets say I have a SQLite database that contains a table:</p>\n\n<pre><code>sqlite&gt; create table person (id integer, firstname varchar, lastname varchar);\n</code></pre>\n\n<p>Now I want to get every entry which is in the table.</p>\n\n<pre><code>sqlite&gt; select t0.id, t0.firstname, t0.lastname from person t0;\n</code></pre>\n\n<p>This works fine and this it what I would use. However I have worked with a framework from Apple (Core Data) that generates SQL. This framework generates a slightly different SQL query:</p>\n\n<pre><code>sqlite&gt; select 0, t0.id, t0.firstname, t0.lastname from person t0;\n</code></pre>\n\n<p>Every SQL query generated by this framework begins with \"select 0,\". Why is that?</p>\n\n<p>I tried to use the explain command to see whats going on but this was inconclusive - at least to me.</p>\n\n<pre><code>sqlite&gt; explain select t0.id, t0.firstname, t0.lastname from person t0;\naddr        opcode      p1          p2          p3          p4          p5          comment   \n----------  ----------  ----------  ----------  ----------  ----------  ----------  ----------\n0           Trace       0           0           0                       00          NULL      \n1           Goto        0           11          0                       00          NULL      \n2           OpenRead    0           2           0           3           00          NULL      \n3           Rewind      0           9           0                       00          NULL      \n4           Column      0           0           1                       00          NULL      \n5           Column      0           1           2                       00          NULL      \n6           Column      0           2           3                       00          NULL      \n7           ResultRow   1           3           0                       00          NULL      \n8           Next        0           4           0                       01          NULL      \n9           Close       0           0           0                       00          NULL      \n10          Halt        0           0           0                       00          NULL      \n11          Transactio  0           0           0                       00          NULL      \n12          VerifyCook  0           1           0                       00          NULL      \n13          TableLock   0           2           0           person      00          NULL      \n14          Goto        0           2           0                       00          NULL \n</code></pre>\n\n<p>And the table for the second query looks like this:</p>\n\n<pre><code>sqlite&gt; explain select 0, t0.id, t0.firstname, t0.lastname from person t0;\naddr        opcode      p1          p2          p3          p4          p5          comment   \n----------  ----------  ----------  ----------  ----------  ----------  ----------  ----------\n0           Trace       0           0           0                       00          NULL      \n1           Goto        0           12          0                       00          NULL      \n2           OpenRead    0           2           0           3           00          NULL      \n3           Rewind      0           10          0                       00          NULL      \n4           Integer     0           1           0                       00          NULL      \n5           Column      0           0           2                       00          NULL      \n6           Column      0           1           3                       00          NULL      \n7           Column      0           2           4                       00          NULL      \n8           ResultRow   1           4           0                       00          NULL      \n9           Next        0           4           0                       01          NULL      \n10          Close       0           0           0                       00          NULL      \n11          Halt        0           0           0                       00          NULL      \n12          Transactio  0           0           0                       00          NULL      \n13          VerifyCook  0           1           0                       00          NULL      \n14          TableLock   0           2           0           person      00          NULL      \n15          Goto        0           2           0                       00          NULL     \n</code></pre>\n"},{"tags":["php","sqlite","caching","sqlite3"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":173,"score":1,"question_id":9150319,"title":"Enable Shared Pager Cache in sqlite using PHP PDO","body":"<p>I'm studying sqlite features and I've discovered the <a href=\"http://www.sqlite.org/sharedcache.html\" rel=\"nofollow\">SQLite Shared-Cache Mode</a> which is disabled by default.</p>\n\n<p>Shared-Cache is:</p>\n\n<blockquote>\n  <p>intended for use in embedded servers</p>\n</blockquote>\n\n<p>because it shares a single data and schema cache between threads or processes.\nI'm interested in using sqlite (with shared-cache) in PHP (and Python) so my questions are:</p>\n\n<p>1) is every PDO connection in a PHP script to an sqlite DB considered a single isolated connection?</p>\n\n<p>2) if yes, using Shared-Cache Mode could improve performance in an high concurrency scenario; to activate Shared-Cache Mode one have to call this C function:</p>\n\n<pre><code>int sqlite3_enable_shared_cache(int);\n</code></pre>\n\n<p>how to call that function through PDO?</p>\n\n<p>It seems almost impossible but maybe there is a solution.</p>\n\n<p>Best Regards,\nFabio Buda\nWeb Developer/Designer @ <a href=\"//www.en.netd.it\">netdesign</a></p>\n"},{"tags":["android","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":39,"score":1,"question_id":13212547,"title":"Android insert multiple sms in \"content://sms/\" with contentresolver.bulkInsert() : too slow","body":"<p>I want to insert multiple sms in \"content://sms/\" table. let's say 500 sms.</p>\n\n<p>my code is :</p>\n\n<pre><code>ContentValues [500] valuesarray = new ContentValues[];\n\nfor(int i=0;i&lt;values.size();i++){\n     valuesarray[i] = values.get(i);\n}\n\ngetContentResolver().bulkInsert(Uri.parse(\"content://sms/\"), valuesarray);\n</code></pre>\n\n<p>It works, but it is extremely slow, and it makes no difference with insert() method. I serched on the net, and found methods like :</p>\n\n<pre><code>try {\n    database.beginTransaction();\n\n    for (ContentValues initialValues : allValues) {\n        values = initialValues == null ? new ContentValues() : new ContentValues(initialValues);\n        rowId = insertEvent(database, values);\n        if (rowId &gt; 0)\n            rowsAdded++;\n    }\n\n    database.setTransactionSuccessful();\n} catch (SQLException ex) {\n\n} finally {\n    database.endTransaction();\n}\n</code></pre>\n\n<p>But this is for personnal databases. How can I use a method like this with Android's \"content://sms/\" provider?</p>\n"},{"tags":["java","android","sqlite","android-layout","android-emulator"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":232,"score":0,"question_id":6868666,"title":"Dynamic List View from database in android","body":"<p>I am developing an android app in which I have to present the user List views which changes dynamically as follows</p>\n\n<ol>\n<li>When user opens for the first time it has to show \"Create New\" clicking on which it leads to a new form. Upon creation this is saved in a SQLite DB(stationary 1) for example.</li>\n</ol>\n\n<p>2.When user creates and again opens app it has to show\n  1.Stationary 1 Reorder\n  2.Create new</p>\n\n<p>Please give your valuable advice</p>\n\n<p>Regards\nChinniKrishna Kothapalli</p>\n"},{"tags":["java","android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":63,"score":1,"question_id":13216576,"title":"How to view my Android app created database, via my android app?","body":"<p>I'm creating an application that collects users location (Cell broadcast location code) and saves that location with a name of users option,\nfor example say my CB location code is 546034, now my app allows me to store that location code with a name of my choice say 'Home'.</p>\n\n<p>So, essentially my app has that following modules,</p>\n\n<ol>\n<li>To collect users CB location.</li>\n<li>To collect a custom name from user of that location.</li>\n<li>To store these values in a database.</li>\n</ol>\n\n<p>I've succeeded in doing all the above modules.</p>\n\n<p>I have a sub-module for my third module which has an option for user, of showing and deleting the database values, the screen shot looks as follows,</p>\n\n<p><img src=\"http://i.stack.imgur.com/M2dqc.png\" alt=\"enter image description here\"></p>\n\n<p>Now,</p>\n\n<p>Users should be able to view and delete entries when he chooses the option 'View my database of locations' I've learned how to query my database values and I'm stuck with creating a list view and providing the delete option.</p>\n\n<p>My code for getting the database values and querying values goes as follows,</p>\n\n<pre><code>submit.setOnClickListener(new View.OnClickListener() \n    {\n\n        public void onClick(View arg0) {\n\n            String locname = name.getText().toString();\n\n            if(locname.length()==0)\n            {\n                Toast.makeText(getBaseContext(), \"Please enter the location     name, for example 'Home'.\", Toast.LENGTH_LONG).show();\n            }\n            else\n            {\n                SQLiteDatabase cd = openOrCreateDatabase(\"mydata\",    MODE_WORLD_READABLE, null);\n                cd.execSQL(\"CREATE TABLE IF NOT EXISTS MLITable  (CblocationCode INT(10), CblocationName VARCHAR);\");\n                cd.execSQL(\"INSERT INTO MLITable VALUES ('\"+str+ \"','\"+locname+ \"');\");\n                cd.close();\n                Toast.makeText(getBaseContext(), \"value successfully entered.\", Toast.LENGTH_LONG).show();\n            }\n        }\n    });\n\n    viewdb.setOnClickListener(new View.OnClickListener() \n    {\n\n        public void onClick(View arg0) {\n            // here comes the code for viewing the database and deleting\n\n            SQLiteDatabase db = openOrCreateDatabase(\"mydata\", MODE_WORLD_READABLE, null);\n            Cursor c = db.rawQuery(\"SELECT * FROM MLITble\", null);\n            db.close();\n        }\n    });\n</code></pre>\n\n<p>I can see that I've read the table values, but I'm not able to create a display for those values.</p>\n\n<p>Help required.</p>\n\n<p>Thank you.</p>\n"},{"tags":["iphone","ios","sqlite"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1423,"score":0,"question_id":5081335,"title":"SQLite insert error in iOS","body":"<p>I'm trying to do an insert statement with SQLite and I'm sure I must be doing something stupid, but I can't figure out how to get it to work.</p>\n\n<p>The error I'm getting is: \"Error preparing statement\"</p>\n\n<p>Here's my code:</p>\n\n<pre><code>NSString *json_string = [[NSString alloc] initWithData:responseData encoding:NSUTF8StringEncoding];\n[responseData release];\n\n// Create new SBJSON parser object\nSBJsonParser *parser = [[SBJsonParser alloc] init];\n\n// parse the JSON response into an object\nNSDictionary *download = [parser objectWithString:json_string error:nil];\nNSDictionary *buildings = [download objectForKey:@\"buildings\"];\n\n// Open DB\nsqlite3 *db = [RLSampleAppDelegate getNewDBConnection];\n\n// Buildings\nfor (NSDictionary *building in buildings)\n{\n  NSDictionary *thisbuilding = [building objectForKey:@\"building\"];\n  NSLog(@\"%@\", [thisbuilding objectForKey:@\"buildingname\"]);\n  sqlite3_stmt *statement = nil;\n  NSString* someString = [NSString stringWithFormat:@\"INSERT INTO building (buildingid, buildingname) VALUES (\\'%@\\', \\'%@\\')\", [thisbuilding objectForKey:@\"buildingid\"], [thisbuilding objectForKey:@\"buildingname\"]];\n\n  NSLog(@\"somestring: %@\", someString);\n  const char *sql = (const char *) someString;\n  if(sqlite3_prepare_v2(db, sql, -1, &amp;statement, NULL)!=SQLITE_OK)\n   NSAssert1(0,@\"Error preparing statement\",sqlite3_errmsg(db));\n\n  while(sqlite3_step(statement) == SQLITE_DONE){}\n\n  sqlite3_finalize(statement);\n }\n\n[json_string release];\n</code></pre>\n"},{"tags":["sqlite","netbeans"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":12,"score":1,"question_id":13216509,"title":"Error in NetBeans (connected via SQlite) Using Radio Buttons","body":"<p>The program given below is not executing the rs1(Result set query) rather it is directly moving into the catch block). I'm not able to identify the error. Help please.</p>\n\n<pre><code>private void EnterActionPerformed(java.awt.event.ActionEvent evt)\n{                                      \n   Calendar cal=new GregorianCalendar();\n   int minute =cal.get(Calendar.MINUTE);\n   int hours=cal.get(Calendar.HOUR);\n    String time1=minute+\":\"+hours;\n    String s=Login_page.id+\"\";\n    String sql=\"UPDATE emp_info SET intime=? where empid=?\";\n\n    try\n    {\n        switch (time) \n        {\n            case \"intime\":\n                {\n\n                    //\"Update emp_info set intime='\"+time1+\"' where empid=?\";\n                    System.out.println(time+Login_page.id); \n                    PreparedStatement pst1=conn.prepareStatement(sql);\n                    pst.setString(1,time1);\n                    pst.setString(2,s);\n                    System.out.println(time+Login_page.id); \n                    ResultSet rs1=pst.executeQuery();\n                    if(rs.next())\n                    {\n                        JOptionPane.showMessageDialog(null,\"In time registered\");\n\n                    }\n\n                    break;\n                }\n            case \"outtime\":\n                {\n                    //String sql=\"Insert into emp_info (outtime) values (?) where empid='\"+Login_page.id+\"'\";\n\n                   //pst=conn.prepareStatement(sql);\n                    //pst.setString(1,time1);\n                    //pst.setString(2,Login_page.user);\n                    //rs=pst.executeQuery();\n                    PreparedStatement pst2=conn.prepareStatement(sql);\n                    pst.setString(1,time1);\n                    pst.setString(2,s);\n                    System.out.println(time+Login_page.id); \n                    ResultSet rs2=pst.executeQuery();\n                    if(rs.next())\n                    {\n                        JOptionPane.showMessageDialog(null,\"In time registered\");\n\n                    }\n                    break;\n                }\n        }\n}                                     \n        catch(Exception e)\n    { \n        JOptionPane.showMessageDialog(null,\"ERROR\",\"ERROR\",JOptionPane.WARNING_MESSAGE);\n    }\n\n\n}\n</code></pre>\n"},{"tags":["android","sqlite","delete"],"answer_count":3,"favorite_count":0,"up_vote_count":8,"down_vote_count":0,"view_count":9927,"score":8,"question_id":5373380,"title":"whereArgs SQLite database delete","body":"<p>I'm trying to remove a couple of rows in a sqlite database programmatically for android and am wondering what the whereArgs are referring to in this documentation: </p>\n\n<p><a href=\"http://developer.android.com/reference/android/database/sqlite/SQLiteDatabase.html#delete%28java.lang.String,%20java.lang.String,%20java.lang.String%5b%5d%29\" rel=\"nofollow\">http://developer.android.com/reference/android/database/sqlite/SQLiteDatabase.html#delete(java.lang.String,%20java.lang.String,%20java.lang.String[])</a></p>\n\n<p>Can someone give me an example?</p>\n"},{"tags":["sql","query","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":29,"score":2,"question_id":13215553,"title":"Match a column from a column with concatenated values in sqlite","body":"<p>I have a table with a column that has concatenated values like this</p>\n\n<pre><code>Table CHILD:\n\n    ChildId       Values\n    2           x123,j455\n    3           f456,z789 \n    4           m333,y567\n    5           x123,h888\n</code></pre>\n\n<p>And I have a master table MASTER that has </p>\n\n<pre><code>Table MASTER:\n\n    MainValues\n    x123\n    f456\n    y567\n</code></pre>\n\n<p>I need to get a query that'll select the following data</p>\n\n<pre><code>ChildId MainValues\n2       x123\n3       f456\n4       y567\n5       x123\n</code></pre>\n\n<p>Basically match value from MASTER in child values and return only the master value. How can I do this ? I have tried IN and LIKE clause matching with second table but that doesnt help much since the values are csv. Is there a way to split and match in sqlite ? </p>\n\n<p>EDIT: Table and column names are fictional and intended just to explain this question better</p>\n"},{"tags":["android","query","sqlite","cursor"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":37,"score":1,"question_id":13215371,"title":"Android:Get single row from SQlLite, Null Pointer exception","body":"<p>I am trying to receive a row id from from a main activity and from there, display the content of that row. However I am getting a null pointer exception. I'm unsure of how to implement this properly.</p>\n\n<p>The exception is related to line 22 <strong>MODULEDATABASE.openToRead();</strong> I am an unsure if I need to open to read as I have done this in the main activity. If I comment out this line the next error refers to line 23  <strong>cursor = MODULEDATABASE.getRow(rowId);</strong> Any suggestions would be much appreciated</p>\n\n<p>LogCat error from **MODULEDATABASE.openToRead();</p>\n\n<pre><code>    10-23 09:12:52.572: E/AndroidRuntime(19778): Uncaught handler: thread main exiting due to uncaught exception\n10-23 09:12:52.582: E/AndroidRuntime(19778): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.mycoursetimetable/com.example.mycoursetimetable.ViewCourse}: java.lang.NullPointerException\n10-23 09:12:52.582: E/AndroidRuntime(19778):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2496)\n10-23 09:12:52.582: E/AndroidRuntime(19778):    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2512)\n10-23 09:12:52.582: E/AndroidRuntime(19778):    at android.app.ActivityThread.access$2200(ActivityThread.java:119)\n10-23 09:12:52.582: E/AndroidRuntime(19778):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1863)\n10-23 09:12:52.582: E/AndroidRuntime(19778):    at android.os.Handler.dispatchMessage(Handler.java:99)\n10-23 09:12:52.582: E/AndroidRuntime(19778):    at android.os.Looper.loop(Looper.java:123)\n10-23 09:12:52.582: E/AndroidRuntime(19778):    at android.app.ActivityThread.main(ActivityThread.java:4363)\n10-23 09:12:52.582: E/AndroidRuntime(19778):    at java.lang.reflect.Method.invokeNative(Native Method)\n10-23 09:12:52.582: E/AndroidRuntime(19778):    at java.lang.reflect.Method.invoke(Method.java:521)\n10-23 09:12:52.582: E/AndroidRuntime(19778):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:860)\n10-23 09:12:52.582: E/AndroidRuntime(19778):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:618)\n10-23 09:12:52.582: E/AndroidRuntime(19778):    at dalvik.system.NativeStart.main(Native Method)\n10-23 09:12:52.582: E/AndroidRuntime(19778): Caused by: java.lang.NullPointerException\n10-23 09:12:52.582: E/AndroidRuntime(19778):    at com.example.mycoursetimetable.ViewCourse.onCreate(ViewCourse.java:22)\n10-23 09:12:52.582: E/AndroidRuntime(19778):    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)\n10-23 09:12:52.582: E/AndroidRuntime(19778):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2459)\n10-23 09:12:52.582: E/AndroidRuntime(19778):    ... 11 more\n10-23 09:12:52.603: I/dalvikvm(19778): threadid=7: reacting to signal 3\n10-23 09:12:52.603: E/dalvikvm(19778): Unable to open stack trace file '/data/anr/traces.txt': Permission denied\n10-23 09:12:59.232: I/Process(19778): Sending signal. PID: 19778 SIG: 9\n</code></pre>\n\n<p>LogCat cursor = MODULEDATABASE.getRow(rowId);</p>\n\n<pre><code>10-23 09:16:42.923: E/AndroidRuntime(20316): Uncaught handler: thread main exiting due to uncaught exception\n10-23 09:16:42.933: E/AndroidRuntime(20316): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.mycoursetimetable/com.example.mycoursetimetable.ViewCourse}: java.lang.NullPointerException\n10-23 09:16:42.933: E/AndroidRuntime(20316):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2496)\n10-23 09:16:42.933: E/AndroidRuntime(20316):    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2512)\n10-23 09:16:42.933: E/AndroidRuntime(20316):    at android.app.ActivityThread.access$2200(ActivityThread.java:119)\n10-23 09:16:42.933: E/AndroidRuntime(20316):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1863)\n10-23 09:16:42.933: E/AndroidRuntime(20316):    at android.os.Handler.dispatchMessage(Handler.java:99)\n10-23 09:16:42.933: E/AndroidRuntime(20316):    at android.os.Looper.loop(Looper.java:123)\n10-23 09:16:42.933: E/AndroidRuntime(20316):    at android.app.ActivityThread.main(ActivityThread.java:4363)\n10-23 09:16:42.933: E/AndroidRuntime(20316):    at java.lang.reflect.Method.invokeNative(Native Method)\n10-23 09:16:42.933: E/AndroidRuntime(20316):    at java.lang.reflect.Method.invoke(Method.java:521)\n10-23 09:16:42.933: E/AndroidRuntime(20316):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:860)\n10-23 09:16:42.933: E/AndroidRuntime(20316):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:618)\n10-23 09:16:42.933: E/AndroidRuntime(20316):    at dalvik.system.NativeStart.main(Native Method)\n10-23 09:16:42.933: E/AndroidRuntime(20316): Caused by: java.lang.NullPointerException\n10-23 09:16:42.933: E/AndroidRuntime(20316):    at com.example.mycoursetimetable.ViewCourse.onCreate(ViewCourse.java:23)\n10-23 09:16:42.933: E/AndroidRuntime(20316):    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)\n10-23 09:16:42.933: E/AndroidRuntime(20316):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2459)\n10-23 09:16:42.933: E/AndroidRuntime(20316):    ... 11 more\n10-23 09:16:42.953: I/dalvikvm(20316): threadid=7: reacting to signal 3\n10-23 09:16:42.953: E/dalvikvm(20316): Unable to open stack trace file '/data/anr/traces.txt': Permission denied\n10-23 09:16:44.633: I/Process(20316): Sending signal. PID: 20316 SIG: 9\n</code></pre>\n\n<p>View Course activity</p>\n\n<pre><code>public class ViewCourse extends Activity {\nCursor cursor;\ndatabase MODULEDATABASE;\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_view_course);\n\n        Intent intent = getIntent();\n        String rowId = intent.getStringExtra(MyCourses.TEST);\n        //MODULEDATABASE.openToRead();\n        cursor = MODULEDATABASE.getRow(rowId);\n\n        TextView text_modulecode = (TextView)findViewById(R.id.viewModuleCode);\n        TextView text_modulename = (TextView)findViewById(R.id.viewModuleName);\n\n        text_modulecode.setText(cursor.getString(cursor.getColumnIndex(database.KEY_MODULECODE)));\n        text_modulename.setText(cursor.getString(cursor.getColumnIndex(database.KEY_MODULENAME)));\n\n    }\n</code></pre>\n\n<p>Database Class</p>\n\n<pre><code>public  database openToRead()throws SQLException{\n        myHelper = new DbHelper(myContext);\n        moduleDatabase = myHelper.getReadableDatabase();\n        return this;\n}\n\npublic Cursor getRow(String rowId)\n    {\n        String[] columns = new String [] {KEY_ROWID,KEY_MODULECODE, KEY_MODULENAME};\n        Cursor c = moduleDatabase.query(DATABASE_TABLE, columns,KEY_ROWID+ \"=\"+rowId , null, null, null, null);\n        if(c!=null){\n            c.moveToFirst();\n        }\n        return c;\n    }\n</code></pre>\n"},{"tags":["sql","xml","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":39,"score":1,"question_id":13215005,"title":"Import data into SQLite from XML","body":"<p>I am trying to import data stored in a XML file into my SQLite database. The insert query looks something like the following:</p>\n\n<pre><code>INSERT INTO table1 VALUES (rank, name)\nSELECT X.record.query('rank').value('.', 'INT'),\n       X.record.query('name').value('.', 'VARCHAR(30)')\nFROM (\n  SELECT CAST(x AS XML)\n  FROM OPENROWSET(BULK 'data.xml', SINGLE_BLOB) AS T(x)\n     ) AS T(x)\nCROSS APPLY x.nodes('data/record') AS X(record);\n</code></pre>\n\n<p>The XML data looks like this:</p>\n\n<pre><code>&lt;data&gt;\n    &lt;record&gt;\n        &lt;rank&gt;1&lt;/rank&gt;\n        &lt;name&gt;One&lt;/name&gt;\n    &lt;/record&gt;\n    &lt;record&gt;\n        &lt;rank&gt;2&lt;/rank&gt;\n        &lt;name&gt;Two&lt;/name&gt;\n    &lt;/record&gt;\n    ...\n&lt;/data&gt;\n</code></pre>\n\n<p>However, I am getting \"SQL command not properly ended at the outer SELECT statement, and I can't figure out why. Any ideas?</p>\n"},{"tags":["sql","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":19,"score":1,"question_id":13214317,"title":"compare 2 columns from different tables","body":"<p>I have 2 tables with same column in each.. Lets call it colors. How do I compare the two to show the unique colors in table B that are not in table A?</p>\n"},{"tags":["sqlite","android-sqlite","sqliteopenhelper"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":20,"score":0,"question_id":13213892,"title":"Read and database since another class SQLite","body":"<p>I'm working with data bases in android and I know how I should read the datas from the database whe I work with 2 classes however I need read the datas from another class a different class and I don't know how I can do this.</p>\n\n<p>I have 3 classes:\nDBAdapter: I make here all about oncreate onupgrade and insert methods, My second class is the database: I add all the datas that I need in the database and the last one is the class since I want to read the database: In this class I don't know how I can call the database I tried to create and object of this way</p>\n\n<p>DBAdapter db1= BaseDatos.db;</p>\n\n<p>but even in this way I couldn't read the datas</p>\n\n<p>thanks in advance for your help</p>\n"},{"tags":["c#","sqlite"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":45,"score":2,"question_id":13212094,"title":"Removing redundant data from large file","body":"<p>I have a log file which has single strings on each line.  I am trying to remove duplicate data from the file and save the file out as a new file.  I had first thought of reading data into a HashSet and then saving the contents of the hashset out, however I get an \"OutOfMemory\" exception when attempting to do this (on the line that adds the string to the hashset).</p>\n\n<p>There are around 32,000,000 lines in the files.  It's not practical to re-read the entire file for each comparison.</p>\n\n<p>Any ideas?  My other thought was to output the entire contents into a SQLite database and selecting DISTINCT values, but I'm not sure that'd work either with that many values.</p>\n\n<p>Thanks for any input!</p>\n"},{"tags":["django","sqlite","ubuntu","sqlite3"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13209209,"title":"python sqlite use in terminal -django","body":"<p>How can I see my databases in SQlite for Django.</p>\n\n<p>I am following the <a href=\"https://docs.djangoproject.com/en/dev/intro/tutorial01/\" rel=\"nofollow\">django tutorial</a> on ubuntu. </p>\n\n<p>Now its working fine except. After running </p>\n\n<pre><code>python manage.py sql polls\n</code></pre>\n\n<p>then</p>\n\n<pre><code>python manage.py syncdb\n</code></pre>\n\n<p>So then I thought I would check out the daabase and tables but this is where the issue is:</p>\n\n<pre><code>sqlite&gt; .databases\nseq  name             file                                                      \n---  ---------------  ----------------------------------------------------------\n0    main                                                                       \n1    temp    \n</code></pre>\n\n<p>There is no mysite database.\nHow can i see the database?</p>\n"},{"tags":["php","mysql","sql","sqlite","pdo"],"answer_count":5,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":411,"score":1,"question_id":9244053,"title":"SQLite syntax not compatible with MySQL?","body":"<p>I'm using PDO and trying to make my application support both MySQL and SQLite, but in sqlite I get this error when I try to import my database schema:</p>\n\n<p><code>SQLSTATE[HY000]: General error: 1 near \"AUTO_INCREMENT\": syntax error</code></p>\n\n<p>The query looks like this:</p>\n\n<pre><code>CREATE TABLE events (\n\n  id INT UNSIGNED NOT NULL AUTO_INCREMENT,\n  name VARCHAR(32) NOT NULL,\n  title VARCHAR(64) NOT NULL,\n  description LONGTEXT,\n  starttime DATETIME DEFAULT '0000-00-00 00:00:00',\n\n  PRIMARY KEY(id),\n  KEY name(name)\n\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;\n</code></pre>\n\n<p>(and it works in a MySQL database.)</p>\n\n<p>I don't understand what the problem is here? Shouldn't both database systems be compatible?</p>\n"},{"tags":["android","sql","sqlite","bit-manipulation","where"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":24,"score":1,"question_id":13211365,"title":"Android/SQLite - Bit operation on WHERE clause","body":"<p>I'd like to know if it's possible to do in Android something like this:</p>\n\n<pre><code>public Cursor getFlowsByCategory(int type, int categoryID, int limit) {\n\n    SQLiteDatabase db = dbHelper.getReadableDatabase();\n\n    final String[] columns = {ID, FLAGS, SUBJECT, AMOUNT, AMOUNT_NO, CATEGORY};\n    final String selection = \"((\" + FLAGS + \" &amp; ?) &gt;&gt; 1 = ?) AND (\" + CATEGORY + \" = ?)\";\n    final String[] selectionArgs = {Integer.toString(Flow.FLOW_TYPE), Integer.toString(type), Integer.toString(categoryID)};\n\n    return db.query(TABLE, columns, selection, selectionArgs, null, null, ID + \" DESC\", Integer.toString(limit));\n\n}\n</code></pre>\n\n<p>FLAGS is a 1-byte bit mask and I'd like to select only the rows which has the second bit (position 1) of the mask on. The mask (Flow.FLOW_TYPE) is 0b00000010 and the type parameter can be either 0 or 1. It should work but it doesn't: what am I doing wrong?</p>\n"},{"tags":["iphone","ios","sqlite","uitableview","nsmutablearray"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":13210496,"title":"UITableView application crashes when scrolling","body":"<p>Firstly, please forgive my English.</p>\n\n<p>I am learning about iPhone SDK, Obj-C and trying to make UITableView app. But my app crashes when scrolling the table. I've searched but can't solve my problem, so I post my question here and look for your help.</p>\n\n<p>TMTMemberListTableViewController.h</p>\n\n<pre><code>@interface TMTMemberListTableViewController : UITableViewController\n{\n    NSMutableArray *familyMembers;\n    sqlite3 *database;\n}\n\n@property (nonatomic, retain) NSMutableArray *familyMembers;\n\n- (void) configureCell:(TMTFamilyMemberCell *)cell withFamilyMember:(TMTFamily *)member;\n\n@end\n</code></pre>\n\n<p>TMTMemberListTableViewController.m</p>\n\n<pre><code>@interface TMTMemberListTableViewController (Private)\n    - (void) loadMemberListFromDatabase;\n@end\n\n@implementation TMTMemberListTableViewController\n\n@synthesize familyMembers;\n\n- (void) loadMemberListFromDatabase\n{\n    familyMembers = [[NSMutableArray alloc] init];\n\n    NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);\n    NSString *documentsDirectory = [paths objectAtIndex:0];\n    NSString *path = [documentsDirectory stringByAppendingPathComponent:@\"easycook.sqlite\"];\n    if (sqlite3_open([path UTF8String], &amp;database) == SQLITE_OK)\n    {\n        const char *sql = \"SELECT member_id from family\";\n        sqlite3_stmt *statement;\n        if (sqlite3_prepare_v2(database, sql, -1, &amp;statement, NULL) == SQLITE_OK)\n        {\n            while (sqlite3_step(statement) == SQLITE_ROW)\n            {\n                NSString *memberID = [NSString stringWithUTF8String:(char *) sqlite3_column_text(statement, 0)];\n                TMTFamily *member = [[TMTFamily alloc] initWithMemberID:memberID database:database];\n                [familyMembers addObject:member];\n                [member release];\n            }\n        }\n        sqlite3_finalize(statement);\n    }\n    else\n    {\n        sqlite3_close(database);\n        NSAssert1(0, @\"Failed to open database with message '%s'.\", sqlite3_errmsg(database));\n    }\n}\n\n- (void)viewDidLoad\n{\n    [super viewDidLoad];\n\n    self.clearsSelectionOnViewWillAppear = NO;\n\n    self.navigationItem.rightBarButtonItem = self.editButtonItem;\n    [self loadMemberListFromDatabase];\n}\n\n- (void)didReceiveMemoryWarning\n{\n    [super didReceiveMemoryWarning];\n    // Dispose of any resources that can be recreated.\n}\n\n- (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView\n{\n    // Return the number of sections.\n    return 1;\n}\n\n- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section\n{\n    // Return the number of rows in the section.\n    return [familyMembers count];\n}\n\n- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath\n{\n    //static NSString *MyIdentifier = @\"MyIdentifier\";\n\n    TMTFamilyMemberCell *cell = (TMTFamilyMemberCell *)[tableView dequeueReusableCellWithIdentifier:nil];\n    if (cell == nil)\n    {\n        cell = [[[TMTFamilyMemberCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:nil] autorelease];\n        cell.accessoryType = UITableViewCellAccessoryDisclosureIndicator;\n    }\n    TMTFamily *member = [familyMembers objectAtIndex:indexPath.row];\n    // Set up the cell\n    [self configureCell:cell withFamilyMember:member];\n    [member release];\n    return cell;\n}\n\n- (void) configureCell:(TMTFamilyMemberCell *)cell withFamilyMember:(TMTFamily *)member\n{\n    cell.familyMember = member;\n    cell.memberNameLabel.text = member.description;\n}\n- (void)dealloc\n{\n    NSLog(@\"Dealloc\");\n    [familyMembers release];\n    [super dealloc];\n}\n</code></pre>\n\n<p>When scrolling table, my app crashes with EXC_BAD_ACCESS at </p>\n\n<pre><code>[self configureCell:cell withFamilyMember:member];\n</code></pre>\n\n<p>and</p>\n\n<pre><code>cell.memberNameLabel.text = member.description;\n</code></pre>\n"},{"tags":["c#",".net","windows","winforms","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":38,"score":0,"question_id":13209146,"title":"Shifting values ​​between Data Grid View","body":"<p>I have a problem. I create tabs in the newly created objects Data Grid (each has different information, which also calculate the average). The data in the Data Grid are written to the SQLite database. After reading the DGV creates a dynamic column from the arithmetic mean, I want to move without having to write to the database to another column. Is a good way would be to store data in an array? Please understand I am a beginner ...</p>\n"},{"tags":["string","osx","sqlite","data-structures"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13210069,"title":"Search the table of strings with each character","body":"<p>I am stuck at a problem with strings. I have many (lets say more 100) two dimensional arrays with strings. I will need to search through them for occurrence of a match string (entered through a search bar). If any occurrence, the row containing the matched string have to be displayed in a table view. With each entered character in the search bar, the results must be refined and displayed in a table view. </p>\n\n<p>All the strings data must be saved and must be opened for later use. Could any one please suggest on the following things? </p>\n\n<ol>\n<li><p>Is it fine saving all the two dimensional arrays of strings in a database.(SQLite)? or each array in an xml file? or any other better idea? </p></li>\n<li><p>How to search efficiently through the all the strings? I am thinking to create a trie data structure for better searching. </p></li>\n</ol>\n\n<p>Thanks!</p>\n"},{"tags":["android","query","sqlite","android-contentprovider"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":12,"score":1,"question_id":13210044,"title":"exist() method sqlite with ContentProvider","body":"<p>i'd like to create a method for \"exist tuple?\"</p>\n\n<p>my old method with classic StartManagingCursor way was :</p>\n\n<pre><code>public boolean exist(long uid){\n     boolean ex = false;\n\n     Cursor c= db.rawQuery(\"SELECT COUNT(*) FROM \" + Person.PERSON_TABLE + \" WHERE uid = \"+ \"'\" + uid + \"'\", null);\n            c.moveToFirst();\n  int jcount = c.getInt(0);\n\n  if (jcount &gt;0){\n            ex=true;                        \n    }\n     return ex;\n</code></pre>\n\n<p>}</p>\n\n<p>now i wanna do this with ContentProvider for my sqlite db. \nhow i can do this with query method of my contentprovider class?</p>\n"},{"tags":["sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":21,"score":1,"question_id":13206501,"title":"how to import table from another database in sqlite","body":"<p>I have databases named as database1 with table name as t1 ,databases2 with table name as t2.Now i want to import table t2 from database2 into database1. so what command should i used.any help would be appreciated.</p>\n"},{"tags":["android","database","sqlite","android-sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13208068,"title":"Android database framework for complex queries and comfortable engineering","body":"<p>I've been using the native Android SQLite library in the last time, but I am not pleased with the re-usability and readability. There are some ORM database libraries I found for Android, but I wonder whether those are useful as I got a whole bunch of complex select and delete operations I have to be able to run.</p>\n\n<p>Can you suggest me any appropriate library?</p>\n"},{"tags":["php","sqlite","pdo"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":27,"score":2,"question_id":13207486,"title":"PHP PDO SQLite3 converting date string","body":"<p>Using SQLite3, PDO and PHP5 on localhost only.</p>\n\n<p>Am using a webpage table to display the columns, a sample set (1 record from the table), checkboxes for selecting columns, and dropdowns for selecting modifyers for the subsequent query.\nAt the time the \"get query\" button is clicked, the simple query..</p>\n\n<pre><code>SELECT day FROM tbl;\n</code></pre>\n\n<p>..gets turned into..</p>\n\n<pre><code>SELECT datetime([day],'unixepoch','+978307200 seconds','localtime') as day FROM tbl;\n</code></pre>\n\n<p>(This is done via a string replace function)</p>\n\n<p>It's then passed via a cookie to a results page (using cookies because I'm also passing a lot of other data)</p>\n\n<p>This query will now add all those seconds to the converted unix epoch time, and give up a result in localtime...(vs UTC)</p>\n\n<p>If I hardcode the query directly into the \"results.php\" page, it works fine.  If the page uses the query stored in the cookie set by the previous page, I get no results.  Inspecting the results page elements, I can see the cookie has been set with the complete query.</p>\n\n<p>I've narrowed it down to the <code>\"+978307200\"</code> modifyer...because without it, it works fine (apart from being 978307200 seconds out of kilter!)</p>\n\n<p>I'm picking that something is happening to the \"+\" sign, but at a complete loss as to how to fix it.</p>\n\n<p>Any ideas/suggestions?\nThanks.</p>\n"},{"tags":["javascript","sqlite","phonegap","synchronization"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13207345,"title":"synchronize sqlite database from phone, to servers","body":"<p>I am trying to develop an android application is using PhoneGap, and I want a plugin or script enables the synchronization of data from the server to the mobile teminal. I found this link <a href=\"https://github.com/orbitaloop/WebSqlSync/\" rel=\"nofollow\">https://github.com/orbitaloop/WebSqlSync/</a> ,but this one allows the synch as to the server.\nis that someone has an idea?</p>\n"},{"tags":["sqlite","ado.net","nuget","visual-studio-2012"],"answer_count":2,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":2873,"score":3,"question_id":11291423,"title":"SQLite with Visual Studio 2012 and .NET 4.5?","body":"<p>Is SQLite working with VS 2012 and .NET 4.5?</p>\n\n<p>I installed it (System.Data.SQLite.x64) with NuGet and also installed a ado.net provider separately from <a href=\"http://system.data.sqlite.org/index.html/doc/trunk/www/downloads.wiki\" rel=\"nofollow\">this site</a> (could only find one for .net 4.0), but it isn't showing up in the list of add-options in server explorer.</p>\n"},{"tags":["android","sqlite","in-app-billing"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13201925,"title":"Android SQLite in app billing","body":"<p>I have a quiz app which populates a sqlite database with questions of around 20 different categories. I want to implement in app billing so that if someone purchases Category1 for example, then these questions are added to the database and no others. Some of my questions fall within two categories so let's say Category1 and Category2. </p>\n\n<pre><code>try {\n            for (int n = 1; n &lt; sqlString.length; n++) {\n\n                db.execSQL(\"INSERT INTO \" + DATABASE_TABLE + \" VALUES (\"\n                        + sqlString[n] + \");\");\n\n            }\n            db.setTransactionSuccessful();\n        } finally {\n            db.endTransaction();\n        }\n</code></pre>\n\n<p>This is my current set up in the SQLite class onCreate method. sqlString is a string array containing all my 500 questions so far. </p>\n\n<p>I'm going to store whether a category has been bought in another table (but I am open to other suggestions on how to do this). I plan on creating a class which reads this database setting up boolean values of true or false whether each category has been bought. So </p>\n\n<pre><code>boolean cat1 = CheckIfCategoryHasBeenBought(category1)\n</code></pre>\n\n<p>etc. Then if it has been bought I will implement a method such as</p>\n\n<pre><code>boolean[] catChecker = {cat1, cat2, cat3, etc....}\nSQLite info = new SQLite(this);\ninfo.open();\ninfo.addQs(catChecker)\n//this will pass the true and false boolean values for each method then \n//based on that I choose to implement or not\ninfo.close();\n</code></pre>\n\n<p>However I don't know if this is even a good way to do it. I'm not sure how to check if the value has already been added (as a result of it crossing over with another category that's been bought). I was thinking a cursor would be best to check if the value is already added however how do I get the cursor to search?</p>\n\n<p>The ways I've thought this could be achieved is </p>\n\n<p>1) I create a string array only with the strings associated with bought questions. \n2) I create an if statement within the for loop above which checks whether the string is from a bought category\n3) I give the value \"null\" to all strings that haven't been bought then add an if statement only executing the SQL if the sqlString[n] is not null. </p>\n\n<p>Do you guys have any idea how it would be best to set this up?</p>\n"},{"tags":["android","sqlite","google-chrome","jquery-mobile","phonegap"],"answer_count":1,"favorite_count":1,"up_vote_count":3,"down_vote_count":1,"view_count":249,"score":2,"question_id":10849559,"title":"The Architecture type of a HTML5 cross-platform Application","body":"<p><img src=\"http://i.stack.imgur.com/O0Mt2.png\" alt=\"enter image description here\"></p>\n\n<p>I'm working on a HTML5 cross-platform Survey application using jquery mobile, phoneGap , and sqlite database with web Storage !!!!\nFor Now I'm testing this App on Android Plateform using eclipse .\nI'm new to the mobile world , I'm more familiar with j2ee web applications \nSo i'm wondering what can we call this type of architecture especially that I'm not working with a real server such glassFish ,TomCat .. or even a real SGBD and that everything is on the web browser (I'm using chrome)\nCould Any one Help me with this ?\nthank u :)<br>\nHere is the list of possible styles of architecture but I can't find the suitable one for my case !!!</p>\n"},{"tags":["java","android","database","sqlite","search"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":50,"score":1,"question_id":12989643,"title":"How to fetch record from Sqlite","body":"<p>This is my Method in DBMethods class:</p>\n\n<pre><code>public void getResult(EditText keyWord2){\n\n    EditText keyWord = null;\n\n    String SQL =\"localSearch.php?querey=\"+keyWord.getText();\n    mDb.rawQuery(SQL, null);\n}\n</code></pre>\n\n<p>And this is my method in which I am opening Database and all that in webServices class. </p>\n\n<pre><code>public void startSearch(View v){\n\n    keyWord = (EditText)findViewById(R.id.searchField);\n        String data = null;\n        DBMethods mDbHelper = new DBMethods(this);         \n        mDbHelper.createDatabase();       \n        mDbHelper.open(); \n\n        mDbHelper.getResult(keyWord);\n        mDbHelper.close();\n\n}\n</code></pre>\n\n<p>When I try to fetch data from the database by entering some keyword in the search bar, a force close error occurs. </p>\n"},{"tags":["android","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":32,"score":1,"question_id":13202600,"title":"Android and SQLite: When to use semicolons to end statements?","body":"<p>If you are using the rawQuery() or execSQL() methods of SQLite on Android, when should you use a semicolon to end your statement?</p>\n\n<p>On <a href=\"http://www.vogella.com/articles/AndroidSQLite/article.html\" rel=\"nofollow\">this tutorial</a>, for instance, the author uses the semicolon on the create table statement (via execSQL), but not on select statement (via rawQuery). For instance:</p>\n\n<p>Create Table Statement:</p>\n\n<pre><code>private static final String DATABASE_CREATE = \"create table \"\n      + TABLE_COMMENTS + \"(\" + COLUMN_ID\n      + \" integer primary key autoincrement, \" + COLUMN_COMMENT\n      + \" text not null);\";\ndatabase.execSQL(DATABASE_CREATE);\n</code></pre>\n\n<p>Select Statement:</p>\n\n<pre><code>Cursor cursor = getReadableDatabase().\n  rawQuery(\"select * from todo where _id = ?\", new String[] { id });\n</code></pre>\n\n<p>Is it the case that statements using the execSQL() method need a semicolon at the end, but statements using the rawQuery() method don't?</p>\n"},{"tags":["android","sqlite","insert"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":69,"score":-1,"question_id":13198290,"title":"Android:SQLite insert exception","body":"<p>Hi all i'm trying to figure out an insert exception in my code. Before I start i start inserting strings EditText I wanted to put in Strings of my own first. However I am getting an error from logcat. They are both of type string, there is a primary key row also set to autoincrement. Does anyone have any guidance.</p>\n\n<p>database Activity </p>\n\n<pre><code>private static class DbHelper extends SQLiteOpenHelper {\n\n        public DbHelper(Context context){\n            super(context, DATABASE_NAME, null, DATABASE_VERSION);\n\n        }\n\n        @Override\n        public void onCreate(SQLiteDatabase db) {\n            db.execSQL(\"CREATE TABLE \" + DATABASE_TABLE +  \" (\" +\n                        KEY_ROWID + \" INTEGER PRIMARY KEY AUTOINCREMENT, \" +\n                        KEY_MODULECODE + \" TEXT, \" +\n                        KEY_MODULENAME + \" TEXT); \"\n                    );\n        }\n\n        @Override\n        public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n            // TODO Auto-generated method stub\n            db.execSQL(\"DROP TABEL IF EXISTS \" + DATABASE_TABLE);\n            onCreate(db);\n        }\n    }\n\n    public database(Context c){\n        myContext = c;\n    }\n\n    public  database openToWrite()throws SQLException{\n        myHelper = new DbHelper(myContext);\n        moduleDatabase = myHelper.getWritableDatabase();\n        return this;\n    }\n\n    public  database openToRead()throws SQLException{\n        myHelper = new DbHelper(myContext);\n        moduleDatabase = myHelper.getReadableDatabase();\n        return this;\n    }\n    public void close(){\n    myHelper.close();\n    }\n\n    public void createEntry(String moduleCode, String moduleName) throws SQLException {\n        ContentValues cv = new ContentValues();\n        cv.put(KEY_MODULECODE,moduleCode);\n        cv.put(KEY_MODULENAME,moduleName);\n        moduleDatabase.insert(DATABASE_TABLE,null,cv);\n        // TODO Auto-generated method stub\n\n    }\n\n    public Cursor getData() {\n\n        String[] columns = new String [] {KEY_ROWID,KEY_MODULECODE, KEY_MODULENAME};\n        Cursor c = moduleDatabase.query(DATABASE_TABLE, columns, null, null, null, null, null);\n\n        return c;\n    }\n</code></pre>\n\n<p>}</p>\n\n<p>Main Activity</p>\n\n<pre><code>public class MyCourses extends Activity {\n\n    static final String TEST = \"com.example.mycoursetimetable.TEST\";\n    String [] MODULE;\n    database MODULEDATABASE;  \n    ListView listContent;\n    Boolean didItWork;\n\n\n    Cursor cursor;\n\n        @Override\n        public void onCreate(Bundle savedInstanceState) \n        {\n        super.onCreate(savedInstanceState);\n\n        setContentView(R.layout.activity_my_courses);\n\n       listContent =(ListView)findViewById(R.id.list);\n       MODULEDATABASE = new database(MyCourses.this);\n\n       MODULEDATABASE.openToWrite();\n       MODULEDATABASE.createEntry(\"TestCode\", \"TestName\");\n       MODULEDATABASE.close();\n\n       MODULEDATABASE.openToRead();\n       cursor = MODULEDATABASE.getData();\n       MODULEDATABASE.close();\n\n       listContent = (ListView)findViewById(R.id.list);\n\n       TestCursorAdapter ca = new TestCursorAdapter(this, cursor, 0);\n\n       listContent.setAdapter(ca);\n\n        }\n\n}\n</code></pre>\n\n<p>CursorAdatpter</p>\n\n<pre><code>public class TestCursorAdapter extends CursorAdapter {\n\n    private LayoutInflater viewInflater;\n    boolean didItWork;\n\n    public TestCursorAdapter(Context context, Cursor c, int flags) {\n        super(context, c, flags);\n        // TODO Auto-generated constructor stub\n        viewInflater = (LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n    }\n\n    @Override\n    public void bindView(View v, Context context, Cursor c) \n    {\n\n        TextView text_modulecode = (TextView)v.findViewById(R.id.labelModuleCode);\n        TextView text_modulename = (TextView)v.findViewById(R.id.labelEditModuleFull);\n\n        text_modulecode.setText(String.valueOf(c.getColumnIndex(database.KEY_MODULECODE)));\n        text_modulename.setText(String.valueOf(c.getColumnIndex(database.KEY_MODULENAME)));\n\n    }\n\n    @Override\n    public View newView(Context context, Cursor c, ViewGroup parent) {\n        View v = viewInflater.inflate(R.layout.listcourses, parent, false);\n        return v;\n    }\n\n}\n</code></pre>\n\n<p>LogCat line 80 refers to moduleDatabase.insert(DATABASE_TABLE,null,cv);</p>\n\n<pre><code>10-21 22:42:19.812: E/Database(19591): Error inserting module_name=TestName module_code=TestCode\n10-21 22:42:19.812: E/Database(19591): android.database.sqlite.SQLiteConstraintException: error code 19: constraint failed\n10-21 22:42:19.812: E/Database(19591):  at android.database.sqlite.SQLiteStatement.native_execute(Native Method)\n10-21 22:42:19.812: E/Database(19591):  at android.database.sqlite.SQLiteStatement.execute(SQLiteStatement.java:66)\n10-21 22:42:19.812: E/Database(19591):  at android.database.sqlite.SQLiteDatabase.insertWithOnConflict(SQLiteDatabase.java:1426)\n10-21 22:42:19.812: E/Database(19591):  at android.database.sqlite.SQLiteDatabase.insert(SQLiteDatabase.java:1286)\n10-21 22:42:19.812: E/Database(19591):  at com.example.mycoursetimetable.database.createEntry(database.java:80)\n10-21 22:42:19.812: E/Database(19591):  at com.example.mycoursetimetable.MyCourses.onCreate(MyCourses.java:48)\n10-21 22:42:19.812: E/Database(19591):  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)\n10-21 22:42:19.812: E/Database(19591):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2459)\n10-21 22:42:19.812: E/Database(19591):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2512)\n10-21 22:42:19.812: E/Database(19591):  at android.app.ActivityThread.access$2200(ActivityThread.java:119)\n10-21 22:42:19.812: E/Database(19591):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1863)\n10-21 22:42:19.812: E/Database(19591):  at android.os.Handler.dispatchMessage(Handler.java:99)\n10-21 22:42:19.812: E/Database(19591):  at android.os.Looper.loop(Looper.java:123)\n10-21 22:42:19.812: E/Database(19591):  at android.app.ActivityThread.main(ActivityThread.java:4363)\n10-21 22:42:19.812: E/Database(19591):  at java.lang.reflect.Method.invokeNative(Native Method)\n10-21 22:42:19.812: E/Database(19591):  at java.lang.reflect.Method.invoke(Method.java:521)\n10-21 22:42:19.812: E/Database(19591):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:860)\n10-21 22:42:19.812: E/Database(19591):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:618)\n10-21 22:42:19.812: E/Database(19591):  at dalvik.system.NativeStart.main(Native Method)\n10-21 22:42:19.862: E/Cursor(19591): Invalid statement in fillWindow()\n</code></pre>\n"},{"tags":["java","android","database","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13202269,"title":"android database (SQLite) connection","body":"<p>I'm trying to create an android application which can store users location (cell tower code) with a name of his choice, i.e for example the cell tower code is 405673 and I want to store that as a 'Home' location.\nSo, essentially my program contains the following modules</p>\n\n<ol>\n<li>to get users tower code.</li>\n<li>to create a database.</li>\n<li>to get an input string for location name from user.</li>\n<li>to store these values in database.</li>\n<li>to display these values when requested.</li>\n</ol>\n\n<p>modules 1 and 2 were working perfectly individually, but when i integrate them I get a Fatal main and a null pointer exception.</p>\n\n<p>My code is as below</p>\n\n<pre><code>package my.project.mil;\n\nimport android.content.Context;\nimport android.content.Intent;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.Toast;\n\npublic class Cbdata extends MainActivity {\n\n    public String str;\n\n    public void onReceive(Context context, Intent intent) {\n        //---get the CB message passed in---\n        Bundle bundle = intent.getExtras();        \n        SmsCbMessage[] msgs = null;\n        str = \"\";            \n        if (bundle != null)  {\n            //---retrieve the SMS message received---\n            Object[] pdus = (Object[]) bundle.get(\"pdus\");\n            msgs = new SmsCbMessage[pdus.length];            \n            for (int i=0; i&lt;msgs.length; i++) {\n                msgs[i] = SmsCbMessage.createFromPdu((byte[])pdus[i]);                \n                str += \"CB \" + msgs[i].getGeographicalScope() + msgs[i].getMessageCode() + msgs[i].getMessageIdentifier() + msgs[i].getUpdateNumber();                     \n                str += \" :\";\n                str += msgs[i].getMessageBody().toString();\n                str += \"\\n\";        \n            }}\n}\n\n    SQLiteDatabase cd = openOrCreateDatabase(\"mydata\", MODE_WORLD_READABLE, null);\n\n\n\nButton submit;\nButton viewdb;\nEditText name;\n\n@Override\npublic void onCreate(Bundle savedInstanceState)\n{\n    // TODO Auto-generated method stub\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.seventh);\n\n    viewdb = (Button) findViewById(R.id.viewdb);\n    submit = (Button) findViewById(R.id.submit);\n    name = (EditText) findViewById(R.id.name);\n\n    submit.setOnClickListener(new View.OnClickListener() \n    {\n\n        public void onClick(View arg0) {\n\n            String locname = name.getText().toString();\n            if (locname.length()&gt;0)\n            {\n\n                cd.execSQL(\"CREATE TABLE IF NOT EXITSTS MLITable     (CblocationCode INT(10), CblocationName VARCHAR);\");\n                cd.execSQL(\"INSERT INTO MLITable VALUES (' ',' ');\" +str +locname);\n                Toast.makeText(getBaseContext(), \"value successfully entered.\", Toast.LENGTH_LONG).show();\n            }\n            else\n            {\n                Toast.makeText(getBaseContext(), \"Please enter the location name, for example 'Home'.\", Toast.LENGTH_LONG).show();\n            }\n\n        }\n    });\n\n    cd.close();\n\n    viewdb.setOnClickListener(new View.OnClickListener() \n    {\n\n        public void onClick(View arg0) {\n            // TODO Auto-generated method stub\n            // here comes the code for viewing the database\n\n\n        }\n    });\n}\n\n\n\n} \n</code></pre>\n\n<p>My logcat is as follows </p>\n\n<p><img src=\"http://i.stack.imgur.com/Jk3R7.png\" alt=\"logcat\"></p>\n\n<p>Interestingly, I've removed database commands to see if my code is working or not, from that I could conclude that I made a mistake in database connection line. </p>\n\n<p>Now, my queries are</p>\n\n<ol>\n<li>Why I'm a getting a null point exception error with my database connection and how can I resolve it?</li>\n<li><p>I've used the following code to insert values into a table,</p>\n\n<p>cd.execSQL(\"CREATE TABLE IF NOT EXITSTS MLITable     (CblocationCode INT(10), CblocationName VARCHAR);\");\ncd.execSQL(\"INSERT INTO MLITable VALUES (' ',' ');\" +str +locname);\nis it the correct way to pass user values to my database?</p></li>\n</ol>\n\n<p>Thank you.</p>\n"},{"tags":["sqlite","loops","for-loop"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":12452347,"title":"Creating a for loop for sql data entry","body":"<p>Currently I have this setup:</p>\n\n<pre><code>String string1 = ....\nString string2 = ....\nString string3 = ....\nString string4 = ....\n</code></pre>\n\n<p>etc.</p>\n\n<p>And then</p>\n\n<pre><code>db.execSQL(\"INSERT INTO \" + DATABASE_TABLE + \" VALUES (\" + string1 + \");\");\ndb.execSQL(\"INSERT INTO \" + DATABASE_TABLE + \" VALUES (\" + string2 + \");\");\ndb.execSQL(\"INSERT INTO \" + DATABASE_TABLE + \" VALUES (\" + string3 + \");\");\ndb.execSQL(\"INSERT INTO \" + DATABASE_TABLE + \" VALUES (\" + string4 + \");\");\n</code></pre>\n\n<p>etc.</p>\n\n<p>Is there a way to to create a for loop that runs through 1 to x implementing all? For example I tried:</p>\n\n<pre><code>for (int number = 0; number &lt;= 4; number++) { \n    String s = \"string\" + number; \n    db.execSQL(\"INSERT INTO \" + DATABASE_TABLE + \" VALUES (\" + s + \");\");\n</code></pre>\n\n<p>However this didn't work. I then tried setting up:</p>\n\n<pre><code>String x[] = {string1, string2, string3, string4}`\n</code></pre>\n\n<p>then </p>\n\n<pre><code>for (int number = 0; number &lt;= 4; number++) { \n     String s = \"string\" + number; \n     db.execSQL(\"INSERT INTO \" + DATABASE_TABLE + \" VALUES (\" + x[number] + \");\");\n</code></pre>\n\n<p>but that didn't work either. </p>\n\n<p>Sorry if this is a newb question. I have looked everywhere but couldn't find an answer. </p>\n"},{"tags":["php","flash","flex","sqlite","encryption"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":108,"score":2,"question_id":11101874,"title":"What method would be right to encrypt SQLite databases, for use on a PHP server?","body":"<p>I have looked into various ways of encrypting sqllite databases such as symmetric and asymmetric key cryptography, ciphers and hash's, but I am clueless of which would be the best to use to encrypt many sqllite databases for the flash builder - android application I am making.</p>\n\n<p>The process is that a client can make many databases (locally) specified by the company I am working for. For each of the databases I need to stop the user from accessing the databases from outside the app. (I've managed to do this using - SqlConn.open(Encrypt...)) Therefore I encrypt the database to stop the user from accessing it.</p>\n\n<p>Any ideas on the best way i.e. what method to use to create the key to encrypt with, the encryption key must be a byte array and equal to 16 bits in length.</p>\n\n<p>When the user finalizes one of the databases, i.e. selects the database on the app, I wish for them to upload it to a server, where they can decrypt the database and manipulate the data accordingly.</p>\n\n<p>My question is, how can I successfully make a key within the app, transfer it once uploaded and decrypt it using php? (What methods would work?)</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["java","database","sqlite","netbeans","blob"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":37,"score":1,"question_id":13200789,"title":"inserting image to sqlite","body":"<p>I'm creating application using sqlite database and netbeans .I have a problem when I save an image to data base.\nI have an image field in database which data type is BLOB and i'm inserting a byte array . i know it doesn't match.but when i save it holds value like this  \"[B@2c8f544b\" but actual values should be like this  \"BLOB (Size: 1850)\". if there is some value like that then only i can retrieve the image. I really can't figure out how to do this.if you have any reference  please let me know. </p>\n\n<p>my idea is before save to database convert byte array to BLOB type.but I couldn't find any code.</p>\n\n<pre><code>        String fname = p.fname;\n        String lname = p.lname;\n        byte[] image = p.image_det;\n        String mob = p.mobile;\n        String wor = p.work;\n        String hom = p.home;\n        String fax = p.fax;\n        int pID ;\n\n        ResultSet rst = stmt.executeQuery(\"SELECT MAX(pID) FROM person\");\n\n        pID =    Integer.parseInt(rst.getString(1))+1;\n\n\n        Statement stmt1 = con.createStatement();\n        stmt1.executeUpdate(\"INSERT INTO person(pID,F_name,L_name,image) VALUES (\"+pID+\" ,'\"+fname+\"','\"+lname+\"','\"+image+\"' ) \");\n</code></pre>\n\n<p>//-------------------------getting image path and  get image data to array called image_details</p>\n\n<pre><code>    File f;\n    String ipath = f.getAbsolutePath();  // getting image path\n    byte[] image_detail = null;\n\n    try \n    {\n        File image = new File(ipath);\n        FileInputStream fis = new FileInputStream(image); \n\n\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n\n        byte[] buf = new byte[1024];\n\n        for(int readNum;(readNum = fis.read(buf))!= -1;)\n        {\n            baos.write(buf, 0,readNum);\n        }\n\n        image_detail =  baos.toByteArray();\n\n        per.setImage_det(image_detail); // set image data for person class\n</code></pre>\n"},{"tags":["android","sqlite","contacts","android-contentprovider","android-contacts"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13200671,"title":"Order by not working in android cursor","body":"<p>I had some cursors ti retrieve contacts from Android, all its ok but the problem its i cant make work the \"Order by\" clause. i tried a lot of things, even using \"<code>Upper</code>\" and <code>localized collection</code>  clauses but seems isnt working, im using a hashmap to store the results, so i guess i will need order the hashmap but i dont want this because order by should solve the problem and save processing time. This is my code:</p>\n\n<pre><code> private Cursor getContacts() {\n        // Run query\n        Uri uri = ContactsContract.Contacts.CONTENT_URI;\n        String[] projection = new String[] { ContactsContract.Contacts._ID,\n            ContactsContract.Contacts.DISPLAY_NAME };\n        String selection = ContactsContract.Contacts.IN_VISIBLE_GROUP + \" = '\"\n            + (\"1\") + \"' AND \"+ ContactsContract.Contacts.HAS_PHONE_NUMBER +\"='\" +(\"1\")+\"'\";\n        String sortOrder =\" \"+  ContactsContract.Contacts.DISPLAY_NAME +\" ASC\";\n\n        CursorLoader query = new CursorLoader(context,uri, projection,\n                selection, null,\n            sortOrder);\n        return query.loadInBackground();\n      }\n</code></pre>\n\n<p>and this is other to get contacs by group:</p>\n\n<pre><code>contactInfo = new HashMap&lt;String, ContactInfo&gt;();\n         Cursor c = context.getApplicationContext().getContentResolver().query(ContactsContract.Data.CONTENT_URI\n                , new String[] {\n                ContactsContract.Contacts.DISPLAY_NAME, ContactsContract.Contacts._ID, \n                ContactsContract.RawContacts.CONTACT_ID },\n                ContactsContract.CommonDataKinds.GroupMembership.GROUP_ROW_ID + \" = ?\"+ \" AND \"\n                + ContactsContract.Contacts.HAS_PHONE_NUMBER +\"='\" +(\"1\")+\"'\",\n                new String[] { groupId },\"UPPER(\"+ ContactsContract.Contacts.DISPLAY_NAME + \") ASC\");\n</code></pre>\n\n<p>after getting cursor i use the  <code>while(c.moveToNext())</code> code</p>\n"},{"tags":["ios","sqlite","dropbox"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13199854,"title":"updating one sqlite file from multiple places","body":"<p>Am creating an app for ios with data stored in sqlite db. </p>\n\n<p>I created the db using firefox sqlite addon,and populating the fields using the same addon, the db has a table with some 1500 rows and has nearly 10 columns, which has to filled with text. since its proving tedious, am updating fields from top and my friend from bottom..</p>\n\n<p>we tried using same file shared in dropbox, but its not working well, when we both update the tables at the same time..</p>\n\n<p>can we create two files? and merge later?</p>\n\n<p>how can i merge these two sqlite files ? </p>\n\n<p>I tried attaching the file in the firefox addon, and it seems we can copy a table from attached db to main db. but while copying it asks us to create new table.. </p>\n\n<p>cant we insert data into particular field ranges into existing table ?</p>\n\n<p>any help is appreciated, thanks :)</p>\n"},{"tags":[".net","sqlite"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":11,"score":1,"question_id":13200216,"title":"SQLite .Net 3.5 Provider returns all DataColumn(s) as System.Object","body":"<p>I have a method that takes an SQL string and returns a DataTable object from a SQLite data base.  This works just fine, but when I look at the DataColumns in the DataTable the DataType returned is always \"System.Object\".  How do I get it to return the correlating DataType that matches up with SQLite (ex.  VARCHAR2 = System.String, BOOL = System.Boolean, ....).  Below is the code I have for creating the DataTable.  Is there some addition step that I can get without having to hard code the appropriate type cast?</p>\n\n<pre><code>public DataTable                GetDataTable\n(\nstring sql\n)\n{\n    DataTable dt = new DataTable();\n    try\n    {\n        openConnection();\n        SQLiteCommand mycommand = new SQLiteCommand(m_cnn);\n        mycommand.CommandText = sql;\n        SQLiteDataReader reader = mycommand.ExecuteReader();\n        dt.Load(reader);\n        reader.Close();\n        closeConnection();\n    }\n    catch (Exception e)\n    {\n        throw new DatabaseException(DatabaseException.DatabaseExceptionTypes.GetDataTable,e);\n    }\n    return dt;\n    enter code here\n</code></pre>\n"},{"tags":["java","android","sqlite","android-widget"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":35,"score":0,"question_id":13199714,"title":"Getting time value from timepicker - android","body":"<p>There seems to be a lot of varied information on the net on how exactly to take the time entered on a timepicker by a user and do something with it. I want to take the user input time, save it to a variable and write to an SQLite Database. I can't figure out how to convert the TimePicker values into a variable that can be passed to the SQL database where it will be stored in a timestamp field. I'm open to alternative suggestions if this is not necessarily the best way to go about it. Thanks!</p>\n\n<p>This is my code so far:</p>\n\n<p>XML:</p>\n\n<pre><code>&lt;RelativeLayout \n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:padding=\"10dp\" &gt;\n\n    &lt;TimePicker android:id=\"@+id/tpTimeStart\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginBottom=\"10dp\" /&gt;\n\n    &lt;Button android:id=\"@+id/btnUpdate\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:text=\"Update\" /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>Java:</p>\n\n<pre><code>import android.app.Activity;\nimport android.os.Bundle;\nimport android.widget.TimePicker;\nimport android.widget.Button;\nimport android.text.format.Time;\nimport android.view.View;\n\npublic class AddModule extends Activity {\n\n    TimePicker tp1;\n    Button bUpdate;\n\n    /** Called when the activity is first created. */\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        setContentView(R.layout.add_module);\n        bUpdate = (Button) findViewById(R.id.btnUpdate);\n\n        bUpdate.setOnClickListener(new View.OnClickListener() {\n\n        public void onClick(View v) {\n        tp1 = (TimePicker)findViewById(R.id.tpTimeStart);\n        Time timestart = tp1.getCurrentHour(), tp1.getCurrentMinute();\n        }\n        });\n    }\n}\n</code></pre>\n"},{"tags":["javascript","sqlite","phonegap"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":4,"view_count":32,"score":-4,"question_id":13199297,"title":"he displays error message: undefined","body":"<p>Code source</p>\n\n<pre><code> tx.executeSql('DROP TABLE IF EXISTS Commenter');           var sql = \n                \"CREATE TABLE IF NOT EXISTS Commenter ( \"+\n                \"IdPrestation   VARCHAR(100) PRIMARY KEY , \" +\n                \"IdTypeCommentaire VARCHAR(100),\" +\n                \"IdGroupe VARCHAR(100),\" +\n                \"Commentaire VARCHAR(2000),\" +\n                \"rowguid    VARCHAR(100)\" +\n                \")\";\n\n\n            tx.executeSql(sql);\n\ntx.executeSql(\"INSERT INTO Commenter \" +        \"(IdPrestation,IdTypeCommentaire,IdGroupe,Commentaire,rowguid)\" +\n        \" VALUES ('\"+result[i].IdPrestation+\"','\"+result[i].IdTypeCommentaire+\"','\"+result[i].IdGroupe+\"','\"+mysql_real_escape_string(result[i].Commentaire)+\"','\"+result[i].rowguid+\"')\");\n</code></pre>\n"},{"tags":["sqlite","activerecord","yii"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13194268,"title":"Yii create table with foreign key using SQLite","body":"<p>I'm trying to create table (using migrations) with foreign key like this</p>\n\n<pre><code>public function safeUp()\n{\n    $this-&gt;createTable('tbl_category', array(\n        'id'=&gt;'pk',\n        'title'=&gt;'string NOT NULL',\n        'url'=&gt;'string NOT NULL UNIQUE'\n    ));\n    $this-&gt;addForeignKey('FK_category', 'tbl_product', 'category_id', 'tbl_category', 'id', 'CASCADE', 'NO ACTION');    \n}\n</code></pre>\n\n<p>It perfectly works in MySQL, but now I want to use SQLite and this code gives an error that in SQLite I can't add foreign key to existing table, so I looked through the definition of <code>createTable</code> method:</p>\n\n<pre><code>public integer createTable(string $table, array $columns, string $options=NULL)\n</code></pre>\n\n<p>And tried to use <code>$options</code> param to add my foreign key there, but it generates this:</p>\n\n<pre><code>CREATE TABLE 'tbl_category' (\n    \"id\" integer PRIMARY KEY AUTOINCREMENT NOT NULL,\n    \"title\" varchar(255) NOT NULL,\n    \"url\" varchar(255) NOT NULL UNIQUE\n)\nCONSTRAINT FK_category\nFOREIGN KEY tbl_product(category_id)\nREFERENCES tbl_category(id)\nON DELETE CASCADE ON UPDATE NO ACTION\n</code></pre>\n\n<p>Obviously, that \"CONSTRAINT...\" code should be inside these brackets, but it doesn't. So how can I create this foreign key?</p>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":40,"score":3,"question_id":12980482,"title":"attempt at programmatic sqlite database repair","body":"<p>I discovered that it's possible for an app's database to become corrupt when a user pulls the battery out of the phone. This results in :</p>\n\n<blockquote>\n  <p>I/Database(1217): sqlite returned: error code = 14, msg = cannot open\n  file at source line 25467 </p>\n  \n  <p>E/Database(1217):\n  sqlite3_open_v2(\"/data/data/com.myapp/databases/mydata.db\", &amp;handle,\n  6, NULL) failed</p>\n  \n  <p>W/dalvikvm(1217): Exception\n  Landroid/database/sqlite/SQLiteException; thrown while initializing\n  Lcom/myapp/database/SQLhelper;</p>\n  \n  <p>D/AndroidRuntime(1217): Shutting down\n  VM</p>\n  \n  <p>W/dalvikvm(1217): threadid=1: thread exiting with uncaught\n  exception (group=0x40015560)</p>\n</blockquote>\n\n<p><strong>Premise</strong></p>\n\n<p>I read that using .dump can recover userful data. So I took the following approach...</p>\n\n<p><strong>Execution</strong></p>\n\n<pre><code>final String strDBpath = Application.getContext().getDatabasePath(DB_NAME).getAbsolutePath();\n\nfinal File fDBsrc = new File(strDBpath);\nfinal File fDBtrgt = new File(strDBpath.replace(\".db\", \"new.db\"));\n\nfinal String strExeCmd = \"sqlite3 \"+fDBsrc+\" .dump | sqlite3 \"+fDBtrgt;\n\nboolean bSuccess = true;\n\ntry\n{\n    Log.i(TAG, \"executing \"+strExeCmd);\n    Process process = Runtime.getRuntime().exec(strExeCmd);\n    process.waitFor();\n} catch (Exception er)\n{\n    bSuccess = false;\n}\n</code></pre>\n\n<p><strong>Result</strong>\nHOWEVER - listing the /data/data/com.myapp/databases did not reveal a new database.</p>\n\n<p>is this a permissions problem ?</p>\n"},{"tags":["java","android","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":174,"score":0,"question_id":6624072,"title":"Can we create and access more than one table in SQLite database?","body":"<p>I need two tables in my application.</p>\n\n<p>Can I create more than one table in SQLite?</p>\n"},{"tags":["android","database","sqlite","sqlite3"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":4152,"score":0,"question_id":4991368,"title":"SQLiteException: no such table","body":"<p>I am using my own SQLite3 database as opposed to creating a new one each time my app runs, as I have a few tables with static data that I am trying to display. I created my database and placed it in my assets folder. I then created my database helper and when I start my app I can open my database without problem but when I try to open my first table using the following code</p>\n\n<pre><code>private Cursor getData() \n{\n    try\n    {\n        myDbHelper = new DatabaseHelper(this);\n        SQLiteDatabase db = myDbHelper.getReadableDatabase();\n        Cursor cursor = db.query(\"exhibitor\", FROM, null, null, null,null, ORDER_BY);\n        startManagingCursor(cursor);\n        return cursor;\n    }\n    catch(SQLiteException e)\n    {\n        String err = e.toString();\n        return null;\n    }\n}\n</code></pre>\n\n<p><br>\nIt throws an error saying <code>android.database.sqlite.SQLiteException: no such table: exhibitor: , while compiling: SELECT _id, EXHIBITOR FROM exhibitor ORDER BY EXHIBITOR</code> but when I check the database exhibitor is there.\n<br><br>What am I missing?</p>\n"},{"tags":["android","sqlite"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":133,"score":0,"question_id":6852686,"title":"is there some way I can view a SQLite db?","body":"<p>I'm encountering a very odd behavior where a SQLite db entry is not throwing any exceptions, but when I later do a select where I search for the row I have inserted, it doesn't turn up.</p>\n\n<p>I'm at a loss as to how to debug this, as I have no way to verify that the insert is actually working.  I've examined all the SQL calls and they look right, so now I'm just stuck.</p>\n\n<p>Is there a phone resident db tool of some sort that I can use to view the db?  Or an ADB command line SQL thing of some sort?</p>\n"},{"tags":["android","sqlite","android-cursoradapter"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":42,"score":1,"question_id":13195398,"title":"Android:Unable to get String Resource","body":"<p>I am trying to use a cursorAapter to bindview two strings to a textView. However I seem to be getting a Resources not found exception. I don't understand why as they are both 2 string types and I am making an entry at the beginning of the program so there will be something to display.</p>\n\n<p>LogCat</p>\n\n<pre><code>10-21 19:44:51.042: E/AndroidRuntime(14930): Uncaught handler: thread main exiting due to uncaught exception\n10-21 19:44:51.062: E/AndroidRuntime(14930): android.content.res.Resources$NotFoundException: String resource ID #0x1\n10-21 19:44:51.062: E/AndroidRuntime(14930):    at android.content.res.Resources.getText(Resources.java:200)\n10-21 19:44:51.062: E/AndroidRuntime(14930):    at android.widget.TextView.setText(TextView.java:2813)\n10-21 19:44:51.062: E/AndroidRuntime(14930):    at com.example.mycoursetimetable.TestCursorAdapter.bindView(TestCursorAdapter.java:28)\n10-21 19:44:51.062: E/AndroidRuntime(14930):    at android.support.v4.widget.CursorAdapter.getView(CursorAdapter.java:256)\n10-21 19:44:51.062: E/AndroidRuntime(14930):    at android.widget.AbsListView.obtainView(AbsListView.java:1274)\n10-21 19:44:51.062: E/AndroidRuntime(14930):    at android.widget.ListView.makeAndAddView(ListView.java:1668)\n10-21 19:44:51.062: E/AndroidRuntime(14930):    at android.widget.ListView.fillDown(ListView.java:637)\n10-21 19:44:51.062: E/AndroidRuntime(14930):    at android.widget.ListView.fillFromTop(ListView.java:694)\n10-21 19:44:51.062: E/AndroidRuntime(14930):    at android.widget.ListView.layoutChildren(ListView.java:1521)\n10-21 19:44:51.062: E/AndroidRuntime(14930):    at android.widget.AbsListView.onLayout(AbsListView.java:1113)\n10-21 19:44:51.062: E/AndroidRuntime(14930):    at android.view.View.layout(View.java:6830)\n10-21 19:44:51.062: E/AndroidRuntime(14930):    at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1119)\n10-21 19:44:51.062: E/AndroidRuntime(14930):    at android.widget.LinearLayout.layoutVertical(LinearLayout.java:998)\n10-21 19:44:51.062: E/AndroidRuntime(14930):    at android.widget.LinearLayout.onLayout(LinearLayout.java:918)\n10-21 19:44:51.062: E/AndroidRuntime(14930):    at android.view.View.layout(View.java:6830)\n10-21 19:44:51.062: E/AndroidRuntime(14930):    at android.widget.FrameLayout.onLayout(FrameLayout.java:333)\n10-21 19:44:51.062: E/AndroidRuntime(14930):    at android.view.View.layout(View.java:6830)\n10-21 19:44:51.062: E/AndroidRuntime(14930):    at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1119)\n10-21 19:44:51.062: E/AndroidRuntime(14930):    at android.widget.LinearLayout.layoutVertical(LinearLayout.java:998)\n10-21 19:44:51.062: E/AndroidRuntime(14930):    at android.widget.LinearLayout.onLayout(LinearLayout.java:918)\n10-21 19:44:51.062: E/AndroidRuntime(14930):    at android.view.View.layout(View.java:6830)\n10-21 19:44:51.062: E/AndroidRuntime(14930):    at android.widget.FrameLayout.onLayout(FrameLayout.java:333)\n10-21 19:44:51.062: E/AndroidRuntime(14930):    at android.view.View.layout(View.java:6830)\n10-21 19:44:51.062: E/AndroidRuntime(14930):    at android.view.ViewRoot.performTraversals(ViewRoot.java:996)\n10-21 19:44:51.062: E/AndroidRuntime(14930):    at android.view.ViewRoot.handleMessage(ViewRoot.java:1633)\n10-21 19:44:51.062: E/AndroidRuntime(14930):    at android.os.Handler.dispatchMessage(Handler.java:99)\n10-21 19:44:51.062: E/AndroidRuntime(14930):    at android.os.Looper.loop(Looper.java:123)\n10-21 19:44:51.062: E/AndroidRuntime(14930):    at android.app.ActivityThread.main(ActivityThread.java:4363)\n10-21 19:44:51.062: E/AndroidRuntime(14930):    at java.lang.reflect.Method.invokeNative(Native Method)\n10-21 19:44:51.062: E/AndroidRuntime(14930):    at java.lang.reflect.Method.invoke(Method.java:521)\n10-21 19:44:51.062: E/AndroidRuntime(14930):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:860)\n10-21 19:44:51.062: E/AndroidRuntime(14930):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:618)\n10-21 19:44:51.062: E/AndroidRuntime(14930):    at dalvik.system.NativeStart.main(Native Method)\n10-21 19:44:51.082: I/dalvikvm(14930): threadid=7: reacting to signal 3\n</code></pre>\n\n<p>Main Activty</p>\n\n<pre><code>public class MyCourses extends Activity {\n\n    static final String TEST = \"com.example.mycoursetimetable.TEST\";\n    database MODULEDATABASE;  \n    ListView listContent;\n    Cursor cursor;\n\n        @Override\n        public void onCreate(Bundle savedInstanceState) \n        {\n        super.onCreate(savedInstanceState);\n\n        setContentView(R.layout.activity_my_courses);\n\n       listContent =(ListView)findViewById(R.id.list);\n       MODULEDATABASE = new database(MyCourses.this);\n\n       MODULEDATABASE.createEntry(\"TestCode\", \"TestName\");\n\n       MODULEDATABASE.openToRead(); // don't forget this part!\n       cursor = MODULEDATABASE.getData();\n\n       listContent = (ListView)findViewById(R.id.list);\n       TestCursorAdapter ca = new TestCursorAdapter(this, cursor, 0);\n       listContent.setAdapter(ca);\n\n        }\n\n}\n</code></pre>\n\n<p>Cursor Adapter</p>\n\n<pre><code>public class TestCursorAdapter extends CursorAdapter {\n\n    private LayoutInflater viewInflater;\n\n    public TestCursorAdapter(Context context, Cursor c, int flags) {\n        super(context, c, flags);\n        // TODO Auto-generated constructor stub\n        viewInflater = (LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n    }\n\n    @Override\n    public void bindView(View v, Context context, Cursor c) {\n        TextView text_moduleId = (TextView)v.findViewById(R.id.labelDay);\n        TextView text_modulecode = (TextView)v.findViewById(R.id.labelModuleCode);\n        TextView text_modulename = (TextView)v.findViewById(R.id.labelEditModuleFull);\n\n        //text_moduleId.setText(c.getString(c.getColumnIndex(database.KEY_ROWID)));\n        text_modulecode.setText(c.getColumnIndex(database.KEY_MODULECODE));\n        text_modulename.setText(c.getColumnIndex(database.KEY_MODULENAME));\n    }\n\n    @Override\n    public View newView(Context context, Cursor c, ViewGroup parent) {\n        View v = viewInflater.inflate(R.layout.listcourses, parent, false);\n        return v;\n    }\n\n}\n</code></pre>\n\n<p>database snippet</p>\n\n<pre><code>   public void onCreate(SQLiteDatabase db) {\n            db.execSQL(\"CREATE TABLE \" + DATABASE_TABLE +  \" (\" +\n                        KEY_ROWID + \" INTEGER PRIMARY KEY AUTOINCREMENT, \" +\n                        KEY_MODULECODE + \" TEXT, \" +\n                        KEY_MODULENAME + \" TEXT); \"\n                    );\n        }\n\n        @Override\n        public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n            // TODO Auto-generated method stub\n            db.execSQL(\"DROP TABEL IF EXISTS \" + DATABASE_TABLE);\n            onCreate(db);\n        }\n    }\n\n    public database(Context c){\n        myContext = c;\n    }\n\n    public  database openToWrite()throws SQLException{\n        myHelper = new DbHelper(myContext);\n        moduleDatabase = myHelper.getWritableDatabase();\n        return this;\n    }\n\n    public  database openToRead()throws SQLException{\n        myHelper = new DbHelper(myContext);\n        moduleDatabase = myHelper.getReadableDatabase();\n        return this;\n    }\n    public void close(){\n    myHelper.close();\n    }\n\n    public long createEntry(String moduleCode, String moduleName) {\n        ContentValues cv = new ContentValues();\n        cv.put(KEY_MODULECODE,moduleCode);\n        cv.put(KEY_MODULENAME,moduleName);\n        return moduleDatabase.insert(DATABASE_TABLE,null,cv);\n        // TODO Auto-generated method stub\n\n    }\n\n    public Cursor getData() {\n\n        String[] columns = new String [] {KEY_ROWID,KEY_MODULECODE, KEY_MODULENAME};\n        Cursor c = moduleDatabase.query(DATABASE_TABLE, columns, null, null, null, null, null);\n\n        return c;\n    }\n\n\n}\n</code></pre>\n"},{"tags":["android","database","sqlite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":116,"score":0,"question_id":7962147,"title":"Sqlite returning old value after reboot in android","body":"<p>I am storing data in sqlite in my android device in a table where present month is primary key. I then  reboot and keep on updating the data in regular interval and retrieving the data from sqlite and it is showing me exact figure. But after all subsequent reboot,it shows me the initial value on first reboot, rather then showing last updated value. I can not find, where it is storing the initial value, Does sqlite cache the value. I am stuck with this problem for last two days. Anyone ever faced this problem.\nHere is my code.Code for Table is:</p>\n\n<pre><code>SQLiteDatabase dataUsageDataBase = null;\nprivate final String TOTAL_DATA_TABLE =\"DeviceData\";\ndataUsageDataBase.execSQL(\"CREATE TABLE IF NOT EXISTS \"+ TOTAL_DATA_TABLE+ \"( presentMonth INT , Data1 INT(12),Data2 INT(12),Data3 INT(12),Data4 INT(12),PRIMARY KEY(presentMonth) );\n</code></pre>\n\n<p>todayMonth is a number represeting present month(0 to 11)\nCursor for extracting old value:</p>\n\n<pre><code>Cursor totalData = dataUsageDataBase.rawQuery(\"SELECT * FROM \" + TOTAL_DATA_TABLE + \" WHERE presentMonth = \"+todayMonth +\"\", null);\n</code></pre>\n\n<p>// Some calculation is done here on the data after extracting data\nThen deleting exiting data and inserting new record</p>\n\n<pre><code>dataUsageDataBase.delete(TOTAL_DATA_TABLE, \" presentMonth =  \" + todayMonth+\"\" , null); \ndataUsageDataBase.execSQL(\"INSERT INTO \"+ TOTAL_DATA_TABLE+ \" Values( \"+todayMonth + \",\"+Data1+   \",\"   +Data2 + \",\"+ Data3 +\",\"+Data4+\");\"); \n</code></pre>\n"},{"tags":["sqlite","asp.net-mvc-4","offline"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":41,"score":-1,"question_id":12978094,"title":"asp .net mvc html 5 offline sqlite","body":"<p>i'm thinking about creating a demo web application using ASP .net, MVC 4, and Sqlite.  I want to make this application work offline.  Has anyone done this?  Any feedback on this topic?</p>\n"},{"tags":["android","sqlite","phonegap"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":12561095,"title":"Accept value from a variable to SQLITE execute statement","body":"<p>I am using SQLITE as my database in Phonegap but the value of the variable is not being accepted in tx.execute statements</p>\n\n<pre><code>var name=document.getElementByID(\"Txtname\").value;\n var age=document.getElementByID(\"Txtage\").value;\n   function populateDB(tx)\n {     \n   tx.executeSql('DROP TABLE IF EXISTS DEMO');  \n   tx.executeSql('CREATE TABLE IF NOT EXISTS DEMO (id unique, data)'); \n   tx.executeSql('INSERT INTO DEMO (id, data) VALUES (1, '\"+name+\"')');  \n   tx.executeSql('INSERT INTO DEMO (id, data) VALUES (2, '\"+age+\"')');\n</code></pre>\n"},{"tags":["android","sqlite","android-service"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":371,"score":0,"question_id":7721800,"title":"How to use Service to update sqlite database in android","body":"<p>I am able to update sqlite database and retrieving the data through a thread from my Activity. But i need to update the database using Service, which will update the database in every 5 minute, whether my Application running or not. So when i run the application, i will get data from current database. \nI am stuck while writing Service to update the database.Can someone guide. </p>\n"},{"tags":["android","sqlite","maps","store"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":60,"score":1,"question_id":10383664,"title":"How can i Submit search Results To SQLite table in Android Maps","body":"<p>I want store the Search place location Into Sqlite database in Android and then i populate in Listview in Android for location serch i am using the the <a href=\"http://maps.google.com/maps\" rel=\"nofollow\">http://maps.google.com/maps</a>? from this i am getting the location by search in Mpas how can i get Lat and Lang from that Adress and submited to Database.</p>\n"},{"tags":["javascript","sql","sqlite","node.js"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":62,"score":0,"question_id":12797332,"title":"SQLite SELECT * FROM table WHERE id=? Troubles","body":"<p>There's a gap in my knowledge here and I can't find the answer on the internet.</p>\n\n<p>Basically I'm making a node.js app that pushes entries from an SQLite Database using socket.io. </p>\n\n<p>I'm using the implementation of SQLite here -> <a href=\"https://github.com/developmentseed/node-sqlite3\" rel=\"nofollow\">https://github.com/developmentseed/node-sqlite3</a></p>\n\n<p>I'm trying to execute the statement:</p>\n\n<pre><code>db.serialize(function() {\n        db.run(\"SELECT * FROM messages WHERE id=?\", messageNum, function(err, row) {\n            console.log(row.id);            \n        });\n    });\n</code></pre>\n\n<p>I can't find documentation. It's throwing this error at the moment:</p>\n\n<p>Cannot read property 'id' of undefined</p>\n\n<p>I basically guessed the syntax... Anyone know what it actually is?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>I have got around the problem with an extremely inefficient solution for now:</p>\n\n<pre><code>db.serialize(function() {\n\n        db.each(\"SELECT id, msg, date FROM messages\", function(err, row) {\n            if(row.id === messageNum){\n                console.log(row.id);    \n            }\n        });\n\n    });\n</code></pre>\n\n<p>Would be good if someone could point me in the right direction at some point though, thanks.</p>\n"},{"tags":["android","sqlite","storage","offline"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":79,"score":0,"question_id":10280458,"title":"How can I provide Offline and online storage in Sqlite database in Android?","body":"<p>I want implement offline and online storage of sqlite database in My Application  how can i implement in Android is there any sample code.</p>\n\n<p>Thans in Advance</p>\n"},{"tags":["android","sqlite","android-spinner"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":198,"score":1,"question_id":10639306,"title":"Populating an Android Spinner from an SQLite but with two fields?","body":"<p>I've finally managed to populate a spinner from an sqlite db after much messing about with this code however it's only using one field and I want First and Last names on the same spinner item?</p>\n\n<p>The code is as follows:</p>\n\n<pre><code>    private void fillSpinner() {\n    Cursor c = myDbHelper.FetchDrivers();\n    startManagingCursor(c);\n\n    // create an array to specify which fields we want to display\n    String[] from = new String[]{\"FirstName\"};\n    // create an array of the display item we want to bind our data to\n    int[] to = new int[]{android.R.id.text1};\n    // create simple cursor adapter\n    SimpleCursorAdapter adapter =\n      new SimpleCursorAdapter(this, android.R.layout.simple_spinner_item, c, from, to );\n    adapter.setDropDownViewResource( android.R.layout.simple_spinner_dropdown_item );\n    // get reference to our spinner\n    Spinner s = (Spinner) findViewById( R.id.spr_Driver1);\n    s.setAdapter(adapter);\n}\n</code></pre>\n\n<p>Now it displays the FirstName and I've tried added \"FirstName\", \"LastName\" but it doesn't do anything different, I ideally want it to display the name in full on each spinner item. Is this even possible?</p>\n\n<p>Any help would be great!</p>\n\n<p>Thanks,\nChris</p>\n"}]}
{"total":16516,"page":3,"pagesize":100,"questions":[{"tags":["android","sqlite","sd-card"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":78,"score":0,"question_id":9780795,"title":"Sqlite database on devices without sdcard","body":"<p>The database file for the devices with sdcard is stored on the sdcard but what happens for the devices which don't have sdcard and have only internal storage like most of the tablets. I have an external database file from which I need the data. Where should I place this file to access it? Given the device does not have an sdcard.</p>\n"},{"tags":["xcode","image","sqlite","add"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":35,"score":-1,"question_id":12584564,"title":"Failed to add an image to a sqlite database?","body":"<p>there is the code to insert image with to other fields :</p>\n\n<pre><code>UIImage *image1 = [UIImage imageNamed:@\"recette.jpg\"];\n            NSData *image2 = UIImagePNGRepresentation(image1);\n\n    if (sqlite3_open(dbpath, &amp;contactDB) == SQLITE_OK)\n    {\n        NSString *insertSQL = [NSString stringWithFormat: @\"INSERT INTO CONTACTS (name, address, phone,image) VALUES (\\\"%@\\\", \\\"%@\\\", \\\"%@\\\", \\\"%@\\\" )\", name.text, address.text, phone.text,image2];\n</code></pre>\n\n<p>thinks</p>\n"},{"tags":[".net","sqlite","compact-framework","windows-ce"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":71,"score":0,"question_id":12542713,"title":"SQLite CE exception - Database is locked","body":"<p>I have a trouble with the following code. The program seems to stuck sometimes (apparently no pattern...often in the second query since the form containing this code run but not always) for 5-20 seconds in the row</p>\n\n<p>Dim rdr As SQLiteDataReader = cmd.ExecuteReader</p>\n\n<p>If the code doesn't stuck in second query since form started, it won't never stuck. If I close and reopen the form I have the same 50-60% chance to have same error mostly on 2nd query.</p>\n\n<p>Then it always restart from this point sometimes with no error...just big delay of 5-20 seconds and sometimes with error \"The database file is locked, database is locked\" at line</p>\n\n<p>cmd.ExecuteNonQuery() \n(2° time..not inside if block)</p>\n\n<p>This error will forbid the user to save its change and sometimes corrupt the data record and, of course, introduces a huge delay that I can't accept :(</p>\n\n<p>Any Idea of what I'm doing wrong?</p>\n\n<p>I'm developing with visual studio 2008 for a windows CE 6.0 device with 3.5 framework and </p>\n\n<p>ADO.NET 2.0/3.5 SQLite Data Provider\nVersion 1.0.66.0 April 18, 2010\nUsing SQLite 3.6.23.1\n<a href=\"http://sqlite.phxsoftware.com/\" rel=\"nofollow\">http://sqlite.phxsoftware.com/</a></p>\n\n<p>Thank you</p>\n\n<pre><code>'Update current program on database\nPublic Sub AggiornaUserOnDatabase(ByVal name As String, ByVal password As String, ByVal permission As String)\n    'No spaces\n    name = Trim(name)\n    'Database var\n    Dim ConString As String = \"Data Source = \" + DatabaseAccountPath + \";\"\n    Dim con As New SQLiteConnection\n    Dim cmd As SQLiteCommand\n    'Read from database\n    Try\n        con.ConnectionString = ConString\n        con.Open()\n        'Check if row is existing\n        cmd = con.CreateCommand\n        cmd.CommandText = \"SELECT \" + DBACCNAME + \" FROM \" + DatabaseAccountTableName + \" WHERE \" + DBACCNAME + \" = '\" + name + \"'\"\n        Dim rdr As SQLiteDataReader = cmd.ExecuteReader\n        'If empty...create the record\n        If Not rdr.Read Then\n            cmd = con.CreateCommand\n            cmd.CommandText = \"INSERT INTO \" + DatabaseAccountTableName + \" (\" + DBACCNAME + \") VALUES ('\" + name + \"')\"\n            cmd.ExecuteNonQuery()\n        End If\n        rdr.close()\n        'Update the values\n        cmd = con.CreateCommand\n        cmd.CommandText = \"UPDATE \" + DatabaseAccountTableName + \" SET \" _\n                        + DBACCPASSWORD + \" = '\" + password + \"', \" _\n                        + DBACCPERMISSION + \" = '\" + permission + \"' \" _\n                        + \"WHERE \" + DBACCNAME + \" = '\" + name + \"'\"\n        cmd.ExecuteNonQuery()\n        cmd.Dispose()\n        con.Close()\n    Catch ex As Exception\n        AggiungiRigaSuFile(ErroriPath, \"Editing users account database: \" + ex.Message, Configurazione.DiagnosticaOff, True)\n    End Try\nEnd Sub\n</code></pre>\n"},{"tags":["sql","sqlite","group-by","aggregate-functions"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":22,"score":2,"question_id":13173445,"title":"Aggregation function for sqlite","body":"<p>Execute below script for create test table.</p>\n\n<pre><code>create table if not exists t1 (id1 int,id2 int);\n</code></pre>\n\n<p>Now, table is created, and it is empty table.</p>\n\n<p>Execute below script,</p>\n\n<pre><code>select max(id1), max(id2) from t1\n</code></pre>\n\n<p>It will return below result(one row).</p>\n\n<pre><code>max(id1)      max(id2)\n-----------   --------\n&lt;null&gt;        &lt;null&gt;\n</code></pre>\n\n<p>Execute below script,</p>\n\n<pre><code>select max(id1), max(id2) from t1 group by id1,id2\n</code></pre>\n\n<p>It will return below result(no result).</p>\n\n<pre><code>max(id1)      max(id2)\n-----------   --------\n</code></pre>\n\n<p>Is there somebody explain the reason?</p>\n"},{"tags":["javascript","ajax","sqlite","phonegap"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":32,"score":-2,"question_id":13193198,"title":"who has an idea about PhoneGap storage","body":"<p>I am trying to develop an android application, and this script will copy a database table on my phone, but after the execution he displays this error below</p>\n\n<pre><code>//---------------Copier-------------------------    \n\n $.ajax({\n         type: \"POST\",\n         url: \"http://10.0.2.2:1998/bYzance_web_service/get_all_PhrasesTypes.asmx/Get_all_PrasesTypes\",\n         contentType: \"application/json; charset=utf-8\",\n         dataType: \"json\",\n         async : false,\n         success: function (data)\n          {\n             alert(\"success: function (data)\");\n\n             var result = $.parseJSON(data.d); \n\n             alert(result[0].Phrase);\n\n             for (i = 0; i &lt; result.length; i++) \n             {                 \n                 tx.executeSql(\"INSERT INTO PhrasesTypes (idPhrase,idPhraseES,idRubrique,idTypeTravauxAffichage,Phrase,AidePhrase,AvertissementPhrase,OrdrePhrase,QuotationParDefaut,Published)\"\n+  \" VALUES ('\"+result[i].IdPhrase+\"',' \"+result[i].IdPhraseES+\" ',' \"+result[i].IdRubrique+\" ',' \"+result[i].IdTypeTravauxAffichage+\" ','\"+mysql_real_escape_string(result[i].Phrase)+\"',' \"+result[i].AidePhrase+\" ',' \"+result[i].AvertissementPhrase+\" ','\"+result[i].OrdrePhrase+\"','\"+result[i].QuotationParDefaut+\"','\"+result[i].Published+\" ')\");\n       console.log(i);\n    }\n\n         },\n         error: function (e)\n          {\n            alert(\"URL du web service:  \"+serviceURL+\"get_all_PhrasesTypes.asmx/Get_all_PrasesTypes\");\n\n         }\n\n     });//fin Ajax\n</code></pre>\n\n<blockquote>\n  <p>sqlite returned : error code =1, msg near \"accunedifined\" : syntax\n  error</p>\n</blockquote>\n"},{"tags":["sqlite","google-maps","core-data"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13188371,"title":"How to use core data for frequently updated database","body":"<p>i want to create an app with a database of about 500 contacts that will include: names, location, emails, etc.</p>\n\n<p>also when a user launches app, it will grab the users location and show you the contacts that are nearby within a 100 mile radius, kinda like yelp app</p>\n\n<p>the database will get added onto every few weeks, maybe 10 or so contacts.</p>\n\n<p>my question is how to make it so that my app's most recent database updates when the user launches the app.</p>\n\n<p>I've been looking around and searching, but cant find a clear solution, can i use core data or should i go a different route, and if I use core data or don't, how do i go about doing so</p>\n"},{"tags":["javascript","html","database","sqlite"],"answer_count":4,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":85,"score":2,"question_id":13192643,"title":"Is it possible to access an SQLite database from javascript?","body":"<p>I have a set of html files and an SQLite database, which I would like to access from the browser, using the file:// scheme. Is it possible to access the database and create queries (and tables) using javascript?</p>\n"},{"tags":["android","database","sqlite","synchronization"],"answer_count":2,"favorite_count":2,"up_vote_count":4,"down_vote_count":0,"view_count":207,"score":4,"question_id":8935078,"title":"Persisting user data from online services for \"offline viewing\" on Android applications","body":"<p>I have a webserver that hosts data for an application that I'm building on Android tablets.  The data changes fairly frequently, but I realize that tablets and phones aren't always connected to data, necessarily, and it would be good for users to already have access to data that they had viewed before.</p>\n\n<p>I want an application to pull data from the webserver whenever possible, and when it's not possible, to pull from the SQLite server (or whatever the proper method is) on the phone.</p>\n\n<p>Is there an implementation or practice already set in place to do this?  If so, what is the current method for implementing such a feature?  And could this same method be applied to making changes to data and then pushing those changes whenever a data-connection came back?</p>\n"},{"tags":["sqlite","sqlite3"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":11,"score":0,"question_id":13193040,"title":"SQlite putting a unique keyword across two fields, one of which may be null","body":"<p>I've a situation where I want a table containing three fields, an ID, an Building name and a Room name. The ID is just an autoincrement and Building is Not NULL. Room however can be NULL, but I'd like to arrange for the combination of Building and Room to be Unique. Is this possible and how would I set this up?</p>\n\n<p>Thanks,\nJames</p>\n"},{"tags":["iphone","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":48,"score":2,"question_id":13191005,"title":"how to upload Sqlite database file to server from iphone application in ios","body":"<p>In my iphone application i used sqlite3 for creating database. \nNow i want to take backup of a database file on my server. </p>\n\n<p>so how to upload my sqlite db file to server from my application in iphone?</p>\n"},{"tags":["xcode","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":16,"score":-1,"question_id":13189185,"title":"sqlite3_bind_int not working","body":"<p>I am trying to search for a user by their unique user ID, and then return their first and last name from my database. When I go to match the entered ID number with the ones in the database, I get an error dealing with parameters. Any help is appreciated!</p>\n\n<p>Here is the part of my code where I am working in:</p>\n\n<pre><code>int statusOfPrep = sqlite3_prepare_v2(db, \"SELECT UserFirstName, UserLastName FROM User WHERE UserID=?\",-1,&amp;myStatement, NULL);\n\n    sqlite3_bind_int(myStatement, 1, userID);\n\n    //check to see if the prepared statement was created\n    if(statusOfPrep == SQLITE_OK)\n    {\n        cout&lt;&lt;\"Successfully created a prepared statement\"&lt;&lt;endl;\n\n        //get the data from the statement, the second param is the\n        //position of the field in the select part of the query\n        string f((char*)sqlite3_column_text(myStatement, 0));\n        string l((char*)sqlite3_column_text(myStatement, 1));\n\n        //print out the data\n        cout&lt;&lt;f&lt;&lt;\" \"&lt;&lt;l;\n</code></pre>\n\n<p>.........</p>\n"},{"tags":["sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":13,"score":1,"question_id":13186083,"title":"SQLite update fields with replacing words","body":"<p>I'm not good in SQLite, so there came the question: how can I update certain column from fields like <code>/media/Soft/furtherpath</code> to <code>/media/username/Soft/furtherpath</code>? \nThe problem is that after updating to ubuntu 12.10 from 10.10 I can't get my shotwell library work, as newer ubuntu uses <code>/media/username/...</code> for mounting somehow. </p>\n\n<p>Thank you for your answers. </p>\n"},{"tags":["iphone","sql","ios","database","sqlite"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":1,"view_count":41,"score":0,"question_id":13189964,"title":"store and fetch bold/italic font from sqlite database","body":"<p>I  tried by make Excel file &amp; import as a csv file in sqlite. But it shows me in normal font rather than bold or italic font.</p>\n\n<p>In my app, I uses the sqlite database and fetches data from it. I want to display some text in italic font,How can i do that??</p>\n\n<p><strong>Does Sqlite supports Italic?</strong></p>\n"},{"tags":["iphone","objective-c","database","sqlite","mathematica"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":57,"score":2,"question_id":13190064,"title":"How to find power of a number in SQLite","body":"<p>I want to update Interest field in my database SQL query is like as per below </p>\n\n<blockquote>\n  <p>Update Table_Name set Interest  = Principal * Power(( 1 + (rate /\n  100),year)</p>\n</blockquote>\n\n<p>This query is work fine in MYSQL but don't work in SQLite for objetive c </p>\n\n<p>The error says that <strong>No Power funcation found</strong> </p>\n\n<p>Did anyone knows how to resolve this problem as I have do this using query because I need to update more thans 3000 record at time. </p>\n\n<p>Thanks in Advance</p>\n"},{"tags":["java","android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":34,"score":0,"question_id":13190283,"title":"How to update column with array of values in android?","body":"<p>I have some table in sqlite data base with 12 rows 5 column of values like this <a href=\"http://pastie.org/5170518\" rel=\"nofollow\">http://pastie.org/5170518</a> . Now i want to update my table for planvalue,YTDOver,YTDVariation column with array of values. How to write query for this update? Can any body help me? Thanks in advance.</p>\n"},{"tags":["sql","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":24,"score":1,"question_id":13189786,"title":"SQL Get a list of categories but exclude the categories that have no items?","body":"<p>I have a <strong>categories</strong> table and an <strong>items</strong> table. I have about 20 categories. In the items table there are items from 10 of those categories. I want to select all the categories that have items in the items table. I want to exclude all the categories that have no items. </p>\n\n<p>The Items table has a categoryID field that matches the ID field of the category. </p>\n"},{"tags":["android","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":13183364,"title":"Android SQLite database not open exception","body":"<pre><code>11-01 18:20:09.953: E/AndroidRuntime(528): FATAL EXCEPTION: main\n11-01 18:20:09.953: E/AndroidRuntime(528): java.lang.IllegalStateException: database not open\n11-01 18:20:09.953: E/AndroidRuntime(528):  at android.database.sqlite.SQLiteDatabase.insertWithOnConflict(SQLiteDatabase.java:1526)\n11-01 18:20:09.953: E/AndroidRuntime(528):  at phoenix.metro.uis.DBHelper.insertCart(DBHelper.java:149)\n11-01 18:20:09.953: E/AndroidRuntime(528):  at phoenix.metro.uis.SearchActivity$4.onClick(SearchActivity.java:171)\n11-01 18:20:09.953: E/AndroidRuntime(528):  at android.view.View.performClick(View.java:2485)\n11-01 18:20:09.953: E/AndroidRuntime(528):  at android.view.View$PerformClick.run(View.java:9080)\n11-01 18:20:09.953: E/AndroidRuntime(528):  at android.os.Handler.handleCallback(Handler.java:587)\n11-01 18:20:09.953: E/AndroidRuntime(528):  at android.os.Handler.dispatchMessage(Handler.java:92)\n11-01 18:20:09.953: E/AndroidRuntime(528):  at android.os.Looper.loop(Looper.java:123)\n11-01 18:20:09.953: E/AndroidRuntime(528):  at android.app.ActivityThread.main(ActivityThread.java:3683)\n11-01 18:20:09.953: E/AndroidRuntime(528):  at java.lang.reflect.Method.invokeNative(Native Method)\n11-01 18:20:09.953: E/AndroidRuntime(528):  at java.lang.reflect.Method.invoke(Method.java:507)\n11-01 18:20:09.953: E/AndroidRuntime(528):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)\n11-01 18:20:09.953: E/AndroidRuntime(528):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)\n11-01 18:20:09.953: E/AndroidRuntime(528):  at dalvik.system.NativeStart.main(Native Method)\n</code></pre>\n\n<p>The database code as below : </p>\n\n<pre><code>public class DBHelper extends SQLiteOpenHelper{\n\n    //SQLiteOpenHelper : A helper class to manage database creation and version management. \n    private final static String sdb_NAME=\"metro_sdb\";\n    private static int sdbVersion = 2; // version must be &gt;=1\n    //Table name ---------------------------------\n    private final static String TABLE_NAME=\"Item\";\n    private final static String TABLE_NAME_CART=\"Cart\";\n\n\n    //Table columns (cart) ------------------------------\n    private final static String COL_CART_ID=\"id\";\n    private final static String COL_CART_ADDDATE=\"name\";\n    public DBHelper(Context context) {\n        super(context, sdb_NAME, null, sdbVersion); // null is default for cursor factory\n    }\n    @Override\n    public void onCreate(SQLiteDatabase db){\n        //Called when the database is created for the first time.\n\n        String sql2 = \"CREATE TABLE \" + TABLE_NAME_CART +\"(\"+\n                COL_CART_ID +\" TEXT,\"+\n                COL_CART_ADDDATE + \" TEXT NOT NULL);\";\n\n        db.execSQL(sql2);\n    }\n    @Override\n    public void onUpgrade(SQLiteDatabase  db, int oldVersion, int newVersion) {\n        //Called when the database needs to be upgraded.\n        String sql = \"DROP TABLE IF EXISTS \" + TABLE_NAME;\n        String sql2 = \"DROP TABLE IF EXISTS \" + TABLE_NAME_CART;\n         db.execSQL(sql);\n         db.execSQL(sql2);\n        onCreate( db);\n    }\n\n    public boolean insertCart(Cart cart){\n        SQLiteDatabase sdb = getWritableDatabase();\n\n        if(getCartItems(cart.id).size()&gt;0){\n\n            ContentValues values = new ContentValues();\n\n            values.put(COL_ITEM_ID, cart.id);\n            values.put(COL_CART_ADDDATE, cart.addDate);\n            //long re = sdb.insert(TABLE_NAME_CART, null, values);\n\n            long re = sdb.insertWithOnConflict(TABLE_NAME_CART, null, values,SQLiteDatabase.CONFLICT_REPLACE);\n            sdb.close();\n\n            return re &gt; 0;\n        }else{\n            sdb.close();\n            return false;\n        }\n    }\n</code></pre>\n\n<p>The error is inside the database operations in <code>insertCart()</code> function</p>\n"},{"tags":["php","mysql","sqlite"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":158,"score":0,"question_id":9420860,"title":"Individual SQLite Databases per User over MySQL?","body":"<p>Starting a new project here and I'm going to be storing a LOT of user data. I'm trying to make the system scalable from the start so I'm considering the fairly new idea of storing each user's data (essentially lists of files they have stored) in separate SQLite databases stored in a user-specific directory, rather than one huge table in MySQL with user IDs. The file list will store other metadata related to the file so just using the filesystem isn't an option.</p>\n\n<p>My thought there is that when users are logged in and viewing their files it will be faster to just show all data in a single SQLite database rather than have MySQL go over all records in the \"file\" table to pull out one user's file by ID. Each user will easily have 10,000+ entries and there will initially be at least 400 users. So 400 individual SQLite databases with 10,000 rows, or a single MySQL table with 4 million? Keeping in mind that all 400 users will rarely (if ever) be logged in at the same time it seems inefficient to have the database have to deal with data for users that aren't there, even if it is indexed.</p>\n\n<p>The single biggest restriction of SQLite is the locking but luckily in this case there will only ever be a single process writing to the database so that shouldn't be a problem here. The added administration of backing up the individual SQLite databases is trivial since they're all going to be part of the incremental filesystem backup anyway. </p>\n\n<p>Thoughts? Opinions? Am I over thinking this?</p>\n"},{"tags":["android","xml","database","sqlite","url"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":317,"score":1,"question_id":11426294,"title":"How to store data from XML file to SQLite database in android","body":"<p>I am developing an application -- When a user is successfully logged in, an XML file is fetched from a URL and the XML data is displayed in list view. </p>\n\n<p>How do I store that data in SQLite database, such that an offline user can see the data stored in the  database? I also want to create a refresh button, which displays an updated XML file and stores it in SQLite, when it is clicked.</p>\n"},{"tags":["ruby-on-rails","ruby","sqlite","sqlite3"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":381,"score":1,"question_id":5983699,"title":"ActiveRecord, Sqlite3, and BusyException","body":"<p>I have a rails app configured with mixed mysql and sqlite3 db connections, and to associate specific models with sqlite3, i add an \"establish_connection 'sqlite_db_config_name'\" line to each class definition. </p>\n\n<p>When I try to save any sqlite3-connected model object individually, the save is successful, but when I try to save an object that is composed of other objects (via has_many), I get a BusyException. I have a feeling it's because each object has its own connection to the db and the top-level object locks the database then calls the member objects' save methods and they can't acquire the lock. </p>\n\n<p>I'm assuming there's a way to make this work and I'm using establish_connection improperly. </p>\n\n<p>Anyone else encounter this? </p>\n\n<p>database.yml config:</p>\n\n<p>dev:</p>\n\n<pre><code>development:\n  adapter: mysql\n  database: maindb\n  username: root\n  password:\n  host: localhost\n\nsqlite:\n  adapter: sqlite3\n  database: db/db.sqlite3\n  timeout: 15000\n</code></pre>\n\n<p>model definitions:</p>\n\n<pre><code>class Foo &lt; ActiveRecord::Base\n  establish_connection 'sqlite'\n  belongs_to :bar\nend\n\nclass Bar &lt; ActiveRecord::Base\n  establish_connection 'sqlite'\n  has_many :foo  \n  def addFoo(item)\n    self.foos &lt;&lt; item\n  end\nend\n\nclass MysqlModel &lt; ActiveRecord::Base\nend\n</code></pre>\n\n<p>Other:</p>\n\n<p>Ruby 1.8.7<br>\nRails 2.3.4<br>\nUbuntu 10.04</p>\n\n<h2>Update:</h2>\n\n<p>I tried using inheritance to isolate the establish_connection statement in a single class, based on the rails doc's explanation that \"This feature is implemented by keeping a connection pool in ActiveRecord::Base that is a Hash indexed by the class. If a connection is requested, the retrieve_connection method will go up the class-hierarchy until a connection is found in the connection pool.\". But for some reason rails associated the subclasses of the sqlite-connected class with the default mysql connection. So I've given up on attempting a has_many/belongs_to relationship with sqlite, and de-normalized my models.</p>\n"},{"tags":["ruby-on-rails","ruby","database","sqlite"],"answer_count":10,"favorite_count":9,"up_vote_count":18,"down_vote_count":0,"view_count":8695,"score":18,"question_id":78801,"title":"SQLite3::BusyException","body":"<p>Running a rails site right now using SQLite3.</p>\n\n<p>About once every 500 requests or so, I get a</p>\n\n<p>ActiveRecord::StatementInvalid (SQLite3::BusyException: database is locked:...</p>\n\n<p>What's the way to fix this that would be minimally invasive to my code?</p>\n\n<p>I'm using SQLLite at the moment because you can store the DB in source control which makes backing up natural and you can push changes out very quickly. However, it's obviously not really set up for concurrent access. I'll migrate over to MySQL tomorrow morning.</p>\n"},{"tags":["android","sqlite"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":38,"score":1,"question_id":13183234,"title":"getWritableDatabase() throwing null pointer exception","body":"<p>I have a service class having following code - </p>\n\n<pre><code>public class ReminderService extends WakeReminderIntentService{      \n    private static final String TAG =\"ReminderService\";\n    private TasksDBAdapter dbHelper;\n    public ReminderService(){\n        super(\"ReminderService\");\n        dbHelper = new TasksDBAdapter(this);\n        dbHelper.open(); //THIS LINE GIVES ERROR\n    }\n</code></pre>\n\n<p>code for TasksDBAdapter open() method is as -</p>\n\n<pre><code>    public TasksDBAdapter(Context ctx) {                                 \n       this.mCtx = ctx;\n   }\n\n    public TasksDBAdapter open() throws android.database.SQLException {\n           mDbHelper = new DatabaseHelper(mCtx);\n           Log.i(TAG, \"mDbHelper in open method--&gt;\" + mDbHelper);\n           mDb = mDbHelper.getWritableDatabase(); // ACTUAL ERROR LINE\n           return this;\n       }\n</code></pre>\n\n<p>the log value receives address which means mDbHelper gets initialized properly.Log.i gives - </p>\n\n<pre><code>11-01 23:32:32.004: I/TasksDBAdapter(681): mDbHelper in open method--&gt;ray.kaushik.simple.task.manager.TasksDBAdapter$DatabaseHelper@411e7a10\n</code></pre>\n\n<p>but </p>\n\n<pre><code>mDb = mDbHelper.getWritableDatabase();\n</code></pre>\n\n<p>throws the null pointer error.</p>\n\n<p>Logcat gives - </p>\n\n<pre><code>11-01 23:32:32.043: E/AndroidRuntime(681): FATAL EXCEPTION: main\n11-01 23:32:32.043: E/AndroidRuntime(681): java.lang.RuntimeException: Unable to instantiate service ray.kaushik.simple.task.manager.ReminderService: java.lang.NullPointerException\n11-01 23:32:32.043: E/AndroidRuntime(681):  at android.app.ActivityThread.handleCreateService(ActivityThread.java:2347)\n11-01 23:32:32.043: E/AndroidRuntime(681):  at android.app.ActivityThread.access$1600(ActivityThread.java:130)\n11-01 23:32:32.043: E/AndroidRuntime(681):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1277)\n11-01 23:32:32.043: E/AndroidRuntime(681):  at android.os.Handler.dispatchMessage(Handler.java:99)\n11-01 23:32:32.043: E/AndroidRuntime(681):  at android.os.Looper.loop(Looper.java:137)\n11-01 23:32:32.043: E/AndroidRuntime(681):  at android.app.ActivityThread.main(ActivityThread.java:4745)\n11-01 23:32:32.043: E/AndroidRuntime(681):  at java.lang.reflect.Method.invokeNative(Native Method)\n11-01 23:32:32.043: E/AndroidRuntime(681):  at java.lang.reflect.Method.invoke(Method.java:511)\n11-01 23:32:32.043: E/AndroidRuntime(681):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:786)\n11-01 23:32:32.043: E/AndroidRuntime(681):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:553)\n11-01 23:32:32.043: E/AndroidRuntime(681):  at dalvik.system.NativeStart.main(Native Method)\n11-01 23:32:32.043: E/AndroidRuntime(681): Caused by: java.lang.NullPointerException\n11-01 23:32:32.043: E/AndroidRuntime(681):  at android.content.ContextWrapper.openOrCreateDatabase(ContextWrapper.java:221)\n11-01 23:32:32.043: E/AndroidRuntime(681):  at android.database.sqlite.SQLiteOpenHelper.getDatabaseLocked(SQLiteOpenHelper.java:224)\n11-01 23:32:32.043: E/AndroidRuntime(681):  at android.database.sqlite.SQLiteOpenHelper.getWritableDatabase(SQLiteOpenHelper.java:164)\n11-01 23:32:32.043: E/AndroidRuntime(681):  at ray.kaushik.simple.task.manager.TasksDBAdapter.open(TasksDBAdapter.java:38)\n11-01 23:32:32.043: E/AndroidRuntime(681):  at ray.kaushik.simple.task.manager.ReminderService.&lt;init&gt;(ReminderService.java:16)\n11-01 23:32:32.043: E/AndroidRuntime(681):  at java.lang.Class.newInstanceImpl(Native Method)\n11-01 23:32:32.043: E/AndroidRuntime(681):  at java.lang.Class.newInstance(Class.java:1319)\n11-01 23:32:32.043: E/AndroidRuntime(681):  at android.app.ActivityThread.handleCreateService(ActivityThread.java:2344)\n11-01 23:32:32.043: E/AndroidRuntime(681):  ... 10 more\n</code></pre>\n\n<p>My databaseHelper class code  - </p>\n\n<pre><code>    private static class DatabaseHelper extends SQLiteOpenHelper {          \n        DatabaseHelper(Context context) {\n            super(context, DATABASE_NAME, null, DATABASE_VERSION);      \n        }\n        @Override\n        public void onCreate(SQLiteDatabase db) {                       \n            db.execSQL(DATABASE_CREATE);                                \n        }\n\n        @Override\n        public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {                                   \n\n        }\n    }\n</code></pre>\n\n<p>where DATABASE_NAME and all others have been defined globally - </p>\n\n<pre><code>private static final String DATABASE_NAME = \"data\";              \n    private static final String DATABASE_TABLE = \"reminders\";        \n    private static final int DATABASE_VERSION = 1;                   \n\n    public static final String KEY_TITLE = \"title\";                  \n    public static final String KEY_BODY = \"body\";\n    public static final String KEY_DATE_TIME = \"reminder_date_time\"; \n    public static final String KEY_ROWID = \"_id\";                    \n    private static final String TAG = \"TasksDBAdapter\";\n</code></pre>\n\n<p>can anyone please provide some pointers.. thanks in advance..!!!</p>\n"},{"tags":["xcode","sqlite","data"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":3426,"score":1,"question_id":1027157,"title":"iPhone - SQLite Database Read problem","body":"<p>i trying to do basic application.<br />\nmy files list;</p>\n\n<p>DatabaseClass.h and .m,\nIDRGameAppDelegate.h and .m,\nscoredb.sqlite,\nScoreViewController.h and .m, \nMainWindow.xib // Main Window\nScoreWindow.xib //Show Score Window</p>\n\n<p>1.) my database is ;</p>\n\n<pre><code>CREATE TABLE \"game\" (\"id\" INTEGER PRIMARY KEY ,\"name\" VARCHAR(32),\"score\" VARCHAR(20));\nINSERT INTO \"game\" VALUES(1,'interclock','1.234');\nINSERT INTO \"game\" VALUES(2,'dui','345');\nINSERT INTO \"game\" VALUES(3,'reflex','987');\n</code></pre>\n\n<p>2-) i created DatabaseClass.h and DatabaseClass.m</p>\n\n<p>DatabaseClass.h is:</p>\n\n<pre><code>#import &lt;Foundation/Foundation.h&gt;\n@interface DatabaseClass : NSObject {\n\n    NSString *name;\n    NSString *score;\n}\n@property (nonatomic, retain) NSString *name;\n@property (nonatomic, retain) NSString *score;\n-(id)initWithName:(NSString *)n score:(NSString *)s;\n@end\n</code></pre>\n\n<p>DatabaseClass.m is;</p>\n\n<pre><code>#import \"DatabaseClass.h\"\n@implementation DatabaseClass\n@synthesize name, score;\n-(id)initWithName:(NSString *)n score:(NSString *)s{\n    self.name = n;\n    self.score = s;\n    return self;\n}\n@end\n</code></pre>\n\n<p>my IDRGameAppDelegate.h is;</p>\n\n<pre><code>#import &lt;UIKit/UIKit.h&gt; \n#import &lt;sqlite3.h&gt; // Import the SQLite database framework\n\n@class IDRGameViewController , ScoreViewController  ;\n\n\n@interface IDRGameAppDelegate : NSObject &lt;UIApplicationDelegate&gt; {\n\n    IBOutlet UIWindow *window;\n    IBOutlet IDRGameViewController *viewController;\n    IBOutlet ScoreViewController *scoreViewController;\n\n\n    // Database variables\n    NSString *databaseName;\n    NSString *databasePath;\n\n    // Array to store the animal objects\n    NSMutableArray *scores;\t\n}\n\n- (void)flipToScore;\n- (void)scoreToMainBack;\n\n-(void) checkAndCreateDatabase;\n-(void) readScoreFromDatabase;\n\n@property (nonatomic, retain)  UIWindow *window;\n@property (nonatomic, retain)  IDRGameViewController *viewController;\n@property (nonatomic, retain)  ScoreViewController *scoreViewController;\n@property (nonatomic, retain) NSMutableArray *scores;\n\n@end\n</code></pre>\n\n<p>IDRGameAppDelegate.m is;</p>\n\n<pre><code>#import \"IDRGameAppDelegate.h\"\n#import \"IDRGameViewController.h\"\n#import \"ScoreViewController.h\"\n#import \"DatabaseClass.h\"\n\n\n@implementation IDRGameAppDelegate\n\n@synthesize window;\n@synthesize viewController;\n@synthesize scoreViewController;\n\n@synthesize scores;\n\n\n\n- (void)applicationDidFinishLaunching:(UIApplication *)application {\n\n    // Setup some globals\n    databaseName = @\"scoredb.sqlite\";\n\n    // Get the path to the documents directory and append the databaseName\n    NSArray *documentPaths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);\n    NSString *documentsDir = [documentPaths objectAtIndex:0];\n    databasePath = [documentsDir stringByAppendingPathComponent:databaseName];\n\n    // Execute the \"checkAndCreateDatabase\" function\n    [self checkAndCreateDatabase];\n\n    // Query the database for all animal records and construct the \"animals\" array\n    [self readScoreFromDatabase];\n\n    // Override point for customization after app launch    \n    [window addSubview:viewController.view];\n    [window makeKeyAndVisible];\n}\n\n- (void)dealloc {\n    [scores release];\n    [viewController release];\n    [window release];\n    [super dealloc];\n}\n\n\n-(void) checkAndCreateDatabase{\n    // Check if the SQL database has already been saved to the users phone, if not then copy it over\n    BOOL success;\n\n    // Create a FileManager object, we will use this to check the status\n    // of the database and to copy it over if required\n    NSFileManager *fileManager = [NSFileManager defaultManager];\n\n    // Check if the database has already been created in the users filesystem\n    success = [fileManager fileExistsAtPath:databasePath];\n\n    // If the database already exists then return without doing anything\n    if(success) return;\n\n    // If not then proceed to copy the database from the application to the users filesystem\n\n    // Get the path to the database in the application package\n    NSString *databasePathFromApp = [[[NSBundle mainBundle] resourcePath] stringByAppendingPathComponent:databaseName];\n\n    // Copy the database from the package to the users filesystem\n    [fileManager copyItemAtPath:databasePathFromApp toPath:databasePath error:nil];\n\n    [fileManager release];\n}\n\n\n-(void) readScoreFromDatabase {\n    // Setup the database object\n    sqlite3 *database;\n\n    // Init the animals Array\n    scores = [[NSMutableArray alloc] init];\n\n    // Open the database from the users filessytem\n    if(sqlite3_open([databasePath UTF8String], &amp;database) == SQLITE_OK) {\n    \t// Setup the SQL Statement and compile it for faster access\n    \tconst char *sqlStatement = \"select * from game\";\n    \tsqlite3_stmt *compiledStatement;\n    \tif(sqlite3_prepare_v2(database, sqlStatement, -1, &amp;compiledStatement, NULL) == SQLITE_OK) {\n\n\n\n    \t\t// Loop through the results and add them to the feeds array\n    \t\twhile(sqlite3_step(compiledStatement) == SQLITE_ROW) {\n    \t\t\t// Read the data from the result row\n\n    \t\t\tNSString *aName =[NSString stringWithCString:(char *)sqlite3_column_text(compiledStatement, 2)];\n    \t\t\tNSString *aScore =[NSString stringWithCString:(char *)sqlite3_column_text(compiledStatement, 3)];\n\n    \t\t\t//NSString *aName = [NSString stringWithString:(NSString *)sqlite3_column_text(compiledStatement, 2)];\n    \t\t\t//NSString *aScore = [NSString stringWithString:(NSString *)sqlite3_column_text(compiledStatement, 3)];\n\n\n\n    \t\t\t// Create a new animal object with the data from the database\n    \t\t\tDatabaseClass *dbOBJ = [[DatabaseClass alloc] initWithName:aName score:aScore];\n\n    \t\t\t// Add the animal object to the animals Array\n    \t\t\t[scores addObject:dbOBJ];\n\n    \t\t\t[dbOBJ release];\n    \t\t}\n    \t}\n    \t// Release the compiled statement from memory\n    \tsqlite3_finalize(compiledStatement);\n\n    }\n    sqlite3_close(database);\n\n}\n\n\n- (void)flipToScore {\n\n\n    ScoreViewController *aSecondView = [[ScoreViewController alloc] initWithNibName:@\"ScoreWindow\" bundle:nil];\n    [self setScoreViewController:aSecondView];\n    [aSecondView release];\n\n    [UIView beginAnimations:nil context:NULL];\n    [UIView setAnimationDuration:2.0];\n    [UIView setAnimationTransition:UIViewAnimationTransitionFlipFromRight forView:window cache:YES];\n    [viewController.view removeFromSuperview];\n    [self.window addSubview:[scoreViewController view]];\n    [UIView commitAnimations];\n\n}\n\n- (void)scoreToMainBack {\n\n\n\n    [UIView beginAnimations:nil context:NULL];\n    [UIView setAnimationDuration:2.0];\n    [UIView setAnimationTransition:UIViewAnimationTransitionFlipFromRight forView:window cache:NO];\n\n\n    [scoreViewController.view removeFromSuperview];\n    [self.window addSubview:[viewController view]];\n\n    [UIView commitAnimations];\n\n\n    [scoreViewController release];\n    scoreViewController = nil;\n\n}\n@end\n</code></pre>\n\n<p>ScoreViewController.h is;</p>\n\n<pre><code>#import &lt;UIKit/UIKit.h&gt;\n\n@interface ScoreViewController : UIViewController {\n\n    IBOutlet UILabel *gameNameLabel;\n    IBOutlet UILabel *gameScoreLabel;\n\n\n}\n@property (nonatomic, retain) IBOutlet UILabel *gameNameLabel;\n@property (nonatomic, retain) IBOutlet UILabel *gameScoreLabel;\n\n-(IBAction)refreshClick:(id)sender;\n\n@end\n</code></pre>\n\n<p>and finally ScoreViewController.m is ;</p>\n\n<pre><code>#import \"ScoreViewController.h\"\n#import \"DatabaseClass.h\"\n#import \"IDRGameAppDelegate.h\"\n\n@implementation ScoreViewController\n\n@synthesize gameNameLabel,gameScoreLabel;\n\n\n/*\n// The designated initializer. Override to perform setup that is required before the view is loaded.\n- (id)initWithNibName:(NSString *)nibNameOrNil bundle:(NSBundle *)nibBundleOrNil {\n    if (self = [super initWithNibName:nibNameOrNil bundle:nibBundleOrNil]) {\n        // Custom initialization\n    }\n    return self;\n}\n*/\n\n/*\n// Implement loadView to create a view hierarchy programmatically, without using a nib.\n- (void)loadView {\n}\n*/\n\n/*\n// Implement viewDidLoad to do additional setup after loading the view, typically from a nib.\n- (void)viewDidLoad {\n    [super viewDidLoad];\n}\n*/\n\n/*\n// Override to allow orientations other than the default portrait orientation.\n- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation {\n    // Return YES for supported orientations\n    return (interfaceOrientation == UIInterfaceOrientationPortrait);\n}\n*/\n\n-(IBAction)refreshClick:(id)sender {\n\n    // Navigation logic -- create and push a new view controller\n    IDRGameAppDelegate *appDelegate = (IDRGameAppDelegate *)[[UIApplication sharedApplication] delegate];\n    DatabaseClass *dbOBJ = (DatabaseClass *)[appDelegate.scores objectAtIndex:0];\n\n\n\n    gameNameLabel.text = [dbOBJ name];\n    gameScoreLabel.text = [dbOBJ score];\n\n\n}\n\n\n\n\n- (void)didReceiveMemoryWarning {\n    [super didReceiveMemoryWarning]; // Releases the view if it doesn't have a superview\n    // Release anything that's not essential, such as cached data\n}\n\n\n- (void)dealloc {\n    [super dealloc];\n}\n\n\n@end\n</code></pre>\n\n<p>Problem is ; when i click to refreshButton program is locking and breaking, i cant see an error.</p>\n\n<p>program is not working i didnt read and show database records. \nwhat is the problem ;</p>\n\n<p>I've been trying to fix this problem for one week, but without any luck :(</p>\n"},{"tags":["android","database","sqlite","application","upgrade"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":36,"score":1,"question_id":13188161,"title":"Upgrading the SQLite Database of a Production Android App, is this Correct?","body":"<p>As the title says, I have a production Android app with about 1000 installs. I had to make a DB change in SQLite, up to this point the version of the SQLite DB has been set to version \"1\". </p>\n\n<p>Hopefully I explain the code below sufficiently in the comments, this code resides in my SQLiteOpenHelper Class so the onUpgrade method is part of the Class:</p>\n\n<pre><code>// Provides an upgrade path for the DB when the apps version is updated.\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n\n        // First version of the DB was 1. Logic: each if statement will\n        // alter the DB cumulatively based on the version code. So, if the\n        // newVersion was version 3, there would be two if statements, one\n        // for oldVersion 1 and one for oldVersion 2. oldVersion 2 will\n        // contain the logic for upgrading from version 2 to 3, while\n        // oldVersion 1 will contain a combination of alter statements\n        // allowing the database to upgrade from version 1 directly to\n        // version 3.\n        if (oldVersion == 1) {\n            db.execSQL(\"ALTER TABLE plans ADD COLUMN \" + App.CURRENCYCODE\n                    + \" TEXT\");\n            Locale locale = Locale.getDefault();\n            ContentValues content_values = new ContentValues();\n            content_values.put(App.CURRENCYCODE, locale.toString());\n\n            db.update(App.DBPLANS, content_values, App.ID + \" &gt; ?\", new String[] {\n                    \"0\"\n            });\n        }\n\n        if (oldVersion == 2) {\n            // Placeholder for next database upgrade instructions.\n        }\n    }\n</code></pre>\n\n<p>Please let me know if there are any pitfalls here. So far, it's tested fine, though I'm very concerned about messing up my first DB upgrade. I have a 1,000 users or so, I'd hate to lose them all.</p>\n\n<p>Thanks again!</p>\n"},{"tags":["c","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":44,"score":3,"question_id":13187424,"title":"Is there a way to check if a file is an SQLite3 DB?","body":"<p>I am writing a simple C program to check if a File F is a usable SQLite3 database.</p>\n\n<p>I tried writing gibberish into a file <code>test.db</code>, but <code>sqlite3_open(\"test.db\", &amp;db)</code> returned 0.</p>\n\n<p>I suppose either <code>sqlite3_status()</code> or <code>sqlite3_db_status()</code> do what I want, but the documentation states something different.</p>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":85,"score":1,"question_id":13179899,"title":"Android: How to read data into a main activity","body":"<p>I'm trying to develop an app which in the main activity displays a list of users courses. This data is stored in SQLite. If the user wishes to add more courses they can do so through a button press to take them to a new activity. I have a database created however I am struggling where it comes to reading in the data. I've looked at much documentation but there seems to be various methods without any consistent implmentation. Does anyone have any suggestions?</p>\n\n<p>Im trying to use a SimpleCursorAdapter to get get the data, put it into an int array and \ndisplay the information in  listview.</p>\n\n<p>Logcat</p>\n\n<pre><code>10-21 02:08:20.042: E/AndroidRuntime(7044): Uncaught handler: thread main exiting due to uncaught exception\n10-21 02:08:20.062: E/AndroidRuntime(7044): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.mycoursetimetable/com.example.mycoursetimetable.MyCourses}: java.lang.ClassCastException: android.widget.LinearLayout\n10-21 02:08:20.062: E/AndroidRuntime(7044):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2496)\n10-21 02:08:20.062: E/AndroidRuntime(7044):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2512)\n10-21 02:08:20.062: E/AndroidRuntime(7044):     at android.app.ActivityThread.access$2200(ActivityThread.java:119)\n10-21 02:08:20.062: E/AndroidRuntime(7044):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1863)\n10-21 02:08:20.062: E/AndroidRuntime(7044):     at android.os.Handler.dispatchMessage(Handler.java:99)\n10-21 02:08:20.062: E/AndroidRuntime(7044):     at android.os.Looper.loop(Looper.java:123)\n10-21 02:08:20.062: E/AndroidRuntime(7044):     at android.app.ActivityThread.main(ActivityThread.java:4363)\n10-21 02:08:20.062: E/AndroidRuntime(7044):     at java.lang.reflect.Method.invokeNative(Native Method)\n10-21 02:08:20.062: E/AndroidRuntime(7044):     at java.lang.reflect.Method.invoke(Method.java:521)\n10-21 02:08:20.062: E/AndroidRuntime(7044):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:860)\n10-21 02:08:20.062: E/AndroidRuntime(7044):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:618)\n10-21 02:08:20.062: E/AndroidRuntime(7044):     at dalvik.system.NativeStart.main(Native Method)\n10-21 02:08:20.062: E/AndroidRuntime(7044): Caused by: java.lang.ClassCastException: android.widget.LinearLayout\n10-21 02:08:20.062: E/AndroidRuntime(7044):     at android.app.ListActivity.onContentChanged(ListActivity.java:234)\n10-21 02:08:20.062: E/AndroidRuntime(7044):     at com.android.internal.policy.impl.PhoneWindow.setContentView(PhoneWindow.java:201)\n10-21 02:08:20.062: E/AndroidRuntime(7044):     at android.app.Activity.setContentView(Activity.java:1622)\n10-21 02:08:20.062: E/AndroidRuntime(7044):     at com.example.mycoursetimetable.MyCourses.onCreate(MyCourses.java:39)\n10-21 02:08:20.062: E/AndroidRuntime(7044):     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)\n10-21 02:08:20.062: E/AndroidRuntime(7044):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2459)\n10-21 02:08:20.062: E/AndroidRuntime(7044):     ... 11 more\n10-21 02:08:20.082: I/dalvikvm(7044): threadid=7: reacting to signal 3\n10-21 02:08:20.082: E/dalvikvm(7044): Unable to open stack trace file '/data/anr/traces.txt': Permission denied\n10-21 02:08:22.082: I/Process(7044): Sending signal. PID: 7044 SIG: 9\n</code></pre>\n\n<p>activity_my_courses Layout</p>\n\n<pre><code>  &lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"fill_parent\"\n    android:layout_height=\"fill_parent\"\n    android:orientation=\"vertical\"\n    &gt;\n\n    &lt;Button\n        android:id=\"@+id/labelAddCourseButton\"\n        android:layout_width=\"fill_parent\"\n        android:layout_height=\"wrap_content\"\n        android:onClick=\"addCourseButton\"\n        android:padding=\"10dp\"\n        android:text=\"@string/CourseName\" /&gt;\n\n    &lt;ListView \n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        android:id=\"@android:id/list\"\n         android:layout_width=\"fill_parent\"\n        android:layout_height=\"fill_parent\"/&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>Main Activity</p>\n\n<pre><code>public class MyCourses extends ListActivity {\n\n    static final String TEST = \"com.example.mycoursetimetable.TEST\";\n    String [] MODULE;\n    private database MODULEDATABASE;  \n    ListView listContent;\n\n    Cursor cursor;\n\n        @Override\n        public void onCreate(Bundle savedInstanceState) \n        {\n        super.onCreate(savedInstanceState);\n\n        setContentView(R.layout.activity_my_courses);\n\n       listContent =(ListView)findViewById(R.id.contentlist);\n       MODULEDATABASE = new database(this);\n\n       cursor = MODULEDATABASE.getData();\n       String [] from = new String[]{database.KEY_MODULECODE,database.KEY_MODULENAME};\n</code></pre>\n\n<p>int[] to = new int[] {R.id.labelModuleCode,  R.id.labelEditModuleFull};\n           cursorAdapter CA = new  cursorAdapter(this,R.layout.listcourses, cursor, from, to, 0);</p>\n\n<pre><code>       listContent.setAdapter(CA);\n\n        }\n\n        class cursorAdapter extends SimpleCursorAdapter {\n\n        private Context context;\n        private int layout;\n\n        public cursorAdapter(Context context,int layout, Cursor cursor,String [] from, int[] to, int flag)\n        {\n            super(context,layout, cursor, from, to, flag);\n            this.context = context;\n            this.layout = layout;\n        }\n</code></pre>\n\n<p>}</p>\n\n<p>Database Class</p>\n\n<p>public class database {</p>\n\n<pre><code>public static final String KEY_ROWID = \"_id\";\npublic static final String KEY_MODULECODE = \"module_code\";\npublic static final String KEY_MODULENAME = \"module_name\";\npublic static final String KEY_MODULETYPE = \"module_type\";\npublic static final String KEY_MODULEDAY = \"module_day\";\npublic static final String KEY_MODULESTART = \"module_start\";\npublic static final String KEY_MODULEEND = \"module_end\";\npublic static final String KEY_MODULELOCATION = \"module_location\";\npublic static final String KEY_MODULECOMMENTS = \"module_comments\";\n\nprivate static final String DATABASE_NAME = \"module_database\";\nprivate static final String DATABASE_TABLE = \"my_modules\";\nprivate static final int DATABASE_VERSION = 1;\n\nprivate DbHelper myHelper;\nprivate final Context myContext;\nprivate SQLiteDatabase moduleDatabase;\n\nprivate static class DbHelper extends SQLiteOpenHelper {\n\n    public DbHelper(Context context){\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\n\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        db.execSQL(\"CREATE TABLE \" + DATABASE_TABLE +  \" (\" +\n                    KEY_ROWID + \" INTEGER PRIMARY KEY AUTOINCREMENT, \" +\n                    KEY_MODULECODE + \" TEXT NOT NULL, \" +\n                    KEY_MODULENAME + \" TEXT NOT NULL, \" +\n                    KEY_MODULELOCATION + \" TEXT NOT NULL, \" +\n                    KEY_MODULECOMMENTS + \" TEXT NOT NULL); \"\n                );\n\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n        // TODO Auto-generated method stub\n        db.execSQL(\"DROP TABEL IF EXISTS \" + DATABASE_TABLE);\n        onCreate(db);\n\n    }\n\n\n}\n\npublic database(Context c){\n    myContext = c;\n}\n\npublic  database openToWrite()throws SQLException{\n    myHelper = new DbHelper(myContext);\n    moduleDatabase = myHelper.getWritableDatabase();\n    return this;\n}\n\npublic  database openToRead()throws SQLException{\n    myHelper = new DbHelper(myContext);\n    moduleDatabase = myHelper.getReadableDatabase();\n    return this;\n}\npublic void close(){\nmyHelper.close();\n}\n\npublic long createEntry(String moduleCode, String moduleName,  String moduleLocation, String moduleComments) {\n    ContentValues cv = new ContentValues();\n    cv.put(KEY_MODULECODE,moduleCode);\n    cv.put(KEY_MODULENAME,moduleName);\n    cv.put(KEY_MODULELOCATION,moduleLocation);\n    cv.put(KEY_MODULECOMMENTS,moduleComments);\n    return moduleDatabase.insert(DATABASE_TABLE,null,cv);\n    // TODO Auto-generated method stub\n\n}\n\npublic Cursor getData() {\n\n    String[] columns = new String [] {KEY_ROWID,KEY_MODULECODE, KEY_MODULENAME};\n    Cursor c = moduleDatabase.query(DATABASE_TABLE, columns, null, null, null, null, null);\n\n    return c;\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["sqlite","android-sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":20,"score":1,"question_id":13187106,"title":"SQL return result if where clause doesn't match anything","body":"<p>I have a database with two tables: <code>trips</code> and <code>days</code>.  Each entry in <code>days</code> has an id that corresponds to an entry in <code>trips</code>.</p>\n\n<p>I want to run a query that will return the trip that occurs on a provided date, and if there isn't one that occurs on that date then return the next trip after that date.  Here's my current query (<code>daystring</code> is generated in code, assume it's a valid SQL date string):</p>\n\n<pre><code>SELECT _id, number, date \nFROM trips \nINNER JOIN days ON trips._id = days.trips_id \nWHERE days.date &gt; DATE( daystring, \"start of day\", \"-1 day\" ) \n  AND days.date &lt; DATE( daystring, \"start of day\", \"+1 day\" );\n</code></pre>\n\n<p>That query only returns a result if a trip exists on the provided date though.  How can I modify it to return the next trip after that date only if there isn't one on that date?</p>\n"},{"tags":["android","sqlite","table"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":6559,"score":1,"question_id":5230321,"title":"Creating Multiple tables in SQLite on Android","body":"<p>Hi there i want to create two distinct tables in a database. These tables are \n<strong>User_details</strong> and <strong>Creditcard_details</strong>\nI have created the following DBAdapter class to implement the database operations, however when i call the <strong><em>insertCreditcard() method</em></strong> the values are not inserted. I wonder if the second table is even being created. Im going wrong somewhere, but cant figure out where and what should i do in order to rectify the issue.</p>\n\n<p>What i was precisely trying to do was, check the <strong>id field</strong>  from the <strong>User_details</strong> table against the username and password supplied at the login activity and then assign the value of this <strong>id variable</strong> to another variable called <strong>ccid</strong> which is used to search rows in the <strong>Creditcard_details</strong> table or insert values into it.</p>\n\n<p>Can someone please guide me.</p>\n\n<pre><code>    package com.androidbook.LoginForm;\n\n    import android.content.ContentValues;\n    import android.content.Context;\n    import android.database.Cursor;\n    import android.database.SQLException;\n    import android.database.sqlite.SQLiteDatabase;\n    import android.database.sqlite.SQLiteOpenHelper;\n        import android.util.Log;\n        import android.widget.Toast;\n\n\npublic class DBAdapter {\n        /*------------------------User Details ---------------------------------*/\n        public static Cursor d;\n        public static final String KEY_ROWID = \"_id\";\n        public static final String KEY_Name = \"name\";\n        public static final String KEY_Username = \"username\";\n        public static final String KEY_Password = \"password\";\n\n        private static final String TAG = \"DBAdapter\";\n\n        private static final String DATABASE_NAME = \"Wallet\";\n        private static final String DATABASE_TABLE = \"User_Details\";\n\n        /*------------------------Credit Cards Table----------------------*/\n\n        private static final String KEY_CCID = \"_ccid\";\n        private static final String KEY_CCUNAME= \"cuname\";\n        private static final String KEY_CCNO = \"ccno\";\n        private static final String KEY_CVV  = \"cvvno\";\n        private static final String EXP_DATE = \"expdate\";\n        private static final String CREDITCARDS_TABLE = \"Creditcard_Details\";\n\n        private static final int DATABASE_VERSION = 1;\n\n        private static final String DATABASE_CREATE =\n            \"create table User_Details (_id integer primary key autoincrement, \"\n            + \"name text not null, username text not null, \" \n            + \"password text not null);\";\n\n        /*---------------------Create Credit Card Table -------------------------------*/\n        private static final String CCTABLE_CREATE =\n            \"create table Creditcard_Details ( _ccid integer primary key , \"\n            + \"cuname text not null, ccno text not null, \" \n            + \"cvvno text not null\" + \"expdate text not null )\";//+ \"FOREIGN KEY(_ccid) REFERENCES User_Details(_id))\";\n\n        private final Context context;  \n        public DatabaseHelper DBHelper;\n        private SQLiteDatabase db;\n\n        public DBAdapter(Context ctx) \n        {\n            this.context = ctx;\n            DBHelper = new DatabaseHelper(context);\n        }\n\n        private static class DatabaseHelper extends SQLiteOpenHelper \n        {\n            DatabaseHelper(Context context) \n            {\n                super(context, DATABASE_NAME, null, DATABASE_VERSION);\n            }\n\n            @Override\n            public void onCreate(SQLiteDatabase db) \n            {\n                db.execSQL(DATABASE_CREATE);\n                db.execSQL(CCTABLE_CREATE);\n\n            }\n\n            @Override\n            public void onUpgrade(SQLiteDatabase db, int oldVersion, \n                                  int newVersion) \n            {\n                Log.w(TAG, \"Upgrading database from version \" + oldVersion \n                      + \" to \"\n                      + newVersion + \", which will destroy all old data\");\n                db.execSQL(\"DROP TABLE IF EXISTS titles\");\n                onCreate(db);\n            }\n        }\n        public int Login(String username,String password)\n        {\n        try\n        {\n            Cursor c = null;\n            c = db.rawQuery(\"select * from User_Details where username =\" + \"\\\"\"+ username + \"\\\"\"+\" and password=\"+ \"\\\"\"+ password + \"\\\"\", null);\n            c.moveToFirst(); \n            String tempid = c.getString(0);\n            //Toast.makeText(DBAdapter.this, \"correct\"+\" \"+c,Toast.LENGTH_LONG).show();\n            d= c;//CCview(tempid);\n            return c.getCount(); \n        } \n        catch(Exception e) \n        { \n            e.printStackTrace();\n            }\n\n        return 0; \n        }\n\n\n        //-----------------------Display Credit Card -----------------------------\n\n       /* public int Getid(String tempid)\n        {   Cursor c;\n            c = db.rawQuery(\"select id from User_Details where username =\"\n                    + \"\\\"\"+ username + \"\\\"\", null);\n\n            return Integer.parseInt(c.getString(0));\n\n        }*/\n        public Cursor cursordisplay()\n        { return d;\n\n        } \n\n\n        public Cursor CCview(long menuid)throws SQLException \n\n        {\n\n            Cursor mCursor =\n                    db.query(true, CREDITCARDS_TABLE, new String[] {\n                            KEY_CCID,\n                            KEY_CCUNAME, \n                            KEY_CCNO,\n                            KEY_CVV,\n                            EXP_DATE,\n                            }, \n                            KEY_CCID + \"=\" + menuid, \n                            null,\n                            null, \n                            null, \n                            null, \n                            null);\n            if (mCursor != null) {\n                mCursor.moveToFirst();\n            }\n            return mCursor;\n        }\n\n\n\n        //--------------------Entries into Credit Card Table------------------------------------\n        //---insert a title into the database---\n\n        public long insertCreditcard(int i, String j, String k, String l, String date) \n        {\n            ContentValues creditValues = new ContentValues();\n            creditValues.put(KEY_CCID, i);\n            creditValues.put(KEY_CCUNAME, j);\n            creditValues.put(KEY_CCNO, k);\n            creditValues.put(KEY_CVV, l);\n            creditValues.put(EXP_DATE, date);\n            return db.insert(CREDITCARDS_TABLE, null, creditValues);\n        }\n\n\n      //---opens the database---\n        public DBAdapter open() throws SQLException \n        {\n            db = DBHelper.getWritableDatabase();\n            return this;\n        }\n\n        //---closes the database---    \n        public void close() \n        {\n            DBHelper.close();\n        }\n\n        //---insert a title into the database---\n        public long insertTitle(String name, String username, String password) \n        {\n            ContentValues initialValues = new ContentValues();\n            initialValues.put(KEY_Name, name);\n            initialValues.put(KEY_Username, username);\n            initialValues.put(KEY_Password, password);\n            return db.insert(DATABASE_TABLE, null, initialValues);\n        }\n\n        //---deletes a particular title---\n        public boolean deleteTitle(long rowId) \n        {\n            return db.delete(DATABASE_TABLE, KEY_ROWID + \"=\" + rowId, null) &gt; 0;\n        }\n\n        //---retrieves all the titles---\n        public Cursor getAllTitles() \n        {\n            return db.query(DATABASE_TABLE, new String[] {\n                    KEY_ROWID, \n                    KEY_Name,\n                    KEY_Username,\n                    KEY_Password}, \n                    null, \n                    null, \n                    null, \n                    null, \n                    null);\n        }\n\n        //---retrieves a particular title---\n        public Cursor getTitle(long rowId) throws SQLException \n        {\n            Cursor mCursor =\n                    db.query(true, DATABASE_TABLE, new String[] {\n                            KEY_ROWID,\n                            KEY_Name, \n                            KEY_Username,\n                            KEY_Password\n                            }, \n                            KEY_ROWID + \"=\" + rowId, \n                            null,\n                            null, \n                            null, \n                            null, \n                            null);\n            if (mCursor != null) {\n                mCursor.moveToFirst();\n            }\n            return mCursor;\n        }\n\n        //---updates a title---\n        public boolean updateTitle(long rowId, String name, \n        String username, String password) \n        {\n            ContentValues args = new ContentValues();\n            args.put(KEY_Name, name);\n            args.put(KEY_Username, username);\n            args.put(KEY_Password, password);\n            return db.update(DATABASE_TABLE, args, \n                             KEY_ROWID + \"=\" + rowId, null) &gt; 0;\n        }\n    }\n</code></pre>\n"},{"tags":["iphone","sql","ios","ipad","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":55,"score":2,"question_id":12214966,"title":"Swap the order of items in a SQLite database","body":"<p>I retrieve an ordered list of items from a table of items in a Sqlite Database. How can I swap the id so the order of two items in the Sqlite database table?. </p>\n"},{"tags":["sql","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":38,"score":-2,"question_id":13169887,"title":"How to write SQL for inner join of three tables selection","body":"<p>I have three tables:</p>\n\n<p><strong>Item<br>\nItemCategories<br>\nCategories</strong></p>\n\n<p>If ItemCategories contain:<br>\n<strong>id<br>\nitemID<br>\ncategoryID</strong>   </p>\n\n<p>How would I write the SQL to get the category name of the item? </p>\n\n<p>So far I have:</p>\n\n<pre><code>Select * \nfrom\n   items, \n   itemCategories, \n   categories\nwhere \n  item.id = itemCategories.itemID\n  and categories.id = itemCategories.categoryID\n</code></pre>\n"},{"tags":["java","database","hibernate","sqlite"],"answer_count":19,"favorite_count":32,"up_vote_count":45,"down_vote_count":0,"view_count":29749,"score":45,"question_id":296587,"title":"Light weight alternative to Hibernate?","body":"<p>I have a single user java program that I would like to have store data in a light weight database such as Derby or Sqlite. I would like to use a data abstraction layer in my program. Hibernate appears to require a lot of configuration and is overkill for what I need. What are light weight alternatives to Hibernate?</p>\n"},{"tags":["java","android","database","sqlite","orm"],"answer_count":4,"favorite_count":2,"up_vote_count":7,"down_vote_count":0,"view_count":204,"score":7,"question_id":11472166,"title":"Choosing an ORM for Android project (min. API level 7)","body":"<p>I currently have an application, where it's primary performance issue is using file-based database consisted of JSON responses.</p>\n\n<p>I'd like to rewrite my application to use SQLite database feature.<br>\nSince I'm lazy, I'd like to use some kind of ORM.</p>\n\n<p>So far I have found only two big ORM libraries:</p>\n\n<ul>\n<li><a href=\"http://ormlite.com/sqlite_java_android_orm.shtml\" rel=\"nofollow\">ORMLite</a></li>\n<li><a href=\"http://greendao-orm.com/\" rel=\"nofollow\">GreenDAO ORM</a></li>\n<li><a href=\"http://java.dzone.com/articles/using-db4o-android-application\" rel=\"nofollow\">DB4O</a></li>\n</ul>\n\n<p>My primary goal is to <strong>raise performance on working with data as much as possible</strong>  </p>\n\n<p>But I've found two possible issues with those libraries.  </p>\n\n<ul>\n<li><p>ORMLite uses <strong>annotations</strong>, which is big <strong>performance issue in pre-honeycomb</strong> due to <a href=\"https://code.google.com/p/android/issues/detail?id=7811\" rel=\"nofollow\">this bug</a>  </p></li>\n<li><p>GreenDAO is using some kind of code generator, and that would slow me down on development as I would have to write generator, and then use generated code. And I don't very like this idea.</p></li>\n<li><p>DB4O is JPA, which I've always considered as slow and heavy on memory usage, therefore unsuitable for low-end devices (remember the Android API v7)</p></li>\n</ul>\n\n<hr>\n\n<p><strong>ad @ChenKinnrot</strong>:<br>\nThe estimated load should be sufficient to think about using an ORM.<br>\nIn my case it is <strong>about 25-30 unique tables, and at least 10 table joins (2 - 4 tables at a time). About 300-500 unique fields (columns)</strong>  </p>\n\n<hr>\n\n<p>So my questions are:</p>\n\n<ol>\n<li><strong>Should I use ORM/JPA layer in Android application?</strong></li>\n<li><strong>If so, what library would you recommend me to use?</strong> (and please add some arguments too)</li>\n</ol>\n"},{"tags":["android","sqlite","orm","many-to-many","crud"],"answer_count":5,"favorite_count":6,"up_vote_count":11,"down_vote_count":0,"view_count":8910,"score":11,"question_id":2973982,"title":"ORM on android SQLite and database scheme","body":"<p>I'm looking for a very simple ORM framework working on Android for sqlite. I've been testing activeAndroid but none of the example could ever build on Eclipse. By the way, how do guys implements a \"many to many\" relationship in sqlite for android ? How do you reflect the cascade regarding deletion of rows and guarantee the database integrity  ? </p>\n"},{"tags":["java","android","sqlite","orm"],"answer_count":16,"favorite_count":55,"up_vote_count":124,"down_vote_count":0,"view_count":30302,"score":124,"question_id":371538,"title":"Any Good ORM tools for Android development?","body":"<p>Anyone working on the Android ('gPhone') have or know of a place where I can find a good ORM tool for it?  The code is written in Java, and the DB is SQLite.  What I would like to find is a tool that given the object definition, can auto-generate the tables and the CRUD functions (that would be awesome), or, barring that, a tool that can take the table definition, the object definition, and auto-generate the CRUD functionality.  The rub is that all of this must happen within the android framework, which has its own conventions as to how DB access works.  </p>\n"},{"tags":["android","sqlite","alternative"],"answer_count":2,"favorite_count":2,"up_vote_count":8,"down_vote_count":0,"view_count":1152,"score":8,"question_id":7766095,"title":"Best alternative Android SQLite library?","body":"<p>For <a href=\"http://stackoverflow.com/questions/7764943/android-deletes-corrupt-sqlite-files-automatically\">some reason</a> I want to avoid Android's official SQLite implementation.</p>\n\n<p>There seem to be very few alternative, and they seem to be very new, not-tested-much libraries with few operations implemented.</p>\n\n<p>I hope to not be too subjective, but what Android SQLite library:</p>\n\n<ul>\n<li>SQLite format</li>\n<li>Has SELECT, INSERT, UPDATE, DELETE</li>\n<li>Basic WHERE, with indexes</li>\n<li>Indexes are updated (I am not asking for new index creation)</li>\n<li>Open Source</li>\n</ul>\n\n<p>Note: I recently ported <a href=\"http://sqljet.com/\" rel=\"nofollow\">SQLJet</a> to Android, and I just saw the website of <a href=\"http://code.google.com/p/sqldroid/\" rel=\"nofollow\">SQLdroid</a> (not sure what it does). I am surprised I can't find any fork of Android's SQLite, that could be acceptable as well.</p>\n"},{"tags":["eclipse","sqlite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13183836,"title":"How to make a final and defined SQLite database?","body":"<p>My app requires a database that will hold 30 stories in a table.\nEach row should have the row's id, the story name, a recipe(It's a cookbook) and some pictures.\nProblem is I don't know enough about SQLite to build this database on my own. Any help?</p>\n"},{"tags":["android","sqlite","join","distinct"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":46,"score":2,"question_id":13182965,"title":"DISTINCT with RANDOM() sorting","body":"<p>I'm creating Android countries quiz based on built-in SQLite. One of the task is to choose correct continent (from 4 options) for given country. I use the following DB structure:</p>\n\n<pre><code>continents: ID | name\ncountries: ID | continent (foreign key) | name | capital\n</code></pre>\n\n<p>App choose 4 random rows and return Cursor this way:</p>\n\n<pre><code>return db.rawQuery(\"SELECT country.name, continent.name FROM \"+COUNTRIES_TABLE_NAME+\" country LEFT JOIN \"+CONTINENTS_TABLE_NAME+\" continent ON country.continent = continent.id ORDER BY RANDOM() LIMIT 4\", null);\n</code></pre>\n\n<p>What is the problem: SQLite can random countries that are from the same continent, then I have two or more equal answers. I wanted to avoid this problem adding DISTINCT:</p>\n\n<pre><code>SELECT country.name, DISTINCT continent.name...\n</code></pre>\n\n<p>Then I got an error (because of syntax, probably). What do I have to do then?</p>\n"},{"tags":["ruby-on-rails","ruby","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13181400,"title":".toggle! returning \"no route\" ruby","body":"<p>OK probably a newbie mistake but I hope someone can help me. Let me start off by apologizing for the nature of the example.\nMy app requires to know if a Dog is or isn't neutered and view this option in a list of dogs.</p>\n\n<p>Example...<br>\nDog1 | owner | Neutered\nDog2 | owner | Not neutered</p>\n\n<p>The view looks great and even returns the properties properly the problem is when I click on the Neutered/Not neutered link it does not toggle the field in the Database and I get a Routing Erro No route matches [POST] \"/dogs/3\". </p>\n\n<p>I have a database called Dog and it has a Boolean option :neutered \nI have in my dogs_controller.rb</p>\n\n<blockquote>\n  <p>...<br>\n      def neuter<br>\n        @dog = Dog.find(param[:id])<br>\n        @dog.toggle!(:admin)<br>\n        flash[:success] = \"Changed Dog's neutered status\"<br>\n        redirect_to dogs_url<br>\n      end<br>\n      ...</p>\n</blockquote>\n\n<p>In my routes.rb I have</p>\n\n<blockquote>\n  <p>...<br>\n      resources :dogs do<br>\n          member do<br>\n          get :watching, :watchers  (used else where in program)\n        end<br>\n      end<br>\n  ...  </p>\n</blockquote>\n\n<p>in the partial that lists the dogs I have</p>\n\n<blockquote>\n  <p>...<br>\n  &lt;%= link_to dog.name, dog %><br>\n  &lt;%= if dog.neutered? %><br>\n  &lt;%= link_to \"Neutered\", dog, method: :neuter, data: { confirm: \"This will mark the dog as neutered. Are you sure?\" } %><br>\n  &lt;% else %><br>\n  &lt;%= link_to \"Not Neutered\", dog, method: :neuter, data: { confirm: \"This will mark the dog as not neutered. Are you sure?\" } %><br>\n  ...</p>\n</blockquote>\n\n<p>So what am I missing? I'm sure it's something simple but I can't seem to find it. I've tried several other options but nothing seems to fix it.</p>\n"},{"tags":["android","sqlite","listview","simplecursoradapter"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":42,"score":3,"question_id":13179876,"title":"How to number items in a list view?","body":"<p>I was wondering how to set a number starting from 1 to n for my listview items. The column is not included in my sqllite database. </p>\n\n<p>I would like to use a custom simple cursor adapter that has a textview called labelNumber and set the number to 1 on the first call to newView and bindview and increment the value after each call. </p>\n\n<p>Is this the right approach or is there a better way. Obviously this is to help with the navigation of the list view to know your current position?</p>\n\n<p><strong>Update- code is working check comments below</strong></p>\n\n<pre><code>public class ProgressAdapter extends SimpleCursorAdapter {\nprivate Context context;\nprivate int layout;\nprivate ViewHolder viewHolder;\n    // create an integer to use as a number holder\nprivate int n;\n\n\nstatic class ViewHolder {\n    public TextView number;\n    public TextView setsText;\n    public TextView repsText;\n    public TextView weightText;\n    public TextView completeText;\n    public ImageView mgImage;\n}\n\npublic ProgressAdapter(Activity context, int layout, Cursor c,\n        String[] from, int[] to) {\n    super(context, layout, c, from, to);\n    this.context = context;\n    this.layout = layout;\n\n}\n\n\n@Override\npublic View newView(Context context, Cursor cursor, ViewGroup parent) {\n    Cursor c = getCursor();\n    viewHolder = new ViewHolder();\n    final LayoutInflater inflater = LayoutInflater.from(context);\n    View v = inflater.inflate(layout, parent, false);\n    // get the number using the cursor position\n            // add 1 to the int to start at 1 instead of 0\n    n = c.getPosition()+ 1;\n            String lineNumber = Integer.toString(n);\n\n    int setsColumn = c.getColumnIndex(ExerciseDbAdapter.KEY_SETS);\n    String sets = c.getString(setsColumn);\n\n    int repsColumn = c.getColumnIndex(ExerciseDbAdapter.KEY_REPS);\n    String reps = c.getString(repsColumn);\n\n    int weightColumn = c.getColumnIndex(ExerciseDbAdapter.KEY_WEIGHT);\n    String weight = c.getString(weightColumn);\n\n\n    viewHolder.number = (TextView) v.findViewById(R.id.labelNumber);\n    viewHolder.setsText = (TextView) v.findViewById(R.id.labelSets);\n    viewHolder.repsText = (TextView) v.findViewById(R.id.labelReps);\n    viewHolder.weightText = (TextView) v.findViewById(R.id.labelWeight);\n\n    if ( viewHolder.setsText != null &amp;&amp; viewHolder.repsText != null\n            &amp;&amp; viewHolder.weightText != null\n            ) {\n        viewHolder.number.setText(lineNumber);\n        viewHolder.setsText.setText(sets);\n        viewHolder.repsText.setText(reps);\n        viewHolder.weightText.setText(weight);\n\n\n    }\n    return v;\n}\n\n@Override\npublic void bindView(View v, Context context, Cursor c) {\n    viewHolder = new ViewHolder();\n            // use cursor to get the integer and add 1 to position\n    c = getCursor();\n    n = c.getPosition()+ 1;\n            String lineNumber = Integer.toString(n);\n    int setsColumn = c.getColumnIndex(ExerciseDbAdapter.KEY_SETS);\n    String sets = c.getString(setsColumn);\n\n    int repsColumn = c.getColumnIndex(ExerciseDbAdapter.KEY_REPS);\n    String reps = c.getString(repsColumn);\n\n    int weightColumn = c.getColumnIndex(ExerciseDbAdapter.KEY_WEIGHT);\n    String weight = c.getString(weightColumn);\n\n    // set the fields for the view\n    viewHolder.number = (TextView) v.findViewById(R.id.labelNumber);\n    viewHolder.setsText = (TextView) v.findViewById(R.id.labelSets);\n    viewHolder.repsText = (TextView) v.findViewById(R.id.labelReps);\n    viewHolder.weightText = (TextView) v.findViewById(R.id.labelWeight);\n\n\n    if (viewHolder.setsText != null &amp;&amp; viewHolder.repsText != null\n            &amp;&amp; viewHolder.weightText != null\n            ) {\n        viewHolder.number.setText(lineNumber);\n        viewHolder.setsText.setText(sets);\n        viewHolder.repsText.setText(reps);\n        viewHolder.weightText.setText(weight);\n    }\n\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["android","sqlite","webview","geolocation"],"answer_count":1,"favorite_count":2,"up_vote_count":4,"down_vote_count":0,"view_count":712,"score":4,"question_id":11984237,"title":"Android webview geoposition database failed to open","body":"<p>I have website using javascript geolocation api and want it to open in a webview. I set up these permissions in the manifest file: </p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.ACCESS_GPS\" /&gt;\n&lt;uses-permission android:name=\"android.permission.ACCESS_ASSISTED_GPS\" /&gt;\n&lt;uses-permission android:name=\"android.permission.ACCESS_LOCATION\" /&gt;\n&lt;uses-permission android:name=\"android.permission.ACCESS_COARSE_LOCATION\"/&gt;\n&lt;uses-permission android:name=\"android.permission.ACCESS_FINE_LOCATION\"/&gt;\n</code></pre>\n\n<p>In my activity, I also set webview settings:</p>\n\n<pre><code>webview.getSettings().setDatabaseEnabled(true);\nwebview.getSettings().setDomStorageEnabled(true);\nwebview.getSettings().setGeolocationDatabasePath(\"/data/data/com.my.app/databases\");\nwebview.getSettings().setGeolocationEnabled(true);\n</code></pre>\n\n<p>And I also handled javascript geolocation dialog:</p>\n\n<pre><code>webview.setWebChromeClient(new WebChromeClient(){\n    @Override\n    public void onGeolocationPermissionsShowPrompt(String origin, GeolocationPermissions.Callback callback) {\n        callback.invoke(origin, true, false);\n    }\n});\n</code></pre>\n\n<p>Geolocation itself is working, but I am not able to cache geoposition into the database. It should be doing it by itself into CachedGeoposition.db, but when I start the webview, i get this strange SQLite error:</p>\n\n<pre><code>E/SQLiteLog(22653): (14) cannot open file at line 30174 of [00bb9c9ce4]\nE/SQLiteLog(22653): (14) os_unix.c:30174: (2) open(/CachedGeoposition.db) -\nD/WebKit  (22653): ERROR:\nD/WebKit  (22653): SQLite database failed to load from /CachedGeoposition.db\nD/WebKit  (22653): Cause - unable to open database file\nD/WebKit  (22653):\nD/WebKit  (22653): external/webkit/Source/WebCore/platform/sql/SQLiteDatabase.cp\np(71) : bool WebCore::SQLiteDatabase::open(const WTF::String&amp;, bool)\n</code></pre>\n\n<p>When I check existence of CachedGeoposition.db file in File Explorer, it is always there,\nand permissions of the db are set to -rw-------.</p>\n\n<p>Did I miss something in settings what could cause database not to open correctly?\nI'm new to Android and trying to find solution for 2 days now. Any help would be greatly appreciated. Thank you.</p>\n"},{"tags":["database","visual-studio","sqlite","standalone"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13179879,"title":"Start with databases in visual basic 2012","body":"<p>My story is: I just started with visual basic and worked with simple scripting languages like AS2-3 AutoIt even some simple programs in VB and C# but I have no idea about working with databases so I came to ask few question to jumpstart my coding engine.</p>\n\n<ol>\n<li><p>Do I need to install any program or download any file to start working with databases?(researching about SQLite but still have no idea how to make it work)</p></li>\n<li><p>What do you suggest for saving and recovering my variables on the disk in my standalone windows application?(even .txt files work for me ATM)</p></li>\n<li><p>Is there any simple tutorial that explains usage of databases in standalone programs?</p></li>\n</ol>\n"},{"tags":["database","sqlite"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":13,"score":1,"question_id":13179148,"title":"During an update in a SQLite file, how can we update just part of the database instead of rewriting the whole database ( copyDatabase() )?","body":"<p>I'm using sqlite database for my mobile application. All the user's activities data are stored in the sqlite file in user's own device and it cannot be accessed by admin. </p>\n\n<p>I'm fine with this as I do not need the user's data. However, I will have to provide updated database to user from time to time (loading more new words for my dictionary application). In mobile application, usually an update means the rewriting of the whole sqlite file/ the installation of a new apk. </p>\n\n<p>I am using sqlite instead of SQL server as database because I wish to make use of an offline database for my application. However, I am finding ways to allow admin to provide updates to the database and at the same time, keep the user data from being rewritten in a update process. Any advice? Thanks.  </p>\n"},{"tags":["java","android","sql","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":66,"score":4,"question_id":13178145,"title":"Stuck with android SQL design using SQLite and Group By","body":"<p>have the following problem:\nTrying to display a list of attendees from a table. Table A is generated by \"syncing\" the data from a web source (HTML scraping) into table A.</p>\n\n<p><strong>Table A</strong><br>\nColumns: eventID, userID, userName<br>\nData:<br>\n1, 111, Harry<br>\n2, 222, Ben<br>\n3, 534, Helen<br>\n2, 534, Helen<br>\n2, 545, James<br></p>\n\n<p><strong>End Result</strong><br>\nIm trying to get this displayed in an activity as follows:<br>\nSocial 1: Attended by: Harry<br>\nSocial 2: Attended by: Ben, Helen, James<br>\nSocial 3: Attended by: Helen<br></p>\n\n<p>How is the best way to do this?</p>\n\n<p><strong>My initial plan:</strong><br>\n1) Run a SQL select (Query1) with Group By on eventID from table A.<br>\n2) Cycle through each result from Step 1.<br>\n3) For each result result from Query 1, select all rows in tableA with the current eventID (Called Query 2)<br>\n4) Cycle through result from step 3 Query 2, and for each result, add the user's name to a string buffer. At the end of Query 2 results, insert the eventID together with the resulting StringBuffer, into a new table:<br>\n<br>\n<strong>Table B:</strong><br>\ncolumns: eventID, userName<br>\nData:<br>\n1, \"Harry\"<br>\n2, \"Ben, Helen, James\"<br>\n3, \"Helen\"<br></p>\n\n<p>Then use the data from table B, together with a SimpleCursorAdapter, to populate a standard ListActivity with the data, resulting in a list of all events, and a comma separated list of attendees. And then each time Table A is regenerated, clear the data from table B, and repopulate it.<br>\n<br>\n<strong>Question:</strong><br>\nIs this the best way/neatest to do this? I dont really like the idea of having a temporary table just to do this.<br></p>\n\n<p>Background: Im new to Android dev, and have only just taken up Java again since doing it at uni a few years ago. My strongpoint in programming lies in HTML,  PHP, MySQL.</p>\n\n<p>Extra info: The way data is collected for table A, is that a page is scraped which contains all the events for a particular user. I then aim to display this in the opposite way, by showing for each event, all the users that are attending.</p>\n\n<p>I would appreciate some help/opinions on how to accomplish this. Many thanks!</p>\n"},{"tags":["python","sqlite","sqlite3","python-2.7"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13177324,"title":"Can't get the last row id from SQLITE3 database","body":"<p>I have a script that asks for input, and that input is then inserted into a table.\nThe next time the script is run, I'd like for it to tell the user what id the last input has.</p>\n\n<p>The table looks like: id INTEGER PRIMARY KEY AUTOINCREMENT, userid TEXT, domain TEXT, password TEXT, webserver TEXT, sqlserver TEXT</p>\n\n<p>I was told I could use SELECT seq from SQLITE_SEQUENCE WHERE name='table_name' but it yields the following text:  instead of the id from the last row.</p>\n\n<p>Please note that I'm an extremely new Python / SQLite3 coder!</p>\n\n<p>For your reference, the code sofar looks like this:</p>\n\n<pre><code>#!/usr/bin/python\nimport os, sys, sqlite3\n######## CHECK SYSTEM COMPATIBILITY ########\nif os.name =='posix':\n    os.system(\"clear\")#CLEAR SCREEN#\n    pass\nelse:\n    sys.exit(\"Operating System is not supported\")\n######## END CHECK SYSTEM COMPATIBILITY ########\n######## CHECK IF SCRIPT IS RUN AS ROOT ########\n#if os.geteuid() != 0:\n#       sys.exit(\"Script must be run as root\")\n#else:\n#       pass\n####### END CHECK IF SCRIPT IS RUN AS ROOT ########\n####### CREATE DATABASE AND CHECK IF TABLE EXISTS ##########\nconn = sqlite3.connect(\"dat.db\")\nc = conn.cursor()\nc.execute ('''CREATE TABLE IF NOT EXISTS kunder\n            (id INTEGER PRIMARY KEY AUTOINCREMENT, userid TEXT, domain TEXT, password      TEXT, webserver TEXT, sqlserver TEXT)''')\nconn.commit()\nprint c.execute (\"SELECT seq from SQLITE_SEQUENCE WHERE name='kunder'\")\nconn.close()\n######## DONE CREATE DATABASE AND CHECK IF TABLE EXISTS #########\n###### ASK FOR INPUT ##########\n########### HERE NEEDS TO BE A CHECK TO DETERMINE THE LATEST USERID - ALSO NEEDS TO BE    FOR WEBSERVER AND PASSWORD #################\nuserid = raw_input(\"Enter userid: \")\n########### HERE NEEDS TO BE A CHECK TO SEE IF USERID EXISTS!!!!!#####################\ndomain = raw_input(\"Enter domain: \")\npassword = raw_input(\"Enter password: \")\n########### NEEDS TO BE A WAY TO AUTOGENERATE A PASSWORD!!! ####################\nwebserver = raw_input(\"Enter webserver: \")\nsqlserver = raw_input(\"Enter sqlserver: \")\n###### FINISHED ASK FOR INPUT #######\n######## DATABASE ###########\nconn = sqlite3.connect(\"dat.db\")\nc = conn.cursor()\nc.execute (\"INSERT INTO kunder (userid, domain, password, webserver, sqlserver) VALUES    (?,?,?,?,?)\", (userid, domain, password, webserver, sqlserver))\nconn.commit()\nconn.close()\n####### DONE WITH DATABASE ##########\n</code></pre>\n"},{"tags":["android","sqlite","simplecursoradapter"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":34,"score":2,"question_id":13177742,"title":"Andoid Simple Cursor deprecated and class loader","body":"<p>I'm trying to read in data stored in SQLite. I was following a tutorial which used Simple Cursor Adapter to read in the data, however I find now that this is deprecated. I've read about Class loaders but the documentation indicates that its suitable for API 11 and above. My target level API is 7? Does anyone have any suggestions?</p>\n\n<p>Code below just in case its required.</p>\n\n<pre><code>public class MyCourses extends ListActivity {\n\n    static final String TEST = \"com.example.mycoursetimetable.TEST\";\n    String [] MODULE;\n    EditText EditCode, EditName;\n\n    private database MODULEDATABASE;  \n    ListView listContent;\n\n    SimpleCursorAdpater cursorAdpater;\n    Cursor cursor;\n\n        @Override\n        public void onCreate(Bundle savedInstanceState) \n        {\n        super.onCreate(savedInstanceState);\n\n\n\n       listContent =(ListView)findViewById(R.id.contentlist);\n       MODULEDATABASE = new database(this);\n\n       cursor = MODULEDATABASE.getData();\n       String [] from = new String[]{database.KEY_MODULECODE,database.KEY_MODULENAME};\n       int[] to = new int[] {R.id.labelModuleCode,  R.id.labelEditModuleFull};\n\n       cursorAdapter = new SimpleCursorAdapter(this,R.layout.listcourses,cursor,from,to);\n       listContent.setAdapter(cursorAdapter);\n\n\n        }\n       }\n</code></pre>\n"},{"tags":["android","database","sqlite"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":3295,"score":0,"question_id":7567362,"title":"android.database.sqlite.SQLiteConstraintException: error code 19: constraint failed","body":"<p>this is the error code:</p>\n\n<pre><code>09-27 11:56:01.425: WARN/System.err(10324): android.database.sqlite.SQLiteConstraintException: error code 19: constraint failed\n09-27 11:56:01.435: WARN/System.err(10324):     at android.database.sqlite.SQLiteStatement.native_execute(Native Method)\n09-27 11:56:01.435: WARN/System.err(10324):     at android.database.sqlite.SQLiteStatement.execute(SQLiteStatement.java:61)\n09-27 11:56:01.435: WARN/System.err(10324):     at android.database.sqlite.SQLiteDatabase.execSQL(SQLiteDatabase.java:1809)\n09-27 11:56:01.435: WARN/System.err(10324):     at de.enough.appmate.dbase.CMSResource.updateItem(CMSResource.java:1103)\n09-27 11:56:01.435: WARN/System.err(10324):     at de.enough.appmate.dbase.CMSResourceUpdater.updateItems(CMSResourceUpdater.java:178)\n09-27 11:56:01.435: WARN/System.err(10324):     at de.enough.appmate.dbase.CMSResourceUpdater.loadUpdates(CMSResourceUpdater.java:102)\n09-27 11:56:01.435: WARN/System.err(10324):     at de.enough.appmate.dbase.CMSResourceUpdaterRunnable.run(CMSResourceUpdaterRunnable.java:32)\n09-27 11:56:01.435: WARN/System.err(10324):     at java.lang.Thread.run(Thread.java:1019)\n</code></pre>\n\n<p>and this is the method that is used</p>\n\n<pre><code>this.db.execSQL(\"INSERT INTO itemGalleryItems (id, imageCaption, imageUrl,itemID,orderIndex,displayInGallery) VALUES (?,?,?,?,?,?); \",\n                        bindArgs);\n</code></pre>\n\n<p>the binArgs looks like:</p>\n\n<pre><code>String[] bindArgs = {\n        (String) imageItem.get(\"id\"),\n        (String) imageItem.get(\"imageCaption\"),\n        (String) imageItem.get(\"imageName\"),\n        (String) item.get(\"id\"),\n        (String) imageItem.get(\"orderIndex\"),\n        (String) imageItem.get(\"displayInGallery\")};\n</code></pre>\n\n<p>hope someone can help</p>\n\n<p>thanx\nnewone</p>\n"},{"tags":["c++","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13159054,"title":"SQLITE_ERROR during Query Prepare Phase in C++","body":"<pre><code>#include &lt;iostream&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;sstream&gt;\n#include \"sqlite3.h\"\n#include &lt;stdio.h&gt;\n\nconst char dbName[] = {\"/trial.sqlite\"};\n\nstd::string quoteSql( std::string &amp;s );\n\nint main(){\n\n\nstd::string szSQL;\nstd::string tableName;\n\ntableName = \"Nodes\";\nint result;\n\nconst char *pzTest;\n\nsqlite3_stmt *statement;\n\nsqlite3 *db;\n\nstd::string nodename;\n\nint count;\n\nnodename = \"KMLB1\";\n\nszSQL = \"SELECT COUNT(*) FROM Nodes WHERE NODENAME = ?\";\n\nresult = sqlite3_open(dbName,&amp;db);\nif(result){\n    sqlite3_close(db);\n    return 0;\n}\n\nresult = sqlite3_prepare_v2(db,szSQL.c_str(),strlen(szSQL.c_str()),&amp;statement,&amp;pzTest);\nif(result){\n    sqlite3_close(db);\n    return 0;\n}\n\nsqlite3_bind_text(statement,1,nodename.c_str(),-1,0);\n\nresult = sqlite3_step(statement);\nif(result){\n    sqlite3_close(db);\n    return 0;\n}\ncount = sqlite3_column_int(statement, 0);\nif(count == 0){\n    sqlite3_close(db);\n    return 0;\n}\n\nsqlite3_finalize(statement);\nsqlite3_close(db);\n\n\nreturn 0;\n}\n\nstd::string quoteSql( std::string &amp;s ) {\nreturn std::string(\"'\") + s + std::string(\"'\");\n}\n</code></pre>\n\n<p>I coded an experimental and basic C++ SQLite console application above. There is no problem on the compilation phase but I get SQLITE_ERROR status code on the sqlite_prepare_v2() function's line. I couldn't even get the cause of problem.</p>\n\n<p>In addition I would like to know that if I could get the row count which's NODENAME is KMLB1 by this code.</p>\n"},{"tags":["iphone","sqlite","insert"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":4042,"score":2,"question_id":1896930,"title":"SQLite Out of Memory when preparing insert statement","body":"<p>I have a problem with my app it opens this database and selects rows from it ok, </p>\n\n<p>Then when I want to add new rows using the following code and I always get the following problem at the execution of the prepare_V2.</p>\n\n<p>*** Terminating app due to uncaught exception 'NSInternalInconsistencyException', reason: 'Error while creating add statement. 'out of memory''</p>\n\n<p>code is .....</p>\n\n<pre><code>static sqlite3 *database = nil; \t\t\t\t\nstatic sqlite3_stmt *addStmt = nil; \n\n\n- (BOOL)addUserprofile {\n\n    addStmt = nil;  // set to force open for testing\n    database = nil; // set to force creation of addstmt for testing\n\n    if (database == nil) {  // first time then open database\n    \tNSString *databaseName = @\"UserProfile.db\";\n    \t// Use editable database paths\n    \tNSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory , NSUserDomainMask, YES);\n    \tNSString *documentsDir = [paths objectAtIndex:0];\t\n    \tNSString *databasePath = [documentsDir stringByAppendingPathComponent:databaseName];\n    \tNSLog(@\"path = %@\",databasePath);\n\n    \tNSLog(@\"opening Database\");\n    \tsqlite3 *database;\n    \t// Open the database from the users filessytem\n    \tif (sqlite3_open([databasePath UTF8String], &amp;database) == SQLITE_OK) {\n    \t\tNSLog(@\"Database Open\");\n    \t\t}\n    \telse {\n    \t\tNSLog(@\"Database did not open\");\n    \t}\n\n    }\n\n    if(addStmt == nil) {\n\nNSLog(@\"Creating add stmt\");\n    \tconst char *sql = \"INSERT INTO Profile (ProfileName) VALUES(?)\";\n\n    if(sqlite3_prepare_v2(database, sql, -1, &amp;addStmt, NULL) != SQLITE_OK) {\n    \t\tNSAssert1(0, @\"** Error while creating add statement. '%s'\", sqlite3_errmsg(database));\n    \t\tsuccess = NO;\n    \t\treturn success;\n    \t}\n    }\n    sqlite3_bind_text(addStmt, 1, [ProfileName UTF8String], -1, SQLITE_TRANSIENT);\n</code></pre>\n"},{"tags":["iphone","objective-c","sqlite","uitableview","uitableviewcontroller"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":41,"score":1,"question_id":13158634,"title":"How to implement Alphabetical section headers in a UITableView having content getting from DataBase","body":"<p>Till now I have implemented <code>UITableView</code> by populate the contents from the database</p>\n\n<p>By retrieving in an <strong>array from sqlite data base</strong> </p>\n\n<p><code>storedContactsArray = [Sqlitefile selectAllContactsFromDB];</code></p>\n\n<p>so no multiple sections , section headers and returns <code>storedContactsArray.count</code> as number of rows.</p>\n\n<p>Now i need to populate the same data in table view but <strong>The data set in Alpabetical sections in alphabetical order.</strong></p>\n\n<p>I tried with</p>\n\n<pre><code>alphabetsArray =[[NSMutableArray alloc]initWithObjects:@\"A\",@\"B\",@\"C\",@\"D\",@\"E\",@\"F\",@\"G\",@\"H\",@\"I\",@\"J\",@\"K\",@\"L\",@\"M\",@\"N\",@\"O\",@\"P\",@\"Q\",@\"R\",@\"S\",@\"T\",@\"U\",@\"V\",@\"W\",@\"X\",@\"Y\",@\"Z\",nil];\n\n\n- (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView {\nreturn [alphabetsArray count];\n}\n\n- (NSArray *)sectionIndexTitlesForTableView:(UITableView *)tableView {\n      return alphabetsArray;\n}\n\n- (NSString *)tableView:(UITableView *)tableView titleForHeaderInSection:(NSInteger)section {\n      return [alphabetsArray objectAtIndex:section];\n}\n</code></pre>\n\n<p><strong><img src=\"http://i.stack.imgur.com/WrYRw.png\" alt=\"in need as follows\"></strong></p>\n\n<p>But in case of <code>numberOfRowsInSectio</code>n it fails since there is no contacts in <code>storedContactsArray</code> initially</p>\n\n<p>Error occurs:  <code>-[__NSArrayM objectAtIndex:]: index 25 beyond bounds for empty array</code></p>\n\n<pre><code>-(NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section\n{\n  return [[storedContactsArray objectAtIndex:section] count]\n}\n</code></pre>\n\n<p>any advice of use full links pls</p>\n"},{"tags":["sql","sqlite"],"answer_count":3,"favorite_count":10,"up_vote_count":37,"down_vote_count":0,"view_count":35519,"score":37,"question_id":531035,"title":"How to do IF NOT EXISTS in SQLite","body":"<p>I am trying to port this line from MS SQL Server to SQLite</p>\n\n<pre><code>IF NOT EXISTS(SELECT 1 FROM EVENTTYPE WHERE EventTypeName = 'ANI Received') \n    INSERT INTO EVENTTYPE (EventTypeName) VALUES ('ANI Received');\n</code></pre>\n\n<p>It seems that SQLite does not support IF NOT EXISTS or at least I can't make it work.\nAm I missing something simple?  Is there a workaround?</p>\n"},{"tags":["iphone","objective-c","sqlite","uitableview","uitableviewcontroller"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":49,"score":1,"question_id":13172527,"title":"Problm while creating the alphabetical section headers un uitableview. Problm with other fields detail textlabe, imageview, isue in didseclect also","body":"<p>In my table view i need to display Contact name, Company name and Picture of contact person.</p>\n\n<p><img src=\"http://i.stack.imgur.com/08VfU.png\" alt=\"enter image description here\"></p>\n\n<p>I can add/edit a contact from the <strong>Add/Edit Contact</strong> page.</p>\n\n<p><img src=\"http://i.stack.imgur.com/4Nji4.png\" alt=\"enter image description here\"></p>\n\n<p>When i entered values in add/edit page i store them in a dictionay.</p>\n\n<p>I retrieved ContactNames in an array ContactsArray and using this array i tried to set sections and headers.</p>\n\n<p>in this process other fields are not displayed what we have saved, <strong>observe detail Text label</strong> even this problem in didSelectRow method also..</p>\n\n<p>When i selected 1st row of any section it navigates to the details page for 1sr row of 1st section </p>\n\n<p>When i selected 2nd row of any section it navigates to the details page for 2nd row of 1st section </p>\n\n<p>it may be the problem of sections</p>\n\n<p>//Inside ViewDidLoad Method</p>\n\n<pre><code>  sections = [[NSMutableDictionary alloc] init]; ///Global Object\n\n  BOOL found;\n\n  for (NSString *temp in contactsArray)\n  {        \n        NSString *c = [temp substringToIndex:1];\n\n        found = NO;\n\n        for (NSString *str in [sections allKeys])\n        {\n              if ([str isEqualToString:c])\n              {\n                    found = YES;\n              }\n        }\n\n        if (!found)\n        {     \n              [sections setValue:[[NSMutableArray alloc] init] forKey:c];\n        }\n  }\n  for (NSString *temp in contactsArray)\n  {\n        [[sections objectForKey:[temp substringToIndex:1]] addObject:temp];\n  }\n\n      [contactsTable reloadData];\n</code></pre>\n\n<p>}</p>\n\n<p>Tableview methods</p>\n\n<pre><code>-(NSInteger)numberOfSectionsInTableView:(UITableView *)tableView\n{\n      return [[sections allKeys]count];\n}\n\n\n-(NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section\n{\n      return [[sections valueForKey:[[[sections allKeys] sortedArrayUsingSelector:@selector(localizedCaseInsensitiveCompare:)] objectAtIndex:section]] count];\n}\n\n\n-(UITableViewCell*)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath\n{\n      static NSString* CellIdentifier = @\"Cell\";\n      UITableViewCell* cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];\n      if(cell == Nil)\n      {\n            cell  = [[UITableViewCell alloc]initWithStyle:UITableViewCellStyleSubtitle reuseIdentifier:CellIdentifier];\n      }\n      NSString *titleText = [[sections valueForKey:[[[sections allKeys] sortedArrayUsingSelector:@selector(localizedCaseInsensitiveCompare:)] objectAtIndex:indexPath.section]] objectAtIndex:indexPath.row];\n\n       cell.textLabel.text = titleText;\n\n      Contact *contact = [storedContactsArray objectAtIndex:indexPath.row];\n      Contact *contactPicture = [storedPicsArray objectAtIndex:indexPath.row];\n\n\n          _____________________________________\n\n           cell.detailTextLabel.text = contact.companyName;\n          UIImage *contactImage =  [[UIImage alloc]initWithContentsOfFile:contactPicture.contactImage];\n           cell.imageView.image = contactImage;\n            _______________________________\n              return cell;\n}\n</code></pre>\n\n<p>Even when i sect <strong>Bb</strong> it navigates to hte <strong>AAAAA</strong> page detais..</p>\n\n<p>I tried with this link  <a href=\"http://www.devx.com/wireless/Article/43374/0/page/2\" rel=\"nofollow\">http://www.devx.com/wireless/Article/43374/0/page/2</a> alsoo even i repeats the same issue</p>\n\n<pre><code>- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath\n{\n      EditContact *editContact = [[EditContact alloc] init];\n      if([self.storedContactsArray count] != 0)\n      {\n            Contact *contactsDict = [storedContactsArray objectAtIndex:indexPath.row];\n            editContact.contactInfo = contactsDict;\n\n            Contact *picsDict = [storedPicsArray objectAtIndex:indexPath.row];\n            editContact.storedPicsDict = picsDict;\n      }\n\n      [self.navigationController pushViewController:editContact animated:YES];\n      [editContact release];\n      [storedContactsArray release];\n\n}\n</code></pre>\n\n<p><img src=\"http://i.stack.imgur.com/eL85d.png\" alt=\"enter image description here\"></p>\n\n<p>Any help pls</p>\n"},{"tags":["iphone","objective-c","xcode","sqlite","sqlite3"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13174259,"title":"I got SQLITE_IOERR in my iPhone app","body":"<p>I developed an app in which I am using sqlite3 as a database. </p>\n\n<p>Sometimes I got SQLITE_IOERR i.e 10, and because of this db cannot return any value.</p>\n\n<p>But if I launch app again after terminating from background, it works fine then.</p>\n\n<p>How to SOLVE this error, any help?</p>\n\n<p>Thanks.</p>\n"},{"tags":["php","sqlite","sqlite3","amazon-ec2","installation"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":33,"score":1,"question_id":13161877,"title":"PHP + SQLite3 on Amazon AMI (EC2)","body":"<p>I have a similar question to <a href=\"http://stackoverflow.com/questions/2785473/how-to-enable-core-php-extension-in-linux\">this one</a>, I want sqlite3 php support on my EC2 (standard Amazon AMI), but PHP was compiled with <code>--without-sqlite3</code>.</p>\n\n<p>How can I add sqlite3 support? Its software from repository so I can't just rerun the <code>./configure</code> script</p>\n\n<p>More info:</p>\n\n<p>I tried installing it from PECL without much success, and besides it says the version is <code>0.6 (alpha)</code> and that sqlite3 support was only briefly available through PECL and should be compiled into the PHP executable (I think). Its confusing.</p>\n\n<p>I also have the PDO extension (some site said sqlite3 is in PDO)</p>\n\n<p>Here is what I tried with PECL:</p>\n\n<pre><code>ec2-user[~]&gt; pecl search sqlite\nRetrieving data...0%\n..Matched packages, channel pecl.php.net:\n=======================================\nPackage    Stable/(Latest) Local\nPDO_SQLITE 1.0.1 (stable)        SQLite v3 Interface driver for PDO\nSQLite     1.0.3 (stable)        SQLite database bindings\nsqlite3    0.6 (alpha)           SQLite v3 Database Bindings.\nec2-user[~]&gt; pecl download sqlite3\nFailed to download pecl/sqlite3 within preferred state \"stable\", latest release is version 0.6, stability \"alpha\", use \"channel://pecl.php.net/sqlite3-0.6\" to install\ndownload failed\nec2-user[~]&gt; pecl download channel://pecl.php.net/sqlite3-0.6\ndownloading sqlite3-0.6.tgz ...\nStarting to download sqlite3-0.6.tgz (768,302 bytes)\n.........................................................................................................................................................done: 768,302 bytes\nFile /home/ec2-user/sqlite3-0.6.tgz downloaded\nec2-user[~]&gt; sudo pecl install sqlite3-0.6.tgz\n84 source files, building\nrunning: phpize\nConfiguring for:\nPHP Api Version:         20090626\nZend Module Api No:      20090626\nZend Extension Api No:   220090626\nOptionally provide the path to the libsqlite3 library [autodetect] : yes\nbuilding in /var/tmp/pear-build-root8Jljf1/sqlite3-0.6\n\n(...)\n\n/var/tmp/sqlite3/sqlite3.c:1586: error: duplicate 'static' // repeated lots of times\nmake: *** [sqlite3.lo] Error 1\nERROR: `make' failed\n</code></pre>\n\n<p>Edit: There is no <code>php-sqlite</code> or <code>php5-sqlite</code> package</p>\n\n<pre><code>ec2-user[~]&gt; sudo yum search sqlite\nLoaded plugins: fastestmirror, priorities, security, update-motd, upgrade-helper\nLoading mirror speeds from cached hostfile\n * amzn-main: packages.us-west-2.amazonaws.com\n * amzn-updates: packages.us-west-2.amazonaws.com\n========================================================================= N/S Matched: sqlite ==========================================================================\napr-util-sqlite.x86_64 : APR utility library SQLite DBD driver\nlibdbi-dbd-sqlite.x86_64 : SQLite plugin for libdbi\npython-sqlite.x86_64 : Python bindings for sqlite.\npython24-sqlite.x86_64 : Python bindings for sqlite.\nsqlite-devel.x86_64 : Development tools for the sqlite3 embeddable SQL database engine\nsqlite-doc.x86_64 : Documentation for sqlite\nsqlite-tcl.x86_64 : Tcl module for the sqlite3 embeddable SQL database engine\nperl-DBD-SQLite.x86_64 : Self Contained RDBMS in a DBI Driver\nsqlite.i686 : Library that implements an embeddable SQL database engine\nsqlite.x86_64 : Library that implements an embeddable SQL database engine\n</code></pre>\n\n<p>Edit 2: no package as above is also available after enabling the (disabled by default) <a href=\"http://aws.amazon.com/amazon-linux-ami/faqs/#epel\" rel=\"nofollow\">Extra Packages for Enterprise Linux (EPEL) repository</a></p>\n"},{"tags":["android","query","sqlite","date","sql-order-by"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13172245,"title":"SQLITE raw query result not the same as in aSQLiteManager","body":"<p>I make the following query in SQLitemanager (SQL DB App for Android):</p>\n\n<pre><code>SELECT * FROM fahrer, fahrzeuge, nutzungsarten, fahrtenbuch WHERE fahrtenbuch.nutzungsart_id = nutzungsarten._id AND fahrtenbuch.fahrzeuge_id = fahrzeuge._id AND fahrtenbuch.fahrer_id = fahrer._id ORDER BY SUBSTR(fahrtenbuch.startdatum,7,4), SUBSTR(fahrtenbuch.startdatum,4,2), SUBSTR(fahrtenbuch.startdatum,1,2) ASC\n</code></pre>\n\n<p>The returned order is as expected. The date is correctly sorted by <strong>dd.mm.yyyy</strong>.</p>\n\n<p>But when I execute the query in my <strong>DB-Helper class</strong>, the order is not the same.\nIn the DB-Helper class:</p>\n\n<pre><code>final String MY_QUERY = \"SELECT * FROM fahrer, fahrzeuge, nutzungsarten, fahrtenbuch WHERE fahrtenbuch.nutzungsart_id = nutzungsarten._id AND fahrtenbuch.fahrzeuge_id = fahrzeuge._id AND fahrtenbuch.fahrer_id = fahrer._id ORDER BY SUBSTR(fahrtenbuch.startdatum,7,4), SUBSTR(fahrtenbuch.startdatum,4,2), SUBSTR(fahrtenbuch.startdatum,1,2) ASC\";\nreturn mDb.rawQuery(MY_QUERY, null);\n</code></pre>\n\n<p>In my activity:</p>\n\n<hr>\n\n<pre><code>Cursor curCSV = mDbHelper.fetchAllFahrtenbuchASC();\ncurCSV.moveToFirst();\nwhile(curCSV.moveToNext()) \n{\n   System.out.println(\"Date of entry: \" +curCSV.getString(18));\n} \n\ncurCSV.close();\n</code></pre>\n\n<hr>\n\n<p>Does anyone know why this is not working?</p>\n"},{"tags":["database","sqlite","sqlite3"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13172793,"title":"SQLite database as text file?","body":"<p>I was thinking of storing SQLite database file in version control (git), also i want to see the diff of the database file between different versions.</p>\n\n<p>Can we configure SQLite to store it's data in a readable text format(Given i do not store any binary data in the db)? So that i do not have to dump the data to a text file to see the difference. Say for example a CSV format. </p>\n\n<p>Is it possible? </p>\n"},{"tags":["android","sqlite","nullpointerexception"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13173695,"title":"NullPointerException when inserting in into SQLite","body":"<p>The following sql code </p>\n\n<pre><code>SQLiteDatabase db = this.getWritableDatabase();\n\n        if(getCartItems(cart.id).size()&gt;0){\n\n            ContentValues values = new ContentValues();\n\n            values.put(COL_ITEM_ID, cart.id);\n            values.put(COL_CART_ADDDATE, cart.addDate);\n            long re = db.insert(TABLE_NAME_CART, null, values);\n            db.close();\n\n            return re &gt; 0;\n        }else{\n            db.close();\n            return false;\n        }\n</code></pre>\n\n<p>this code returns the following error : </p>\n\n<pre><code>java.lang.NullPointerException\nat android.database.sqlite.SQLiteStatement.releaseAndUnlock(SQLiteStatement.java:290)\nat android.database.sqlite.SQLiteStatement.executeInsert(SQLiteStatement.java:115)\nat android.database.sqlite.SQLiteDatabase.insertWithOnConflict(SQLiteDatabase.java:1718)\nat android.database.sqlite.SQLiteDatabase.insert(SQLiteDatabase.java:1591)\nat phoenix.metro.uis.DBHelper.insertCart(DBHelper.java:120)\nat phoenix.metro.uis.SearchActivity$4.onClick(SearchActivity.java:171)\nat android.view.View.performClick(View.java:3511)\nat android.view.View$PerformClick.run(View.java:14105)\nat android.os.Handler.handleCallback(Handler.java:605)\nat android.os.Handler.dispatchMessage(Handler.java:92)\nat android.os.Looper.loop(Looper.java:137)\nat android.app.ActivityThread.main(ActivityThread.java:4424)\nat java.lang.reflect.Method.invokeNative(Native Method)\nat java.lang.reflect.Method.invoke(Method.java:511)\nat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)\nat dalvik.system.NativeStart.main(Native Method)\n</code></pre>\n\n<p>The error in the following code : </p>\n\n<pre><code>long re = db.insert(TABLE_NAME_CART, null, values);\n</code></pre>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":71,"score":0,"question_id":9001204,"title":"SQLdroid - online access?","body":"<p>I have integrated SQLdroid (<a href=\"http://sqldroid.org\" rel=\"nofollow\">sqldroid.org</a>) into my project. I am connecting locally with my SQLite database in Android. Is there any way how to connect to online SQLite database file?</p>\n\n<p>Thanks</p>\n"},{"tags":["sql-server","database","sqlite","synchronization"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":160,"score":0,"question_id":11619945,"title":"Microsoft Sync Framework Toolkit non MS synchronization","body":"<p>I am thinking about using the MS Sync Framework Toolkit to sync mobile database subsets of data to the cloud.  I will be using Android and iOS, and I only need to sync their individual local copies of the SQLite DB to the cloud.</p>\n\n<p>How well does MS Sync Framework handle filtering and data subsets, and how well does it run on non-windows based platforms, mainly Java/Android and iOS?  The mobile environments use SQLLite and the cloud is Microsoft based.  Thanks for the insight.</p>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":73,"score":1,"question_id":11933387,"title":"SQLDroid Vs Android internal JDBC driver","body":"<p>I am developing an android application which uses the <code>SQLite</code> database. In that case, I am in confusion which driver to use? </p>\n\n<p><code>SQLDroid</code> driver from this page <a href=\"https://github.com/SQLDroid/SQLDroid\" rel=\"nofollow\">https://github.com/SQLDroid/SQLDroid</a> or the internal android <code>JDBC</code> driver. Please share your suggestions regarding which one is best to use? </p>\n"},{"tags":["java","android","database","sqlite","exception"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":50,"score":-2,"question_id":13172685,"title":"How to open SQLite DB in java class","body":"<p>I am calling db in java class from activity(android).Is it possible to call like this from activity to java class.Am using this for server communication android.I got data from server but i cant able to insert into DB. </p>\n\n<p>I called like that am getting exception could any one help me, Thanks in advance.</p>\n\n<pre><code>11-01 06:52:03.596: W/System.err(673): java.lang.NullPointerException\n11-01 06:52:03.603: W/System.err(673):  at com.commiunication.ServerConnection.Insert(ServerConnection.java:32)\n11-01 06:52:03.627: W/System.err(673):  at com.commiunication.MainActivity.serverconnection(MainActivity.java:138)\n11-01 06:52:03.627: W/System.err(673):  at com.commiunication.MainActivity.onCreate(MainActivity.java:46)\n11-01 06:52:03.633: W/System.err(673):  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)\n11-01 06:52:03.633: W/System.err(673):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2627)\n11-01 06:52:03.633: W/System.err(673):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2679)\n11-01 06:52:03.633: W/System.err(673):  at android.app.ActivityThread.access$2300(ActivityThread.java:125)\n11-01 06:52:03.633: W/System.err(673):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2033)\n11-01 06:52:03.633: W/System.err(673):  at android.os.Handler.dispatchMessage(Handler.java:99)\n11-01 06:52:03.633: W/System.err(673):  at android.os.Looper.loop(Looper.java:123)\n11-01 06:52:03.633: W/System.err(673):  at android.app.ActivityThread.main(ActivityThread.java:4627)\n11-01 06:52:03.633: W/System.err(673):  at java.lang.reflect.Method.invokeNative(Native Method)\n11-01 06:52:03.655: W/System.err(673):  at java.lang.reflect.Method.invoke(Method.java:521)\n11-01 06:52:03.655: W/System.err(673):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)\n11-01 06:52:03.655: W/System.err(673):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)\n11-01 06:52:03.655: W/System.err(673):  at dalvik.system.NativeStart.main(Native Method)\n</code></pre>\n\n<p><strong>androidactivity.java</strong></p>\n\n<pre><code>ServerConnection server=new ServerConnection();\ntry {\n\nserver.Insert(ReturnValue);\nsampleDB =    this.openOrCreateDatabase(SAMPLE_DB_NAME,MODE_PRIVATE,null);\n} catch (JSONException e) {\n// TODO Auto-generated catch block\ne.printStackTrace();\n}\n</code></pre>\n\n<p><strong>serverConnection.java</strong></p>\n\n<pre><code>public  void Insert(String ReturnValue) throws JSONException{\nJSONObject CDGSGJson=new JSONObject(ReturnValue);           \nJSONArray idarr = CDGSGJson.getJSONArray(\"MeasureArr\"); \nSystem.out.println(\"\"+idarr.length());  \nsampleDB= openOrCreateDatabase(SAMPLE_DB_NAME,     SQLiteDatabase.OPEN_READWRITE, null);\nSystem.out.println(\"\"+idarr.length());  \n//Toast.makeText(this, \"Group Details Downloading\", Toast.LENGTH_SHORT).show();\ntry {   \nsampleDB.execSQL(\"CREATE TABLE IF NOT EXISTS \" + table_name + \" \"\n+ \"( id INTEGER PRIMARY KEY AUTOINCREMENT,\" + \" measure TEXT NOT NULL ); \");       \nif(idarr.length()&gt;0){\n\nfor(int cc=0;cc&lt;idarr.length();cc++){               \nJSONObject CatObj = idarr.getJSONObject(cc);\nString id_get=CatObj.getString(\"id\");   \nString measure_get=CatObj.getString(\"measure\"); \n\nsampleDB.execSQL(\"INSERT OR REPLACE INTO \" + table_name+ \" Values      \n                                                ('\"+id_get+\"','\"+measure_get+\"');\");\n\n            }}\n\n    } catch (Exception e) {\n        // TODO: handle exception\n         e.printStackTrace();\n        // System.out.print(e.printStackTrace());\n    }\n</code></pre>\n"},{"tags":["android","sqlite","button"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13168638,"title":"Android:How to write to SQL database","body":"<p>I have been trying to follow the newBoston tutorial and find myself with a runtime error when I click a button to write data to a database. LogCat displays \"Could not find a method addModuleButton(View) in the activity.</p>\n\n<p>Any suggestions?</p>\n\n<p>Add module Activity</p>\n\n<pre><code>    public class AddCourse extends Activity implements OnClickListener {\n\n        Button sqlAddModule;\n        EditText sqlModuleCode, sqlModuleName, sqlModuleType, sqlModuleDay, \n        sqlModuleStart, sqlModuleEnd, sqlModuleLocation, sqlModuleComments;\n\n         @Override\n            public void onCreate(Bundle savedInstanceState) {\n                super.onCreate(savedInstanceState);\n                setContentView(R.layout.add_course);\n\n                sqlAddModule= (Button)findViewById(R.id.addToDatabase);\n                sqlModuleCode = (EditText)findViewById(R.id.labelEditModuleCode);\n                sqlModuleName = (EditText)findViewById(R.id.labelEditModuleFull);\n                sqlModuleType = (EditText)findViewById(R.id.labelCourseType);\n                sqlModuleDay = (EditText)findViewById(R.id.labelDay);\n                //sqlModuleStart = (EditText)findViewById(R.id.labelEditModuleCode);\n                //sqlModuleEnd = (EditText)findViewById(R.id.labelEditModuleCode);\n                sqlModuleLocation = (EditText)findViewById(R.id.labelEditModuleLocation);\n                sqlModuleComments = (EditText)findViewById(R.id.labelEditModuleComments);\n         }\n\n                public void onClick (View addModuleButton) \n                {\n                    boolean didItWork = true;\n                    try{\n                    String moduleCode = sqlModuleCode.getText().toString();\n                    String moduleName = sqlModuleName.getText().toString();\n                    String moduleDay = sqlModuleDay.getText().toString();\n                    String moduleType = sqlModuleType.getText().toString();\n                    String moduleLocation = sqlModuleLocation.getText().toString();\n                    String moduleComments = sqlModuleComments.getText().toString();\n\n                    database entry = new database(AddCourse.this);\n                    entry.open();\n                    entry.createEntry(moduleCode, moduleName,moduleType, moduleDay,moduleLocation, moduleComments);\n                    entry.close();\n\n                    }catch(Exception e){\n                        didItWork = false;\n                    }finally{ if(didItWork){\n                        Dialog d = new Dialog(this) ;\n                        d.setTitle(\"BooYa!\");\n                        TextView tv = new TextView(this);\n                        tv.setText(\"Success\");\n                        d.setContentView(tv);\n                        d.show();\n                    }\n\n\n                    }\n\n                }\n}\n</code></pre>\n\n<p>Database Class</p>\n\n<pre><code>public class database {\n\n    public static final String KEY_ROWID = \"_id\";\n    public static final String KEY_MODULECODE = \"module_code\";\n    public static final String KEY_MODULENAME = \"module_name\";\n    public static final String KEY_MODULETYPE = \"module_type\";\n    public static final String KEY_MODULEDAY = \"module_day\";\n    public static final String KEY_MODULESTART = \"module_start\";\n    public static final String KEY_MODULEEND = \"module_end\";\n    public static final String KEY_MODULELOCATION = \"module_location\";\n    public static final String KEY_MODULECOMMENTS = \"module_comments\";\n\n    private static final String DATABASE_NAME = \"module_database\";\n    private static final String DATABASE_TABLE = \"my_modules\";\n    private static final int DATABASE_VERSION = 1;\n\n    private DbHelper myHelper;\n    private final Context myContext;\n    private SQLiteDatabase moduleDatabase;\n\n    private static class DbHelper extends SQLiteOpenHelper {\n\n        public DbHelper(Context context){\n            super(context, DATABASE_NAME, null, DATABASE_VERSION);\n\n        }\n\n        @Override\n        public void onCreate(SQLiteDatabase db) {\n            db.execSQL(\"CREATE TABLE \" + DATABASE_TABLE + \" (\" +\n                        KEY_ROWID + \" INTERGER PRIMARY KEY AUTOINCREMENT, \" +\n                        KEY_MODULECODE + \" TEXT NOT NULL, \" +\n                        KEY_MODULENAME + \" TEXT NOT NULL, \" +\n                        KEY_MODULETYPE + \" TEXT NOT NULL, \" +\n                        KEY_MODULEDAY + \" TEXT NOT NULL, \" +\n                        //KEY_MODULESTART + \" TEXT, \" +\n                        //KEY_MODULEEND + \" TEXT, \" +\n                        KEY_MODULELOCATION + \" TEXT NOT NULL, \" +\n                        KEY_MODULECOMMENTS + \" TEXT NOT NULL,);\"\n                    );\n\n        }\n\n        @Override\n        public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n            // TODO Auto-generated method stub\n            db.execSQL(\"DROP TABEL IF EXISTS \" + DATABASE_TABLE);\n            onCreate(db);\n\n        }\n\n\n    }\n\n    public database(Context c){\n        myContext = c;\n    }\n\n    public  database open()throws SQLException{\n        myHelper = new DbHelper(myContext);\n        moduleDatabase = myHelper.getWritableDatabase();\n        return this;\n    }\n\n    public void close(){\n    myHelper.close();\n    }\n\n    public long createEntry(String moduleCode, String moduleName, String moduleType,\n            String moduleDay, String moduleLocation, String moduleComments) {\n        ContentValues cv = new ContentValues();\n        cv.put(KEY_MODULECODE,moduleCode);\n        cv.put(KEY_MODULENAME,moduleName);\n        cv.put(KEY_MODULETYPE,moduleType);\n        cv.put(KEY_MODULEDAY,moduleDay);\n        cv.put(KEY_MODULELOCATION,moduleLocation);\n        cv.put(KEY_MODULECOMMENTS,moduleComments);\n        return moduleDatabase.insert(DATABASE_TABLE,null,cv);\n        // TODO Auto-generated method stub\n\n    }\n\n}\n</code></pre>\n"},{"tags":["android","sqlite","android-sqlite"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13171641,"title":"Getting data between two dates","body":"<p>I want to retrieve data between two dates in sqlite db.I have tried using BETWEEN clause,it works fine if dates are of same month like '28-10-2012' and '29-10-2012'</p>\n\n<p>But if dates are of different  like '30-10-2012' and '1-11-2012' month its not displaying data</p>\n\n<p>Please help me out.</p>\n"},{"tags":["sqlite","codeigniter"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13171316,"title":"Weird behaviour with codeigniter and sqlite","body":"<p>I am using Codeigniter to fill a sqlite database with content. The problem occurs when inserting something like this: </p>\n\n<pre><code>$this-&gt;db-&gt;query(\"INSERT INTO ITEM (data) VALUES ('Foobar selected foobar')\");\n</code></pre>\n\n<p>The field \"data\" is of type \"TEXT\". If the string to insert contains the word \"select\" two rows are inserted instead of one.</p>\n\n<p>With the following statement only one row is inserted (this is the correct behaviour I was expecting): </p>\n\n<pre><code>$this-&gt;db-&gt;query(\"INSERT INTO ITEM (data) VALUES ('Foobar foobar')\");\n</code></pre>\n\n<p>Any ideas what I can do to correctly insert the first statement one time only?</p>\n"},{"tags":["sql","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":88,"score":1,"question_id":9850758,"title":"sqlite query for grouped time-frame","body":"<p>I'm trying to query my connections history table into hourly time-frame, every hour it's connection duration.</p>\n\n<pre><code>create table sessionHistory (\n  _id       integer PRIMARY KEY autoincrement,\n  modified  integer,\n  ip        text,\n  ...\n  started   integer,\n  ended     integer\n);\n</code></pre>\n\n<p>Every connection start has a \"started\" date, and when it's finished I put an \"end\" date, both in unix epoch.</p>\n\n<p>I'm able to group them using the following query:</p>\n\n<pre><code>select strftime('%H', started, 'unixepoch') HOUR_, \n       sum(ended-started) TOTAL_TIME_ \nfrom sessionHistory \nwhere ip='123.123.123.123' and ended!=0\ngroup by strftime('%H', started, 'unixepoch')\n</code></pre>\n\n<p>Now, I wish also to include in every hour the session time that's still ongoing (ended=0). </p>\n\n<p>For instance, in hour 1 the connection had started and finished with duration of  35 seconds. In hour 2 the connection had started just before turning into hour 3, with 10 seconds to turning, and stopped 10 seconds after turning into hour 3. </p>\n\n<p>This means that the query needs to return something like hour 1 => 35, hour 2 => 10, hour 3 => 10.\nMoreover, if the connection is still up (ended=0) I want to have the current hour to hold data for \"now\"-started, which will accumulate in the relative hour.</p>\n\n<p>Joining 2 sqlite queries will not answer the last specification, as it will always return \"now\"-\"started\", even if the session is over 1 hour long.</p>\n"},{"tags":["ruby-on-rails","sqlite","postgresql","heroku","gem"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13170343,"title":"Heroku db:pull db:push Taps Load Error sqlite3","body":"<p>Trying to push or pull heroku's db by doing this:</p>\n\n<pre><code>heroku db:pull OR heroku db:push\n</code></pre>\n\n<p>And I got the next output</p>\n\n<pre><code>!    Taps Load Error: no such file to load -- sqlite3\n!    You may need to install or update the taps gem to use db commands.\n!    On most systems this will be:\n!    \n!    sudo gem install taps\n</code></pre>\n"},{"tags":["iphone","database","xcode","sqlite","multilingual"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":45,"score":-1,"question_id":13169997,"title":"How to use Arabic text on sqlite db?","body":"<p>In my iPhone application, I want to store and retrieve Arabic, Gujrati languages on sqlite db. Most of them I read is to use unicode for storing &amp; getting data from sqlite db. </p>\n\n<pre><code> How could I accomplish this, could any one instruct me with good tutorial.\n</code></pre>\n\n<p>Thank you in Advance</p>\n"},{"tags":["sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":17,"score":1,"question_id":13168929,"title":"SQLite syntax for \"ALL\"","body":"<p>Is there a way to do the following in <strong>SQLite</strong>?</p>\n\n<p>select name\nfrom   table\nwhere  number >= ALL ()</p>\n\n<p>Specifically, I'm getting a syntax error after the ALL operator, no matter how I format my query. In my googling for a solution, I found some mention that the syntax for ALL is different in SQLite, but I can't seem to figure it out.</p>\n\n<p>Can someone show me how a basic ALL () statement works in SQLite? Or let me know if they don't work at all?</p>\n"},{"tags":["android","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":5,"view_count":49,"score":-5,"question_id":13168927,"title":"Trying to write to a database but no response","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/13168638/androidhow-to-write-to-sql-database\">Android:How to write to SQL database</a>  </p>\n</blockquote>\n\n\n\n<p>I enter data into a form and on press of the button the strings should be sent to the database  and I have a dialog box to open if writing was successful however, I'm getting no response. </p>\n\n<p>Edit: I identified the error as \" AUTOINCREMENT is only allowed on an INTEGER PRIMARY KEY\"\nHowever my primary key is an integer?</p>\n\n<pre><code>public class AddCourse extends Activity implements OnClickListener {\n\nButton sqlAddModule;\nEditText sqlModuleCode, sqlModuleName, sqlModuleStart, sqlModuleEnd, sqlModuleLocation, sqlModuleComments;\n @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.add_course);\n\n        sqlAddModule= (Button)findViewById(R.id.addToDatabase);\n        sqlModuleCode = (EditText)findViewById(R.id.labelEditModuleCode);\n        sqlModuleName = (EditText)findViewById(R.id.labelEditModuleFull);\n        sqlModuleLocation = (EditText)findViewById(R.id.labelEditModuleLocation);\n        sqlModuleComments = (EditText)findViewById(R.id.labelEditModuleComments);\n\n        sqlAddModule.setOnClickListener(this);\n }\n\n        public void onClick (View addModuleButton) \n        {\n            boolean didItWork = true;\n            try{\n            String moduleCode = sqlModuleCode.getText().toString();\n            String moduleName = sqlModuleName.getText().toString();\n            String moduleLocation = sqlModuleLocation.getText().toString();\n            String moduleComments = sqlModuleComments.getText().toString();\n\n            database entry = new database(AddCourse.this);\n            entry.open();\n            entry.createEntry(moduleCode, moduleName,moduleLocation, moduleComments);\n            entry.close();\n\n            }catch(Exception e){\n                didItWork = false;\n            }finally{ if(didItWork){\n                Dialog d = new Dialog(this) ;\n                d.setTitle(\"BooYa!\");\n                TextView tv = new TextView(this);\n                tv.setText(\"Success\");\n                d.setContentView(tv);\n                d.show();\n            }\n\n\n            }\n\n            finish();\n\n        }    \n\n}\n</code></pre>\n\n<p>SQL Class</p>\n\n<pre><code>public class database {\n\n    public static final String KEY_ROWID = \"_id\";\n    public static final String KEY_MODULECODE = \"module_code\";\n    public static final String KEY_MODULENAME = \"module_name\";\n    public static final String KEY_MODULETYPE = \"module_type\";\n    public static final String KEY_MODULEDAY = \"module_day\";\n    public static final String KEY_MODULESTART = \"module_start\";\n    public static final String KEY_MODULEEND = \"module_end\";\n    public static final String KEY_MODULELOCATION = \"module_location\";\n    public static final String KEY_MODULECOMMENTS = \"module_comments\";\n\n    private static final String DATABASE_NAME = \"module_database\";\n    private static final String DATABASE_TABLE = \"my_modules\";\n    private static final int DATABASE_VERSION = 1;\n\n    private DbHelper myHelper;\n    private final Context myContext;\n    private SQLiteDatabase moduleDatabase;\n\n    private static class DbHelper extends SQLiteOpenHelper {\n\n        public DbHelper(Context context){\n            super(context, DATABASE_NAME, null, DATABASE_VERSION);\n\n        }\n\n        @Override\n        public void onCreate(SQLiteDatabase db) {\n            db.execSQL(\"CREATE TABLE \" + DATABASE_TABLE + \" (\" +\n                        KEY_ROWID + \" INTERGER PRIMARY KEY AUTOINCREMENT, \" +\n                        KEY_MODULECODE + \" TEXT NOT NULL, \" +\n                        KEY_MODULENAME + \" TEXT NOT NULL, \" +\n                        KEY_MODULELOCATION + \" TEXT NOT NULL, \" +\n                        KEY_MODULECOMMENTS + \" TEXT NOT NULL,);\"\n                    );\n\n        }\n\n        @Override\n        public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n            // TODO Auto-generated method stub\n            db.execSQL(\"DROP TABEL IF EXISTS \" + DATABASE_TABLE);\n            onCreate(db);\n\n        }\n\n\n    }\n\n    public database(Context c){\n        myContext = c;\n    }\n\n    public  database open()throws SQLException{\n        myHelper = new DbHelper(myContext);\n        moduleDatabase = myHelper.getWritableDatabase();\n        return this;\n    }\n\n    public void close(){\n    myHelper.close();\n    }\n\n    public long createEntry(String moduleCode, String moduleName,  String moduleLocation, String moduleComments) {\n        ContentValues cv = new ContentValues();\n        cv.put(KEY_MODULECODE,moduleCode);\n        cv.put(KEY_MODULENAME,moduleName);\n        cv.put(KEY_MODULELOCATION,moduleLocation);\n        cv.put(KEY_MODULECOMMENTS,moduleComments);\n        return moduleDatabase.insert(DATABASE_TABLE,null,cv);\n        // TODO Auto-generated method stub\n\n    }\n\n}\n</code></pre>\n"},{"tags":["android","database","sqlite"],"answer_count":2,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":12773,"score":4,"question_id":3760774,"title":"update sql database with ContentValues and the update-method","body":"<p>i would like to update my sql lite database with the native update-method of the SQLiteDatabase class of android.</p>\n\n<pre><code>ContentValues dataToInsert = new ContentValues();                          \ndataToInsert.put(\"name\", \"flo\");\ndataToInsert.put(\"location\", \"flotown\");\nString where = \"id\" + \"=\" + id;\ntry{    \n    db.update(DATABASE_TABLE, dataToInsert, where, null);\n}\ncatch (Exception e){\n    String error =  e.getMessage().toString();\n}\n</code></pre>\n\n<p>but i get following error:\nandroid.database.sqlite.SQLiteException: near \"15\": syntax error: , while compiling: UPDATE mytable SET location=?, name=? WHERE id=2010-09-21 15:05:36.995</p>\n\n<p>I don´t know what should be the problem. Somehow the values do not arrive in the sql statement. I did nearly the same with the insert method and that worked quite fine.</p>\n\n<p>many thx,\nflorian</p>\n"},{"tags":["sql","query","sqlite","table","datetime"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":49,"score":1,"question_id":13167464,"title":"query returning consecutive rows with matching value","body":"<p>assume i have the following table:</p>\n\n<pre><code>data_point (creation_datetime DATETIME PRIMARY KEY, \n            data_point INTEGER);\n</code></pre>\n\n<p>i am looking for an SQL query that would not only tell me if the most recent entry has a data_point value of X, but how many consecutive rows after it also have X as a value.</p>\n\n<p>for instance, assuming the following data:</p>\n\n<pre><code>creation_datetime       data_point\n2012-10-31 12:00:00     0\n2012-10-31 11:55:00     0\n2012-10-31 11:50:00     0\n2012-10-31 11:45:00     2\n2012-10-31 11:40:00     0\n</code></pre>\n\n<p>if i had X=0, the number i would want back here would be 3, because the most recent value matches X, and the next 2 rows also match it.</p>\n\n<p>i don't have any ID column or anything.  i could add one if need be, but i'd like to avoid it.</p>\n\n<p>thanks</p>\n"},{"tags":["c#","sqlite","assemblies"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":153,"score":2,"question_id":11988337,"title":"SQLite 1.0.65 Assembly binding error","body":"<p>I am developing an outlook add in, which uses SQLite. Outlook is throwing an exception Unable to bind assembly. I enabled the fusion log and found out that \"Managed Assembly\" is loading fine as it is visible from  the following log </p>\n\n<pre><code>    *** Assembly Binder Log Entry  (16/08/2012 @ 14:13:37) ***\n\nThe operation was successful.\nBind result: hr = 0x0. The operation completed successfully.\n\nAssembly manager loaded from:  C:\\Windows\\Microsoft.NET\\Framework\\v4.0.30319\\clr.dll\nRunning under executable  C:\\Program Files\\Microsoft Office\\Office12\\OUTLOOK.EXE\n--- A detailed error log follows. \n\n=== Pre-bind state information ===\n LOG: DisplayName = System.Data.SQLite, Version=1.0.65.0, Culture=neutral, PublicKeyToken=db937bc2d44ff139\n     (Fully-specified)\n    LOG: Appbase = file:///C:/Program Files/TargetIntegration/CiviSync/\n    LOG: Initial PrivatePath = NULL\n    LOG: Dynamic Base = NULL\n    LOG: Cache Base = NULL\n    LOG: AppName = OUTLOOK.EXE\n    Calling assembly : ServiceStack.OrmLite.SqliteNET, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null.\n    ===\n    LOG: This bind starts in default load context.\n    LOG: Using application configuration file: C:\\Program Files\\Microsoft Office\\Office12\\OUTLOOK.EXE.Config\n    LOG: Using host configuration file: \n    LOG: Using machine configuration file from C:\\Windows\\Microsoft.NET\\Framework\\v4.0.30319\\config\\machine.config.\n    LOG: Post-policy reference: System.Data.SQLite, Version=1.0.65.0, Culture=neutral, PublicKeyToken=db937bc2d44ff139\n    LOG: GAC Lookup was unsuccessful.\n    LOG: Attempting download of new URL file:///C:/Program Files/TargetIntegration/CiviSync/System.Data.SQLite.DLL.\n    LOG: Assembly download was successful. Attempting setup of file: C:\\Program Files\\&lt;CompName&gt;\\CiviSync\\System.Data.SQLite.dll\n    LOG: Entering download cache setup phase.\n    LOG: Assembly Name is: System.Data.SQLite, Version=1.0.65.0, Culture=neutral, PublicKeyToken=db937bc2d44ff139\n    WRN: A duplicate assembly was found while copying the assembly item to the cache.\n    LOG: Binding succeeds. Returns assembly from C:\\Users\\&lt;UserName&gt;\\AppData\\Local\\assembly\\dl3\\9N164N9X.7OK\\DRB00MX7.CBX\\2f49c891\\005cc530_ea6ccd01\\System.Data.SQLite.dll.\n    LOG: Assembly is loaded in default load context.\n</code></pre>\n\n<p>But it is throwing an exception while loading the native assembly, as per the following exception. </p>\n\n<pre><code>*** Assembly Binder Log Entry  (16/08/2012 @ 14:13:37) ***\n\nThe operation failed.\nBind result: hr = 0x80070002. The system cannot find the file specified.\n\nAssembly manager loaded from:  C:\\Windows\\Microsoft.NET\\Framework\\v4.0.30319\\clr.dll\nRunning under executable  C:\\Program Files\\Microsoft Office\\Office12\\OUTLOOK.EXE\n--- A detailed error log follows. \n\n=== Pre-bind state information ===\nLOG: DisplayName = System.Data.SQLite, Version=1.0.65.0, Culture=neutral, PublicKeyToken=db937bc2d44ff139\n (Fully-specified)\nLOG: Appbase = file:///C:/Program Files/TargetIntegration/CiviSync/\nLOG: Initial PrivatePath = NULL\nLOG: Dynamic Base = NULL\nLOG: Cache Base = NULL\nLOG: AppName = OUTLOOK.EXE\nCalling assembly : ServiceStack.OrmLite.SqliteNET, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null.\n===\nLOG: Start binding of native image System.Data.SQLite, Version=1.0.65.0, Culture=neutral, PublicKeyToken=db937bc2d44ff139.\nWRN: No matching native image found.\nLOG: IL assembly loaded from C:\\Users\\&lt;username&gt;\\AppData\\Local\\assembly\\dl3\\9N164N9X.7OK\\DRB00MX7.CBX\\2f49c891\\005cc530_ea6ccd01\\System.Data.SQLite.dll.\n</code></pre>\n\n<p>I have no idea, why is this happening. This is happening on one of the client machine after the release build. On my machine even after the release build it is working fine. </p>\n\n<p>Not even that, even after the exception, add in works fine. </p>\n\n<p>Regards\nMohit Thakral </p>\n"},{"tags":["android","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":11024558,"title":"Can't get sqlite database working?","body":"<p>I have  one table working(one called DATABASE_CREATE1) and that table still works but when i try to insert data into the second table i get this error no idea how to fix it tryed for ages on how to fix it but had no luck any ideas:</p>\n\n<pre><code>06-13 23:56:21.179: E/Database(8840): android.database.sqlite.SQLiteException: table quick_mute has no column named row_id_quick_mute: , while compiling: INSERT INTO quick_mute(row_id_quick_mute, alarm_id) VALUES(?, ?);\n06-13 23:56:21.179: E/Database(8840):   at android.database.sqlite.SQLiteCompiledSql.native_compile(Native Method)\n06-13 23:56:21.179: E/Database(8840):   at android.database.sqlite.SQLiteCompiledSql.compile(SQLiteCompiledSql.java:92)\n06-13 23:56:21.179: E/Database(8840):   at android.database.sqlite.SQLiteCompiledSql.&lt;init&gt;(SQLiteCompiledSql.java:65)\n06-13 23:56:21.179: E/Database(8840):   at android.database.sqlite.SQLiteProgram.&lt;init&gt;(SQLiteProgram.java:83)\n06-13 23:56:21.179: E/Database(8840):   at android.database.sqlite.SQLiteStatement.&lt;init&gt;(SQLiteStatement.java:41)\n06-13 23:56:21.179: E/Database(8840):   at android.database.sqlite.SQLiteDatabase.compileStatement(SQLiteDatabase.java:1149)\n06-13 23:56:21.179: E/Database(8840):   at android.database.sqlite.SQLiteDatabase.insertWithOnConflict(SQLiteDatabase.java:1569)\n06-13 23:56:21.179: E/Database(8840):   at android.database.sqlite.SQLiteDatabase.insert(SQLiteDatabase.java:1426)\n06-13 23:56:21.179: E/Database(8840):   at com.seanoneill.android.SilentPhone.DatabaseStore.createQuickMuteEntry(DatabaseStore.java:316)\n06-13 23:56:21.179: E/Database(8840):   at com.seanoneill.android.SilentPhone.HoldsEverything$1.onClick(HoldsEverything.java:163)\n06-13 23:56:21.179: E/Database(8840):   at android.view.View.performClick(View.java:2485)\n06-13 23:56:21.179: E/Database(8840):   at android.view.View$PerformClick.run(View.java:9080)\n06-13 23:56:21.179: E/Database(8840):   at android.os.Handler.handleCallback(Handler.java:587)\n06-13 23:56:21.179: E/Database(8840):   at android.os.Handler.dispatchMessage(Handler.java:92)\n06-13 23:56:21.179: E/Database(8840):   at android.os.Looper.loop(Looper.java:123)\n06-13 23:56:21.179: E/Database(8840):   at android.app.ActivityThread.main(ActivityThread.java:3729)\n06-13 23:56:21.179: E/Database(8840):   at java.lang.reflect.Method.invokeNative(Native Method)\n06-13 23:56:21.179: E/Database(8840):   at java.lang.reflect.Method.invoke(Method.java:507)\n06-13 23:56:21.179: E/Database(8840):   at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:874)\n06-13 23:56:21.179: E/Database(8840):   at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:632)\n06-13 23:56:21.179: E/Database(8840):   at dalvik.system.NativeStart.main(Native Method)\n</code></pre>\n\n<p>code:</p>\n\n<pre><code>private static final String DATABASE_CREATE =\n    \"create table \" + DATABASE_TABLE_QUICK + \" (\"\n    + kEY_ROWID_QUICK_MUTE + \"text not null, \"\n    + END_TIME_QUICK  + \" text not null,\"\n    + ALARM_ID_QUICK + \" text not null );\";\n\nprivate static final String DATABASE_CREATE1=\n    \"create table \" + DATABASE_TABLE + \" (\"\n    + kEY_ROWID + \" integer primary key autoincrement, \"\n    + END_KEY_TIME  + \" text not null,\"\n    + START_TIME_12_HOUR  + \" text not null,\"\n    + END_TIME_12_HOUR  + \" text not null,\"\n    + COVERT_DAYS + \" text not null,\"\n    + KEY_STATE  + \" text not null,\"\n    + MUTE_TITLE + \" text not null, \"\n    + ALARM_MODE + \" text not null, \"\n    +ALARM_ID+ \" text not null,\"\n    + START_KEY_TIME  + \" text not null  );\";\n</code></pre>\n\n<p>creating database</p>\n\n<pre><code>@Override\npublic void onCreate(SQLiteDatabase db) {\n    db.execSQL(DATABASE_CREATE);\n    db.execSQL(DATABASE_CREATE1);\n}\n</code></pre>\n\n<p>here is code for insert into database</p>\n\n<pre><code>public void createQuickMuteEntry(String endTime, String alarmid) {\n    ContentValues initialValues = new ContentValues();\n    initialValues.put(kEY_ROWID_QUICK_MUTE, endTime ); /\n    initialValues.put(ALARM_ID, alarmid);\n    databaseConnect.insert(DATABASE_TABLE_QUICK, null, initialValues);\n}\n</code></pre>\n\n<p>Insert statment</p>\n\n<pre><code>getDatabaseInfo.createQuickMuteEntry(\"dfdf\", \"dfdf\");\n</code></pre>\n\n<p>update:\n//quick mute</p>\n\n<pre><code>public static final String END_TIME_QUICK = \"quick_mute_end_time\"; \npublic static final String ALARM_ID_QUICK = \"quick_mute_id\";\npublic static final String kEY_ROWID_QUICK_MUTE = \"row_id_quick_mute\";\n</code></pre>\n"},{"tags":["android","database","sqlite","saxparser","sqliteopenhelper"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":181,"score":0,"question_id":10057287,"title":"Android + sqlite insert speed improvements?","body":"<p>I recently inherited a project where a sqlite db is stored on the users sdcard (tables and columns only, no content).  For the initial install (and subsequent data updates), an XML file is parsed via saxParser storing it's contents to the db columns like so:</p>\n\n<p><strong>saxParser:</strong></p>\n\n<pre><code>    @Override\n    public void endElement(String uri, String localName, String qName) throws SAXException {\n            currentElement = false;\n\n            if (localName.equals(\"StoreID\")) {\n                buffer.toString().trim();\n                storeDetails.setStoreId(buffer.toString());\n            } else if (localName.equals(\"StoreName\")) {\n                buffer.toString().trim();\n                storeDetails.setStoreName(buffer.toString());\n            ...\n\n            } else if (localName.equals(\"StoreDescription\")) {\n              buffer.toString().trim();\n              storeDetails.setStoreDescription(buffer.toString());\n              // when the final column is checked, call custom db helper method\n              dBHelper.addtoStoreDetail(storeDetails);\n            }\n\n            buffer = new StringBuffer();\n    }           \n\n\n    @Override\n    public void characters(char[] ch, int start, int length) throws SAXException {\n        if (currentElement) {\n            buffer.append(ch, start, length);\n        }\n    }\n</code></pre>\n\n<p><strong>DatabaseHelper:</strong></p>\n\n<pre><code>    // add to StoreDetails table\n    public void addtoStoreDetail(StoreDetails storeDetails) {\n        SQLiteDatabase database = null;\n        InsertHelper ih = null;\n        try {\n            database = getWritableDatabase();\n            ih = new InsertHelper(database, \"StoreDetails\");\n\n            // Get the numeric indexes for each of the columns that we're updating\n            final int idColumn = ih.getColumnIndex(\"_id\");\n            final int nameColumn = ih.getColumnIndex(\"StoreName\");\n            ...\n            final int descColumn = ih.getColumnIndex(\"StoreDescription\");\n\n            // Add the data for each column\n            ih.bind(idColumn, storeDetails.getStoreId());\n            ih.bind(nameColumn, storeDetails.getStoreName());\n            ...\n            ih.bind(descColumn, storeDetails.getStoreDescription());\n\n            // Insert the row into the database.\n            ih.execute();\n        } finally {\n            ih.close();\n            safeCloseDataBase(database);\n        }\n    }\n</code></pre>\n\n<p>The loaded xml document is 6000+ lines long. When testing on the device it stops inserting after around halfway (no errors) which takes about 4-5 minutes.  On the emulator however, it runs rather quickly, writing all lines to the database in about 20 seconds.  I have log statements that run when the db is opened, data added, then closed.  The LogCat outputs are significantly slower when running on the device.  Is there something I'm missing here?  Why is my data taking so long to write?  I thought the improved InsertHelper would help, but unfortunately not even a little faster.  Can someone point out my flaw(s) here?</p>\n"},{"tags":["android","sqlite","cursor","android-contentprovider"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":422,"score":2,"question_id":7864534,"title":"How to fetch the contact details from recepient_ids in threads table","body":"<p>This is the 'threads' table instance </p>\n\n<pre><code>_id| recipient_ids| snippet\n1  |   1          |Hi this is hello world\n2  |   2          |Multiple send\n3  | 1 3 4        |Send\n</code></pre>\n\n<p>The values corresponding to the recepient_ids are placed in 'canonical_addresses' table</p>\n\n<pre><code>_id|  address\n1  |9879565655\n2  |1111111111\n3  |5465321348\n4  |8965321354\n</code></pre>\n\n<p>Now i have to fetch the 'canonical_addresses.address' for each 'threads.recipient_ids' present in threads table (At times recipient_ids can be more than one) ?</p>\n\n<p>Note:\nI'm using <code>content://mms-sms/conversation</code> to fetch details from threads table.</p>\n"},{"tags":["python","django","sqlite"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":224,"score":0,"question_id":9256442,"title":"Django--HELP. django not creating sqlite database file as expected","body":"<p>New to django</p>\n\n<p>following tutorial 1. also looked up all related questions on stack overflow.  thought it was a absolute path issue...but absolute path seems to be correct. below is settings.py. any ideas?</p>\n\n<pre><code>MANAGERS = ADMINS\n\nDATABASES = {\n    'default': {\n        'ENGINE': 'django.db.backends.sqlite3', # Add 'postgresql_psycopg2', 'mysql',    'sqlite3' or 'oracle'.\n        'NAME': 'Users/Leerix/cars/carfilter/database/temp.db',                      #     Or path to database file if using sqlite3.\n        'USER': '',                      # Not used with sqlite3.\n        'PASSWORD': '',                  # Not used with sqlite3.\n        'HOST': '',                      # Set to empty string for localhost. Not used     with sqlite3.\n        'PORT': '',                      # Set to empty string for default. Not used with sqlite3.\n    }\n</code></pre>\n\n<p>Below is the error i'm getting.  Been at this for several hours and cannot find the bug.  any help is greatly appreciated. Thx</p>\n\n<pre><code>python manage.py syncdb\nTraceback (most recent call last):\n  File \"manage.py\", line 9, in &lt;module&gt;\n    execute_from_command_line(sys.argv)\n  File \"/Library/Python/2.5/site-packages/django/core/management/__init__.py\", line 420,  in execute_from_command_line\n    utility.execute()\n  File \"/Library/Python/2.5/site-packages/django/core/management/__init__.py\", line 359, in execute\n    self.fetch_command(subcommand).run_from_argv(self.argv)\n  File \"/Library/Python/2.5/site-packages/django/core/management/base.py\", line 196, in   run_from_argv\n    self.execute(*args, **options.__dict__)\n  File \"/Library/Python/2.5/site-packages/django/core/management/base.py\", line 232, in execute\n    output = self.handle(*args, **options)\n  File \"/Library/Python/2.5/site-packages/django/core/management/base.py\", line 371, in   handle\n    return self.handle_noargs(**options)\n  File \"/Library/Python/2.5/site-packages/django/core/management/commands/syncdb.py\", line 57, in handle_noargs\n    cursor = connection.cursor()\n  File \"/Library/Python/2.5/site-packages/django/db/backends/__init__.py\", line 306, in  cursor\n        cursor = self.make_debug_cursor(self._cursor())\n      File \"/Library/Python/2.5/site-packages/django/db/backends/sqlite3/base.py\", line 259, in _cursor\n        self.connection = Database.connect(**kwargs)   \nsqlite3.OperationalError: unable to open database file\n</code></pre>\n"},{"tags":["android","query","sqlite","date","sql-order-by"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":39,"score":1,"question_id":13166445,"title":"SQLITE DB sort query by string formatted date field","body":"<p>I have a SQLITE DB with a string field which contains a date in the following format: \"01.01.2012\".\nWhat I want is to sort the by this string formatted date in a query.\nI tried this without success:</p>\n\n<pre><code>SELECT * FROM fahrer, fahrzeuge, nutzungsarten, fahrtenbuch WHERE fahrtenbuch.nutzungsart_id = nutzungsarten._id AND fahrtenbuch.fahrzeuge_id = fahrzeuge._id AND fahrtenbuch.fahrer_id = fahrer._id ORDER BY strftime ('%d.%m.%Y', fahrtenbuch.startdatum)\n</code></pre>\n\n<p>What I am doing wrong?</p>\n"},{"tags":["flex","sqlite","flex4.5","flex4.6"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":1,"view_count":50,"score":0,"question_id":13125272,"title":"could not be able set labelField of List Control in flex 4.6","body":"<p>I'm not able to set the Label of List Control which I first save to SQLite database and then show that as lebelField of List control my code is following :</p>\n\n<p>List of Cities mxml is :</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;s:View xmlns:fx=\"http://ns.adobe.com/mxml/2009\" \n    xmlns:s=\"library://ns.adobe.com/flex/spark\" title=\"Cities\"\n    &gt;\n&lt;fx:Declarations&gt;\n    &lt;!-- Place non-visual elements (e.g., services, value objects) here --&gt;\n&lt;/fx:Declarations&gt;\n\n&lt;fx:Script&gt;\n    &lt;![CDATA[\n        import model.DataModel;\n\n        import mx.collections.ArrayCollection;\n        import mx.events.FlexEvent;\n        import mx.events.IndexChangedEvent;\n\n        import spark.components.SplitViewNavigator;\n        import spark.components.ViewNavigator;\n        import spark.transitions.ViewTransitionBase;\n        protected function myList_changeHandler():void {\n            // Create a reference to the SplitViewNavigator.\n            var splitNavigator:SplitViewNavigator = navigator.parentNavigator as SplitViewNavigator;\n\n            // Create a reference to the ViewNavigator for the Detail frame.\n            var detailNavigator:ViewNavigator = splitNavigator.getViewNavigatorAt(1) as ViewNavigator;\n\n            detailNavigator.transitionsEnabled = false;\n\n            // Change the view of the Detail frame based on the selected List item.\n            detailNavigator.pushView(DisplayContents, list_of_cities.selectedItem);             \n        }           \n    ]]&gt;\n&lt;/fx:Script&gt;\n&lt;s:VGroup width=\"100%\" height=\"100%\"&gt;\n    &lt;s:List id=\"list_of_cities\" height=\"100%\" width=\"100%\" change=\"myList_changeHandler();\" \n            dataProvider=\"{DataModel.getInstance().cityList}\"&gt;\n\n    &lt;/s:List&gt;       \n&lt;/s:VGroup&gt;\n</code></pre>\n\n<p></p>\n\n<p>city value object is ::</p>\n\n<pre><code>package valueobject\n{\n[Bindable]\npublic class CityValueObject\n{\n    public var id:uint;\n    public var nameofcity:String;\n}}\n</code></pre>\n\n<p>and DataModel is ::</p>\n\n<pre><code>package model\n{\nimport flash.data.SQLConnection;\n\nimport mx.collections.ArrayCollection;\n\n[Bindable]\npublic class DataModel\n{\n    public var connection:SQLConnection;\n    public var cityList:ArrayCollection = new ArrayCollection();        \n    public var logs:String=\"Application Logs........\\n\";\n\n    public static var _instance:DataModel;      \n\n    public static function getInstance():DataModel\n    {\n        if(_instance == null)\n        {\n            _instance = new DataModel();\n        }\n        return _instance;\n    }\n}}\n</code></pre>\n\n<p>and CityUtilities class is:</p>\n\n<pre><code>package utillities\n{\nimport flash.data.SQLResult;\nimport flash.data.SQLStatement;\nimport flash.display.Loader;\nimport flash.display.LoaderInfo;\nimport flash.events.Event;\nimport flash.net.URLRequest;\nimport flash.utils.ByteArray;\n\nimport model.DataModel;\n\nimport mx.collections.Sort;\nimport mx.collections.SortField;\n\nimport valueobject.CityValueObject;\n\n\n\npublic class CityUtils\n{\n    public static function getAllCities():void\n    {\n        var contactListStatement:SQLStatement = new SQLStatement();\n        contactListStatement.sqlConnection = DataModel.getInstance().connection;\n        contactListStatement.text = \"SELECT * FROM CITYNAME\";\n        contactListStatement.execute();\n        var result:SQLResult = contactListStatement.getResult();\n        if( result.data!=null)\n        {\n            DataModel.getInstance().cityList.removeAll();\n\n            for(var count:uint=0;count&lt;result.data.length;count++)\n            {\n                var cityVO:CityValueObject = new CityValueObject();\n                cityVO.id = result.data[count].id;\n                cityVO.nameofcity = result.data[count].city;                    \n                DataModel.getInstance().cityList.addItem(cityVO);\n            }\n        }\n        sortData();     \n    }\n\n    public static function sortData():void\n    {\n        var dataSortField:SortField = new SortField();\n        dataSortField.name = \"nameofcity\";\n        dataSortField.numeric = false;\n\n        /* Create the Sort object and add the SortField object created earlier to the array of fields to sort on. */\n        var numericDataSort:Sort = new Sort();\n        numericDataSort.fields = [dataSortField];\n\n        /* Set the ArrayCollection object's sort property to our custom sort, and refresh the ArrayCollection. */\n        DataModel.getInstance().cityList.sort = numericDataSort;\n        DataModel.getInstance().cityList.refresh();\n    }\n\n    public static function updateLog(newLog:String):void\n    {\n        DataModel.getInstance().logs += new Date().time+\" :-&gt; \"+newLog+\"\\n\";\n    }\n}}\n</code></pre>\n\n<p>Please tell me how to set labelField according to SQLite nameofcity column thanks in advance</p>\n"},{"tags":["android","database","sqlite","mobile-application"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":60,"score":1,"question_id":13158383,"title":"Previously created SQLite Database can not be accessed","body":"<p>I am creating an application in which I have to open a previously created SQLite Database. I am using a DBHelper class. Everything is fine when I am emulating the app, but the logcat is showing the following error:</p>\n\n<pre><code>10-31 17:59:56.345: I/Database(391): sqlite returned: error code = 14, msg = cannot open file at source line 25467\n10-31 17:59:56.345: E/Database(391): sqlite3_open_v2(\"/data/data/com.proj.neuroq/databases/quiz.db\", &amp;handle, 1, NULL) failed\n</code></pre>\n\n<p><strong>My Activity class:</strong></p>\n\n<pre><code>public class QuestionActivity extends Activity {\n\n    String db_name=\"quiz\";\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_question);\n\n        DatabaseHelper myDbHelper = new DatabaseHelper(getBaseContext());\n        myDbHelper = new DatabaseHelper(this);\n\n        try {\n\n            myDbHelper.createDatabase();\n\n    } catch (IOException ioe) {\n\n        throw new Error(\"Unable to create database\");\n\n    }\n\n    try {\n\n        myDbHelper.openDataBase();\n\n    }catch(SQLException sqle){\n\n        throw sqle;\n\n    }\n\n\n\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        getMenuInflater().inflate(R.menu.activity_question, menu);\n        return true;\n    }\n\n\n}\n</code></pre>\n\n<p><strong>My DatabaseHelper class:</strong></p>\n\n<pre><code>public class DatabaseHelper extends SQLiteOpenHelper {\n\n    private static String DB_PATH = \"/data/data/com.proj.neuroq/databases/\";\n    private static String DB_NAME = \"quiz.db\";\n    private SQLiteDatabase db;\n    private final Context myContext;\n\n    public DatabaseHelper(Context context) {\n        super(context, DB_NAME, null, 1);\n        this.myContext = context;\n    }\n\n    /**\n     * Creates a empty database on the system and rewrites it with your own database.\n     */\n    public void createDatabase() throws IOException {\n        boolean dbExist = checkDataBase();\n\n        if(dbExist) {\n            //do nothing - database already exist\n        } else {\n            //By calling this method and empty database will be created into the default system path\n            //of your application so we are gonna be able to overwrite that database with our database.\n            this.getReadableDatabase();\n\n            try {\n                copyDataBase();\n            } catch(IOException e) {\n                throw new Error(\"Error copying database\");\n            }\n        }\n    }\n\n    /**\n     * Check if the database already exist to avoid re-copying the file each time you open the application.\n     * @return true if it exists, false if it dosen't\n     */\n    private boolean checkDataBase(){\n        SQLiteDatabase checkDB = null;\n\n        try {\n            String myPath = DB_PATH + DB_NAME;\n            checkDB = SQLiteDatabase.openDatabase(myPath, null, SQLiteDatabase.OPEN_READONLY);\n        } catch (SQLiteException e) {\n\n        }\n\n        if(checkDB != null) {\n            checkDB.close();\n        }\n\n        return checkDB != null ? true : false;\n    }\n\n    /**\n     * Copies your database from your local assets-folder to the just created empty database in the\n     * system folder, from where it can be accessed and handled.\n     * This is done by transfering bytestream.\n     */\n    private void copyDataBase() throws IOException {\n        //Open your local db as the input stream\n        InputStream myInput = myContext.getAssets().open(DB_NAME);\n\n        // Path to the just created empty db\n        String outFileName = DB_PATH + DB_NAME;\n\n        // Open the empty db as the output stream\n        OutputStream myOutput = new FileOutputStream(outFileName);\n\n        //transfer bytes from the inputfile to the outputfile\n        byte[] buffer = new byte[1024];\n        int length;\n        while((length = myInput.read(buffer))&gt;0) {\n            myOutput.write(buffer, 0, length);\n        }\n\n        // Close the streams\n        myOutput.flush();\n        myOutput.close();\n        myInput.close();\n    }\n\n    public void openDataBase() throws SQLException {\n        //Open the database\n        String myPath = DB_PATH + DB_NAME;\n        db = SQLiteDatabase.openDatabase(myPath, null, SQLiteDatabase.OPEN_READONLY);\n    }\n\n    @Override\n    public synchronized void close() {\n        if(db != null)\n            db.close();\n\n        super.close();\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        // TODO Auto-generated method stub\n\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n        // TODO Auto-generated method stub\n\n    }\n\n}\n</code></pre>\n\n<p><strong>My manifest file:</strong></p>\n\n<pre><code>&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"com.proj.neuroq\"\n    android:versionCode=\"1\"\n    android:versionName=\"1.0\" &gt;\n\n    &lt;uses-sdk\n        android:minSdkVersion=\"8\"\n        android:targetSdkVersion=\"15\" /&gt;\n\n    &lt;application\n        android:icon=\"@drawable/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:theme=\"@style/AppTheme\" &gt;\n        &lt;activity\n            android:name=\".QuestionActivity\"\n            android:label=\"@string/title_activity_question\" &gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n                &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n\n<p><strong>This is my project structure:</strong></p>\n\n<p><img src=\"http://i.stack.imgur.com/WngWG.png\" alt=\"Project Structure **quiz.db** in **assets**\"></p>\n\n<p>This is my <strong>logcat output:</strong></p>\n\n<p><img src=\"http://i.stack.imgur.com/5XYsP.png\" alt=\"**Logcat** error\"></p>\n\n<p>The links I had referred: </p>\n\n<p><a href=\"http://www.reigndesign.com/blog/using-your-own-sqlite-database-in-android-applications/\" rel=\"nofollow\">http://www.reigndesign.com/blog/using-your-own-sqlite-database-in-android-applications/</a></p>\n\n<p><a href=\"http://snipplr.com/view.php?codeview&amp;id=58589\" rel=\"nofollow\">http://snipplr.com/view.php?codeview&amp;id=58589</a></p>\n\n<p>Where lies the tricky issue?</p>\n"},{"tags":["ios","database","sqlite","prepared-statement","nslog"],"answer_count":1,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":1146,"score":5,"question_id":9017766,"title":"iOS / sqlite - How to print a prepared sqlite3_stmt to NSLog","body":"<p>I'm having some unexpected results with the data i'm inserting or replacing into my sqlite database.  To trouble shoot the problem I'm trying to get a full print out of the prepared sqlite3_stmt (statement) in the below code. </p>\n\n<p>What I would like to do is something like this, but I know it doesn't work:</p>\n\n<pre><code>if (sqlite3_step(statement) == SQLITE_DONE) {\n            NSLog(@\"%@\", statement);\n</code></pre>\n\n<p>Is there anyway to accomplish this?</p>\n\n<p>Thanks!!</p>\n\n<pre><code>sqlite3_stmt *statement;\nconst char *dbPath = [databasePath UTF8String];\n\nif (true) {\n\n    ListingsObject *temp = (ListingsObject *) DatabaseObject;\n\n    if (sqlite3_open(dbPath, &amp;conyDB) == SQLITE_OK) {\n\n        const char *insertReplaceStmt = \"INSERT OR REPLACE INTO listings (id, association_id, name, email, phone, toll_free_phone, fax, website, street, city, state, zipcode, county, bio, featured, hours, lat, lng, updated, status) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\";\n\n        if (sqlite3_prepare_v2(conyDB, insertReplaceStmt, -1, &amp;statement, NULL) == SQLITE_OK) {\n            sqlite3_bind_text(statement, 1, [temp._id UTF8String], -1, SQLITE_TRANSIENT);\n            sqlite3_bind_text(statement, 2, [temp.associationId UTF8String], -1, SQLITE_TRANSIENT);\n            sqlite3_bind_text(statement, 3, [temp.name UTF8String], -1, SQLITE_TRANSIENT);\n            sqlite3_bind_text(statement, 4, [temp.email UTF8String], -1, SQLITE_TRANSIENT);\n            sqlite3_bind_text(statement, 5, [temp.phone UTF8String], -1, SQLITE_TRANSIENT);\n            sqlite3_bind_text(statement, 6, [temp.tollFreePhone UTF8String], -1, SQLITE_TRANSIENT);\n            sqlite3_bind_text(statement, 7, [temp.fax UTF8String], -1, SQLITE_TRANSIENT);\n            sqlite3_bind_text(statement, 8, [temp.website UTF8String], -1, SQLITE_TRANSIENT);\n            sqlite3_bind_text(statement, 9, [temp.street UTF8String], -1, SQLITE_TRANSIENT);\n            sqlite3_bind_text(statement, 10, [temp.city UTF8String], -1, SQLITE_TRANSIENT);\n            sqlite3_bind_text(statement, 11, [temp.state UTF8String], -1, SQLITE_TRANSIENT);\n            sqlite3_bind_text(statement, 12, [temp.zipcode UTF8String], -1, SQLITE_TRANSIENT);\n            sqlite3_bind_text(statement, 13, [temp.county UTF8String], -1, SQLITE_TRANSIENT);\n            sqlite3_bind_text(statement, 14, [temp.bio UTF8String], -1, SQLITE_TRANSIENT);\n            sqlite3_bind_text(statement, 15, [temp.featured UTF8String], -1, SQLITE_TRANSIENT);\n            sqlite3_bind_text(statement, 16, [temp.hours UTF8String], -1, SQLITE_TRANSIENT);\n            sqlite3_bind_text(statement, 17, [temp.lat UTF8String], -1, SQLITE_TRANSIENT);\n            sqlite3_bind_text(statement, 18, [temp.lng UTF8String], -1, SQLITE_TRANSIENT);\n            sqlite3_bind_text(statement, 19, [temp.updated UTF8String], -1, SQLITE_TRANSIENT);\n            sqlite3_bind_text(statement, 20, [temp.status UTF8String], -1, SQLITE_TRANSIENT);\n\n        }\n        if (sqlite3_step(statement) == SQLITE_DONE) {\n            NSLog(@\"Insert or Replace to Listing Table successful Listing = %@\", temp.name);\n\n        }else {\n            NSLog(@\"Failed to add to Listing table Listing = %@\", temp.name);\n        }\n        sqlite3_finalize(statement);\n    }\n sqlite3_close(conyDB);\n</code></pre>\n\n<p>UPDATE:\nI haven't found an answer to this question. But I needed to move on so I ended up just constructing a string with NSLog(); as below for each one of my tables I had to check:</p>\n\n<pre><code>NSLog(@\"     INSERT OR REPLACE INTO listings (id, association_id, name, email, phone, toll_free_phone, fax, website, street, city, state, zipcode, county, bio, featured, hours, lat, lng, updated, status) VALUES (\\\"%@\\\", \\\"%@\\\", \\\"%@\\\", \\\"%@\\\", \\\"%@\\\", \\\"%@\\\", \\\"%@\\\", \\\"%@\\\", \\\"%@\\\", \\\"%@\\\", \\\"%@\\\", \\\"%@\\\", \\\"%@\\\", \\\"%@\\\", \\\"%@\\\", \\\"%@\\\", \\\"%@\\\", \\\"%@\\\", \\\"%@\\\", \\\"%@\\\")\", temp._id, temp.associationId, temp.name, temp.email, temp.phone, temp.tollFreePhone, temp.fax\n                  , temp.website, temp.street, temp.city, temp.state, temp.zipcode, temp.county, temp.bio, temp.featured, temp.hours, temp.lat, temp.lng, temp.updated, temp.status);\n</code></pre>\n"},{"tags":["android","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":887,"score":2,"question_id":8681151,"title":"SQLiteException: Can't upgrade read-only database from version X to Y","body":"<p><strong>How to upgrade read only sqlite database</strong> </p>\n\n<p>I have tried to change to <code>SQLiteDatabase.OPEN_READWRITE);</code> and <code>getReadableDatabase();</code>\nthe result still the same.</p>\n\n<hr>\n\n<p>When I want to upgrade my sqlite datatbase from version 1 to 2 , I got this error : </p>\n\n<p><code>SQLiteException: Can't upgrade read-only database from version X to Y</code></p>\n\n<p>In the 1st verison of my apps , I use this code :</p>\n\n<pre><code>private static final String DB_NAME = \"this_the_database\";\nprivate final Context context;\nprivate static final int DATABASE_VERSION = 1;\n\npublic DatabaseHelper(Context context) {\n    super(context, DB_NAME, null, DATABASE_VERSION);\n    this.context = context;\n\n    String path = context.getDatabasePath(DB_NAME).getAbsolutePath();\n    SQLiteDatabase db = null;\n    try {\n        db = SQLiteDatabase.openDatabase(path, null,\n                SQLiteDatabase.OPEN_READONLY);\n    } catch (SQLiteException e) { // DB not found       \n        db = getReadableDatabase();\n        db.close();\n        // Copy DB from asset folder.\n        copyDatabase(path);\n    }\n\n    if (db != null) {\n        db.close();\n    }\n}\n</code></pre>\n\n<p>when I decided to upgarde the database using this , it crashed</p>\n\n<pre><code>@Override\npublic void onCreate(SQLiteDatabase db) {\n    new DatabaseHelper(context).getReadableDatabase();\n}\n\n@Override\npublic void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n    db.execSQL(\"DROP TABLE IF EXISTS \" + DB_NAME);\n    onCreate(db);\n}\n</code></pre>\n\n<p>Ref: <a href=\"http://www.reigndesign.com/blog/using-your-own-sqlite-database-in-android-applications/\" rel=\"nofollow\">http://www.reigndesign.com/blog/using-your-own-sqlite-database-in-android-applications/</a></p>\n"},{"tags":["sqlite","shell"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":19,"score":1,"question_id":13162391,"title":"How to find a string in a sqlite3 table?","body":"<p>Is there a pure sqlite request to find a string in a database ? </p>\n\n<p>With a bit of shell, I can extract the schemas from the tables:</p>\n\n<pre><code>for i in *sqlite; \n   do sqlite3 $i \".tables\"\n   | grep -Eoh \"[^ ]+\" \n   | while read t; do \n          echo -n \"$i:$t  \";\n          sqlite3 $i '.schema \"'\"$t\"'\"';\n   done;\necho;\ndone\n</code></pre>\n\n<p>Then I could find which column has the type TEXT, and make a request.</p>\n\n<p>But is there a pure SQL way to do this in a terminal ?</p>\n"},{"tags":["objective-c","ios","string","sqlite","nsstring"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":50,"score":2,"question_id":13162486,"title":"How to encode NSString correctly for SQLite all the while preserving Scandinavian letters","body":"<p>I'm currently working on an IOS app that will have fulltext search. The search is performed by performing a select statement on a sqlite database, but the problem is that many of the values in the database contain Scandinavian letters (Æ, Ö, Á etc) and I'm having trouble converting the statement without getting hex values for the letters.</p>\n\n<p>Here is what I'm currently doing:</p>\n\n<pre><code> const char *sql = [[NSString stringWithFormat:\n                     @\"SELECT %@\\\n                     FROM Customer c\\\n                     JOIN Customer_Metadata cm ON c.CustomerId = cm.CustomerId\\\n                     WHERE cm.Name LIKE '%%%@%%'\\\n                     ORDER BY cm.Name\", kCustomerSelect, searchString] UTF8String];  \n</code></pre>\n\n<p>Now kCustomerSelect is a constant containing the columns I want to select, and searchString contains the user input.</p>\n\n<p>This works like a charm for normal Latin letters, but if I for instance pass along Ö, as a searchString, I get st\\xc3\\xb6. I am aware that simply logging out a UTF8 encoded string will not give correct representation of the string, but the problem is that my select statement isn't giving me any results. </p>\n\n<p>I'm calling sqlite3_open() before executing the query and from the SQLite documentation *\"The default encoding for the database will be UTF-8 if sqlite3_open() or sqlite3_open_v2() is called and UTF-16 in the native byte order if sqlite3_open16() is used.\"*.</p>\n\n<p>I've tried using different encodings by replacing <code>UTF8String</code> with <code>cStringUsingEncoding:</code> and trying out different encodings. None of them have worked (not that I was expecting them, but at least wanted to try).</p>\n\n<p>Any and all help, or tips, would be appreciated.</p>\n\n<p><strong>Edit</strong>\nI've now tried using SQLite Database Browser to run the same select statement on the database and am not getting any results. \nThis is leading me to believe that this might have something to do with me using FTS3 to create my Customer_Metadata table. </p>\n\n<p>MrDresden</p>\n"},{"tags":["android","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":45,"score":1,"question_id":13157094,"title":"very slow join even with indexes","body":"<p>I created 3 tables like :</p>\n\n<pre><code>db.execSQL(\"CREATE TABLE IF NOT EXISTS programs (id_program INTEGER PRIMARY KEY    AUTOINCREMENT , id_channel TEXT  , nom_prgrm TEXT  , debut TEXT , fin TEXT , FOREIGN KEY(id_channel) REFERENCES channels(id_channel)) \");\ndb.execSQL(\"CREATE INDEX __program_index ON programs(nom_prgrm)\"); \ndb.execSQL(\"CREATE TABLE IF NOT EXISTS categories (id_categorie INTEGER PRIMARY KEY  AUTOINCREMENT, nom_categorie TEXT)\");\ndb.execSQL(\"CREATE UNIQUE INDEX __categorie_index ON   categories(nom_categorie,id_categorie)\"); \ndb.execSQL(\"CREATE TABLE IF NOT EXISTS categories_programs (id_categorie INTEGER REFERENCES categories(id_categorie) ,id_program INTEGER REFERENCES programs(id_program), PRIMARY KEY(id_categorie,id_program))\");\n</code></pre>\n\n<p>programs table contains alomost 2500 records and categories 150 so the link table has 3400 rec</p>\n\n<p>when i execute this query it takes a very  long time to show me the result i don't know how to optimiz this !! </p>\n\n<pre><code>SELECT  id_channel , nom_categorie , debut , fin , nom_prgrm FROM programs, categories_programs, categories WHERE ( (categories_programs.id_program = programs.id_program) AND (categories_programs.id_categorie = categories.id_categorie) AND  ('\"+sentence+\"' LIKE ('%' || nom_categorie || '%')))\n</code></pre>\n\n<p>probably it's the join wich is causing this problem ??</p>\n\n<p>thanks for help </p>\n\n<p>My problem is solved i tried the same code on an android 4.1 and it worked very fast but with an S2 ( android 2.3) it was slow !</p>\n"},{"tags":["android","database","sqlite","upgrade","upgrade-issue"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":47,"score":1,"question_id":13159210,"title":"onUpgrade() sqlite database in Android","body":"<p>I creted an Android application which, check at startup if there is anew version of application. If yes, the application download the new apk file and over-install new apk. \nMy application use the sqlite db. But this db, from one version to other can change.\nI think I have to use the method:</p>\n\n<pre><code> onUpgrade()\n</code></pre>\n\n<p>but I don't know exactly use it.</p>\n\n<p>When I start the application I use this code for crete database(if not exists):</p>\n\n<pre><code>DbHelper mDHelper = new DbHelper(context, DB_NAME, null, DB_VERSION)\n</code></pre>\n\n<p>What I should change if I want use onUpgrade() method?\nAnd when I have to call it?</p>\n"},{"tags":["sqlite","samba"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":13,"score":1,"question_id":13162006,"title":"share sqlite database for read only","body":"<p>I have a python script that accesses some tables on a SQLite database. I would like to share the database with my collaborators, so that they can all use the script. For this reason, it's fine if they have a read only access. </p>\n\n<p>At the moment we are sharing a folder over samba. Do you know if there is an easy way to share this database?</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["android","sqlite","phonegap","webkit","phonegap-plugins"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":22,"score":-1,"question_id":13161816,"title":"phonegap sqlitelog error","body":"<p>I'm trying to execute my android application using phonegap but I'm having the following error when I execute a plugin that i created:</p>\n\n<blockquote>\n  <p>15:33:12.912: E/SQLiteLog(2249): (14) cannot open file at line\n  30174 of [00bb9c9ce4] 10-31 15:33:12.912: E/SQLiteLog(2249): (14)\n  os_unix.c:30174: (2) open(/CachedGeoposition.db) -  10-31\n  15:33:12.912: D/WebKit(2249): ERROR:  10-31 15:33:12.921:\n  D/WebKit(2249): SQLite database failed to load from\n  /CachedGeoposition.db 10-31 15:33:12.921: D/WebKit(2249): Cause -\n  unable to open database file 10-31 15:33:12.921: D/WebKit(2249):\n  external/webkit/Source/WebCore/platform/sql/SQLiteDatabase.cpp(71) :\n  bool WebCore::SQLiteDatabase::open(const WTF::String&amp;, bool)</p>\n</blockquote>\n\n<p>By the way, I'm not using a sqlite database </p>\n"},{"tags":["flex","sqlite","actionscript"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13160430,"title":"Can ActionScript Workers used to do database operation?","body":"<p>I am writing a very heavy application in AIR. I managed to overcome all Memory Leak issues. But the performance is degraded due to background DB operations (Sync).</p>\n\n<p>My question is can I use ActionScript Workers do such background tasks?</p>\n\n<p>Thanks,\nIndrajit</p>\n"},{"tags":["sqlite","select","join","sql-update"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":23,"score":3,"question_id":13159929,"title":"UPDATE multiple rows using SELECT","body":"<p>I have A table and two rows with id=1 and id=2 and their x parameter is 1. I also have B table and two rows with same id 1 and 2. I am trying to update all of the data(column)on B table which has same id with A table whose x parameter is 1.</p>\n\n<p>A table </p>\n\n<pre><code>id | x |\n 1 | 1 |\n 2 | 1 |\n</code></pre>\n\n<p>B table</p>\n\n<pre><code>id | Y  |\n 1 | yes|\n 2 | yes|\n</code></pre>\n\n<p>My query is</p>\n\n<pre><code> UPDATE B SET y='No' WHERE B.id=(SELECT A.id FROM A WHERE A.x=1);\n</code></pre>\n\n<p>The problem is select returns mutliple data and i can only update the first data. \nI tried to use JOIN but sqlite gives syntax error near INNER i couldn't find the problem.</p>\n\n<pre><code> UPDATE B SET B.y='No' INNER JOIN A ON B.id=A.id WHERE A.x=1;\n</code></pre>\n"},{"tags":["ios","xcode","sqlite"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":31,"score":1,"question_id":13159628,"title":"When changing SQLite data in external editor file is not copied to the device","body":"<p>My iOS app uses object screen coordinates stored in SQLite file. During development I'm changing coordinates for some objects. To get this reflected on the device I always have to delete app from device. Only then SQLite with changed data is copied over to the device after compilation. No code is changed, only SQLite contents.</p>\n\n<ol>\n<li>Is there a way to copy only SQLite file to the app on the iPad (without recompile and app deletion)</li>\n<li>Is there a way to tell Xcode to always copy and overwrite SQLite file after compile and deployment?</li>\n</ol>\n\n<p>Janis</p>\n"},{"tags":["android","sqlite","increment"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":34,"score":1,"question_id":13159358,"title":"Database update on id deleted","body":"<p>Can someone tell  me what is wrong with coding below. Why I can not update next positions?</p>\n\n<pre><code>     public static void deleteItemsFromProduct(long nomer) {\n\n        cursor_child = DataSourceChild.queryAllinChild();\n\n        if (cursor_child != null) {\n\n            par = new String[]{String.valueOf(nomer)};\n\n            db_child.delete(DBHelperChild.TABLE_ITEMS_AND_PRICES, DBHelperChild.COLUMN_NOMER + \"=?\", par);\n\n\nProd.setProdId(nomer);\n\ncv_child = new ContentValues();\ncv_child.put(DBHelperChild.COLUMN_NOMER, Prod.getProdId());\n\npar = new String[]{String.valueOf(nomer+1)};\n\nint updCount = db_child.update(DBHelperChild.TABLE_ITEMS_AND_PRICES, cv_child, DBHelperChild.COLUMN_NOMER + \"=?\", par);\n\nLog.d(LOG_TAG, \"updated rows count = \" + updCount);\n\n            if (cursor_child.moveToFirst()) {\n\n                Log.d(LOG_TAG, \"--- Left in the table for items and prices: ---\");\n\n                do {\n\n                    Log.d(LOG_TAG,\n                            \"item id = \" + cursor_child.getInt(item_and_price_idColIndex)\n                            + \", item name = \" + cursor_child.getString(item_ColIndex)\n                            + \", item price = \" + cursor_child.getInt(price_ColIndex)\n                            + \", product nomer = \" + cursor_child.getInt(nomer_ColIndex));\n\n                } while (cursor_child.moveToNext());\n            } else {\n            }\n\n        } else {\n            Log.d(LOG_TAG, \"Cursor is null\");\n            // закрываем курсор\n            cursor_child.close();\n\n        }\n    }\n</code></pre>\n\n<p>The idea is to delete set of items in the list while getting id (nomer) from another list. This code updates only the next id nomer after deleted but not others down the list.\nThank you.</p>\n"},{"tags":["wpf","sqlite","c#-4.0","entity-framework-4"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13158448,"title":"SQLite and Entity Framework in Wpf App","body":"<p>Iam using SQLite and Entity Framework in my wpf app. It works fine in development machine, but when I deployed it to the other machine it doesn't work. I got the following error message</p>\n\n<pre><code>System.Data.EntityException: The underlying provider failed on Open. ---&gt;     \nSystem.Data.SQLite.SQLiteException: Unable to open the database file\nat System.Data.SQLite.SQLite3.Open(String strFilename, SQLiteOpenFlagsEnum flags, Int32  \nmaxPoolSize, Boolean usePool)\n</code></pre>\n\n<p>Can you give me suggesstion about \"How to publish wpf app with SQLite and entity framework?\"</p>\n"},{"tags":["c#","sql","database","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13157760,"title":"SQLite auto increment issue","body":"<p>I have created a SQLite database in C# and i used that query to create a table.</p>\n\n<pre><code>string q = \"create table mains ( id int IDENTITY, desc varchar(20), PRIMARY KEY(id) )\"; \nExecuteQuery(q);\n</code></pre>\n\n<p>And i tried adding a record like that :</p>\n\n<pre><code>string txtSQLQuery = \"insert into  mains (desc) values ('\" + textBox1.Text + \"')\";\nExecuteQuery(txtSQLQuery);\n</code></pre>\n\n<p>I just added a desc and not ID , i guess it should auto increment the id field but it does not.\nInstead it adds the desc and the the ID field is empty every time i add a new record </p>\n\n<p>EDIT :\ni tried using :</p>\n\n<pre><code>id int PRIMARY KEY AUTOINCREMENT\n</code></pre>\n\n<p>But got Error :</p>\n\n<pre><code>SQLite.SQLiteException: near \"AUTOINCREMENT\":\n</code></pre>\n\n<p>EDIT 2 :\nI get that when i load the records :</p>\n\n<p><img src=\"http://i.stack.imgur.com/L9XcX.png\" alt=\"enter image description here\"></p>\n\n<p>There are no Numbers in the ID field at all.</p>\n"},{"tags":["android","sqlite","drop-table"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":39,"score":1,"question_id":13157682,"title":"DROP TABLE not work in sqlite","body":"<p>I try to drop table programmatically nothing error show in logcat, but there has no any result : </p>\n\n<p>Here my Database Helper class : </p>\n\n<pre><code>public class database1 extends SQLiteOpenHelper\n{\n    private static final String DB_Name=\"database\";\n    private static final int DB_Version=1;\n    private static final String tbl_arrival1=\"arrival1\";\n    private static final String STRING_CREATE1 = \"CREATE TABLE IF NOT EXISTS \"+tbl_arrival1\n            +\" (_f_id INTEGER PRIMARY KEY AUTOINCREMENT, \"\n            +\"f_date TEXT,\"\n            +\"o_rder NUMERIC,\"\n            +\"rem_com TEXT);\";\n    public database1 (Context ctx)\n    {\n        super(ctx,DB_Name,null,DB_Version);\n    }\n    @Override\n    public void onCreate(SQLiteDatabase database) {\n        databaseQuery.onCreate(database);\n      }\n    public static class databaseQuery \n    {\n        public static void onCreate(SQLiteDatabase database)\n        {   \n            database.execSQL(\"DROP TABLE IF EXISTS \"+tbl_arrival1);\n            database.execSQL(STRING_CREATE1);\n        }\n    }\n}\n</code></pre>\n\n<p>I use this database helper in content provider :</p>\n\n<pre><code>database1 DBHelper ;\npublic Uri insert(Uri uri, ContentValues values) \n    {\n        long row_id;\n        SQLiteDatabase sqlDB = DBHelper.getWritableDatabase();\n        row_id=sqlDB.insert(tbl_arrival1, null, values);\n        if(row_id&gt;0)\n        {\n            Uri _uri = ContentUris.withAppendedId(CONTENT_URI, row_id);\n            getContext().getContentResolver().notifyChange(_uri, null);\n            return _uri;\n        }\n        throw new SQLException(\"Failed to insert into \"+uri);\n    }\n</code></pre>\n\n<p>The problem is that, the query drop table, is not working!</p>\n\n<p>All suggestion and answer would be highly appreciated... </p>\n\n<p>thanks </p>\n"},{"tags":["java","android","xml","sqlite","android-backup-service"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":384,"score":2,"question_id":6808333,"title":"Android application backup and restore?","body":"<p>For the application I'm creating, I'd like users to be able to backup their application data (to an SD card for instance). What I mean by application data is the preferences and SQLite database. I'd also like to make it possible to restore the data.</p>\n\n<p>Is it possible to do this with BackupManager? If yes, can someone give me a simple example.</p>\n"},{"tags":["android","sqlite","list","increment"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13156544,"title":"Database update and id incerment when list item deleted","body":"<p>I am working on my first application and it has two lists defined in two activities. List A has positions and List B items. The data in both lists saved and uploaded from the database. Everything works fine so far, when I delete position in List A, I want the set of items that belongs to position deleted to be deleted as well in B. This one is done. But after that items should be incremented and get new ids. How to achieve this. Here is my code with explanations:`</p>\n\n<pre><code>   public static void deleteItemsFromProduct(long nomer) { \\\\ long nomer - id of deleted position in List A \n\n        // getting cursor\n        cursor_child = DataSourceChild.queryAllinChild();\n\n        if (cursor_child != null) {\n\n            // defining string array for all items that have id marks matched to nomer \n            par = new String[]{String.valueOf(nomer)};\n\n            // deleting string array \n            db_child.delete(DBHelperChild.TABLE_ITEMS_AND_PRICES, DBHelperChild.COLUMN_NOMER + \"=?\", par);\n</code></pre>\n\n<p>// untill this point everything works and clear for understanding </p>\n\n<pre><code>// put current nomer into setter \nProd.setProdId(nomer);\n\n// define it for each item in the the next set of items\ncv_child = new ContentValues();\ncv_child.put(DBHelperChild.COLUMN_NOMER, Prod.getProdId());\n\n\n// defining next string array \npar = new String[]{String.valueOf(nomer+1)};\n\n// update items with next id mark \nint updCount = db_child.update(DBHelperChild.TABLE_ITEMS_AND_PRICES, cv_child, DBHelperChild.COLUMN_NOMER + \"=?\", par);\n\nLog.d(LOG_TAG, \"updated rows count = \" + updCount);\n\n            if (cursor_child.moveToFirst()) {\n\n                Log.d(LOG_TAG, \"--- Left in the table for items and prices: ---\");\n\n                do {\n\n                    Log.d(LOG_TAG,\n                            \"item id = \" + cursor_child.getInt(item_and_price_idColIndex)\n                            + \", item name = \" + cursor_child.getString(item_ColIndex)\n                            + \", item price = \" + cursor_child.getInt(price_ColIndex)\n                            + \", product nomer = \" + cursor_child.getInt(nomer_ColIndex));\n\n                } while (cursor_child.moveToNext());\n            } else {\n            }\n\n        } else {\n            Log.d(LOG_TAG, \"Cursor is null\");\n            // close cursor\n            cursor_child.close();\n\n        }\n    }`\n</code></pre>\n\n<p>Here is the Log of what I am doing because it is hard to describe in words especially for the new guy:</p>\n\n<pre><code>`10:16:11.109   113 com.android.inputmethod.latin   DEBUG   dalvikvm    GC_EXTERNAL_ALLOC freed 74K, 49% free 2904K/5639K, external 2317K/2503K, paused 91ms\n10:16:14.880    2493    example.CustomAdapter   DEBUG       Item and Price rows inserted, id = 434\n10:16:14.900    2493    example.CustomAdapter   DEBUG       item id = 431, item name = 0, item price = 0, product nomer = 0\n10:16:14.900    2493    example.CustomAdapter   DEBUG       item id = 432, item name = 1, item price = 1, product nomer = 1\n10:16:14.909    2493    example.CustomAdapter   DEBUG       item id = 433, item name = 2, item price = 2, product nomer = 2\n10:16:14.920    2493    example.CustomAdapter   DEBUG       item id = 434, item name = 3, item price = 3, product nomer = 3\n10:16:16.470    2493    example.CustomAdapter   DEBUG       ChildActivity: onPause()\n10:16:16.529    2493    example.CustomAdapter   DEBUG       MainActivity: onResume()\n10:16:16.600    2493    example.CustomAdapter   DEBUG       Product id = 165, name = х, image = /mnt/sdcard/download/sliced-bread-icon.png\n10:16:16.619    2493    example.CustomAdapter   DEBUG       Product id = 166, name = м, image = /mnt/sdcard/download/meat-icon.png\n10:16:16.640    2493    example.CustomAdapter   DEBUG       Product id = 167, name = н, image = /mnt/sdcard/download/Basket-icon.png\n10:16:16.659    2493    example.CustomAdapter   DEBUG       Product id = 168, name = х, image = /mnt/sdcard/download/sliced-bread-icon.png\n10:16:17.229    2493    example.CustomAdapter   DEBUG       ChildActivity: onDestroy()\n10:16:24.230    2493    example.CustomAdapter   DEBUG       --- Delete from table for products: ---\n10:16:24.230    2493    example.CustomAdapter   DEBUG       deleted row id = 166, name = м, image = /mnt/sdcard/download/meat-icon.png\n10:16:24.491    2493    example.CustomAdapter   DEBUG       updated rows count = 1\n10:16:24.504    2493    example.CustomAdapter   DEBUG       --- Left in the table for items and prices: ---\n10:16:24.520    2493    example.CustomAdapter   DEBUG       item id = 431, item name = 0, item price = 0, product nomer = 0\n10:16:24.520    2493    example.CustomAdapter   DEBUG       item id = 433, item name = 2, item price = 2, product nomer = 1\n10:16:24.530    2493    example.CustomAdapter   DEBUG       item id = 434, item name = 3, item price = 3, product nomer = 3\n10:16:24.700    61  system_process  WARN    InputManagerService Window already focused, ignoring focus gain of: com.android.internal.view.IInputMethodClient$Stub$Proxy@407873b0\n</code></pre>\n\n<p>`\nFrom the LOG could be seen that when I delete Product id = 166 that stands in the List with id 1 (product nomer 1), item id = 432 with product nomer 1 is also deleted. Next item id = 433 gets deleted nomer 1 and replaces it but item id = 434 still stays as nomer 3 but not 2. How to change my code in a proper way to solve this problem. This is the final thing to do in my firts application. Thank you in advance.</p>\n\n<pre><code>    11:53:47.629    113 com.android.inputmethod.latin   DEBUG   dalvikvm    GC_EXTERNAL_ALLOC freed 83K, 49% free 2910K/5639K, external 2344K/2365K, paused 155ms\n11:53:52.829    2638    example.CustomAdapter   DEBUG       Item and Price rows inserted, id = 2\n11:53:52.860    2638    example.CustomAdapter   DEBUG       item id = 0, item name = 0, item price = 0, product nomer = 0\n11:53:52.860    2638    example.CustomAdapter   DEBUG       item id = 0, item name = 1, item price = 1, product nomer = 1\n11:53:52.870    2638    example.CustomAdapter   DEBUG       item id = 0, item name = 2, item price = 2, product nomer = 2\n11:53:55.159    2638    example.CustomAdapter   DEBUG       ChildActivity: onPause()\n11:53:55.209    2638    example.CustomAdapter   DEBUG       MainActivity: onResume()\n11:53:55.332    2638    example.CustomAdapter   DEBUG       Product id = 172, name = х, image = /mnt/sdcard/download/sliced-bread-icon.png\n11:53:55.400    2638    example.CustomAdapter   DEBUG       Product id = 173, name = м, image = /mnt/sdcard/download/meat-icon.png\n11:53:55.429    2638    example.CustomAdapter   DEBUG       Product id = 174, name = н, image = /mnt/sdcard/download/Basket-icon.png\n11:53:55.970    2638    example.CustomAdapter   DEBUG       ChildActivity: onDestroy()\n11:54:03.579    2638    example.CustomAdapter   DEBUG       --- Delete from table for products: ---\n11:54:03.609    2638    example.CustomAdapter   DEBUG       deleted row id = 172, name = х, image = /mnt/sdcard/download/sliced-bread-icon.png\n11:54:03.889    2638    example.CustomAdapter   DEBUG       updated rows count = 1\n11:54:03.900    2638    example.CustomAdapter   DEBUG       --- Left in the table for items and prices: ---\n11:54:03.909    2638    example.CustomAdapter   DEBUG       item id = 0, item name = 1, item price = 1, product nomer = 0\n11:54:03.909    2638    example.CustomAdapter   DEBUG       item id = 0, item name = 2, item price = 2, product nomer = 2\n11:54:04.090    61  system_process  WARN    InputManagerService Window already focused, ignoring focus gain of: com.android.internal.view.IInputMethodClient$Stub$Proxy@406df618\n</code></pre>\n"},{"tags":["java","android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":63,"score":-3,"question_id":13156298,"title":"android view data from database to list view","body":"<pre><code>public List&lt;Contact&gt; getAllContacts() {\n        List&lt;Contact&gt; contactList = new ArrayList&lt;Contact&gt;();\n        // Select All Query\n        String selectQuery = \"SELECT  * FROM \" + TABLE_CONTACTS;\n\n        SQLiteDatabase db = this.getWritableDatabase();\n        Cursor cursor = db.rawQuery(selectQuery, null);\n\n        // looping through all rows and adding to list\n        if (cursor.moveToFirst()) {\n            do {\n                Contact contact = new Contact();\n                contact.setID(Integer.parseInt(cursor.getString(0)));\n                contact.setPerkara(cursor.getString(1));\n                contact.setTarikhKejadian(cursor.getString(2));\n                contact.setMasaMula(cursor.getString(3));\n                contact.setMasaAkhir(cursor.getString(4));\n                // Adding contact to list\n                contactList.add(contact);\n            } while (cursor.moveToNext());\n        }\n\n        // return contact list\n        return contactList;\n    }\n</code></pre>\n\n<p>This is what I am using to call data from <code>SQLite</code>. The data is there.But I don't know how to call it and put the data in the list view.</p>\n\n<p>I am using <code>List&lt;Contact&gt; contacts = db.getAllContacts();</code> in my java program and then I stuck the example I have only show how to see the data in log.</p>\n\n<p>what method should I use to call the data from database and view it in list view?</p>\n"},{"tags":["c","sqlite","point-of-sale"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":35,"score":-3,"question_id":13153452,"title":"Mobile POS Device Programming in c","body":"<p>how to access a web service from a mobile POS Device application in c and to store the accessed data in the device to use it (like printing bills for a collection) when it is required.can anyone please give any guidance for the above requirement iam totally new with POS development and i have only reached the first stage of research on available details on POS which i should say was not very successful.any valuable information regarding the same will be great. </p>\n"},{"tags":["javascript","sqlite"],"answer_count":9,"favorite_count":5,"up_vote_count":18,"down_vote_count":0,"view_count":29014,"score":18,"question_id":61972,"title":"JavaScript sqlite","body":"<p>Best recommendations for accessing and manipulation of sqlite databases from JavaScript.</p>\n"},{"tags":["android","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1795,"score":0,"question_id":8060324,"title":"using update statement in sqlite in android","body":"<p>I want to update a row in sqlite. My query looks like this</p>\n\n<p><code>update name=\"aaa\",publisher=\"ppp\",price=\"111\" where bookid=5 and booktype=\"comic\"</code></p>\n\n<p>I want to update by using  the following update command .</p>\n\n<p><code>int android.database.sqlite.SQLiteDatabase.update(String table, ContentValues values, String whereClause, String[] whereArgs)</code></p>\n\n<p>What should be the parameters for \"whereClause\" and \"whereArgs\". I am searching in Internet but I am not getting related examples. please help me.  </p>\n"},{"tags":["database","sqlite"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":16,"score":-1,"question_id":13154573,"title":"How to retrieve data from sqlite for every increment day?","body":"<p>i'm developing an app using SqLite. Here the concept is, i'll be having database table with list of string values. Activity as to show one string value per day. As the day changes to new day, it needs to update the activity with next string value. So how to approach this problem, pls help me.</p>\n\n<p>Thanx in advance..</p>\n"}]}
{"total":16516,"page":4,"pagesize":100,"questions":[{"tags":["sql","database","sqlite","sqlite3"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":36,"score":2,"question_id":13154604,"title":"Delete from database all selected rows except first two","body":"<p>I need to delete all dates from database except first two selected dates:</p>\n\n<pre><code>SELECT DateColumn \nFROM Table \nGROUP BY date(DateColumn) \nORDER BY DateColumn DESC\n</code></pre>\n\n<p>I want in one query to delete all dates except first two.</p>\n"},{"tags":["android","sqlite"],"answer_count":5,"favorite_count":2,"up_vote_count":4,"down_vote_count":0,"view_count":10994,"score":4,"question_id":4452538,"title":"android: location of sqlite database on the device","body":"<p>I've created a sqlite database programmatically with the default way of extending SQLiteOpenHelper and overriding onCreate. This way db gets created on the fly when needed.</p>\n\n<p>I'd like to check the contents of the db file on my OS X machine with a sqlite browser.\nI know the name of db file, but can't find it on the device. I've connected to the device via USB, then looked with finder and terminal, just can't find the db file. </p>\n\n<p>What is the default location for sqlite databases on an android device?</p>\n\n<p>pom </p>\n"},{"tags":["sql","database","performance","sqlite","sqlite3"],"answer_count":6,"favorite_count":2,"up_vote_count":8,"down_vote_count":0,"view_count":1220,"score":8,"question_id":8988915,"title":"SQLite: COUNT slow on big tables","body":"<p>I'm having a performance problem in SQLite with a SELECT COUNT(*) on a large tables.</p>\n\n<p>As I didn't yet receive a usable answer and I did some further testing, I edited my question to incorporate my new findings.</p>\n\n<p>I have 2 tables:</p>\n\n<pre><code>CREATE TABLE Table1 (\nKey INTEGER NOT NULL,\n... several other fields ...,\nStatus CHAR(1) NOT NULL,\nSelection VARCHAR NULL,\nCONSTRAINT PK_Table1 PRIMARY KEY (Key ASC))\n\nCREATE Table2 (\nKey INTEGER NOT NULL,\nKey2 INTEGER NOT NULL,\n... a few other fields ...,\nCONSTRAINT PK_Table2 PRIMARY KEY (Key ASC, Key2 ASC))\n</code></pre>\n\n<p>Table1 has around 8 million records and Table2 has around 51 million records, and the databasefile is over 5GB.</p>\n\n<p>Table1 has 2 more indexes:</p>\n\n<pre><code>CREATE INDEX IDX_Table1_Status ON Table1 (Status ASC, Key ASC)\nCREATE INDEX IDX_Table1_Selection ON Table1 (Selection ASC, Key ASC)\n</code></pre>\n\n<p>\"Status\" is required field, but has only 6 distinct values, \"Selection\" is not required and has only around 1.5 million values different from null and only around 600k distinct values.</p>\n\n<p>I did some tests on both tables, you can see the timings below, and I added the \"explain query plan\" for each request (QP). I placed the database file on an USB-memorystick so i could remove it after each test and get reliable results without interference of the disk cache. Some requests are faster on USB (I suppose due to lack of seektime), but some are slower (table scans).</p>\n\n<pre><code>SELECT COUNT(*) FROM Table1\n    Time: 105 sec\n    QP: SCAN TABLE Table1 USING COVERING INDEX IDX_Table1_Selection(~1000000 rows)\nSELECT COUNT(Key) FROM Table1\n    Time: 153 sec\n    QP: SCAN TABLE Table1 (~1000000 rows)\nSELECT * FROM Table1 WHERE Key = 5123456\n    Time: 5 ms\n    QP: SEARCH TABLE Table1 USING INTEGER PRIMARY KEY (rowid=?) (~1 rows)\nSELECT * FROM Table1 WHERE Status = 73 AND Key &gt; 5123456 LIMIT 1\n    Time: 16 sec\n    QP: SEARCH TABLE Table1 USING INDEX IDX_Table1_Status (Status=?) (~3 rows)\nSELECT * FROM Table1 WHERE Selection = 'SomeValue' AND Key &gt; 5123456 LIMIT 1\n    Time: 9 ms\n    QP: SEARCH TABLE Table1 USING INDEX IDX_Table1_Selection (Selection=?) (~3 rows)\n</code></pre>\n\n<p>As you can see the counts are very slow, but normal selects are fast (except for the 2nd one, which took 16 seconds).</p>\n\n<p>The same goes for Table2:</p>\n\n<pre><code>SELECT COUNT(*) FROM Table2\n    Time: 528 sec\n    QP: SCAN TABLE Table2 USING COVERING INDEX sqlite_autoindex_Table2_1(~1000000 rows)\nSELECT COUNT(Key) FROM Table2\n    Time: 249 sec\n    QP: SCAN TABLE Table2 (~1000000 rows)\nSELECT * FROM Table2 WHERE Key = 5123456 AND Key2 = 0\n    Time: 7 ms\n    QP: SEARCH TABLE Table2 USING INDEX sqlite_autoindex_Table2_1 (Key=? AND Key2=?) (~1 rows)\n</code></pre>\n\n<p>Why is SQLite not using the automatically created index on the primary key on Table1 ?\nAnd why, when he uses the auto-index on Table2, it still takes a lot of time ?</p>\n\n<p>I created the same tables with the same content and indexes on SQL Server 2008 R2 and there the counts are nearly instantaneous.</p>\n\n<p>One of the comments below suggested executing ANALYZE on the database. I did and it took 11 minutes to complete.\nAfter that, I ran some of the tests again:</p>\n\n<pre><code>SELECT COUNT(*) FROM Table1\n    Time: 104 sec\n    QP: SCAN TABLE Table1 USING COVERING INDEX IDX_Table1_Selection(~7848023 rows)\nSELECT COUNT(Key) FROM Table1\n    Time: 151 sec\n    QP: SCAN TABLE Table1 (~7848023 rows)\nSELECT * FROM Table1 WHERE Status = 73 AND Key &gt; 5123456 LIMIT 1\n    Time: 5 ms\n    QP: SEARCH TABLE Table1 USING INTEGER PRIMARY KEY (rowid&gt;?) (~196200 rows)\nSELECT COUNT(*) FROM Table2\n    Time: 529 sec\n    QP: SCAN TABLE Table2 USING COVERING INDEX sqlite_autoindex_Table2_1(~51152542 rows)\nSELECT COUNT(Key) FROM Table2\n    Time: 249 sec\n    QP: SCAN TABLE Table2 (~51152542 rows)\n</code></pre>\n\n<p>As you can see, the queries took the same time (except the query plan is now showing the real number of rows), only the slower select is now also fast.</p>\n\n<p>Next, I create dan extra index on the Key field of Table1, which should correspond to the auto-index. I did this on the original database, without the ANALYZE data. It took over 23 minutes to create this index (remember, this is on an USB-stick).</p>\n\n<pre><code>CREATE INDEX IDX_Table1_Key ON Table1 (Key ASC)\n</code></pre>\n\n<p>Then I ran the tests again:</p>\n\n<pre><code>SELECT COUNT(*) FROM Table1\n    Time: 4 sec\n    QP: SCAN TABLE Table1 USING COVERING INDEX IDX_Table1_Key(~1000000 rows)\nSELECT COUNT(Key) FROM Table1\n    Time: 167 sec\n    QP: SCAN TABLE Table2 (~1000000 rows)\nSELECT * FROM Table1 WHERE Status = 73 AND Key &gt; 5123456 LIMIT 1\n    Time: 17 sec\n    QP: SEARCH TABLE Table1 USING INDEX IDX_Table1_Status (Status=?) (~3 rows)\n</code></pre>\n\n<p>As you can see, the index helped with the count(*), but not with the count(Key).</p>\n\n<p>Finaly, I created the table using a column constraint instead of a table constraint:</p>\n\n<pre><code>CREATE TABLE Table1 (\nKey INTEGER PRIMARY KEY ASC NOT NULL,\n... several other fields ...,\nStatus CHAR(1) NOT NULL,\nSelection VARCHAR NULL)\n</code></pre>\n\n<p>Then I ran the tests again:</p>\n\n<pre><code>SELECT COUNT(*) FROM Table1\n    Time: 6 sec\n    QP: SCAN TABLE Table1 USING COVERING INDEX IDX_Table1_Selection(~1000000 rows)\nSELECT COUNT(Key) FROM Table1\n    Time: 28 sec\n    QP: SCAN TABLE Table1 (~1000000 rows)\nSELECT * FROM Table1 WHERE Status = 73 AND Key &gt; 5123456 LIMIT 1\n    Time: 10 sec\n    QP: SEARCH TABLE Table1 USING INDEX IDX_Table1_Status (Status=?) (~3 rows)\n</code></pre>\n\n<p>Although the query plans are the same, the times are a lot better. Why is this ?</p>\n\n<p>The problem is that ALTER TABLE does not permit to convert an existing table and I have a lot of existing databases which i can not convert to this form. Besides, using a column contraint instead of table constraint won't work for Table2.</p>\n\n<p>Has anyone any idea what I am doing wrong and how to solve this problem ?</p>\n\n<p>I used System.Data.SQLite version 1.0.74.0 to create the tables and to run the tests I used SQLiteSpy 1.9.1.</p>\n\n<p>Thanks,</p>\n\n<p>Marc</p>\n"},{"tags":["ios","sqlite","device","simulator","sqlcipher"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":25,"score":1,"question_id":13153439,"title":"iOS SqlCipher Sqlite Simulator Ok, deploy on device error","body":"<p>In my iOS app, I'm using SqlCipher. \nWhen I run my project using the Simulator - everything works good (Xcode 4.5, iOS simulator 5.1).</p>\n\n<p>But when I try to deploy my project on my iPhone 4 (iOS 5.1.1) I have 20 errors. </p>\n\n<p>Undefined symbols for architecture armv7s:\n  \"_sqlite3_reset\", referenced from:\n...</p>\n\n<p>\"_sqlite3_prepare_v2\", referenced from:\n...\n  \"_sqlite3_open\", referenced from:\n....</p>\n\n<p>I tried to include libsqlite3.dylib in Link Binary With Libraries, but i still have some errors (and in SQLcipher doc they precise to delete libsqlite3.dylib):</p>\n\n<p>Undefined symbols for architecture armv7s:\n  \"_sqlite3_key\", referenced from:</p>\n\n<p>I really don't know how to resolve this problem. \nIf you could help me...</p>\n\n<p>Thank you</p>\n"},{"tags":["android","sqlite","list","arraylist"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13152814,"title":"List Data Format","body":"<p>I'm fetching Data form Table as list and adding that to sub list but i'm getting output that i didn't expect. I don't know how to Fix that so that i can get the output what i need\n    I have attached the code please help me to solve this issue??</p>\n\n<pre><code>public List&lt;List&lt;String&gt;&gt; fetchData(){\n    List&lt;List&lt;String&gt;&gt; main= new ArrayList&lt;List&lt;String&gt;&gt;();\n    List&lt;String&gt; sub= new ArrayList&lt;String&gt;();\n    String qry=\"SELECT * FROM \"+myTable+\"\";\n    SQLiteDatabase db= this.getReadableDatabase();\n    Cursor cursor=db.rawQuery(qry, null);\n    if (cursor.moveToFirst()) {\n        do {\n            System.out.println(\"-TblPOmaster-\");\n            sub.add(cursor.getString(0));               \n            sub.add(cursor.getString(1));\n            sub.add(cursor.getString(2));\n            main.add(sub);\n            System.out.println(\"Data:\"+main);\n        } while (cursor.moveToNext());      \n    }\n    cursor.close();\n    db.close();\n    return main;\n}\n\nOutput what i'm Getting Now\n\n\nData:[[a1,a2,a3]]\n    Data:[[a1,a2,a3,b1,b2,b3],[a1,a2,a3,b1,b2,b3]]\n    Data:[[a1,a2,a3,b1,b2,b3,c1,c2,c3],[a1,a2,a3,b1,b2,b3,c1,c2,c3],[a1,a2,a3,b1,b2,b3,c1,c2,c3]]\n\nOutput what i need\n\n\nData:[[a1,a2,a3]]\n    Data:[[a1,a2,a3],[b1,b2,b3]]\n    Data:[[a1,a2,a3],[b1,b2,b3],[c1,c2,c3]]\n</code></pre>\n"},{"tags":["iphone","objective-c","xcode","cocoa-touch","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":67,"score":1,"question_id":13151128,"title":"Database is locked error in sqlite","body":"<p>I am using sqlite database for store my data.But it is showing error of \"database is locked\" while insert query.Here is my code</p>\n\n<pre><code> sqlite3_stmt    *statement;\n        NSUserDefaults *defaults = [NSUserDefaults standardUserDefaults];\n        const char *dbpath = [[defaults objectForKey:@\"dbpath\"] UTF8String];\n\n        if (sqlite3_open(dbpath, &amp;studentDB22) == SQLITE_OK)\n        {\n            NSString *insertSQL = [NSString stringWithFormat:@\"INSERT INTO Emotion_videos (name) VALUES (\\\"%@\\\")\",filePath];\n            const char *query_stmt = [insertSQL UTF8String];\n                if (sqlite3_prepare_v2(studentDB22, query_stmt, -1, &amp;statement, NULL) == SQLITE_OK)\n                {\n                    NSLog(@\"shi h2345\");\n                    if (sqlite3_step(statement) == SQLITE_ROW)\n                    {\n                        printf( \"could not prepare statement: %s\\n\", sqlite3_errmsg(studentDB22));\n\n                    }\n\n                }\n            sqlite3_finalize(statement);\n        }\n        else\n        {\n                   printf( \"could not prepare statement: %s\\n\", sqlite3_errmsg(studentDB22));\n        }\n</code></pre>\n\n<p>I am able to insert data for two or three times but when it runs again,it shows database locked error.</p>\n"},{"tags":["android","sqlite"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":59,"score":1,"question_id":13151502,"title":"Getting NullPointerException while reading Sqlite database","body":"<p>I have to read values from  SQLite database but getting <code>NullPointerException</code> when I execute </p>\n\n<pre><code>   private final String DB_NAME = \"UserDb\";\n   private final String TABLE_NAMES = \"tbluser\"; \n   SQLiteDatabase sampleDB;\n   Cursor c=null;\n   String deviceDec;  \n   c= sampleDB.rawQuery(\"SELECT * from \" +TABLE_NAMES+\" where did='\"+deviceDec+\"' \",null);\n</code></pre>\n\n<p>Please suggest me why I am getting the exception because in one function it is running but in other it is not and also I am getting the deviceDec value that I have checked in Log.</p>\n"},{"tags":["android","sqlite","search"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":1900,"score":0,"question_id":8167696,"title":"Search SQLite database in Android","body":"<p>I'm having some trouble searching a SQLite database in my Android app. I use the Search interface to pass the search variable (searchActivity.query) to this:</p>\n\n<pre><code>   //searchActivity.query obtained from: \n   //String query = searchActivity.getStringExtra(SearchManager.QUERY);\n\n   String searchString = \"'\" + searchActivity.query + \"%'\";\n\n   //sqlitedb is called via: private SQLiteDatabase sqlitedb;\n\n   Cursor cursor = sqlitedb.query(DATABASE_TABLE, new String[] \n    {\"id\", \"FirstName\",\"LastName\"}, \n    \"FirstName LIKE \" + searchString, null, null, null, null);\n\n    int index_CONTENT = cursor.getColumnIndex(FirstName);\n\n    for(cursor.moveToFirst(); !(cursor.isAfterLast()); cursor.moveToNext()){\n        result = result + cursor.getString(index_CONTENT) + \"\\n\";\n    }\n</code></pre>\n\n<p>The problem is that using the \"LIKE\" statement outputs everything in the database - defeating the purpose of using the Search interface. I'm not too sure where I'm going wrong. </p>\n\n<p>I tried replacing LIKE with \"=\" except that displayed nothing, even when I was 100% sure the record existed.</p>\n\n<p>Any help would be greatly appreciated!</p>\n\n<p>Thanks in advance,</p>\n\n<p>Joe</p>\n\n<p><strong>UPDATE</strong>:\nSorry about the misleading title. I wasn't passing the search query properly.</p>\n"},{"tags":["php","android","sqlite","file-upload"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":49,"score":1,"question_id":13151138,"title":"Android - Uploading sqlite data and photos to a server","body":"<p>Hello I have several questions in mind.</p>\n\n<p>I have an application that stores log data of the user as he or she logs in or out. After logging in or out, the user is prompted to take a photo and it is stored in a custom folder with a custom file name. Data regarding the time stamp, file name, room, file path, etc are stored in an SQLite database. I know it's stored properly because I'm able to view the results in a ListView properly.</p>\n\n<p>The second step is uploading the said database to an online server (something like CPanel I guess) along with the photos. Here I got the impression that I need to export the SQLite database and upload it. The same goes for the photos in the said folder.</p>\n\n<p>So here are my questions:</p>\n\n<ol>\n<li>What is the best way of exporting an SQLite database keeping in mind that it will be uploaded to an online server? I know it is possible to export the SQLite as CSV, but is it possible to export the SQLite database as queries?</li>\n<li>Is it possible to upload photos from a folder on the smartphone to another folder in the server? </li>\n<li>Will I need to do some back end php scripting in order to to screw up the way the database and photos are uploaded into the server? </li>\n</ol>\n\n<p>Thanks.</p>\n"},{"tags":["sqlite","air"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":10,"score":0,"question_id":13151048,"title":"Just started getting AIR SQLite Error 3182 Disk I/O error occurred","body":"<p>We have a new beta version of our software with some changes, but not around our database layer.</p>\n\n<p>We've just started getting Error 3128 reported in our server logs.  It seems that once it happens, it happens for as long as the app is open.  The part of the code where it is most apparent is where we log data every second via SQLite.  We've generated 47k errors on our server this month alone.</p>\n\n<pre><code>3128     Disk I/O error occurred.   Indicates that an operation could not be completed because of a disk I/O error. This can happen if the runtime is attempting to delete a temporary file and another program (such as a virus protection application) is holding a lock on the file. This can also happen if the runtime is attempting to write data to a file and the data can't be written.  \n</code></pre>\n\n<p>I don't know what could be causing this error.  Maybe an anti-virus program?  Maybe our app is getting confused and writing data on top of each other?  We're using async connections.</p>\n\n<p>It's causing lots of issues and we're at a loss.  It has happened in our older version, but maybe 100 times in a month rather than 47,000 times.  Either way I'd like to make it happen \"0\" times.</p>\n"},{"tags":["php","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":29,"score":1,"question_id":13150483,"title":"Connect to SQLite using PHP - Cannot Connect","body":"<p>I'm trying to use PHP to connect to SQLite. I created a database by importing a CSV file into the tables for three tables. However, I'm unable to connect using the following code:</p>\n\n<pre><code>$dbhandle = sqlite_open('db/pokedex.db', 0666, $error);\nif(!$dbhandle) die ($error);\n</code></pre>\n\n<p>This returns the following error:</p>\n\n<p><code>Warning: sqlite_open() [function.sqlite-open]: file is encrypted or is not a database in /pokedex/configpokedexdb-sqlite.php on line 12\nfile is encrypted or is not a database</code></p>\n\n<p>Googling told me I might have a version mismatch. Despite finding some SQLite3 mentions in my phpinfo(), I decided it might still be a problem so I tried the following suggested code:</p>\n\n<pre><code>try\n{\n    //connect to SQLite database\n\n    $dbhandle = new PDO(\"sqlite:db/pokedex.db\"); //sqlite:VPN0.sqlite\n   // echo \"Handle has been created ...... &lt;br&gt;&lt;br&gt;\";\n\n}\ncatch(PDOException $e)\n{\n    echo $e-&gt;getMessage();\n    echo \"&lt;br&gt;&lt;br&gt;Database -- NOT -- loaded successfully .. \";\n    die( \"&lt;br&gt;&lt;br&gt;Query Closed !!! $error\");\n}\n</code></pre>\n\n<p>After which I received the following error:</p>\n\n<p><code>Warning: sqlite_exec() expects parameter 1 to be resource, object given in /home/rawdco81/public_html/pokedex/index-sqlite.php on line 53</code></p>\n\n<p>Before this, I tried running <code>new PDO(\"sqlite:VPN0.sqlite\");</code> which was what the site provided, but that was obviously wrong because it didn't point to my .db file at all. You'll see this piece of code in the comments beside the function call.</p>\n\n<p>I'm having a hard time just connecting to the database...What is the proper way to do this?</p>\n\n<p>Also, I'm running PHP Version 5.2.13.</p>\n\n<p>EDITED: I pasted the wrong error message in the wrong place.</p>\n"},{"tags":["java","android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13150829,"title":"Android - How to pass String id from SQLite Database Handler","body":"<p>I want to pass a user ID from the SQLite Database but I'm having hard time figure it out. \nI've been doing my research but because of my level of java skill is low, I couldn't make any further move. Please help me to resolve this and It would be really appreciated it. </p>\n\n<p>This is the errorLog</p>\n\n<pre><code>10-30 23:04:13.795: E/AndroidRuntime(22860): FATAL EXCEPTION: main\n10-30 23:04:13.795: E/AndroidRuntime(22860): java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.app.android/com.app.android.MainActivity}: java.lang.NullPointerException\n10-30 23:04:13.795: E/AndroidRuntime(22860):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1894)\n10-30 23:04:13.795: E/AndroidRuntime(22860):    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1995)\n10-30 23:04:13.795: E/AndroidRuntime(22860):    at android.app.ActivityThread.access$600(ActivityThread.java:128)\n10-30 23:04:13.795: E/AndroidRuntime(22860):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1161)\n10-30 23:04:13.795: E/AndroidRuntime(22860):    at android.os.Handler.dispatchMessage(Handler.java:99)\n10-30 23:04:13.795: E/AndroidRuntime(22860):    at android.os.Looper.loop(Looper.java:137)\n10-30 23:04:13.795: E/AndroidRuntime(22860):    at android.app.ActivityThread.main(ActivityThread.java:4517)\n10-30 23:04:13.795: E/AndroidRuntime(22860):    at java.lang.reflect.Method.invokeNative(Native Method)\n10-30 23:04:13.795: E/AndroidRuntime(22860):    at java.lang.reflect.Method.invoke(Method.java:511)\n10-30 23:04:13.795: E/AndroidRuntime(22860):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:980)\n10-30 23:04:13.795: E/AndroidRuntime(22860):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:747)\n10-30 23:04:13.795: E/AndroidRuntime(22860):    at dalvik.system.NativeStart.main(Native Method)\n10-30 23:04:13.795: E/AndroidRuntime(22860): Caused by: java.lang.NullPointerException\n10-30 23:04:13.795: E/AndroidRuntime(22860):    at android.content.ContextWrapper.getApplicationContext(ContextWrapper.java:101)\n10-30 23:04:13.795: E/AndroidRuntime(22860):    at com.app.android.MainActivity.&lt;init&gt;(MainActivity.java:16)\n10-30 23:04:13.795: E/AndroidRuntime(22860):    at java.lang.Class.newInstanceImpl(Native Method)\n10-30 23:04:13.795: E/AndroidRuntime(22860):    at java.lang.Class.newInstance(Class.java:1319)\n10-30 23:04:13.795: E/AndroidRuntime(22860):    at android.app.Instrumentation.newActivity(Instrumentation.java:1027)\n10-30 23:04:13.795: E/AndroidRuntime(22860):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1885)\n</code></pre>\n\n<p>DatabaseHandler Class</p>\n\n<pre><code>public class DatabaseHandler extends SQLiteOpenHelper {\n\n    private static final int DATABASE_VERSION = 2;\n\n    private static final String DATABASE_NAME = \"app\";\n    private static final String TABLE_LOGIN = \"login\";\n\n    private static final String KEY_ID = \"id\";  \n    private static final String KEY_NAME = \"name\";  \n\n    public DatabaseHandler(Context context) {\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        String CREATE_LOGIN_TABLE = \"CREATE TABLE \" + TABLE_LOGIN + \"(\"\n                + KEY_ID + \" INTEGER PRIMARY KEY,\"          \n                + KEY_NAME + \" TEXT\" + \")\";\n        db.execSQL(CREATE_LOGIN_TABLE);\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n\n        db.execSQL(\"DROP TABLE IF EXISTS \" + TABLE_LOGIN);\n        onCreate(db);\n    }\n\n    public void addUser(String id, String name) {\n        SQLiteDatabase db = this.getWritableDatabase();\n\n        ContentValues values = new ContentValues();\n        values.put(KEY_ID, id); // id       \n        values.put(KEY_NAME, name); // name     \n        db.insert(TABLE_LOGIN, null, values);\n        db.close(); \n    }\n\n    public HashMap&lt;String, String&gt; getUserDetails(){\n        HashMap&lt;String,String&gt; user = new HashMap&lt;String,String&gt;();\n        String selectQuery = \"SELECT  * FROM \" + TABLE_LOGIN;\n\n        SQLiteDatabase db = this.getReadableDatabase();\n        Cursor cursor = db.rawQuery(selectQuery, null);\n\n        cursor.moveToFirst();\n        if(cursor.getCount() &gt; 0){\n            user.put(\"id\", cursor.getString(1));            \n            user.put(\"name\", cursor.getString(2));          \n\n        }\n        cursor.close();\n        db.close();\n\n        return user;\n    }\n\n    public int getUserCount() {\n        String countQuery = \"SELECT  * FROM \" + TABLE_LOGIN;\n        SQLiteDatabase db = this.getReadableDatabase();\n        Cursor cursor = db.rawQuery(countQuery, null);\n        int rowCount = cursor.getCount();\n        db.close();\n        cursor.close();\n\n        return rowCount;\n    }\n\n    public Cursor getUserID() {\n        String qry = \"SELECT id FROM \" + TABLE_LOGIN;\n        SQLiteDatabase db = this.getReadableDatabase();     \n        Cursor cursor = db.rawQuery(qry, null);\n        return cursor;\n\n    }\n\n}\n</code></pre>\n\n<p>MainActivity Class</p>\n\n<pre><code>public class MainActivity extends Activity {\n\n    DatabaseHandler db = new DatabaseHandler(getApplicationContext());\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.main);\n\n        Cursor id = db.getUserID();\n\n        if(id.equals(\"0065\")){\n\n        Intent tab1 = new Intent(getApplicationContext(), RequestActivity.class);                                           \n        tab1.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n        startActivity(tab1);    \n\n        finish();\n\n        }else{\n\n        Intent tab = new Intent(getApplicationContext(), ReceiveActivity.class);                \n        tab.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n        startActivity(tab);\n\n        finish();\n    }\n\n    }\n\n}\n</code></pre>\n"},{"tags":["ruby-on-rails","sqlite","postgresql","sqlite3","heroku"],"answer_count":2,"favorite_count":1,"up_vote_count":9,"down_vote_count":0,"view_count":1010,"score":9,"question_id":8795086,"title":"Rails 3.1. Heroku PGError: operator does not exist: character varying = integer","body":"<p>Having a little trouble fixing an error.</p>\n\n<p>All works great on local machine.\nOn PG, heroku is the error.</p>\n\n<p>Here are the logs :</p>\n\n<pre><code>  ←[32m2012-01-09T19:52:24+00:00 app[web.1]:←[0m ActionView::Template::Error (PGEr\n  ror: ERROR:  operator does not exist: character varying = integer\n  ←[32m2012-01-09T19:52:24+00:00 app[web.1]:←[0m LINE 1: ...T \"reviews\".* FROM \"re\n  views\"  WHERE \"reviews\".\"trip_id\" = 32\n  ←[32m2012-01-09T19:52:24+00:00 app[web.1]:←[0m : SELECT \"reviews\".* FROM \"review\n  s\"  WHERE \"reviews\".\"trip_id\" = 32):\n  ←[32m2012-01-09T19:52:24+00:00 app[web.1]:←[0m     31:   &lt;div style='display:non\n  e'&gt;\n  ←[32m2012-01-09T19:52:24+00:00 app[web.1]:←[0m     33:      &lt;% for review in @tr\n  ip.reviews %&gt;\n  ←[32m2012-01-09T19:52:24+00:00 app[web.1]:←[0m     34:\n  ←[32m2012-01-09T19:52:24+00:00 app[web.1]:←[0m     32:    &lt;div id=\"inline\"&gt;\n  ←[32m2012-01-09T19:52:24+00:00 app[web.1]:←[0m HINT:  No operator matches the gi\n  ven name and argument type(s). You might need to add explicit type casts.\n  ←[32m2012-01-09T19:52:24+00:00 app[web.1]:←[0m   app/controllers/trips_controlle\n  r.rb:21:in `show'\n  ←[32m2012-01-09T19:52:24+00:00 app[web.1]:←[0m\n  ←[32m2012-01-09T19:52:24+00:00 app[web.1]:←[0m cache: [GET /trips/32] miss\n  ←[32m2012-01-09T19:52:24+00:00 app[web.1]:←[0m     36:     &lt;li&gt; &lt;%= review.conte\n  nt %&gt; &lt;/li&gt;\n  ←[32m2012-01-09T19:52:24+00:00 app[web.1]:←[0m     35:     &lt;ul&gt;\n  ←[32m2012-01-09T19:52:24+00:00 app[web.1]:←[0m\n  ←[32m2012-01-09T19:52:24+00:00 app[web.1]:←[0m   app/views/trips/show.html.erb:3\n  3:in `_app_views_trips_show_html_erb__3301405670044045300_69859019468960'\n  ←[32m2012-01-09T19:52:24+00:00 app[web.1]:←[0m Completed 500 Internal Server Err\n  or in 86ms\n  ←[32m2012-01-09T19:52:24+00:00 app[web.1]:←[0m   Parameters: {\"id\"=&gt;\"32\"}\n  ←[32m2012-01-09T19:52:24+00:00 app[web.1]:←[0m   Processing by TripsController#s\n  how as HTML\n  ←[32m2012-01-09T19:52:24+00:00 app[web.1]:←[0m Rendered trips/show.html.erb with\n  in layouts/application (81.8ms)\n</code></pre>\n\n<p>Not really sure where exactly, the error occurs and how to fix it.</p>\n\n<p>reviews.rb</p>\n\n<pre><code> class Review &lt; ActiveRecord::Base\n  belongs_to :trip\n end\n\n class Trip &lt; ActiveRecord::Base\n  has_many :reviews, :dependent =&gt; :destroy\n  attr_accessible, :reviews_attributes\n\n  accepts_nested_attributes_for :reviews, :reject_if =&gt; lambda { |a| a[:name].blank? }, :allow_destroy =&gt; true\n end \n</code></pre>\n\n<p>show.html.rb</p>\n\n<pre><code> &lt;%= link_to \"Read Reviews\", '#inline',  :id =&gt; 'various1', :class =&gt; 'review' %&gt;  \n\n &lt;div style='display:none'&gt;  \n   &lt;div id=\"inline\"&gt;\n      &lt;% for review in @trip.reviews %&gt;  \n       &lt;ul&gt;\n         &lt;li&gt; &lt;%= review.content %&gt; &lt;/li&gt;\n         &lt;li&gt; &lt;i&gt; &lt;%= review.name %&gt; &lt;/i&gt; &lt;/li&gt;\n       &lt;/ul&gt;\n     &lt;% end %&gt;  \n  &lt;/div&gt; \n &lt;/div&gt;\n</code></pre>\n\n<p>The thing that confuses me is that I have two other practically the same models, but they work well.</p>\n\n<p>Thanks! </p>\n"},{"tags":["django","sqlite","denormalization"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":45,"score":1,"question_id":13150174,"title":"Django/Sqlite Improve Database performance","body":"<p>We are developing an online school diary application using django. The prototype is ready and the project will go live next year with about 500 students.\nInitially we used sqlite and hoped that for the initial implementation this would perform well enough.\nThe data tables are such that to obtain details of a school day (periods, classes, teachers, classrooms, many tables are used and the database access takes 67ms on a reasonably fast PC.\nMost of the data is static once the year starts with perhaps minor changes to classrooms. I thought of extracting the timetable for each student for each term day so no table joins would be needed. I put this data into a text file for one student, the file is 100K in size. The time taken to read this data and process it for a days timetable is about 8ms. If I pre-load the data on login and store it in sessions it takes 7ms at login and 2ms for each query.\nWith 500 students what would be the impact on the web server using this approach and what other options are there (putting the student text files into a sort of memory cache rather than session for example?)\nThere will not be a great deal of data entry, students adding notes, teachers likewise, so it will mostly be checking the timetable status and looking to see what events exist for that day or week.</p>\n"},{"tags":["java","sql","android","sqlite","arraylist"],"answer_count":4,"favorite_count":2,"up_vote_count":7,"down_vote_count":0,"view_count":4794,"score":7,"question_id":3142285,"title":"Saving ArrayList in SQLite database in Android","body":"<p>I've been working with SQLite on android and I would like to add an arraylist to a column in a table, and then fetch the data back as an arraylist. The arraylist is a list of Longs. I've noticed that SQL has an option for storing BLOBS, however it looks like I need to convert the arraylist to a byte[] first before being able to store it as a blob in my SQLite database.</p>\n\n<p>If anyone has a solution on how to save arraylists into an SQLite database that would be greatly appreciated. Or is there any other option for saving my array of data, i should consider?</p>\n"},{"tags":["sqlite","csv"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13150034,"title":"SQLite Import CSV File - Expected 3 columns, found 1948","body":"<p>I'm trying to import a CSV file (a Pokemon CSV file found at <a href=\"https://github.com/veekun/pokedex/blob/master/pokedex/data/csv/pokemon_species_names.csv\" rel=\"nofollow\">https://github.com/veekun/pokedex/blob/master/pokedex/data/csv/pokemon_species_names.csv</a> ) into SQLite3. I've created a table using the following line:</p>\n\n<p><code>sqlite&gt; create table pokemon_species_names (pid integer, lang integer, pokemonName text, genus text);</code></p>\n\n<p>Which works fine, of course, but when I try to import the above CSV file, I get the following error:</p>\n\n<p><code>sqlite&gt; .separator \",\"</code> (EDIT: forgot to add this initially, but I did run this also)</p>\n\n<p><code>sqlite&gt; .import ./pokemon_species_names.csv pokemon_species_names</code></p>\n\n<p><code>Error: ./pokemon_species_names.csv line 1: expected 4 columns of data but found 1948</code></p>\n\n<p>Why would it be finding 1948 columns of data when there are only 4?</p>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":13136207,"title":"SQLite open and close DB","body":"<p>Can below situation (OLD) lead to error <code>database is locked</code>? </p>\n\n<p>Old</p>\n\n<pre><code> DataRepository rep0 = new DataRepository (_context);\n    InfoRepository rep1 = new InfoRepository (_context);\n    rep0.open();\n    //do something\n    rep1.open();\n    //do something\n    rep0.close();\n    rep1.close();\n</code></pre>\n\n<p>New</p>\n\n<pre><code> DataRepository rep0 = new DataRepository (_context);\n    InfoRepository rep1 = new InfoRepository (_context);\n    rep0.open();\n    rep0.close();\n    //do something\n    rep1.open();\n    //do something     \n    rep1.close();\n</code></pre>\n\n<p>I am using SQLiteOpenHelper to open and close the DB.</p>\n\n<p>I tested for both and working, and haven't faced error by myself. As I am tracing a possible error root, because I saw the error log for android app report.</p>\n"},{"tags":["java","android","sqlite","nullpointerexception","broadcastreceiver"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":176,"score":0,"question_id":8614235,"title":"SQLite database is not getting created..Why?","body":"<p>I was trying to add the data i receive from some specific messages to SQLite database..\nBut when i run my application i am getting error which says ... Fatal Exception : Main caused by Java Null Pointer exception at the InsertTitle Function in my DBAdapter.java</p>\n\n<p>This is my DBAdapter Class</p>\n\n<pre><code>package com.lalsoft.janko;\n\nimport android.content.ContentValues;\nimport android.content.Context;\nimport android.database.Cursor;\nimport android.database.SQLException;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.database.sqlite.SQLiteOpenHelper;\nimport android.util.Log;\n\npublic class DBAdapter \n{\npublic static final String KEY_ROWID = \"_id\";\npublic static final String KEY_GQTY = \"gqty\";\npublic static final String KEY_NQTY = \"nqty\";\npublic static final String KEY_DATE = \"ddate\";    \nprivate static final String TAG = \"DBAdapter\";\n\nprivate static final String DATABASE_NAME = \"lalaqua\";\nprivate static final String DATABASE_TABLE = \"nsales\";\nprivate static final int DATABASE_VERSION = 1;\n\nprivate static final String DATABASE_CREATE =\n    \"create table titles (_id integer primary key autoincrement, \"\n    + \"gqty text not null, nqty text not null, \" \n    + \"ddate text not null);\";\n\nprivate final Context context; \n\nprivate DatabaseHelper DBHelper;\nprivate SQLiteDatabase db;\n\npublic DBAdapter(Context ctx) \n{\n    this.context = ctx;\n    DBHelper = new DatabaseHelper(context);\n}\n\nprivate static class DatabaseHelper extends SQLiteOpenHelper \n{\n    DatabaseHelper(Context context) \n    {\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) \n    {\n        db.execSQL(DATABASE_CREATE);\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, \n    int newVersion) \n    {\n        Log.w(TAG, \"Upgrading database from version \" + oldVersion \n                + \" to \"\n                + newVersion + \", which will destroy all old data\");\n        db.execSQL(\"DROP TABLE IF EXISTS titles\");\n        onCreate(db);\n    }\n}    \n\n//---opens the database---\npublic DBAdapter open() throws SQLException \n{\n    db = DBHelper.getWritableDatabase();\n    return this;\n}\n\n//---closes the database---    \npublic void close() \n{\n    DBHelper.close();\n}\n\n//---insert a title into the database---\npublic long insertTitle(String gqty, String nqty, String ddate) \n{\n    ContentValues initialValues = new ContentValues();\n    initialValues.put(KEY_GQTY, gqty);\n    initialValues.put(KEY_NQTY, nqty);\n    initialValues.put(KEY_DATE, ddate);\n    return db.insert(DATABASE_TABLE, null, initialValues);\n}\n\n//---deletes a particular title---\npublic boolean deleteTitle(long rowId) \n{\n    return db.delete(DATABASE_TABLE, KEY_ROWID + \n            \"=\" + rowId, null) &gt; 0;\n}\n\n//---retrieves all the titles---\npublic Cursor getAllTitles() \n{\n    return db.query(DATABASE_TABLE, new String[] {\n            KEY_ROWID, \n            KEY_GQTY,\n            KEY_NQTY,\n            KEY_DATE}, \n            null, \n            null, \n            null, \n            null, \n            null);\n}\n\n//---retrieves a particular title---\npublic Cursor getTitle(long rowId) throws SQLException \n{\n    Cursor mCursor =\n            db.query(true, DATABASE_TABLE, new String[] {\n                    KEY_ROWID,\n                    KEY_GQTY, \n                    KEY_NQTY,\n                    KEY_DATE\n                    }, \n                    KEY_ROWID + \"=\" + rowId, \n                    null,\n                    null, \n                    null, \n                    null, \n                    null);\n    if (mCursor != null) {\n        mCursor.moveToFirst();\n    }\n    return mCursor;\n}\n\n//---updates a title---\npublic boolean updateTitle(long rowId, String gqtr, \nString nqty, String ddate) \n{\n    ContentValues args = new ContentValues();\n    args.put(KEY_GQTY, gqtr);\n    args.put(KEY_NQTY, nqty);\n    args.put(KEY_DATE, ddate);\n    return db.update(DATABASE_TABLE, args, \n                     KEY_ROWID + \"=\" + rowId, null) &gt; 0;\n}\n}\n</code></pre>\n\n<p>This is the class which extends from BroadcastReceiver, which is calling the inserttitle function..</p>\n\n<pre><code>package com.lalsoft.janko;\n\nimport java.util.Calendar;\nimport android.content.BroadcastReceiver;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.telephony.gsm.SmsManager;\nimport android.telephony.gsm.SmsMessage;\nimport android.util.Log;\n\npublic class SMSReceiver extends BroadcastReceiver\n{\npublic String SendMsgBody;\nprivate static final String LOG_TAG = \"JankoSMS\";\npublic DBAdapter db; \npublic Integer isDone=0;\npublic Double GrossQty,NetQty;\n\n@Override\npublic void onReceive(Context context, Intent intent) \n{\n    db = new DBAdapter(context); \n    //---get the SMS message passed in---\n    Bundle bundle = intent.getExtras();        \n    SmsMessage[] msgs = null;\n    String str = \"\";\n    String PhNo;\n    String MsgBody;\n    if (bundle != null)\n    {\n        //---retrieve the SMS message received---\n        Object[] pdus = (Object[]) bundle.get(\"pdus\");\n        msgs = new SmsMessage[pdus.length];            \n        for (int i=0; i&lt;msgs.length; i++){\n            msgs[i] = SmsMessage.createFromPdu((byte[])pdus[i]);                \n            str += \"SMS from \" + msgs[i].getOriginatingAddress();\n            PhNo=msgs[i].getOriginatingAddress();\n            str += \" :\";\n            str += msgs[i].getMessageBody().toString();\n            MsgBody=msgs[i].getMessageBody().toString();\n            str += \"\\n\";\n           // EncodeSMS(MsgBody);\n\n             String GQtyS,NQtyS,sDate;\n             GQtyS=\"Ok\";\n             NQtyS=\"Done\";\n             sDate=getDate();\n             Log.i(LOG_TAG, \"Date\" +\" \"+ sDate +\" \"+ GQtyS +\" \"+ NQtyS);\n             long id;\n             id = db.insertTitle(GQtyS ,NQtyS,sDate);    \n\n        }\n\n    }                         \n}\npublic static String getDate()\n{\n    Calendar c = Calendar.getInstance();\n\n    String sDate = c.get(Calendar.DAY_OF_MONTH) + \"-\" \n    + c.get(Calendar.MONTH)\n    + \"-\" + c.get(Calendar.YEAR); \n\n    //+ \" at \" + c.get(Calendar.HOUR_OF_DAY) \n    //+ \":\" + c.get(Calendar.MINUTE);\n    return sDate;\n}\n}\n</code></pre>\n\n<p>Also i have checked the database is not getting created..\nSo what should be the possible cause of this issue and how can i solve this?? Please help me out of this trouble.</p>\n"},{"tags":["sqlite","database-design"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":8333032,"title":"Storing item currencies in SQLite database","body":"<p>I'm building out a schema for a site that will need to store a product's currency. I'm not sure whether I'll be needing to be able to convert from one currency to another, however, I'm presuming that will probably be necessary. My db schema is below. (this is for a mobile app btw). My question is, should I just simplify things by adding an additional column called <em>currency</em> to my item table? Does my design make sense? Thank you.</p>\n\n<p><strong>Edit</strong> (based on reply from <em>Victor</em> below): the items have a many-to-many relationship with order table. How about putting the currency id on order table since most likely all items in an order will be in the same currency?</p>\n\n<p><strong>exchange_rates</strong></p>\n\n<ol>\n<li>id</li>\n<li>currency_from</li>\n<li>currency_to</li>\n<li>ex_rate</li>\n</ol>\n\n<p><strong>item_currencies</strong></p>\n\n<ol>\n<li>currency_id</li>\n<li>item_id (from items/products table)</li>\n</ol>\n\n<p><strong>currencies</strong></p>\n\n<ol>\n<li>id</li>\n<li>code</li>\n<li>symbol</li>\n</ol>\n"},{"tags":["sqlite","blackberry","java-me"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":171,"score":1,"question_id":8258364,"title":"SQLite Database creation error in blackberry","body":"<p>I am trying to create an SQLite DB using BlackBerry IDE. First I mount sdcard to a folder in my PC using simulator.</p>\n\n<pre><code>URI myURI = URI.create(\"file:///SDCard/Databases/\" + \"Test.db\");\nd = DatabaseFactory.create(myURI);\nd.close();\n</code></pre>\n\n<p>After I run the code I get the exception </p>\n\n<blockquote>\n  <p>Path does not contains a proper root list. See FileSystemRegistry class for details</p>\n</blockquote>\n\n<p>Anybody know what is the issue?</p>\n"},{"tags":["java","android","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":66,"score":0,"question_id":7419332,"title":"SQLite give a NullPointerException","body":"<p>In my main code I have:</p>\n\n<pre><code>String TableLayout = \"TAB01\";\ndbWorker db = new dbWorker();\ndb.createTable(TableLayout);\n</code></pre>\n\n<p>Which is supposed to create a dbWorker class object and make it create a table called TAB01.</p>\n\n<pre><code>package Constructor.rob.com;\n\nimport java.util.List;\nimport android.app.Activity;\nimport android.content.Context;\nimport android.database.Cursor;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.util.Log;\nimport android.widget.Toast;\n\npublic class dbWorker extends Activity {\n\n    SQLiteDatabase mydb;\n    private static String DBNAME = \"TotalKeyboard.db\";  // THIS IS THE SQLITE DATABASE FILE NAME.\n\n    public void createTable( String TableName ){\n        try{\n        mydb = openOrCreateDatabase(DBNAME, Context.MODE_PRIVATE,null);\n        mydb.execSQL(\"CREATE TABLE IF NOT EXISTS \"+ TableName +\" (ID INTEGER PRIMARY KEY, NUMBER_OF_ROWS INTEGER, STYLE TEXT, BG1 INTEGER, BG1 INTEGER, FLAG TEXT);\");\n        mydb.close();\n        }catch(Exception e){  Log.e(\"Error Creating!\", e.toString() );  } }\n...\n</code></pre>\n\n<p>Yet it catches me an \"ERROR/Error Creating!(14823): java.lang.NullPointerException\".</p>\n\n<p>Any ideas, what might be wrong?</p>\n\n<p>Thanks!</p>\n"},{"tags":["android","sqlite","delete-row"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":315,"score":0,"question_id":7376348,"title":"Android sqlite delete row failure","body":"<p>I'm trying to delete a row in a table where I know the row exists. I tried:</p>\n\n<pre><code>final String s = \"DELETE from %s where Name = '%s'\";        \nString sql = String.format(s, GetTableName(), sListName);\nCursor cr= GetUserDb().GetSQLiteDb().rawQuery(sql, null);\n</code></pre>\n\n<p>and I tried:</p>\n\n<pre><code>String sWhere = String.format(\"Name = '%s'\", sListName);\nlong lRowsUpdated = GetUserDb().GetSQLiteDb().delete(GetTableName(), sWhere, null);\n\n\n** sWhere &gt;&gt; Name = 'groceries' **\n** sql &gt;&gt; DELETE from Lists where Name = 'groceries' **\n</code></pre>\n\n<p>There is no crash or logcat exception but the row is still not deleted. Is there something I'm  missing? Maybe I have a lock on it somewhere else or I need to set certain permissions in my Manifest or something?</p>\n"},{"tags":["android","query","sqlite","join"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":885,"score":0,"question_id":6891684,"title":"Android SQLite query multiple tables","body":"<p>Im trying to do something like this (This is MySQL format)</p>\n\n<pre><code>SELECT q.question_id, q.question, q.answer\nFROM relationship r, questions q\nWHERE r.cat_id =1\nAND r.question_id = q.question_id\nLIMIT 0 , 30\n</code></pre>\n\n<p>So, I got questions stored in one table, then categories in another table. I have the relationship table set up so that a question can be in multiple categories. So say a question has an id of 5, and its in 3 different categories, the relationship table would look like this</p>\n\n<pre><code>relation_id, question_id, category_id\n    1            5            1\n    2            5            2\n    3            5            3\n    4            6            1  \n</code></pre>\n\n<p>So, say I wanna get all the questions with the cat_id of 1, I should get 2 results. That's basically what I'm trying to do.</p>\n"},{"tags":["java","android","eclipse","sqlite"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":199,"score":1,"question_id":9902732,"title":"How to populate a SQLite database with data from a xml file?","body":"<p>I am writing a Android app in Java, I need to populate a SQLite database with data from a xml file, what code can I use to do this?<br>\nThe XML file will be a Microsoft access Database that has been exported to a XML file, the data in the file needs to be saved in a SQLite database.</p>\n\n<p>I am developing in Eclipse with the Android SDK. </p>\n"},{"tags":["android","html5","sqlite","jquery-mobile","web-sql"],"answer_count":0,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":131,"score":1,"question_id":11430957,"title":"Background service to access websql/sqlite in android?","body":"<p>I'm doing jquery mobile application for android with html5. We use websql for the local data storage. Is it possible to run a service in background which can access this db and upload some data from local DB to the server SQL DB? I really don't have any idea about it. Please suggest.</p>\n\n<p>Heard that in browser we can't do such background services. If I move my data from websql to android supported SQLite, is it possible to run a service to upload this data?</p>\n\n<p>I wants to have,</p>\n\n<ol>\n<li>Run the service &amp; upload data even if the application is closed.</li>\n<li>Send &amp; complete request if I redirect through my application pages</li>\n</ol>\n"},{"tags":["android","sqlite","data","bar-chart"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":155,"score":0,"question_id":11843982,"title":"Draw Bar char with Android SQLite data in Android?","body":"<p>I want draw a Bar chart by using Android based on Android SQLite database data. please send any useful links or samples to me so that I can get some idea I am very new to Data Analytics in Android.</p>\n"},{"tags":["c#","sqlite","winrt"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":112,"score":0,"question_id":12761450,"title":"Compile error with sqlite and winrt","body":"<p>I just opened the csharp version of the geolocation sample of the SDK and I would like to do a simple change: I would like that the background task save the coordinates in a sqlite db.</p>\n\n<p>To do this, I added the <code>Microsoft Visual C++ Runtime Package, the SQLite for Windows Runtime, the sqlite-net library via codeplex, and switched the target Platform from any cpu to x64</code>.</p>\n\n<p>Trying to compile, I receive this error</p>\n\n<pre><code>Windows Runtime type 'Windows.Foundation.Point' was found in multiple \nreferenced winmd files. Please remove either 'C:\\Program Files (x86)\\\nMicrosoft SDKs\\Windows\\v8.0\\ExtensionSDKs\\Microsoft.VCLibs\\11.0\\References\n\\CommonConfiguration\\neutral\\platform.winmd' or 'C:\\Program Files (x86)\\\nWindows Kits\\8.0\\References\\CommonConfiguration\\Neutral\\Windows.winmd' \nfrom the list of referenced files.  \n</code></pre>\n\n<p>How can I solve this?</p>\n"},{"tags":["flex","sqlite","air","flex4"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13111604,"title":"AIR SQLite Database","body":"<p>I have an AIR application and I would like use SQLite instead of an XML file to populate the database. I've seen people create the database on the fly and import the data when the application first launches. But also people are using existing databases. What approach do you use to prepopulate the database? Is there a tool to enter basic initial data (~200 records and 2 tables) or should I create the database and contents manually when the app is first installed. </p>\n\n<p><strong>More context</strong><br>\nThis is a mobile AIR application using Flex 4.6.  </p>\n"},{"tags":["python","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13149541,"title":"SQLite: no such column error","body":"<p>I'm getting the <code>sqlite3.OperationalError: no such colum: bla</code> error.</p>\n\n<p>I have a sqlite file, which only consists of one table <code>foo</code> with column <code>bar</code>.</p>\n\n<pre><code>connection = lite.connect(db.sqlite)\ndef insertEvent(self, bar):            \n    with connection:                                                          \n        cur = connection.cursor()                                               \n        cur.execute(\"INSERT INTO foo(bar) VALUES (bar);\")\n\ninsertEvent(\"bla\")     \n</code></pre>\n\n<p>Is my syntax wrong or why am I getting the error? I couldn't find any useful solutions in all the other questions.</p>\n\n<p>Just in case: I'm using the sqlite3 library.</p>\n"},{"tags":["android","sqlite","delete","where"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13148436,"title":"Deleting Row with multiple WHERE in SQLite Android","body":"<p>Is this the correct way to delete rows with Multiple WHERE arguments? I am trying to make it as safe as I can to the database query.</p>\n\n<pre><code>db.delete(TABLE, NAME + \"=? and \" + ID + \"=? and \" + ARG3 + \"=?\", new String[] { myName, x, argument3 });\n</code></pre>\n\n<p>Also is it okay that ID is a integer? Can I still use it inside String[] for this?</p>\n"},{"tags":["android","sqlite","textview"],"answer_count":4,"favorite_count":4,"up_vote_count":5,"down_vote_count":0,"view_count":13501,"score":5,"question_id":3586763,"title":"New Line character \\n not displaying properly in textView Android","body":"<p>I know that if you do something like</p>\n\n<pre><code>myTextView.setText(\"This is on first line \\n This is on second line\");\n</code></pre>\n\n<p>Then it will display properly like this:</p>\n\n<blockquote>\n  <p>This is on first line<br>\n  This is on second line</p>\n</blockquote>\n\n<p>When I store that string in a database and then set it to the view it displays as such:</p>\n\n<blockquote>\n  <p>This is on first line \\n This is on second line</p>\n</blockquote>\n\n<p>Here is the line of code I use to extract the string from the database:</p>\n\n<pre><code>factView.setText(factsCursor.getString(MyDBAdapter.FACT_COLUMN));\n</code></pre>\n\n<p>I simply populate the database from a text file where each line is a new entry into the table so a line would look like this \"This is on first line \\n This is on second line\" and it is stored as text.</p>\n\n<p>Is there a reason that it isn't displaying the \\n characters properly?  It must be something to do with the string being in the database.  Any suggestions?</p>\n"},{"tags":["python","sql","django","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":48,"score":1,"question_id":13146441,"title":"How to restore a continuous sequence of IDs as primary keys in a SQL database?","body":"<p>I'm using a SQlite database and Django's <code>QuerySet</code> API to access this database. I wrote data sequentially into the database and each entry has a simple ID as the primary key (this is the Django default). This means that there is a continuous sequence of IDs now in the database (entry 1 has ID 1, entry 2 has ID 2, and so on). Now I needed to delete some entries again. This means that the sequence of IDs is discontinuous now (entry 1 has ID 1, but entry 2 might have ID 3, 8, 1432 or anything else, but not 2).</p>\n\n<p>How can I restore this continuous sequence of IDs again and associate them with the remaining entries in the database? Is there a way to do this with Django's <code>QuerySet</code> API or do I need to use plain SQL? I have no experience with plain SQL, so some working code would be very helpful in this case. Thank you!</p>\n"},{"tags":["ios","sqlite","icloud"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":66,"score":1,"question_id":12852672,"title":"SQLITE database with iOS and ICloud","body":"<p>I found lot off tutorials related to iCloud and ios synchronization.</p>\n\n<pre><code>But There is no any tutorial for \n\"How to save sqlite databse on iCloud and how to edit database on iCloud\"\n</code></pre>\n\n<ul>\n<li>So is there any way to save and edit SQLITE database on iCloud through iOS application??</li>\n</ul>\n\n<p>Thanks.</p>\n"},{"tags":["mysql","sql","database","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":13095244,"title":"How to query 1 table with 6 columns with condition in 3 of the columns","body":"<p>All I'm trying to do is a query for my table that contains 6 columns with a condition that has to be met by 3 of those columns</p>\n\n<p>my table's information \ntable name My_table columns a1, a2, a3, a4, a5, a6</p>\n\n<p>the code I have tried is below, doesn't work of course</p>\n\n<pre><code>$myquery = \"SELECT * FROM My_table WHERE a2='$variable1' AND a3='$variable2' AND a6='$variable3' ORDER BY a2 ASC\";\n$myresult = mysql_query($myquery);\n</code></pre>\n\n<p>my result has to contain the rows that met the conditions above. </p>\n\n<p>What is the right way to do this?\nThanks in advance.</p>\n"},{"tags":["android","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":27,"score":1,"question_id":13144905,"title":"How to insert entry into SQLite database","body":"<p>I'm trying to take some data from my View and make an entry into my SQLite database in my android app.</p>\n\n<pre><code>    SQLiteDatabase db = openOrCreateDatabase(\"SemesterDB\", MODE_PRIVATE, null);\n    db.execSQL(\"CREATE TABLE IF NOT EXISTS Semesters (Session VARCHAR, YearStart INT,\" +\n            \" MonthStart INT, DayStart INT,YearEnd INT, MonthEnd INT, DayEnd INT )\");\n\n    //extract session from view\n    Spinner sessionSpinner = (Spinner) findViewById(R.id.sessionSpinner);\n    String session = (String) sessionSpinner.getSelectedItem();\n\n    //extract start date from view\n    DatePicker startDatePicker = (DatePicker) findViewById(R.id.semesterStartDate);\n    int startDay = startDatePicker.getDayOfMonth();\n    int startMonth = startDatePicker.getMonth();\n    int startYear = startDatePicker.getYear();\n\n    //extract end date from view\nDatePicker endDatePicker = (DatePicker) findViewById(R.id.semesterEndDate);\n    int endDay = startDatePicker.getDayOfMonth();\n    int endMonth = startDatePicker.getMonth();\n    int endYear = startDatePicker.getYear();\n\n    String sessionName = (String) session+\" \"+startYear;\n\n    db.execSQL(\"INSERT INTO Semesters VALUES(sessionName,startYear,startMonth,startDay,endYear,endMonth,endDay);\");\n    db.close(); \n</code></pre>\n\n<p>--so when i hard code values into the db.execSQL(\"INSERT..... line, it works just well but when i try and plug in variables with stored values, it doesnt. Any ideas?</p>\n\n<p>This is for an android 2.3 application being written in eclipse juno.</p>\n"},{"tags":["sql","performance","sqlite","optimization"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":53,"score":3,"question_id":13143725,"title":"SQLite: speedup SQL statement with COUNT and GROUP BY","body":"<p>I am working with a table with a \"state\" column, which typically holds only 2 or 3 different values. Sometimes, when this table holds several million rows, following SQL statement becomes slow (I assume a full table scan is done):</p>\n\n<pre><code>SELECT state, count(*) FROM mytable GROUP BY state\n</code></pre>\n\n<p>I expect to get something like this:</p>\n\n<pre><code>disabled |  500000\nenabled  | 2000000\n</code></pre>\n\n<p>(basically I want to know how many items are \"enabled\" and how many items are \"disabled\" - actually that's a number instead of a text in my real application)</p>\n\n<p>I guess adding an index for my state column is pretty useless, since only very few different values can be found there. What other options do I have?</p>\n\n<p>There is also a \"timestamp\" column (with an index). Ideally the solution should also work well if I add:</p>\n\n<pre><code>WHERE timestamp BETWEEN x AND y\n</code></pre>\n\n<p>Right now I'm using an SQLite3 database, but it looks like other database engines are not too different, so solutions for other DB engines might be interesting as well.</p>\n\n<p>Thank you!</p>\n"},{"tags":["ios","sqlite","sqlite3","cultureinfo","diacritics"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":800,"score":0,"question_id":10356062,"title":"How to deal with accented characters in iOS SQLite?","body":"<p>I need to perform a SELECT queries that are insensitive to case and accents. For demo purposes, I create a table like that:</p>\n\n<pre><code>create table table\n(\n  column text collate nocase\n);\n\ninsert into table values ('A');\ninsert into table values ('a');\ninsert into table values ('Á');\ninsert into table values ('á');\n\ncreate index table_cloumn_Index\n  on table (column collate nocase);\n</code></pre>\n\n<p>Then, I get those results when executing the following queries:</p>\n\n<pre><code>SELECT * FROM table WHERE column LIKE 'a';\n&gt; A\n&gt; a\n\nSELECT * FROM table WHERE column LIKE 'á';\n&gt; á\n\nSELECT * FROM table WHERE column LIKE 'Á';\n&gt; Á\n</code></pre>\n\n<p>How can I fix that so the results for any of the following queries be like that:</p>\n\n<pre><code>&gt; A\n&gt; a\n&gt; Á\n&gt; á\n</code></pre>\n\n<p>The sqlite is running on iOS, by the way.</p>\n\n<p>Thanks in advance,</p>\n"},{"tags":["perl","sqlite","sqlite3"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":42,"score":3,"question_id":13139309,"title":"DBD::SQLite issue with I/O errors over mounted filesystem","body":"<p>Consider the following Perl code:</p>\n\n<pre><code>#!/usr/env/ perl\nuse strict;\nuse warnings;\nuse DBI;\n\nmy $filename = 'moo.sqlite';\nmy $dbh = DBI-&gt;connect(\"dbi:SQLite:dbname=$filename\",\"\",\"\");\nmy $sql = 'INSERT into moo values (1)';\nmy $sth = $dbh-&gt;prepare( $sql );\nmy $rv = $sth-&gt;execute();\nprint $rv;\n</code></pre>\n\n<p>produces this error when run:</p>\n\n<pre><code>DBD::SQLite::db prepare failed: disk I/O error at test.pl line 16.\nCan't call method \"execute\" on an undefined value at test.pl line 18.\n</code></pre>\n\n<p>The SQLite file is located on a SMBFS/CIFS network mounted share. </p>\n\n<p>I have done some tracing and it appears that the failure occurs when a lock is attempted on the file:</p>\n\n<pre><code>open(\"moo.sqlite\\0\", 0x202, 0x1A4)       = 3 0\nfcntl(0x3, 0x1, 0x0)         = 0 0\nfcntl(0x3, 0x2, 0x1)         = 0 0\n</code></pre>\n\n<p>While I understand that network locking is problematic, wouldnt the same problem occur when interactively running the 'sqlite3' binary? Currently, I am able to work on the file with no problems when I do so. </p>\n\n<p>Is this something that DBI is causing?</p>\n\n<p>For your info:</p>\n\n<ul>\n<li>OS OS X 10.6.8</li>\n<li>SQLite version 3.7.13 </li>\n<li>Perl 5.12.4</li>\n<li>DBI 1.622</li>\n<li>DBD::SQLite 1.37</li>\n</ul>\n"},{"tags":["android","validation","sqlite","login"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1474,"score":0,"question_id":6094692,"title":"Validate login using sqlite database by making objects in Android","body":"<p>I am trying to develop an android application that let users login using their name and password already exists in the database. \nI tried solution on the following link:</p>\n\n<p><a href=\"http://stackoverflow.com/questions/5202775/using-sqlite-to-validate-log-ins-in-android\">Using SQlite to validate Logins in Android</a></p>\n\n<p>It works for me but the issue is that the code works only once i get into the project by editing the Manifest file and replacing the login activity by some other activity.\n I mean it works when the project creates the database in its DDMS. Otherwise it never allows login on any new emulator and device. \nI am using my database tables in assets folder.</p>\n\n<p>My SqlHelper class is: </p>\n\n<pre><code>public class SqlHelper extends SQLiteOpenHelper implements DatabaseMetaData\n{   \npublic static SQLiteDatabase dbSqlite;\nprotected SQLiteDatabase db = null;\n\nprivate final Context myContext;\n\npublic SqlHelper(Context context) {\n    super(context, DATABASE_NAME, null, 1);\n    this.myContext = context;\n\n}\n\n\npublic void onCreate(SQLiteDatabase db) {\n    // check if exists and copy database from resource\n    createDB();\n\n}\n\n@Override\npublic void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n    Log.w(\"SqlHelper\", \"Upgrading database from version \" + oldVersion\n            + \" to \" + newVersion + \", which will destroy all old data\");\n    onCreate(db);\n}\n\npublic void createDatabase() {\n    createDB();\n}\n\nprivate void createDB() {\n\n    boolean dbExist = DBExists();\n\n    if (!dbExist) {\n        copyDBFromResource();\n    }\n}\n\nprivate boolean DBExists() {\n\n    SQLiteDatabase db = null;\n\n    try {\n        String databasePath = DATABASE_PATH + DATABASE_NAME;\n        db = SQLiteDatabase.openDatabase(databasePath, null,\n                SQLiteDatabase.OPEN_READWRITE);\n        db.setLocale(Locale.getDefault());\n        db.setLockingEnabled(true);\n        db.setVersion(1);\n\n    } catch (SQLiteException e) {\n\n        Log.e(\"SqlHelper\", \"database not found\");\n\n    }\n\n    if (db != null) {\n\n        db.close();\n\n    }\n\n    return db != null ? true : false;\n}\n\nprivate void copyDBFromResource() {\n\n    InputStream inputStream = null;\n    OutputStream outStream = null;\n    String dbFilePath = DATABASE_PATH + DATABASE_NAME;\n\n    try {\n\n        inputStream = myContext.getAssets().open(DATABASE_NAME);\n\n        outStream = new FileOutputStream(dbFilePath);\n\n        byte[] buffer = new byte[1024];\n        int length;\n        while ((length = inputStream.read(buffer)) &gt; 0) {\n            outStream.write(buffer, 0, length);\n        }\n\n        outStream.flush();\n        outStream.close();\n        inputStream.close();\n\n    } catch (IOException e) {\n\n        throw new Error(\"Problem copying database from resource file.\");\n\n    }\n\n}\n\npublic void openDataBase() throws SQLException {\n\n    String myPath = DATABASE_PATH + DATABASE_NAME;\n    dbSqlite = SQLiteDatabase.openDatabase(myPath, null,\n            SQLiteDatabase.OPEN_READWRITE);\n\n}\n\n\n@Override\npublic synchronized void close() {\n\n    if (dbSqlite != null)\n        dbSqlite.close();\n\n    super.close();\n\n}\n   }\n</code></pre>\n\n<p>My DatabaseMetaData Interface Class is :</p>\n\n<pre><code>    public interface DatabaseMetaData {\nString DATABASE_PATH = \"/data/data/com.dbApp/databases/\";\n\nString DATABASE_NAME = \"dbApp\";\n\n    String TABLE_USERLIST = \"UserList\";\nString TABLE_CUSTOMER = \"Customer\";\n\n\n//UserList\nString COLUMN_USER_NAME = \"User_Name\";\nString COLUMN_PASSWORD = \"Password\";\n\n    //Customer\nString COLUMN_ID = \"_id\";\nString COLUMN_LISTID = \"ListID\";\nString COLUMN_NAME = \"Name\";\nString COLUMN_COMPANYNAME = \"CompanyName\";\nString COLUMN_FIRSTNAME = \"FirstName\";\nString COLUMN_LASTNAME = \"LastName\";\n    }\n</code></pre>\n\n<p>And in LoginActivity i use the following method:</p>\n\n<pre><code> protected boolean tryLogin(String username, String password)\n{\n    try{\n        Cursor cursor = null;\n        cursor = db.rawQuery(\"select \" + DatabaseMetaData.COLUMN_PASSWORD + \" from \" + DatabaseMetaData.TABLE_USERLIST + \" where \" + DatabaseMetaData.COLUMN_USER_NAME + \" = \" + \"'\" +username+ \"'\", null);\n\n        //cursor = db.rawQuery(\"select password from UserList where user_name='\" + username + \"'\", null);\n        if (cursor.moveToFirst()) {\n            String str = cursor.getString(0);\n            if (password.equals(str)) {\n                cursor.close();\n                return true;\n\n            }else{\n\n                return false;\n            }\n        }cursor.close();\n    }\n</code></pre>\n\n<p>Please help me..</p>\n"},{"tags":["android","xml","sqlite","simplexml"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":12811450,"title":"I want to use SimpleXML to export/import a SQLite database in Android","body":"<p>So my app uses a content provider and SQLite database, similar to the Google notepad example.  I found SimpleXML and wanted to use that to import/export the database so it could be transfered between devices.  The only example I have found is this <a href=\"http://robertmassaioli.wordpress.com/2011/04/21/simple-xml-in-android-1-5-and-up/\" rel=\"nofollow\">example.</a>\nI would like to not have to write some intermediary classes to transfer the database in/out.  Has anyone found an easy way, maybe even doing it without simplexml?</p>\n"},{"tags":["android","xml","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":2018,"score":0,"question_id":3349818,"title":"How to convert xml to sqlite database in android platform?","body":"<p>I have a xml file with info inside. I want to convert the xml file to sqlite database without using a SD card in android platform(Java Language). Does anyone have any idea how to do it?</p>\n"},{"tags":["ios","sqlite","fmdb","isnull"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":57,"score":1,"question_id":13132011,"title":"SQLITE (fmdb) select where x is null not working","body":"<p>I'm using FMDB on iOS, attempting to query a table with a statement such as,</p>\n\n<pre><code>select * from test where foo isNull\n</code></pre>\n\n<p>In the sqlite C API, this ends up binding to null using this API,</p>\n\n<pre><code>int sqlite3_bind_null(sqlite3_stmt*, int);\n</code></pre>\n\n<p>This isn't working. The select invoked through fmdb which seems to be correctly binding the column to null is not finding matching records.</p>\n\n<p>If in the sqlite3 command line session I do the following command, it works, but not through the sqlite C API via FMDB.</p>\n\n<pre><code>select * from test where foo isNull;\n</code></pre>\n\n<p>Here's fmdb code which reproduces the problem. It looks like fmdb is doing the proper steps invoking sqlite3_bind_null.</p>\n\n<pre><code>        NSString *stmt = @\"select * from test where shipToCode=:foo\";\n        NSDictionary *dict = @{@\"foo\" : [NSNull null]};\n        FMResultSet *rs = [db executeQuery:stmt withParameterDictionary:dict];\n        int count = 0;\n        while ([rs next]) {\n            count++;\n        }\n        NSLog(@\"Count %d\", count);\n</code></pre>\n"},{"tags":["sqlite"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":60,"score":3,"question_id":13111392,"title":"SQLite - make true read only database","body":"<p>I would like to open and read an SQLite .db file, read-only. I guarantee that nobody else will touch it during this time (perhaps, except for read only). </p>\n\n<p>What I need from SQLite3 in return, is that it will write nothing to disk, ever (specifically - none of those described <a href=\"http://www.sqlite.org/tempfiles.html\" rel=\"nofollow\">here</a>), and not use any file-system locks on the file.</p>\n\n<p>Is that too much to ask?</p>\n"},{"tags":["ios","sqlite","web-applications","phonegap","cordova"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":53,"score":1,"question_id":13137555,"title":"How to use a prepopulated SQLite database with PhoneGap / Cordova 2.0?","body":"<p>I want to use a pre populated database with my web-app, so that my app works offline. How can i do this with the newest version of PhoneGap / Cordova (2.0)? </p>\n\n<p>I know that this question has been asked before, but all answers seem to be out of date relative to the current version of cordova and iOS</p>\n\n<p><a href=\"https://github.com/atkinson/phonegap-prepopulate-db\" rel=\"nofollow\">https://github.com/atkinson/phonegap-prepopulate-db</a> has not been updated for two years\n<a href=\"https://github.com/davibe/Phonegap-SQLitePlugin\" rel=\"nofollow\">https://github.com/davibe/Phonegap-SQLitePlugin</a> has not been updated for 7 months and is for 1.7</p>\n\n<p>I found a post here:\n<a href=\"http://www.raymondcamden.com/index.cfm/2012/7/27/Guest-Blog-Post-Shipping-a-populated-SQLite-DB-with-PhoneGap\" rel=\"nofollow\">http://www.raymondcamden.com/index.cfm/2012/7/27/Guest-Blog-Post-Shipping-a-populated-SQLite-DB-with-PhoneGap</a> is this the only way?</p>\n\n<p>Also, i should note that i use iOS 6</p>\n"},{"tags":["c#","sqlite","windows-phone-7"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":31,"score":1,"question_id":13137676,"title":"NullReferenceException When using Sqlite with WP7","body":"<p>I am quite new to Windows Phone dev, I am following the tutorial on the link below in which it has been explained that how one can use existing SQLite DB with WP. </p>\n\n<p><a href=\"http://dotnetslackers.com/articles/silverlight/Windows-Phone-7-Native-Database-Programming-via-Sqlite-Client-for-Windows-Phone.aspx\" rel=\"nofollow\">http://dotnetslackers.com/articles/silverlight/Windows-Phone-7-Native-Database-Programming-via-Sqlite-Client-for-Windows-Phone.aspx</a></p>\n\n<p>When I run it with my DB, I get error at the line:</p>\n\n<pre><code>System.IO.Stream src = Application.GetResourceStream(new Uri(\"/\" + assemblyName + \";component/\" + dbName, UriKind.Relative)).Stream;\n</code></pre>\n\n<p>I have tried solving it by breaking it down, but it did not help me. Any help is appreciated. This is how it was mentioned in tutorial, I also change the name of the DB accordingly, but ap crashes. Please help me and pull me out of this. Thanks.</p>\n"},{"tags":["iphone","objective-c","sqlite"],"answer_count":4,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":7310,"score":5,"question_id":1422484,"title":"SQLite behaviour on INSERT on iPhone","body":"<p>I'm currently doing the following as part of my iPhone application</p>\n\n<pre><code>NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);\nNSString *documentsPath = [paths objectAtIndex:0];\nNSString *filePath = [documentsPath stringByAppendingPathComponent:@\"cities.sqlite\"];\n\nsqlite3 *database;\n\nif(sqlite3_open([filePath UTF8String], &amp;database) == SQLITE_OK) {\n   const char *sqlStatement = \"insert into table (name, description, image) VALUES (?, ?, ?)\";\n   sqlite3_stmt *compiledStatement;\n   if(sqlite3_prepare_v2(database, sqlStatement, -1, &amp;compiledStatement, NULL) == SQLITE_OK)    {\n      sqlite3_bind_text( compiledStatement, 1, [name UTF8String], -1, SQLITE_TRANSIENT);\n      sqlite3_bind_text( compiledStatement, 2, [description UTF8String], -1, SQLITE_TRANSIENT);\n      NSData *dataForImage = UIImagePNGRepresentation(image);\n      sqlite3_bind_blob( compiledStatement, 3, [dataForImage bytes], [dataForImage length], SQLITE_TRANSIENT);\n\n   }\n   if(sqlite3_step(compiledStatement) != SQLITE_DONE ) {\n      NSLog( @\"Error: %s\", sqlite3_errmsg(database) );\n   } else {\n      NSLog( @\"Insert into row id = %d\", sqlite3_last_insert_rowid(database));\n   }\n   sqlite3_finalize(compiledStatement);\n}\nsqlite3_close(database);\n</code></pre>\n\n<p>What's confusing me is that if I take out the section,</p>\n\n<pre><code>   if(sqlite3_step(compiledStatement) != SQLITE_DONE ) {\n      NSLog( @\"Error: %s\", sqlite3_errmsg(database) );\n   } else {\n      NSLog( @\"Insert into row id = %d\", sqlite3_last_insert_rowid(database));\n   }\n</code></pre>\n\n<p>the the INSERT isn't saved to the database and gets lost. I'm presuming I'm missing something obvious here?</p>\n"},{"tags":["android","sqlite","greendao"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":29,"score":1,"question_id":13137150,"title":"GreenDAO creating an automatic ID property","body":"<p>is there a way to make the DB create the ID property in an automatic way? </p>\n\n<p>I want to generate something that looks like this:</p>\n\n<pre><code>Entity entity = schema.addEntity(\"MyEntity\");\nentity.addIdProperty().autoIncrement().primaryKey();\n</code></pre>\n\n<p>is this possible?</p>\n"},{"tags":["java","android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13135950,"title":"SQLiteException: no such column itemId: , while compiling:","body":"<pre><code>public class ListsSQLiteOpenHelper extends SQLiteOpenHelper {\n\npublic static final int VERSION = 1;\npublic static final String DB_NAME  = \"lightsettings_db.sqlite\";\npublic static final String ITEMS_TABLE  = \"light_setting_items\";\npublic static final String ITEM_ID = \"itemId\";\npublic static final String ITEM_TYPE = \"itemType\";\npublic static final String ITEM_VALUE = \"itemValues\";\npublic static final String ITEM_BUSTYPE = \"itemBustype\";\npublic static final String ITEM_LIGHTTYPE = \"itemLighttype\";\npublic static final String ITEM_SELECT  = \"itemSelected\";\n\npublic ListsSQLiteOpenHelper(Context context) {\n    super(context, DB_NAME, null, VERSION);\n    int i=0;\n    int y=i;\n}\n\n@Override\npublic void onCreate(SQLiteDatabase db) {\n    createTable(db);\n}\n\n@Override\npublic void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n\n}\n\n\nprotected void createTable(SQLiteDatabase db) {\n    db.execSQL(\n            \"create table \" + ITEMS_TABLE +\" (\" +\n            ITEM_ID + \" integer primary key autoincrement not null, \" +\n            ITEM_TYPE + \" text,\" +\n            ITEM_VALUE + \" text,\" +\n            ITEM_BUSTYPE + \" text,\" +\n            ITEM_LIGHTTYPE + \" text,\" +\n            ITEM_SELECT + \" text\" +\n            \");\"\n        );\n}\n}\n\n\npublic class EntryManagerApplication extends Application {\n\nprivate ArrayList&lt;Entry&gt; currentEntries;\n\nprivate long lineNumber = 1;\n\nprivate SQLiteDatabase database;\n\n@Override\npublic void onCreate() {\n    super.onCreate();\n    ListsSQLiteOpenHelper helper = new ListsSQLiteOpenHelper(this);\n    database = helper.getWritableDatabase();\n    if(currentEntries == null){\n        loadItems();\n    }\n}\n\nprivate void loadItems() {\n    currentEntries = new ArrayList&lt;Entry&gt;();\n\n    Cursor itemsCursor = database.query(\n            ITEMS_TABLE,\n            new String[] {ITEM_ID, ITEM_TYPE, ITEM_VALUE, ITEM_BUSTYPE, ITEM_LIGHTTYPE, ITEM_SELECT},\n            null, null, null, null, String.format(\"%s,%s\", ITEM_SELECT, ITEM_TYPE));\n\n    itemsCursor.moveToFirst();\n    Entry e;\n    if(!itemsCursor.isAfterLast()){\n        do{\n            long id = itemsCursor.getLong(0);\n            String type = itemsCursor.getString(1);\n            String values = itemsCursor.getString(2);\n            String bustype = itemsCursor.getString(3);\n            String lighttype = itemsCursor.getString(4);\n            String boolvalue = itemsCursor.getString(5);\n            boolean select = Boolean.parseBoolean(boolvalue);\n            e = new Entry(id, type, values, bustype, lighttype);\n            e.setRowId(id);\n            e.setSelected(select);\n            currentEntries.add(e);\n        } while(itemsCursor.moveToNext());\n    }\n\n    itemsCursor.close();\n}\n\npublic void setCurrentEntries(ArrayList&lt;Entry&gt; currentEntries){\n    this.currentEntries = currentEntries;\n}\n\npublic ArrayList&lt;Entry&gt; getCurrentEntries(){\n    return currentEntries;\n}\n\npublic void addEntry(Entry e){\n    assert(e!= null);\n    currentEntries.add(e);\n}\n\npublic long getLineNumber() {\n    return lineNumber;\n}\n\npublic void setLineNumber(long lineNumber) {\n    this.lineNumber = lineNumber;\n}\n}\n</code></pre>\n\n<p>When I try to run this code i get an error I don't have any idea please help.</p>\n\n<blockquote>\n  <p>android.database.sqlite.SQLiteException: no such column: itemId: , while compiling: SELECT itemId, itemType, itemValues, itemBustype, itemLighttype, itemSelected FROM light_setting_items ORDER BY itemSelected,itemType</p>\n</blockquote>\n"},{"tags":["android","sqlite","greendao"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13122872,"title":"GreenDAO QueryBuilder dynamically add conditions","body":"<p>I currently have a list of userIds and I am trying to create a query to get all of those from my DB.</p>\n\n<p>this is what I have in mind, I'm just not that sure that it's possible:</p>\n\n<pre><code>ArrayList&lt;Users&gt; listOfUsers = getCurrentUsers(); \n// lets assume that by now I have a list of users\nQueryBuilder&lt;Users&gt; qb = getUsersDao().queryBuilder();\nfor(Users usr : listOfUsers) {\n    qb.where(Properties.userId.eq(usr.getUserId());\n}\nList result = qb.list();\n</code></pre>\n\n<p>I haven't seen any documentation about what is the right way of doing this and I want to know if this is the correct way of creating a dynamic query in GreenDAO.</p>\n\n<p><strong><em>EDIT:</em></strong></p>\n\n<p>I tried this and the result was a <code>NullPointerException</code> in the line of the declaration on the <code>QueryBuilder</code></p>\n"},{"tags":["android","sqlite","list"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":16,"score":-1,"question_id":13135016,"title":"How to Save/reterive history of uploading and downloading List in android","body":"<p>im working on an android app , How to save and retrieve the history of the number of contacts that has been uploaded and retrieved to/from the server along with the count and a time stamp. </p>\n"},{"tags":["java","sqlite","jdbc","connection","attach"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":13130166,"title":"Attach Sqlite Database in Java","body":"<p>I have a problem to attach a Database and insert all rows from attached databases to the main.</p>\n\n<p>Here is my code.</p>\n\n<pre><code>public void selectOldDb(String dbName) throws Exception {\n    createNewDB();\n    Class.forName(\"org.sqlite.JDBC\");\n\n    Connection connOldDb = DriverManager.getConnection(\"jdbc:sqlite:\"+ dbName);\n    String newDbName = getDirToNewDb();\n\n    newDbName = newDbName + \"auftraege.db\";\n    Connection connNewDb = DriverManager.getConnection(\"jdbc:sqlite:\"+ newDbName);\n\n    connNewDb.prepareStatement(\"ATTACH DATABASE \\\"\" + connOldDb + \"\\\" AS  fromDB\").execute();\n\n    connNewDb.prepareStatement(\"INSERT INTO main.auftraege  SELECT * FROM fromDB.SendeDS\").execute();\n\n    connNewDb.close();\n    connOldDb.close();\n}\n</code></pre>\n\n<p>I become this error when i try to insert.</p>\n\n<blockquote>\n  <p>[SQLITE_ERROR] SQL error or missing database (no such table:\n  fromDB.SendeDS)</p>\n</blockquote>\n\n<p>What am I doing wrong?</p>\n"},{"tags":["android","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":4,"view_count":82,"score":-4,"question_id":13133778,"title":"how to save datepicker value to sqlite database","body":"<p>I have a problem about datepicker feature. </p>\n\n<p>How to save the value of datepicker to sqlite database?</p>\n\n<p>Assume I create a button to set the date and a button to save to database...</p>\n\n<p>main.java</p>\n\n<pre><code>public class main extends Activity implements OnClickListener {\n\nprivate Calendar dateTime=Calendar.getInstance();\n      private SimpleDateFormat dateFormatter = new SimpleDateFormat(\"MMMM dd, yyyy\");\n\n @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        // TODO Auto-generated method stub\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.addshoppinglist);\n\n        mSaveBttn = (Button) findViewById(R.id.saveBttn);\n        mSetDateBttn = (Button) findViewById(R.id.shoppingDate);\n        mCancelBttn = (Button) findViewById(R.id.cancelBttn);\n        mSaveBttn.setOnClickListener(this);\n\n        mSetDateBttn.setOnClickListener(this);\n        mCancelBttn.setOnClickListener(this);\n        helper = new ProductDatabaseHelper(this);\n        model = helper.getAll();\n    }\n    public void onClick(View v) {\n        // TODO Auto-generated method stub\n        switch (v.getId()) {\n        case R.id.saveBttn:\n\n\n            break;\n\n        case R.id.cancelBttn:\n            Intent mainIntent = (new Intent(AddShoppingList.this, main.class));\n            startActivity(mainIntent);\n\n            break;\n\n        case R.id.shoppingDate:\n            showDialog(DIALOG_DATE);\n\n        }\n    }\nprotected Dialog onCreateDialog(int id){\n        switch(id){\n        case DIALOG_DATE:\n            return new DatePickerDialog(this,new OnDateSetListener(){\n\n\n                public  void onDateSet(DatePicker view,int year,int monthOfYear,int dayOfMonth){\n                    dateTime.set(year,monthOfYear,dayOfMonth);\n\n                    mSetDateBttn.setText(dateFormatter\n                            .format(dateTime.getTime()));\n\n                }\n            } ,dateTime.get(Calendar.YEAR),\n              dateTime.get(Calendar.MONTH),\n              dateTime.get(Calendar.DAY_OF_MONTH));\n\n\n\n        }\n\n}\n</code></pre>\n\n<p>Does anyone know how to save the date format to database?</p>\n"},{"tags":["sqlite","amazon-ec2"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":11,"score":0,"question_id":13132488,"title":"Command line for SQLite on EC2","body":"<p>Is there any CLI for SQLite on EC2?</p>\n\n<p>Something like described here</p>\n\n<p><a href=\"http://www.sqlite.org/sqlite.html\" rel=\"nofollow\">http://www.sqlite.org/sqlite.html</a></p>\n"},{"tags":["sqlite","foreign-keys","referential-integrity"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":36,"score":1,"question_id":13127376,"title":"If I have a foreign key constraint of a table to itself, do I need to be careful when deleting the whole table?","body":"<p>I have a SQLite table that looks like this:</p>\n\n<pre><code>CREATE TABLE myTable (\n    _id integer primary key autoincrement,\n    ...\n    ... /* some useful fields */\n    ...\n    parent integer,\n    FOREIGN KEY (parent) REFERENCES myTable (_id)\n);\n</code></pre>\n\n<p>Some of the entries in myTable have a parent, others don't. Business logic ensures that there are no \"circles\". I'm using <code>PRAGMA foreign_keys = ON</code>, so that foreign key violations are detected.</p>\n\n<p>Question: <strong>If I want to delete the whole table, is it enough to execute <code>DELETE FROM myTable</code>?</strong> Or do I need to delete the \"leaves\" first, then their parents, etc., all the way up to avoid foreign key violations?</p>\n\n<p>I've tested it and using just <code>DELETE FROM myTable</code> <em>seems to work</em>. However, I want to know whether this is just a coincidence or something I can rely upon (i.e. documented and expected behaviour).</p>\n\n<hr>\n\n<p>EDIT: I don't have <code>ON DELETE CASCADE</code> enabled, and this is on purpose.</p>\n"},{"tags":["iphone","ios","database","sqlite","file-storage"],"answer_count":2,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":1308,"score":3,"question_id":9346760,"title":"Where should I store the SQLite DB for my iPhone app?","body":"<p>I have several iOS apps on the market and in all of them I have a small SQLite database file connected to the app to provide the user with my data. Once installed the user customizes this DB by changing certain options. </p>\n\n<p>Until now, all of these apps store the DB in NSDocumentsDirectory. After submitting my last update, it was rejected for storing data in the wrong location. For the apps rejected I changed the storage location to NSCacheDirectory. I am now afraid that the cache will get cleared and erase the users customizations. The app would still function, the DB would get recreated, but all changed tables would be reset, thereby upsetting users.</p>\n\n<p>Where should this type of database file be stored? Was I right to put it in the Docs dir? According to Apple, the Docs dir is for \"Critical Data\" which is either user generated data or data needed for proper operation of the app. I feel that it falls under that category, persisting my users settings is proper operation, but who wants to await an appeal?</p>\n"},{"tags":["iphone","objective-c","ios","sqlite"],"answer_count":5,"favorite_count":3,"up_vote_count":1,"down_vote_count":0,"view_count":686,"score":1,"question_id":8265621,"title":"Integrating sqlite in iphone","body":"<p>I am creating database in my app,after creating the Db,i am trying to copy the db from the app bundle to Doc directory.But i could not copy it,i am getting error like \n<strong>The operation couldn’t be completed. (Cocoa error 260.)</strong>\nBelow shown is the code what i am using,please help me to fix this issue</p>\n\n<pre><code>dbName=\"userDetails.db\";\nreturnCode=sqlite3_open(dbName,&amp;handler);\nif(returnCode!=SQLITE_OK)\n    NSLog(@\"message---%s\",sqlite3_errmsg(handler));\nelse\n    NSLog(@\"sucess---%d\",returnCode);\n\nNSFileManager *fmgr=[NSFileManager defaultManager];\nNSError *error;\nNSArray *paths=NSSearchPathForDirectoriesInDomains(NSDocumentDirectory,NSUserDomainMask,YES);\nNSString *path=[paths objectAtIndex:0];\nNSString *docPath=[path stringByAppendingPathComponent:@\"userDetails.db\"];\nif(![fmgr fileExistsAtPath:docPath]){\n    NSString *defaultDBPath=[[[NSBundle mainBundle]resourcePath]stringByAppendingPathComponent:@\"userDetails.db\"];\n    if(![fmgr copyItemAtPath:defaultDBPath toPath:docPath error:&amp;error])\n        NSLog(@\"failure message----%@\",[error localizedDescription]);\n}\n</code></pre>\n"},{"tags":["ruby-on-rails","ruby","ruby-on-rails-3","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13124575,"title":"How to maintain an order on child records when using Rails' accepts_nested_attributes_for feature?","body":"<p>I am using Rails' nifty <code>accepts_nested_attributes_for</code> for creating <code>invoices</code> and their <code>items</code>. <code>Items</code> can be added dynamically to an <code>invoice</code> with jQuery.</p>\n\n<pre><code>class Invoice &lt; ActiveRecord::Base\n  attr_accessible :project_id, :number, :date, :recipient, :items_attributes\n  accepts_nested_attributes_for :items\nend\n</code></pre>\n\n<p>This works fine. Except for the <strong>order</strong> in which Rails saves the <code>items</code>.</p>\n\n<p>For example when I create an <code>invoice</code> with these 5 <code>items</code>...</p>\n\n<pre><code>A\nB\nC\nD\nE\n</code></pre>\n\n<p>... everything works fine. But when I then hit <code>Create</code> to save the invoice plus items to the database, the order is completely randomised, for example like this:</p>\n\n<pre><code>D\nA\nC\nE\nB\n</code></pre>\n\n<p>A peek into my database and the <code>created_at</code> column of my <code>items</code> table revealed that Rails (or SQLite?) seemingly saves the <code>items</code> in a random order and not in the order in which I (as a user) added them to the <code>invoice</code>.</p>\n\n<p>Is this normal behaviour and if so how can I maintain a proper ordering on the <code>items</code> that I add to my <code>invoice</code>?</p>\n\n<p>Thanks for any help...</p>\n"},{"tags":["sqlite","report","trac","column"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":20,"score":3,"question_id":13093221,"title":"Include date closed in Trac custom report","body":"<p>I'm using the following to show tickets that have been closed, with newly closed tickets at the top:</p>\n\n<pre><code>SELECT \n   p.value AS __color__,\n   id AS ticket, \n   summary, \n   component,\n   version,\n   milestone,\n   t.type AS type, \n   owner, \n   status,\n   time AS created,\n   changetime AS _changetime,\n   description AS _description,\n   reporter AS _reporter\n  FROM ticket t\n  LEFT JOIN enum p ON p.name = t.priority AND p.type = 'priority'\n  WHERE status = 'closed'\n  ORDER BY changetime DESC, time DESC, CAST(p.value AS integer), milestone, t.type, time\n</code></pre>\n\n<p>Here are the columns that currently show:</p>\n\n<pre><code>Ticket\nSummary\nComponent\nVersion\nMilestone\nType\nOwner\nStatus\nCreated\n</code></pre>\n\n<p>I'd like to <strong>add</strong> the date closed to the report view (and perhaps a third column showing the date difference).   How would I go about this? </p>\n"},{"tags":["android","sqlite"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":70,"score":0,"question_id":12687507,"title":"The best way to save large data in Android app","body":"<p>I need to create Android app which contains a book with chapters and navigations.\nIs it the best way to save all books data in <code>SQLite</code> which contain, for example, <code>id</code>, <code>chapters</code> and etc.?</p>\n\n<p>The book contains about 500 pages.</p>\n\n<p>Thanks in advice!</p>\n"},{"tags":["java","sql","sqlite","jdbc"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":13122434,"title":"How can I know what auto-increment values were created for a batch update using JDBC?","body":"<p>I think the question sums it up well enough, here's my code at the moment but it's not giving me the required results. I want to return an int array containing the generated auto-increment id's for each row created in that batch.</p>\n\n<pre><code>CREATE_APPOINTMENT = database.prepareStatement(\"INSERT INTO \" + TABLE_APPOINTMENTS + \" VALUES (?, ?, ?, ?, ?)\");\n\n   public static int[] createAppointment(Appointment... appointments) {\n    int[] ids = new int[appointments.length];\n    int count = 0;\n    try {\n        for (Appointment a : appointments) {\n            CREATE_APPOINTMENT.setDate(2, a.date);\n            CREATE_APPOINTMENT.setTime(3, a.time);\n            CREATE_APPOINTMENT.setInt(4, a.duration);\n            CREATE_APPOINTMENT.setString(5, a.clientName);\n            CREATE_APPOINTMENT.addBatch();\n        }\n        CREATE_APPOINTMENT.executeBatch();\n\n        ResultSet resultSet = CREATE_APPOINTMENT.getGeneratedKeys();\n        if (resultSet != null)\n            while (resultSet.next()) {\n                ids[count++] = resultSet.getInt(1);\n            }\n\n    } catch (SQLException ex) {\n        System.err.println(ex);\n    }\n    return ids;\n}\n</code></pre>\n\n<p>I've tried creating 8 appointments and their id's are created successfully according to the database but my returns array only contains the last id and the rest are zeros. Where am I missing something?</p>\n"},{"tags":["php","database","windows","sqlite","pdo"],"answer_count":2,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":3600,"score":4,"question_id":1091180,"title":"How can I use and access an SQLite DB using PHP and Wamp Server?","body":"<p>I know PHP 5 already supports SQLite but for some reason I can't get it to work.</p>\n\n<p>I followed the instructions from <a href=\"http://www.scriptol.com/sql/sqlite-getting-started.php\" rel=\"nofollow\"><em>SQLite tutorial: Getting started</em></a>. I also made sure that the following are not commented out from php.ini:</p>\n\n<pre><code>extension=php_pdo_sqlite.dll \nextension=php_sqlite.dll.\n</code></pre>\n\n<p>But when I open the PHP file from localhost using Firefox, I get this error:</p>\n\n<blockquote>\n  <p>Fatal error: Class 'SQLiteDatabase' not found.</p>\n</blockquote>\n\n<p>I'm on Windows by the way, if that info matters.</p>\n\n<p>What may be the cause of this problem?</p>\n"},{"tags":["android","sqlite","sqlite3","android-emulator","android-widget"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":6849198,"title":"Data replaced instead of insereted using SQLite on android","body":"<p>I am writing an android app which requires the records to be added one after another.\nWhen user types in the correct pin his profile is updated by a connected component to pin.\nBut my app is updating instead of inserting or adding a new record. Here is my code please help me out</p>\n\n<pre><code>//Database\n    SQLiteDatabase db=mydbhelper.getWritableDatabase();\n    //Openining the database\n\n        db=this.openOrCreateDatabase(\"mm.db\",MODE_PRIVATE,null);\n        try\n        {\n            //Retriving the pin from db\n            Cursor c=db.query(\"pin_table\",null,null,null,null,null,null);\n            c.moveToFirst();\n            boolean matched=false;\n            while(c.isAfterLast()== false)\n            {\n                String hsname=c.getString(c.getColumnIndex(\"name\"));\n                String dpass=c.getString(c.getColumnIndex(\"pin\"));\n                int id=c.getInt(c.getColumnIndex(\"_id\"));\n                if(epass.equals(dpass))\n                {\n\n                    ContentValues value = new ContentValues();\n                    value.put(\"reg_hs\",id);\n                    //Inserting into the table \n                    db.execSQL(\"INSERT INTO hereg(reg_hs) VALUES(\"+id+\");\");\n\n                    //db.insert(\"registered\", null,value);\n                    Toast.makeText(this.getBaseContext(),\"Successfully added \"+ hsname,Toast.LENGTH_SHORT).show();\n                    matched=true;\n                    finish();\n                    break;\n                }\n                c.moveToNext();\n            }\n            if(!matched)\n                Toast.makeText(this.getBaseContext(),\"Please enter the correct Password\",Toast.LENGTH_SHORT).show();                \n            c.close();\n        }           \n        catch(Exception e)\n        {\n            Log.e(\"Error\",\"Error\",e);\n        }\n        finally\n        {\n            if(db!=null)\n            {\n                db.close();\n\n            }\n        }\n}\n</code></pre>\n\n<p>I used both execSql and also db.insert(commented) giving the same result. Is it because of the while loop?</p>\n\n<p>My problem is all records are deleted and only record is shown and latest value is written across it :(</p>\n"},{"tags":["sqlite","datetime"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":10,"score":-1,"question_id":13126682,"title":"How do I correct sqlite time/date fields set with wrong time zone?","body":"<p>I managed to work out the answer to this while composing the question, so here is the answer too - it may help someone.</p>\n\n<p>I have an sqlite table \"Flights\" containing 5000+ faulty records where two time fields (\"StartTime\" and \"EndTime\" have been recorded 7 or 8 hours \"in arrears\" owing to my PC mysteriously changing to West Coast USA time when it should have changed from British Summer Time to GMT some 9 hours later (confused ? I certainly am).   I need to add 8 hours to the two date/timestamps where another field \"FlightID\" is between \"7469071\" and \"7470567\" (for example the field is showing 07:15 when it should be showing 15:15).    Then from \"7470568\" to \"7474583\" I need to add 7 hours because our clocks here in the UK went forward (the field says 16:00 when it should say 23:00).  At FlightID 7474584 I had discovered the problem and switched the PC to GMT, unfortunately I was in another country when the problem occurred and didn't know until I got back. </p>\n\n<p>The answer is the following bit of SQL; it needs 4 runs, once to add 7 hours and once to add 8 hours for each of the two sets of fields being updated.  Doubtless more could be done in one query, but I'm not that adventurous.</p>\n\n<p>{UPDATE FLIGHTS SET StartTime = datetime(StartTime, '+7 hours') WHERE FlightID = > '7470568' AND FlightID &lt; '7474584';}</p>\n\n<p>The examples I was struggling to follow suggested that  parameters in the brackets following the datetime function word should be quoted as in:</p>\n\n<p>{UPDATE FLIGHTS SET StartTime = datetime('StartTime', '+7 hours') WHERE FlightID = > '7470568' AND FlightID &lt; '7474584';} </p>\n\n<p>WRONG !  All this gives is the unhelpful message \"Flights.StartTime may not be NULL\" and that's where I was stuck when I started asking this question. Removing the quotation marks solved the problem so it all turned out less complicated than I thought it would.</p>\n\n<p>Caravelle</p>\n"},{"tags":["android","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13126285,"title":"Update doesn't work sqlite android","body":"<p>Having problem updating a column in a table.  I tried both of these solutions: </p>\n\n<pre><code>        this.openDataBase();\n        String SQLStatement = \"update \" + TABLE_POSES;\n        SQLStatement += \" set \" + COLUMN_SKIP + \"=\" + SKIP + \" Where \";\n        SQLStatement += COLUMN_ID + \"=\" + String.valueOf(skipPoseId);\n        myDataBase.rawQuery(SQLStatement, null);\n        this.close();\n</code></pre>\n\n<p>and this:</p>\n\n<pre><code>        this.openDataBase();\n        ContentValues args = new ContentValues();\n        args.put(COLUMN_SKIP,SKIP);\n        myDataBase.update(TABLE_POSES, args, COLUMN_ID + \"=\" +  String.valueOf(skipPoseId),null);\n        this.close();\n</code></pre>\n\n<p>Neither of these code snippets work and I am not getting any exceptions thrown.  What am I doing wrong?</p>\n"},{"tags":["android","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12809060,"title":"Android DatabaseObjectNotClosedException on getReadableDatabase","body":"<p>I'm trying to use a SQLite db in my android app. It used to work ( and I swear I didn't change anything ), and clearly something changed, as my code now does not return anything upon querying the db. As I stepped through the code itself, I noticed that as soon as my DBHelper called <code>this.getReadableDatabase()</code> the database had a <code>mStackTrace</code> of DatabaseObjectNotClosedException, even though it is the first time I have ever opened the db in the app itself. Strangely enough, this error is never actually thrown, and it may not even be my problem, but I think it is a good place to start.</p>\n\n<p>Code:<br>\n         {snip}   </p>\n\n<p>I'm not 100% on what exactly is going on here. The class is supposed to copy the database from res/assets to the local data folder, and it appears to work, but the database either is incorrect, or ends up being pointed to the wrong thing, because no rows are ever returned. Thoughts?</p>\n\n<p>Edit: Additional update; I took a look through the data/ dir where I am storing files, and I have found two separate databases, one in <code>files/</code> and one in <code>databases/</code>. <code>files/</code> has the correct DB with all data intact, and <code>databases/</code> is just a blank database setup for android. My code is supposed to call the database in <code>files/</code>, but perhaps it is not?</p>\n\n<p>Edit: Solved. I found the problem, and it had nothing to do with my DBhelper. Apparently my cohort on the project edited a field that he shouldn't have for testing, and forgot to change it back. Turned out that the SQL call I was making was faulty.\nThanks for the help!</p>\n"},{"tags":["java","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13124918,"title":"Update queries taking 0.1s each","body":"<p>I'm writing a simple java program, that does a simple task : it takes in input a text files  folder, and it returns as output the 5 words with highest frequency per document.</p>\n\n<p>At first, I tried to do it without any database support, but when I started having memory problems, I decided to change approach and configured the program to run with SQLite.\nEverything works just fine now, but it takes a lot of time to just add the words in the database ( 67 seconds for 801 words).</p>\n\n<p>Here is how I initiate the database :</p>\n\n<pre><code>    this.Execute(\n                \"CREATE TABLE words (\"+\n                \"word VARCHAR(20)\"+\n                \");\"\n    );\n    this.Execute(\n        \"CREATE UNIQUE INDEX wordindex ON words (word);\"\n    );\n</code></pre>\n\n<p>then, once the programs has counted the documents in the folder ( let's say N), I add N counter columns and N frequency columns to the table</p>\n\n<pre><code>        for(int i = 0; i &lt; fileList.size(); i++)\n        {\n            db.Execute(\"ALTER TABLE words ADD doc\"+i+\" INTEGER\");\n            db.Execute(\"ALTER TABLE words ADD freq\"+i+\" DOUBLE\");\n        }\n</code></pre>\n\n<p>At last, I add words using the following funcion:</p>\n\n<pre><code>public void AddWord(String word, int docid)\n{\n\n    String query = \"UPDATE words SET doc\"+docid+\"=doc\"+docid+\"+1 WHERE word='\"+word+\"'\";\n    int rows = this.ExecuteUpdate(query);\n\n    if( rows &lt;= 0)\n    {\n        query = \"INSERT INTO words (word,doc\"+docid+\") VALUES ('\"+word+\"',1)\";\n        this.ExecuteUpdate(query);\n    }\n}\n</code></pre>\n\n<p>Am i doing something wrong, or it's normal for an update query to take this long to execute?</p>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":13,"score":-3,"question_id":13125481,"title":"OrderBy Sqlite Exception","body":"<p>I am trying to fetch objects stored in a database after sorting them. Thus I try the following piece of code :</p>\n\n<pre><code>ArrayList&lt;Song&gt; allSongsOrdered = new ArrayList&lt;Song&gt;();\n        String query = \"SELECT * FROM \" + TABLE_SONG + \" ORDERBY \" + GENRE + \" ASC\";\n        SQLiteDatabase db = this.getReadableDatabase();\n        Cursor cursor = db.rawQuery(query, null);\n</code></pre>\n\n<p>The code is throwing an exception. LogCat is stating Exception near 'genre' while compiling SELECT * FROM Songs ORDERBY genre ASC. I fail to see the error in the command but can any1 point out if there is one.</p>\n"},{"tags":["android","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":37,"score":2,"question_id":13125286,"title":"How to connect to device's sqlite DB","body":"<p>i'm trying to find out how to connect to my phone's sqlite DB. I've had a look around on the net but cannot find anything i understand 100%.</p>\n\n<p>So far i'm opening cmd prompt and changing to the android-sdk/platform-tools directory.\nFrom here i'm running adb shell. From this point how do i connect to the phone's db?</p>\n\n<p>thanks in advance.</p>\n"},{"tags":["android","sqlite","listview"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":4053,"score":1,"question_id":2982948,"title":"SQLite and populating list view, android","body":"<p>I am populating a text and list view from a SQLite database. The data is populating from the cursor correctly (I see the list filling with text rows), but I'm not able to see the actual text in the rows - all I see are empty rows. For the life of me, I can't figure out what I'm not able to see the data in the text rows.</p>\n\n<p>My layouts:</p>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;TabHost xmlns:android=\"http://schemas.android.com/apk/res/android\"\nandroid:id=\"@android:id/tabhost\"\nandroid:layout_width=\"fill_parent\"\nandroid:layout_height=\"fill_parent\"&gt;\n&lt;LinearLayout\n    android:orientation=\"vertical\"\n    android:layout_width=\"fill_parent\"\n    android:layout_height=\"fill_parent\"\n    android:padding=\"5dp\"&gt;\n    &lt;TabWidget\n        android:id=\"@android:id/tabs\"\n        android:layout_width=\"fill_parent\"\n        android:layout_height=\"wrap_content\" /&gt;\n    &lt;FrameLayout\n        android:id=\"@android:id/tabcontent\"\n        android:layout_width=\"fill_parent\"\n        android:layout_height=\"fill_parent\"\n        android:padding=\"5dp\" /&gt;\n &lt;/LinearLayout&gt;\n&lt;/TabHost&gt;\n</code></pre>\n\n<p>list layout:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nandroid:layout_width=\"wrap_content\"\nandroid:layout_height=\"wrap_content\"&gt;\n</code></pre>\n\n<p></p>\n\n<pre><code>&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>row layout:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;TextView android:id=\"@+id/text1\"\nxmlns:android=\"http://schemas.android.com/apk/res/android\"\nandroid:layout_width=\"wrap_content\"\nandroid:layout_height=\"wrap_content\"/&gt;\n</code></pre>\n\n<p>My main:</p>\n\n<pre><code>package com.gotquestions.gqapp;\n\nimport java.io.IOException;\n\nimport com.gotquestions.gqapp.DataBaseHelper;\nimport android.database.Cursor;\nimport android.app.TabActivity;\nimport android.content.Intent;\nimport android.content.res.Resources;\nimport android.database.SQLException;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.widget.TabHost;\n\npublic class gqMain extends TabActivity {\n/** Called when the activity is first created. */\n\nprivate DataBaseHelper myDbHelper;\n\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.main);\n\n    Resources res = getResources(); // Resource object to get Drawables\n    TabHost tabHost = getTabHost();  // The activity TabHost\n    TabHost.TabSpec spec;  // Resusable TabSpec for each tab\n    Intent intent;  // Reusable Intent for each tab\n\n    // Create an Intent to launch an Activity for the tab (to be reused)\n    intent = new Intent().setClass(this, TopicsActivity.class);\n\n    // Initialize a TabSpec for each tab and add it to the TabHost\n    spec = tabHost.newTabSpec(\"topics\").setIndicator(\"\" +\n            \"Topics\")\n                  .setContent(intent);\n    tabHost.addTab(spec);\n\n    // Do the same for the other tabs\n    intent = new Intent().setClass(this, FavoritesActivity.class);\n    spec = tabHost.newTabSpec(\"favorites\").setIndicator(\"Favorites\")\n                  .setContent(intent);\n    tabHost.addTab(spec);\n\n  // Do the same for the other tabs\n    intent = new Intent().setClass(this, AskActivity.class);\n    spec = tabHost.newTabSpec(\"ask\").setIndicator(\"Ask\")\n                  .setContent(intent);\n    tabHost.addTab(spec);\n\n // Do the same for the other tabs\n    intent = new Intent().setClass(this, BlogActivity.class);\n    spec = tabHost.newTabSpec(\"blog\").setIndicator(\"Blog\")\n                  .setContent(intent);\n    tabHost.addTab(spec);\n\n\n\n    tabHost.setCurrentTab(0);\n\n\n\n    DataBaseHelper myDbHelper = new DataBaseHelper(this);\n    myDbHelper = new DataBaseHelper(this);\n//test\n    try {\n\n        myDbHelper.createDataBase();\n\n    } catch (IOException ioe) {\n\n        throw new Error(\"Unable to create database\");\n\n    }\n\n    try {\n\n        myDbHelper.openDataBase();\n\n    }catch(SQLException sqle){\n\n        throw sqle;\n\n    }\n\n    //Cursor c = myDbHelper.fetchAllTopics();\n\n\n}\n\n\n\n\n}\n</code></pre>\n\n<p>My topics activity that generates the data within the TopicsActivity Tab..this is where the data shows up in the listview, but I can't see it. I've looked at the cursor adaptor, but am just not seeing it.</p>\n\n<pre><code>package com.gotquestions.gqapp;\n\nimport com.gotquestions.gqapp.R.layout;\n\nimport android.R;\nimport android.app.ListActivity;\nimport android.database.Cursor;\nimport android.database.SQLException;\nimport android.os.Bundle;\n\nimport android.widget.SimpleCursorAdapter;\n\npublic class TopicsActivity extends ListActivity {\nprivate DataBaseHelper myDbHelper;\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n\n\n    //\n    DataBaseHelper myDbHelper = new DataBaseHelper(this);\n    myDbHelper = new DataBaseHelper(this);\n//test\n\n\n    try {\n\n        myDbHelper.openDataBase();\n\n    }catch(SQLException sqle){\n\n        throw sqle;\n\n    }\n\n\n\n        setContentView(layout.list_layout);\n        Cursor c = myDbHelper.fetchAllTopics();\n        startManagingCursor(c);\n\n        String[] from = new String[] { DataBaseHelper.KEY_TITLE };\n        int[] to = new int[] { R.id.text1 };\n\n        // Now create an array adapter and set it to display using our row\n        SimpleCursorAdapter notes =\n            new SimpleCursorAdapter(this, layout.notes_row, c, from, to);\n        setListAdapter(notes);\n\n        myDbHelper.close();\n\n\n\n\n\n\n\n\n  }\n\n\n}\n</code></pre>\n\n<p>My database helper:</p>\n\n<pre><code>package com.gotquestions.gqapp;\n\n\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\n\nimport android.content.Context;\nimport android.database.Cursor;\nimport android.database.SQLException;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.database.sqlite.SQLiteException;\nimport android.database.sqlite.SQLiteOpenHelper;\nimport android.util.Log;\n\npublic class DataBaseHelper extends SQLiteOpenHelper{\n\n//The Android's default system path of your application database.\nprivate static String DB_PATH = \"/data/data/com.gotquestions.gqapp/databases/\";\n\nprivate static String DB_NAME = \"gotquestions_database.mp3\";\npublic static final String KEY_TITLE = \"topic_title\";\npublic static final String KEY_ARTICLE_TITLE = \"article_title\";\npublic static final String KEY_ROWID = \"_id\";\n\nprivate static final String TAG = null;\n\nprivate SQLiteDatabase myDataBase; \n//\nprivate final Context myContext;\n\n/**\n * Constructor\n * Takes and keeps a reference of the passed context in order to access to the     application assets and resources.\n * @param context\n */\npublic DataBaseHelper(Context context) {\n\n    super(context, DB_NAME, null, 1);\n    this.myContext = context;\n}   \n\n/**\n * Creates a empty database on the system and rewrites it with your own database.\n * */\npublic void createDataBase() throws IOException{\n\n    boolean dbExist = checkDataBase();\n\n    if(dbExist){\n        //do nothing - database already exist\n    }else{\n\n        //By calling this method and empty database will be created into the default system path\n           //of your application so we are gonna be able to overwrite that database with our database.\n        this.getReadableDatabase();\n\n        try {\n\n            copyDataBase();\n\n        } catch (IOException e) {\n\n            throw new Error(\"Error copying database\");\n\n        }\n    }\n\n   }\n\n/**\n * Check if the database already exist to avoid re-copying the file each time you open the application.\n * @return true if it exists, false if it doesn't\n */\nprivate boolean checkDataBase(){\n\n    SQLiteDatabase checkDB = null;\n\n    try{\n        String myPath = DB_PATH + DB_NAME;\n        checkDB = SQLiteDatabase.openDatabase(myPath, null,  SQLiteDatabase.OPEN_READONLY);\n\n    }catch(SQLiteException e){\n\n        //database does't exist yet.\n\n    }\n\n    if(checkDB != null){\n\n        checkDB.close();\n\n    }\n\n    return checkDB != null ? true : false;\n}\n\n/**\n * Copies your database from your local assets-folder to the just created empty database in the\n * system folder, from where it can be accessed and handled.\n * This is done by transfering bytestream.\n * */\nprivate void copyDataBase() throws IOException{\n\n    //Open your local db as the input stream\n    InputStream myInput = myContext.getAssets().open(DB_NAME);\n\n    // Path to the just created empty db\n    String outFileName = DB_PATH + DB_NAME;\n\n    //Open the empty db as the output stream\n    OutputStream myOutput = new FileOutputStream(outFileName);\n\n    //transfer bytes from the inputfile to the outputfile\n    byte[] buffer = new byte[1024];\n    int length;\n    while ((length = myInput.read(buffer))&gt;0){\n        myOutput.write(buffer, 0, length);\n    }\n\n    //Close the streams\n    myOutput.flush();\n    myOutput.close();\n    myInput.close();\n\n}\n\npublic void openDataBase() throws SQLException{\n\n    //Open the database\n    String myPath = DB_PATH + DB_NAME;\n    myDataBase = SQLiteDatabase.openDatabase(myPath, null, SQLiteDatabase.OPEN_READONLY);\n\n}\n\n@Override\npublic synchronized void close() {\n\n        if(myDataBase != null)\n            myDataBase.close();\n\n        super.close();\n\n}\n\n@Override\npublic void onCreate(SQLiteDatabase db) {\n    // TODO Auto-generated method stub\n\n}\n\n@Override\npublic void onUpgrade(SQLiteDatabase db, int oldVersion, \n        int newVersion) \n        {\n            Log.w(TAG, \"Upgrading database from version \" + oldVersion \n                    + \" to \"\n                    + newVersion + \", which will destroy all old data\");\n            db.execSQL(\"DROP TABLE IF EXISTS titles\");\n            onCreate(db);\n        }\n\npublic Cursor getTitle(long rowId) throws SQLException \n{\n    Cursor mCursor =\n            myDataBase.query(true, \"topics\", new String[] {\n                    KEY_ROWID,\n\n                    KEY_TITLE\n                    }, \n                    KEY_ROWID + \"=\" + rowId, \n                    null,\n                    null, \n                    null, \n                    null, \n                    null);\n    if (mCursor != null) {\n        mCursor.moveToFirst();\n    }\n    return mCursor;\n}\n\npublic Cursor fetchAllTopics() {\n\n    return myDataBase.query(\"topics\", new String[] {KEY_ROWID, KEY_TITLE}, \n            null, \n            null, \n            null, \n            null, \n            null);\n\n\n\n};\n\npublic Cursor fetchAllFavorites() {\n\n    return myDataBase.query(\"articles\", new String[] {\n            KEY_ROWID, \n\n            KEY_ARTICLE_TITLE}, \n            null, \n            null, \n            null, \n            null, \n            null);\n\n\n\n};\n</code></pre>\n\n<p>}</p>\n"},{"tags":["android","sqlite","datetime"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":45,"score":1,"question_id":13104642,"title":"How to get events in the last 24 hours with SQLite?","body":"<p>I have a column with datetime entries, and I would like to get all the items from the last 24 hours.  Right now I'm trying:</p>\n\n<pre><code>SELECT * FROM \" + SQLHelp.LOG_TABLE + \" WHERE \" + SQLHelp.TIME_COLUMN + \"&gt; datetime('now','-1day')\n</code></pre>\n\n<p>where <code>SQLHelp.LOG_TABLE and SQLHelp.TIME_COLUMN</code> are the names of the table and column respectively.</p>\n"},{"tags":["android","sqlite","jquery-mobile"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":939,"score":1,"question_id":8416248,"title":"How to integrate a local SQLite database with jQuery mobile","body":"<p>I am new to jQuery mobile. In my app I am displaying a html file using <code>webview</code>. I want to store the data in the local database. Generally we are using SQLite for storing the data in a local database, but here I am using jQuery mobile for the UI part. I am trying but I am not understanding how to access the data from html(jQuery mobile) and how to save that data in a local database.</p>\n"},{"tags":["objective-c","sqlite","core-data","xcode4"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13124091,"title":"Core Data Model cannot effect SQLITE database","body":"<p>I am now facing problem with Data Model. The problem starts after deleting XCode data model file (accidentally). Although i created Data Model file with the same name like previous data model, it will not effect the sqlite database file. it always shows the error when i create the new entity named \"TblAct\". here is the error:</p>\n\n<pre><code>'+entityForName: could not locate an NSManagedObjectModel for entity name 'TblAct'' \n</code></pre>\n\n<p>How can i match the data model and sqlite database ? pls help</p>\n\n<p>best rgds,\ndf</p>\n"},{"tags":["android","sqlite"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":26,"score":1,"question_id":13123757,"title":"Table not found Android","body":"<p>I have a class DatabaseHandler. I have overridden the onCreate(SQLiteDatabase db) method with the following code : </p>\n\n<pre><code>    String CREATE_TABLE = \"CREATE TABLE IF NOT EXISTS \" + TABLE_SONG + \"(\" + ID + \" INTEGER PRIMARY KEY AUTOINCREMENT,\" +\n                            SONG_TITLE + \" TEXT,\" + ARTIST_NAME + \" TEXT,\" + GENRE + \" TEXT,\" +\n                            SONG_PATH + \" TEXT\" + \")\";\n    db.execSQL(CREATE_TABLE);\n</code></pre>\n\n<p>but I found that there were extra items getting appended to the TABLE_SONG everytime I opened the emulator as a result of which even though I had 6 songs in the sdcard the database showed 454 songs. This forced me to drop the table with a thought of recreating it again. But now I am stuck that the table could not be found or rather is not getting created. Shouldnt it be that the onCreate() method should get called everytime when I create an object of this class?</p>\n"},{"tags":["php","android","json","sqlite","blob"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":50,"score":1,"question_id":13123729,"title":"Android: php non-associative array output with blob field to sqlite","body":"<p>from a PHP Script I get the a non-assoziative array output</p>\n\n<pre><code>...\n$data[8] = base64_encode($data[8]..\n.\n.\narray_push($CuNames, $data);\necho json_encode($CuNames);\n</code></pre>\n\n<p>the fields in the MySql Table are Name varChar(30), Country varchar(5), PicHome Blob, FuzzyHome varchar(3).</p>\n\n<pre><code> [[\"Manne\",\"Swiss\", \"KDKJJRNNN\\KSHFHAAA....\",null],[\"Adam\",\"USA\",\"HKKKHJIIDD\\jkJ\\jk.....\",null]]\n</code></pre>\n\n<p>Is there a way to ignore the Blob Data in the http Stream and extract only the Fields\nName, Country, FuzzyHome and put it in a JSON Array,\nIs it possible to get the Blob Field PicHome from the http Stream in a JSON Object or JPG or other format so I can use it in a sqlite table as Blob Field and how to do this.\nDon't ask about perfomance and other things. The PHP is a given Script and not my Baby and it can't be altered by me. I know there are solutions with two http Streams one for Data and one for the pict...</p>\n"},{"tags":["sql","sqlite","aggregate-functions","greatest-n-per-group"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":47,"score":1,"question_id":13123243,"title":"greatest N per group with padding","body":"<p>I've been trying to solve this problem over the weekend, without luck so far. I have two tables:</p>\n\n<p><code>TopOffers:</code></p>\n\n<pre><code>OfferId    RetailerId      Order\n1          38              0\n2          8               3\n3          17              2\n4          22              1\n</code></pre>\n\n<p>And <code>Offers:</code></p>\n\n<pre><code>Id     RetailerId       Name            Description          etc...\n1      3                Strawberry      Red and smelly\n2      38               Cookie          Crunchy\n3      17               Onion           Of the nice kind\n4      22               Apple           Cheap\n5      8                Toothbrush      Lasts extra long!\n</code></pre>\n\n<p>My goal is to get the top 10 Offers for each Retailer ID. The order in which they should be listed is specified by the <code>Order</code> field in the TopOffer table (Sort order is Ascending). On top of that, the result should be padded to 10 offers when there are less than 10 TopOffer records for a retailer. The TopOffer table always contains 10 or less records per retailer.</p>\n\n<p>So far I've managed to get this going, which works (I realize it doesn't get the top 10, but rather everything that's in the TopOffer table, which is alright, since the TopOffer table is always equal to or smaller than the top 10 for any retailer):</p>\n\n<pre class=\"lang-sqlite prettyprint-override\"><code>SELECT b.*\nFROM\n(\n    SELECT o.Id, to.`Order` FROM Offer AS o\n    LEFT JOIN TopOffer AS to\n    ON o.Id = to.OfferId\n) AS a,\n(\n    SELECT o.*, to.`Order` FROM Offer AS o\n    LEFT JOIN TopOffer AS to\n    ON o.Id = to.OfferId\n) AS b\nWHERE a.`Order` &gt;= b.`Order` AND a.Id = b.Id\nGROUP BY b.RetailerId, b.Id\nHAVING Count(1) BETWEEN 1 AND 10\nORDER BY RetailerId, `Order` ASC\n</code></pre>\n\n<p>Unfortunately I can't seem to find any way of padding the result of this query with offers that don't have an entry in the TopOffer table if there aren't 10 TopOffer records for that retailer.</p>\n\n<p>My sincerest thanks in advance for any help!</p>\n"},{"tags":["android","sqlite","android-tablelayout"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":13069933,"title":"How to display sqlite table values column as row in android?","body":"<p>Now i am creating chart applications . I have to create chart based on sqlite table values . I have the following values in my database <a href=\"http://pastie.org/5114056\" rel=\"nofollow\">http://pastie.org/5114056</a> . I fetch all the data and stored into corresponding arrays. Now i want to display all the values in table view like this <img src=\"http://i.stack.imgur.com/3JuTp.png\" alt=\"enter image description here\"> </p>\n\n<p>All the column value must be displayed as row values. And all the row values displayed as column values in dynamically. How can i do this? Can any body help me? Thanks in advance.</p>\n"},{"tags":["android","sqlite","adb"],"answer_count":1,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":355,"score":3,"question_id":8873497,"title":"Accessing SQLite database from command line","body":"<p>I am trying to access SQLite database from command line for an android application I have developed. I type <code>adb shell</code>  to connect to the device and then <code>sqlite3</code> to connect to the database. <code>sqlite3</code> gives me the following an error:\n /system/bin/sh: sqlite3: not found</p>\n"},{"tags":["android","sqlite","google","maps"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":22,"score":-2,"question_id":13122287,"title":"Google Maps & SQLite Android","body":"<p>I'm trying to populate a google map on my android application with data from a SQLite database. If anybody could point me the right direction on how to go about doing this I would be very appreciative</p>\n"},{"tags":["asp.net-mvc-3","sqlite","portability"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":82,"score":0,"question_id":9896860,"title":"Making an SQLite ConnectionString portable","body":"<p>As a personal project I want to test the ability of using SQLite with MVC 3 and so far so good managed to get everything setup.</p>\n\n<p>The thing I am now trying to achieve is to make the solution fully portable during development, but I am unable to achieve this as the connection string is complaining that the database is missing if I try on different machines where the solution it located in different places.</p>\n\n<p>Is there any way that I can alter the connection string so it is uses a set directory each and everytime?</p>\n\n<p>I have the database housed in a datalayer solution in the same folder houses my datamodel if that is any help</p>\n"},{"tags":["android","database","sqlite","android-listview"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":90,"score":0,"question_id":11645823,"title":"Error displaying listview from database","body":"<p>im trying to display a listview item from database. but my application keep crashing. i use my past project codes to guide me but still no luck. </p>\n\n<p><strong>Module.java</strong></p>\n\n<pre><code> @Override\nprotected void onResume() {\n    super.onResume();\n    ArrayList&lt;String&gt; labels = new ArrayList&lt;String&gt;();\n    ListView lstDine = (ListView) this.findViewById(R.id.lst_module);\n    dbhelper.onCreate(null);\n    Cursor dinners = (Cursor) dbhelper.getAllLabels();\n    dinners.close();\n    lstDine.setAdapter(new ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_list_item_1, labels));\n    lstDine.setOnItemClickListener(this);\n\n}\n</code></pre>\n\n<p><strong>DBHelper.java</strong></p>\n\n<pre><code>public class DBHelper extends SQLiteOpenHelper {\n// Database Version\nprivate static final int DATABASE_VERSION = 1;\n\n// Database Name\nprivate static final String DATABASE_NAME = \"spinnerExample\";\n\n// Labels table name\nprivate static final String TABLE_LABELS = \"labels\";\n\n// Labels Table Columns names\nprivate static final String KEY_ID = \"id\";\nprivate static final String KEY_NAME = \"name\";\n\npublic DBHelper(Context context) {\n    super(context, DATABASE_NAME, null, DATABASE_VERSION);\n}\n\n// Creating Tables\n@Override\npublic void onCreate(SQLiteDatabase db) {\n    // Category table create query\n    String CREATE_CATEGORIES_TABLE = \"CREATE TABLE \" + TABLE_LABELS + \"(\"\n            + KEY_ID + \" INTEGER PRIMARY KEY,\" + KEY_NAME + \" TEXT)\";\n    db.execSQL(CREATE_CATEGORIES_TABLE);\n}\n\n// Upgrading database\n@Override\npublic void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n    // Drop older table if existed\n    db.execSQL(\"DROP TABLE IF EXISTS \" + TABLE_LABELS);\n\n    // Create tables again\n    onCreate(db);\n}\n\n/**\n * Inserting new lable into lables table\n * */\npublic void insertLabel(String label){\n    SQLiteDatabase db = this.getWritableDatabase();\n\n    ContentValues values = new ContentValues();\n    values.put(KEY_NAME, label);\n\n    // Inserting Row\n    db.insert(TABLE_LABELS, null, values);\n    db.close(); // Closing database connection\n}\n\n/**\n* Removing label\n* */\npublic void removeLabel(String label){\nSQLiteDatabase db = this.getWritableDatabase();\n\nContentValues values = new ContentValues();\nvalues.put(KEY_NAME, label);\n\n// Removing Row\ndb.delete(TABLE_LABELS, KEY_NAME + \"=?\", new String[] {label});\ndb.close(); // Closing database connection\n}\n\n/**\n * Getting all labels\n * returns list of labels\n * */\npublic List&lt;String&gt; getAllLabels(){\n    List&lt;String&gt; labels = new ArrayList&lt;String&gt;();\n\n    // Select All Query\n    String selectQuery = \"SELECT  * FROM \" + TABLE_LABELS;\n\n    SQLiteDatabase db = this.getReadableDatabase();\n    Cursor cursor = db.rawQuery(selectQuery, null);\n\n    // looping through all rows and adding to list\n    if (cursor.moveToFirst()) {\n        do {\n            labels.add(cursor.getString(1));\n        } while (cursor.moveToNext());\n    }\n\n    // closing connection\n    cursor.close();\n    db.close();\n\n    // returning lables\n    return labels;\n}\n}\n</code></pre>\n\n<p><strong>Error Log</strong></p>\n\n<pre><code>07-25 08:36:37.007: D/dalvikvm(463): GC_EXTERNAL_ALLOC freed 600 objects / 48072 bytes in 58ms\n07-25 08:36:40.347: D/dalvikvm(463): GC_EXTERNAL_ALLOC freed 321 objects / 15992 bytes in 104ms\n07-25 08:36:42.907: D/AndroidRuntime(463): Shutting down VM\n07-25 08:36:42.907: W/dalvikvm(463): threadid=1: thread exiting with uncaught exception (group=0x4001d800)\n07-25 08:36:42.937: E/AndroidRuntime(463): FATAL EXCEPTION: main\n07-25 08:36:42.937: E/AndroidRuntime(463): java.lang.RuntimeException: Unable to resume activity {sg.edu.tp.iit.mns/sg.edu.tp.iit.mns.Module}: java.lang.NullPointerException\n07-25 08:36:42.937: E/AndroidRuntime(463):  at android.app.ActivityThread.performResumeActivity(ActivityThread.java:3128)\n07-25 08:36:42.937: E/AndroidRuntime(463):  at android.app.ActivityThread.handleResumeActivity(ActivityThread.java:3143)\n07-25 08:36:42.937: E/AndroidRuntime(463):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2684)\n07-25 08:36:42.937: E/AndroidRuntime(463):  at android.app.ActivityThread.access$2300(ActivityThread.java:125)\n07-25 08:36:42.937: E/AndroidRuntime(463):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2033)\n07-25 08:36:42.937: E/AndroidRuntime(463):  at android.os.Handler.dispatchMessage(Handler.java:99)\n07-25 08:36:42.937: E/AndroidRuntime(463):  at android.os.Looper.loop(Looper.java:123)\n07-25 08:36:42.937: E/AndroidRuntime(463):  at android.app.ActivityThread.main(ActivityThread.java:4627)\n07-25 08:36:42.937: E/AndroidRuntime(463):  at java.lang.reflect.Method.invokeNative(Native Method)\n07-25 08:36:42.937: E/AndroidRuntime(463):  at java.lang.reflect.Method.invoke(Method.java:521)\n07-25 08:36:42.937: E/AndroidRuntime(463):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)\n07-25 08:36:42.937: E/AndroidRuntime(463):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)\n07-25 08:36:42.937: E/AndroidRuntime(463):  at dalvik.system.NativeStart.main(Native Method)\n07-25 08:36:42.937: E/AndroidRuntime(463): Caused by: java.lang.NullPointerException\n07-25 08:36:42.937: E/AndroidRuntime(463):  at sg.edu.tp.iit.mns.DBHelper.onCreate(DBHelper.java:36)\n07-25 08:36:42.937: E/AndroidRuntime(463):  at sg.edu.tp.iit.mns.Module.onResume(Module.java:50)\n07-25 08:36:42.937: E/AndroidRuntime(463):  at android.app.Instrumentation.callActivityOnResume(Instrumentation.java:1149)\n07-25 08:36:42.937: E/AndroidRuntime(463):  at android.app.Activity.performResume(Activity.java:3823)\n07-25 08:36:42.937: E/AndroidRuntime(463):  at android.app.ActivityThread.performResumeActivity(ActivityThread.java:3118)\n07-25 08:36:42.937: E/AndroidRuntime(463):  ... 12 more\n</code></pre>\n\n<p>im not sure which part is it going wrong. thank you for your help.its much appreciated if you can edit the code for me. i have being cracking my head for some times now. i cant move on to the next part due to this. </p>\n"},{"tags":["objective-c","ios","xcode","sqlite"],"answer_count":6,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":2029,"score":1,"question_id":7871816,"title":"SQLite insert data in objective c","body":"<p>I want to insert some data to mydatabase.sqlite but I have a problem. There is no error message when inserting data but then I open database and I cant see any data. There isnt any data.</p>\n\n<p>this is addCoffee method in MyClass:</p>\n\n<pre><code>if(addStmt == nil) {\n    const char *sql = \"insert into records(Date, Latitude, Longitude) Values(?, ?, ?)\";\n    if(sqlite3_prepare_v2(database, sql, -1, &amp;addStmt, NULL) != SQLITE_OK)\n        NSAssert1(0, @\"Error while creating add statement. '%s'\", sqlite3_errmsg(database));\n}\n\nsqlite3_bind_text(addStmt, 1, [Date UTF8String], -1, SQLITE_TRANSIENT);\nsqlite3_bind_double(addStmt, 2, [Latitude doubleValue] );\nsqlite3_bind_double(addStmt, 3, [Longitude doubleValue] );\n\nif(SQLITE_DONE != sqlite3_step(addStmt))\n    NSAssert1(0, @\"Error while inserting data. '%s'\", sqlite3_errmsg(database));\nelse\n    //SQLite provides a method to get the last primary key inserted by using sqlite3_last_insert_rowid\n    recordID = sqlite3_last_insert_rowid(database);\n\n//Reset the add statement.\nsqlite3_reset(addStmt);\n</code></pre>\n\n<p>sending data:</p>\n\n<pre><code>iDailyAppDelegate *appDelegate = (iDailyAppDelegate *)[[UIApplication sharedApplication] delegate];\n\n//Create a MyClass Object.\nMyClass *coffeeObj = [[MyClass alloc] initWithPrimaryKey:0];\ncoffeeObj.Date = dateInString;\nNSDecimalNumber *temp = [[NSDecimalNumber alloc] initWithString:first];\ncoffeeObj.Latitude = temp;\nNSDecimalNumber *temp2 = [[NSDecimalNumber alloc] initWithString:second];\ncoffeeObj.Longitude = temp2;\n[temp release];\ncoffeeObj.isDirty = NO;\ncoffeeObj.isDetailViewHydrated = YES;\n\n//Add the object\n[appDelegate addCoffee:coffeeObj];\n</code></pre>\n"},{"tags":["javascript","sqlite","insert","google-gears"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":390,"score":0,"question_id":1249365,"title":"Difference when using last_insert_row() in Javascript function vs. in DB Query Tool?","body":"<p>I have created a table in Google Gears (Sqlite):</p>\n\n<pre><code>db.execute('create table if not exists SPALINKS (link_id int PRIMARY KEY, sid1 int, sid2 int, label text, user text, Timestamp int');\n</code></pre>\n\n<p>When using the Google Gears Database Query Tool (in FF), INSERT with 'last-insert-rowid'  work fine. Inserts from Javascript work fine, as long a I don't use 'last-insert-rowid'. But when using 'last-insert-rowid' it doesn't work anymore:</p>\n\n<pre><code>    var sql_stmt = 'INSERT INTO SPALINKS (link_id, sid1, sid2, label, user, Timestamp) VALUES (last_insert_rowid(),?,?,?,?,?)';\nvar arg_array = [sid1, sid2, label, user, creation_time];\ndb.execute(sql_stmt, arg_array);\n\nError: Database operation failed. ERROR: constraint failed DETAILS: constraint failed\n</code></pre>\n\n<p>Why does SQLite's 'last-insert-rowid' work fine with the DB Tool, but not in a SQL statement that is created and executed from inside a Javascript function?</p>\n"},{"tags":["iphone","objective-c","ios","sqlite","fmdb"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":103,"score":3,"question_id":13118610,"title":"SQLite. Can't add more than 1000 rows","body":"<p>I'm trying to add to my SQLite database (with fmdb) 10k rows but writing is stopped on 1000 row. And I have no any errors or warnings. My code: </p>\n\n<pre><code>NSString *queryString = [NSString stringWithFormat:@\"insert into histories (storyid, text, date, storyurl) values (%li, ?, ?, ?)\",history.storyIndex];\nif ([self.db open]) {\n    if([self.db executeUpdate:queryString, history.storyText, history.storyDate, history.storyUrl]) {\n        NSLog(@\"history added\");\n    } \n}\n</code></pre>\n\n<p>Any suggestions?</p>\n"},{"tags":["android","sqlite","database-backups","android-backup-service"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":597,"score":0,"question_id":10441991,"title":"sqlite android backup restore example code","body":"<p>I'm trying to teach myself how to use Android's <code>BackupRestore</code> service to back up my app's sqlite database, but I can't find any example code on how to properly extend <code>BackupAgent</code> or <code>BackupAgentHelper</code>, so I'm a little lost...</p>\n\n<p>I looked at  <a href=\"http://developer.android.com/resources/samples/BackupRestore/src/com/example/android/backuprestore/ExampleAgent.html\" rel=\"nofollow\">http://developer.android.com/resources/samples/BackupRestore/src/com/example/android/backuprestore/ExampleAgent.html</a> but am uncertain as to how to apply this example to backing up a sqlite db file...</p>\n\n<p>Does anyone have any example code for backing up an entire sqlite database (the <code>onRestore</code> and <code>onBackup</code> methods), or any ideas about resources (other than the <code>BackupRestore</code> docs - I've looked through those extensively and they're difficult for me to understand).</p>\n"},{"tags":["android","sqlite","android-backup-service"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":766,"score":2,"question_id":4811603,"title":"Looking for a BackupAgent (for a sqlite database) example","body":"<p>I see several examples here, but none speak to backing up SQLite databases specifically, does anyone have a sample of doing this?\n<a href=\"http://www.microdu.com/docs/guide/topics/data/backup.html\" rel=\"nofollow\">http://www.microdu.com/docs/guide/topics/data/backup.html</a></p>\n"},{"tags":["php","sqlite","zend-db"],"answer_count":5,"favorite_count":1,"up_vote_count":5,"down_vote_count":0,"view_count":10155,"score":5,"question_id":506132,"title":"how to get last inserted Id of a Sqlite database using Zend_Db","body":"<p>I'm trying to fetch the last inserted row Id of a Sqlite DB in my PHP application. I'm using Zend Framework's PDO Sqlite adapter for database handling. the lastInsertId() method is supposed to give me the results, but it wouldn't. In PDO documentation in php.net I read that the lastInsertId() might not work the same on all databases. but wouldn't it work on sqlite at all?\nI tried overwriting the lastInsertId() method of the adapter by this:</p>\n\n<pre><code>// Zend_Db_Adapter_Pdo_Sqlite\npublic function lastInsertId() {\n    $result = $this-&gt;_connection-&gt;query('SELECT last_insert_rowid()')-&gt;fetch();\n    return $result[0];\n}\n</code></pre>\n\n<p>but it does not work either. just returns 0 everytime I call it. is there any special clean way to find the last inserted Id?</p>\n"},{"tags":["ios","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":12798800,"title":"How to speed up data retrieval from sqlite in iPhone app","body":"<p>I have 10000 records in my sqlite table. It takes over 3 minutes to load into array. How can i speed up the process. Is there any way i can reduce time to half atleast?</p>\n\n<p>My code :</p>\n\n<pre><code>NSString *qry=[NSString stringWithFormat:@\"select * from employees\"];\n    const char *sql=(char *)[qry UTF8String];\n    if (sqlite3_prepare_v2(database, sql, -1, &amp;selectstmt,NULL) != SQLITE_OK) {\n        NSAssert1(0, @\"Error: failed to prepare statement with message '%s'.\", sqlite3_errmsg(database));\n    }\n    if(sqlite3_prepare_v2(database, sql, -1, &amp;selectstmt, NULL) == SQLITE_OK) {\n        Vertex *objVertex = [[Vertex alloc] init];\n        int counterIndex=0;\n         while(sqlite3_step(selectstmt) == SQLITE_ROW){\n            objVertex.vid=sqlite3_column_int(selectstmt, 0);\n            objVertex.lat=sqlite3_column_double(selectstmt, 1);\n            objVertex.lon=sqlite3_column_double(selectstmt, 2);\n            objVertex.alt=sqlite3_column_double(selectstmt, 3);\n            objVertex.assoc_type=[NSString stringWithUTF8String:(char *)sqlite3_column_text(selectstmt, 4)];\n            objVertex.assoc_id=sqlite3_column_int(selectstmt, 5);\n            objVertex.link=[NSString stringWithUTF8String:(char *)sqlite3_column_text(selectstmt, 6)];\n            objVertex.bf=sqlite3_column_int(selectstmt, 7);\n            \n             [appdel.dicVertexEntry setObject:[NSString stringWithFormat:@\"%d\",counterIndex] forKey:[NSString stringWithFormat:@\"%d\",objVertex.vid]];\n             // do pass vertex to Algo\n             counterIndex++;\n        \n        }\n        [[NSUserDefaults standardUserDefaults]setObject:appdel.dicVertexEntry forKey:@\"VertexData\"];\n        [[NSUserDefaults standardUserDefaults]synchronize];\n\n    }\n</code></pre>\n\n<p>Thanks in advance.</p>\n"},{"tags":["mysql","query","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":25,"score":-1,"question_id":13117499,"title":"Update query on mutiple table in Sqlite or SQL","body":"<p>Hi I am new to SQL database.</p>\n\n<p>I have two tables one is a \"Master\" and other is \"Sub\" like this</p>\n\n<pre><code>Master \nuid(primary key)         f_name            l_name\n 1                        fAaa              lAaa\n 2                        fBbb              lBbb\n</code></pre>\n\n<p>second table</p>\n\n<pre><code>Sub \ntid(primary key)         uid(foreign key)      time           is_free\n  1                        1                   1:00AM           0\n  2                        1                   2:00AM           1 \n  3                        1                   3:00AM           0 \n  4                        2                   1:30PM           0\n  5                        2                   2:30PM           1   \n</code></pre>\n\n<p>from both table we can say that user fAaa lAaa is free at 2:00AM and NOT free at 1:00AM and 3:00AM.</p>\n\n<p>now I want to update like this, for user 1(fAaa lAaa), I want to delete time 2:00AM and want to insert new two time like 5:00AM and 6:00AM for user 1 than what should be my join query for update. </p>\n\n<p>please help me!\nThanks</p>\n"},{"tags":["java","android","database","sqlite","dictionary"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":63,"score":1,"question_id":13117999,"title":"Dictionary App for Android and Database Inquiry","body":"<p>I've been browsing this site for answers and I have obtained some but I still cannot start with my project. I'm kinda at a loss here.</p>\n\n<p>I have my thesis which is a dictionary application for android using the porter stemming algorithm.</p>\n\n<p>My idea is to INPUT WORDS > STEM THE INPUT > SEARCH THE WORD DATABASE BASED ON THE 'STEMMED' WORD > RETURN RESULTS (If the stemmed word matched a word in the database, return its the word with its definition, if not, show something like \"word not found\")</p>\n\n<p>The database should be saved on the device so wifi connection wont be necessary anymore just like the WordNet Dictionary App for android.</p>\n\n<p>I think it is possible to do this project, isn't it?\nI'm using Eclipse Juno.</p>\n\n<p>Now my questions are:</p>\n\n<p>1) Is my idea for my thesis possible?</p>\n\n<p>2) What database should I use? I'm using sqliteman. Saves me time since it has GUI. I've been told SQLite is the best. But can I use MS Access with this one without making a server like what I've read from the other posts? (MSAccess would save me time I think since I already have a word database for msaccess [.accdb].)</p>\n\n<p>Sorry for the long posts and questions. I'm a computer science student and just starting to learn Java and Eclipse. Just needed help to make sure I'm on the right track.</p>\n\n<p>Thank you everyone! :)</p>\n\n<p>-Jon</p>\n"},{"tags":["ios","sqlite","core-data","magicalrecord"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13117943,"title":"Magical record and pre-populated sqlite db","body":"<p>I am implementing MagicalRecord in my app.</p>\n\n<p>I have a pre-populated sqlite db that worked fine before when using RestKit in my app.</p>\n\n<p>I tried :</p>\n\n<pre><code>[MagicalRecord setupCoreDataStackWithStoreNamed:@\"SeedDatabase.sqlite\"];\n</code></pre>\n\n<p>No errors but the data is not loaded.</p>\n\n<p>How can I add the  SeedDatabase.sqlite in the lunch of my app with MagicalRecord ?</p>\n\n<p>Thanks</p>\n\n<p>Shani</p>\n"},{"tags":["sqlite","monodroid"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":184,"score":0,"question_id":11114653,"title":"how to avoid Unhandled Exception: System.EntryPointNotFoundException: in monodroid","body":"<p>i am using following codes</p>\n\n<p>to create database oncreate</p>\n\n<pre><code> private void chech_database_exist_or_not()\n    {\n\n        string dbPath = Path.Combine(System.Environment.GetFolderPath(System.Environment.SpecialFolder.Personal), \"validation.db3\");\n        bool exists = File.Exists(dbPath);\n        if (!exists)\n            SqliteConnection.CreateFile(dbPath);\n        var connection = new SqliteConnection(\"Data Source=\" + dbPath);\n        connection.Open();\n        if (!exists)\n        {\n            // This is the first time the app has run and/or that we need the DB.\n            // Copy a \"template\" DB from your assets, or programmatically create one.\n            var commands = new[]{\n\n      \"CREATE TABLE [user_detail] (_id integer NOT NULL PRIMARY KEY AUTOINCREMENT,user_name varchar,pass varchar,designation varchar,email varchar);\",\n\n    \"insert into user_detail(user_name,pass) values('testuser','testpass') \"\n\n\n            };\n            foreach (var command in commands)\n            {\n                using (var c = connection.CreateCommand())\n                {\n                    c.CommandText = command;\n                    c.ExecuteNonQuery();\n                }\n            }\n        }\n\n        connection.Close();\n\n\n    }\n</code></pre>\n\n<p>on button click i call below function</p>\n\n<pre><code>    private  bool validate_user(string username, string password)\n    {\n        bool i;\n        i = true;\n        string str;\n\n\n\n        DataTable dt = new DataTable();\n        string dbPath1 = System.IO.Path.Combine(System.Environment.GetFolderPath(System.Environment.SpecialFolder.Personal), \"validation.db3\");\n\n        SqliteConnection con = new SqliteConnection(\"Data Source=\" + dbPath1);\n        str = \"select pass from user_detail where user_name='\" + username + \"' and pass='\" + password + \"'\";\n        SqliteCommand cmd = new SqliteCommand(str, con);\n       // SqliteDataAdapter da = new SqliteDataAdapter(cmd);\n\n        FillDatatable(cmd, dt);\n\n\n\n\n\n\n        if (dt != null)\n        {\n            if (dt.Rows.Count &gt; 0)\n            {\n                i = true;\n\n            }\n            else\n            {\n                i = false;\n            }\n\n        }\n        else\n        {\n            i = false;\n        } \n\n        return i;\n\n    }\n</code></pre>\n\n<p>following classes i use</p>\n\n<pre><code>using System;\nusing Android.App;\nusing Android.Content;\nusing Android.Runtime;\nusing Android.Views;\nusing Android.OS;\nusing Mono.Data.Sqlite;\nusing System.Data;\nusing System.IO;\nusing Android.InputMethodServices;\n</code></pre>\n\n<p>can anyone help why i am getting this error and how i overcome it?</p>\n"},{"tags":["java","android","sqlite","intentservice"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":13116873,"title":"SQLite query returns nothing, movetoFirst Method successful in an Activity, but in IntentService, gives me error","body":"<p>When I query something and it doesnt return something, if(cursor.moveToFirst()) { //logic}\nworks well in an activity, but the same cannot be say when using it in a intent service.. i dont know whats wrong, when the query returns something (selecting all the rows which has CLASSROOM_AVAILABLE has a value of 0), the specific row's \"CLASSROOM_AVAILABLE\" will be from 0 to 1, if it returns nothing, it will turn all rows' CLASSROOM_AVAILABLE from 1 to 2..</p>\n\n<pre><code>package my.skul;\n\nimport android.app.IntentService;\nimport android.app.Notification;\nimport android.app.NotificationManager;\nimport android.app.PendingIntent;\nimport android.content.ContentValues;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.database.Cursor;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.database.sqlite.SQLiteOpenHelper;\n\npublic class CheckClassroom extends IntentService {\n\n            /**\n             * A constructor is required, and must call the super IntentService(String)\n             * constructor with a name for the worker thread.\n             */\n            public CheckClassroom() {\n                super(\"CheckClassroom\");\n            }\n\n            /**\n             * The IntentService calls this method from the default worker thread with\n             * the intent that started the service. When this method returns,\n             * IntentService stops the service, as appropriate.\n             */\n            @Override\n            protected void onHandleIntent(Intent intent) {\n\n\n                open();\n                getColumns();\n                close();\n\n\n            }\n            private DbHelper ourHelper;\n            private SQLiteDatabase ourDatabase;\n\n\n            public void open() {\n                ourHelper = new DbHelper();\n                ourDatabase = ourHelper.getWritableDatabase();\n            }\n\n\n            public void close() {\n                ourHelper.close();\n            }\n\n            private class DbHelper extends SQLiteOpenHelper {\n\n                public DbHelper() {\n                    super(CheckClassroom.this, \"myschool\", null, 1);\n                    // TODO Auto-generated constructor stub\n                }\n\n                @Override\n                public void onCreate(SQLiteDatabase arg0) {\n                    // TODO Auto-generated method stub\n\n                }\n\n                @Override\n                public void onUpgrade(SQLiteDatabase arg0, int arg1, int arg2) {\n                    // TODO Auto-generated method stub\n\n                }\n            }\n\n            public void getColumns()\n            {\n\n\n                String[] columns = new String[] {\"CLASSROOM_ID\"};\n                Cursor c = ourDatabase.query(\"CLASSROOM_TABLE\", columns, \"CLASSROOM_AVAILABLE =  0\", null,\n                        null, null, null);\n\n                if (c.moveToFirst())\n                        {\n                    int[] myid = new int[c.getCount()];\n                    int i = 0;\n\n                    while (!c.isAfterLast()) \n                        {\n\n                        myid[i]=c.getInt(0);\n                        ContentValues cv = new ContentValues();\n                        cv.put(\"CLASSROOM_AVAILABLE\", 1);\n                        ourDatabase.update(\"CLASSROOM_TABLE\", cv, \"CLASSROOM_ID = \"+myid[i], null);\n\n\n\n                        i++;\n                        c.moveToNext();\n\n                        }\n                        }\n\n                        else\n                        {\n                            ContentValues cv = new ContentValues();\n                            cv.put(\"CLASSROOM_AVAILABLE\", 2);\n                            ourDatabase.update(\"CLASSROOM_TABLE\", cv, \"CLASSROOM_ID =1\", null);\n                        }\n                }\n\n                }\n</code></pre>\n\n<p>here's the logcat</p>\n\n<pre><code>10-29 12:04:23.903: D/AndroidRuntime(22782): Shutting down VM\n10-29 12:04:23.903: W/dalvikvm(22782): threadid=1: thread exiting with uncaught exception (group=0x4001d800)\n10-29 12:04:23.923: E/AndroidRuntime(22782): FATAL EXCEPTION: main\n10-29 12:04:23.923: E/AndroidRuntime(22782): java.lang.IllegalStateException: Could not execute method of the activity\n10-29 12:04:23.923: E/AndroidRuntime(22782):    at android.view.View$1.onClick(View.java:2072)\n10-29 12:04:23.923: E/AndroidRuntime(22782):    at android.view.View.performClick(View.java:2408)\n10-29 12:04:23.923: E/AndroidRuntime(22782):    at android.view.View$PerformClick.run(View.java:8816)\n10-29 12:04:23.923: E/AndroidRuntime(22782):    at android.os.Handler.handleCallback(Handler.java:587)\n10-29 12:04:23.923: E/AndroidRuntime(22782):    at android.os.Handler.dispatchMessage(Handler.java:92)\n10-29 12:04:23.923: E/AndroidRuntime(22782):    at android.os.Looper.loop(Looper.java:123)\n10-29 12:04:23.923: E/AndroidRuntime(22782):    at android.app.ActivityThread.main(ActivityThread.java:4627)\n10-29 12:04:23.923: E/AndroidRuntime(22782):    at java.lang.reflect.Method.invokeNative(Native Method)\n10-29 12:04:23.923: E/AndroidRuntime(22782):    at java.lang.reflect.Method.invoke(Method.java:521)\n10-29 12:04:23.923: E/AndroidRuntime(22782):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)\n10-29 12:04:23.923: E/AndroidRuntime(22782):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)\n10-29 12:04:23.923: E/AndroidRuntime(22782):    at dalvik.system.NativeStart.main(Native Method)\n10-29 12:04:23.923: E/AndroidRuntime(22782): Caused by: java.lang.reflect.InvocationTargetException\n10-29 12:04:23.923: E/AndroidRuntime(22782):    at my.skul.Mainmenu.sectwenty(Mainmenu.java:71)\n10-29 12:04:23.923: E/AndroidRuntime(22782):    at java.lang.reflect.Method.invokeNative(Native Method)\n10-29 12:04:23.923: E/AndroidRuntime(22782):    at java.lang.reflect.Method.invoke(Method.java:521)\n10-29 12:04:23.923: E/AndroidRuntime(22782):    at android.view.View$1.onClick(View.java:2067)\n10-29 12:04:23.923: E/AndroidRuntime(22782):    ... 11 more\n10-29 12:04:23.923: E/AndroidRuntime(22782): Caused by: android.database.CursorIndexOutOfBoundsException: Index 0 requested, with a size of 0\n10-29 12:04:23.923: E/AndroidRuntime(22782):    at android.database.AbstractCursor.checkPosition(AbstractCursor.java:580)\n10-29 12:04:23.923: E/AndroidRuntime(22782):    at android.database.AbstractWindowedCursor.checkPosition(AbstractWindowedCursor.java:214)\n10-29 12:04:23.923: E/AndroidRuntime(22782):    at android.database.AbstractWindowedCursor.getLong(AbstractWindowedCursor.java:99)\n10-29 12:04:23.923: E/AndroidRuntime(22782):    at my.skul.MyCreateClassrooms.get(MyCreateClassrooms.java:111)\n10-29 12:04:23.923: E/AndroidRuntime(22782):    ... 15 more\n</code></pre>\n\n<p>this is the same code, perfectly working fine in an Activity..</p>\n\n<pre><code>package my.skul;\n\n\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\nimport java.util.Random;\n\nimport android.content.ContentValues;\nimport android.content.Context;\nimport android.database.Cursor;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.database.sqlite.SQLiteDatabase.CursorFactory;\nimport android.database.sqlite.SQLiteOpenHelper;\n\npublic class MyCreateClassrooms {\n\n    private static final String DATABASE_NAME = \"myschool\";\n    private static final int DATABASE_VERSION = 1;\n\n    private DbHelper ourHelper;\n    private final Context ourContext;\n    private SQLiteDatabase ourDatabase;\n\n    private static class DbHelper extends SQLiteOpenHelper {\n\n        public DbHelper(Context context) {\n            super(context, DATABASE_NAME, null, DATABASE_VERSION);\n            // TODO Auto-generated constructor stub\n        }\n\n        @Override\n        public void onCreate(SQLiteDatabase db) {\n            // TODO Auto-generated method stub\n\n            db.execSQL(\"CREATE TABLE MAIN_TABLE (OURID INTEGER PRIMARY KEY AUTOINCREMENT, date DATETIME);\");\n\n            db.execSQL(\"CREATE TABLE CLASSROOM_TABLE (CLASSROOM_ID INTEGER PRIMARY KEY AUTOINCREMENT,\"\n                    + \"CLASSROOM_AVAILABLE INTEGER , \"\n                    + \"CLASSROOM_COMPLETION DATETIME);  \");\n\n            db.execSQL(\"INSERT INTO MAIN_TABLE (date) VALUES (DATETIME('now'))\");\n\n        }\n\n        @Override\n        public void onUpgrade(SQLiteDatabase db, int arg1, int arg2) {\n            // TODO Auto-generated method stub\n            db.execSQL(\"DROP TABLE IF EXIST MAIN_TABLE\");\n\n            onCreate(db);\n\n        }\n\n    }\n\n    public MyCreateClassrooms(Context c) {\n        ourContext = c;\n    }\n\n    public MyCreateClassrooms open() {\n        ourHelper = new DbHelper(ourContext);\n        ourDatabase = ourHelper.getWritableDatabase();\n\n        return this;\n\n    }\n\n    public void close() {\n        ourHelper.close();\n    }\n\n\n\n\n\n     public void getColumns()\n     {\n\n\n            String[] columns = new String[] {\"CLASSROOM_ID\"};\n            Cursor c = ourDatabase.query(\"CLASSROOM_TABLE\", columns, \"CLASSROOM_AVAILABLE =  0\", null,\n                    null, null, null);\n\n            if (!c.moveToFirst())\n                    {\n                int[] myid = new int[c.getCount()];\n                int i = 0;\n\n                while (!c.isAfterLast()) \n                    {\n\n                    myid[i]=c.getInt(0);\n                    ContentValues cv = new ContentValues();\n                    cv.put(\"CLASSROOM_AVAILABLE\", 1);\n                    ourDatabase.update(\"CLASSROOM_TABLE\", cv, \"CLASSROOM_ID = \"+myid[i], null);\n\n\n\n                    i++;\n                    c.moveToNext();\n\n                    }\n                    }\n\n                    if(c.moveToFirst())\n                    {\n                        ContentValues cv = new ContentValues();\n                        cv.put(\"CLASSROOM_AVAILABLE\", 2);\n                        ourDatabase.update(\"CLASSROOM_TABLE\", cv, null, null);\n                    }\n            }\n}\n</code></pre>\n"},{"tags":["sqlite","phonegap","subquery"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":31,"score":1,"question_id":13117084,"title":"SQLite (in Cordova/PhoneGap) - Subquery","body":"<p>The following works fine in SQL SERVER. But I cannot get the query to work in SQLite in a PhoneGap Application.</p>\n\n<p>Here is the scenario:</p>\n\n<p>The table is filled with a number of from/to phone numbers and a text message in each row. I need to find out what was the last message for a combination of from/to phone number.</p>\n\n<p>I created a table like following. (The example is in TSQL - SQL Server).</p>\n\n<pre><code>Create Table SmsLog \n(\n    messageId int identity (1,1) primary key,\n    messageDate datetime,\n    fromPhoneNumber varchar(50),\n    toPhoneNumber varchar(50),\n    textMessage varchar(50)\n)\n\nGO\n</code></pre>\n\n<p>Then I inserted a bunch of rows as follows:</p>\n\n<pre><code>Insert into SmsLog(MessageDate, FromPhoneNumber, ToPhoneNumber, TextMessage) Values (GetDate(), '+19175380077', '+14255587777', 'Blah 1');\nInsert into SmsLog(MessageDate, FromPhoneNumber, ToPhoneNumber, TextMessage) Values (GetDate(), '+19175380077', '+14255587777', 'Blah 2');\nInsert into SmsLog(MessageDate, FromPhoneNumber, ToPhoneNumber, TextMessage) Values (GetDate(), '+19175380077', '+14255587777', 'Blah 3');\nInsert into SmsLog(MessageDate, FromPhoneNumber, ToPhoneNumber, TextMessage) Values (GetDate(), '+19175380077', '+12149653333', 'Blah 4');\nInsert into SmsLog(MessageDate, FromPhoneNumber, ToPhoneNumber, TextMessage) Values (GetDate(), '+19175380077', '+12149653333', 'Blah 11');\nInsert into SmsLog(MessageDate, FromPhoneNumber, ToPhoneNumber, TextMessage) Values (GetDate(), '+19175380077', '+14255587777', 'Blah 12');\nInsert into SmsLog(MessageDate, FromPhoneNumber, ToPhoneNumber, TextMessage) Values (GetDate(), '+19175380077', '+14254490006', 'Blah 13');\nInsert into SmsLog(MessageDate, FromPhoneNumber, ToPhoneNumber, TextMessage) Values (GetDate(), '+19175380077', '+14254490006', 'Blah 21');\nInsert into SmsLog(MessageDate, FromPhoneNumber, ToPhoneNumber, TextMessage) Values (GetDate(), '+19175380077', '+14254490087', 'Blah 22');\nInsert into SmsLog(MessageDate, FromPhoneNumber, ToPhoneNumber, TextMessage) Values (GetDate(), '+19175380077', '+14254490087', 'Blah 23');\nGO\n</code></pre>\n\n<p>The following query should get the job done (this works perfect in MSSQL). </p>\n\n<pre><code>/* Retrieve the last message per from/to from the table*/\nSELECT  * \nFROM    SmsLog\nWHERE   MessageId IN\n    (\n        SELECT  MAX(MessageId) as MessageId\n        FROM    SmsLog\n        GROUP\n        BY      FromPhoneNumber, ToPhoneNumber\n    )\nGO\n</code></pre>\n\n<p>The result from MSSQL is as follows (Which is exactly what I need from an app that uses SQLite as its data storage):</p>\n\n<pre><code>5   2012-10-28 23:32:23.257 +19175380077    +12149653333    Blah 11\n6   2012-10-28 23:32:23.257 +19175380077    +14255587777    Blah 12\n8   2012-10-28 23:32:23.257 +19175380077    +14254490006    Blah 21\n10  2012-10-28 23:32:23.257 +19175380077    +14254490087    Blah 23\n</code></pre>\n\n<p>But I cannot get the same query to work in a SQLite for PhoneGap Application (on iOS). The javaScript code is as follows:</p>\n\n<pre><code>  db.transaction(function(tx)\n            {\n                var sqlString = \"SELECT * FROM smsLog WHERE messageId IN (SELECT    MAX(messageId) AS messageId FROM smsLog GROUP BY fromPhoneNumber, toPhoneNumber\";\n\n                tx.executeSql (sqlString, [],\n                function(tx, result)\n                {\n                    if (console)\n                    {\n                        console.log(\"in retrive success\");\n\n                    }\n\n                    var liblock = \"\";\n                    $.each(result.rows,function(index)\n                    {\n                        var row = result.rows.item(index);\n\n                        liblock +=\n                        ('&lt;li&gt;&lt;a href=\"#\"&gt;&lt;h3&gt;'+row['toPhoneNumber'] + '&lt;/h3&gt;&lt;p&gt;' +row['textMessage']+'&lt;/p&gt;&lt;p class=\"ui-li-aside\"&gt;&lt;strong&gt;'+ formatDate(new Date(row['messageDate'])) + '&lt;/strong&gt;&lt;/p&gt;&lt;/a&gt;&lt;/li&gt;');\n\n                    });\n\n                    $(\"#topicList\").html(liblock);\n                    $(\"#topicList\").listview(\"refresh\");\n                },\n                function(err)\n                {\n                    if (console)\n                    {\n                        console.log(err);\n                    }\n                });\n            },\n            function (dbError)\n            {\n                if (console)\n                {\n                    console.log(\"ERROR Performing database operation\");\n                    console.log(dbError);\n                }\n            },\n            function (dbSuccess)\n            {\n                if (console)\n                {\n                    console.log(\"Record retreived\");\n                }\n            });\n        }\n</code></pre>\n"},{"tags":["android","sqlite","simplecursoradapter"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13115964,"title":"SimpleCursorAdapter LoaderManager","body":"<p>I'm using API 15 and SimpleCursorAdapter does no longer work and I am suppose to use LoadManager, but when I look at the the example on Androids developer website the example starts with: SimpleCursorAdapter mAdapter; since SimpleCursorAdapter is deprecated how can I use LoadManager. I have been unable to find any examples. \nThe only other way to get my sqllite data into a listview is create an adapter and load the data into a list record by record then use setAdapter. \nIf any one know of any example using LoadManager I will appreciate it, thanks.</p>\n"},{"tags":["java","android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13115356,"title":"Android SQLite, Query but find no row, gives me error","body":"<p>I tried using cursor == null, but no avail, and cursor.getCount == 0, and the moveFirst method.. still error, heres my code..</p>\n\n<pre><code>  public void getColumns()\n        {\n\n\n            String[] columns = new String[] {\"CLASSROOM_ID\"};\n            Cursor c = ourDatabase.query(\"CLASSROOM_TABLE\", columns, \"CLASSROOM_AVAILABLE =  0\", null,\n                    null, null, null);\n\n            if (c.moveToFirst())\n                    {\n                int[] myid = new int[c.getCount()];\n                int i = 0;\n\n                while (!c.isAfterLast()) \n                    {\n\n                    myid[i]=c.getInt(0);\n                    ContentValues cv = new ContentValues();\n                    cv.put(\"CLASSROOM_AVAILABLE\", 1);\n                    ourDatabase.update(\"CLASSROOM_TABLE\", cv, \"CLASSROOM_ID = \"+myid[i], null);\n\n\n\n                    i++;\n                    c.moveToNext();\n\n                    }\n                    }\n\n\n\n\n        }\n</code></pre>\n\n<p>I dont really know what im doing wrong, what should i do to make my application know that the cursor find no rows?</p>\n\n<p>this is the logcat</p>\n\n<pre><code>10-29 12:04:23.903: D/AndroidRuntime(22782): Shutting down VM\n10-29 12:04:23.903: W/dalvikvm(22782): threadid=1: thread exiting with uncaught exception (group=0x4001d800)\n10-29 12:04:23.923: E/AndroidRuntime(22782): FATAL EXCEPTION: main\n10-29 12:04:23.923: E/AndroidRuntime(22782): java.lang.IllegalStateException: Could not execute method of the activity\n10-29 12:04:23.923: E/AndroidRuntime(22782):    at android.view.View$1.onClick(View.java:2072)\n10-29 12:04:23.923: E/AndroidRuntime(22782):    at android.view.View.performClick(View.java:2408)\n10-29 12:04:23.923: E/AndroidRuntime(22782):    at android.view.View$PerformClick.run(View.java:8816)\n10-29 12:04:23.923: E/AndroidRuntime(22782):    at android.os.Handler.handleCallback(Handler.java:587)\n10-29 12:04:23.923: E/AndroidRuntime(22782):    at android.os.Handler.dispatchMessage(Handler.java:92)\n10-29 12:04:23.923: E/AndroidRuntime(22782):    at android.os.Looper.loop(Looper.java:123)\n10-29 12:04:23.923: E/AndroidRuntime(22782):    at android.app.ActivityThread.main(ActivityThread.java:4627)\n10-29 12:04:23.923: E/AndroidRuntime(22782):    at java.lang.reflect.Method.invokeNative(Native Method)\n10-29 12:04:23.923: E/AndroidRuntime(22782):    at java.lang.reflect.Method.invoke(Method.java:521)\n10-29 12:04:23.923: E/AndroidRuntime(22782):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)\n10-29 12:04:23.923: E/AndroidRuntime(22782):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)\n10-29 12:04:23.923: E/AndroidRuntime(22782):    at dalvik.system.NativeStart.main(Native Method)\n10-29 12:04:23.923: E/AndroidRuntime(22782): Caused by: java.lang.reflect.InvocationTargetException\n10-29 12:04:23.923: E/AndroidRuntime(22782):    at my.skul.Mainmenu.sectwenty(Mainmenu.java:71)\n10-29 12:04:23.923: E/AndroidRuntime(22782):    at java.lang.reflect.Method.invokeNative(Native Method)\n10-29 12:04:23.923: E/AndroidRuntime(22782):    at java.lang.reflect.Method.invoke(Method.java:521)\n10-29 12:04:23.923: E/AndroidRuntime(22782):    at android.view.View$1.onClick(View.java:2067)\n10-29 12:04:23.923: E/AndroidRuntime(22782):    ... 11 more\n10-29 12:04:23.923: E/AndroidRuntime(22782): Caused by: android.database.CursorIndexOutOfBoundsException: Index 0 requested, with a size of 0\n10-29 12:04:23.923: E/AndroidRuntime(22782):    at android.database.AbstractCursor.checkPosition(AbstractCursor.java:580)\n10-29 12:04:23.923: E/AndroidRuntime(22782):    at android.database.AbstractWindowedCursor.checkPosition(AbstractWindowedCursor.java:214)\n10-29 12:04:23.923: E/AndroidRuntime(22782):    at android.database.AbstractWindowedCursor.getLong(AbstractWindowedCursor.java:99)\n10-29 12:04:23.923: E/AndroidRuntime(22782):    at my.skul.MyCreateClassrooms.get(MyCreateClassrooms.java:111)\n10-29 12:04:23.923: E/AndroidRuntime(22782):    ... 15 more\n</code></pre>\n"},{"tags":["iphone","sqlite","table"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":2638,"score":0,"question_id":905078,"title":"Sqlite database table: can an array become one column of a record?","body":"<p>I'm designing an iPhone app, which needs to store data into Sqlite database.</p>\n\n<p>One record of the table looks like -</p>\n\n<pre><code>@interface Record:NSObject {\n    NSInteger primaryKey;\n    NSString *name;\n    NSInteger priority;\n    NSMutableArray *items;\n};\n</code></pre>\n\n<p>Please be noted one column in the record is an array and the size of the array is not fixed. The size can be zero or any positive integer.</p>\n\n<p>My question is: when I design the Sqlite table, can I specify an array as one column of a record? If NO, How should I design this table? Many thanks!</p>\n\n<p>UPDATE: Thank you for the answer. It seems the answer to my question is NO. If so, can I use other archive methods, say, Property List or NSKeyedArchiver to implement that? Thanks!</p>\n"},{"tags":["java","android","sqlite","constructor"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":37,"score":-1,"question_id":13114615,"title":"Super, Constructor,Intent Service and SQLite Database?","body":"<p>I know how to do SQLite Database, when doing it specifically in its own dedicated java class. But whenever i want it to be inside of something, in this case, an Intent Service, it always give me errors, and i can't debug it.</p>\n\n<pre><code>package my.skul;\n\n\n    import android.app.IntentService;\n    import android.app.Notification;\n    import android.app.NotificationManager;\n    import android.app.PendingIntent;\n    import android.content.Context;\n    import android.content.Intent;\n    import android.database.Cursor;\n    import android.database.sqlite.SQLiteDatabase;\n    import android.database.sqlite.SQLiteOpenHelper;\n\n    public class CheckClassroom extends IntentService {\n\n                /**\n                 * A constructor is required, and must call the super IntentService(String)\n                 * constructor with a name for the worker thread.\n                 */\n                public CheckClassroom() {\n                    super(\"CheckClassroom\");\n                }\n\n                /**\n                 * The IntentService calls this method from the default worker thread with\n                 * the intent that started the service. When this method returns,\n                 * IntentService stops the service, as appropriate.\n                 */\n                @Override\n                protected void onHandleIntent(Intent intent) {\n\n\n\n\n\n                }\n                private DbHelper ourHelper;\n                private final Context ourContext;\n                private SQLiteDatabase ourDatabase;\n\n                private static class DbHelper extends SQLiteOpenHelper {\n\n                    public DbHelper(Context context) {\n                        super(context, \"myschool\", null, 1);\n                        // TODO Auto-generated constructor stub\n                    }\n\n                    @Override\n                    public void onCreate(SQLiteDatabase arg0) {\n                        // TODO Auto-generated method stub\n\n                    }\n\n                    @Override\n                    public void onUpgrade(SQLiteDatabase arg0, int arg1, int arg2) {\n                        // TODO Auto-generated method stub\n\n                    }\n\n                    public CheckClassroom(Context c) {\n                        ourContext = c;\n                    }\n\n                    public CheckClassroom open() {\n                        ourHelper = new DbHelper(ourContext);\n                        ourDatabase = ourHelper.getWritableDatabase();\n\n                        return this;\n\n                    }\n\n                    public void close() {\n                        ourHelper.close();\n                    }\n\n            }\n                getColumns()\n                {\n                    //retrieve sqlitedatabase data\n\n                }\n\n\n    }\n</code></pre>\n\n<p>I've been reading a lot about constructor, but i can't really fully understand it, explaining all my errors here would really give me a better understanding of this. Thanks..</p>\n"},{"tags":["python","mysql","sqlite","commit","autocommit"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":32,"score":3,"question_id":13113984,"title":"Problems with \"commit\" after SQL INSERT with Python and SQL","body":"<p>I made a loop in Python that calls itself to repeatedly check for new entries in a database. On first execution, all affected rows are shown fine. Meanwhile, I add more rows into the database. On the next query in my loop, the new rows are not shown.</p>\n\n<p>This is my query-loop:</p>\n\n<pre><code>def loop():\n    global mysqlconfig # username, passwd...\n    tbd=[] # this is where I save the result\n    conn = MySQLdb.connect(**mysqlconfig)\n    conn.autocommit(True)\n    c = conn.cursor()\n    c.execute(\"SELECT id, message FROM tasks WHERE date &lt;= '%s' AND done = 0;\" % now.isoformat(' '))\n    conn.commit()\n    tbd = c.fetchall()      \n    print tbd\n    c.close()\n    conn.close()\n\n    time.sleep(5)\n    loop()\nloop()\n</code></pre>\n\n<p>This is the SQL part of my Python insertion-script:</p>\n\n<pre><code>conn = MySQLdb.connect(**mysqlconfig)\nconn.autocommit(1)\nc = conn.cursor()\nc.execute(\"INSERT INTO tasks (date, message) VALUES ('{0}', '{1}');\".format(\"2012-10-28 23:50\", \"test\")) \nconn.commit()\nid = c.lastrowid\nc.close()\nconn.close()\n</code></pre>\n\n<p>I tried SQLite, I tried Oracle MySQL's connector, I tried MySQLdb on a Windows and Linux system and all had the same problem. I looked through many, many threads on Stackoverflow that recommended to turn on autocommit or use commit() after an SQL statement (ex. <a href=\"http://stackoverflow.com/questions/7357995/why-doesnt-this-sql-script-execute\">one</a>, <a href=\"http://stackoverflow.com/questions/9804073/sqllite-python-does-not-update-table\">two</a>, <a href=\"http://stackoverflow.com/questions/12984607/python-mysqldb-failing-to-insert\">three</a>), which I tried and failed. </p>\n\n<p>When I added data with HeidiSQL to my database it showed up in the loop query, but I don't really know why this is. Rows inserted with mysql-client on Linux and my Python insertion script never show up until I restart my loop script.</p>\n\n<p>I don't know if it's the fact that I open 2 connections, each in their own script, but I close every connection and every cursor when I'm done with them.</p>\n"},{"tags":["multithreading","sqlite","firemonkey"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13113644,"title":"XE3, TSQLConnection, Multiple Threads, SQLite, OSX","body":"<p>I am in the process of testing an app that has been working on Windows 7 &amp; 8 nicely on OSX, using FireMonkey 2 (XE3).</p>\n\n<p>For some reason I am getting crashes with OSX and the debugger isn't really giving much of a clue as to what the problem is.</p>\n\n<p>Until now I have been using a single TSQLConnection and using this throughout my application and in multiple threads. Since the problems on OSX have been happening, I have been looking at maybe the causes being the TSQLConnection, used in multiple threads.</p>\n\n<p>So I am here hoping to find a definitive answer as to how to use TSQLConnection/SQLite on multiple threads, if there is anything I need to do in order to ensure there are no conflicts with threads or do I just use it as is without having to worry about possible conflicts?</p>\n\n<p>Jason</p>\n"},{"tags":["java","android","eclipse","sqlite"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":2,"view_count":47,"score":-2,"question_id":13113582,"title":"connect to Sqlite with java eclipse?","body":"<p>I'm programming with eclipse and I'm trying to develop Android apps.\nI've downloaded Sqlite Manager in Firefox browser Add-ons and I'm making a simple database.\nHow can I connect my program in eclipse and that database?</p>\n"}]}
{"total":16516,"page":5,"pagesize":100,"questions":[{"tags":["android","database","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":2641,"score":5,"question_id":4240117,"title":"Why has my Android SQLite DB gone corrupt all of a sudden?","body":"<p>All of a sudden, it seems the database that my application is using has gone corrupt.\nI didn't change the structure of the database, but I did re-deploy the app several times on my device today.</p>\n\n<p>It is throwing the following exception.</p>\n\n<pre><code>E/Database(14281): CREATE TABLE android_metadata failed err=26 ..\nE/Database(14281): Failed to setLocale() when constructing, closing the database\nE/Database(14281): android.database.sqlite.SQLiteException: file is encrypted or is not  a database\nE/Database(14281):  at android.database.sqlite.SQLiteDatabase.native_setLocale(Native  Method)\nE/Database(14281):  at android.database.sqlite.SQLiteDatabase.setLocale(SQLiteDatabase.java:1848)\nE/Database(14281):  at android.database.sqlite.SQLiteDatabase.&lt;init&gt;(SQLiteDatabase.java:1798)\nE/Database(14281):  at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:798)\nE/Database(14281):  at   android.database.sqlite.SQLiteDatabase.openOrCreateDatabase(SQLiteDatabase.java:857)\nE/Database(14281):  at android.database.sqlite.SQLiteDatabase.openOrCreateDatabase(SQLiteDatabase.java:850)\nE/Database(14281):  at android.app.ApplicationContext.openOrCreateDatabase(ApplicationContext.java:539)\nE/Database(14281):  at android.content.ContextWrapper.openOrCreateDatabase(ContextWrapper.java:193)\nE/Database(14281):  at android.database.sqlite.SQLiteOpenHelper.getWritableDatabase(SQLiteOpenHelper.java:98)\nE/Database(14281):  at com.ecs.android.gps.storage.DBAdapter.open(DBAdapter.java:75)\n</code></pre>\n\n<p>The database is initialized using the SQLLiteOpenHelper class.</p>\n\n<pre><code>public DBAdapter(Context ctx) \n{\n    this.context = ctx;\n    DBHelper = new DatabaseHelper(context);\n}\n\nprivate static class DatabaseHelper extends SQLiteOpenHelper \n{\n    DatabaseHelper(Context context) \n    {\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) \n    {\n        db.execSQL(DATABASE_CREATE);\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, \n    int newVersion) \n    {\n        Log.w(TAG, \"Upgrading database from version \" + oldVersion \n                + \" to \"\n                + newVersion + \", which will destroy all old data\");\n        db.execSQL(\"DROP TABLE IF EXISTS location_history\");\n        onCreate(db);\n    }\n}  \n</code></pre>\n\n<ul>\n<li>I'm basically opening/closing both\nthe database and cursors on each\noperation. </li>\n<li>Some articles indicate\nthis being the way to go, but for an\nandroid app, wouldn't make more sense\nto keep the database connection open\nall the time ? </li>\n<li>I can imagine it\ntaking a lot more resources to\nopen/close it each time. </li>\n<li>There are multiple Activities and Services that\naccess the database.  (potentially at the same time)</li>\n<li>I never saw an exception in the logs</li>\n</ul>\n\n<p>Any idea what could have caused this, how to restore from it, and how to prevent this in the future ?\nI have the impression the exception is coming due to some concurrency issues (multiple threads trying to open/close or read/write to the database). I don't know to what degree an SQLite database is as robust as a normal database (mysql - oracle) when it comes to multi-threaded access, locking, .....</p>\n"},{"tags":["sqlite","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13112478,"title":"Qt: How to connect to SQLite?","body":"<p>I installed SQLite3 (unpacked to c:/sqlite), created a database (c:/sqlite/mzsales). Now I am trying to show its content in a QTableView.</p>\n\n<pre><code>QSqlDatabase db = QSqlDatabase::addDatabase(\"QSQLITE\");\ndb.setHostName(\"localhost\");\ndb.setDatabaseName(\"mzsales\");\nbool db_ok = db.open();\n</code></pre>\n\n<p>db_ok is true. Then</p>\n\n<pre><code>QSqlTableModel *model = new QSqlTableModel(0, db);\nmodel-&gt;setTable(\"person\");\nmodel-&gt;setEditStrategy(QSqlTableModel::OnManualSubmit);\nbool tbl_ok = model-&gt;select();\n</code></pre>\n\n<p>tbl_ok is false.</p>\n\n<p>What do I do wrong? How do I connect to db? Thanks!</p>\n"},{"tags":["sqlite","symfony1","doctrine"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":635,"score":0,"question_id":3119350,"title":"Couldn't locate driver named sqlite","body":"<p>symfony 1.2, doctrine, dsn: sqlite:%sf_data_dir%/db.sq3</p>\n\n<p>When i am trying \"php symfony dctrine:build-sql\" i get this error, but on frontend all fine.\nAlso i have tried to change ini file this way</p>\n\n<pre><code>php -c \"path to file\" symfony doctrine:build-sql\n</code></pre>\n\n<p>but get the same error</p>\n\n<p>Couldn't locate driver named sqlite</p>\n"},{"tags":["java","android","sqlite","sqlitedatabase"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":47,"score":-1,"question_id":13111420,"title":"Android SQLite getting the database","body":"<p>At the beginnig all worked ok, but after i have deleted the database by command:</p>\n\n<pre><code>this.deleteDatabase(\"databasename\");\n</code></pre>\n\n<p>and then my command:</p>\n\n<pre><code>databasehelper.getWritableDatabase();\n</code></pre>\n\n<p>started to throw exeptions</p>\n\n<pre><code>10-28 23:39:29.190: D/AndroidRuntime(15363): Shutting down VM\n10-28 23:39:29.190: W/dalvikvm(15363): threadid=1: thread exiting with uncaught exception (group=0x40b5b300)\n10-28 23:39:29.190: E/AndroidRuntime(15363): FATAL EXCEPTION: main\n10-28 23:39:29.190: E/AndroidRuntime(15363): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.package/com.package.MainActivity}: java.lang.ArrayIndexOutOfBoundsException: length=50; index=50\n10-28 23:39:29.190: E/AndroidRuntime(15363):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2059)\n10-28 23:39:29.190: E/AndroidRuntime(15363):    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2084)\n10-28 23:39:29.190: E/AndroidRuntime(15363):    at android.app.ActivityThread.access$600(ActivityThread.java:130)\n10-28 23:39:29.190: E/AndroidRuntime(15363):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1195)\n10-28 23:39:29.190: E/AndroidRuntime(15363):    at android.os.Handler.dispatchMessage(Handler.java:99)\n10-28 23:39:29.190: E/AndroidRuntime(15363):    at android.os.Looper.loop(Looper.java:137)\n10-28 23:39:29.190: E/AndroidRuntime(15363):    at android.app.ActivityThread.main(ActivityThread.java:4745)\n10-28 23:39:29.190: E/AndroidRuntime(15363):    at java.lang.reflect.Method.invokeNative(Native Method)\n10-28 23:39:29.190: E/AndroidRuntime(15363):    at java.lang.reflect.Method.invoke(Method.java:511)\n10-28 23:39:29.190: E/AndroidRuntime(15363):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:786)\n10-28 23:39:29.190: E/AndroidRuntime(15363):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:553)\n10-28 23:39:29.190: E/AndroidRuntime(15363):    at dalvik.system.NativeStart.main(Native Method)\n10-28 23:39:29.190: E/AndroidRuntime(15363): Caused by: java.lang.ArrayIndexOutOfBoundsException: length=50; index=50\n10-28 23:39:29.190: E/AndroidRuntime(15363):    at com.package.DBHelper.onCreate(DBHelper.java:41)\n10-28 23:39:29.190: E/AndroidRuntime(15363):    at android.database.sqlite.SQLiteOpenHelper.getDatabaseLocked(SQLiteOpenHelper.java:252)\n10-28 23:39:29.190: E/AndroidRuntime(15363):    at android.database.sqlite.SQLiteOpenHelper.getWritableDatabase(SQLiteOpenHelper.java:164)\n10-28 23:39:29.190: E/AndroidRuntime(15363):    at com.package.MainActivity.onCreate(MainActivity.java:28)\n10-28 23:39:29.190: E/AndroidRuntime(15363):    at android.app.Activity.performCreate(Activity.java:5008)\n10-28 23:39:29.190: E/AndroidRuntime(15363):    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1079)\n10-28 23:39:29.190: E/AndroidRuntime(15363):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2023)\n10-28 23:39:29.190: E/AndroidRuntime(15363):    ... 11 more\n</code></pre>\n\n<p>What should i do now?</p>\n"},{"tags":["ios","xcode","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":66,"score":-1,"question_id":12260053,"title":"Is SQLite able to update or insert","body":"<p>I am facing a problem in Xcode : I tried many weeks to add data into sqlite database and I surf Google for many results but none of them can give a complete and clear tutorial, most of them are using .db but not sqlite, I suspect that sqlite is not able to insert or update, just can read data, or is there any other way to do it?</p>\n\n<p>Please attach the link with tutorial in the answer if you guys have any. Thank you</p>\n"},{"tags":["ios","database","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":136,"score":0,"question_id":12000311,"title":"sqlite ios : attempt to write a readonly database","body":"<p>I use a sqlite database for a project. I can do queries like SELECT but impossible to do INSERTs!\nOn the simulator the INSERT works properly. As soon as I compile on my iPod this error message appears: <em>\"attempt to write a readonly database\"</em>.</p>\n\n<p>Thinking it is a right of the file I did a: <code>chmod 777 mydatabase.sqlite</code>\nBut that does not change!</p>\n\n<p>I also tried as I have read on other site and copy the file to use his copy to have it all right, but to no avail.</p>\n\n<p>Have you a solution?\nCordially.</p>\n\n<p>PS: Here is my code:</p>\n\n<pre><code>for(NSDictionary *q in quotes) {\n    sqlite3_stmt    *statement;\n    sqlite3 *contactDB;\n    const char *dbpath = [dbPath UTF8String];\n\n    if (sqlite3_open_v2(dbpath, &amp;contactDB, SQLITE_OPEN_READWRITE, NULL) == SQLITE_OK)\n    {\n        NSInteger identifiant = [[q objectForKey:@\"id\"] integerValue];\n        NSString *texte = [q objectForKey:@\"texte_english\"];\n        NSString *auteur = [q objectForKey:@\"auteur\"];\n        NSString *date = [q objectForKey:@\"date\"];\n        NSInteger auteurId = [[q objectForKey:@\"auteur_id\"] integerValue];\n        NSInteger nbComments = [[q objectForKey:@\"nb_comments\"] integerValue];\n\n        NSString *insertSQL = \n                [NSString stringWithFormat:@\"INSERT INTO quotes (id, texte_english, auteur, date, auteur_id, nb_comments) VALUES (%d, \\\"%@\\\", \\\"%@\\\", \\\"%@\\\", \\\"%d\\\", \\\"%d\\\")\", \n                                          identifiant, \n                                          texte, \n                                          auteur, \n                                          date, \n                                          auteurId, \n                                          nbComments];\n\n        const char *insert_stmt = [insertSQL UTF8String];\n        sqlite3_prepare_v2(contactDB, insert_stmt, -1, &amp;statement, NULL);\n\n        if (sqlite3_step(statement) != SQLITE_DONE)\n        {\n            NSLog(@\"ERREUR1: %s\",sqlite3_errmsg(contactDB));\n        }\n        sqlite3_finalize(statement);\n        sqlite3_close(contactDB);\n    }\n}\n</code></pre>\n"},{"tags":["android","sqlite","listview"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":13110639,"title":"No item display in output ListView","body":"<p>i doing the application which can display all the data in listView . But when i compile my app, nothing display in listView . No any errors in program , i really no sure which part is wrong .</p>\n\n<p>Anyone know what the problem or something wrong in my program?</p>\n\n<pre><code>main.java\n\npackage com.example.shoppingassistantnew;\n\nimport java.util.ArrayList;\n\n\n\nimport greendroid.app.GDActivity;\nimport greendroid.app.GDListActivity;\nimport greendroid.widget.ActionBar;\nimport greendroid.widget.ActionBarItem;\nimport greendroid.widget.ActionBarItem.Type;\nimport greendroid.widget.QuickAction;\nimport greendroid.widget.QuickActionBar;\nimport greendroid.widget.QuickActionGrid;\nimport greendroid.widget.QuickActionWidget;\nimport greendroid.widget.QuickActionWidget.OnQuickActionClickListener;\n\nimport android.os.Bundle;\nimport android.app.Activity;\nimport android.app.ListActivity;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.database.Cursor;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.graphics.Color;\nimport android.graphics.ColorFilter;\nimport android.graphics.LightingColorFilter;\nimport android.graphics.drawable.Drawable;\nimport android.view.LayoutInflater;\nimport android.view.Menu;\nimport android.view.MenuItem;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ArrayAdapter;\nimport android.widget.CursorAdapter;\nimport android.widget.ListView;\nimport android.widget.TextView;\nimport android.widget.Toast;\nimport android.support.v4.app.NavUtils;\n\npublic class main extends GDActivity{\n\n    private static final int HOME = 2;\n\n    private static final int ADD = 1;\n\n    private static final int EXPAND = 3;\n\n\n\n    Cursor model = null;\n    ProductDatabaseHelper helper = null;\n    ShoppingListAdapter adapter=null;\n\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        setActionBarContentView(R.layout.shoppinglist);\n\n\n        initActionBar();\n\n        helper = new ProductDatabaseHelper(this);\n        ListView listView = (ListView) findViewById(R.id.shoppingList);\n\n        model = helper.getAll();\n        startManagingCursor(model);\n        adapter = new ShoppingListAdapter(model);\n        listView.setAdapter(adapter);\n\n\n    }\n    public void onDestroy(){\n        super.onDestroy();\n        helper.close();\n    }\n\n\n\n\n\n    private OnQuickActionClickListener mActionListener = new OnQuickActionClickListener() {\n        public void onQuickActionClicked(QuickActionWidget widget, int position) {\n            if (position == 0) {\n                Intent intent2 = new Intent(main.this, AddShoppingList.class);\n                startActivity(intent2);\n            }\n        }\n    };\n\n\n\n    private void initActionBar() {\n        // TODO Auto-generated method stub\n        // this.getActionBar().setType(ActionBar.Type.Empty);\n        addActionBarItem(Type.Add, ADD);\n        addActionBarItem(Type.Edit, EXPAND);\n    }\n\n    @Override\n    public boolean onHandleActionBarItemClick(ActionBarItem item, int position) {\n        // TODO Auto-generated method stub\n        switch (item.getItemId()) {\n        case ADD:\n            Intent intent = new Intent(main.this, AddShoppingList.class);\n            startActivity(intent);\n            break;\n        case HOME:\n            Intent intent1 = new Intent(main.this, main.class);\n            startActivity(intent1);\n            break;\n        case EXPAND:\n            onShowGrid(item.getItemView());\n            break;\n\n        }\n        return super.onHandleActionBarItemClick(item, position);\n    }\n\n    class ShoppingListAdapter extends CursorAdapter{\n\n        public ShoppingListAdapter(Cursor c) {\n            super(main.this, c);\n            // TODO Auto-generated constructor stub\n        }\n\n        @Override\n        public void bindView(View row, Context ctxt, Cursor c) {\n            // TODO Auto-generated method stub\n            ShoppingListHolder holder=(ShoppingListHolder)row.getTag();\n        }\n\n\n        @Override\n        public View newView(Context ctxt, Cursor cursor, ViewGroup parent) {\n            // TODO Auto-generated method stub\n            LayoutInflater inflater=getLayoutInflater();\n            View row=inflater.inflate(R.layout.row,parent,false);\n            ShoppingListHolder holder=new ShoppingListHolder(row);\n            row.setTag(holder);\n            return(row);\n\n        }\n    }\n        static class ShoppingListHolder{\n            private TextView barcode=null;\n            private TextView format=null;\n\n            ShoppingListHolder(View row){\n                barcode=(TextView)row.findViewById(R.id.barcode);\n                format=(TextView)row.findViewById(R.id.format);\n\n            }\n            void populateFrom(Cursor c,ProductDatabaseHelper helper){\n                barcode.setText(helper.getBarcode(c));\n                format.setText(helper.getFormat(c));\n\n\n            }\n\n        }\n\n\n\n\n    }\n</code></pre>\n\n<p>addShoppingList.java</p>\n\n<pre><code>package com.example.shoppingassistantnew;\n\nimport com.cyrilmottier.android.greendroid.R;\n\n//import com.example.shoppingassistantnew.main.ProductData;\n\n\nimport android.app.ActionBar.LayoutParams;\nimport android.app.Activity;\nimport android.app.AlertDialog;\nimport android.app.Dialog;\nimport android.content.Context;\nimport android.content.DialogInterface;\nimport android.database.Cursor;\nimport android.os.Bundle;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.View.OnClickListener;\nimport android.view.WindowManager;\nimport android.widget.Button;\nimport android.widget.DatePicker;\nimport android.widget.EditText;\nimport android.widget.ListView;\nimport greendroid.app.GDActivity;\n\npublic class AddShoppingList extends Activity implements OnClickListener{\n    //private static final ProductData mProductData = new ProductData();\n    ProductData mProductData=new ProductData();\n    Button mSaveBttn;\n    EditText mBarcodeEdit;\n    EditText mFormatEdit;\n     ProductDatabaseHelper helper=null;\n\n    //Cursor model=null;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        // TODO Auto-generated method stub\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.addshoppinglist);\n\n        mSaveBttn = (Button) findViewById(R.id.saveBttn);\n        mSaveBttn.setOnClickListener(this);\n         dt=(DatePicker)findViewById(R.id.datePicker1);\n        helper=new ProductDatabaseHelper(this);\n\n    }\n\n\n    public void onClick(View v) {\n        // TODO Auto-generated method stub\n        switch(v.getId()){\n        case R.id.saveBttn:\n\n            mBarcodeEdit = (EditText) findViewById(R.id.shoppingListNameEdit);\n            mFormatEdit = (EditText) findViewById(R.id.shoppingDateEdit);\n           mProductData.setBarcode(mBarcodeEdit.getText().toString());\n           mProductData.setFormat(mFormatEdit.getText().toString());\n           helper.insert(mBarcodeEdit.getText().toString(),mFormatEdit.getText().toString());\n           showInfoDialog(this, \"Success\", \"Product saved successfully\");\n           //model.requery();\n        break;\n        }\n    }\n       private void showInfoDialog(Context context, String title, String information) {\n            new AlertDialog.Builder (context)\n            .setMessage(information)\n            .setTitle(title)\n            .setPositiveButton(\"OK\", new DialogInterface.OnClickListener() {\n\n\n                public void onClick(DialogInterface dialog, int which) {\n                    dialog.dismiss();\n\n                }\n            }).show();  \n        }\n\n}\n\nProductDatabase.java\n\n\n\n  package com.example.shoppingassistantnew;\n\n    import android.content.ContentValues;\n    import android.content.Context;\n    import android.database.Cursor;\n    import android.database.sqlite.SQLiteDatabase;\n    import android.database.sqlite.SQLiteDatabase.CursorFactory;\n    import android.database.sqlite.SQLiteOpenHelper;\n    import android.util.Log;\n\n     class ProductDatabaseHelper extends SQLiteOpenHelper {\n        private static final String PRODUCT_TABLE = \"products\";\n        private static final String DATABASE_NAME = \"spot_pay.db\";\n        private static final int SCHEMA_VERSION = 1;\n        private SQLiteDatabase db;\n\n        private static final String TAG = null;\n\n        public ProductDatabaseHelper(Context context) {\n            super(context, DATABASE_NAME, null,SCHEMA_VERSION);\n            // TODO Auto-generated constructor stub\n        }\n\n        @Override\n        public void onCreate(SQLiteDatabase db) {\n            // TODO Auto-generated method stub\n            db.execSQL(\"CREATE TABLE products (_id INTEGER PRIMARY KEY AUTOINCREMENT,barcode TEXT ,format TEXT);\");\n        }\n\n        @Override\n        public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n            // TODO Auto-generated method stub\n            db.execSQL(\"drop table if exists \" + PRODUCT_TABLE);\n            onCreate(db);\n        }\n\n        /*\n         * public ProductDatabase(Context context) { ProductDatabaseHelper helper =\n         * new ProductDatabaseHelper(context); db = helper.getWritableDatabase();\n         * \n         * }\n         */\n        public Cursor getAll() {\n            // TODO Auto-generated method stub\n            return (getReadableDatabase()\n                    .rawQuery(\"SELECT _id, barcode, format FROM products ORDER BY barcode\",\n                    null));\n        }\n\n        public void insert(String barcode, String format) {\n            ContentValues vals = new ContentValues();\n            vals.put(\"barcode\", barcode);\n            vals.put(\"format\", format);\n        getWritableDatabase().insert(\"products\", null, vals);\n\n\n        }\n\n\n\n\n\n        public String getBarcode(Cursor c) {\n            // TODO Auto-generated method stub\n            return(c.getString(1));\n        }\n\n        public String getFormat(Cursor c) {\n            // TODO Auto-generated method stub\n            return(c.getString(2));\n            }\n        }\n\n     row.xml\n&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"fill_parent\"\n    android:orientation=\"horizontal\" \n    android:padding=\"4dip\"&gt;\n     &lt;LinearLayout\n         android:layout_width=\"fill_parent\"\n         android:layout_height=\"wrap_content\"\n         android:orientation=\"vertical\" &gt;\n         &lt;TextView \n             android:id=\"@+id/barcode\"\n             android:layout_width=\"fill_parent\"\n             android:layout_height=\"wrap_content\"\n             android:layout_weight=\"1\"\n             android:gravity=\"center_vertical\"\n             android:textStyle=\"bold\"\n             android:singleLine=\"true\"\n             android:ellipsize=\"end\"\n\n             /&gt;\n         &lt;TextView\n             android:id=\"@+id/format\"\n             android:layout_width=\"fill_parent\"\n             android:layout_height=\"wrap_content\"\n             android:layout_weight=\"1\"\n               android:gravity=\"center_vertical\"\n             android:textStyle=\"bold\"\n             android:singleLine=\"true\"\n             android:ellipsize=\"end\"/&gt;\n         &lt;/LinearLayout&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>ShoppingList.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"fill_parent\"\n    android:layout_height=\"fill_parent\"\n    android:orientation=\"vertical\" &gt;\n\n&lt;ListView\n    android:id=\"@+id/shoppingList\"\n\n    android:layout_width=\"fill_parent\"\n    android:layout_height=\"wrap_content\"\n\n   /&gt;\n\n\n\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p><a href=\"http://www.freeimagehosting.net/e661c\" rel=\"nofollow\">output screenshot</a></p>\n"},{"tags":["database","sqlite","mongodb","embedded-database"],"answer_count":4,"favorite_count":3,"up_vote_count":9,"down_vote_count":0,"view_count":3822,"score":9,"question_id":6115637,"title":"Can mongodb be used as an embedded database?","body":"<p>I am working on a RSS reader application. And I need to find a backend database. I want the database be embedded because I don't want the users to install a database server.</p>\n\n<p>I know SQLite is a good choice, but I am wondering if there are any other nosql choices?</p>\n"},{"tags":["javascript","sqlite","phonegap"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":17,"score":-1,"question_id":13109332,"title":"Basic SQLlite sql update fails with criptic error","body":"<p>I'm currently building a phonegap app.</p>\n\n<p>One page contains a form that allows the signed in user to update basic settings. On this page I have a \"update\" button that calls a JS function which updates the DB with the changed settings. However, I seem to be unable to get even the most basic update working.</p>\n\n<p>Heres a (much simplified) example.</p>\n\n<pre><code>function updateSettings(tx) {\n    tx.executeSql('UPDATE USERS SET (username) VALUES (\"edit\") WHERE id = 1');\n}\n\ndb.transaction(updateSettings, errorCB);\n</code></pre>\n\n<p>Running this (and pretty much every other update ive tried) gives me this error:</p>\n\n<pre><code>Error processing SQL: could not prepare statement (1 near \"(\": syntax error)\n</code></pre>\n\n<p>The slightly more complicated query I was originally trying to run was this:</p>\n\n<pre><code>tx.executeSql('UPDATE USERS SET (username, password, userId, defaultHandler, autoSync, updateCT, updateHistorical, updateFavorite, signedIn) VALUES (\"'+ username +'\", \"'+ password +'\", \"plUserId\", \"Default Handle\", \"'+ sync +'\", \"' + updateCaseTypes + '\", \"' + updateHistoricalCases + '\", \"' + updateFavoriteCases +'\", \"1\") WHERE id = 1');\n</code></pre>\n\n<p>Could anyone point me in the right direction?</p>\n\n<p>Many thanks in advance</p>\n"},{"tags":["android","sqlite"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":13108982,"title":"How to prevert others from accessing my application database which is at /data/data/com.xxx/database/test.db","body":"<p>When we save our data in android ,we allways save them in sqlite. And the database is allways access to others.How to guarantee the security of these data.</p>\n\n<p>I find some apps`database is only access to themself,and when you try to open their database,it will say 'An error occurred while opening the database,unable to open the database file'</p>\n\n<p>PS:I use 'Root Explore' to open the xxx.db</p>\n"},{"tags":["sqlite","sqlite3","insert"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":47,"score":2,"question_id":13097881,"title":"SQLite Compare two columns","body":"<p>I am creating a database for my Psych class and I am scoring a personality profile. I need to compare two test items and, if they match a condition, then copy into a separate table.</p>\n\n<p>Example (pseudocode is between \\)Sqlite3</p>\n\n<pre><code>INSERT INTO Scale\nSELECT* FROM Questions\nWHERE \\\\if Question 1 IS 'TRUE' AND Question 3 IS 'FALSE' THEN Copy this Question\nand its response into the Scale table\\\\;\n</code></pre>\n\n<p>I have about 100 other questions that work like this. Sample format goes like this: </p>\n\n<pre><code>IF FirstQuestion IS value AND SecondQuestion IS value THEN \nCopy both questions into the Scale TABLE.\n</code></pre>\n\n<h2>---------- EDITED AFTER FIRST RESPONSE! EDITS FOLLOW-------------</h2>\n\n<p>Here is my TestItems table:</p>\n\n<pre><code>ItemID |      ItemQuestion       | ItemResponse\n```````````````````````````````````````````````````\n   1   |    Is the sky blue?     |    TRUE\n   2   |    Are you a person?    |    TRUE\n   3   |    2 Plus 2 Equals Five |    FALSE\n</code></pre>\n\n<p>What I want to do: If Question 1 is TRUE AND Question 3 is FALSE, then insert BOTH questions into the table 'Scale' (which is setup like TestItems). I tried this:</p>\n\n<pre><code>INSERT INTO Scale\nSELECT * FROM TestItems\nWHERE ((ItemID=1) AND (ItemResponse='TRUE')) \nAND ((ItemID=3) AND (ItemResponse='FALSE'));\n</code></pre>\n\n<p>HOWEVER: The above INSERT copies neither.\nThe Resulting 'Scale' table should look like this:</p>\n\n<pre><code>ItemID |      ItemQuestion       | ItemResponse\n```````````````````````````````````````````````````\n   1   |    Is the sky blue?     |    TRUE\n   3   |    2 Plus 2 Equals Five |    FALSE\n</code></pre>\n"},{"tags":["java","sqlite","blob"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":63,"score":0,"question_id":13108494,"title":"How to edit/Update BLOB image (PNG)","body":"<p>(shortened code) this is the section that im having the problem</p>\n\n<pre><code>String edit=txt_gid.getText();\n**byte[] e = icon_image1;**\n String sql=\"update GamesCollector set FrontCover='\"+e+\"'where GameId='\"+edit+\"' \";\n    ps=conn.prepareStatement(sql);\n    ps.execute();\n\n    JOptionPane.showMessageDialog(null, \"Data Edited\");\n    Browse.UpdateTable();\n</code></pre>\n\n<p>This is how i display my image on JLabel)</p>\n\n<pre><code> public static ImageIcon pic1=null;\n\n String sql=\"select * from GamesCollector where Title=?\";\n        ps=conn.prepareStatement(sql);\n\n\n        ps.setString(1, txt_search.getText().toUpperCase().trim());\n        rs=ps.executeQuery();\n\n if(rs.next()){\n\nbyte[] datapic = rs.getBytes(\"FrontCover\");\n            pic1 = new ImageIcon(datapic);\n            front.setIcon(pic1);}\n</code></pre>\n\n<p>(This is the code the i facing the problem)</p>\n\n<pre><code>static void Edit(){\n\n\n try{\n\n\n\n        String edit=txt_gid.getText();\n\n        String edit1=txt_title.getText().toUpperCase().trim();\n        String edit2=cmb_platform.getSelectedItem().toString();\n        if(edit2==null){edit2=\"\";}\n\n        String edit3=cmb_format.getSelectedItem().toString();\n        if(edit3==null){edit3=\"\";}\n\n        String edit4=list_genres.getSelectedValue().toString();\n        if(edit4==null){edit4=\"\";}\n\n        String edit5=((JTextField)pck_releasedate.getDateEditor().getUiComponent()).getText(); \n        String edit6=txt_desc.getText().toUpperCase().trim();\n        String edit7=txt_developer.getText().toUpperCase().trim();\n        String edit8=txt_publisher.getText().toUpperCase().trim();\n        String edit9=txt_series.getText().toUpperCase().trim();\n        String edit10=txt_barcode.getText().toUpperCase().trim();\n        String edit11=collection;\n        String edit12=cmb_esrb.getSelectedItem().toString();\n        if(edit12==null){edit12=\"\";}\n\n        String edit13=cmb_pegi.getSelectedItem().toString();\n        if(edit13==null){edit13=\"\";}\n\n        String edit14 = Integer.toString(rating_slider.getValue());\n\n        **byte[] e = icon_image1;**\n\n\n\n        String sql=\"update GamesCollector set Title=='\"+edit1+\"',Platform='\"+edit2+\"',Format='\"+edit3+\"',Genres='\"+edit4+\"',ReleaseDate='\"+edit5+\"',Description='\"+edit6+\"',Developer='\"+edit7+\"',Publisher='\"+edit8+\"',Series='\"+edit9+\"',Barcode='\"+edit10+\"',Collection='\"+edit11+\"',ESRB='\"+edit12+\"',PEGI='\"+edit13+\"',Rating='\"+edit14+\"',FrontCover='\"+e+\"'   where GameId='\"+edit+\"' \";\n        ps=conn.prepareStatement(sql);\n        ps.execute();\n\n        JOptionPane.showMessageDialog(null, \"Data Edited\");\n        Browse.UpdateTable();\n\n\n    }\n\n    catch(Exception e){\n        JOptionPane.showMessageDialog(null, e);\n    }\n    finally {\n\n        try{\n            rs.close();\n            ps.close();\n\n        }\n\n        catch(Exception e){}\n\n    }\n\n  }\n</code></pre>\n\n<p>}</p>\n\n<p>(This method is to get the path and convert it to ByteArray)</p>\n\n<pre><code>protected static void AttachImage(){\n\n    JFileChooser chooser= new JFileChooser(\"D:\\\\Downloads\\\\Software Development\\\\GameCollector\\\\Images\\\\Game\");\n    chooser.showOpenDialog(null);\n    File s=chooser.getSelectedFile();\n    filename = s.getAbsolutePath();\n\n\n    try{\n    File image = new File(filename);\n    FileInputStream fis = new FileInputStream(image);\n    ByteArrayOutputStream baos = new ByteArrayOutputStream();\n\n    byte[] bug = new byte[1024];\n\n    for(int readNum; (readNum=fis.read(bug)) !=-1;){\n        baos.write(bug,0,readNum);        \n    }\n\n     icon_image1=baos.toByteArray();\n     icon_image2=baos.toByteArray();\n\n    }\n    catch(Exception e)\n    {\n        JOptionPane.showMessageDialog(null, e);\n    }\n }\n</code></pre>\n\n<p>(This method is to save my file)</p>\n\n<pre><code>static void Save(){\n\n   try{\n\n        String sql=\"insert into GamesCollector (GameId,Title,Platform,Format,Genres,ReleaseDate,Description,Developer,Publisher,Series,Barcode,Collection,ESRB,PEGI,Rating,FrontCover,BackCover) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)\";\n        ps=conn.prepareStatement(sql);\n\n        ps.setString(1, txt_gid.getText().toUpperCase().trim());\n        ps.setString(2, txt_title.getText().toUpperCase().trim());\n        String platform=cmb_platform.getSelectedItem().toString();\n        if(platform==null){platform=\"\";}\n        ps.setString(3, platform);\n        String format=cmb_format.getSelectedItem().toString();\n        if(format==null){format=\"\";}\n        ps.setString(4, format);\n        String genres=list_genres.getSelectedValue().toString();\n        if(genres==null){genres=\"\";}\n        ps.setString(5, genres);\n        ps.setString(6, ((JTextField)pck_releasedate.getDateEditor().getUiComponent()).getText());\n        ps.setString(7, txt_desc.getText().toUpperCase().trim());\n        ps.setString(8, txt_developer.getText().toUpperCase().trim());\n        ps.setString(9, txt_publisher.getText().toUpperCase().trim());\n        ps.setString(10, txt_series.getText().toUpperCase().trim());\n        ps.setString(11, txt_barcode.getText().toUpperCase().trim());\n\n        ps.setString(12, collection);\n\n        String esrb=cmb_esrb.getSelectedItem().toString();\n        if(esrb==null){esrb=\"\";}\n        ps.setString(13, esrb);\n        String pegi=cmb_pegi.getSelectedItem().toString();\n        if(pegi==null){pegi=\"\";}\n        ps.setString(14, pegi);\n        int rating = rating_slider.getValue();\n        ps.setString(15, Integer.toString(rating));\n        ps.setBytes(16, icon_image1);\n        ps.setBytes(17, icon_image2);\n\n        ps.execute();\n\n        JOptionPane.showMessageDialog(null, \"Data Saved\");\n       }\n\n    catch(Exception e){\n        JOptionPane.showMessageDialog(null, e);\n    }\n    finally {\n\n        try{\n            rs.close();\n            ps.close();\n\n        }\n\n        catch(Exception e){}\n\n    }\n  }\n</code></pre>\n\n<p>(when i want to retrieve and show it on my interface is fine)</p>\n\n<p>(This method is to edit my data)</p>\n\n<pre><code>static void Edit(){\n   try{\n        String edit=txt_gid.getText();\n\n        String edit1=txt_title.getText().toUpperCase().trim();\n        String edit2=cmb_platform.getSelectedItem().toString();\n        if(edit2==null){edit2=\"\";}\n\n        String edit3=cmb_format.getSelectedItem().toString();\n        if(edit3==null){edit3=\"\";}\n\n        String edit4=list_genres.getSelectedValue().toString();\n        if(edit4==null){edit4=\"\";}\n\n        String edit5=((JTextField)pck_releasedate.getDateEditor().getUiComponent()).getText(); \n        String edit6=txt_desc.getText().toUpperCase().trim();\n        String edit7=txt_developer.getText().toUpperCase().trim();\n        String edit8=txt_publisher.getText().toUpperCase().trim();\n        String edit9=txt_series.getText().toUpperCase().trim();\n        String edit10=txt_barcode.getText().toUpperCase().trim();\n        String edit11=collection;\n        String edit12=cmb_esrb.getSelectedItem().toString();\n        if(edit12==null){edit12=\"\";}\n\n        String edit13=cmb_pegi.getSelectedItem().toString();\n        if(edit13==null){edit13=\"\";}\n\n        String edit14 = Integer.toString(rating_slider.getValue());\n\n        byte[] e = icon_image1;\n\n\n\n        String sql=\"update GamesCollector set Title=='\"+edit1+\"',Platform='\"+edit2+\"',Format='\"+edit3+\"',Genres='\"+edit4+\"',ReleaseDate='\"+edit5+\"',Description='\"+edit6+\"',Developer='\"+edit7+\"',Publisher='\"+edit8+\"',Series='\"+edit9+\"',Barcode='\"+edit10+\"',Collection='\"+edit11+\"',ESRB='\"+edit12+\"',PEGI='\"+edit13+\"',Rating='\"+edit14+\"',FrontCover='\"+icon_image1+\"'   where GameId='\"+edit+\"' \";\n        ps=conn.prepareStatement(sql);\n        ps.execute();\n\n        JOptionPane.showMessageDialog(null, \"Data Edited\");\n        Browse.UpdateTable();\n\n\n    }\n\n    catch(Exception e){\n        JOptionPane.showMessageDialog(null, e);\n    }\n    finally {\n\n        try{\n            rs.close();\n            ps.close();\n\n        }\n\n        catch(Exception e){}\n\n    }\n\n  }\n</code></pre>\n\n<p>(After edit when i want to retrieve the image it is empty)</p>\n\n<p>The data will be save when i want to edit it..The problem only occurs when i want to show it back on my interface... all the data will be shown except only for the image will show me a blank image</p>\n"},{"tags":["android","sqlite","delete"],"answer_count":6,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":4863,"score":0,"question_id":8131526,"title":"Remove all table rows from SQLite database table","body":"<p>I want to remove all rows that i entered from my SQLite database table. The table name is <strong>tbltask</strong>.\nI tried to drop the table and delete * from table, but those are giving me runtime errors.\nI want to trigger this event in Button OnClickListner event.</p>\n\n<p>Following code is what I tried:</p>\n\n<pre><code>String delete = \"DELETE FROM \"+DATABASE_TABLE;\ndb.rawQuery(delete, null);\ndb.delete(DATABASE_TABLE, null, null);\n</code></pre>\n\n<p>LogCat:</p>\n\n<pre><code>11-15 17:45:04.660: DEBUG/AndroidRuntime(300): Shutting down VM\n11-15 17:45:04.660: WARN/dalvikvm(300): threadid=1: thread exiting with uncaught exception (group=0x4001d800) \n11-15 17:45:04.710: ERROR/AndroidRuntime(300): FATAL EXCEPTION: main \n11-15 17:45:04.710: ERROR/AndroidRuntime(300): java.lang.NullPointerException \n11-15 17:45:04.710: ERROR/AndroidRuntime(300): at database.com.android.DatabaseAccess.drop(DatabaseAccess.java:258) \n11-15 17:45:04.710: ERROR/AndroidRuntime(300): at com.android.ExtraActivity$3$1.onClick(ExtraActivity.java:61) \n11-15 17:45:04.710: ERROR/AndroidRuntime(300): at com.android.internal.app.AlertController$ButtonHandler.handleMessage(AlertController.java:158) \n11-15 17:45:04.710: ERROR/AndroidRuntime(300): at android.os.Handler.dispatchMessage(Handler.java:99) \n11-15 17:45:04.710: ERROR/AndroidRuntime(300): at android.os.Looper.loop(Looper.java:123) \n11-15 17:45:04.710: ERROR/AndroidRuntime(300): at android.app.ActivityThread.main(ActivityThread.java:4627) \n11-15 17:45:04.710: ERROR/AndroidRuntime(300): at java.lang.reflect.Method.invokeNative(Native Method) \n11-15 17:45:04.710: ERROR/AndroidRuntime(300): at java.lang.reflect.Method.invoke(Method.java:521) \n11-15 17:45:04.710: ERROR/AndroidRuntime(300): at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868) \n11-15 17:45:04.710: ERROR/AndroidRuntime(300): at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626) \n11-15 17:45:04.710: ERROR/AndroidRuntime(300): at dalvik.system.NativeStart.main(Native Method) \n11-15 17:45:04.781: WARN/ActivityManager(58): Force finishing activity com.android/.ExtraActivity \n11-15 17:45:05.320: WARN/ActivityManager(58): Activity pause timeout for HistoryRecord{45061a70 com.android/.ExtraActivity} \n11-15 17:45:14.857: WARN/ActivityManager(58): Launch timeout has expired, giving up wake lock! \n11-15 17:45:15.402: WARN/ActivityManager(58): Activity idle timeout for HistoryRecord{450141d0 com.android/.WelcomActivity} \n11-15 17:45:20.572: WARN/ActivityManager(58): Activity destroy timeout for HistoryRecord{45061a70 com.android/.ExtraActivity}\n</code></pre>\n\n<p>This is the LogCat output I get for following query:</p>\n\n<pre><code>        String delete = \"DELETE FROM taskTable\";\n    db.execSQL(delete);\n</code></pre>\n"},{"tags":["database","sqlite","database-design","sqlite3","schema"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":39,"score":1,"question_id":13104601,"title":"Choice of Database schema for storing folder system","body":"<p>I'm trying to implement an SQLite-based database that can store the full structure of a 100GB folder with a complex substructure (expecting 50-100K files). The main aim of the DB would be to get rapid queries on various aspects of this folder (total size, size of any folder, history of a folder and all it's contents, etc). </p>\n\n<p>However, I realized that finding <em>all</em> the files inside a folder, including all of it's sub-folders is not possible without recursive queries if I just make a \"file\" table with just a parent_directory field. I consider this as one of the most important features I want in my code, so I have considered two schema options for this as shown in the figure below.</p>\n\n<ol>\n<li><p>In schema 1, I store all the file names in one table and directory names in another table. They both have a \"parentdir\" item, but also have a text (apparently text/blob are the same in sqlite) field called \"FullPath\" that will save the entire path from the root to the particular file/directory (like /etc/abc/def/wow/longpath/test.txt). I'm not assuming a maximum subfolder limit so this could <em>theoretically</em> be a field that allows up to 30K characters. My idea is that then if I want all the files or directories belonging to any parent I just query the fullpath of the parent on this field and get the fileIDs</p></li>\n<li><p>In schema 2, I store only filenames, fileIDs and DirNames, DirIDs in the directories and files tables, respectively. But in a third table called \"Ancestors\", I store for each file a set of entries for each directory that is it's ancestor (so in the above example, test.txt will have 5 entries, pointing to the DirIDs of the folders etc,abc,def,wow and longpath respectively). Then if I want the full contents of any folder I just look for the DirID in this table and get all the fileIDs.</p></li>\n</ol>\n\n<p>I can see that in schema 1 the main limit might be full-text search of variable length text column and in schema 2 the main limit being that I might have to add a ton of entries for files that are buried deep within 100 directories or something. </p>\n\n<p>What would be the best of these solutions? Is there any better solution that I did not think of?</p>\n\n<p><img src=\"http://i.stack.imgur.com/Aasaa.png\" alt=\"Two possible schemas to keep rapid allow rapid retrieval of *all* the descendants of a directory in a complex directory structure\"></p>\n"},{"tags":["mysql","sql","sqlite","count"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":1,"view_count":78,"score":2,"question_id":13107671,"title":"How to use actual row count (COUNT(*)) in WHERE clause without writing the same query as subquery?","body":"<p>I have something like this:</p>\n\n<pre><code>SELECT id, fruit, pip \nFROM   plant \nWHERE  COUNT(*) = 2;\n</code></pre>\n\n<p>This weird query is self explanatory I guess. <code>COUNT(*)</code> here means the number of rows in <code>plant</code> table. <strong>My requirement is that I need to retrieve values from specified fields only if total number of rows in table = 2.</strong> This doesn't work but: <code>invalid use of aggregate function COUNT</code>.</p>\n\n<p>I cannot do this:</p>\n\n<pre><code>SELECT COUNT(*) as cnt, id, fruit, pip \nFROM   plant \nWHERE  cnt = 2;\n</code></pre>\n\n<p>for one, it limits the number of rows outputted to 1, and two, it gives the same error: <code>invalid use of aggregate function</code>.</p>\n\n<p>What I can do is instead:</p>\n\n<pre><code>SELECT id, fruit, pip \nFROM   plant \nWHERE  (\n        SELECT COUNT(*) \n        FROM   plant\n       ) = 2;\n</code></pre>\n\n<p>But then that subquery is the main query re-run. I'm presenting here a small example of the larger part of the problem, though I know an additional <code>COUNT(*)</code> subquery in the given example isn't that big an overhead.</p>\n\n<p><strong>Edit: I do not know why the question is downvoted. The <code>COUNT(*)</code> I'm trying to get is from a view (a temporary table) in the query which is a large query with 5 to 6 joins and additional where clauses. To re-run the query as a subquery to get the count is inefficient, and I can see the bottleneck as well.</strong></p>\n\n<p>Here is the actual query:</p>\n\n<pre><code>SELECT U.UserName, E.Title, AE.Mode, AE.AttemptNo, \n   IF(AE.Completed = 1, 'Completed', 'Incomplete'), \n   (\n    SELECT COUNT(DISTINCT(FK_QId)) \n    FROM   attempt_question AS AQ\n    WHERE  FK_ExcAttemptId = @excAttemptId\n   ) AS Inst_Count, \n   (\n    SELECT    COUNT(DISTINCT(AQ.FK_QId)) \n    FROM      attempt_question AS AQ\n    JOIN      `question` AS Q \n          ON  Q.PK_Id = AQ.FK_QId                      \n    LEFT JOIN actions AS A                             \n           ON A.FK_QId = AQ.FK_QId\n    WHERE     AQ.FK_ExcAttemptId = @excAttemptId\n         AND (\n                  Q.Type = @descQtn \n              OR  Q.Type = @actQtn \n              AND A.type = 'CTVI.NotImplemented'       \n              AND A.IsDelete = @status                 \n              AND (\n                    SELECT COUNT(*) \n                    FROM   actions \n                    WHERE  FK_QId = A.FK_QId \n                       AND type != 'CTVI.NotImplemented'\n                       AND IsDelete = @status\n                   ) = 0\n             )\n   ) AS NotEvalInst_Count,  \n   (\n    SELECT COUNT(DISTINCT(FK_QId)) \n    FROM   attempt_question AS AQ\n    WHERE  FK_ExcAttemptId = @excAttemptId \n       AND Mark = @mark\n   ) AS CorrectAns_Count, \n   E.AllottedTime, AE.TimeTaken\nFROM   attempt_exercise AS AE\nJOIN   ctvi_exercise_tblexercise AS E \n    ON AE.FK_EId = E.PK_EId\nJOIN   ctvi_user_table AS U \n    ON AE.FK_UId = U.PK_Id\nJOIN   ctvi_grade AS G \n    ON AE.FK_GId = G.PK_GId\nWHERE  AE.PK_Id = @excAttemptId\n-- AND COUNT(AE.*) = @number --the portion in contention.\n</code></pre>\n\n<p>Kindly ignore the above query and guide me to right direction from the small example query I posted, thanks.</p>\n"},{"tags":["java","sqlite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":22,"score":-3,"question_id":13108043,"title":"How to update/edit sqlite Blob","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/13108494/how-to-edit-update-blob-image-png\">How to edit/Update BLOB image (PNG)</a>  </p>\n</blockquote>\n\n\n\n<pre><code>public class Option extends NewData {\n\n   protected static void AttachImage(){\n\n    JFileChooser chooser= new JFileChooser(\"D:\\\\Downloads\\\\Software Development\\\\GameCollector\\\\Images\\\\Game\");\n    chooser.showOpenDialog(null);\n    File s=chooser.getSelectedFile();\n    filename = s.getAbsolutePath();\n\n\n    try{\n    File image = new File(filename);\n    FileInputStream fis = new FileInputStream(image);\n    ByteArrayOutputStream baos = new ByteArrayOutputStream();\n\n    byte[] bug = new byte[1024];\n\n    for(int readNum; (readNum=fis.read(bug)) !=-1;){\n        baos.write(bug,0,readNum);        \n    }\n\n     icon_image1=baos.toByteArray();\n     icon_image2=baos.toByteArray();\n\n    }\n    catch(Exception e)\n    {\n        JOptionPane.showMessageDialog(null, e);\n    }\n\n}\n\n\n\nstatic void Save(){\n\n    try{\n\n        String sql=\"insert into GamesCollector (GameId,Title,Platform,Format,Genres,ReleaseDate,Description,Developer,Publisher,Series,Barcode,Collection,ESRB,PEGI,Rating,FrontCover,BackCover) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)\";\n        ps=conn.prepareStatement(sql);\n\n        ps.setString(1, txt_gid.getText().toUpperCase().trim());\n        ps.setString(2, txt_title.getText().toUpperCase().trim());\n        String platform=cmb_platform.getSelectedItem().toString();\n        if(platform==null){platform=\"\";}\n        ps.setString(3, platform);\n        String format=cmb_format.getSelectedItem().toString();\n        if(format==null){format=\"\";}\n        ps.setString(4, format);\n        String genres=list_genres.getSelectedValue().toString();\n        if(genres==null){genres=\"\";}\n        ps.setString(5, genres);\n        ps.setString(6, ((JTextField)pck_releasedate.getDateEditor().getUiComponent()).getText());\n        ps.setString(7, txt_desc.getText().toUpperCase().trim());\n        ps.setString(8, txt_developer.getText().toUpperCase().trim());\n        ps.setString(9, txt_publisher.getText().toUpperCase().trim());\n        ps.setString(10, txt_series.getText().toUpperCase().trim());\n        ps.setString(11, txt_barcode.getText().toUpperCase().trim());\n\n        ps.setString(12, collection);\n\n        String esrb=cmb_esrb.getSelectedItem().toString();\n        if(esrb==null){esrb=\"\";}\n        ps.setString(13, esrb);\n        String pegi=cmb_pegi.getSelectedItem().toString();\n        if(pegi==null){pegi=\"\";}\n        ps.setString(14, pegi);\n        int rating = rating_slider.getValue();\n        ps.setString(15, Integer.toString(rating));\n        ps.setBytes(16, icon_image1);\n        ps.setBytes(17, icon_image2);\n\n        ps.execute();\n\n        JOptionPane.showMessageDialog(null, \"Data Saved\");\n\n\n\n    }\n\n    catch(Exception e){\n        JOptionPane.showMessageDialog(null, e);\n    }\n    finally {\n\n        try{\n            rs.close();\n            ps.close();\n\n        }\n\n        catch(Exception e){}\n\n    }\n\n   }\n\n\n  static void Edit(){\n\n\n try{\n\n\n\n        String edit=txt_gid.getText();\n\n        String edit1=txt_title.getText().toUpperCase().trim();\n        String edit2=cmb_platform.getSelectedItem().toString();\n        if(edit2==null){edit2=\"\";}\n\n        String edit3=cmb_format.getSelectedItem().toString();\n        if(edit3==null){edit3=\"\";}\n\n        String edit4=list_genres.getSelectedValue().toString();\n        if(edit4==null){edit4=\"\";}\n\n        String edit5=((JTextField)pck_releasedate.getDateEditor().getUiComponent()).getText(); \n        String edit6=txt_desc.getText().toUpperCase().trim();\n        String edit7=txt_developer.getText().toUpperCase().trim();\n        String edit8=txt_publisher.getText().toUpperCase().trim();\n        String edit9=txt_series.getText().toUpperCase().trim();\n        String edit10=txt_barcode.getText().toUpperCase().trim();\n        String edit11=collection;\n        String edit12=cmb_esrb.getSelectedItem().toString();\n        if(edit12==null){edit12=\"\";}\n\n        String edit13=cmb_pegi.getSelectedItem().toString();\n        if(edit13==null){edit13=\"\";}\n\n        String edit14 = Integer.toString(rating_slider.getValue());\n\n        byte[] e = icon_image1;\n\n\n\n        String sql=\"update GamesCollector set Title=='\"+edit1+\"',Platform='\"+edit2+\"',Format='\"+edit3+\"',Genres='\"+edit4+\"',ReleaseDate='\"+edit5+\"',Description='\"+edit6+\"',Developer='\"+edit7+\"',Publisher='\"+edit8+\"',Series='\"+edit9+\"',Barcode='\"+edit10+\"',Collection='\"+edit11+\"',ESRB='\"+edit12+\"',PEGI='\"+edit13+\"',Rating='\"+edit14+\"',FrontCover='\"+icon_image1+\"'   where GameId='\"+edit+\"' \";\n        ps=conn.prepareStatement(sql);\n        ps.execute();\n\n        JOptionPane.showMessageDialog(null, \"Data Edited\");\n        Browse.UpdateTable();\n\n\n    }\n\n    catch(Exception e){\n        JOptionPane.showMessageDialog(null, e);\n    }\n    finally {\n\n        try{\n            rs.close();\n            ps.close();\n\n        }\n\n        catch(Exception e){}\n\n    }\n\n  }\n}\n</code></pre>\n\n<p>//when i save the image i can retrieve it back but when i want to edit it i wont show my image...please help me </p>\n"},{"tags":["android","sqlite","xml-parsing","ui-thread"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":68,"score":0,"question_id":13107650,"title":"Android : Can we insert data into sqlite while running UI Thread?","body":"<p>I've found the same my question but no answer. That's why I wanna ask again here : </p>\n\n<p>Here is the class on my main thread : </p>\n\n<pre><code>private class DownloadTask extends AsyncTask&lt;String, Void, String&gt;\n    {   \n        @Override\n        protected String doInBackground(String... urls) \n        {\n            // TODO Auto-generated method stub\n            XMLParser parser1 = new XMLParser();//System.out.println(\"XML before catching\");\n            String result = parser1.getXmlFromUrl(\"http://exampl1.com/arrival.XML\"); \n            xml=result;\n            Document doc = parser1.getDomElement(xml);\n            NodeList nl = doc.getElementsByTagName(DOM_KEY_CONTENT);\n            arrayList = new ArrayList&lt;HashMap&lt;String,String&gt;&gt;();\n            databaseAirport myDbHelper ;\n            myDbHelper = new databaseAirport(ctx);\n            myDbHelper.open();\n            for (int i = 0; i &lt; nl.getLength(); i++) \n            {\n                // creating new HashMap\n                HashMap&lt;String, String&gt; mapData= new HashMap&lt;String, String&gt;();\n                Element e = (Element) nl.item(i);\n                // adding each child node to HashMap key =&gt; value\n                mapData.put(DOM_KEY_ID, parser1.getValue(e, DOM_KEY_ID));\n                mapData.put(DOM_KEY_PRI_ID,parser1.getValue(e,DOM_KEY_PRI_ID));\n                mapData.put(DOM_KEY_FDATE, parser1.getValue(e, DOM_KEY_FDATE));\n                mapData.put(DOM_KEY_ORDER, parser1.getValue(e, DOM_KEY_ORDER));\n\n                arrayList.add(mapData);\n</code></pre>\n\n<p>String a1,b1,c1,d1 is var global;</p>\n\n<pre><code>                a1 = parser1.getValue(e,  DOM_KEY_ID);\n                b1 = parser1.getValue(e,  DOM_KEY_PRI_ID);\n                c1 = parser1.getValue(e,  DOM_KEY_FDATE);\n                d1 = parser1.getValue(e,  DOM_KEY_ORDER);\n\n                System.out.println(a1+b1+c1+d1);\n                myDbHelper.insertArrival(Integer.parseInt(a1), c1, Integer.parseInt(d1));\n\n            }\n            long size = arrayList.size();\n            System.out.println(\"Size of arrayList \"+size);\n            return result;\n        }\n    }\n</code></pre>\n\n<p>a1,b1,c1 and d1 is printed as normal</p>\n\n<p>and here is the error : </p>\n\n<pre><code>java.lang.RuntimeException: An error occured while executing doInBackground()\nat android.os.AsyncTask$3.done(AsyncTask.java:299)\nat java.util.concurrent.FutureTask$Sync.innerSetException(FutureTask.java:273)\nat java.util.concurrent.FutureTask.setException(FutureTask.java:124)\nat java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:307)\nat java.util.concurrent.FutureTask.run(FutureTask.java:137)\nat android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:230)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1076)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:569)\nat java.lang.Thread.run(Thread.java:856)\n\n**Caused by: java.lang.NullPointerException**\n\n\nat android.database.sqlite.SQLiteOpenHelper.getDatabaseLocked(SQLiteOpenHelper.java:224)\n    at android.database.sqlite.SQLiteOpenHelper.getWritableDatabase(SQLiteOpenHelper.java:164)\n    at com.airport.serverside.databaseAirport.open(databaseAirport.java:76)\n    at com.airport.serverside.AirportActivity$DownloadWebPageTask.doInBackground(AirportActivity.java:133)\n    at com.airport.serverside.AirportActivity$DownloadWebPageTask.doInBackground(AirportActivity.java:1)\n    at android.os.AsyncTask$2.call(AsyncTask.java:287)\n    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:305)\n</code></pre>\n\n<p><strong>Edited</strong></p>\n\n<pre><code>74  public databaseAirport open() throws SQLException \n75    {\n76       db = DBHelper.getWritableDatabase();\n77        return this;\n78    }\n</code></pre>\n\n<p>Can anyone help me out ?\nThanks in advance ...</p>\n"},{"tags":["android","eclipse","sqlite"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":26,"score":1,"question_id":13107660,"title":"Is this possible? regarding android service and sqlite?","body":"<p>my game should work like this</p>\n\n<ul>\n<li><p>User click a button, specifically, \"Create ClassRoom\"</p></li>\n<li><p>Insert the Classroom data in SQlite DB, one of it is<br>\n\"Completion_Time\" which would be 1 hour</p></li>\n<li><p>Start A service which will notify the user that the Classroom is<br>\ncompleted, via NotificationManager, and simultaneously update the<br>\ngame's \"Week\", 8 hours = 1 week,also in the DB</p></li>\n</ul>\n\n<p>can the service handles a lot of processes? like, checking \"what is completed\", \"advancing the game's week\", \"doing some random stuffs like creating ingame disasters(floods,earthquake)?</p>\n\n<p>and what are the things i should study to do this, im studying looper and threads..thanks</p>\n"},{"tags":["android","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":13107113,"title":"Something wrong with the code?","body":"<p>I have a function that fetches the id for a song. The id is a primary field and autoincrement. But somehow whenever I call this function it returns me -1 that is result not found. Is there something wrong with how I am approaching the problem? </p>\n\n<pre><code>int getIdForSong(Song song){\n\n        String selectQuery = \"SELECT id FROM \" + TABLE_SONG + \" WHERE \" + SONG_TITLE + \"= ' \" + song.getSongTitle() + \"' AND \" + ARTIST_NAME + \"= ' \" + song.getArtistName()+\" ' \";\n        SQLiteDatabase db = this.getReadableDatabase();\n        Cursor cursor = db.rawQuery(selectQuery, null);\n        cursor.moveToFirst();\n        if(cursor.moveToNext() &amp;&amp; cursor != null){\n            int id = Integer.parseInt(cursor.getString(0));\n            return id;\n        }\n        else\n            return -1;\n    }\n</code></pre>\n"},{"tags":["android","sqlite"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":1580,"score":0,"question_id":6632282,"title":"Example of how to implement ALTER TABLE","body":"<p>Ive asked this question several times and yet to get a COMPLETE answer... How to you implement the ALTER TABLE statement to add a column to a database. Can someone PLEASE give me an example?</p>\n"},{"tags":["android","sqlite","datetime","sql-update"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13092408,"title":"Retrieving DATETIME in Sqlite issue","body":"<p>Although the field has 2012-10-28 value, the select always bring me 1970-01-01. What I'm doing wrong?</p>\n\n<p>The complete code BDClass:</p>\n\n<pre><code>public void onCreate(SQLiteDatabase db)    {\ndb.execSQL(\"CREATE TABLE Desk(_id INTEGER PRIMARY KEY AUTOINCREMENT,\" +\n            \"data DATETIME DEFAULT NULL);\");\n    }\n\npublic Cursor Test() throws ParseException\n{\n    return getReadableDatabase().rawQuery(\"select * from Desk where \"+\n    \"data IS NOT NULL\", null);\n}\npublic String GetData(Cursor c) \n{\n    return c.getString(c.getColumnIndex(\"data\"));\n}\n</code></pre>\n\n<p>In my Activity</p>\n\n<pre><code>public void onCreate(Bundle savedInstanceState)\n{\n   Cursor temp=BDBDClass.Test();\n   temp.moveToFirst();\n   Toast.makeText(getApplicationContext(), BDBDClass.GetData(temp), Toast.LENGTH_LONG).show();//THIS SHOW 1970-01-01 but there are 2012-10-28\n}\n</code></pre>\n"},{"tags":["android","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":1,"view_count":84,"score":2,"question_id":13105609,"title":"Inserting datetime in sqlite database android","body":"<p>how can i insert datetime data in my sqlite database using contentvalues not using raw query?. </p>\n\n<p>datetime('now') insert itself(text) not the time, and can i add addittional hours to the current time?</p>\n\n<p>like, when i press button \"1HOUR\" it would insert the currenttime + 1 hour in the sqlite database..thanks, kinda confused.. </p>\n"},{"tags":["iphone","objective-c","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":713,"score":0,"question_id":2691886,"title":"SQLite3 - select date range not working","body":"<p>yet anotherone that gives me grief. </p>\n\n<p>In a SQLite3 DB Select I query for a date range specified in (NSDate *)fromDate to (NSDate *)toDate</p>\n\n<pre><code>const char *sql = \"SELECT * FROM A, B WHERE A.key = B.key AND A.date between ? and ?\";\n</code></pre>\n\n<p>After opening the DB I run the query in Objective-C as follows:</p>\n\n<pre><code>NSDateFormatter *tmpDatFmt = [[[NSDateFormatter alloc] init] autorelease];\n[tmpDatFmt setDateFormat:@\"dd-MM-yyyy\"];\n\nsqlite3_stmt *stmt;\n\nif(sqlite3_prepare_v2(db, sql, -1, &amp;stmt, NULL) == SQLITE_OK) {\n    NSLog(@\"From %s to %s;\", [[tmpDatFmt stringFromDate:fromDate] UTF8String], [[tmpDatFmt stringFromDate:toDate] UTF8String]);\n\n    sqlite3_bind_text(stmt, 1, [[tmpDatFmt stringFromDate:fromDate] UTF8String], -1, SQLITE_STATIC);  // first '?'\n    sqlite3_bind_text(stmt, 2, [[tmpDatFmt stringFromDate:toDate]   UTF8String], -1, SQLITE_STATIC);  // second '?'\n\n    while(sqlite3_step(stmt) == SQLITE_ROW) {\n        NSLog(@\"Success\");}\n</code></pre>\n\n<p>In the database I have several records that match the date range:</p>\n\n<pre><code>12-04-2010 = in seconds 1271059200\n13-04-2010 = in seconds 1271145600\n13-04-2010 = in seconds 1271152800\n14-04-2010 = in seconds 1271267100\n</code></pre>\n\n<p>When I run it the first NSLog shows</p>\n\n<pre><code>From 2010-04-01 to 2010-04-30\n</code></pre>\n\n<p>my problem is the records are not selected (no \"Success\" shows in the log) and I don't understand why.</p>\n\n<p>earlier I had miscalculated the dates 2 days later as</p>\n\n<pre><code>14-04-2010 = in seconds 1271232000\n15-04-2010 = in seconds 1271318400\n15-04-2010 = in seconds 1271325600\n16-04-2010 = in seconds 1271439936\n</code></pre>\n\n<p>These dates worked fine (4 x \"Success in the log). I am puzzled ...</p>\n"},{"tags":["android","image","sqlite","camera","gallery"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":2547,"score":0,"question_id":8415099,"title":"Android save taken image from camera or gallery by using file system","body":"<p>I want to save image uri from taking camera or gallery into sqlite.\nAnd I want to display the image which called uri from sqilte.\nIf I want to do this, someone said you have to save image uri into sqlite as byte, and\nyou can set image on imageView.\nI understand the theory, but I am still getting stuck with my coding.\nIf it is true, I want to save formatted image into sdcard or somewhere.\nsomeone said use BitmapFactory and decodeResource.\nand call the uri from R.drawble.\nHowever, I don't know how to save image into R.drawble folder.\nCould you help me? I will give you some my coding.\nI am fighting with saving image into sqlite and how to load it, and how to modify it during two weeks!\nPlease help me, I am really getting stressed.\nSorry for really long coding. I don't know where I am now.\nThank you.</p>\n\n<p>fridgeDetails.java</p>\n\n<pre><code>populateFields();\n\nprivate void populateFields() \n{\n    if (mRowId != null)\n    {\n        Cursor data = mDbHelper.fetchItem(mRowId);\n        startManagingCursor(data);\n        //load image from sqlite\n        byte[] blob = data.getBlob(data.getColumnIndexOrThrow(FridgeDbAdapter.KEY_IMAGE));\n        mImageView.setImageBitmap(BitmapFactory.decodeByteArray(blob, 0, blob.length));\n        nameEdit.setText(data.getString(data.getColumnIndexOrThrow(FridgeDbAdapter.KEY_NAME)));\n        categoryEdit.setText(data.getString(data.getColumnIndexOrThrow(FridgeDbAdapter.KEY_CATEGORY)));\n        expired_Date_Btn.setText(data.getString(data.getColumnIndexOrThrow(FridgeDbAdapter.KEY_EXPIRED_DATE)));\n    }\n    else{\n    expired_Date_Btn.setText(\n            new StringBuilder()\n            .append(mDay).append(\"/\")\n            //month is 0 based. Then add 1\n            .append(mMonth + 1).append(\"/\")\n            .append(mYear).append(\" \"));    \n    }\n\n}\n    //create dialog for taking image\n    ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt; (this, android.R.layout.select_dialog_item,items);\n    AlertDialog.Builder builder  = new AlertDialog.Builder(this);\n    builder.setTitle(\"Select Image\");\n\n    builder.setAdapter(adapter, new DialogInterface.OnClickListener() {\n        public void onClick(DialogInterface dialog, int item) \n        {\n            if(item==0)\n            {\n                Intent cameraIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n                try\n                {\n                    cameraIntent.putExtra(\"return-data\", true);\n                    startActivityForResult(cameraIntent, PICK_FROM_CAMERA); \n                }\n                catch(ActivityNotFoundException e)\n                {\n                    e.printStackTrace();\n                }                   \n            }\n            else\n            {\n                Intent galleryIntent = new Intent();\n                galleryIntent.setType(\"image/*\");\n                galleryIntent.setAction(Intent.ACTION_GET_CONTENT);\n                //image chooser\n                startActivityForResult(Intent.createChooser(galleryIntent, \"Complete action using\"), PICK_FROM_GALLERY);\n            }\n        }   \n    });\n\nconfirmButton.setOnClickListener(new View.OnClickListener() \n    {\n        public void onClick(View v) {\n            //set alarm with expiration date                \n            am = (AlarmManager) getSystemService(Context.ALARM_SERVICE);\n            setOneTimeAlarm();\n            Toast.makeText(fridgeDetails.this, \"Alarm automatic set\", Toast.LENGTH_SHORT).show();\n            saveState();\n            setResult(RESULT_OK);\n            finish();\n        }\n\n    });\n\nprotected void onActivityResult(int requestCode, int resultCode, Intent data) \n{\n    super.onActivityResult(requestCode, resultCode, data);\n     if (resultCode != RESULT_OK) return;\n       switch (requestCode)\n       {\n        case PICK_FROM_CAMERA:\n            Bundle extras = data.getExtras();\n            Bitmap selectedImage = (Bitmap) extras.get(\"data\");\n            selectedImage = Bitmap.createScaledBitmap(selectedImage, 200, 200, false);\n            mImageView.setImageBitmap(selectedImage);\n            break;\n\n        case PICK_FROM_GALLERY:\n            Uri selectedImageUri = data.getData();\n            selectedImagePath = getPath(selectedImageUri);\n            Bitmap bitmap = BitmapFactory.decodeFile(selectedImagePath);\n            Bitmap bt=Bitmap.createScaledBitmap(bitmap, 200, 200, false);\n            mImageView.setImageBitmap(bt);\n        break;\n       }\n}\n\nprotected void onSaveInstanceState(Bundle outState)\n{\n    super.onSaveInstanceState(outState);\n    saveState();\n}\n\n@Override\nprotected void onPause()\n{\n    super.onPause();\n    saveState();\n}\n\n@Override\nprotected void onResume()\n{\n    super.onResume();\n    populateFields();\n}\n\nprivate void saveState() \n{\n    String name = (String) nameEdit.getText().toString();\n    String category = (String) categoryEdit.getText().toString();\n    String expired_date = (String) expired_Date_Btn.getText().toString();\n    byte[] image = ConvertDrawableToByteArray(mImageView.getDrawable());\n    if(mRowId == null)\n    {\n        long id = mDbHelper.insertItem(category, name, expired_date, image);\n\n        if(id&gt;0)\n        {\n            mRowId = id;\n        }           \n    }\n    else \n    {\n        mDbHelper.updateItem(mRowId, category, name, expired_date, image);\n    }   \n}\n\npublic static byte[] ConvertDrawableToByteArray(Drawable drawableResource) {\n    Bitmap imageBitmap = ((BitmapDrawable) drawableResource).getBitmap();\n    ByteArrayOutputStream imageByteStream = new ByteArrayOutputStream();\n    imageBitmap.compress(Bitmap.CompressFormat.PNG, 100, imageByteStream);\n    byte[] imageByteData = imageByteStream.toByteArray();\n    return imageByteData;\n}\n</code></pre>\n"},{"tags":["android","sqlite","time"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":54,"score":2,"question_id":13104513,"title":"How to compare hours and minutes in SQLite?","body":"<p>I have a users \"hours worked\" stored in SQLite as <code>HH:MM</code> in my Android application. I <strong>do not</strong> want to change the way this data is stored, if possible. That would be a nightmare. I want them to be able to search entries in which their time is <code>=</code>,<code>&lt;</code>, or <code>&gt;</code> another timestamp.</p>\n\n<p>For example, using my app they can make a <code>WHERE</code> clause like the following: <code>time(Hours) &gt; time('5:51')</code> where <code>Hours</code> is the column name. However, I can't seem to get any results, even if I <em>know</em> there's a matching row.</p>\n\n<p>Am I doing something wrong? I don't get any exceptions, just no results.</p>\n"},{"tags":["android","sqlite","phonegap","android-emulator","phonegap-plugins"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12708705,"title":"Location of SQLite database in eclipse for android using phonegap","body":"<p>I am using phonegap and developing html pages for android but I dont know how to view the tables and its corresponding database in I am using Eclipse Juno. I Know it is somewhere in DDMS can anyone tell me the path where my tables and database is located in SQLite. </p>\n"},{"tags":["java","eclipse","sqlite","database-connection","drivers"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":69,"score":0,"question_id":10869147,"title":"SQLite connection causes error out of memory","body":"<p>SQLite under Eclipse causes an out of memory error.</p>\n\n<p>I can’t create a correct working connection in Eclipse to a SQLite (2 or 3) database (file). \nTried a lot of suggestions without success.  I tried for instance: <a href=\"http://wiki.eclipse.org/index.php/Connecting_to_SQLite\" rel=\"nofollow\">http://wiki.eclipse.org/index.php/Connecting_to_SQLite</a>, as well as many other suggestions.</p>\n\n<p>I did not write any java code for this database connection yet. I assume that it is necessary to have a good working connection in Eclipse first.  Last year I had a working database connection with apps, etc., but with this other computer. I can’t get it working.</p>\n\n<p>I used chinook database, but created some databases (SQLite) myself via standard simple dbms.\nIn the preferences there is a SQLite jdbc driver 3.5.9</p>\n\n<ul>\n<li>Is it necessary to download drivers and solve memory issues to use a simple SQLite database? </li>\n<li>Is it necessary to solve the memory issue in java, in eclipse, in the connection, or is it a driver, database, version, or right place for files problem? I am using only standard software, for studying. </li>\n</ul>\n"},{"tags":["actionscript-3","flash","query","sqlite","mdm-zinc"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":116,"score":0,"question_id":8277381,"title":"MDM Zinc SQLite Query by arabic text Issue","body":"<p>I am connecting to an SQLite data base via MDM and as3 and run this query: </p>\n\n<pre><code>SELECT * FROM Branch WHERE name LIKE '%مرحبا%'\n</code></pre>\n\n<p>But, after after I run it my program closes. Can mdm execute query via Arabic text?</p>\n"},{"tags":["iphone","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":113,"score":0,"question_id":7043702,"title":"How to change SQLite time format datetime","body":"<p>I am trying to get the date from SQLite. I am getting timestamp in coredata, but I need to see the date. What is the command to get the timestamp converted into YYYY-MM-DD format? My query is:</p>\n\n<pre><code>SELECT ZDATE FROM ZWEATHER\n</code></pre>\n\n<p>Zdate is datetime.</p>\n"},{"tags":["android","sqlite","email","android-intent"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":75,"score":0,"question_id":9546039,"title":"SQLite Android. Managing data","body":"<p>I'll tell you the aim of this part of my app. I've got a SQLite dB which has 3 columns. First is \"Quantity\", Second is \"Product\" and third is \"Price\". Well, what i want to do is to get the whole dB and send it by email.\nThis is what i have right now:</p>\n\n<pre><code>public class Visual extends Activity {\n\nTextView tv;\nButton sqlGetInfo;\nlong l ;\nlong b=1;\nint c,i;\nString returnedQuantity ,returnedProduct ,returnedPrice;\nString[] filas;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    // TODO Auto-generated method stub\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.visual);\n\n\n    tv = (TextView) findViewById(R.id.tvSQLinfo);\n    sqlGetInfo = (Button) findViewById(R.id.EnviarPedido);\n    SQLManager info = new SQLManager(this);\n    info.open();\n    String data= info.getData();\n    info.close();\n    tv.setText(data);\n</code></pre>\n\n<p>Up to here, my code works fine, it displays the data in the textView. Here is the problem. My dB has a maximum of 15 rows. What i want to do is to store each row in a position of a string array (filas). First row = filas(0), second row = filas(1)...in order to be able to pass this array to another activity. If the array has less than 15 rows i think it would give an exception. So it's the time to open the other activity.</p>\n\n<pre><code>    final SQLManager hon = new SQLManager(this);\n    sqlGetInfo.setOnClickListener(new OnClickListener() {\n\n        @Override\n        public void onClick(View v) {\n            // TODO Auto-generated method stub\n\n            for (i = 1; i &lt; 15; i++) { \n\n                    try{\n                    l = (long) i;\n                    hon.open();\n                    returnedQuantity = hon.getQuantity(l);\n                    returnedProduct = hon.getProduct(l);\n                    returnedPrice = hon.getPrice(l);\n                    hon.close();\n                    c=(int)(l-b);\n                    filas[c]=\"\" + returnedQuantity+\"      \"+ returnedProduct+\"      \"+ returnedPrice + \"\\n\";\n\n\n                    }catch (Exception e){\n\n                    i = 16;\n                    l = (long) i;\n                    Intent abrePedidos = new Intent(Visual.this, Pedidos.class);\n                    abrePedidos.putExtra(\"pedidoCompleto\", filas);\n                    startActivity(abrePedidos);\n                }\n        }\n\n    }\n});\n   }\n }\n</code></pre>\n\n<p>The other activity is this:</p>\n\n<pre><code>public class Pedidos extends Activity {\n\nString[] filas;\nlong numProd;\nboolean end;\nint i;\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    // TODO Auto-generated method stub\n    super.onCreate(savedInstanceState);\n\n    filas=getIntent().getStringArrayExtra(\"pedidoCompleto\");\n\n    String subject = \"Pedido a Domicilio\";\n    String cabecera = \"Unid.     Producto            Precio\\n\\n\";\n    String[] emails = {\"ulrickpspgo@gmail.com\"};\n\n    String message = cabecera + filas;\n\n    Intent emailIntent = new Intent (android.content.Intent.ACTION_SEND);\n    emailIntent.putExtra(android.content.Intent.EXTRA_EMAIL, emails);\n    emailIntent.putExtra(android.content.Intent.EXTRA_SUBJECT, subject);\n    emailIntent.putExtra(android.content.Intent.EXTRA_TEXT, message);\n    emailIntent.setType(\"plain/text\");\n    startActivity(emailIntent);\n\n    }\n}\n</code></pre>\n\n<p>What I get as the message of my email is \"null\".</p>\n"},{"tags":["iphone","ios","xcode","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":107,"score":-1,"question_id":9760982,"title":"Select query not working in SQLite","body":"<p>i am running a method for containing select query, but compiled statement is not working the break point skips the line where it declares it and when i puts the cursor on it it shows no value, Here's the code i am using:</p>\n\n<pre><code>-(NSMutableArray *)GetAllPartsName\n{\n    NSString *path = [self getDBPath];\n    // Open the database from the users filessytem\n\n    NSMutableArray *Parts=[[[NSMutableArray alloc]init]autorelease ];\n    if(sqlite3_open([path UTF8String], &amp;database) == SQLITE_OK) {\n        // Setup the SQL Statement and compile it for faster access\n\n        NSString *sqlQuery = [NSString stringWithFormat:@\"SELECT Parts_Name FROM Parts\"];\n        NSLog(@\"%@\",sqlQuery);\n        const char *sqlStatement = [sqlQuery UTF8String]; \n        //The break point skips the sqlite3_stmt.\n        sqlite3_stmt *compiledStatement;\n        //when i put the cursor over compiledStatement it shows no value\n        if(sqlite3_prepare_v2(database, sqlStatement, -1, &amp;compiledStatement, NULL) == SQLITE_OK) {\n            // Loop through the results and add them to the feeds array\n            while(sqlite3_step(compiledStatement) == SQLITE_ROW) {\n                // Read the data from the result row\n                NSMutableDictionary *PositionDict=[[NSMutableDictionary alloc]init];\n                //setting the parts into dictionary\n                [PositionDict setObject:[NSString stringWithUTF8String:(char *)sqlite3_column_text(compiledStatement,0)] forKey:@\"Parts_Name\"];\n                [Parts addObject:PositionDict];\n                NSLog(@\"%@\",PositionDict);\n                [PositionDict release];\n            }\n        }\n        // Release the compiled statement from memory\n        sqlite3_finalize(compiledStatement);\n    }\n    sqlite3_close(database);\n    return Parts;\n}\n</code></pre>\n"},{"tags":["java","android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":10669739,"title":"Multiple Query with buttons in SQLite","body":"<p>I am currently writing an app that I have a SQLite DB that contains data on a Tradable Collection Card Game. Each card has a Name, Power rating, Card Set, Color, and other info. What I am trying to find out is how to write a query statement to say someone wants to search for a card called Moses, they can type the name in and get the result of all the different Moses cards in the database, but say they want to narrow it down, and they know Moses was a White card, they can then type in Moses, then click on a button called White, then submit, this then queries the DB for the Moses card that in the color column is the word White and then displays the result. Now a step further, what if they wanted to find all the cards in say Color White and Blue from the Kings set, I would like to be able to click and select the White and Blue Button plus the button that says Kings, then hit submit, this then returns the results for all cards in the Kings Set that are White and Blue and displays the results in a new window that they can click on the name and it will brign up another window with all the info on that card?</p>\n\n<p>I know it is a lot of info, any help?</p>\n"},{"tags":["image","sqlite","blob"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":12349551,"title":"How to add image without using query in SQLite (SQLiteAdmin tool) table?","body":"<p>How to add image (as BLOB Type) without using query in SQLite (SQLiteAdmin tool) table?</p>\n"},{"tags":["sqlite","microsoft-metro"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":95,"score":0,"question_id":12240603,"title":"SQLite Windows 8 Metro Install","body":"<p>When using SQLite, I am getting this error:</p>\n\n<p>Unable to load DLL 'sqlite3': The specified module could not be found. </p>\n\n<p>Here is my code:</p>\n\n<p>SqlLite.cs</p>\n\n<pre><code>    public SQLiteConnection (string databasePath, bool storeDateTimeAsTicks = false)\n    {\n        DatabasePath = databasePath;\n        Sqlite3DatabaseHandle handle;\n        var r = SQLite3.Open (DatabasePath, out handle);\n        Handle = handle;\n        if (r != SQLite3.Result.OK) {\n            throw SQLiteException.New (r, String.Format (\"Could not open database file: {0} ({1})\", DatabasePath, r));\n        }\n        _open = true;\n\n        StoreDateTimeAsTicks = storeDateTimeAsTicks;\n\n        BusyTimeout = TimeSpan.FromSeconds (0.1);\n    }\n</code></pre>\n\n<p>I am trying to add a reference to SQLite3, however, I get this error:</p>\n\n<blockquote>\nA reference to SQLite3 could not be added. Please make sure that the file is accessible and that it is a valid assembly or COM component. \n</blockquote>\n\n<p>Am I adding the wrong file? It came from the metro folder of SQLite.NET.</p>\n"},{"tags":["c#","sqlite","nhibernate","oracle11g","fluent-nhibernate-mapping"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":69,"score":0,"question_id":12459889,"title":"Fluent NHibernate mapping to Oracle 11G and SQLite","body":"<p>On an already in place table in the database we are trying to Add a column for the CreationDate</p>\n\n<pre><code>mapping.Map(x =&gt; x.CreationDate)\n            .Not.Nullable()\n            .Default(\"to_date('01-01-0001','dd-MM-yyyy')\")\n</code></pre>\n\n<p>This works perfectly fine with oracle but SQLite will not understand this, which is perfectly normal because it does not know the to_date() function.</p>\n\n<p>If i use </p>\n\n<pre><code>DateTime.MinValue.ToString()\n</code></pre>\n\n<p>for the Default value with or without an specific format. Then it will work in SQLite but it wont work in Oracle.</p>\n\n<p>Does someone know a solution to solve this.</p>\n"},{"tags":["sqlite","events","mutex"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":22,"score":1,"question_id":11466078,"title":"SQLite db protection using events/mutex","body":"<p>I have two windows applications which will be accessing same database(stored in a hard disk). Only one of these two application is performing both read/write operations in this db while the second one only performs read operations. Do I need mutex/events to protect my db while both applications are accessing it? I was reading FAQ of SQLite which says that I might not need any resource protection, SQLite has in-built feature..</p>\n"},{"tags":["android","mysql","sqlite","phonegap","cordova"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":75,"score":1,"question_id":11353315,"title":"how to upload the data created by SQLite to a MySQL server?","body":"<p>I´m currently creating an android app through a form that saves data in a table with SQLite.</p>\n\n<p>I need to include a function that when the client click \"upload\" the data in that table get on the actual table MySQL server and remove the table created by SQLite.</p>\n\n<p>Anyone have any example of how to do this, if you could automate the action when the device has Internet would be perfect, thanks!</p>\n"},{"tags":["iphone","objective-c","ios","sqlite","sqlite3"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13103833,"title":"Application keeps crashing with NSInternalInconsistencyException error sqlite3 update","body":"<p>I have a problem with SQLLite3 update function. I don't know if my query is wrong or is that something wrong with the function I build.</p>\n\n<pre><code>- (void)updateRowWithID:(NSString *)databaseItem AndWithColumnName:(NSString *)changeColumnName AndWithValue:(NSString *)changeValue\n{\n    NSString * sql = [NSString stringWithFormat:@\"UPDATE tblUsers SET %@ = %@ WHERE ID = %@\", changeColumnName, changeValue, databaseItem];\n\n    sqlite3_stmt * statement;\n    if(sqlite3_open([[self path]UTF8String], &amp;database) == SQLITE_OK)\n    {\n        const char *insert_stmt = [sql UTF8String];\n\n        NSLog(@\"UPDATE: %@\",sql);\n\n        // here it says the something wrong and the application crush.\n        if(sqlite3_prepare_v2(database, insert_stmt, -1, &amp;statement, NULL) != SQLITE_OK)\n        {\n            NSAssert(0, @\"ERROR ON INSERTING TO TABLE\");\n        }\n        int success = sqlite3_step(statement);\n        if(success)\n            NSLog(@\"Success\");\n    }\n}\n</code></pre>\n\n<p>This is the crush log:</p>\n\n<pre><code>2012-10-27 22:07:47.088 myapplication[21778:15803] *** Assertion failure in -[userData updateRowWithID:AndWithColumnName:AndWithValue:], /Users/user/myapplication/userData.m:47\n2012-10-27 22:07:47.089 myapplication[21778:15803] *** Terminating app due to uncaught exception 'NSInternalInconsistencyException', reason: 'ERROR ON INSERTING TO TABLE'\n*** First throw call stack:\n(0x1a70022 0x1600cd6 0x1a18a48 0x133f2cb 0xcfc8 0xfcab 0x1a71e99 0x9ab14e 0x9ab0e6 0xa51ade 0xa51fa7 0xa51266 0x9d03c0 0x9d05e6 0x9b6dc4 0x9aa634 0x224fef5 0x1a44195 0x19a8ff2 0x19a78da 0x19a6d84 0x19a6c9b 0x224e7d8 0x224e88a 0x9a8626 0x2835 0x2735 0x1)\nterminate called throwing an exception(lldb) \n</code></pre>\n\n<p>Please tell me, what am I doing wrong here?</p>\n\n<p>Thanks!</p>\n"},{"tags":["android","database","sqlite","audio","android-sqlite"],"answer_count":4,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":1341,"score":1,"question_id":3165061,"title":"Android - Storing Audio Files into the SQLite Database","body":"<p>I am developing an application for Android phone. In this I need to use at least 400 audio files which can be played for some respective texts. Now my question is which is the optimized way to do this..</p>\n\n<p>One solution is putting all the audio files in the resource folder and referring from there, this will never be a feasible solution as the application size will increase. Is there any way to convert the audio file into some format and dump into the SQLite database and  retrieve flexibly?</p>\n\n<p>Any suggestions or guidance is highly appreciated.</p>\n"},{"tags":["sqlite","ios","push","token","apns"],"answer_count":1,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":284,"score":1,"question_id":4468153,"title":"APNS token compared with NSString","body":"<p>I got two APNS (Apple Push) tokens to compare.</p>\n\n<p>One is from Apple. Every time I launch the app it receives the token (as a NSData *) from Apple.</p>\n\n<p>The other is from my app's SQLite3 database. When the first time my app received the token from Apple, it recorded the token in its SQLite3 database with an INSERT with the token as TEXT.</p>\n\n<p>I then tried to compare these two tokens. Yes they are meant to be the same, and every time I use NSLog to output them on Console, they did look the same.</p>\n\n<p>But every time I use isEqual: or isEqualToString: to compare, I got NO. I'm confused.</p>\n\n<p>Any one can help?</p>\n"},{"tags":["sqlite","sql-order-by"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":11,"score":0,"question_id":13102690,"title":"SQLite does not order by two columns","body":"<p>Structure is:</p>\n\n<pre><code>CREATE TABLE stopsbuses (_id INTEGER PRIMARY KEY, stop_id NUMERIC, bus_id NUMERIC, drive TEXT, day TEXT);\nCREATE TABLE stopsbusestimes (_id INTEGER PRIMARY KEY, sb_id NUMERIC, timeh NUMERIC, timem NUMERIC);\n</code></pre>\n\n<p>When I execute query like this:</p>\n\n<pre><code>SELECT timeh, timem FROM stopsbuses \nINNER JOIN stopsbusestimes ON stopsbuses._id = stopsbusestimes.sb_id \nWHERE stopsbuses.stop_id = 2 ORDER BY timeh asc, timem asc \n</code></pre>\n\n<p>Output for example is:</p>\n\n<pre><code>[..]\n7 1\n7 31\n7 34\n7 54\n7 57\n7 22\n[..]\n</code></pre>\n\n<p>Same output is with simple:</p>\n\n<pre><code>SELECT timeh, timem FROM stopsbusestimes ORDER BY timeh, timem\n</code></pre>\n\n<p>Same output using php + pdo, SQLite Database Browser and in Android aplication.</p>\n\n<p>Am i missing something in ordering by two columns?</p>\n"},{"tags":["java","sql","database","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13100902,"title":"sqlite query current time and timestamp","body":"<p>I have a table in my sqlite3 databse which has the following fields:</p>\n\n<pre><code>id text not null, phonenum text not null, timeofcall text not null\n</code></pre>\n\n<p>The timestamp is basically the time of the insertion (in my app when a person calls it inserts the tele number and also the time of the call.)</p>\n\n<p>I want to get all of the rows for a particular number within the last minute, something like:</p>\n\n<pre><code>SELECT * FROM callstbl WHERE phonenum = '07857463756' AND timeofcall &lt; 1 minute ago;\n</code></pre>\n\n<p>How is something like this accomplished?</p>\n\n<p>EDIT:</p>\n\n<p>when i use this query as suggest by the top poster I get back every row that matches the 'phonenum', its like its ignoring the time function</p>\n\n<pre><code>String sql = \"select * FROM callstbl WHERE timeofcall &gt;= datetime('now', '-1 minutes') AND phonenum='\"+num+\"'\";\n</code></pre>\n\n<p>The format of my date-time string (timeofcall) is yyyy-MM-dd HH:mm:ss</p>\n\n<p>if i just do</p>\n\n<pre><code>SELECT * FROM callstbl WHERE timeofcall &gt;= datetime('now', '-1 minutes');\n</code></pre>\n\n<p>I get back every row in the database.</p>\n"},{"tags":["iphone","objective-c","sqlite","core-data"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":108,"score":0,"question_id":8801773,"title":"Core Data, Many-to-many and unique constraint","body":"<p>guys!</p>\n\n<p>I have two entities in data model Contact and Group. Contact and Group have many-to-many relations. I've created them as it's described on apple core data manual.</p>\n\n<p>I watched on sqlite file with viewer and it looks good with third table, but there is one problem. Contacts  are not Unique, when I want just to add contact with another group it's being added into Contact table again and into relations table too.</p>\n\n<p>What is the fastest way to make my contacts unique here?</p>\n"},{"tags":["javascript","sql","ios","sqlite","phonegap"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13101398,"title":"Can't create SQL-DB","body":"<p>Can't create a db. I use Xcode 4.4, newest Phongap-Version.</p>\n\n<p>Usually there should be a database in User/.../iPhone Simulator/.../Documents/tapp.sql. But there is nothing. I come to the point alert(\"2\"). Any idea?</p>\n\n<p>My code:</p>\n\n<pre><code>        &lt;script type=\"text/javascript\" src=\"cordova-2.1.0.js\"&gt;&lt;/script&gt;\n        &lt;script type=\"text/javascript\" charset=\"utf-8\"&gt;\n            function onBodyLoad()\n            {\n                alert(\"0\");\n               document.addEventListener(\"deviceready\", onDeviceReady,false);\n            }                    \n\n            /* When this function is called, PhoneGap has been initialized and is ready to roll */\n            function onDeviceReady()\n            {\n                alert(\"1\");\n                try {\n                  alert(\"2\");\n                        var shortName = 'tapp';\n                        var version = '1.0';\n                        var displayName = 'Tumblr App Database';\n                        var maxSize = 65536;\n                        db = openDatabase(shortName, version, displayName,  maxSize);\n                } catch (e) {\n                    debug.error(e);\n                }\n            }\n            &lt;/script&gt;\n        &lt;/head&gt;\n&lt;body onLoad=\"onBodyLoad();\" &gt;\n\n\n\n    &lt;button onclick=\"createDatabase();\"&gt;Database&lt;/button&gt;\n    &lt;button onclick=\"createTables();\"&gt;Tables&lt;/button&gt;\n&lt;/body&gt;\n</code></pre>\n"},{"tags":["c++","c","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":129,"score":0,"question_id":1083216,"title":"Export a .sqlite file in C/C++ (on windows)","body":"<p>It is possible to move a .sqlite file somewhere while not corrupting it in C or C++?\nSomewhere could be another folder or something.</p>\n\n<p>If so could you give me some tips/pointers.</p>\n"},{"tags":["qt","sqlite","qt4","qtsql"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":497,"score":0,"question_id":5373184,"title":"QtSQL + Sqlite and support for .size() function?","body":"<p>I'm wondering does QtSql + Sqlite support QSqlQuery::size() function ?</p>\n\n<p>Thx.</p>\n"},{"tags":["mysql","database","sqlite","dbms"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":43,"score":0,"question_id":13100018,"title":"Database Software to store 1TB Data","body":"<p>I am looking for a Database software where I can store 1TB+ Data.<br>\nThe average size of a row is going to be 5KB.<br>\nI have been doing my homework on this for the past month and I have shortlisted two software:</p>\n\n<ol>\n<li>SQLite</li>\n<li>MySQL MyISAM</li>\n</ol>\n\n<p>Essentially, the database should not use too much additional data to store rows and it should be ACID compliant.<br>\nI am open to any other DB software suggestion as well.<br>\nThe application I plan to use is going to have one concurrent connection only.</p>\n\n<p>SQLite is good and meets the requirements except that, when you delete a ROW it will not be delete the data from the file and keep the freed up resources till the data is overwritten by new data. One needs to use VACUUM to clean the free resources which can take quite a lot time and resources. SQLite is also very efficient in storing the data with respect to its size. It doesn't add much data to the contents. SQLite also doesn't allow to separate the INDEX file so that it can be put on a SSD for faster lookups.</p>\n\n<p>MySQL MyISAM is good and it is also VERY efficient in storing the data and doesnt add contents. But MyISAM is not ACID compliant and it can lead to data loss incase of a power failure, etc. INNODB on the otherhand is not efficient to store the data and additional data it adds to store each row is pretty high compared to MyISAM.</p>\n\n<p>So is there any Free Database software which overcomes these constraints or this is the best option I have?</p>\n"},{"tags":["android","file","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":112,"score":0,"question_id":11621148,"title":"Add a txt file in a database SQLite ( for Android), how?","body":"<p>Should I put a txt file saved in the phone's sd card in a database SQLite of Android, but I do not know how to do it,  help me and I kindly wrote a few lines of code to do this?</p>\n"},{"tags":["sqlite","iphone-sdk-4.0"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":2,"view_count":44,"score":-1,"question_id":6674128,"title":"How to learn SQLite Databsae in iphone?","body":"<p>I am new in iPhone Developer so I want learn SQLite Database from begin to end so please send me any link or tutorials as soon as possible...</p>\n\n<p>Thanks</p>\n"},{"tags":["iphone","ios","sqlite","ios5"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":52,"score":1,"question_id":12458720,"title":"Persist SQLite Data upon application uninstall","body":"<p>We are storing a unique identifier for the mobile device in an SQLite database, to be used for licencing purposes. The problem is that if a user removes the application then reinstalls it again, the SQLite database is gone along with our stored variable.</p>\n\n<p>How to prevent removing the databse upon application installation, so that we can reuse the database if the application was reinstalled again</p>\n\n<p>Thanks</p>\n"},{"tags":["sqlite","activity","main-activity"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":9854393,"title":"main activity not updated from SQLite","body":"<p>I have a main activity that displays data from SQLite database.  When I use a menu to go to another activity to add or update data, it is immediately updated when I go back to the main activity.</p>\n\n<p>Every once in a while when I open the app it displays an old main activity page with old data.  When I go to an update page and back to the main activity the correct data displays.</p>\n\n<p>Is my phone displaying an old main activity page that just never closed?  If this is the case, how can I get it to close?</p>\n"},{"tags":["sqlite","qt","qtableview"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":13099830,"title":"QT / QTableView / SQLite how to connect?","body":"<p>This is my first time QT programming. I am to make an address book on relational database to keep track of calls and events, related to persons and companies. A simple home-made sales tool. I am in great need of it.</p>\n\n<p>Using QT Designer I have created a main window and placed a QTableView widget. Installed SQLite, created a database. Now I need to connect it to the QTableView. I spent several hours, and still couldn't do it. </p>\n\n<p>Can someone please help?</p>\n\n<p>Thanks!</p>\n\n<p>Some code:</p>\n\n<p>untitled9.pro:</p>\n\n<pre><code>#-------------------------------------------------\n#\n# Project created by QtCreator 2012-10-26T14:35:12\n#\n#-------------------------------------------------\n\nQT       += core gui\nQT       += sql\n\nTARGET = untitled9\nTEMPLATE = app\n\n\nSOURCES += main.cpp\\\n        mainwindow.cpp\n\nHEADERS  += mainwindow.h\n\nFORMS    += mainwindow.ui\n</code></pre>\n\n<p>mainwindow.h:</p>\n\n<pre><code>#ifndef MAINWINDOW_H\n#define MAINWINDOW_H\n\n#include &lt;QMainWindow&gt;\n\nnamespace Ui {\nclass MainWindow;\n}\n\nclass MainWindow : public QMainWindow\n{\n    Q_OBJECT\n\npublic:\n    explicit MainWindow(QWidget *parent = 0);\n    ~MainWindow();\n\nprivate slots:\n    void on_menu_exit_triggered();\n\nprivate:\n    Ui::MainWindow *ui;\n};\n\n#endif // MAINWINDOW_H\n</code></pre>\n\n<p>main.cpp:</p>\n\n<pre><code>#include &lt;QtGui/QApplication&gt;\n#include \"mainwindow.h\"\n#include &lt;QTableView&gt;\n\nint main(int argc, char *argv[])\n{\n    QApplication a(argc, argv);\n    MainWindow w;\n\n    w.show();\n\n    QTableView *tableView;\n\n    return a.exec();\n}\n</code></pre>\n\n<p>mainwindow.cpp:</p>\n\n<pre><code>#include \"mainwindow.h\"\n#include \"ui_mainwindow.h\"\n\nMainWindow::MainWindow(QWidget *parent) :\n    QMainWindow(parent),\n    ui(new Ui::MainWindow)\n{\n    ui-&gt;setupUi(this);\n}\n\nMainWindow::~MainWindow()\n{\n    delete ui;\n}\n\nvoid MainWindow::on_menu_exit_triggered()\n{\n  QCoreApplication::quit ();\n}\n</code></pre>\n\n<p>And, there is also a long xml in mainwindow.ui. I'll post it here in case of need.</p>\n\n<p>Thanks!</p>\n"},{"tags":["iphone","ios","ipad","sqlite","sqlite3"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":45,"score":-2,"question_id":13099848,"title":"How to connect to a Database with an iOS app?","body":"<p>I'm new to iPhone/iPad app Development.\nCan anybody tell me step by step for what I have to do so I can connect to an sqlite database with my apps?\nI need a code for, when I click on a button, the selected item is added into the database.</p>\n"},{"tags":["android","sqlite","exception"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":41,"score":2,"question_id":13099274,"title":"Android : SQLiteException: not an error not on all devices","body":"<p>I get this error on a device, while it works good on another device. Here is the error :</p>\n\n<pre><code>Caused by: android.database.sqlite.SQLiteException: not an error\n    at android.database.sqlite.SQLiteQuery.nativeFillWindow(Native Method)\n    at android.database.sqlite.SQLiteQuery.fillWindow(SQLiteQuery.java:86)\n    at android.database.sqlite.SQLiteCursor.fillWindow(SQLiteCursor.java:164)\n    at android.database.sqlite.SQLiteCursor.getCount(SQLiteCursor.java:156)\n    at com.Orange.MakeVisits.Themes.onCreate(Themes.java:162) \n</code></pre>\n\n<p>I execute a query and at the line that checks if the Cursor is null, I get this error. Here is my code :</p>\n\n<pre><code>    String stmtGetThemes = \"SELECT * FROM pr_fields_descriptor a \"\n   + \"inner join pr_fields_starring b on a.id_fields_descriptor = b.fields_descriptor_id \"\n   + \"where b.starring_id = '\"+pos_starring_id+\"' and a.theme_id='\"+themes_ids[m]+\"' order by form_rank\";\n\n    Cursor getThemesCursor1 = db.databaseQuery(stmtGetThemes);\n\n    if (getThemesCursor1!=null &amp;&amp; getThemesCursor1.getCount()&gt;0){\n    //----\n    }\n</code></pre>\n\n<p>and databasequery is this method (is defined in the class that extends <code>SQLiteOpenHelper</code>):</p>\n\n<pre><code>public Cursor databaseQuery(String stmt) {\n        Cursor cursor = db.rawQuery(stmt, null);\n        return cursor;\n    }\n</code></pre>\n\n<p>Any idea what can cause this error ? The statement is not good ? Why it works on others devices?\nAny idea is welcome. Thanks in advace.</p>\n"},{"tags":["android","sqlite","android-textview","android-tablelayout"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":13098345,"title":"How to display multiple text view in single table row at run time in android?","body":"<p>I have some table in my sqlite database. I fetched the table values and stored into array. Now I want to display multiple text view at run time dynamically. My code is <a href=\"http://pastie.org/5122521\" rel=\"nofollow\">http://pastie.org/5122521</a> . And i my logcat shows some error like this</p>\n\n<pre><code>  10-27 11:24:22.444: INFO/System.out(552): seek bar value----&gt;-77\n  10-27 13:04:15.335: ERROR/AndroidRuntime(868): FATAL EXCEPTION: main\n  10-27 13:04:15.335: ERROR/AndroidRuntime(868): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.exale.newfinace/com.exale.newfinace.Income}: java.lang.IllegalStateException: The specified child already has a parent. You must call removeView() on the child's parent first.\n  10-27 13:04:15.335: ERROR/AndroidRuntime(868):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1647)\n  10-27 13:04:15.335: ERROR/AndroidRuntime(868):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1663)\n  10-27 13:04:15.335: ERROR/AndroidRuntime(868):     at android.app.ActivityThread.access$1500(ActivityThread.java:117)\n  10-27 13:04:15.335: ERROR/AndroidRuntime(868):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:931)\n 10-27 13:04:15.335: ERROR/AndroidRuntime(868):     at android.os.Handler.dispatchMessage(Handler.java:99)\n 10-27 13:04:15.335: ERROR/AndroidRuntime(868):     at android.os.Looper.loop(Looper.java:123)\n 10-27 13:04:15.335: ERROR/AndroidRuntime(868):     at android.app.ActivityThread.main(ActivityThread.java:3683)\n 10-27 13:04:15.335: ERROR/AndroidRuntime(868):     at java.lang.reflect.Method.invokeNative(Native Method)\n 10-27 13:04:15.335: ERROR/AndroidRuntime(868):     at java.lang.reflect.Method.invoke(Method.java:507)\n 10-27 13:04:15.335: ERROR/AndroidRuntime(868):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)\n 10-27 13:04:15.335: ERROR/AndroidRuntime(868):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)\n 10-27 13:04:15.335: ERROR/AndroidRuntime(868):     at dalvik.system.NativeStart.main(Native Method)\n 10-27 13:04:15.335: ERROR/AndroidRuntime(868): Caused by: java.lang.IllegalStateException: The specified child already has a parent. You must call removeView() on the child's parent first.\n 10-27 13:04:15.335: ERROR/AndroidRuntime(868):     at android.view.ViewGroup.addViewInner(ViewGroup.java:1976)\n 10-27 13:04:15.335: ERROR/AndroidRuntime(868):     at android.view.ViewGroup.addView(ViewGroup.java:1871)\n 10-27 13:04:15.335: ERROR/AndroidRuntime(868):     at android.widget.TableLayout.addView(TableLayout.java:421)\n 10-27 13:04:15.335: ERROR/AndroidRuntime(868):     at android.view.ViewGroup.addView(ViewGroup.java:1851)\n 10-27 13:04:15.335: ERROR/AndroidRuntime(868):     at android.widget.TableLayout.addView(TableLayout.java:412)\n 10-27 13:04:15.335: ERROR/AndroidRuntime(868):     at com.exale.newfinace.Income.onCreate(Income.java:402)\n 10-27 13:04:15.335: ERROR/AndroidRuntime(868):     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)\n 10-27 13:04:15.335: ERROR/AndroidRuntime(868):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1611)\n 10-27 13:04:15.335: ERROR/AndroidRuntime(868):     ... 11 more\n</code></pre>\n\n<p>Where i did mistake in code? Can anybody tell me? Thanks in advance.</p>\n"},{"tags":["android","sqlite"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":35,"score":2,"question_id":13099250,"title":"Is there anything wrong with following selectQuery ?","body":"<pre><code>int getIdForSong(Song song){\n\n    String selectQuery = \"SELECT id FROM \" + TABLE_SONG + \" WHERE \" + SONG_TITLE + \"=\" + song.getSongTitle() + \" AND \" + ARTIST_NAME + \"=\" + song.getArtistName();\n    SQLiteDatabase db = this.getReadableDatabase();\n    Cursor cursor = db.rawQuery(selectQuery, null);\n    int id = Integer.parseInt(cursor.getString(0));\n    return id;\n}\n</code></pre>\n\n<p>I am getting and exception near \"=\". Anyone? </p>\n"},{"tags":["android","query","sqlite","boolean","bug"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":36,"score":1,"question_id":13095277,"title":"Android - Database with ContentValue with boolean bug?","body":"<p>I created database table in my android app. I used this query:</p>\n\n<pre><code>CREATE TABLE foo (_id INTEGER PRIMARY KEY AUTOINCREMENT, mybool BOOLEAN)\n</code></pre>\n\n<p>Than I added row to the table, that the value of <code>mybool</code> will be <code>true</code>.<br>\nI ran the sqlite3 command to see the value in the table, and I saw:</p>\n\n<pre><code>  _id    |    mybool\n----------------------\n   1     |      1\n</code></pre>\n\n<p>That is corret, the <code>true</code> value became to 1.  </p>\n\n<p>The strange thing is in the reading. I read the table like that:</p>\n\n<pre><code>ContentValues values = new ContentValues();\nCursor cursor = db.rawQuery(\"SELECT * FROM foo\", null);\nDatabaseUtils.cursorRowToContentValues(cursor, values);\n</code></pre>\n\n<p>Then I get strange result:</p>\n\n<pre><code>values.getAsBoolean(\"mybool\"); // return false - WRONG\nvalues.getAsInteger(\"mybool\"); // return 1 = true - CORRECT\n</code></pre>\n\n<p>I use the code like that to get boolean value:</p>\n\n<pre><code>values.getAsInteger(\"mybool\") != 0; \n</code></pre>\n\n<p>But it's strange.</p>\n\n<p>Why I get always <code>false</code> in the <code>getAsBoolean</code> function? Is there any bug in the <code>ContentValues</code> class? Anyone else having this problem?</p>\n"},{"tags":["android","performance","sqlite","profiling"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":35,"score":2,"question_id":13094931,"title":"How can I find how much time is being spent in the SQLite engine on Android?","body":"<p>We are trying to track down a performance issue in our app when we do a batch of database updates.  Using the Android DDMS Profiler in Eclipse seems to only show the amount of CPU time spent in the java code, it appears to not include the time spent in the SQLite engine.\nThis makes it VERY hard to determine where all the wall-clock time is being spent.</p>\n\n<p>Is there any way to find out how much wall-time is being spent in the various SQLite engine calls?</p>\n"},{"tags":["javascript","android","sqlite","phonegap","opendatabase"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13089357,"title":"Phonegap not picking up transaction function","body":"<p>I am working with a opendatabase with phonegap and everything works fine in Chrome browser on my desktop but when I run it on my android device and click to the button that call insertRecord() it says not with eclipse I get error</p>\n\n<pre><code>10-26 10:37:13.191: E/Web Console(12134): Uncaught ReferenceError: insertRecord is not defined at file:///android_asset/www/index.html:137\n</code></pre>\n\n<p>My code look like this</p>\n\n<pre><code>document.addEventListener(\"deviceready\", onDeviceReady, false);\n\n// PhoneGap is ready\n//\nfunction onDeviceReady() {\n\n\nvar minChange;\nvar pumpBore;\nvar sInches;\nvar sMin;\nvar maxEfficiency;\nvar field;\nvar percent;\nvar calcSlide;\nvar results;\nvar id;\nvar listing;\nvar slider_value;\nvar getMin;\n\nvar dateDay = \"Wed\";\nvar dateNum = \"22\";\nvar date = new Date();\nvar dateDay = date.getDay();\nvar dateNum = date.getDate();\nvar hour = date.getHours();\nvar min = date.getMinutes();\nvar dateTime = hour + \":\" + min;\n\npumpBore = $(\"#pumpBore\").val();\nsInches = $(\"#sInches\").val();\nsMin = $(\"#sMin\").val();\ncalcSlide = $(\"#calcSlide\").val();\nfield = $('#field').val();\nresults = $('#results');\nid = $('#id');\ngetMin = $('#slider-1').val();\n\n// FUNCTION TO CALCULATE AND DISPLAY PRODUCTION\nfunction calculate(sMin) {\n    if (sMin == null)\n        sMin = sMin\n\n    pumpBore = $(\"#pumpBore\").val();\n    sInches = $(\"#sInches\").val();\n    calcSlide = $(\"#calcSlide\").val();\n    field = $('#field').val();\n\n    console.log(\"Calc pump Bore: \" + pumpBore);\n    console.log(\"Calc Inches: \" + sInches);\n    console.log(\"Calc Min: \" + sMin);\n    console.log(\"Field Amount: \" + field);\n    console.log(\"Percentage: \" + percent);\n    console.log('Time: ' + dateTime);\n    maxEfficiency = Math.round(parseFloat(pumpBore) * parseFloat(sInches)\n            * parseFloat(sMin));\n\n    console.log(\"Max Efficiency \" + maxEfficiency);\n    // console.log(calcSlide);\n    $(\"#sMin\").val(sMin);\n    $(\"#barrels\").val(maxEfficiency);\n\n    percent = Math.round(parseFloat(field) / parseFloat(maxEfficiency) * 100);\n\n    $('#percent').val(percent + \"%\");\n\n    console.log(\"========================================\");\n    sMin = $('#sMin').val();\n} // eof calculate\n\nfunction consoleList() {\n    console.log('============================');\n    console.log(\"pump Bore: \" + pumpBore);\n    console.log(\"Stroke Inches: \" + sInches);\n    console.log(\"Strokes Per Minute: \" + $('#sMin').val());\n    console.log(\"Max Efficiancy: \" + maxEfficiency);\n    console.log(\"Field: \" + field);\n    console.log(\"Field %: \" + percent);\n    console.log('Time: ' + dateTime);\n    console.log('Slider Value: ' + slider_value);\n    console.log('============================');\n    console.log(results);\n\n}\n\nvar strokeMin = $('#sMin').val();\nvar createStatement = \"CREATE TABLE IF NOT EXISTS Notes (id INTEGER PRIMARY KEY AUTOINCREMENT, dateDay TEXT, dateNum TEXT, dateTime TEXT, pumpBore TEXT, sInches TEXT, sMin TEXT, maxEfficiency TEXT, field TEXT, prodPercent TEXT)\";\nvar selectAllStatement = \"SELECT * FROM Notes ORDER BY id DESC\";\nvar insertStatement = \"INSERT INTO Notes (dateDay, dateNum, dateTime, pumpBore, sInches, sMin, maxEfficiency, field, prodPercent) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)\";\nvar deleteStatement = \"DELETE FROM Notes WHERE id=?\";\nvar dropStatement = \"DROP TABLE Notes\";\nvar insertValues = \"[pumpBore.value, sInches.value, sMin.value, maxEfficiency.value, field.value, percent.value]\";\nvar testInsertValues = '[\"123\", \"234\", \"567\", \"657\", \"753\", \"2654\"]';\n\nvar db = openDatabase(\"noteList\", \"1.0\", \"Note List\", 500000);\nvar dataset;\ncreateTable();\n\nfunction onError(tx, error) {\n    alert(error.message);\n}\n\nfunction showRecords() {\n    results.html('');\n    db.transaction(function(tx) {\n        tx.executeSql(selectAllStatement, [], function(tx, result) {\n            dataset = result.rows;\n            for ( var i = 0, item = null; i &lt; dataset.length; i++) {\n                item = dataset.item(i);\n\n                listing = '&lt;div class=\"noteContainer\"&gt;'\n                        + '&lt;div class=\"dateContainer\"&gt;'\n                        + '&lt;span id=\"weekDay\" class=\"\"&gt;'\n                        + item['dateDay']\n                        + '&lt;/span&gt;'\n                        + '&lt;span id=\"date\" class=\"\"&gt;'\n                        + item['dateNum']\n                        + '&lt;/span&gt;'\n                        + '&lt;span id=\"time\" class=\"\"&gt;'\n                        + item['dateTime']\n                        + '&lt;/span&gt;'\n                        + '&lt;/div&gt;&lt;!-- eof dateContainer --&gt;'\n                        + '&lt;div class=\"specContainer\"&gt;'\n                        + '&lt;span class=\"\"&gt;pump Bore: '\n                        + item['pumpBore']\n                        + '&lt;/span&gt;'\n                        + '&lt;span class=\"\"&gt;Stroke Length: '\n                        + item['sInches']\n                        + '&lt;/span&gt;'\n                        + '&lt;span class=\"\"&gt;Stroke/Min: '\n                        + item['sMin']\n                        + '&lt;/span&gt;'\n                        + '&lt;span class=\"\"&gt;Barrels: '\n                        + item['maxEfficiency']\n                        + '&lt;/span&gt;'\n                        + '&lt;span class=\"\"&gt;Field Prod: '\n                        + item['field']\n                        + '&lt;/span&gt;'\n                        + '&lt;span class=\"\"&gt;Production %: '\n                        + item['prodPercent']\n                        + '&lt;/span&gt;'\n                        + '&lt;/div&gt;&lt;!-- eof specContainer --&gt;'\n                        + '&lt;div class=\"mailButton\"&gt;'\n                        + '&lt;img src=\"images/mail_Button.png\" alt=\"mail\" /&gt;'\n                        + '&lt;/div&gt;&lt;!-- eof mail --&gt;'\n                        + '&lt;div id=\"\" style=\"clear:both\"&gt;&lt;/div&gt;'\n                        + '&lt;a href=\"#\" onclick=\"deleteRecord('\n                        + item['id']\n                        + ')\"&gt;delete&lt;/a&gt;&lt;/li&gt;';\n                +'&lt;/div&gt;&lt;!-- eof noteContainer --&gt;';\n                console.log(i);\n                results.append(listing);\n            }\n        });\n    });\n}\n\nfunction createTable() {\n    db.transaction(function(tx) {\n        tx.executeSql(createStatement, [], showRecords, onError);\n    });\n}\n\nfunction insertRecord() {\n    db.transaction(function(tx) {\n        // consoleList();\n        console.log(\"The field:\" + field);\n        tx.executeSql(insertStatement, [ dateDay, dateNum, dateTime, pumpBore, sInches, getMin,\n                maxEfficiency, field, percent ], loadAndReset, onError);\n        // (\"Row Inserted!\");\n    });\n}\n\nfunction loadRecord(i) {\n    var item = dataset.item(i);\n    dateDay.value = item['dateDay'];\n    dateNum.value = item['dateNum'];\n    dateTime.value = item['dateTime'];\n    pumpBore.value = item['pumpBore'];\n    sInches.value = item['sInches'];\n    sMin.value = item['sMin'];\n    maxEfficiency.value = item['maxEfficiency'];\n    field.value = item['field'];\n    percent.value = item['prodPercent'];\n    id.value = item['id'];\n}\n\nfunction updateRecord() {\n    db.transaction(function(tx) {\n        tx.executeSql(updateStatement, [ dateDay.value, dateNum.value,\n                dateTime.value, pumpBore.value, sInches.value, sMin.value,\n                maxEfficiency.value, field.value, percent.value ],\n                loadAndReset, onError);\n    });\n}\n\nfunction deleteRecord(id) {\n    db.transaction(function(tx) {\n        tx.executeSql(deleteStatement, [ id ], showRecords, onError);\n    });\n    resetForm();\n}\n\nfunction dropTable() {\n    db.transaction(function(tx) {\n        tx.executeSql(dropStatement, [], showRecords, onError);\n    });\n    resetForm();\n}\n\nfunction loadAndReset() {\n    // alert(listing);\n    resetForm();\n    showRecords();\n}\n\nfunction resetForm() {\n    dateDay.value = '';\n    dateNum.value = '';\n    dateTime.value = '';\n    pumpBore.value = '';\n    sInches.value = '';\n    sMin.value = '';\n    field.value = '';\n    percent.value = '';\n    id.value = '';\n}\n\n$(function() {\n    $('#slider-1').live('change', function(){\n        slider_value = $(this).val()\n        console.log(slider_value)\n        minChange = slider_value;\n        // minChange = 100 - minChange;\n        minChange = Math.round(minChange);\n        console.log(\"Min Change \" + minChange);\n\n        calculate(minChange);\n        // do whatever you want with that value...\n    })\n});\n\n// / Knob Turn Function\n$(function() {\n\n    $('#dialBG, #dialBG2 ').knobKnob({\n        snap : 1,\n        value : -10,\n        turn : function(ratio) {\n            console.log(ratio);\n            //minChange = (ratio * 100);\n            // minChange = 100 - minChange;\n            //minChange = Math.round(minChange);\n            //console.log(\"Min Change \" + minChange);\n\n            //calculate(minChange);\n        }\n    });\n\n});\n\n}\n</code></pre>\n\n<p>I have a link to it as kzoomarketing.com/apps/oilapp/121/ so it can be seen.  On the calculator page the save button in the upper right records all the fields and populates them in the note page.  It works fine in the web browser.</p>\n\n<p>If I change the js functions be wrapped in ondeviceready and run it I get the log cat error mentioned above.</p>\n\n<p>Can anyone help me get this to run on the android device.</p>\n"},{"tags":["objective-c","cocoa-touch","ios","sqlite"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":5188,"score":1,"question_id":5700488,"title":"Insert data from text fields into SQLite database ","body":"<p>I am trying to insert data into my SQLite database. I have imported all the neccassry frameworks and database files nedded for my project. In my controller class xib there are two textfields and a button. I want the data entered into both of the text fields saved in my database when I click on the button. </p>\n\n<p>In my app delagate I have created two functions, one function to append the path of the database, and the other to insert data into the database. In the insert function, I check for certain conditions, i.e., if data gets added, an alert view should be displayed showing the record added, but when I add a new record it always goes into the <code>else</code> block, which is an error.</p>\n\n<pre><code>-(void)checkAndCreateDB {\n    NSString* databaseName = @\"login.sqlite\";\n    NSArray *documentPaths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);\n    NSString *documentsDir = [documentPaths objectAtIndex:0];\n    NSString *databasePath=[documentsDir stringByAppendingPathComponent:@\"login.sqlite\"];\n    databasePath = [documentsDir stringByAppendingPathComponent:databaseName];\n    BOOL success;\n    NSFileManager *fileManager = [NSFileManager defaultManager];\n    success = [fileManager fileExistsAtPath:databasePath];\n    if(success) return;\n    NSString *databasePathFromApp = [[[NSBundle mainBundle] resourcePath] stringByAppendingPathComponent:databaseName];\n    [fileManager copyItemAtPath:databasePathFromApp toPath:databasePath error:nil];\n}\n\n-(void)insertData{\n\n    sqlite3 *database;\n    sqlite3_stmt *statement;\n     NSArray *documentPaths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);\n     NSString *documentsDir = [documentPaths objectAtIndex:0];\n    NSString *databasePath=[documentsDir stringByAppendingPathComponent:@\"login.sqlite\"];\n    if(sqlite3_open([databasePath UTF8String], &amp;database) == SQLITE_OK)\n    {\n\n        NSString *insertSQL = [NSString stringWithFormat: @\"INSERT INTO Loginchk (uname,password) VALUES ('%@',' %@');\",Gunameq,Gpassq];\n        const char *insert_stmt = [insertSQL UTF8String];\n        if(sqlite3_prepare_v2(database, insert_stmt, -1, &amp;statement, nil)== SQLITE_OK)\n        {\n            sqlite3_bind_text(statement, 1, [Gunameq UTF8String], -1, NULL);\n            sqlite3_bind_text(statement, 2, [Gpassq UTF8String], -1, NULL);\n        }\n\n        if(sqlite3_step(statement)==SQLITE_DONE) \n        {\n            UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@\"Add Record\" message:@\"Contact Added\" delegate:self cancelButtonTitle:@\"OK\" otherButtonTitles:nil];    \n            [alert show];\n            [alert release];\n            alert=nil;\n\n        }\n        else \n        {\n            UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@\"record\" message:@\"record not created\" delegate:self cancelButtonTitle:@\"OK\" otherButtonTitles:nil];   \n            [alert show];\n            [alert release];\n            alert=nil;\n        }   \n        // Release the compiled statement from memory\n        sqlite3_finalize(statement);    \n        sqlite3_close(database);\n    }\n}\n</code></pre>\n\n<p>This is my login controller class. Here I have declared a function through which I access my app delegate's functions.</p>\n\n<pre><code>-(IBAction)buttonPressed:(id)sender\n{\n\n    Gpassq=Password.text;\n    Gunameq=Uname.text;\n\n\n    NSLog(@\"%@%@\",Gunameq,Gpassq);\n    AddListAppDelegate *appDelegate =(AddListAppDelegate *)[[UIApplication sharedApplication]delegate];\n    [appDelegate insertData];\n\n}\n</code></pre>\n\n<p>Please solve this problem.</p>\n"},{"tags":["objective-c","sqlite","core-data","null","entities"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":43,"score":1,"question_id":13096182,"title":"Simple retrieving values from CoreData returns null for entities","body":"<p>I have two entities. They are named SP and Code. I have 10 and 5 attributes in each respectively. I have inverse relationships on both the entities. I input the data into the model using the <strong>firefox addon sqlite manager</strong>. So <strong>I DID NOT WRITE</strong> a line like this\nsp.coderelationship = codeObj; or code.sprelationship = spObj; anywhere in the code. Now in a viewcontroller i am retrieving data.\n    self.spArray = [self.managedObjectContext executeFetchRequest:fR error:&amp;error];</p>\n\n<pre><code>for(SP *spObj in self.spArray)\n{\n    NSLog(@\"description is %@\",spObj.sPDescription);\n    Code *codObj = spObj.coderelationship;\n    NSLog(@\"it has value %@\",codObj);\n    NSLog(@\" unique name is %@\",codObj.uniqueCodeName);\n}\n</code></pre>\n\n<p>The output is correct for description. It prints a value \"xyz\". But for the last 2 logs its null.\nMy Entities design</p>\n\n<h2>SP</h2>\n\n<p>-sPDescription\n-sPName\n-sPID\n<strong>Relationship</strong>\n-coderelationship</p>\n\n<hr>\n\n<p>Code\n-codeName\n-codeID\n-codeDate\n<strong>Relationship</strong>\n-sprelationship</p>\n\n<p>If more information is needed let me know. Thanks..</p>\n"},{"tags":["ruby-on-rails","database","sqlite","postgresql","heroku"],"answer_count":8,"favorite_count":9,"up_vote_count":21,"down_vote_count":0,"view_count":6469,"score":21,"question_id":6710654,"title":"How do you easily change from SQLite to PostgreSQL in Rails","body":"<p>I have a rails app that's databases are in SQLite (The dev and production). Since I am moving to heroku, I want to convert my database to PostgreSQL (I think that's how to spell it).</p>\n\n<p>Anyways, I heard that the local, development, database does not need to be changed from SQLite, so I don't need to change that, however, how do I go about changing the production environment from SQLite to PostgreSQL?</p>\n\n<p>Has anyone ever done this before and can help?</p>\n\n<p>P.S. I'm not sure what exactly this process is called, but I've heard about migrating the database from SQLite to PostgreSQL, is that what needs to be done?</p>\n"},{"tags":["android","sqlite","mapactivity"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":988,"score":0,"question_id":9447521,"title":"Creating an SQLite Database to store Geopoints and read them onto MapActivity","body":"<p>i am trying to create a Map Activity and i have been able to successfully have a static string of coordinates to be read from the main activity, however this is hard coded and i wish you insert these coordinates into an SQLite Database and for them to be read.\nI have tried looking around but i simply cant get the answer that i am looking for, and i would grateful if someone could help me out please</p>\n\n<p>Heres my Main Activity - GMapsActivity.java:</p>\n\n<pre><code>    /** Called when the activity is first created. */\n@Override\npublic void onCreate(Bundle savedInstanceState) \n{   \n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.main);\n\n    mapView = (MapView)findViewById(R.id.map_view);\n    mapView.setBuiltInZoomControls(true);\n    //mapView.setStreetView(true);\n    mapController = mapView.getController();\n\n    String coordinates[] = {\"51.52241608253253\",\"-0.1318359375\"};\n    double lat = Double.parseDouble(coordinates[0]);\n    double lng = Double.parseDouble(coordinates[1]);\n    GeoPoint general = new GeoPoint((int) (lat * 1E6), (int) (lng * 1E6) );\n    mapController.setZoom(10);\n    mapController.animateTo(general);\n\n    mapOverlays = mapView.getOverlays();\n    drawable = this.getResources().getDrawable(R.drawable.blue);\n    itemizedOverlay = new NewItemizedOverlay(drawable, this);\n\n    GeoPoint point = new GeoPoint((int)(51.555890943494276*1E6), (int)(-0.39989858865737915*1E6));\n    OverlayItem overlayitem = new OverlayItem(point, \"Greenword Veterinary\" , \"57 Station Approach, South Ruislip, Ruislip, Middlesex, HA4 6SL, 020 8845 8144\");\n    itemizedOverlay.addOverlay(overlayitem);\n\n    GeoPoint point2 = new GeoPoint((int)(51.598707*1E6), (int)(-0.393416*1E6));\n    OverlayItem overlayitem2 = new OverlayItem(point2, \"MediVet Pinner\" , \"2A Pinner Green, Pinner, Middlesex, HA5 2AA, 020 8866 0727\");\n    itemizedOverlay.addOverlay(overlayitem2);\n\n    GeoPoint point3 = new GeoPoint((int)(51.670865*1E6), (int)(-0.397034*1E6));\n    OverlayItem overlayitem3 = new OverlayItem(point3, \"MediVet Watford\" , \"237 Saint Albans Road, Watford, Hertfordshire WD24 5BP, 01923 243 429\");\n    itemizedOverlay.addOverlay(overlayitem3);\n    mapOverlays.add(itemizedOverlay);\n\n    myLocationOverlay = new MyLocationOverlay(this, mapView);\n    mapView.getOverlays().add(myLocationOverlay);\n</code></pre>\n\n<p>And this is my database creator - DatabaseManager.java</p>\n\n<pre><code>package com.javacodegeeks.android.googlemaps;\nimport android.content.Context;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.database.sqlite.SQLiteDatabase.CursorFactory;\nimport android.database.sqlite.SQLiteOpenHelper;\n\npublic class DatabaseManager {\n\npublic static final String KEY_ID = \"_id\";\npublic static final String KEY_LAT = \"vetlat\";\npublic static final String KEY_LONGI = \"vetlongi\";\npublic static final String KEY_NAME = \"vetname\";\npublic static final String KEY_INFO = \"vetinfo\";\n\nprivate static final String DATABASE_NAME = \"myvet.db\";\nprivate static final String DATABASE_TABLE = \"vetLocations\";\nprivate static final int DATABASE_VERSION = 1;\n\nprivate DbHelper ourHelper;\nprivate final Context ourContext;\nprivate SQLiteDatabase ourDB;\n\nprivate static class DbHelper extends SQLiteOpenHelper\n{\n\n    public DbHelper(Context context) \n    {\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\n        // TODO Auto-generated constructor stub\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) \n    {\n        // TODO Auto-generated method stub\n        db.execSQL(\"CREATE TABLE \" + DATABASE_TABLE + \" (\" + \n                KEY_ID + \" INTEGER PRIMARY KEY AUTOINCREMENT, \" + \n                KEY_LAT + \"REAL NOT NULL,\" + \n                KEY_LONGI + \"REAL NOT NULL,\" +\n                KEY_NAME + \"TEXT NOT NULL,\" +\n                KEY_INFO + \"TEXT NOT NULL);\"\n        );\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n        // TODO Auto-generated method stub\n        db.execSQL(\"DROP TABLE IF EXISTS \" + DATABASE_TABLE);\n        onCreate(db);\n    }\n\n}\n\npublic DatabaseManager(Context c)\n{\n    ourContext = c;\n}\n\npublic DatabaseManager open()\n{\n    ourHelper = new DbHelper(ourContext);\n    ourDB = ourHelper.getReadableDatabase();\n    return this;\n}\n\npublic void close()\n{\n    ourHelper.close();\n}\n</code></pre>\n\n<p>}</p>\n\n<p>I am new to Android Programming so i would be grateful is someone could actually show me snippets of code as opposed to general directions since i dont really understand them lol </p>\n\n<p>EDIT:\nI have created database entries in an SQLite browser\nHow would i be able to make the main activity file read the values from that file?</p>\n\n<p>A general idea that the code would try and call the values such as:\nSELECT * FROM the DB \nPut into Array\nthen loop it </p>\n\n<pre><code>points = ((int)([lat_value_from_db1*E6]), ((int)([longi_value_from_db1*E6]);\noverlay = (points, [name_value_from_db], [info_value_from_db]);\nitemizedOverylay.addOverlay(allOverlays);\n</code></pre>\n\n<p>Its just im really not sure how to implement this :/</p>\n\n<p>I would really appreciate any form of help</p>\n\n<p>Thank You in advance </p>\n"},{"tags":["ruby-on-rails","sqlite","migration","schema","habtm"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13081917,"title":"Unable to create a record because join table requires created_at (HABTM + Rails)","body":"<p>Googling for this, I see the Rails core team is working on a solution for Rails 4 but that's a ways away.</p>\n\n<p>Both <code>Users</code> and <code>Circles</code> have a <code>has_and_belongs_to_many</code> relationship to the other.</p>\n\n<p>My schema looks like this:</p>\n\n<pre><code>  create_table \"circles\", :force =&gt; true do |t|\n    t.string   \"name\"\n    t.datetime \"created_at\", :null =&gt; false\n    t.datetime \"updated_at\", :null =&gt; false\n  end\n\n  create_table \"circles_users\", :force =&gt; true do |t|\n    t.integer  \"circle_id\"\n    t.integer  \"user_id\"\n    t.datetime \"created_at\", :null =&gt; false\n    t.datetime \"updated_at\", :null =&gt; false\n  end\n\n  create_table \"users\", :force =&gt; true do |t|\n    t.string   \"name\"\n    t.string   \"email\"\n    t.datetime \"created_at\", :null =&gt; false\n    t.datetime \"updated_at\", :null =&gt; false\n    t.string   \"password\"\n  end\n</code></pre>\n\n<p>But in my code, in my <code>circles_controller</code> when I try to do this: </p>\n\n<pre><code>  def create\n    @circle = Circle.new(params[:circle])\n    @circle.users &lt;&lt; User.find(session[:user].id)\n...\n</code></pre>\n\n<p>I get the following error in my browser: </p>\n\n<p><code>SQLite3::ConstraintException: circles_users.created_at may not be NULL: INSERT INTO \"circles_users\" (\"circle_id\", \"user_id\") VALUES (11, 5)</code></p>\n\n<p>What should I do about <code>created_at</code> and <code>updated_at</code> being false here? </p>\n"},{"tags":["java","android","database","sqlite","class"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":13096241,"title":"Java android development","body":"<p>I'm having some trouble with java. What I want to do is return the result of a table search so that I can manipulate it outside of a class that's handling database transaction. Do I return the cursor?\nCan I return it?\nI was also hoping to do this on a separate thread as well. \nIn c++ I would send pointers to the object handling the database fill it and then I wouldn't even need to return anything.</p>\n\n<p>My main problem is that I wanted to return a string array after looking at the database. But I don't know the size that the string will be. So I can't declare it outside the database class?</p>\n\n<p>How do I get the return of my database class so I can have them in variables outside the database class?\nSorry typing on phone couldn't type examples. </p>\n"},{"tags":["android","database","sqlite"],"answer_count":3,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":89,"score":0,"question_id":13092140,"title":"How to create database in android with existing data?","body":"<p>I have problem with sqlite database. I want create database in android with existing records. \nI create database: </p>\n\n<pre><code>public class PrzyslowiaArabskie  {\n\nprivate static final String TABLE_NAME = \"tabela_przyslowia\";\nprivate static final String DATABASE_NAME = \"przyslowiadb\";\nprivate static final int DATABASE_VERSION = 1;\npublic static final String KEY_ID = \"id\";\npublic static final String KEY_PRZYSLOWIE = \"przyslowie\";\n\nprivate DbHelper myHelper;\nprivate final Context myContext;\nprivate SQLiteDatabase myDatabase;\n\n\n\n\nprivate static class DbHelper extends SQLiteOpenHelper {\n\n    public DbHelper(Context context) {\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\n        // TODO Auto-generated constructor stub\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        // TODO Auto-generated method stub\n         db.execSQL(\"CREATE TABLE \" + TABLE_NAME + \" (\" + \n                   KEY_ID + \" INTEGER PRIMARY KEY AUTOINCREMENT, \" + \n                 KEY_PRZYSLOWIE + \" TEXT NOT NULL);\" );\n\n\n    } \n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n        // TODO Auto-generated method stub\n        db.execSQL(\"DROP TABLE IF EXISTS \" + TABLE_NAME);\n\n        onCreate(db);\n    }\n\n}\npublic PrzyslowiaArabskie(Context c) {\n    myContext = c;\n}\npublic PrzyslowiaArabskie open() {\n    myHelper = new DbHelper(myContext);\n    myDatabase = myHelper.getWritableDatabase();\n    return this;\n}\npublic void close() {\n    myHelper.close();\n}\npublic long createEntry(String przyslowie) {\n    ContentValues cv = new ContentValues();\n    cv.put(KEY_PRZYSLOWIE, przyslowie);\n    return myDatabase.insert(TABLE_NAME, null, cv);\n\n}\npublic String getData() {\n    // TODO Auto-generated method stub\n    String[] columns = new String[] { KEY_ID, KEY_PRZYSLOWIE };\n    Cursor c = myDatabase.query(TABLE_NAME, columns, null, null, null, null, null);\n    String result = \"\";\n\n    int iRow = c.getColumnIndexOrThrow(KEY_ID);\n    int iPrzyslowie = c.getColumnIndexOrThrow(KEY_PRZYSLOWIE);\n\n\n    for(c.moveToFirst(); !c.isAfterLast(); c.moveToNext()) {\n        result = result + c.getString(iRow) + \" \" + c.getString(iPrzyslowie) + \"\\n\";\n    }\n\n    return result;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>What can I do if I want that create database with existing records. How to add records together with create database?</p>\n"},{"tags":["asp.net","sqlite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13094007,"title":"Iterate through list to insert into SQLite Table","body":"<p>I am retrieving a list of service calls using an AJAX call to web service.  I need to iterate through each service call returned by the web service and insert it into a SQLite table.  I am struggling with the timing in my loop.  For example, if there are two service calls, two lines will be inserted into the table but both will be the data from the second call.  I have tried moving my variable declaration and value assignments around and if they are inside the transaction then all the fields come back undefined.  Outside the transaction and all lines insert as the last record.</p>\n\n<pre><code>$.ajax({\n    type: \"POST\",\n    dataType: \"json\",\n    contentType: \"application/json; charset=utf-8\",\n    url: \"MyService.asmx/GetCalls\",\n    data: '{ user:\"' +  user +'\"}',\n    success: function (data) {\n        saveCalls(data.d);\n    },\n    error: function (xhr) {\n        var err = eval(\"(\" + xhr.responseText + \")\");\n        alert(\"Retrieve Calls: \" + err.Message);\n    }\n});\n\nfunction saveCalls(result) {\n   var insertString = \"Insert Into Calls Values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)\";\n\n   var call, po, adrsCode, status, dispDate, dispTime, desc, customer, address, city, state, zip, phone, equipment, tracking, srvType, statDesc;\n\n   $.each(result, function () {\n       call = this.CallNumber;\n       po = this.PoNumber;\n       adrsCode = this.AdrsCode;\n       status = this.Status;\n       dispDate = this.DispatchedDate;\n       dispTime = this.DispatchedTime;\n       desc = this.Description;\n       customer = this.Customer;\n       address = this.Address;\n       city = this.City;\n       state = this.State;\n       zip = this.Zip;\n       phone = this.Phone;\n       equipment = this.Equipment;\n       tracking = this.Tracking;\n       srvType = this.SrvType;\n       statDesc = this.StatDesc;\n       db.transaction(function (tx) {\n\n          tx.executeSql(insertString, [call, po, adrsCode, status, dispDate, dispTime, desc, customer, address,\n            city, state, zip, phone, equipment, tracking, srvType, statDesc],\n            onSqlSuccess, onSqlError);\n\n    });\n});\n</code></pre>\n\n<p>}</p>\n\n<p>EDIT: Code that worked for those who have the same issue:</p>\n\n<pre><code>function saveCalls(result) {\n   var insertString = \"Insert Into Calls(CallNumber, PoNumber, AdrsCode, SrvStat, DispatchDate, DispatchTime, SvcDescription, CustNmbr, Address, \"\n            + \"City, State, Zip, Phone, Equipment, Tracking, SrvType, StatDesc) \";\n\n   $.each(result, function () {\n\n       insertString = insertString + \"Select '{0}' as CallNumber,'{1}' as PoNumber,'{2}' as AdrsCode,'{3}' as SrvStat,'{4}' as DispatchDate,'{5}' as DispatchTime,'{6}' as SvcDescription,'{7}' as CustNmbr,'{8}' as Address,'{9}' as City,'{10}' as State,'{11}' as Zip,'{12}' as Phone,'{13}' as Equipment,'{14}' as Tracking,'{15}' as SrvType,'{16}' as StatDesc Union \"\n                    .format(this.CallNumber, this.PoNumber, this.AdrsCode, this.Status, this.DispatchedDate, this.DispatchedTime,\n                        this.Description, this.Customer, this.Address, this.City, this.State, this.Zip, this.Phone, this.Equipment, \n                        this.Tracking, this.SrvType, this.StatDesc);\n\n   });\n\n   db.transaction(function(tx) {\n      tx.executeSql(insertString.substring(0, insertString.length - 6), [],\n        onSqlSuccess, onSqlError);\n   });\n</code></pre>\n\n<p>}</p>\n"},{"tags":["c++","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":40,"score":1,"question_id":13078404,"title":"Sqlite no longer opens Google Drive database","body":"<p>The path to the Google Drive folder can be found in the file <strong><code>...\\AppData\\Local\\Google\\Drive\\sync_config.db</code></strong>, which is an SQLITE3 database. My Windows C++ program used to get this data successfully, but recently it stopped working, both on my PC and for customers that I've heard from. The database must still be valid, because I can use the <strong><code>sqlite3</code></strong> command-line utility to open the database and successfully query it with the exact query that I'm trying to use programatically. </p>\n\n<p>What happens in the code as shown below is that it never gets past <code>**sqlite3_prepare_v2**</code>, which returns error code <strong><code>26</code></strong>. This code generally indicates that the file is not a valid database. So why does the command-line utility work?</p>\n\n<p>Any ideas what could have changed that would suddenly break this code?</p>\n\n<pre><code>extern CString GoogleDrivePath()\n{\n  CString sPath = \"\";\n  CString sDbPath;\n  char acValue[1024];\n  DWORD lSize = sizeof(acValue);\n  struct _stat fstat;\n  sqlite3 *pDb;\n  sqlite3_stmt *pStmt;\n  int iSts;\n  char acSelect[] = \"SELECT data_value FROM data WHERE entry_key = 'local_sync_root_path';\";\n  const unsigned char *pPath;\n\n  DWORD lLen = GetEnvironmentVariable(\"LOCALAPPDATA\", acValue, lSize);\n  if (lSize &lt;= 0) return(sPath);\n\n  sDbPath = acValue;\n  sDbPath += \"\\\\Google\\\\Drive\\\\sync_config.db\";\n  if (_stat(sDbPath, &amp;fstat) &lt; 0) return(sPath);\n\n  iSts = sqlite3_open_v2(sDbPath, &amp;pDb, SQLITE_OPEN_READONLY, NULL);\n  if (iSts) return(sPath);\n  iSts = sqlite3_prepare_v2(pDb, acSelect, -1, &amp;pStmt, NULL);\n  if (!iSts)  {\n    iSts = sqlite3_step(pStmt);\n    if (iSts == SQLITE_ROW) {\n      pPath = sqlite3_column_text(pStmt, 0);\n      if (pPath != NULL)  {\n        sPath = pPath;\n      }\n    }\n    sqlite3_finalize(pStmt);\n  }\n\n  sqlite3_close(pDb);\n  return(sPath);\n}\n</code></pre>\n"},{"tags":["ios","image","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13091483,"title":"SQLite save and load image iOS","body":"<p>I'm trying to save the Image and Load it in a tableView, for saving in my SQLite file I do this : </p>\n\n<pre><code>-(void)InsertRecords:(NSData *)pic{\n..... // Open my SQLite file\nNSString *insertSQL = [NSString stringWithFormat: @\"INSERT INTO myMovies (movieImage) VALUES (\\\"%@\\\")\", pic];\n...\nconst char *insert_stmt = [insertSQL UTF8String];\n...\nsqlite3_bind_blob(statement, 1, [pic bytes], [pic length], NULL);\n...\n</code></pre>\n\n<p>Which pic is a NSData and i got NSLog of it. and gave me the codes. Also for loading I used this code : </p>\n\n<pre><code>int length = sqlite3_column_bytes(sqlStatement, 1);\nMyMovie.image = [NSData dataWithBytes:sqlite3_column_blob(sqlStatement, 1) length:length];\n</code></pre>\n\n<p>and NSLoged from it and it had the similar structure of the NSData but with different data ! It completely changed ! Am I doing something wrong ? </p>\n"},{"tags":["iphone","objective-c","multithreading","sqlite"],"answer_count":6,"favorite_count":4,"up_vote_count":4,"down_vote_count":0,"view_count":7468,"score":4,"question_id":745565,"title":"How to properly call SQLite functions from background thread on iPhone?","body":"<p>I'm using an SQLite database in my iPhone app. At startup, there are some database actions that I want to perform in a separate thread. (I'm doing this mainly to minimize startup time.)</p>\n\n<p>Occasionally/randomly, when these database calls are made from the background thread, the app will crash with these errors:</p>\n\n<pre><code>2009-04-13 17:36:09.932 Action Lists[1537:20b] *** Assertion failure in -[InboxRootViewController getInboxTasks], /Users/cperry/Dropbox/Projects/iPhone GTD/GTD/Classes/InboxRootViewController.m:74\n2009-04-13 17:36:09.932 Action Lists[1537:3d0b] *** Assertion failure in +[Task deleteCompletedTasksInDatabase:completedMonthsAgo:], /Users/cperry/Dropbox/Projects/iPhone GTD/GTD/Classes/Data Classes/Task.m:957\n2009-04-13 17:36:09.933 Action Lists[1537:20b] *** Terminating app due to uncaught exception 'NSInternalInconsistencyException', reason: 'Error: failed to prepare statement with message 'library routine called out of sequence'.'\n2009-04-13 17:36:09.933 Action Lists[1537:3d0b] *** Terminating app due to uncaught exception 'NSInternalInconsistencyException', reason: 'Error: failed to prepare statement with message 'library routine called out of sequence'.'\n</code></pre>\n\n<p>Although I can't reliably reproduce the error, I've convinced myself that it is due to the fact that SQLite functions are being called in both active threads. How <em>should</em> I be calling SQLite functions from a separate thread? Is there a trick I'm missing? I'm pretty new to the iPhone, SQLite, and Objective-C, so it might be something that's obvious to you, but not so obviouse to me.</p>\n\n<p>Here are some code samples.</p>\n\n<p>MainApplication.m:</p>\n\n<pre><code>- (void)applicationDidFinishLaunching:(UIApplication *)application {\n\n    // Take care of jobs that have to run at startup\n    [NSThread detachNewThreadSelector:@selector(startUpJobs) toTarget:self withObject:nil];\n}\n\n// Jobs that run in the background at startup\n- (void)startUpJobs {\n\n    // Anticipating that this method will be called in its own NSThread, set up an autorelease pool.\n    NSAutoreleasePool *pool = [[NSAutoreleasePool alloc] init];\n\n    // Get user preferences\n    NSUserDefaults *defaults = [NSUserDefaults standardUserDefaults];\n\n    // This Class Method calls SQLite functions and sometimes causes errors.\n    [Task revertFutureTasksStatus:database];\n\n\n    [pool release];\n}\n</code></pre>\n\n<p>Task.m:</p>\n\n<pre><code>static sqlite3_stmt *revert_future_statement = nil;\n\n+ (void) revertFutureTasksStatus:(sqlite3 *)db {\n\n    if (revert_future_statement == nil) {\n    \t// Find all tasks that meet criteria\n        static char *sql = \"SELECT task_id FROM tasks where ((deleted IS NULL) OR (deleted=0)) AND (start_date &gt; ?) AND (status=0) AND (revert_status IS NOT NULL)\";\n        if (sqlite3_prepare_v2(db, sql, -1, &amp;revert_future_statement, NULL) != SQLITE_OK) {\n            NSAssert1(0, @\"Error: failed to prepare update statement with message '%s'.\", sqlite3_errmsg(db));\n        }\n    }\n\n    // Bind NOW to sql statement\n    NSDate *now = [[NSDate alloc] init];\n    NSDateFormatter *formatter = [[NSDateFormatter alloc] init];\n    [formatter setDateFormat:@\"yyyy-MM-dd\"];\n    NSString *nowString = [formatter stringFromDate:now];\n    sqlite3_bind_text(revert_future_statement, 1, [nowString UTF8String], -1, SQLITE_TRANSIENT);\n    [now release];\n    [formatter release];\n\n    // We \"step\" through the results - once for each row.\n    while (sqlite3_step(revert_future_statement) == SQLITE_ROW) {\n\n        // Do things to each returned row\n\n    }\n\n    // Reset the statement for future reuse.\n    sqlite3_reset(revert_future_statement);\n}\n</code></pre>\n"},{"tags":["sql","performance","sqlite","select","insert"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":13090775,"title":"Optimize this insert SQL Query","body":"<p>I've been trying to find out why my SQLite database is performing relatively slowly (4 seconds to insert 1500 records) and I think I've narrowed it down to this query. Is there a way to optimise this? </p>\n\n<pre><code> \"INSERT OR REPLACE INTO MainFrame(WID,PName,PAlias,PModel,FriendID, UniverseID, GalaxyID) VALUES\n  ((SELECT WID FROM Worlds WHERE WName= ?),\n  @pname,\n  @palias,\n  @pmodel,\n  (SELECT FriendID FROM Friend WHERE FriendName = @eFriend),\n  (SELECT UniverseID FROM Universes WHERE UniverseName = @eUniverse),\n  (SELECT GalaxyID FROM Galaxies WHERE GalaxyName = @eGalaxy ))\";\n</code></pre>\n\n<p>As you can see, there are a few <code>Selects</code> being used in an insert query. The reason for this is because the loop inserts data into other tables (<code>WID</code>, <code>FriendID</code>, <code>UniverseID</code>, <code>GalaxyID</code>) so I don't have that data until it's been inserted. I need this data to insert into the <code>MainFrame</code> table but this feels like a brute force approach. Any advice?</p>\n"},{"tags":["php","sql","sqlite","pdo"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":34,"score":3,"question_id":13092430,"title":"get array from sqlite pdo join query with php","body":"<p>I would like to get a multidimensional array from my sqlite tables, with join.\nI have two tables:</p>\n\n<pre>\n<code>\nTABLES:\n\n- projects -----------        - images ------------------\n- id                 -        - id                      -\n- title              -        - filename                -\n- images (has many)  -        - project_id (belongs to) -\n----------------------        ---------------------------\n</code>\n</pre>\n\n<p>and I want the following array</p>\n\n<pre>\n<code>\nPROJECT_ARRAY\n{\n   id:     1\n   title:  My Project\n   images: IMAGES_ARRAY\n   {\n        image1.jpg\n        image2.jpg\n        image3.jpg\n   }\n}\n</code>\n</pre>\n\n<p>how do I join my tables with sql query?</p>\n\n<p>this does not work:</p>\n\n<pre>\n<code>\nSELECT   project.title,        image.filename\nFROM     project JOIN image\nON       image.project_id = project.id;\n</code>\n</pre>\n"},{"tags":["ruby-on-rails","sqlite","rspec","sqlite3","spork"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13041040,"title":"SQLite exception with RSpec, Spork and Database Cleaner","body":"<p>Works great for about 5 runs, but then all tests fail with:</p>\n\n<pre><code>ArgumentError: prepare called on a closed database:           SELECT name\n             FROM sqlite_master\n             WHERE type = 'table' AND NOT name = 'sqlite_sequence'\n</code></pre>\n\n<p>Doesn't happen without Spork, and works fine if I restart Spork. Doesn't happen after a certain number of runs, but changes each time.</p>\n\n<p>Any ideas what could cause this?</p>\n\n<p>EDIT:</p>\n\n<p>It only happens when changing the controller code.</p>\n\n<p>spec_helper.rb:</p>\n\n<pre><code>require 'spork'\nrequire 'simplecov'\nSimpleCov.start\n\nSpork.prefork do\n  ENV['RAILS_ENV'] ||= 'test'\n\n  require File.expand_path('../../config/environment', __FILE__)\n  require 'rspec/rails'\nend\n\nSpork.each_run do # This code will be run each time you run your specs.\n  require 'capybara/rspec'\n  require 'capybara/rails'\n\n  # Requires supporting ruby files with custom matchers and macros, etc,\n  # in spec/support/ and its subdirectories.\n  Dir[Rails.root.join('spec/support/**/*.rb')].each {|f| require f}\n\n  RSpec.configure do |config|\n    config.mock_with :rspec\n\n    # Remove this line if you're not using ActiveRecord or ActiveRecord fixtures\n    config.fixture_path = \"#{::Rails.root}/spec/fixtures\"\n\n    # If you're not using ActiveRecord, or you'd prefer not to run each of your\n    # examples within a transaction, remove the following line or assign false\n    # instead of true.\n    config.use_transactional_fixtures = true\n\n    # If true, the base class of anonymous controllers will be inferred\n    # automatically. This will be the default behavior in future versions of\n    # rspec-rails.\n    config.infer_base_class_for_anonymous_controllers = false\n\n    config.include RequestHelpers, :type =&gt; :request\n\n    config.before :suite do\n      DatabaseCleaner.strategy = :truncation\n      DatabaseCleaner.clean_with :truncation\n    end\n\n    config.before :each do\n      DatabaseCleaner.start\n    end\n\n    config.after :each do\n      DatabaseCleaner.clean\n    end\n\n    config.include(MailerHelpers)\n    config.before(:each) { reset_email }\n  end\nend\n</code></pre>\n"},{"tags":["sql","sqlite","date"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":60,"score":2,"question_id":13091000,"title":"SQLite compare dates","body":"<p>I have this SQL-Statement:</p>\n\n<pre><code>SELECT Geburtsdatum FROM Kunde\nWHERE Geburtsdatum BETWEEN '1993-01-01' AND '2000-01-01'\n</code></pre>\n\n<p>but I get some weird results, like: 2.02.1990</p>\n\n<p>'Geburtsdatum' is a DATE</p>\n\n<p>Any suggestions or solutions?</p>\n\n<p>my table-structure:</p>\n\n<pre><code>CREATE TABLE Kunde (\n  Kunde_ID INTEGER NOT NULL ,\n  Card INTEGER ,\n  Vorname VARCHAR(255) NOT NULL ,\n  Nachname VARCHAR(255) NOT NULL ,\n  Ort VARCHAR(255) NOT NULL ,\n  Strasse VARCHAR(255) NOT NULL ,\n  Postleitzahl VARCHAR(10) NOT NULL ,\n  Mail VARCHAR(255) ,\n  Telefonnummer VARCHAR(255) ,\n  Geburtsdatum DATE NOT NULL ,\n  Beitrittsdatum DATE NOT NULL ,\n  Geschlecht INTEGER NOT NULL ,\n  Land VARCHAR(255) NOT NULL DEFAULT 'Österreich' ,\n  Bankname VARCHAR(255) ,\n  Bankleitzahl VARCHAR(255) ,\n  Kontonummer VARCHAR(255) ,\n  GroupID INTEGER NOT NULL ,\n  Besucher INTEGER ,\n  Access BOOLEAN ,\n  image BLOB NULL ,\n  writeDate DATE ,\n  drinkAbo BOOLEAN ,\n  PRIMARY KEY (Kunde_ID) )\n</code></pre>\n"},{"tags":["android","sqlite","quiz"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":13092329,"title":"multiple choice quiz using sqlite in android","body":"<p>Im just trying to create an android app that is having some 100 multiple choice questions.\nSo i just stored the questions, 4 options and the correct answer in Sqlite Database Broswer then i connected with my app.. I want to select a question with 4 options randomly..what my problem now is...\n 1. I dont know how to select only those 5 columns(question.4 option) of a record randomly..\n 2. If i can select any question(with 5 columns) randomly..when the user clicks submit button i need to display the 6th column(correct answer)..i dont know how to do this..</p>\n\n<p>Can anyone please give me some idea...??</p>\n"},{"tags":["sqlite","sql-view","fts3"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":11,"score":0,"question_id":13090919,"title":"SQLite View with functions?","body":"<p>So let's say I have an FTS[34] table <code>data</code>, and a regular table <code>info</code>, that are bound together by a <code>info.ID = data.rowid</code>. I have a view <code>master</code> that represents this join, that I use to query overall information.\nHere are the <code>CREATE TABLE</code> statements:</p>\n\n<pre><code>CREATE VIRTUAL TABLE data USING fts4(\n    Name,\n    Keywords,\n    Aliases\n    Description);\n\nCREATE TABLE info (\n    ID INTEGER PRIMARY KEY,\n    -- A bunch of other columns...\n    );\n\nCREATE VIEW master AS SELECT\n    info.ID AS ID\n    data.Name AS Name,\n    data.Keywords AS Keywords,\n    data.Aliases AS Aliases,\n    data.Description AS Description,\n    -- A bunch of other columns...\nFROM info JOIN data ON info.ID = data.rowid;\n</code></pre>\n\n<p>Now what I want to do is create another view that instead of selecting the entire cell from the <code>data</code> table, selects the result of the SQLite <a href=\"http://www.sqlite.org/fts3.html#section_4_2\" rel=\"nofollow\">snippet</a> function as performed on each column of the <code>data</code> table:</p>\n\n<pre><code>CREATE VIEW search AS SELECT\n    master.*,\n    snippet(data '&lt;b&gt;', '&lt;/b&gt;', '...', 0) AS sn_Name,\n    snippet(data '&lt;b&gt;', '&lt;/b&gt;', '...', 1) AS sn_Keywords,\n    snippet(data '&lt;b&gt;', '&lt;/b&gt;', '...', 2) AS sn_Aliases,\n    snippet(data '&lt;b&gt;', '&lt;/b&gt;', '...', 3) AS sn_Description\nFROM master JOIN data ON master.ID = data.rowid;\n</code></pre>\n\n<p>However, when I execute that statement from within Python I get the following:</p>\n\n<pre><code>sqlite3.OperationalError: near \"'&lt;b&gt;'\": syntax error\n</code></pre>\n"},{"tags":["android","sqlite","tutorials","ormlite"],"answer_count":2,"favorite_count":3,"up_vote_count":8,"down_vote_count":1,"view_count":3932,"score":7,"question_id":6645665,"title":"What is a good tutorial for using ORMLite with SQLite and Android","body":"<p>I am looking for a good introductory tutorial on how to use ORMLite with SQLite and Android.  A qucick google search did not produce any usefull information.</p>\n"},{"tags":["sql","database","sqlite","fts3"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":362,"score":1,"question_id":4176260,"title":"How to store binary data in SQLite tables with FTS3 enabled?","body":"<p>I'm transitioning an application from using a normal SQLite database to one with full text search enabled. It has several BLOB columns that store things like digital signatures, which obviously do not need to be indexed. I've read that other people solve this by moving all non-TEXT data to a separate, non-FTS3 table that they inner join with the FTS3 table when necessary, but this is a very inelegant solution. Is there no way to simply exclude certain columns from indexing?</p>\n"},{"tags":["sqlite","memory-management","sqlite3","indexes"],"answer_count":1,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":42,"score":2,"question_id":11412781,"title":"Does SQLite favour keeping indexes in its cache when possible?","body":"<p>I'm working in a memory constrained environment with SQLite 3. </p>\n\n<p>I'll be setting the PRAGMA cache size to be (say) 1MB.</p>\n\n<p>Assume I have 2MB of data, and 100Kb of index data. </p>\n\n<p>Will SQLite attempt to keep the indexes in its memory cache over and above the data itself (leaving 900Kb of data in cache)?  </p>\n\n<p>If not, how are the indexes accessed from a memory perspective?</p>\n\n<p>Thanks. </p>\n"},{"tags":["mysql","objective-c","ios","sqlite"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":13085875,"title":"iOS development. Mysql? Sqlite? what's the best way?","body":"<p>I need to create an app linked with a remote database! Is mysql the best solution? Is Sqlite an only-local solution?</p>\n\n<p>I use the following method and I would to know if it is the best way!</p>\n\n<pre><code>NSString *evento = @\"1\";\nNSString *filtro = @\"CAC2\";\n\nNSString *strURL = [NSString   \nstringWithFormat:@\"http://www.xxxxxxx.com/Scripts/Evento/WIGriceviTipo.php?  \nevento=%@&amp;filtro=%@\",evento, filtro];\n\nNSData *dataURL = [NSData dataWithContentsOfURL:\n               [NSURL URLWithString:strURL]];\n\nNSString *strResult = [[NSString alloc] initWithData:dataURL   \nencoding:NSUTF8StringEncoding];\n\nstrResult = [strResult stringByTrimmingCharactersInSet:[NSCharacterSet       \nwhitespaceAndNewlineCharacterSet]];\n\nmostra.text=strResult;\n\nNSLog(@\"%@\", strResult);\n</code></pre>\n"},{"tags":["c#","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":54,"score":1,"question_id":13085950,"title":"\"lag\"-like function","body":"<p>i have much log-data in an sqlite-database. Every minuten has one row with a primary key which is an datetime-field and a few sensors (all integer).<br>\nI display the values as a graph over a time period. If i display all values it would takes ages to display. So i decided to display not all rows of the period but only if the following row is at least a calculated time span later than ne previous. But the descision if the row will be displayed is made after getting the results from sqlite. Is there a posibility to tell sqlite that the following row should have a timestamp at least the calculated period later than the previous (perhaps like \"lag()\" in oracle sql) ?<br>\nThanks.</p>\n"},{"tags":["objective-c","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":4,"down_vote_count":3,"view_count":34,"score":1,"question_id":13085874,"title":"Store image path in sqlite DB","body":"<p>I need to read images from the path stored in the sqlite DB,and display it in UIimageview.\nAs of now reading the image name from the sqlite db ,used the following code. </p>\n\n<pre><code>objDynaMoPreviewImageView = [[UIImageView alloc]initWithFrame:CGRectMake(0, 0,1024,768)];\n    UIImage *img  = [UIImage imageNamed:[objImage objectAtIndex:0]];\n        //NSLog(@\"%@\",[objImage objectAtIndex:swatch.tag]);\n        objDynaMoPreviewImageView.image = img;\n        [objDynaMoProductInformationView addSubview:objDynaMoPreviewImageView];\n</code></pre>\n"},{"tags":["ios","sqlite","insert"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":13060166,"title":"SQLite iOS Insert data","body":"<p>Im trying to insert just one name to my sqlite file. im using this code but it's not working :/ </p>\n\n<pre><code>-(void)InsertRecords:(NSMutableString *) txt{\n    if(addStmt == nil) {\n        const char *sql = \"INSERT INTO myMovies (movieName)  VALUES(?) \";\n        if(sqlite3_prepare_v2(database, sql, -1, &amp;addStmt, NULL) != SQLITE_OK)\n            NSAssert1(0, @\"Error while creating add statement. '%s'\", sqlite3_errmsg(database));\n        else\n            sqlite3_bind_text(addStmt, 1, [txt UTF8String], -1, SQLITE_TRANSIENT);\n    }\n    if(SQLITE_DONE != sqlite3_step(addStmt))\n\n        NSAssert1(0, @\"Error while inserting data. '%s'\", sqlite3_errmsg(database));\n    else\n        sqlite3_reset(addStmt);\n}\n</code></pre>\n"},{"tags":["mysql","sqlite","migration"],"answer_count":15,"favorite_count":42,"up_vote_count":63,"down_vote_count":0,"view_count":39743,"score":63,"question_id":18671,"title":"Quick easy way to migrate SQLite3 to MySQL?","body":"<p>Anyone know a quick easy way to migrate a SQLite3 database to MySQL?</p>\n"},{"tags":["vb.net","entity-framework","sqlite","datasource"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":12975032,"title":"Can't use SQLite Entity Framework as DataGridView DataSource","body":"<p>I've built an Entity Framework Model from a simple SQLite database using the 'Entity Data Model Wizard'</p>\n\n<p>This works fine and I've been programming aginst it for a while.</p>\n\n<p>However, I've just tried to use this SQLite entity framework model as a DataSource for a DataGridView and it cannot see it as a datasource. Everything suggests that this should be possible. Creating a DataSet from the same database works and the DataGridView can use this as a datasource.</p>\n\n<p>I would prefer to use the entity framework but can't understand why it's not seeing it as a valid datasource.</p>\n\n<p>Please help!</p>\n\n<p>As requested here is the app.config file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;configuration&gt;\n  &lt;configSections&gt;&lt;/configSections&gt;\n  &lt;system.data&gt;\n    &lt;DbProviderFactories&gt;\n  &lt;add name=\"SQLite Data Provider\" invariant=\"System.Data.SQLite\" description=\".Net Framework Data Provider for SQLite\" type=\"System.Data.SQLite.SQLiteFactory, System.Data.SQLite\" /&gt;\n&lt;/DbProviderFactories&gt;\n  &lt;/system.data&gt;\n  &lt;system.diagnostics&gt;\n    &lt;sources&gt;\n      &lt;!-- This section defines the logging configuration for My.Application.Log --&gt;\n  &lt;source name=\"DefaultSource\" switchName=\"DefaultSwitch\"&gt;\n    &lt;listeners&gt;\n      &lt;add name=\"FileLog\" /&gt;\n      &lt;!-- Uncomment the below section to write to the Application Event Log --&gt;\n      &lt;!--&lt;add name=\"EventLog\"/&gt;--&gt;\n    &lt;/listeners&gt;\n  &lt;/source&gt;\n&lt;/sources&gt;\n&lt;switches&gt;\n  &lt;add name=\"DefaultSwitch\" value=\"Information\" /&gt;\n&lt;/switches&gt;\n&lt;sharedListeners&gt;\n  &lt;add name=\"FileLog\" type=\"Microsoft.VisualBasic.Logging.FileLogTraceListener, Microsoft.VisualBasic, Version=8.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a, processorArchitecture=MSIL\" initializeData=\"FileLogWriter\" /&gt;\n  &lt;!-- Uncomment the below section and replace APPLICATION_NAME with the name of your application to write to the Application Event Log --&gt;\n  &lt;!--&lt;add name=\"EventLog\" type=\"System.Diagnostics.EventLogTraceListener\" initializeData=\"APPLICATION_NAME\"/&gt; --&gt;\n&lt;/sharedListeners&gt;\n  &lt;/system.diagnostics&gt;\n  &lt;startup useLegacyV2RuntimeActivationPolicy=\"true\"&gt;\n    &lt;supportedRuntime version=\"v4.0\" sku=\".NETFramework,Version=v4.0\" /&gt;\n  &lt;/startup&gt;\n  &lt;connectionStrings&gt;\n  &lt;add name=\"simpleEntities\" connectionString=\"metadata=res://*/GEM.Classes.test1.csdl|res://*/GEM.Classes.test1.ssdl|res://*/GEM.Classes.test1.msl;provider=System.Data.SQLite;provider connection string=&amp;quot;data source=E:\\simple.db3&amp;quot;\" providerName=\"System.Data.EntityClient\" /&gt;\n  &lt;/connectionStrings&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>As a test I've used a very simple database:</p>\n\n<pre><code>CREATE TABLE SETTINGS (\nKEY VARCHAR(50) PRIMARY KEY NOT NULL ,\nVALUE VARCHAR(255)  NULL DEFAULT NULL);\n</code></pre>\n"},{"tags":["sql","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":23,"score":-2,"question_id":13083638,"title":"how to assign null to a field in sqlite","body":"<p>I would like to assign null to a field in sqlite but not getting anywhere with this:</p>\n\n<pre><code>update t set n=null where n=0;\n</code></pre>\n"},{"tags":["iphone","sqlite","ios6"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":13027131,"title":"How perform Some task In Background in iOS","body":"<p>I want perform some database related task in background for that I have added code</p>\n\n<pre><code>dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT,\n                                             0), ^(void) {\n        [lclDB  deleteRecoredwithBlock:^(BOOL success) {\n            if (success) {\n                NSLog(@\"Deletion Succesful...\");\n            }\n        }];\n    });\n</code></pre>\n\n<p>deleteRecord function internally calls number of methods sequentially to perform delete operation in local database.now I have wait until all delete operation is performed.but I want to do this whole delete operation in background.if any one known please help me to figure out these problem.</p>\n"},{"tags":["android","sqlite","file-conversion"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":47,"score":1,"question_id":13068774,"title":"SQlite database problematically convert into Excel file format in Android.","body":"<p>I am developing android app where SQlite as a database.I want to explorer my android app database in to excel file format problematically.so that normal people can read their database easily.If it is possible than please give me hint or not than help me to convert any other file format like text file or other. thanks for voting... </p>\n"},{"tags":["c#","sqlite","windows-phone-7"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13082657,"title":"how to give get and set for autoincrement field in sqlite","body":"<p>I'm Developing Database Application in wp7 using sqlite in which i set sno as autoincrement primarykey.In That Application i use helper utility and another class where i can use get and set property.if i use get and set property for sno it always set to 0 which throws exception when i inserted the record for second time as <strong>Constraint Failed</strong>.If I remove the Sno Property from the class its working fine,but i was not able display the sno in listbox as it is not present in the class and if i only use the get property The exception was thrown as</p>\n\n<blockquote>\n  <p>Error 2 'Sample.Data.Case.SNo.get' must declare a body because it is not marked abstract or extern. Automatically implemented properties must define both get and set accessors.</p>\n</blockquote>\n\n<p>i don't know how to solve this problem.please provide me a solution </p>\n"},{"tags":["database","android","sqlite","encryption"],"answer_count":5,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":2004,"score":2,"question_id":2609749,"title":"Need suggestions for a good way to encrypt/decrypt data stored in SQLite database on Android","body":"<p>I have some sensitive data that is stored in SQLite for an Android app. I need to be able to encrypt when persisting but then also decrypting when deserializing from the database too. Not sure what my options are on Android for doing this?</p>\n"},{"tags":["java","android","sqlite"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":537,"score":0,"question_id":5695213,"title":"Android update row problems","body":"<p>In the app we are putting together I am trying to update rows from different Activities but it is throwing an error or not updating anything because I can't seem to get the current rowId once I move from one activity to the next. Any thoughts would be great.</p>\n\n<p>This comes from the Activity:</p>\n\n<pre><code>Cursor value;\n\ndb.open();\nlong rowId = value.getLong(value.getColumnIndex(\"_id\"));\nboolean id = db.updateA(rowId, a1, a2, a3, a4);\ndb.close();\n</code></pre>\n\n<p>If I set the \"rowId = 1\" it updates that row just fine but I want to get the row that was just created in a different activity.</p>\n\n<p>This is in the DBHelper file:</p>\n\n<pre><code>public boolean updateA(long rowId, String a1,String a2, String a3, String a4) {\nContentValues args = new ContentValues();\n\nargs.put(C_A1, a1);\nargs.put(KEY_A2, a2);\nargs.put(KEY_A3, a3);\nargs.put(KEY_A4, a4);\nreturn db.update(TABLE, args, KEY_ROWID + \"=\" + rowId, null) &gt; 0;\n}\n</code></pre>\n"},{"tags":["ipad","sqlite","sql-update"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":36,"score":-1,"question_id":13075944,"title":"Xcode Update Sqlite Record","body":"<p>i have a problem with updating my sqlite database so i would be very grateful if anyone could help me. I tried with every possible example and tutorial but nothing. In my sqlite table i have 9 attributes, but i need to update only three .   </p>\n\n<pre><code>const char *sql = \"UPDATE studentNotes SET title = ? , note = ? , existingAudioNote = ? , audioNoteName = ? , audioNoteDuration = ? , existingPdf = ? , pdfFileName = ? WHERE id = ?\";\n\nif(sqlite3_open([[AppDelegate getDatabasePath]UTF8String], &amp;database) == SQLITE_OK){\n\n    if (sqlite3_prepare_v2(database, sql, -1, &amp;updateStmt, NULL) != SQLITE_OK){\n        NSAssert1(0, @\"Error while creating add statement. '%s'\", sqlite3_errmsg(database));\n    }\n    else {\n\n        sqlite3_bind_text(updateStmt, 1, [noteTitle UTF8String], -1, SQLITE_TRANSIENT);\n        sqlite3_bind_text(updateStmt, 2, [noteText UTF8String], -1, SQLITE_TRANSIENT);\n        sqlite3_bind_text(updateStmt, 3, [noteExistingAudioNote UTF8String], -1, SQLITE_TRANSIENT);\n        sqlite3_bind_text(updateStmt, 4, [noteAudioName UTF8String], -1, SQLITE_TRANSIENT);\n        sqlite3_bind_text(updateStmt, 5, [audioNoteDuration UTF8String], -1, SQLITE_TRANSIENT);\n        sqlite3_bind_text(updateStmt, 6, [existingPdf UTF8String], -1, SQLITE_TRANSIENT);\n        sqlite3_bind_text(updateStmt, 7, [pdfFileName UTF8String], -1, SQLITE_TRANSIENT);\n        if (SQLITE_DONE != sqlite3_step(updateStmt)){\n            NSAssert1(0, @\"Error while updating data. '%s'\", sqlite3_errmsg(database));\n        }\n\n\n        sqlite3_reset(updateStmt);\n    }\n}\nsqlite3_close(database);\n</code></pre>\n\n<p>i tried with this code, but when i call this method from my class to the view, it doesnt work. Any ideas ? </p>\n"},{"tags":["iphone","objective-c","sqlite","uiimageview"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13081836,"title":"show image from sqlite database in uiimageview","body":"<p>I have stored image path in sqlite and I successfully fetched image path from the database. I stored it in a string. I print the path in the console which is as follows:</p>\n\n<pre><code>2012-10-26 11:54:37.888 valvolineApp[1211:207] Image path:/Users/shufflelabs/Library/Application Support/iPhone Simulator/5.0/Applications/6B6D67DB-92AB-48C5-856B-861423FB22F4/valvolineApp.app/11_fuel system service.jpg\n</code></pre>\n\n<p>but now how to show the respective image in the uiimageview?</p>\n\n<p>I am very confusing here.</p>\n\n<p>share the idea if you have</p>\n\n<p>thanx...</p>\n"},{"tags":["sqlite","triggers","sqlite3"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":5296345,"title":"How to get the name of the table that was changed in sqlite?","body":"<p>Does anyone here knows how to get the name \nof the table that was changed,updated or deleted\nin SQLite?..i found the function changes() and totalChanges()\nbut they only return the number of database rows that were \nchanged or inserted or deleted by the most recently completed SQL statement.</p>\n"},{"tags":["android","sql","sqlite","phonegap"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":305,"score":1,"question_id":10531941,"title":"Duplicate Entries in SQLite","body":"<p>I am fetching and storing phone numbers and contact names in a SQLite DB from an Android phone. Now my problem is that whenever I refresh/reload the app the SQL entries (phone and contacts) are inserted again and again giving rise to duplicate entries. How to stop this, I am using Phonegap, by the way!</p>\n\n<p>I am using this simple code to populate the DB </p>\n\n<pre><code>tx.executeSql('CREATE TABLE IF NOT EXISTS details (id INTEGER PRIMARY KEY AUTOINCREMENT, name TEXT, phone TEXT)');\n</code></pre>\n\n<p>But it is causing double entries.</p>\n"},{"tags":["sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13080721,"title":"Find the best car deal","body":"<p>The actual problem is about optimizing a cache database, I've re-phrased it into a simple scenario:</p>\n\n<p>A car dealer wants to get rid of old cars, and lists them for sale in a table:</p>\n\n<pre><code>| Car_Number | Car_Year  | Car_Price |\n|------------|-----------|-----------|\n|1001........|1967.......|29000......|\n|1002........|1930.......|29050......|\n|1003........|2001.......|30000......|\n|1004........|1980.......|10000......|\n|1005........|1967.......|75000......|\n|1006........|2005.......|80000......|\n|1007........|1995.......|21000......|\n|1008........|1920.......|55000......|\n</code></pre>\n\n<p>A customer wants to select maximum number of cars within a fixed budget, With older cars preferred over newer ones, or the cars with older number in case two cars have same year. </p>\n\n<p>The only way I can currently think about this problem is obtaining a sorted view and manually adding up prices in a loop until the sum hits budget limit. Then, return a list of numbers of cars added.</p>\n\n<p>what would be the minimal set of SQL commands required for above scenario ? </p>\n"},{"tags":["mysql","sqlite"],"answer_count":10,"favorite_count":3,"up_vote_count":26,"down_vote_count":0,"view_count":11303,"score":26,"question_id":3890518,"title":"Convert MySQL to SQlite","body":"<p>Is it possible to convert from MySQL to SQLite with a free tool on windows?</p>\n"},{"tags":["apache","sqlite","permissions","pdo","httpd"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":564,"score":0,"question_id":4477051,"title":"Minimum permissions needed to allow PHP PDO / Apache access to SQLite database in /var/www","body":"<p><strong>SOLVED:</strong> See my answer below</p>\n\n<p>I'm experiencing the same issue that Austin Hyde experienced in <a href=\"http://stackoverflow.com/questions/3319112/pdo-sqlite-read-only-database\">this question</a>.  I have an SQLite database that I can read, but not write. </p>\n\n<p>Specifically, I'm getting <strong>General error: 8 attempt to write a readonly database in /var/www/html/green/database.php on line 34</strong></p>\n\n<p>My issue diverges from his as follows:</p>\n\n<p>-As recommended in the answers to his question, I've made the database world-writeable, as well as the folder in which the database resides, with no luck.  I've also set the owner of the database to \"apache\" as well as \"nobody\", without success.</p>\n\n<p>-I've set the entire path set 777, beginning at /var (which I hate to do), no joy.</p>\n\n<p>-I've messed about with SELinux (I'm running Fedora 12) to let httpd do whatever it wants; nothing. </p>\n\n<p>I feel that I'm almost certainly missing something simple here, but I'm out of ideas.</p>\n\n<p><strong>What permissions need to be on an SQLite file in order to allow PHP / Apache to read and write to it via PDO?</strong></p>\n\n<p>Edit: Another <a href=\"http://stackoverflow.com/questions/2039218/why-can-i-use-select-but-not-insert-on-a-sqlite-database-in-php\">related question</a>, adding weight to the hypothesis that I've got a write permissions conflict somewhere.</p>\n"},{"tags":["android","database","sqlite","uninstall"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":3,"view_count":70,"score":-1,"question_id":13067585,"title":"What happens if an android app, which creates database, is then uninstalled?","body":"<p>I developed and install an android application which create a sqlite database.\nIf I uninstall this app the database will be automatically dropped?</p>\n"},{"tags":["android","database","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":250,"score":0,"question_id":9499320,"title":"database insertion working well on android emulator but not on device","body":"<p>I have created a database using <a href=\"http://www.codeproject.com/Articles/119293/Using-SQLite-Database-with-Android\" rel=\"nofollow\">this tutorial</a>.</p>\n\n<p>When I insert the values in my table, it works on the emulator and I have seen the values are inserted correctly. But when I run my application on a device, it gives me this error:</p>\n\n<pre><code>02-29 17:30:45.341: E/Database(3300):android.database.sqlite.SQLiteException:no such   table: recently_used: , while compiling: INSERT INTO recently_used(iconsset_name, icon_name) VALUES(?, ?); \n02-29 17:30:45.341: E/Database(3300):   at android.database.sqlite.SQLiteCompiledSql.native_compile(Native Method) \n02-29 17:30:45.341: E/Database(3300):at   android.database.sqlite.SQLiteCompiledSql.compile(SQLiteCompiledSql.java:92) \n02-29 17:30:45.341: E/Database(3300):at android.database.sqlite.SQLiteCompiledSql.&lt;init&gt;(SQLiteCompiledSql.java:65)\n02-29 17:30:45.341: E/Database(3300):   at android.database.sqlite.SQLiteProgram.&lt;init&gt;(SQLiteProgram.java:83) \n02-29 17:30:45.341: E/Database(3300):   at android.database.sqlite.SQLiteStatement.&lt;init&gt;  (SQLiteStatement.java:41)\n</code></pre>\n\n<p>Here is my database class.</p>\n\n<pre><code>public class DBHelpter extends SQLiteOpenHelper{\n\n    private static final String DATABASE_NAME = \"DatabaseName.db\";\n\n    public static final String ICONS_SET_TABLE_NAME = \"iconset\";\n    public static final String ID_ICONS_SET = \"_id\";\n    public static final String NAME_ICONS_SET =\"name\";\n    public static final String SERVER_ID_ICONS_SET = \"serverid\";\n    public static final String PRODUCT_ID_ICONSET = \"productid\";\n\n    public static final String ICON_TABLE_NAME = \"icons\";\n    public static final String ID_ICONS = \"_id\";\n\n    public static final String SERVER_ICON_ID = \"serverid\";\n    public static final String ICONSET_ID_ICONS = \"iconsetid\";\n\n    public static final String RECENTLY_USED_TABLE_NAME = \"recently_used\";\n    public static final String ICONS_NAME_RECENTLY = \"icon_name\";\n    public static final String ICONSSET_NAME_RECENTLY = \"iconsset_name\";\n    public static final String RECENTLY_ICONSET_ID = \"_id\";\n\n\n    public static final int DATABASE_VERSION_NO = 3;\n    public Context mContext = null;\n\n    public static final String mIconsSetQuery = \"CREATE TABLE \"+ICONS_SET_TABLE_NAME + \"(\" + ID_ICONS_SET +\" INTEGER PRIMARY KEY AUTOINCREMENT,\" + NAME_ICONS_SET +\" TEXT,\" + SERVER_ID_ICONS_SET +\" INTEGER,\" + PRODUCT_ID_ICONSET +\" TEXT);\";\n    public static final String mIcons = \"CREATE TABLE \"+ ICON_TABLE_NAME + \"(\" + ID_ICONS+ \" INTEGER PRIMARY KEY  AUTOINCREMENT,\"+ SERVER_ICON_ID + \" INTEGER,\"+ICONSET_ID_ICONS + \" INTEGER);\";\n    public static final String recently_table_query = \"CREATE TABLE \"+ RECENTLY_USED_TABLE_NAME + \"(_id INTEGER PRIMARY KEY AUTOINCREMENT, icon_name TEXT,iconsset_name TEXT);\";\n\n    public DBHelpter(Context context) {\n\n        super(context, DATABASE_NAME, null, DATABASE_VERSION_NO);\n        mContext = context;\n    }\n\n    @Override\n    public synchronized void close() {\n        super.close();\n    }\n\n    @Override\n    public synchronized SQLiteDatabase getReadableDatabase() {\n        return super.getReadableDatabase();\n    }\n\n    @Override\n    public synchronized SQLiteDatabase getWritableDatabase() {\n        return super.getWritableDatabase();\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n\n        db.execSQL(mIconsSetQuery);\n        db.execSQL(mIcons);\n        db.execSQL(recently_table_query);\n\n    }\n\n    @Override\n    public void onOpen(SQLiteDatabase db) {\n        super.onOpen(db);\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n        db.execSQL(\"DROP TABLE IF EXISTS \" + ICONS_SET_TABLE_NAME);\n        db.execSQL(\"DROP TABLE IF EXISTS \" + ICON_TABLE_NAME);\n        db.execSQL(\"DROP TABLE IF EXISTS \" + RECENTLY_USED_TABLE_NAME);\n\n        onCreate(db);\n    }\n}\n</code></pre>\n\n<p>Here is the method i am using.</p>\n\n<pre><code>public void recentlyUsed(RecentlyUsedIcons recentlyUsedIcons) {\n     values.put(DBHelpter.ICONS_NAME_RECENTLY, recentlyUsedIcons.getIcon_name());\n     values.put(DBHelpter.ICONSSET_NAME_RECENTLY, recentlyUsedIcons.getIconSet_name());\n     mDatabase.insert(DBHelpter.RECENTLY_USED_TABLE_NAME, null, values);\n}\n</code></pre>\n"}]}
{"total":16516,"page":6,"pagesize":100,"questions":[{"tags":["jquery","xml","database","html5","sqlite"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":231,"score":1,"question_id":8746021,"title":"Parsing XML to html5-database with jquery","body":"<p>I am trying to import a XML file into an html5-db like this: (before I <code>initDatabase</code> and <code>createTables</code>).</p>\n\n<pre><code>$.ajax({\n    type: \"GET\", url: \"xml/pois_small.xml\", dataType: \"xml\",\n      success: function(xml) {\n        $(xml).find('sixcms_article').each(function(){\n            var id = $(this).find('field[container$=\"content\"]').text();\n            var name = $(this).find('title').text();\n            var street = $(this).find('field[name$=\"street\"]').text();\n            DEMODB.transaction(function (transaction) {\n                transaction.executeSql(\"INSERT INTO page(id, name, street) VALUES (?, ?, ?)\", [id[0], name[1], street[2]]);\n            });  \n        });\n    }\n});\n</code></pre>\n\n<p>But it's not working. I am searching for a solution for 4 days now, so you are my last chance to get this job done.</p>\n"},{"tags":["android","eclipse","query","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":41,"score":2,"question_id":13078835,"title":"SQLite \"no such table\"","body":"<p>I've made an Adnroid program in Eclipse that reads a csv file and inputs the info into an SQLite database, and using</p>\n\n<pre><code>dbCursor = database.query(DATABASE_TABLE, new String[]{KEY_ROWID, KEY_ITEMTYPE, KEY_QUANTITY},  null, null, null, null, null);  \n\n    int iRow = dbCursor.getColumnIndex(KEY_ROWID);\n    int iType = dbCursor.getColumnIndex(KEY_ITEMTYPE);\n    int iQuantity = dbCursor.getColumnIndex(KEY_QUANTITY);\n\n        for(dbCursor.moveToFirst(); !dbCursor.isAfterLast(); dbCursor.moveToNext()){\n            allData = allData + \" \" + dbCursor.getString(iRow) + \"\\t \" + dbCursor.getString(iType) + \"\\t\\t\\t \" + dbCursor.getString(iQuantity) + \"\\n\";      \n        }\n</code></pre>\n\n<p>and then printing out allData in a textview box has worked just fine.</p>\n\n<p>Then I wanted to use </p>\n\n<pre><code>dbCursor = database.rawQuery(\"SELECT KEY_ROWID , SUM(KEY_ITEMTYPE) FROM DATABASE_TABLE GROUP BY KEY_ROWID\", null);          \nfor(dbCursor.moveToFirst(); !dbCursor.isAfterLast(); dbCursor.moveToNext()){\n\n    allDataSum = allDataSum + \" \" + dbCursor.getString(0);\n} //I know this will probably not print what I want correctly but that's a problem for another day\n</code></pre>\n\n<p>When I try to print this I get the error \"10-25 22:06:35.016: I/Database(1911): sqlite returned: error code = 1, msg = no such table: DATABASE_TABLE\". </p>\n\n<p>I then opened DDMS File Explorer and copied the database onto my desktop and then tried viewing the database with a command tool but again got an error, \"SQL error: no such table: inventory\".</p>\n\n<p>How can the emulator show me what I want to see from .query() (but not from .rawQuery) when apparently there is no table in the database? Everything about I use the query and rawQuery is identical, so it's not a case of not opening the db for rawQuery or something like that. </p>\n"},{"tags":["c#","sqlite","dll","reference"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":47,"score":1,"question_id":13077440,"title":"SQLite DLL fails to load from WPF app","body":"<p>I've done some research on this problem and have seen a handful of possible solutions, but nothing that has worked for me.</p>\n\n<blockquote>\n  <p>Could not load file or assembly 'System.Data.SQLite.dll' or one of its\n  dependencies. The specified module could not be found.</p>\n</blockquote>\n\n<p>I have a WPF application that uses SQLite. On my development machine (Windows 7, 64-bit, Visual Studio 2010), everything works just fine. Over in the QA department, everything works fine. But on the build machine (Windows Server 2008, 64-bit) and over in customer service (32-bit), it gives the error.</p>\n\n<p>My .sln consists of 3 projects - two .exe and one lib (used by both .exe projects and containing the SQLite logic). All 3 have 2 configurations, Debug and Release, and each version compiles to x86. The SQLite dll is in the execution directory.</p>\n\n<p>I have 3 System.Data.SQLite entries in my GAC, which has been verified as why I'm having success on my computer but not certain others, not that I know why it wouldn't be using the dlls found in the executing directory. All GAC entries are version 1.0.66.0, have the same public key token, and are associated with MSIL, x86, and AMD64, respectively. Removing the files from the GAC allowed me to reproduce the error until I changed the project references to \"copy local,\" at which time it again worked on my computer (and still not on the others).</p>\n\n<p>Not sure how smart this was, but I decided to attempt a dynamic load of the dll (while still using references in my projects), checking whether I was running in a 32-bit or 64-bit environment, and using Assembly.LoadFrom to load the SQLite dll for the correct bits. That code executes successfully and goes for the 32-bit version on my 64-bit machine, which I assume is because of the x86 compile platform. Regardless, it hasn't changed the error I see on the other machines.</p>\n\n<p>Suggestions as to how to resolve this issue?</p>\n\n<p><strong>edited: reflect results after removing references from the GAC</strong></p>\n"},{"tags":["sql","query","sqlite","count","nested"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":84,"score":3,"question_id":13059892,"title":"simple sql query with count","body":"<p>I'm using SQLite.\nI need an help for an easy issue.\nHere's my three tables:</p>\n\n<pre><code>--------------\nproblem\n--------------\nid (primary key)\nquestion_id (foreign key)\n\n--------------\nquestion\n--------------\nid (primary key)\nanswer_id (foreign key)\n\n--------------\nanswer\n--------------\nid (primary key)\n</code></pre>\n\n<p>I would like to get ALL problems that have at least N answers in every question of a problem. I'll give you an example: </p>\n\n<pre><code>-------\nproblem\nid \n1\n2\n\n\n-------\nquestion \nid   problem_id\n1    1\n2    1\n3    1\n4    2\n\n-------\nanswer\nid   question_id\n1    1\n2    1\n3    1\n4    2\n5    2\n6    3\n7    4\n8    4\n</code></pre>\n\n<p>If n=2, my result should be problem_id=2.</p>\n\n<p>I've tried this:</p>\n\n<pre><code>   select distinct question.problem_id \n   from answer, question\n   where answer.question_id = question.id\n   group by answer.question_id\n   having count(*) &gt;= 2\n</code></pre>\n\n<p>but it doesn't work because it gets problems with at least one question with at least 2 answers. All questions must satisfy that condition.</p>\n\n<p>Any problems?</p>\n"},{"tags":[".net","sql-server","sqlite"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":35,"score":2,"question_id":13076923,"title":"Copying data from sqlite to SQL Server","body":"<p>Is there a way in C# without reading into a datatable to copy a sqlite table to SQL Server?</p>\n\n<p>The sqlite database is in memory and contains millions of rows so I don't want to copy it to a datatable unless absolutely necessary.</p>\n\n<p>thanks\nKevCri</p>\n"},{"tags":["iphone","sqlite"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":85,"score":0,"question_id":12907565,"title":"how to disable re-login in iphone","body":"<p>I have developed an app which is related with <strong>signing in to an account</strong> and people can also get registered in my app, since those user info will be stored in a <strong>SQLite database</strong>.</p>\n\n<p>The problem is that, when the user <strong>logs out</strong> of the account and then <strong>re-logs in</strong>, the app asks the user to login again. I dont want this to happen, as it should remember the user name and password and should <strong>login automatically</strong>. </p>\n\n<p>Does anyone know how to get this done?</p>\n"},{"tags":["android","sqlite","upgrade","data-loss"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":62,"score":0,"question_id":13041062,"title":"Android SQLite Upgrade without losing data","body":"<p>I have created a SQLite database successfully and it works fine. However when the onUpgrade method is called, I'd like to do so without losing data. The app I'm developing is a quiz app. Simply, when the onCreate method is called I create and prepopulate a database with questions, answers etc. The last column is whether they have set the question as a favourite or not. What I would like to do is that when the onUpgrade method is called, I'd like to temporarily save that one column, drop the whole database, recreate it with any edits I've made to old questions and add any new questions then re-add back the questions that they set as favourites.</p>\n\n<p>So one option I tried was the following:</p>\n\n<pre><code>db.execSQL(\"ALTER TABLE quiz RENAME TO temp_quiz\");\nonCreate(db);\ndb.execSQL(\"INSERT INTO quiz (favouries) SELECT favourites FROM temp_quiz\");\ndb.execSQL(\"DROP TABLE IF EXISTS temp_quiz\");\n</code></pre>\n\n<p>However this doesn't work owing to the fact INSERT INTO just adds new rows rather than replacing the existing rows. I have also tried REPLACE INTO, INSERT OR REPLACE INTO and </p>\n\n<pre><code>db.execSQL(\"INSERT INTO quiz (_id, favouries) SELECT _id, favourites FROM temp_quiz\");\n</code></pre>\n\n<p>of which none work. </p>\n\n<p>Currently I do have it set up to work by altering the name of the table, calling the onCreate(db) method and then setting up a cursor which reads each row and uses the db.update() method as shown below:</p>\n\n<pre><code>int place = 1;\nint TOTAL_NUMBER_OF_ROWS = 500;\n\nwhile (place &lt; TOTAL_NUMBER_OF_ROWS) {\n\nString[] columns = new String[] { \"_id\", ..........., \"FAVOURITES\" };\n// not included all the middle columns\n\nCursor c = db.query(\"temp_quiz\", columns, \"_id=\" + place, null, null, null, null);\n\nc.moveToFirst(); \n\nString s = c.getString(10);\n// gets the value from the FAVOURITES column\n\n\nContentValues values = new ContentValues(); \nvalues.put(KEY_FLAG, s);\n\nString where = KEY_ROWID + \"=\" + place;\n\ndb.update(DATABASE_TABLE, values, where, null);\n\nplace++;\n\nc.close();\n\n}\n</code></pre>\n\n<p>However whilst this works it is extremely slow and will only get worse as my number of questions increases. Is there a quick way to do all this? </p>\n\n<p>Thank you! P.S. Ideally it should only update the row if the row is present. So if in an upgrade I decide to remove a question, it should take this into account and not add a new row if the row doesn't contain any other data. It might be easier to get it to remove rows that don't have question data rather than prevent them being added. </p>\n"},{"tags":["java","android","sqlite","foreign-keys","foreign-key-relationship"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":20,"score":1,"question_id":13074282,"title":"Obtain Key SQLite Android","body":"<p>I have two tables in which the second table has a foreign key which is defined as table 1's primary key. Under the add operation how can I reference the newly added table 1 key to use as table 2's foreign key? </p>\n\n<pre><code>// Project Table columns names\nprivate static final String KEY_ID = \"id\"; // Primary, integer\nprivate static final String KEY_NAME = \"name\"; // Unique, text\n\n// Images Table column names\nprivate static final String KEY_IM_ID = \"id\"; // Primary, integer\nprivate static final String IM_URI = \"uri\"; // text\nprivate static final String PROJ_IMAGE_ID = \"proImgId\"; // foreign for Projects Table\n\npublic void addProject(Project project) {\n\n    SQLiteDatabase db = this.getWritableDatabase();\n\n    ContentValues values_PT = new ContentValues(); // PROJECTS TABLE\n    ContentValues values_IT = new ContentValues(); // IMAGES TABLE\n\n    values_PT.put(KEY_NAME, project.getName()); // project name\n    // does the KEY ID get added on its own?\n\n    values_IT.put(IM_URI, project.getURI()); // image uri\n            values_IT.put(PROJ_IMAGE_ID, ????????); \n    }\n</code></pre>\n\n<p>PROJ_IMAGE_ID needs to have KEY_ID's value, however I do not know how retrieve it. Is there a way to do this?</p>\n"},{"tags":["sql","database","sqlite","postgresql","greatest-n-per-group"],"answer_count":2,"favorite_count":13,"up_vote_count":31,"down_vote_count":1,"view_count":23282,"score":30,"question_id":3800551,"title":"SQL: Select first row in each GROUP BY group?","body":"<p>As the title suggests, I'd like to select the first row of each set of rows grouped with a <code>GROUP BY</code>.</p>\n\n<p>Specifically, if I've got a \"purchases\" table that looks like this:</p>\n\n<pre>\n> SELECT * FROM purchases:\nid | customer | total\n 1 | Joe      | 5\n 2 | Sally    | 3\n 3 | Joe      | 2\n 4 | Sally    | 1\n</pre>\n\n<p>I'd like to query for \"the id of the largest purchase made by each customer. Something like this:</p>\n\n<pre>\n> SELECT FIRST(id), customer, FIRST(total)\n. FROM purchases\n. GROUP BY customer\n. ORDER BY total DESC;\nFIRST(id) | customer | FIRST(total)\n        1 | Joe      | 5\n        2 | Sally    | 3\n</pre>\n"},{"tags":["java","android","database","eclipse","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":33,"score":2,"question_id":13072854,"title":"Deleting an entry in a SQLite database in android","body":"<p>My name is Michael, and I am writing an android application that will serve as a very basic class schedule app. So far, I have been able to write the program so that I am able to create and add new classes to the database, however I cannot seem to figure out how to remove a selected entry from the database. The button that saves the entries is defined as follows:</p>\n\n<pre><code>&lt;Button\n        android:id=\"@+id/save\"\n        android:layout_width=\"fill_parent\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"Save\" /&gt;\n</code></pre>\n\n<p>and the listener that it activates is:</p>\n\n<pre><code>private View.OnClickListener onSave=new View.OnClickListener() {\n        public void onClick(View v) {\n            String type=null;\n\n            switch (types.getCheckedRadioButtonId()) {\n                case R.id.math:\n                    type=\"math\";\n                    break;\n                case R.id.cs:\n                    type=\"cs\";\n                    break;\n                case R.id.pe:\n                    type=\"pe\";\n                    break;\n                case R.id.elective:\n                    type=\"elective\";\n                    break;\n            }\n\n            if (restaurantId==null) {\n                helper.insert(name.getText().toString(),\n                                            address.getText().toString(), type,\n                                            notes.getText().toString());\n            }\n            else {\n                helper.update(restaurantId, name.getText().toString(),\n                                            address.getText().toString(), type,\n                                            notes.getText().toString());\n            }\n\n            finish();\n        }\n    };\n</code></pre>\n\n<p>Where the 'insert()' method is the function in my helper class that adds the entry.</p>\n\n<p>The specific problem is that I am having trouble writing the 'remove()' function in the helper class. I have tried using the getWritableDatabase.delete() function, however I am having trouble finding the right parameters. Any point in the right direction would be a big help to me. Thank you in advance.</p>\n\n<p>If it helps at all, this is the insert() function:</p>\n\n<pre><code>public void insert(String name, String address,\n            String type, String notes) {\n        ContentValues cv=new ContentValues();\n\n        cv.put(\"name\", name);\n        cv.put(\"address\", address);\n        cv.put(\"type\", type);\n        cv.put(\"notes\", notes);\n\n        getWritableDatabase().insert(\"restaurants\", \"name\", cv);\n    }\n</code></pre>\n"},{"tags":["objective-c","ios","sqlite","core-data","nspredicate"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":140,"score":1,"question_id":7734724,"title":"NSPredicate, whitespaces in CoreData. How to trim in predicate?","body":"<p>I have a CoreData/SQLite application in which I have \"Parent Categories\" and \"Categories\". I do not have control over the data, some of the \"Parent Categories\" values have trailing white spaces.</p>\n\n<p>I could use <code>CONTAINS</code> (or I should say it works with <code>CONTAINS</code> but this is something I can not use). For example I have 2 entries, MEN and MENS. If I use <code>CONTAINS</code> I will return both records, you can see how this would be an issue.</p>\n\n<p>I can easily trim on my side, but the predicate will compare that with the database and will not match. So my question is how can I account for whitespaces in the predicate, if possible at all.</p>\n\n<p>I have a category \"MENS\" which someone has selected in the application, and it is compared against \"MENS   \" in the database.</p>\n"},{"tags":["sqlite","ms-access","union"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":36,"score":1,"question_id":13071901,"title":"MS Access: Union query: near \"(\" syntax error; no paranthesis used","body":"<p>I am using MS Access 2010 and I have the following query</p>\n\n<pre><code>SELECT id FROM car\n\nUNION\n\nSELECT id FROM user\n</code></pre>\n\n<p>When I try to run it, Access says \"ODBC-query failed. near \"(\": syntax error (1)(#1)\".\nHowever as you can see, there is no single paranthesis in the query.</p>\n\n<p>When I run the query in MySQL it works just fine. The tables are linked to from a sqlite source.</p>\n\n<p>Any input is appreciated.</p>\n\n<p>PS: Of course the original query which was much more complicated. But as I tried to reduce the error I ended up with this simple query which also doesn't work.</p>\n"},{"tags":["iphone","objective-c","ios","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":104,"score":1,"question_id":13029765,"title":"iOS :Issue with bookmarking SQL database","body":"<p>I have created a multi lingual dictionary app which reads several databases , I have a problem with bookmaring... In the app's MainViewController I have an action menu which users select dictionaries. so I have created a key for these dictionaries to recognizing which dictionary is selected . Here is my code :</p>\n\n<p><strong>Reading Data Base</strong></p>\n\n<pre><code>- (NSString *) getDBPath\n{\n    NSInteger kValue = [[[NSUserDefaults standardUserDefaults] stringForKey:@\"Bv\"] intValue];\n\n    NSString *documentsDir = [[NSString alloc] init];\n    NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory , NSUserDomainMask, YES);\n    documentsDir = [paths objectAtIndex:0];\n\n\n    switch (kValue) {\n        case 1:\n             documentsDir = [[NSBundle mainBundle]pathForResource:@\"eg-pr\" ofType:@\"sqlite\"];\n            break;\n\n            case 2:\n             documentsDir = [[NSBundle mainBundle]pathForResource:@\"pr-eng\" ofType:@\"sqlite\"];\n        default:\n            break;\n    }\n\n    return documentsDir;\n}\n</code></pre>\n\n<p>the problem is I can not bookmark any word on the device !! what is the problem ???</p>\n\n<p>here is dictionary changing function :</p>\n\n<pre><code>- (void)eng_pr\n{\n\n    [[NSUserDefaults standardUserDefaults] setObject:[NSNumber numberWithInt:1] forKey:@\"Bv\"];\n    [[NSUserDefaults standardUserDefaults] synchronize];\n\n    dbClass.viewController = self;\n    self.searchbar.placeholder = @\"Search\";\n    [myTable reloadData];\n}\n</code></pre>\n\n<p>and bookmarking :</p>\n\n<pre><code>-(void) setBookMark:(NSInteger)oid {\n\n    sqlite3_stmt    *statement;\n\n    const char *dbpath = [[self getDBPath] UTF8String];\n\n    if (sqlite3_open(dbpath, &amp;database) == SQLITE_OK)\n    {\n        NSString *SetFavSQL = [NSString stringWithFormat: @\"UPDATE DIC SET bookmark=1 WHERE id=\\\"%d\\\"\", oid];\n        //      NSLog(@\"%@\",SetFavSQL);\n        const char *SetFav_stmt = [SetFavSQL UTF8String];\n\n        sqlite3_prepare_v2(database, SetFav_stmt, -1, &amp;statement, NULL);\n        if (sqlite3_step(statement) != SQLITE_DONE)\n        {\n\n        }\n        sqlite3_finalize(statement);\n        sqlite3_close(database);\n    }\n\n}\n</code></pre>\n\n<p>EDITED :</p>\n\n<p><strong>SEARCHING FUNCTION</strong></p>\n\n<pre><code>- (void)searchWord:(NSString *)txt{\n\n    NSMutableArray *DB_Array = [[NSMutableArray alloc] init];\n\n\n    NSString *dbPath = [[NSString alloc] initWithString: [self getDBPath]];\n\n    if (sqlite3_open([dbPath UTF8String], &amp;database) == SQLITE_OK) {\n\n\n        NSString *sql =[NSString stringWithFormat:@\"SELECT * FROM DIC Where Name LIKE \\'%@%%\\' order by NAME LIMIT 30\",txt];\n\n        sqlite3_stmt *compiledStatement;\n\n        if(sqlite3_prepare_v2(database, [sql UTF8String] , -1, &amp;compiledStatement, NULL) == SQLITE_OK) {\n            while(sqlite3_step(compiledStatement) == SQLITE_ROW) {\n\n                NSInteger oid = sqlite3_column_int(compiledStatement, 0);\n\n                const char* f1 = (const char*)sqlite3_column_text(compiledStatement, 1);\n                NSString *oName = f1 == NULL ? nil : [[NSString alloc] initWithUTF8String:f1];\n\n                const char* f2 = (const char*)sqlite3_column_text(compiledStatement, 2);\n                NSString *oMean = f2 == NULL ? nil : [[NSString alloc] initWithUTF8String:f2];\n\n\n                const char* f3 = (const char*)sqlite3_column_text(compiledStatement, 3);\n                NSString *oPron = f3 == NULL ? nil : [[NSString alloc] initWithUTF8String:f3];\n\n                NSInteger bm = sqlite3_column_int(compiledStatement, 5);\n\n                readerClass = [[Reader alloc]initWithReadDB:oid Name:oName Mean:oMean Pron:oPron bookMark:bm];\n\n                [DB_Array addObject:readerClass];\n\n            }\n        }\n        else {\n            NSLog(@\"Error retrieving data from database.\");\n        }\n        sqlite3_close(database);\n    }\n    else {\n\n        NSLog(@\"Error: Can't open database!\");\n\n    }\n\n    AppDelegate *appDelegateClass = (AppDelegate *)[[UIApplication sharedApplication] delegate];\n    [appDelegateClass.wordList removeAllObjects];\n    [appDelegateClass.wordList=DB_Array mutableCopy];\n}\n</code></pre>\n"},{"tags":["ios","sqlite","select"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13069655,"title":"SQLite pathway iOS","body":"<p>I'm trying to access to my table in my SQLite using this code : </p>\n\n<pre><code>fileMgr = [NSFileManager defaultManager];\n    NSString *dbPath = [[[NSBundle mainBundle] resourcePath ]stringByAppendingPathComponent:@\"movieData.sqlite\"];\n\n    if(sqlite3_open([dbPath UTF8String], &amp;database) == SQLITE_OK){\n\n        const char *sql = \"SELECT movieName FROM myMovies\";\n        sqlite3_stmt *sqlStatement;\n        if(sqlite3_prepare(db, sql, -1, &amp;sqlStatement, NULL) != SQLITE_OK)\n        {\n            NSLog(@\"Problem with prepare statement\");\n        }\n</code></pre>\n\n<p>My output is \"Problem with prepare statement\". I'm pretty sure about my table name and other things in the *sql. But still doesn't work. any idea guys ?! </p>\n"},{"tags":["sql","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":45,"score":3,"question_id":13071084,"title":"SQL query. An unusual join. DB implemented in sqlite-3","body":"<p>This is essentially a question about constructing an SQL query. The db is implemented with sqlite3. I am a relatively new user of SQL.</p>\n\n<p>I have two tables and want to join them in an unusual way. The following is an example to explain the problem.</p>\n\n<p>Table 1 (t1):</p>\n\n<pre><code>id  year    name\n-------------------------\n297 2010    Charles\n298 2011    David\n300 2010    Peter\n301 2011    Richard\n</code></pre>\n\n<p>Table 2 (t2)</p>\n\n<pre><code>id  year    food\n---------------------------\n296 2009    Bananas\n296 2011    Bananas\n297 2009    Melon\n297 2010    Coffee\n297 2012    Cheese\n298 2007    Sugar\n298 2008    Cereal\n298 2012    Chocolate\n299 2000    Peas\n300 2007    Barley\n300 2011    Beans\n300 2012    Chickpeas\n301 2010    Watermelon\n</code></pre>\n\n<p>I want to join the tables on id and year. The catch is that (1) id must match exactly, but if there is no exact match in Table 2 for the year in Table 1, then I want to choose the year that is the next (lower) available. A selection of the kind that I want to produce would give the following result</p>\n\n<pre><code>id  year    matchyr name    food\n-------------------------------------------------\n297 2010    2010    Charles Coffee\n298 2011    2008    David   Cereal\n300 2010    2007    Peter   Barley\n301 2011    2010    Richard Watermelon\n</code></pre>\n\n<p>To summarise, id=297 had an exact match for year=2010 given in Table 1, so the corresponding line for id=297, year=2010 is chosen from Table 2. id=298, year=2011 did not have a matching year in Table 2, so the next available year (less than 2011) is chosen. As you can see, I would also like to know what that matched year (whether exactly , or inexactly) actually was.</p>\n\n<p>I would very much appreciate (1) an indication (yes/no answer) of whether this is possible to do in SQL alone, or whether I need to look outside SQL, and (2) a solution, if that is not too onerous.</p>\n"},{"tags":["sqlite","unit-testing","nhibernate"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":13069866,"title":"Prepopulating in memory SQLite database for Nhibernate testing","body":"<p>Currently, I have a unit test framework where I'm using a SQLite database in memory with NHibernate for unit testing. Each unit test runs in it's own session to ensure independence. For the most part, this works awesome, but as I'm approaching 150 tests, it's starting to run a little slow. The main reason for this, is that prior to each test I have to insert a good bit of data in the database.</p>\n\n<p>Basically my application is a workflow app, and we store alot of information about the workflow (number of steps, fields on each step, etc.) in the database. The application can't run unless this stuff is there, so it's required for my tests.</p>\n\n<p>At this point about 4 minutes of my total test time is spent on populating the database before each unit test. I'd love to make this population happen once per test execution, but since the in memory database is destroyed when the session is closed, I'm not sure how. Any suggestions?</p>\n"},{"tags":["c#",".net","sqlite","nunit","system.data.sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":13069141,"title":"How do I configure SQLite under .NET/C# to run in NUnit tests?","body":"<p>I am writing NUnit tests and want to use the in-memory database SQLite (.NET) with my DAL. I thought that since it is in-memory it shouldn't be such a big deal to run unit tests with it. I have no trouble setting up an executable to run with SQLite. I add the SQLite dll-references and include the correct DbProviderFactories settings in the App.config file and it works. </p>\n\n<p>However, when I run nunit tests I have trouble getting the data store provider:</p>\n\n<pre><code>System.ArgumentException : The specified store provider cannot be found in the configuration, or is not valid.\n  ----&gt; System.ArgumentException : Unable to find the requested .Net Framework Data Provider.  It may not be installed.\n</code></pre>\n\n<p>I tried to do the same process with the test project as i would with a executable project but it doesn't work. </p>\n\n<p><strong>How do I configure SQLite to run in NUnit tests?</strong></p>\n"},{"tags":["sql","sqlite","standards"],"answer_count":1,"favorite_count":2,"up_vote_count":5,"down_vote_count":0,"view_count":188,"score":5,"question_id":10573922,"title":"What does the SQL Standard say about usage of backtick(`)?","body":"<p>Once I had spent hours in debugging a simple SQL query using <code>mysql_query()</code> in <code>PHP/MySQL</code> only to realise that I had missed bactick around the table name. From then I had been always using it around table names. </p>\n\n<p>But when I used the same in <code>SQLite/C++</code>, the symbol is not even recognized. It's confusing, whether to use this or not? What does standard say about usage of it?</p>\n\n<p>Also, it would be helpful if anyone could tell me when to use quotes and when not. I mean around values and field names. </p>\n"},{"tags":["mysql","sql","sqlite","postgresql","sqlite3"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":51,"score":0,"question_id":13068513,"title":"Sort by different columns","body":"<p>I have this data, in a table <code>categories</code></p>\n\n<pre><code>id | name | post_count\n 1 | A    | 10\n 2 | B    | 15\n 3 | C    | 8\n 4 | D    | 14\n 5 | E    | 1\n 6 | F    | 20\n</code></pre>\n\n<p>I want to fetch the top 4 categories, by <code>post_count</code>, and order them by <code>name</code>.</p>\n\n<p>If I do</p>\n\n<pre><code>SELECT * FROM categories ORDER BY post_count DESC LIMIT 4\n</code></pre>\n\n<p>I'll get the categories in order: <code>F, B, D, A</code>, while I want <code>A, B, D, F</code></p>\n\n<p>Is this possible with a single SQL query? How can I do this?</p>\n"},{"tags":["ios","sqlite","core-data"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13068108,"title":"can't add sql file while adding core data to my project","body":"<p>I'm stuck trying to add Core Data to my existing iOS project. I don't have an existing sql database but I created a data model. I followed the following tutorial: <a href=\"http://wiresareobsolete.com/wordpress/2009/12/adding-core-data-existing-iphone-projects/\" rel=\"nofollow\">http://wiresareobsolete.com/wordpress/2009/12/adding-core-data-existing-iphone-projects/</a></p>\n\n<p>It produces an error at the following code:</p>\n\n<pre><code>(NSPersistentStoreCoordinator *) persistentStoreCoordinator{\nif (persistentStoreCoordinator != nil){\n    return persistentStoreCoordinator;\n}\nNSURL *storeUrl = [NSURL fileURLWithPath: [[self applicationDocumentDirectory]\n           stringByAppendingPathComponent: @\"MyPOC.sqlite\"]];\nNSError *error = nil;\npersistentStoreCoordinator = [[NSPersistentStoreCoordinator alloc]\n                              initWithManagedObjectModel:[self managedObjectModel]];\nif (![persistentStoreCoordinator addPersistentStoreWithType:NSSQLiteStoreType configuration:nil URL:storeUrl options:nil error:&amp;error]){\n    NSLog(@\"Unresolved error OH NO %@, %@\", error, [error userInfo]);\n}\nreturn persistentStoreCoordinator;\n}\n</code></pre>\n\n<p>I get the following error:</p>\n\n<pre><code>2012-10-25 13:52:29.156 MyPOC[1994:11603] Unresolved error OH NO Error\nDomain=NSCocoaErrorDomain Code=512 \"The operation couldn’t be completed. \n(Cocoa error 512.)\" UserInfo=0x8246240 {reason=Failed to create file; code = 2}, \n{reason = \"Failed to create file; code = 2\";}\n</code></pre>\n\n<p>I really have no idea why it crashes and how I can resolve it. If more information is needed to help please let me know.</p>\n"},{"tags":["android","sqlite","phonegap"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":91,"score":0,"question_id":13067214,"title":"SQLite does not work on android","body":"<p>I tried to add SQLite to my project but when I try to run my app on emulator at the start it shows these errors and I don't have any idea about it!</p>\n\n<pre><code>[2012-10-25 14:16:29 - DeviceMonitor] Adb connection Error:An existing connection was                   forcibly closed by the remote host \n[2012-10-25 14:16:29 - Unexpected error while launching logcat. Try reselecting the device.] An existing connection was forcibly closed by the remote host\njava.io.IOException: An existing connection was forcibly closed by the remote host\nat sun.nio.ch.SocketDispatcher.read0(Native Method)\nat sun.nio.ch.SocketDispatcher.read(Unknown Source)\nat sun.nio.ch.IOUtil.readIntoNativeBuffer(Unknown Source)\nat sun.nio.ch.IOUtil.read(Unknown Source)\nat sun.nio.ch.SocketChannelImpl.read(Unknown Source)\nat com.android.ddmlib.AdbHelper.executeRemoteCommand(AdbHelper.java:395)\nat com.android.ddmlib.Device.executeShellCommand(Device.java:462)\nat com.android.ddmuilib.logcat.LogCatReceiver$1.run(LogCatReceiver.java:109)\nat java.lang.Thread.run(Unknown Source)\n\n   [2012-10-25 14:16:30 - DeviceMonitor] Connection attempts: 1\n</code></pre>\n\n<p>I followed this tutorial:\n<a href=\"http://www.androidhive.info/2011/11/android-sqlite-database-tutorial/\" rel=\"nofollow\">http://www.androidhive.info/2011/11/android-sqlite-database-tutorial/</a></p>\n\n<p>my handler class:</p>\n\n<pre><code> public class DatabaseHandler extends SQLiteOpenHelper {\n\n // All Static variables\n// Database Version\nprivate static final int DATABASE_VERSION = 1;\n\n// Database Name\nprivate static final String DATABASE_NAME = \"PHM\";\n\n// Contacts table name\nprivate static final String TABLE_USERS = \"Users\";\n\n// Users Table Columns names\nprivate static final String KEY_ID = \"_id\";\nprivate static final String KEY_NAME = \"name\";\nprivate static final String KEY_PASS = \"password\";\n\npublic DatabaseHandler(Context context) {\n    super(context, DATABASE_NAME, null, DATABASE_VERSION);\n}\n\n// Creating Tables\n@Override\npublic void onCreate(SQLiteDatabase db) {\n    String CREATE_USERS_TABLE = \"CREATE TABLE \" + TABLE_USERS + \"(\"\n            + KEY_ID + \" INTEGER PRIMARY KEY,\" + KEY_NAME + \" TEXT,\"\n            + KEY_PASS + \" TEXT\" + \")\";\n    db.execSQL(CREATE_USERS_TABLE);\n}\n\n// Upgrading database\n@Override\npublic void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n    // Drop older table if existed\n    db.execSQL(\"DROP TABLE IF EXISTS \" + TABLE_USERS);\n\n    // Create tables again\n    onCreate(db);\n\n}\n\npublic void addUser(User user) {\n    SQLiteDatabase db = this.getWritableDatabase();\n\n    ContentValues values = new ContentValues();\n    values.put(KEY_NAME, user.get_name()); // User Name\n    values.put(KEY_PASS, user.get_pass()); // User Phone Number\n\n    // Inserting Row\n    db.insert(TABLE_USERS, null, values);\n    db.close(); // Closing database connection\n}\n// Getting single User\npublic User getUser(int id) {\n    SQLiteDatabase db = this.getReadableDatabase();\n\n    Cursor cursor = db.query(TABLE_USERS, new String[] { KEY_ID,\n            KEY_NAME, KEY_PASS }, KEY_ID + \"=?\",\n            new String[] { String.valueOf(id) }, null, null, null, null);\n    if (cursor != null)\n        cursor.moveToFirst();\n\n    User user = new User(Integer.parseInt(cursor.getString(0)),\n            cursor.getString(1), cursor.getString(2));\n    return user;\n}\n\n public List&lt;User&gt; getAllUsers() {\n        List&lt;User&gt; contactList = new ArrayList&lt;User&gt;();\n        // Select All Query\n        String selectQuery = \"SELECT  * FROM \" + TABLE_USERS;\n\n        SQLiteDatabase db = this.getWritableDatabase();\n        Cursor cursor = db.rawQuery(selectQuery, null);\n\n        // looping through all rows and adding to list\n        if (cursor.moveToFirst()) {\n            do {\n                User user = new User();\n                user.set_id(Integer.parseInt(cursor.getString(0)));\n                user.set_name(cursor.getString(1));\n                user.set_pass(cursor.getString(2));\n                // Adding contact to list\n                contactList.add(user);\n            } while (cursor.moveToNext());\n        }\n\n        // return contact list\n        return contactList;\n    }\n\n// Getting users Count\n    public int getUsersCount() {\n        String countQuery = \"SELECT  * FROM \" + TABLE_USERS;\n        SQLiteDatabase db = this.getReadableDatabase();\n        Cursor cursor = db.rawQuery(countQuery, null);\n        cursor.close();\n\n        // return count\n        return cursor.getCount();\n    }\n\n    // Updating single contact\n    public int updateContact(User user) {\n        SQLiteDatabase db = this.getWritableDatabase();\n\n        ContentValues values = new ContentValues();\n        values.put(KEY_NAME, user.get_name());\n        values.put(KEY_PASS, user.get_pass());\n\n        // updating row\n        return db.update(TABLE_USERS, values, KEY_ID + \" = ?\",\n                new String[] { String.valueOf(user.get_id()) });\n    }\n\n    // Deleting single user\n    public void deleteUser(User user) {\n        SQLiteDatabase db = this.getWritableDatabase();\n        db.delete(TABLE_USERS, KEY_ID + \" = ?\",\n                new String[] { String.valueOf(user.get_id()) });\n        db.close();\n    }\n}\n</code></pre>\n\n<p>This a class that I add it to my JavaScript interface by this command: </p>\n\n<pre><code>mean db= new mean(this, appView);\nappView.addJavascriptInterface(db, \"database\");\n</code></pre>\n\n<p>Class:</p>\n\n<pre><code> public class mean implements Cloneable{\nprivate WebView mAppView;\nprivate static DroidGap mGap;\nDatabaseHandler db = new DatabaseHandler(mGap);  \n  public mean(DroidGap gap, WebView view)\n  {\n    mAppView = view;\n    mGap = gap;\n  }\n\n  public void AddUser(String name,String pass ){\n        User user=new User(name,pass);\n        db.addUser(user);\n  }\n  public String getAllUsers(){\n        String ret=\"ajab\";\n        List&lt;User&gt; toShow=db.getAllUsers();\n        for(User a :toShow){\n            ret+=a.get_name();\n        }\n        return  ret;\n\n  }\n  public String Generate(){\n      QRCodeGenerator.getQRCode (\"pic.JPG\", \"Hamed Mahsa Pouya\");\n      return \"BEHI\";\n  }\n}\n</code></pre>\n\n<p>In my JavaScript I call my function like this:</p>\n\n<pre><code>function AddUser(name,pass){\n    alert(name+\"::::::\"+pass);\n    window.database.AddUser(name,pass);\n    alert(\"pass\");\n}\n</code></pre>\n\n<p>I should mention that sometimes I saw the second alert but most of time I see this exception.</p>\n\n<pre><code>Uncaught Error: Error calling method on NPObject. at file:///android_asset/www/code.js:12\n</code></pre>\n"},{"tags":["sql","sqlite"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13064696,"title":"SQLite - check if any field has a 1 on each column","body":"<p>I have the following query:</p>\n\n<pre><code>SELECT c.danhoEstetico, c.danhoDirecto\nFROM conceptos c\nINNER JOIN materialesconceptos mc ON mc.idConcepto = c.idConcepto\nINNER JOIN materiales m ON m.idMaterial = mc.idMaterial\nWHERE m.idMaterial IN (4,11,11)\n</code></pre>\n\n<p>Which yields the following result (for example):</p>\n\n<pre><code>danhoEstetico | danhoDirecto\n1             | 0\n1             | 0\n0             | 0\n0             | 0\n</code></pre>\n\n<p>I need to make a query that gives me if any of the items in each column has a 1, like an OR among all the fields in the same column, with an output like:</p>\n\n<pre><code>danhoEstetico | danhoDirecto\n1             | 0\n</code></pre>\n\n<p>I have tried: </p>\n\n<pre><code>SELECT\nSUM(CASE c.danhoEstetico WHEN c.danhoEstetico=1 THEN 1 ELSE 0 END) AS de,\nSUM(CASE c.danhoDirecto WHEN c.danhoDirecto=1 THEN 1 ELSE 0 END) AS dd\nFROM conceptos c INNER JOIN materialesconceptos mc ON mc.idConcepto = c.idConcepto\nINNER JOIN materiales m ON m.idMaterial = mc.idMaterial\nWHERE m.idMaterial IN (4,11,11)\n</code></pre>\n\n<p>Which, for some reason, yields:</p>\n\n<pre><code>danhoEstetico | danhoDirecto\n4             | 4\n</code></pre>\n\n<p>Any hint on this?</p>\n"},{"tags":["java","sqlite","swt","jface"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":38,"score":-1,"question_id":13065386,"title":"Not able to insert values through SWT table","body":"<p>I am trying to insert values into database through SWT table. Somehow the value is not getting updated in database, please help me to resolve this issue. I am using prepared statement.\nBelow is the code snippet,</p>\n\n<pre><code>btnNewButton_2.addSelectionListener(new SelectionAdapter()   \n{   \n    public void widgetSelected(SelectionEvent e)    \n    { \n        Connection conn = null;\n        PreparedStatement pstmt = null;\n        try{\n\n            Class.forName(\"org.sqlite.JDBC\");   \n                conn = DriverManager.getConnection(\"jdbc:sqlite:C:\\\\Database\\\\ProManager\"); \n                System.out.println(\"Connecting succesfully\");\n\n            String query = \"insert into Workplace (workplaceCode,WorkplaceName,WRegNum,NumOfEmployees,notes1)values(?,?,? ,? ,?)\";                                              \n            TableItem[]  tItemArr=table.getItems(); \n\n            pstmt=(PreparedStatement) conn.prepareStatement (query);\n\n            System.out.println(tItemArr.length);\n\n            //System.out.println(tItemArr[28].getText(1));\n            int i=0;\n\n            /*   for (int i = 0; i &lt; tItemArr.length; i++)    \n\n            {   \n             */                                          \n\n                String plantColumn =tItemArr[i].getText(0);   \n            if(plantColumn != null &amp;&amp; !plantColumn.equals(\"\"))   \n                pstmt.setString(2,plantColumn);\n\n\n            String compyRegNum =tItemArr[i].getText(1);\n                System.out.println(\"check1\");\n            if(compyRegNum != null &amp;&amp; !compyRegNum.equals(\"\"))   \n                 pstmt.setString(3,compyRegNum);\n            System.out.println(compyRegNum);\n            System.out.println(\"check2\");\n\n            String numOfEmp =tItemArr[i].getText(2);   \n            if(numOfEmp != null &amp;&amp; !numOfEmp.equals(\"\"))   \n                pstmt.setString(4,numOfEmp); \n            String note1 =tItemArr[i].getText(3);   \n            if(note1 != null &amp;&amp; !note1.equals(\"\"))   \n                pstmt.setString(5,note1);                                       \n            pstmt.executeUpdate();                \n            MessageBox messageBox = new MessageBox(shell, SWT.ICON_INFORMATION);   \n            messageBox.setMessage(\"saved\");   \n            messageBox.open();   \n            btnNewButton_2.setEnabled(true);\n</code></pre>\n"},{"tags":["sql","sqlite"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":53,"score":1,"question_id":13065105,"title":"SQL display two results side-by-side","body":"<p>I have two tables, and am doing an ordered select on each of them. I wold like to see the results of both orders in one result.</p>\n\n<p>Example (simplified):</p>\n\n<pre><code>\"SELECT * FROM table1 ORDER BY visits;\"\nname|# of visits\n----+-----------\n AA | 5\n BB | 9\n CC | 12\n.\n.\n.\n\n\"SELECT * FROM table2 ORDER BY spent;\"\nname|$ spent\n----+-------\n AA | 20\n CC | 30\n BB | 50\n.\n.\n.\n</code></pre>\n\n<p>I want to display the results as two columns so I can visually get a feeling if the most frequent visitors are also the best buyers. (I know this example is bad DB design and not a real scenario. It is an example)</p>\n\n<p>I want to get this:</p>\n\n<pre><code>name by visits|name by spent\n--------------+-------------\n AA           | AA\n BB           | CC\n CC           | BB\n</code></pre>\n\n<p>I am using SQLite.</p>\n"},{"tags":["android","sqlite","android-cursor"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":81,"score":2,"question_id":13011452,"title":"SQLite query SQLiteLog (1) no such Column:","body":"<p>I have 3 classes. \nOne to setup the DB and tables, works fine. <code>DBHelper.java</code></p>\n\n<pre><code>private static final String TAG = \"DBHelper\";\npublic static final String DB_NAME = \"pat_test.db\";\npublic static final String TABLE5 = \"sites\";\npublic static final String S_ID = BaseColumns._ID;\npublic static final String S_CLIENT = \"client_of_site\";\npublic static final String S_POSTCODE = \"site_postode\";\npublic static final String S_CON_NAME = \"contact_name\";\npublic static final String S_CON_NUM = \"contact_tel_num\";\npublic static final String S_NAME = \"site_name\";\npublic static final String S_LAST_TEST = \"last_test_date\";\n\npublic DBHelper(Context context) {\n    super(context, DB_NAME, null, DB_VERSION);\n\n}\n\n@Override\npublic void onCreate(SQLiteDatabase db) {\n\n\nString sql5 = String.format(\"create table %s (%s INT PRIMARY KEY, %s TEXT, %s TEXT, %s TEXT, %s TEXT, %s INT, %s TEXT)\",TABLE5, S_ID, S_CLIENT, S_NAME, S_POSTCODE, S_CON_NAME,S_CON_NUM,S_LAST_TEST); \nLog.d(TAG, \"onCreate: \" + sql5);\ndb.execSQL(sql5);\n}\n</code></pre>\n\n<p>The next one has my functions <code>DBControl.java</code></p>\n\n<pre><code>import android.content.ContentValues;\nimport android.content.Context;\nimport android.database.Cursor;    \nimport android.database.sqlite.SQLiteDatabase;\nimport android.database.sqlite.SQLiteException;\nimport android.provider.BaseColumns;\n\npublic class DBControl {\n\npublic static final String TABLE5 = \"sites\";\n\npublic static final String S_ID = BaseColumns._ID;\npublic static final String S_CLIENT = \"client_of_site\";\npublic static final String S_NAME = \"site_name\";\npublic static final String S_POSTCODE = \"site_postode\";\npublic static final String S_CON_NAME = \"contact_name\";\npublic static final String S_CON_NUM = \"contact_tel_num\";\npublic static final String S_LAST_TEST = \"last_test_date\";\n\nprivate Context context;\nprivate SQLiteDatabase database;\nprivate DBHelper dbhelper;\n\npublic DBControl(Context context) {\n\n    this.context = context;\n\n}\n\n  public DBControl open() throws SQLiteException {\n\n    dbhelper = new DBHelper(context);\n    database = dbhelper.getWritableDatabase();\n    return this;\n}\n\npublic void close() {\n\n    dbhelper.close();\n\n}\n   public ContentValues createContentValues3(String CLIENT, \n        String NAME,    String POSTCODE, String CON_NAME, \n         long CON_NUM) {\n\n    ContentValues values = new ContentValues();\n    values.put(S_CLIENT, CLIENT);\n    values.put(S_POSTCODE, POSTCODE);\n    values.put(S_CON_NAME, CON_NAME);\n    values.put(S_CON_NUM, CON_NUM);\n    values.put(S_NAME, NAME);\n    return values;\n  }  \n   public long addSiteDetails( String CLIENT, String NAME,\n        String POSTCODE, String CON_NAME, int CON_NUM ) {\n\n    ContentValues siteValues = createContentValues3( CLIENT, NAME,\n            POSTCODE, CON_NAME, CON_NUM );\n\n    return database.insert(TABLE5, null, siteValues);\n}\n\n\npublic boolean updateSiteDetails(long id, String CLIENT, String NAME,\n        String POSTCODE, String CON_NAME , int CON_NUM\n        ) {\n\n    ContentValues siteUpdateValues = createContentValues3( CLIENT, NAME,\n            POSTCODE, CON_NAME, CON_NUM);\n\n    return database.update(TABLE5, siteUpdateValues, S_ID + \"=\" + id, null) &gt; 0;\n}\n\n}\n  public long fetchSiteIdByName(String NAME){\n\n     Cursor dbCursor; \n     long id = 0;\n\n      try { \n\n     dbCursor = database.query(true, TABLE5, new String []{S_ID}, S_NAME + \"= \" + NAME  , null, null, null, null, null);\n     dbCursor.moveToFirst(); \n     id = dbCursor.getLong(dbCursor.getColumnIndex(S_ID)); } \n\n      catch (SQLiteException e) { \n\n          id = -1;\n\n      }\n\n      return id;\n\n      }\n</code></pre>\n\n<p>My third class is used to call and check. But this is where my problem arises or in fetchSiteIdByName in the previous class.</p>\n\n<pre><code>  import android.app.Activity;\n  import android.app.Dialog;\n  import android.content.Intent;\n  import android.database.sqlite.SQLiteException;\n  import android.os.Bundle;\n  import android.view.Menu;\n  import android.view.View;\n  import android.view.View.OnClickListener;\n  import android.widget.AutoCompleteTextView;\n  import android.widget.Button;\n  import android.widget.EditText;\n  import android.widget.TextView;\n  import android.widget.Toast;\n\n  public class activityStartNewTest extends Activity implements OnClickListener {\n\nButton buttonBeginTesting;\nprivate AutoCompleteTextView clientInput;       //Refers to input box for client\nprivate AutoCompleteTextView siteInput;         //Refers to input box for site\nprivate AutoCompleteTextView postcodeInput;     //Refers to input box for postcode\nprivate EditText nameInput;                     //Refers to input box for contact name\nprivate EditText telInput;                      //Refers to input box for contact number\n  //    private EditText jobrefInput;                   //Refers to input box for Job reference number\n\nprivate DBControl dbControl;                \n\n@ Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.start_new_test);\n    dbControl = new DBControl(this);\n    clientInput = (AutoCompleteTextView) findViewById(R.id.autoCompleteClientNameEdit);\n    siteInput = (AutoCompleteTextView) findViewById(R.id.autoCompleteSiteNameEdit);\n    postcodeInput = (AutoCompleteTextView) findViewById(R.id.autoCompletePostcodeEdit);\n    nameInput = (EditText) findViewById(R.id.editTextContactName);\n    telInput = (EditText) findViewById(R.id.editTextContactNum);\n  //        jobrefInput = (EditText)findViewById(R.id.editTextJobRef);      \n\n    buttonBeginTesting = (Button) findViewById(R.id.buttonBeginTesting);\n    buttonBeginTesting.setOnClickListener(this);\n}\n\n\n@Override\npublic boolean onCreateOptionsMenu(Menu menu) {\n    getMenuInflater().inflate(R.menu.activity_main, menu);\n    return true;\n}\n\n\npublic void onClick(View arg) {\n\n    String clientData = clientInput.getText().toString();\n    String siteData = siteInput.getText().toString();\n    String postcodeData = postcodeInput.getText().toString();\n    String nameData = nameInput.getText().toString();\n    String telData = telInput.getText().toString();\n     // String jobrefData = jobrefInput.getText().toString();\n\n    Toast toastNotice = new Toast(this);\n    Dialog notice = new Dialog(this); // this needs the textview below for displaying\n    TextView msgBody = new TextView(this);\n    msgBody.setTextSize(20);\n    long tempValue = 0;\n\n    switch(arg.getId()){\n\n    case R.id.buttonBeginTesting:\n\n    try{\n        int telDataAsNum = Integer.parseInt(telData);\n        dbControl.open();\n\n        if((tempValue = dbControl.fetchSiteIdByName(siteData)) != -1) {\n\n            if(dbControl.updateSiteDetails(tempValue, clientData, siteData, postcodeData, nameData, telDataAsNum)){\n                notice.setTitle(\"Site Updated!\");\n                msgBody.setText(\"Site detail have been updated instead\");\n            }\n            else{\n                notice.setTitle(\"Update failed!\");\n                msgBody.setText(\"Site already Exists, but failed!\");\n            }\n        }\n        else{\n            long siteID = 0;\n\n            siteID = dbControl.addSiteDetails( clientData, siteData, postcodeData, nameData, telDataAsNum );\n            notice.setTitle(\"Site Added\");\n            msgBody.setText(\"Site added at row \"+ siteID);\n    }\n    dbControl.close();\n\n    }\n    catch (SQLiteException e){ // Notifies user if SQL error occurred\n        e.printStackTrace();\n        notice.setTitle(\"Insert failed\");\n        msgBody.setText(\"SQL Error!\");\n    }\n    catch (NumberFormatException e){ // Notifies user if NUM format error occurred\n        e.printStackTrace();\n        notice.setTitle(\"Insert failed\");\n        msgBody.setText(\"Contact number must be a number!\");\n    }\n    notice.setContentView(msgBody);\n    notice.show();\n  }\n  }\n  }\n</code></pre>\n\n<p>Now when I run the application I insert into the DB with new details absolutley fine. \nUsing adb I pull the DB and open in sqlite3. It shows all entries with NULL in the first column and NULL in the last (the last has not been posted yet).\nI use the same text in the field of the editbox siteData and it just adds a new entry and does not update the previous.</p>\n\n<p>The log cat is showing SQLiteLog (1) no such column: xxx where xxx would have been the entry into the autocompleteTextView. </p>\n\n<p>Why is it looking for a column named to whatever text was input? </p>\n"},{"tags":["android","sqlite"],"answer_count":4,"favorite_count":0,"up_vote_count":3,"down_vote_count":1,"view_count":217,"score":2,"question_id":8708295,"title":"How to delete a row from a table in SQLite android?","body":"<p>I have done this and it is not working. I am getting <code>force close</code>.</p>\n\n<pre><code>public boolean favoriteDelete(int id) {\n    return database.delete(\"FavoriteData\", \"Google\" + \"=\" + id, null) &gt; 0;\n}\n</code></pre>\n"},{"tags":["c#",".net","performance","sqlite","indexing"],"answer_count":2,"favorite_count":0,"up_vote_count":6,"down_vote_count":0,"view_count":98,"score":6,"question_id":13056193,"title":"Escape wildcards (%, _) in SQLite LIKE without sacrificing index use?","body":"<p>I have a couple of issues with SQLite query. Actually I start thinking that SQLite is not designed for tables with more then 10 rows, really, SQLite is a nightmare.</p>\n\n<p>The following query</p>\n\n<pre><code>SELECT * FROM [Table] WHERE [Name] LIKE 'Text%'\n</code></pre>\n\n<p>It works fine. <code>EXPLAIN</code> shows that the index is used and result is returned after about <code>70ms</code>.</p>\n\n<p>Now I need to run this query from .NET SQLite driver, so I'm changing query</p>\n\n<pre><code>SELECT * FROM [Table] WHERE [Name] LIKE @Pattern || '%'\n</code></pre>\n\n<p>Index is not used. When I run the following query in any SQLite tool the index is not used as well</p>\n\n<pre><code>SELECT * FROM [Table] WHERE [Name] LIKE 'Text' || '%'\n</code></pre>\n\n<p>So I guess SQLite doesn't have any kind of preprocessing logic implemented.</p>\n\n<p>OK. Let's try to solve it, I'm still binding variables and doing the following</p>\n\n<pre><code>SELECT * FROM [Table] WHERE [Name] LIKE @Pattern\n</code></pre>\n\n<p>But now I append <code>%</code> wildcard symbol to the end of my pattern string, like this</p>\n\n<pre><code>command.Parameters.Add(new SQLiteParameter(\"@Pattern\", pattern + '%'));\n</code></pre>\n\n<p>It works very slow. I can't say why, because when I run this query from SQLite tool it works fine, however when I bind this variable from .NET code it works slow.</p>\n\n<p>OK. I'm still trying to solve this. I'm getting rid of the pattern parameter binding and building this condition dynamically.</p>\n\n<pre><code>pattern = pattern.Replace(\"'\", \"''\");\npattern = pattern.Replace(\"%\", \"\\\\%\");\nwhere = string.Format(\"LIKE '{0}%' ESCAPE '\\\\'\", pattern);\n</code></pre>\n\n<p>Index is not used again. It's not used because of <code>ESCAPE</code>. I see that when I run </p>\n\n<pre><code>EXPLAIN QUERY PLAN SELECT * FROM [Table] WHERE [Name] LIKE 'Text%' ESCAPE '\\'\n</code></pre>\n\n<p>As soon as I remove <code>ESCAPE</code> it starts using index again and the query finishes in 60-70ms.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Here are the results.</p>\n\n<pre><code>EXPLAIN QUERY PLAN\nSELECT * FROM [RegistryValues]\nWHERE\n     [ValueName] LIKE 'windir%' ESCAPE '\\' \n</code></pre>\n\n<p><code>SCAN TABLE RegistryValues (~3441573 rows)</code></p>\n\n<p>and the one without <code>ESCAPE</code></p>\n\n<pre><code>EXPLAIN QUERY PLAN\nSELECT * FROM [RegistryValues]\nWHERE\n     [ValueName] LIKE 'windir%'\n</code></pre>\n\n<p><code>SEARCH TABLE RegistryValues USING INDEX IdxRegistryValuesValueNameKeyIdKeyHiveFileId (ValueName&gt;? AND ValueName&lt;?) (~31250 rows)</code></p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Just found this</p>\n\n<p><a href=\"http://www.sqlite.org/optoverview.html\" rel=\"nofollow\">http://www.sqlite.org/optoverview.html</a></p>\n\n<p><strong>4.0 The LIKE optimization</strong></p>\n\n<p><code>The ESCAPE clause cannot appear on the LIKE operator</code></p>\n\n<p>So what should I do then?</p>\n\n<p>Do I understand it right? I can't search string containing wildcards using <code>LIKE</code> operator in <code>SQLite</code>. By saying wildcards I mean <code>_</code> <code>%</code> <code>^</code> <code>!</code></p>\n\n<p>It's impossible simply because I can't escape them.\nActually I can, but I can't use indexes in this case, so the query will not be efficient.</p>\n\n<p>Am I right?</p>\n"},{"tags":["android","sqlite","sqlite3","android-sqlite"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":13062680,"title":"Multiple threading questions when using sqlite transaction in Android","body":"<p>I use sqlite transaction in Android:</p>\n\n<pre><code>SQLiteDatabase database = sqlite_helper.getWritableDatabase();\n\ndatabase.beginTransaction();\n...\ndatabase.setTransactionSuccessful();\ndatabase.endTransaction();\n</code></pre>\n\n<p>My questions are :<br>\n1. Should I place <code>endTransaction()</code> in finally code block like this：</p>\n\n<pre><code>try {\n    database.beginTransaction();\n    ...\n    database.setTransactionSuccessful();\n}\nfinally {\n    database.endTransaction();\n}\n</code></pre>\n\n<p>If there are exepctions during database operations, will the database be rolled back automatically without using \"finally\"?<br></p>\n\n<ol>\n<li>When the transaction is not ended, can other threads read or write the same database? I hear sqlite in Android is threading safe, but I are not sure with it. I guess there will be some problems during transaction. Is there an error raised if another thread writes the same database with the same connection?<br>\nI ever found this error in my app, but I don't know whether it's related to the threading safe problem:</li>\n</ol>\n\n<p><code>android.database.sqlite.SQLiteMisuseException: library routine called out of sequence:</code></p>\n\n<p>, while compiling<br></p>\n\n<p>Does anyone help me to answer these questions? Thanks a lot!</p>\n"},{"tags":["ruby","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":22,"score":1,"question_id":13061878,"title":"How to make an sqlite3 database without default fields?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/4722785/where-do-the-created-at-and-updated-at-columns-come-from\">Where do the created_at and updated_at columns come from?</a>  </p>\n</blockquote>\n\n\n\n<p>Every time I use <code>db:migrate</code>, my table creates fine, with the expected fields, but it also has the <code>created_at</code> and <code>updated_at</code> columns, which I don't want and didn't include anywhere in my migration.  How can I remove them, or better yet, how can I create tables in the future without these fields?</p>\n"},{"tags":["sql","android","sqlite","normalization"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":1312,"score":1,"question_id":2841694,"title":"How to SQL compare columns when one has accented chars?","body":"<p>I have two SQLite tables, that I would love to join them on a name column. This column contains accented characters, so I am wondering how can I compare them for join. I would like the accents dropped for the comparison to work. </p>\n"},{"tags":["android","sql","sqlite","sqlite3"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":557,"score":1,"question_id":5492508,"title":"Ignore accents SQLite3","body":"<p>How do I make a SELECT with a LIKE clause ignoring accents on SQLite3?</p>\n\n<p>PS: It's for Android build-in SQLite support.</p>\n"},{"tags":["android","sql","sqlite"],"answer_count":5,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":321,"score":0,"question_id":9600749,"title":"How to delete specific record from SQLite?","body":"<p>I need to delete the specific record from <strong>sqlite</strong>. But following code not able to delete it.<br>\nPlease give me some hint.  </p>\n\n<pre><code>public void delete(String Id)\n{\n    try {\n\n        db.delete(MySQLiteHelper.TABLE_NAME, \"Id=?\",\n              new String[] { Id.toString() });\n    }\n    catch(Exception e) { ... }\n\n}\n</code></pre>\n"},{"tags":["java","android","sql","sqlite"],"answer_count":5,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":1152,"score":0,"question_id":6080975,"title":"How to add initial data to SQLite database?","body":"<p>I need to add initial values to SQLite database, once application is started first time. How should I do it?</p>\n"},{"tags":["java","android","sql","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":587,"score":-2,"question_id":6279496,"title":"delete multiple row sqlite android Error","body":"<p>I have write below code </p>\n\n<pre><code>String strId = \"1,2\"\ntry {\n        myDB = myDbHelper.openDataBase();\n    } catch (SQLException sqle) {\n        throw sqle;\n    }\n    myDB = myDbHelper.getWritableDatabase();\n    String strQuery = \"delete from table1 where Id in (\"\n            + strId + \")\";\n    Log.w(\"strQuery\", strQuery);\n    myDB.execSQL(strQuery, null);\n\n    myDbHelper.close();\n</code></pre>\n\n<p>But getting run time Error.</p>\n\n<p><img src=\"http://i.stack.imgur.com/FBD30.png\" alt=\"enter image description here\"></p>\n\n<p>Please help me.</p>\n"},{"tags":["android","sql","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":562,"score":2,"question_id":9391614,"title":"how to Retrieve an Image from SQLite DB?","body":"<p>How to retrieve an image stored in Sqlite table?</p>\n\n<p>the table looks like the following:</p>\n\n<pre><code>public class ImageInDB extends SQLiteOpenHelper {\n\nprivate static final int DATABASE_VERSION = 2;\nprivate static final String DATABASE_NAME = \"test01.db\";\nprivate static final String MP_TABLE_NAME = \"MPImage\";\n\nImageInDB (Context context) { \n    super(context, DATABASE_NAME, null, DATABASE_VERSION);\n}// end of \n\n@Override\npublic void onCreate(SQLiteDatabase db) {\n    // TODO Auto-generated method stub\n    db.execSQL(\" CREATE TABLE \" + MP_TABLE_NAME + \" ( \" +\n            BaseColumns._ID + \" INTEGER PRIMARY KEY AUTOINCREMENT, \" +\n            \" img BLOB  \" +\n            \");\" );\n}\n</code></pre>\n\n<p>Now, how should the method that retrieve the image llok like?? below is my attempt:</p>\n\n<pre><code>public ??? getMP_RPY(long id) {\n    SQLiteDatabase db = this.getReadableDatabase();\n    SQLiteCursor c = (SQLiteCursor) db.rawQuery(\"SELECT img FROM MPImage WHERE \"+\n                                                BaseColumns._ID+\" = \"+\n                                                Long.toString(id), null);\n    c.moveToFirst();\n    ???? r = c.getDouble(0);\n    return r;       \n}\n</code></pre>\n"},{"tags":["android","sql","sqlite"],"answer_count":4,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":1767,"score":3,"question_id":6420182,"title":"Android - Does SQLite Database Exist?","body":"<p>How can I quickly check if a database exists in Android?</p>\n\n<p>(not a Table - the entire database)</p>\n"},{"tags":["objective-c","ios","xcode","sqlite","core-data"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":187,"score":3,"question_id":12845831,"title":"NSFetchedResultsController not sorting on encrypted attributes","body":"<p>I am trying to encrypt the attributes in my Core Data model using the transformable type but am experiencing a lot of issues trying to fetch back results once data has been persisted to the sqlite db. My main application for Core Data is to store some user related data and fetch it back again sorted by first name, last name etc and then display it in a table view using the first letter of first/last name as the section header. It seems that the encryption is interfering with the results because i get nothing back when i try to do fetch request with NSFetchedResultsController using the lastName as a sort descriptor. I get the following error:</p>\n\n<pre><code>CoreData: error: (NSFetchedResultsController) The fetched object at index X has an out of order section name 'S. Objects must be sorted by section name'\n</code></pre>\n\n<p>Ive spent a lot of time investigating this issue to no avail. Does anybody know what the issue might be and how to get around it? Is there perhaps a way to do the sort on the db after the transformer decrypts the data? Or is there a way to maybe get back the raw data and then sort it after i have the data in an instance of the NSFetchedResultsController?</p>\n\n<p>I used <a href=\"http://blog.artlogic.com/2012/07/30/securing-your-core-data-with-transformable-attributes/\" rel=\"nofollow\">this</a> source to encrypt the core data attribute:</p>\n"},{"tags":["python","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":13060237,"title":"How do I speed up my sqlite3 queries in Python?","body":"<p>I have an sqlite table with a few hundred million rows:</p>\n\n<pre><code>sqlite&gt; create table t1(id INTEGER PRIMARY KEY,stuff TEXT );\n</code></pre>\n\n<p>I need to query this table by its integer primary key hundreds of millions of times. My code:</p>\n\n<pre><code>conn = sqlite3.connect('stuff.db')\nwith conn:\n    cur = conn.cursor()\n    for id in ids:\n        try:\n            cur.execute(\"select stuff from t1 where rowid=?\",[id])\n            stuff_tuple = cur.fetchone()\n            #do something with the fetched row\n        except:\n            pass #for when id is not in t1's key set\n</code></pre>\n\n<p>Here, ids is a list that may have tens of thousands of elements. Forming t1 did not take very long (ie ~75K inserts per second). Querying t1 the way I've done it is unacceptably slow (ie ~1K queries in 10 seconds).</p>\n\n<p>I am completely new to SQL. What am I doing wrong?</p>\n"},{"tags":["delphi","sqlite","sqlite3","delphi-xe3"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":96,"score":0,"question_id":13057789,"title":"Visually creating database tables with the Data Explorer","body":"<p>I watched a <a href=\"http://www.youtube.com/watch?feature=player_detailpage&amp;v=416qL6is5Xw#t=26s\" rel=\"nofollow\">video</a> in relations to creating and working with databases in Delphi. The video states that you can create the database using code, the data explorer or the SQLite3 console application, but I am unable to find out how to create the database using the Data Explorer. Does anyone know a way I can go about doing this? </p>\n\n<p>Thank you in advanced. </p>\n"},{"tags":["ios","json","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":13057406,"title":"iOS Update JSON objects","body":"<p>I've come across an existing iOS app. It downloads JSON from a web service and, at runtime, parses the JSON into Map Annotation objects to show on a map.\nThis is relatively fast as there's only about 2000 records.</p>\n\n<p>The problem is that I now want to update/delete records by asking for the \"updated since [date]\" records. When I get these records I have no idea how I'm going to update the JSON.</p>\n\n<p>I feel like one of the only options might be to store the objects into SQLite or something similar before I create the map points. So then updates will be done to the SQLite records, and I can just re-create the annotations.</p>\n\n<p>Has anyone got a better idea? I'd like to stay with the original JSON only approach if possible </p>\n"},{"tags":["python","ruby","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":54,"score":0,"question_id":13059142,"title":"ruby or python for use with sqlite database?","body":"<p>Which of these two languages interfaces better and delivers a better performance/toolset for working with sqlite database?  I am familiar with both languages but need to choose one for a project I'm developing and so I thought I would ask here. I don't believe this to be opinionated as performance of a language is pretty objective.</p>\n"},{"tags":["sql","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":59,"score":1,"question_id":13058592,"title":"SQLite select and group matches across columns","body":"<p>I have an SQLite table called match that has two columns: column1 and column2 that contain integer values:</p>\n\n<pre><code>column1   column2\n------------------\n\n5          6\n6          8\n8          9\n90         91\n1          20\n10         20\n</code></pre>\n\n<p>I want to match duplicate numbers found in either columns and join them, including the matches second value, so that my search result returns would be:</p>\n\n<pre><code>5, 6, 8, 9 \n1, 20, 10\n</code></pre>\n\n<p>(notice that 90 and 91 have no matches and therefore are not included).</p>\n\n<p>My 'guess' at making this is:</p>\n\n<pre><code>SELECT column1, column2 \nFROM match \nWHERE column2 \nIN (SELECT column1 \n    FROM match \n    GROUP BY column1 HAVING (COUNT(column1) &gt; 0)) \n    UNION \n    SELECT column1, column2 \n    FROM match \n    WHERE column1 \n    IN (SELECT column2 \n        FROM match \n        GROUP BY column1 HAVING (COUNT(column2) &gt; 0)) \n        UNION \n        SELECT column1, column2 \n        FROM match \n        WHERE column1 \n        IN (SELECT column1\n            FROM match \n            GROUP BY column1 HAVING (COUNT(column1) &gt; 1)) \n            UNION \n            SELECT column1, column2 \n            FROM match \n            WHERE column2 \n            IN (SELECT column2 \n                FROM match \n                GROUP BY column2 HAVING (COUNT(column2) &gt; 1)) \n</code></pre>\n\n<p>and the result is almost what I need:</p>\n\n<pre><code>5 6\n6 8\n8 9\n1 20\n10 20\n</code></pre>\n\n<p>But what I really need is to have the result grouped somehow. For example:</p>\n\n<p>(5, 6, 8, 9) (1, 10, 20)</p>\n\n<p>Is this possible? And is my SQL attempt over-complicated?</p>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":62,"score":0,"question_id":13057942,"title":"android : parsing XML and insert to sqlite database","body":"<p>Assume that I have file XML like this : </p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;P&gt;\n    &lt;Content&gt;\n        &lt;id&gt;1016576&lt;/id&gt;\n        &lt;date&gt;20.08.2012&lt;/date&gt;\n        &lt;placeOfBirth&gt;KUALA LUMPUR&lt;/placeOfBirth&gt;\n    &lt;/Content&gt;\n    &lt;Content&gt;\n        &lt;id&gt;1016620&lt;/id&gt;\n        &lt;date&gt;20.08.2012&lt;/date&gt;\n        &lt;placeOfBirth&gt;SINGAPORE&lt;/placeOfBirth&gt;\n    &lt;/Content&gt;\n    &lt;Content&gt;\n        &lt;id&gt;1020907&lt;/id&gt;\n        &lt;date&gt;20.08.2012&lt;/date&gt;\n        &lt;placeOfBirth&gt;SINGAPORE&lt;/placeOfBirth&gt;\n    &lt;/Content&gt;\n&lt;/P&gt;\n</code></pre>\n\n<p>I want to parse all the text and insert into database table which have _id, date and placeOfBirth column. I've tried this :</p>\n\n<pre><code>    Activity activity1 = this;\n    String str=\"\";\n    Resources res = activity1.getResources();\n    XmlResourceParser xmlPharser = res.getXml(R.xml.fileXML);\n    String id,date,pob;\n//database\n        final databaseHelper myDbHelper = new databaseHelper(this);\n        myDbHelper.open();\n//insert into table while parsing xml\n        try {\n            xmlPharser.next();\n            int eventType = xmlPharser.getEventType();\n            String event = \"\"+eventType;\n            Log.d(\"Event\", event);\n            while (eventType != XmlPullParser.END_DOCUMENT)\n            {\n\n        if(eventType == XmlPullParser.START_TAG )\n            {\n               if( xmlPharser.getName() == \"id\")\n               {\n                    id=xmlPharser.getText();\n               }\n               else if ( xmlPharser.getName() == \"date\" )\n               {\n                    date = xmlPharser.getText();\n               }\n               else if ( xmlPharser.getName() == \"placeOfBirth\" )\n               {\n                    pob = xmlPharser.getText();\n               }\n               myDbHelper.insertData(id,date,pob);\n               myDbHelper.close();\n            }\n            eventType = xmlPharser.next();\n        }\n  } catch (XmlPullParserException e) {\n        e.printStackTrace();\n  } catch (IOException e) {\n        e.printStackTrace();\n  }\n</code></pre>\n\n<p>It doesn't get any error LogCat display, but it dosen't test the condition at each START_TAG. </p>\n\n<p>How can I resolve this problem... \nAll answer would be appreciated..thanks</p>\n"},{"tags":["sql","query","sqlite"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":13058646,"title":"INSERT with SELECT works once","body":"<p>I have 3 tables on my SQLite db as follow:</p>\n\n<p>TABLE first_names</p>\n\n<pre><code>id\nname\ngender\n</code></pre>\n\n<p>TABLE last_names</p>\n\n<pre><code>id\nname\n</code></pre>\n\n<p>TABLE names</p>\n\n<pre><code>id\nfirst\nlast\ngender\nbirthday (null)\nused (default 0)\n</code></pre>\n\n<p>Where first and last are unique and also have a index with both being unique on the names table.</p>\n\n<p>In order to fed names table I have used the below query, which worked the first time but after I had added a new name to the last_names and tried to use it again it failed.</p>\n\n<pre><code>INSERT INTO names (first, last, gender) \n       SELECT f.name AS first, l.name AS last, f.gender AS gender \n              FROM first_names f \n              LEFT JOIN last_names l \n              WHERE f.name NOT IN (SELECT first FROM names) AND \n                    l.name NOT IN (SELECT last FROM names)\n</code></pre>\n\n<p>Have also tried using <code>(first, last, gender, [birthday], [used])</code> with values as <code>null AS [birthday], 0 AS [used]</code> but since it birthday is set to null on the table design and used to 0 as default and it worked on the first time didnt think it would be needed nor it made any difference anyway.</p>\n\n<p>I would think it is because of the unique fields however I do have a WHERE to make sure the names are not already in the table names.</p>\n\n<p>I have tried the query using C# and SQLiteAdmin both executing without requesting result or else it doesnt work.</p>\n\n<p>What is wrong with my query and why it only works once ?</p>\n"},{"tags":["javascript","sqlite","phonegap"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":13056838,"title":"Phonegap Writing to SQLite table","body":"<p>Really sorry to have to resort to asking questions on a forum but I have been banging my head all day trying to solve this problem.</p>\n\n<p>I have a phonegap app which creates an SQLite database, creates a table, gets a JSON feed from tinternet and then feeds that data into the table. </p>\n\n<p>Everything seems to be ok up until the bit where the database is supposed to be populated. The  \"insertProperty\" function just doesn't run. Any help would be really awesome!</p>\n\n<p>Here are the relevant code snippets.</p>\n\n<pre><code>x$(document).on('deviceready', function () {\n\n    // CREATE DATABASE\nvar localDatabase = window.sqlitePlugin.openDatabase(\"localDB\", \"1.0\", \"Local DB\", 5000000);\nconsole.log(\"Database Loaded\");\n// CREATE properties TABLE\nvar query = \"CREATE TABLE IF NOT EXISTS properties (propertyid INT, propertytype text, address text,  postcode text, clientid INT);\"\ndb.transaction(function (trxn) {\n    trxn.executeSql(query,  [],  callback,\n    function (transaction, error) { //error callback\n        console.log(error);\n    });\n});\n}\n\n\n\nfunction insertProperty(db, data) {\nvar query = \"INSERT INTO properties (propertyid, propertytype, address, postcode, clientid) VALUES (?,?,?,?,?);\"\ndb.transaction(function (trxn) {\n    trxn.executeSql(query,[data.propertyid, data.propertytype, data.address, data.postcode, data.clientid],\n    function (transaction, resultSet) {\n        console.log('success');\n    },\n    function (transaction, error) {\n        console.log(error);\n    }\n    );\n});\n}\n\n\n\n\nx$().xhr(\"http://myurl.com\", { // GET JSON FEED\n\n    async: true,callback: function () { try {\n        var dataArray = JSON.parse(this.responseText); // PARSE JSON FEED\n        console.log(\"Loading live data\");\n        dataArray.forEach(function (thedata) { // LOOP DATA\n            console.log(thedata.address);\n            insertProperty(localDatabase, thedata);\n        });\n         console.log(\"Rendering Live Data\");\n        renderDataset(dataArray)\n    } catch (e) { // failed to retrieve data\n            console.log(\"There was a problem, Loading local data\");\n            getStoredProperties(localDatabase, function (offlineData) {\n                renderDataset(offlineData);\n            });\n         }\n    }\n});\n</code></pre>\n\n<p>The script runs as far as \"console.log(thedata.address);\" and shows me an address but then as soon as it tries to run the insertProperty function, it bails out and goes straight to the \"console.log(\"There was a problem, Loading local data\");\" bit.</p>\n\n<p>Thanks again for any help you can provide.\nDan</p>\n"},{"tags":["delphi","sqlite","unicode","utf-8"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":76,"score":0,"question_id":13042340,"title":"delphi 2007 display unicode U+1F48B in UTF-8 string or any other way","body":"<p>I have a sqlite database (UTF-8 encoding). And inside the database i have such record (hex bytes):</p>\n\n<pre><code>D0 9E D0 BA 29 F0 9F 92 8B F0 9F 92 8B\n</code></pre>\n\n<p>Thus the bytes are not alligned, that is:</p>\n\n<pre><code>$D09E = O\n$D0BA = к\n$29 = )\n$F09F928B = U+1F48b (KISS MARK)\n$F09F928B = U+1F48b (KISS MARK)\n</code></pre>\n\n<p>This is how it looks like in the SQLite manager:</p>\n\n<p><img src=\"http://i.stack.imgur.com/deQsM.jpg\" alt=\"enter image description here\"></p>\n\n<p>But whatever i do (UTF8Decode and some custom transformations) i cannot make it to be displayed in my Unicode enabled TNTStringGrid. </p>\n\n<p>Yes, i can get the Ok)?? displayed but then goes either Ок)рџ’‹рџ’‹ or this is how it looks like real (UTF8Encoded): РћРє)рџ’‹рџ’‹</p>\n\n<p>I know it's a hard question, but there must be a solution because the SQLite manager displays it absolutely correct.</p>\n\n<p>So how to display those U+ characters along with normal text?</p>\n\n<p>Please help! 3 days and nights fighting with this task.</p>\n"},{"tags":["sqlite"],"answer_count":26,"favorite_count":10,"up_vote_count":63,"down_vote_count":0,"view_count":55341,"score":63,"question_id":151026,"title":"How do I unlock a SQLite database?","body":"<pre><code>sqlite&gt; DELETE FROM mails WHERE (`id` = 71);\nSQL error: database is locked\n</code></pre>\n\n<p>How do I unlock the database so this will work?</p>\n"},{"tags":["sqlite","flex4.6"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13052083,"title":"could not be able to work with the SplitViewNavigator container","body":"<p>I want to make an App using  SplitViewNavigator container which contains List of cities in left view and Detail about the city in right view, In right view there is a text input through I get Name of city and store in a SQLite Database, and that name should be added to list in left view from SQLite Database I got started with flowing code in Main.mxml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;s:Application xmlns:fx=\"http://ns.adobe.com/mxml/2009\" \n                        xmlns:s=\"library://ns.adobe.com/flex/spark\" \n                        applicationDPI=\"160\"\n                        initialize=\"application1_initializeHandler(event)\"&gt;\n&lt;fx:Script&gt;\n    &lt;![CDATA[\n        import model.DataModel;\n\n        import mx.events.FlexEvent;\n        import valueobject.CityValueObject;\n        import utillities.CityUtils;\n\n        public var sqlConnection:SQLConnection;\n        protected var statement:SQLStatement;\n        protected function application1_initializeHandler(event:FlexEvent):void\n        {\n            // TODO Auto-generated method stub\n            sqlConnection = new SQLConnection();\n            sqlConnection.open(File.applicationStorageDirectory.resolvePath(\"cityDB.db\"), SQLMode.CREATE);\n            statement.sqlConnection = sqlConnection; // Here error occurs saying that Error #1009: Cannot access a property or method of a null object reference.\n            statement.text = \"CREATE TABLE IF NOT EXISTS CITYNAME (\" +\n                \"id INTEGER PRIMARY KEY AUTOINCREMENT, \" +\n                \"nameofcity TEXT)\";\n            statement.execute();\n            DataModel.getInstance().connection = sqlConnection;\n\n            CityUtils.getAllCities();\n        }\n\n    ]]&gt;\n&lt;/fx:Script&gt;\n&lt;fx:Declarations&gt;\n    &lt;!-- Place non-visual elements (e.g., services, value objects) here --&gt;\n&lt;/fx:Declarations&gt;\n&lt;s:SplitViewNavigator id=\"svn\" width=\"100%\" height=\"100%\"&gt;\n    &lt;s:ViewNavigator width=\"30%\" height=\"100%\" id=\"list_of_cities\" firstView=\"views.ListOfCities\"/&gt;\n    &lt;s:ViewNavigator width=\"70%\" height=\"100%\" id=\"display_contents\" firstView=\"views.DisplayContents\"/&gt;\n&lt;/s:SplitViewNavigator&gt;\n</code></pre>\n\n<p></p>\n\n<p>My model.DataModel is an action script class:</p>\n\n<pre><code>package model\n</code></pre>\n\n<p>{\n    import flash.data.SQLConnection;</p>\n\n<pre><code>import mx.collections.ArrayCollection;\n\n[Bindable]\npublic class DataModel\n{\n    public var connection:SQLConnection;\n    public var cityList:ArrayCollection = new ArrayCollection();\n    public var logs:String=\"Application Logs........\\n\";\n\n    public static var _instance:DataModel;\n\n    public function DataModel()\n    {\n\n    }\n\n    public static function getInstance():DataModel\n    {\n        if(_instance == null)\n        {\n            _instance = new DataModel();\n        }\n        return _instance;\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>My valueobject.CityValueObject class is:</p>\n\n<pre><code>package valueobject\n{\n[Bindable]\npublic class CityValueObject\n{\n    public var id:uint;\n    public var nameofcity:String;\n}}\n</code></pre>\n\n<p>And My uttillities.CityUtils class is ::</p>\n\n<pre><code>package utillities\n{\nimport flash.data.SQLResult;\nimport flash.data.SQLStatement;\nimport flash.display.Loader;\nimport flash.display.LoaderInfo;\nimport flash.events.Event;\nimport flash.net.URLRequest;\nimport flash.utils.ByteArray;\n\nimport model.DataModel;\n\nimport mx.collections.Sort;\nimport mx.collections.SortField;\n\nimport valueobject.CityValueObject;\n\n\npublic class CityUtils\n{\n    public static function getAllCities():void\n    {\n        var contactListStatement:SQLStatement = new SQLStatement();\n        contactListStatement.sqlConnection = DataModel.getInstance().connection;\n        contactListStatement.text = \"SELECT * FROM CITYNAME\";\n        contactListStatement.execute();\n        var result:SQLResult = contactListStatement.getResult();\n        if( result.data!=null)\n        {\n            DataModel.getInstance().cityList.removeAll();\n\n            for(var count:uint=0;count&lt;result.data.length;count++)\n            {\n                var cityVO:CityValueObject = new CityValueObject();\n                cityVO.id = result.data[count].id;\n                cityVO.nameofcity = result.data[count].city;                    \n                DataModel.getInstance().cityList.addItem(cityVO);\n            }\n        }\n        sortData();     \n    }\n\n    public static function sortData():void\n    {\n        var dataSortField:SortField = new SortField();\n        dataSortField.name = \"cityName\";\n        dataSortField.numeric = false;\n\n        /* Create the Sort object and add the SortField object created earlier to the array of fields to sort on. */\n        var numericDataSort:Sort = new Sort();\n        numericDataSort.fields = [dataSortField];\n\n        /* Set the ArrayCollection object's sort property to our custom sort, and refresh the ArrayCollection. */\n        DataModel.getInstance().cityList.sort = numericDataSort;\n        DataModel.getInstance().cityList.refresh();\n    }\n\n    public static function updateLog(newLog:String):void\n    {\n        DataModel.getInstance().logs += new Date().time+\" :-&gt; \"+newLog+\"\\n\";\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>My left containing list of cities is :</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;s:View xmlns:fx=\"http://ns.adobe.com/mxml/2009\" \n    xmlns:s=\"library://ns.adobe.com/flex/spark\" title=\"Cities\"\n    &gt;\n&lt;fx:Declarations&gt;\n    &lt;!-- Place non-visual elements (e.g., services, value objects) here --&gt;\n&lt;/fx:Declarations&gt;\n\n&lt;fx:Script&gt;\n    &lt;![CDATA[\n        import model.DataModel;\n\n        import mx.collections.ArrayCollection;\n        import mx.events.FlexEvent;\n        import mx.events.IndexChangedEvent;\n\n        import spark.components.SplitViewNavigator;\n        import spark.components.ViewNavigator;\n        import spark.transitions.ViewTransitionBase;\n        protected function myList_changeHandler():void {\n            // Create a reference to the SplitViewNavigator.\n            var splitNavigator:SplitViewNavigator = navigator.parentNavigator as SplitViewNavigator;\n\n            // Create a reference to the ViewNavigator for the Detail frame.\n            var detailNavigator:ViewNavigator = splitNavigator.getViewNavigatorAt(1) as ViewNavigator;\n\n            detailNavigator.transitionsEnabled = false;\n\n            // Change the view of the Detail frame based on the selected List item.\n            detailNavigator.pushView(DisplayContents, list_of_cities.selectedItem);             \n        }           \n    ]]&gt;\n&lt;/fx:Script&gt;\n&lt;s:VGroup width=\"100%\" height=\"100%\"&gt;\n    &lt;s:List id=\"list_of_cities\" height=\"100%\" width=\"100%\" change=\"myList_changeHandler();\" \n            dataProvider=\"{DataModel.getInstance().cityList}\" labelField=\"nameofcity\"&gt;\n\n    &lt;/s:List&gt;       \n&lt;/s:VGroup&gt;\n</code></pre>\n\n<p></p>\n\n<p>and in last my Display Detail about city is simply like this :</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;s:View xmlns:fx=\"http://ns.adobe.com/mxml/2009\" \n    xmlns:s=\"library://ns.adobe.com/flex/spark\" title=\"Detail About City\"\n    &gt;\n&lt;fx:Declarations&gt;\n    &lt;!-- Place non-visual elements (e.g., services, value objects) here --&gt;\n\n&lt;/fx:Declarations&gt;\n&lt;s:actionContent&gt;\n    &lt;s:CalloutButton id=\"add_call_out_button\" label=\"Add City\" verticalPosition=\"after\" \n                     icon=\"@Embed('assets/add.png')\" calloutDestructionPolicy=\"never\"&gt;\n        &lt;!-- layout the callout content here --&gt;\n        &lt;s:calloutLayout&gt;\n            &lt;s:VerticalLayout paddingTop=\"10\" paddingBottom=\"10\" paddingLeft=\"10\" paddingRight=\"10\" horizontalAlign=\"center\" gap=\"5\"/&gt;\n        &lt;/s:calloutLayout&gt;\n        &lt;s:calloutContent&gt;              \n            &lt;s:TextInput id=\"city_name_input\" prompt=\"Enter City Name\" text=\"Sydney\"/&gt;\n            &lt;s:HGroup gap=\"40\"&gt;\n                &lt;s:Button id=\"add_city_name\" label=\"Add City\" width=\"150\" height=\"40\" click=\"add_city_name_clickHandler()\"/&gt;\n                &lt;s:CheckBox id=\"preferred_cbox\" label=\"Preferred\" height=\"40\" /&gt;\n            &lt;/s:HGroup&gt;\n\n        &lt;/s:calloutContent&gt;\n    &lt;/s:CalloutButton&gt;\n    &lt;s:Button id=\"remove_city_name\" label=\"Remove\" width=\"120\" height=\"40\"\n              click=\"remove_city_name_clickHandler()\" icon=\"@Embed('assets/delete.png')\"/&gt;\n\n&lt;/s:actionContent&gt;\n\n&lt;s:Label id=\"nameSomeThing\" text=\"{data.Description}\"/&gt;\n\n&lt;fx:Script&gt;\n    &lt;![CDATA[\n        import model.DataModel;\n\n        import spark.components.SplitViewNavigator;\n        import spark.components.ViewNavigator; \n\n        protected function add_city_name_clickHandler():void\n        {\n            var sqlStatement:SQLStatement = new SQLStatement();\n            sqlStatement.sqlConnection = DataModel.getInstance().connection;\n            sqlStatement.text = \"INSERT INTO CITYNAME (nameofcity)\" +\n                                \"VALUES(:nameofcity)\";\n            sqlStatement.parameters[\":nameofcity\"] = city_name_input.text;\n            sqlStatement.execute();\n\n            var splitNavigator:SplitViewNavigator = navigator.parentNavigator as SplitViewNavigator;\n\n            // Create a reference to the ViewNavigator for the Detail frame.\n            var detailNavigator:ViewNavigator = splitNavigator.getViewNavigatorAt(1) as ViewNavigator;\n\n            detailNavigator.transitionsEnabled = false;\n\n            // Change the view of the Detail frame based on the selected List item.\n            detailNavigator.popToFirstView();\n        }\n\n        protected function remove_city_name_clickHandler():void\n        {\n            // TODO Auto-generated method stub\n\n        }\n\n    ]]&gt;\n&lt;/fx:Script&gt;\n</code></pre>\n\n<p></p>\n\n<p>the above view(Display Detail) is still in development but at this stage I was Trying to add City Name to list of cities by getting name from city name input text input but at:</p>\n\n<pre><code>statement.sqlConnection = sqlConnection; // Here error occurs saying that Error #1009: Cannot access a property or method of a null object reference.\n</code></pre>\n\n<p>Iget that error and not be able to go ahead.</p>\n\n<p>Can any one please give me the way to solve my this problem by my code givien above or suggest me an other way to meet my needs by this App Thanks in Advance...</p>\n"},{"tags":["sqlite","constraints","date"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":73,"score":0,"question_id":9786059,"title":"Control input of SQLite attribute to date format only.","body":"<p>I have been reading all about converting TEXT fields into date formats and ways to use Python to create date objects but my question remains.</p>\n\n<p>My table has a dateTime column that is specified as TEXT, I would like to build a constraint that forces input to be in dateTime format, but as SQLite doesn't do dates (as I would like) I haven't worked out how to do it. </p>\n\n<p>My current ideas: 1. Limit number of characters \n2. Set separate attributes for day, month and year and constrain their domains\n3. It is silly to do this on the database side just do it in the user interface</p>\n\n<p>I would appreciate your opinions on these or other options. \nThanks :)</p>\n"},{"tags":["android","sqlite","exception"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":26,"score":2,"question_id":13053787,"title":"SqliteConstraintException Android","body":"<p>I have a proble with a SqliteConstraintException.\nMy db is like that</p>\n\n<pre><code>private static final String CREATE_TABLE_1 =\n   \"create table table_1 (uid integer primary key autoincrement, \"\n+ table_1.c1 + \" TEXT,\"\n+ table_1.c2 + \" integer,\"\n+ table_1.c3 + \" TEXT,\" \n+ table_1.c4 + \" TEXT,\"\n+ table_1.c5 + \" integer);\";\n\nprivate static final String CREATE_TABLE_2 = \n        \"create table table_2 (uid integer primary key autoincrement, \"\n+ table_2.c1 + \" TEXT,\"\n+ table_2.c2 + \" integer,\"\n+ table_2.c3 + \" TEXT);\";\n\nprivate static final String CREATE_TABLE_3 = \n        \"create table table_3 (uid integer primary key autoincrement, \"\n        + \"uid_table_1 integer, \"\n        + \"uid_table_2 integer, \"\n\n+ \"FOREIGN KEY(uid_table_1) REFERENCES table_1(uid) ON DELETE CASCADE, \" \n+ \"FOREIGN KEY(uid_table_2) REFERENCES table_2(uid) ON DELETE CASCADE);\";\n\nprivate static final String CREATE_TABLE_4 = \n        \"create table table_4 (uid integer primary key autoincrement, \"\n+ \"uid_table_2 integer,\"\n+ \"FOREIGN KEY(uid_table_2) REFERENCES table_2(uid) ON DELETE CASCADE);\";\n</code></pre>\n\n<p>And i use in my SQLiteOpenHelper to enable foreign key constraints</p>\n\n<pre><code>@Override\npublic void onOpen(SQLiteDatabase db) {\nsuper.onOpen(db);\nif (!db.isReadOnly()) {\n// Enable foreign key constraints\ndb.execSQL(\"PRAGMA foreign_keys=ON;\");\n}\n</code></pre>\n\n<p>But when i want to delete on row of the table_2, i get SqliteConstraintException.\nCan you help me please ?</p>\n\n<p>Thank you</p>\n"},{"tags":["sqlite","dblinq"],"answer_count":4,"favorite_count":0,"up_vote_count":6,"down_vote_count":0,"view_count":8825,"score":6,"question_id":580668,"title":"How do I use a boolean field in a where clause in SQLite?","body":"<p>It seems like a dumb question, and yet. It could be my IDE that's goofing me up. Here's the code (this is generated from DbLinq): </p>\n\n<pre><code>SELECT  pics$.Caption, pics$.Id, pics$.Path, pics$.Public, pics$.Active, portpics$.PortfolioID\nFROM main.Pictures pics$\ninner join main.PortfolioPictures portpics$    on  pics$.Id = portpics$.PictureId\n\nWHERE   portpics$.PortfolioId = 1 AND pics$.Id &gt; 0\n--AND pics$.Active = 1 AND pics$.Public = 1\nORDER BY pics$.Id\n</code></pre>\n\n<p>If I run this query I get three rows back, with two boolean fields called Active and Public. Adding in the commented out line returns no rows. Changing the line to any of the following: </p>\n\n<pre><code>pics$.Active = 'TRUE'\npics$.Active = 't' \npics$.Active =  boolean(1)\n</code></pre>\n\n<p>It doesn't work. Either errors or no results. I've googled for this and found a dearth of actual SQL queries out there. And here we are. </p>\n\n<p>So: how do I use a boolean field in a where clause in SQLite?</p>\n\n<p>IDE is SQLite Administrator.</p>\n\n<p><strong>Update</strong>: Well, I found the answer. SQLite Administrator will let you make up your own types apparently; the create SQL that gets generated looks like this: </p>\n\n<pre><code>CREATE TABLE [Pictures] ([Id] INTEGER  PRIMARY KEY AUTOINCREMENT NOT NULL,\n[Path] VARCHAR(50)  UNIQUE NOT NULL,[Caption] varchAR(50)  NULL,\n[Public] BOOLEAN DEFAULT '0' NOT NULL,[Active] BOOLEAN DEFAULT '1' NOT NULL)\n</code></pre>\n\n<p>The fix for the query is </p>\n\n<pre><code>AND pics$.Active = 'Y' AND pics$.Public = 'Y'\n</code></pre>\n\n<p>The real issue here is, as the first answerer pointed out, there is no boolean type in SQLite. Not an issue, but something to be aware of. I'm using <strong>DbLinq</strong> to generate my data layer; maybe it shouldn't allow mapping of types that SQLite doesn't support. Or it should map all types that aren't native to SQLite to a string type. </p>\n"},{"tags":["android","sqlite","greendao"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":52,"score":1,"question_id":12985658,"title":"How can get top of records by GreenDAO?","body":"<p>I wanna to get top some records from my table, but GreenDAO doesn't provide it.\nLike this:</p>\n\n<blockquote>\n  <p>SELECT TOP 1 * FROM table_name</p>\n</blockquote>\n\n<p>In LINQ you can get top of records with <code>Take()</code>, is there any solution for GreenDAO?</p>\n\n<p>Could every one offer a suggestion?</p>\n"},{"tags":["android","sqlite","locking","thread-safety","android-asynctask"],"answer_count":6,"favorite_count":9,"up_vote_count":12,"down_vote_count":0,"view_count":21505,"score":12,"question_id":2647542,"title":"Android threading and database locking","body":"<p>We are using <code>AsyncTasks</code> to access database tables and cursors.</p>\n\n<p>Unfortunately we are seeing occasional exceptions regarding the database being locked.</p>\n\n<pre><code>E/SQLiteOpenHelper(15963): Couldn't open iviewnews.db for writing (will try read-only):\nE/SQLiteOpenHelper(15963): android.database.sqlite.SQLiteException: database is locked\nE/SQLiteOpenHelper(15963):  at     android.database.sqlite.SQLiteDatabase.native_setLocale(Native Method)\nE/SQLiteOpenHelper(15963):  at     android.database.sqlite.SQLiteDatabase.setLocale(SQLiteDatabase.java:1637)\nE/SQLiteOpenHelper(15963):  at     android.database.sqlite.SQLiteDatabase.&lt;init&gt;(SQLiteDatabase.java:1587)\nE/SQLiteOpenHelper(15963):  at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:638)\nE/SQLiteOpenHelper(15963):  at android.database.sqlite.SQLiteDatabase.openOrCreateDatabase(SQLiteDatabase.java:659)\nE/SQLiteOpenHelper(15963):  at android.database.sqlite.SQLiteDatabase.openOrCreateDatabase(SQLiteDatabase.java:652)\nE/SQLiteOpenHelper(15963):  at android.app.ApplicationContext.openOrCreateDatabase(ApplicationContext.java:482)\nE/SQLiteOpenHelper(15963):  at android.content.ContextWrapper.openOrCreateDatabase(ContextWrapper.java:193)\nE/SQLiteOpenHelper(15963):  at android.database.sqlite.SQLiteOpenHelper.getWritableDatabase(SQLiteOpenHelper.java:98)\nE/SQLiteOpenHelper(15963):  at android.database.sqlite.SQLiteOpenHelper.getReadableDatabase(SQLiteOpenHelper.java:158)\nE/SQLiteOpenHelper(15963):  at com.iview.android.widget.IViewNewsTopStoryWidget.initData(IViewNewsTopStoryWidget.java:73)\nE/SQLiteOpenHelper(15963):  at com.iview.android.widget.IViewNewsTopStoryWidget.updateNewsWidgets(IViewNewsTopStoryWidget.java:121)\nE/SQLiteOpenHelper(15963):  at com.iview.android.async.GetNewsTask.doInBackground(GetNewsTask.java:338)\nE/SQLiteOpenHelper(15963):  at com.iview.android.async.GetNewsTask.doInBackground(GetNewsTask.java:1)\nE/SQLiteOpenHelper(15963):  at android.os.AsyncTask$2.call(AsyncTask.java:185)\nE/SQLiteOpenHelper(15963):  at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:256)\nE/SQLiteOpenHelper(15963):  at java.util.concurrent.FutureTask.run(FutureTask.java:122)\nE/SQLiteOpenHelper(15963):  at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:648)\nE/SQLiteOpenHelper(15963):  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:673)\nE/SQLiteOpenHelper(15963):  at java.lang.Thread.run(Thread.java:1060)\n</code></pre>\n\n<p>Does anybody have a general example for code which writes to a database from a different thread than the one reading and how can we ensure thread safety.</p>\n\n<p>One suggestion I've had is to use a <code>ContentProvider</code>, as this would handle the access of the database from multiple threads. I am going to look at this, but is this the recommended method of handling such a problem? It seems rather heavyweight considering we're talking about in front or behind.</p>\n"},{"tags":["sqlite","schema","mybatis"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":55,"score":1,"question_id":13040614,"title":"Sqlite catalog and schema settings (for MyBatis generator)","body":"<p>I have been trying to use the MyBatis generator on a Sqlite database but can't seem to find what settings to use for the XML attributes catalog and schema. </p>\n\n<p>The generator errors with \"Generation Warnings Occured: Table configuration with catalog main, schema sqlite_master, and table testTable did not resolve to any tables\"</p>\n\n<p>I can't find much from the sqlite website other than <a href=\"http://www.sqlite.org/cvstrac/wiki?p=InformationSchema\" rel=\"nofollow\">this</a> which gives something like <code>catalog = main, schema = sqlite or sqlite_master</code></p>\n\n<p>My generator XML file is </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt;\n&lt;!DOCTYPE generatorConfiguration PUBLIC \"-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN\" \"http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd\" &gt;\n&lt;generatorConfiguration &gt;\n  &lt;context id=\"context\"&gt;\n    &lt;jdbcConnection driverClass=\"org.sqlite.JDBC\" connectionURL=\"jdbc:sqlite:testDB.sqlite\" userId=\"\" password=\"\" &gt;&lt;/jdbcConnection&gt;\n    &lt;javaModelGenerator targetPackage=\"model\" targetProject=\"test/src\" &gt;&lt;/javaModelGenerator&gt;\n    &lt;sqlMapGenerator targetPackage=\"model\" targetProject=\"test/src\" &gt;&lt;/sqlMapGenerator&gt;\n    &lt;javaClientGenerator targetPackage=\"model\" targetProject=\"test\" type=\"XMLMAPPER\" &gt;&lt;/javaClientGenerator&gt;\n    &lt;table catalog=\"main\" schema=\"sqlite_master\" tableName=\"testTable\" &gt;\n      &lt;property name=\"useActualColumnNames\" value=\"true\"/&gt; \n    &lt;/table&gt;\n  &lt;/context&gt;\n&lt;/generatorConfiguration&gt;\n</code></pre>\n\n<p>I have also tried other combinations like</p>\n\n<p><code>&lt;table catalog=\"main\" schema=\"sqlite\" tableName=\"testTable\" &gt;</code></p>\n\n<p><code>&lt;table schema=\"sqlite\" tableName=\"testTable\" &gt;</code></p>\n\n<p><code>&lt;table schema=\"sqlite_master\" tableName=\"testTable\" &gt;</code></p>\n\n<p><code>&lt;table schema=\"main.testTable\" tableName=\"testTable\" &gt;</code></p>\n\n<p>Anyone here know the right settings?</p>\n\n<p>EDIT:</p>\n\n<p>I have ommited the catalog and schema but still get Generation Warnings Occured: Table configuration with catalog null, schema null, and table testTable did not resolve to any tables\"</p>\n\n<p>The error makes me think that MyBatis can't find the table because of incorrect schema, but it could be something else though.</p>\n"},{"tags":["android","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":53,"score":2,"question_id":13050729,"title":"how to avoid \"close() was never explicitly called on database in SQLiteDatabase\"","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/4464892/android-error-close-was-never-explicitly-called-on-database\">Android error - close() was never explicitly called on database</a>  </p>\n</blockquote>\n\n\n\n<p>I have a problem in my android app.</p>\n\n<p>I have a singleton implemented which has a method with the following code:</p>\n\n<pre><code>public Cursor getFooCursor(Context context)\n{\n    StorageDBOpenHelper helper = new StorageDBOpenHelper(context);\n    SQLiteDatabase db = helper.getReadableDatabase();\n\n    Cursor c = db.query(\"Foo\", new String[] {\"_id\", \"Titel\"}, null, null, null, null, \"Test DESC\");\n\n    return c;\n}\n</code></pre>\n\n<p>when i use this, i sometimes get the error: <code>SQLiteDatabase: close() was never explicitly called on database</code></p>\n\n<p><strong>how to avoid this?</strong> the problem is, i can not simply make a <code>db.close()</code> befor i <code>return c</code>, because then its empty.</p>\n"},{"tags":["sql","database","query","sqlite","design"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":23,"score":1,"question_id":13050218,"title":"sqlite database: advanced SQL or redesign","body":"<p>I've been programming for several years, but I'm pretty new to SQL(ite).</p>\n\n<p>I'm designing a database for a sort of a bookkeeping program. What I've got so far:  </p>\n\n<pre><code>orders \n    (o INTEGER PRIMARY KEY, \n     customer INTEGER REFERENCES customers(c), \n     num_products INTEGER, \n     date STRING, \n     discount INTEGER, \n     comments TEXT, \n     status INTEGER)\n\no_products \n    (o INTEGER PRIMARY KEY REFERENCES orders(o), \n     p_0 INTEGER, \n     p_1 INTEGER, \n     p_2 INTEGER, etc.\n\no_qtys \n    (o INTEGER PRIMARY KEY REFERENCES orders(o), \n     q_0 INTEGER, \n     q_1 INTEGER, \n     q_2 INTEGER, etc.\n\no_prices \n    (o INTEGER PRIMARY KEY REFERENCES orders(o), \n     p_0 INTEGER, \n     p_1 INTEGER, \n     p_2 INTEGER, etc.\n</code></pre>\n\n<p>The customers and products tables are irrelevant.</p>\n\n<p>Now, this design works well for retrieving the products, quantities and prices in an order, but I'm not sure how to do something like <strong>figure out total quantity of a product ordered in all orders</strong>. I know I could run a lot of queries and sort through the data in my code, but I'm <strong>looking for one elegant query, something like SELECT sum(<em>ordered of this product</em>).</strong> I could turn the o_products table on its side, to list what orders each product is in, but then it would be hard to retrieve what products are in one specific order. I've done some searching, but I can't seem to find an answer.</p>\n\n<p>Is there a good way to do this, or should I redesign the database? If I should redesign it, <strong>how</strong>?</p>\n"},{"tags":["android","sqlite"],"answer_count":3,"favorite_count":27,"up_vote_count":31,"down_vote_count":0,"view_count":37925,"score":31,"question_id":1510840,"title":"Where does Android emulator store SQLite database?","body":"<p>I'm working on an Android application that stores data in a SQLite database.  My question is, where does this database file get stored on the filesystem when you're using an emulator?</p>\n\n<p>I have seen that it's stored in </p>\n\n<p><code>/data/data/package_name/databases</code></p>\n\n<p>but I need to know where on my local machine's hard drive that actually maps to.  The database persists on multiple runs of the emulator, even after having shut down the machine, so it can't just reside in RAM...</p>\n"},{"tags":["android","sql","query","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":46,"score":3,"question_id":12974150,"title":"android sqlite how to order by time","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/8948435/how-do-i-order-my-sqlite-database-in-descending-order-for-an-android-app\">How do i order my SQLITE database in descending order, for an android app?</a>  </p>\n</blockquote>\n\n\n\n<p>I've the following table where i'd like to select the contents of the table but order by the C_TAG_SCAN_TIME field DESC. </p>\n\n<pre><code>public static final String C_ID = BaseColumns._ID; // special for id internally in system\n    public static final String C_TYPE = \"type\";\n    public static final String C_COMPANY_ID = \"companyid\";\n    public static final String C_PERSON_ID = \"person\";\n    public static final String C_NAME = \"name\";\n    public static final String C_TAG_ID = \"tagid\";\n    public static final String C_STATUS = \"status\";\n    public static final String C_TAG_SCAN_TIME = \"tagscantime\";\n    public static final String C_TAG_SENTSERVER_TIME = \"tagsentservertime\";\n    public static final String C_TRANSACTIONS_LATITUDE = \"transactionslatitude\";\n    public static final String C_TRANSACTIONS_LONGITUDE = \"transactionslongitude\";\n</code></pre>\n\n<p>.</p>\n\n<p>This is my query to select everything from the table TRANSACTIONS.</p>\n\n<pre><code>return db.query(DBHelper.TABLETRANSACTIONS, null, null, null, null, null, null);\n</code></pre>\n\n<p>My question is how can i change the query to order descendingly on the C_TAG_SCAN_TIME column?</p>\n"},{"tags":["sqlite","datetime","timestamp","trac"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":30,"score":2,"question_id":13038948,"title":"Trac sqlite date query","body":"<p>I am having a hell of a time generating a report with dates of creation for my tickets.</p>\n\n<p>here is my sqlite query( I am directly querying the db)</p>\n\n<pre><code>.header on\n.mode csv\n.output opentickets.csv\nSELECT DISTINCT\n   id AS ticket, summary, status, priority, t.type AS type, \n   owner, time as created\n\n  FROM ticket t, ticket_custom q\n  LEFT JOIN enum p ON p.name = t.priority AND p.type = 'priority'\n  WHERE t.id = q.ticket AND status &lt;&gt; 'closed'\n ORDER BY  priority, time;\n</code></pre>\n\n<p>But the value I get for the time of creation is garbage:\nI get 1341324096360000\nwhen I should get\n2012-07-03</p>\n\n<p>I have tried unix epoch time conversion...\nquery:</p>\n\n<pre><code>.header on\n.mode csv\n.output opentickets.csv\nSELECT DISTINCT\n   id AS ticket, summary, status, priority, t.type AS type, \n   owner, datetime(time, 'unixepoch') as created\n\n  FROM ticket t, ticket_custom q\n  LEFT JOIN enum p ON p.name = t.priority AND p.type = 'priority'\n  WHERE t.id = q.ticket AND status &lt;&gt; 'closed'\n ORDER BY  priority, time;\n</code></pre>\n\n<p>I get:  -1413-03-01 13:07:12 </p>\n\n<p>What am I missing?</p>\n"},{"tags":["sql","sqlite"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":64,"score":-1,"question_id":13044512,"title":"SQLite query to generate 30-minute intervals","body":"<p>These views and query from <a href=\"http://stackoverflow.com/questions/12815082/sqlite-query-to-desire-results/12815856#comment17711304_12815856\">my older question</a> generate 10-minute intervals four the last hour:</p>\n\n<pre><code>CREATE VIEW intervals AS \n  SELECT -50 AS offset UNION ALL \n  SELECT -40 UNION ALL \n  SELECT -30 UNION ALL \n  SELECT -20 UNION ALL \n  SELECT -10 UNION ALL \n  SELECT 0 \n\nCREATE VIEW end_times AS \n  SELECT datetime('now', offset || ' minutes') AS end \n  FROM intervals\n\nSELECT strftime('%H:%M', end, '-10 minutes') || ' - ' ||\n       strftime('%H:%M', end ) AS time_slot \nFROM end_times\n</code></pre>\n\n<p>The result looks like this:</p>\n\n<pre><code>time_slot\n11:36 - 11:46\n11:46 - 11:56\n11:56 - 12:06\n12:06 - 12:16\n12:16 - 12:26\n12:26 - 12:36\n</code></pre>\n\n<p>What must I change to generate 30-minute intervals for the last 90 minutes instead?</p>\n"},{"tags":["iphone","objective-c","ios","xcode","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":13047574,"title":"LocalStorage or SQLite ?","body":"<p>I'm working on my app that let me to store my online DVD's information on my iphone. Just wonder to use localStorage or SQLite. Also I'm gonna update my app in the future and I dont want to loose my stored data. Which one do you suggest me ?! </p>\n\n<p>Cheers  </p>\n"},{"tags":["android","sqlite","listview"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13014521,"title":"Random entries from sqlite database in list view?","body":"<p>I've got a wierd bug. I have created a listview with headings using another listview using this <a href=\"http://jsharkey.org/blog/2008/08/18/separating-lists-with-headers-in-android-09/\" rel=\"nofollow\">http://jsharkey.org/blog/2008/08/18/separating-lists-with-headers-in-android-09/</a>. Ive populated the headings list with a straight array (there aren't that many) and populated the items listview from a preexisting database. \nBoth listviews show up fine and the items click through to the relevent selections ok, but there are entries on the list <strong>from outside the search parameters</strong>. </p>\n\n<p>This is from the class that returns the lists:</p>\n\n<pre><code>private Cursor getBeginnersCursor()\n{\n    this.cursor = null;\n    try{\n\n        this.getmDB();\n        if(this.mDB == null)\n        {\n            System.out.println(\"mDB = null\");\n        }\n\n        this.cursor = mDB.query(TABLE_NAME,new String[]{KEY_ID,GAME_NAME}, \"_id &gt; 11 AND _id &lt; 35\",\n                null,null,null,null);\n        if(this.cursor != null)\n        {\n            this.cursor.moveToNext();\n        }\n        mDB.close();\n        return this.cursor;\n    }catch(SQLException e){\n        throw e;\n    }\n}\n\n\n\nprivate List&lt;String&gt; getBeginnersArrayList()\n{\n    this.getmDB();\n\n    this.cursor = this.getBeginnersCursor();\n\n    String result;\n\n    for(this.cursor.moveToFirst(); !this.cursor.isAfterLast();this.cursor.moveToNext())\n    {\n        result = this.cursor.getString(1) + \"\\n\";\n        this.beginnersArrayList.add(result);\n    }\n    this.cursor.close();\n    return beginnersArrayList;\n}\n</code></pre>\n\n<p>Many thanks in advance.</p>\n"},{"tags":["android","sql","sqlite"],"answer_count":3,"favorite_count":7,"up_vote_count":15,"down_vote_count":0,"view_count":27155,"score":15,"question_id":5987863,"title":"Android SQLite: Update Statement","body":"<p>I need to implement SQLite in my application. I followed this tutorial..\n<a href=\"http://www.android10.org/index.php/articlesdatastorage/235-creating-and-using-databases-in-android-one\">Creating and using databases in Android one</a></p>\n\n<p>Everything is working fine. I inserted 1 row with 5 columns.\nNow I want to update value of 1 column only and others will be remain same.</p>\n\n<p>There is one update method in tutorial but it needs all the parameters, however I want to update only one column.</p>\n"},{"tags":["c++","database","sqlite","tcp","boost-asio"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":83,"score":2,"question_id":13032030,"title":"boost::asio tcp database server","body":"<p>I need some hints:\nI'm writing a tcp database server, that can hold 100 strings (I used vector of strings to hold the data). Basic functionality, achieved by me so far is: </p>\n\n<p>client sends: PUT \"index\" \"value\" - string is put in the vector[index].<br>\nclient sends: GET \"index\" - vector[index] is sent to client</p>\n\n<p>I based my work on boost::asio async echo server example \n<a href=\"http://www.boost.org/doc/libs/1_39_0/doc/html/boost_asio/example/echo/async_tcp_echo_server.cpp\" rel=\"nofollow\">http://www.boost.org/doc/libs/1_39_0/doc/html/boost_asio/example/echo/async_tcp_echo_server.cpp</a></p>\n\n<p>Right now, I want to extend the functionality of the server to:</p>\n\n<p><strong>STILL UNSOLVED</strong> 1. Be able to load the starting content of vector from file on start and save it on exit.</p>\n\n<p><strong>SOLVED</strong> 2. Put timer on database elements: lifetime of string in vector[index] should be 30 seconds, if within 30seconds of input, the new data doesn't arrive to vector[index] the content should be erased. </p>\n\n<p>The only issue left, is saving/loading vector data on exit/start. Since the vector contains only 100 strings, I could simply read/write using fstream, but I have a problem with triggering the save. </p>\n\n<p>My async server's main function contains: io_service.run(); How can I trigger an action by pressing a key during running server? My first guess is async_read from user input as in <a href=\"http://www.boost.org/doc/libs/1_51_0/doc/html/boost_asio/example/chat/posix_chat_client.cpp\" rel=\"nofollow\">http://www.boost.org/doc/libs/1_51_0/doc/html/boost_asio/example/chat/posix_chat_client.cpp</a> example. Any other ideas? </p>\n"},{"tags":["android","query","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13047321,"title":"Update table using RawQuery() methos des not work","body":"<p>I tried the following SQLite query:</p>\n\n<pre><code>    int idServizo = 150;\n    String whereClause = id_servizio+\" = '\"+idServizio+\" ' \";\n    ContentValues cv = new ContentValues();\n    cv.put(\"sync\", 1);\n\n    int r = dbManager.updateTable(\"myTable\", cv, whereClause);\n</code></pre>\n\n<p>where fields sync and id_servizio are both integer.\nthe method updateTable is:</p>\n\n<pre><code> public int updateTable(String table, ContentValues values, String whereClause){\n    int r = mDb.update(table, values, whereClause, null);\n    return r;\n}\n\n // mDb is SQLiteDatabase object\n</code></pre>\n\n<p>All this works good. \nBut if I try with RawQuery() method defined as:</p>\n\n<pre><code> public Cursor RawQuery(String sqlQuery, String[] columns){\n    return mDb.rawQuery(sqlQuery, columns);    \n}\n</code></pre>\n\n<p>the table is not update! even if no error occurs.</p>\n\n<pre><code> int idServizo = 150;\n String updateQuery =\"UPDATE myTable SET sync = 1 WHERE id_servizio = \"+idServizio;\n dbManager.RawQuery(updateQuery, null);\n</code></pre>\n\n<p>Why this solution does not work?</p>\n"},{"tags":["database","sqlite","navicat"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":18,"score":1,"question_id":13046765,"title":"Unable to delete record from sqlite db using Navicat","body":"<p>I'm unable to delete record from sqlite db using Navicat. The error reads: `Error constraint failed'</p>\n\n<p>I get the same thing if I try to delete with the console using an sql command:</p>\n\n<pre><code>sqlite&gt; delete from myTable where sort = '965';\nconstraint failed\nsqlite&gt; \n</code></pre>\n\n<p>any idea why this might be happening. </p>\n\n<p>thanks for the help</p>\n"},{"tags":["php","sqlite","post","null"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":86,"score":1,"question_id":13045468,"title":"SQLite UPDATE submits null data if using data from $_POST","body":"<p>I'm trying to update a table in PHP with SQLite. My code is the following:</p>\n\n<pre><code>//Get params like this\n$title = $_POST['title'];\n...\n$params = array($visible, $link, $title, $post, $month, $day, $year, $sub3);\n$query = \"UPDATE posts SET visible = ?, link = ?, title = ?, entries = ?, month = ?, day = ?, year = ? WHERE id = ?; COMMIT;\";\n$stmt = $db-&gt;prepare($query);\n$result = $stmt-&gt;execute($params);\n</code></pre>\n\n<p>If I get the values from $_POST, by the time it does the execute on the statement, 99% of the time, null values are updated in the fields instead of the $_POST data ($sub3 is not from $_POST).</p>\n\n<p>If I hard code the values, it works fine. I also have an insert statement in the same code path (checks to see if it's new data first, if not do the INSERT). Insert works fine every time (data from $_POST).</p>\n\n<p>Also, I have code like this for three other tables, all of which work. This is the only table that doesn't. Nothing different about set up of table compared to others.</p>\n\n<p>This one works on a different table:</p>\n\n<pre><code>$params = array($name, $username, $email, $level, $sub3);\n$query = \"UPDATE users SET name = ?, username = ?, email = ?, level = ? WHERE id = ?; COMMIT;\";\n$stmt = $db-&gt;prepare($query);\n$result = $stmt-&gt;execute($params);\n</code></pre>\n\n<p>I've tried bindParam, bindValue, and creating the statement string manually without prepare, but as long as it's from $_POST, it won't work.</p>\n\n<p>What am I missing? Anything else I can try?</p>\n"},{"tags":["sql","sqlite","fts4"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13044717,"title":"SQL FTS and comparison statements","body":"<p>Short story. I am working on a project where I need to communicate with SQLite database. And I there I have several problems:</p>\n\n<p>There is one FTS table with <em>nodeId</em> and <em>nodeName</em> columns. I need to select all nodeIds for which nodeNames contains some text pattern. For instance all node names with \"Donald\" inside. Something similar was discussed in this <a href=\"http://stackoverflow.com/questions/10501805/using-fts-query-can-you-find-all-entries-contains-abc\">thread</a>. The point is that I can't use <em>CONTAINS</em> keyword. Instead I use <em>MATCH</em>. And here is the question itself: how should this \"Donald\" string be \"framed\"? With '*' or with '%' character? Here is my query:</p>\n\n<pre><code>SELECT * FROM nodeFtsTable WHERE nodeName MATCH \"Donald\"\n</code></pre>\n\n<p>Is it OK to write multiple comparison in <em>SELECT</em> statement? I mean something like this:</p>\n\n<pre><code>SELECT * FROM distanceTable WHERE pointId = 1 OR pointId = 4 OR pointId = 203 AND distance&lt;200\n</code></pre>\n\n<p>I hope that it does not sound very confusing. Thank you in advance!</p>\n"},{"tags":["php","sqlite","installer","local"],"answer_count":5,"favorite_count":3,"up_vote_count":2,"down_vote_count":0,"view_count":526,"score":2,"question_id":1473241,"title":"Making a distribultable standalone program in PHP","body":"<p>I've decided to code some applications in PHP that are supposed to run offline in the user's machine. However, I can't seem to find an user-friendly install wizard to create a local server in where the script will run. Any ideas? </p>\n\n<p>PS: Here's an example of what I want: <a href=\"http://www.nolapro.com\" rel=\"nofollow\">http://www.nolapro.com</a></p>\n"},{"tags":[".net","sqlite","iis","mixed-mode"],"answer_count":4,"favorite_count":6,"up_vote_count":15,"down_vote_count":0,"view_count":3776,"score":15,"question_id":6205393,"title":"New SQLite mixed assemblies","body":"<p>Previously .NET SQLite libraries were available from <code>http://sqlite.phxsoftware.com</code>, but they have recently been taken over by the main SQLite team and have moved <em><a href=\"http://system.data.sqlite.org/index.html/doc/trunk/www/downloads.wiki\">System.Data.SQLite Download Page</a></em>. The new packages don't seem to contain mixed assemblies anymore (single assembly containing sqlite3.dll and the .NET wrapper).</p>\n\n<p>The new package comes with the .NET DLL and <code>SQLite.Interop.dll</code> which based on the documentation is not needed on the desktop but my application fails to load with <code>Unable to load DLL 'SQLite.Interop.DLL': The specified module could not be found.</code>. I have tried running the application under IIS/IIS Express with apppool set to 32-bit.</p>\n\n<p>I have tried copying the <code>SQLite.Interop.dll</code> file into the <code>bin</code> folder, the system folder, and the ASP.NET temp folder but still get the same error.</p>\n\n<p>Are there mixed assemblies for new releases available anywhere? If not, is there a way to fix the <code>Unable to load DLL 'SQLite.Interop.DLL</code> error?</p>\n"},{"tags":["objective-c","ios","sqlite","insert"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":77,"score":1,"question_id":13044896,"title":"App crashes while inserting 7000 rows into SQLite database","body":"<p>I have a problem, I want to insert 7000 rows into an SQLite database but when I reach the 6000th row, my application crashes with no error.</p>\n\n<p>I used a profiler and apparently the problem is RAM usage on my iPad (when the app allocates 435MB of RAM it crashes).</p>\n\n<p>So my question is how to manage memory during inserts? (and yes, I need to have this data locally because my app needs to work in disconnected mode).</p>\n\n<p>Here is the code I use to insert rows in the table:</p>\n\n<pre><code>-(void)MultiInsertFamille:(NSArray *)categories{\nsqlite3_stmt *stmt=nil;\nsqlite3 *bdd;\n\nNSString *database = [[NSHomeDirectory() stringByAppendingPathComponent:@\"Documents\"] stringByAppendingPathComponent:@\"myBDD.sqlite\"];\nif (sqlite3_open([database UTF8String], &amp;bdd) == SQLITE_OK)\n{\n    sqlite3_exec(bdd, \"BEGIN\", 0, 0, 0);\n    const char *sqlstatement=\"insert into Famille values(?,?,?,?,?,?,?)\";\n\n    if(sqlite3_prepare_v2(bdd,sqlstatement , -1, &amp;stmt, NULL)==SQLITE_OK)\n    {\n        int hasError= 0;\n        int i = 0;\n        for(NSString *path in categories)\n        {\n            i++;\n            NSString *nameFile = [[path componentsSeparatedByString: @\".\"] objectAtIndex:0];\n            XMLParserFamille *fa = [[XMLParserFamille alloc] initXMLParserFamille:nameFile parseError:nil];\n            FamilleData *fam = fa.famille;\n            [fa release];\n\n            if (fam.champ_Recherche)\n                sqlite3_bind_text(stmt, 1, [fam.champ_Recherche cStringUsingEncoding:NSUTF8StringEncoding], -1, SQLITE_TRANSIENT);\n            else\n                sqlite3_bind_text(stmt, 1, \"NULL\", -1, SQLITE_TRANSIENT);\n\n            NSString *pathImTh = @\"\";\n            for (Attribut *att in fam.Attributs)\n            {\n                if ([att.name isEqualToString:@\"ProductThumbnail\"])\n                {\n                    pathImTh = att.value;\n                    break;\n                }\n            }\n            if (pathImTh)\n                sqlite3_bind_text(stmt, 2, [pathImTh cStringUsingEncoding:NSUTF8StringEncoding], -1, SQLITE_TRANSIENT);\n            else\n                sqlite3_bind_text(stmt, 2, \"NULL\", -1, SQLITE_TRANSIENT);\n\n            if (fam.nom)\n                sqlite3_bind_text(stmt, 3, [fam.nom cStringUsingEncoding:NSUTF8StringEncoding], -1, SQLITE_TRANSIENT);\n            else\n                sqlite3_bind_text(stmt, 3, \"NULL\", -1, SQLITE_TRANSIENT);\n\n            if (fam.ordre)\n                sqlite3_bind_int(stmt, 4, [fam.ordre intValue]);\n            else\n                sqlite3_bind_int(stmt, 4, 0);\n\n            if (fam.uid)\n                sqlite3_bind_text(stmt, 5, [fam.uid cStringUsingEncoding:NSUTF8StringEncoding], -1, SQLITE_TRANSIENT);\n            else\n                sqlite3_bind_text(stmt, 5, \"NULL\", -1, SQLITE_TRANSIENT);\n\n            if (fam.uid_Categorie)\n                sqlite3_bind_text(stmt, 6, [fam.uid_Categorie cStringUsingEncoding:NSUTF8StringEncoding], -1, SQLITE_TRANSIENT);\n            else\n                sqlite3_bind_text(stmt, 6, \"NULL\", -1, SQLITE_TRANSIENT);\n\n            if (fam.xmlErrone)\n                sqlite3_bind_int(stmt, 7, [fam.xmlErrone intValue]);\n            else\n                sqlite3_bind_int(stmt, 7, 0);\n\n            if(sqlite3_step(stmt)==SQLITE_DONE)\n            {\n                NSLog(@\"OK\");\n            }\n            else\n            {\n                NSLog(@\"sqlite3_step error famille: '%s'\", sqlite3_errmsg(bdd));\n                hasError= 1;\n            }\n            sqlite3_reset(stmt);\n            if (i==5500)\n                break;\n        }\n        //if( hasError == 0 ) {\n        sqlite3_exec(bdd, \"COMMIT\", 0, 0, 0);\n        //}\n        //else {\n        //    sqlite3_exec(bdd, \"ROLLBACK\", 0, 0, 0);\n        //}\n    }\n}\nsqlite3_close(bdd);}\n</code></pre>\n"},{"tags":["android","sqlite","exception","twitter4j"],"answer_count":1,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":88,"score":4,"question_id":13013769,"title":"Strange SQLiteException not in all devices","body":"<p>I have a button which when pressed opens twitter login page in a webview (as an activity). i'm using <em>twitter4j version 2.2.6</em>.\nthe problem is this- when i click on the emulator or my samsung glaxy 2 it works perfectly witout any bugs, but when i click the button on my <em>samsung galaxy 3 GT-I9300</em> (and my friends same phone) i get the following exception:</p>\n\n<blockquote>\n  <p>android.database.sqlite.SQLiteException: no such table: password: ,\n  while compiling: SELECT username, password FROM password WHERE (host\n  == ?)\n          at android.database.sqlite.SQLiteCompiledSql.native_compile(Native\n  Method)\n          at android.database.sqlite.SQLiteCompiledSql.(SQLiteCompiledSql.java:68)\n          at android.database.sqlite.SQLiteProgram.compileSql(SQLiteProgram.java:143)\n          at android.database.sqlite.SQLiteProgram.compileAndbindAllArgs(SQLiteProgram.java:361)\n          at android.database.sqlite.SQLiteProgram.(SQLiteProgram.java:127)\n          at android.database.sqlite.SQLiteProgram.(SQLiteProgram.java:94)\n          at android.database.sqlite.SQLiteQuery.(SQLiteQuery.java:53)\n          at android.database.sqlite.SQLiteDirectCursorDriver.query(SQLiteDirectCursorDriver.java:47)\n          at android.database.sqlite.SQLiteDatabase.rawQueryWithFactory(SQLiteDatabase.java:1684)\n          at android.database.sqlite.SQLiteDatabase.queryWithFactory(SQLiteDatabase.java:1569)\n          at android.database.sqlite.SQLiteDatabase.query(SQLiteDatabase.java:1525)\n          at android.database.sqlite.SQLiteDatabase.query(SQLiteDatabase.java:1605)\n          at android.webkit.WebViewDatabase.getUsernamePassword(WebViewDatabase.java:990)\n          at android.webkit.BrowserFrame.handleMessage(BrowserFrame.java:589)\n          at android.os.Handler.dispatchMessage(Handler.java:99)\n          at android.os.Looper.loop(Looper.java:137)\n          at android.webkit.WebViewCore$WebCoreThread.run(WebViewCore.java:950)\n          at java.lang.Thread.run(Thread.java:856)</p>\n</blockquote>\n\n<p>the webview is an activity (extends Activity) \ni have plenty of free space at the point of crash: </p>\n\n<blockquote>\n  <p>total- 12187213824 free- 4315947008</p>\n</blockquote>\n\n<p>my configuration at the crash:</p>\n\n<pre><code>FlipFont=0\ncompatScreenHeightDp=546\ncompatScreenWidthDp=320\ncompatSmallestScreenWidthDp=320\nfontScale=0.93\nhardKeyboardHidden=HARDKEYBOARDHIDDEN_YES\nkeyboard=KEYBOARD_NOKEYS\nkeyboardHidden=KEYBOARDHIDDEN_NO\nlocale=en_US\nmcc=425\nmnc=1\nnavigation=NAVIGATION_NONAV\nnavigationHidden=NAVIGATIONHIDDEN_YES\norientation=ORIENTATION_PORTRAIT\nscreenHeightDp=615\nscreenLayout=SCREENLAYOUT_SIZE_NORMAL+SCREENLAYOUT_LONG_YES\nscreenWidthDp=360\nseq=46\nsmallestScreenWidthDp=360\ntextLayoutDirection=0\ntouchscreen=TOUCHSCREEN_FINGER\nuiMode=UI_MODE_TYPE_NORMAL+UI_MODE_NIGHT_NO\nuserSetLocale=false\n</code></pre>\n\n<p>device features:</p>\n\n<pre><code>android.hardware.wifi\nandroid.hardware.location.network\nandroid.hardware.nfc\nandroid.hardware.location\nandroid.hardware.sensor.gyroscope\nandroid.hardware.screen.landscape\nandroid.hardware.screen.portrait\nandroid.hardware.wifi.direct\nandroid.hardware.usb.accessory\nandroid.hardware.bluetooth\nandroid.hardware.touchscreen.multitouch.distinct\nandroid.hardware.microphone\nandroid.hardware.sensor.light\nandroid.hardware.camera.autofocus\nandroid.software.live_wallpaper\nandroid.hardware.camera.flash\nandroid.hardware.telephony\nandroid.software.sip\nandroid.hardware.touchscreen.multitouch.jazzhand\nandroid.hardware.sensor.barometer\nandroid.hardware.usb.host\nandroid.hardware.touchscreen.multitouch\nandroid.hardware.sensor.compass\nandroid.hardware.faketouch\nandroid.hardware.camera\ncom.sec.feature.minimode\nandroid.software.sip.voip\nandroid.hardware.sensor.proximity\nandroid.hardware.location.gps\nandroid.hardware.telephony.gsm\nandroid.hardware.camera.front\ncom.nxp.mifare\nandroid.hardware.touchscreen\nandroid.hardware.sensor.accelerometer\nglEsVersion = 2.0\n</code></pre>\n\n<p>ENVIRONMENT:</p>\n\n<pre><code>getAndroidSecureContainerDirectory=/mnt/asec\ngetCloudStorageDirectory=/mnt/sdcard/cloud\ngetCloudStorageDirectoryPath=/mnt/sdcard/cloud\ngetDataDirectory=/data\ngetDownloadCacheDirectory=/cache\ngetExternalStorageAndroidDataDir=/mnt/sdcard/Android/data\ngetExternalStorageDirectory=/mnt/sdcard\ngetExternalStorageDirectoryUsbHost=/mnt/sdcard/Storages/usb\ngetExternalStorageState=mounted\ngetRootDirectory=/system\ngetSecureDataDirectory=/data\ngetSystemSecureDirectory=/data/system\nisEncryptedFilesystemEnabled=false\nisExternalStorageEmulated=true\nisExternalStorageRemovable=false\n</code></pre>\n\n<p>Permissions:\n    </p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.INTERNET\"/&gt;\n&lt;uses-permission android:name=\"android.permission.READ_PHONE_STATE\"/&gt;\n&lt;uses-permission android:name=\"android.permission.ACCESS_COARSE_LOCATION\" /&gt;\n&lt;uses-permission android:name=\"android.permission.ACCESS_FINE_LOCATION\" /&gt;\n&lt;uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\"/&gt;\n&lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\"/&gt;\n&lt;uses-permission android:name=\"android.permission.GET_TASKS\"/&gt;\n</code></pre>\n\n<p><strong>In the webview i didnt made any sqllite transaction or nothing involved.</strong></p>\n\n<p><strong>see my answer about this line</strong> &uarr;</p>\n\n<p>I'm not a <em>root</em> user (meaning i have the write rights)</p>\n\n<p>the code involving the webview is:</p>\n\n<pre><code>public void onCreate(Bundle savedInstanceState)\n{\n    super.onCreate(savedInstanceState);\n    try{\n                    requestWindowFeature(Window.FEATURE_NO_TITLE);\n\n        setContentView(R.layout.twitter);\n        mIntent = getIntent();\n        String url = (String)mIntent.getExtras().get(\"URL\");\n        WebView webView = (WebView) findViewById(R.id.webview);\n\n        WebSettings settings = webView.getSettings();\n\n        settings.setDatabaseEnabled(true);\n        settings.setDatabasePath(\"/data/data/\"+getPackageName()+\"/databases\");\n        settings.setDomStorageEnabled(true);\n\n        settings.setJavaScriptEnabled(true);\n        settings.setAllowFileAccess(true);\n        settings.setSaveFormData(true);\n        settings.setSavePassword(true);\n            webView.setWebViewClient( new WebViewClient()\n            {\n                @Override\n                public boolean shouldOverrideUrlLoading(WebView view, String url)\n                {\n                    ...\n                    return false;\n                }\n            });\n            webView.loadUrl(url);\n         }catch(Exception e){\n            e.printStackTrace();\n         }\n\n\n    }\n    public void onExceededDatabaseQuota(String url, String \n            databaseIdentifier, long currentQuota, long estimatedSize, long \n            totalUsedQuota, WebStorage.QuotaUpdater quotaUpdater) { \n\n         quotaUpdater.updateQuota(204801); \n    } \n</code></pre>\n\n<p>I've found this links that has some similarity:</p>\n\n<ul>\n<li><a href=\"http://stackoverflow.com/questions/12841537/sqliteexception-no-such-table-only-on-motorola-plus\">SQLiteException: no such table only on Motorola Plus?</a></li>\n<li><a href=\"http://stackoverflow.com/questions/8663227/android-webview-throws-sqliteexception\">Android WebView throws SQLiteException</a></li>\n<li><a href=\"http://stackoverflow.com/questions/7196600/sqliteexception-only-happens-on-some-devices\">SQLiteException - only happens on some devices</a></li>\n<li><a href=\"http://www.anddev.org/networking-database-problems-f29/missing-table-in-sqlite-with-specific-version-of-desire-hd-t50364.html\" rel=\"nofollow\">http://www.anddev.org/networking-database-problems-f29/missing-table-in-sqlite-with-specific-version-of-desire-hd-t50364.html</a></li>\n</ul>\n\n<p>I've looked on too many threads for a long week and i'm pretty frustrated about it</p>\n\n<p>does anyone have any ideas? thanks</p>\n"},{"tags":["database","sqlite","windows-phone-7.1"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13043650,"title":"Add Existing SQLite Database in Windows Phone Application?","body":"<p>I am very new to windows phone application development and I am working on a Windows 7.1 Phone Application in which I have to use an existing database which is SQLite. I am wondering how to add that file in the project and then how can I query that database? How to add helper classes for this db?I have searched around but I was not able to find an easy to understand tutorial. Any help is appreciated.  Thanks...!</p>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13039487,"title":"Make android sql lite datatype always text","body":"<p>I am trying to create sqllite db for my Android application use </p>\n\n<p>Is it bad habit to have all the data types as text? The reason is even though some data can be integer in nature (like number of items.. Etc) but many times I need to display the values as a string or get it as input from user. So I thought for easier manipulation I will just make the datatype in the db as text</p>\n\n<p>Thoughts? </p>\n"},{"tags":["android","database","sqlite"],"answer_count":1,"favorite_count":1,"up_vote_count":10,"down_vote_count":0,"view_count":2826,"score":10,"question_id":6234171,"title":"How do I update an android sqlite database column value to null using ContentValues?","body":"<p>For example, I want to do the following on a database update.</p>\n\n<p>Is there a constant I can use instead of null, which won't compile if I use it like:</p>\n\n<pre><code>ContentValues args = new ContentValues();\nargs.put(KEY_RISK_AMOUNT, null); // what constant do I use instead of null?\n</code></pre>\n"},{"tags":["sqlite","stored-procedures"],"answer_count":3,"favorite_count":2,"up_vote_count":24,"down_vote_count":0,"view_count":18262,"score":24,"question_id":3335162,"title":"Creating stored procedure and SQLite?","body":"<p>Is it somehow possible to create a stored procedure, when using SQLite?</p>\n"},{"tags":["query","sqlite","sqlite3","query-optimization"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":83,"score":1,"question_id":13030058,"title":"WebSQL query optimization help - CASE WHEN makes query 400 ms slow","body":"<p>Can somebody tell me why 'CASE WHEN' makes it so slow and how to optimize / fix it, please ?</p>\n\n<p>It is needed to get the items that are pinned to be put first in the result and in order.</p>\n\n<p>I could probably do it after the sql query but i think it would be faster, when done right, if this sorting is done inside the sql query.</p>\n\n<p>slow query ~490ms</p>\n\n<pre><code>SELECT \n    places.id AS place_id,\n    url,\n    title,\n    thumbnails.score AS score,\n    thumbnails.clipping AS clipping,\n    thumbnails.lastModified AS lastModified,\n    EXISTS (SELECT 1 FROM pinned pi WHERE pi.place_id = places.id) AS pinned\nFROM places\n    LEFT JOIN thumbnails ON (thumbnails.place_id = places.id)\n    LEFT JOIN pinned j ON (j.place_id = places.id) WHERE (hidden == 0)\nORDER BY case when j.id is null then 1 else 0 end,\n    j.id,\n    frecency DESC LIMIT 24\n</code></pre>\n\n<p>Removing the 'CASE WHEN' part:\nquery ~6ms</p>\n\n<pre><code>SELECT\n    places.id AS place_id,\n    url,\n    title,\n    thumbnails.score AS score,\n    thumbnails.clipping AS clipping,\n    thumbnails.lastModified AS lastModified,\n    EXISTS (SELECT 1 FROM pinned pi WHERE pi.place_id = places.id) AS pinned\nFROM places\n    LEFT JOIN thumbnails ON (thumbnails.place_id = places.id) WHERE (hidden == 0)\nORDER BY frecency DESC LIMIT 24\n</code></pre>\n\n<p>Table info:</p>\n\n<pre><code>var Create_Table_Places =\n    'CREATE TABLE places (' +\n        'id INTEGER PRIMARY KEY,' +\n        'url LONGVARCHAR,' +\n        'title LONGVARCHAR,' +\n        'visit_count INTEGER DEFAULT 0,' +\n        'hidden INTEGER DEFAULT 0 NOT NULL,' +\n        'typed INTEGER DEFAULT 0 NOT NULL,' +\n        'frecency INTEGER DEFAULT -1 NOT NULL,' +\n        'last_visit_date INTEGER,' +\n        'dateAdded INTEGER,' +\n        'lastModified INTEGER' +\n    ')';\n\nvar Create_Table_Thumbnails =\n    'CREATE TABLE thumbnails (' +\n        'id INTEGER PRIMARY KEY,' +\n        'place_id INTEGER UNIQUE,' +\n        'data LONGVARCHAR,' +\n        'score REAL,' +\n        'clipping INTEGER,' +\n        'dateAdded INTEGER,' +\n        'lastModified INTEGER' +\n    ')';\n\nvar Create_Table_Pinned =\n    'CREATE TABLE pinned (' +\n        'id INTEGER PRIMARY KEY,' +\n        'place_id INTEGER UNIQUE,' +\n        'position INTEGER,' +\n        'dateAdded INTEGER,' +\n        'lastModified INTEGER' +\n    ')';\n</code></pre>\n"},{"tags":["c#","visual-studio-2010","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":70,"score":1,"question_id":13028069,"title":"Unable to load DLL 'SQLite.Interop.dll'","body":"<p>Periodically I am getting the following exception:</p>\n\n<p><code>Unable to load DLL 'SQLite.Interop.dll': The specified module could not be found. (Exception from HRESULT: 0x8007007E)</code></p>\n\n<p>I am using 1.0.82.0. version, installing it with nuget in VS2010, OS Win7 64.</p>\n\n<p>Once exception starts to appear, it appears constantly - in debug and release and running application within or outside VS.</p>\n\n<p>The only way to stop it is logoff and logon. The exception is not thrown and dll is loaded.\nIt can work for days, but then it can break again. </p>\n\n<p>Has anyone seen something like this and is there a solution for it?</p>\n"},{"tags":["iphone","ios","database","cocoa-touch","sqlite"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":4,"view_count":49,"score":-4,"question_id":13036637,"title":"SQLite database in iOS","body":"<p>I have a filled SQLite Database, and I want to display its records in a table view. How can I do it?</p>\n"},{"tags":["c#","sqlite","linq-to-sql","windows-8"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":13034394,"title":"How to execute a query with distinct keyword in sqlite in windows 8 app?","body":"<p>I want to fetch distinct data from my table but  I am not able to use the distinct keyword with the following statement.</p>\n\n<pre><code>var query = conn.Table&lt;taxi_fares&gt;()\n</code></pre>\n\n<p>Please guide me about how I could write this query here in C#.</p>\n"},{"tags":["android","sqlite","persistence"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13034862,"title":"saving object to sqlite - android","body":"<p>I have an object, say mUser, and it has some values in - mUser.name, mUser.gender etc.. \nAlso I have another object , say mUser.personalInfo inside mUser ( Sorry I dont know what exatly I should mention it). And inside personalInfo , few more items. </p>\n\n<p>ie. mUser.personalInfo.age will return 33.</p>\n\n<p>I need to save this object with all its properties and sub items to sqlite database. </p>\n\n<p>How will be the procedure? Could anyone tell me the steps to follow. Like - 1. Create tables, 2. do something with the object, 3. pass this code.. with some pseudo if required.</p>\n"},{"tags":["java","sqlite","jdbc"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":59,"score":1,"question_id":13033357,"title":"SQLite 'BETWEEN' doesn't behave as expected","body":"<p>I'm trying to select all rows that fall between two column values. The values are UNIX Timestamps but the query isn't returning any rows at all. Why would that be?</p>\n\n<p>Here's my code:</p>\n\n<pre><code>public static ArrayList&lt;Appointment&gt; getAppointments(long start, long end) {\n    ArrayList&lt;Appointment&gt; appointments = new ArrayList&lt;&gt;();\n    try {\n        Statement stat = db.createStatement();\n        System.out.println(\"\\n\" + start + \"  -&gt;  \" + end);\n\n        // debugging only\n        try (ResultSet rs = stat.executeQuery(\"SELECT * FROM appointments;\")) {\n            while (rs.next()) {\n                long time = rs.getLong(\"date\");\n                if (time &gt;= start &amp;&amp; time &lt;= end) {\n                    System.out.println(\"Should be adding to list\");\n                }\n            }\n        } // \n\n        try (ResultSet rs = stat.executeQuery(\"SELECT * FROM appointments WHERE date BETWEEN \" + start + \" AND \" + end + \";\")) {\n            while (rs.next()) {\n                System.out.println(\"ADDING\");\n                appointments.add(new Appointment(rs.getLong(\"date\"), rs.getInt(\"duration\")));\n            }\n        }\n    } catch (SQLException ex) {\n    }\n    System.out.println(appointments);\n    return appointments;\n}\n</code></pre>\n\n<p>Where the table has three rows with these values:</p>\n\n<pre><code>1347390000000 15\n1347461100000 30\n1347469200000 45\n</code></pre>\n\n<p>And the output is:</p>\n\n<pre><code>date = 1347390000000 duration = 15\ndate = 1347461100000 duration = 30\ndate = 1347469200000 duration = 45\n\n1350141222283  -&gt;  1350746022283\n[]\n\n1349536422283  -&gt;  1350141222283\n[]\n\n1348931622283  -&gt;  1349536422283\n[]\n\n1348330422283  -&gt;  1348931622283\n[]\n\n1347725622283  -&gt;  1348330422283\n[]\n\n1347120822283  -&gt;  1347725622283\nShould be adding to list\nShould be adding to list\nShould be adding to list\n[]\n\n1346516022283  -&gt;  1347120822283\n[]\n</code></pre>\n"},{"tags":["php","sqlite","command-line","locking"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":33,"score":1,"question_id":13032637,"title":"SQLite database is locked, but only for insert from PHP script run at command line","body":"<p>I have a PHP script that does the following in the order presented:</p>\n\n<ul>\n<li>Connect to a MySQL database</li>\n<li>Retrieve a single row of data</li>\n<li>Close the MySQL database connection</li>\n<li>Connect to a SQLite database on the local file system</li>\n<li>Insert the row of data into the SQLite database</li>\n<li>Close the SQLite database connection</li>\n</ul>\n\n<p>I'm using PDO as the vehicle for both MySQL and SQLite. Here is the code for the insert:</p>\n\n<pre><code>$sqlite = new PDO('sqlite:activity.sqlite');\n$sqlite-&gt;setAttribute( PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION );\n\n$lite = &lt;&lt;&lt;LITE\nINSERT INTO Transactions (Date,Transactions,ActiveMembers,Amount) \nVALUES\n('$day',\n'$trans',\n'$active',\n'$amount');\nLITE;\n\ntry\n{\n    $sqlite-&gt;exec($lite);\n}\ncatch (PDOException $e)\n{\n    die($e-&gt;getMessage());\n}\n</code></pre>\n\n<p><em>(please forgive the usage of variables in the query, rather than a proper prepared statement; I removed the bound parameters to see if that was the problem)</em></p>\n\n<p>Using other tools (SQLite Manager for Firefox, SQLite Database Browser for Windows), I am able to access the database and write to it.</p>\n\n<p>This script is the only thing that touches this particular database. The permissions on the database file are <code>777</code>. Nothing else has it, or its containing directory, open when the script runs.</p>\n\n<p>When running the script (using <code>php -f</code>), the portion that tries to insert into the SQLite database creates the journal file, takes about 10-15 seconds, and then returns the error <code>SQLSTATE[HY000]: General error: 5 database is locked</code>.</p>\n\n<p>So my question, then, is this:</p>\n\n<p><strong>Is there something about running a PHP script from command line that prevents interaction with a SQLite database? If so, what? If not, what could be the issue here?</strong></p>\n"},{"tags":["python","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":64,"score":0,"question_id":12952546,"title":"sqlite3.InterfaceError: Error binding parameter 1 - probably unsupported type","body":"<p>I am having this annoying error that I could not solve.. here is my function</p>\n\n<pre><code>def savePicture(pic):\ntry:\n    connection=sqlite3.connect('/home/faris/Desktop/site/site.db')\n    db=connection.cursor()\n    print type(pic.user.profile_picture)\n    db.execute('INSERT INTO pictures (picture_id, caption, created_time, picture_url, link, username,full_name,profile_picture) VALUES (?,?,?,?,?,?,?,?)',\n        [\n        pic.id,\n        pic.caption,\n        pic.created_time,\n        pic.get_standard_resolution_url(),\n        pic.link,\n        pic.user.username,\n        pic.user.full_name,\n        pic.user.profile_picture\n        ])\n    connection.commit()\n    connection.close()\nexcept sqlite3.IntegrityError:\n    print 'pic already exist'\n</code></pre>\n\n<p>And here is my Table (Sqlite :D )</p>\n\n<pre><code>-- Describe PICTURES\nCREATE TABLE \"pictures\" (\n\"picture_id\" INTEGER PRIMARY KEY,\n\"caption\" TEXT,\n\"created_time\" TEXT,\n\"picture_url\" TEXT,\n\"link\" TEXT,\n\"username\" TEXT,\n\"full_name\" TEXT,\n\"profile_picture\" TEXT\n)\n</code></pre>\n\n<p>And this is the error I am having, </p>\n\n<pre><code>&lt;type 'str'&gt;\nTraceback (most recent call last):\nFile \"/home/faris/Desktop/site/cron/pictures.py\", line 15, in &lt;module&gt;\nsavePicture(picture)\nFile \"/home/faris/Desktop/site/db.py\", line 36, in savePicture\npic.user.profile_picture\nsqlite3.InterfaceError: Error binding parameter 1 - probably unsupported type.\n</code></pre>\n\n<p>As you see I have printed the type of the \"pic.user.profile_picture\" and it returned str \nI have also tried using these two functions ( unicode and str ) just to make sure that it is returning a string with no luck..</p>\n\n<p>Any ideas? cheers :D </p>\n"},{"tags":["android","database","query","sqlite"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":35,"score":1,"question_id":13032449,"title":"a query in sqlite on the first place in db","body":"<p>I'm trying to run a query on a DB that I've build but I have a strange problem\nwhen I run the query ( by name ) and extract the result .\nif I extract the first row in db than I can run another query on with other parameters.\nif I extract a row other than the first I can no longer access to the first row in my db</p>\n\n<pre><code>    Cursor cur =datasource.query( 2,new String[] {\"_id\",\"Player\",\"Num_of_wrong_ans\",\"Num_of_drunkness_checks\"} , PlayerDatabaseHelper.PLAYER + \" =? \" ,new String[] {array[1]} , null ); \n            if(cur.moveToFirst())\n            {                   \n                id = cur.getString(cur.getColumnIndex(PlayerDatabaseHelper.ID));\n\n            }\n            cur.close();    \n</code></pre>\n\n<p>the query method is this :</p>\n\n<pre><code>    public Cursor query( int indicator,String[] projection, String selection,\n        String[] selectionArgs, String sortOrder) {\n    SQLiteQueryBuilder qb = new SQLiteQueryBuilder();\n    String a;\n    switch (indicator) \n    { \n    case 1: \n        qb.setTables(PlayerDatabaseHelper.PLAYER_TABLE_NAME); \n        qb.setProjectionMap(projectionMap); \n        break; \n    case 2: \n        qb.setTables(PlayerDatabaseHelper.PLAYER_TABLE_NAME); \n        qb.setProjectionMap(projectionMap); \n        qb.appendWhere(PlayerDatabaseHelper.PLAYER);\n        break; \n    default: \n        throw new IllegalArgumentException(\"Unknown  \"); \n    } \n\n    // Get the database and run the query \n    SQLiteDatabase db = mHelper.getReadableDatabase(); \n    Cursor c = qb.query(db, projection, selection, selectionArgs, null, null, null); \n    return c; \n\n}    \n</code></pre>\n\n<p>what am I doing wrong ???</p>\n"},{"tags":["android","sqlite","textview"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":3,"view_count":41,"score":-3,"question_id":13031986,"title":"How can I display the number of records in the sqlite database on TextView?","body":"<p>How can I display the number of records in the database sqlite on TextView?\nPlease, Help me...</p>\n\n<pre><code>SQLiteDatabase db = this.getReadableDatabase();\nint sometotal = (int) DatabaseUtils.stringForQuery(db, \"select count(*) from USERS_TABLE\", null);\n((TextView) findViewById(R.id.textView2)).setText(\"\" + sometotal);\n</code></pre>\n"},{"tags":["android","sqlite","sqlite3","ormlite"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":53,"score":2,"question_id":13029065,"title":"Android - Error Code 11 when importing Sqlite Database on Galaxy Note","body":"<p>I am using the code below to import a prepopulated (ORMLite) database from assets. </p>\n\n<p>This works just fine on multiple devices, except on a Galaxy Note 10.1. Here I get an exception when the DB is closed after the operation is finished:</p>\n\n<p>\"error code = 11, msg = database corruption at line ....\"</p>\n\n<p>When I download the database from the device and open it in SqliteBrowser everything seems to be fine. Any ideas ?</p>\n\n<pre><code>public class MySQLiteOpenHelper extends SQLiteOpenHelper {\n\n// {....}\n\npublic void importDB() {\n\n    InputStream is = context.getAssets().open(\"DBName.db\");\n\n    try {\n        close();\n        FileOutputStream os = new FileOutputStream(new File(Environment.getDataDirectory(), dbPath));\n        try {\n            byte[] buffer = new byte[4096];\n            for (int n; (n = is.read(buffer)) != -1;) {\n                os.write(buffer, 0, n);\n            }\n        } finally {\n            os.close();\n        }\n    } finally {\n        is.close();\n    }\n    getWritableDatabase().close();\n}\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>I/SqliteDatabaseCpp(684): sqlite returned: error code = 11, msg = database         corruption at line 48171 of [ed759d5a9e], db=/data/data/app_name/databases/DBName_db\nI/SqliteDatabaseCpp(684): sqlite returned: error code = 11, msg = database disk image is malformed, db=/data/data/app_name/databases/DBName_db\nE/SqliteDatabaseCpp(684): sqlite3_exec - Failed to set synchronous mode = 1(Normal) \nI/SqliteDatabaseCpp(684): sqlite returned: error code = 11, msg = database corruption at line 48171 of [ed759d5a9e], db=/data/data/app_name/databases/DBName_db\nI/SqliteDatabaseCpp(684): sqlite returned: error code = 11, msg = database disk image is malformed, db=/data/data/app_name/databases/DBName_db\nE/SqliteDatabaseCpp(684): CREATE TABLE android_metadata failed\nE/DefaultDatabaseErrorHandler(684): Corruption reported by sqlite on database: /data/data/app.name/databases/DBName.db\nE/DefaultDatabaseErrorHandler(684): deleting the database file: /data/data/app.name/databases/DBName.db\n</code></pre>\n"},{"tags":["android","database","sqlite","listview"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":362,"score":2,"question_id":9345939,"title":"Simply populate database table names in Android ListView","body":"<p>Very new to Android development...I've been scouring the internet for answers, but I'm still finding myself stuck and hoping someone can lend me a hand.  I absolutely admit I am a newbie...but trying to learn.</p>\n\n<p>I have an already populated sqlite database that I am including in a package.  I've copied this into the asset folder.  The database has 4 tables (and some fields beneath that).</p>\n\n<p>I have a simple activity with a listview that I am trying to simply query the database for the table names and have them populate, however I get no results.</p>\n\n<p>my DataBaseAdapter code is essentially the code from here:\n<a href=\"http://www.reigndesign.com/blog/using-your-own-sqlite-database-in-android-applications/\" rel=\"nofollow\">http://www.reigndesign.com/blog/using-your-own-sqlite-database-in-android-applications/</a></p>\n\n<p>I modified my database name and path.  </p>\n\n<p>My class code to call this is here: </p>\n\n<p>ON EDIT:::</p>\n\n<pre><code>public Cursor fetchAllNotes() {\n\n    return myDbHelper.rawQuery(\"SELECT name FROM sqlite_master WHERE type='table'\",\n            new String[]{});\n}\n\nprivate void fillData() {\n\n    Cursor c = fetchAllNotes();\n    startManagingCursor(c);\n\n    String[] from = new String[] {\"name\"};\n    int[] to = new int[] {R.id.listview};\n\n\n    SimpleCursorAdapter notes = \n            new SimpleCursorAdapter (this, R.layout.list_view, c, from, to);\n    setListAdapter(notes);\n\n            }\n\n    }\n</code></pre>\n\n<p>The project runs, it just yields no results in the ListView (which is in an xml named lists.xml)  the portion of code is here:</p>\n\n<pre><code>        &lt;ListView\n        android:id=\"@android:id/list\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_weight=\"1\" /&gt;    \n\n         &lt;TextView android:id=\"@android:id/empty\"\n           android:layout_width=\"match_parent\"\n           android:layout_height=\"match_parent\"\n           android:background=\"#000000\"\n           android:text=\"No data\"\n           style=\"@style/ButtonText\"/&gt;\n</code></pre>\n\n<p>Any help would be great, I'm sure I am flailing hard on my sql calls...but I am stuck.  </p>\n"},{"tags":["perl","sqlite","dbi"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":53,"score":2,"question_id":13016100,"title":"how to query sqlite for certain rows, i.e. dividing it into pages (perl DBI)","body":"<p>sorry for my noob question,\nI'm currently writing a perl web application with sqlite database behind it.\nI would like to be able to show in my app query results which might get thousands of rows - these should be split in pages - routing should be like /webapp/N  - where N is the page number.\nwhat is the correct way to query the sqlite db using DBI, in order to fetch only the relavent rows.</p>\n\n<p>for instance, if I show 25 rows per page so I want to query the db for 1-25 rows in the first page, 26-50 in the second page etc....</p>\n\n<p>Thanks in advanced!</p>\n"},{"tags":["database","sqlite","delimiter"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1332,"score":1,"question_id":6319551,"title":"What's the best separator/delimiter character(s) for a plaintext db file?","body":"<p>What's the best separator/delimiter character(s) for a plaintext db file?</p>\n\n<p>I considered using <code>|</code>, <code>,</code>, <code>&lt;TAB&gt;</code>, <code>;</code>, etc. But they all seem to be possible to break when the nearby entries have special enough characters. </p>\n\n<p>So, the experienced database users, what delimiter character(s) do you suggest to use?</p>\n"},{"tags":["c#","sqlite","cryptography","hash","sha1"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":4011,"score":2,"question_id":3179021,"title":"SHA1 hashing in SQLite: how?","body":"<p>Working with several DBs in parallel and need to initialize some records with hashed passwords. In <code>MS SQL server</code> there are handy functions that allow to hash on the fly:</p>\n\n<pre><code>\nHashBytes('SHA1', CONVERT(nvarchar(32), N'admin'))\n</code></pre>\n\n<p>Is there is a similar function with <code>SQLite</code>?</p>\n\n<p>If not, which is the easiest workaround (such as select from <code>SQL server</code> and somehow insert it into <code>SQLite</code> tables)?</p>\n\n<p>The preferred hashing algorithm is <code>SHA1</code> and the passwords are stored in a <code>BLOB</code> column.</p>\n\n<p>Update: I use C# language in the current project.</p>\n"},{"tags":["ios","sqlite","phonegap","phonegap-plugins"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":42,"score":-3,"question_id":13029411,"title":"Enable foreign key constraints in PhoneGap","body":"<p>I am trying to use PhoneGap storage API to create database for iOS. But I am not able to create tables with foreign key constraints. I have tried this command:</p>\n\n<pre><code>tx.executeSql(\"PRAGMA foreign_keys = ON;\");\n</code></pre>\n\n<p>But this is throwing me error.\nHow to enable foreign key constraints in PhoneGap.</p>\n"},{"tags":["c++","windows","sqlite","alternative","suggestions"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":67,"score":2,"question_id":13029057,"title":"Is SQLite up to this task? Storing path names along with file properties","body":"<p>Currently I am looking for an embeddable database (C++, Win32) and I found SQLite quite charming. However, I'm wondering whether it even makes sense to store file paths along with the file properties in an SQL database. The number of files can run from a few hundred or thousand into the millions or billions on a server system. This is for a software that explores the disk contents (not the contents of the files themselves, though).</p>\n\n<p>What I was thinking about would be a table to store the full directory part and another to store the file properties (including the name). The latter would then contain a back-reference to the \"parent\" folder.</p>\n\n<p>One thing I am considering as well is whether the directory table should store the full path for each directory, which would lead to storing redundant information such as:</p>\n\n<pre><code>ID | Name\n0  | C:\n1  | C:\\Windows\n2  | C:\\Windows\\System32\n3  | C:\\Windows\\System32\\config\n</code></pre>\n\n<p>instead of:</p>\n\n<pre><code>ID | Name     | Parent\n0  | C:       | NULL\n1  | Windows  | 0\n2  | System32 | 1\n3  | config   | 2 \n</code></pre>\n\n<p>Of course I cannot get \"greedy\" about saving storage/memory and also store a single instance of each string (each path component), unless there is some kind of pruning or reference counting ...</p>\n\n<p>Which one would you consider superior and why? Wouldn't the second method impose a performance penalty?</p>\n\n<p>Also, are there any projects out there that are <a href=\"https://secure.wikimedia.org/wikipedia/en/wiki/FLOSS\" rel=\"nofollow\">FLOSS</a> and have implemented something similar (storing hierarchical path names along with properties), preferably already with SQLite?</p>\n\n<hr>\n\n<p>In the schema I am thinking about, the file <code>C:\\Windows\\System32\\config\\SOFTWARE</code> would be represented by something like:</p>\n\n<pre><code>ID | Name   | Folder | Size    | Attributes | ...\n42 | SYSTEM | 3      | 1024000 | 0x00000301 | ...\n</code></pre>\n"},{"tags":["sqlite"],"answer_count":5,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":53,"score":1,"question_id":13028725,"title":"Delete + order by in sqlite (Android)","body":"<p>I have a table for saving the ranking of my app with the following fields: <code>[id,username,score]</code> and I want to clean the table keeping  only the top 100 entries.</p>\n\n<p>How can I do this delete? I've tried <code>DELETE FROM ranking ORDER BY score DESC LIMIT 100,999999999)</code> but it returns an error:</p>\n\n<pre><code>Error: near \"ORDER\": syntax  error\n</code></pre>\n\n<p>Other alternative I've considered is:</p>\n\n<pre><code>DELETE FROM ranking WHERE id NOT IN (SELECT id FROM ranking ORDER BY score \n  DESC LIMIT 100)\n</code></pre>\n\n<p>but I dont know if it is efficient enought</p>\n"},{"tags":["php","windows","linux","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":42,"score":1,"question_id":13026102,"title":"SQLite FTP download / upload issue","body":"<p>is have a bunch of SQLite databases on a Linux server.\nI recently made a backup of them.\nThe site where the databases where crashed and I had to reupload all the files.</p>\n\n<p>Now the SQLite databases don't work anymore.\nThe server is running Linux and I have Windows installed, but the files were only downloaded and they were never opened locally.\nPlus I made sure I download them from the server overnight so the nobody was communicating with the file at the time.</p>\n\n<p>I read (now, after the damage has been done) that I have to use some sort of SQLite API to make backups which I didn't know at first.</p>\n\n<p>So my question is - is there any way to save these malformed files? And why are they malformed in the first place?</p>\n\n<p>Tnx!</p>\n\n<p>EDIT:\nI am able to query <code>SELECT * FROM sqlite_master</code> on the database files, but nothing else...</p>\n"},{"tags":["iphone","sqlite","fmdb"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":432,"score":0,"question_id":10894791,"title":"Importing data from .csv file to the sqlite database in IOS. FMDB","body":"<p>In my application I need to import data from csv files into sqlite database.</p>\n\n<p>For working with sqlite I use FMDB library, because it is  easy to use:)</p>\n\n<p>Help me please, \nhow to import data from csv file to a table?</p>\n\n<p>I have a table created, corresponding to a table in csv file, so it should be ease to import.</p>\n\n<p>I looked at solutions around the internet, and found terminal commands for sqlite such as </p>\n\n<pre><code>\".mode csv\"\n\".separator ';'\"\n\".import mycsvfile.csv mytablename\"\n</code></pre>\n\n<p>But when I try to execute this sql statements in FMDB, it fails..</p>\n\n<p>My source code:</p>\n\n<pre><code>   [db beginTransaction];\n   NSString *query1 = @\".mode csv\";\n   NSString *query2 = @\".separator ';'\";\n   NSString *query3 = @\".import mycsvfile.csv mytablename\";\n\n   BOOL result = [db executeUpdate:query];\n   result = [db executeQuery:query2];\n   result = [db executeQuery:query3];\n\n   [db commit];\n</code></pre>\n\n<p>Here after stepping over BOOL result = [db executeUpdate:query]; result equals to FALSE, indicating that it was error.. </p>\n\n<p>After turning on logging in FMDB, it says \"incorrect syntax\" in my queries. </p>\n\n<p>But why does this statements work in OS X's sqlite?</p>\n\n<p>Note: when i am trying to execute this commands in OS X terminal, in sqlite3, all works correctly.</p>\n"},{"tags":["android","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":409,"score":0,"question_id":5880162,"title":"Android database openOrCreate() error","body":"<p>I have two classes, both are not activity, one is to perform database operation and one is to forward the values as mediator class. DataBase class calling openOrCreateDataBase method from a 3rd Connectivity class. </p>\n\n<pre><code>    contextWrapper.openOrCreateDatabase(sqlDBName, MODE_PRIVATE, null);\n</code></pre>\n\n<p>but here since this class is not activity, i am unable to pass parameter of ContextWrapper. Is there any other way to open database. I have tried,</p>\n\n<pre><code>    sqLiteDatabase = SQLiteDatabase.openDatabase(path, factory, flags);\n    sqLiteDatabase = SQLiteDatabase.openOrCreateDatabase(file, factory);\n</code></pre>\n\n<p>But these not working for me.</p>\n\n<p>thanks</p>\n"},{"tags":["android","sqlite","events"],"answer_count":2,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":116,"score":4,"question_id":11595464,"title":"When should I save data into SQLite entered into a fragment in my Android app?","body":"<p>I was watching one of Google's app reviews and they were ripping into this guys' app who had a save button and if you didn't save before leaving it would pop up a dialog.  They said an android app should just save and not bother the user.</p>\n\n<p>I have a fragment and have several fields and need to determine when to save the data into a SQLite database.  I was thinking of saving on exit of each field via the <code>onFocusChange</code> event?  Or maybe that's too often?  Perhaps the fragment's <code>onPause</code> event?  When should I save (specific event please)?</p>\n"},{"tags":["android","sqlite","core-data"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":12995729,"title":"Convert from Core Data to SQLite","body":"<p>I have an already existing DB that was written in Core Data for an iPhone application that I'm trying to make criss-platform.</p>\n\n<p>is there a way to export or convert from Core Data to SQLite?</p>\n"},{"tags":["python","sqlite","join","csv"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":60,"score":1,"question_id":13026626,"title":"Join csv to sqlite database using python","body":"<p>I have a sqlite-database table with 3 three columns (X,Y,Z).\nAdditionally I have a csv file (with header) having 10 columns\nbut also the same X and Y. I'd like to join the the csv file\nto the database table using a python script.</p>\n\n<p>So far I managed to establish the db-connection and to create\nthe new columns in the database like:</p>\n\n<pre><code>import csv, sqlite3\ndatabase = sqlite3.connect(\"my_sqlitedatabase\")\ndb = database.cursor()\ndb.execute(\"ALTER TABLE dbtable ADD COLUMN 'col1' float\")\ndb.execute(\"ALTER TABLE dbtable ADD COLUMN 'col2' float\")\ndb.execute(\"ALTER TABLE dbtable ADD COLUMN 'col3' float\")\n</code></pre>\n\n<p>So far I haven't found anything to use .import in python instead\nI probably need to read in the csv file directly (see <a href=\"http://stackoverflow.com/questions/2887878/importing-a-csv-file-into-a-sqlite3-database-table-using-python\">Importing a CSV file into a sqlite3 database table using Python</a>)</p>\n\n<pre><code>csvtable = csv.reader(open('csvtable.txt', 'r'), delimiter=',')\n</code></pre>\n\n<p>For joining I'd like to use something like:</p>\n\n<pre><code>UPDATE dbtable SET csvtable_col1=(SELECT dbtable.col1 FROM csvtable AS c \n... WHERE csvtable.X=dbtable.X AND csvtable.Y=dbtable.Y)\n</code></pre>\n\n<p>How can I join the csv table to my database table using pyhton? The both\nshare X and Y as common columns and a combination of both can be used as unique\nkey for joining. Both tables have several 100000 rows. Do I need to loop over\nthe rows of csv file? Any suggestions?</p>\n"}]}
{"total":16516,"page":7,"pagesize":100,"questions":[{"tags":["android","sqlite","listview","android-listview"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":2467,"score":0,"question_id":5273652,"title":"auto search in listview","body":"<p>I created a list view which extends ListActivity and I have a search field at the top of the page </p>\n\n<p>but I don't know how to write it , I want a search like search contact (type just only 1 char and listview will change, don't have to press any button)  </p>\n\n<p>please give me some example code </p>\n\n<p>thanks</p>\n"},{"tags":["java","android","database","sqlite","tablelayout"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":177,"score":2,"question_id":12097389,"title":"Android - Displaying SQLite database records in a TableLayout","body":"<p>I have a database class which stores a database and access to all of the records via the following:</p>\n\n<pre><code>public Cursor getAllRecords() {\n        return db.query(DATABASE_TABLE, new String[] {KEY_ROWID, KEY_TEXT}, null, null, null, null, null);\n    }\n</code></pre>\n\n<p>How can I update the TableLayout to show the field KEY_TEXT entries in it?</p>\n\n<p>And furthermore, is it possible (keeping in mind that I <em>do</em> have both methods for deletion and insertion) to implement a way to tap a entry in the table and have it deleted (and have entries added) viewing it happen in real time, i.e.: When I tap something to delete it it should disappear from the table view too.</p>\n"},{"tags":["c++","sql","sqlite","sqlite3","wrapper"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":35,"score":1,"question_id":13020157,"title":"C++ wrapper for SQLite3 API - alternatives for sqlite3pp","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/120295/what-is-a-good-oo-c-wrapper-for-sqlite\">What is a good OO C++ wrapper for sqlite</a>  </p>\n</blockquote>\n\n\n\n<p>I'm looking for C++ wrappers for SQLite3 API. So far, I only found <a href=\"http://code.google.com/p/sqlite3pp/\" rel=\"nofollow\">sqlite3pp</a>. It seems quite up-to-date, however, before settling with that I wanted to see if there are any alternatives. Do you guys know any? Thanks in advance!</p>\n"},{"tags":["sql","database","sqlite"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":41,"score":1,"question_id":13020611,"title":"How to select rows by date in sqlite","body":"<p>I have to select all rows from database by just passing date. For example to get all rows that have date <code>10/23/2012</code></p>\n\n<p>In <strong>sqlite db</strong> I store this in <code>DATE</code> column:<br/></p>\n\n<pre><code>01/01/1900 11:00:00 AM\n</code></pre>\n\n<p>I have tried to get by using <code>date()</code> but I get nothing for date:</p>\n\n<pre><code>select itemId, date(dateColumn) from items\n</code></pre>\n\n<p>So all I need is to compare only dates but can't find how to do this in sqlite.</p>\n"},{"tags":["ruby-on-rails","sqlite","postgresql","deployment","heroku"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":13019956,"title":"Deploying Rails app to heroku error (sqlite3->Postgresql)?","body":"<p>I'm suddenly getting an \"Application Error\" when I deploy some changes to my rails app on heroku. And not really sure why and I can't find a proper solution.</p>\n\n<p>Here are the logs:</p>\n\n<pre><code>   2012-10-22T20:05:26+00:00 heroku[slugc]: Slug compilation started\n   2012-10-22T20:06:54+00:00 heroku[web.1]: State changed from up to starting\n   2012-10-22T20:06:54+00:00 heroku[slugc]: Slug compilation finished\n   2012-10-22T20:06:56+00:00 heroku[web.1]: Starting process with command `bundle e\n   xec rails server -p 28612`\n   2012-10-22T20:06:56+00:00 heroku[web.1]: Stopping all processes with SIGTERM\n   2012-10-22T20:06:57+00:00 app[web.1]:   /usr/local/lib/ruby/1.9.1/webrick/server\n   .rb:90:in `select'\n   2012-10-22T20:06:57+00:00 app[web.1]: [2012-10-22 20:06:57] ERROR SignalExceptio\n   n: SIGTERM\n   2012-10-22T20:07:06+00:00 heroku[web.1]: Stopping remaining processes with SIGKI\n   LL\n   2012-10-22T20:07:06+00:00 heroku[web.1]: Error R12 (Exit timeout) -&gt; At least on\n   e process failed to exit within 10 seconds of SIGTERM\n   2012-10-22T20:07:08+00:00 heroku[web.1]: Process exited with status 137\n   2012-10-22T20:07:57+00:00 heroku[web.1]: Error R10 (Boot timeout) -&gt; Web process\n   failed to bind to $PORT within 60 seconds of launch\n   2012-10-22T20:07:57+00:00 heroku[web.1]: Stopping process with SIGKILL\n   2012-10-22T20:07:58+00:00 heroku[web.1]: State changed from starting to crashed\n   2012-10-22T20:07:58+00:00 heroku[web.1]: State changed from crashed to starting\n   2012-10-22T20:07:58+00:00 heroku[web.1]: Process exited with status 137\n   2012-10-22T20:08:01+00:00 heroku[web.1]: Starting process with command `bundle e\n   xec rails server -p 26859`\n   2012-10-22T20:09:01+00:00 heroku[web.1]: Error R10 (Boot timeout) -&gt; Web process\n   failed to bind to $PORT within 60 seconds of launch\n   2012-10-22T20:09:01+00:00 heroku[web.1]: Stopping process with SIGKILL\n   2012-10-22T20:09:02+00:00 heroku[web.1]: Process exited with status 137\n   2012-10-22T20:09:02+00:00 heroku[web.1]: State changed from starting to crashed\n   2012-10-22T20:09:27+00:00 heroku[router]: Error H10 (App crashed) -&gt; GET www.thr\n   illengine.com/ dyno= queue= wait= service= status=503 bytes=`\n</code></pre>\n\n<p>In development it works fine.</p>\n\n<p><strong>Update:</strong></p>\n\n<p>40 min later everything is back to normal and working. Strange, considering that I didn't really do nothing.\nAnyone else experiencing something similar? </p>\n"},{"tags":["c#","sqlite"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":62,"score":2,"question_id":13016578,"title":"Cross-platform Sqlite","body":"<p>I am writing an application that need to run in iOS, Android, Windows Phone, WPF, Windows 8 Metro, Linux and Mac. I have about 95 % of the code in the cross-platform realm but the UI and some things obviously needs to be coded specifically for each platform.</p>\n\n<p>Now, we need to add some very simple database support in the app and I would love to work against Sqlite from the cross-platform realm in my code. Can this be done with any existing Sqlite wrapper or do I need to create my own? Or should I use several Sqlite wrappers that have the same syntax and just reference different libraries from my different csproj files (per platform)?</p>\n\n<p>I have read this Q/A <a href=\"http://stackoverflow.com/questions/93654/is-there-a-net-c-wrapper-for-sqlite\">Is there a .NET/C# wrapper for SQLite?</a> but after an hour of reading I am still unsure how to get things working on all those platforms so I thought that somebody might have thought about these things before me.</p>\n"},{"tags":["mysql","ruby-on-rails","ruby-on-rails-3","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":43,"score":1,"question_id":13018881,"title":"Ruby on Rails MySQL to SQLite export/dump","body":"<p>Is it possible to export or dump a MySQL database that can be easily imported into SQLite? The export would be initiated by the logged in user of the application so a command line script probably wouldn't be feasible here. Any suggestions or gems that can achieve this?</p>\n\n<p>Thanks!</p>\n"},{"tags":["python","sqlite","sqlalchemy"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":59,"score":1,"question_id":13018298,"title":"cannot connect to in-memory SQLite DB using SQLAlchemy with Python 2.7.3 on Windows","body":"<p>I am trying to use the in-memory SQLite database using SQLAlchemy with Python 2.7.3 on Windows. I can connect to the engine, but when I try to execute the second statement I am getting the following error:</p>\n\n<pre><code>&gt;&gt;&gt;    engine=create_engine('sqlite:///memory:',echo=True)\n&gt;&gt;&gt;    engine.execute(\"select 1\").scalar()\n\nTraceback (most recent call last):\nFile \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nFile \"C:\\Python27\\lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 2445, in execute\nconnection = self.contextual_connect(close_with_result=True)\nFile \"C:\\Python27\\lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 2489, in contextual_connect\nself.pool.connect(),\nFile \"C:\\Python27\\lib\\site-packages\\sqlalchemy\\pool.py\", line 236, in connect\nreturn _ConnectionFairy(self).checkout()\nFile \"C:\\Python27\\lib\\site-packages\\sqlalchemy\\pool.py\", line 401, in __init__\nrec = self._connection_record = pool._do_get()\nFile \"C:\\Python27\\lib\\site-packages\\sqlalchemy\\pool.py\", line 822, in _do_get\nreturn self._create_connection()\nFile \"C:\\Python27\\lib\\site-packages\\sqlalchemy\\pool.py\", line 189, in _create_connection\nreturn _ConnectionRecord(self)\nFile \"C:\\Python27\\lib\\site-packages\\sqlalchemy\\pool.py\", line 282, in __init__\nself.connection = self.__connect()\nFile \"C:\\Python27\\lib\\site-packages\\sqlalchemy\\pool.py\", line 344, in __connect\nconnection = self.__pool._creator()\nFile \"C:\\Python27\\lib\\site-packages\\sqlalchemy\\engine\\strategies.py\", line 80, in connect\nreturn dialect.connect(*cargs, **cparams)\nFile \"C:\\Python27\\lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 281, in connect\nreturn self.dbapi.connect(*cargs, **cparams)\nsqlalchemy.exc.OperationalError: (OperationalError) unable to open database file\nNone None\n</code></pre>\n"},{"tags":["database","sqlite","ntfs"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":44,"score":3,"question_id":13018181,"title":"Should I Use sqlite or NTFS for picture storage","body":"<p>My scenario is situation dependent. I am writing a music library organizer/player that will be similar to iTunes, Windows Media Player, and Winamp. I already have all of the ID3 tag code working and now I am ready for the database. To my discovery it is much faster to read a database, check the MD5 hash of a file and compare it to the stored one, and update the database if the song changed, than it is to just read directly from each song's ID3 tags on load. So that being said I just got a sqlite database up and running.</p>\n\n<p>Now I am not sure if I should store the album art in the database or on the file system. I have code that automatically re-sizes the album art to 300x300 pixels so the file size for all of the pictures is usually around 15-30 KB in size. This has been true for normal sized images and 14.8 MB sized images. So on average there would be 22.5 KB sized pictures that I need to store.</p>\n\n<p>Here is the situational dependent piece; I need the decision to be efficient with a music library of 100 songs as well as 20,000 songs. Assuming all of the songs had album art, which method would be better: sqlite database or NTFS file system using subdirectories for quicker load time</p>\n"},{"tags":["ruby-on-rails","ruby","sqlite","datetime","activerecord"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":93,"score":1,"question_id":11479661,"title":"rails3 sqlite date comparison returning null set","body":"<p>I'm trying to select all records in a SQLite DB that have dates in the future.</p>\n\n<pre><code>Record.where('scheduled_date &gt; ?', Time.now)\n</code></pre>\n\n<p>On my computer this currently returns an empty array. </p>\n\n<p>However, if I use the following:</p>\n\n<pre><code>Record.all.map { |record| record if record.scheduled_date &gt; Time.now }\n</code></pre>\n\n<p>I receive an array of all the Records with a future date.</p>\n\n<p>Additionally, my colleague running the same Rails project on his machine was able to successfully return the expected result array using the ActiveRecord query. After recently pulling down my changes to the project, this query failed to work for him and his computer behaves like mine.</p>\n\n<p>I suspect there might be an environmental mishap with SQLite (v. 1.3.6) or Rails3 (v. 3.2.3) in this Rails project and don't know where to look. Any ideas what might be causing this?</p>\n"},{"tags":["python","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":62,"score":1,"question_id":13017036,"title":"Python Write a number of columns to sqlite","body":"<p>I am working on a small project and I have created a helper function that will write a string of comma separated values to a database as if they were values. I realise there are implications to doing it this way but this is small and i need to get it going until i can do better </p>\n\n<pre class=\"lang-py prettyprint-override\"><code>def db_insert(table,data):\n    \"\"\"\n    insert data into a table, the data should be a tuple\n    matching the number of columns with null for any columns that\n    have no value. False is returned on any error, error is logged to\n    database log file.\"\"\"\n\n    if os.path.exists(database_name):\n        con = lite.connect(database_name)\n\n    else:\n        error = \"Database file does not exist.\"\n        to_log(error)\n        return False\n\n    if con:\n        try:\n            cur = con.cursor()\n            data = str(data)\n            cur.execute('insert into %s values(%s)') % (table, data)\n            con.commit()\n            con.close()\n\n        except Exception, e:\n            pre_error = \"Database insert raised and error;\\n\"\n            thrown_error = pre_error + str(e)\n            to_log(thrown_error)\n\n        finally:\n            con.close()\n\n\n    else:\n        error = \"No connection to database\"\n        to_log(error)\n        return False\n</code></pre>\n\n<p>database_name etc... are defined elsewhere in the script.</p>\n\n<p>Barring any other obvious glaring errors;\nwhat i need to be able to do (by this method or some other if there are suggestions) is allow somebody to create a list where each value represents a column value. As I will not know how many columns are being populated.</p>\n\n<p>so somebody uses it as follows:<br>\ndata = [\"null\", \"foo\",\"bar\"]<br>\ndb_insert(\"foo_table\", data)  </p>\n\n<p>this insert that data into the table name foo_table. It is up to the user to know how many columns are in the table and supply the correct number of elements to satisfy that.\nI realise that it is better to use sqlite parameters but there are two problems.\nfirst you cannot use a parameter to specify the table only the values.\nsecond is that you need to know how many values you are supplying. you have to do;  </p>\n\n<p>cur.execute('insert into table values(?,?,?), val1,val2,val3)  </p>\n\n<p>you need to be able to specify the three ?'s.\nI am trying to write a general function that allows me to take an arbitrary number of values and insert them into an arbitrary table name.\nNow, it was working relatively ok until i tried to pass in 'null' as a value.\nOne of the columns is the primary key and has an autoincrement. So passing in null will allow it to autoincrement. There will also be other instances where nulls would be required. \nThe problem is that python keeps wrapping my null in single quotes which sqlite complains about as a datatype mismatch as the primary key is an integer field. If I try passing None as the python null equivalent then the same thing happens.\nSo two problems.  </p>\n\n<p>How to insert an arbitrary number of columns.<br>\nHow to pass a null.  </p>\n\n<p>Thank you for all your help on this and past questions.</p>\n\n<p>Sorry, this looks like a duplicate of this\n<a href=\"http://stackoverflow.com/questions/3732490/using-python-quick-insert-many-columns-into-sqlite-mysql?rq=1\">Using Python quick insert many columns into Sqlite\\Mysql</a></p>\n\n<p>my apologies I did not find it until after I wrote this.</p>\n\n<p>Results in the following which works;</p>\n\n<pre><code>def db_insert(table,data):\n\"\"\"\ninsert data into a table, the data should be a tuple\nmatching the number of columns with null for any columns that\nhave no value. False is returned on any error, error is logged to\ndatabase log file.\"\"\"\n\nif os.path.exists(database_name):\n    con = lite.connect(database_name)\n\nelse:\n    error = \"Database file does not exist.\"\n    to_log(error)\n    return False\n\nif con:\n    try:\n        tuple_len = len(data)\n        holders = ','.join('?' * tuple_len)\n\n        sql_query = 'insert into %s values({0})'.format(holders) % table\n        cur = con.cursor()\n        #data = str(data)\n        #cur.execute('insert into readings values(%s)') % table\n        cur.execute(sql_query, data)\n        con.commit()\n        con.close()\n\n    except Exception, e:\n        pre_error = \"Database insert raised and error;\\n\"\n        thrown_error = pre_error + str(e)\n        to_log(thrown_error)\n\n    finally:\n        con.close()\n\n\nelse:\n    error = \"No connection to database\"\n    to_log(error)\n    return False\n</code></pre>\n"},{"tags":["sql","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1671,"score":0,"question_id":8519936,"title":"SQLite: autoincrement primary key questions","body":"<p>I have the following SQLite query:</p>\n\n<pre><code>CREATE TABLE Logs ( Id integer IDENTITY (1, 1) not null CONSTRAINT PKLogId PRIMARY KEY, ...\n</code></pre>\n\n<p>1) <code>IDENTITY (1, 1)</code> -> What does this mean?<br>\n2) <code>PKLogId</code> what is this? This doesn't seem to be defined anywhere<br>\n3) I want <code>Id</code> to be <code>integer primary key</code> with <code>autoincrement</code>. I would like to be able to insert into this <code>Logs</code> table omitting <code>Id</code> column in my query. I want <code>Id</code> to be automatically added and incremented. Is this possible? How can I do this?</p>\n\n<p>At the moment when I try to insert without <code>Id</code> I get:</p>\n\n<pre><code>Error while executing query: Logs.Id may not be NULL\n</code></pre>\n"},{"tags":["c#","sqlite","exception","windows-8"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":75,"score":0,"question_id":13016561,"title":"How can I fix \"exception has been thrown by the target of an invocation\" while accessing data?","body":"<p>On the selection changed event I am accessing the data from one of my tables. But the \"Exception has been thrown by the target of an invocation\" is thrown.</p>\n\n<pre><code>var query = conn.Table&lt;auto_fares&gt;().Where(x =&gt; x.city == cbCity.SelectedItem);\nvar result = await query.ToListAsync();\nforeach (var item in result)\n{\n    txtDistance.Text = item.min_km.ToString();\n    lblDayFare.Text = item.min_fare.ToString();\n    lblNightFare.Text = item.night_charges.ToString();\n}\n</code></pre>\n\n<p>After adding the Dispose statement i am getting the following error as \n\"The await operator can only be used within an async lamhda expression. Consider making this lamhda expression with the 'async' modifier.\"</p>\n\n<p>How can I solve this?</p>\n"},{"tags":["c#","arrays","sqlite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":60,"score":-2,"question_id":13016915,"title":"How to put a table of the database in an array?","body":"<p>I want to know how to put a table with fields Name, Position, Power, Energy, Salary, Pass and Goals in an array. Thanks.</p>\n"},{"tags":["c#","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":69,"score":1,"question_id":13014210,"title":"SQLite and List Generic C#","body":"<p>I'm trying to convert some older code for Windows 8 using SQLite.  Below is a code from a previous session that works. </p>\n\n<pre><code>using (SqliteConnection conn = new SqliteConnection(\"Version=3,uri=file://flashcards0904.db\"))\n        {\n            conn.Open();\n            using (SqliteCommand cmd = conn.CreateCommand())\n            {\n                cmd.CommandText = \"SELECT * FROM Decks where DeckGroup='\" + Global.currentDeckGroup.ToString() + Global.currentDeck.ToString() + \"'\" + \"order by random()\";\n\n                List&lt;string&gt; myCollection = new List&lt;string&gt;();\n\n                using (SqliteDataReader reader = cmd.ExecuteReader())\n                {\n                    while (reader.Read())\n                    {\n                        myCollection.Add(reader.GetString(0) + \"~\" + reader.GetString(1) + \"~\" + reader.GetString(2));\n                        Global.words = myCollection.ToArray();\n                    }\n                }\n                conn.Close();\n                Community.CsharpSqlite.FileStream.HandleTracker.Clear();\n            }\n        }\n</code></pre>\n\n<p>Now, I don't have access to SqliteDataReader and I'm trying to use a List&lt;> function, but I cannot get the \"Where\" clause to work.  Any help, here is my current code:</p>\n\n<pre><code>var root = Windows.Storage.ApplicationData.Current.LocalFolderPath;\nvar dbPath= Path.Combine(Windows.Storage.ApplicationData.Current.LocalFolderPath,\"flashcards0904.db\");\n\nusing( var db= new SQLite.SQLiteConnection(dbPath))\n{\n// Here is location for the missing Where Clause\"\n\n    var list= db.Table&lt;Decks&gt;.Where??????? .ToList();\n\n }\n</code></pre>\n\n<p>Hope this explains the problem. </p>\n\n<p>Thanks</p>\n"},{"tags":["javascript","android","sqlite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":33,"score":-1,"question_id":13014163,"title":"Android & query the app's db thru javascript","body":"<p>I need a way to access the app's DB (the one from /data/data/com.package/databases/xxx.db) from JavaScript code:</p>\n\n<p>Code of interest:\n- in the \"web activity\", in onCreate: i set a database path </p>\n\n<pre><code>        WebSettings settings = m_WebViewContent.getSettings();  \n        settings.setJavaScriptEnabled(true);\n        settings.setJavaScriptCanOpenWindowsAutomatically(true); \n        settings.setDatabaseEnabled(true); \n        settings.setDatabasePath(this.getApplicationContext().getDir(\"database\", Context.MODE_PRIVATE).getPath());\n</code></pre>\n\n<ul>\n<li><p>in index.html inside HEAD tag (note: i have no other links to other javascript files)</p>\n\n<pre><code>   function initLocalDB() {\n   try\n   {\n      if ( ! window.openDatabase)\n      {\n         alert('Web SQL Database NOT SUPPORTED');\n      }\n      else\n      {\n         var mb = 1048576; // 1 megabyte in bytes\n\n         var shortName   = 'onsales.db';\n         var version     = '1.0';\n         var displayName = 'onsales db displayname';\n         var maxSize     = 45 * mb; // bytes\n\n         _db             = openDatabase(shortName, version, displayName, maxSize);               \n         sqlQuerries(); //i try to do a test querry -&gt; FAIL, since db is not the one i'm expecting\n      }\n   }\n   catch(e)\n   {  \n      alert(\"EXCEPTION OCCURED!!: \" + e);\n      return;\n   }\n}\n</code></pre></li>\n<li><p>i call this in onLoad</p>\n\n<p>body id=\"main_body\" onload=\"initLocalDB();\"></p></li>\n</ul>\n\n<p>Problem is that javascript code looks for/creates DB in unusual path\n- architecture seem to be like this: 1 database which contains as a row data about my DB created in javascript code (name, description, last column - path-actual DB- name \"000..001\") + actuall DB (inside file file__0)\n- <strong>i need to use DB of app from /data/data/databases/myApp.db. So is there a way to do that? What about using DB from a sdCard (i seem to get security exception if i try)? Note: i prefer not to use, unless really needed other js libraries</strong></p>\n\n<p><img src=\"http://i.stack.imgur.com/8tak4.jpg\" alt=\"enter image description here\">\n<img src=\"http://i.stack.imgur.com/ECHDg.jpg\" alt=\"enter image description here\"></p>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":85,"score":-3,"question_id":12936396,"title":"Android: SQLite gets wrong data","body":"<p>My issue is that when I open the ViewContact class, all fields are blank except for name, which displays the notes entry. Im not experienced in SQLite, or databases in general. I'll post all related code. I think it may be something with the cursor, but again, I dont know much about this yet. Thank you for any help.</p>\n\n<p>ContactsMenu class</p>\n\n<pre><code>package com.emailandcontactmanager;\n\nimport android.app.Activity;\nimport android.app.AlertDialog;\nimport android.content.DialogInterface;\nimport android.content.Intent;\nimport android.database.Cursor;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.os.Bundle;\nimport android.view.Menu;\nimport android.view.MenuInflater;\nimport android.view.MenuItem;\nimport android.view.View;\nimport android.widget.AdapterView;\nimport android.widget.AdapterView.OnItemClickListener;\nimport android.widget.Button;\nimport android.widget.ListView;\nimport android.widget.SimpleCursorAdapter;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\npublic class ContactsMenu extends Activity {\n\n\n    ListView listView;\n    public static final String fields[] = { DatabaseSetup.colName, DatabaseSetup.colMail, DatabaseSetup.colPhone1,\n                                                DatabaseSetup.colPhone2,  DatabaseSetup.colAddress,  DatabaseSetup.colNotes };\n    Cursor cursor;\n\n    public static String name, email, phone1, phone2, address, notes;\n\n    @Override\n    public void onCreate(Bundle savedInstanceState){\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.managecontacts);\n        listView = (ListView) findViewById(R.id.lstContacts); \n        DatabaseSetup.init(this); \n\n        Button btnAddItem = (Button) findViewById(R.id.btnAddContact);\n        btnAddItem.setOnClickListener(new View.OnClickListener() {\n        public void onClick(View v) {\n            Intent addItem = new Intent(v.getContext(), AddContact.class);\n            startActivity(addItem);\n        }\n        });\n\n        listView.setOnItemClickListener(new OnItemClickListener() {\n        public void onItemClick(AdapterView&lt;?&gt; listView, View view, \n                int position, long id) {\n        // Get the cursor, positioned to the corresponding row in the result set\n            //cursor = DatabaseSetup.getContactData();\n        Cursor cursor = (Cursor) listView.getItemAtPosition(position);\n\n                String selectedName = cursor.getString(cursor.getColumnIndexOrThrow(\"Name\"));\n                String selectedEmail = cursor.getString(cursor.getColumnIndexOrThrow(\"Email\"));\n                String selectedPhone1 = cursor.getString(cursor.getColumnIndexOrThrow(\"Phone1\"));\n                String selectedPhone2 = cursor.getString(cursor.getColumnIndexOrThrow(\"Phone2\"));\n                String selectedAddress = cursor.getString(cursor.getColumnIndexOrThrow(\"Address\"));\n                String selectedNotes = cursor.getString(cursor.getColumnIndexOrThrow(\"Notes\"));\n\n                setName(selectedName);\n                setName(selectedEmail);\n                setName(selectedPhone1);\n                setName(selectedPhone2);\n                setName(selectedAddress);\n                setName(selectedNotes);\n\n\n                Intent viewItem = new Intent(view.getContext(), ViewContact.class);\n                startActivity(viewItem);\n\n        }\n        }); \n\n    }\n        @Override\n        protected void onPause() {\n            listView.setAdapter(null);\n            cursor.close();\n            DatabaseSetup.deactivate();\n            super.onPause();\n        }\n\n        @Override\n        protected void onResume() {\n            super.onResume();\n            DatabaseSetup.init(this);\n            //Updated\n            cursor = DatabaseSetup.getContactData(); \n            SimpleCursorAdapter adapter = new SimpleCursorAdapter(this, R.layout.row, cursor, fields, new int[] {R.id.item_text,\n                                                                R.id.item_text2,  R.id.item_text3,  R.id.item_text4,\n                                                                R.id.item_text5,  R.id.item_text6})\n            listView.setAdapter(adapter); \n        }\n\n        public void setName(String selectedName) {\n            name = selectedName;\n        }\n\n        public void setEmail(String selectedEmail) {\n            email = selectedEmail;\n        }\n\n        public void setPhone1(String selectedPhone1) {\n            phone1 = selectedPhone1;\n        }\n\n        public void setPhone2(String selectedPhone2) {\n            phone2 = selectedPhone2;\n        }\n\n        public void setAddress(String selectedAddress) {\n            address = selectedAddress;\n        }\n\n        public void setNotes(String selectedNotes) {\n            notes = selectedNotes;\n        }\n\n\n        public static String getName() {\n            String itemName = name;\n            return itemName;        \n        }\n\n        public static String getEmail() {\n            String itemEmail = email;\n            return itemEmail;       \n        }\n\n        public static String getPhone1() {\n            String itemPhone1 = phone1;\n            return itemPhone1;      \n        }\n\n        public static String getPhone2() {\n            String itemPhone2 = phone2;\n            return itemPhone2;      \n        }\n\n        public static String getAddress() {\n            String itemAddress = address;\n            return itemAddress;     \n        }\n\n        public static String getNotes() {\n            String itemNotes = notes;\n            return itemNotes;       \n        }\n\n////////////////MENU////////////////////////////////////////////////////////////////////////////////\n    DialogInterface.OnClickListener dialogClickListener = new DialogInterface.OnClickListener() { \n        public void onClick(DialogInterface dialog, int which) { \n            switch (which){ \n            case DialogInterface.BUTTON_POSITIVE: \n                finish();\n                break; \n\n            case DialogInterface.BUTTON_NEGATIVE: \n                //Nothing happens on No button click, and the menu closes\n                break; \n            } \n        } \n    }; \n\n    @Override\n    public boolean onCreateOptionsMenu(Menu mainmenu) {\n        MenuInflater inflater = getMenuInflater();\n        inflater.inflate(R.menu.mainmenu, mainmenu);\n        return true;\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        final CharSequence[] items = {\"Contacts list\", \"Add Contact\"};\n\n        switch (item.getItemId()) {\n            case R.id.help:     AlertDialog.Builder builder = new AlertDialog.Builder(this);\n                                builder.setTitle(\"Select a function to revice information about it.\");\n                                builder.setItems(items, new DialogInterface.OnClickListener() {\n                                    public void onClick(DialogInterface dialog, int selected) {\n                                        switch(selected){\n                                        case 0:\n                                            Toast.makeText(getApplicationContext(),\n                                                    \"Allows you to view the selected item and make editations to it or delete it.\",\n                                                    Toast.LENGTH_LONG).show();\n                                            break;\n                                        case 1:\n                                            Toast.makeText(getApplicationContext(),\n                                                    \"Allows you to add a new contact by bringing up a screen where the nececary information can be entered.\",\n                                                    Toast.LENGTH_LONG).show();\n                                        }\n                                    }\n                                });\n                                builder.show();\n                                break;\n\n                                case R.id.back:     AlertDialog.Builder builderBack = new AlertDialog.Builder(this); \n                                                    builderBack.setMessage(\"Are you sure?\").setPositiveButton(\"Yes\", dialogClickListener) \n                                                    .setNegativeButton(\"No\", dialogClickListener).show(); \n                                break;\n        }\n        return true;\n\n    }\n}\n</code></pre>\n\n<p>ViewContacts class</p>\n\n<pre><code>package com.emailandcontactmanager;\n\nimport android.app.Activity;\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.TextView;\n\npublic class ViewContact extends Activity {\n\n    EditText nameField, mailield, phoneField1, phoneField2, addressField, notesField;\n\n    String name, mail, phone1, phone2, address, notes;\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.viewcontact);\n\n        nameField = (EditText) findViewById(R.id.textName);\n        mailield = (EditText) findViewById(R.id.textMail);\n        phoneField1 = (EditText) findViewById(R.id.textPhone1);\n        phoneField2 = (EditText) findViewById(R.id.textPhone2);\n        addressField = (EditText) findViewById(R.id.textAddress);\n        notesField = (EditText) findViewById(R.id.textNotes);\n\n        name =ContactsMenu.getName();\n        mail =ContactsMenu.getEmail();\n        phone1 =ContactsMenu.getPhone1();\n        phone2 =ContactsMenu.getPhone2();\n        address =ContactsMenu.getAddress();\n        notes =ContactsMenu.getNotes();\n\n        nameField.setText(name, TextView.BufferType.EDITABLE);\n        mailield.setText(mail, TextView.BufferType.EDITABLE);\n        phoneField1.setText(phone1, TextView.BufferType.EDITABLE);\n        phoneField2.setText(phone2, TextView.BufferType.EDITABLE);\n        addressField.setText(address, TextView.BufferType.EDITABLE);\n        notesField.setText(notes, TextView.BufferType.EDITABLE);\n\n        Button btnEditContact = (Button) findViewById(R.id.btnEditContact);\n        btnEditContact.setOnClickListener(new View.OnClickListener() {\n        public void onClick(View v) {\n            editContact();\n        }\n        });\n\n        Button btnDeleteContact = (Button) findViewById(R.id.btnEditContact);\n        btnDeleteContact.setOnClickListener(new View.OnClickListener() {\n        public void onClick(View v) {\n            deleteContact();\n        }\n        });\n\n        Button btnEditTags = (Button) findViewById(R.id.btnEditContact);\n        btnEditTags.setOnClickListener(new View.OnClickListener() {\n        public void onClick(View v) {\n            Intent editTags = new Intent(v.getContext(), EditContactTags.class);\n            startActivity(editTags);\n        }\n        });\n    }\n\n    public void editContact(){\n\n    }\n\n    public void deleteContact(){\n\n    }\n\n}\n</code></pre>\n\n<p>DatabaseSetup class</p>\n\n<pre><code>package com.emailandcontactmanager;\n\nimport android.content.ContentValues; \nimport android.content.Context; \nimport android.database.Cursor; \nimport android.database.sqlite.SQLiteDatabase; \nimport android.database.sqlite.SQLiteOpenHelper; \n\n/* \n * usage:  \n * DatabaseSetup.init(egActivityOrContext); \n * DatabaseSetup.createEntry() or DatabaseSetup.getContactNames() or DatabaseSetup.getDb() \n * DatabaseSetup.deactivate() then job done \n */ \n\nclass DatabaseSetup extends SQLiteOpenHelper { \nstatic DatabaseSetup instance = null; \nstatic SQLiteDatabase db = null; \n\npublic static void init(Context context) { \n    if (null == instance) { \n        instance = new DatabaseSetup(context); \n        } \n    } \n\npublic static SQLiteDatabase getDb() { \n    if (null == db) { \n        db = instance.getWritableDatabase(); \n        } \n    return db; \n    } \n\npublic static void deactivate() { \n    if (null != db &amp;&amp; db.isOpen()) { \n        db.close(); \n        } \n    db = null; \n    instance = null; \n    } \n\npublic static long createEntry(String name, String mail, String phone1, \n        String phone2, String address, String notes) { \n    ContentValues cv = new ContentValues(); \n    cv.put(colName, name); \n    cv.put(colMail, mail); \n    cv.put(colPhone1, phone1); \n    cv.put(colPhone2, phone2); \n    cv.put(colAddress, address); \n    cv.put(colNotes, notes); \n    return getDb().insert(contactsTable, null, cv); \n\n    } \n/*  Old \npublic static Cursor getContactNames() { \n    // TODO Auto-generated method stub \n    String[] columns = new String[] {\"_id\", colName }; \n    return getDb().query(contactsTable, columns, null, null, null, null, \n            null); \n    } \n*/\npublic static Cursor getContactData(){\n    String[] columns = new String[] {\"_id\", colName, colMail, colPhone1, colPhone2, colAddress, colNotes }; \n    return getDb().query(contactsTable, columns, null, null, null, null, \n            null); \n    }\n\nDatabaseSetup(Context context) { \n    super(context, dbName, null, dbVersion); \n    } \n\n@Override \npublic void onCreate(SQLiteDatabase db) { \n    // TODO Auto-generated method stub \n    db.execSQL(\"CREATE TABLE IF NOT EXISTS \" + contactsTable \n            + \" (_id integer primary key autoincrement, \" + colName \n            + \" TEXT NOT NULL, \" + colMail + \" TEXT NOT NULL, \" + colPhone1 \n            + \" TEXT NOT NULL, \" + colPhone2 + \" TEXT NOT NULL, \" \n            + colAddress + \" TEXT NOT NULL, \" + colNotes \n            + \" TEXT NOT NULL)\"); \n\n    db.execSQL(\"CREATE TABLE IF NOT EXISTS \" + templatesTable \n            + \" (_id integer primary key autoincrement, \" + colSubject \n            + \" TEXT NOT NULL, \" + colBody + \" TEXT NOT NULL)\"); \n\n    db.execSQL(\"CREATE TABLE IF NOT EXISTS \" + tagsTable \n            + \" (_id integer primary key autoincrement, \" + colTagName \n            + \" TEXT NOT NULL, \" + colContact + \" TEXT NOT NULL)\"); \n\n    } \n\n@Override \npublic void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) { \n    db.execSQL(\"DROP TABLE IF EXISTS \" + contactsTable); \n    db.execSQL(\"DROP TABLE IF EXISTS \" + templatesTable); \n    db.execSQL(\"DROP TABLE IF EXISTS \" + tagsTable); \n    onCreate(db); \n    } \n\nstatic final String dbName = \"DB\"; \nstatic final int dbVersion = 1; \nstatic final String contactsTable = \"Contacts\"; \nstatic final String colName = \"Name\"; \nstatic final String colMail = \"Email\"; \nstatic final String colPhone1 = \"Phone1\"; \nstatic final String colPhone2 = \"Phone2\"; \nstatic final String colAddress = \"Address\"; \nstatic final String colNotes = \"Notes\"; \n\nstatic final String templatesTable = \"Templates\"; \nstatic final String colSubject = \"Subject\"; \nstatic final String colBody = \"Body\"; \n\nstatic final String tagsTable = \"Tags\"; \nstatic final String colTagName = \"Name\"; \nstatic final String colContact = \"Contact\"; \n\n} \n</code></pre>\n\n<p>Logcat entry</p>\n\n<pre><code>10-22 14:49:51.418: E/AndroidRuntime(959): FATAL EXCEPTION: main\n10-22 14:49:51.418: E/AndroidRuntime(959): java.lang.RuntimeException: Unable to resume activity {com.emailandcontactmanager/com.emailandcontactmanager.ContactsMenu}: java.lang.IllegalStateException: trying to requery an already closed cursor  android.database.sqlite.SQLiteCursor@4138a990\n10-22 14:49:51.418: E/AndroidRuntime(959):  at android.app.ActivityThread.performResumeActivity(ActivityThread.java:2443)\n10-22 14:49:51.418: E/AndroidRuntime(959):  at android.app.ActivityThread.handleResumeActivity(ActivityThread.java:2471)\n10-22 14:49:51.418: E/AndroidRuntime(959):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1172)\n10-22 14:49:51.418: E/AndroidRuntime(959):  at android.os.Handler.dispatchMessage(Handler.java:99)\n10-22 14:49:51.418: E/AndroidRuntime(959):  at android.os.Looper.loop(Looper.java:137)\n10-22 14:49:51.418: E/AndroidRuntime(959):  at android.app.ActivityThread.main(ActivityThread.java:4340)\n10-22 14:49:51.418: E/AndroidRuntime(959):  at java.lang.reflect.Method.invokeNative(Native Method)\n10-22 14:49:51.418: E/AndroidRuntime(959):  at java.lang.reflect.Method.invoke(Method.java:511)\n10-22 14:49:51.418: E/AndroidRuntime(959):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)\n10-22 14:49:51.418: E/AndroidRuntime(959):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)\n10-22 14:49:51.418: E/AndroidRuntime(959):  at dalvik.system.NativeStart.main(Native Method)\n10-22 14:49:51.418: E/AndroidRuntime(959): Caused by: java.lang.IllegalStateException: trying to requery an already closed cursor  android.database.sqlite.SQLiteCursor@4138a990\n10-22 14:49:51.418: E/AndroidRuntime(959):  at android.app.Activity.performRestart(Activity.java:4508)\n10-22 14:49:51.418: E/AndroidRuntime(959):  at android.app.Activity.performResume(Activity.java:4531)\n10-22 14:49:51.418: E/AndroidRuntime(959):  at android.app.ActivityThread.performResumeActivity(ActivityThread.java:2433)\n10-22 14:49:51.418: E/AndroidRuntime(959):  ... 10 more\n</code></pre>\n"},{"tags":["c#","sql-server","oracle","sqlite","database-versioning"],"answer_count":0,"favorite_count":0,"up_vote_count":3,"down_vote_count":1,"view_count":83,"score":2,"question_id":12478519,"title":"Solution to do Database migrations on Oracle / SqlServer and SqlLite","body":"<p>Im looking for a tool (preferably open-source) that can do Database migrations and versioning inside TFS, and is able to automatically deploy this during an deployment / build.</p>\n\n<h3>Background</h3>\n\n<p>We have developed an application that is frequently updated, sometimes with database changes and sometimes without. The database is running on Oracle 11g, there is also an Sqlite database in place to run tests against. We use NHibernate in combination with Fluent-NHibernate as ORM (Fluent-NHibernate for the mappings).</p>\n\n<h3>Current situation</h3>\n\n<p>At this time the database changes are done by hand. Changing the fluent mappings for database creation and writing a SQL script to alter / drop / create about anything we need.\nTo go to Test / Acceptence / Production we build against a different Config and then Copy the contents to the specific server and run the specific SQL scripts on the database.</p>\n\n<h3>Drawbacks</h3>\n\n<p>The schemaupdate from NHibernate does not allow for destructive updates, so this has to be done by hand if we are looking for an NHibernate solution.</p>\n\n<h3>Preffered situation</h3>\n\n<p>the above is a workable solution but now we have the need to version these changes so that we can go up / rollback (if this is needed) if we deploy a new version by using <a href=\"http://exortech.com/blog/2009/02/01/weekly-release-blog-11-zero-downtime-database-deployment/\" rel=\"nofollow\">Expand/Contract</a>. it is preffered that this is done automatically when we deploy a new version to the database.</p>\n\n<h3>Questions</h3>\n\n<ol>\n<li>Is there a migration tool thas uses Expand and Contract for generating schema's</li>\n<li>Will it work with Oracle 11g, SqLite and SqlServer</li>\n<li>Possibility to keep using NHibernate / Fluent-NHibernate</li>\n<li>Good ways to automatically deploy a specific build (Not a must have, are enough tools to do this but maybe good to have someting that can do all)</li>\n</ol>\n\n<h3>Investigated</h3>\n\n<ul>\n<li><a href=\"https://code.google.com/p/roundhouse/\" rel=\"nofollow\">RoundhousE</a>\n<ul>\n<li>No rollbacks.</li>\n<li>Unable to get it working with our mappings.</li>\n</ul></li>\n<li><a href=\"https://github.com/schambers/fluentmigrator\" rel=\"nofollow\">FluentMigrator</a>\n<ul>\n<li>Cannot combine with NHibernate mappings uses it's own Fluent interface.</li>\n</ul></li>\n<li><a href=\"http://www.red-gate.com/products/oracle-development/\" rel=\"nofollow\">Red-Gate Deployment Suite for Oracle</a>\n<ul>\n<li>Tool cannot be easily integrated with our environment.</li>\n</ul></li>\n</ul>\n\n<p>I hope this is clear, if not feel free to comment</p>\n"},{"tags":["android","sqlite"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":57,"score":2,"question_id":13008191,"title":"Android: do I need to close Cursor objects?","body":"<p>In my database adapter class, I have many methods like this:</p>\n\n<pre><code>public long getContactId(final String phoneNumber) throws SQLException {\n    final Cursor cur = mDb.rawQuery(\n            \"select contact_id from contactphones where number=? limit 1;\",\n            new String[] { phoneNumber });\n    return cur.moveToFirst() ? cur.getLong(0) : -1;\n}\n</code></pre>\n\n<p>I appreciate the brevity of a method like that. But I am not calling Cursor.close(), and I'm not sure if that is a problem or not. Would the Cursor be closed and its resources freed in the Cursor.finalize()? Otherwise I would have to do:</p>\n\n<pre><code>public long getContactId(final String phoneNumber) throws SQLException {\n    final Cursor cur = mDb.rawQuery(\n            \"select contact_id from contactphones where number=? limit 1;\",\n            new String[] { phoneNumber });\n    final boolean retVal = cur.moveToFirst() ? cur.getLong(0) : -1;\n    cur.close();\n    return retVal;\n}\n</code></pre>\n"},{"tags":["iphone","ios","sqlite","core-data","apple"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":99,"score":1,"question_id":13010731,"title":"The operation couldn’t be completed. (Cocoa error 512.) Coredata Iphone. No files can be copied in documents folder","body":"<p>I'm working on a coredata project in a xcode 4.3 version for ios 5.1.\nI've made an ARC empty project with CoreData checkbox selected, following the methods add by xcode to manage model and modified by me following a tutorial for copying a prepopulate sqllite db to my app, the prepopulate db is in the resource group inside project folder and has the same name of model and project.</p>\n\n<pre><code>- (void)saveContext\n{\n    NSError *error = nil;\n    NSManagedObjectContext *managedObjectContext = self.managedObjectContext;\n    if (managedObjectContext != nil) {\n        if ([managedObjectContext hasChanges] &amp;&amp; ![managedObjectContext save:&amp;error]) {\n            // Replace this implementation with code to handle the error appropriately.\n            // abort() causes the application to generate a crash log and terminate. You should not use this function in a shipping application, although it may be useful during development. \n            NSLog(@\"Unresolved error %@, %@\", error, [error userInfo]);\n            abort();\n         } \n     }\n}\n\n#pragma mark - Core Data stack\n\n// Returns the managed object context for the application.\n\n// If the context doesn't already exist, it is created and bound to the persistent store coordinator for the application.\n\n- (NSManagedObjectContext *)managedObjectContext\n{\n    if (_managedObjectContext != nil) {\n         return _managedObjectContext;\n    }\n\n    NSPersistentStoreCoordinator *coordinator = [self persistentStoreCoordinator];\n    if (coordinator != nil) {\n        _managedObjectContext = [[NSManagedObjectContext alloc] init];\n        [_managedObjectContext setPersistentStoreCoordinator:coordinator];\n    }\n    return _managedObjectContext;\n}\n\n// Returns the managed object model for the application.\n// If the model doesn't already exist, it is created from the application's model.\n\n- (NSManagedObjectModel *)managedObjectModel\n{\n    if (_managedObjectModel != nil) {\n        return _managedObjectModel;\n    }\n    NSURL *modelURL = [[NSBundle mainBundle] URLForResource:@\"Prova1\" withExtension:@\"momd\"];\n\nNSLog(@\"modelURL %@\",modelURL);\n\n    _managedObjectModel = [[NSManagedObjectModel alloc] initWithContentsOfURL:modelURL];\n    return _managedObjectModel;\n}\n\n// Returns the persistent store coordinator for the application.\n// If the coordinator doesn't already exist, it is created and the application's store added to it.\n\n- (NSPersistentStoreCoordinator *)persistentStoreCoordinator\n{\n    if (_persistentStoreCoordinator != nil) {\n        return _persistentStoreCoordinator;\n    }\n\nNSString *storePath = [[[self applicationDocumentsDirectory] absoluteString] stringByAppendingPathComponent:@\"Prova1.sqlite\"];\n NSLog(@\"storePath %@\",storePath);\n\n NSURL *storeURL = [NSURL fileURLWithPath:storePath];\n NSLog(@\"storeURL %@\",storeURL);\n\n // Put down default db if it doesn't already exist\n NSFileManager *fileManager = [NSFileManager defaultManager];\n if (![fileManager fileExistsAtPath:storePath]) {\n     NSString *defaultStorePath = [[NSBundle mainBundle] pathForResource:@\"Prova1\" ofType:@\"sqlite\"];\n     if (defaultStorePath) {\n          [fileManager copyItemAtPath:defaultStorePath toPath:storePath error:NULL];\n     }\n}/**/\n\n/*NSURL *storeURL = [[self applicationDocumentsDirectory] URLByAppendingPathComponent:@\"Prova1.sqlite\"];*/\n\nNSError *error = nil;\n_persistentStoreCoordinator = [[NSPersistentStoreCoordinator alloc] initWithManagedObjectModel:[self managedObjectModel]];\nif (![_persistentStoreCoordinator addPersistentStoreWithType:NSSQLiteStoreType configuration:nil URL:storeURL options:nil error:&amp;error]) {\n    /*\n     Replace this implementation with code to handle the error appropriately.\n\n     abort() causes the application to generate a crash log and terminate. You should not use this function in a shipping application, although it may be useful during development. \n\n     Typical reasons for an error here include:\n     * The persistent store is not accessible;\n     * The schema for the persistent store is incompatible with current managed object model.\n     Check the error message to determine what the actual problem was.\n\n\n     If the persistent store is not accessible, there is typically something wrong with the file path. Often, a file URL is pointing into the application's resources directory instead of a writeable directory.\n\n     If you encounter schema incompatibility errors during development, you can reduce their frequency by:\n     * Simply deleting the existing store:\n     [[NSFileManager defaultManager] removeItemAtURL:storeURL error:nil]\n\n     * Performing automatic lightweight migration by passing the following dictionary as the options parameter:\n     @{NSMigratePersistentStoresAutomaticallyOption:@YES, NSInferMappingModelAutomaticallyOption:@YES}\n\n     Lightweight migration will only work for a limited set of schema changes; consult \"Core Data Model Versioning and Data Migration Programming Guide\" for details.\n\n     */\n    NSLog(@\"Unresolved error %@, %@\", error, [error userInfo]);\n    abort();\n}    \n\nreturn _persistentStoreCoordinator;\n}\n\n#pragma mark - Application's Documents directory\n// Returns the URL to the application's Documents directory.\n\n- (NSURL *)applicationDocumentsDirectory\n{\n    return [[[NSFileManager defaultManager] URLsForDirectory:NSDocumentDirectory inDomains:NSUserDomainMask] lastObject];\n}\n</code></pre>\n\n<p>here instead the viewcontroller's implementation with some field to interact with db.</p>\n\n<pre><code>@implementation ALCViewController\n\n- (id)initWithNibName:(NSString *)nibNameOrNil bundle:(NSBundle *)nibBundleOrNil\n{\n    self = [super initWithNibName:nibNameOrNil bundle:nibBundleOrNil];\n    if (self) {\n        // Custom initialization\n    }\n    return self;\n}\n\n- (void)viewDidLoad\n{\n    [super viewDidLoad];\n    // Do any additional setup after loading the view.\n\n    self.textfied1 = [[UITextField alloc] initWithFrame:CGRectMake(200, 50, 300, 30)];\n    self.textfied1.borderStyle = UITextBorderStyleRoundedRect;\n    self.textfied1.delegate = self;\n    [self.view addSubview:self.textfied1];\n\n    self.textfied2 = [[UITextField alloc] initWithFrame:CGRectMake(200, 100, 300, 30)];\n    self.textfied2.borderStyle = UITextBorderStyleRoundedRect;\n    self.textfied2.delegate = self;\n    [self.view addSubview:self.textfied2];\n\n    self.salvaButton = [UIButton buttonWithType:UIButtonTypeRoundedRect];\n    [self.salvaButton setFrame:CGRectMake(200, 150, 100, 20)];\n    [self.salvaButton setTitle:@\"salva\" forState:UIControlStateNormal];\n    [self.salvaButton addTarget:self action:@selector(salva:) forControlEvents:UIControlEventTouchDown];\n    [self.view addSubview:self.salvaButton];\n\n    self.cercaButton = [UIButton buttonWithType:UIButtonTypeRoundedRect];\n    [self.cercaButton setFrame:CGRectMake(200, 200, 100, 20)];\n    [self.cercaButton setTitle:@\"Elenca\" forState:UIControlStateNormal];\n    [self.cercaButton addTarget:self action:@selector(cerca:) forControlEvents:UIControlEventTouchDown];\n    [self.view addSubview:self.cercaButton];\n}\n\n- (void)viewDidUnload\n{\n    [super viewDidUnload];\n    // Release any retained subviews of the main view.\n}\n\n- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation\n{\n    return (interfaceOrientation == UIInterfaceOrientationPortrait);\n}\n\n- (BOOL)textFieldShouldBeginEditing:(UITextField *)textField {\n    UIToolbar *toolbar = [[UIToolbar alloc] init];\n    [toolbar setBarStyle:UIBarStyleBlackTranslucent];\n    [toolbar sizeToFit];\n    UIBarButtonItem *doneButton = [[UIBarButtonItem alloc] initWithTitle:@\"Done\" style:UIBarButtonItemStyleDone target:self action:@selector(doneClicked:)];\n\n    if ([textField isEqual:self.textfied1]) {\n        [doneButton setTag:1];\n    }\n    if ([textField isEqual:self.textfied2]) {\n        [doneButton setTag:2];\n    }\n\n    [toolbar setItems:[NSArray arrayWithObjects:/*flexibleSpaceLeft,*/ doneButton, nil]];\n    [textField setInputAccessoryView:toolbar];\n    [textField setText:@\"\"];\n    [textField setTextColor:[UIColor blackColor]];\n    [textField setFont:[UIFont systemFontOfSize:16]];/**/\n    return YES;\n}\n\n- (void)doneClicked:(id)sender {\n    UIButton *bSender = (UIButton *)sender;\n\n    switch ([bSender tag]) {\n    case 1: {\n        [self.textfied1 resignFirstResponder];\n    }\n    break;\n    case 2: {\n        [self.textfied2 resignFirstResponder];\n    }\n    break;\n    default:\n    break;\n    }\n}\n\n- (void)salva:(id)sender {\n    ALCAppDelegate *appDelegate = [[UIApplication sharedApplication] delegate];\n    NSManagedObjectContext *context = [appDelegate managedObjectContext];\n\n    NSManagedObject *newContact;\n    newContact = [NSEntityDescription insertNewObjectForEntityForName:@\"Stica\" inManagedObjectContext:context];\n    [newContact setValue:self.textfied1.text forKey:@\"nome\"];\n    [newContact setValue:self.textfied2.text forKey:@\"sfiga\"];\n\n    self.textfied1.text = @\"\";\n    self.textfied2.text = @\"\";\n\n    NSError *error;\n    [context save:&amp;error];\n    //status.text = @”Contact saved”;\n}\n\n- (void)cerca:(id)sender {\n    ALCAppDelegate *appDelegate = [[UIApplication sharedApplication] delegate];\n\n    NSManagedObjectContext *context = [appDelegate managedObjectContext];\n    NSEntityDescription *entityDesc = [NSEntityDescription entityForName:@\"Stica\" inManagedObjectContext:context];\n    NSFetchRequest *request = [[NSFetchRequest alloc] init];\n    [request setEntity:entityDesc];\n\n    /*NSPredicate *pred = [NSPredicate predicateWithFormat:@\"(name = %@)\", name.text];\n [request setPredicate:pred];*/\n\n    NSError *error;\n\n    NSArray *objects = [context executeFetchRequest:request error:&amp;error];\n\n    if ([objects count] == 0) {\n        UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@\"Risultati\" message:@\"Vuoto\" delegate:self cancelButtonTitle:@\"Ok\" otherButtonTitles:nil];\n        [alert show];\n    } \n    else {\n        for (NSManagedObject *object in objects) {\n            NSMutableString *string = [[NSMutableString alloc] initWithFormat:@\"%@ - %@\",[object valueForKey:@\"nome\"],[object valueForKey:@\"sfiga\"]];\n            NSLog(@\"%@\",string);\n        }\n    }\n}\n\n@end\n</code></pre>\n\n<p>The problems come when i try to see the records stored inside the db, in fact the error pushing the button named \"Elenca\", xcode give me this error:</p>\n\n<pre><code>Unresolved error Error Domain=NSCocoaErrorDomain Code=512 \n\"The operation couldn’t be completed. (Cocoa error 512.)\" \nUserInfo=0x6e7a120 {\n    reason=Failed to create file; code = 2\n}, \n{\n    reason = \"Failed to create file; code = 2\";\n}\n</code></pre>\n\n<p>I've tried also to output some variables:</p>\n\n<p><strong>storePath</strong> file:/localhost/Users/winimac01/Library/Application%20Support/iPhone%20Simulator/5.1/Applications/7733DC6C-CE52-4EB4-9A60-26962F7AEDD9/Documents/Prova1.sqlite</p>\n\n<p><strong>storeURL</strong> file:/localhost/Users/winimac01/Library/Application%2520Support/iPhone%2520Simulator/5.1/Applications/7733DC6C-CE52-4EB4-9A60-26962F7AEDD9/Documents/Prova1.sqlite -- file://localhost/</p>\n\n<p><strong>modelURL</strong> file://localhost/Users/winimac01/Library/Application%20Support/iPhone%20Simulator/5.1/Applications/7733DC6C-CE52-4EB4-9A60-26962F7AEDD9/Prova1.app/Prova1.momd/\n2012-10-22 12:30:46.598 Prova1[2479:fb03] () isEditable 0, entities {\n    Meco = \"() name Meco, managedObjectClassName NSManagedObject, renamingIdentifier Meco, isAbstract 0, superentity name (null), properties {\\n    miracoli = \\\"(), name miracoli, isOptional 1, isTransient 0, entity Meco, renamingIdentifier miracoli, validation predicates (\\n), warnings (\\n), versionHashModifier (null)\\n userInfo {\\n}, attributeType 700 , attributeValueClassName NSString, defaultValue (null)\\\";\\n    morte = \\\"(), name morte, isOptional 1, isTransient 0, entity Meco, renamingIdentifier morte, validation predicates (\\n), warnings (\\n), versionHashModifier (null)\\n userInfo {\\n}, attributeType 700 , attributeValueClassName NSString, defaultValue (null)\\\";\\n    nome = \\\"(), name nome, isOptional 1, isTransient 0, entity Meco, renamingIdentifier nome, validation predicates (\\n), warnings (\\n), versionHashModifier (null)\\n userInfo {\\n}, attributeType 700 , attributeValueClassName NSString, defaultValue (null)\\\";\\n    relationship = \\\"(), name relationship, isOptional 1, isTransient 0, entity Meco, renamingIdentifier relationship, validation predicates (\\n), warnings (\\n), versionHashModifier (null)\\n userInfo {\\n}, destination entity Stica, inverseRelationship relationship, minCount 1, maxCount 1, isOrdered 0, deleteRule 1\\\";\\n}, subentities (null), userInfo {\\n}, versionHashModifier (null)\";\n    Stica = \"() name Stica, managedObjectClassName NSManagedObject, renamingIdentifier Stica, isAbstract 0, superentity name (null), properties {\\n    nome = \\\"(), name nome, isOptional 1, isTransient 0, entity Stica, renamingIdentifier nome, validation predicates (\\n), warnings (\\n), versionHashModifier (null)\\n userInfo {\\n}, attributeType 700 , attributeValueClassName NSString, defaultValue (null)\\\";\\n    relationship = \\\"(), name relationship, isOptional 1, isTransient 0, entity Stica, renamingIdentifier relationship, validation predicates (\\n), warnings (\\n), versionHashModifier (null)\\n userInfo {\\n}, destination entity Meco, inverseRelationship relationship, minCount 1, maxCount 1, isOrdered 0, deleteRule 1\\\";\\n    sfiga = \\\"(), name sfiga, isOptional 1, isTransient 0, entity Stica, renamingIdentifier sfiga, validation predicates (\\n), warnings (\\n), versionHashModifier (null)\\n userInfo {\\n}, attributeType 700 , attributeValueClassName NSString, defaultValue (null)\\\";\\n}, subentities (null), userInfo {\\n}, versionHashModifier (null)\";\n}, fetch request templates {\n}</p>\n\n<p>and I don't know why <strong>storeURL</strong> has that form, what is the \" -- file://localhost/\" ath the end of the string?\nWhy can't create the .sqlite file? and wich is the right way to fix the problem? I've already tried to reset the simulator and the paths are correct...</p>\n\n<p>Thanks in advance</p>\n\n<p><strong>edit1:</strong>\nthe tut that i've studied is <a href=\"http://www.raywenderlich.com/980/core-data-tutorial-how-to-preloadimport-existing-data\" rel=\"nofollow\">this</a> </p>\n\n<p><strong>edit2:</strong>\nA possible solution that works is change this piece of code:</p>\n\n<pre><code>NSString *storePath = [[[self applicationDocumentsDirectory] absoluteString] stringByAppendingPathComponent:@\"Prova1.sqlite\"];\nNSURL *storeURL = [NSURL fileURLWithPath:storePath];\n\n // Put down default db if it doesn't already exist\n NSFileManager *fileManager = [NSFileManager defaultManager];\n if (![fileManager fileExistsAtPath:storePath]) {\n     NSString *defaultStorePath = [[NSBundle mainBundle] pathForResource:@\"Prova1\" ofType:@\"sqlite\"];\n\n     if (defaultStorePath) {\n         [fileManager copyItemAtPath:defaultStorePath toPath:storePath error:NULL];\n     }\n }/**/\n</code></pre>\n\n<p>with:</p>\n\n<pre><code>NSURL *storeURL = [[self applicationDocumentsDirectory] URLByAppendingPathComponent:@\"Prova1.sqlite\"];\n\n// Put down default db if it doesn't already exist\nNSFileManager *fileManager = [NSFileManager defaultManager];\nif (![fileManager fileExistsAtPath:storePath]) {\n    NSURL *defaultStoreURL = [[NSBundle mainBundle] URLForResource:@\"Prova1\" withExtension:@\"sqlite\"];\n\n    if (defaultStoreURL) {\n        [fileManager copyItemAtURL:defaultStoreURL toURL:storeURL error:NULL];\n    }\n}/**/\n</code></pre>\n"},{"tags":["c#","sqlite","transactions"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":13008986,"title":"Exception \"SQLite Error - No transaction is active\" in SQLite","body":"<p>In my project, I used sqlite transaction as follows.</p>\n\n<pre><code>var trans = connection.BeginTransaction();\n\nvar sql = \"delete from table1\";\nconnection.ExecuteNonQuery(sql);\n\ntrans.Commit(); // Here, an exception occurred: \"No transaction is active\".\n</code></pre>\n\n<p>What reason that cause the problem?<br>\nWho can help me?</p>\n"},{"tags":["android","sqlite","delete"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":264,"score":0,"question_id":9652826,"title":"How to delete record using SQLiteDatabase?","body":"<p>I need to delete the record from Sqlite, My table name is \"TABLE_NAME\" and column name<br>\nis \"COLUMN1\", I pass the string value from MyTable.java to mySqliteHelper.java.<br>\nI need to delete this record which value i pass. here is my sample code.<br>\nGive me hint or suggestion. any help is appreciated.<br>\nThank you in Advance.  </p>\n\n<p>MyTable.java  </p>\n\n<pre><code>AlertDialog.Builder alert = new AlertDialog.Builder(this);\n\n    alert.setTitle(\"Delete Profile\");\n    alert.setMessage(\"You want to delete this profile?\");       \n    alert.setPositiveButton(\"Ok\", new DialogInterface.OnClickListener()\n    {\n        public void onClick(DialogInterface dialog, int whichButton)\n        {         \n            MySQLiteHelper m=new MySQLiteHelper(getBaseContext());\n            m.deleteBName(other);   \n            deleteMessage();\n        }\n    });     \n</code></pre>\n\n<p>MySQLitHelper.java  </p>\n\n<pre><code>public void deleteBName(String keyword) \n{\n    try\n    {\n        SQLiteDatabase db=this.getWritableDatabase();\n        db.delete(TABLE_NAME, COLUMN1+\"=\"+keyword, null);   \n    }\n    catch(Exception e)\n    {\n        e.printStackTrace();\n    }\n\n}\n</code></pre>\n"},{"tags":["xcode","ipad","sqlite","sqlite3"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13012168,"title":"Load data infile sqlite Xcode","body":"<p>I want to insert records in a SQLite database from a pipe delimited text file. \nIs it possible?\nI don't want to use .import function but I want to do it using DBI.\nWhat I actually want is something similar in SQLite as following mysql query:</p>\n\n<pre><code>LOAD DATA LOCAL INFILE 'name.txt'\nINTO TABLE database\nFIELDS TERMINATED BY '|'\nLINES TERMINATED BY '\\n'\n</code></pre>\n\n<p>Anyone can help me?</p>\n"},{"tags":["c#",".net","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":93,"score":3,"question_id":12112448,"title":"Where is SqliteDataReader in sqlite-net?","body":"<p>I'm trying to port an iOS application that uses native Sqlite3 and makes heavy use of <code>SqliteDataReader</code>.\nOn the target platform I use SQLIte-Net (<a href=\"https://github.com/praeclarum/sqlite-net\" rel=\"nofollow\">https://github.com/praeclarum/sqlite-net</a>) and there the SqliteDataReader class does not exist.\nWhat are my best options to convert this? The usage of the reader is always code like this:</p>\n\n<pre><code>SqliteConnection oConn = AppDelegateBase.MasterDatabase.CreateDBMSConnection();\nusing ( SqliteCommand oCmd = new SqliteCommand ( \"SELECT * FROM ATable\"), oConn ) )\nusing ( var oReader = oCmd.ExecuteReader (  ) )\n{\n  while ( oReader.Read (  ) )\n  {\n    int val = Convert.ToInt32(oReader[\"someColumn\"]);\n  }\n  oReader.Close ();\n}\n</code></pre>\n"},{"tags":["java","android","sqlite","geolocation"],"answer_count":4,"favorite_count":17,"up_vote_count":12,"down_vote_count":0,"view_count":7422,"score":12,"question_id":3695224,"title":"Android - SQlite Getting nearest locations (with latitude and longitude)","body":"<p>I don't know if I'm wierd, but I haven't found any topic about the subject. The thing is, I have data with lat and lng stored in my SQLite database, and I want to get the nearest locations to the parameters I put in (ex. my current location - lat, lng).</p>\n\n<p>I know that this is possible in MySql, and I've done quite some research that SQLite needs a custom external function for the Haversine formula (calculating distance on a sphere), but I haven't found nothing yet, that is written in Java and is functioning.</p>\n\n<p>Also, if I want to add custom functions, I need the org.sqlite .jar (for org.sqlite.Function) and that adds unnecessary size to the app.</p>\n\n<p>The other side of this is - i need the Order by function from sql, because displaying the distance alone isn't that much of a problem - I already did it in my custom SimpleCursorAdapter, but I can't sort the data, because i don't have the distance column in my DB. That would mean updating the DB everytime the location changes and that's a waste of battery and performance. So if someone has any idea on sorting the cursor with a column that's not in the database, I'd be grateful too!</p>\n\n<p>I know there are tons of Android apps out there that use this function, but can someone please explain the magic :)</p>\n\n<p>Thanks!</p>\n\n<p>Btw: found this alternative: <a href=\"http://stackoverflow.com/questions/3126830/query-to-get-records-based-on-radius-in-sqlite\">http://stackoverflow.com/questions/3126830/query-to-get-records-based-on-radius-in-sqlite</a></p>\n\n<p>It's suggesting to make 4 new columns for cos and sin values of lat and lng, but is there any other, not so redundant way?</p>\n"},{"tags":["android","database","sqlite","android-widget"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":4367,"score":0,"question_id":5828652,"title":"how to store the values of edittext in database and then how to get that back","body":"<p>I'm trying to put the value from an EditText into a database and then get the value from that database.</p>\n\n<p>I tried to store the values in database when the button is clicked in the activity as follows:</p>\n\n<pre><code>import android.app.Activity;\n\nimport android.os.Bundle;\nimport android.view.View;\nimport android.view.View.OnClickListener;\nimport android.widget.Button;\nimport android.widget.EditText;\n\npublic class hjhj extends Activity implements OnClickListener {\n    private EditText txt,txt1;\n\n    Button b;\n\n    String nam;\n    String ag;\n\n\n    /** Called when the activity is first created. */\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.main);\n\n        txt = (EditText) findViewById(R.id.EditText01);\n        txt1= (EditText) findViewById(R.id.EditText02);\n        b=(Button) this.findViewById(R.id.Button01);\n        b.setOnClickListener(this);         \n   }\n\n\n\n    @Override\n    public void onClick(View v) {\n        // TODO Auto-generated method stub\n        nam=txt.getText().toString();\n        ag=txt1.getText().toString();\n\n        new DetailsOpenHelper(this);\n\n    }\n\n\n}\n</code></pre>\n\n<p>DetailsOpenHelper:</p>\n\n<pre><code>import android.content.ContentValues;\n\nimport android.database.Cursor;\nimport android.database.SQLException;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.database.sqlite.SQLiteOpenHelper;\n\n\npublic class DetailsOpenHelper extends SQLiteOpenHelper{\n\n    private static String DATABASE_NAME=\"employeedatabase\";\n\n    private static final int DATABASE_VERSION = 2;\n    private static final String DETAILS_TABLE_NAME = \"employeedetails\";\n\n    private static String nam;\n    private static String ag;\n\n    static String NAME=nam;\n    static String AGE=ag;\n    private String KEY_ROWID;\n\n    private static final String DETAILS_TABLE_CREATE =\n                \"CREATE TABLE \" + DETAILS_TABLE_NAME + \" (\" +\n                NAME + \" TEXT, \" +\n                AGE + \" TEXT);\";\n\n    private SQLiteOpenHelper mSQL;\n    private SQLiteDatabase db;\n\n\n\n    public DetailsOpenHelper(hjhj hjhj){\n        super(hjhj, DATABASE_NAME, null,DATABASE_VERSION );\n        // TODO Auto-generated constructor stub\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        // TODO Auto-generated method stub\n         db.execSQL(DETAILS_TABLE_CREATE);\n\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n        // TODO Auto-generated method stub\n        db.execSQL(\"DETAILS_TABLE_IF_NOT_EXISTS\");\n        onCreate(db);\n    }\n\n\n      public void open() throws SQLException\n        {\n          DetailsOpenHelper mSQL = new DetailsOpenHelper(null);\n            db = mSQL.getWritableDatabase();\n         } \n\n\n    private void addDetails( String nam, String ag) {\n\n            SQLiteDatabase db = mSQL.getWritableDatabase();\n            ContentValues values = new ContentValues();\n            values.put(NAME, nam);\n            //values.put(TIME, System.currentTimeMillis());\n            values.put(AGE, ag);\n            db.insert(DETAILS_TABLE_NAME, null, values);\n        }\n\n      public Cursor getAllDetails() \n      {\n          return db.query(DETAILS_TABLE_NAME, new String[] {\n                  KEY_ROWID, \n                  NAME,\n                  AGE  },  null, null, null, null, null, null);\n      }   \n\n\n      public boolean updateDetails(long rowId, String nam, \n              String ag) \n              {\n                  ContentValues args = new ContentValues();\n                  args.put(NAME, nam);\n                  args.put(AGE, ag);\n\n                  return db.update(DETAILS_TABLE_NAME, args, \n                                   KEY_ROWID + \"=\" + rowId, null) &gt; 0;\n              }\n\n}\n</code></pre>\n\n<p>I want to store and retrieve the values when I click the button. Please can anyone help me if you know about this. I have tried a lot.</p>\n\n<p>Also, how do I view the database with the command prompt?</p>\n"},{"tags":["android","sqlite","cursor","android-cursor"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":13010160,"title":"SQLite Cursor freezes for about 10 seconds at first call","body":"<p>I have 10 mb database and this code:</p>\n\n<pre><code>cursor = mDatabase.query(CitySQLiteHelper.TABLE_CITIES, ALL_COLUMNS, null, null, null, null, \"name DESC\", \"20\");\nif (cursor.getCount() &gt; 0) {\n//\n}\n</code></pre>\n\n<p>Execution freezes for about 10 seconds at the if statement. I tried getCount and moveToFirst - it freezes in both cases. Query and all the calls to the cursor (getString() etc) after the first call work fine. Why?</p>\n\n<p>Update: Schema</p>\n\n<pre><code>sqlite&gt; .schema cities\nCREATE TABLE cities (region text, name text, latitude float, longitude float);\nsqlite&gt; select count(*) from cities;\n130070\n</code></pre>\n"},{"tags":["android","sqlite","activity","context"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":60,"score":3,"question_id":10658800,"title":"Difference in Ways of executing sql queries in android?","body":"<p>What is the difference between db.execSQL() method and activityObject.managedQuery() method in android ?</p>\n"},{"tags":["c#","ios","sqlite","monotouch","sqlite-net"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":52,"score":1,"question_id":13003796,"title":"Where are the sqlite drivers for monotouch?","body":"<p>On the sqlite-net <a href=\"https://github.com/praeclarum/sqlite-net\" rel=\"nofollow\">github page</a>, it indicates that in addition to this library, I also need the compiled sqlite2 binaries:</p>\n\n<blockquote>\n  <p>0 dependencies aside from a <a href=\"http://www.sqlite.org/download.html\" rel=\"nofollow\">compiled form of the sqlite2 library</a>.</p>\n</blockquote>\n\n<p>I checked that page and I am unable to determine what binaries I should use in order to use it on IOS via MonoTouch; the instructions make it quite clear that this particular use-case was actually the genesis of this project, so this must be supported.</p>\n\n<p>Does anyone know what binaries I am supposed to use on IOS?</p>\n"},{"tags":["ruby-on-rails-3","sqlite","activerecord"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":13009277,"title":"Rails 3 console and db:console are different","body":"<p>I have a rails app and when I have both the console and db:console open, they have different values for what is supposed to be the same field.  I am using the send function to change the value.  Here is the method in the model:</p>\n\n<pre><code>  def toggle_approve(field)\n    self.send(field)\n    if(self.send(field).blank?)\n        self.send(field + '=', \"new_value\")\n        puts self.send(field)\n    else\n        self.send(req + '=', \"\")\n    end\n    rank.save\n  end\n</code></pre>\n\n<p>In my db:console (sqllite) everything is always correct, but in my regular erb console it is wrong.  My view will then show what is in the erb console and not the sqllite.  I dont understand what is going on in the background that would causing this issue.  Any help would be great.  </p>\n"},{"tags":["iphone","sqlite","core-data","plist","readonly"],"answer_count":3,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":1046,"score":2,"question_id":2018127,"title":"What's the correct way to ship static (read-only) data in Core Data persistent store?","body":"<p>I want to ship static read-only data for use in my Core Data model. The problem is that there are obviously different persistent store types and I don't know if the format of those types is supposed to be opaque or if I'm supposed to be able to construct them by hand.</p>\n\n<p>Right now I just have a plist and it's very small (maybe 30 entries total).</p>\n\n<p>Should I just write code to import the plist into my data store when the app is first installed, or is there some way I can ship a hand-constructed initial version of the data store file?</p>\n\n<p>(I'm using the default sqlite persistent store.)</p>\n"},{"tags":["sqlite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13008378,"title":"Got java.lang.nullPointerException while accesing sqlitedatabase. Might due to faulty DatabaseHelper class","body":"<p>I'm working on the listview of an android application. On each list item, I have a 'star' to allow users to add the item into a favourite list. Previously, through the same Databasehelper class, I have successfully retrieve the data from my sqlite to build the listview. </p>\n\n<p>However, now when I wish to write the database when the 'star' in the list item is clicked, errors happen. I will paste my Logcat errors, Databasehelper class,  TestAdapter class &amp; my activity class where I create an instance of TestAdapter class here. </p>\n\n<pre><code>public class DatabaseHelper extends SQLiteOpenHelper{\n\n\nprivate static String TAG = \"DatabaseHelper\";    \nprivate static String DB_PATH = \"\";  \nprivate static String DB_NAME =\"DB_NAME\";\nprivate SQLiteDatabase mDataBase;  \nprivate final Context mContext; \n\n\n\npublic DatabaseHelper(Context context)  \n{ \n\nsuper(context, DB_NAME, null, 1);// 1? its Database Version          \nDB_PATH = \"/data/data/\" + context.getPackageName() + \"/databases/\"; \nLog.e(TAG, DB_PATH); \nthis.mContext = context; \n}    \n\npublic void createDataBase() throws IOException \n{ \n//If database not exists copy it from the assets \n\nboolean mDataBaseExist = checkDataBase(); \nif(!mDataBaseExist) \n{ \n    this.getReadableDatabase(); \n    this.close(); \n    try  \n    { \n        //Copy the database from assests \n        copyDataBase(); \n        Log.e(TAG, \"createDatabase database created\"); \n    }  \n    catch (IOException mIOException)  \n    { \n        throw new Error(\"ErrorCopyingDataBase\"); \n    } \n} \n} \n\nprivate boolean checkDataBase() \n{ \n    File dbFile = new File(DB_PATH + DB_NAME); \n    Log.v(\"dbFile\", dbFile + \"   \"+ dbFile.exists()); \n    return dbFile.exists(); \n} \n\n//Copy the database from assets \nprivate void copyDataBase() throws IOException \n{ \n    Log.e(\"\", \"At copyDataBase\"); \n    InputStream mInput = mContext.getAssets().open(DB_NAME); \n\n\n    String outFileName = DB_PATH + DB_NAME; \n    OutputStream mOutput = new FileOutputStream(outFileName); \n    byte[] mBuffer = new byte[1024]; \n    int mLength; \n    while ((mLength = mInput.read(mBuffer))&gt;0) \n    { \n        mOutput.write(mBuffer, 0, mLength); \n\n    } \n    mOutput.flush(); \n    mOutput.close(); \n    mInput.close(); \n} \n\n//Open the database, so we can query it \npublic boolean openDataBase() throws SQLException \n{ \n    String mPath = DB_PATH + DB_NAME; \n    //Log.v(\"mPath\", mPath); \n    mDataBase = SQLiteDatabase.openDatabase(mPath, null, SQLiteDatabase.CREATE_IF_NECESSARY); \n    //mDataBase = SQLiteDatabase.openDatabase(mPath, null, SQLiteDatabase.NO_LOCALIZED_COLLATORS); \n    return mDataBase != null; \n} \n\n@Override \npublic synchronized void close()  \n{ \n    if(mDataBase != null) \n        mDataBase.close(); \n    super.close(); \n}\n\n@Override\npublic void onCreate(SQLiteDatabase arg0) {\n    // TODO Auto-generated method stub\n\n}\n\n@Override\npublic void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n    // TODO Auto-generated method stub\n\n} \n\n}\n</code></pre>\n\n<p>For the DatabaseHelper class, you may skip all the methods in creating database, eg createDtabase(), copyDatabase() because my sqlite database is successfully copied to the data folder.</p>\n\n<pre><code>public class TestAdapter {\nprotected static final String TAG = \"TestAdapter\";\n\nprivate final Context mContext;\nprivate SQLiteDatabase mDb;\nprivate DatabaseHelper mDbHelper;\n\npublic TestAdapter(Context context) {\n    this.mContext = context;\n    mDbHelper = new DatabaseHelper(mContext);\n}\n\npublic TestAdapter createDatabase() throws SQLException {\n    try {\n        mDbHelper.createDataBase();\n    } catch (IOException mIOException) {\n        Log.e(TAG, mIOException.toString() + \"  UnableToCreateDatabase\");\n        throw new Error(\"UnableToCreateDatabase\");\n    }\n    return this;\n}\n\npublic TestAdapter open(String readwrite) throws SQLException {\n    try {\n\n        mDbHelper.openDataBase();\n        mDbHelper.close();\n        if (readwrite == \"read\"){\n            Log.d(\"at open()\", \"read\");\n            mDb = mDbHelper.getReadableDatabase();\n        }\n        else{\n            Log.d(\"at open()\", \"write\");\n            mDb = mDbHelper.getWritableDatabase();\n        }\n    } catch (SQLException mSQLException) {\n        Log.e(TAG, \"open &gt;&gt;\" + mSQLException.toString());\n        throw mSQLException;\n    }\n    return this;\n}\n\npublic void close() {\n    mDbHelper.close();\n}\n\npublic Cursor getTestData(String category) {\n\n            String sql = \"blabla\";\n\n        Cursor mCur = mDb.rawQuery(sql, null);\n\n        if (mCur != null) {\n            mCur.moveToNext();\n\n        }\n        return mCur;\n\n    } catch (SQLException mSQLException) {\n        Log.e(TAG, \"getTestData &gt;&gt;\" + mSQLException.toString());\n        throw mSQLException;\n    }\n}\n\n\npublic void writeFavWords(int star, String character ) {\n\n    String sql = \"blabla\";\n    mDb.execSQL(sql);\n\n}\n\n }\n</code></pre>\n\n<p>For this class, you may pay more attention to the open() method. getTestData() method is where I successfully retrieve the data for each list item. writeFavWords() is the method which I will be using to update the database to indicate a particular list item is clicked. </p>\n\n<pre><code>private List&lt;ListItemObject&gt; retrieveCharFrmDatabase(String category) {\n\n    TestAdapter mDbHelper = new TestAdapter(this); \n    mDbHelper.open(\"read\");\n\n    Cursor testdata = mDbHelper.getTestData(category);\n\n    List&lt;ListItemObject&gt; listitem = new ArrayList&lt;ListItemObject&gt;();\n\n    while (testdata.moveToNext()) {\n\n        String chinesechar = \"blabla\";\n        String meaning = \"blabla\";\n\n        ListItemObject obj = new ListItemObject();\n        obj.setCharacter(chinesechar);\n        obj.setMeaning(meaning);\n\n        listitem.add(obj);\n    }\n\n    // the cursor is not needed anymore \n    testdata.close();\n    mDbHelper.close();\n    return listitem;\n}\n\n\nprotected void star(int star, String character) {\n\n        try {\n            TestAdapter mDbHelper = new TestAdapter(this);\n            mDbHelper.open(\"write\");\n            mDbHelper.writeFavWords(star,character);\n            mDbHelper.close();\n        }  \n        catch (SQLException mSQLException) {\n            Log.d(\"at star()\" , mSQLException.toString());\n            throw mSQLException;\n            }\n</code></pre>\n\n<p>So this is the activity class which seems to throw exception. FYI, I have confirmed that everything is working properly (parameters are passed in successfully to this method) until an instance of TestAdapter is created at protected void star(). I was wondering what could go wrong as I'm also accessing the same database management methods in retrieveCharFrmDatabase() which returns no errors. </p>\n\n<p>And lastly, this is the logcat. \n<img src=\"http://i.stack.imgur.com/3s5by.png\" alt=\"enter image description here\"></p>\n\n<p>Sorry for the amount of code snippets, I have tried to simplify it. Thanks. </p>\n"},{"tags":["android","json","sqlite","arraylist","hashtable"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":74,"score":1,"question_id":13006052,"title":"How to store ArrayList of some class using SQLite on Android?","body":"<p>I made some class that contain some memeber variables.</p>\n\n<p>And I should to link this class with other class like this : </p>\n\n<pre><code>Hashtable&lt;Class1 , ArrayList&lt;Class2&gt;&gt;\n</code></pre>\n\n<p>I want to store this Hashtable in SQLite on Android. I consider serialization, Byte stream, but not sure can it possible to my own class.\nSome people said that using JSON object. Are the JSON or XML creation is only solution??</p>\n\n<p>Thanks in advance : )</p>\n"},{"tags":["ios","database","sqlite","syntax-error"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":40,"score":1,"question_id":13007202,"title":"Sqlite_prepare_v2 return SQLite_ERROR","body":"<p>I have to open a table from a SQLite database that has some empty fields, so, after giving the name of the table to open and the database address in the documents folder (all right), I set the query, and then I used the function <code>sqlite_prepare_v2</code> to prepare the extraction of data but returns the value <code>1</code> (<code>SQLite_ERROR</code>)  and gives a syntax error. Why? I wrote the fields names right.</p>\n\n<pre><code>-(NSMutableArray*)loadDatiFromTable:(NSString*) nameTable {\n\n    NSString *query =[NSString stringWithFormat:@\"SELECT id,title, ifnull(IMAGES,''),ifnull(text, ''), ifnull(NUMBER, ''),ifnull(CAP, 0) FROM %@ order by ID\", nameTable];  \n    sqlite3_stmt *statement;\n    int sqlResult = sqlite3_prepare_v2(database, [query UTF8String], -1, &amp;statement,nil);\n    NSLog(@\"The value is %d\", sqlResult); // here sqlResult is 1\n\n    if (sqlResult == SQLITE_OK) {\n        while (sqlite3_step(statement) == SQLITE_ROW) {\n            //......\n        }\n        sqlite3_finalize(statement);\n    } else {\n        NSLog(@\"Failed from sqlite3_step(statement). Error is:  %s\", sqlite3_errmsg(database) );\n        // here return: \"Failed from sqlite3_step(statement). Error is:  near \"NUMBER\": syntax error\"\n       sqlite3_close(database);\n   }\n\n   return self.tableArray;\n}\n\n\n-(id) initWithTable:(NSString*)nomeTabella withDbPath: (NSString *)dbPath { \n    self = [super init];\n    if (self) {\n        if (sqlite3_open([dbPath UTF8String], &amp;database) != SQLITE_OK) {\n            NSLog(@\"Failed open database\");\n        } else {\n            NSLog(@\"OPEN DATABASE\");\n            [self loadDatiFromTable:nomeTabella ];\n        }\n\n        return self;\n    }\n}\n</code></pre>\n\n<p>The error message is:</p>\n\n<pre><code>    \"Failed from sqlite3_step(statement). Error is:  near \"NUMBER\": syntax error\"\n</code></pre>\n"},{"tags":["android","sqlite"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":2825,"score":2,"question_id":4478152,"title":"how to create two tables in one database","body":"<p>Am trying to create two tables in one database in sqlite but only the first table (sharelist) is creating and second table (usedlist) is not creating.</p>\n\n<p>please help me...</p>\n\n<p>public class createSqliteHelper extends SQLiteOpenHelper{</p>\n\n<pre><code> private DatabaseHelper DBHelper;\npublic static final String KEY_ROWID = \"sy_id\";\n\n    public static final String KEY_TITLE = \"symbol\";\n    public static final String KEY_POSITION = \"position\";    \n    private static final String TAG = \"createSqliteHelper\";\n\n\nprivate static final String DATABASE_NAME=\"tradely.db\";\n private static final String DATABASE_TABLE = \"sharelist\";\n\n\n   private static final String DATABASE_TABLE1 = \"usedlist\";\n\nprivate static final int SCHEMA_VERSION=1;\n\n private DatabaseHelper DBHelper;\n    private SQLiteDatabase db;\n\n\n\n    private static final String DATABASE_CREATE=(\"CREATE TABLE IF NOT EXISTS sharelist (_id INTEGER PRIMARY KEY AUTOINCREMENT, category TEXT);\");\n    private static final String DATABASE_CREATE1=(\"CREATE TABLE IF NOT EXISTS usedlist( sy_id INTEGER PRIMARY KEY AUTOINCREMENT, symbol TEXT, position INTEGER, FOREIGN KEY (symbol) REFERENCES sharelist(_id);\");\n\n\n\n\n\n\n    public createSqliteHelper(Context context) {\n\n    super(context, DATABASE_NAME, null, SCHEMA_VERSION);\n}\n\n@Override\npublic void onCreate(SQLiteDatabase db) {\n\n\n    try {\n\n\n        db.execSQL(DATABASE_CREATE);\n        db.execSQL(DATABASE_CREATE1);\n\n    }\n    catch(SQLiteException e) {\n        Log.e(\"createerr\",e.toString());\n    }\n\n}\n\n@Override\npublic void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n    android.util.Log.w(\"LunchList\", \"Upgrading database, which will destroy all old data\");\n    db.execSQL(\"DROP TABLE IF EXISTS sharelist\");\n    db.execSQL(\"DROP TABLE IF EXISTS usedlist\");\n    onCreate(db);\n}\n</code></pre>\n"},{"tags":["sqlite","bitmap","bytearray","blob"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":50,"score":1,"question_id":12990539,"title":"ByteArray to SQLite in Android","body":"<p>I try to put a ByteArray to a <code>SQLite</code> Database:</p>\n\n<pre><code>ByteArrayOutputStream baos = new ByteArrayOutputStream();\n\nresizedBitmap.compress(Bitmap.CompressFormat.PNG, 100, baos);\n\nbyte[] photo = baos.toByteArray();\n\nContentValues cv = new ContentValues();\ncv.put(\"unterschrift\", photo);\n\nmyDBAuftrag = this.openOrCreateDatabase(MAMActivity.MY_DB_AUFTRAG,\n    this.MODE_PRIVATE, null);\n\nint anz = myDBAuftrag.update(MAMActivity.MY_DB_OELSPUR_TABLE,\n            cv,\n          \"aktiver_datensatz = ?\",\n          new String[]{\n           \"1\"\n         });\n\nmyDBAuftrag.close();\n</code></pre>\n\n<p>When I show the database in Sqlitehelper on my windows pc, i have in the field only a little pices of my ByteArray like this: �PNG\nWhat i'm making wrong. </p>\n\n<p>Please help     </p>\n"},{"tags":["sql","ruby-on-rails","sqlite","postgresql"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":50,"score":1,"question_id":13005008,"title":"Finding null values when I write a query in rails","body":"<p>I have just written the following query and gotten a surprise (to me) result;</p>\n\n<pre><code>Customer.where(\"satisfaction != ?\",\"Very satisfied\")\n</code></pre>\n\n<p>This returned far fewer values than I expected and the reason turns out to be null values in the database for my satisfaction column. To get the records I want I have to write the following query</p>\n\n<pre><code>Customer.where(\"satisfaction != ? or satisfaction is null\",\"Very satisfied\")\n</code></pre>\n\n<p>This works but it's ugly and I'm hoping there's a better way (especially as I plan on generating these queries dynamically so I want them to be as simple as possible). Is there an operator that incorporates null values along with unequal values?</p>\n\n<p>My database is SQLite3 in development and Postgresql in production.</p>\n"},{"tags":["java","android","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":90,"score":2,"question_id":13004424,"title":"What does this error message mean ? - sqlite3_exec - Failed to set synchronous mode = 1(Normal)","body":"<p>I am trying to open a SQLiteDatabase in a <code>\"Service\"</code> which fails with the following exception:</p>\n\n<pre><code>10-21 19:33:23.547: E/SqliteDatabaseCpp(31208): sqlite3_exec - Failed to set synchronous mode = 1(Normal) \n10-21 19:33:23.547: E/SQLiteDatabase(31208): Failed to open the database. closing it.\n10-21 19:33:23.547: E/SQLiteDatabase(31208): android.database.sqlite.SQLiteDatabaseLockedException: database is locked\n10-21 19:33:23.547: E/SQLiteDatabase(31208):    at android.database.sqlite.SQLiteDatabase.dbopen(Native Method)\n10-21 19:33:23.547: E/SQLiteDatabase(31208):    at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:1135)\n10-21 19:33:23.547: E/SQLiteDatabase(31208):    at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:1086)\n10-21 19:33:23.547: E/SQLiteDatabase(31208):    at android.database.sqlite.SQLiteDatabase.openOrCreateDatabase(SQLiteDatabase.java:1173)\n10-21 19:33:23.547: E/SQLiteDatabase(31208):    at android.app.ContextImpl.openOrCreateDatabase(ContextImpl.java:858)\n10-21 19:33:23.547: E/SQLiteDatabase(31208):    at android.content.ContextWrapper.openOrCreateDatabase(ContextWrapper.java:228)\n10-21 19:33:23.547: E/SQLiteDatabase(31208):    at android.database.sqlite.SQLiteOpenHelper.getWritableDatabase(SQLiteOpenHelper.java:157)\n</code></pre>\n\n<p>Can somebody please explain what this means? and how can it be fixed?. The database is opened in the <code>MainActivity</code> and a <code>Service</code>.</p>\n"},{"tags":["python","sqlite","csv"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":66,"score":0,"question_id":13002395,"title":"How to determine if field exists in same table in another field in any other row","body":"<p>I am having troubles finding out if I can even do this.  Basically, I have a csv file that looks like the following:</p>\n\n<pre><code>1111,804442232,1\n1112,312908721,1\n1113,A*2434,1\n1114,A*512343128760987,1\n1115,3512748,1\n1116,1111,1\n1117,1234,1\n</code></pre>\n\n<p>This is imported into a sqlite database in memory for manipulation.  I will be importing multiple files into this database after some manipulation.  Sqlite is allowing me to keep constraints on the tables and receive errors where needed without creating additional functions just to check each constraint while using arrays in python.  I want to do a few things but the first of which is to prepend field2 where all <code>field2</code> strings match an entry in <code>field1</code>.</p>\n\n<p>For example, in the above data <code>field2</code> in entry 6 matches entry 1.  In this case I would like to prepend <code>field2</code> in entry 6 with <code>'555'</code></p>\n\n<p>If this is not possible I do believe I could make do using a regex and just do this on every row with 4 digits in <code>field2</code>... though... I have yet to successfully get REGEX working using python/sqlite as it always throws me an error.</p>\n\n<p>I am working within Python using Sqlite3 to connect/manipulate my sqlite database.</p>\n\n<p>EDIT: I am looking for a method to manipulate the resultant tables which reside in a sqlite database rather than manipulating just the csv data.  The data above is just a simple representation of what is contained in the files I am working with.  Would it be better to work with arrays containing the data from the csv files?  These files have 10,000+ entries and about 20-30 columns.</p>\n"},{"tags":["sqlite","android-listview"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13004395,"title":"listView got reset rather than append","body":"<p>I try to append user's input history and store it in database.. but I never can get the next record rather than the result get replaced.. I wonder  where's wrong..</p>\n\n<p>my class file :</p>\n\n<p>public void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);</p>\n\n<pre><code>ArrayList&lt;String&gt; results = new ArrayList&lt;String&gt;();\nSQLiteDatabase HistoryDB = null;\n\ntry {\n    HistoryDB =  this.openOrCreateDatabase(DB_NAME, MODE_PRIVATE, null);\n\n    HistoryDB.execSQL(\"CREATE TABLE IF NOT EXISTS \" +\n            TABLE_NAME +\n            \" (myDate VARCHAR, myTime VARCHAR, M VARCHAR,  E VARCHAR, R VARCHAR, S VARCHAR);\");\n\n    String date = (String) getIntent().getExtras().get(\"date\");\n    String time = (String) getIntent().getExtras().get(\"time\");\n    String m = (String) getIntent().getExtras().get(\"m\");\n    String e = (String) getIntent().getExtras().get(\"e\");\n    String r = (String) getIntent().getExtras().get(\"r\");\n    String s = (String) getIntent().getExtras().get(\"s\");\n\n\n    HistoryDB.execSQL(\"INSERT INTO \" +\n            TABLE_NAME +\n            \" Values ('\"+date+\"','\"+time+\"','\"+m+\"','\"+e+\"','\"+r+\"','\"+s+\"');\");\n\n    Cursor c = HistoryDB.rawQuery(\"SELECT * FROM \" +\n            TABLE_NAME, null);\n\n\n    if (c != null ) {\n        if  (c.moveToFirst()) {\n            do {\n                String dateS = c.getString(c.getColumnIndex(\"myDate\"));\n                String timeS = c.getString(c.getColumnIndex(\"myTime\"));\n                String mS = c.getString(c.getColumnIndex(\"M\"));\n                String eS = c.getString(c.getColumnIndex(\"E\"));\n                String rS = c.getString(c.getColumnIndex(\"R\"));\n                String sS = c.getString(c.getColumnIndex(\"S\"));\n\n                results.add(\"Date : \" + dateS + \"\\n\" +\n                            \"Time Elapsed : \" + timeS + \"\\n\" +\n                            \"Math : \" + mS + \"\\n\" +\n                            \"Economy : \"+ eS + \"\\n\" +\n                            \"Rate : \" + rS + \"  |  \" + \"Sets: \"+ sS);\n\n            }while (c.moveToNext());\n        } \n    }\n\n    setListAdapter(new ArrayAdapter&lt;String&gt;(this, R.layout.log,results));\n\n    ListView listView = getListView();\n\n} catch (SQLiteException se ) {\n    Log.e(getClass().getSimpleName(), \"Could not create or Open the database\");\n} finally {\n    if (HistoryDB != null) \n        HistoryDB.execSQL(\"DELETE FROM \" + TABLE_NAME);\n        HistoryDB.close();\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["android","sqlite"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":13003937,"title":"insert variable into sql value","body":"<pre><code>String ans1= \"Apple\";\n\nmyDb.execSQL(\"INSERT INTO \" +\n               TABLE_NAME + \" Values (ans1);\");\n</code></pre>\n\n<p>It just doesn't work this way.. why?? I need a simple way to do this, I don't want use class that's confusing for a beginner like me, possible?  </p>\n"},{"tags":["sql","sqlite","distinct"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13003591,"title":"SQL: Distinct based on 1 field","body":"<p>I have a data set with duplicate city names. I wish to get all the records and if the city is duplicated, then just get the first one:</p>\n\n<pre><code>1  London  Fred\n2  Paris   Sally\n3  London  Marce\n</code></pre>\n\n<p>I want this returned:</p>\n\n<pre><code>1  London  Fred\n2  Paris   Sally\n</code></pre>\n\n<p>I'm using SQLite, but that shouldn't matter too much.</p>\n"},{"tags":["android","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13003441,"title":"Invalid data when querying Android SQLite Database","body":"<p>I have an SQLite database with values like this:</p>\n\n<pre><code>_id, airportcode, lat, lan\n1, AUS, 31.0672, 97.8289\n...\n</code></pre>\n\n<p>When I open the database in SQLiteDatabase Browser and run:</p>\n\n<pre><code>SELECT DISTINCT _id, airportcode, lat, lon FROM latlon WHERE airportcode=\"AUS\"\n</code></pre>\n\n<p>It returns:</p>\n\n<pre><code>    1, AUS, 31.0672, 97.8289\n</code></pre>\n\n<p>In my Android app I have this:</p>\n\n<pre><code>    public LatLonResult getLatLonFor(String airportCode){\n\n    Cursor mCursor = myDataBase.query(\n            true, DB_TABLE,\n            new String[] {KEY_ID, KEY_AIRPORTCODE, KEY_LAT, KEY_LON},\n            String.format(\"%s=\\\"%s\\\"\", KEY_AIRPORTCODE, airportCode),\n            null, null, null, null, null);\n\n    LatLonResult result = null;\n    if (mCursor != null) {\n        mCursor.moveToFirst();\n\n        result = new LatLonResult();\n        result.setAirportCode(mCursor.getString(\n                mCursor.getColumnIndexOrThrow(KEY_AIRPORTCODE)));\n\n        result.setLat(mCursor.getDouble(\n                mCursor.getColumnIndexOrThrow(KEY_LAT)));\n\n        result.setLat(mCursor.getDouble(\n                mCursor.getColumnIndexOrThrow(KEY_LON)));\n    }\n\n    return result;\n}\n</code></pre>\n\n<p>LatLonResult is just getters/setters.</p>\n\n<p>However when I run the previous code, result has the following values:</p>\n\n<pre><code>result.getAirportCode: AUS\nresult.getLat: 97.67\nresult.getLon: null\n</code></pre>\n\n<p>The latitude has the wrong value and longitude is null.</p>\n\n<p>Am I doing anything obviously wrong here? If not, what other information can I provide?</p>\n"},{"tags":["php","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":12981332,"title":"PHP SQLite3Result::fetchArray re-executes query","body":"<p>I attached a function to the REGEXP keyword in PHP and I discovered that SQLite3Result::fetchArray re-executes the query! What inefficiency!</p>\n\n<pre><code>function _sqliteRegexp($pattern, $string)\n{\n    echo $pattern . ' - ' . $string . '&lt;br/&gt;';\n    return preg_match('/' . $pattern . '/', $string);\n}\n\n$handle = new SQLite3($filename);\n$handle-&gt;createFunction('regexp', '_sqliteRegexp', 2);\n\n// (1)\n$result = $handle-&gt;query(\"SELECT * FROM pages WHERE '\" . $request_uri . \"' REGEXP request LIMIT 1;\");\n\n// (2)\n$result-&gt;fetchArray();\n</code></pre>\n\n<p>Giving, for example:</p>\n\n<pre><code>(1)\n\\/ - /admin/settings/1\n\\/sqlite - /admin/settings/1\n\\/admin - /admin/settings/1\n\\/admin\\/logout - /admin/settings/1\n\\/admin\\/settings(\\/[0-9]+)? - /admin/settings/1\n\n(2)\n\\/ - /admin/settings/1\n\\/sqlite - /admin/settings/1\n\\/admin - /admin/settings/1\n\\/admin\\/logout - /admin/settings/1\n\\/admin\\/settings(\\/[0-9]+)? - /admin/settings/1\n</code></pre>\n\n<p>Both (1) and (2) echo the pattern and string the very same. I highly suspect the query is re-executed, which would be quite redundant. Is this a bug or just me being hastily concluding?</p>\n"},{"tags":["php","sqlite","pdo"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":2064,"score":0,"question_id":4634823,"title":"Cannot insert into SQLite database through php PDO","body":"<p>Pls help see what is wrong.... (I test the db connection is fine)</p>\n\n<pre><code>&lt;?php\n$user_name=$_POST['user_name'];\n$password=$_POST['password'];\n\n$dbh=new PDO('sqlite:./db/user.db') or die(\"fail to connect db\");\n\ntry{\n $stmt = $dbh-&gt;prepare(\"INSERT INTO user_info VALUES (?, ?)\");\n $stmt-&gt;bindParam(1, $a);\n $stmt-&gt;bindParam(2, $b);\n $a=$user_name;\n $b=$password;\n $stmt-&gt;execute();\n}\ncatch(PDOException $e) {echo $e-&gt;getMessage();}\n\n?&gt;\n</code></pre>\n"},{"tags":["android","sqlite","android-fragments","android-loadermanager","android-cursorloader"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":873,"score":2,"question_id":11166032,"title":"SherlockFragmentActivity with multiple ListFragments and SQLite cursor battles","body":"<p>I am using an Activity that extends <strong>SherlockFragmentActivity</strong>, that has 3 tabs. The 3 tabs are <strong>ListFragments</strong> that implement <strong>LoaderManager.LoaderCallbacks</strong>. The OnCreate method for the Activity loads the tabs like so</p>\n\n<pre><code>bar.addTab(bar.newTab()\n    .setTag(\"venues_list\")\n    .setText(getString(R.string.list_venues_header))\n    .setTabListener(new TabListener&lt;VenueListFragment&gt;(\n        this, getString(R.string.list_invites_header), VenueListFragment.class, null)));\n\n// I do the EXACT same thing for the other two tabs, using their respective ListFragments\n\nif (savedInstanceState != null) {\n    bar.setSelectedNavigationItem(savedInstanceState.getInt(\"tab\", 0));\n}\n</code></pre>\n\n<p>The layout that I'm loading the tabs into is very simple:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"fill_parent\"\n    android:layout_height=\"fill_parent\"\n    android:orientation=\"vertical\" &gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>Each of the tabs have a class that is identical to this, just called something different:</p>\n\n<pre><code>import android.content.Context;\nimport android.content.SharedPreferences;\nimport android.database.Cursor;\nimport android.os.Bundle;\nimport android.support.v4.app.LoaderManager;\nimport android.support.v4.content.Loader;\nimport android.support.v4.widget.CursorAdapter;\nimport android.support.v4.widget.SimpleCursorAdapter;\nimport android.view.View;\nimport android.widget.AdapterView;\nimport android.widget.AdapterView.OnItemClickListener;\nimport android.widget.ListView;\nimport android.widget.Toast;\n\nimport com.actionbarsherlock.app.SherlockListFragment;\nimport com.lateral.oursvp.R;\nimport com.lateral.oursvp.database.SimpleCursorLoader;\nimport com.lateral.oursvp.database.VenuesDataSource;\n\n/**\n * @author rabbott\n *\n */\npublic class VenueListFragment extends SherlockListFragment implements LoaderManager.LoaderCallbacks&lt;Cursor&gt; {  \n    SharedPreferences appPreferences;\n\n    private CursorAdapter cursorAdapter;\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n    }\n\n    @Override\n    public void onActivityCreated(Bundle savedInstanceState) {\n        super.onActivityCreated(savedInstanceState);\n\n        // bind the columns of the cursor to the list\n        String[] from = new String[] { VenuesDataSource.KEY_NAME, VenuesDataSource.KEY_DESCRIPTION };\n        int[] to = new int[] { R.id.list_item_title, R.id.list_item_subtitle };\n\n        cursorAdapter = new SimpleCursorAdapter( getActivity(), R.layout.list_item, null, from, to, 0);\n\n        // retrieve the listview to populate\n        ListView lv = (ListView) getActivity().findViewById(android.R.id.list);\n\n        // set the adapter on the listview\n        lv.setAdapter(cursorAdapter);\n\n        // click event for each row of the list\n        lv.setOnItemClickListener(new OnItemClickListener() {\n\n            public void onItemClick(AdapterView&lt;?&gt; arg0, View view,\n                    int position, long id) {\n                Cursor cursor = cursorAdapter.getCursor();\n                cursor.moveToPosition(position);\n\n                Toast.makeText(getActivity(), \"Tapped row \" + position + \"!\", Toast.LENGTH_SHORT).show();\n            }\n        });\n\n        // Start out with a progress indicator.\n        setListShown(false);\n\n        // load the data\n        getActivity().getSupportLoaderManager().initLoader(0, null, this);\n    }\n\n    public Loader&lt;Cursor&gt; onCreateLoader(int loaderId, Bundle args) {\n        return new VenueCursorLoader(getActivity());\n    }\n\n    public void onLoadFinished(Loader&lt;Cursor&gt; loader, Cursor cursor) {\n        cursorAdapter.swapCursor(cursor);\n\n        // the list should now be shown\n        if (isResumed()) {\n            setListShown(true);\n        } else {\n            setListShownNoAnimation(true);\n        }\n    }\n\n    public void onLoaderReset(Loader&lt;Cursor&gt; loader) {\n        cursorAdapter.swapCursor(null);\n    }\n\n    public static final class VenueCursorLoader extends SimpleCursorLoader {\n\n        Context mContext;\n\n        public VenueCursorLoader(Context context) {\n            super(context);\n\n            mContext = context;\n        }\n\n        @Override\n        public Cursor loadInBackground() {\n            VenuesDataSource datasource = new VenuesDataSource(mContext);\n\n            return datasource.getAllVenues(((EventActivity) mContext).getEventId());\n        }\n\n    }\n}\n</code></pre>\n\n<p>which uses the <strong>SimpleCursorLoaded</strong> defined here:</p>\n\n<pre><code>import android.content.Context;\nimport android.database.Cursor;\nimport android.support.v4.content.AsyncTaskLoader;\n\npublic abstract class SimpleCursorLoader extends AsyncTaskLoader&lt;Cursor&gt; {\n    private Cursor mCursor;\n\n    public SimpleCursorLoader(Context context) {\n        super(context);\n    }\n\n    /* Runs on a worker thread */\n    @Override\n    public abstract Cursor loadInBackground();\n\n    /* Runs on the UI thread */\n    @Override\n    public void deliverResult(Cursor cursor) {\n        if (isReset()) {\n            // An async query came in while the loader is stopped\n            if (cursor != null) {\n                cursor.close();\n            }\n            return;\n        }\n        Cursor oldCursor = mCursor;\n        mCursor = cursor;\n\n        if (isStarted()) {\n            super.deliverResult(cursor);\n        }\n\n        if (oldCursor != null &amp;&amp; oldCursor != cursor &amp;&amp; !oldCursor.isClosed()) {\n            oldCursor.close();\n        }\n    }\n\n    /**\n     * Starts an asynchronous load of the contacts list data. When the result is ready the callbacks\n     * will be called on the UI thread. If a previous load has been completed and is still valid\n     * the result may be passed to the callbacks immediately.\n     * &lt;p/&gt;\n     * Must be called from the UI thread\n     */\n    @Override\n    protected void onStartLoading() {\n        if (mCursor != null) {\n            deliverResult(mCursor);\n        }\n        if (takeContentChanged() || mCursor == null) {\n            forceLoad();\n        }\n    }\n\n    /**\n     * Must be called from the UI thread\n     */\n    @Override\n    protected void onStopLoading() {\n        // Attempt to cancel the current load task if possible.\n        cancelLoad();\n    }\n\n    @Override\n    public void onCanceled(Cursor cursor) {\n        if (cursor != null &amp;&amp; !cursor.isClosed()) {\n            cursor.close();\n        }\n    }\n\n    @Override\n    protected void onReset() {\n        super.onReset();\n\n        // Ensure the loader is stopped\n        onStopLoading();\n\n        if (mCursor != null &amp;&amp; !mCursor.isClosed()) {\n            mCursor.close();\n        }\n        mCursor = null;\n    }\n}\n</code></pre>\n\n<p>The issue I'm having is that when I select say.. the second tab (third tab does the same) it attempts to load the cursor, but when it tried to populate the list_items, I get an error saying </p>\n\n<pre><code>E/AndroidRuntime(2055): java.lang.IllegalArgumentException: column 'GIVEN_VARIABLE' does not exist\n</code></pre>\n\n<p>After setting a few break points I have discovered that the cursor its attempting to use is the cursor from the first tab, which loaded fine on inflation, but apparently isn't getting closed, and is apparently trying to be used again even though I (think) am sending it a different curser from getAllVenues()</p>\n\n<p><strong>EDIT: This is the last place the stack trace sends me</strong>\nWhen I set some breakpoints I can see that the cursor being provided here, is the cursor from the first tab, not that of the Venue tab..</p>\n\n<p><img src=\"http://i.stack.imgur.com/YM7gZ.png\" alt=\"enter image description here\"></p>\n\n<p><strong>EDIT: VenuesDataSource code to show the getAllVenues method</strong></p>\n\n<pre><code>import org.json.JSONArray;\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\nimport android.content.ContentValues;\nimport android.content.Context;\nimport android.database.Cursor;\nimport android.database.SQLException;\nimport android.util.Log;\n\n/**\n * @author rabbott\n *\n */\npublic class VenuesDataSource extends appSQLiteHelper {\n\n    public static final String TABLE_NAME               = \"venues\";\n\n    // venue columns\n    public static final String KEY_NAME                 = \"name\";\n    public static final String KEY_DESCRIPTION          = \"description\";\n    public static final String KEY_START_TIME           = \"start_time\";\n    public static final String KEY_ADDRESS              = \"address\";\n    public static final String KEY_CITY                 = \"city\";\n    public static final String KEY_STATE                = \"state\";\n    public static final String KEY_ZIP                  = \"postal_code\";\n    public static final String KEY_LNG                  = \"lng\";\n    public static final String KEY_LAT                  = \"lat\";\n    public static final String KEY_PHONE                = \"phone\";\n\n    public static String COLUMNS_VENUES[] = { \n        DatabaseConstants.KEY_ROWID, \n        DatabaseConstants.KEY_EVENT_ID,\n        KEY_NAME, \n        KEY_DESCRIPTION, \n        KEY_START_TIME,\n        KEY_ADDRESS, \n        KEY_CITY, \n        KEY_STATE,\n        KEY_ZIP, \n        KEY_LNG, \n        KEY_LAT, \n        KEY_PHONE,\n        DatabaseConstants.KEY_CREATED_AT\n    };\n\n    public static final String CREATE_STATEMENT = \"CREATE TABLE IF NOT EXISTS \" + TABLE_NAME + \" (\"\n            + \"_id              INTEGER PRIMARY KEY AUTOINCREMENT,\"\n            + \"event_id         INTEGER NOT NULL,\"\n            + \"name             TEXT NOT NULL,\"\n            + \"description      TEXT,\"\n            + \"start_time       TEXT,\"\n            + \"address          TEXT NOT NULL,\"\n            + \"city             TEXT NOT NULL,\"\n            + \"state            TEXT NOT NULL,\"\n            + \"postal_code      TEXT,\"\n            + \"lat              TEXT,\"\n            + \"lng              TEXT,\"\n            + \"phone            TEXT,\"\n            + \"created_at       TEXT);\";\n\n    public VenuesDataSource(Context context) {\n        super(context);\n\n        Log.i(\"VenueDataSource\", \"Constructor\");\n    }\n\n    // create a new contact locally\n    public long createVenue(Integer venue_id, Integer event_id, String name, String description, String start_time, String address, String city, String state, String postal_code, String lat, String lng, String phone, String created_at) {\n        ContentValues initialValues = new ContentValues();\n\n        initialValues.put(DatabaseConstants.KEY_ROWID, event_id);\n        initialValues.put(DatabaseConstants.KEY_EVENT_ID, event_id);\n        initialValues.put(KEY_NAME, name);\n        initialValues.put(KEY_DESCRIPTION, description);\n        initialValues.put(KEY_START_TIME, start_time);\n        initialValues.put(KEY_ADDRESS, address);\n        initialValues.put(KEY_CITY, city);\n        initialValues.put(KEY_STATE, state);\n        initialValues.put(KEY_ZIP, postal_code);\n        initialValues.put(KEY_PHONE, phone);\n        initialValues.put(KEY_LAT, lat);\n        initialValues.put(KEY_LNG, lng);\n        initialValues.put(DatabaseConstants.KEY_CREATED_AT, created_at);\n\n        return getWritableDatabase().insert(TABLE_NAME, null, initialValues);\n    }\n\n    // retrieve a venue from the local database\n    public Cursor getVenue(long rowId) throws SQLException {\n        Cursor mCursor = getWritableDatabase().query(true, TABLE_NAME, COLUMNS_VENUES, DatabaseConstants.KEY_ROWID + \"=\" + rowId, null, null, null, null, null);\n\n        if (mCursor != null) {\n            mCursor.moveToFirst();\n        }\n\n        return mCursor;\n    }\n\n    // update a local venue\n    public long updateVenue(Integer venue_id, Integer event_id, String name, String description, String start_time, String address, String city, String state, String postal_code, String lat, String lng, String phone) {\n        ContentValues initialValues = new ContentValues();\n\n        initialValues.put(DatabaseConstants.KEY_EVENT_ID, event_id);\n        initialValues.put(KEY_NAME, name);\n        initialValues.put(KEY_DESCRIPTION, description);\n        initialValues.put(KEY_START_TIME, start_time);\n        initialValues.put(KEY_ADDRESS, address);\n        initialValues.put(KEY_CITY, city);\n        initialValues.put(KEY_STATE, state);\n        initialValues.put(KEY_ZIP, postal_code);\n        initialValues.put(KEY_PHONE, phone);\n        initialValues.put(KEY_LAT, lat);\n        initialValues.put(KEY_LNG, lng);\n\n        return getWritableDatabase().update(TABLE_NAME, initialValues, \"_id=?\", new String[] { Long.toString(venue_id) });\n    }\n\n    // delete a local venue\n    public boolean deleteVenue(long rowId) {\n        return (getWritableDatabase().delete(TABLE_NAME, DatabaseConstants.KEY_ROWID + \"=\" + rowId, null) &gt; 0);\n    }\n\n    // retrieve all local venues\n    public Cursor getAllVenues(long event_id) {\n        Cursor mCursor = getWritableDatabase().query(true, TABLE_NAME, COLUMNS_VENUES, DatabaseConstants.KEY_EVENT_ID + \"=\" + event_id, \n                null, null, null, null, null);\n\n        return mCursor; \n    }\n\n    public boolean venueExists(int venue_id) {\n        Cursor mCursor = getWritableDatabase().query(true, TABLE_NAME, COLUMNS_VENUES, DatabaseConstants.KEY_ROWID + \"=\" + venue_id,\n                    null, null, null, null, null);\n\n        if (mCursor.getCount() == 0) {\n            mCursor.close();\n            return false;\n        } else {\n            mCursor.close();\n            return true;\n        }\n    }\n\n    public void parseVenue(JSONObject venueJson) throws JSONException {\n        boolean venue_exists = false;\n\n        int event_id, venue_id;\n        String venue_name, venue_description, start_time, venue_address, venue_city, venue_state, venue_postal_code, lat, lng, venue_phone, created_at;\n\n        venue_id            = venueJson.getInt(DatabaseConstants.KEY_REMOTE_ID);\n        event_id            = venueJson.getInt(DatabaseConstants.KEY_EVENT_ID);\n        venue_name          = venueJson.getString(KEY_NAME);\n        venue_description   = venueJson.getString(KEY_DESCRIPTION);\n        start_time          = venueJson.getString(KEY_START_TIME);\n        venue_address       = venueJson.getString(KEY_ADDRESS);\n        venue_city          = venueJson.getString(KEY_CITY);\n        venue_state         = venueJson.getString(KEY_STATE);\n        venue_postal_code   = venueJson.getString(KEY_ZIP);\n        venue_phone         = venueJson.getString(KEY_PHONE);\n        lat                 = venueJson.getString(KEY_LAT);\n        lng                 = venueJson.getString(KEY_LNG);\n        created_at          = venueJson.getString(DatabaseConstants.KEY_CREATED_AT);\n\n        // check to see if this venue already exists\n        venue_exists = this.venueExists(venue_id);\n\n        if (venue_exists == true) {\n            this.updateVenue(\n                    venue_id, \n                    event_id, \n                    venue_name,\n                    venue_description,\n                    start_time,\n                    venue_address, \n                    venue_city, \n                    venue_state,\n                    venue_postal_code, \n                    lat,\n                    lng, \n                    venue_phone);\n        } else {\n            this.createVenue(\n                    venue_id,\n                    event_id,\n                    venue_name,\n                    venue_description,\n                    start_time,\n                    venue_address, \n                    venue_city,\n                    venue_state,\n                    venue_postal_code, \n                    lat,\n                    lng,\n                    venue_phone,\n                    created_at);\n        }\n    }\n\n    public void parseVenues(JSONArray venuesArray) throws JSONException {\n        JSONObject venueJson;\n\n        for (int i = 0; i &lt; venuesArray.length(); i++) {\n            // Iterate through each venue\n            venueJson = venuesArray.getJSONObject(i);\n\n            this.parseVenue(venueJson);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["c","sqlite"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":12990951,"title":"Where is the location of my sqlite database file?","body":"<p>I have created a database in C by using sqlite. Here is code: </p>\n\n<pre><code>int x = sqlite3_open(argv[1], &amp;db);\n</code></pre>\n\n<p><code>argv[1]</code> is a argument which contains the name of database. I think that the database should be stored in a file which ends with .db, but I am unable to find that file. </p>\n\n<p>Where can I find the mentioned file (file with structure of database etc ...)? </p>\n"},{"tags":["c#","sqlite","xaml","sqlite3","microsoft-metro"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":78,"score":1,"question_id":13001731,"title":"SQLite with Metro - Unable to load sqlite3.dll","body":"<p>I am not able to create a database using SQLite with my Metro application.</p>\n\n<p><strong>Description:</strong>\nI continue to receive a runtime exception on a failure to load SQLite3.dll.</p>\n\n<p><strong>Observation:</strong>\nI observed that the database directory never gets created in the app package's LocalState directory.\nAfter observing this, I literally implemented file path creation at runtime and dropped the sqlite3.dll in the intended location.</p>\n\n<p>Yet, I still receive an exception on failed to load SQLite3.dll.</p>\n\n<ol>\n<li>My CRUD code that leverages SQLite compiles fine.</li>\n<li>SQLite dependencies (packages.config, SQLite.cs, and sqlite3.dll) are located in a separate metro class library instead of the application's executable project.</li>\n<li>The sqlite3.dll is based on the ARM processor.</li>\n<li>The sqlite3.dll is set to Content, Copy Always.</li>\n</ol>\n\n<p><strong>Code:</strong></p>\n\n<pre><code>    SQLiteAsyncConnection connection = new SQLiteAsyncConnection(DATABASE_DIRECTORY_NAME);\n    return await connection.CreateTableAsync&lt;Service&gt;();\n</code></pre>\n\n<p>Please help...</p>\n"},{"tags":["sql","sqlite","syntax"],"answer_count":17,"favorite_count":34,"up_vote_count":86,"down_vote_count":0,"view_count":49943,"score":86,"question_id":1609637,"title":"Is it possible to insert multiple rows at a time in an SQLite database?","body":"<p>In MySQL you can insert multiple rows like this:</p>\n\n<pre><code>INSERT INTO 'tablename' ('column1', 'column2') VALUES\n    ('data1', 'data2'),\n    ('data1', 'data2'),\n    ('data1', 'data2'),\n    ('data1', 'data2');\n</code></pre>\n\n<p>However, I am getting an error when I try to do something like this. Is it possible to insert multiple rows at a time in an SQLite database? What is the syntax to do that?</p>\n"},{"tags":["sql","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":35,"score":1,"question_id":13000663,"title":"How to calctulate a week day in SQLite?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/4319302/sqlite-return-as-day-of-week\">sqlite return as day of week</a>  </p>\n</blockquote>\n\n\n\n<p>Having a following table:</p>\n\n<pre><code>CREATE TABLE `foo`(\n  `year` INT NOT NULL,\n  `month` INT NOT NULL,\n  `day` INT NOT NULL,\n  `hour` INT NOT NULL,\n  `minute` INT NOT NULL,\n  `value` INT NOT NULL,\n  PRIMARY KEY(`year`, `month`, `day`, `hour`, `minute`)\n);\n</code></pre>\n\n<p>How to select all the Monday records in SQLite?</p>\n"},{"tags":["regex","query","sqlite","query-string"],"answer_count":8,"favorite_count":9,"up_vote_count":12,"down_vote_count":0,"view_count":8695,"score":12,"question_id":5071601,"title":"How do I use regex in a SQLite query?","body":"<p>I'd like to use a regular expression in sqlite, but I don't know how.</p>\n\n<p>My table has got a column with strings like this: \"3,12,13,14,19,28,32\"\nNow if I type \"where x LIKE '3'\" I also get the rows which contain values like 13 or 32,\nbut I'd like to get only the rows which have exactly the value 3 in that string.</p>\n\n<p>Does anyone know how to solve this?</p>\n"},{"tags":["android","sqlite"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":1669,"score":2,"question_id":6531173,"title":"How to disable the Clear Data button in Application info of Manage appliaction","body":"<p>I am working on android 2.2, In a Application tab of android manifest provide the option of \"Allow clear data\" to set true or false. But after setting it to False, my application can't disable the button of Clear data in application info of Manage application. I am facing this problem when application contains database in Data/Data/packge-name/databases/. </p>\n\n<p>I already spend my 2 days for this issue, but result is zero,.\nI have to protect my application database from user. Please help me.</p>\n"},{"tags":["php","database","sqlite"],"answer_count":1,"favorite_count":2,"up_vote_count":0,"down_vote_count":1,"view_count":47,"score":-1,"question_id":13000192,"title":"store html value in the sqllite 3 php","body":"<h2>i have  a php script that will parse html page content link and view but  i need to know how to store this content in the sqlite3 database any suggestion ?</h2>\n\n<pre><code>include_once('simple_html_dom.php'); //PHP Simple HTML DOM Parser library  \n$html = file_get_html('www.website.com');  \n\n// Find all article blocks\nforeach($html-&gt;find('div.postbody') as $article) {\n $item['details'] = $article-&gt;find('div.content', 0)-&gt;innertext;\n $articles[] = $item;\n}\nprint_r($articles); \n\ntry {\n\n$db = new SQLite3('db/mysqlitedb.db');\n$db-&gt;exec// what type of table should i create\n$db-&gt;exec// how tell db to store html content from $articles\n$result = $db-&gt;query('SELECT bar FROM gg');\nvar_dump($result-&gt;fetchArray());\n\n    /* Close connections to Database */\n    $db = NULL;\n}\n\ncatch( PDOException $e ) \n{\n\n    /* Print Error-Messages */\n    echo $e-&gt;getMessage();\n} \n</code></pre>\n"},{"tags":["c#","sqlite","xaml","windows-8"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":126,"score":1,"question_id":12999041,"title":"Retrieving Data from sqlite table in windows 8 app","body":"<p>I have a ready database in form of sqlite file from which I want to bind the data with the various controls like combo box, textbox and so on as per the requirement of my app.</p>\n\n<p>I have referred this link : <a href=\"http://wp.qmatteoq.com/using-sqlite-in-your-windows-8-metro-style-applications/\" rel=\"nofollow\">http://wp.qmatteoq.com/using-sqlite-in-your-windows-8-metro-style-applications/</a> and created a class as per the table of my database.</p>\n\n<p>I have a table auto_fares and so I have created a class auto_fare. As per mentioned in the link above I have followed the steps mentioned but still I am getting the following error:\n\"no such table: auto_fares\" although a table of this name does exist in my database.</p>\n\n<p>Please guide me. Any help is welcomed.\nAwaiting replies.</p>\n\n<p>The following the block of code:</p>\n\n<pre><code>StorageFile seedFile = await StorageFile.GetFileFromPathAsync(\n    Path.Combine(\n       Windows.ApplicationModel.Package.Current.InstalledLocation.Path,\n       \"fare.sqlite\"));\nSQLiteAsyncConnection conn = new SQLiteAsyncConnection(\"fare.sqlite\");\nvar query = conn.Table&lt;auto_fares&gt;();\nvar result = await query.ToListAsync();\nforeach (var item in result)\n{\n   auto_fares obj = new auto_fares();\n   cbCity.Items.Add(item.city);\n}\n</code></pre>\n"},{"tags":["sql","sqlite","sqlite3"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":12997127,"title":"SQLite if column exists solution?","body":"<p>I want to create a trigger that dealing with some column in a table.</p>\n\n<p>The trigger must handle the error that would occur if such a column doesn't exist.</p>\n\n<p>Is it possible? I searched the web with no such solution because \"if exists\" command doesn't exists in SQLite.</p>\n\n<p><strong>EDIT:</strong>\nExample for a trigger (requested in the comment):</p>\n\n<pre><code>    CREATE TRIGGER trigger_name \n    AFTER UPDATE ON table_1\n    BEGIN\n       IF exist (select col_1 from table_1) \n          BEGIN \n            update table_1 set col_1='1' where id = '2'\n          END\n    END\n</code></pre>\n\n<p>If col_1 doesn't exists it will make an error.</p>\n"},{"tags":["java","android","sqlite","android-sqlite"],"answer_count":4,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":88,"score":5,"question_id":12962278,"title":"Can I safely store a totally random string (any 16-bit value) into a SQLiteDB?","body":"<p>I've got a string which I created with a custom cipher, which can have any <code>char</code> value (0 through 0xFFFF). This string is created by taking an input plaintext and rotating each character by a pseudorandom value, so I have no control over what the output characters might be.</p>\n\n<p>Can I safely store and retrieve this exactly without any issues into a SQLiteDatabase <code>TEXT</code> field?</p>\n\n<p>I'm think that Java uses UTF-16, so I'm somewhat afraid of chars like <code>NULL</code>, <code>END OF TEXT</code>, <code>ESCAPE</code>, <code>'</code>, <code>\"</code>, <code>0xfeff / 0xfffe (BOM)</code> etc appearing in random places into my string, and I'm not really sure how SQLite will store this internally. If it uses any text-based markers to determine the start and end of fields I'm afraid this will fail.</p>\n\n<p>Ideally I'd like to get back out the exact same character sequence I put in, so that I can put it through the reverse cipher.</p>\n\n<p>I will be using the managed <code>insert(ContentValues)</code> method of <code>SqLiteDatabase</code>, so I think that this would take care of any issues regarding escaping the input string, but I'm still not quite convinced that this can work.</p>\n\n<p>Is this a safe operation, and if not, what else should I do instead to store my encrypted string?</p>\n"},{"tags":["iphone","objective-c","sqlite"],"answer_count":4,"favorite_count":2,"up_vote_count":0,"down_vote_count":0,"view_count":4340,"score":0,"question_id":857610,"title":"Some changes to SQLite database are not persisting after app close and relaunch","body":"<p>I've got an iPhone app I'm developing and when the app launches I open an SQLite database connection, and I close it when the application terminates. The database is in the application documents folder.</p>\n\n<p>During the lifetime of the app I run several <code>INSERT</code> and <code>UPDATE</code> statements. However, for some reason my <code>UPDATE</code> statements are not saving properly once the application is closed and then restarted. I am calling <code>sqlite3_prepare_v2</code>, <code>sqlite3_step</code> and <code>sqlite3_finalize</code> properly so I'm sure the transactions should be finalized. I've added breakpoints on all those 3 functions and they are all being hit okay and all returning the correct values.</p>\n\n<p>When I close the application after an update and look in the documents directory I can see another database file with -journal after it. Does this mean something's not working properly transaction wise?</p>\n\n<p>I've also noticed that in my <code>applicationWillTerminate:</code> method where I close the connection using <code>sqlite3_close()</code>, that it is returning <code>SQLITE_BUSY</code>. Why could this be?</p>\n\n<p>I've been struggling for a whole day now so I really hope someone can point me in the right direction!</p>\n\n<p>Here's my code to perform my update queries:</p>\n\n<pre>\n// Update statement\nsqlite3_stmt *stmt;\nchar *query = \"UPDATE records SET fielda = ? WHERE pkfield = ?;\";\nif (sqlite3_prepare_v2(database, query, -1, &stmt, nil) == SQLITE_OK &&\n\n   // Bind\n   sqlite3_bind_text(stmt, 1, [myNSStringVar UTF8String], -1, nil) == SQLITE_OK &&\n   sqlite3_bind_int(stmt, 2, recordID) == SQLITE_OK) {\n\n   // Execute\n   int ret = sqlite3_step(stmt);\n   if (ret == SQLITE_DONE) {\n      sqlite3_finalize(stmt);\n   }\n}\n</pre>\n"},{"tags":["sql","sqlite","sqlite3"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":42,"score":1,"question_id":12996221,"title":"how to write Instead of update? - Trigger","body":"<p>I have table <code>A</code> and there is a column name <code>COL_A</code>.</p>\n\n<p>I want that if someone change the value, lets say from <code>1</code> to <code>'X'</code> (not costant) that the trigger will change it back from <code>'X'</code> to <code>1</code>.</p>\n"},{"tags":["sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":53,"score":1,"question_id":12994870,"title":"sqlite not using index with like query","body":"<p>Ive been trying to get sqlite to use an index with a like to no avail. Ive tried collate nocase and still no luck. Anyone have any ideas on how to get sqlite to do a like hitting an index. Thanks in advance</p>\n\n<pre><code>DROP TABLE IF EXISTS \"test\";\nDROP TABLE IF EXISTS \"test2\";\nDROP TABLE IF EXISTS \"test3\";\ncreate table test(name TEXT COLLATE NOCASE);\ncreate table test2(name TEXT);\ncreate table test3(name TEXT);\ncreate index idx_test_name on test(name);\ncreate index idx_test2_name on test2(name);\ncreate index idx_test3_name on test3(name COLLATE NOCASE);\ninsert into test(name) values('dan');\ninsert into test2(name) values('dan');\ninsert into test3(name) values('dan');\n--explain query plan select * from test where name like 'test%' \n-- explain query plan select * from test2 where name like 'test%' \n-- explain query plan select * from test3 where name like 'test%' \n</code></pre>\n"},{"tags":["iphone","sqlite","plist"],"answer_count":7,"favorite_count":3,"up_vote_count":8,"down_vote_count":0,"view_count":6159,"score":8,"question_id":934878,"title":"Property list or sqlite for static data?","body":"<p>Is there any \"Best Practice\" approach to storing persistent <strong>static</strong> data for iPhone apps?</p>\n\n<p>I have an app that reads a dictionary of approximately 1000 items many of which are arrays. I started out using a single plist for this and it has become somewhat unwieldy especially since much of the values are HTML strings.</p>\n\n<p>Is there a better way for me to approach this? I plan on scaling this app significantly and I obviously don't want to change my approach midstream.</p>\n\n<p>I've googled for <code>iphone data storage</code> and variants but have come up short for anything even touching on a best practice.</p>\n"},{"tags":["java","android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":12996382,"title":"SQLite, Don't want to get max _id, I want to get the \"next\" _id","body":"<p>Let's say I make 5 entries in a sqlite db.</p>\n\n<pre><code>_id | Name\n1    Tom\n2    Oskar\n3    Matt\n4    Mike\n5    Ed\n</code></pre>\n\n<p>If I delete number 4 and 5, I only have 1-3. I then do a max _id query then I get number 3. But, of course I want the next auto incremented _id. What would be the method to do to get the number \"6\" in this example?</p>\n"},{"tags":["c#","sqlite","nhibernate"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":58,"score":1,"question_id":12988976,"title":"nHibernate with SQLite format date","body":"<p>I am using nHibernate + FluentNHibernate with SQLite database. \nAll dates are stored as text in format 'YYYY-MM-DD HH:MM:SS'</p>\n\n<p>How can I instruct nHibernate (or sqlite driver???) to truncate time part and store date in 'YYYY-MM-DD' format for certain fields (and storing the full date for other fields) ?</p>\n\n<p>Or how can I instruct to store all dates as integers ?</p>\n\n<p>I am concerned on space usage, because dates takes a lot of space in the database and there are indexes on dates too, so I need to make them taking as less space as possible.</p>\n"},{"tags":["php","sqlite","sqlite3"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1504,"score":0,"question_id":4735768,"title":"Count Number of Records in sqlite3 recordset","body":"<p>Problem: I was using sqlite 2.1 db with php using SQLiteDatabase object in PHP, now I am upgrading to sqlite 3.x, so also want to use SQLite3 in PHP, There is an issue i'm facing that is previously in SQLiteDatabase Object i was easily counting number of records return by querying to databse, but now with SQLite3 i am unable to do the same.</p>\n\n<p>Sample Old Code with SQLiteDatabase:</p>\n\n<pre><code>$base= new SQLiteDatabase('users.db');\n$query = 'select id from users';\n$results = $base-&gt;query($query, SQLITE_ASSOC);\necho sizeof($results);\n</code></pre>\n\n<p>Output this code generating</p>\n\n<pre><code>50\n</code></pre>\n\n<p>Sample Old Code with New SQLite3:</p>\n\n<pre><code>$base = new SQLite3('users.db');\n$query = 'select id from users';\n$results = $base-&gt;query($query);\necho sizeof($results);\n</code></pre>\n\n<p>But above code returns this:</p>\n\n<pre><code>1\n</code></pre>\n\n<p>Instead of 50 it is showing 1, </p>\n\n<blockquote>\n  <p>Q: How i can calculate the number of rows in recordset($results) in SQLite3?</p>\n</blockquote>\n"},{"tags":["java","android","sql","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":43,"score":2,"question_id":12995980,"title":"Getting max unique id from Android SQLite db isn't working","body":"<p>I've found this code sample online, but I can't get it to work. When it runs, the app crashes. Is there any easy solution for this?</p>\n\n<pre><code>public long getMaxID() {\n        int id = 0;\n        final String MY_QUERY = \"SELECT MAX(_id) AS _id FROM db_table\";\n        Cursor mCursor = mDb.rawQuery(MY_QUERY, null);  \n\n              if (mCursor.getCount() &gt; 0) {\n                mCursor.moveToFirst();\n                id = mCursor.getInt(mCursor.getColumnIndex(MY_QUERY));\n              }\n\n    return id;\n        }\n</code></pre>\n\n<p>My logcat error seems to be:</p>\n\n<pre><code>10-21 07:48:32.704: E/AndroidRuntime(4023): Caused by: java.lang.IllegalStateException: get field slot from row 0 col -1 failed\n</code></pre>\n"},{"tags":["java","android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":12927530,"title":"Android - Creating an entry in db then starting a new activity","body":"<p>I have a simple application that <code>onClick</code> creates a new entry in a sqlite db and then creates a new intent and starts a new activity. What are the chances of this \"messing\" up? Will java wait for it to be done with the db entry before moving on?</p>\n\n<pre><code>DBAdapter test_db = new DBAdapter(getApplicationContext());\ntest_db.createEntry(level, phase, a, b, c, d);\nstartActivity(intent);\n</code></pre>\n\n<p>Is there anyway that starting the new activity could mess up the new db entry if it moves through it too fast for some reason?              </p>\n"},{"tags":["android","database","sqlite","launcher"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":600,"score":2,"question_id":8501306,"title":"android shortcut, access launcher db","body":"<p>I want to get data from launcher db.</p>\n\n<pre><code>final String AUTHORITY = \"com.android.launcher2.settings\";  \nfinal Uri CONTENT_URI = Uri.parse(\"content://\" + \n                        AUTHORITY + \"/favorites?notify=true\");\n\nCursor c = contentResolver.query(uri, columns, null, null,\n            null);\n</code></pre>\n\n<p>and</p>\n\n<pre><code>&lt;uses-permission \n        android:name=\"com.android.launcher.permission.INSTALL_SHORTCUT\"/&gt;\n&lt;uses-permission \n        android:name=\"com.android.launcher.permission.UNINSTALL_SHORTCUT\"/&gt;\n&lt;uses-permission \n        android:name=\"com.android.launcher.permission.READ_SETTINGS\" /&gt;\n&lt;uses-permission \n        android:name=\"com.android.launcher.permission.WRITE_SETTINGS\" /&gt;\n</code></pre>\n\n<p>but it's said that in logcat:</p>\n\n<pre><code>Failed to find provider info for com.android.launcher2.settings\n</code></pre>\n"},{"tags":["android","query","sqlite","achartengine"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":1,"view_count":44,"score":0,"question_id":12995417,"title":"plotting sqlite data with achartengine","body":"<p>I am using achartengine to plot two fields from an sqlite table i set up. I believe that the retrieving of fields is working, but i cannot resolve some variable issues in the graphing activity. Any suggestions? Achartengine and sqlite are both new to me so any help is welcome. I am getting errors in the value1 ==null line and the mcurrentSeries and mChartView.</p>\n\n<p>My Database query:</p>\n\n<pre><code>public String getPlotX(long l) {\n    String[] column = new String[]{KEY_TIME, KEY_BGL, KEY_RANGE, KEY_LASTMEAL, KEY_MEALTIME};\n    Cursor c = ourDatabase.query(DATABASE_TABLE, column, KEY_ROWID + \"=\" + l, null, null, null, null);\n    if (c != null){\n    c.moveToFirst();\n    String value1 = c.getString(0);\n    return value1;\n    }\n    return null;\n    }\n\npublic String getPlotY(long l) {\n    String[] column = new String[]{KEY_TIME, KEY_BGL, KEY_RANGE, KEY_LASTMEAL, KEY_MEALTIME};\n    Cursor c = ourDatabase.query(DATABASE_TABLE, column, KEY_ROWID + \"=\" + l, null, null, null, null);\n    if (c != null){\n    c.moveToFirst();\n    String value1 = c.getString(1);\n    return value1;\n    }\n    return null;\n    }\n</code></pre>\n\n<p>And my graph activity class:\n         import org.achartengine.ChartFactory;\n         import org.achartengine.model.TimeSeries;\n         import org.achartengine.model.XYMultipleSeriesDataset;\n         import org.achartengine.renderer.XYMultipleSeriesRenderer;\n         import org.achartengine.renderer.XYSeriesRenderer;</p>\n\n<pre><code>     import android.app.Activity;\n     import android.content.Context;\n     import android.content.Intent;\n\n public class GraphActivity extends Activity {\npublic Intent getIntent(Context context){\n\n    DatabaseHandler getData = new DatabaseHandler(context);\n    getData.open();\n\n    for (int i = 1; value1 == null; i++) {\n    String value1 = getData.getPlotX(i);\n    String value2 = getData.getPlotY(i);\n\n    double x = Double.parseDouble(value1);\n    double y = Double.parseDouble(value2);\n\n    mCurrentSeries.add(x, y); \n\n    }\n    getData.close();\n\n    if (mChartView != null) {\n    mChartView.repaint();\n    }\n    }\n}\n</code></pre>\n"},{"tags":["android","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":4354,"score":0,"question_id":5817144,"title":"Android Select row by Id in Sqlite?","body":"<p>friends,</p>\n\n<p>i want to get specific row by id in android sqlite and have written following code.\nbut it does not return any record even i have written getAllRecords() mehthod which returns all records from database.</p>\n\n<p>any one guide me what mistake am i doing in this?</p>\n\n<pre><code>public Bank getBankById(int bankId)\n    {\n\n        Cursor cursor=null;\n        Bank bnk = null;\n        cursor =  this.db.rawQuery(\"select * from \" + BanksTable.NAME + \" where \" + BanksTable.COL_ID + \"=\" + bankId  , null);\n         if (cursor != null)\n            {\n             if (cursor.moveToFirst())\n                {\n             int id = cursor.getInt(cursor.getColumnIndex(BanksTable.COL_ID));\n             String name = cursor.getString(cursor.getColumnIndex(BanksTable.COL_NAME));\n             String url = cursor.getString(cursor.getColumnIndex(BanksTable.COL_IMAGE_URL));\n             byte[] image = cursor.getBlob(cursor.getColumnIndex(BanksTable.COL_IMAGE));\n             bnk=new Bank();\n             bnk.setId(id);\n             bnk.setImageURL(url);\n             bnk.setName(name);\n             bnk.setImageByteArray(image);\n                }\n             cursor.close();\n            }\n        return bnk;\n\n    }\n</code></pre>\n"},{"tags":["android","sqlite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12219123,"title":"Using 2 Cursors from 2 different tables to populate an ExpandableListView with SimpleCursorTreeAdapter","body":"<p>Lets say I have two tables: One is \"box sizes\", the other is \"fruits\". Every fruit has a box size that it is packaged in. I only want 3 categories of box sizes, and within those I may have 4-5 fruits. So my groups would come from the \"box size table\" and children from the \"fruits\" table. </p>\n\n<p>I have tried overriding the getChildrenCursor to no avail. It says the column from \"fruits\" does not exist, because I assumed it uses one cursor.</p>\n\n<p>How would I get around this?</p>\n\n<pre><code>cU=dB.fetchTypes(cId);\n        SimpleCursorTreeAdapter mAdapter = new     SimpleCursorTreeAdapter(this,\n                cU, android.R.layout.simple_expandable_list_item_1, android.R.layout.simple_expandable_list_item_1,\n                new String[] { SQLAdapter.KEY_BOXNAME }, new int[] {R.id.exp_group_text1},\n                R.layout.exprow_group, R.layout.exprow_child, new String[] { SQLAdapter.KEY_FRUITNAME},\n                new int[] { R.id.exp_child_text1 }) {\n\n            //we return a new cursor representing fruit for each box selected\n            @Override\n            protected Cursor getChildrenCursor(Cursor groupCursor) {\n                secondCu = dB.fetchFruitesOfBox(new Long(groupCursor.getString(groupCursor.getColumnIndex(SQLAdapter.KEY_BOXID))));\n                secondCu.moveToFirst();\n                return secondCu;\n            }\n        };\n        expView.setAdapter(mAdapter);\n</code></pre>\n"},{"tags":["sql","query","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":41,"score":1,"question_id":12993179,"title":"SQL query of relationship between two items from the same table","body":"<p>I have 3 tables in sqlite, the first one is about an entity I call bar:</p>\n\n<pre><code>bar\n    *id\n    -name\n</code></pre>\n\n<p>and the other one keeps a relationship between two bars, I call this relationship foo:</p>\n\n<pre><code>foo\n    *id\n    -bar_one (fk-&gt;bar)\n    -bar_two (fk-&gt;bar)\n    -baz (fk-&gt;baz)\n</code></pre>\n\n<p>baz holds an attribute that qualifies the KIND relationship that foo represents:</p>\n\n<pre><code>baz\n    *id\n    -description\n</code></pre>\n\n<p>I need to show a query of foo that substitutes the foreign keys with the values of bar an baz, something like:</p>\n\n<pre><code>id    bar_one    bar_two    baz\n1     bar1       bar2       siblings\n2     bar2       bar3       acquaintances\n3     bar3       bar4       enemies\n</code></pre>\n\n<p>I'm not a specialist in DBs as you can see, I tried with a join and it works with foo and baz.</p>\n\n<pre><code>SELECT foo.id, baz.description FROM foo, baz WHERE foo.baz = baz.id;\n</code></pre>\n\n<p>But to show the two members of bar is difficult for me in this way. Some advice?</p>\n"},{"tags":["android","xml","sqlite","parsing"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":71,"score":2,"question_id":12992038,"title":"Android faster database insert","body":"<p>I am parsing a HUGE xml which contains nearly 20000 tags, I am saving all the entries from the xml into my sqlite database as soon as i am parsing them.</p>\n\n<p>But apparently xml is getting parsed pretty quickly without insert operation, but when i try to insert each values it takes very long time.( Around 10 mins).</p>\n\n<p>Database insert code :</p>\n\n<pre><code>for (int i = 0; i &lt; tracksList.size(); i++) {\n    dataSource.addTracks(tracksList.get(i));                        \n}\n\n\n\npublic long addTracks(Tracks tracks) {\n\n    long insertId = 0;\n\n    ContentValues values = new ContentValues();\n    values.put(TRACKS_ID, tracks.getStrId());\n    values.put(TRACKS_ARTISTID, tracks.getStrArtistId());\n    values.put(TRACKS_ARTISTNAME, tracks.getStrArtistName());\n    values.put(TRACKS_ALBUMNAME, tracks.getStrAlbumName());\n    values.put(TRACKS_FILENAME, tracks.getStrFileName());\n    values.put(TRACKS_TRACKNAME, tracks.getStrTrackName());\n\n    insertId = database.insert(TRACKS_TABLE, null, values);\n\n    return insertId;\n}\n</code></pre>\n\n<p>Is there any alternative to get each element from my arraylist and save them with much better speed.</p>\n\n<p><b>EDIT : Got it working, thnx all..</b></p>\n\n<pre><code>    database.beginTransaction();\n    try {\n        //standard SQL insert statement, that can be reused\n        SQLiteStatement insert = \n                database.compileStatement(\"insert into \" + TRACKS_TABLE\n                    + \"(\" + TRACKS_ID + \",\" + TRACKS_ARTISTID\n                    + \",\" + TRACKS_ARTISTNAME \n                    + \",\" + TRACKS_ALBUMNAME \n                    + \",\" + TRACKS_FILENAME \n                    + \",\" + TRACKS_TRACKNAME + \")\"\n                    +\" values \" + \"(?,?,?,?,?,?)\");\n\n        for (Tracks value : tracksList){\n            //bind the 1-indexed ?'s to the values specified\n\n            System.out.println(value.getStrId());\n\n            insert.bindLong(1, value.getStrId());\n            insert.bindString(2, value.getStrArtistId());\n            insert.bindString(3, value.getStrArtistName());\n            insert.bindString(4, value.getStrAlbumName());\n            insert.bindString(5, value.getStrFileName());\n            insert.bindString(6, value.getStrTrackName());\n            insert.execute();\n        }\n        database.setTransactionSuccessful();\n\n    } finally {\n        database.endTransaction();\n    }\n</code></pre>\n"},{"tags":["android","sqlite","sqliteopenhelper"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":49,"score":1,"question_id":12993148,"title":"SQLiteOpenHelper and CRUD Operations","body":"<p>In most Android database examples, SQLiteOpenHelper is extended and contains information to create and update the database. However, in many examples the helper class contains methods to add, delete, and return records. My question is would it be better to include these CRUD methods in the class that extends SQLiteOpenHelper, or would it be better to create a separate class with an instance field of the class that extends SQLiteOpenHelper, which contains all the CRUD methods? Would this just be a personal choice, or are there other issues I may be overlooking? I feel like creating a separate class may be better form. I appreciate anyone's feedback. </p>\n"},{"tags":["android","sqlite","edittext"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1222,"score":0,"question_id":5921386,"title":"Populate EditText with value from database","body":"<p>In my Android application I have a TextView with an EditText. I want to prepopulate the EditText with the last value entered, which is stored in the SQLite database?</p>\n"},{"tags":["c","sqlite","sigsegv"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":54,"score":2,"question_id":12991288,"title":"SQLite: wrong call of sqlite3_prepare_v2 -> SIGSEGV","body":"<p>I've got stuck on my homework with SQLite. I use 2 columns; the first for product, the second for count. A user adds new products, which updates the count. We have to control, that the user doesn't add the same product again, or prevent him from picking more units than are available. We have to use it frequently, so I created functions:</p>\n\n<pre><code>int exists(char *param, sqlite3** ppDb) //0 if product exists\n{\n    int error = 0;\n    char *a = NULL;\n    sqlite3_stmt **ppStmt = NULL;\n    const char **pzTail = NULL;\n    char *zSQL = sqlite3_mprintf(\"SELECT 'products' FROM 'table' WHERE 'products' LIKE '%q'\", param);\n//HERE IT FALS\n    error = sqlite3_prepare_v2(\n      *ppDb,                /* Database handle */\n      zSQL,                 /* SQL statement, UTF-8 encoded */\n      (sizeof(zSQL)+1),         /* Maximum length of zSql in bytes. */\n      ppStmt,               /* OUT: Statement handle */\n      pzTail                /* OUT: Pointer to unused portion of zSql */\n    );\n    sqlite3_free(zSQL);\n    a = (char*) sqlite3_column_text(*ppStmt, 0);\n    return strcmp(a, param); //0 if same -&gt; product is in db yet\n}\n//similar one for count\n</code></pre>\n\n<p>Call</p>\n\n<pre><code>int main(int argc, const char *argv[])\n{\n    sqlite3 *pDb;\n    int error = 0;\n//parsing input\n    error = sqlite3_open(argv[1], &amp;pDb);\n    if (error == 0)\n    {\n        sqlite3_exec(\n          pDb,      /* An open database */\n          \"CREATE TABLE 'table' ('products', 'quantity')\",  /* SQL */\n          0,        /* Callback function */\n          NULL,     /* 1st argument to callback */\n          NULL      /* Error msg written here */\n        );\n\n        if (exists(param[1], &amp;pDb) == 0) \n        {\n            fprintf (stderr, \"ERROR: Product exists yet\\n\");\n        }\n        else\n        {\n            char *zSQL = sqlite3_mprintf(\"INSERT INTO 'table' VALUES ('%q', '0')\", param[1]);\n            error = sqlite3_exec(\n              pDb,      /* An open database */\n              zSQL,     /* SQL to be evaluated */\n              0,        /* Callback function */\n              NULL,     /* 1st argument to callback */\n              NULL      /* Error msg written here */\n            );\n            sqlite3_free(zSQL);\n            if (error == 0) printf(\"Added\\n\");\n            else printf(\"%i\", error);\n        }\n    }\n    else return 1;\n    return 0;\n}\n</code></pre>\n\n<p>It fails on <code>sqlite3_prepare_v2</code>. I expect there is a problem with the pointer on <code>pDb</code>, but I wasn't able to fix it (I'm not fan of pointers - too strong a tool for beginner). When it fails, the debugger stacked on line 93396 in sqlite3.c (*ppStmt = 0; - it writes somewhere, where it should'nt).</p>\n\n<p>Compiled on linux x64: </p>\n\n<p><code>gcc -std=c99 -Wall -pedantic -Wextra -Werror -DSQLITE_THREADSAFE=0 -ldl -o sqlite main.c sqlite3.c</code></p>\n\n<p>Nothing wrong (if I've copied wrongly brackets, ignore it - it's not the problem), SQLite 3.7.14.1</p>\n\n<p>Sorry for my English, I'm from Czech.</p>\n"},{"tags":["android","sqlite","ice-cream-sandwich"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":38,"score":1,"question_id":12990391,"title":"SQLiteReadOnlyDatabaseException but the database is writable","body":"<p>I am using SQLite on Android, ICS. When I make an update, I get a <code>SQLiteReadOnlyDatabaseException</code>. That was weird because i created it with <code>SQLiteOpenHelper.getWritableDatabase()</code>. Also, I tested if the database is readonly just before the update occurs with <code>myDB.isReadonly()</code>. This exception doesn't occur on Gingerbread. I suspect it has something to do with different versions of sqlite across android versions.</p>\n\n<p>Here is my code for the creation of the database.</p>\n\n<pre><code>protected static class DBHelper extends SQLiteOpenHelper {\n    DBHelper(Context context) {\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        db.execSQL(CreateStatements.CREATE_MOVIES);\n...\n\n}\n\npublic class DBAdapter {\n    public static final String PACKAGE_NAME =     \n    protected DBHelper dbHelper;\n    protected Context context;\n    protected SQLiteDatabase myDB;\n    public CreateStatements statement;\n\n    public DBAdapter(Context context) {\n        this.context = context;\n    }\n\n    public void open() throws SQLException {\n        dbHelper = new DBHelper(context);\n        myDB = dbHelper.getWritableDatabase();\n        myDB.setLockingEnabled(false);\n    }\n\n    public void close() {\n        myDB.close();\n    }\n...\n\n}\n</code></pre>\n"},{"tags":["android","database","eclipse","sqlite","search"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":59,"score":-2,"question_id":12987766,"title":"How to search record in Sqlite","body":"<p>I am developing an app in which a user can search record in my database and if user can't find that record then that query should entertain from the Live Server from Web.So can anyone help me as i am new in android development . Thanks in advance </p>\n"},{"tags":["sqlite","core-data","sqlite3","nspersistentstore"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":72,"score":0,"question_id":12474203,"title":"Setting Core Data persistent store (SQLite) as NORMAL locking-mode","body":"<p>I'm building a prototype of an app where persistent store uses SQLite via AFP on a \"server\" machine (the same LAN).\nHowever, I can't connect to the store from 2 different instances of my app.</p>\n\n<p>I set SQLite pragma setting (related to locking) on persistent store coordinator like this:</p>\n\n<pre><code>    NSPersistentStoreCoordinator *coordinator = [[NSPersistentStoreCoordinator alloc] initWithManagedObjectModel:mom];\n\nNSMutableDictionary *pragmaOptions = [NSMutableDictionary dictionary];\n[pragmaOptions setObject:@\"NORMAL\" forKey:@\"locking_mode\"];\nNSDictionary *storeOptions = [NSDictionary dictionaryWithObject:pragmaOptions forKey:NSSQLitePragmasOption];\n\nif (![coordinator addPersistentStoreWithType:NSSQLiteStoreType configuration:nil URL:url options:storeOptions error:&amp;error]) {\n    [[NSApplication sharedApplication] presentError:error];\n    return nil;\n}\n</code></pre>\n\n<p>and error message I'm getting when trying to connect to the store from 2nd client (i.e. when the 1st one is already successfully connected) is:</p>\n\n<blockquote>\n  <p>ERROR: sqlite database is locked because it is in use by another host that holds a host-exclusive lock on .../TestDBApp.storedata; this host UID... cannot override the host-exclusive lock until the other host UID... releases its locks on .../.TestDBApp.storedata-conch</p>\n</blockquote>\n\n<p>Am I doing something wrong?</p>\n\n<p>Is accessing the same store from 2 clients possible with Core Data and SQLite?</p>\n\n<p>Is this a bug in Core Data and/or SQLite API?</p>\n"},{"tags":["sqlite"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":12988212,"title":"sqlite query to filter some data out with special condition","body":"<p>Here is a sample of the data I have:</p>\n\n<pre><code>-----------------------------------\n ID | Item                 | Value\n  1 | Carrot               |  0\n  2 | Carrot               |  1\n  3 | Peas                 |  1\n  4 | Peas                 |  2\n  5 | Peas                 |  3\n  6 | Salad                |  0\n  7 | Salad                |  3\n  8 | Salad                |  5\n  9 | Corn                 |  0\n-----------------------------------\n</code></pre>\n\n<p>I want to do a query where the lines with values 0 appear if:</p>\n\n<ul>\n<li>They are the only value for that item</li>\n<li>There is more than one other value for that item</li>\n</ul>\n\n<p>Or another way of saying is they should not be in the result if:</p>\n\n<ul>\n<li>There is one and only one other value for the same item</li>\n</ul>\n\n<p>Note that the pair (item, value) is unique in my data.</p>\n\n<p>So for the data sample, the result of the query should be like this (only the first line goes away):</p>\n\n<pre><code>-----------------------------------\n ID | Item                 | Value\n  2 | Carrot               |  1\n  3 | Peas                 |  1\n  4 | Peas                 |  2\n  5 | Peas                 |  3\n  6 | Salad                |  0\n  7 | Salad                |  3\n  8 | Salad                |  5\n  9 | Corn                 |  0\n-----------------------------------\n</code></pre>\n\n<p>What would be the best and most efficient way to do this?</p>\n"},{"tags":["android","sqlite","spinner"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1240,"score":0,"question_id":7437637,"title":"How to get spinner string value on android?","body":"<p>I have created a spinner and the items of spinner comes from database. However, When I use</p>\n\n<pre><code>public class MyOnItemSelectedListener implements OnItemSelectedListener {\n\n    public void onItemSelected(AdapterView&lt;?&gt; parent,\n        View view, int pos, long id) {\n        typeOFBCard = contactSpinner.getSelectedItem().toString();\n    }\n\n    public void onNothingSelected(AdapterView parent) {\n      // Do nothing.\n    }\n}\n</code></pre>\n\n<p>When I call this listener and try to pick the chosen string of the spinner i get a reference of the sglite something like:</p>\n\n<pre><code>android.database.sqlite.SQLiteCursor@40535568\n</code></pre>\n\n<p>This is the return value of typeOfBCard.</p>\n\n<p>However, on the spinner I can see normal string like \"Work\".</p>\n\n<p>Here is how I initialized the spinner :</p>\n\n<pre><code>contactSpinner = (Spinner) findViewById(R.id.contactSpinner);\n    mobileText =(EditText) findViewById(R.id.mobileText);\n    mDbHelper = new DbAdapter(this);\n    mDbHelper.open();\n    cursor = mDbHelper.fetchAllBusinessCards();\n    startManagingCursor(cursor);\n    context =this;\n\n    contactSpinner.setOnItemSelectedListener(new MyOnItemSelectedListener());\n</code></pre>\n"},{"tags":["sqlite","join"],"answer_count":3,"favorite_count":4,"up_vote_count":21,"down_vote_count":0,"view_count":9291,"score":21,"question_id":773441,"title":"How do I make an UPDATE while joining tables on SQLite?","body":"<p>I tried :</p>\n\n<pre><code>UPDATE closure JOIN item ON ( item_id = id ) SET checked = 0 WHERE ancestor_id = 1\n</code></pre>\n\n<p>Then :</p>\n\n<pre><code>UPDATE closure, item SET checked = 0 WHERE ancestor_id = 1 AND item_id = id\n</code></pre>\n\n<p>Both works with MySql but gives me a syntax error in SQLite.</p>\n\n<p>How can I make this UPDATE / JOIN works with SQLite version 3.5.9 ?</p>\n"},{"tags":["ruby-on-rails","database","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12985950,"title":"How to index tag combinations?","body":"<p>In my project:</p>\n\n<ul>\n<li>A post has many tags.</li>\n<li>Based on the tags combination, the post is placed in an appropriate category. e.g a post with only the #politics tag shall go to the \"General Politics\" section and a post with tags #politics and #global will go to the \"Global Politics\" section</li>\n<li>A table 'categories' stores the categories and the combination(s) of tags those will accept.</li>\n<li>These tags are NOT the only tags the post contains.</li>\n</ul>\n\n<p><strong>My question is:</strong> What's the best (and economical) way to store and index the tags such that the system can pick up tag combinations easily too. Currently I am storing the tags in a \"tags\" column in the \"posts\" table as arrays.</p>\n\n<p>The project is based on RoR 3.2 and sqlite3.</p>\n"},{"tags":["c++","c","sqlite","pointers","void-pointers"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":12984248,"title":"SQLite in C/C++. sqlite3_exec: parameter set in callback function is pointing to an empty string","body":"<p>I'm trying to something really basic - returning the result of the <code>SELECT</code> statement using <a href=\"http://www.sqlite.org/capi3ref.html\" rel=\"nofollow\">C/C++ interface for SQLite</a>. My Data table has only two fields - key (varchar) and value (text). </p>\n\n<p>Given the key, my goal is to return the value by querying the SQLite database. I pass to *sqlite3_exec* - *select_callback* function as well as <em>param</em> (char *). The <em>param</em> is successfully set to the correct value within *select_callback*. However, after calling *sqlite3_exec* param points to an empty string (despite pointing to the same memory). </p>\n\n<p>Any idea what's going wrong and how to fix this? Does *sqlite3_exec* deallocate memory for <em>param</em> behind the scenes? </p>\n\n<p>Thank you in advance!</p>\n\n<pre><code>// given the key tid returns the value\nvoid getTypeByID(sqlite3 * db, string tid)\n{\n    string sql_exp_base = \"select value from Data where key=''\";\n    int len = (int)sql_exp_base.size() + (int)tid.size() + 10;\n    char * sql_exp = new char[len];\n    sprintf(sql_exp, \"select value from Data where key='%s'\", tid.data());\n    sql_exec(db, sql_exp);\n}\n\n// This is the callback function to set the param to the value\nstatic int select_callback(void * param, int argc, char **argv, char **azColName)\n{\n    if(argc == 0) return 0;\n    char * res = (char *)param;\n    res = (char *) realloc(res, sizeof(*res));\n    res = (char *) malloc(strlen(argv[0]) + 1);\n    strcpy(res, argv[0]);\n    printf(\"%s\\n\", res); // {\"name\": \"Instagram Photo\", url: \"http://instagram.com\"}\n    return 0;\n}\n\n// execute the SQL statement specified by sql_statement\nvoid sql_exec(sqlite3 * db, const char * sql_statement)\n{\n    char * zErrMsg = 0;\n    char * param = (char *)calloc(1, sizeof(*param));\n    int rc = sqlite3_exec(db, sql_statement, select_callback, param, &amp;zErrMsg);\n     printf(\"%s\\n\", param);\n</code></pre>\n\n<p><strong>param SHOULD BE {\"name\": \"Instagram Photo\", url: \"http://instagram.com\"}, BUT IT IS EMPTY STRING FOR SOME REASON!</strong></p>\n\n<pre><code>    if(rc != SQLITE_OK)\n    {\n        fprintf(stderr, \"SQL error: %s\\n\", zErrMsg);\n        sqlite3_free(zErrMsg);\n    }\n}\n</code></pre>\n"},{"tags":["sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":31,"score":2,"question_id":12983909,"title":"What causes sqlite join contraints with OR clauses to be significantly slower?","body":"<p>Here are two sqlite queries:</p>\n\n<pre><code>SELECT * FROM items JOIN licenses ON items.id=licenses.id OR items.type=licenses.type;\n</code></pre>\n\n<p>This query doesn't use <code>OR</code>, it uses <code>UNION</code></p>\n\n<pre><code>SELECT * FROM items JOIN licenses ON items.id=licenses.id UNION SELECT * FROM items JOIN licenses ON items.type=licenses.type;\n</code></pre>\n\n<p>Assuming I have an index in the licenses table on id and an index in the licenses table on type shouldn't the first query that uses an <code>OR</code> be only a tiny bit slower?</p>\n\n<p>I am seeing that the first query is approximately 20 times slower than the second query in Sqlite, what is the cause for that?</p>\n\n<p>I would expect the internal plan to look something like this for the first query:</p>\n\n<ul>\n<li>For each row in the <code>items</code> table:</li>\n<li>Take the value from the <code>id</code> column of the <code>items</code> table and use it to lookup all rows in the <code>licenses</code> table with that <code>id</code>, call that set of matching rows A.</li>\n<li>Take the value from the <code>type</code> column of the <code>items</code> table and use it to lookup all rows in the <code>licenses</code> table with that <code>type</code>, call that set of matching rows A'.\nCombine A and A' and eliminate any duplicate rows. Add the result in the list of result rows</li>\n</ul>\n"},{"tags":["android","sqlite","cursor"],"answer_count":4,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":439,"score":3,"question_id":4144328,"title":"Idiom to close a cursor","body":"<p>Which of the following two should I be using to make sure that all the cursors are closed?</p>\n\n<pre><code>    Cursor c = getCursor(); \n\n    if(c!=null &amp;&amp; c.getCount()&gt;0){ \n        try{ \n            // read values from cursor \n        }catch(..){} \n        finally{ \n            c.close(); \n        } \n    }//end if\n\n    OR\n\n    Cursor c = getCursor(); \n    try{ \n        if(c!=null &amp;&amp; c.getCount()&gt;0){ \n            // read values from cursor \n        }//end if \n    }catch(..){\n\n    }finally{ \n        c.close(); \n    } \n</code></pre>\n\n<p><strong>EDIT:</strong><br>\nA few questions:<br>\n1. Do we need to call close() on a cursor which has count of 0?<br>\n2. Because in that case for the first idiom, close() will never be called. It assumes that for a cursor having no elements, cursor will never be opened. Is this a valid assumption?</p>\n\n<p>Please advise.</p>\n"},{"tags":["sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":1084,"score":2,"question_id":3226024,"title":"sqlite UPDATE trigger firing on INSERT statements also?","body":"<p>I'm working on setting up a simple SQLite database to access via Python.  So far I have one basic table, and a couple of triggers - I want to have one trigger update a field column 'date_added' when a new record is added, and another one to update a column 'date_updated' when a record is later updated.  Here is my SQLite syntax for the triggers:</p>\n\n<blockquote>\n  <p>CREATE TRIGGER add_contact AFTER INSERT ON contact_info<br>\n     BEGIN<br>\n         UPDATE contact_info SET date_added = DATETIME('NOW') WHERE pkid = new.pkid;<br>\n     END;  </p>\n  \n  <p>CREATE TRIGGER update_contact AFTER UPDATE ON contact_info<br>\n     BEGIN<br>\n         UPDATE contact_info SET date_updated = DATETIME('NOW') WHERE pkid = new.pkid;<br>\n     END;  </p>\n</blockquote>\n\n<p>The 'add_contact' trigger seems to be working fine... it fires when I add a new record via an sql INSERT command, as planned.</p>\n\n<p>The problem seems to be the 'update_contact' trigger... it fires both when I update a record via an sql UPDATE command (as planned) <em>and</em> when I add a new record also:</p>\n\n<p>i.e. when I add a new record I get this in the 'date_added' and 'date_updated' columns:</p>\n\n<blockquote>\n  <p>2010-07-12 05:00:06|2010-07-12 05:00:06</p>\n</blockquote>\n\n<p>and when I update that record, it changes like so:</p>\n\n<blockquote>\n  <p>2010-07-12 05:00:06|2010-07-12 05:14:26</p>\n</blockquote>\n\n<p>I guess I'm not getting why the UPDATE trigger fires on INSERT also?</p>\n\n<p>TIA,</p>\n\n<p>Monte</p>\n\n<p>Edited to add:  Any hints on how to make it work as intended?</p>\n"},{"tags":["nhibernate","sqlite","fluent-nhibernate","system.data.sqlite"],"answer_count":6,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":5212,"score":4,"question_id":5665287,"title":"Getting Fluent NHibernate to work with SQLite","body":"<p>I'm sure there is something simple I've not done but I'm trying to get Fluent NHibernate to work with Sqlite on my machine.</p>\n\n<p>I used NuGet to download fluent nhibernate and added the following entity and mapping:</p>\n\n<pre><code>public class Customer\n{\n    public virtual string CustomerCode { get; set; }\n    public virtual string Name { get; set; }\n}\n\npublic class CustomerMap : ClassMap&lt;Customer&gt;\n{\n    public CustomerMap ()\n        {\n        Id(x =&gt; x.CustomerCode);\n        Map(x =&gt; x.Name);\n        Table(\"tblCustomer\");\n        }\n}\n</code></pre>\n\n<p>Then following the getting started with fluent guide I added the following code to a Windows Command project:</p>\n\n<pre><code>class Program\n{\n    static void Main(string[] args)\n    {\n\n        var sessionFactory = CreateSessionFactory();\n\n        using (var session = sessionFactory.OpenSession())\n        {\n            using (var transaction = session.BeginTransaction())\n            {\n\n                var customer = new Customer { CustomerCode = \"123\", Name = \"Bob\" };\n                session.SaveOrUpdate(customer);\n                transaction.Commit();\n            }\n        }\n    }\n\n    private static ISessionFactory CreateSessionFactory()\n    {\n        return Fluently.Configure()\n            .Database(\n            SQLiteConfiguration.Standard\n            .UsingFile(\"firstProject.db\")\n            )\n            .Mappings(m =&gt;\n                        m.FluentMappings.AddFromAssemblyOf&lt;Program&gt;())\n            .ExposeConfiguration(BuildSchema)\n            .BuildSessionFactory();\n    }\n\n    private static void BuildSchema(Configuration config)\n    {\n        // delete the existing db on each run\n        if (File.Exists(\"firstProject.db\"))\n            File.Delete(\"firstProject.db\");\n\n        // this NHibernate tool takes a configuration (with mapping info in)\n        // and exports a database schema from it\n        new SchemaExport(config)\n          .Create(false, true);\n    }\n}\n</code></pre>\n\n<p>Finally I added the Sqlite dll using NuGet.. however I'm getting the following error when trying to run the program:</p>\n\n<p>Top Exception:</p>\n\n<pre><code>An invalid or incomplete configuration was used while creating a SessionFactory. Check PotentialReasons collection, and InnerException for more detail.\n</code></pre>\n\n<p>Next Exception:</p>\n\n<pre><code>Could not create the driver from NHibernate.Driver.SQLite20Driver, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4.\n</code></pre>\n\n<p>Inner most exception:</p>\n\n<pre><code>Unable to find the requested .Net Framework Data Provider.  It may not be installed.\n</code></pre>\n\n<p>This is when it's trying to create the session factory.</p>\n\n<p>Can anyone help with this? I'm running a 32 bit machine?</p>\n\n<p>Thanks</p>\n\n<p>Dave</p>\n"},{"tags":["vb.net","winforms","sqlite","null"],"answer_count":5,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":742,"score":2,"question_id":5786221,"title":"What are NULL values and how can I handle them in SQLite","body":"<p>What are NULL values ?</p>\n\n<p><img src=\"http://i.stack.imgur.com/piMVA.png\" alt=\"enter image description here\"></p>\n\n<p>Sometimes when I try to assign a query to variable, I get error saying  Type-Cast-Error.</p>\n\n<pre><code>txtMiddleName.Text = Reader.GetString(2)\n</code></pre>\n\n<p>How can I put it that if the value of the Middle is nothing then </p>\n\n<p><code>txtMiddleName.Text = \"\"</code></p>\n\n<p>(I already read the other post \"Handling NULL Values in SQLite but couldn't figure out much\")</p>\n\n<p>Working on VS 2010 (VB.net)</p>\n\n<p><em>EDIT 1</em>:</p>\n\n<p>This is the error Message I get</p>\n\n<p><img src=\"http://i.stack.imgur.com/Kz9KL.png\" alt=\"enter image description here\">\n(Line 364 is the above mentioned code)</p>\n"},{"tags":["sqlite"],"answer_count":5,"favorite_count":2,"up_vote_count":8,"down_vote_count":0,"view_count":4687,"score":8,"question_id":5802520,"title":"Where I can find example of SQLite database file or dump of it?","body":"<p>I really need a sqlite database file for studies.\nI'm creating an application in C# and I need a database with many tables, field, views, indexes, constraints and so on. And I don't want to create it myself using sqlite command line tool.</p>\n\n<p>So I suppose may be someone can say where I can find such file, may be different applications or examples, or even can send me their own database file. I will appreciate any help.</p>\n"},{"tags":["python","django","sqlite","orm"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":41,"score":2,"question_id":12984803,"title":"DateField clearing itself every time object is edited","body":"<p>I have the following model:</p>\n\n<pre><code>class Day(models.Model):\nday = models.DateField()\ntitle = models.CharField(max_length=20)\ndescription = models.CharField(max_length=160)\nvotes = models.IntegerField(max_length=7)\nlast_vote = models.DateTimeField()\n\ndef __unicode__(self):\n    return self.title\n</code></pre>\n\n<p>Whenever I edit it like this:</p>\n\n<pre><code>current_time = datetime.datetime.now()\nday_to_vote_for.votes += 1\nday_to_vote_for.last_vote = current_time\nday_to_vote_for.save()\n</code></pre>\n\n<p>or whenever I edit through the admin control panel, it is reset to a blank field? Why? This doesn't happen with the Datetime field. How do I fix it?</p>\n\n<p>People need to be able to specify dates other than now. So auto_now_add won't work. It's just clearing for no reason.</p>\n"},{"tags":["android","sqlite"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":399,"score":0,"question_id":7661376,"title":"What triggers SqliteDbOpenHelper onUpgrade()?","body":"<p>Can someone explain how the onUpgrade function is called within the SqliteDbOpenHelper class.\nI'm opening my database but it's not calling the onUpgrade even though I've changed the DB_VERSION.</p>\n\n<p>See following code:</p>\n\n<pre><code>public class DbHelper extends SQLiteOpenHelper {\n    private static final String TAG = \"DbHelper\";\n\n    static final String DB_NAME = \"caddata.sqlite\";\n    static final int DB_VERSION = 4;\n\n    private static String DB_PATH = \"\";\n    private Context myContext;\n    private SQLiteDatabase myDataBase;\n\n    public DbHelper(Context context) {\n        super(context, DB_NAME, null, DB_VERSION);\n        this.myContext = context;\n\n        DB_PATH = \"/data/data/\"\n                + context.getApplicationContext().getPackageName()\n                + \"/databases/\";            \n    }\n\n    public DbHelper open() throws SQLException {        \n        myDataBase =  getWritableDatabase();\n\n        Log.d(TAG, \"DbHelper Opening Version: \" +  this.myDataBase.getVersion());\n        return this;\n    }\n\n    @Override\n    public synchronized void close() {\n\n        if (myDataBase != null)\n            myDataBase.close();\n\n        super.close();\n\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        Log.d(TAG, \"onCreate called\");\n\n        try {           \n            createDataBase();\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n        if ( newVersion &gt; oldVersion)\n        {\n            Log.d(TAG, \"New database version exists for upgrade.\");         \n            try {\n                Log.d(TAG, \"Copying database...\");\n                copyDataBase();\n            } catch (IOException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }       \n        }\n    }\n\n    public void createDataBase() throws IOException {\n\n        boolean dbExist = checkDataBase();\n\n        if (!dbExist) {         \n\n            try {\n                copyDataBase();\n            } catch (IOException e) {\n                throw new Error(\"Error copying database\");\n            }\n        }\n\n        openDataBaseForRead();\n    }\n\n\n    private boolean checkDataBase() {\n\n        SQLiteDatabase checkDB = null;\n\n        try {\n            String myPath = DB_PATH + DB_NAME;\n            checkDB = SQLiteDatabase.openDatabase(myPath, null,\n                    SQLiteDatabase.OPEN_READONLY\n                            | SQLiteDatabase.NO_LOCALIZED_COLLATORS);\n            Log.d(TAG, \"db exists\");\n        } catch (SQLiteException e) {\n            // database does't exist yet.\n            Log.d(TAG, \"db doesn't exist\");\n\n        }\n\n        if (checkDB != null) {\n            checkDB.close();            \n        }\n\n        return checkDB != null ? true : false;\n    }\n\n\n    private void copyDataBase() throws IOException {\n\n        // Open your local db as the input stream\n        InputStream myInput = myContext.getAssets().open(DB_NAME);\n\n        // Path to the just created empty db\n        String outFileName = DB_PATH + DB_NAME;\n\n        // Open the empty db as the output stream\n        OutputStream myOutput = new FileOutputStream(outFileName);\n\n        // transfer bytes from the inputfile to the outputfile\n        byte[] buffer = new byte[2048];\n        int length;\n        while ((length = myInput.read(buffer)) &gt; 0) {\n            myOutput.write(buffer, 0, length);\n        }\n\n        // Close the streams\n        myOutput.flush();\n        myOutput.close();\n        myInput.close();\n\n        myDataBase.setVersion(DB_VERSION);\n    }\n\n    public void openDataBaseForRead() throws SQLException {\n\n        // Open the database\n        String myPath = DB_PATH + DB_NAME;      \n        myDataBase = SQLiteDatabase.openDatabase(myPath, null,  SQLiteDatabase.OPEN_READONLY);\n    }\n\n    public void openDataBaseForWrite() throws SQLException {\n\n        // Open the database\n        String myPath = DB_PATH + DB_NAME;      \n        myDataBase = SQLiteDatabase.openDatabase(myPath, null,  SQLiteDatabase.OPEN_READWRITE | SQLiteDatabase.NO_LOCALIZED_COLLATORS );\n    }\n\n\n}\n</code></pre>\n\n<p>Also see my question detailed here: <a href=\"http://stackoverflow.com/questions/7647566/why-is-onupgrade-not-being-invoked-on-android-sqlite-database\">Why is onUpgrade() not being invoked on Android sqlite database?</a> for which I didn't get a response.</p>\n\n<p>My main activity opens the database from the helper. It was my assumption that just opening the database will cause onUpgrade() function to be called:</p>\n\n<pre><code>@Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        DbHelper myDbHelper =  new DbHelper(this);\n\n        try {\n\n            myDbHelper.createDataBase();\n\n        } catch (IOException ioe) {\n\n            throw new Error(\"Unable to create database\");\n\n        }\n\n        try {\n\n            myDbHelper.openDataBaseForRead();\n\n        }catch(SQLException sqle){\n\n            throw sqle;\n\n        }\n}\n</code></pre>\n"},{"tags":["android","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":2039,"score":2,"question_id":2278433,"title":"execSQL SQLiteException near \"?\"","body":"<p>Why doesn't this work??</p>\n\n<p><code>db.execSQL(\"INSERT INTO PARTIES (PARTY_NAME, PARTY_COUNT) SELECT DISTINCT(PARTY), COUNT(PARTY) FROM ? WHERE (Year=?) GROUP BY PARTY ORDER BY PARTY ASC\", new Object[] { \"Election\", \"2004\" });</code></p>\n\n<p>It works perfectly in rawQuery!!</p>\n"},{"tags":["iphone","sqlite","core-data","xls","csv"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":815,"score":0,"question_id":2566941,"title":"Import data from .xls File","body":"<p>HI,</p>\n\n<p>I am developing an application in which i have to get data from .xls file. I am fairly new to iPhone development so any pointers in direction to getting started will be very much helpful. </p>\n\n<p>The steps that i am thinking are :</p>\n\n<p>1) First i need to convert .xls to .csv Format. </p>\n\n<p>2)Import the data from .csv file to SQlite Databse or Core Data.(I am not familier with any one of them, so kindly suggest which one to choose. I am looking forward to use Core Data)</p>\n\n<p>Am I thinking in the right direction. Will be greatful for any kind of assistance..</p>\n\n<p>Thanx in advance..</p>\n"},{"tags":["sql","sqlite"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":140,"score":0,"question_id":4159051,"title":"How do I find out if a SQLite column is unique? (With SQL)","body":"<p>I have table:</p>\n\n<pre><code>CREATE TABLE test( i INTEGER UNIQUE, j INTEGER UNIQUE, k TEXT );\n\npragma table_info(test);\n       cid = 0\n      name = i\n      type = INTEGER\n   notnull = 0\ndflt_value = \n        pk = 0\n...\n</code></pre>\n\n<p>How can I find out is column \"i\" UNIQUE or not.\nThanks</p>\n"},{"tags":[".net","sqlite","32bit-64bit","system.data.sqlite"],"answer_count":2,"favorite_count":2,"up_vote_count":12,"down_vote_count":0,"view_count":7242,"score":12,"question_id":2048914,"title":"What causes System.BadImageFormatException when constructing System.Data.SQLite.SQLiteConnection","body":"<p>I've broken the code down to the smallest possible statement:</p>\n\n<pre><code>Dim cn As System.Data.SQLite.SQLiteConnection\n</code></pre>\n\n<p>And I get the following error when calling the code from a WinForm applicaiton:</p>\n\n<blockquote>\n  <p>System.BadImageFormatException: Could\n  not load file or assembly\n  'System.Data.SQLite, Version=1.0.65.0,\n  Culture=neutral,\n  PublicKeyToken=db937bc2d44ff139' or\n  one of its dependencies. An attempt\n  was made to load a program with an\n  incorrect format. File name:\n  'System.Data.SQLite, Version=1.0.65.0,\n  Culture=neutral,\n  PublicKeyToken=db937bc2d44ff139'</p>\n</blockquote>\n\n<p>Yet calling the same piece of code from MS Unit Test I do not get the error, plus the full code set works as expected.</p>\n"},{"tags":["sqlite","optimization"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":12975702,"title":"SQLite query delay","body":"<p>I have a very simple query:</p>\n\n<pre><code>SELECT count(id), min(id), max(id), sum(size), sum(frames), sum(catalog_size + file_size)\nFROM table1\n</code></pre>\n\n<p><code>table1</code> holds around 3000 to 4000 records.</p>\n\n<p>My problem is that it takes around 20 seconds to this query to run. And since it is called more than once, the delay is pretty obvious to the customer.</p>\n\n<p>Is it normal to this query to take 20 seconds? Is there any way to improve the run time?\nIf I run this same query from SQLite Manager it takes milliseconds to execute. The delay only occurs if the query is called from our software. <code>EXPLAIN</code> and <code>EXPLAIN QUERY PLAN</code> didn't help much. We use SQLite 3.7.3 version and Windows XPe.</p>\n\n<p>Any thoughts how to troubleshoot this issue or improve the performance of the query?</p>\n"},{"tags":["mysql","sqlite","xls","xlsx"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":130,"score":2,"question_id":12476904,"title":"import Bulk data xlsx to mysql ? couldn't convert xls","body":"<p>I need to import more than 2.8 lakh records to mysql ( sqlite also fine.. ). I have the xlsx format only. I couldn't convert this to xls file. Is there way or import option in latest version or any better tool available. thanks in advance.</p>\n"},{"tags":["database","sqlite"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":39,"score":1,"question_id":12979404,"title":"SQLite database not retrieving value (text) from the table(Android)","body":"<p>I made two classes as usual, for implementing SQLite, one Adapter and the other for general activity. Values can be easily input into the database, as I've tried retrieving them through other ways, but this code is giving me error(Application stopped unexpectedly) while running this Android app (for retrieving the text from the database).</p>\n\n<p>In general activity class:</p>\n\n<pre><code>b2.setOnClickListener(new View.OnClickListener() {\n\n        public void onClick(View arg0) {\n            // TODO Auto-generated method stub\n\n            db.open();\n            Cursor c = db.getAllRemember();\n\n            if(c.moveToFirst())\n            {\n                do{\n                    Toast.makeText(getApplicationContext(), c.getString(0)+ c.getString(1) , Toast.LENGTH_LONG).show();\n                }while(c.moveToNext());\n            }\n\n            db.close();\n        }\n    });\n</code></pre>\n\n<p>And in the adapter class:</p>\n\n<pre><code>public Cursor getAllRemember() {            \n    return db.query(DATABASE_TABLE, new String[]{Key_ROWID, KEY_REM}, null, null, null, null, null);\n}\n</code></pre>\n\n<p>Can anyone help me getting it right?</p>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":12979115,"title":"Using Sqlite Database. onCreate() Method is not getting executed","body":"<p>I have create a class <code>DatabaseInterface</code> which will be used for Sqlite operations.\n<code>DatabaseInterface.onCreate()</code> (where I have created a table) Method is not getting executed when i create an object of this class. </p>\n\n<p>I have created object of <code>DatabaseInterface</code> in another class <code>FirstTimeActivity</code></p>\n\n<pre><code>public class FirstTimeActivity extends Activity{\n\n    public void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.main);\n\n    DatabaseInterface db = new DatabaseInterface(this);\n    }\n}\n</code></pre>\n\n<p>Below is class Definition of <code>DatabaseInteface</code>. The <code>OnCreate()</code> method is not getting executed, so my table is not getting created. The database has already been created.</p>\n\n<pre><code>public class DatabaseInterface  extends SQLiteOpenHelper{\n\n    private static String       DB_NAME = \"SMS_DB\";\n    private static int          DB_VERSION = 1;\n\n    private String TABLE_NAME       = \"SENT_ITEMS\";\n    private String COLUMN_ID        = \"S_NO\";\n    private String COLUMN_MESSAGE   = \"MESSAGE\";\n    private String COLUMN_DATETIME  = \"DATE_TIME\";\n\n    //creates the database\n    public DatabaseInterface(Context context) {\n            super(context, DB_NAME, null, DB_VERSION);\n            Log.d(\"Creating Database: \", \"Creating Database\");\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n            Log.d(\"Creating Table: \", \"Creating Table\");\n            String create_table = \"CREATE TABLE \"+ TABLE_NAME + \" (\"+ COLUMN_ID +\" INTEGER PRIMARY KEY, \" + COLUMN_MESSAGE + \" TEXT, \" + COLUMN_DATETIME + \"TEXT NOT NULL); \";\n            db.execSQL(create_table);\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n\n    }\n\n    public void insertIntoDB(String message)\n{\n    SQLiteDatabase db = this.getWritableDatabase();\n    ContentValues values = new ContentValues();\n\n    //get current date and time\n    Calendar current_time = Calendar.getInstance();\n    //current_time.getTime();\n    String Cure = current_time.toString();\n    Log.d(\"Current_Date_time: \", Cure);\n\n    values.put(COLUMN_MESSAGE, message);\n    values.put(COLUMN_DATETIME, \"ad\");\n\n    db.insert(\"TEST\", null, values);\n    db.close(); // Closing database connection\n}\n\n};\n</code></pre>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":6,"down_vote_count":0,"view_count":117,"score":6,"question_id":12426060,"title":"Random SQLiteConnectionPool error on Android. How to avoid?","body":"<p>Recently I started to get following error in my application. This is NOT in any specific place and I can reproduce only when loop through all data read/write functionality. It comes up pretty much anywhere.</p>\n\n<pre><code>09-14 08:52:15.089: WARN/SQLiteConnectionPool(19268): The connection pool for database '/data/data/com.nnn/databases/data.db' has been unable to grant a connection to thread 1 (main) with flags 0x5 for 30.000002 seconds.\n        Connections: 0 active, 1 idle, 0 available.\n</code></pre>\n\n<p>Is there any way to avoid this? I understand that somehow I exhause all connections to database? \nI'm using approach #1: <a href=\"http://www.androiddesignpatterns.com/2012/05/correctly-managing-your-sqlite-database.html\">http://www.androiddesignpatterns.com/2012/05/correctly-managing-your-sqlite-database.html</a></p>\n\n<p>And my database code looks like this:</p>\n\n<pre><code>public class DatabaseHelper extends SQLiteOpenHelper\n{\n    private final static String LOG_TAG = \"com.nnnn.data.DatabaseHelper\";\n    private static final String DATABASE_NAME = \"data.db\";\n    private static final int DATABASE_VERSION = 260;\n    private static SQLiteDatabase databaseInstance;\n\n    public DatabaseHelper()\n    {\n        super(MyApplication.Me, DATABASE_NAME, null, DATABASE_VERSION);\n    }\n\n    public static synchronized SQLiteDatabase getDatabase()\n    {\n        if (databaseInstance == null) databaseInstance = (new DatabaseHelper()).getWritableDatabase();\n        return databaseInstance;\n    }\n</code></pre>\n"},{"tags":["c++","sql","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12978133,"title":"when does an sqlite compiled statement get 'executed'","body":"<p>I'm writing a light wrapper for the SQLite API.</p>\n\n<p>Basically, I'm curious about how/when an SQLite pre-compiled statement gets executed...</p>\n\n<p>When i go:</p>\n\n<pre><code>char buffer[] = \"INSERT INTO example VALUES (?1, ?2, ?3, ?4, ?5, ?6, ?7)\";\nsqlite3_stmt* stmt;\nsqlite3_prepare_v2(mDb, buffer, strlen(buffer), &amp;stmt, NULL);\n\nfor (unsigned i = 0; i &lt; mVal; i++)\n{\n    std::string id = getID();\n    sqlite3_bind_text(stmt, 1, id.c_str(), id.size(), SQLITE_STATIC);\n    sqlite3_bind_double(stmt, 2, getDouble());\n    sqlite3_bind_double(stmt, 3, getDouble());\n    sqlite3_bind_double(stmt, 4, getDouble());\n    sqlite3_bind_int(stmt, 5, getInt());\n    sqlite3_bind_int(stmt, 6, getInt());\n    sqlite3_bind_int(stmt, 7, getInt());\n\n    if (sqlite3_step(stmt) != SQLITE_DONE)\n    {\n        printf(\"Commit Failed!\\n\");\n    }\n\n    sqlite3_reset(stmt);\n}\n\nsqlite3_finalize(stmt);\n</code></pre>\n\n<p>At what point is the actual sql executed?  Is it during the call to <code>sqlite3_prepare_v2</code>, or during the first <code>sqlite3_step</code>?</p>\n\n<p>Any clarity is greatly appreciated :)</p>\n\n<p>Cheers</p>\n\n<p>Jarrett</p>\n"}]}
{"total":16516,"page":8,"pagesize":100,"questions":[{"tags":["android","sqlite"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1175,"score":0,"question_id":4772876,"title":"Android database (SQLite) returns a non-empty cursor from an empty table","body":"<p>I verified using SQLite Database Browser that the table contains no rows. I stepped through the query builder code to get the generated query and ran the query in SQLite Database Broswer. The query returned zero rows. But still, the cursor returned by Android's SQLiteQueryBuilder.query method returns true on cursor.moveToFirst() call and returns null values.</p>\n\n<p>Anyone seen something like this before?</p>\n"},{"tags":["android","database","sqlite","dynamic","eventlistener"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":50,"score":1,"question_id":12974991,"title":"Dynamically Added Button eventListener","body":"<p>I have code where I need to take an ArrayList of data (returned from a SQLite database) and convert it to a table via the code below. What I was wondering is how I would go about adding a clickListener to the button I add dynamically to the table? Basically it would add the value from one of the columns in the row into a SharedPreference variable that I access elsewhere.</p>\n\n<p>Please let me know if more information is needed, but I think that makes sense.</p>\n\n<pre><code>DatabaseHandler db = new DatabaseHandler(TabFragment3.this.getActivity());\nList&lt;FoodPoints&gt; foodpoints = db.getAllFoodPoints();\n\n    for (FoodPoints fp : foodpoints) {\n        String listFood = fp.getFood();\n        String listPoints = Integer.toString(fp.getPoints());\n        String listDate = fp.getDate();\n\n        listDate = listDate.substring(0, 12);\n\n        insertRow(tablePoints, listFood, listPoints, listDate);\n        // String log = \"ID: \" + fp.getID() + \", Food: \" + fp.getFood() + \", Points: \" + fp.getPoints() + \", Date: \" + fp.getDate();\n        // Log.d(\"FoodPoints\", log);\n    }\n\nprivate void insertRow(TableLayout tablePoints, String tblFoodName, String tblFoodPoints, String tblFoodDate) {\n    final TableRow newrow = new TableRow(currentActivity);\n\n     addPlusButtonPointsTable(newrow);\n    addTexttoRowswithValues(newrow, tblFoodName, 3);\n    addTexttoRowswithValues(newrow, tblFoodPoints, 17);\n    addTexttoRowswithValues(newrow, tblFoodDate, 17);\n    tablePoints.addView(newrow);\n}\n\n...\n\nprivate void addPlusButtonPointsTable(TableRow newrow) {\n    Button plusButton = new Button(currentActivity);\n    //plusButton.setBackgroundColor(R.drawable.);\n    plusButton.setText(\"+\");\n    plusButton.setMinimumWidth(1);\n    plusButton.setMinimumHeight(1);\n    plusButton.setTextSize(14);\n\n    newrow.addView(plusButton);\n}\n</code></pre>\n"},{"tags":["iphone","ios","ipad","sqlite","fmdb"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":12976670,"title":"FMDB lastinsertRowID always 0","body":"<p>Hya.</p>\n\n<p>I have implemented FMDB in my app. I am trying to get the last row id from one of my databases with this</p>\n\n<pre><code>FMDatabase *bdb=[FMDatabase databaseWithPath:databasePath];\n    NSString *str;\n    if([bdb open]){\n        int lastId=[bdb lastInsertRowId];\n        FMResultSet *s = [bdb executeQuery:[NSString stringWithFormat:@\"SELECT budget FROM data WHERE ROWID='%d'\",lastId]];\n        if([s next])\n        {\n            str= [s stringForColumnIndex:0];\n        }\n    }\n</code></pre>\n\n<p>the problem i have is that lastId is always 0 , although there are 3 entries currently in the database. \nAny1 have any idea why is this happening?</p>\n\n<p>EDIT: the database is created like this:</p>\n\n<pre><code>NSFileManager *filemgr = [NSFileManager defaultManager];\n    if ([filemgr fileExistsAtPath: databasePath ] == NO)\n    {\n        const char *dbpath = [databasePath UTF8String];\n\n        if (sqlite3_open(dbpath, &amp;basicDB) == SQLITE_OK)\n        {\n            char *errMsg;\n            const char *sql_stmt = \"CREATE TABLE IF NOT EXISTS DATA (ROWID INTEGER PRIMARY KEY AUTOINCREMENT, NAME TEXT, BUDGET INTEGER)\";\n\n            if (sqlite3_exec(basicDB, sql_stmt, NULL, NULL, &amp;errMsg) != SQLITE_OK)\n            {\n               DLog(@\"Failed to create table\");\n            }\n           sqlite3_close(basicDB);\n\n        } else {\n           DLog(@\"Failed to open/create database\");\n        }\n    }\n</code></pre>\n"},{"tags":["android","sqlite","spinner"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":12977624,"title":"Use a spinner to set adapter of another spinner and a string to setSelection","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/12962268/dynamically-creating-a-spinner-and-setting-its-value-from-sqlite\">Dynamically creating a spinner and setting its Value from SQLite</a>  </p>\n</blockquote>\n\n\n\n<p>I was looking through other posts and find items similar to my issue but none as specific so here is it in short</p>\n\n<p>The issue is that i am returning two strings from a database:</p>\n\n<pre><code> tName, tType using a cursor object (see other post)\n</code></pre>\n\n<p>i then use the first <code>tType</code> to set the position of the first spinner, \nI have no problem with this because i am only using one adapter for this spinner.</p>\n\n<p>Based on this string item i want to select from three other adapters using a switch \nstatement. And set this adapter to my spinner then set the selection based on the string <code>tName</code></p>\n\n<p>Please help!\nFull question and code at my other post:</p>\n\n<p><a href=\"http://stackoverflow.com/questions/12962268/dynamically-creating-a-spinner-and-setting-its-value-from-sqlite\">Dynamically creating a spinner and setting its Value from SQLite</a></p>\n"},{"tags":["ios","sqlite","core-data","nspredicate","nsfilemanager"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":12974737,"title":"predicate for querying a substring of a string from coredata","body":"<p>In my project i have a set of attributes in an entity.One of them is path as string.I want all the records which has my string as a subpath in the path.</p>\n\n<p>Example:\n<strong>Path:</strong>/var/mobile/Applications/C4ECC129-36D2-4428-8BB0-  6B1F4C971FC1/Library/Caches/Packages/1000</p>\n\n<p><strong>Mystring</strong> : Library/Caches/Packages/1000</p>\n\n<p>I tried using Like and contains as below but failed.</p>\n\n<pre><code>[NSPredicate predicateWithFormat:@\"bookPath like[c] '%%%@'\",Mystring];\n[NSPredicate predicateWithFormat:@\"bookPath Contains[cd] '%@'\",Mystring];\n</code></pre>\n\n<p>Can some one help in writing the predicate to fetch those records which contains mystring.</p>\n\n<p>Really helps me a lot.</p>\n\n<p>Tnx in advance</p>\n"},{"tags":["android","sqlite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":129,"score":0,"question_id":8048950,"title":"How can I take the sum of column and display it in ListView?","body":"<p>I want to take sum of a specific database column (the <code>amount</code> column) where the area equals a user defined area. How could I get this?</p>\n\n<p>I have tried:</p>\n\n<pre><code> cursor=db.rawquery(\"SELECT sum(amt) as Sum FROM mytable WHERE area LIKE ?\", null);\n</code></pre>\n\n<p>Now I want to show this result in <code>ListView</code>. How do I display it and is the above syntax correct?</p>\n"},{"tags":["mysql","database","django","sqlite","migration"],"answer_count":2,"favorite_count":6,"up_vote_count":5,"down_vote_count":0,"view_count":945,"score":5,"question_id":3034910,"title":"What's the best way to migrate a Django DB from SQLite to MySQL?","body":"<p>I need to migrate my db from sqlite to mysql, and the various tools/scripts out there are too many for me to easily spot the safest and most elegant solution.</p>\n\n<p>This seemed to me nice <a href=\"http://djangosnippets.org/snippets/14/\">http://djangosnippets.org/snippets/14/</a> but appears to be 3 years since getting an update which is worrying..</p>\n\n<p>Can you recommend a solution that is known to be reliable with Django 1.1.1 ? </p>\n"},{"tags":["javascript","sqlite","webkit"],"answer_count":4,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":7504,"score":4,"question_id":740523,"title":"getting a Webkit executeSql transaction to return a value","body":"<p>How can I get the following JavaScript to return <code>row</code> so I can access it outside the transaction? All of Apple's example code seems to have HTML written to the browser within the transaction instead of ever passing data back to a calling function.</p>\n\n<p>Along the lines of:</p>\n\n<pre><code>function getData() {\n  db.transaction(function(tx) {\n    tx.executeSql(\"SELECT id FROM table LIMIT 1\", [], function(tx, result) {\n      row = result.rows.item(0);\n    }, function(tx, error) {\n    });\n  });\n\n  return row;\n}\n</code></pre>\n\n<p>Is this even possible? Can the Webkit storage API be set to synchronous instead of asynchronous execution?</p>\n"},{"tags":["android","sqlite","dynamic","spinner"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":100,"score":0,"question_id":12962268,"title":"Dynamically creating a spinner and setting its Value from SQLite","body":"<p>Okay, I have a problem loading the right value from Sqlite into my Spinner. Here is how my app is constructed</p>\n\n<p>my onCreate() sets up a spinner called spinTypes by:</p>\n\n<pre><code>public class MyClass extends Activity{\n // local members . . . \n     .\n     .\n     .\n //spinner \n private Spinner spinTypes, spinNames = null;\n\n // string array decl.\n private String [] types, names1, names2, names3 = null;\n\n // array adapters for string arrays\n private ArrayAdapter&lt;String&gt; typesAdapter, names1Adapter,\n                             names2Adapter, names3Adapter;\n\n // create a Dbhelper object to access the db\n private DbHelper mdbHelper = null;\n\n// on create\n @Override\n public void onCreate(Bundle savedIstanceState){\n  // call to super class\n  // set my content view\n  // instantiate all members \n\n  // Dbhelper object to access the db\n  mdbHelper = new DbHelper(getBaseContext());\n\n  // spinners\n  spinTypes = (Spinner) findViewById(R.id.spin_types);\n  spinNames = (Spinner) findViewById(R.id.spin_names);\n\n // get string arrays from resources and create a ArrayAdapter&lt;string&gt;\n types = getResources().getStringArray(R.array.types);\n\n typesAdapter = new ArrayAdapter&lt;String&gt;(getBaseContext(),\n                                        android.R.layout.simple_spinner_item, types);\n typesAdapter. setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n\n // want to create a dynamic spinner based on these arrays\n names1 = getResources().getStringArray(R.array.names_1); \n names2 = getResources().getStringArray(R.array.names_2);\n names3 = getResources().getStringArray(R.array.names_3);\n\n // do this for all names++ arrays\n names1Adapter = new ArrayAdapter&lt;String&gt;(getBaseContext(),\n                                        android.R.layout.simple_spinner_item, names1);\n names1Adapter. setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n\n // etc . . . for the other two\n\n // set the adapter for the types spinner\n spinTypes.setAdapter(typesAdapter);\n\n}\n</code></pre>\n\n<p>I have a creation method for inserting all my data into the db that works fine, my problem is when i want to try and populate the spinners for editing an entry.</p>\n\n<p>The app works as so: you press an add button to popup a dialog that creates a list item in the calling view. I use two spinners to create it, one for the type which dynamically populates the second names spinner based on the type.</p>\n\n<p>when i access the database object i return the strings from the spinner but for some reason when i create my if statement checking the position of the string in the array the second spinner sets position 0 every time.</p>\n\n<p>the method including the if statement i mentioned above is as so:</p>\n\n<pre><code>public void populate(){\n  mdbHelper.open();\n  // if there is an item create a cursor rowId != null\n  Cursor mTypes = mdbHelper.fetchItem(rowId);\n   if(mTypes.moveToFirst()){\n   String tType = mTypes.getString(mTypes.getColumnIndexOrThrow(DbAdapter.KEY_TYPE));\n   String tName = mTypes.getString(mTypes.getColumnIndexOrThrow(DbAdapter.KEY_NAME));\n\n  int t = spinTypes.getPosition(mType);\n  spinTypes.setSelection(t);\n\n  // ** this does not seem to do the job i want it to**\n  if(t == 0){\n    spinNames.setAdapter(names1Adapter); // set the adapter based on t value\n    int n1 = names1Adapter.getPosition(tName); // use name return from db to get pos\n    spinNames.setSelection(n1);            // set the position\n  }else if(t ==1){\n    spinNames.setAdapter(names2Adapter);\n    int n2 = names1Adapter.getPosition(tName);\n    spinNames.setSelection(n2);\n  }else{\n    spinNames.setAdapter(names3Adapter);\n    int n3 = names3Adapter.getPosition(tName);\n    spinNames.setSelection(n3);\n  }\n\n}// end populate\n\n} // end class\n</code></pre>\n\n<p>The spinners all work but they do not end up on the value with tName i am returning.</p>\n\n<p>Can anyone help with this?</p>\n\n<p>** I am logging the name returned from the db and using it to find the index of the item in my error and i return the correct value, yet the spinner still defaults to 0**</p>\n\n<p>Anyone know what my error may be? please</p>\n\n<p>I checked my logcat and i am getting Tag='TextLayoutCache' Text='computeValuesWithHarfBuzz -- need to force to single run' error when trying to set the selection of my spinner</p>\n"},{"tags":["sqlite","blackberry"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":23,"score":-1,"question_id":12975461,"title":"Checking condition to find out duplicate database entry in Blackberry Sqlite","body":"<p>Im very new to blackberry apps development. How we can check the duplicate entries in Sqlite db? Can anyone help me to find out this with eg code</p>\n"},{"tags":["android","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":4,"view_count":65,"score":-3,"question_id":12972342,"title":"Getting data from android.database.sqlite.sqlitecursor@44eLLkkD in a TextView","body":"<pre><code>Please see my MainScreen.java... I get the error like\n\n\n\n\n\n    public class MainScreen extends Activity\n{\n\n    ImageButton imgScanButton,imgMyOffersButton;\n    SQLiteDatabase db;\n    DatabaseHelper dbHelper;\n    protected String[] columns;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) \n    {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.mainscreen);\n         db=dbHelper.getWritableDatabase();\n        //db = dbHelper.getReadableDatabase();\n        try{\n\n              }catch(SQLException e)\n              {\n                  e.getMessage();\n              }\n        imgScanButton = (ImageButton) findViewById(R.id.imgbtnScan);\n        imgMyOffersButton = (ImageButton) findViewById(R.id.imgbtnMyOffers);\n\n\n        try {\n\n        } catch (SQLException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        imgScanButton.setOnClickListener(new OnClickListener()\n        {\n\n            public void onClick(View v) \n                    {\n\n                 Cursor cursor = db.rawQuery(\"select * from Temp06\", null);\n                 if(cursor !=null &amp;&amp; cursor.moveToFirst()){\n\n                        TextView tv = (TextView) findViewById(R.id.textView1);\n                        tv.setText(cursor.getString(0));\n                        TextView tv1 = (TextView) findViewById(R.id.textView2);\n                        tv1.setText(cursor.getString(1));\n                    }\n                    }\n                });\n\n            db.close(); \n\n            }\n</code></pre>\n\n<p>error is</p>\n\n<pre><code>    10-19 16:24:07.552: E/AndroidRuntime(2155): FATAL EXCEPTION: main\n10-19 16:24:07.552: E/AndroidRuntime(2155): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.checkinfo/com.example.checkinfo.MainScreen}: java.lang.NullPointerException\n10-19 16:24:07.552: E/AndroidRuntime(2155):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2663)\n10-19 16:24:07.552: E/AndroidRuntime(2155):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2679)\n10-19 16:24:07.552: E/AndroidRuntime(2155):     at android.app.ActivityThread.access$2300(ActivityThread.java:125)\n10-19 16:24:07.552: E/AndroidRuntime(2155):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2033)\n10-19 16:24:07.552: E/AndroidRuntime(2155):     at android.os.Handler.dispatchMessage(Handler.java:99)\n10-19 16:24:07.552: E/AndroidRuntime(2155):     at android.os.Looper.loop(Looper.java:123)\n10-19 16:24:07.552: E/AndroidRuntime(2155):     at android.app.ActivityThread.main(ActivityThread.java:4627)\n10-19 16:24:07.552: E/AndroidRuntime(2155):     at java.lang.reflect.Method.invokeNative(Native Method)\n10-19 16:24:07.552: E/AndroidRuntime(2155):     at java.lang.reflect.Method.invoke(Method.java:521)\n10-19 16:24:07.552: E/AndroidRuntime(2155):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)\n10-19 16:24:07.552: E/AndroidRuntime(2155):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)\n10-19 16:24:07.552: E/AndroidRuntime(2155):     at dalvik.system.NativeStart.main(Native Method)\n10-19 16:24:07.552: E/AndroidRuntime(2155): Caused by: java.lang.NullPointerException\n10-19 16:24:07.552: E/AndroidRuntime(2155):     at com.example.checkinfo.MainScreen.onCreate(MainScreen.java:74)\n10-19 16:24:07.552: E/AndroidRuntime(2155):     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)\n10-19 16:24:07.552: E/AndroidRuntime(2155):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2627)\n</code></pre>\n"},{"tags":["android","sql","sqlite","random"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":86,"score":1,"question_id":12974202,"title":"get random no between range without duplicate","body":"<p>All \n     I want logical help. I have 100 row in database and get all rows random ally without duplication I have used below code.</p>\n\n<pre><code>public ArrayList&lt;Rows&gt; getRows(){\n    ArrayList&lt;Rows&gt; myRaw=new ArrayList&lt;Rows&gt;();\n    Cursor rawCursor=this.db.query(DB_TABLE, null, null, null, null, null, null);\n    if(rawCursor.getCount()&gt;0){\n        Random rng = new Random();\n        rawCursor.moveToFirst();\n        do {\n\n             // Ideally just create one instance globally\n            ArrayList&lt;Rows&gt; generated = new ArrayList&lt;Raws&gt;();\n            for (int i = 0; i &lt; 371; i++)\n            {\n                while(true)\n                {\n                    Integer next = rng.nextInt(371) + 1;\n                    rawCursor.moveToPosition(next);\n                    Rows raw=new Raws(rawCursor.getInt(rawCursor.getColumnIndex(\"_id\")),rawCursor.getString(rawCursor.getColumnIndex(\"raw\")),rawCursor.getInt(rawCursor.getColumnIndex(\"fav\")));\n                    if (!generated.contains(raw))\n                    {\n                        // Done for this iteration\n                        generated.add(raw);\n                        break;\n                    }\n                }\n            }\n\n            myRaw=generated;\n\n        } while (rawCursor.moveToNext());\n        rawCursor.close();\n    }\n    return myRaw;\n}\n</code></pre>\n\n<p>Thanks All</p>\n"},{"tags":["android","sqlite","phonegap"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":60,"score":1,"question_id":12971248,"title":"check whether record exist or not if exists update it or else inser it in phonegap","body":"<p>I have written a code that inserts values in sqlite database and displays it. Now what i want to do is check whwther the values i am inserting is present or not if it is present then update that value or else insert if it is a new value.How can i do it in phonegap. Below is the code i have written.</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;Contact Example&lt;/title&gt;\n\n        &lt;script type=\"text/javascript\" charset=\"utf-8\" src=\"cordova-1.5.0.js\"&gt;&lt;/script&gt;\n        &lt;script src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.5.2/jquery.min.js\"&gt;&lt;/script&gt;\n        &lt;script type=\"text/javascript\" charset=\"utf-8\"&gt;\n\n            //add listener when device ready\n            document.addEventListener(\"deviceready\", onDeviceReady, false);\n            var db = window.openDatabase(\"Dummy_DB\", \"1.0\", \"Just a Dummy DB\", 200000); //will create database Dummy_DB or open it\n\n            //function will be called when device ready\n            function insertdata(){\n                //alert(\"hi\");\n                var name = $('#name').val();\n                var passwd = $('#pwd').val();\n\n                if(name == \"\")\n                {\n                    alert(\"Please enter name\");\n                }\n\n                if(passwd == \"\")\n                {\n                    alert(\"Please enter Password\");\n                }\n                if(name != \"\" &amp;&amp; passwd != \"\"){\n                db.transaction(populateDB, errorCB, successCB);\n                }\n            }\n\n            function onDeviceReady(){\n                document.getElementById(\"submit\").addEventListener(\"click\", insertdata, false);\n\n            }\n\n            //create table and insert some record\n            function populateDB(tx) {\n                tx.executeSql('CREATE TABLE IF NOT EXISTS Login (id INTEGER PRIMARY KEY AUTOINCREMENT, Name TEXT NOT NULL, Password TEXT NOT NULL)');\n                //tx.executeSql('INSERT INTO SoccerPlayer(Name,Club) VALUES (\"Alexandre Pato\", \"AC Milan\")');\n               // tx.executeSql('INSERT INTO SoccerPlayer(Name,Club) VALUES (\"Van Persie\", \"Arsenal\")');\n                //tx.executeSql('DELETE FROM SoccerPlayer');\n                var name = $('#name').val();\n                var passwd = $('#pwd').val();\n\n\n\n                tx.executeSql('INSERT INTO Login (Name,Password) VALUES (\"'+name+'\",\"'+ passwd +'\")');\n                $('#name').val('');\n                $('#pwd').val('');\n\n            }\n\n            //function will be called when an error occurred\n            function errorCB(err) {\n               // alert(\"Error processing SQL: \"+err.code);\n            }\n\n            //function will be called when process succeed\n            function successCB() {\n                alert(\"success!\");\n                db.transaction(queryDB,errorCB);\n            }\n\n            //select all from SoccerPlayer\n            function queryDB(tx){\n                tx.executeSql('SELECT * FROM Login',[],querySuccess,errorCB);\n            }\n\n\n            function querySuccess(tx,result){\n                $('#SoccerPlayerList').empty();\n                $.each(result.rows,function(index){\n                       var row = result.rows.item(index);\n                       $('#SoccerPlayerList').append('&lt;li&gt;&lt;a href=\"#\"&gt;&lt;h3 class=\"ui-li-heading\"&gt;'+row['Name']+'&lt;/h3&gt;&lt;/a&gt;&lt;/li&gt;');\n                       });\n\n                $('#SoccerPlayerList').listview();\n            }\n\n\n            &lt;/script&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;div data-role=\"page\"&gt;\n                  &lt;div data-role=\"header\" data-position=\"fixed\" data-theme=\"b\"&gt;\n                    &lt;h1&gt;Login&lt;/h1&gt;\n                  &lt;/div&gt;\n            &lt;div&gt;Name: &lt;input type=\"text\" id=\"name\"&gt;&lt;/div&gt;\n            &lt;div&gt;Password: &lt;input type=\"password\" id=\"pwd\"&gt;&lt;/div&gt;\n            &lt;input type=\"submit\" id=\"submit\"&gt;\n              &lt;div data-role=\"content\"&gt;\n                     &lt;ul id=\"SoccerPlayerList\"&gt;\n                            &lt;/ul&gt;\n                      &lt;/div&gt;\n                &lt;/div&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Can you please tell me how can i modify the above code to check the condition.</p>\n"},{"tags":["python","sqlite","sqlite3","python-2.7"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":12966553,"title":"Error loading SQLite to Python","body":"<p>I'm trying to use SQLite with python and I'm going over examples from the python website. One example is to build a shell for SQLite:\n<a href=\"http://docs.python.org/library/sqlite3.html#module-functions-and-constants\" rel=\"nofollow\">py</a></p>\n\n<p>This is the beginning of the script</p>\n\n<pre><code>import sqlite3\n\ncon = sqlite3.connect(\":memory:\")\ncon.isolation_level = None\ncur = con.cursor()\n</code></pre>\n\n<p>I'm loading the file from a text editor, and I'm confused by the error that I get when I import the file.</p>\n\n<pre><code>&gt;&gt;&gt;import SQLoad\nTraceback (most recent call last):\nFile\"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nFile \"SQLoad.py\", line 1, in &lt;module&gt;\n  c = conn.cursor()\nNameError: name 'conn' is not defined\n</code></pre>\n\n<p>I'm confused because 'conn' isn't being defined in what I'm uploading. Is it something that has to be defined?</p>\n"},{"tags":["android","sqlite","system.data.sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":56,"score":0,"question_id":12969662,"title":"I have table called temp, which have only two columns: emailid and password","body":"<p>It is created on one first activity main.java. I want to get this <code>emailid</code> and <code>password</code> in another activity called arclist.java. How? Here is my code for fetch data from table Temp, but it gives an error:</p>\n\n<pre><code>public class MainScreen extends Activity\n</code></pre>\n\n<p>{</p>\n\n<pre><code>//protected static final String Temp1 = null;\n//protected static final String Temp1 =null;\nImageButton imgScanButton,imgMyOffersButton;\nSQLiteDatabase db;\nDatabaseHelper dbHelper;\nprotected String emailid;\nprotected String[] columns;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) \n{\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.mainscreen);\n     db=dbHelper.getWritableDatabase();\n    //db = dbHelper.getReadableDatabase();\n    try{\n          //db=openOrCreateDatabase(\"baab\",SQLiteDatabase.CREATE_IF_NECESSARY,null);\n          //db.openDatabase();\n         // db.execSQL(\"Create Table Temp1(emailid integer,Password integer)\");\n          }catch(SQLException e)\n          {\n              e.getMessage();\n          }\n    imgScanButton = (ImageButton) findViewById(R.id.imgbtnScan);\n    imgMyOffersButton = (ImageButton) findViewById(R.id.imgbtnMyOffers);\n\n    CursorFactory factory;\n    try {\n\n    } catch (SQLException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n    imgScanButton.setOnClickListener(new OnClickListener()\n    {\n\n\n\n         public void onClick(View arg0) \n                {\n\n             Cursor c=db.query(\"Temp01\", columns, null, null, null, null, null);\n            // Cursor cursor = db.query(\"Temp4\", columns,\n                     // null, null, null, null, null);\n                    TextView tv = (TextView) findViewById(R.id.textView1);\n                    tv.setText(c.getString(0));\n                    c.moveToFirst();\n                }\n            });\n\n        db.close(); \n\n        }\n</code></pre>\n\n<p>Logcat and its force close:</p>\n\n<pre>\n    10-19 13:12:06.992: E/AndroidRuntime(24732): FATAL EXCEPTION: main\n 10-19 13:12:06.992: E/AndroidRuntime(24732): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.checkinfo/com.example.checkinfo.MainScreen}: java.lang.NullPointerException\n 10-19 13:12:06.992: E/AndroidRuntime(24732):   at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2663)\n 10-19 13:12:06.992: E/AndroidRuntime(24732):   at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2679)\n 10-19 13:12:06.992: E/AndroidRuntime(24732):   at android.app.ActivityThread.access$2300(ActivityThread.java:125)\n 10-19 13:12:06.992: E/AndroidRuntime(24732):   at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2033)\n 10-19 13:12:06.992: E/AndroidRuntime(24732):   at android.os.Handler.dispatchMessage(Handler.java:99)\n 10-19 13:12:06.992: E/AndroidRuntime(24732):   at android.os.Looper.loop(Looper.java:123)\n 10-19 13:12:06.992: E/AndroidRuntime(24732):   at android.app.ActivityThread.main(ActivityThread.java:4627)\n 10-19 13:12:06.992: E/AndroidRuntime(24732):   at java.lang.reflect.Method.invokeNative(Native Method)\n 10-19 13:12:06.992: E/AndroidRuntime(24732):   at java.lang.reflect.Method.invoke(Method.java:521)\n 10-19 13:12:06.992: E/AndroidRuntime(24732):   at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)\n 10-19 13:12:06.992: E/AndroidRuntime(24732):   at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)\n 10-19 13:12:06.992: E/AndroidRuntime(24732):   at dalvik.system.NativeStart.main(Native Method)\n 10-19 13:12:06.992: E/AndroidRuntime(24732): Caused by: java.lang.NullPointerException\n 10-19 13:12:06.992: E/AndroidRuntime(24732):   at com.example.checkinfo.MainScreen.onCreate(MainScreen.java:38)\n 10-19 13:12:06.992: E/AndroidRuntime(24732):   at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)\n 10-19 13:12:06.992: E/AndroidRuntime(24732):   at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2627)\n</pre>\n"},{"tags":["android","sqlite","cursor","ormlite"],"answer_count":3,"favorite_count":10,"up_vote_count":11,"down_vote_count":0,"view_count":2159,"score":11,"question_id":7159816,"title":"Android Cursor with ORMLite to use in CursorAdapter","body":"<p>Is there any way, how to get Cursor for a query, which I am processing with ORMLite Dao object?</p>\n"},{"tags":["python","api","sqlite","dump"],"answer_count":5,"favorite_count":2,"up_vote_count":14,"down_vote_count":0,"view_count":11855,"score":14,"question_id":305378,"title":"get list of tables, db schema, dump etc in sqlite databases","body":"<p>For some reason I can't find online or in the docs the way to get the equivalents of sqlite's interactive shell commands:</p>\n\n<pre><code>.tables\n.dump\n</code></pre>\n\n<p>in sqlite's APIs. </p>\n\n<p>Is there anything like that? Am I missing something?</p>\n"},{"tags":["json","sqlite","extjs4","sencha-touch-2"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":96,"score":1,"question_id":12972491,"title":"How to use Sqlite in Sencha Touch 2","body":"<p>How can we use sqlite with sencha touch 2 for storing data in json coming from server??</p>\n\n<p>Is there any samples on it??</p>\n"},{"tags":["vb.net","sqlite","garbage-collection"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":48,"score":1,"question_id":12969498,"title":"VB.NET copy byte array","body":"<p>I am retrieving a Byte Blob from an SQLite database/record set.\nI am not experienced with garbage collection yet.</p>\n\n<p>When I say:</p>\n\n<pre><code>Dim bt() As Byte\nbt = r.fields(\"mybyteblob\").value\n</code></pre>\n\n<p>... is that okay or unsafe?\nI would like to make a copy of the byte array in the record set field, and I am not sure if I am simply referencing the byte array here instead of copying it.</p>\n"},{"tags":["android","sqlite"],"answer_count":2,"favorite_count":1,"up_vote_count":7,"down_vote_count":0,"view_count":7037,"score":7,"question_id":3016606,"title":"Loading SQLite Database into Android App","body":"<p>I am able to create, write and read an SQLite Database in my Android App. I have a copy of the Database that is fully populated with data, and I want to get that data into the App's Database. Is it possible to access my pouplaed database from inside my App? Or can I at least create a copy of the populated database and then use that copy? Or do I need to do a .dump and put all the inserts into the Android code? </p>\n"},{"tags":["android","sqlite"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":60,"score":0,"question_id":12971424,"title":"How To Use External SQlite Database In android/jquery mobile Application","body":"<p>Hello guys please am new to mobile application and i want to create an hymn application with jquery mobile and phoneGap which allows users to read hymns on their device just the way they read bible.. But am having problem with the sqlite(all the tutorial ve seen only shows database creation wen the application starts) And since id be having a large database file,please i need help on how to go about this. I come from A PHP/Mysql background..Thank you for your help. Please if its nt possible in jquery mobile can u tell me how to use it in Android? Thanks  </p>\n"},{"tags":["java","android","sql","sqlite","android-sqlite"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":41,"score":1,"question_id":12971261,"title":"SQLITE fetch statement in Android not working","body":"<p>I have everything working in my DBHelper class except for my fetch statement. I get a red line under query. What am I doing wrong here?</p>\n\n<pre><code>public Cursor fetchAllItems() {\n        return mDb.query(DATABASE_TABLE, new String[] { KEY_ITEM, KEY_PRIORITY,\n                KEY_ROWID }, null, null);\n    }\n</code></pre>\n"},{"tags":["javascript","sqlite","google-chrome","web-sql"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":12971180,"title":"Google Chrome freezes when inspecting WebSQL Database","body":"<p>I'm inserting a new row in a WebSQL Database, which works perfectly fine (the data is accessible later on and is correct), but when I try to inspect the WebSQL Table in Google Chrome's \"Resources\" tab, the whole Tool freezes. \nThe odd thing is: I use literally the same syntax on another table which doesn't cause it to freeze.</p>\n\n<p>The table it freezes on is the biggest table, but with 25 columns it's still well below any technical limits. And, afterall, the data seems to be stored just fine – it's just that Chrome crashes.</p>\n\n<p>Has anyone else experienced that and/or knows about known Chrome bugs causing this? I spent hours looking through my code now, but a) I can't find any mistakes and b) I <em>literally</em> use the same structure on another table (with less columns) without any problems.</p>\n\n<p>Edit: Also, right-clicking on anything in the developer tools only opens an empty context menu. Doesn't really look like that's how it's supposed to be either. I'm running Ubuntu, if that's somehow relevant.</p>\n\n<p>Edit2: After continuing to look for an explanation I stumbled across this: <a href=\"http://code.google.com/p/chromium/issues/detail?id=111468\" rel=\"nofollow\">http://code.google.com/p/chromium/issues/detail?id=111468</a></p>\n\n<p>Thanks in advance</p>\n"},{"tags":["iphone","xcode","sqlite","crash","exc-bad-access"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":133,"score":2,"question_id":10950941,"title":"EXC_BAD_ACCESS in sqlite_step(statement)","body":"<p>I am using sqlite database for iphone app. but its crash on \"while loop\" line while retrieving data from database sometimes.</p>\n\n<pre><code>-(void)GetMethod\n{\n\n    NSString *query = [[NSString alloc] initWithFormat:@\"SELECT * FROM errorlogs\"];\n    sqlite3_stmt *statement;    \n    if (sqlite3_prepare_v2(database, [query UTF8String],-1, &amp;statement, nil) == SQLITE_OK) \n    {\n        while (sqlite3_step(statement) == SQLITE_ROW) **// EXC_BAD_ACCESS ON THIS LINE**\n        { \n            char *uid1 = (char *)sqlite3_column_text(statement, 0);\n            NSString *uid = [NSString stringWithFormat:@\"%s\",uid1];\n        }\n    }\n    sqlite3_finalize(statement);\n}\n</code></pre>\n\n<p>why I am getting this EXC_BAD_ACCESS on while loop.</p>\n\n<p><img src=\"http://i.stack.imgur.com/DASgY.png\" alt=\"enter image description here\">\nThanks.</p>\n"},{"tags":["android","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":48,"score":1,"question_id":12960808,"title":"sqlite in android- the table filled not correcty","body":"<p>I have a wired problem.\nI write a code which use sqlite. This is the relevant lines:</p>\n\n<pre><code>  private final String DB_NAME = \"cus\";\n    private final String TABLE_NAME = \"cus2\";\n    SQLiteDatabase customersDB2 = null;\n    /** Called when the activity is first created. */\n    private void mFillDbsTable(){\n        try {\n            customersDB2.execSQL(\"INSERT INTO \" + TABLE_NAME + \" Values ( 1, 'the ', 'ה- ');\");\n            customersDB2.execSQL(\"INSERT INTO \" + TABLE_NAME + \" Values ( 2, 'of ', 'של ');\");\n            customersDB2.execSQL(\"INSERT INTO \" + TABLE_NAME + \" Values ( 3, 'to ', 'אל ');\");\n            customersDB2.execSQL(\"INSERT INTO \" + TABLE_NAME + \" Values ( 4, 'and ', 'ו - ');\");\n            customersDB2.execSQL(\"INSERT INTO \" + TABLE_NAME + \" Values ( 5, 'a ', 'מופיע לפני שם עצם ביחיד ללא הא הידיעה ');\");\n            customersDB2.execSQL(\"INSERT INTO \" + TABLE_NAME + \" Values ( 6, 'in ', 'בתוך ');\");\n            customersDB2.execSQL(\"INSERT INTO \" + TABLE_NAME + \" Values ( 7, 'for ', 'עבור ');\");\n    ................\n    }\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_learn);\n        try {\n            customersDB2 =  this.openOrCreateDatabase(  DB_NAME, MODE_PRIVATE, null);\n            customersDB2.execSQL(\"CREATE TABLE \" +\n                    TABLE_NAME +\n                    \" (Block INT,\" +\n                    \" Name VARCHAR, Street VARCHAR);\");\n            mFillDbsTable();\n}catch (SQLiteException se ) {\n            Log.e(getClass().getSimpleName(), \"create/Open the database problem\");\n}\n</code></pre>\n\n<p>Now, when I ask query:</p>\n\n<pre><code>    correctAnswer=oneTOfour.nextInt(4);\n    Toast.makeText(this,\"correctAnswerק\"+correctAnswer,Toast.LENGTH_SHORT).show();\n    correctAnswerTHE_ANSWER =(r.nextInt(1000)) + 1;\n    Toast.makeText(this,\"correctAnswerTHE_ANSWER\"+correctAnswerTHE_ANSWER,Toast.LENGTH_SHORT).show();\n\n      ArrayList&lt;String&gt; results = new ArrayList&lt;String&gt;();\n    Cursor c = customersDB2.rawQuery(\"SELECT Name, Street  FROM \"    +\n            TABLE_NAME +\n            \" where Block = 66 \", null);\n\n\n    if (c != null ) { //true\n\n         Toast.makeText(this,\"c.getColumnIndex(Name)\" + c.getColumnIndex(\"Name\"),Toast.LENGTH_SHORT).show(); //got 0!!\n         if  (c.moveToFirst()) {   \n            do {\n\n                 name = c.getString(c.getColumnIndex(\"Name\"));\n                 street = c.getString(c.getColumnIndex(\"Street\"));          \n                 results.add(name + \", \" + street );\n            }while (c.moveToNext());\n        }\n    }\n\n    else{\n         Toast.makeText(this,\"null2\",Toast.LENGTH_SHORT).show();\n    }\n\n\n    question.setText(name);  //this is null\n</code></pre>\n\n<p>}</p>\n\n<p><strong>It don't reach the second if</strong>             </p>\n\n<p>Maybe I first ran this app with 2 column only.\nI have tried to open other project, to change the name of the table..nothing work.\nSome ideas?</p>\n"},{"tags":["android","sqlite","character","store","quote"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":43,"score":-1,"question_id":12969738,"title":"Android: store in SQLite a string with the character '","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/12615113/how-to-escape-special-characters-like-in-sqlite-in-android\">How to escape special characters like &#39; in sqlite in android</a>  </p>\n</blockquote>\n\n\n\n<p>I'm using a form to store some values in an Android's SQLite database. If any of the fields contains the character ' an error occurs so I tried to escape it, but the error is still there.</p>\n\n<p>This is my code:</p>\n\n<pre><code>public boolean createCalendar(String id, String name, String descr) {\n    try{\n        String newDescr = descr.replace(\"'\", \"\\\\'\");\n        db.execSQL(\"INSERT INTO Calendar (id, name, description) VALUES \" +\n                \"('\"+id+\"','\"+name+\"','\"+newDescr+\"');\");\n       ...\n    }\n}\n</code></pre>\n\n<p>And this is the error:</p>\n\n<pre><code>sqlite returned: error code = 1, msg = near \"siksjs\": syntax error, db=/data/data/com.pfc.app/databases/SSDB\nandroid.database.sqlite.SQLiteException: near \"siksjs\": syntax error: , while compiling: INSERT INTO Calendar (id, name, description) VALUES ('43779fcb-3d8c-650b-b529-50810506375e','kdldlls','ddk \\' siksjs');\n</code></pre>\n\n<p>How am I supposed to store it?</p>\n\n<p>Thanks!</p>\n"},{"tags":["sql","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":68,"score":0,"question_id":12869874,"title":"How to update multiple rows?","body":"<p>The table looks like this:</p>\n\n<pre><code>status1   status2   status3   element\n  0         1         2       music1\n ...\n</code></pre>\n\n<p>My script extract hundreds of thousands of rows like this, do some processing with them and then write back the new status. The problem is, if i update these rows one by one like this:</p>\n\n<pre><code>UPDATE music_table\n  SET status1 = '10',\n      status2 = '20,\n      status3 = 30\nWHERE element = 'music1';\n</code></pre>\n\n<p>It would take an awful lot of time to finish all. (over 1.5 hours!!)</p>\n\n<p>So the question is, how do I update multiple rows at the same time or is it even possible?</p>\n"},{"tags":["android","query","sqlite"],"answer_count":5,"favorite_count":14,"up_vote_count":22,"down_vote_count":0,"view_count":17781,"score":22,"question_id":1296180,"title":"Android quotes within an sql query string","body":"<p>I want to perform a query like the following:</p>\n\n<pre><code>uvalue = EditText( some user value );\np_query = \"select * from mytable where name_field = '\" +  uvalue + \"'\" ;\nmDb.rawQuery( p_query, null );\n</code></pre>\n\n<p>if the user enters a single quote in their input it crashes.  If you change it to:</p>\n\n<pre><code>p_query = \"select * from mytable where name_field = \\\"\" +  uvalue + \"\\\"\" ;\n</code></pre>\n\n<p>it crashes if the user enters a double quote in their input.\nand of course they could always enter both single and double quotes.</p>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":12949510,"title":"Adding columns to an existing table for another activity use","body":"<p>I have opened an SQLIte database with one single table and it has column for data (String names) and column for id (long id). This one belongs to MainActivity. \nThe next thing I wanna do is to open, in the same table, additional columns (String item) and (int price). This columns will belong to ChildActivity. </p>\n\n<p>My two questions are:</p>\n\n<ol>\n<li><p>Which way to choose - to open two more columns or to store both item and price values in one String[] array and then put it in one column. It should be mentioned that I will need price for separate calculations as well. In my understanding, putting in two separate columns would make it easy to access price. But will id then differ for column item and column price? If yes, it can all become messed up.\nIf I will have both in one String[] array would it be easy to get price (int) value out for calculations?</p></li>\n<li><p>Since I will access ChildActivity from MainActivity by choosing names and getting their id(s), when I will open new columns in already existing table will id for item and price differ from what I already have? If no, then does it mean that I have to open new table with new column(s) for item and price and they will have their own id?</p></li>\n</ol>\n\n<p>I am a new guy in android environment and in studing SQLite, so could you please provide me  with easiest but efficient solution and be tolerant if my questions seems very simple.</p>\n\n<p>Thank you in advance.</p>\n\n<p>TABLE</p>\n\n<pre><code>       MainActivity   =====|====&gt;            ChildActivity\n                           |\nColumn id     Column names | Column (id ?)   Column item  Column (id ?)   Column price\n1             A            |                 item_1                       100\n2             B            |                 item_2                       300\n3             C            |                 item_3                       500\n4             D            |                 item_4                       200\n5             E            |                 item_5                       100\n\n\nAnother way to do\n\nTABLE\n\nColumn id     Column names   Column (id ?)   Column item and price    \n1             A                              String[] item_and_price = {\"item_1\", 100}     \n2             B                              String[] item_and_price = {\"item_2\", 300}     \n3             C                              String[] item_and_price = {\"item_3\", 500}     \n4             D                              String[] item_and_price = {\"item_1\", 200}     \n5             E                              String[] item_and_price = {\"item_1\", 100}     \n</code></pre>\n"},{"tags":["php","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":420,"score":2,"question_id":1997447,"title":"PHP+SQLite sqlite_exec and sqlite_query vs mysql_query","body":"<p>I understand that <code>sqlite_exec</code> is for queries that does not return result set and <code>sqlite_query</code> is for queries that return result set. </p>\n\n<p>However can I use <code>sqlite_query</code> for all kinds of queries just like how <code>mysql_query</code> and are there any side effects to this?</p>\n"},{"tags":["php","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":34,"score":1,"question_id":12966431,"title":"SQLite and PHP listing categories","body":"<p>I want to list each category and the each faq q&amp;a underneath for each category. Right now the code below just list all the q&amp;a by category but not the category name. Is there an easy fix for this? I am a total newbie and would really appreciate some help!</p>\n\n<pre><code>&lt;? $result = sqlite_query($db, \"SELECT * FROM faqs ORDER BY faqcategory DESC\");\n                            while($row = sqlite_fetch_array($result)) {?&gt;\n                            &lt;div class=\"midBoxContent\"&gt;\n                                &lt;ul&gt;\n                                    &lt;li&gt;&lt;?php echo $row['faqquestion'];?&gt;&lt;/li&gt;\n                                &lt;/ul&gt;\n                                &lt;p&gt;&lt;?php echo $row['faqanswer']; ?&gt;&lt;/p&gt;\n</code></pre>\n"},{"tags":["android","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":879,"score":2,"question_id":4824687,"title":"How to include a boolean in a sql lite where clause","body":"<p>This is driving me crazy. I feel like I have tried everything and I get no results. How can I include a boolean conditional in a where clause in sql lite? </p>\n\n<p>I have tried these</p>\n\n<pre><code>\"Select * from table where col = 1\"\n\"Select * from table where col = '1'\"\n\"Select * from table where col = true\"\n\"Select * from table where col = 'true'\"\n\"Select * from table where col = 'True'\"\n\"Select * from table where col is True\"\n</code></pre>\n\n<p>Nothing. I even tried including \"true\" as the whereArgs in a query function.</p>\n\n<p>Anybody done this before?</p>\n"},{"tags":["android","sqlite","mobile","thread-safety","old"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":22,"score":1,"question_id":12965751,"title":"Android application generates .old extension on file","body":"<p>I have an Android Application, that communicates with a server developed in Java J2EE.\nThe mobile application manipulates threads and sincronization task, thats read and written in a sqlite database.\nThe problem is that in severals ocations the database is corrupt, and the extension file is changed to .old. This represents a difficult problem because its the application is crashed and the data is lost.\nCan you recommended an idea of how procced in this cases?\nRegard, and sorry by my english!</p>\n"},{"tags":["sqlite","nhibernate","structuremap"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":40,"score":3,"question_id":12945990,"title":"NHibernate, Sqlite, missing tables and IOC fun","body":"<p>I'm doing unit testing on a class library that uses NHibernate for persistence. NHibernate is using a Sqlite in-memory database for testing purposes. Under normal circumstances, it's easy to get StructureMap to kick out a session for me.</p>\n\n<p>However, because I'm using the in-memory database to improve testing speed, I need to have a single session available for the duration of a test (because it blows the database away when I create a new one). And there is another wrinkle. The case that is currently burning me is testing a custom NHibernate-based ASP.NET membership provider. These are created apparently once per AppDomain, so I shouldn't inject the session into it, for obvious reasons.</p>\n\n<p>Is there a way in structuremap to tell it to get rid of an instance of a particular type while still maintaining the bits that tell it how to instantiate that type? Really, if I could get away with it, I would just make it act like the HttpScoped object lifetime, but apparently I can only do that within the context of an Http request. Is there a straightforward way to manually control the lifetime of an object coming out of structuremap?</p>\n\n<p>I apologize for the length of this and the possibility that it is a dumb question. I'm solo on this project, so I don't really have anyone to bounce ideas off of.</p>\n"},{"tags":["android","multithreading","sqlite","thread-safety"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12963572,"title":"Android Sqlite handler in separate thread?","body":"<p>My app requires high data throughput.  It receives an incoming data stream over bluetooth and has to parse it, scale it, display it, and store the data.</p>\n\n<p>After reading up on different storage methods, I've decided to try to use Sqlite for data storage.  I've read up and it seems to get the best write performance, I should use transactions.  </p>\n\n<p>But before I even go there, I'm wondering if the DB handler should just be in it's own thread. The BT data processing is already in a separate thread and works well. I see a lot of discussions about accessing sqlite from multiple threads, but I'm thinking I want one thread handling the DB connection and just use intents to get/store data..mostly just to disconnect the display from the data storage.  </p>\n\n<p>Will this increase my performance, or is it not worth it?</p>\n\n<p>I'm guessing I'll be writing 20-50 rows a second with up to 19 fields.</p>\n"},{"tags":["sqlite","asynchronous","air","adobe","execute"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":39,"score":1,"question_id":12944145,"title":"Adobe Air SQLite Misunderstanding","body":"<p>I am attempting to use a SQLite DB with an AIR project and there seem to be a few questions that I just can't seem to find the answers to on the internet, especially ones concerning best practices.</p>\n\n<ol>\n<li><p>The first is about having multiple connections in the same application instance.  Some application processes require the use of a db for a split second, and would better be served by a synchronous type code flow (try{}catch(){}).  Some processes may take awhile and would be better served by an asynchronous code flow with an AsyncResponder.</p>\n\n<p>Because of this, I have thought about having a ConnectionPoolManager which would have multiple instances of async and one instance of my sync SQLConnection classes.  Is this a decent, good or absolutely atrocious idea ?  This leads me to my next point.</p></li>\n<li><p>Is there any issue of having multiple async connections running their async statements in parallel ?  I've seen some people complain about the db being locked, and I've read that only one statement can perform a write at a time. </p>\n\n<p>What happens if a write statement gets called to execute(new Async...) while another one is busy ?  Will an error be thrown, or will it wait for a timeout ?</p></li>\n</ol>\n\n<p>Any clarification about this issue would be greatly appreciated.  I keep running into sources that kind of answer one-off questions but not my question in particular.  Usually I would go test it myself, but I'm worried I may not be able to reproduce the pitfall error that will only manifest itself at heavier usage levels.</p>\n\n<p>EDIT: Here is some documentation concerning the issue I found after wasting half the day. <a href=\"http://help.adobe.com/en_US/as3/dev/WS5b3ccc516d4fbf351e63e3d118666ade46-7d2b.html\" rel=\"nofollow\">Adobe Doc</a></p>\n"},{"tags":["c#","winforms","sqlite","sqlite3","commercial"],"answer_count":3,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":475,"score":4,"question_id":5377788,"title":"Is SQLite reliable for a commercial application?","body":"<p>I am currently testing SQLite and considering to use it for a commercial C# WinForms application. I am aware of the concurrency issues, where the database is locked whenever a write occurs. </p>\n\n<p>Beyond these, is SQLite reliable for a commercial application? I am interested in hearing of any experience in deploying SQLite commercially with an application.</p>\n"},{"tags":["sqlite","html5","manifest"],"answer_count":4,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":1157,"score":2,"question_id":2758931,"title":"HTML5: Can an SQlite database be specified in a manifest's Cache section?","body":"<p>I'd like to be able to specify an SQLite database as a resource in the CACHE section of a manifest file. This would allow the script on the page to use the database in offline mode.</p>\n\n<p>I cannot find anything in the HTML5 spec that says this cannot be done, but I haven't had any success in getting it working either.</p>\n\n<p>Is it possible?</p>\n"},{"tags":["sql","sqlite","sqlite3"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":40,"score":1,"question_id":12960568,"title":"insert table name into column","body":"<p>I have three tables. The first two tables have similar data but they come from different sources and they do not have the same amount of columns. I am using the third table to gather data from the other two tables. I would like a column in the third table that has the name of the table that the data came from.</p>\n\n<p>Example:\ntable_1 contains the following data in the following order.</p>\n\n<blockquote>\n  <p>(ID, data_1, data_2, data_3, data_4, data_5)</p>\n</blockquote>\n\n<p>table_2 contains the following data in the following order.</p>\n\n<blockquote>\n  <p>(ID, data_3, data_1, data_5, data_2, data_4, data_6, data_7)</p>\n</blockquote>\n\n<p>I gather the data I need from both tables, table_3 has the same amount of columns as table_1.</p>\n\n<p>First from table_1</p>\n\n<pre><code>INSERT INTO table_3\nSELECT * FROM table_1\n</code></pre>\n\n<p>Then from table_2</p>\n\n<pre><code>INSERT INTO table_3\nSELECT ID, data_1, data_2, data_3, data_4, data_5\nFROM table_2\n</code></pre>\n\n<p>This is working and I have no problem with it. I would like to create a column in table_3 however that holds the name of the table that the data was taken from. I am not sure how to go about this. I added another column to table_3 so it now has a col_6 and then thought I could update that column manually but it is not working. This is what I tried.</p>\n\n<pre><code>UPDATE table_3\nSET col_6 = 'table_1'\nWHERE table_3.col_1 = table_1.col_1\n\nUPDATE table_3\nSET col_6 = 'table_2'\nWHERE table_3.col_1 = table_2.col_1\n</code></pre>\n\n<p>Any help with this would be great, thank you.</p>\n"},{"tags":["objective-c","sqlite","core-data"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":94,"score":2,"question_id":12866865,"title":"How queries on unsaved data work in Core Data with SQLite store?","body":"<p>Until managed object context is sent <code>save:</code> message, modifications made to managed objects are only in memory and not committed to the database. How it performs queries on the database then? It has to perform standard SQL query, then query on unsaved objects and merge results, and this should be very slow.</p>\n\n<p>UPDATE:\nFor example, I have Article &lt;-> Tag many-to-many relationship and I have number of unsaved Articles. Then I want to find all articles having some tag or between some dates. In database this would be a query on our relationship table or on date field and will use appropriate indexes. But for unsaved objects it would have to iterate over all unsaved articles and/or their tags? Or for unsaved objects it also has some database-like storage?</p>\n"},{"tags":["c#","sqlite",".net-4.0"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":73,"score":0,"question_id":12957091,"title":"Retrieve all ids without iterating?","body":"<p>I have one table with almost 2 million records on my SQLite database, some records have null birthday and I would like to fix with data from antoher database since the ids are the same on both I can reference it for this update.</p>\n\n<p>However I am having an issue for reading and I believe I will have antoher for updating it.</p>\n\n<p>Reading issue, is there a way to get all the ids from the result without having to read 1 by 1 ? </p>\n\n<p>Query being executed is (birthday is indexed):</p>\n\n<pre><code>SELECT id FROM personal WHERE birthday IS NULL OR birthday = ''\n</code></pre>\n\n<p>Currently I do this to retrieve all ids (which take something like 3 minutes for the first 300k records and then increase to something like 9 minutes for 250k records and keep growing the delay):</p>\n\n<pre><code>while (reader.Read())\n{\n    ids.Add(reader.GetInt32(0));\n}\n</code></pre>\n\n<p>After I will reuse the ids list to execute an update to each record with the correct birthday which I assume I will run into the same issue, it will take a long time to get it done by inserting 1 by 1, which bring us to what I believe that will be the second issue.</p>\n\n<p>Is there a fast way to update all the records with the needed data ?</p>\n\n<p><strong>NOTE: the birthdays I will read for updating the SQLITE will come from a remote MySQL server and as such I cannot link the 2 in 1 query like update select etc.</strong></p>\n\n<p>Table format is:</p>\n\n<pre><code>id\nfirst_name\nlast_name\nbirthday\nemail\nstatus\n</code></pre>\n\n<p><strong>When I run the same query on SQLite Admin it takes 2371ms to spit all the data, so I assume I must be reading it wrong or reading 1 by 1 must be hurting it really bad.</strong></p>\n"},{"tags":["android","sqlite","android-asynctask"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":60,"score":1,"question_id":12958693,"title":"logically true but 'if statement' with a method making my app crash","body":"<p>I have an AsyncTask class inside my MapActivity. Inside the doInBacground() method I have to blocks of codes. </p>\n\n<p>It looks like this: </p>\n\n<pre><code>        @Override\n        protected List&lt;GeoPoint&gt; doInBackground(String... arg0) {\n\n\n            // check if the  query (word and the distance) exicting quries and return its id \n            int checkQuery = db.getQueryMatch(arg0[3].toString() , arg0[2].toString());\n            Log.v(\" CheckQuery int \", \" equal? \" + checkQuery );\n            if (checkQuery  &lt; 1) \n            {\n\n                  Block 1\n             }else{ \n                     Block 2\n             }\n</code></pre>\n\n<p>getQueryMatch method will check if two text fields exist then retune the record ID. </p>\n\n<pre><code>int getQueryMatch(String word, String meter) {\n    SQLiteDatabase db = this.getReadableDatabase();\n    int getidd = 0; \n    Cursor cursor = db.query(TABLE_HISTORY, new String[] { KEY_ID, QUERYWORD, DISTANCEQ, KEY_TIMESTAMP }, QUERYWORD + \"=? AND \" + DISTANCEQ + \"=?\", new String[] { word, meter  }, null, null, null, null);\n    //String selectQuery = \"SELECT *  FROM \" + TABLE_HISTORY + \" WHERE \" + QUERYWORD +  \"= '\" + word + \"' AND \" + DISTANCEQ + \"= '\"+ meter +\"'\"   ;\n    if (cursor != null)\n        cursor.moveToFirst();\n    getidd = Integer.parseInt(cursor.getString(0));\n\n    db.close(); // Closing database connection\n\n    // return History\n    return getidd;\n}\n</code></pre>\n\n<p>When I tested it without the <strong>if statement</strong> in the AsyncTask class , it works just fine. It makes the app crashing if the returned value is 0.\nSo what I am trying to do is to have block 1 running if there is no records found from the DB (checked by getQueryMatch ) otherwise run block 2. </p>\n\n<p>Here are the errors:</p>\n\n<pre><code>10-19 02:47:50.464: E/AndroidRuntime(11967): FATAL EXCEPTION: AsyncTask #2\n10-19 02:47:50.464: E/AndroidRuntime(11967): java.lang.RuntimeException: An error occured while executing doInBackground()\n10-19 02:47:50.464: E/AndroidRuntime(11967):    at android.os.AsyncTask$3.done(AsyncTask.java:299)\n10-19 02:47:50.464: E/AndroidRuntime(11967):    at java.util.concurrent.FutureTask$Sync.innerSetException(FutureTask.java:273)\n10-19 02:47:50.464: E/AndroidRuntime(11967):    at java.util.concurrent.FutureTask.setException(FutureTask.java:124)\n10-19 02:47:50.464: E/AndroidRuntime(11967):    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:307)\n10-19 02:47:50.464: E/AndroidRuntime(11967):    at java.util.concurrent.FutureTask.run(FutureTask.java:137)\n10-19 02:47:50.464: E/AndroidRuntime(11967):    at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:230)\n10-19 02:47:50.464: E/AndroidRuntime(11967):    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1076)\n10-19 02:47:50.464: E/AndroidRuntime(11967):    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:569)\n10-19 02:47:50.464: E/AndroidRuntime(11967):    at java.lang.Thread.run(Thread.java:856)\n10-19 02:47:50.464: E/AndroidRuntime(11967): Caused by: android.database.CursorIndexOutOfBoundsException: Index 0 requested, with a size of 0\n10-19 02:47:50.464: E/AndroidRuntime(11967):    at android.database.AbstractCursor.checkPosition(AbstractCursor.java:418)\n10-19 02:47:50.464: E/AndroidRuntime(11967):    at android.database.AbstractWindowedCursor.checkPosition(AbstractWindowedCursor.java:136)\n10-19 02:47:50.464: E/AndroidRuntime(11967):    at android.database.AbstractWindowedCursor.getString(AbstractWindowedCursor.java:50)\n10-19 02:47:50.464: E/AndroidRuntime(11967):    at com.example.phooogle.DatabaseHandler.getQueryMatch(DatabaseHandler.java:148)\n10-19 02:47:50.464: E/AndroidRuntime(11967):    at com.example.phooogle.GoogleMapsAppActivity$InitTask.doInBackground(GoogleMapsAppActivity.java:142)\n10-19 02:47:50.464: E/AndroidRuntime(11967):    at com.example.phooogle.GoogleMapsAppActivity$InitTask.doInBackground(GoogleMapsAppActivity.java:1)\n10-19 02:47:50.464: E/AndroidRuntime(11967):    at android.os.AsyncTask$2.call(AsyncTask.java:287)\n10-19 02:47:50.464: E/AndroidRuntime(11967):    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:305)\n</code></pre>\n\n<p>For me it's logically true but not working! </p>\n"},{"tags":["android","sqlite"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":12955930,"title":"android row not updating in sqlite DB","body":"<p>I have an app where i am trying to update a row in the Transactions table in my DB. Here's the table.</p>\n\n<pre><code>//table transactions column names\n    public static final String C_ID = BaseColumns._ID; // special for id internally in system\n    public static final String C_TYPE = \"type\";\n    public static final String C_COMPANY_ID = \"companyid\";\n    public static final String C_PERSON_ID = \"person\";\n    public static final String C_NAME = \"name\";\n    public static final String C_TAG_ID = \"tagid\";\n    public static final String C_STATUS = \"status\";\n    public static final String C_TAG_SCAN_TIME = \"tagscantime\";\n    public static final String C_TAG_SENTSERVER_TIME = \"tagsentservertime\";\n    public static final String C_TRANSACTIONS_LATITUDE = \"transactionslatitude\";\n    public static final String C_TRANSACTIONS_LONGITUDE = \"transactionslongitude\";\n</code></pre>\n\n<p>.</p>\n\n<p>When i insert a row into this table the column C_TAG_SENTSERVER_TIME is set to null. This is because i haven't at this point posted the transaction to the webservice. Once i get the response back from the server, i would like to update the row in the phone's DB with 'sent to server time'. At the moment i try to get the last row in the DB, i then try to get that row's id, that is the passed to the method that updates the row. Currently the result of </p>\n\n<pre><code>String[] param = {c.getString(c.getColumnIndex(LoginValidate.C_ID))};\n</code></pre>\n\n<p>is returnig null. Here's the rest of the update method. Why is the above call returning null?</p>\n\n<pre><code>public void updateTransactionWithServerTime(DateTime sentToServerAt) {\n\n        SQLiteDatabase db = dbhelper.getWritableDatabase();\n\n        Cursor c = null;\n\n        c = db.query(DBHelper.TABLETRANSACTIONS, null, null, null, null, null, null);\n\n        if (c != null ) {\n            if  (c.moveToLast()) {\n                String[] param = {c.getString(c.getColumnIndex(LoginValidate.C_ID))};\n                Log.e(TAG, \"C_ID = \" + param[0]);\n                ContentValues values = new ContentValues();\n                  values.put(C_TAG_SENTSERVER_TIME, sentToServerAt.getMillis());\n\n                 int res =  db.update(DBHelper.TABLETRANSACTIONS, values, LoginValidate.C_ID+\"=?\", param[0]);\n\n                  Log.e(TAG, \"done the update on trans table num of rows affected is \" + res);\n\n            }\n\n         }\n        c.close();\n        db.close();\n    }//end of updateTransactionWithServerTime\n</code></pre>\n\n<p>[edit1]</p>\n\n<pre><code>private class DBHelper extends SQLiteOpenHelper {\n\n        // database name and version number\n        public static final String DB_NAME = \"carefreemobiledb.db\";\n        public static final int DB_VERSION = 26;\n\n        //table names\n        public static final String TABLETRANSACTIONS = \"transactions\";\n        public static final String TABLECARER = \"carer\";\n        public static final String TABLETRANSACTIONSMAP = \"transactionsmap\";\n        public static final String TABLEPHONE = \"phone\";\n\n        // public static final String C_ID = BaseColumns._ID; // special for id\n        // internally in\n        // system\n\n\n        public DBHelper() {\n            super(context, DB_NAME, null, DB_VERSION);\n        }\n\n        @Override\n        public void onCreate(SQLiteDatabase db) {\n            String sqlToCreateTransactionsTable = String\n                    .format(\"create table %s ( %s INT primary key, %s TEXT, %s TEXT, %s TEXT, %s TEXT, %s TEXT,\" +\n                            \" %s TEXT, %s TEXT, %s INT, %s TEXT, %s TEXT )\",\n                            TABLETRANSACTIONS, C_ID, C_TYPE, C_COMPANY_ID, C_PERSON_ID,\n                            C_NAME, C_TAG_ID, C_STATUS, C_TAG_SCAN_TIME, C_TAG_SENTSERVER_TIME,\n                            C_TRANSACTIONS_LATITUDE, C_TRANSACTIONS_LONGITUDE);\n\n            db.execSQL(sqlToCreateTransactionsTable);\n            Log.e(TAG, \"oncreate \" + sqlToCreateTransactionsTable);\n</code></pre>\n"},{"tags":["database","sqlite","select","subselect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":12957050,"title":"Do Subselects make SQlite ignore distincts?","body":"<p>we are facing a strange behaviour in SQLite (Version 3).</p>\n\n<p>We have a table for Vehicles with two columns referencing an engine and a gear.\nOf course there could be more than one vehicle with the same engine gear combination.</p>\n\n<p>I now want to find the distinct combination of engines and gears of the vehicles (and use it for an insert => thats why randomblob(36)).</p>\n\n<p>Example:</p>\n\n<pre><code>Vehicle | EngineId | GearId \n-----------------------------\n    1   |     1    |    1\n    1   |     1    |    2\n    1   |     2    |    1\n    1   |     2    |    2\n    1   |     1    |    2\n    1   |     1    |    2\n</code></pre>\n\n<p>The following select statement results in too many rows:</p>\n\n<pre><code> Select randomblob(36), tmp.EngineId, tmp.GearId from (Select distinct EngineId, GearId from tblVehicle order by EngineId, GearId) as tmp; \n\n\nRandomId| EngineId | GearId \n-----------------------------\n    1   |     1    |    1\n    2   |     1    |    2\n    3   |     2    |    1\n    4   |     2    |    2\n    5   |     1    |    2\n    6   |     1    |    2\n</code></pre>\n\n<p>But the expected result would just be:</p>\n\n<pre><code>RandomId| EngineId | GearId \n-----------------------------\n    1   |     1    |    1\n    2   |     1    |    2\n    3   |     2    |    1\n    4   |     2    |    2\n</code></pre>\n\n<p>If I replace the randomblob(36) with a constant, the result is as expected (of course without a random Id).</p>\n\n<p>Select 2, tmp.EngineId, tmp.GearId from (Select distinct EngineId, GearId from tblVehicle order by EngineId, GearId) as tmp;</p>\n\n<p>Can someone explain me this behaviour of SQLite? Is this the expected behaviour?</p>\n"},{"tags":["android","sqlite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":12958338,"title":"Getting null while reading inserted contacts in SQLite Database","body":"<p>I am using SQLite to maintain the database in my android application.While inserting contacts, it seems to be fine but when i try to read the contacts,i am getting null.This is the code where  i am calling the database:</p>\n\n<pre><code>@Override\npublic void onCreate(Bundle savedInstanceState) \n{\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.mainnew); \n    DeleteDatabase(getBaseContext());\n    text = (TextView)findViewById(R.id.text);\n    long a = 9704635265L;\n    for(int i=1;i&lt;11;i++)\n    {\n        InsertingContacts(getBaseContext(),null,\"Name\"+i, a,(long)10);\n        a++;    \n    }\n    ShowContactsInList(getBaseContext());\n    ReadingAllContacts(getBaseContext());\n    ReadingSingleContact(getBaseContext(),9704635366L);\n    UpdatingSingleContact(getBaseContext(),10000,4);\n    ReadingAllContacts(getBaseContext());\n}\n</code></pre>\n\n<p>This is the method where i am inserting the contacts:</p>\n\n<pre><code>public static void InsertingContacts(Context context,String ParentFolderAddress,String Name,long Number,long time)\n{\n    DatabaseHandler db = new DatabaseHandler( context);\n    Log.d(\"Insert: \", \"Inserting ..\");\n    db.addContact(new Contact(ParentFolderAddress,Name, Number,time));\n}\n</code></pre>\n\n<p>This is the addContact() method:</p>\n\n<pre><code>// Adding new contact\nvoid addContact(Contact contact) {\n    try{\n        SQLiteDatabase db = this.getWritableDatabase();\n\n        ContentValues values = new ContentValues();\n        values.put(KEY_ID, contact.getID());\n        values.put(KEY_FolderAddress, contact.getParentFolderAddress());\n        values.put(KEY_NAME, contact.getName()); // Contact Name\n        values.put(KEY_PH_NO, contact.getPhoneNumber()); // Contact Phone\n        values.put(KEY_TIME, contact.getTime());\n\n        // Inserting Row\n        db.insert(TABLE_CONTACTS, null, values);\n        db.close(); // Closing database connection\n    }\n    catch(Exception e)\n    {\n        //Toast.makeText(context,\"Exception in addContact() method in Databasehandler.java\", Toast.LENGTH_SHORT);\n</code></pre>\n\n<p>}<br>\n    }</p>\n\n<p>This is the \nThis is the ReadingAllContacts()  method:</p>\n\n<pre><code>public static void ReadingAllContacts(Context context)\n    {\n        // Reading all contacts\n        DatabaseHandler db = new DatabaseHandler( context);\n        Log.d(\"Reading: \", \"Reading all contacts..\");\n        List&lt;Contact&gt; contacts = db.getAllContacts();       \n\n        for (Contact cn : contacts) \n        {\n            String log = \"Id: \"+cn.getID()+\" ,FolderAddress:\" +cn.getParentFolderAddress()+\" ,Name: \"+ cn.getName() + \" ,Phone: \" + cn.getPhoneNumber()+\" ,Time: \"+ cn.getTime();\n            // Writing Contacts to log\n            Log.d(\"Name: \", log);\n        }\n    }\n</code></pre>\n\n<p>Please help me.Thanks in advance.</p>\n"},{"tags":["flex","sqlite","actionscript"],"answer_count":0,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":51,"score":3,"question_id":12956899,"title":"Flex : How do bind an Sqlist query at an S:list to an S:Textarea","body":"<p>ok, let me explain clear, that is my frist participation, and i using this site at least 1 year ago, so, now i cannot advance without help, so, let me explain my problem:  </p>\n\n<p>at my flex builder 4.6, i trying to bind data from am sql query, showed in a S:List with an item renderer \"S:Textarea\" , look :</p>\n\n<hr>\n\n<pre><code>&lt;s:List id=\"listapagar\" x=\"304\" y=\"276\" width=\"330\" height=\"42\" borderVisible=\"false\"\n        color=\"#FF0000\" dataProvider=\"{dataProvider}\" enabled=\"false\" fontSize=\"22\"\n        fontStyle=\"italic\" fontWeight=\"bold\" labelField=\"nome\" textAlign=\"center\"\n        textDecoration=\"underline\"&gt;\n    &lt;s:itemRenderer&gt;\n        &lt;fx:Component&gt;\n            &lt;s:ItemRenderer&gt;\n            &lt;s:TextArea id=\"apagar\" width=\"330\" height=\"42\" text=\"R$ {data.valorapagar}\" /&gt;      \n            &lt;/s:ItemRenderer&gt;\n        &lt;/fx:Component&gt;\n    &lt;/s:itemRenderer&gt;\n&lt;/s:List&gt;\n</code></pre>\n\n<hr>\n\n<p>and here, my sql, displayed trough the s:list : </p>\n\n<pre><code>protected function buttonX():void\n        {\n            var sqlConnection:SQLConnection = new SQLConnection();\n            sqlConnection.open(File.applicationDirectory.resolvePath(\"testeDb.sqlite\"));\n\n            var stmt:SQLStatement = new SQLStatement();\n            stmt.sqlConnection = sqlConnection;\n            stmt.text = \"SELECT * FROM comandatual order by numerodatransacao desc limit 1 \";\n            stmt.execute();\n\n            dataProvider = new ArrayCollection(stmt.getResult().data);\n        }\n</code></pre>\n\n<hr>\n\n<p>after it , i trying to take the result showed at the s:TextArea id=\"apagar\" and bind with another text area, to perforn a simple minus calc, like this :</p>\n\n<hr>\n\n<pre><code>&lt;fx:Binding source=\"apagar.text\" destination=\"restroco.text\"/&gt;\n</code></pre>\n\n<hr>\n\n<pre><code>&lt;fx:Model id=\"Calculos\" &gt;\n\n        &lt;Calculos&gt;\n            &lt;!-- Perform a calculation. --&gt;\n            &lt;a&gt;{(Number(restroco.text)) - 3}&lt;/a&gt;\n            &lt;/Calculos&gt;\n    &lt;/fx:Model&gt;\n</code></pre>\n\n<hr>\n\n<p>but at this time, flex return an error that cannot let me advance : </p>\n\n<blockquote>\n  <p>1120: Access of undefined property apagar. Flex Problem</p>\n</blockquote>\n\n<hr>\n\n<p>so, i'm get stucked, if anyone want to see my full code, they are here : </p>\n\n<p><a href=\"http://freetexthost.com/srxslotf1x\" rel=\"nofollow\">http://freetexthost.com/srxslotf1x</a></p>\n"},{"tags":["c#","sqlite","sqlite3","xpo"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":12954212,"title":"SQLite Database Locked - Live synchronisation of two databases with row-by-row UPDATEs/INSERTs","body":"<p>We're currently experiencing issues with database locking using SQLite in a multi-user environment. These are coupled with regular database malformation issues, due to the fact that journalling has been switched off to reduce the number of database lock exceptions.</p>\n\n<p>My colleague is currently implementing a synchronisation algorithm to allow users to work on a local SQLite database and have that data transferred to a master database on the network near-instantaneously.</p>\n\n<p>When a local row is changed, a Sync flag is set to true. The synchronisation algorithm is triggered by a timer running every second, and consists of two methods: Upload and Download. Any SQL commands mentioned below are being built using String.Format.</p>\n\n<p>During Upload, the local database is scanned for rows where the Sync flag is true. Each row like this is either updated or inserted into the master database (depending on whether a row can be found with the same PK).</p>\n\n<p>During Download, every local table is compared, row-by-row, field-by-field, to the corresponding table in the master database (both tables are loaded into memory as array structures to speed up the comparison). If any differences are found, or the local row is missing, the local row is updated/inserted using the data from the master database</p>\n\n<p>Ignoring the obvious fact that this will not resolve our locking/malformation problems, my intuition tells me that this is a terrible idea, but I'm having trouble explaining this to the-powers-that-be. Could anybody provide some reasoning as to why this would be a terrible idea, or perhaps some positives I've overlooked.</p>\n"},{"tags":["sql","sqlite","where-clause","aggregate-functions"],"answer_count":4,"favorite_count":3,"up_vote_count":4,"down_vote_count":0,"view_count":21114,"score":4,"question_id":390534,"title":"Aggregate functions in WHERE clause in SQLite","body":"<p>Simply put, I have a table with, among other things, a column for timestamps. I want to get the row with the most recent (i.e. greatest value) timestamp. Currently I'm doing this:</p>\n\n<pre><code>SELECT * FROM table ORDER BY timestamp DESC LIMIT 1\n</code></pre>\n\n<p>But I'd much rather do something like this:</p>\n\n<pre><code>SELECT * FROM table WHERE timestamp=max(timestamp)\n</code></pre>\n\n<p>However, SQLite rejects this query:</p>\n\n<pre><code>SQL error: misuse of aggregate function max()\n</code></pre>\n\n<p>The <a href=\"http://www.sqlite.org/lang_expr.html\" rel=\"nofollow\">documentation</a> confirms this behavior (bottom of page):</p>\n\n<blockquote>\n  <p>Aggregate functions may only be used in a SELECT statement.</p>\n</blockquote>\n\n<p>My question is: is it possible to write a query to get the row with the greatest timestamp without ordering the select and limiting the number of returned rows to 1? This seems like it should be possible, but I guess my SQL-fu isn't up to snuff.</p>\n"},{"tags":["android","sqlite","listview"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":5,"view_count":49,"score":-5,"question_id":12955199,"title":"receive string and store it as history, sqlite database sample needed","body":"<p>I want to do like get user's generated strings and store it like a log, best using listview.. but I need sample, I don't have much time now.. thx!</p>\n"},{"tags":["android","sqlite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":12954740,"title":"While accesing image form database , Show a error","body":"<p>I am new for android  , while i am accessing image by this code </p>\n\n<pre><code>        if (cursor.getCount() == 1) {\n        cursor.moveToFirst();\n        imageView1 = (ImageView)findViewById(R.id.imageView1);\n        byte[] bb = cursor.getBlob(cursor.getColumnIndex(\"imagepath\"));\n        imageView1.setImageBitmap(BitmapFactory.decodeByteArray(bb, 0, bb.length));\n</code></pre>\n\n<p>It Show a null-pointer exception in last line of above code </p>\n\n<p><code>imageView1.setImageBitmap(BitmapFactory.decodeByteArray(bb, 0, bb.length));</code> </p>\n\n<p>I created database in  another <code>DataBaseHelper.java</code> </p>\n\n<p>file and code is-</p>\n\n<pre><code>public void onCreate(SQLiteDatabase db) {\n        final String[] creatStatments = new String[]{\"create table \"\n                + SLAM_BOOK\n                + \"(_id INTEGER PRIMARY KEY AUTOINCREMENT,\"+\" imagepath TEXT,\"+\" fullname TEXT ,\"\n                + \" wecallyou TEXT ,\" + \" emailid TEXT ,\"\n                + \" yoursunsign TEXT ,\" + \" yourfirstlove TEXT,\"\n                + \"  dateofbirth DATE,\" + \" yourphno TEXT,\"\n                + \" yourPaddress TEXT,\" + \" yourCaddress TEXT, \"\n                + \" aboutme TEXT)\"};\n\n        for (String sStmt : creatStatments) {\n            db.execSQL(sStmt); \n        }\n        }\n            I declare \"imagepath\" in InputForm.java file and code  is\n        public static String imagePath;\n         if (isAllEnteryFilled) {\n                    ContentValues userdetailValues = new ContentValues();\n                    userdetailValues.put(\"fullname\", sFullName);\n                    userdetailValues.put(\"imagepath\", imagePath);\n                    userdetailValues.put(\"wecallyou\", sWeCallU);\n                    userdetailValues.put(\"emailid\", sEmailId);\n                    userdetailValues.put(\"yoursunsign\", sYourSunSign);\n                    userdetailValues.put(\"yourfirstlove\", SFirstlove);\n                    userdetailValues.put(\"dateofbirth\", sBirthday);\n                    userdetailValues.put(\"yourphno\", sYourPhNo);\n                    userdetailValues.put(\"yourPaddress\", sYourPAddress);\n                    userdetailValues.put(\"yourCaddress\", sYourCAddress);\n                    userdetailValues.put(\"aboutme\", sAboutMe);\n                    dh.insert(DatabaseHelper.SLAM_BOOK, null, userdetailValues);\n                    Intent indexIntent = new Intent(SlamBookInputForm.this,SlamBook.class);\n                    startActivity(indexIntent);\n                } else {\n                    showAlert(\"Empty Field\", \"Empty field must be filled \");\n                }\n\n                //\n                //\n                //\n            protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n        if ((requestCode == CAMERA_ImagePIC_REQUEST)&amp;&amp; (resultCode == Activity.RESULT_OK)) {\n            thumbnail = (Bitmap) data.getExtras().get(\"data\");\n            bCaptureImage = (ImageButton) findViewById(R.id.image_button);\n            bCaptureImage.setImageBitmap(thumbnail);\n            imagePath = saveBitmap(thumbnail);\n</code></pre>\n"},{"tags":["iphone","ios","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":12952887,"title":"database is malformed in iphone + error disk i/o error","body":"<p>I have More than 5000 Record to be loaded from Server to my App and Inserted into Database.\nWhile inserting these records after some successful insertion  I am getting this kind of error and my app crashes.</p>\n\n<p><strong>database is malformed in iPhone + error disk i/o error</strong></p>\n\n<p>Following are code snippet that could be useful,Here I am getting Records in 5 Categories One by One and Inserting them into Database</p>\n\n<pre><code>    if (tag==1) {\n        NSMutableDictionary *catDic=[dic valueForKeyPath:@\"GetAllRecords.results.categories.category\"];\n        [self performSelectorInBackground:@selector(insertDataInCategoryMaster:) withObject:catDic];\n\n        NSMutableDictionary *levelDic=[dic valueForKeyPath:@\"GetAllRecords.results.levels.level\"];\n        [self performSelectorInBackground:@selector(insertDataInLevelMaster:) withObject:levelDic];\n\n        NSMutableDictionary *queDic=[dic valueForKeyPath:@\"GetAllRecords.results.questions.question\"];\n\n        [self performSelectorInBackground:@selector(insertDataInQueMaster:) withObject:queDic];\n\n        [self getQueCatLevelData:2];\n    }\n    else if(tag==2){\n\n        NSMutableDictionary *queDic=[dic valueForKeyPath:@\"GetAllRecords.results.questions.question\"];\n        [self performSelectorInBackground:@selector(insertDataInQueMaster:) withObject:queDic];\n\n        [self getQueCatLevelData:3];\n\n    }\n    else if(tag==3){\n\n        NSMutableDictionary *queDic=[dic valueForKeyPath:@\"GetAllRecords.results.questions.question\"];\n        [self performSelectorInBackground:@selector(insertDataInQueMaster:) withObject:queDic];\n\n        [self getQueCatLevelData:4];\n    }//and so on for 5 also\n</code></pre>\n\n<p>in each insertDataInQueMaster I am doing  following things.</p>\n\n<pre><code>         NSAutoreleasePool *pool = [[NSAutoreleasePool alloc]init];\n        for(NSDictionary *queDictionary in dictionary)\n        {\n\n            NSString *strQuery = [NSString stringWithFormat:@\"insert into QuestionMaster values(%d,'%@','%@',%d,%d,%d,%d,%d,0,'%@')\",[[queDictionary valueForKey:@\"questionid\"]intValue], [queDictionary valueForKey:@\"questiontext\"],[queDictionary valueForKey:@\"answertext\"],[[queDictionary valueForKey:@\"categoryid\"]intValue],[[queDictionary valueForKey:@\"levelid\"] intValue],[[queDictionary valueForKey:@\"status\"]intValue],[[queDictionary valueForKey:@\"RangeFrom\"]intValue],[[queDictionary valueForKey:@\"RangeTo\"]intValue],[queDictionary valueForKey:@\"Fact\"]];\n\n            [NSNumber requestWithSynchronousExcuteQuery:strQuery withReturnningError:&amp;error];\n\n            if(error)\n            {\n                NSLog(@\"error description:%@\",[[error userInfo] description]);\n                [[NSUserDefaults standardUserDefaults]setBool:NO forKey:@\"FirstTime\"];\n            }\n\n        }\n\n        count++;\n        [[NSUserDefaults standardUserDefaults]setInteger:count forKey:@\"CheckCount\"];\n        [[NSUserDefaults standardUserDefaults]synchronize];\n        [pool drain];\n</code></pre>\n\n<p>I am doing These all things while App is Loading in AppDelegate.m , that too in Background\nThe Error Comes After  successfully inserting few records in Database so I think there is no problem with Database opening and Inserting.</p>\n\n<p>I hope I am clear,\nPlease comment if any confusion.\nWaiting for reply.\nThanks in advance. </p>\n"},{"tags":["database","sqlite","postgresql","full-text-search"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":12953894,"title":"What to use; Postgresql or sqlite for use with an intranet?","body":"<p>We need to build an intranet for a company where they are going to use a fulltext searchengine among other things. </p>\n\n<p>What do you recommend us to use, Postgres or sqlite? And what kind of database structure design should we need?</p>\n"},{"tags":["android","sqlite","usersession"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":12951008,"title":"Why user session expires when starting from Recent apps in ICS 4.0?","body":"<p>In my app, I have sqlite db. When user do login for the  first time, I write (login info like userid) to SQLite db. And i am checking in all Activity that if the user is logged in or not.</p>\n\n<p>My question is, when user close this app and then open it from recent app button, It redirect to login Activity all the time.</p>\n\n<p>What is my mistake?</p>\n\n<p>Recent app buton working like a force stop?</p>\n\n<p>Can anybody give me any suggestion please?</p>\n\n<p>(Project flow is something like when this app download once and login, user must not need to login one more time)</p>\n"},{"tags":["android","sqlite","where-clause","android-sqlite"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":80,"score":0,"question_id":12953206,"title":"near \"WHERE\": syntax error - SQLite","body":"<p>I have a method that will if check two text fields exist then retune the record ID. \nMy method look like this: </p>\n\n<pre><code>int getQueryMatch(String word, String meter) {\n    SQLiteDatabase db = this.getReadableDatabase();\n\n    String selectQuery = \"SELECT *  FROM \" + TABLE_HISTORY + \" WHERE \" + QUERYWORD +  \"= '\" + word + \"' AND WHERE \" + DISTANCEQ + \"= '\"+ meter +\"' \"  ;\n    Cursor cursor = db.rawQuery(selectQuery, null);\n    int getidd = cursor.getColumnIndex(KEY_ID) ;\n\n\n    Log.v(\"Match query \", \"return? \" + getidd );\n    if (cursor != null)\n        cursor.moveToFirst();\n\n    // return History\n    return getidd;\n}\n</code></pre>\n\n<p>and I have my table looks like this: </p>\n\n<pre><code>    String CREATE_HISTORYS_TABLE = \"CREATE TABLE IF NOT EXISTS \" + TABLE_HISTORY + \"(\" + KEY_ID + \" INTEGER PRIMARY KEY AUTOINCREMENT,\" +\n            QUERYWORD + \" TEXT,\" + DISTANCEQ + \" TEXT\" + \",\"  + KEY_TIMESTAMP + \")\";\n    db.execSQL(CREATE_HISTORYS_TABLE);\n</code></pre>\n\n<p>now when I run the method as if getQueryMatch(Mystr1 , Mystr2); </p>\n\n<p>I got this error: </p>\n\n<pre><code>10-18 22:04:04.294: E/AndroidRuntime(13736): FATAL EXCEPTION: AsyncTask #1\n10-18 22:04:04.294: E/AndroidRuntime(13736): java.lang.RuntimeException: An error occured while executing doInBackground()\n10-18 22:04:04.294: E/AndroidRuntime(13736):    at android.os.AsyncTask$3.done(AsyncTask.java:299)\n10-18 22:04:04.294: E/AndroidRuntime(13736):    at java.util.concurrent.FutureTask$Sync.innerSetException(FutureTask.java:273)\n10-18 22:04:04.294: E/AndroidRuntime(13736):    at java.util.concurrent.FutureTask.setException(FutureTask.java:124)\n10-18 22:04:04.294: E/AndroidRuntime(13736):    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:307)\n10-18 22:04:04.294: E/AndroidRuntime(13736):    at java.util.concurrent.FutureTask.run(FutureTask.java:137)\n10-18 22:04:04.294: E/AndroidRuntime(13736):    at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:230)\n10-18 22:04:04.294: E/AndroidRuntime(13736):    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1076)\n10-18 22:04:04.294: E/AndroidRuntime(13736):    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:569)\n10-18 22:04:04.294: E/AndroidRuntime(13736):    at java.lang.Thread.run(Thread.java:856)\n10-18 22:04:04.294: E/AndroidRuntime(13736): Caused by: ****android.database.sqlite.SQLiteException: near \"WHERE\": syntax error (code 1): , while compiling: SELECT *  FROM history WHERE query= 'Information Pillar' AND WHERE distance= '20'****\n10-18 22:04:04.294: E/AndroidRuntime(13736):    at android.database.sqlite.SQLiteConnection.nativePrepareStatement(Native Method)\n10-18 22:04:04.294: E/AndroidRuntime(13736):    at android.database.sqlite.SQLiteConnection.acquirePreparedStatement(SQLiteConnection.java:882)\n10-18 22:04:04.294: E/AndroidRuntime(13736):    at android.database.sqlite.SQLiteConnection.prepare(SQLiteConnection.java:493)\n10-18 22:04:04.294: E/AndroidRuntime(13736):    at android.database.sqlite.SQLiteSession.prepare(SQLiteSession.java:588)\n10-18 22:04:04.294: E/AndroidRuntime(13736):    at android.database.sqlite.SQLiteProgram.&lt;init&gt;(SQLiteProgram.java:58)\n10-18 22:04:04.294: E/AndroidRuntime(13736):    at android.database.sqlite.SQLiteQuery.&lt;init&gt;(SQLiteQuery.java:37)\n10-18 22:04:04.294: E/AndroidRuntime(13736):    at android.database.sqlite.SQLiteDirectCursorDriver.query(SQLiteDirectCursorDriver.java:44)\n10-18 22:04:04.294: E/AndroidRuntime(13736):    at android.database.sqlite.SQLiteDatabase.rawQueryWithFactory(SQLiteDatabase.java:1314)\n10-18 22:04:04.294: E/AndroidRuntime(13736):    at android.database.sqlite.SQLiteDatabase.rawQuery(SQLiteDatabase.java:1253)\n10-18 22:04:04.294: E/AndroidRuntime(13736):    at com.example.phooogle.DatabaseHandler.getQueryMatch(DatabaseHandler.java:149)\n10-18 22:04:04.294: E/AndroidRuntime(13736):    at com.example.phooogle.GoogleMapsAppActivity$InitTask.doInBackground(GoogleMapsAppActivity.java:233)\n10-18 22:04:04.294: E/AndroidRuntime(13736):    at com.example.phooogle.GoogleMapsAppActivity$InitTask.doInBackground(GoogleMapsAppActivity.java:1)\n10-18 22:04:04.294: E/AndroidRuntime(13736):    at android.os.AsyncTask$2.call(AsyncTask.java:287)\n10-18 22:04:04.294: E/AndroidRuntime(13736):    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:305)\n</code></pre>\n\n<p>My select query looks like alright to me but I don't know what is the problem? </p>\n"},{"tags":["android","sqlite","android-internet"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":12952671,"title":"Saving draft emails in android","body":"<p>I have an app from which we can send emails .I need some help with the email sending. If the the internet is not available need to store the mail and when connection available send the saved mails.Which is the effective option to save the draft mails ?(Like draft mail in gmail, where gmail stores draft mails ?) store db ?</p>\n"},{"tags":["sql","sqlite","sorting"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":70,"score":1,"question_id":12947664,"title":"How to sort particular list in sql","body":"<p>Hi i am using this query to make the list of events</p>\n\n<pre><code>SELECT *, CASE\nWHEN ((month &gt; 9 OR (month =9 and days &gt;= 22)) AND year &lt;= 2012)then 'list1'\nWHEN (year &lt;= 2013) then 'list2' \nWHEN (year &gt; 2013)then 'list3' \nend as sortlist from events order by sortlist, date\n</code></pre>\n\n<p>Now I want to sort the list3 by same sql, order by year. Is this possible?</p>\n"},{"tags":["c#","sqlite","exception"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12951457,"title":"SQLiteConnection DisposedObject","body":"<pre><code>class SQLiteDatabase\n    {\n        String dbConnection;\n        static SQLiteConnection cnn;\n        static int connections = 0;\n        /// &lt;summary&gt;\n        ///     Default Constructor for SQLiteDatabase Class.\n        /// &lt;/summary&gt;\n        public SQLiteDatabase()\n        {\n            dbConnection = \"Data Source=SQLiteOphthaMetrics.db;foreign keys=true;\";\n            if (connections == 0)\n            {\n                cnn = new SQLiteConnection(dbConnection);\n                cnn.Open();\n                this.ExecuteNonQuery(\"CREATE TABLE IF NOT EXISTS patients ( id INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, name TEXT NOT NULL, birthday TEXT, gender TEXT, iriscolor INTEGER);\");\n                this.ExecuteNonQuery(\"CREATE TABLE IF NOT EXISTS images ( nameRed TEXT NOT NULL PRIMARY KEY, checksumRed TEXT NOT NULL, \"\n                    + \"nameGreen TEXT NOT NULL, checksumGreen TEXT NOT NULL, state INTEGER, cvalue REAL, sharpness REAL, deviation REAL, area REAL, redExposure REAL, \"\n                    + \"redGain REAL, greenExposure REAL, greenGain REAL, zfocus INTEGER, flipped INTEGER, patientID INTEGER, FOREIGN KEY (patientID) REFERENCES patients(id));\");\n            }\n            connections++;\n        }\n\n        ~SQLiteDatabase()\n        {\n            connections--;\n            if (connections == 0)\n            {\n                cnn.Close();\n                cnn.Dispose();\n            }\n        }\n    }\n</code></pre>\n\n<p>This code throws a DisposedObjectException</p>\n\n<pre><code>System.ObjectDisposedException was unhandled\n  Message=Auf das verworfene Objekt kann nicht zugegriffen werden.\nObjektname: \"SQLiteConnection\".\n  Source=System.Data.SQLite\n  ObjectName=SQLiteConnection\n  StackTrace:\n       bei System.Data.SQLite.SQLiteConnection.CheckDisposed()\n       bei System.Data.SQLite.SQLiteConnection.Close()\n       bei EyeScanner.SQLiteDatabase.Finalize()\n  InnerException: \n</code></pre>\n\n<p>I am calling SQLiteDatabase currently only a single time in the code, thus connections = 1 in the destructor, but I do not understand why it would dispose the object before the class destructor is finished.</p>\n"},{"tags":["android","sqlite","arraylist"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":12950473,"title":"Fail adding objects to an ArrayList. Always copies the same","body":"<p>To add different objects from the database to an <code>ArrayList</code> this is the code that I use:</p>\n\n<pre><code>try {\n    Statement stat = con.createStatement();\n    ResultSet rs = stat.executeQuery(\"SELECT DISTINCT Id, Username, FirstName, LastName FROM USER WHERE Username LIKE '%\"+name+\"%' or FirstName LIKE '%\"+name+\"%' or LastName LIKE '%\"+name+\"%'\");\n    while (rs.next()){\n        finded.setUsername(rs.getString(\"Username\"));\n        finded.setFirstName(rs.getString(\"FirstName\"));\n        finded.setLastName(rs.getString(\"LastName\"));\n        finded.setId(rs.getInt(\"Id\"));\n        findList.add(finded);\n        Log.d(\"this is the content of the List:\",((Integer) findList.get(j).getId()).toString());\n        Log.d(\"this is the content of the List 0:\",((Integer) findList.get(0).getId()).toString());\n\n    }\n    con.close();\n</code></pre>\n\n<p>And this is what the Log.d gives me each time. </p>\n\n<pre><code>10-18 08:31:39.407: D/this is the content of the List:(427): 3\n10-18 08:31:39.407: D/this is the content of the List 0:(427): 3\n10-18 08:31:39.427: D/this is the content of the List:(427): 15\n10-18 08:31:39.427: D/this is the content of the List 0:(427): 15\n10-18 08:31:39.437: D/this is the content of the List:(427): 13\n10-18 08:31:39.437: D/this is the content of the List 0:(427): 13\n10-18 08:31:39.447: D/this is the content of the List:(427): 50\n10-18 08:31:39.447: D/this is the content of the List 0:(427): 50\n10-18 08:31:39.460: D/this is the content of the List:(427): 34\n10-18 08:31:39.460: D/this is the content of the List 0:(427): 34\n10-18 08:31:39.467: D/this is the content of the List:(427): 49\n10-18 08:31:39.467: D/this is the content of the List 0:(427): 49\n10-18 08:31:39.479: D/this is the content of the List:(427): 53\n10-18 08:31:39.479: D/this is the content of the List 0:(427): 53\n</code></pre>\n\n<p>As you can see it copies the same object in all the position of the <code>ArrayList</code>. I tried also to do it with <code>findList.add(index, finded)</code> (<code>index</code> is an <code>int</code> who is incrementing) But I get the same result.</p>\n"},{"tags":["sqlite","blackberry","persistent-storage"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":12948792,"title":"Confusion about Blackberry Sqlite db or Persistent Store","body":"<p>i am very confused about use of db or persistent store, if i use db then i have to store it on mmc because i have read some where that all BB devices do not allow to store db in phone memory, if i make db on mmc then user can delete it, and the second approach is Persistent Store, but it is not easy to manipulate when we have large amount of data, how can manage tons of keys to retrieve and store data in persistent store, and how can i perform delete,edit operation on persistent stored data. \nDo not know what to, very much confused. Which approach will be best and what will the mechanism.\nkindly suggest.</p>\n"},{"tags":["iphone","ios","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":43,"score":2,"question_id":12947214,"title":"SQLite ANALYZE breaks indexes","body":"<p>I have a table that contains about 500K rows. The table has an index on the 'status' column. So I run the following explain command:</p>\n\n<pre><code>EXPLAIN QUERY PLAN SELECT * FROM my_table WHERE status = 'ACTIVE'\n</code></pre>\n\n<p>Results in a predictable 'explanation'...</p>\n\n<pre><code>SEARCH TABLE my_table USING INDEX IDX_my_table_status (status=?) (~10 rows)\n</code></pre>\n\n<p>After many additional rows are added to the table, I call 'ANALYZE'. Afterwards, queries seemed much slower so I re-ran my explain and now see the following:</p>\n\n<pre><code>SCAN TABLE my_table (~6033 rows)\n</code></pre>\n\n<p>First thing I notice is that BOTH the row estimates are WAY off. The biggest concern is the fact that the index seems to be skipped once ANALYZE is ran. I tried REINDEX - to no avail. The only way I can get the indexes back is to drop them, then re-create them. Has anyone seen this? Is this a bug? Any ideas what I am doing wrong? I have tried this on multiple datbases and I see the same results. This is on my PC, and on MAC and on the iPhone/iPad - all the same results.</p>\n"},{"tags":["sqlite","flex4.5","flex-mobile"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":12932535,"title":"could no be able to get data from sqlite database in flex","body":"<p>I'm making a mobile app in flex 4.5, I want to get name of person and age of person then save to sqlite database done my code looks like : </p>\n\n<pre><code>public var personNamesDB:File;\n        public var dbConnection:SQLConnection;\n\n        protected function createDatabase(event:FlexEvent):void\n        {\n            // TODO Auto-generated method stub\n            personNamesDB = File.applicationStorageDirectory.resolvePath(\"person.db\");\n            dbConnection = new SQLConnection();\n            dbConnection.openAsync(personNamesDB, SQLMode.CREATE);\n            dbConnection.addEventListener(SQLEvent.OPEN, onDatabaseOpened);\n            dbConnection.addEventListener(SQLEvent.CLOSE, onDatabaseClosed);\n\n\n\n        }// end createDatabase method\n\nprotected function onDatabaseOpened(arshayEvent:SQLEvent):void\n        {\n            trace(\"DB Opened\");\n            var statement:SQLStatement = new SQLStatement();\n            statement.sqlConnection = dbConnection;\n            statement.text = \"CREATE TABLE IF NOT EXISTS personinfo(id INTEGER PRIMARY KEY AUTOINCREMENT, nameofperson TEXT, ageofperson TEXT)\";\n\n            statement.execute();\n            // for showing saved city names in list on App start up\n            showSavedNames();\n            trace(\"table created\");\n        }\n</code></pre>\n\n<p>Now for Inserting data code is :</p>\n\n<pre><code>///////////////////////////////////\n        public var insertData:SQLStatement\n        protected function saveName():void\n        {\n            // SQLite Usage\n            insertData = new SQLStatement();\n            insertData.sqlConnection = dbConnection;\n            insertData.text = \"INSERT INTO personinfo(nameofcity, ageofperson) VALUES(:nameofcity, :ageofperson)\";\n            insertData.parameters[\":nameofcity\"] =nameInput.text;\n            insertData.parameters[\":ageofperson\"] = ageInput.text;\n            insertData.addEventListener(SQLEvent.RESULT, dataInsertedSuccess);\n            trace(\"Name \" + nameInput.text);\n            insertData.execute();\n\n            showSavedNames();\n\n        }\n\n        protected function dataInsertedSuccess(event:SQLEvent):void\n        {\n            trace(insertData.getResult().data);\n        }\n        //////////////////////////////////////////////\n        public var selectQuery:SQLStatement;\n        protected function showSavedNames():void\n        {\n            selectQuery = new SQLStatement();\n            selectQuery.sqlConnection = dbConnection;\n            selectQuery.text = \"SELECT * FROM personinfo ORDER BY nameofperson ASC\";\n            selectQuery.addEventListener(SQLEvent.RESULT, showNamesInList);\n\n            selectQuery.execute();\n        }\n\n        protected function showNamesInList(event:SQLEvent):void\n        {\n            listOfAddedNames.dataProvider = new ArrayCollection(selectQuery.getResult().data);\n        }\n</code></pre>\n\n<p>mxml code  for list control is :</p>\n\n<pre><code>&lt;s:List id=\"listOfAddedNames\" width=\"345\" height=\"100%\" labelField=\"nameofperson\"\n            click=\"get_names_data(event)\"/&gt;\n</code></pre>\n\n<p>Now get_names_data method is like :</p>\n\n<pre><code>public var selectNameQuery:SQLStatement;\n\n        protected function get_names_data(event:MouseEvent):void\n        {\n            // TODO Auto-generated method stub\n\n            var currentName:String = listOfAddedNames.selectedItem.nameofperson;\n\n            selectNameQuery = new SQLStatement();\n            selectNameQuery.sqlConnection =dbConnection;\n            selectNameQuery.text = \"SELECT ageofperson FROM personinfo WHERE (nameofperson = '\" + currentName + \"')\";\n            selectNameQuery.addEventListener(SQLEvent.RESULT, nowGotAge);\n\n            selectNameQuery.execute();\n            trace(\"current selected   &gt;&gt; \"+currentName);\n        }\n\n        protected function nowGotAge(event:SQLEvent):void\n        {\n\n            trace(\"Age of selected Name is &gt;&gt; \"+selectNameQuery.getResult().data.ageofperson);\n        }\n</code></pre>\n\n<p>On this line :</p>\n\n<pre><code>trace(\"Age of selected Name is &gt;&gt; \"+selectNameQuery.getResult().data.ageofperson);\n</code></pre>\n\n<p>No data is fetched from database and trce is displaying \"undefined\" please solve this for me and tell me how to get data from ageofperson column according to selected name in list of person names-- Thanks in advance </p>\n"},{"tags":["c","sqlite","unix"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":12928294,"title":"-shm and -wal files in SQLite DB","body":"<p>I am taking the backup of SQLite DB using cp commmand after running wal_checkpoint(FULL). The DB is being used in WAL mode so there are other files like -shm and -wal in my folder.\nWhen I run wal_checkpoint(FULL), the changes in WAL file get committed to the database. I waqs wondering whether -wal and -shm files get deelted after running a checkpoint. If not, then what do they contain ?</p>\n\n<p>I know my backup process is not good since I am not using SQLite backup APIs. This is a bug in my code.<br><br>\nCan anyone please suggest what content do -shm and -wal files contain after running checkpoint.</p>\n\n<p>Any link provided would be helpful.</p>\n\n<p>Thanks</p>\n"},{"tags":["android","sqlite","listactivity"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":9210,"score":1,"question_id":3911142,"title":"Android. SQLite Exception: no such column _id","body":"<p>Im having some troubles trying to get the info stored in my database and showing it in a ListView.</p>\n\n<p>This is the ListActivity where i want to show the rows:</p>\n\n<pre><code>public class Prueba extends ListActivity{\n\n    /** Called when the activity is first created. */\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.i_prueba);\n\n        DataBaseAccess db = new DataBaseAccess(this);\n        db.open();\n\n        Cursor result = db.getAllContact();\n        startManagingCursor(result);\n\n\n        // the desired columns to be bound\n        String[] columns = new String[] {\"_id\", \"nombre\", \"telefono\", \"mail\"};\n        // the XML defined views which the data will be bound to\n        int[] to = new int[] { R.id.textid, R.id.textNombre, R.id.textTelefono, R.id.textMail };\n\n        SimpleCursorAdapter mAdapter = new SimpleCursorAdapter(this, R.layout.i_listadb, result, columns, to);\n\n\n        this.setListAdapter(mAdapter);\n\n    }\n</code></pre>\n\n<p>The DB class. Here is the method getAllContact where i get the error:</p>\n\n<p>public class DataBaseAccess {</p>\n\n<pre><code>public static final String NOMBRE = \"nombre\";\npublic static final String TELEFONO = \"telefono\";\npublic static final String MAIL = \"mail\";\npublic static final String ID = \"_id\";\n\n\n    public DataBaseAccess(Context context) {\n        this.androidContext = context;\n//DataBaseHelper is another class where the Database is created. In the \"onCreate\" //method of that class is where i make the CREATE TABLE and add some values to that //table.\n        dbHelper = new DataBaseHelper(androidContext);  \n    }\n\n\n\n    public void open() throws SQLException {\n        db = dbHelper.getWritableDatabase();\n        }\n\n\n\n[...MORE METHODS...]\n\n    public Cursor getAllContact(){\n        String[] columnas = new String[] {ID, NOMBRE, TELEFONO, MAIL};\n        Cursor mCursor = dbHelper.query(\"t_contactos\", columnas, null, null, null, null, null);\n    if (mCursor != null){\n        mCursor.moveToFirst();\n    }\n    return mCursor;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>And here is the error messages from the LogCat:</p>\n\n<pre><code>E/AndroidRuntime(  636): Uncaught handler: thread main exiting due to uncaught exception\n\nE/AndroidRuntime(  636): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.pfc.android/com.pfc.android.Prueba}: android.database.sqlite.SQLiteException: no such column: _id: , while compiling: SELECT _id, nombre, telefono, mail FROM t_contactos\n\nE/AndroidRuntime(  636):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2401)\n\nE/AndroidRuntime(  636):    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2417)\n\nE/AndroidRuntime(  636):    at android.app.ActivityThread.access$2100(ActivityThread.java:116)\n\nE/AndroidRuntime(  636):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1794)\n\nE/AndroidRuntime(  636):    at android.os.Handler.dispatchMessage(Handler.java:99)\n\nE/AndroidRuntime(  636):    at android.os.Looper.loop(Looper.java:123)\n\nE/AndroidRuntime(  636):    at android.app.ActivityThread.main(ActivityThread.java:4203)\n\nE/AndroidRuntime(  636):    at java.lang.reflect.Method.invokeNative(Native Method)\n\nE/AndroidRuntime(  636):    at java.lang.reflect.Method.invoke(Method.java:521)\n\nE/AndroidRuntime(  636):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:791)\n\nE/AndroidRuntime(  636):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:549)\n\nE/AndroidRuntime(  636):    at dalvik.system.NativeStart.main(Native Method)\n\nE/AndroidRuntime(  636): Caused by: android.database.sqlite.SQLiteException: no such column: _id: , while compiling: SELECT _id, nombre, telefono, mail FROM t_contactos\n\nE/AndroidRuntime(  636):    at android.database.sqlite.SQLiteProgram.native_compile(Native Method)\n\nE/AndroidRuntime(  636):    at android.database.sqlite.SQLiteProgram.compile(SQLiteProgram.java:110)\n\nE/AndroidRuntime(  636):    at android.database.sqlite.SQLiteProgram.&lt;init&gt;(SQLiteProgram.java:59)\n\nE/AndroidRuntime(  636):    at android.database.sqlite.SQLiteQuery.&lt;init&gt;(SQLiteQuery.java:49)\n\nE/AndroidRuntime(  636):    at android.database.sqlite.SQLiteDirectCursorDriver.query(SQLiteDirectCursorDriver.java:49)\n\nE/AndroidRuntime(  636):    at android.database.sqlite.SQLiteDatabase.rawQueryWithFactory(SQLiteDatabase.java:1118)\n\nE/AndroidRuntime(  636):    at android.database.sqlite.SQLiteDatabase.queryWithFactory(SQLiteDatabase.java:1006)\n\nE/AndroidRuntime(  636):    at android.database.sqlite.SQLiteDatabase.query(SQLiteDatabase.java:964)\n\nE/AndroidRuntime(  636):    at android.database.sqlite.SQLiteDatabase.query(SQLiteDatabase.java:1041)\n\nE/AndroidRuntime(  636):    at com.pfc.android.DataBaseAccess.getAllContact(DataBaseAccess.java:97)\n\nE/AndroidRuntime(  636):    at com.pfc.android.Prueba.onCreate(Prueba.java:21)\n\nE/AndroidRuntime(  636):    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1123)\n\nE/AndroidRuntime(  636):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2364)\n\nE/AndroidRuntime(  636):    ... 11 more\n</code></pre>\n\n<p>So, can anybody help to get through this?\nThank you in advance !</p>\n"},{"tags":["android","sqlite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12928522,"title":"How to get a selection of SQLite columns to be accepted in Android contentprovider query?","body":"<p>I've been going round and round on this.  If I set the column selection to null everything works fine.  When I try to make a selection of columns I get a fatal error \"Unknown column in projection\".  I have verified that the column names are correct.  </p>\n\n<p>Here is the column selection code:</p>\n\n<pre><code>String[] MyColumns = new String[] { MyTable.COLUMN_ID, MyTable.COLUMN_A, \n    MyTable.COLUMN_B, MyTable.COLUMN_C };\nUri Myuri = MyContentProvider.CONTENT_URI; //specify the content provider location (Uri)\nCursor Mycursor = getContentResolver().query(Myuri, MyColumns, null, null, null); \n</code></pre>\n\n<p>I've also tried putting the new String into the query instead of the MyColumns variable.  That fails too.  Help!  Any suggestions?  </p>\n\n<p>@Yul, @Praful Bhatnagar: Here is the table creation code as requested (note: this is contentprovider database):</p>\n\n<pre><code>public class MyTable {\n// Define Database table and column names\npublic static final String TABLE_NAME = \"MyTable\";\npublic static final String COLUMN_ID = \"_id\";\npublic static final String COLUMN_A = \"test1\";\npublic static final String COLUMN_B = \"test2\";\npublic static final String COLUMN_C = \"test3\";\n</code></pre>\n\n<p>// Database creation sql statement</p>\n\n<pre><code>private static final String DATABASE_CREATE = \"create table \" +TABLE_NAME+ \"(\" + \n    COLUMN_ID + \" integer primary key autoincrement, \" +\n    COLUMN_A + \" text not null,\" +\n    COLUMN_B + \" long not null,\" +\n    COLUMN_C + \" real);\";\n\npublic static void onCreate(SQLiteDatabase database) {\n    database.execSQL(DATABASE_CREATE);\n}\n</code></pre>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1508,"score":0,"question_id":7696839,"title":"How to upgrade SQLite database in Android?","body":"<p>In the first time I have created one Table <code>DEPTS</code>. After that I want to create another two tables <code>FEEDS</code> and <code>ARTICLES</code>.</p>\n\n<p>But I see that the commends for creating new tables never executed, why?</p>\n\n<p>Here is my code:</p>\n\n<pre><code>package com.android.database;\n\n// ... imports ...\n\npublic class DatabaseHelper extends SQLiteOpenHelper{\n\nstatic final String dbName = \"appDB\";\nstatic int dbVersion = 3;\nprivate static final String DEBPT_TABLE = \"Dept\";\nprivate static final String COL_DEPT_ID = \"DeptID\";\nprivate static final String COL_DEPT_NAME = \"DeptName\";\nprivate static final String COL_DEPT_LAT = \"DeptLat\";\nprivate static final String COL_DEPT_LNG = \"DeptLng\";\n\nprivate static final String FEEDS_TABLE = \"feeds\";\nprivate static final String COL_FEED_ID = \"feed_id\";\nprivate static final String COL_FEED_TITLE = \"title\";\nprivate static final String COL_FEED_URL = \"url\";\n\nprivate static final String ARTICLES_TABLE = \"articles\";\nprivate static final String COL_ARTICLE_ID = \"article_id\";\nprivate static final String COL_ARTICLE_FEED_ID = \"feed_id\";\nprivate static final String COL_ATRICLE_TITLE = \"title\";\nprivate static final String COL_ATRICLE_URL = \"url\";\n\n    public DatabaseHelper(Context context) {\n        super(context, dbName, null, dbVersion);\n        // TODO Auto-generated constructor stub\n    }\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        /*onCreate(SQLiteDatabase db): invoked when the database is created, \n        this is where we can create tables and columns to them, create views or triggers. */\n\n        db.execSQL(\"CREATE TABLE \"+DEBPT_TABLE+\n                \"(\"+COL_DEPT_ID+\" INTEGER PRIMARY KEY AUTOINCREMENT, \"+\n                COL_DEPT_NAME+\" TEXT NOT NULL, \"+\n                COL_DEPT_LAT+\" REAL NOT NULL, \"+\n                COL_DEPT_LNG+\" REAL NOT NULL);\");\n\n        db.execSQL(\"CREATE TABLE \"+ FEEDS_TABLE+\n                \" (\"+COL_FEED_ID+\" INTEGER PRIMARY KEY AUTOINCREMENT, \"+\n                COL_FEED_TITLE +\" TEXT NOT NULL,\"+\n                COL_FEED_URL+\" TEXT_NOT_NULL);\");\n\n        db.execSQL(\"CREATE TABLE \"+ ARTICLES_TABLE+\n                \" (\"+COL_ARTICLE_ID+\" INTEGER PRIMARY KEY AUTOINCREMENT, \"+\n                COL_ARTICLE_FEED_ID+ \" INTEGER NOT NULL, \"+\n                COL_ATRICLE_TITLE+\" TEXT NOT NULL, \"+\n                COL_ATRICLE_URL+\" TEXT NOT NULL);\");\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n        /*onUpgrade(SQLiteDatabse db, int oldVersion, int newVersion): invoked when we make a modification to \n        the database such as altering, dropping , creating new tables. */\n\n        db.execSQL(\"DROP TABLE IF EXISTS \"+DEBPT_TABLE);\n        db.execSQL(\"DROP TABLE IF EXISTS \"+FEEDS_TABLE);\n        db.execSQL(\"DROP TABLE IF EXISTS \"+ARTICLES_TABLE);\n        onCreate(db);\n    }\n\n    public boolean insertDept(Department dept){\n        SQLiteDatabase db = this.getReadableDatabase();// open database for read/write\n        ContentValues cv = new ContentValues();\n        cv.put(COL_DEPT_NAME, dept.getName());\n        cv.put(COL_DEPT_LAT, dept.getLat());\n        cv.put(COL_DEPT_LNG, dept.getLng());\n\n        long result = db.insert(DEBPT_TABLE, COL_DEPT_ID, cv);\n        // result : the row ID of the newly inserted row, or -1 if an error occurred \n        db.close();\n        return (result&gt;0);\n    }\n\n    public boolean updateDept(Department dept){\n        SQLiteDatabase db = this.getReadableDatabase();\n        ContentValues cv = new ContentValues();\n        cv.put(COL_DEPT_NAME, dept.getName());\n        cv.put(COL_DEPT_LAT, dept.getLat());\n        cv.put(COL_DEPT_LNG, dept.getLng());\n\n        int result = db.update(DEBPT_TABLE, cv,COL_DEPT_ID+\"=?\", new String []{String.valueOf(dept.getID())});\n        //String[] args: The arguments of the WHERE clause\n        db.close();\n        return (result&gt;0);\n    }\n\n    public boolean deleteDept(Department dept){\n        SQLiteDatabase db = this.getWritableDatabase();\n        int re = db.delete(DEBPT_TABLE, COL_DEPT_ID+\"=?\", new String[]{String.valueOf(dept.getID())});\n        db.close();\n        return (re&gt;0);\n    }\n\n    public ArrayList&lt;Department&gt; getAllDepts(){\n        ArrayList&lt;Department&gt; depts = new ArrayList&lt;Department&gt;();\n        Department dept = null;\n        SQLiteDatabase db = this.getWritableDatabase();\n\n        Cursor cur = db.rawQuery(\"SELECT \"+COL_DEPT_ID+ \" as _id,\"+\n                COL_DEPT_NAME+\", \"+COL_DEPT_LAT+\", \"+COL_DEPT_LNG+\" from \"+DEBPT_TABLE,\n                new String[]{});\n        cur.moveToFirst();\n        while(cur.moveToNext()){\n            dept = new Department();\n            dept.setID(cur.getInt(cur.getColumnIndex(\"_id\")));\n            dept.setName(cur.getString(cur.getColumnIndex(COL_DEPT_NAME)));\n            dept.setLat(cur.getDouble(cur.getColumnIndex(COL_DEPT_LAT)));\n            dept.setLat(cur.getDouble(cur.getColumnIndex(COL_DEPT_LNG)));\n\n            depts.add(dept);\n        }\n        db.close();\n        return depts;\n    }\n\n    public int GetDeptID(String Dept)\n  {\n   SQLiteDatabase db=this.getReadableDatabase();\n   Cursor c=db.query(DEBPT_TABLE, new String[]{COL_DEPT_ID+\" as _id\",COL_DEPT_NAME},\n    COL_DEPT_NAME+\"=?\", new String[]{Dept}, null, null, null);\n   //Cursor c=db.rawQuery(\"SELECT \"+COL_DEPT_ID+\" as _id FROM \"+DEBPT_TABLE+\" \n   //WHERE \"+COL_DEPT_NAME+\"=?\", new String []{Dept});\n   c.moveToFirst();\n   return c.getInt(c.getColumnIndex(\"_id\"));  \n  }\n\n    public boolean insertFeed(String title, URL url) {\n        SQLiteDatabase db=this.getReadableDatabase();\n        ContentValues values = new ContentValues();\n        values.put(COL_FEED_TITLE, title);\n        values.put(COL_FEED_URL, url.toString());\n        return (db.insert(FEEDS_TABLE, null, values) &gt; 0);\n    }\n\n    public boolean deleteFeed(Feed feed) {\n        SQLiteDatabase db=this.getReadableDatabase();\n        return (db.delete(FEEDS_TABLE, COL_FEED_ID+ \"=\" + feed.feedId, null) &gt; 0);\n}\n\n    public ArrayList&lt;Feed&gt; getFeeds() {\n        SQLiteDatabase db=this.getReadableDatabase();\n        ArrayList&lt;Feed&gt; feeds = new ArrayList&lt;Feed&gt;();\n        try {\n                Cursor c = db.query(FEEDS_TABLE, new String[] { COL_FEED_ID, COL_FEED_TITLE,\n                        COL_FEED_URL }, null, null, null, null, null);\n\n                int numRows = c.getCount();\n                c.moveToFirst();\n                for (int i = 0; i &lt; numRows; ++i) {\n                        Feed feed = new Feed();\n                        feed.feedId = c.getLong(0);\n                        feed.title = c.getString(1);\n                        feed.url = new URL(c.getString(2));\n                        feeds.add(feed);\n                        c.moveToNext();\n                }\n        } catch (SQLException e) {\n                Log.e(\"FEEDS DB\", e.toString());\n        } catch (MalformedURLException e) {\n                Log.e(\"FEEDS DB\", e.toString());\n        }\n        return feeds;\n}\n\n    public boolean insertArticle(Long feedId, String title, URL url) {\n        SQLiteDatabase db=this.getReadableDatabase();\n        ContentValues values = new ContentValues();\n        values.put(COL_ARTICLE_FEED_ID, feedId);\n        values.put(COL_ATRICLE_TITLE, title);\n        values.put(COL_ATRICLE_URL, url.toString());\n        return (db.insert(ARTICLES_TABLE, null, values) &gt; 0);\n        }\n\n    public boolean deleteAricles(Long feedId) {\n        SQLiteDatabase db=this.getReadableDatabase();\n        return (db.delete(ARTICLES_TABLE, COL_ARTICLE_FEED_ID+\"=\" + feedId.toString(), null) &gt; 0);\n}\n\n    public List&lt;Article&gt; getArticles(Long feedId) {\n        SQLiteDatabase db=this.getReadableDatabase();\n        ArrayList&lt;Article&gt; articles = new ArrayList&lt;Article&gt;();\n        try {\n                Cursor c = db.query(ARTICLES_TABLE, new String[] { \"article_id\",\n                                \"feed_id\", \"title\", \"url\" },\n                                \"feed_id=\" + feedId.toString(), null, null, null, null);\n\n                int numRows = c.getCount();\n                c.moveToFirst();\n                for (int i = 0; i &lt; numRows; ++i) {\n                        Article article = new Article();\n                        article.articleId = c.getLong(0);\n                        article.feedId = c.getLong(1);\n                        article.title = c.getString(2);\n                        article.url = new URL(c.getString(3));\n                        articles.add(article);\n                        c.moveToNext();\n                }\n        } catch (SQLException e) {\n                Log.e(\"ARTICLES DB\", e.toString());\n        } catch (MalformedURLException e) {\n                Log.e(\"ARTICLES DB\", e.toString());\n        }\n        return articles;\n}\n\n}\n</code></pre>\n"},{"tags":["java","android","database","sqlite"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":814,"score":1,"question_id":3163805,"title":"Use custom SQLite database for Android","body":"<p>Say I want to create a database using the Android SDK's sqlite tool. What would the file extension have to be? I would think .db or .sqlite3 or .sqlite? How would I import it in my source code (Is there a method I should call?) and where in my source code? I was thinking in the onCreate method of a class that implements <a href=\"http://developer.android.com/reference/android/database/sqlite/SQLiteOpenHelper.html\" rel=\"nofollow\"><code>SqliteOpenHelper</code></a>.</p>\n"},{"tags":["android","mysql","database","sqlite","exporting"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":289,"score":0,"question_id":7480389,"title":"mysql to sqlite in code","body":"<p>I need to pull a mysql database hosted on a server and put it into the android phone which uses sqlite on the click of a button.</p>\n\n<p>I have searched google and there are some options although im not too sure which 1 would be the easiest to implement.</p>\n\n<p>Here is some info : My database contains  4 tables with around 9000 records. I need to pull all of it.</p>\n\n<p>1.Use a parser from mysql to xml and then write the xml to sqlite..Is this possible or feasible considering the size of my db?</p>\n\n<ol>\n<li><p>Refering to this , <a href=\"http://www.reigndesign.com/blog/using-your-own-sqlite-database-in-android-applications/\" rel=\"nofollow\">http://www.reigndesign.com/blog/using-your-own-sqlite-database-in-android-applications/</a>,</p>\n\n<p>private static String DB_PATH = \"/data/data/YOUR_PACKAGE/databases/\";</p>\n\n<p>private static String DB_NAME = \"myDBName\";</p>\n\n<p>am i able to point the DB_PATH to the mysql db hosted in the sever instead of the application stored db? I have    tried this code out using a db in my own app and it does copy the db to the app if it is a first run. </p></li>\n</ol>\n\n<p>3.In essence, im copying a mysql to sqlite db..Thanks guys :)</p>\n"},{"tags":["mysql","database","file","sqlite","dump"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":488,"score":1,"question_id":4124437,"title":"mysql to sqlite conversion","body":"<p>I've been trying to convert a mysql database to a sqlite db file but no luck. Is there any software that can do this?</p>\n"},{"tags":["mysql","database","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":167,"score":0,"question_id":8906940,"title":"MySQL to Sqlite","body":"<p>I hope you can help me with my Database Problem:</p>\n\n<p>I have a mysql database with several tables and i want to build an android app out of it. I'm trying to convert this database for days now and I cant find a working solution. I already tried the shell scripts which you find via google but none of them works: it seems like table creation is failing at some point. Errors are: </p>\n\n<pre><code>\"no such collation sequence: utf8_unicode_ci\" and \"no such table:xxx\".\n</code></pre>\n\n<p>I guess there is a problem with table creation. What can i do?!</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["mysql","database","sqlite"],"answer_count":3,"favorite_count":1,"up_vote_count":8,"down_vote_count":0,"view_count":3968,"score":8,"question_id":5164033,"title":"Export a MySQL Database to SQLite Database","body":"<p>Please help me with exporting a MySQL database into a SQLite database.</p>\n"},{"tags":["android","mysql","database","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":64,"score":0,"question_id":12759992,"title":"Convert MYSQL to SQLITE Database for Android","body":"<p>I Have a database in \".Sql\" format. I would like to convert this database to \".sqlite\" format. As I have to use this 16MB database with my android Application.</p>\n\n<p>I've searched on the internet but couldn't find the result I was expecting.</p>\n"},{"tags":["android","sqlite","syntax","null","primary-key"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":49,"score":1,"question_id":12946190,"title":"Multi Primary Keys in Android SQLite","body":"<p>In SQLite for Android what is the correct way to add multi primary keys? </p>\n\n<p>Currently I have:</p>\n\n<pre><code>String Create_table = \"CREATE TABLE project ( keyId INTEGER PRIMARY KEY, keyName TEXT PRIMARY KEY)\";\n</code></pre>\n\n<p>The alternative method I thought of was:</p>\n\n<pre><code>   String Create_table = \"CREATE TABLE project (keyID INTEGER, keyName TEXT, PRIMARY KEY(keyID, keyName))\";\n</code></pre>\n\n<p>Are both valid? If so, which is better? Also how do I disallow NULL values?</p>\n"},{"tags":["r","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":65,"score":1,"question_id":12824569,"title":"RSQLite typecasting issue","body":"<p>I'm trying to write a table from a SQLite database into an R data frame and have hit upon a problem that has me stumped. Here are the three first entries in the SQLite table I would like to import:</p>\n\n<pre><code>1|10|0|0|0|0|10|10|0|0|0|6|8|6|20000|30000|2012-02-29 21:27:07.239091|2012-02-29 21:28:24.815385|6|80.67.28.161|||||||||||||||||||||||||||||||33|13.4936||t|t|f||||||||||||||||||4|0|0|7|7|2\n2|10|0|0|0|0|0|0|0|2|2|4|5|4|20000|30000|2012-02-29 22:00:30.618726|2012-02-29 22:04:09.629942|5|80.67.28.161|3|7||0|1|3|0|||4|3|4|5|5|5|5|4|5|4|4|0|0|0|0|0|9|9|9|9|9|||1|f|t|f|||||||||||||k|text|l|||-13|0|3|10||2\n3|13|2|4|4|4|4|1|1|2|5|6|3|2|40000|10000|2012-03-01 09:07:52.310033|2012-03-01 09:21:13.097303|6|80.67.28.161|2|2||30|1|1|0|||4|2|1|6|8|3|5|6|6|7|6|||||||||||26|13.6336|4|f|t|f|t|f|f|f|f|||||||||some text||||10|1|1|3|2|3\n</code></pre>\n\n<p>What I'm interested in are columns 53 through 60, which, to save you the trouble of counting in the above, look like this:</p>\n\n<pre><code>|t|t|f||||||\n|f|t|f||||||\n|f|t|f|t|f|f|f|f|\n</code></pre>\n\n<p>As you can see for the first two entries only the first three of those columns are not NULL while for the third entry all eight columns have values assigned to them.</p>\n\n<p>Here's the SQLite table info for those columns</p>\n\n<pre><code>sqlite&gt; PRAGMA table_info(observations);\n0|id|INTEGER|1||1\n** snip **\n53|understanding1|boolean|0||0\n54|understanding2|boolean|0||0\n55|understanding3|boolean|0||0\n56|understanding4|boolean|0||0\n57|understanding5|boolean|0||0\n58|understanding6|boolean|0||0\n59|understanding7|boolean|0||0\n60|understanding8|boolean|0||0\n** snip **\n</code></pre>\n\n<p>Now, when I try to read this into R here's what those same columns end up becoming:</p>\n\n<pre><code>&gt; library('RSQLite')\n&gt; con &lt;- dbConnect(\"SQLite\", dbname = 'db.sqlite3))\n&gt; obs &lt;- dbReadTable(con,'observations')\n&gt; obs[1:3,names(obs) %in% paste0('understanding',1:8)]\n  understanding1 understanding2 understanding3 understanding4 understanding5 understanding6 understanding7\n1              t              t              f             NA             NA             NA             NA\n2              f              t              f             NA             NA             NA             NA\n3              f              t              f              0              0              0              0\n  understanding8\n1             NA\n2             NA\n3              0\n</code></pre>\n\n<p>As you can see, while the first three columns contain values that are either <code>'t'</code> or <code>'f'</code> the other columns are <code>NA</code> where the corresponding values in the SQLite table are NULL and <em><code>0</code></em> where they are not - irrespective of whether the corresponding values in the SQLite table are <code>t</code> or <code>f</code>. Needless to say this is not the behavior I expected. The problem is, I think, that these columns are typecasted incorrectly:</p>\n\n<pre><code>&gt; sapply(obs[1:3,names(obs) %in% paste0('understanding',1:8)], class)\nunderstanding1 understanding2 understanding3 understanding4 understanding5 understanding6 understanding7 \n   \"character\"    \"character\"    \"character\"      \"numeric\"      \"numeric\"      \"numeric\"      \"numeric\" \nunderstanding8 \n     \"numeric\" \n</code></pre>\n\n<p>Could it be that RSQLite sets the first three columns to the <code>character</code> type upon seeing <code>t</code> and <code>f</code> as values in the corresponding columns in the first entry but goes with <code>numeric</code> because in these columns the first entry just happens to be NULL?</p>\n\n<p>If this is indeed what's happening is there any way of working around this and casting all these columns into <code>character</code> (or, even better, <code>logical</code>)?</p>\n"},{"tags":["java","android","sqlite"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":12943892,"title":"Trying to update a certain column in the last record in sqlite in Android","body":"<p>I have a db that is structred as such</p>\n\n<pre><code>uid | username | password |     email   | cur_level\n1     default      abc123   me@email.com    0\n</code></pre>\n\n<p>In my game after you complete a level in the main activity I run a method called <code>increase_current_level()</code>\n    value++;\n    test_db.open();\n    test_db.updateLevel(value);\n    cur_level = value;\n    test_db.close();</p>\n\n<p>So that seems to work with no problems but when <code>test_db.updateLevel(value)</code> is run, that when the program crashes.</p>\n\n<p>In my DBHelper the code for update level is as follows. </p>\n\n<pre><code>public boolean updateLevel(String level) {\n        ContentValues args = new ContentValues();\n\n        args.put(KEY_CUR_LEVEL, level);\n        return mDb.update(DATABASE_TABLE, args, KEY_ROWID + \"=\"\n                + \"WHERE id=(SELECT max(id) FROM DATABASE_TABLE)\", null) &gt; 0;\n\n    }\n</code></pre>\n\n<p>My log cat error seems to be:</p>\n\n<pre><code>10-17 17:36:10.833: E/AndroidRuntime(1815): Caused by: android.database.sqlite.SQLiteException: near \"WHERE\": syntax error (code 1): , while compiling: UPDATE test SET cur_level=? WHERE _id=WHERE id=(SELECT max(id) FROM DATABASE_TABLE)\n</code></pre>\n\n<p>I'm very new to SQLite so, it's kind of intimidating, but I hope someone sees a very obvious flaw. Thanks</p>\n\n<h2>Update 1:</h2>\n\n<p>My updated code:</p>\n\n<pre><code>public boolean updateLevel(String level) {\n    ContentValues args = new ContentValues();\n\n    args.put(KEY_CUR_LEVEL, level);\n    return mDb.update(DATABASE_TABLE, args, KEY_ROWID + \" = (SELECT max(id) FROM DATABASE_TABLE\",\n            null) &gt; 0;\n\n}\n</code></pre>\n\n<p>Updated error msg:</p>\n\n<pre><code>10-17 18:26:50.804: E/AndroidRuntime(3684): Caused by: android.database.sqlite.SQLiteException: near \"DATABASE_TABLE\": syntax error (code 1): , while compiling: UPDATE test SET cur_level=? WHERE _id = (SELECT max(id) FROM DATABASE_TABLE\n</code></pre>\n"},{"tags":["sql","sqlite"],"answer_count":5,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":769,"score":4,"question_id":6219526,"title":"Opposite of IN operator in SQL","body":"<p>How could I do the opposite of:</p>\n\n<p><img src=\"http://i.stack.imgur.com/DGIkB.png\" alt=\"example\"></p>\n\n<p>In other words select all the people whose last name is NOT Hansen or Pettersen. </p>\n"},{"tags":["sqlite","rubymotion"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":60,"score":0,"question_id":12899323,"title":"Using SQLite with Rubymotion","body":"<p>I want to use the C-level SQLite API with Rubymotion, but I'm not sure how to include the SQLite dylib &amp; header files, if it is possible at all.</p>\n\n<p>As I understand the dylib should be included in the following way:</p>\n\n<pre><code>app.libs += ['/usr/lib/libsqlite3.dylib']\n</code></pre>\n\n<p>But that's not enough, the <code>sqlite3_open</code> function is still not found. I guess the header file should be specified somehow.</p>\n\n<p>P.S. I know that I can use FMDB to get the same functionality, but I'm wondering about using the C library directly.</p>\n"},{"tags":["android","sqlite","unit-testing","junit"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":12943230,"title":"Testing a SQLite database on Android","body":"<p>I am working on JUnit tests for my Android app which uses a SQLite database. I need to create  a test database which can be manipulated by test cases. The database needs to start in a known configuration and reset for each test case. I figured out that I can use an in-memory database by passing the SQLiteOpenHelper a <code>null</code> value as the file name for the database (<a href=\"http://attakornw.wordpress.com/2012/02/25/using-in-memory-sqlite-database-in-android-tests/\" rel=\"nofollow\">see this article for details</a>). Now I also want to populate the database table for some of my tests. I have a CSV file on my local file system with some data that I can use for testing. How do I get this data into my SQLite database on an emulator or other device for testing?</p>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":12942040,"title":"Insert or replace 2 unique values","body":"<p>I'm using sqlite in android app and I want to make insert in table by 2 unique row values. For example:</p>\n\n<pre><code>id| column1 | column2 | column3|\n1.   1              2     3  \n2.   2              3     4\n</code></pre>\n\n<p>Unique columns - COLUMN1 and COLUMN2  </p>\n\n<pre><code> INSERT OR REPLACE INTO HISTORY (id, column1, column2, column3) VALUES (null, 2, 3, 6);\n</code></pre>\n\n<p>But this query shouldn't works 'cause 1st and 2nd values isn't unique in table</p>\n\n<p>Thnx.</p>\n"},{"tags":["sqlite","firefox","bookmarks"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":12942051,"title":"Rebuild bookmarks - places.sqlite.corrupt systematically appears","body":"<p>I try to restore my Firefox bookmarks that I have lost with a crash.</p>\n\n<p>I have restored the <code>places.sqlite</code> file using <a href=\"http://blog.ummwhat.com/2009/11/firefox-bookmarks-corruption/\" rel=\"nofollow\">this fix</a>. I have checked its integrity with:</p>\n\n<pre><code>sqlite&gt; pragma integrity_check;\nok\nsqlite&gt;\n</code></pre>\n\n<p>Then, I copy it to the profile folder, in my case:</p>\n\n<pre><code>.mozilla/firefox/4adv7wvh.default/\n</code></pre>\n\n<p>and delete the <code>places.sqlite.corrupt</code> as well as <code>places.sqlite-shm</code> and <code>places.sqlite-wal</code>.</p>\n\n<p>The problem is that the bookmarks don't appear when I restart Firefox. The only bookmarks which appear are the few ones that I have added after the crash.</p>\n\n<p>Why is the fixed <code>places.sqlite</code> file not taken account for recovering my old bookmarks? And why is it systematically being replaced by the most recent <code>places.sqlite</code> which only contains 3 urls?</p>\n"},{"tags":["objective-c","cocoa","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":12942627,"title":"Cocoa sqlite db file","body":"<p>I'm having a bit of trouble understanding why the below code is not working:</p>\n\n<pre><code>sqlite3_stmt *statement5;\n\nNSString *databasePath2 = @\"default-gameData.db\";\nNSInteger speed_int = 0;\n\nconst char *dbPath2 = [databasePath2 UTF8String];\n\nif(sqlite3_open(dbPath2, &amp;db)==SQLITE_OK){\n    NSString *getspeeds = @\"SELECT * FROM planeInfo\";\n    NSLog(@\"%@\",getspeeds);\n    const char *getspeed_stmt = [getspeeds UTF8String];\n\n    if(sqlite3_prepare_v2(db, getspeed_stmt, -1, &amp;statement5, nil)==SQLITE_OK){\n\n        NSLog(@\"%d\",sqlite3_step(statement5));\n\n        NSString *org_plane_info_id = [[NSString alloc] init];\n\n        while(sqlite3_step(statement5) == SQLITE_ROW){\n            if((const char*)sqlite3_column_text(statement5, 1)==NULL){\n                org_plane_info_id = @\"no\";\n            }\n            else{\n                org_plane_info_id = [[NSString alloc] initWithUTF8String:(const char*)sqlite3_column_text(statement5, 1)];\n            }\n            NSLog(@\"%@\",org_plane_info_id);\n            if(org_plane_info_id==plane_info_id){\n                NSString *speed = [[NSString alloc] initWithUTF8String:(const char*)sqlite3_column_text(statement5, 2)];\n                NSLog(@\"%@\",speed);\n                speed_int = [speed integerValue];\n\n                return speed_int;\n            }\n        }\n    }\n}\nif(speed_int==0){\n    return 0;\n}\nsqlite3_close(db);\n</code></pre>\n\n<p>I've found the source of the problem being the database path, the file is stored where the .h and .m files are so I think that's where I am going wrong, but what do I have to do to get that to work?</p>\n"},{"tags":["objective-c","xcode","sqlite"],"answer_count":3,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":1494,"score":4,"question_id":9762727,"title":"missing required architecture armv7","body":"<p>i use xcode with libsqlite3.dylib for sqlite , but when i compile to device the following error arise :</p>\n\n<pre><code>Ld /Users/user1319/Library/Developer/Xcode/DerivedData/Directory-app normal armv7\n    cd /Users/user1319/Desktop/app/app\n\n    setenv IPHONEOS_DEPLOYMENT_TARGET 5.0\n    setenv PATH \"/Developer/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/usr/bin:/Developer/Applications/Xcode.app/Contents/Developer/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin\"\n    /Developer/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang -arch armv7 -isysroot /Developer/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS5.0.sdk -L/Users/user1319/Library/Developer/Xcode/DerivedData/app_Directory-bnkhohrmxdhrusarswxeqvxlljct/Build/Products/Distribution-iphoneos -F/Users/user1319/Library/Developer/Xcode/DerivedData/app-bnkhohrmxdhrusarswxeqvxlljct/Build/Products/Distribution-iphoneos -filelist \"/Users/user1319/Library/Developer/Xcode/DerivedData/app-bnkhohrmxdhrusarswxeqvxlljct/Build/Intermediates/app Directory.build/Distribution-iphoneos/app.build/Objects-normal/armv7/app.LinkFileList\" -Xlinker -rpath -Xlinker / -dead_strip -miphoneos-version-min=5.0 -lsqlite3 -lsqlite3.0 -framework AddressBook -framework AddressBookUI -framework UIKit -framework Foundation -framework CoreGraphics -o /Users/user1319/Library/Developer/Xcode/DerivedData/app-bnkhohrmxdhrusarswxeqvxlljct/Build/Products/Distribution-iphoneos/app.app/app\n\nld: warning: ignoring file /Developer/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS5.0.sdk/usr/lib/libsqlite3.dylib, missing required architecture armv7 in file\nld: warning: ignoring file /Developer/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS5.0.sdk/usr/lib/libsqlite3.0.dylib, missing required architecture armv7 in file\nUndefined symbols for architecture armv7:\n  \"_sqlite3_reset\", referenced from:\n      -[FMDatabase executeUpdate:error:withArgumentsInArray:orVAList:] in FMDatabase.o\n      -[FMStatement reset] in FMDatabase.o\n      -[FMResultSet next] in FMResultSet.o\n  \"_sqlite3_bind_blob\", referenced from:\n      -[FMDatabase bindObject:toColumn:inStatement:] in FMDatabase.o\n  \"_sqlite3_changes\", referenced from:\n      -[FMDatabase changes] in FMDatabase.o\n  \"_sqlite3_prepare_v2\", referenced from:\n      -[FMDatabase executeQuery:withArgumentsInArray:orVAList:] in FMDatabase.o\n      -[FMDatabase executeUpdate:error:withArgumentsInArray:orVAList:] in FMDatabase.o\n      -[FMDatabase(FMDatabaseAdditions) validateSQL:error:] in FMDatabaseAdditions.o\n  \"_sqlite3_open\", referenced from:\n      -[FMDatabase open] in FMDatabase.o\n  \"_sqlite3_open_v2\", referenced from:\n      -[FMDatabase openWithFlags:] in FMDatabase.o\n  \"_sqlite3_bind_text\", referenced from:\n      -[FMDatabase bindObject:toColumn:inStatement:] in FMDatabase.o\n  \"_sqlite3_step\", referenced from:\n      -[FMDatabase executeUpdate:error:withArgumentsInArray:orVAList:] in FMDatabase.o\n      -[FMResultSet next] in FMResultSet.o\n  \"_sqlite3_next_stmt\", referenced from:\n      -[FMDatabase close] in FMDatabase.o\n  \"_sqlite3_bind_double\", referenced from:\n      -[FMDatabase bindObject:toColumn:inStatement:] in FMDatabase.o\n  \"_sqlite3_threadsafe\", referenced from:\n      +[FMDatabase isThreadSafe] in FMDatabase.o\n  \"_sqlite3_bind_int\", referenced from:\n      -[FMDatabase bindObject:toColumn:inStatement:] in FMDatabase.o\n  \"_sqlite3_last_insert_rowid\", referenced from:\n      -[FMDatabase lastInsertRowId] in FMDatabase.o\n  \"_sqlite3_column_blob\", referenced from:\n      -[FMResultSet dataForColumnIndex:] in FMResultSet.o\n      -[FMResultSet dataNoCopyForColumnIndex:] in FMResultSet.o\n  \"_sqlite3_finalize\", referenced from:\n      -[FMDatabase close] in FMDatabase.o\n      -[FMDatabase executeQuery:withArgumentsInArray:orVAList:] in FMDatabase.o\n      -[FMDatabase executeUpdate:error:withArgumentsInArray:orVAList:] in FMDatabase.o\n      -[FMStatement close] in FMDatabase.o\n      -[FMDatabase(FMDatabaseAdditions) validateSQL:error:] in FMDatabaseAdditions.o\n  \"_sqlite3_column_text\", referenced from:\n      -[FMResultSet kvcMagic:] in FMResultSet.o\n      -[FMResultSet stringForColumnIndex:] in FMResultSet.o\n      -[FMResultSet UTF8StringForColumnIndex:] in FMResultSet.o\n  \"_sqlite3_column_bytes\", referenced from:\n      -[FMResultSet dataForColumnIndex:] in FMResultSet.o\n      -[FMResultSet dataNoCopyForColumnIndex:] in FMResultSet.o\n  \"_sqlite3_column_int64\", referenced from:\n      -[FMResultSet longForColumnIndex:] in FMResultSet.o\n      -[FMResultSet longLongIntForColumnIndex:] in FMResultSet.o\n  \"_sqlite3_bind_parameter_count\", referenced from:\n      -[FMDatabase executeQuery:withArgumentsInArray:orVAList:] in FMDatabase.o\n      -[FMDatabase executeUpdate:error:withArgumentsInArray:orVAList:] in FMDatabase.o\n  \"_sqlite3_column_count\", referenced from:\n      -[FMResultSet columnCount] in FMResultSet.o\n      -[FMResultSet setupColumnNames] in FMResultSet.o\n      -[FMResultSet kvcMagic:] in FMResultSet.o\n  \"_sqlite3_column_name\", referenced from:\n      -[FMResultSet setupColumnNames] in FMResultSet.o\n      -[FMResultSet kvcMagic:] in FMResultSet.o\n      -[FMResultSet columnNameForIndex:] in FMResultSet.o\n  \"_sqlite3_errmsg\", referenced from:\n      -[FMDatabase lastErrorMessage] in FMDatabase.o\n      -[FMDatabase executeUpdate:error:withArgumentsInArray:orVAList:] in FMDatabase.o\n      -[FMResultSet next] in FMResultSet.o\n  \"_sqlite3_column_type\", referenced from:\n      -[FMResultSet stringForColumnIndex:] in FMResultSet.o\n      -[FMResultSet dateForColumnIndex:] in FMResultSet.o\n      -[FMResultSet dataForColumnIndex:] in FMResultSet.o\n      -[FMResultSet dataNoCopyForColumnIndex:] in FMResultSet.o\n      -[FMResultSet columnIndexIsNull:] in FMResultSet.o\n      -[FMResultSet UTF8StringForColumnIndex:] in FMResultSet.o\n      -[FMResultSet objectForColumnIndex:] in FMResultSet.o\n      ...\n  \"_sqlite3_libversion\", referenced from:\n      +[FMDatabase sqliteLibVersion] in FMDatabase.o\n  \"_sqlite3_errcode\", referenced from:\n      -[FMDatabase lastErrorCode] in FMDatabase.o\n      -[FMResultSet hasAnotherRow] in FMResultSet.o\n  \"_sqlite3_column_int\", referenced from:\n      -[FMResultSet intForColumnIndex:] in FMResultSet.o\n  \"_sqlite3_close\", referenced from:\n      -[FMDatabase close] in FMDatabase.o\n  \"_sqlite3_column_double\", referenced from:\n      -[FMResultSet doubleForColumnIndex:] in FMResultSet.o\n  \"_sqlite3_data_count\", referenced from:\n      -[FMResultSet resultDict] in FMResultSet.o\n  \"_sqlite3_bind_int64\", referenced from:\n      -[FMDatabase bindObject:toColumn:inStatement:] in FMDatabase.o\n  \"_sqlite3_bind_null\", referenced from:\n      -[FMDatabase bindObject:toColumn:inStatement:] in FMDatabase.o\nld: symbol(s) not found for architecture armv7\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\n</code></pre>\n\n<p>But the project compiled successfully to simulator , the error happen when i compiled the project to real device . </p>\n"},{"tags":["sql","sqlite","sqlite3"],"answer_count":2,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":1248,"score":3,"question_id":3068183,"title":"sqlite3 timestamp column","body":"<p>I feel stupid, but I can't get a TIMESTAMP column to be shown in human understandable way in a SELECT.</p>\n\n<p>I could do that in MySQL, not in sqlite3.</p>\n\n<p>Could someone show me an example please?</p>\n\n<p>Thanks</p>\n"},{"tags":["sqlite","sqlite3","sql-server-ce"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":12941205,"title":"Convert a SQL Server CE edition database file (.sdf) to a sqlite3 supported database file","body":"<p>I am looking for a way to support a existing SQL Server CE Database file (*.sdf) on a sqlite3.\nCan someone  help me to find a way to Convert a SQL Server CE database file (.sdf) to a sqlite3 supported database file?\nDoes sqlite3 library provide any utility to do so ?</p>\n"},{"tags":["sql","sqlite","join","sqlite3"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":28,"score":2,"question_id":12940221,"title":"Efficient variant record selection in sqlite / JOIN with OR terms","body":"<p>I have a data logging app using sqlite3 to store different types of records that share a common header.</p>\n\n<p>I put the header in one table and created separate tables for the details of each variant.</p>\n\n<p>The rowid in the detail tables are the rowid of the header table. A header rowid only shows up in one of the details tables (for that variant).</p>\n\n<p>I would like to fetch multiple types of records in a single query. <strong>That is, I want Sqlite to do an indexed search of the headers table to find a working set of records, and then use that set of ids to do a quick binary fetch of the variant details by rowid.</strong> So:</p>\n\n<pre><code>SELECT * FROM headers JOIN headers \nON headers.id = variant1.id OR headers.id = variant2.id\nWHERE some_header_condition\n</code></pre>\n\n<p>or</p>\n\n<pre><code>SELECT * FROM headers JOIN headers\nON headers.id IN (variant1.id, revariant2.id )\nWHERE some_header_condition\n</code></pre>\n\n<p>This works, but when confronted with an OR term in the JOIN predicate, sqlite3 does a full table scan of the details tables variant1 and variant2 instead of just fetching the appropriate record by the rowid foreign key.</p>\n\n<p>Something like:</p>\n\n<pre><code>0     0              2     SCAN TABLE variant2 (~5900 rows)\n0     1              1     SCAN TABLE variant1 (~26588 rows)\n0     2              0     SEARCH TABLE headers USING INTEGER PRIMARY KEY (rowid=?) (~2 rows)\n0     0              0     EXECUTE LIST SUBQUERY 1\n</code></pre>\n\n<p>I can force binary searches by doing tricks like:</p>\n\n<pre><code>SELECT header.f1, variant1.f, NULL FROM header JOIN header.id = variant1.id ...\nUNION ALL\nSELECT header.f1, NULL, variant2.f FROM header JOIN header.id = variant2.id ...\n</code></pre>\n\n<p>But then the header table is accessed twice.</p>\n\n<p>I could also imagine selecting the header.id(s) to a temporary table and using that to grab details using the ids IN it.</p>\n\n<p>OR...I could just de-normalize the whole mess.</p>\n\n<p>But all these workarounds are very inconvenient. So my question is, is there a nice JOIN query that can pick up these variants in one go with no table scans?</p>\n"},{"tags":["java","android","sqlite"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":12938434,"title":"Android SQLite trying to update one field","body":"<p>My code is below, but it crashes my application. I'm still pretty new with working with db, but it seems to make sense. Any signs of why this could be not working?</p>\n\n<pre><code> public void updateLevel(String level){\n             mDb.rawQuery(\"UPDATE \"+ DATABASE_TABLE + \" SET \" + KEY_CUR_LEVEL + \" = \" + level + \" WHERE \" + KEY_NAME + \" = Default\", null);\n         }\n</code></pre>\n"},{"tags":["c","sqlite"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":140,"score":2,"question_id":10252201,"title":"Valgrind reports a SQLite error, why?","body":"<p>Valgrind reports a SQLite error:</p>\n\n<pre>\n==11614== Jump to the invalid address stated on the next line\n==11614==    at 0x0: ???\n==11614==    by 0x6E8CF: sqlite3MallocSize (sqlite3.c:19034)\n==11614==    by 0x6E472: mallocWithAlarm (sqlite3.c:18870)\n==11614==    by 0x6E520: sqlite3Malloc (sqlite3.c:18895)\n==11614==    by 0x6ED56: sqlite3MallocZero (sqlite3.c:19159)\n==11614==    by 0x6DA46: pthreadMutexAlloc (sqlite3.c:18039)\n==11614==    by 0x6D779: sqlite3MutexAlloc (sqlite3.c:17353)\n==11614==    by 0xFA4B7: sqlite3_initialize (sqlite3.c:112588)\n==11614==    by 0xFD895: openDatabase (sqlite3.c:114531)\n==11614==    by 0xFDF13: sqlite3_open (sqlite3.c:114780)\n==11614==    by 0x579C1: SqlLiteConnection_Connect(char*) (SqlLite.cpp:14)\n==11614==  Address 0x0 is not stack'd, malloc'd or (recently) free'd\n</pre>\n\n<p>I am passing a valid value to <code>sqlite3_open</code>. Anyone have any ideas as to why this is happening?</p>\n\n<p>P.S. I am using the SQLite Amalgamation version 3.7.11. I am running Mac OSX 10.7.3. SQLite was compiled with <code>gcc -c -g -m32 sqlite3.c</code>.</p>\n"},{"tags":["iphone","ios","security","sqlite","encryption"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":50,"score":2,"question_id":12938517,"title":"Light protection for SQLite database on the iPhone","body":"<p>There are a bunch of questions on how to protect a SQLite database on the iPhone here. Those questions are mostly about:</p>\n\n<ul>\n<li>preventing data tampering;</li>\n<li>protecting user's personal data using a passwords that should be entered by a user.</li>\n</ul>\n\n<p>but we have a bit different situation: </p>\n\n<ul>\n<li>we have an app that is distributed with a sqlite database;</li>\n<li>the database contains publicly available information, but gathering all that information in one place requires some effort, and we don't want competitors to have a simple way to access our data;</li>\n<li>all the database content is available through the application UI, basically the purpose of the app is to nicely present that data. So it is possible to recreate the database through the UI, while there are about 50k records x 40 fields per record, which are going to be updated with each version, so manual scraping will take some time. Also it's probably possible to use some automated screen scraping to extract the data, but again it requires some effort;</li>\n<li>because of the previous point, we are not looking for some industrial grade data protection, we just want to prevent anybody from accessing the application bundle on a jailbroken device and copying the database out of it.</li>\n</ul>\n\n<p>I think that we need some kind of fancy obfuscation of the column contents. Probably we should encrypt the columns using some key that is unique to the app, and can't be accessed by anybody else (if such key exist in the AppStore).</p>\n\n<p>Any suggestions and best practices are appreciated,</p>\n\n<p>Thank you</p>\n"},{"tags":["c#","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":41,"score":0,"question_id":12938281,"title":"C# with SQLite and foreign key","body":"<p>I want to implement a patients data base for our software, and have an issue with the foreign key statement. I am using the latest SQLite DLLs, with C#.</p>\n\n<p>When I try to run below code:</p>\n\n<pre><code>dbConnection = \"Data Source=SQLiteMyDatabase.db;foreign keys=true;\";\nif (connections == 0)\n{\n  cnn = new SQLiteConnection(dbConnection);\n  cnn.Open();\n  this.ExecuteNonQuery(\"CREATE TABLE IF NOT EXISTS patients ( id INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, name VARCHAR(100) NOT NULL;\");\n  this.ExecuteNonQuery(\"CREATE TABLE IF NOT EXISTS images ( FOREIGN KEY (patientID) REFERENCES patients(id), nameRed VARCHAR(20) NOT NULL PRIMARY KEY;\");\n}\n</code></pre>\n\n<p>I get the error:</p>\n\n<pre><code>SQLite error near \"FOREIGN\": syntax error\n</code></pre>\n\n<p>Why does this happen?</p>\n"},{"tags":["java","android","database","sqlite","sqliteopenhelper"],"answer_count":5,"favorite_count":1,"up_vote_count":5,"down_vote_count":0,"view_count":118,"score":5,"question_id":12253636,"title":"SQLiteOpenHelper - how is the database created?","body":"<p>I'm making a database application, and my program works and I've understood most of the tutorial I've been following. However, one aspect remains unclear to me.</p>\n\n<p>There is an inner class of MyDBHelper extending SQLiteOpenHelper. <em>Outer</em> variables include the SQLiteDatabase called d. The code for the MyDBHelper is:</p>\n\n<pre><code>private static class MyDBHelper extends SQLiteOpenHelper {\n        MyDBHelper(Context c) {\n            super(c, DB_NAME, null, DB_VERSION);\n        }\n\n        @Override\n        public void onCreate(SQLiteDatabase db) {\n            try {\n                db.execSQL(DATABASE_CREATE);\n            } catch (SQLException e) {\n                e.printStackTrace();\n            }\n        }\n\n        @Override\n        public void onUpgrade(SQLiteDatabase db, int oldVers, int newVers) {\n            Log.w(TAG, \"Upgrading database from version \" + oldVers + \" to \" + newVers + \", which will destroy all old data.\");\n            db.execSQL(\"DROP TABLE IF EXISTS GM\");\n            onCreate(db);\n        }\n    }\n</code></pre>\n\n<p>My question is how does this actually create the initial database. It  occurs in the onCreate() method, but as far as I can see, this is <strong>never</strong> called. I understand that it is called when the database is created for the first time, but where? And furthermore, how is it passed a SQLiteDatabase db? I haven't passed any database to the method. And how is my SQLiteDatabase db variable from the <em>outer</em> class set to the created database? Could someone talk me through this like an idiot?</p>\n"},{"tags":["android","sqlite"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":61,"score":1,"question_id":12937271,"title":"How to work with sqlite database from another application in android?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/7053809/share-sqlite-database-between-2-android-apps\">Share SQLite database between 2 android apps?</a>  </p>\n</blockquote>\n\n\n\n<p>I'm trying to work with SQLite databases, open it,retrieve data from it,insert data, I did thit perfectly, but with sqlite databases I created in the same application, but I'm trying to do so with other databases created in other applications.</p>\n\n<p>I tried to open the database like this:</p>\n\n<pre><code>String DB_PATH= \"/data/data/my.sqlitemanager/databases/\";\nString DB_NAME = \"commments\";\nSQLiteDatabase database = SQLiteDatabase.openDatabase(DB_PATH + DB_NAME, null, SQLiteDatabase.OPEN_READONLY);\n</code></pre>\n\n<p>But it didn't work. How can I do this?</p>\n"},{"tags":["iphone","objective-c","sqlite","sqlite3"],"answer_count":2,"favorite_count":2,"up_vote_count":0,"down_vote_count":0,"view_count":1925,"score":0,"question_id":797704,"title":"Why I am getting sqlite3error?","body":"<p>I am trying to reuse an sqlite statement in my application in a method. Here's the relevant code</p>\n\n<pre><code>if(getsets_statement == nil){\n    const char *sql = \"SELECT DISTINCT num,roll FROM mytable WHERE cls like ? and divname like ?\";\n    if(sqlite3_prepare_v2(database, sql, -1, &amp;getsets_statement, NULL) != SQLITE_OK){\n        NSAssert1(0, @\"Error: Failed to prepare stmt with message '%s'\", sqlite3_errmsg(database));\n    }       \n}\n\nsqlite3_bind_text(getsets_statement, 1, [cls UTF8String], -1, SQLITE_TRANSIENT);\nsqlite3_bind_text(getsets_statement, 2, [divname UTF8String], -1, SQLITE_TRANSIENT);\n\nwhile(sqlite3_step(getsets_statement) == SQLITE_ROW){\n\n    setNumber= sqlite3_column_int(getsets_statement, 0);        \n\n    roll = sqlite3_column_int(getsets_statement, 1);\n\n    [numArr addObject:[NSNumber numberWithInt:setNumber]];\n    [rollArr addObject:[NSNumber numberWithInt:roll]];\n}\n\nsqlite3_reset(getsets_statement);\n</code></pre>\n\n<p>The statement executes perfectly the first time it is called. But the next time I call this method, I get a <code>sqlite3error</code>. The values of <code>divname</code> and <code>cls</code> are present (did an <code>NSLog</code> and checked) but I don't understand why I am getting this error. I get the error at the first <code>bind_text</code> statement.</p>\n\n<p>This is in the gdb console</p>\n\n<pre><code>Program received signal:  “EXC_BAD_ACCESS”.\n(gdb) where\n#0  0x9041857f in sqlite3Error ()\n#1  0x9041acea in vdbeUnbind ()\n#2  0x9041b2c8 in bindText ()\n</code></pre>\n\n<p>Any help?</p>\n"},{"tags":["sqlite","triggers"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":34,"score":1,"question_id":12934765,"title":"SQLite trigger to update row gets stuck","body":"<p>I'm trying to set on insert, or update, an attribute of a point layer with an attribute derived from a polygon layer (12-digit watershed identifier) in the same database. So this is using SpatiaLite (a spatial extension of SQLite), but that's a detail and this should simply be a SQL problem.</p>\n\n<p>So, I created two triggers below. The <code>UPDATED_ON</code> portion where it sets the timestamp of the action works great. But the spatial parts always assign the same value regardless of where the point occurs as illustrated in the attached example. It seems to be performing the same test for all the rows, with input from one row, but applying to the wrong row. So, something in the SQL of the trigger must be grabbing the wrong point to perform the operation with. Is it the <code>new.rowid</code> part? </p>\n\n<pre><code>CREATE TRIGGER INSERT_UDT_HUC12 AFTER INSERT ON mypoints\nBEGIN\n  UPDATE mypoints SET UPDATED_ON = DATETIME('NOW') WHERE rowid = new.rowid;\n  UPDATE mypoints SET WBD_HUC12 =\n              (SELECT HUC_12 FROM cumberland_huc12, mypoints\n               WHERE st_intersects(mypoints.Geometry, cumberland_huc12.Geometry))\n      WHERE mypoints.rowid = new.rowid;\nEND;\n\nCREATE TRIGGER UPDATE_UDT_HUC12 AFTER UPDATE ON mypoints\nBEGIN\n  UPDATE mypoints SET UPDATED_ON = DATETIME('NOW') WHERE rowid = new.rowid;\n  UPDATE mypoints SET WBD_HUC12 =\n              (SELECT HUC_12 FROM cumberland_huc12, mypoints\n               WHERE st_intersects(mypoints.Geometry, cumberland_huc12.Geometry))\n      WHERE mypoints.rowid = new.rowid;\nEND \n</code></pre>\n\n<p><img src=\"http://i.stack.imgur.com/l3p7I.png\" alt=\"Example map\" title=\"Example map\"></p>\n"},{"tags":["database","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":491,"score":2,"question_id":2909524,"title":"Three-way full outer join in SQLite","body":"<p>I have three tables with a common key field, and I need to join them on this key. Given SQLite doesn't have full outer or right joins, I've used the <a href=\"http://en.wikipedia.org/wiki/Inner_join#Full_outer_join\" rel=\"nofollow\">full outer join without right join technique on Wikipedia</a> with much success.</p>\n\n<p>But I'm curious, how would one use this technique to join <em>three</em> tables by a common key? What are the efficiency impacts of this (the current query takes about ten minutes)?</p>\n\n<p>Thanks!</p>\n"},{"tags":["android","database","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":68,"score":0,"question_id":12934608,"title":"Android data is not saving in the database","body":"<p>I have problem saving my data to the sqlite database I pre-created using SQLITE Database Browser. I stored the DB in the asset folder. </p>\n\n<p>This is the code I used:</p>\n\n<p><strong>ApplicationContextProvider class:</strong></p>\n\n<pre><code>import android.app.Application;\nimport android.content.Context;\npublic class ApplicationContextProvider extends Application {\n\nprivate static Context sContext;\n\npublic void onCreate() {\n        super.onCreate();\nsContext = getApplicationContext();\n\n}\n\npublic static Context getContext() {\n    return sContext;\n}\n\n}\n</code></pre>\n\n<p><strong>My DatabaseHelper class:</strong></p>\n\n<pre><code>public class DataBaseHelper extends SQLiteOpenHelper {\n\n// The Android's default system path of your application database.\n//data/data/ and /databases remain the same always. The one that must be changed is com.example which represents\n//the MAIN package of your project\nprivate static String DB_PATH = \"/data/data/com.fps/databases/\";\n\n//the name of your database\nprivate static String DB_NAME = \"bmiDB\";\n\nprivate static SQLiteDatabase mDataBase;\n\nprivate static DataBaseHelper sInstance = null;\n// database version    \nprivate static final int DATABASE_VERSION = 1;\n\n/**\n * Constructor Takes and keeps a reference of the passed context in order to\n * access to the application assets and resources.\n */\nprivate DataBaseHelper() {\n    super( ApplicationContextProvider.getContext(), DB_NAME, null, DATABASE_VERSION );\n\n    try {\n        createDataBase();\n        openDataBase();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n\n}\n\n/**\n * Singleton for DataBase\n *\n * @return singleton instance\n */\npublic static DataBaseHelper instance() {\n\n    if ( sInstance == null ) {\n        sInstance = new DataBaseHelper();\n    }\n    return sInstance;\n}\n\n/**\n * Creates a empty database on the system and rewrites it with your own\n * database.\n *\n * @throws java.io.IOException io exception\n */\nprivate void createDataBase() throws IOException {\n\n    boolean dbExist = checkDataBase();\n\n    if ( dbExist ) {\n        // do nothing - database already exist\n    } else {\n\n        // By calling this method an empty database will be created into\n        // the default system path\n        // of your application so we are gonna be able to overwrite that\n        // database with our database.\n        this.getReadableDatabase();\n\n        try {\n\n            copyDataBase();\n\n        } catch ( IOException e ) {\n\n            throw new Error( \"Error copying database\" );\n        }\n    }\n}\n\n/**\n * Check if the database already exist to avoid re-copying the file each\n * time you open the application.\n *\n * @return true if it exists, false if it doesn't\n */\nprivate boolean checkDataBase() {\n\n    SQLiteDatabase checkDB = null;\n\n    try {\n        String myPath = DB_PATH + DB_NAME;\n        checkDB = SQLiteDatabase.openDatabase( myPath, null,\n                SQLiteDatabase.OPEN_READONLY );\n\n    } catch ( SQLiteException e ) {\n\n        // database doesn't exist yet.\n\n    }\n\n    if ( checkDB != null ) {\n\n        checkDB.close();\n\n    }\n\n    return checkDB != null;\n}\n\n/**\n * Copies your database from your local assets-folder to the just created\n * empty database in the system folder, from where it can be accessed and\n * handled. This is done by transfering bytestream.\n *\n * @throws java.io.IOException io exception\n */\npublic void copyDataBase() throws IOException {\n\n    // Open your local db as the input stream\n    InputStream myInput = ApplicationContextProvider.getContext().getAssets().open( DB_NAME );\n\n    // Path to the just created empty db\n    String outFileName = DB_PATH + DB_NAME;\n\n    // Open the empty db as the output stream\n    OutputStream myOutput = new FileOutputStream( outFileName );\n\n    // transfer bytes from the inputfile to the outputfile\n    byte[] buffer = new byte[ 1024 ];\n    int length;\n    while ( ( length = myInput.read( buffer ) ) &gt; 0) {\n        myOutput.write( buffer, 0, length );\n    }\n\n    // Close the streams\n    myOutput.flush();\n    myOutput.close();\n    myInput.close();\n\n}\n\nprivate void openDataBase() throws SQLException {\n\n    // Open the database\n    String myPath = DB_PATH + DB_NAME;\n    mDataBase = SQLiteDatabase.openDatabase( myPath, null,\n            SQLiteDatabase.OPEN_READWRITE );\n}\n\n/**\n * Select method\n *\n * @param query select query\n * @return - Cursor with the results\n * @throws android.database.SQLException sql exception\n */\npublic Cursor select( String query ) throws SQLException {\n    return mDataBase.rawQuery( query, null );\n}\n\n/**\n * Insert method\n *\n * @param table  - name of the table\n * @param values values to insert\n * @throws android.database.SQLException sql exception\n */\n\npublic void insert( String table, ContentValues values ) throws SQLException {\n    mDataBase.insert( table, null, values );\n}\n\n/**\n * Delete method\n *\n * @param table - table name\n * @param where WHERE clause, if pass null, all the rows will be deleted\n * @throws android.database.SQLException sql exception\n */\npublic void delete( String table, String where ) throws SQLException {\n\n    mDataBase.delete( table, where, null );\n\n}\n\n/**\n * Update method\n *\n * @param table  - table name\n * @param values - values to update\n * @param where  - WHERE clause, if pass null, all rows will be updated\n */\npublic void update( String table, ContentValues values, String where ) {\n\n    mDataBase.update( table, values, where, null );\n\n}\n\n/**\n * Let you make a raw query\n *\n * @param command - the sql comand you want to run\n */\n\n\npublic void sqlCommand( String command ) {\n    mDataBase.execSQL( command );\n}\n\n@Override\npublic synchronized void close() {\n\n    if (mDataBase != null)\n        mDataBase.close();\n\n    super.close();\n\n}\n\n@Override\npublic void onCreate( SQLiteDatabase db ) {\n\n}\n\n@Override\npublic void onUpgrade( SQLiteDatabase db, int oldVersion, int newVersion ) {\n\n}\n\n}\n</code></pre>\n\n<p><strong>and a fragment of code in the method viewSavedToast():</strong></p>\n\n<pre><code>AlertDialog ad = new AlertDialog.Builder( this ).create();\n    //ad.setCancelable( true );\n    ad.setTitle( \"Successful\" );\n    ad.setMessage( \"You're result is saved in the database!\" );\n    ad.setButton( \"OK\", new DialogInterface.OnClickListener() {  \n        public void onClick( DialogInterface dialog, int which ) {  \n            //with ContentValues put the data we want into the database\n            ContentValues values = new ContentValues();\n            String column_name = etanswer.getText().toString();\n            values.put( COLUMN_NAME, column_name  );\n\n            //here we insert the data we have put in values\n            dataBase.insert( TABLE_NAME, values );\n            dialog.dismiss();           \n            }  \n    });  \n    ad.show(); \n</code></pre>\n\n<p>When I ran the application, save the data to the DB, I got an error on the onClick() method? What is the problem? I believe I followed all the steps in the tutorial that I found here: <a href=\"http://myandroidsolutions.blogspot.com/2012/07/android-database-tutorial.html\" rel=\"nofollow\">http://myandroidsolutions.blogspot.com/2012/07/android-database-tutorial.html</a> but somehow I got an error.</p>\n\n<p>The log:</p>\n\n<pre><code>    10-17 20:50:11.118: E/AndroidRuntime(368): FATAL EXCEPTION: main\n    10-17 20:50:11.118: E/AndroidRuntime(368): java.lang.NullPointerException\n    10-17 20:50:11.118: E/AndroidRuntime(368):  at                                    com.fps.iHealthFirst.BMICalculator.viewBMISavedToast(BMICalculator.java:121)\n    10-17 20:50:11.118: E/AndroidRuntime(368):  at com.fps.iHealthFirst.BMICalculator.calculateMen(BMICalculator.java:194)\n10-17 20:50:11.118: E/AndroidRuntime(368):  at com.fps.iHealthFirst.BMICalculator.onClick(BMICalculator.java:143)\n10-17 20:50:11.118: E/AndroidRuntime(368):  at android.view.View.performClick(View.java:2485)\n10-17 20:50:11.118: E/AndroidRuntime(368):  at android.view.View$PerformClick.run(View.java:9080)\n10-17 20:50:11.118: E/AndroidRuntime(368):  at android.os.Handler.handleCallback(Handler.java:587)\n</code></pre>\n"},{"tags":["java","android","sqlite","android-sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":54,"score":1,"question_id":12934718,"title":"Clear sqlite database at a certain point of an application","body":"<p>I want to clear my SQLite db every time I hit a particular spot in my application.</p>\n\n<p>I intended on just making a method that I could call called <code>resetTables()</code>, but this seems to be more challenging than I expected because I don't really know where to place it. Here is a snippet.</p>\n\n<pre><code>@Override\n        public void onCreate(SQLiteDatabase db) {\n\n            db.execSQL(DATABASE_CREATE);\n\n        }\n        public void reset(SQLiteDatabase db) {\n\n            db.execSQL(\"DROP TABLE IF EXISTS \" + DATABASE_TABLE);\n\n        }\n</code></pre>\n\n<p>I'm getting a yellow line under reset and I can't call this method in my code. Any ideas?</p>\n\n<p>Note this <a href=\"http://stackoverflow.com/questions/4499420/how-can-i-clear-a-sqlite-database-each-time-i-start-my-app\">question</a> is similar, but couldn't get it to help me.</p>\n\n<h2>This worked:</h2>\n\n<pre><code>public void resetTables(){\n        mDb.delete(TABLE_NAME, null, null);\n    }\n</code></pre>\n"},{"tags":["sqlite","glob","brackets"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":18,"score":1,"question_id":12934671,"title":"How to use glob and find brace brackets in sqlite?","body":"<p>I want to use sqlite3 query like this:</p>\n\n<p><code>select * from Log where Desc glob '*[ _.,:;!?-(){}[]&lt;&gt;''\"]OK';</code><br></p>\n\n<p>to find records which ends with OK, like<br>\n<code>OK</code><br>\n<code>asdasda _OK</code><br>\n<code>asda (OK</code><br>\n<code>dasda [OK</code><br>\n<code>dasda ]OK</code><br></p>\n\n<p>but this fails me when i use back bracket in query<code>...glob '*[ []]OK';</code><br></p>\n\n<p>Any suggestions?</p>\n"},{"tags":["ios","sqlite","google-analytics","google-analytics-api","bug"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":12935051,"title":"Google Analytics Error: Failed to insert hit into database 'database disk image is malformed'","body":"<p>I've updated our Google Analytics iOS SDK from 1.1 to 1.5.1.\nNow I get this error on many, <em>but not all</em>, calls to <code>trackEvent</code>:</p>\n\n<blockquote>\n  <p>Error: Failed to insert hit into database 'database disk image is\n  malformed'.</p>\n</blockquote>\n\n<p>The errors really got away when I deleted the app in Xcode organizer and started it again. But I cannot do that for each user...</p>\n\n<p><strong>Any idea how to cope with this?</strong></p>\n\n<p>And... any idea where to do bug reports at Google?? I used \"Report bug\" at the bottom of the page where the <a href=\"https://developers.google.com/analytics/devguides/collection/ios/resources\" rel=\"nofollow\">SDK resides</a>, but it looks more like a feedback tool for website misspellings.</p>\n\n<p><em>Note:</em> It does <em>not</em> happen due to the <code>label</code> being <code>nil</code> vs. <code>@\"\"</code>.</p>\n"},{"tags":["android","sqlite"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":651,"score":2,"question_id":4078745,"title":"By Default load some data into our database sqlite","body":"<p>I want to insert some tables by default to our <code>sqllite</code> db. </p>\n\n<p>I want to display different items according to different categories. In the application, a user can also add items and new categories, for that purpose I want to add some data to db by default. How can we add data to <code>sqlite</code> by default. Please give me some suggestions.</p>\n\n<p>Thanks in advance </p>\n"},{"tags":["c#","image","sqlite","compact-framework"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":1251,"score":1,"question_id":10853301,"title":"Save and Load image SQLite C#","body":"<p>I'm trying to save and load images with SQLite with an app on WinForm with CF. I found a way to save an image into the db but I don't know if it's right because I couldn't find a way to load the image stored in the db. </p>\n\n<p>I have a code to convert my image into a Base64:</p>\n\n<pre><code>public void ImageToBase64(Image image, System.Drawing.Imaging.ImageFormat format){\n        using (MemoryStream ms = new MemoryStream()){\n            // Convert Image to byte[]\n            image.Save(ms, format);\n            byte[] imageBytes = ms.ToArray();\n\n            // Convert byte[] to Base64 String\n            string base64String = Convert.ToBase64String(imageBytes);\n            SaveImage(base64String);\n        }\n    }\n</code></pre>\n\n<p>This is my code to save the image into the db:</p>\n\n<pre><code>void SaveImage(string pic){\n        string query = \"insert into Table (Photo) values (@pic);\"; \n        string conString = @\" Data Source = \\Program Files\\Users.s3db \";            \n        SQLiteConnection con = new SQLiteConnection(conString); \n        SQLiteCommand cmd = new SQLiteCommand(query, con);\n        cmd.Parameters.Add(\"@pic\",DbType.String);\n        con.Open(); \n        try{\n            cmd.ExecuteNonQuery();\n        }\n        catch (Exception exc1){\n            MessageBox.Show(exc1.Message);\n        }\n        con.Close();\n    }\n</code></pre>\n\n<p>I have a code to make the opposite of ImageToBase64 but first I need to load the image from the db. Any idea to do that?</p>\n\n<p><strong>EDIT</strong> I am trying to use the blob to save the image now as Charlie suggested. I tried this code:</p>\n\n<pre><code>Image photo = new Bitmap(@\"\\Photos\\Image20120601_1.jpeg\");\nSaveImage(photo);\n\nvoid SaveImage(Image pic){\nstring conString = @\" Data Source = \\Program Files\\Users.s3db \";            \nSQLiteConnection con = new SQLiteConnection(conString);\nSQLiteCommand cmd = con.CreateCommand();\ncmd.CommandText = String.Format(\"INSERT INTO Table (Photo) VALUES (@0);\");\nSQLiteParameter param = new SQLiteParameter(\"@0\", System.Data.DbType.Binary);\nparam.Value = pic;\ncmd.Parameters.Add(param);\ncon.Open(); \ntry{\n    cmd.ExecuteNonQuery();\n}\ncatch (Exception exc1){\n    MessageBox.Show(exc1.Message);\n}\ncon.Close();}\n</code></pre>\n\n<p>But when I <em>ExcecuteNonQuery()</em> it catch an error of <em>InvalidCastException</em>.</p>\n\n<p>Any suggest?</p>\n\n<p><strong>SOLUTION</strong> This code save an image into the database and then it load the image to show it in a pictureBox:</p>\n\n<pre><code>namespace ImagenSQLite\n{\n    public partial class Form1 : Form\n    {\n        public Form1()\n        {\n            InitializeComponent();\n            Image photo = new Bitmap(@\"\\Photos\\Image20120601_1.jpeg\");\n            byte[] pic = ImageToByte(photo, System.Drawing.Imaging.ImageFormat.Jpeg);\n            SaveImage(pic);\n            LoadImage();\n        }\n\n        public byte[] ImageToByte(Image image, System.Drawing.Imaging.ImageFormat format){\n            using (MemoryStream ms = new MemoryStream())\n            {\n                // Convert Image to byte[]\n                image.Save(ms, format);\n                byte[] imageBytes = ms.ToArray();\n                return imageBytes;\n            }\n        }\n        //public Image Base64ToImage(string base64String)\n         public Image ByteToImage(byte[] imageBytes)\n        {\n            // Convert byte[] to Image\n            MemoryStream ms = new MemoryStream(imageBytes, 0, imageBytes.Length);\n            ms.Write(imageBytes, 0, imageBytes.Length);\n            Image image = new Bitmap(ms);\n            return image;\n        }\n        /***************** SQLite **************************/\n        void SaveImage(byte[] imagen){\n            string conStringDatosUsuarios = @\" Data Source = \\Program Files\\GPS___CAM\\Data\\DatosUsuarios.s3db \";            \n            SQLiteConnection con = new SQLiteConnection(conStringDatosUsuarios); \n            SQLiteCommand cmd = con.CreateCommand();\n            cmd.CommandText = String.Format(\"INSERT INTO Empleados (Foto) VALUES (@0);\");\n            SQLiteParameter param = new SQLiteParameter(\"@0\", System.Data.DbType.Binary);\n            param.Value = imagen;\n            cmd.Parameters.Add(param);\n            con.Open();\n\n            try\n            {\n                cmd.ExecuteNonQuery();\n            }\n            catch (Exception exc1)\n            {\n                MessageBox.Show(exc1.Message);\n            }\n            con.Close();\n        }\n        void LoadImage(){\n            string query = \"SELECT Photo FROM Table WHERE ID='5';\";\n            string conString = @\" Data Source = \\Program Files\\Users.s3db \";\n            SQLiteConnection con = new SQLiteConnection(conString); \n            SQLiteCommand cmd = new SQLiteCommand(query, con);            \n            con.Open();\n            try\n            {\n                IDataReader rdr = cmd.ExecuteReader();\n                try\n                {\n                    while (rdr.Read())\n                    {\n                        byte[] a = (System.Byte[])rdr[0];\n                        pictureBox1.Image = ByteToImage(a);\n                    }\n                }\n                catch (Exception exc) { MessageBox.Show(exc.Message); }\n            }\n            catch (Exception ex) { MessageBox.Show(ex.Message); }\n            con.Close();\n        }       \n    }\n}\n</code></pre>\n\n<p>Thanks for your help!</p>\n"},{"tags":["android","sqlite","android-sqlite"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":12931973,"title":"Android : SQLite search","body":"<p>I am developing a simple app that inserts in database and searches in the inserted data </p>\n\n<p>i created the database and i could see all the rows inserted...i want to search for the rows using the Name column</p>\n\n<p>i am having an error and i don't know where is the error line</p>\n\n<p>below is my code to create the database.</p>\n\n<pre><code>sampleDB =  this.openOrCreateDatabase(SAMPLE_DB_NAME, MODE_PRIVATE, null);\n\nsampleDB.execSQL(\"CREATE TABLE IF NOT EXISTS \"+SAMPLE_TABLE_NAME +\n                    \" (Id INT(50), Name VARCHAR,\" +\n                    \" Price INT(50), Qty INT(50), Discount INT(50), Category INT(10));\");\n</code></pre>\n\n<p>and here's the code to search in the database</p>\n\n<pre><code>Button saveButton = (Button) findViewById(R.id.search_button);\n\n        saveButton.setOnClickListener(new View.OnClickListener() {\n\n            public void onClick(View arg0) {\n\n                String searchStr = search.getText().toString();\n\n                Cursor c = sampleDB.rawQuery(\"SELECT Name, Price FROM \"+SAMPLE_TABLE_NAME+\" WHERE Name like '\"+searchStr+\"'\", null);\n\n                if (c != null ) { \n                    if  (c.moveToFirst()) {\n                        do {\n                            String name = c.getString(c.getColumnIndex(\"Name\"));\n                            int cat = c.getInt(c.getColumnIndex(\"Category\"));\n                            results.add(\"\" + name + \",Age: \" + cat);\n                            Log.v(\"Fname\", name);\n                            Log.v(\"Cat\", cat+\"\");\n                        }while (c.moveToNext());\n                    }\n                }\n\n            }\n        });\n</code></pre>\n\n<p>knowing that searchStr has the name i want to search for in the database</p>\n\n<p>here's the error i am having</p>\n\n<pre><code>Bad request for field slot 0,-1. numRows = 18, numColumns = 2\nFATAL EXCEPTION: main\njava.lang.IllegalStateException: get field slot from row 0 col -1 failed\n</code></pre>\n\n<p>any help please ?</p>\n"}]}
{"total":16516,"page":9,"pagesize":100,"questions":[{"tags":["c","sqlite"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":40,"score":1,"question_id":12928093,"title":"How do I lock a SQLite database?","body":"<p>I have a trigger on a table that I dont want to trigger during specific contexts. </p>\n\n<p>In order to do this, I plan on: </p>\n\n<ol>\n<li>locking the database</li>\n<li>dropping the trigger</li>\n<li>performing my operations</li>\n<li>adding the trigger</li>\n<li>unlocking the database</li>\n</ol>\n\n<p>Locking the database is necessary so that any operations that other threads attempt to perform will halt until the triggers are back in place. How do I do this from the C code?</p>\n"},{"tags":["android","sqlite","database-design"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":38,"score":1,"question_id":12931624,"title":"SQLite correct architecture vs performance","body":"<p>I was wondering performance wise does creation and call to a table it self costs any performance?</p>\n\n<p>I have a small table which will have about six columns and two rows. Problem is that from architectural point of view the table is in officiant there should be three tables with from two to three columns related via keys.</p>\n\n<p>My dilemma is correct architecture vs performance but I have no actual understanding of performance the right architecture would take up.</p>\n\n<p>P.S. The data from database will be retrieved only once.</p>\n"},{"tags":["android","database","sqlite","random"],"answer_count":3,"favorite_count":3,"up_vote_count":5,"down_vote_count":0,"view_count":135,"score":5,"question_id":12516485,"title":"Select at least one from each category?","body":"<p><a href=\"http://www.sqlfiddle.com/#!5/edd1b/1/0\" rel=\"nofollow\">SQLFiddle Link</a>  </p>\n\n<p>I've got an SQLite database with a bunch of test/exam questions. Each <strong>question</strong> belongs to one <strong>question category</strong>. </p>\n\n<p>My table looks like this:<br>\n<img src=\"http://i.stack.imgur.com/2sze8.jpg\" alt=\"so_questions table\"></p>\n\n<p><strong>The goal</strong><br>\nWhat I'm trying to do is select 5 random questions, but the result must contain <strong>at least</strong> one from each category. The goal is to select a random set of questions with questions from each category.</p>\n\n<p>For example, the output could be question IDs <code>1, 2, 5, 7, 8</code>, or <code>2, 3, 6, 7, 8</code> or <code>8, 6, 3, 1, 7</code>.   </p>\n\n<p><strong>ORDER BY category_id, RANDOM()</strong><br>\nI can get a random list of questions from SQLite by executing the SQL below, but how would I make sure that the result contains a question from each of my categories?</p>\n\n<p><img src=\"http://i.stack.imgur.com/BW6Fr.jpg\" alt=\"SELECT ORDER BY category_id, random\"></p>\n\n<p>Basically, I'm looking for something like <a href=\"http://stackoverflow.com/questions/5633619/select-2-products-from-each-category-in-mysql\">this</a>, the SQLite version.</p>\n\n<p>I would like to get only 5 results, but one(or more) from each category, with all the categories represented in the result set.  </p>\n\n<p><strong>Bounty</strong><br>\nAdded a bounty because I'm curious whether or not it is possible to accomplish this in SQLite only. I can do it in SQLite+Java, but is there a way to do this in SQLite only? :)</p>\n\n<p><a href=\"http://www.sqlfiddle.com/#!5/edd1b/1/0\" rel=\"nofollow\">SQLFiddle Link</a>  </p>\n"},{"tags":["actionscript-3","flex","sqlite","locking","timeout"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":12914911,"title":"Change lock timeout for SQLConnection (sqlite database) in Flex/AIR","body":"<p>I use sqlite in Flex with <code>flash.data.SQLConnection</code></p>\n\n<p>How to change lock timeout? The standard timeout is too small and when running inserts from two computers I get lock errors?</p>\n\n<p>I could run query after error again but it would be better if lock timeout would be set i.e. 2-5 seconds.</p>\n"},{"tags":["ios","xcode","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":12929104,"title":"sqlite3 - iOS - database is locked","body":"<p>I am developing an app for ipad and i am using sqlite sentences (select, update, insert, delete).</p>\n\n<p>I open (sqlite3_open) the database at the beginning and close (sqlite3_close) at the end of each sentence. But sometimes i´ve got the \"database is locked\" message.</p>\n\n<p>I don´t know what can i do to solve this.</p>\n\n<p>Thanks and sorry for this little information.</p>\n"},{"tags":["iphone","objective-c","ios","ipad","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":12929276,"title":"Performance issue with sqlite","body":"<p>I am using sqlite as database in my application. I am getting json response and I parsed it, created modal out of it and saved in the DB.</p>\n\n<p>Now the problem is : I am getting records in billions. Its slowing down the performance because it consumes one for loop in assigning json data in the modal and another to save in the DB. </p>\n\n<p>I want to reduce the performance issue and want to add values (with respect to keys) directly into DB. Will anyone guide regarding the better way ?</p>\n"},{"tags":["java","android","eclipse","sqlite"],"answer_count":4,"favorite_count":20,"up_vote_count":21,"down_vote_count":0,"view_count":5197,"score":21,"question_id":9109438,"title":"How to use an existing database with an Android application","body":"<p>I have already created an SQLite database. I want to use this database file with my Android project. I want to bundle this database with my application. </p>\n\n<p>Instead of creating a new database, how can the application gain access to this database and use it as its database?</p>\n"},{"tags":["python","sqlite","datetime","time","timestamp"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":117,"score":2,"question_id":10219645,"title":"Convert Long Int Timestamp to Date/Time","body":"<p>I use connect the sqlite3 of chrome 'History' file for analysis. But there are data for last_visit_time, which is timestamp, but I don't know how to change it to real time.\nI test like this:</p>\n\n<pre><code>2012-04-18 23:22:11.084300 (utctime)\n\n2012-04-19 01:22:11.084300 (myPC time)\n\n12,979,264,931,952,304 (the time stamp in the data)\n</code></pre>\n\n<p>I printed the utctime and clicked a website, almost at the same time. So I get the statistic like above. 12,979,264,931,952,304 is the long int, so normal way to convert is not possible.</p>\n\n<p>How can I convert the timestamp to a date?</p>\n"},{"tags":["ruby-on-rails","ruby-on-rails-3","sqlite","encoding"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":37,"score":1,"question_id":12926153,"title":"Why request.remote_ip.encoding is ASCII-8BIT?","body":"<p>The output of <code>&lt;%= request.remote_ip.encoding %&gt;</code> is <code>ASCII-8BIT</code>. </p>\n\n<p>When I store the <code>request.remote_ip</code> value in SQLite, there is a \"<a href=\"http://stackoverflow.com/questions/12912285/binary-data-inserted-for-string-type-on-column-remote-ip/\">Binary data inserted for <code>string</code> type on column 'remote_ip'</a>\" message.</p>\n\n<p>So, should I 'force_encoding' before storing in SQLite? Or, is there a config I can make <code>request.remote_ip</code> default to <code>UTF-8</code> (or maybe <code>ASCII-7BIT</code>)?</p>\n\n<pre><code>OS X Lion\nruby 1.9.3p194 \nRails 3.2.8\nsqlite3 (1.3.6)\nsqlite3-ruby (1.3.2)\n</code></pre>\n"},{"tags":["sqlite","primary-key","composite-primary-key"],"answer_count":4,"favorite_count":12,"up_vote_count":99,"down_vote_count":1,"view_count":33307,"score":98,"question_id":734689,"title":"Sqlite primary key on multiple columns","body":"<p>What is the syntax for specifying a primary key on more than 1 column in SQLITE ? </p>\n"},{"tags":["r","sqlite","data.table","plyr","reshape"],"answer_count":2,"favorite_count":6,"up_vote_count":8,"down_vote_count":0,"view_count":469,"score":8,"question_id":5307313,"title":"Fastest Tall-Wide pivoting in R","body":"<p>I am dealing with a simple table of the form</p>\n\n<pre><code>date         variable   value\n1970-01-01   V1         0.434\n1970-01-01   V2         12.12\n1970-01-01   V3         921.1\n1970-01-02   V1         -1.10\n1970-01-03   V3         0.000\n1970-01-03   V5         312e6\n...          ...        ...\n</code></pre>\n\n<p>The pairs (date, variable) are unique. I would like to transform this table into a wide-form one.</p>\n\n<pre><code>date         V1         V2         V3         V4         V5        \n1970-01-01   0.434      12.12      921.1      NA         NA\n1970-01-02   -1.10      NA         NA         NA         NA\n1970-01-03   0.000      NA         NA         NA         312e6\n</code></pre>\n\n<p>And I would like to do it in the fastest possible way, since I have to repeat the operation repeatedly over tables with 1e6 records. In R native mode, I believe that both <code>tapply()</code>, <code>reshape()</code> and <code>d*ply()</code> are dominated speed-wise by <code>data.table</code>.  I would like to test the performance of the latter against a sqlite-based solution (or other DB). Has this been done before? Are there performance gains? And, how does one convert tall-to-wide in sqlite, when the number of \"wide\" fields (the date) is variable and not known in advance?</p>\n"},{"tags":["java","hibernate","sqlite","data"],"answer_count":1,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":54,"score":3,"question_id":12921454,"title":"Hibernate per-user database","body":"<p>I am currently working on a (website-)project in which I intent to keep each user's data separate from another. The main database (containing information about the user (user, password etc)) is a MySQL database.</p>\n\n<p>Per-user there is a lot of data that needs to be stored and is important not to mix up with another user his/her data. Now I was thinking of using a sqlite db per user but I found out Hibernate (the db framework of my choice) does support sqlite by default.</p>\n\n<p>I found <a href=\"http://code.google.com/p/hibernate-sqlite/\" rel=\"nofollow\">http://code.google.com/p/hibernate-sqlite/</a> as an option. But I was wondering if there are any other database types with which it is easy to create one per-user, and preferably compatible with hibernate? If so, which ones?</p>\n"},{"tags":["sqlite","nhibernate","sqlite3","nhibernate-mapping"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":12911792,"title":"NHibernate SQLite encoding","body":"<p>I have set up my NHibernate app to use SQLite as the backend database for a small project. I'm using mapping by code to connect my entities to the database. Everything works fine but one thing: the data returned from the database has no Croatian special characters. When opening the database with SQLite administrator, the characters are shown correctly, but when fetched via a NHibernate Linq query, the special characters are shown as a black box with a question mark in it. I am using the following connection string:</p>\n\n<pre><code>\"Data Source=D:\\DATA\\TEST.DB;version=3\";\n</code></pre>\n\n<p>Is there any setup needed (in the database, the connection string or somewhere else) to make the characters show up correctly?</p>\n"},{"tags":["c#","sqlite","unit-testing","visual-studio-2012","dispose"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":148,"score":1,"question_id":12919447,"title":"SQLite.Interop.dll locked after running Visual Studio 2012 Unit Test Framework tests","body":"<ul>\n<li>Visual Studio 2012</li>\n<li>SQLite 1.0.82.0 (from nuget)</li>\n</ul>\n\n<p>I am trying to use the \"Run All\" command in the \"Test Explorer\"\nThe following error happens after you run the test once ... after that it will not build anymore, until you restart visual studio</p>\n\n<p>Here is the build error </p>\n\n<blockquote>\n  <p>The Process cannot access the file 'SQLite.Interop.dll' because it is\n  being used by another process</p>\n</blockquote>\n\n<p>here is the code</p>\n\n<pre><code>using System.Data.SQLite;\nusing Microsoft.VisualStudio.TestTools.UnitTesting;\n\nnamespace Test.Sqlite\n{\n    [TestClass]\n    public class Test_Sqlite_Locking\n    {\n        [TestMethod]\n        public void can_create_table()\n        {\n            using(var fact = new SQLiteFactory())            \n            using (var conn = fact.CreateConnection())\n            {\n                conn.ConnectionString = \"Data Source=:memory:;Version=3;New=True;\";\n                conn.Open();\n                //conn.Close();                \n            }\n\n            //SQLiteConnection.ClearAllPools();\n            //GC.Collect();\n        }\n    }\n}\n</code></pre>\n\n<p>I have tried, closing connection, calling ClearAllPools, GC.Collect, and creating the SQLiteConnection directly (instead of the Factory) ... still same issue</p>\n\n<p>This DOES work if you DEBUG ALL TESTS ... but it is when you just Run the tests that this seems to lock it up</p>\n"},{"tags":["sqlite","hash"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":12923969,"title":"SQLite flush on disk to calc db file hash,how?","body":"<p>I have program which with some period insert row in sqlite database. I need calc hash sum of database file after each insert without close connection. I have some problem with that, after insert database file hash sum are same with they have before insert. Only after closing connection hash sum are changed. How i can solve this problem?</p>\n"},{"tags":["python","sqlite","sqlalchemy","pyramid"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":12923304,"title":"re-initializing db for pyramid results in IntegrityError","body":"<p>I'm going through the tutorial for setup of a Pyramid app using SQLAlchemy and SQLite. I get to <a href=\"http://pyramid.readthedocs.org/en/latest/tutorials/wiki2/definingmodels.html#reinitializing-the-database\" rel=\"nofollow\" title=\"this point\">This point</a> and when I run <code>$ sudo ../bin/initialize_tutorial_db development.ini</code> the output that results states an IntegrityError, as follows:</p>\n\n<p><code>sqlalchemy.exc.IntegrityError: (IntegrityError) column name is not unique u'INSERT INTO pages (name, data) VALUES (?, ?)' ('FrontPage', 'This is the front page')</code></p>\n\n<p>So, I think I ultimately want to just drop the table Pages and re-run this script to initialize properly (I have no stake in this project - it's the tutorial) but I don't know how to access the DB at this point. </p>\n\n<p>I know SQL well, but I don't know SQLite at all, and I'm confused by the lack of a file or the use of a management interface to drop the table...</p>\n\n<p>What's the easiest way to rectify this issue?</p>\n"},{"tags":["android","query","sqlite","spatialite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12916041,"title":"Android: Failing to update row using SQL Extension function or builtin","body":"<p>I'm having a lot of trouble with SQLiteDatabase command.  I have loaded up spatialite and enabled the extension.  I want one of my values to be the output of the MakePoint function so I have a content value like this:</p>\n\n<pre><code>values.put(\"Location\", \"MakePoint(43.2, 27.345, 4326)\");\n</code></pre>\n\n<p>When this is passed into <code>SQLiteDatabase.Update()</code> it's escapsed so that the resulting string ends up being <code>\"UPDATE Targets SET Location='MakePoint(43.2, 27.345, 4326)'\"</code> SQLite hates this and throws an exception. </p>\n\n<p>Is there an easy way around this? Right now I'm trying to build up the string manually since I can't use Update.</p>\n"},{"tags":["android","sqlite","spinner","sharedpreferences","android-preferences"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":12885651,"title":"Android spinner value stored and activated by button","body":"<p>I´m working on a application with a spinner with some array items stored. I want the item that I select in the spinner becomes the \"Standard or Default\" spinner item, then through a button you will open that items Activity. And when you exit the app and then opens it again you should see the \"new\" default spinner item at first place.</p>\n\n<p><strong>Activity.java</strong></p>\n\n<pre><code>public void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_schema); {\n\n        android.widget.Spinner spinner = \n                (android.widget.Spinner) findViewById(R.id.spinner);\n\n        ArrayAdapter&lt;CharSequence&gt; adapter = ArrayAdapter.createFromResource(\n                this, R.array.Klasser, android.R.layout.simple_spinner_item);\n\n        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n        spinner.setAdapter(adapter);\n\n        spinner.setOnItemSelectedListener(new OnItemSelectedListener()\n        {\n\n            public void onItemSelected(AdapterView&lt;?&gt; arg0, View arg1,\n                    int arg2, long arg3) {\n\n                switch (arg2) {\n                case 0:                               \n                    break;\n\n                case 1:\n                    Toast.makeText(getApplicationContext(), \"Schema laddas...\", Toast.LENGTH_SHORT).show();\n                    Intent eclipse = new Intent(Android.this, Eclipse.class);\n                    startActivity(eclipse);                       \n                    break;\n\n            public void onNothingSelected(AdapterView&lt;?&gt; arg0) { }\n\n        }); \n</code></pre>\n\n<p><strong>Layout.xml</strong></p>\n\n<pre><code>&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nandroid:background=\"@drawable/new_backg\" &gt;\n\n&lt;!-- TextViews snipped --&gt;\n\n&lt;Spinner\n    android:id=\"@+id/spinner\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_alignParentLeft=\"true\"\n    android:layout_below=\"@+id/ar1\"\n    android:layout_marginTop=\"38dp\" /&gt;\n\n&lt;Spinner\n    android:id=\"@+id/spinner1\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_alignBaseline=\"@+id/spinner\"\n    android:layout_alignBottom=\"@+id/spinner\"\n    android:layout_alignLeft=\"@+id/ar2\" /&gt;\n\n&lt;Spinner\n    android:id=\"@+id/spinner2\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_alignBaseline=\"@+id/spinner1\"\n    android:layout_alignBottom=\"@+id/spinner1\"\n    android:layout_alignLeft=\"@+id/ar3\" /&gt;\n\n&lt;TextView\n    android:id=\"@+id/textView1\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_alignRight=\"@+id/ar2\"\n    android:layout_below=\"@+id/spinner1\"\n    android:layout_marginTop=\"74dp\"\n    android:text=\"@string/din_klass\"\n    android:textAppearance=\"?android:attr/textAppearanceLarge\" /&gt;\n\n&lt;Spinner\n    android:id=\"@+id/spinner3\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_alignParentLeft=\"true\"\n    android:layout_below=\"@+id/textView1\" /&gt;\n\n&lt;Button\n    android:id=\"@+id/tillschema\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_alignLeft=\"@+id/spinner1\"\n    android:layout_alignTop=\"@+id/spinner3\"\n    android:text=\"@string/till_schema\" /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n"},{"tags":["c#","wpf","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":62,"score":0,"question_id":12920792,"title":"C# and sqlite dates, issue with format","body":"<p>I have an application that use sqlite as local database, but I have problems with the format of the dates.</p>\n\n<p>I am using System.Data.Sqlite as database provider and I create my edmx, that is created from the sqlite database.</p>\n\n<p>When I make a query to the database, in my entity class that has some date field, I can see that the dateTime property has the correct format, in my case, dd mm yyyy and 18:00 (the hour is of 24 hours, not 12pm for example).</p>\n\n<p>However, when I do the binding (I am using WPF and MVVM) to the dataGrid, in the columns of date the format of the date is mm dd yyyy 12pm (the hour is not of 24).</p>\n\n<p>Why?, if I receive the data in the correct format, because the entity object has de date in the correct format I see the information in other format in the dataGrid? When I use SQL Server as dataBase, I don't have this problem, the format is correct in the dataGrid.</p>\n\n<p>My windows is configurated to ES (Spain).</p>\n\n<p>Thanks.</p>\n"},{"tags":["android","sqlite","android-emulator"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":4,"view_count":56,"score":-4,"question_id":12920496,"title":"how to solve a databse issue in actual android device?","body":"<p>I have created database in my application and stored data in that database now when i run my app in emulater it shows all the data but when i run the same app in my android device it shows the error ?\nhere is my code.</p>\n\n<pre><code>private static String DB_NAME = \"pa1.db\";\nprivate static String DB_PATH = \"/data/data/in.bitcode.sn/databases/\";\n\n\nprivate void copyDataBase() throws IOException {\n\n\n    InputStream myInput = context.getAssets().open(DB_NAME);\n\n    String outFileName = DB_PATH + DB_NAME;\n\n    OutputStream myOutput = new FileOutputStream(outFileName);\n\n    byte[] buffer = new byte[1024];\n    int length;\n    while ((length = myInput.read(buffer)) &gt; 0) {\n        myOutput.write(buffer, 0, length);\n    }\n\n    myOutput.flush();\n    myOutput.close();\n    myInput.close(); \n</code></pre>\n"},{"tags":["sql","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":69,"score":0,"question_id":12920426,"title":"Importing .sql file into SQLite","body":"<p>I'm trying to import a large .sql file into an SQLite .db file, but I'm getting the following errors:</p>\n\n<pre><code>sqlite&gt; .read ./smsCorpus_en_2012.04.30.sql \nError: near line 23: near \"COMMENT\": syntax error\nError: near line 50: near \"LOCK\": syntax error\nError: near line 52: near \"some1\": syntax error\nError: near line 58: near \"s\": syntax error\nError: near line 60: near \"s\": syntax error\nError: near line 66: near \"UNLOCK\": syntax error\n</code></pre>\n\n<p>The file is located at <a href=\"http://wing.comp.nus.edu.sg:8080/SMSCorpus/data/corpus/smsCorpus_en_sql_2012.04.30.zip\" rel=\"nofollow\">http://wing.comp.nus.edu.sg:8080/SMSCorpus/data/corpus/smsCorpus_en_sql_2012.04.30.zip</a> (direct file link) linked on this page <a href=\"http://wing.comp.nus.edu.sg:8080/SMSCorpus/history.jsp\" rel=\"nofollow\">http://wing.comp.nus.edu.sg:8080/SMSCorpus/history.jsp</a></p>\n\n<p>EDIT: just a warning, the file is quite large...not sure if this is the issue?</p>\n"},{"tags":["java","android","sqlite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":12919297,"title":"How to update a single item in a row in SQLite while keeping others same in android","body":"<p>I am using SQLIte in my app.While updating contact,i just want to get a specific item changed while keeping others same e.g if there are 3 items in the row i.e name,number,address I want to update only name while keeping the others 2 same.This the code:</p>\n\n<pre><code>public int updateContact(Contact contact) {\n    SQLiteDatabase db = this.getWritableDatabase();\n\n    ContentValues values = new ContentValues();\n    values.put(KEY_NAME, contact.getName());\n    values.put(KEY_PH_NO, contact.getPhoneNumber());\n    values.put(KEY_TIME, contact.getTime());\n\n    // updating row\n    return db.update(TABLE_CONTACTS, values, KEY_ID + \" = ?\",\n            new String[] { String.valueOf(contact.getID()) });\n}\n</code></pre>\n\n<p>Please tell me how to do it?Thanks in advance.</p>\n"},{"tags":["sql","sqlite"],"answer_count":4,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":927,"score":3,"question_id":6989895,"title":"How do I find the position of a character in a SQLite column?","body":"<p>If the result \"joe@stackoverflow.com\" and I want to find the position of the @ symbol (3).  Is it possible?  It does not appear that SQLite has the equivalent of INSTR, LOCATE, POSITION or any such function.</p>\n\n<p>SELECT ?('joe@stackoverflow.com')</p>\n\n<p><strong>Update</strong> I ended up registering a custom extension function, but was surprised that I had to.</p>\n"},{"tags":[".net","query","sqlite","driver"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12918126,"title":"C# application compiled with .NET SQLite driver?","body":"<p>Real quick question! <strong>*If I load an SQLite driver into my .NET project, when I save and compile this project (it's a simple Windows Forms application), will the SQLite driver form part of the application?</strong> Basically I'm planning on having one of my form controls execute an SQL query on an SQLite database which will exist on a user's machine. Obviously if this driver does not exist then the SQLite database file will not be able to be interpreted!</p>\n\n<p>Thanks for any input.</p>\n"},{"tags":["android","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":38,"score":0,"question_id":12918079,"title":"Difficulty in updating a contact in SQLite","body":"<p>I am using sqlite to maintain database in my android application.Other operations are working fine but the <code>Update Operation</code> is not working.This is the code:</p>\n\n<pre><code>public int updateContact(Contact contact,String Type) \n    {\n        int a = 0;\n        SQLiteDatabase db = this.getWritableDatabase();\n\n        ContentValues values = new ContentValues();\n\n        values.put(KEY_NAME, contact.getName());\n        values.put(KEY_PH_NO, contact.getPhoneNumber());\n        values.put(KEY_TIME, contact.getTime());\n        values.put(KEY_ID , contact.getID());\n\n        if(Type == \"name\")\n        {\n            a = db.update(TABLE_CONTACTS, values, KEY_NAME + \" = ?\",\n                    new String[] { String.valueOf(contact.getName()) });\n        }\n\n        else if(Type == \"id\")\n            // updating row\n            a =  db.update(TABLE_CONTACTS, values, KEY_ID + \" = ?\",\n                    new String[] { String.valueOf(contact.getID()) });\n\n        else if(Type == \"number\")\n            // updating row\n            a= db.update(TABLE_CONTACTS, values, KEY_PH_NO + \" = ?\",\n                    new String[] { String.valueOf(contact.getPhoneNumber()) });\n\n        else if(Type == \"time\")\n            a= db.update(TABLE_CONTACTS, values, KEY_TIME + \" = ?\",\n                    new String[] { String.valueOf(contact.getTime())}); \n\n        return a;\n    }\n</code></pre>\n\n<p>Please help me.</p>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":40,"score":-3,"question_id":12912299,"title":"SQLite query with calculation","body":"<p>I need to construct SQLite query like this:</p>\n\n<pre><code>SELECT * FROM main WHERE &lt;column Start Month&gt; is smaller than current Month AND  &lt;column End Month&gt; is bigger than current Month. \n</code></pre>\n\n<p>Is this possible in SQLite?</p>\n"},{"tags":["performance","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":65,"score":1,"question_id":12677761,"title":"Sqlite appending data performance linear degradation, is this solvable?","body":"<p>I have a test set up to write rows to a database.\nEach transaction inserts 10,000 rows, no updates.\nEach step takes a linear time longer then the last.\nThe first ten steps took the following amount of time in ms to perform a commit</p>\n\n<p>568, 772, 942, 1247, 1717, 1906, 2268, 2797, 2922, 3816, 3945</p>\n\n<p>By the time it reaches adding 10,00 rows to a table of 500,000 rows, it takes 37149 ms to commit!</p>\n\n<ul>\n<li><p>I have no foreign key constraints.</p></li>\n<li><p>I have found using WAL, improves performance (gives figures above), but still linear degradation</p></li>\n<li><p>PRAGMA Synchronous=OFF has no effect</p></li>\n<li><p>PRAGMA locking_mode=EXCLUSIVE has no effect</p></li>\n<li><p>Ran with no additional indexes and additional indexes.  Made a roughly constant time difference, so was still a linear degradation.</p></li>\n</ul>\n\n<p>Some other settings I have</p>\n\n<ul>\n<li>setAutocommit(false)</li>\n<li>PRAGMA page_size = 4096</li>\n<li>PRAGMA journal_size_limit = 104857600</li>\n<li>PRAGMA count_changes = OFF</li>\n<li>PRAGMA cache_size = 10000</li>\n<li>Schema has Id INTEGER PRIMARY KEY ASC, insertion of which is incremental and generated by Sqlite</li>\n</ul>\n\n<p>Full Schema as follows (I have run both with and without indexes, but have included)</p>\n\n<pre><code>create table if not exists [EventLog] (\nId INTEGER PRIMARY KEY ASC, \nDocumentId TEXT NOT NULL, \nEvent TEXT NOT NULL, \nContent TEXT NOT NULL, \nTransactionId TEXT NOT NULL, \nDate INTEGER NOT NULL, \nUser TEXT NOT NULL)\n\ncreate index if not exists DocumentId ON EventLog (DocumentId)\n\ncreate index if not exists TransactionId ON EventLog (TransactionId)\n\ncreate index if not exists Date ON EventLog (Date)\n</code></pre>\n\n<p>This is using sqlite-jdbc-3.7.2 running in a windows environment</p>\n"},{"tags":["objective-c","ios","xcode","sqlite","core-data"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12916545,"title":"Core Data Transformer","body":"<p>I want to encrypt some Core Data columns with the <code>NSValueTransformer</code> class but I'm not quite sure what encryption method to use. Has anyone ever tried to encrypt individual entities while using Core Data and if so, is there any sample code of a working implementation? I would want the encryption to not interfere with any <code>NSPredicate</code>s I use later on to get back data from the db</p>\n"},{"tags":["database","xcode","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":510,"score":0,"question_id":7276816,"title":"Xcode: SQLite in embedded method","body":"<p>I'm dealing here with a new problem. \nI started with the following code: </p>\n\n<pre><code>-(IBAction) Login:(id) sender{\n\n    const char *dbpath = [databasePath UTF8String];\n    sqlite3_stmt *statement;\n\n    if (sqlite3_open(dbpath, &amp;contactDB) == SQLITE_OK)\n    {\n        NSString *querySQL = [NSString stringWithFormat: @\"SELECT * FROM Contacts WHERE Login= (\\\"%@\\\") AND Password = (\\\"%@\\\")\", Login.text, Password.text];\n\n        const char *query_stmt = [querySQL UTF8String];\n\n        if (sqlite3_prepare_v2(contactDB, query_stmt, -1, &amp;statement, NULL) == SQLITE_OK)\n        {\n            if (sqlite3_step(statement) == SQLITE_ROW)\n            {\n                //Store '1' when a user wants to stay logged \n                **if(logSwitch.on){\n                    [self aStayLogged];\n                }else{\n                    [self aReleaseLogged];\n                }**\n                Model *model = [Model sharedModel];\n                model.paramLogged = Login.text;\n                //[self openSecondView:nil];\n\n            } else {\n                Status.text = @\"Login failed: Please check your ID and Password\";\n            }\n\n            sqlite3_finalize(statement);\n        }\n        sqlite3_close(contactDB);\n    }\n}\n\n-(void) aStayLogged {\n\n    sqlite3_stmt *statement;\n\n    const char *dbpath = [databasePath UTF8String];\n\n    if (sqlite3_open(dbpath, &amp;contactDB) == SQLITE_OK)\n    {\n            NSString *updateSQL = [NSString stringWithFormat: @\"UPDATE CONTACTS SET LOGGED = '1' WHERE LOGIN = (\\\"%@\\\")\", Login.text];     \n            const char *update_stmt = [updateSQL UTF8String];      \n            sqlite3_prepare_v2(contactDB, update_stmt, -1, &amp;statement, NULL);\n\n        int success = sqlite3_step(statement);\n            if (success == SQLITE_ERROR) {\n                //NSAssert1(0, @\"Error: failed to insert into the database with message '%s'.\", sqlite3_errmsg(contactDB));\n                Status.text = @\"Update failed\";\n            }else{\n                **Status.text = @\"Stay OK\";**\n            }\n        //sqlite3_bind_text(statement, 1, [coffeeName UTF8String], -1, SQLITE_TRANSIENT);\n        //sqlite3_bind_int(statement, 2, coffeeID);\n\n        sqlite3_finalize(statement);\n    }\n    sqlite3_close(contactDB);\n}\n</code></pre>\n\n<p>Here's the deal: If I link the method 'aStayLogged' as an IBAction to a button, the update is done correctly. But when I embed this method into the 'Login' method, nothing happens! </p>\n\n<p>I check this with the method: </p>\n\n<pre><code>-(IBAction) Check{\n\n    sqlite3_stmt *statement;\n\n    const char *dbpath = [databasePath UTF8String];\n\n    if (sqlite3_open(dbpath, &amp;contactDB) == SQLITE_OK)\n    {\n        NSString *querySQL = [NSString stringWithFormat: @\"SELECT LOGIN FROM CONTACTS WHERE LOGGED = '1'\"]; \n        const char *query_stmt = [querySQL UTF8String];\n\n        sqlite3_prepare_v2(contactDB, query_stmt, -1, &amp;statement, NULL);\n\n        if (sqlite3_step(statement) == SQLITE_ROW) {\n\n            NSString *loggedField = [[NSString alloc] initWithUTF8String:(const char *) sqlite3_column_text(statement, 0)];\n\n            Status.text = loggedField;\n\n            [loggedField release];\n\n        }else{\n\n            Status.text = @\"Update failed\";\n\n        }\n\n        sqlite3_finalize(statement);\n    }\n    sqlite3_close(contactDB);    \n\n}\n</code></pre>\n\n<p>The funny thing is that the status changes into \"Stay OK\" which is a confirmation that it should have worked!  Does anyone have an idea what could be the cause of this? Sorry for the long post -  I also happen to ask stupid questions, but this time I really don't see it... </p>\n"},{"tags":["android","database","sqlite","sqlcipher"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":12887551,"title":"SQLCipher Loadlibs and db password change","body":"<p>SQLCipher website mentions </p>\n\n<p>\"Init the database in onCreate() using SQLiteDatabase.loadLibs(this); //first init the db libraries with the context\"</p>\n\n<ol>\n<li><p>I am calling this loadlibs only once in my first activity (seems to be working). I want to make sure I do not need to call this function for every activity that might access the database. Is this correct?</p></li>\n<li><p>How do I change the database password? I tried rekey but that does not work. It still takes the old password.</p></li>\n</ol>\n\n<p>Any help would be appreciated.</p>\n\n<p>Thank you.</p>\n"},{"tags":["database","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":12914629,"title":"sqlite insert statement BAD MOJO","body":"<p>I have a simple problem which probably has a simple solution, but the solution alludes me... \nso I have a simple table i.e. phone that has 4 columns, and I want to add one new column. Since SQLite doesn't modify tables I have to drop and create. </p>\n\n<p><strong>phone_old</strong></p>\n\n<p>_id integer primary key autoincrement,<br>\nname text not null,<br>\nvalue text</p>\n\n<p><strong>phone</strong></p>\n\n<p>_id integer primary key autoincrement,<br>\nname text not null,<br>\nitemState text not null,<br>\nvalue text</p>\n\n<p>so I do the following : \n1. I rename the old table,\n2. I create the new one with the extra field (in my case it's itemState) and \n3. I select and insert everything defining a default value for itemstate. </p>\n\n<pre><code>1 ALTER TABLE Phone RENAME TO Phone_OLD;\n\n2 CREATE table Phone(\n_id integer primary key autoincrement, \nname text not null, \nitemState text not null, \nvalue text ); \n\n3) INSERT INTO Phone SELECT * , 'Synced' as itemState from Phone_OLD where Phone_OLD. ;\n</code></pre>\n\n<p>what happends as a result is that the item state (synced) is added as the last field and not in column 3 which is the itemState. </p>\n\n<p>so the column names do not correspond to the row values, meaning the itemstate is added at the end (as the last column in the row and not as position 3 as it's supposed to )</p>\n\n<p>Just putting the itemstate at the end would solve the problem, but since my table creation statements are generated I would have to rewrite a whole bunch of code to do so, and to be hones it pisses me off that this set of queries returns crap.. </p>\n\n<p>any ideas?</p>\n"},{"tags":["php","android","mysql","sqlite"],"answer_count":1,"favorite_count":2,"up_vote_count":4,"down_vote_count":0,"view_count":84,"score":4,"question_id":12914869,"title":"Sync databases sqlite with mysql","body":"<p>I have a database in android app and i like to sync this sqlite db with mysql master in internet.</p>\n\n<p>What is the best way to resolve this problem?</p>\n\n<p>-dump in a file, upload file using web services\n-dump in a file, upload with ftp and then cron\n- any others?</p>\n\n<p>Thankz</p>\n"},{"tags":["c#","sqlite","datatable"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":12914320,"title":"Comparing Multiple Tables","body":"<p>There is a horrible legacy tool at my workplace that has been updated/patched to output information to an SQLite database. No one wants to touch the back end of the system, and I don't know enough to dig into it - not my problem. Here is my problem however:</p>\n\n<p>I have an SQLite database, with a number of tables in it. Each table represents a day and contains all of the bus runs, listed such as such:</p>\n\n<pre><code>| Direction |   Time   | RunNumber | StopIndex |\n ----------------------------------------------\n|    In     |   6:30   |     1     |     1     |\n|    In     |   6:35   |     1     |     2     |\n|    In     |   6:40   |     1     |     3     |\n|    In     |   6:45   |     1     |     4     |\n|    In     |   7:30   |     2     |     1     |\n|    In     |   7:35   |     2     |     2     |\n|    In     |   7:40   |     2     |     3     |\n|    In     |   7:45   |     2     |     4     |\n|    Out    |   6:40   |     1     |     1     |\n|    Out    |   6:45   |     1     |     2     |\n|    Out    |   6:50   |     1     |     3     |\n|    Out    |   6:55   |     1     |     4     |\n</code></pre>\n\n<p>Some days can have more run's than others. The numbers of stops will be the same across all tables. </p>\n\n<p>The definition of equal is that both direction and time are the same. Each run is treated as a set - if one of the times for a stop differs, then the entire run needs to be merged into a table.</p>\n\n<p>My question is:</p>\n\n<p>What would be the easiest way, given a list of tables, to generate another table that contains values that were not present on all the given tables? This can be done on the SQLite side, or by C# .NET 4.0.</p>\n\n<p>In reality, I only need to know the run number that differs, so I can later extract it and put it into an Excel Spreadsheet, if that makes it any easier.</p>\n"},{"tags":["android","database","query","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":82,"score":0,"question_id":12913894,"title":"Sqlite select statement not working","body":"<p>I was making a sample app where I had created a database for sqlite, I have also inserted values inside the table. But when I am using the select query, I am getting nullpointer exception.</p>\n\n<p>This is my class:</p>\n\n<pre><code>public class MainActivity extends Activity {\n\n    Button insert;\n    Button show;\n    EditText name;\n    EditText mobile;\n    SQLiteDatabase db;\n    String name_str;\n    String mob_str;\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.main);\n\n\n        name = (EditText)findViewById(R.id.name_editText);\n\n\n        insert = (Button) findViewById(R.id.insert_button);\n\n        insert.setOnClickListener(new OnClickListener() {\n\n            @Override\n            public void onClick(View v) {\n                //Toast.makeText(getApplicationContext(), \"Onclick works\", Toast.LENGTH_LONG).show();\n\n\n\n                name_str=name.getText().toString();\n                Toast.makeText(getApplicationContext(), name_str, Toast.LENGTH_LONG).show();\n\n                // create or open database file\n                db = openOrCreateDatabase(\"Test.db\" , SQLiteDatabase.CREATE_IF_NECESSARY,  \n                                                                                      null);\n                db.setVersion(1);\n               // db.setLocale(Locale.getDefault());\n                db.setLockingEnabled(true);\n\n                //System.out.println(\"Database Created\");\n\n             // creating table in database\n                db.execSQL(\"CREATE TABLE IF NOT EXISTS \"+\"contacts\"+\" \" +\n                                \"( id INTEGER PRIMARY KEY AUTOINCREMENT,\" +\n                                \"  name varchar, \" +\n                                \"  mobile varchar ); \");\n\n                db.execSQL(\"INSERT INTO contacts(name, mobile)VALUES ('Swift','9830098300');\");\n\n                db.execSQL(\"drop table contacts\");\n\n\n                //Database Exists check\n                File database=getApplicationContext().getDatabasePath(\"Test.db\");\n\n                if (!database.exists()) {\n                    // Database does not exist so copy it from assets here\n                    Log.i(\"Database\", \"Not Found\");\n                } else {\n                    Log.i(\"Database\", \"Found\");\n                }\n\n\n\n\n\n\n            }\n\n\n\n        });\n        show = (Button) findViewById(R.id.show_button);\n\n        show.setOnClickListener(new OnClickListener() {\n\n            @Override\n            public void onClick(View v) {\n//                //Toast.makeText(getApplicationContext(), \"Onclick works\", Toast.LENGTH_LONG).show();\n                Cursor c =db.rawQuery(\"SELECT COUNT() FROM sqlite_master WHERE name ='contacts';\",null);\n                if (c != null ) {\n                    if  (c.moveToFirst()) {\n                          do {\n        String firstName = c.getString(c.getColumnIndex(\"name\"));\n\n                          }while (c.moveToNext());\n                    }\n               }\n\n            }\n        });\n\n    }\n\n\n\n\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        getMenuInflater().inflate(R.menu.main, menu);\n        return true;\n    }\n\n\n\n\n\n}\n</code></pre>\n\n<p>This is the main.xml:</p>\n\n<pre><code>&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\" &gt;\n\n    &lt;TextView\n        android:id=\"@+id/name_textView\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignParentLeft=\"true\"\n        android:layout_alignParentTop=\"true\"\n        android:layout_marginTop=\"60dp\"\n        android:text=\"Name:\"\n        android:textAppearance=\"?android:attr/textAppearanceMedium\" /&gt;\n\n    &lt;EditText\n        android:id=\"@+id/name_editText\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignBaseline=\"@+id/name_textView\"\n        android:layout_alignBottom=\"@+id/name_textView\"\n        android:layout_marginLeft=\"14dp\"\n        android:layout_toRightOf=\"@+id/name_textView\"\n        android:ems=\"10\" &gt;\n\n        &lt;requestFocus /&gt;\n    &lt;/EditText&gt;\n\n    &lt;TextView\n        android:id=\"@+id/mobile_textView\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignParentLeft=\"true\"\n        android:layout_below=\"@+id/name_editText\"\n        android:layout_marginTop=\"53dp\"\n        android:text=\"Mobile: \"\n        android:textAppearance=\"?android:attr/textAppearanceMedium\" /&gt;\n\n    &lt;EditText\n        android:id=\"@+id/mobile_editText\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignBaseline=\"@+id/mobile_textView\"\n        android:layout_alignBottom=\"@+id/mobile_textView\"\n        android:layout_alignLeft=\"@+id/name_editText\"\n        android:ems=\"10\"\n        android:inputType=\"phone\" /&gt;\n\n    &lt;Button\n        android:id=\"@+id/insert_button\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignLeft=\"@+id/mobile_editText\"\n        android:layout_centerVertical=\"true\"\n        android:text=\"Insert\" /&gt;\n\n    &lt;Button\n        android:id=\"@+id/show_button\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignBaseline=\"@+id/insert_button\"\n        android:layout_alignBottom=\"@+id/insert_button\"\n        android:layout_alignRight=\"@+id/mobile_editText\"\n        android:text=\"Show\" /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>Logcat:</p>\n\n<pre><code>10-16 17:16:28.938: D/AndroidRuntime(413): Shutting down VM\n10-16 17:16:28.938: W/dalvikvm(413): threadid=1: thread exiting with uncaught exception (group=0x4001d800)\n10-16 17:16:28.958: E/AndroidRuntime(413): FATAL EXCEPTION: main\n10-16 17:16:28.958: E/AndroidRuntime(413): java.lang.NullPointerException\n10-16 17:16:28.958: E/AndroidRuntime(413):  at com.cyberswift.database.example.MainActivity$2.onClick(MainActivity.java:97)\n10-16 17:16:28.958: E/AndroidRuntime(413):  at android.view.View.performClick(View.java:2408)\n10-16 17:16:28.958: E/AndroidRuntime(413):  at android.view.View$PerformClick.run(View.java:8816)\n10-16 17:16:28.958: E/AndroidRuntime(413):  at android.os.Handler.handleCallback(Handler.java:587)\n10-16 17:16:28.958: E/AndroidRuntime(413):  at android.os.Handler.dispatchMessage(Handler.java:92)\n10-16 17:16:28.958: E/AndroidRuntime(413):  at android.os.Looper.loop(Looper.java:123)\n10-16 17:16:28.958: E/AndroidRuntime(413):  at android.app.ActivityThread.main(ActivityThread.java:4627)\n10-16 17:16:28.958: E/AndroidRuntime(413):  at java.lang.reflect.Method.invokeNative(Native Method)\n10-16 17:16:28.958: E/AndroidRuntime(413):  at java.lang.reflect.Method.invoke(Method.java:521)\n10-16 17:16:28.958: E/AndroidRuntime(413):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)\n10-16 17:16:28.958: E/AndroidRuntime(413):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)\n10-16 17:16:28.958: E/AndroidRuntime(413):  at dalvik.system.NativeStart.main(Native Method)\n10-16 17:16:30.998: I/Process(413): Sending signal. PID: 413 SIG: 9\n</code></pre>\n\n<p>Exactly where am I going wrong...............</p>\n"},{"tags":["java","android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":12914088,"title":"What is the best way to make a JOIN query while using SQLiteOpenHelper","body":"<p>I am currently doing it like this.</p>\n\n<p>Is there a better way?</p>\n\n<pre><code>public Cursor selectRostersForTeam(Activity activity, int teamId) {\n\n    final String MY_QUERY = \"SELECT r.\" + _ROSTER_ID + \", t.\" + _TEAM_ID + \", t.\" + TEAM_NAME + \", t.\" + TEAM_SEASON_WINS + \", t.\" + TEAM_SEASON_LOSSES + \", t.\" + TEAM_CHAMPIONSHIP_WINS + \", j.\" + _TEAMS_ROSTERS_ID + \" FROM \" + TABLE_TEAM + \" AS p\" + \" JOIN \" + TABLE_TEAMS_ROSTERS + \" j ON (r.\" + _ROSTER_ID + \" = j.\" + TEAMS_ROSTER_ROSTER_ID + \") \" + \" JOIN \" + TABLE_TEAM + \" ch ON (j.\" + TEAMS_ROSTER_TEAM_ID + \" = t.\" + _TEAM_ID + \") WHERE j. \" + TEAMS_ROSTER_TEAM_ID + \" = \" + teamId + \";\";\n\n\n\n    SQLiteDatabase db = getReadableDatabase();\n\n    Cursor cursor = db.rawQuery(MY_QUERY, null);\n\n    activity.startManagingCursor(cursor);\n\n    return cursor;\n}\n</code></pre>\n"},{"tags":[".net","sqlite","driver"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":12914244,"title":".NET application to edit SQLite database/file","body":"<p>I'm designing an app in .NET which will enable me to click a button, and in turn, an SQLite file/database will be automatically edited (with a basic query). In order to do this do I need to implement a driver for SQLite, into my application, which will allow it to read the database file? Any help is appreciated, I'm a complete novice.</p>\n\n<p>I've looked at the possibility of using ADO.NET and dbExpress thus far.</p>\n"},{"tags":["android","debugging","sqlite"],"answer_count":5,"favorite_count":13,"up_vote_count":13,"down_vote_count":0,"view_count":3182,"score":13,"question_id":6928849,"title":"Debugging sqlite database on the device","body":"<p>I am presently working on an WiFi application for Android. I am having trouble trying to access the database on the device. Debugging in the emulator doesn't work for me, because there is no WiFi support in the emulator. I tried pulling the database file out of the device by using </p>\n\n<pre><code>adb pull data/data/package-name/databases/database-name\n</code></pre>\n\n<p>But I get the error \"Permission denied.\". \nIn this answer <a href=\"http://stackoverflow.com/questions/1105219/android-where-are-database-files-stored/1106563#1106563\">Android: Where are database files stored?</a>, Commonsware has suggested to pull database file by running in debug mode. But it doesn't work too. Any help on how to debug the database without rooting the device would be much appreciated.</p>\n"},{"tags":["ruby","sqlite","orm","connection","datamapper"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":433,"score":2,"question_id":3250042,"title":"Closing DataMapper DB connection","body":"<p>my rails application generates lots of small sqlite databases using DataMapper. After data saved, .sqlite-file must be uploaded on a remote server and destroyed locally.</p>\n\n<p>My question is how to make DataMapper close .sqlite db connection and free repo's memory? Application should generate many databases, so it's important to save server resources.</p>\n\n<p>Only way I googled is\n<code>DataObjects::Pooling.pools.each do {|pool| pool.dispose}</code>\nwhich is totally unacceptable for me I think because it seems to be closing all DataMapper connections, however few databases can be generated in parallel threads and I want to destroy DataMapper's repository too.</p>\n\n<p>Sorry for my English.</p>\n"},{"tags":["android","sql","sqlite","cursor"],"answer_count":3,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":64,"score":0,"question_id":12912580,"title":"Concat database tables 1 field multiple records string in one row","body":"<p>I have a tables and records like :</p>\n\n<pre><code>EmployeeName\n------------\nRam\nLaxman\nBharat\nShatrugn\n</code></pre>\n\n<p>where i want to output to concat all values in one row in a single query:</p>\n\n<p>I want result like:</p>\n\n<pre><code>Ram,Laxman,bharat,shatrugn\n</code></pre>\n\n<p>Concat string with ,(comma) in singlee line..\nbut i don't know that how to concat in android using cursor...</p>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":76,"score":0,"question_id":12911469,"title":"xml or sqlite file?","body":"<p>i need hints for SQLite; I receive in SOAP or REST format a large XML (betwen 200 and 5000 entries depending on the user, with around 30 columns) that i parse to a local SQLite db.\nThis operation takes too much time for the users (from 10 seconds up to 2 minutes), so i wanted to know :</p>\n\n<p>Is it possible under a window server (Delphi XE2 home made server) to create the SQLite database file and send the whole file to the mobile; Then on mobile side, replace the database file with the new one (data are not modified on client side, i can replace file with no regrets ^^ ) ?</p>\n\n<p>On a rooted mobile, i just can't find the SQLite database file (searched for it with esFileExplorer, /data, /dbdata, /sdcard/data... nowhere) so i just don't know where i will have to put that file in the end...</p>\n"},{"tags":["android","sqlite"],"answer_count":3,"favorite_count":2,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":12912049,"title":"Getting difficulty in removing database in SQLite","body":"<p>I am using SQLite database in my application.I want to remove/delete the database but unable to do so.I have checked the location of the database and it is present at /data/data/org.secure.sms/databases but when i tried to delete it,it was not successful.Please help me.\nThis is the code:</p>\n\n<pre><code>public static void DeleteDatabase(Context context)\n{\n    try\n    {\n\n    String filePath = context.getFilesDir()+ File.separator + \"contactsManager\";\n    String filePath1 = context.getFilesDir()+ File.separator + \"database\";\n    String filePath2 = context.getFilesDir()+ File.separator + \"databases\";\n\n    context.deleteDatabase(filePath);\n    context.deleteDatabase(filePath1);\n    context.deleteDatabase(filePath2);\n\n    File file = new File(filePath);\n    File file1 = new File( filePath1 );\n\ncontext.deleteFile(file.getName());\ncontext.deleteFile(file1.getName());\n    }\n    catch(Exception e)\n    {\n        Toast.makeText(context,\"Exception in DeleteDatabase\",Toast.LENGTH_SHORT).show();\n    }\n\n}\n</code></pre>\n\n<p>Please help me.Thanks in advance.</p>\n"},{"tags":["python","sqlite","pysqlite"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":2,"view_count":795,"score":0,"question_id":1481237,"title":"How can I make Python see sqlite?","body":"<p>I cannot use sqlite3 (build python package), for the reason that <code>_sqlite3.so</code> file is missing. I found that people had the same problem and they resolved it <a href=\"http://www.linuxquestions.org/questions/slackware-14/no-sqlite3.so-in-usrlibpython2.5lib-dynload-599027/\" rel=\"nofollow\">here</a>. To solve my problem I have to \"install <code>sqlite3</code> and recompile Python\". I also found out that the problem can be solved by \"building from source and moving the library to <code>/usr/lib/python2.5/lib-dynload/</code>\".</p>\n\n<p>As I have been told to here, I have to install sqlite from the source and copy newly compiled files to my Python directory (nothing was said about \"recompile Python\"). Well, I have installed sqlite and now I have to copy something to my <code>/lib-dynload/</code> directory.</p>\n\n<p>I am not sure what exactly I should copy. In my <code>/lib-dynload/</code> directory I have only .so files. And in my <code>sqlite-3.6.18</code> I do not have any <code>*.so</code> files (it makes me suspicious). I had this problem since I did not have <code>_sqlite3.so</code> file in <code>/lib-dynload/</code>. By compilation of sqlite I got some new files (for example <code>sqlite3.o</code> and <code>sqlite3.lo</code>) but <code>not _sqlite3.so</code>.</p>\n\n<p>P.S. Some details:\n<br>1. I use Python  2.6.2 (which I installed locally).\n<br>2. I do not have root permissions.\n<br>3. I had already sqlite installed globally on the machine by root.\n<br>4. I just installed sqlite locally.\n<br>5. My OS is CentOS release 5.3 (Final).\n<br>6. When I type in Python command line <code>import sqlite3</code> I get:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"/home/loctopu/opt/lib/python2.6/sqlite3/__init__.py\", line 24, in &lt;module&gt;\n    from dbapi2 import *\n  File \"/home/loctopu/opt/lib/python2.6/sqlite3/dbapi2.py\", line 27, in &lt;module&gt;\n    from _sqlite3 import *\nImportError: No module named _sqlite3\n</code></pre>\n"},{"tags":["sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":12906867,"title":".journal files in SQLite","body":"<p>Quick google search revealed that</p>\n\n<blockquote>\n  <p>The rollback journal is always located in the same directory as the\n  database file and has the same name as the database file except with\n  the 8 characters \"-journal\" appended. The rollback journal is usually\n  created when a transaction is first started and is usually deleted\n  when a transaction commits or rolls back.</p>\n</blockquote>\n\n<p>That's a lot of \"usually\" in one sentence.</p>\n\n<p>If at the end of the day, one is left with multiple journal files, what is it a symptom of? </p>\n\n<p>This seems to happen intermittently, i can't reliably reproduce the problem. </p>\n\n<p>How would you troubleshoot an intermittent issue like this please? Would would be a likely culprit?</p>\n\n<p>Update: I am running on OSX 10.8.2, SQLite version 3.7.14.1</p>\n"},{"tags":["iphone","objective-c","ios","sqlite","ios5"],"answer_count":2,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":77,"score":2,"question_id":12909307,"title":"SQLite Database Copy","body":"<blockquote>\n  <p>Is it is necessary to copy my local Database.sqlite to Documents directory in ios environment?\n   If Yes .,then please explain or refer link..</p>\n</blockquote>\n"},{"tags":["java","android","sqlite","boolean"],"answer_count":5,"favorite_count":2,"up_vote_count":18,"down_vote_count":0,"view_count":9182,"score":18,"question_id":4088080,"title":"Android sqlite get boolean from database","body":"<p>was just wondering, how can I obtain the value of a boolean field in a sqlite database in android?</p>\n\n<p>I usually use <code>getString()</code> <code>getInt()</code> etc to get the values of my fields, but there does not seem to be a <code>getBoolean()</code> method.</p>\n\n<p>Any takers?</p>\n\n<p>Kev</p>\n"},{"tags":[".net","performance","sqlite","non-admin"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":45,"score":2,"question_id":12908960,"title":"System.Data.SQLite slow connect for non-admin users","body":"<p>I have a .NET 4 application (in mixed mode) with System.Data.Sqlite (1.0.82) for database access to an encrypted database. </p>\n\n<p>When I install the application to \"c:\\program files\\myfolder\" the connect to the sqlite database file is slow. Log files show that it's the sqlite connect statement that is delayed by a few seconds. </p>\n\n<p>The problem does not occur when I do the following:</p>\n\n<ul>\n <li>Run the application with admin privileges</li>\n <li>Install any other place than c:\\program files\\</li>\n <li>Install the application to c:\\program files\\, but move the database to another folder.</li>\n</ul>\n\n<p>I have no clue what can be the cause of this...</p>\n"},{"tags":["ruby-on-rails","sqlite","postgresql"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12909058,"title":"Switching Rails app from SQLite to Postgres for local development","body":"<p>I have a little Rails app that is deployed on Heroku. They require a Postgres database, which was not a problem to switch from SQLite3 on their side, but now I can't develop locally without pushing to Heroku every time I want to see changes. I downloaded and installed all of the Postgres assets including the little MenuBar app that keeps a server running and have been all over documentation. Any help?</p>\n"},{"tags":["sql","query","sqlite"],"answer_count":2,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":36,"score":3,"question_id":12907178,"title":"Join Found and Not Fund records on same DataResult","body":"<p>I have a single table with Id, the thing is that i need to provide N number of Ids (using  WHERE id IN (1,5,101)) but i need to get the same number of records back (if i send 100 ids, i need a DataSet with 100 rows ..) even if Id doesn't exist on this table.</p>\n\n<p>I'm using SQLite so RIGHT JOIN is not an option.</p>\n\n<p>Here is some sample of what i have but cant make it work :S ..</p>\n\n<pre><code>SELECT * FROM (\n SELECT r.report_id, r.batch_name, tr.report_id id, tr.batch_name bn\n FROM reports tr\n LEFT OUTER JOIN (  SELECT report_id, batch_name FROM reports\n                    WHERE batch_name IN (\"L6964498\",\"AAAAAA\")) r on r.report_id = tr.report_id) as v \n LEFT JOIN reports ON v.id = reports.report_id\n</code></pre>\n\n<p>Thanks in advance ...</p>\n"},{"tags":["gui","database-design","sqlite"],"answer_count":15,"favorite_count":47,"up_vote_count":112,"down_vote_count":1,"view_count":64946,"score":111,"question_id":1507506,"title":"What are good open source GUI SQLite database managers?","body":"<p>Is there any good open source <a href=\"http://www.sqlite.org/\" rel=\"nofollow\">SQLite</a> database manager around?</p>\n\n<p>I am using sqlitebrowser now but I have to say the interface is not really friendly so I am looking for something better. </p>\n"},{"tags":["ios","sqlite","core-data"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":45,"score":-3,"question_id":11663396,"title":"Example of many to many relationships maintainence of data by using sqlite with out coredata in ios sdk?","body":"<p>I want to create a many-to-many relationship between two tables using sqlite with out using core-data concepts. Can you please provide examples for this?</p>\n\n<p>Thanks in Advance</p>\n"},{"tags":["sqlite","core-data","concurrency"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":35,"score":1,"question_id":12905477,"title":"Should I implement a synchronization solution if I have multiple threads accessing a SQLite database?","body":"<p>Let's say a CoreData stack is configured to use Sqlite as a persistence mechanism. </p>\n\n<p>As I understand neither ManagedObject no ManagedObjectContextinstances are thread safe. What about PersistentStoreManager, is it thread safe? </p>\n\n<p>In other words, should I implement some kind of synchronization solution if I have multiple threads reading and writing into the same persistent core data store?</p>\n"},{"tags":["r","sqlite","data.frame"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":36,"score":2,"question_id":12904294,"title":"Flowstrates and R: extracting and reshaping data in required format","body":"<p>I'm working on trying to transform a large dataset into the required formats for analyzing within the <a href=\"http://code.google.com/p/jflowmap/wiki/Flowstrates\" rel=\"nofollow\">flowstrates</a> package. </p>\n\n<p>What I currently have is a large file (600k trips) with origin and destination points.</p>\n\n<p>Format is sort of like this:</p>\n\n<pre><code>tripID   Month start_pt   end_pt\n1        June   1           3\n2        June   1           3\n3        July   1           5\n4        July   1           7\n5        July   1           7\n</code></pre>\n\n<p>What I need to be able to generate is a file that has trip counts by unit time (let's say months) in a format like this:</p>\n\n<pre><code>start_pt   end_pt  June July August ... December\n1          3       2    0    5          9\n1          5       0    1    4          4\n1          7       0    2    0          0\n</code></pre>\n\n<p>It's easy enough to pre-segment the data by month and then generate counts for each origin-destination pair, but then putting it all back together causes all sorts of problems since each of the pre-segmented chunks of data have very different sizes. So it seems that I'd need to do this for the entire dataset at once. </p>\n\n<p>Are there any packages for doing this type of processing? Would it be easier to do this in something like SQL or SQLite?</p>\n\n<p>Thanks in advance for any help.</p>\n"},{"tags":["sqlite","ide"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":78,"score":0,"question_id":8272534,"title":"Testing SQLite code online","body":"<p>Is there any website which provides the service for testing SQLite code online?</p>\n\n<p>For example, w3schools.com provides the service of working with SQL statements on their site. </p>\n"},{"tags":["javascript","html5","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":81,"score":4,"question_id":12903086,"title":"Is it possible to open an Sqlite database with Javascript and not using anything but HTML5?","body":"<p>I'm trying to create an application that works on any mobile device, but doesn't require internet.  I want to have an Sqlite database that I can query.  I found a script, but it creates a WebSQL database in the browser.  I want to query the flatfile.  Is that even possible?</p>\n\n<p>Here is my code:</p>\n\n<pre><code>function createDatabase() {\n    try{\n        if (window.openDatabase) {\n            var db;\n            var shortName = 'configurator.sqlite';\n            var version = '1.0';\n            var displayName = 'configurator';\n            var maxSize = 65335;\n\n            db = openDatabase(shortName, version, displayName, maxSize);\n        } else {\n            console.log('failure');\n        }\n    } catch(e) {\n        alert(e);\n    }\n}\n</code></pre>\n"},{"tags":["mysql","sql","sqlite","select","join"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":12902254,"title":"SQLite order by decimal numbers?","body":"<p>I have an SQLite DB where I would do a table join and order by a field <code>orderID</code>.  I needed to insert a new orderID between two existing ones (6 and 7), and a MYSQL person recommended just using 6.5 as this item's orderID.  However, when I use the following SQL that row is not even selected:</p>\n\n<pre><code>select i.caption, i_s.orderID, i_s.sectionID, i_s.name, r.fcid, r.pdf, r.title \nfrom recipes r \ninner join instructions i on r.fcid = i.recipeID \ninner join inst_sections i_s on i.timeID = i_s.sectionID \nwhere fcid IN (114806) \norder by i_s.orderID ASC\n</code></pre>\n\n<p>I get all the other orderIDs, in order, as expected but the 6.5 one is not in the selection set.  What am I missing here?</p>\n"},{"tags":["python","sqlite","variables","select","insert"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":69,"score":-2,"question_id":12901092,"title":"INSERT INTO....SELECT... with a variable in Python","body":"<p>Is it possible to use concatenation in sqlite with Python variable?</p>\n\n<p>For example, given this sample code:</p>\n\n<pre><code>conn=sqlite3.connect(...)\ncursor=conn.cursor()\n\nshort_hostname = commands.getoutput('hostname -s')\n\nsql='''\n    INSERT INTO history\n    SELECT id || '-' || ?, foo, bar, baz\n    FROM info\n'''\ncursor.execute(sql,short_hostname)\nconn.commit()\n</code></pre>\n\n<p>I get this error: <code>TypeError: unsupported operand type(s) for -: 'str' and 'str'</code>\nI'm actually using the attach command to merge results from several database into a master database. I want to make sure the key is unique, so I append the server short host name to the key.</p>\n\n<p>Thanks,\nPaul</p>\n"},{"tags":["objective-c","ios","sqlite","core-data"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":71,"score":0,"question_id":12901024,"title":"Encrypting Core Data entries","body":"<p>I had a question about encryption and core data. Is there any way to encrypt the entries/entities in a core data store so any and all info in the db is encrypted and then decrypted when a fetch request using a controller such as NSFetchedResultsController is made?</p>\n\n<p>I want to make sure though that operations such as search and sort on the db will be unaffected by the fact that the contents are encrypted</p>\n"},{"tags":["sql-server","sqlite"],"answer_count":2,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":4568,"score":4,"question_id":4539542,"title":"SQLite vs SQL Server","body":"<p>Would any one please differentiate what is best to use SQLite or SQL Server? I was using XML file as a data storage ADD, delete , update.. Some one suggested to use SQLite for fast operation but I am not familier with SQLite I know SQL Server.</p>\n\n<p>Thanx</p>\n"},{"tags":["android","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":12900541,"title":"Use of Direct Queries in SQLite?","body":"<p>I am currently studying SQLite and I have found that it uses various classes like ContentValues for insertion and updation... I was wondering whether I have to follow the given way or can I write a normal SQL query and use db.execSQL() method to execute them?\nWill it bring any inconsistency to my database because with these all \"extra\" steps doesnt it stop the flow of the query and I feel it would be faster if we use a query directly. </p>\n"},{"tags":["c++","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":70,"score":1,"question_id":12859686,"title":"SQLITE Is it possible to calculate the length of the longest increasing subsequence also referred to as sortation percent?","body":"<p>With the latest version of Sqlite, Is it possible to calculate the length of the longest increasing subsequence, also referred to as sortation percent, using a sqlite UDF, user defined function? </p>\n\n<p>October 15,2012 edit as requested by @Code-Guru.     </p>\n\n<p>Following the project gurus's example sequence of -- 1,2,3,4,3,5,6,7,8,10 -- the numeric sorted ascending subsequence is found to be 1,2,3,4,5,6,7,8,10 using an automatic variable containing the most recent monotically increasing sequence member value and traversing the array sequentially. As a result, the length of the sorted numeric ascending subsequence is 9. The length of the entire sequence is 10. So, the sortation percentage is (9/10) * 100% = 90%. Thank you.</p>\n"},{"tags":["android","performance","sqlite","ipc"],"answer_count":1,"favorite_count":6,"up_vote_count":12,"down_vote_count":0,"view_count":836,"score":12,"question_id":4426616,"title":"Android ContentProvider Performance","body":"<p>I'm curious if anyone has done any performance testing on querying a <code>ContentProvider</code> via <code>ContentResolver</code> vs querying a <code>SQLiteDatabase</code> object in the same process. I'm guessing that a <code>ContentResolver</code> query passes back a Cursor that communicates with the database through a Binder (Android IPC). This means that if I read the contents of 100 records through the <code>Cursor</code> that would result 100 Binder method calls. Are my guesses correct and if so would that be significantly slower than accessing the database in the same process?</p>\n"},{"tags":["sqlite","app-config","relative-path"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":70,"score":1,"question_id":12436261,"title":"How to make relative path to database in app.config using SQLite/entity framework","body":"<p>I want to be able to use a relative path to use a SQLite DB on more than 1 pc. \nthe connectionstring in the app.config looks like this now: </p>\n\n<p></p>\n\n<pre><code>&lt;add name=\"DBPersonEntities\" connectionString=\"metadata=res://*/Model1.csdl|res://*/Model1.ssdl|res://*/Model1.msl;provider=System.Data.SQLite;provider connection string='data source=&amp;quot;C:\\Users\\Dreeze\\Documents\\Test DB2\\DBPerson.s3db&amp;quot;'\" providerName=\"System.Data.EntityClient\" /&gt;\n</code></pre>\n\n<p></p>\n\n<p>The DB file is in the same folder as the app... i would like to make the path relative so it refers to the apps folder. Can anyone help me change this connectionstring? </p>\n"},{"tags":["java","hibernate","sqlite","windows-7","pragma"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":350,"score":1,"question_id":7239913,"title":"Hibernate + enabling SQLite Pragmas to gain speed on Windows 7 machine","body":"<p>Used software:  </p>\n\n<ul>\n<li>hibernate 3.6</li>\n<li>sqlite jbdc 3.6.0</li>\n<li>java jre 1.6.X</li>\n</ul>\n\n<p>I have a problem with transferring data over a tcp connection ( 20 000 entrys )</p>\n\n<ul>\n<li>create a sqlite database with the help of hibernate</li>\n<li>use hibernateview and hibernate annotations to create querys</li>\n<li>hibernate proberties are also used</li>\n<li>storing 20 000 entries with hibernate and NO sqlite pragmas enabled lasts nearly 6 minutes ( ~ 330 sec) on Windows 7 </li>\n<li>storing 20 000 entries without hibernate and all relevant sql pragmas enabled lasts ca 2 minutes ( ~ 109 sec ) on windows 7 </li>\n<li>tests with hibernate and sqlite without pragmas on windows XP and windows Vista run fast, but on win7 it lasts nearly\n3 times ( ~ 330 sec - win 7) as long as on the XP machine</li>\n<li>on windows 7 we want to activate sqlite pragmas to gain speed boost </li>\n<li><p>relevant pragmas are: </p>\n\n<pre><code>PRAGMA cache_size = 400000;\nPRAGMA synchronous = OFF;\nPRAGMA count_changes = OFF;\nPRAGMA temp_store = MEMORY;\nPRAGMA auto_vacuum = NONE;\n</code></pre></li>\n</ul>\n\n<p><strong>Problem:</strong> we must use hibernate ( no Nhibernate ! )</p>\n\n<p>Questions:  </p>\n\n<ul>\n<li>how to enable these pragmas in hibernate sqlite connection if its possible?  </li>\n<li>Is it possible to do so with using hibernate?</li>\n</ul>\n"},{"tags":["android","sqlite","serializable"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":12898196,"title":"Issue validating user in Andorid App","body":"<p>I have this issue in my Android app...</p>\n\n<p>When a user tries to log in, I first look up for his username and password in the local SQLite database, using my DataBaseHelper class... if it's not there, then I create a Http connection (using my HttpPostAux class) to validate the username and the password with the data stored in the central PostgreSQL database in the server...</p>\n\n<p>I get this error in the LogCat:</p>\n\n<pre><code>10-15 10:07:13.781: E/Cursor(3855): Invalid statement in fillWindow()\n10-15 10:07:13.781: E/itemCursor(3855): vacio\n10-15 10:07:13.859: D/dalvikvm(3855): GC_EXTERNAL_ALLOC freed 118K, 48% free 2845K/5379K, external 2643K/2652K, paused 27ms\n10-15 10:07:13.867: D/Cursor(3855): Database path: /data/data/tian.proto/databases/PROTOTIPO\n10-15 10:07:13.867: D/Cursor(3855): Table name   : null\n10-15 10:07:13.867: D/Cursor(3855): SQL          : SQLiteQuery: SELECT * FROM usuario\n10-15 10:07:13.867: I/dalvikvm(3855): Uncaught exception thrown by finalizer (will be discarded):\n10-15 10:07:13.867: I/dalvikvm(3855): Ljava/lang/IllegalStateException;: Finalizing cursor android.database.sqlite.SQLiteCursor@4053c2f0 on null that has not been deactivated or closed\n10-15 10:07:13.867: I/dalvikvm(3855):   at android.database.sqlite.SQLiteCursor.finalize(SQLiteCursor.java:620)\n10-15 10:07:13.867: I/dalvikvm(3855):   at dalvik.system.NativeStart.run(Native Method)\n10-15 10:07:13.898: E/log_tag(3855): se conecto bien 1\n10-15 10:07:13.898: E/log_tag(3855): se conecto bien\n10-15 10:07:14.328: E/is(3855): org.apache.http.conn.EofSensorInputStream@4056ecc8\n10-15 10:07:14.328: E/log_tag(3855): se conecto bien\n10-15 10:07:14.343: E/getPostResponse(3855): result= \n10-15 10:07:14.343: E/getPostResponse(3855): [{\"logstatus\":\"1\"}]\n10-15 10:07:14.343: E/log_tag(3855): respondio bien\n10-15 10:07:15.296: E/loginStatus(3855): logstatus = 1\n10-15 10:07:15.296: E/loginStatus(3855): válido\n10-15 10:07:15.296: E/onPostExecute=(3855): ok\n10-15 10:07:15.304: E/initialvalues=(3855): nombre=alois.wirkes contrasena=qwerty\n10-15 10:07:15.421: D/AndroidRuntime(3855): Shutting down VM\n10-15 10:07:15.421: W/dalvikvm(3855): threadid=1: thread exiting with uncaught exception (group=0x40015578)\n10-15 10:07:15.429: E/AndroidRuntime(3855): FATAL EXCEPTION: main\n10-15 10:07:15.429: E/AndroidRuntime(3855): java.lang.RuntimeException: Parcelable encountered IOException writing serializable object (name = tian.proto.lib.DataBaseHelper)\n10-15 10:07:15.429: E/AndroidRuntime(3855):     at android.os.Parcel.writeSerializable(Parcel.java:1176)\n10-15 10:07:15.429: E/AndroidRuntime(3855):     at android.os.Parcel.writeValue(Parcel.java:1130)\n10-15 10:07:15.429: E/AndroidRuntime(3855):     at android.os.Parcel.writeMapInternal(Parcel.java:488)\n10-15 10:07:15.429: E/AndroidRuntime(3855):     at android.os.Bundle.writeToParcel(Bundle.java:1552)\n10-15 10:07:15.429: E/AndroidRuntime(3855):     at android.os.Parcel.writeBundle(Parcel.java:502)\n10-15 10:07:15.429: E/AndroidRuntime(3855):     at android.content.Intent.writeToParcel(Intent.java:5623)\n10-15 10:07:15.429: E/AndroidRuntime(3855):     at android.app.ActivityManagerProxy.startActivity(ActivityManagerNative.java:1341)\n10-15 10:07:15.429: E/AndroidRuntime(3855):     at android.app.Instrumentation.execStartActivity(Instrumentation.java:1374)\n10-15 10:07:15.429: E/AndroidRuntime(3855):     at android.app.Activity.startActivityForResult(Activity.java:2827)\n10-15 10:07:15.429: E/AndroidRuntime(3855):     at android.app.Activity.startActivity(Activity.java:2933)\n10-15 10:07:15.429: E/AndroidRuntime(3855):     at tian.proto.Main$asyncLogin.onPostExecute(Main.java:206)\n10-15 10:07:15.429: E/AndroidRuntime(3855):     at tian.proto.Main$asyncLogin.onPostExecute(Main.java:1)\n10-15 10:07:15.429: E/AndroidRuntime(3855):     at android.os.AsyncTask.finish(AsyncTask.java:417)\n10-15 10:07:15.429: E/AndroidRuntime(3855):     at android.os.AsyncTask.access$300(AsyncTask.java:127)\n10-15 10:07:15.429: E/AndroidRuntime(3855):     at android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:429)\n10-15 10:07:15.429: E/AndroidRuntime(3855):     at android.os.Handler.dispatchMessage(Handler.java:99)\n10-15 10:07:15.429: E/AndroidRuntime(3855):     at android.os.Looper.loop(Looper.java:130)\n10-15 10:07:15.429: E/AndroidRuntime(3855):     at android.app.ActivityThread.main(ActivityThread.java:3687)\n10-15 10:07:15.429: E/AndroidRuntime(3855):     at java.lang.reflect.Method.invokeNative(Native Method)\n10-15 10:07:15.429: E/AndroidRuntime(3855):     at java.lang.reflect.Method.invoke(Method.java:507)\n10-15 10:07:15.429: E/AndroidRuntime(3855):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:842)\n10-15 10:07:15.429: E/AndroidRuntime(3855):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:600)\n10-15 10:07:15.429: E/AndroidRuntime(3855):     at dalvik.system.NativeStart.main(Native Method)\n10-15 10:07:15.429: E/AndroidRuntime(3855): Caused by: java.io.NotSerializableException: tian.proto.Main\n10-15 10:07:15.429: E/AndroidRuntime(3855):     at java.io.ObjectOutputStream.writeNewObject(ObjectOutputStream.java:1535)\n10-15 10:07:15.429: E/AndroidRuntime(3855):     at java.io.ObjectOutputStream.writeObjectInternal(ObjectOutputStream.java:1847)\n10-15 10:07:15.429: E/AndroidRuntime(3855):     at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:1689)\n10-15 10:07:15.429: E/AndroidRuntime(3855):     at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:1653)\n10-15 10:07:15.429: E/AndroidRuntime(3855):     at java.io.ObjectOutputStream.writeFieldValues(ObjectOutputStream.java:1143)\n10-15 10:07:15.429: E/AndroidRuntime(3855):     at java.io.ObjectOutputStream.defaultWriteObject(ObjectOutputStream.java:413)\n10-15 10:07:15.429: E/AndroidRuntime(3855):     at java.io.ObjectOutputStream.writeHierarchy(ObjectOutputStream.java:1241)\n10-15 10:07:15.429: E/AndroidRuntime(3855):     at java.io.ObjectOutputStream.writeNewObject(ObjectOutputStream.java:1575)\n10-15 10:07:15.429: E/AndroidRuntime(3855):     at java.io.ObjectOutputStream.writeObjectInternal(ObjectOutputStream.java:1847)\n10-15 10:07:15.429: E/AndroidRuntime(3855):     at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:1689)\n10-15 10:07:15.429: E/AndroidRuntime(3855):     at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:1653)\n10-15 10:07:15.429: E/AndroidRuntime(3855):     at android.os.Parcel.writeSerializable(Parcel.java:1171)\n10-15 10:07:15.429: E/AndroidRuntime(3855):     ... 22 more\n</code></pre>\n\n<p>I guess is something with my DataBaseHelper object, because when I do this:</p>\n\n<pre><code>public static DataBaseHelper mDbHelper = new DataBaseHelper(this);\n</code></pre>\n\n<p>The database is empty, so when I try to validate the user locally:</p>\n\n<pre><code>protected boolean foundInDB(String usuario, String contrasena) {\n        // TODO Auto-generated method stub\n        mDbHelper.open();\n        Cursor itemCursor = null;\n        itemCursor = mDbHelper.getItemsUser();\n        mDbHelper.close();\n\n        if(itemCursor.moveToFirst() == false){\n            Log.e(\"itemCursor\",\"vacio\");\n            return false;\n        }\n\n        int nameColumnIndex1 = itemCursor.getColumnIndex(DataBaseHelper.SL_USER_NOMBRE);\n        int nameColumnIndex2 = itemCursor.getColumnIndex(DataBaseHelper.SL_USER_CONTRASENA);\n\n        for(itemCursor.moveToFirst();!itemCursor.isAfterLast();itemCursor.moveToNext()){\n            String name = itemCursor.getString(nameColumnIndex1);\n            String pass = itemCursor.getString(nameColumnIndex2);\n            if(name.equals(usuario) &amp;&amp; pass.equals(contrasena)){\n                return true;    \n            }\n        }\n        return false;\n    }\n</code></pre>\n\n<p>I think lines 3 to 10 come up in the LogCat...\nThe rest of the error I think is due to my DataBaseHelper class too, because it implements Serializable...</p>\n\n<pre><code>public class DataBaseHelper implements Serializable{\n    ...\n}\n</code></pre>\n\n<p>So I can pass the reference declared in my main activity to other activity, so i can manipulate the local database...</p>\n\n<pre><code>Intent intent = new Intent(Main.this,pantalla2.class);\nintent.putExtra(\"NOMBRE\", usuario);\nintent.putExtra(\"CONTRASENA\", contrasena);\nintent.putExtra(\"DATABASE\", mDbHelper);\nstartActivity(intent);\n</code></pre>\n\n<p>Any ideas of how to solve this issue?\nBy the way, what the first line of the LogCat (Invalid statement in fillWindow()) means?</p>\n"},{"tags":["c++","xml","sqlite","unicode"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":12896846,"title":"TinyXml: Read wstring from XML file","body":"<p>once again unicode characters are causing serious headache. Here is what I'm trying to do:\n1) I'm exporting Sqlite tables (including unicode characters) to xml files (works great and unicode characters are not lost)\n2) Trying to import those XML tables again ater they have been edited - works fine but unicode characters are lost.</p>\n\n<p>here is the code that reads the xml file:</p>\n\n<pre><code>wstring input;\nTiXmlElement* root = doc.FirstChildElement();\n// count number of rows in xml file\nTiXmlElement* counter = root-&gt;FirstChildElement();\nint totalRows = 0;\n\nwhile(counter != NULL) {\n    totalRows += 1;\n    counter = counter-&gt;NextSiblingElement();\n}\n\n// import data\nwchar_t firstChar;\nint check, length;\nwstring finalInput;\nTiXmlElement* rowElement = root-&gt;FirstChildElement();\nfor (int a = 1; a &lt;= totalRows; a++) {\nTiXmlElement* columnElement = rowElement-&gt;FirstChildElement();\n// clear insert statement\ninsert = start;\n\nfor (int b = 1; b &lt;= columns; b++) {\n    node = columnElement-&gt;FirstChild();\n    text = node-&gt;ToText();\n    // !!! here we have the problem data gets imported as a string !!!\n    input = text-&gt;Value(); \n</code></pre>\n\n<p>Problem is that Value(); (function from the tinyxml files) returns const char* instead of const wchar_t. I've tried to modify the TinyXml files to return wchar_t but that resulted in some nasty errors.</p>\n\n<p>My question is now: do anyone know how to read data from a xml file with tinyxml without loosing unicode characters?</p>\n\n<p>thanks in advance, your help is as always greatly appreciated. </p>\n"},{"tags":["ios","database","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":65,"score":0,"question_id":12857404,"title":"Why sqlite3_prepare_v2 close the database?","body":"<p>In this database there is a table called \"Menu\". I want to print this table in my ViewController but this method do not work and close the database immediately. </p>\n\n<p>In DatabaseMenu.h:</p>\n\n<pre><code>@interface DatabaseMenu : NSObject {\n    sqlite3 *databaseMenu;\n    DataBaseMenu *rowMenu;\n}\n\n@property (nonatomic, assign) int ID; \n@property (nonatomic, copy)NSString *descrizione;\n@property (nonatomic, assign) BOOL haSubMenu;\n@property (nonatomic, assign) int IDPadre;\n@property (nonatomic, copy) NSString *tabelleFigli;\n@property (nonatomic, assign) int ordine;\n@property (nonatomic, copy) NSString *custView;\n@property (nonatomic, assign) BOOL visMappa;\n@property (nonatomic, copy) NSMutableArray *menuArray;\n\n-(NSMutableArray*) loadDataFromMenu;\n+(DatabaseMenu*) database;\n\n@end\n</code></pre>\n\n<p>In DatabaseMenu.m</p>\n\n<pre><code>static DatabaseMenu * database;\n\n+(DatabaseMenu*) database{\n    if (database==nil) {\n        database =[[DatabaseMenu alloc]init];\n    }\n    return database;\n}\n\n\n-(NSMutableArray*) loadDataFromMenu{ \n\n    NSString *query = @\"SELECT * FROM Menu\";\n\n    sqlite3_stmt *statement;\n\n    if (sqlite3_prepare_v2(databaseMenu, [query UTF8String], -1, &amp;statement, nil)\n        == SQLITE_OK) {\n\n        while (sqlite3_step(statement) == SQLITE_ROW) {\n\n            //.......\n\n        }\n        sqlite3_finalize(statement);\n\n    } else {        \n        sqlite3_close(databaseMenu);\n    }\n\n    return self.menuArray;  \n}\n\n  -(id) init{ //open database\n        self =[super init];\n        if(self){\n        NSString *sqliteDb = [[NSBundle mainBundle]pathForResource:@\"China\" ofType:@\"sqlite\"];\n\n         if(sqlite3_open([sqliteDb UTF8String], &amp;databaseMenu)!=SQLITE_OK){\n\n                     NSLog(@\"Failed to open database\");\n\n            }else {\n\n                     NSLog(@\"open the database\");\n\n\n\n                  [self loadDatiFromMenu];\n    }\n\n    return self;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>The debugger not get to enter in the while loop. Why?</p>\n"},{"tags":["sqlite","delete-row"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":12895633,"title":"SQLite delete limit","body":"<p>The question is simple: Is there a limit on rows you can delete in SQLite.</p>\n\n<p>I have a database 42 tables, one of the tables consists of 75000 rows. When I want to delete them, SQLManager in FF crashes. </p>\n\n<p>So is there a limit on deleting rows in SQLite?</p>\n"},{"tags":["sqlite","monodroid"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":12894303,"title":"Monodroid and Mono.Data.Sqlite.Orm.Linq transactions","body":"<p>I'm using the lib by Matthew Leibowitz. I have been checking it and it seems it doesn't support transactions. I can only see a BeginTransaction method but thenre's no EndTransaction/Commit counterpart. Has anybody been able to use transactions with this lib?.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","sqlite","jdbc"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":49,"score":-2,"question_id":12895128,"title":"Accessing database from multiple classes","body":"<p>I have created a database as follows:</p>\n\n<pre><code>Class.forName(\"org.sqlite.JDBC\");\n\n    Connection connection = null;\n\n    try\n    {\n        connection = DriverManager.getConnection(\"jdbc:sqlite:ebank.db\");\n        final Statement statement = connection.createStatement();\n        statement.setQueryTimeout(30);\n\n        statement.executeUpdate(\"create table if not exists employee (id integer,firstname string, lastname string, username string, password string, lgdin integer)\");\n//            statement.executeUpdate(\"insert into person values(1, 'leo')\");\n//            statement.executeUpdate(\"insert into person values(2, 'yui')\");\n//            ResultSet rs = statement.executeQuery(\"select * from person\");\n\n//            while(rs.next())\n//            {\n//                System.out.println(\"name = \" + rs.getString(\"name\"));\n//                System.out.println(\"id = \" + rs.getString(\"id\"));\n//            }\n\n\n    }\n    catch(SQLException e)\n    {\n        System.err.println(e.getMessage());\n    }\n    finally\n    {\n        try\n        {\n            if (connection !=null)\n            {\n                connection.close();\n            }\n        }\n        catch(SQLException e)\n        {\n            System.err.println();\n        }\n    }\n</code></pre>\n\n<p>what I need to do is have access to this database from other classes in my application. First of all i'm trying to add two string variables from another class to this database but i can't access the statement object to do this. How would i do it?</p>\n"},{"tags":["c#","sqlite","microsoft-metro","winrt","windows-store-apps"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":12894016,"title":"How to insert blob in SQLite in Windows store app developed in c#/XAML","body":"<p>I am developing an app which has some media files like images/audio/video clip. I want to insert those media files as datatype via SQLite in my C#/XAML windows store app. I can't find any example showing the blob datatype. How can I do that ?</p>\n"},{"tags":["sqlite","group-by","sql-order-by"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":63,"score":2,"question_id":12878171,"title":"Sqlite ORDER BY group's count is slow","body":"<p>When I add an ORDER BY statement to my query it becomes very slow.</p>\n\n<p>Here's my query without ORDER BY:</p>\n\n<pre><code>SELECT ClientIpAddress, Agentstring, Count(ClientIpAddress) AS Count FROM LogEntries\nWHERE SiteIisId = 3 AND DateTime &gt;= '13-09-2012 00:00:00'\nGROUP BY ClientIpAddress, Agentstring\nLIMIT 5\n</code></pre>\n\n<p>ET: 1ms</p>\n\n<p>And now with ORDER BY:</p>\n\n<pre><code>SELECT ClientIpAddress, Agentstring, Count(ClientIpAddress) AS Count FROM LogEntries\nWHERE SiteIisId = 3 AND DateTime &gt;= '13-09-2012 00:00:00'\nGROUP BY ClientIpAddress, Agentstring\nORDER BY Count DESC\nLIMIT 5\n</code></pre>\n\n<p>ET: 294 ms</p>\n\n<p>The table I'm querying contains 1.380.855 rows.</p>\n\n<p>Here's the index I'm using: </p>\n\n<pre><code>CREATE INDEX \"LogEntries_MostActiveClients\" ON \"LogEntries\" (\"ClientIpAddress\" ASC, \"Agentstring\" ASC, \"SiteIisId\" ASC, \"DateTime\" DESC)\n</code></pre>\n\n<p>Using <code>EXPLAIN QUERY PLAN</code> Sqlite tells me it's scanning the table using my index and is using <code>TEMB B-TREE</code>for my Order By.</p>\n\n<p>How can I overcome this problem? Obviously I can't index the <code>Count</code>, so what to do?</p>\n\n<p>Thanks a million!</p>\n"},{"tags":["sqlite","nhibernate","system.data.sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":12892700,"title":"ThreadAbortException in ASP.NET + SQLite","body":"<p>I am facing this problem a while. Sometimes (just sometimes) i am getting ThreadAbortException in Page_PreRender of one my aspx pages.\nthis is so odd, i get it sometimes in somedays. I am using SQLite with NHibernate in an asp.net website hosting in a shared webhost.\nThe exception is :</p>\n\n<pre><code>System.Threading.ThreadAbortException: Thread was being aborted.\n   at System.Data.SQLite.SQLite3.Step(SQLiteStatement stmt)\n   at System.Data.SQLite.SQLiteDataReader.NextResult()\n   at System.Data.SQLite.SQLiteDataReader..ctor(SQLiteCommand cmd, CommandBehavior behave)\n   at System.Data.SQLite.SQLiteCommand.ExecuteReader(CommandBehavior behavior)\n   at System.Data.SQLite.SQLiteCommand.ExecuteNonQuery()\n   at NHibernate.AdoNet.AbstractBatcher.ExecuteNonQuery(IDbCommand cmd)\n   at NHibernate.AdoNet.NonBatchingBatcher.AddToBatch(IExpectation expectation)\n   at NHibernate.Persister.Entity.AbstractEntityPersister.Update(Object id, Object[] fields, Object[] oldFields, Object rowId, Boolean[] includeProperty, Int32 j, Object oldVersion, Object obj, SqlCommandInfo sql, ISessionImplementor session)\n   at NHibernate.Persister.Entity.AbstractEntityPersister.UpdateOrInsert(Object id, Object[] fields, Object[] oldFields, Object rowId, Boolean[] includeProperty, Int32 j, Object oldVersion, Object obj, SqlCommandInfo sql, ISessionImplementor session)\n   at NHibernate.Persister.Entity.AbstractEntityPersister.Update(Object id, Object[] fields, Int32[] dirtyFields, Boolean hasDirtyCollection, Object[] oldFields, Object oldVersion, Object obj, Object rowId, ISessionImplementor session)\n   at NHibernate.Action.EntityUpdateAction.Execute()\n   at NHibernate.Engine.ActionQueue.Execute(IExecutable executable)\n   at NHibernate.Engine.ActionQueue.ExecuteActions(IList list)\n   at NHibernate.Engine.ActionQueue.ExecuteActions()\n   at NHibernate.Event.Default.AbstractFlushingEventListener.PerformExecutions(IEventSource session)\n   at NHibernate.Event.Default.DefaultFlushEventListener.OnFlush(FlushEvent event)\n   at NHibernate.Impl.SessionImpl.Flush()\n</code></pre>\n\n<p>do you have any idea ??</p>\n"},{"tags":["sqlite","thread-safety"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":212,"score":2,"question_id":7850025,"title":"Sqlite's Serialized mode","body":"<p>In the docs here:\n<a href=\"http://www.sqlite.org/threadsafe.html\" rel=\"nofollow\">http://www.sqlite.org/threadsafe.html</a></p>\n\n<p>For serialized mode it says:\n\"In serialized mode, SQLite can be safely used by multiple threads with no restriction.\"</p>\n\n<p>I want to make sure I understand the guarantee presented there. If a single database connection is opened using the \"SQLITE_OPEN_FULLMUTEX\" flag and two threads simultaneously try to call sqlite3_exec at the exact same instant, does Sqlite automatically serialize the calls?</p>\n"},{"tags":["sqlite","full-text-search","fts4"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":12890164,"title":"joining tables : one a normal one and the other FTS virtual table","body":"<p>is it a good idea to join a normal table with FTS table? I want to know whether it is going to effect the original performance of the FTS table or nor? The query definitely would be using MATCH clause of course.  </p>\n"},{"tags":["ios","database","sqlite"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":2,"view_count":51,"score":-2,"question_id":12891636,"title":"Load data from database SQLite in iOS","body":"<p>Do you know any tutorial that tells me how can read the data from sqlite database SQLite and put them in a table?</p>\n"},{"tags":["android","database","sqlite","where","clause"],"answer_count":4,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":1527,"score":2,"question_id":6258856,"title":"Where in clause in Android sqlite?","body":"<p>I can't get WHERE IN clause to work on andoid sqlite database. </p>\n\n<p>Is there any way to execute statement like this in android? :</p>\n\n<pre><code>SELECT body FROM table1 WHERE title IN ('title1', 'title2', 'title3')\n</code></pre>\n\n<p>Any help would be appreciated. </p>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":2,"up_vote_count":0,"down_vote_count":0,"view_count":192,"score":0,"question_id":9582167,"title":"how to get a selected item on a spinner using SimpleCursorAdapter from DB","body":"<p>I am not able to call a value or item from a DB to a spinner widgets.</p>\n\n<p>I am trying this</p>\n\n<pre><code>SimpleCursorAdapter pharmacyDetailsAdapter = new SimpleCursorAdapter(this, R.layout.spinner_doc_pres_closed, PharmacydetailsCursor, from, to);\npharmacyDetailsAdapter.setDropDownViewResource(R.layout.appoint_pres_spinner); \npharmacyDetailsSpinner.setAdapter(pharmacyDetailsAdapter);\n</code></pre>\n"},{"tags":["ios","sqlite","ios5","sqlite3","ios-simulator"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":78,"score":0,"question_id":12814458,"title":"Not able to access iOS SQLite database: sqlite3_prepare_v2 and 'no such table' sqlite3_errmsg","body":"<p>This is the first time I'm trying to create and access a SQLite db in iOS and I followed a tutorial, but I can't make this work. These are the steps I've followed:</p>\n\n<ol>\n<li>Created a database through the Firefox plugin (\"testDatabase\") and a\ntable (\"testTable\") with several columns</li>\n<li>Saved the \"testDatabase.sqlite\" file in a directory</li>\n<li>Dragged and dropped such file into my \"Supporting Files\" group in my\nXcode project</li>\n<li>Added \"libsqlite3.dylib\" in Build Phases > Link Binary With\nLibraries</li>\n<li>Added \"-lsqlite3\" in Build Settings > Linking > Other Linker Flags >\nDebug and Release</li>\n<li><p>In a ViewController, called this method:</p>\n\n<pre><code>-(NSString *)copyDatabaseToDocuments {\n    NSFileManager *fileManager = [NSFileManager defaultManager];\n    NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);\n    NSString *documentsPath = [paths objectAtIndex:0];\n    NSString *filePath = [documentsPath stringByAppendingPathComponent:@\"testDatabase.sqlite\"];\n    if ( ![fileManager fileExistsAtPath:filePath] ) {\n    NSString *bundlePath = [[[NSBundle mainBundle] resourcePath]\n                            stringByAppendingPathComponent:@\"testDatabase.sqlite\"];\n        [fileManager copyItemAtPath:bundlePath toPath:filePath error:nil];\n    }\n    return filePath;\n}\n</code></pre></li>\n<li><p>Then, trying to write in the database:</p>\n\n<pre><code>NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);\nNSString *documentsPath = [paths objectAtIndex:0];\nNSString *filePath = [documentsPath stringByAppendingPathComponent:@\"testDatabase.sqlite\"];\nsqlite3 *database;\n\nif(sqlite3_open([filePath UTF8String], &amp;database) == SQLITE_OK) {\n    const char *sqlStatement = \"insert into testTable (id) VALUES (?)\";\n    sqlite3_stmt *compiledStatement;\n\n    if (sqlite3_prepare_v2(database, sqlStatement, -1, &amp;compiledStatement, NULL) == SQLITE_OK) {\n\n        sqlite3_bind_int(compiledStatement, 1, newObject.ID);\n    }\n\n    if(sqlite3_step(compiledStatement) == SQLITE_DONE) {\n            sqlite3_finalize(compiledStatement);\n    }\n}\nsqlite3_close(database);\n</code></pre></li>\n</ol>\n\n<p>I have read several posts regarding a similar error, but nothing of what I tried has worked for me... I also tried with <code>NSString *filePath = [[NSBundle mainBundle] pathForResource:@\"testDatabase\" ofType:@\"sqlite\"];</code> but it is null, and also have underplayed and redeployed my app in the simulator several times...</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":97,"score":0,"question_id":12890119,"title":"SQLite create and delete row when static data already exists in the List","body":"<p>I am trying to impelement delete function with SQLite database. I have a list which already has some static data(Product_1,_2,_3...), then I add new positions with db.insert. Log say </p>\n\n<pre><code>05:35:10.875    495 example.CustomAdapter   DEBUG       row inserted, ID = 2\n</code></pre>\n\n<p>05:35:10.885    495 example.CustomAdapter   DEBUG       ID = 1, name = \n05:35:10.885    495 example.CustomAdapter   DEBUG       ID = 2, name = A1</p>\n\n<p>Everything is OK new positions added and could be seen. Then I delete ID=1 with db.delete(DBHelper.TABLE, DBHelper.COLUMN_ID + id, null); (where id received from long id = acmi.id; AdapterView.AdapterContextMenuInfo acmi = (AdapterView.AdapterContextMenuInfo) item.getMenuInfo();)and Log says no such column:</p>\n\n<pre><code>05:35:27.955    495 example.CustomAdapter   ERROR   AndroidRuntime  FATAL EXCEPTION: main\n</code></pre>\n\n<p>05:35:27.955    495 example.CustomAdapter   ERROR   AndroidRuntime  android.database.sqlite.SQLiteException: no such column: _id5: , while compiling: DELETE FROM mytable WHERE _id5\n05:35:27.955    495 example.CustomAdapter   ERROR   AndroidRuntime      at android.database.sqlite.SQLiteCompiledSql.native_compile(Native Method)</p>\n\n<p>What am I doing wrong? Could it be because I already have four positions filled with static data?\n<img src=\"http://i.stack.imgur.com/9FXqw.png\" alt=\"enter image description here\"></p>\n"},{"tags":["mysql","database","sqlite","ios6"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":58,"score":1,"question_id":12889284,"title":"Database storage for iOS app similar to instagram","body":"<p>im currently working on an app that is similar to instagram (just for the experience) and i was wondering what kind of database would work best for this kind of app. I understand that most databases require a different language to learn and i'm completely fine with that, but which is the best for this? The app has photos all on a stream, profiles for each user, and comments on the photos. Would MySQL be the best choice or SQLite or something else? Thanks.</p>\n"},{"tags":["android","database","sqlite","context"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":12883977,"title":"Clean sqlite database, from another android application","body":"<p>I developed an Android application that works on sqlite internal db. \nNow I want create a new android application that clean the database of my first application. \nWhat can I do?</p>\n"},{"tags":["android","database","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12887014,"title":"rawQuery: bind or column index out of range","body":"<p>I am trying to get user by his name like that:</p>\n\n<pre><code>public Cursor GetUser(String username)\n{\n    return m_dataBase.rawQuery(\"SELECT * FROM users WHERE name = \\' ? \\'\", new String[] { username });\n}\n</code></pre>\n\n<p>But then I got an exception \"bind or column index out of range\". What is wrong in my code?</p>\n"},{"tags":["php","sqlite","pdo"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":77,"score":2,"question_id":12886480,"title":"PDO / SQLite: Single query covering two related databases","body":"<h2>Context</h2>\n\n<p>Playing with two of Feeddemon's SQLite databases, <em>tags.fdb</em> and <em>feeds.fdb</em>, I created this working raw query (tested using Firefox' handy addon SQLite Manager):</p>\n\n<pre><code>SELECT tbl_tags.tag_name, feeds.tbl_posts.link\nFROM tbl_tags\nINNER JOIN feeds.tbl_posts\nON tbl_tags.fd_postid=feeds.tbl_posts.fd_postid\nORDER BY tbl_tags.tag_name\n</code></pre>\n\n<p>It queries both Feeddemon's <em>tags.fdb</em> primarily and attached <em>feeds.fdb</em> database files (using SQLite's feature <code>ATTACH feeds.fdb AS feeds</code>). It lists all tagged posts with their tag names and hyperlinks. As you can see, the database content is related by fd_postid.</p>\n\n<p>An example to visualize what happens:</p>\n\n<p><em>tags.fdb</em>'s tbl_tags table content:</p>\n\n<pre><code>fd_postid tag_name\n1         rainbow\n2         orange\n5         green\n</code></pre>\n\n<p><em>feeds.fdb</em>'s tbl_posts table content:</p>\n\n<pre><code>fd_postid link\n1         google.com\n2         stackoverflow.com\n3         microsoft.com\n4         slashdot.org\n5         techcrunch.com\n</code></pre>\n\n<p>Query results, ordered by tag_name:</p>\n\n<pre><code>green    techcrunch.com    \norange   stackoverflow.com\nrainbow  google.com\n</code></pre>\n\n<h2>Question</h2>\n\n<p>How do I implement this single inner join query to cover multiple related databases, using PDO in PHP?</p>\n\n<p>Connecting to two databases in PDO also creates two objects:</p>\n\n<pre><code>$db1 = new PDO('sqlite:tags.fdb');\n$db2 = new PDO('sqlite:feeds.fdb');\n</code></pre>\n\n<p>But if I want to query, I have to specify a single object:</p>\n\n<pre><code>$result = $db1-&gt;query('SELECT * FROM sometable');\n</code></pre>\n\n<p>So how do I bridge the gap and use one query to target both databases?</p>\n\n<p>Or can I use SQLite's <code>ATTACH database AS alias</code> feature directly in PDO? If so, how? But this would probably be considered bad practice, right? Since PDO is intended to be database non-specific.</p>\n\n<p>I think this user was looking for the same thing, in the end, but never really got to the point of a working code sample:</p>\n\n<p><a href=\"http://stackoverflow.com/questions/6984468/\">How do you join two PDO objects in the same foreach loop?</a></p>\n\n<p><strong>Note:</strong> When answering please consider the fact that I'm a front-end/graphics guy, who just started learning PHP/PDO/SQLite since about two months ago. The question is probably above my experience level. I'm surprised I managed to get the raw query working. But I'm learning...</p>\n"},{"tags":["java","android","sqlite","sqlite3"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":52,"score":3,"question_id":12886224,"title":"Column type NONE in sqlite","body":"<p>I have sqlite database that I using it with Android platform.</p>\n\n<p>I have created the table in run-time. My SQL was:</p>\n\n<pre><code>CREATE TABLE funcs ( id INTEGER PRIMARY KEY AUTOINCREMENT, func_name TEXT, param NONE)\n</code></pre>\n\n<p>Each row in this table present function call in my program. And the parameter change it type for each row.</p>\n\n<p>And also, I have been created class that preset one row of the table</p>\n\n<pre><code>class FunctionDB\n{\n    private ContentValues mContentValues;\n\n    public FunctionDB(Cursor cursor)\n    {\n        DatabaseUtils.cursorRowToContentValues(cursor, this.mContentValues);\n    }\n\n    public int getID()\n    {\n        return this.mContentValues.getAsInteger(\"id\");\n    }\n\n    public String getName()\n    {\n        return this.mContentValues.getAsString(\"func_name\");\n    }\n\n    public ??? getParam()\n    {\n        return this.mContentValues.getAs???(\"param\");\n    }\n\n}\n</code></pre>\n\n<p>I want that this class be general function type.\nThats means, that I want by checking the name of the function, determine what is the type of the <code>param</code> column.</p>\n\n<p>How can I receive the generic type of the <code>param</code> column in my code?</p>\n"},{"tags":["database","sqlite","postgresql","sqlite3"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":1526,"score":1,"question_id":6148421,"title":"How to convert a postgres database to sqlite","body":"<p>We're working on a website, and when we develop locally (one of us from Windows), we use sqlite3, but on the server (linux) we use postgres.  We'd like to be able to import the production database into our development process, so I'm wondering if there is a way to convert from a postgres database dump to something sqlite3 can understand (just feeding it the postgres's dumped SQL gave many, many errors).  Or would it be easier just to install postgres on windows?  Thanks.</p>\n"},{"tags":["ruby-on-rails","sqlite","postgresql","heroku","database-migration"],"answer_count":1,"favorite_count":1,"up_vote_count":8,"down_vote_count":0,"view_count":2473,"score":8,"question_id":4248072,"title":"How to migrate from SQLite to PostgreSQL (Rails)","body":"<p>I'm a DB noob so please be kind with me.</p>\n\n<p>I'm having some issues pushing my SQLite DB to Heroku via taps gem. Talking with them, they told me one of the solutions could be converting locally my DB from SQLite to PostgreSQL.\nIs there an easy way to do so?</p>\n\n<p>Thanks</p>\n\n<p>More info:\n- DB from Rails app\n- I'm on Mac OS X\n- Just installed PostgreSQL via macports</p>\n"},{"tags":["android","database","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":67,"score":2,"question_id":12878008,"title":"How to select columns randomly in mysql for android","body":"<p>I have a table name Answers in my database with 5 columns _id, b1, b2, b3, b4 and all I'm trying to do is to get the columns b1, b2, b3, b4 randomly in a cursor, I'm able to get them in my cursor in order using the next code:</p>\n\n<pre><code>public Cursor getAllAnswers(int n)     \n{\n     String myPath = DB_PATH + DB_NAME;\n     myData = SQLiteDatabase.openDatabase(myPath, null, SQLiteDatabase.OPEN_READONLY);\n\n    Cursor curs;\n    curs=myData.rawQuery(\"SELECT b1, b2, b3, b4 FROM Answers WHERE _id='\"+n+\"';\", null);\n    curs.moveToFirst();\n    myData.close();\n    return curs;\n};\n</code></pre>\n\n<p>and have tried to get them randomly using </p>\n\n<pre><code>curs=myData.rawQuery(\"SELECT b1, b2, b3, b4 FROM Answers WHERE _id='\"+n+\"' ORDER BY RANDOM() LIMIT 1;\", null);\n</code></pre>\n\n<p>but is not working. Thanks for the help in advance</p>\n\n<p>EDITED to show the right way of accomplishing random columns (if you need it too) shown by Geobits:</p>\n\n<pre><code> public Cursor getAllAnswers(int n)     \n{\n     String myPath = DB_PATH + DB_NAME;\n     myData = SQLiteDatabase.openDatabase(myPath, null, SQLiteDatabase.OPEN_READONLY);\n  String query = \"SELECT \";\nboolean[] chosen = new boolean[]{false, false, false, false};\nRandom rand = new Random();\nfor(int i=0;i&lt;4;i++)\n{\n    if(i &gt; 0)\n        query += \", \";\n    int c = rand.nextInt(4); \n    while(chosen[c])\n        c = rand.nextInt(4);\n    chosen[c] = true;\n    query += \"b\" + Integer.toString(c+1);\n}\nquery += \" FROM Answers WHERE _id='\"+n+\"';\";\n    Cursor curs;\n    curs=myData.rawQuery(query, null);\n    curs.moveToFirst();\n    myData.close();\n    return curs;\n};\n</code></pre>\n"},{"tags":["android","sqlite","service","intentservice"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":71,"score":0,"question_id":12884050,"title":"IntentService Stops After Data Insertion into SQLite and Gives NULLPOINTER EXCEPTION when insert 2nd time","body":"<p>I'm developing an app in which data saved into database when there is no covered area of mobile signals. When service came back it will fetch all data from database and upload on server.</p>\n\n<p>Now I have two problems.</p>\n\n<ol>\n<li>IntentService stops when 1st time data inserted into database.(When network service came back it also upload data on the server, for checking network connectivity I used timer.) I don't want to stop service.</li>\n<li>When 2nd time I start the service it created again and Gives Nullpointerexception. because there is no data in database so it also gives some other errors too about data retrivel.</li>\n</ol>\n\n<p>Whats wrong in my code? I just want that when user starts the service it will run till last data in database and after that it will stop. I used threads in intentservice because earlier my app crash.</p>\n\n<p>LogCat Error</p>\n\n<pre><code>10-14 20:44:02.135: E/Service(10042): Service Created.. \n10-14 20:44:02.505: E/Service Started(10042): Successful\n10-14 20:44:03.585: E/Service Network(10042): Network is offline\n10-14 20:44:08.656: E/Service Network(10042): Network is offline\n10-14 20:44:13.616: E/Service Network(10042): Network is offline\n10-14 20:44:18.646: E/Service Network(10042): Network is offline\n10-14 20:44:23.595: E/Service Network(10042): Network is offline\n10-14 20:44:29.526: E/Service Network(10042): Network is online\n10-14 20:44:31.256: E/Data Sent(10042): Response 200\n10-14 20:44:33.599: E/Service Network(10042): Network is online\n10-14 20:44:34.446: E/Data Sent(10042): Response 200\n10-14 20:44:38.646: E/Service Network(10042): Network is online\n10-14 20:44:40.616: E/Data Sent(10042): Response 200\n10-14 20:44:43.625: E/Service Network(10042): Network is offline\n10-14 20:44:48.595: E/Service Network(10042): Network is offline\n10-14 20:44:53.586: E/Service Network(10042): Network is offline\n10-14 20:45:20.486: E/Service(10042): Service Created.. \n10-14 20:45:20.587: E/Service Started(10042): Successful\n10-14 20:45:20.627: E/Insertion(10042): java.lang.NullPointerException\n10-14 20:45:21.666: E/Service Network(10042): Network is offline\n10-14 20:45:23.616: E/Service Network(10042): Network is offline\n10-14 20:45:36.645: E/Service Network(10042): Network is offline\n10-14 20:45:38.585: E/Service Network(10042): Network is offline\n10-14 20:45:41.786: E/Service Network(10042): Network is online\n10-14 20:45:42.026: E/AndroidRuntime(10042): FATAL EXCEPTION: Timer-1\n10-14 20:45:42.026: E/AndroidRuntime(10042): java.lang.NullPointerException\n10-14 20:45:42.026: E/AndroidRuntime(10042):    at com.remote.synchronizer.haris.SQLiteAdapter.getAllContacts(SQLiteAdapter.java:93)\n10-14 20:45:42.026: E/AndroidRuntime(10042):    at com.remote.synchronizer.haris.OfflineDataService$1$1.run(OfflineDataService.java:80)\n10-14 20:45:42.026: E/AndroidRuntime(10042):    at java.util.Timer$TimerImpl.run(Timer.java:284)\n10-14 20:45:43.646: E/Service Network(10042): Network is online\n10-14 20:45:44.266: E/Data Sent(10042): Response 200\n</code></pre>\n\n<p>SQLiteAdapter.java</p>\n\n<pre><code>package com.remote.synchronizer.haris;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport org.apache.http.NameValuePair;\nimport org.apache.http.message.BasicNameValuePair;\n\nimport android.content.ContentValues;\nimport android.content.Context;\nimport android.database.Cursor;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.database.sqlite.SQLiteOpenHelper;\nimport android.util.Log;\n\npublic class SQLiteAdapter extends SQLiteOpenHelper {\n\n    public static final String DATABASE_NAME = \"Product\";\n    public static final String TABLE_NAME = \"Orders\";\n    public static final int DATABASE_VERSION = 1;\n    public static final String KEY_ID = \" _id\";  //\n    public static final String KEY_NAME = \"name\";\n    public static final String KEY_SHOP = \"shop\";\n    private static final String KEY_CITY = \"city\";\n    private static final String KEY_DATE = \"datee\";\n    private static final String KEY_ORDER = \"orderr\";\n\n    private SQLiteDatabase sqLiteDatabase;\n    private SQLiteAdapter sqLiteHelper=this;\n\n    private static final String CREATE_TABLE =\n            \"CREATE TABLE \" + TABLE_NAME + \" (\"\n                    + KEY_ID + \" INTEGER PRIMARY KEY AUTOINCREMENT, \"\n                    + KEY_NAME + \" VARCHAR,\"\n                    + KEY_SHOP + \" VARCHAR,\" + KEY_CITY + \" VARCHAR, \" + KEY_DATE + \" VARCHAR, \" + KEY_ORDER + \" VARCHAR\" +\");\";\n\n\n    public SQLiteAdapter(Context context) {\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);  \n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        db.execSQL(CREATE_TABLE);\n        sqLiteDatabase=db;\n    }\n\n    /*public void close(){\n        sqLiteHelper.close();\n    }\n     */\n    public void insert(String name, String shop, String city, String datee, String orderr){\n\n        try\n        {\n            ContentValues contentValues = new ContentValues();\n            contentValues.put(KEY_NAME, name);\n            contentValues.put(KEY_SHOP, shop);\n            contentValues.put(KEY_CITY, city);\n            contentValues.put(KEY_DATE, datee);\n            contentValues.put(KEY_ORDER, orderr);\n            sqLiteDatabase.insertOrThrow(TABLE_NAME, KEY_ID, contentValues);\n            //sqLiteDatabase.close();\n        }\n        catch(Exception e)\n        {\n            e.printStackTrace();\n            Log.e(\"Insertion\", e.toString());\n        }\n    }\n\n    public void deleteAll(){\n        sqLiteDatabase.delete(TABLE_NAME, null, null);\n    }\n\n    public void delete_byID(int id){\n        sqLiteDatabase.delete(TABLE_NAME, KEY_ID+\"=\"+id, null);\n    }\n\n    /*public Cursor queueAll(){\n        String[] columns = new String[]{KEY_ID, KEY_NAME, KEY_SHOP, KEY_CITY,  KEY_DATE, KEY_ORDER};\n        Cursor cursor = sqLiteDatabase.query(TABLE_NAME, columns, \n                null, null, null, null, null);\n\n        return cursor;\n    }*/\n\n    public List&lt;NameValuePair&gt; getAllContacts() {\n        List&lt;NameValuePair&gt; postParameters = new ArrayList&lt;NameValuePair&gt;();\n\n        String selectQuery = \"SELECT  * FROM \" + TABLE_NAME;\n        sqLiteHelper.getReadableDatabase();\n        Cursor cursor = sqLiteDatabase.rawQuery(selectQuery, null);\n\n        if(cursor.moveToFirst()){\n            while(!cursor.isAfterLast())\n            {\n                postParameters.add(new BasicNameValuePair(\"User\", cursor.getString(cursor.getColumnIndex(KEY_NAME))));\n                postParameters.add(new BasicNameValuePair(\"ShopName\", cursor.getString(cursor.getColumnIndex(KEY_SHOP))));\n                postParameters.add(new BasicNameValuePair(\"city\", cursor.getString(cursor.getColumnIndex(KEY_CITY))));\n                postParameters.add(new BasicNameValuePair(\"OrderDate\", cursor.getString(cursor.getColumnIndex(KEY_DATE))));\n                postParameters.add(new BasicNameValuePair(\"OrderDetail\", cursor.getString(cursor.getColumnIndex(KEY_ORDER))));\n                cursor.moveToNext();\n            }\n\n        }\n        //cursor.close();\n        return postParameters;\n    };\n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n        Log.w(SQLiteAdapter.class.getName(),\n                \"Upgrading database from version \" + oldVersion + \" to \"\n                        + newVersion + \", which will destroy all old data\");\n        db.execSQL(\"DROP TABLE IF EXISTS \" + CREATE_TABLE);\n        onCreate(db);\n    }\n\n}\n</code></pre>\n\n<p>OfflineDataService.java</p>\n\n<pre><code>package com.remote.synchronizer.haris;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Timer;\nimport java.util.TimerTask;\nimport org.apache.http.NameValuePair;\n\nimport android.app.IntentService;\nimport android.content.Intent;\nimport android.database.Cursor;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.os.Bundle;\nimport android.os.Handler;\nimport android.os.HandlerThread;\nimport android.util.Log;\n\npublic class OfflineDataService extends IntentService {\n\n    boolean wifi,edge;\n    private Timer timer= new Timer();\n    SQLiteDatabase db;\n    String un,shop,city,date,order;\n    private SQLiteAdapter mySQLiteAdapter;\n    Cursor cursor;\n\n    public OfflineDataService() {\n        super(\"OfflineDataService\");\n    }\n\n    @Override   \n    public void onCreate() {\n\n        super.onCreate();\n\n        Log.e(\"Service\", \"Service Created.. \");\n\n        mySQLiteAdapter = new SQLiteAdapter(this);\n        mySQLiteAdapter.getWritableDatabase();\n\n    }   \n\n    @Override\n    protected void onHandleIntent(final Intent intent) {\n\n        final Handler threadHandler;  \n        threadHandler = new Handler();\n\n        new Thread(new Runnable(){\n\n            @Override\n            public void run() {\n\n                Bundle bundle=intent.getExtras();\n                un=bundle.getString(\"un\");\n                shop=bundle.getString(\"shop\");\n                city=bundle.getString(\"city\");\n                date=bundle.getString(\"date\");\n                order=bundle.getString(\"order\");\n\n                Log.e(\"Service Started\", \"Successful\");\n\n                //Inserting New Record\n                mySQLiteAdapter.insert(un,shop,city,date,order);\n\n                timer.scheduleAtFixedRate(new TimerTask(){\n\n                    @Override\n                    public void run() {\n\n                        //Checking network connectivity\n                        wifi=NetworkInfo.Wifi(OfflineDataService.this);\n                        edge=NetworkInfo.EDGE(OfflineDataService.this);\n\n                        if(wifi==true||edge==true)\n                        {\n                            Log.e(\"Service Network\", \"Network is online\");\n                            List&lt;NameValuePair&gt; contacts=new ArrayList&lt;NameValuePair&gt;();\n\n                            contacts=mySQLiteAdapter.getAllContacts();\n\n                            String url=\"http://10.0.2.2:3325/Product/Create?\"; \n\n                            int response = 0;\n\n                            try \n                            {\n                                response = CustomHttpClient.executeHttpPost(url, contacts);\n\n                                if(response==200)\n                                {\n                                    Log.e(\"Data Sent\", \"Response 200\");\n                                }\n\n                                else{\n\n                                    Log.e(\"Service Data\", \"Faield to upload data\" );\n                                }\n\n                            }\n                            catch (Exception e)\n                            {\n                                Log.e(\"Data Sending\", e.toString());\n                                e.printStackTrace();\n                            }\n                        }\n                        else\n                        {\n                            Log.e(\"Service Network\", \"Network is offline\");\n                        }\n                    }\n\n                }, 1000, 5000);\n\n            }\n\n        }).start();\n    }\n\n    /*@Override\n    public void onDestroy() {\n\n        super.onDestroy();\n      //  mySQLiteAdapter.deleteAll();\n        Log.e(\"Service Destroy\", \"Successful\");\n\n\n    }*/\n}\n</code></pre>\n\n<p>Do I need to use onStartCommand instead of onHandleIntent or do I need to use service instead of IntentService to control them?</p>\n"},{"tags":["c#","ios","sqlite","monotouch"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":88,"score":1,"question_id":12883507,"title":"MonoTouch & SQLite - Cannot open database after previous successful connections","body":"<p>I am having difficulty in reading data from my SQLite database from MonoTouch.</p>\n\n<p>I can read and write without any difficulty for the first few screens and then suddenly I am unable to create any further connections with the error:</p>\n\n<pre><code>Mono.Data.Sqlite.SqliteException: Unable to open the database file   \nat Mono.Data.Sqlite.SQLite3.Open (System.String strFilename, SQLiteOpenFlagsEnum flags, Int32 maxPoolSize, Boolean usePool) [0x0007e] in /Developer/MonoTouch/Source/mono/mcs/class/Mono.Data.Sqlite/Mono.Data.Sqlite_2.0/SQLite3.cs:136    \nat Mono.Data.Sqlite.SqliteConnection.Open () [0x002aa] in /Developer/MonoTouch/Source/mono/mcs/class/Mono.Data.Sqlite/Mono.Data.Sqlite_2.0/SQLiteConnection.cs:888 \n</code></pre>\n\n<p>I ensure that i dispose and close every connection each time i use it but still i have this problem. For example:</p>\n\n<pre><code>var mySqlConn = new SqliteConnection(GlobalVars.connectionString);\nmySqlConn.Open();\nSqliteCommand mySqlCommand = new SqliteCommand(SQL, mySqlConn);\nmySqlCommand.ExecuteNonQuery();\nmySqlConn.Close();\nmySqlCommand.Dispose();\nmySqlConn.Dispose();\n</code></pre>\n\n<p>I'm guessing that I'm not closing the connections correctly. Any help would be greatly appreciated.</p>\n"},{"tags":["android","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":12882568,"title":"\"SQLException: not an error\" when updating a SQLite database","body":"<p>when trying to update my database through queries that I get from an internet page, I get an exception.. Here is the code:</p>\n\n<pre><code>url = new URL(Database.Munawwat_UpdateDB_URL);\n\n                    URLConnection connection = url.openConnection();\n                    BufferedReader reader = new BufferedReader(new InputStreamReader(connection.getInputStream()));\n                    String line = null;\n                    File dbfile = new File(Database.Munawwat_Database_PATH);\n                    if (!dbfile.exists()) {\n                        Toast.makeText(Munawwat_List.this, \"error in db location\", Toast.LENGTH_SHORT).show();\n                        return;\n                    }\n                    SQLiteDatabase db = SQLiteDatabase.openOrCreateDatabase(dbfile, null);\n                    String query = \"\";\n                    while ((line = reader.readLine()) != null)\n                        if (!line.contains(\"WHERE\"))\n                            query += line + \"\\n\";\n                        else {\n                            query += line.trim();\n                            Cursor c = db.rawQuery(query, null);\n                            c.moveToFirst();\n\n                            c.close();\n\n                            query = \"\";\n                        }\n\n                    db.close();\n                    reader.close();\n\n                } catch (Exception e) {\n                    // TODO Auto-generated catch block\n                    e.printStackTrace();\n                }\n</code></pre>\n\n<p>Logcat:</p>\n\n<pre><code> 14:52:46.136: E/SQLiteQuery(17802): exception: not an error; query: UPDATE Adab SET Body=\"AAAAAAAAAAAAAAAAAAAAAAAAABBBBBBBBBBCBCBCB\" WHERE _id=4 10-14\n 14:52:47.484: W/System.err(17802): android.database.sqlite.SQLiteException: not an error 10-14\n 14:52:47.496: W/System.err(17802): at android.database.sqlite.SQLiteQuery.nativeFillWindow(Native Method) 10-14 \n 14:52:47.503: W/System.err(17802): at android.database.sqlite.SQLiteQuery.fillWindow(SQLiteQuery.java:86) 10-14 \n 14:52:47.511: W/System.err(17802): at android.database.sqlite.SQLiteCursor.fillWindow(SQLiteCursor.java:164) 10-14 \n 14:52:47.523: W/System.err(17802): at android.database.sqlite.SQLiteCursor.getCount(SQLiteCursor.java:156) 10-14 \n 14:52:47.527: W/System.err(17802): at android.database.AbstractCursor.moveToPosition(AbstractCursor.java:161) 10-14 \n 14:52:47.527: W/System.err(17802): at android.database.AbstractCursor.moveToFirst(AbstractCursor.java:201) 10-14 \n 14:52:47.531: W/System.err(17802): at omar.Munawwat_List$2.onClick(Munawwat_List.java:141) 10-14\n 14:52:47.531: W/System.err(17802): at android.view.View.performClick(View.java:3511) 10-14\n 14:52:47.535: W/System.err(17802): at android.view.View$PerformClick.run(View.java:14105) 10-14\n 14:52:47.535: W/System.err(17802): at android.os.Handler.handleCallback(Handler.java:605) 10-14\n 14:52:47.535: W/System.err(17802): at android.os.Handler.dispatchMessage(Handler.java:92) 10-14\n 14:52:47.539: W/System.err(17802): at android.os.Looper.loop(Looper.java:137) 10-14    \n 14:52:47.539: W/System.err(17802): at android.app.ActivityThread.main(ActivityThread.java:4575) 10-14\n 14:52:47.539: W/System.err(17802): at java.lang.reflect.Method.invokeNative(Native Method) 10-14\n 14:52:47.539: W/System.err(17802): at java.lang.reflect.Method.invoke(Method.java:511) 10-14 \n 14:52:47.542: W/System.err(17802): at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:786) 10-14 \n 14:52:47.542: W/System.err(17802): at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:553) 10-14\n 14:52:47.546: W/System.err(17802): at dalvik.system.NativeStart.main(Native Method)\n</code></pre>\n\n<p>So the database doesnt get updated.. Why is this?</p>\n"},{"tags":["android","database","sqlite","nullpointerexception"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":112,"score":1,"question_id":11113700,"title":"Null Pointer Exception while inserting spinner and other text values into sqlite database in android?","body":"<p>Main Activity:</p>\n\n<pre><code>private Button btnSubmit;\nprivate DataSource mDataSource;\nprivate Context mContext;\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.main);\n    final EditText first_name = (EditText) findViewById(R.id.first_name);\n    final Spinner relation = (Spinner) findViewById(R.id.relation);\n    final EditText address = (EditText) findViewById(R.id.address);\n    Button  mSubmitButton = (Button) findViewById(R.id.btnSubmit);\n    relation.setOnItemSelectedListener(new CustomOnItemSelectedListener());\n    mSubmitButton.setOnClickListener(new View.OnClickListener() {\n\n           @Override\n           public void onClick(View v) {\n                 String fName = first_name.getText().toString();\n                 String re_lation = (String) relation.getSelectedItem(); \n                 String add_ress = address.getText().toString();\n                 if ((fName.length() &lt;=0) || (re_lation.length()&lt;=0) || (add_ress.length()&lt;=0)) {\n                        Toast.makeText(MyAndroidAppActivity.this, \"please fill the data\", Toast.LENGTH_SHORT).show();\n                 } else{\n                        Log.i(\"name\",fName);\n                        Log.i(\"rel\",re_lation);\n                        Log.i(\"e\",add_ress);\n                        mDataSource.addUser(fName, re_lation, add_ress);\n\n                 }\n           }\n     });\n}\n</code></pre>\n\n<p>DataSource.java</p>\n\n<pre><code>private SQLiteDatabase mSQLiteDatabase;\nprivate MySQLiteHelper mSQLiteHelper;\nprivate String[] mAllColumns = {\n      MySQLiteHelper.COLUMN_ID, MySQLiteHelper.COLUMN_FIRST_NAME, MySQLiteHelper.COLUMN_RELATION, MySQLiteHelper.COLUMN_ADDRESS\n};\n\npublic DataSource (Context context){\n      mSQLiteHelper = new MySQLiteHelper(context);\n}\n\npublic void open() throws SQLiteException {\n      mSQLiteDatabase = mSQLiteHelper.getWritableDatabase();\n}\n\npublic void close() {\n      mSQLiteHelper.close();\n}\n\npublic void addUser(String first_name, String relation, String address){\n      ContentValues values = new ContentValues();\n      Log.i(\"name\",first_name);\n      values.put(MySQLiteHelper.COLUMN_FIRST_NAME, first_name);\n      values.put(MySQLiteHelper.COLUMN_RELATION, relation);\n      values.put(MySQLiteHelper.COLUMN_ADDRESS, address);\n      mSQLiteDatabase.insert(MySQLiteHelper.TABLE_USERS, null, values);\n      //Cursor cursor = mSQLiteDatabase.query(MySQLiteHelper.TABLE_USERS, allcolumns, selection, selectionArgs, groupBy, having, orderBy)\n}\n</code></pre>\n\n<p>MySQLiteHelper.java</p>\n\n<pre><code>public class MySQLiteHelper extends SQLiteOpenHelper {\n        public static final String TABLE_USERS = \"users\";\n        public static final String COLUMN_ID = \"_id\";\n        public static final String COLUMN_FIRST_NAME = \"first_name\";\n        public static final String COLUMN_RELATION = \"relation\";\n        public static final String COLUMN_ADDRESS = \"address\";\n\n\n\n        private static final String DATABASE_NAME = \"users.db\";\n        private static final int DATABASE_VERSION = 1;\n\n        // Database creation sql statement\n        private static final String DATABASE_CREATE = \"create table \"\n                + TABLE_USERS + \"( \" + COLUMN_ID\n                + \" integer primary key autoincrement, \" + COLUMN_FIRST_NAME\n                + \" text not null,\" + COLUMN_RELATION + \" text not null,\" +\n                COLUMN_ADDRESS + \" text not null);\";\n\n\n\n        public MySQLiteHelper(Context context) {\n            super(context, DATABASE_NAME, null, DATABASE_VERSION);\n        }\n\n        @Override\n        public void onCreate(SQLiteDatabase db) {\n            db.execSQL(DATABASE_CREATE);\n\n        }\n\n        @Override\n        public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n            db.execSQL(\"DROP TABLE IF EXISTS \"+TABLE_USERS);\n            onCreate(db);\n\n        }\n}\n</code></pre>\n\n<p>Error Logcat:</p>\n\n<pre><code>06-20 11:26:02.043: E/AndroidRuntime(342): FATAL EXCEPTION: main\n06-20 11:26:02.043: E/AndroidRuntime(342): java.lang.NullPointerException\n06-20 11:26:02.043: E/AndroidRuntime(342):  at com.mkyong.android.MyAndroidAppActivity$1.onClick(MyAndroidAppActivity.java:62)\n06-20 11:26:02.043: E/AndroidRuntime(342):  at android.view.View.performClick(View.java:2485)\n06-20 11:26:02.043: E/AndroidRuntime(342):  at android.view.View$PerformClick.run(View.java:9080)\n06-20 11:26:02.043: E/AndroidRuntime(342):  at android.os.Handler.handleCallback(Handler.java:587)\n06-20 11:26:02.043: E/AndroidRuntime(342):  at android.os.Handler.dispatchMessage(Handler.java:92)\n06-20 11:26:02.043: E/AndroidRuntime(342):  at android.os.Looper.loop(Looper.java:123)\n06-20 11:26:02.043: E/AndroidRuntime(342):  at android.app.ActivityThread.main(ActivityThread.java:3683)\n06-20 11:26:02.043: E/AndroidRuntime(342):  at java.lang.reflect.Method.invokeNative(Native Method)\n06-20 11:26:02.043: E/AndroidRuntime(342):  at java.lang.reflect.Method.invoke(Method.java:507)\n06-20 11:26:02.043: E/AndroidRuntime(342):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)\n06-20 11:26:02.043: E/AndroidRuntime(342):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)\n</code></pre>\n\n<p>Here i got the null pointer exeception while inserting the spinner and other text values in sqlite database,in the error line    <code>mDataSource.addUser(fName, re_lation, add_ress);</code></p>\n\n<p>i got the three values.but the database is not created here.i point out the error line and while submiting the values into database,it throws the null pointer exception.what is the error in my program.anybody can tell me?</p>\n\n<p>thanks in advance</p>\n"},{"tags":["file","sqlite","core-data","filesystems","directory"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":38,"score":1,"question_id":12378228,"title":"Clarification needed about Where I Should Put (Store) My Core Data’s SQLite File?","body":"<p>Yes, I know. This question have been already replied in <a href=\"http://stackoverflow.com/questions/4525694/where-to-store-the-core-data-file\">Where to store the Core Data file?</a> and in <a href=\"http://stackoverflow.com/questions/5243917/store-coredata-file-outside-of-documents-directory\">Store coredata file outside of documents directory?</a>.</p>\n\n<p>@Kendall Helmstetter Gelner and @Matthias Bauch provided very good replies. I upvoted for them.</p>\n\n<p>Now my question is quite conceptual and I'll try to explain it.</p>\n\n<p>From <a href=\"http://developer.apple.com/library/ios/#documentation/FileManagement/Conceptual/FileSystemProgrammingGUide/FileSystemOverview/FileSystemOverview.html#//apple_ref/doc/uid/TP40010672-CH2-SW2\" rel=\"nofollow\">Where You Should Put Your App’s Files section</a> in Apple doc, I've read the following:</p>\n\n<blockquote>\n  <p><strong>Handle support files</strong> — files your application downloads or generates and\n  can recreate as needed — in one of two ways:</p>\n  \n  <ul>\n  <li><p>In iOS 5.0 and earlier, put support files in the /Library/Caches directory to prevent them from being\n  backed up</p></li>\n  <li><p>In iOS 5.0.1 and later, put support files in the /Library/Application Support directory and apply the\n  <code>com.apple.MobileBackup</code> extended attribute to them. This attribute\n  prevents the files from being backed up to iTunes or iCloud. If you\n  have a large number of support files, you may store them in a custom\n  subdirectory and apply the extended attribute to just the directory.</p></li>\n  </ul>\n</blockquote>\n\n<p>Apple says that for handling support files you can follow two different ways based on the installed iOS. In my opinion (but maybe I'm wrong) a Core Data file is a support file and so it falls in these categories.</p>\n\n<p>Said this, does the approach by Matthias and Kendall continue to be valid or not? In particular, if I create a directory, say <em>Private</em>, within the <em>Library</em> folder, does this directory continue to remain hidden both in iOS 5 version (5.0 and 5.0.1) or do I need to follow Apple solution? If the latter is valid, could you provide any sample or link?</p>\n\n<p>Thank you in advance.</p>\n"},{"tags":["android","sqlite","upgrade"],"answer_count":3,"favorite_count":8,"up_vote_count":9,"down_vote_count":0,"view_count":278,"score":9,"question_id":8941662,"title":"Keeping the same SQLite database when upgrading and Android app from Lite to Pro version","body":"<p>First of all I have done a search and can't find a specific answer to my question so here goes...</p>\n\n<p>I am writing my first Android application and plan to have a Lite version (limited features) and a paid version (full features).</p>\n\n<p>The Lite and Pro version will use the same SQLite database structure, and if the user starts with the Lite version and upgrades to the Pro version, I dont want them to lose the data they have created in the Lite version.</p>\n\n<p>As the Lite and Pro versions will (from my understanding) have to be in separate packages to allow the Android Market to distinguish between them, how can the Pro version see the Lite database?</p>\n\n<p>Many thanks in advance for your answers.</p>\n"},{"tags":["android","query","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":295,"score":0,"question_id":7882580,"title":"SQLite and Android Exception","body":"<p>I am facing problem in android application i want to create database with following script.</p>\n\n<pre><code>CREATE TABLE IF NOT EXISTS events (\n_id INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,\nsource_device_id INT,\ntimestamp INT NOT NULL,\nprocessed BOOLEAN DEFAULT FALSE,\nevent_type TINYINT NOT NULL,\npayload BLOB);\n\nCREATE INDEX IF NOT EXISTS events_unprocessed ON events (processed, _id);\n</code></pre>\n\n<p>and my android code is </p>\n\n<pre><code>public void onCreate(SQLiteDatabase db) {\n  InputStream schemaStream = context.getResources().openRawResource(R.raw.logdb_schema);\n  Scanner schemaScanner = new Scanner(schemaStream, \"UTF-8\");\n  schemaScanner.useDelimiter(\";\");\n\n  Log.i(TAG, \"Creating database\");\n  try {\n    db.beginTransaction();\n    while (schemaScanner.hasNext()) {\n      String statement = schemaScanner.next();\n      Log.d(TAG, \"Creating database: \" + statement);\n      db.execSQL(statement);\n    }\n    db.setTransactionSuccessful();\n  }\n  finally {\n    db.endTransaction();\n  }\n}\n</code></pre>\n\n<p>Its not working its generating run-time exception:</p>\n\n<blockquote>\n  <p>android.database.sqlite.SQLiteException: not an error:</p>\n</blockquote>\n"},{"tags":["java","sqlite","jdbc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":56,"score":-2,"question_id":12882225,"title":"java and sqlite for a complete beginner","body":"<p>I'm writing a program which will need to create and make use of an sqlite database. What I need to do now is create the database and make sure all my classes can interact with it. I have looked online but alot of what i find contradicts itself. Can anyone explain simply how I would go about creating this database and connecting to it first of all?</p>\n"},{"tags":["php","performance","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":54,"score":1,"question_id":12881778,"title":"SQLite - How to make more smaller databases in order to get better performance?","body":"<p>Is there some class or method to limit the size or the number of records in a SQLite database and automatically create a new DB once first one is full (up to limit)? </p>\n\n<p>My SQLite DB can go up to 500mb in size and on shared hosting it won't work.\nSo, I want to divide it to 10 databases of 50 MB or so.</p>\n\n<p>Will this also allow to easily read from the right database if several of them are created?</p>\n"},{"tags":["sqlite","ios5","xcode4","testcase","sentestingkit"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":12872930,"title":"Getting iPhone Documents Directory in TestCases","body":"<p>I'm running test cases which uses sqlite database to test my code on iPhone simulator using default SenTestingkit,\nwhen i try to get the home directory using either of the following ways</p>\n\n<pre><code>NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);\nNSString *docsPath = [paths objectAtIndex:0];\n</code></pre>\n\n<p>or</p>\n\n<pre><code>NSString *home = NSHomeDirectory();\n</code></pre>\n\n<p>i got a wrong path that points to the following bath</p>\n\n<pre><code>/Users/{user}/Library/Application Support/iPhone Simulator/5.1\n</code></pre>\n\n<p>and i couldn't create the sqlite database,\nany idea how to get the right path in the Test cases?</p>\n\n<p>Thanks</p>\n"},{"tags":["android","sqlite","select-query"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":71,"score":-1,"question_id":12880086,"title":"Select query in SQLite?","body":"<p>I'm making use of the function to retrieve one value from the table,</p>\n\n<pre><code>public ArrayList selectValue(SQLiteDatabase sqliteDB, String contactEmail){\n        Cursor c = sqliteDB.rawQuery(\"SELECT * FROM \" + TABLE_NAME + \" WHERE ContactEmail='\"+contactEmail+\"'\",null);\n        if (c != null ) {\n            if  (c.moveToFirst()) {\n                do {\n                    double contactId = c.getDouble(c.getColumnIndex(\"ContactId\"));\n                    results.add(\"ContactEmail: \" +contactEmail+ \",ContactId: \" + contactId);\n                }while (c.moveToNext());\n            } \n        }\n        return results;\n    }\n</code></pre>\n\n<p>But the above function retrieves all the values from the table.. Not sure what is wrong with the query..</p>\n\n<p>I also tried hardcoding the value like this,</p>\n\n<pre><code>Cursor c = sqliteDB.rawQuery(\"SELECT * FROM \" + TABLE_NAME + \" WHERE ContactEmail='peter@peter.com'\",null);\n</code></pre>\n\n<p>but this also gives all the rows. Am I missing something here?? Please help</p>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12881024,"title":"What is prefered type for \"_id\" column of content providers : int or long?","body":"<p>I've came across code in android sources which implicitly check whether some numerical Id for a content provider is of type long or not. Sqlite however seems to have just \"INTEGER\" type.</p>\n\n<p>So, Should on always use long data type to handle values from \"INTEGER\" columns in sqlite, just to be safe ?</p>\n"},{"tags":["android","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":12880599,"title":"Updating SQLite fields not working","body":"<p>I have an online page where I put SQLite queries and then on my Android app I iterate through them and execute them.. Here is the code:</p>\n\n<pre><code>        URL url;\n        try {\n            url = new URL(Database.UpdateDB_URL);\n\n            URLConnection connection = url.openConnection();\n            BufferedReader reader = new BufferedReader(new InputStreamReader(connection.getInputStream()));\n            String line = null;\n            File dbfile = new File(Database.Database_PATH);\n\n            SQLiteDatabase db = SQLiteDatabase.openOrCreateDatabase(dbfile, null);\n\n            while ((line = reader.readLine()) != null)\n                db.rawQuery(line.trim(), null);\n            db.close();\n            reader.close();\n\n        } catch (Exception e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n</code></pre>\n\n<p>Here is an example of whats in line.trim() when the while loop is being run:</p>\n\n<pre><code>UPDATE Behavior SET Body=\"AAAAAA\" WHERE _id=1\n</code></pre>\n\n<p>but when I browse the database in my phone I see that nothing's changed, but if I run this exact query on my pc, it works!<br>\nWhy is that? </p>\n"}]}
{"total":16516,"page":10,"pagesize":100,"questions":[{"tags":["sqlite","alternative"],"answer_count":14,"favorite_count":4,"up_vote_count":21,"down_vote_count":1,"view_count":13209,"score":20,"question_id":417917,"title":"Alternatives to SQLite?","body":"<p>I've used SQLite before as a datastore for a C# winforms application, and it was great, however, it does possess many shortcomings.</p>\n\n<p>I'm aware Microsoft have a product called SQL Server Compact Edition - does this work in the same way SQLite does, and if so, is it any good?</p>\n\n<p>Are there any other alternatives?</p>\n\n<h3>Update</h3>\n\n<p>By alternatives I mean in-process data storage libraries which do not require any separate install packages or standalone executables</p>\n\n<h3>Update 2</h3>\n\n<p>Many people have been asking about the perceived shortcomings of SQLite.<br />\nI'd like to repeat that on the whole I had a great experience with it, and would strongly recommend it, but a couple of things bugged me</p>\n\n<ol>\n<li>Complete lack of type safety.</li>\n<li>You need to explicitly batch multiple sql statements into transactions or the performance is abysmal.</li>\n<li>I can't remember exactly, but from memory some particular kinds of joins and subselects just fail</li>\n<li><strong>No support for ALTER TABLE</strong>. Ouch</li>\n</ol>\n"},{"tags":["android","database","performance","sqlite"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":58,"score":1,"question_id":12831504,"title":"Quick readonly sqlite database","body":"<p>I have a huge database and I want my application to work with it as soon as possible. I'm using android so resources are more restricted. I know that its not a good idea to storage huge  data in the sqlite database, but I need this.</p>\n\n<p>Each database contain only ONE table and I use it READ only.</p>\n\n<p>What advice can you give me to optimize databases as much as possible. I've already read <a href=\"http://stackoverflow.com/questions/784173/what-are-the-performance-characteristics-of-sqlite-with-very-large-database-file\">this</a> post, and except the PRAGMA commands what else can I use?</p>\n\n<p>Maybe there are some special <strong>types</strong> of the tables which are restricted for read only queries, but principally faster then ordinary table types?</p>\n"},{"tags":["android","iphone","sqlite","mobile","blackberry"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":76,"score":-1,"question_id":8509564,"title":"Is SQLite Database will reside in my mobile memory till my app is closed?","body":"<p>I am developing a HTML based mobile app for cross platforms(iPhone, Android, Blackberry). We are going to store 50MB of data in SQLite. Whether SQLite is going to be in memory till the application is open or runs in background. If that is true users will not close the application in their mobile and it is going to occupy memory and will slowdown the device and will give performance issues over a course of time. Is my understanding correct?</p>\n\n<p>Thanks.</p>\n"},{"tags":["c#","android","sqlite","sqlite3"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":107,"score":0,"question_id":8018809,"title":"is it possible to open sqlite Db in android which is encrypted using syste.data.Sqlite (.net namespace)?","body":"<p>Hi i had encrypted sql lite database as </p>\n\n<pre><code>DataSource = \"Data Source=\" + txt_FilePath.Text;\nSQLiteConnection cnn = new SQLiteConnection(DataSource);\ncnn.Open();\ncnn.ChangePassword(txt_Password.Text);\nlabel2.Text = \"Password Encrypted Successfully\";\ncnn.Close();\n</code></pre>\n\n<p>Now i want to decrypt the database in android, in .net we pass connection string as datasource =\"\";password=; how to pass the password connection string in android</p>\n"},{"tags":["javascript","android","iphone","sqlite","blackberry"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":182,"score":0,"question_id":8393976,"title":"Is fetching data from SQLite faster than a FILE IO in mobile devices(Smartphones)?","body":"<p>I am creating a mobile app based on Phone Gap so that i make different builds out of it for iPhone, Blackberry and Android. It is basically a browser based app. </p>\n\n<p>I have large number of files to be displayed to the user in my app (basically a e-book kind). The files will be displayed to the user in the form of hierarchy. For example</p>\n\n<p>User selects a Book(Screen 1). All the chapters in the book will be displayed(screen2). Then the user selects the chapter and all topics will be displayed (Screen 3). The user selects on a topic to read it (screen 4).</p>\n\n<p>I have two approaches and could not decide which will better in terms of performance and accommodating new requirements in future.</p>\n\n<ol>\n<li>I will store all the data in a HTML file(each file for one topic) and display it to the user by reading the file from hierarchal folders, displaying it in the browser as it is HTML.</li>\n<li>Store all the HTML data into SQLite database(each record for one topic) and fetch the data from SQLite and display to user. So every time i have to got to SQLite and fetch the data to show to user as my whole book is available in DB.</li>\n</ol>\n\n<p>also my app is not native platform based.</p>\n\n<p>The Problems i face in future will be\nIf i go for file approach my files will be static lying around in the folders and in future if want to merge two topics to be displayed as one file i need to do a file operation to merge it. But if i use a database i can select those two records that pertains to two topics and display it in the browser. </p>\n\n<p>Please recommend which will be better</p>\n\n<ol>\n<li>In terms of performance (faster as mobile devices have limited resources for a intensive DB operation)</li>\n<li>Flexibility for doing data manipulation.</li>\n<li>IS Accessing SQLite using Javascript (PhoneGap Framework) faster than Native language calls and will my Phone respond to intensive DB operations?For example : iOS.</li>\n</ol>\n\n<p>Thanks.</p>\n"},{"tags":["iphone","sqlite","optimization","core-data"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":104,"score":0,"question_id":8809522,"title":"Using SQLite on the iPhone: do I have to read the entire database and store it into an array?","body":"<p>Hi I am a newbie to iPhone programming. I have been looking at some tutorials online for using SQLite on the iPhone.\nFrom what Iv'e seen, one has to read the entire database in the app delegate method and then store the contents in an array. This is then used to populate a UITableView.</p>\n\n<p>I was wondering how this can be efficient? I mean, if you are going to store the contents of your entire database in memory why have a database?</p>\n\n<p>Is this standard practice? </p>\n\n<p>Instead of this, if I use Core Data, I can set the paging size and it will optimize how much data is stored in memory and only read whats being shown within the visible cells.</p>\n\n<p>Is there anyway, In can have the same functionality using SQLite? so its easy on memory. I mean my database has only 300 entries now, but what if in the future it has 3 million?</p>\n\n<p>Can some one please assist me in understanding this....</p>\n\n<p>Are there any tutorials for SQLite that show how to do it in an optimized way?</p>\n\n<p>Thanks</p>\n"},{"tags":["android","string","sqlite","cursor","result"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":119,"score":0,"question_id":10646785,"title":"Android development with sqlite: How to use string result from a database query without using a listview?","body":"<p>I've been working on this for days, off and on. What I want to do is when a user clicks on a button, run a query against my sql lite database that returns 1 value (happens to be an integer, but string is fine), which I can then put into a text box.  (Also When the user changes input values, and clicks the button, they get a different result. </p>\n\n<p>I have gone through a ton of examples, but they all use a listview at the end to display a set of rows.  Is there a way to take the results from my database adapter, which I thought was a string .\nIn my code from mydbadapter below, I would like to return a value from KEY_FEE column:</p>\n\n<pre><code>public String getdata(){\n String[] columns = new String[]{KEY_ROWID, KEY_SPEED, KEY_TIME, KEY_FEE };\n Cursor c = myDatabase.query(DATABASE_TABLE, columns, \"speed like '25' AND \"\n         + \"time like '50'\", null, null, null, null);\n String result =\"\";\n int iRow =c.getColumnIndex(KEY_ROWID);\nint iSPEED =c.getColumnIndex(KEY_SPEED);\nint iTIME=c.getColumnIndex(KEY_TIME);\nint iFEE =c.getColumnIndex(KEY_FEE);\n\nfor (c.moveToFirst(); !c.isAfterLast();c.moveToNext()){\n    result = result + c.getString(iRow) + \" \" +c.getString(iSPEED) + \" \" \n    +c.getString(iTIME)  + \" \" +c.getString(iFEE) + \"/n\";\n}\n return result;    }\n</code></pre>\n\n<p>IS this <strong>result</strong> actually a string?  </p>\n\n<p>If so, how can I access it from my main program, upon button click:\n            Button.OnClickListener buttonOnClickListener = new Button.OnClickListener(){</p>\n\n<pre><code>         @Override\n       public void onClick(View v) {\n            System.out.println(\"The calculate FEE button was clicked \" );\n\n            //TODO\n            //getdata here from database, to a variable for lineout, sub in for \"60\".\n            //\n            myDbHelper.getdata();\n            //set the stringVal variable to the Fee\n            _stringVal = \"Fee is:\" **???how to specify the result string from dbhelper here?**;\n            //sets the text textview based on prior code: _value = (TextView) findViewById(R.id.textView3);\n            _value.setText(_stringVal);\n\n            //System.out.println(\"Text should say \"+_stringVal);\n            // System.out.println(\"Get Data Has been called. \");\n       }\n    };\n</code></pre>\n"},{"tags":["java","android","sqlite","android-sqlite"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":64,"score":0,"question_id":12676196,"title":"How to trap SQLite error on first time run for an app","body":"<p>In the main activity I am trying to check when the app gets open if the app database exist or not. This is because I want to get a chance to create the database and insert all the needed records on the very first run only.</p>\n\n<p>But it's not working with me, it give me this error:</p>\n\n<p>..Caused by: android. database. CursorindexOutOfBoundsException: Index 0 requested, with a size of 0</p>\n\n<p>My first thought is that the above exception/error is not SQLiteException or I don't know exactly what I am missing.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>    DBAdapter dbCheck = new DBAdapter(this);\n    boolean dbStatus;\n    String strData;\n    try { \n        dbCheck.open(); \n        Cursor tblCheck = dbCheck.getThis_tblData(10); //get record no 10 - random number\n        strData = tblCheck.getString(5);   // get the value of a field in the table\n        tblCheck.close();\n        dbCheck.close();\n        System.out.println(\"&lt;---&gt; Db found \");\n    } catch (SQLiteException e) { \n        //database doesn't exist yet. Create it.\n        System.out.println(\"&lt;---&gt; Db not found \");\n    Intent MakeDB = new Intent(MainActivity.this, com.kjsoft.tre.InsertData.class);\n    StartActivity(MakeDB);\n    } \n</code></pre>\n\n<p>Thanks everyone for your help!</p>\n"},{"tags":["android","sql","sqlite","opendatabase"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":54,"score":-1,"question_id":10456686,"title":"Android & sqlite - Do I have to create and replace the database before accessing it? or can I just open the db and query?","body":"<p>I am starting to learn android development using the Eclipse SDK with SQLite.</p>\n\n<p>If I have an existing database, which I created manually, in another application etc.\nIt seems as if all the examples, even the ones which bring in an existing database, are forced call create a blank db first, then replace it with the existing db.</p>\n\n<p>why can't I simply connect to it, and query from the existing data?</p>\n\n<p>For example, using \"openDataBase\" or similar?\nDoes anyone have a very simple example of this... sample project with code?</p>\n"},{"tags":["java","android","html5","sqlite","phonegap"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":253,"score":1,"question_id":11259209,"title":"How to acess same sqlite database from phonegap and android?","body":"<p>I am trying to build a game in android most of the part of the game is written in HTML5 a sqlite database is also created for the same. I want to access the sqlite database created in HTML5 from java to add or remove values?</p>\n\n<p>Any phonegap plugin for that?</p>\n"},{"tags":["sqlite","windows-8"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":12251271,"title":"Opening SQLite VSIX (VS Extension)","body":"<p>Today I attempted to open the SQLite vsix (visual studio extension, <a href=\"http://www.sqlite.org/download.html\" rel=\"nofollow\">found here</a>) so that I can add its capability to a Windows 8 store app.</p>\n\n<p>For some reason though Windows 8 had not properly associated VSIX extensions with Visual Studio 2012 and it kept opening it as a compressed file, not exactly the result I expected.</p>\n"},{"tags":["database","sqlite","microsoft-metro","local-storage","winrt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":285,"score":0,"question_id":11745163,"title":"CRUD operations on SQLite database in metro applications?","body":"<p>I am new to windows 8 metro application development .</p>\n\n<p>By following the below link i was able to add / configure the SQLite database to my project:-</p>\n\n<p><a href=\"http://wp.qmatteoq.com/using-sqlite-in-your-windows-8-metro-style-applications/\" rel=\"nofollow\">http://wp.qmatteoq.com/using-sqlite-in-your-windows-8-metro-style-applications/</a></p>\n\n<p>But, I have a doubt on performing operations on SQLite database in metro app.</p>\n\n<p>I need to store reasonably huge amount of data in SQLite database (in my client metro app) and also have many tables and also relationship between them and perform various CRUD(create, retrieve,  update, delete) operations on the SQLite database. </p>\n\n<p>Since I am new to this windows 8 metro application development, I am not able to figure it out on   how to perform these operations on the SQLite database.</p>\n\n<p>So I request you to help me out in this, by providing a sample overview example of each on how to perform these operations on SQLite database in metro app.</p>\n\n<p>Answer to this post not only would clear my doubt but also would help many other developers who are using SQLite database support for metro application.</p>\n"},{"tags":["android","database","sqlite","isqlquery"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":99,"score":1,"question_id":10460477,"title":"Android : How to append String after SQLite Funciton?","body":"<p>I have a small problem. Can anyone please tell me how to append String value after SQLite function in Insert Statement. Code line is below :</p>\n\n<pre><code>myDataBase.execSQL(\"INSERT INTO network_data (DateTime, Signal, GPSLat, GPSLong, NetLat, NetLong) VALUES (datetime() /*Here I want to append value \"GMT\"*/, '\" +Signal+ \"', '\" +GPSLat+ \"', '\" +GPSLong+ \"', '\" +NetLat+ \"', '\" +NetLong+ \"');\");\n</code></pre>\n\n<p>I want to append value \"GMT\" after 'datetime()' function.</p>\n\n<p>I want Output like : \"12:05:05 09:24:00 GMT\"</p>\n\n<p>This is a SQLite function in Android.</p>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":2,"view_count":106,"score":0,"question_id":11374620,"title":"sqlite exception handling in Android","body":"<p>I am working on an application which stores some data in sqlite, while creating table android throws an exception:</p>\n\n<pre><code>Failure 1 : Syntax error  near table1. on Ox12d510\n</code></pre>\n\n<p>I am unable to identify what I am doing wrong. Source code:</p>\n\n<pre><code>import android.content.Context;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.database.sqlite.SQLiteOpenHelper;\n\npublic class MySQLiteHelper extends SQLiteOpenHelper {\n\n    public static final String DATABASE_NAME = \"bedekar12.db\";  \n    public static final int DATABASE_VERSION = 1;\n\n    public static final String COLUMN_ID = \"_id\";\n    public static final String COLUMN_1 = \"column1\";\n    public static final String PRODUCT_NAME = \"product_name\";\n    public static final String PRODUCT_CATEGORY = \"product_category\";\n    public static final String ORDER_ID = \"order_id\";\n    public static final String ORDER_DATE = \"order_date\";\n    public static final String CUSTOMER_ID = \"customer_id\";\n    public static final String TOTAL = \"total\";\n    public static final String SALESMAN_ID = \"salesman_id\";\n    public static final String ORDER_STATUS = \"order_status\";\n    public static final String PRODUCT_ID = \"product_id\";\n    public static final String PACKAGE_ID = \"package_id\";\n    public static final String QUANTITY = \"quantity\";\n    public static final String PACKGAGE = \"package\";\n    public static final String WEIGHT = \"weight\";\n    public static final String PRICE = \"price\";\n    public static final String CUSTOMER_NO = \"customer_no\";\n    public static final String CUSTOMER_NAME = \"customer_name\";\n    public static final String CUSTOMER_ADD = \"customer_add\";\n    public static final String CUSTOMER_CITY = \"customer_city\";\n    public static final String CUSTOMER_REGION = \"customer_region\";\n    public static final String CUSTOMER_POSTAL = \"customer_postal\";\n    public static final String CONTACT = \"contact\";\n    public static final String CUSTOMER_TITLE = \"customer_title\";\n    public static final String CUSTOMER_PHONE = \"customer_phone\";\n    public static final String CUSTOMER_EMAIL = \"customer_email\";\n    public static final String LAT = \"lat\";\n    public static final String LNG = \"lng\";\n    public static final String EVENTS_DATE = \"events_date\";\n    public static final String EVENTS_MSG = \"events_msg\"; \n\n    // 1. News Table\n    public static final String NEWS_TABLE = \"news_table\";\n    public static final String NEWS_CREATE = \"create table \" + NEWS_TABLE + \" ( \"\n                                        + COLUMN_ID + \" integer primary key , \"\n                                        + COLUMN_1 + \" text not null ); \";\n\n    // 2. product table\n    public static final String PRODUCT_TABLE = \"product_table\";\n    public static final String PRODUCT_CREATE = \"create table \" + PRODUCT_TABLE + \" ( \"\n                                        + COLUMN_ID + \" integer primary key , \"\n                                        + PRODUCT_ID + \" text not null, \"\n                                        + PRODUCT_NAME + \" text not null, \"\n                                        + PRODUCT_CATEGORY + \" text not null ); \"; \n    // 3. order table\n    public static final String ORDER_TABLE = \"order_table\";\n    public static final String ORDER_CREATE = \"create table \" + ORDER_TABLE + \" ( \"\n                                        + COLUMN_ID + \" integer primary key, \"\n                                        + ORDER_ID + \" text not null, \"\n                                        + ORDER_DATE + \" text not null, \"\n                                        + CUSTOMER_ID + \" text not null, \"\n                                        + TOTAL + \" text not null, \"\n                                        + SALESMAN_ID + \" text not null, \"\n                                        + ORDER_STATUS + \" text not null ); \";\n\n    // 4. return order table\n    public static final String RETURN_ORDER_TABLE = \"return_order_table\";\n    public static final String RETURN_ORDER_CREATE = \"create table \" + ORDER_TABLE + \" ( \"\n                                        + COLUMN_ID + \" integer primary key, \"\n                                        + ORDER_ID + \" text not null, \"\n                                        + ORDER_DATE + \" text not null, \"\n                                        + CUSTOMER_ID + \" text not null, \"\n                                        + TOTAL + \" text not null, \"\n                                        + SALESMAN_ID + \" text not null, \"\n                                        + ORDER_STATUS + \" text not null ); \";\n\n    // 5. OrderDetails Table\n    public static final String ORDER_DETAILS_TABLE = \"details_table\";\n    public static final String ORDER_DETAILS_CREATE = \"create table \" + ORDER_DETAILS_TABLE + \" ( \"\n                                        + COLUMN_ID + \" integer primary key , \"\n                                        + ORDER_ID + \" text not null, \"\n                                        + PRODUCT_ID + \" text not null, \"\n                                        + PACKAGE_ID + \" text not null, \"\n                                        + QUANTITY + \" text not null, \"\n                                        + PRICE + \" text );\";\n\n    // 6. Return OrderDetails Table\n    public static final String RETURN_ORDER_DETAILS_TABLE = \"return_details_table\";\n    public static final String RETURN_ORDER_DETAILS_CREATE = \"create table \" + ORDER_DETAILS_TABLE + \" ( \"\n                                        + COLUMN_ID + \" integer primary key, \"\n                                        + ORDER_ID + \" text not null, \"\n                                        + PRODUCT_ID + \" text not null, \"\n                                        + PACKAGE_ID + \" text not null, \"\n                                        + QUANTITY + \" text not null, \"\n                                        + PRICE + \" text );\";\n\n    // 7. Package table\n    public static final String PACKAGING_TABLE = \"packaging_table\";\n    public static final String PACKAGING_CREATE = \"create table \" + PACKAGING_TABLE + \" ( \"\n                                        + COLUMN_ID + \" integer primary key, \" \n                                        + PRODUCT_ID + \" text not null, \"\n                                        + PACKAGE_ID + \" text not null, \"\n                                        + PACKGAGE + \" text not null, \"\n                                        + WEIGHT + \" text not null, \"\n                                        + QUANTITY + \" text not null, \"\n                                        + PRICE + \" text not null );\";\n\n    // 8. Customer table\n    public static final String CUSTOMER_TABLE = \"customer_table\";\n    public static final String CUSTOMER_CREATE = \"create table \" + CUSTOMER_TABLE + \" ( \"\n                                        + COLUMN_ID + \" integer primary key, \"\n                                        + CUSTOMER_NAME + \" text not null, \"\n                                        + CUSTOMER_ADD + \" text not null, \"\n                                        + CUSTOMER_CITY + \" text not null, \"\n                                        + CUSTOMER_REGION + \" text not null, \"\n                                        + CUSTOMER_POSTAL + \" text not null, \"\n                                        + CONTACT + \" text not null, \"\n                                        + CUSTOMER_TITLE + \" text not null, \"\n                                        + CUSTOMER_PHONE + \" text not null, \"\n                                        + CUSTOMER_EMAIL + \" text not null, \"\n                                        + LAT + \" text not null, \"\n                                        + LNG + \" text not null ); \";\n\n    // 9. Event table;\n        public static final String EVENTS_TABLE = \"events_table\";\n        public static final String EVENTS_CREATE = \"create table \" + EVENTS_TABLE + \" ( \"\n                                            + COLUMN_ID + \" integer primary key, \"\n                                            + EVENTS_DATE + \" text not null, \"\n                                            + EVENTS_MSG + \" text not null ); \";\n\n\n\n    public MySQLiteHelper(Context context) {\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\n        // TODO Auto-generated constructor stub\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        db.execSQL(NEWS_TABLE);\n        db.execSQL(PRODUCT_TABLE);\n        db.execSQL(ORDER_TABLE);\n        db.execSQL(RETURN_ORDER_TABLE);\n        db.execSQL(ORDER_DETAILS_TABLE);\n        db.execSQL(RETURN_ORDER_DETAILS_TABLE);\n        db.execSQL(PACKAGING_TABLE);\n        db.execSQL(CUSTOMER_TABLE);\n        db.execSQL(EVENTS_TABLE);\n    }\n\n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int version1, int version2) {\n        db.execSQL(\"DROP TABLE IF EXISTS \" + NEWS_TABLE);\n        db.execSQL(\"DROP TABLE IF EXISTS \" + PRODUCT_TABLE);\n        db.execSQL(\"DROP TABLE IF EXISTS \" + ORDER_TABLE);\n        db.execSQL(\"DROP TABLE IF EXISTS \" + RETURN_ORDER_TABLE);\n        db.execSQL(\"DROP TABLE IF EXISTS \" + ORDER_DETAILS_TABLE);\n        db.execSQL(\"DROP TABLE IF EXISTS \" + RETURN_ORDER_DETAILS_TABLE);\n        db.execSQL(\"DROP TABLE IF EXISTS \" + PACKAGING_TABLE);\n        db.execSQL(\"DROP TABLE IF EXISTS \" + CUSTOMER_TABLE);\n        db.execSQL(\"DROP TABLE IF EXISTS \" + EVENTS_TABLE);\n        onCreate (db);\n    }\n}\n</code></pre>\n"},{"tags":["android","sqlite","transactions"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":11151154,"title":"Transactions in SQLITE Android","body":"<p>Is there anything like asp.net transactions in Android SQLite? I am doing some processing on an SQLite database from my Android code, but I want upon failure to <strong>rollback</strong> the transaction and return the database to it's original state before the processing started.</p>\n\n<p>Can this be achieved?</p>\n\n<p>thanks</p>\n"},{"tags":["android","sqlite","copy"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":3101,"score":1,"question_id":5699437,"title":"How to copy file from asset folder to .../database folder in android","body":"<p>'m using following code to copy sqlite file from asset folder to database folder. i found this example here <a href=\"http://stackoverflow.com/questions/2605555/android-accessing-assets-folder-sqlite-database-file-with-sqlite-extension\"> find CommonsWare's answer in this question </a><br>\nBut im getting java.io.FileNotFoundException: /file:/android_asset/pg558.sqlite (No such file or directory)</p>\n\n<pre><code>void copy() throws IOException {\n\n    InputStream in =getApplicationContext().getAssets().open(\"pg558.sqlite\");\n    OutputStream out = new FileOutputStream(\"data/data/com.mireader/databases/MIBOOK\");\n\n    // Transfer bytes from in to out\n    byte[] buf = new byte[1024];\n    int len;\n    while ((len = in.read(buf)) &gt; 0) {\n        out.write(buf, 0, len);\n    }\n    in.close();\n    out.close();\n}\n</code></pre>\n"},{"tags":["mysql","sql-server","oracle","sqlite","postgresql"],"answer_count":5,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":156,"score":5,"question_id":10418218,"title":"SQL row return order","body":"<p>I have only used SQL rarely until recently when I began using it daily. I notice that if no \"order by\" clause is used:</p>\n\n<ol>\n<li>When selecting part of a table the rows returned appear to be in the same order as they appear if I select the whole table</li>\n<li>The order of rows returned by a selecting from a join seemes to be determined by the left most member of a join. </li>\n</ol>\n\n<p>Is this behaviour a standard thing one can count on in the most common databases (MySql, Oracle, PostgreSQL, Sqlite, Sql Server)? (I don't really even know whether one can truly count on it in sqlite).  How strictly is it honored if so (e.g. if one uses \"group by\" would the individual groups each have that ordering)?</p>\n"},{"tags":["android","database","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":52,"score":2,"question_id":12877663,"title":"A database Schema to store a content type and a sub content (ANDROID _ SQLITE :)","body":"<p>First apologies with my poor explanation and weak english. And i hope you understand what i want to achieve in general and you could help.</p>\n\n<p><strong>WHAT I WANT TO ACHIEVE</strong></p>\n\n<p>=> Create an ANDROID app that shows the list of car manufacturers and the type of models they make. So when the user opens the app they see list of manufacturers. (ALL THIS DATA WILL BE LOADED FROM A DATABASE)</p>\n\n<p>Like</p>\n\n<p>1.Toyota</p>\n\n<p>2.GMC etc..</p>\n\n<p>So when they click on Toyota they will see the different cars Toyota makes (BY LOADING THEM FROM DATABASES). There would be sequence of screens displaying the different models .</p>\n\n<p>SCREEN 1: Toyota Camry[A PICTURE , LITTLE DETAIL , AND A (VIDEO OR AUDIO) ]</p>\n\n<p>SCREEN 2: Toyota Carina II[SAME THING HERE, (VIDEO OR AUDIO) , PICTURE AND DETAILS ABOUT CAR] etc...</p>\n\n<p>So in each SCREEN there would be some kind of media related to THE CAR MODEL as shown above. A video or an audio promoting the car and some kind of text related to that model. </p>\n\n<p>Now I'm downloading this information and want to save this kind of information of manufacturers and their cars in a database . I just cant come up with a good DB schema that let me safe this kind of data and let me load back to the screens .</p>\n\n<p>--> If you can give me a general database schema like the number of tables I should have etc.. i would really appreciate.</p>\n\n<p><strong>SCHEMA I THOUGHT OF BUT DOESN'T LOOK GOOD</strong></p>\n\n<p>==><strong>MANUFACTURERS TABLE</strong>[*MANUFACTURERS _ID , COMPANY_NAME , *<em>MODELS ???HERE WHAT AM I MISSING ???</em> **]</p>\n\n<p>==><strong>MODELS_TABLE</strong> [*MANUFACTURERS _ID , MODEL_ID ,MODEL_NAME*]</p>\n\n<p>==><strong>RELATED MEDIA</strong> [*MODEL_ID , VIDEO_LOCATION , AUDIO_LOCATION , DETAILS_ABOUT_THE_CAR*]</p>\n\n<p>AS YOU SEE AM JUST NOT GOOD WITH THE DESIGN  :/ SO PLEASE HELP , <strong>THANKS IN ADVANCE</strong> </p>\n"},{"tags":["java","sqlite","geolocation","timezone"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":12877630,"title":"Timezone algorithms based on geographical coordinates","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/41504/timezone-lookup-from-latitude-longitude\">Timezone lookup from latitude longitude</a>  </p>\n</blockquote>\n\n\n\n<p>I am wondering if anyone can direct me to a function that takes:</p>\n\n<ol>\n<li>Parameters: latitude and longitude, and possibly the current local time (Unix time stamp or something similar)</li>\n<li>Returns: current time of given location (this can either be an offset to the current local time of the physical machine, or some other value. As long as I can derive the time of the location relative to the users time)</li>\n</ol>\n\n<p>I am coding in Java and SQLite. </p>\n\n<p>I will take ANY information on either an algorithm I can code out, OR a function that exits already.</p>\n"},{"tags":["java","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":12877702,"title":"How can I find similar matches of a word from a database in Java?","body":"<p>My current programming project is a sort of french dictionary in Java (using sqlite). I was wondering what would happen if someone wanted to find the present tense for \"avoir\" but typed in \"avior\" and how I would handle it. So I thought I could implement some sort of closest match/did you mean functionality. So my question is:</p>\n\n<p>Is there a way to use the database to search for similar matches?</p>\n\n<p>when I made the same program in python a while back (using xml instead) I used this system but it wasn't very effective and required a large error margin to be somewhat effective (and subsequently suggesting words with no relevance!)... but something similar could still be useful nether the less</p>\n\n<pre><code>def getSimilar(self, word, Return = False):\n    matches = list()\n    for verb in self.data.getElementsByTagName(\"Verb\"):\n        for x in range(16):\n            if x % 2 != 0 and x&gt;0:\n                if (x == 15 or x == 3 or x == 1): \n                    part = Dict(self.data).removeBrackets(Dict(self.data).getAccents(verb.childNodes[x].childNodes[0].data)) \n                    diff = 0\n                    for char in word:\n                        if (not char in part):\n                            diff += 1\n                    if (diff &lt; self.similarityValue) and (-self.errorAllowance &lt;= len(part) - len(word) &lt;= self.errorAllowance):\n                        matches.append(part)\n                else:\n                    for y in range(14): \n                        if (y % 2 != 0 and y&gt;0):\n                            part = Dict(self.data).getAccents(verb.childNodes[x].childNodes[y].childNodes[0].data)\n                            diff = 0\n                            for char in word:\n                                if (not char in part):\n                                    diff += 1\n                            if (diff &lt; self.similarityValue) and (-self.errorAllowance &lt;= len(part) - len(word) &lt;= self.errorAllowance):\n                                matches.append(part)\n    if not Return:\n        for match in matches:\n            print \"Did you mean '\" + match + \"'?\"\n    if Return: return matches\n</code></pre>\n\n<p>Any help is welcomed!</p>\n\n<p>Jamie</p>\n"},{"tags":["android","database","sqlite","android-listview","static-data"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":192,"score":0,"question_id":10890157,"title":"How can I get a static SQLite database to show up in my listView","body":"<p>I'll start off by listing the code i have thus far...</p>\n\n<p>This is my main Activity class:</p>\n\n<pre><code>public class SQLiteDatabaseMain extends Activity\n{\n    ListView list;\n    DatabaseHelper helper;\n    SQLiteDatabase db;\n    DatabaseAdapter adapter;\n\n\n    @Override\n    public void onCreate(Bundle savedInstanceState)\n    {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.main);\n\n        init();\n    }\n\n    public void init()\n    {\n        helper = new DatabaseHelper(this);\n\n        list = (ListView) findViewById(R.id.listView1);\n\n        db = helper.getWritableDatabase();\n\n        helper.populateGrocery(db);\n\n    }\n\n}\n</code></pre>\n\n<p>This is my DatabaseHelper class:</p>\n\n<pre><code>public class DatabaseHelper extends SQLiteOpenHelper\n{\n\nprivate static final String DATABASE_NAME = \"grocerystoretest.db\";\nprivate static final String DATABASE_TABLE = \"grocerystoreitems\";\nprivate static final String GROCERY_KEY_NAME = \"name\";\nprivate static final String GROCERY_KEY_TYPE = \"type\";\nprivate static final int SCHEMA_VERSION = 1;\n\nSQLiteDatabaseMain sqlMain = new SQLiteDatabaseMain();\n\npublic DatabaseHelper(Context context)\n{\n    super(context, DATABASE_NAME, null, SCHEMA_VERSION);\n}\n\n@Override\npublic void onCreate(SQLiteDatabase db)\n{\n    db.execSQL(\"CREATE TABLE \"\n            + DATABASE_TABLE\n            + \" (_id INTEGER PRIMARY KEY AUTOINCREMENT, name TEXT, type TEXT);\");\n}\n\n@Override\npublic void onUpgrade(SQLiteDatabase db, int arg1, int arg2)\n{\n    // db.execSQL(\"DROP TABLE IF EXISTS \" + DATABASE_NAME);\n\n}\n\npublic void insert(String name, String type)\n{\n    ContentValues cv = new ContentValues();\n    cv.put(\"name\", name);\n    cv.put(\"type\", type);\n\n    getWritableDatabase().insert(DATABASE_TABLE, \"name\", cv);\n}\n\npublic void update(String id, String name, String type)\n{\n    ContentValues cv = new ContentValues();\n    String[] args =\n    { id };\n\n    cv.put(\"name\", name);\n    cv.put(\"type\", type);\n\n    getWritableDatabase().update(DATABASE_TABLE, cv, \"_ID=?\", args);\n}\n\npublic void delete(String id, String name, String type)\n{\n    ContentValues cv = new ContentValues();\n    String[] args =\n    { id };\n\n    cv.put(\"name\", name);\n    cv.put(\"type\", type);\n\n    getWritableDatabase().delete(DATABASE_TABLE, \"_ID=?\", args);\n}\n\npublic void populateGrocery(SQLiteDatabase db)\n{\n    ArrayList&lt;GroceryObj&gt; groceryArrayList;\n    groceryArrayList = buildGroceryArrayList();\n    String insertStmt = null;\n    for (int i = 0; i &lt; groceryArrayList.size(); i++)\n    {\n        insertStmt = \"INSERT INTO \" + DATABASE_TABLE + \" (\"\n                + GROCERY_KEY_NAME + \", \" + GROCERY_KEY_TYPE + \") \"\n                + \"VALUES (\\\"\" + groceryArrayList.get(i).getName()\n                + \"\\\", \\\"\" + groceryArrayList.get(i).getType() + \"\\\");\";\n        db.execSQL(insertStmt);\n    }\n}\n\nprivate ArrayList&lt;GroceryObj&gt; buildGroceryArrayList()\n{\n    ArrayList&lt;GroceryObj&gt; aL = new ArrayList&lt;GroceryObj&gt;();\n    DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\n    try\n    {\n        Context context;\n        context = sqlMain.getApplicationContext();\n\n        DocumentBuilder builder = factory.newDocumentBuilder();\n        InputStream raw = context.getAssets().open(\"default_grocerystore.xml\");\n        Document dom = builder.parse(raw);\n        Element root = (Element) dom.getDocumentElement();\n        NodeList groceryItems = ((Document) root)\n                .getElementsByTagName(\"grocery\");\n        for (int i = 0; i &lt; groceryItems.getLength(); i++)\n        {\n            String name = null;\n            String type = null;\n            Node item = groceryItems.item(i);\n            NodeList groceryItem = item.getChildNodes();\n            for (int j = 0; j &lt; groceryItem.getLength(); j++)\n            {\n                Node nodeItem = groceryItem.item(j);\n                String nodeName = nodeItem.getNodeName();\n                if (nodeName.equalsIgnoreCase(\"name\"))\n                {\n                    name = nodeItem.getFirstChild().getNodeValue();\n                } else if (nodeName.equalsIgnoreCase(\"type\"))\n                {\n                    type = nodeItem.getFirstChild().getNodeValue();\n                }\n            }\n            aL.add(new GroceryObj(name, type));\n        }\n    } catch (Exception e)\n    {\n        e.printStackTrace();\n    }\n    return aL;\n}\n\npublic String getName(Cursor c)\n{\n    return (c.getString(1));\n}\n\npublic String getType(Cursor c)\n{\n    return (c.getString(3));\n}\n\n}\n</code></pre>\n\n<p>This is my GroceryObj class:</p>\n\n<pre><code>public class GroceryObj\n{\n\nprivate String name = \"\";\nprivate String type = \"\";\n\npublic GroceryObj(String name, String type)\n{\n    this.name = name;\n    this.type = type;\n}\n\npublic String getName()\n{\n    return (name);\n}\n\npublic void setName(String name)\n{\n    this.name = name;\n}\n\npublic String getType()\n{\n    return (type);\n}\n\npublic void setType(String type)\n{\n    this.type = type;\n}\n\n}\n</code></pre>\n\n<p>My DatabaseAdapter class is blank right now. This is what I need to figure out!:</p>\n\n<pre><code>public class DatabaseAdapter extends CursorAdapter\n{\n\npublic DatabaseAdapter(Context context, Cursor c)\n{\n    super(context, c);\n}\n\n@Override\npublic void bindView(View view, Context context, Cursor cursor)\n{\n\n}\n\n@Override\npublic View newView(Context context, Cursor cursor, ViewGroup parent)\n{\n    return null;\n}\n\n}\n</code></pre>\n\n<p>Then I have an xml file that stores all of the grocery items by name and type:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;default_grocerystore&gt;\n    &lt;grocery&gt;\n            &lt;name&gt;Bread&lt;/name&gt;\n            &lt;type&gt;Bakery&lt;/type&gt;\n    &lt;/grocery&gt;\n    &lt;grocery&gt;\n            &lt;name&gt;Rolls&lt;/name&gt;\n            &lt;type&gt;Bakery&lt;/type&gt;\n    &lt;/grocery&gt;\n    &lt;grocery&gt;\n            &lt;name&gt;Juice&lt;/name&gt;\n            &lt;type&gt;Beverages&lt;/type&gt;\n    &lt;/grocery&gt;\n    &lt;grocery&gt;\n            &lt;name&gt;Soda&lt;/name&gt;\n            &lt;type&gt;Beverages&lt;/type&gt;\n    &lt;/grocery&gt;\n&lt;/default_grocerystore&gt;\n</code></pre>\n\n<p>And finally I have a row.xml that is just two textViews that are to display the name and type of each item in each row of my ListView.</p>\n\n<p>My main.xml is just a TextView and a listview.</p>\n\n<p>What I'm really stuck on is the Adapter. Ive used database adapters before to insert rows into a database via editTexts and a holder object but Ive never just taken a static database and had it converted to each row to View via my listView. Anyone have any pointers on what is needed to get my database viewed via a listView?? Any help would be greatly appreciated because I am completely stumped here. Ive been racking my brain for the past few hours trying to find out how to do this. Thanks for any help!  </p>\n"},{"tags":["android","sqlite","android-listview"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":155,"score":0,"question_id":12802777,"title":"Android: Get database item from ListView Selected Item","body":"<p>Im working on an android project, and I am trying to get the information about a database item from whatever item is selected from a listView which contains entries of the database items. I am new to android and SQLite so Im not sure about several things. For the listview, what can I do to make the items click-able and then use that to get information about the item from the database.</p>\n\n<p>In an unrelated matter, how could I check the list of names from the database in order to prevent the user from entering duplicates?</p>\n\n<p>Here is the code for the ContactsMenu class which contains the listview.</p>\n\n<pre><code>package com.emailandcontactmanager;\n\nimport android.app.Activity;\nimport android.app.AlertDialog;\nimport android.content.DialogInterface;\nimport android.content.Intent;\nimport android.database.Cursor;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.os.Bundle;\nimport android.view.Menu;\nimport android.view.MenuInflater;\nimport android.view.MenuItem;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.ListView;\nimport android.widget.SimpleCursorAdapter;\nimport android.widget.Toast;\n\npublic class ContactsMenu extends Activity {\n\n\n    ListView listView;\n    public static final String fields[] = { DatabaseSetup.colName};\n    Cursor cursor;\n\n    @Override\n    public void onCreate(Bundle savedInstanceState){\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.managecontacts);\n        listView = (ListView) findViewById(R.id.lstContacts); \n        DatabaseSetup.init(this); \n\n        Button btnAddItem = (Button) findViewById(R.id.btnAddContact);\n        btnAddItem.setOnClickListener(new View.OnClickListener() {\n        public void onClick(View v) {\n            Intent addItem = new Intent(v.getContext(), AddContact.class);\n            startActivity(addItem);\n        }\n        });\n\n    }\n        @Override\n        protected void onPause() {\n            listView.setAdapter(null);\n            cursor.close();\n            DatabaseSetup.deactivate();\n            super.onPause();\n        }\n\n        @Override\n        protected void onResume() {\n            super.onResume();\n            DatabaseSetup.init(this);\n            cursor = DatabaseSetup.getContactNames();\n            SimpleCursorAdapter adapter = new SimpleCursorAdapter(this, R.layout.row, cursor, fields, new int[] {R.id.item_text});\n            listView.setAdapter(adapter); \n        }\n\n\n\n\n\n////////////////MENU////////////////////////////////////////////////////////////////////////////////\n    DialogInterface.OnClickListener dialogClickListener = new DialogInterface.OnClickListener() { \n        public void onClick(DialogInterface dialog, int which) { \n            switch (which){ \n            case DialogInterface.BUTTON_POSITIVE: \n                finish();\n                break; \n\n            case DialogInterface.BUTTON_NEGATIVE: \n                //Nothing happens on No button click, and the menu closes\n                break; \n            } \n        } \n    }; \n\n    @Override\n    public boolean onCreateOptionsMenu(Menu mainmenu) {\n        MenuInflater inflater = getMenuInflater();\n        inflater.inflate(R.menu.mainmenu, mainmenu);\n        return true;\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        final CharSequence[] items = {\"Contacts list\", \"Add Contact\"};\n\n        switch (item.getItemId()) {\n            case R.id.help:     AlertDialog.Builder builder = new AlertDialog.Builder(this);\n                                builder.setTitle(\"Select a function to revice information about it.\");\n                                builder.setItems(items, new DialogInterface.OnClickListener() {\n                                    public void onClick(DialogInterface dialog, int selected) {\n                                        switch(selected){\n                                        case 0:\n                                            Toast.makeText(getApplicationContext(),\n                                                    \"Allows you to view the selected item and make editations to it or delete it.\",\n                                                    Toast.LENGTH_LONG).show();\n                                            break;\n                                        case 1:\n                                            Toast.makeText(getApplicationContext(),\n                                                    \"Allows you to add a new contact by bringing up a screen where the nececary information can be entered.\",\n                                                    Toast.LENGTH_LONG).show();\n                                        }\n                                    }\n                                });\n                                builder.show();\n                                break;\n\n                                case R.id.back:     AlertDialog.Builder builderBack = new AlertDialog.Builder(this); \n                                                    builderBack.setMessage(\"Are you sure?\").setPositiveButton(\"Yes\", dialogClickListener) \n                                                    .setNegativeButton(\"No\", dialogClickListener).show(); \n                                break;\n        }\n        return true;\n\n    }\n}\n</code></pre>\n\n<p>Here is the code for the DatabaseSetup class.</p>\n\n<pre><code>package com.emailandcontactmanager;\n\nimport android.content.ContentValues; \nimport android.content.Context; \nimport android.database.Cursor; \nimport android.database.sqlite.SQLiteDatabase; \nimport android.database.sqlite.SQLiteOpenHelper; \n\n/* \n * usage:  \n * DatabaseSetup.init(egActivityOrContext); \n * DatabaseSetup.createEntry() or DatabaseSetup.getContactNames() or DatabaseSetup.getDb() \n * DatabaseSetup.deactivate() then job done \n */ \n\nclass DatabaseSetup extends SQLiteOpenHelper { \nstatic DatabaseSetup instance = null; \nstatic SQLiteDatabase db = null; \n\npublic static void init(Context context) { \n    if (null == instance) { \n        instance = new DatabaseSetup(context); \n        } \n    } \n\npublic static SQLiteDatabase getDb() { \n    if (null == db) { \n        db = instance.getWritableDatabase(); \n        } \n    return db; \n    } \n\npublic static void deactivate() { \n    if (null != db &amp;&amp; db.isOpen()) { \n        db.close(); \n        } \n    db = null; \n    instance = null; \n    } \n\npublic static long createEntry(String name, String mail, String phone1, \n        String phone2, String address, String notes) { \n    ContentValues cv = new ContentValues(); \n    cv.put(colName, name); \n    cv.put(colMail, mail); \n    cv.put(colPhone1, phone1); \n    cv.put(colPhone2, phone2); \n    cv.put(colAddress, address); \n    cv.put(colNotes, notes); \n    return getDb().insert(contactsTable, null, cv); \n\n    } \n\npublic static Cursor getContactNames() { \n    // TODO Auto-generated method stub \n    String[] columns = new String[] {\"_id\", colName }; \n    return getDb().query(contactsTable, columns, null, null, null, null, \n            null); \n    } \n\nDatabaseSetup(Context context) { \n    super(context, dbName, null, dbVersion); \n    } \n\n@Override \npublic void onCreate(SQLiteDatabase db) { \n    // TODO Auto-generated method stub \n    db.execSQL(\"CREATE TABLE IF NOT EXISTS \" + contactsTable \n            + \" (_id integer primary key autoincrement, \" + colName \n            + \" TEXT NOT NULL, \" + colMail + \" TEXT NOT NULL, \" + colPhone1 \n            + \" TEXT NOT NULL, \" + colPhone2 + \" TEXT NOT NULL, \" \n            + colAddress + \" TEXT NOT NULL, \" + colNotes \n            + \" TEXT NOT NULL)\"); \n\n    db.execSQL(\"CREATE TABLE IF NOT EXISTS \" + templatesTable \n            + \" (_id integer primary key autoincrement, \" + colSubject \n            + \" TEXT NOT NULL, \" + colBody + \" TEXT NOT NULL)\"); \n\n    db.execSQL(\"CREATE TABLE IF NOT EXISTS \" + tagsTable \n            + \" (_id integer primary key autoincrement, \" + colTagName \n            + \" TEXT NOT NULL, \" + colContact + \" TEXT NOT NULL)\"); \n\n    } \n\n@Override \npublic void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) { \n    db.execSQL(\"DROP TABLE IF EXISTS \" + contactsTable); \n    db.execSQL(\"DROP TABLE IF EXISTS \" + templatesTable); \n    db.execSQL(\"DROP TABLE IF EXISTS \" + tagsTable); \n    onCreate(db); \n    } \n\nstatic final String dbName = \"DB\"; \nstatic final int dbVersion = 1; \nstatic final String contactsTable = \"Contacts\"; \nstatic final String colName = \"Name\"; \nstatic final String colMail = \"Email\"; \nstatic final String colPhone1 = \"Phone1\"; \nstatic final String colPhone2 = \"Phone2\"; \nstatic final String colAddress = \"Address\"; \nstatic final String colNotes = \"Notes\"; \n\nstatic final String templatesTable = \"Templates\"; \nstatic final String colSubject = \"Subject\"; \nstatic final String colBody = \"Body\"; \n\nstatic final String tagsTable = \"Tags\"; \nstatic final String colTagName = \"Name\"; \nstatic final String colContact = \"Contact\"; \n\n} \n</code></pre>\n\n<p>And for that last question here is my AddContact class</p>\n\n<pre><code>package com.emailandcontactmanager;\n\nimport android.app.Activity;\nimport android.app.AlertDialog;\nimport android.app.Dialog;\nimport android.content.DialogInterface;\nimport android.os.Bundle;\nimport android.view.Menu;\nimport android.view.MenuInflater;\nimport android.view.MenuItem;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\npublic class AddContact extends Activity\n{\n    EditText contactName, contactMail, contactPhone1, contactPhone2, contactAddress, contactNotes; \n\n    @Override\n    public void onCreate(Bundle savedInstanceState)\n    {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.newcontact);\n\n\n        contactName = (EditText) findViewById(R.id.txtName);\n        contactMail = (EditText) findViewById(R.id.txtMail);\n        contactPhone1 = (EditText) findViewById(R.id.txtPhone1);\n        contactPhone2 = (EditText) findViewById(R.id.txtPhone2);\n        contactAddress = (EditText) findViewById(R.id.txtAddress);\n        contactNotes = (EditText) findViewById(R.id.txtNotes);\n       // saveContact = (Button) findViewById(R.id.btnSaveContact);\n\n        DatabaseSetup.init(this);\n\n        Button btnSaveContact = (Button) findViewById(R.id.btnSaveContact);\n        btnSaveContact.setOnClickListener(new View.OnClickListener()\n        {\n            public void onClick(View v)\n            {\n                boolean working = true;\n\n                try{\n                    String name = contactName.getText().toString();\n                    String mail = contactMail.getText().toString();\n                    String phone1 = contactPhone1.getText().toString();\n                    String phone2 = contactPhone2.getText().toString();\n                    String address = contactAddress.getText().toString();\n                    String notes = contactNotes.getText().toString();\n\n                    if(name != null &amp; mail != null) {\n                    DatabaseSetup entry = new DatabaseSetup(AddContact.this);\n                    DatabaseSetup.getDb();\n                    DatabaseSetup.createEntry(name, mail, phone1, phone2, address, notes);\n                    entry.close();\n                    }\n                    else{\n                        Toast.makeText(getApplicationContext(),\n                                \"Must enter name and email for contact\",\n                                Toast.LENGTH_LONG).show();\n\n                    }\n\n                    }\n                    catch(Exception e)\n                    {\n                        working = false;\n                        String error = e.toString();\n                        Dialog d = new Dialog(AddContact.this);\n                        d.setTitle(\"Error\");\n                        TextView tv = new TextView(AddContact.this);\n                        tv.setText(error);\n                    }\n                    finally\n                    {\n                        if(working)\n                        {\n                            Dialog d = new Dialog(AddContact.this);\n                            d.setTitle(\"Success\");\n                            TextView tv = new TextView(AddContact.this);\n                            tv.setText(\"The database changes have succeeded.\");\n                            d.setContentView(tv);\n                            d.show();\n\n                        }\n                    }       \n            }   \n        });\n    }\n////////////////MENU///////////////////////////////////////////////MENU/////////////////////////////\nDialogInterface.OnClickListener dialogClickListener = new DialogInterface.OnClickListener() { \npublic void onClick(DialogInterface dialog, int which) { \nswitch (which){ \ncase DialogInterface.BUTTON_POSITIVE: \n    finish();\n    break; \n\ncase DialogInterface.BUTTON_NEGATIVE: \n    //Nothing happens on No button click, and the menu closes\n    break; \n            } \n        } \n    }; \n\n@Override\npublic boolean onCreateOptionsMenu(Menu mainmenu) {\nMenuInflater inflater = getMenuInflater();\ninflater.inflate(R.menu.mainmenu, mainmenu);\nreturn true;\n    }\n\n@Override\npublic boolean onOptionsItemSelected(MenuItem item) {\nfinal CharSequence[] items = {\"Name Field\", \"Email Field\", \"Phone1&amp;2 Fields\", \"Address Field\", \"Notes Field\", \"Add Button\"};\n\nswitch (item.getItemId()) {\ncase R.id.help:     AlertDialog.Builder builder = new AlertDialog.Builder(this);\n                    builder.setTitle(\"Select a function to revice information about it.\");\n                    builder.setItems(items, new DialogInterface.OnClickListener() {\n                        public void onClick(DialogInterface dialog, int selected) {\n                            switch(selected){\n                            case 0:\n                                Toast.makeText(getApplicationContext(),\n                                        \"Enter the desired name of a contact. This is a required field\",\n                                        Toast.LENGTH_LONG).show();\n                                break;\n                            case 1:\n                                Toast.makeText(getApplicationContext(),\n                                        \"Enter the email address of the contact. This is a required field.\",\n                                        Toast.LENGTH_LONG).show();\n                                break;\n                            case 2:\n                                Toast.makeText(getApplicationContext(),\n                                        \"Enter the phone number(s) of the contact. Both fields are optional\",\n                                        Toast.LENGTH_LONG).show();\n                                break;\n                            case 3:\n                                Toast.makeText(getApplicationContext(),\n                                        \"Enter the address of the contact. This field is optional\",\n                                        Toast.LENGTH_LONG).show();\n                                break;\n                            case 4:\n                                Toast.makeText(getApplicationContext(),\n                                        \"Enter notes about the contact. This field is optional\",\n                                        Toast.LENGTH_LONG).show();\n                                break;\n                            case 5:\n                                Toast.makeText(getApplicationContext(),\n                                        \"This button will save the contact to the database. When you are done saving contacts, click back to return to the contacts menu.\",\n                                        Toast.LENGTH_LONG).show();\n                            }\n                        }\n                    });\n                    builder.show();\n                    break;\n\n                    case R.id.back:     AlertDialog.Builder builderBack = new AlertDialog.Builder(this); \n                                        builderBack.setMessage(\"Are you sure?\").setPositiveButton(\"Yes\", dialogClickListener) \n                                        .setNegativeButton(\"No\", dialogClickListener).show(); \n                    break;\n    }\nreturn true;\n\n        }\n    }\n</code></pre>\n\n<p>Thank you for any help</p>\n"},{"tags":["android","sqlite","transactions","bulkinsert"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":87,"score":0,"question_id":12875774,"title":"How do I achieve best performance using SQLite in Android?","body":"<p><strong>Background</strong> : I've noticed that there are multiple ways to do SQLite operations (query,insert,update,delete,..), and some can be faster than the rest. Many websites provide different tips, and some conflict with the others. </p>\n\n<p><strong>Questions</strong>:</p>\n\n<ol>\n<li><p>It seems that using a transaction for bulk insert is somehow faster than doing so in a loop.</p>\n\n<p>How come? What is the best way to achieve best performance when\nusing SQLite? How does sqlite work on Android?</p></li>\n<li><p>Confusing with using <a href=\"http://developer.android.com/reference/android/database/DatabaseUtils.InsertHelper.html\" rel=\"nofollow\">InserHelper</a> vs <a href=\"http://developer.android.com/reference/android/content/ContentValues.html\" rel=\"nofollow\">ContentValues</a>, as shown <a href=\"http://www.outofwhatbox.com/blog/2010/12/android-using-databaseutils-inserthelper-for-faster-insertions-into-sqlite-database/\" rel=\"nofollow\">here</a> .</p>\n\n<p>How does the <a href=\"http://developer.android.com/reference/android/database/DatabaseUtils.InsertHelper.html\" rel=\"nofollow\">InserHelper</a> work and will it always be faster than\n<a href=\"http://developer.android.com/reference/android/content/ContentValues.html\" rel=\"nofollow\">ContentValues</a>? Will wrapping it with a transaction speed it up\neven further ?</p></li>\n<li><p>Confusion on other SQL frameworks. I remember that adding indices would boost the performance of queries related to the indices. Is this true for android too? Is this a good practice?</p></li>\n<li><p>I've heard that in some cases, it's best to not use the UI thread for DB operations. In which cases is this recommended?As in, how slow could DB operation become? If the DB becomes 70MB, does it mean that it will be much slower and UI thread should never handle it?</p></li>\n</ol>\n"},{"tags":["python","database","sqlite","cgi"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":71,"score":2,"question_id":12875124,"title":"How to handle user comments in a database","body":"<p>I was planning to store user comments in a database and was wondering how to store the raw text that users will provide since it could contain anything. What is a common/good practice in regards to this? Do I need to parse the text or is there a special storage type that I should be using? It seemed like a lot of overhead to be parsing user comments that could potentially be quite long and I don't want to be tampering with the intended meaning of a message etc. It seemed strange to be treating a comment/forum post in the same manor as say a username/password and sanitize.</p>\n\n<p>I am using <code>sqlite3</code> and some scripts to query the db and was planning on implementing something along the lines of:</p>\n\n<pre><code>page_id    post_number    username    content\n-------    -----------    --------    -------\n1          1              user_23     blah there's blah \"quote\" blah;':\".,-=.\n</code></pre>\n\n<p>But, of course, if I was to just expand my <code>content</code> param into my <code>INSERT</code> query, there is going to be all kinds of problems with <code>' \"</code> etc.</p>\n\n<p>How should I be handling the <code>content</code> in this table; should it even be in the table like this? What data type should I be using etc.</p>\n"},{"tags":["android","ios","sqlite","mobile","air"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":67,"score":0,"question_id":12875260,"title":"How to save user data when updating AIR mobile app (iOS and Android)","body":"<p>I save all user data in the SQLite database. These data include settings, a content, purchased items, etc. However, when user update the app (on market), all these *.db files are overwritten and the data is lost. How to avoid it?</p>\n\n<p>I use this code:</p>\n\n<pre><code>var embededSessionDB:File = File.applicationDirectory.resolvePath(strPath);\nvar writeSessionDB:File = File.applicationStorageDirectory.resolvePath(strPath);\nif (!writeSessionDB.exists) {\n    embededSessionDB.copyTo(writeSessionDB);\n}\nconn = new SQLConnection();\nconn.addEventListener(SQLEvent.OPEN, openSuccess);\nconn.addEventListener(SQLErrorEvent.ERROR, openFailure);\nconn.openAsync(writeSessionDB);\n</code></pre>\n"},{"tags":["android","sqlite","android-contentprovider","android-loadermanager"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":154,"score":2,"question_id":12869373,"title":"android - CursorLoader & SQLite without Content Provider","body":"<p>I know this has been discussed yet I wanted to ask about the current state of the matter. Do i have to create a ContentProvider to use CursorLoader in connection with a sqlite database? </p>\n\n<p>I found</p>\n\n<p><a href=\"http://stackoverflow.com/questions/7182485/usage-cursorloader-without-contentprovider/7422343#7422343\">Usage CursorLoader without ContentProvider</a></p>\n\n<p>Looks exactly what I was hoping for yet as Emmby commented</p>\n\n<ul>\n<li>Users should be aware of one limitation, which is that it has no mechanism to refresh on data changes (as Loaders are supposed to do)</li>\n</ul>\n\n<p>So another solution is mentioned </p>\n\n<p><a href=\"https://github.com/commonsguy/cwac-loaderex\" rel=\"nofollow\">https://github.com/commonsguy/cwac-loaderex</a></p>\n\n<p>yet again some drawback is pointed out</p>\n\n<ul>\n<li>However, to make use of the automatic re-querying, you need to use the same loader for the UI as well as for the updates, limiting its usability for background services.</li>\n</ul>\n\n<p>Of course when using LoaderManager we want to get all the benefits for which it was introduced. So my question is if there is a way to use LoaderManager in connection with a sqlite database without having to implement a content provider yet have all the benefits of it.</p>\n\n<p>Thanks</p>\n"},{"tags":["android","database","sqlite","jelly-bean"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":208,"score":2,"question_id":12492093,"title":"Android Jelly bean database is locked (code 5)","body":"<p>Im getting a database is locked (code 5) in my ListActivity the code works in the other versions of the Emulator but fails in the 4.1 version of the emulator</p>\n\n<blockquote>\n  <p>E/SQLiteLog( 2132): (5) database is locked\n  E/SQLiteDatabase( 2132): Failed to open database '/data/data/id.online.mydroid/databases/geo.db'.\n  E/SQLiteDatabase( 2132): android.database.sqlite.SQLiteDatabaseLockedException: database is locked (code 5): , while compiling: PRAGMA\n  al_mode\n  E/SQLiteDatabase( 2132): at android.database.sqlite.SQLiteConnection.nativePrepareStatement(Native Method)\n  E/SQLiteDatabase( 2132): at android.database.sqlite.SQLiteConnection.acquirePreparedStatement(SQLiteConnection.java:882)\n  E/SQLiteDatabase( 2132): at android.database.sqlite.SQLiteConnection.executeForString(SQLiteConnection.java:627)\n  E/SQLiteDatabase( 2132): at android.database.sqlite.SQLiteConnection.setJournalMode(SQLiteConnection.java:313)\n  E/SQLiteDatabase( 2132): at android.database.sqlite.SQLiteConnection.setWalModeFromConfiguration(SQLiteConnection.java:287)\n  E/SQLiteDatabase( 2132): at android.database.sqlite.SQLiteConnection.open(SQLiteConnection.java:215)\n  E/SQLiteDatabase( 2132): at android.database.sqlite.SQLiteConnection.open(SQLiteConnection.java:193)\n  E/SQLiteDatabase( 2132): at android.database.sqlite.SQLiteConnectionPool.openConnectionLocked(SQLiteConnectionPool.java:463)\n  E/SQLiteDatabase( 2132): at android.database.sqlite.SQLiteConnectionPool.open(SQLiteConnectionPool.java:185)\n  E/SQLiteDatabase( 2132): at android.database.sqlite.SQLiteConnectionPool.open(SQLiteConnectionPool.java:177)\n  E/SQLiteDatabase( 2132): at android.database.sqlite.SQLiteDatabase.openInner(SQLiteDatabase.java:804)\n  E/SQLiteDatabase( 2132): at android.database.sqlite.SQLiteDatabase.open(SQLiteDatabase.java:789)\n  E/SQLiteDatabase( 2132): at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:694)\n  E/SQLiteDatabase( 2132): at android.app.ContextImpl.openOrCreateDatabase(ContextImpl.java:804)\n  E/SQLiteDatabase( 2132): at android.content.ContextWrapper.openOrCreateDatabase(ContextWrapper.java:221)\n  E/SQLiteDatabase( 2132): at android.database.sqlite.SQLiteOpenHelper.getDatabaseLocked(SQLiteOpenHelper.java:224)\n  E/SQLiteDatabase( 2132): at android.database.sqlite.SQLiteOpenHelper.getReadableDatabase(SQLiteOpenHelper.java:188)\n  E/SQLiteDatabase( 2132): at id.online.mydroid.myDB.openForRead(myDB.java:158)\n  E/SQLiteDatabase( 2132): at id.online.mydroid.mydroid.refreshCount(mydroid.java:207)\n  E/SQLiteDatabase( 2132): at id.online.mydroid.mydroid.onResume(mydroid.java:525)\n  Blockquote</p>\n</blockquote>\n"},{"tags":["java","android","database","sqlite","encryption"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":232,"score":0,"question_id":7920174,"title":"Android SQLite create table with encrypted column names","body":"<p>I'm running into issues trying to run a CREATE TABLE statement for sqlite3 on Android. This is because I'm trying to encrypt the columns of the database. Does anyone know why it won't accept the encrypted values as column names?</p>\n\n<p>Here is the error that I receive:</p>\n\n<pre><code>10-27 17:46:34.591: E/Database(697): Failure 1 (unrecognized token: \n338268F19CB9A68A39035AB5D733F931\") on 0x232d40 when preparing \n'CREATE TABLE db_table (_id INTEGER PRIMARY KEY,\nBB2BFFB83A95C39D864C9A52D5A5E2CC TEXT,338268F19CB9A68A39035AB5D733F931 \nEXT,916D636E4793AB190F05F4F1EF6273A8 TEXT, \nUNIQUE(BB2BFFB83A95C39D864C9A52D5A5E2CC) ON CONFLICT ABORT);'.\n</code></pre>\n\n<p>I'd appreciate any suggestions. Thanks!</p>\n"},{"tags":["javascript","sql","html5","sqlite","web-storage"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":75,"score":2,"question_id":12872557,"title":"SQLite DELETE transaction not working when grabbing value from Array","body":"<p>This is driving me crazy.</p>\n\n<p>I have a message queue that I'm using a local storage web DB to store these messages when the device is offline and when there is an internet connection it sends out these messages. After it sends the messages, I want them deleted from the table. </p>\n\n<p>When I send out the messages I keep an array called MessageIDs that way I can reference what rows need deleted.</p>\n\n<p>I loop through the length of the MessageIDs and grab each ID and have a DELETE transaction. My alert() gets the right value but when the transaction executes, the value is undefined. I tried hard coding a known \"ID\" into the transaction and it worked. Any thoughts?</p>\n\n<pre><code> var MessageIDs = new Array();\n\n//In the block of code not shown I populate MessageIDs and send out messages\n\nfor(var j=0; j &lt; MessageIDs.length; j++)\n{\n  alert(MessageIDs[j]); //Pulls the right value\n  site.data.database.transaction(  \n            function (transaction) {  \n                //[MessageIDs[j]] has a value of undefined and thus doesn't get deleted but the transaction doesn't technically fail either\n                transaction.executeSql(\"DELETE FROM Messages WHERE id = ?;\", [MessageIDs[j]],  \n                    site.contact.removeQueuedMessagesSuccess, site.contact.removeQueuedMessagesError);  \n            }  \n        ); \n}\n</code></pre>\n"},{"tags":["c++","sql","c","sqlite"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":68,"score":2,"question_id":12872272,"title":"Two lines string for one pointer","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/797318/how-to-split-a-string-literal-across-multiple-lines-in-c-objective-c\">How to split a string literal across multiple lines in C / Objective-C?</a>  </p>\n</blockquote>\n\n\n\n<p>Sometime I have to write several SQL statements pointed by char variable like:</p>\n\n<pre><code>const char* sql=\"CREATE TABLE GenInf ( EmpName TEXT NOT NULL, Pyrll TEXT PRIMARY KEY,  DtBrth TEXT,  PlBrth TEXT, CID TEXT,  ContNo  TEXT,   JnDt TEXT,   Postn TEXT, Dept TEXT, AnnLv TEXT, EmrgLv TEXT, Irr TEXT, HmTwn TEXT, F1 TEXT, F2 TEXT ); CREATE TABLE Training( Pyrll TEXT NOT NULL, Crs TEXT, Dt TEXT, Plc TEXT, Cst TEXT);\"; \n</code></pre>\n\n<p>But it is very long, How can I put it as two lines?</p>\n"},{"tags":["sql","sqlite","multiple-databases"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":2836,"score":1,"question_id":4913369,"title":"How to Merge Multiple Database files in SQLite?","body":"<p>I have multiple database files which exist in multiple locations with exactly similar structure. I understand the attach function can be used to connect multiple files to one database connection, however, this treats them as seperate databases. I want to do something like:</p>\n\n<pre><code>SELECT uid, name FROM ALL_DATABASES.Users;\n</code></pre>\n\n<p>Also, </p>\n\n<pre><code>SELECT uid, name FROM DB1.Users UNION SELECT uid, name FROM DB2.Users ;\n</code></pre>\n\n<p>is NOT a valid answer because I have an arbitrary number of database files that I need to merge. Lastly, the database files, must stay seperate. anyone know how to accomplish this?</p>\n\n<p>EDIT: an answer gave me the idea: would it be possible to create a view which is a combination of all the different tables? Is it possible to query for all database files and which databases they 'mount' and then use that inside the view query to create the 'master table'?</p>\n"},{"tags":["android","sqlite","android-layout","android-cursor"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":1,"view_count":57,"score":0,"question_id":12872237,"title":"I have a database and with multiple records of the same date and related amount but I only want a single record and that is date related total amount","body":"<p>i am using cursor for retrieving data from database but problem is that i have no. of records for same date and i want only one record date wise and related Tamt of date will be added to amount field:</p>\n\n<p>I have database records like :</p>\n\n<pre><code>Sr    ExpName       Date       Camt  Tamt\n---   --------- -----------   ----- -----\n1     Pen        10-10-2012      10    10\n2     abc        10-10-2012      30    45\n3     xyz        11-10-2012      15    55\n4     ggg        11-10-2012      20    75\n5     aaa        11-10-2012      10    85\n6     nnn        11-10-2012      10    95\n\n\n dbhelper = new DbHelper(this);\n db = dbhelper.getReadableDatabase();\n\n    Cursor c = db.query(DbHelper.TABLE_NAME, new String[]{\"CAST(Date AS DATE)\",\"SUM(Tamt) AS AMT\"}, null, null,\"CAST(Date AS DATE)\", null, null);\n    adapter = new SimpleCursorAdapter(this, R.layout.myrow1, c, new String[]{DbHelper.C_Date,DbHelper.C_Tamt},new int[]{R.id.textView3,R.id.textView5} );\n    startManagingCursor(c);     \n    lstExpense.setAdapter(adapter); \n</code></pre>\n\n<p>where myrow1 is a layout file in and TextView3 and TextVew5 field where i want to display output DATE and AMOUNT.</p>\n\n<p>And i want ouput like this:</p>\n\n<pre><code>DATE             AMOUNT\n------------     ------\n10-10-2012          40\n11-10-2012          35\n12-10-2012          10\n13-10-2012          10\n</code></pre>\n"},{"tags":["sql","query","sqlite","select","string-comparison"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":75,"score":0,"question_id":12871988,"title":"SQL case sensitive string comparison with like and \"=\"","body":"<p>i have one table named category.</p>\n\n<p>in this table i have two columns 1st is cat_id, 2nd is cat_name.</p>\n\n<p>in this table i have added record with this value : cat_id = 1, cat_name = test</p>\n\n<p>Now when i am going to run select query</p>\n\n<pre><code>SELECT * FROM category WHERE cat_name = 'Test'\n</code></pre>\n\n<p>this query returns me null result. Instade of null result i want the result with 1st record.</p>\n\n<p>also i want same result in vice versa small and capital string.</p>\n\n<p>i am using sqlite as database.</p>\n"},{"tags":["sqlite","parameters"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":47,"score":-1,"question_id":12869431,"title":"SQLError #3115 Mismatch in parameter count","body":"<p>I am getting this error when I am trying to use the SQL UPDATE with a mobile application I am making in Flex builder. I have tried to search it up and removed parameters but even then I get the same code. Any help would be much appreciated</p>\n\n<pre><code>SQLError: 'Error #3115: SQL Error.', details:'Mismatch in parameter count. Found 6 in SQL specified and 5 value(s) set in parameters property.\n', operation:'execute', detailID:'1004'\n    at flash.data::SQLStatement/internalExecute()\n    at flash.data::SQLStatement/execute()\n    at model::SQLiteDatabase$/updateMember()[/Users/stokhofdavey/Documents/Adobe Flash Builder 4.6/MenuPlannerApplication/src/model/SQLiteDatabase.as:175]\n    at views::MemberDetailsView/onSaveButtonClicked()[/Users/stokhofdavey/Documents/Adobe Flash Builder 4.6/MenuPlannerApplication/src/views/MemberDetailsView.mxml:25]\n    at views::MemberDetailsView/___MemberDetailsView_Button3_click()[/Users/stokhofdavey/Documents/Adobe Flash Builder 4.6/MenuPlannerApplication/src/views/MemberDetailsView.mxml:45]\n</code></pre>\n\n<p>Here is the MXML code:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;s:View xmlns:fx=\"http://ns.adobe.com/mxml/2009\"\n        xmlns:s=\"library://ns.adobe.com/flex/spark\"\n        xmlns:ns1=\"*\"\n        title=\"Member Details\"&gt;\n    &lt;fx:Script&gt;\n        &lt;![CDATA[\n            import model.Dish;\n            import model.Member;\n            import model.SQLiteDatabase;\n\n\n\n            protected function onHomeButtonClicked(event:MouseEvent):void {\n                navigator.popView();\n            }\n\n            protected function onSaveButtonClicked():void {\n                var editNote:Member = new Member();\n                editNote.FirstName = efirstname.text;\n                editNote.FamilyName = efamilyname.text;\n                editNote.Sex = esex.text;\n                editNote.Age = eage.text;\n                editNote.Notes = enotes.text;\n                SQLiteDatabase.updateMember(editNote);\n\n                currentState = \"Info\";\n            }\n\n\n        ]]&gt;\n    &lt;/fx:Script&gt;\n\n    &lt;s:states&gt;\n        &lt;s:State name=\"Info\"/&gt;\n        &lt;s:State name=\"Favorites\"/&gt;\n        &lt;s:State name=\"EInfo\"/&gt;\n        &lt;s:State name=\"EFavorites\"/&gt;\n    &lt;/s:states&gt;\n    &lt;s:navigationContent&gt;\n        &lt;s:Button label=\"Back\" click=\"navigator.popView();\"/&gt;\n    &lt;/s:navigationContent&gt;\n    &lt;s:actionContent&gt;\n        &lt;s:Button includeIn=\"Info\" label=\"Edit\" click.Info=\"this.currentState=&amp;quot;EInfo&amp;quot;\"/&gt;\n        &lt;s:Button includeIn=\"EInfo\" label=\"Save\" click=\"onSaveButtonClicked()\"/&gt;\n\n    &lt;/s:actionContent&gt;\n    &lt;fx:Declarations&gt;\n        &lt;!-- Place non-visual elements (e.g., services, value objects) here --&gt;\n    &lt;/fx:Declarations&gt;\n\n\n    &lt;s:VGroup x=\"245\" y=\"10\" width=\"100%\" height=\"354\" gap=\"0\"  &gt;\n        &lt;ns1:TabMemInfoS includeIn=\"Favorites\" width=\"60\" height=\"40\"/&gt;\n        &lt;ns1:TabMebInfoL includeIn=\"Info\" width=\"70\" height=\"40\"/&gt;\n        &lt;ns1:TabMemFavoritesS includeIn=\"Info\" width=\"60\" height=\"40\"/&gt;\n        &lt;ns1:TabMebInfoL includeIn=\"EInfo\" width=\"70\" height=\"40\"/&gt;\n        &lt;ns1:TabMemFavoritesS includeIn=\"EInfo\" width=\"60\" height=\"40\"/&gt;\n        &lt;ns1:TabMemInfoS includeIn=\"EFavorites\"/&gt;\n        &lt;ns1:TabMemFavoritesL includeIn=\"EFavorites\"/&gt;\n        &lt;ns1:TabMemFavoritesL includeIn=\"Favorites\" width=\"70\" height=\"40\"/&gt;\n    &lt;/s:VGroup&gt;\n    &lt;s:Label id=\"FirstName\" includeIn=\"Info\" x=\"87\" y=\"15\" width=\"148\" height=\"29\" text=\"{data.FirstName}\" textAlign=\"center\"\n             verticalAlign=\"middle\"/&gt;\n    &lt;s:Label id=\"FamilyName\" includeIn=\"Info\" x=\"87\" y=\"46\" width=\"148\" height=\"29\" text=\"{data.FamilyName}\" textAlign=\"center\"\n             verticalAlign=\"middle\"/&gt;\n    &lt;s:Label id=\"Age\" includeIn=\"Info\" x=\"9\" y=\"97\" width=\"70\" height=\"31\" text=\"{data.Age}\" textAlign=\"center\"\n             verticalAlign=\"middle\"/&gt;\n    &lt;s:Label id=\"Sex\" includeIn=\"Info\" x=\"87\" y=\"97\" width=\"70\" height=\"31\" text=\"{data.Sex}\" textAlign=\"center\"\n             verticalAlign=\"middle\"/&gt;\n    &lt;s:Label id=\"notes\" includeIn=\"Info\" x=\"10\" y=\"150\" width=\"225\" height=\"204\" text=\"{data.Notes}\"/&gt;\n\n    &lt;s:Group includeIn=\"EInfo\" width=\"246\" height=\"364\"&gt;\n        &lt;s:TextInput id=\"efirstname\" x=\"83\" y=\"10\" width=\"150\" text=\"{data.FirstName}\" /&gt;\n        &lt;s:TextInput id=\"efamilyname\" x=\"83\" y=\"47\" width=\"150\" text=\"{data.FamilyName}\"  /&gt;\n        &lt;s:TextInput id=\"eage\" x=\"108\" y=\"88\" width=\"90\" text=\"{data.Age}\" /&gt;\n        &lt;s:TextInput id=\"esex\" x=\"10\" y=\"88\" width=\"90\" text=\"{data.Sex}\" /&gt;\n        &lt;s:TextArea id=\"enotes\" x=\"9\" y=\"162\" width=\"227\" height=\"192\" text=\"{data.Notes}\" /&gt;\n    &lt;/s:Group&gt;\n\n&lt;/s:View&gt;\n</code></pre>\n\n<p>and the 2 .as files:\nSQLiteDatabase</p>\n\n<pre><code> package model\n{\n    import flash.data.SQLConnection;\n    import flash.data.SQLResult;\n    import flash.data.SQLStatement;\n    import flash.events.SQLEvent;\n    import flash.filesystem.File;\n    import flash.filesystem.FileMode;\n    import flash.filesystem.FileStream;\n    import model.Dish;\n    import model.Member;\n\n    import mx.collections.ArrayCollection;\n\n    public class SQLiteDatabase\n    {\n        private static var _sqlConnection:SQLConnection;\n\n        public static function get sqlConnection():SQLConnection\n        {\n            if (_sqlConnection)\n                return _sqlConnection;\n            openDatabase(File.desktopDirectory.resolvePath(\"test.db\"));\n            return _sqlConnection;\n        }\n\n\n        public static function getNote(id:int):Dish\n        {\n            var sql:String = \"SELECT id, title, time, message FROM notes WHERE id=?\";\n            var stmt:SQLStatement = new SQLStatement();\n            stmt.sqlConnection = sqlConnection;\n            stmt.text = sql;\n            stmt.parameters[0] = id;\n            stmt.execute();\n            var result:Array = stmt.getResult().data;\n            if (result &amp;&amp; result.length == 1)\n                return processRow(result[0]);\n            else\n                return null;\n        }\n\n        public static function getMYBlist(id:int):Dish\n        {\n            var sql:String = \"SELECT id, title, time, message FROM notes WHERE id=?\";\n            var stmt:SQLStatement = new SQLStatement();\n            stmt.sqlConnection = sqlConnection;\n            stmt.text = sql;\n            stmt.parameters[0] = id;\n            stmt.execute();\n            var result:Array = stmt.getResult().data;\n            if (result &amp;&amp; result.length == 1)\n                return processRow(result[0]);\n            else\n                return null;\n        }\n\n        public static function notes():ArrayCollection\n        {\n            var noteList:ArrayCollection = new ArrayCollection();\n\n            var sql:String = \"SELECT id, title, time, message FROM notes\";\n            var stmt:SQLStatement = new SQLStatement();\n            stmt.sqlConnection = sqlConnection;\n            stmt.text = sql;\n            stmt.execute();\n            var sqlResult:SQLResult = stmt.getResult();\n            if (sqlResult) {\n                var result:Array = sqlResult.data;\n                if (result) {\n                    for (var index:Number = 0; index &lt; result.length; index++) {\n                        noteList.addItem(processRow(result[index]));\n                    }\n                }\n            }\n            return noteList;\n        }\n\n        public static function members():ArrayCollection\n        {\n            var noteList:ArrayCollection = new ArrayCollection();\n\n            var sql:String = \"SELECT FirstName, FamilyName, Sex, Age, Notes FROM Members\";\n            var stmt:SQLStatement = new SQLStatement();\n            stmt.sqlConnection = sqlConnection;\n            stmt.text = sql;\n            stmt.execute();\n            var sqlResult:SQLResult = stmt.getResult();\n            if (sqlResult) {\n                var result:Array = sqlResult.data;\n                if (result) {\n                    for (var index:Number = 0; index &lt; result.length; index++) {\n                        noteList.addItem(processRow2(result[index]));\n                    }\n                }\n            }\n            return noteList;\n        }\n\n\n        public static function addNote(note:Dish):void\n        {\n            var sql:String = \n                \"INSERT INTO notes (title, time, message) \" +\n                \"VALUES (?,?,?)\";\n            var stmt:SQLStatement = new SQLStatement();\n            stmt.sqlConnection = sqlConnection;\n            stmt.text = sql;\n            stmt.parameters[0] = note.title;\n            stmt.parameters[1] = note.time;\n            stmt.parameters[2] = note.message;\n            stmt.execute();\n        }\n\n        public static function addMember(note:Member):void\n        {\n            var sql:String = \n                \"INSERT INTO notes (FirstName, FamilyName, Age, Sex, Notes) \" +\n                \"VALUES (?,?,?,?,?)\";\n            var stmt:SQLStatement = new SQLStatement();\n            stmt.sqlConnection = sqlConnection;\n            stmt.text = sql;\n            stmt.parameters[0] = note.FirstName;\n            stmt.parameters[1] = note.FamilyName;\n            stmt.parameters[2] = note.Age;\n            stmt.parameters[3] = note.Sex;\n            stmt.parameters[4] = note.Notes;\n            stmt.execute();\n        }\n\n        public static function deleteNote(note:Dish):void\n        {\n            var sql:String = \"DELETE FROM notes WHERE id=?\";\n            var stmt:SQLStatement = new SQLStatement();\n            stmt.sqlConnection = sqlConnection;\n            stmt.text = sql;\n            stmt.parameters[0] = note.id;\n            stmt.execute();\n        }\n\n        public static function deleteMember(note:Dish):void\n        {\n            var sql:String = \"DELETE FROM notes WHERE id=?\";\n            var stmt:SQLStatement = new SQLStatement();\n            stmt.sqlConnection = sqlConnection;\n            stmt.text = sql;\n            stmt.parameters[0] = note.id;\n            stmt.execute();\n        }\n\n        public static function updateNote(note:Dish):void\n        {\n            var sql:String = \"UPDATE notes SET title=?, time=?, message=? WHERE id=?\";\n            var stmt:SQLStatement = new SQLStatement();\n            stmt.sqlConnection = sqlConnection;\n            stmt.text = sql;\n            stmt.parameters[0] = note.title;\n            stmt.parameters[1] = note.time;\n            stmt.parameters[2] = note.message;\n            stmt.parameters[3] = note.id;\n            stmt.execute();\n        }\n\n        public static function updateMember(note:Member):void\n        {\n            var sql:String = \"UPDATE Members SET FirstName=?, FamilyName=?, Sex=?, Age=?, Notes=? WHERE ID=?\";\n            var stmt:SQLStatement = new SQLStatement();\n            stmt.sqlConnection = sqlConnection;\n            stmt.text = sql;\n            stmt.parameters[0] = note.FirstName;\n            stmt.parameters[1] = note.FamilyName;\n            stmt.parameters[2] = note.Sex;\n            stmt.parameters[3] = note.Age;\n            stmt.parameters[4] = note.Notes;            \n            stmt.execute();\n        }\n\n\n        protected static function processRow(o:Object):Dish\n        {\n            var note:Dish = new Dish();\n            note.id = o.id;\n            note.title = o.title == null ? \"\" : o.title;\n            note.time = o.time == null ? \"\" :o.time;\n            note.message = o.message == null ? \"\" : o.message;\n            return note;\n        }\n\n        protected static function processRow2(o:Object):Member\n        {\n            var info:Member = new Member();\n            info.ID = o.ID;\n            info.FirstName = o.FirstName == null ? \"\" : o.FirstName;\n            info.FamilyName = o.FamilyName == null ? \"\" : o.FamilyName;\n            info.Sex = o.Sex == null ? \"\" : o.Sex;\n            info.Age = o.Age == null ? \"\" : o.Age;\n            info.Notes = o.Notes == null ? \"\" : o.Notes;\n\n            return info;\n        }\n\n\n        public static function openDatabase(file:File):void\n        {\n            var newDB:Boolean = true;\n            if (file.exists)\n                newDB = false;\n            _sqlConnection = new SQLConnection();\n            _sqlConnection.open(file);\n            if (newDB)\n            {\n                createDatabase();\n                populateDatabase();\n            }\n        }\n\n        protected static function createDatabase():void\n        {\n            var sql:String = \n                \"CREATE TABLE IF NOT EXISTS notes ( \"+\n                \"id INTEGER PRIMARY KEY AUTOINCREMENT, \" +\n                \"title VARCHAR(50), \" +\n                \"time VARCHAR(50), \" +\n                \"message VARCHAR(200))\"\n                \"CREATE TABLE IF NOT EXISTS members ( \"+\n                \"id INTEGER PRIMARY KEY AUTOINCREMENT, \" +\n                \"title VARCHAR(50), \" +\n                \"time VARCHAR(50), \" +\n                \"message VARCHAR(200))\"\n                ;\n            var stmt:SQLStatement = new SQLStatement();\n            stmt.sqlConnection = sqlConnection;\n            stmt.text = sql;\n            stmt.execute();         \n        }\n\n        protected static function populateDatabase():void\n        {\n            var file:File = File.applicationDirectory.resolvePath(\"assets/notes.xml\");\n            if (!file.exists) return;\n            var stream:FileStream = new FileStream();\n            stream.open(file, FileMode.READ);\n            var xml:XML = XML(stream.readUTFBytes(stream.bytesAvailable));\n            stream.close();\n            for each (var n:XML in xml.note)\n            {\n                var note:Dish = new Dish();\n                note.id = n.id;\n                note.title = n.title;\n                note.time = n.time;\n                note.message = n.message;\n                addNote(note);\n            }\n        }\n\n    }\n}\n</code></pre>\n\n<p>and \nmember.as</p>\n\n<pre><code>    package model\n{\n    import mx.collections.ArrayCollection;\n    import mx.core.IUID;\n\n    [Bindable]\n    public class Member implements IUID\n    {\n        public var ID:int;\n        public var FirstName:String;\n        public var FamilyName:String;\n        public var Sex:String;\n        public var AgeID:int;\n        public var Notes:String;\n        public var Fname:String;\n        public var Famname:String;\n        public var Age:String;\n\n\n\n\n        public function get uid(): String {\n            return ID.toString();\n        }\n\n        public function set uid(value: String): void {\n            ID = parseInt(value);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["sqlite","blackberry-webworks","playbook"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":12866986,"title":"Saving SQLite to Documents Folder","body":"<p>I need to pick an underlying method of saving data collected in the field (offline and remote locations).  I want to use the HTML5 Database with SQLite but I can I pick the location?  So far, I haven't been able to accomplish that.  Here is some sample code I was using: </p>\n\n<pre><code>var dbName = \"\";\n\nvar Dir = blackberry.io.dir;\nvar path = Dir.appDirs.shared.documents.path;\ndbName = path + \"/\" + \"databasetest.db\";  \n\nvar db = openDatabase(dbName, '1.0', 'Test', 50 * 1024);\n</code></pre>\n\n<p>I used an \"alert()\" to see the file was \"supposedly\" created, but when I opened the folder in Explorer I cannot find it.  Not really sure why and hense my question.</p>\n\n<p>My application is for data entry, without getting into specifics, user may end up collecting a lot or little data.  But I want some way of downloading the SQLite database?</p>\n\n<p>Is this the intention of the SQLite database, or will I have to use another solution?</p>\n\n<p>Thanks!</p>\n\n<p>Chris</p>\n"},{"tags":["sql","sqlite","null","count","group-by"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":101,"score":3,"question_id":12870094,"title":"How can I group by on a field which has NULL values?","body":"<p>I have a table with 2 fields</p>\n\n<pre><code> x          y\n----       ----\n 1         null            \n 2          5\n 3          5\n 4         null\n 5         null\n 6          10\n 7          5\n</code></pre>\n\n<p>And my SQLite query is</p>\n\n<pre><code>select y,count(y)\nfrom mytable\ngroup by y\n</code></pre>\n\n<p>And the result is</p>\n\n<pre><code>null    0\n 5      3\n 10     1\n</code></pre>\n\n<p>It is expected to see null  3.<br>\nBut the output is null  0.<br>\nwhat does it mean?</p>\n"},{"tags":["android","database","sqlite"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":4195,"score":0,"question_id":5673270,"title":"How to use SQLite with Android","body":"<p>I have seen many solutions which are code oriented, like if you have to create a table, you would have to create it using code, but this is not good for complex applications, as we have SQLite Browser to create database and its tables, and it generates a database file, now the question is, where to place that file in my project, there is no data folder in eclipse project, i dont know what to do, its interaction is not like MySQL where we use driver or connection.\nMy Question is very simple, but i dont know why i cannot find this simple solution on Internet.</p>\n"},{"tags":["android","sqlite","android-sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":84,"score":1,"question_id":12869860,"title":"Not able to add new record to sqlite database android","body":"<p>I am tring to add new record in my sqlite database. I am not getting any error but also not seen any kind of record in database when i see database using sqlite manager\nfollowing is the code which i have written. plz help me to get out of this problem.</p>\n\n<p>following is my code of database handler ..</p>\n\n<pre><code>enter code here\nimport android.content.ContentValues;\nimport android.content.Context;\nimport android.database.Cursor;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.database.sqlite.SQLiteDatabase.CursorFactory;\nimport android.database.sqlite.SQLiteOpenHelper;\nimport android.util.Log;\nimport android.widget.Toast;\n\npublic class DatabaseHandler extends SQLiteOpenHelper\n{\n\nprivate static final int DATABASE_VERSON=1;\nprivate static final String DATABASE_NAME=\"Info_manager\";\nprivate static final String TABLE_DETAILS = \"info_detail\";\n\n// Contacts Table Columns names\nprivate static final String KEY_ID = \"id\";\nprivate static final String KEY_FNAME = \"f_name\";\nprivate static final String KEY_LNAME = \"l_name\";\nprivate static final String KEY_PH_NO = \"c_num\";\nprivate static final String KEY_EMAIL = \"e_mail\";\n\n\n\npublic DatabaseHandler(Context context) \n{\n    super(context,null , null, 1);\n}\n\n@Override\npublic void onCreate(SQLiteDatabase db) \n{\n    //db = this.getWritableDatabase();\n    ///System.out.println(\"----333------\");\n    String CREATE_DETAILS_TABLE = \"CREATE TABLE \" + TABLE_DETAILS \n    + \"(\"\n    + KEY_ID + \" INTEGER PRIMARY KEY AUTOINCREMENT,\" + KEY_FNAME + \" TEXT,\" + KEY_LNAME + \" TEXT,\" + KEY_PH_NO + \" TEXT,\" + KEY_EMAIL + \" TEXT \" + \")\";\n\n    db.execSQL(CREATE_DETAILS_TABLE);\n    ///System.out.println(\"----444------\");\n}\n\n@Override\npublic void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) \n{\n    // Drop older table if existed\n    db.execSQL(\"DROP TABLE IF EXISTS \" + TABLE_DETAILS);\n    // Create tables again\n    onCreate(db);\n\n}\n\n\n // Adding new contact\nvoid addContact(Contact contact) \n{\n    SQLiteDatabase db = this.getWritableDatabase();\n   // ContentValues values = new ContentValues();\n\n    String sql;\n    sql = \"INSERT INTO info_detail (f_name, l_name, c_num, e_mail) \" + \n    \"VALUES ('\" + contact.getfName().toString() + \"', '\" + contact.getlName().toString() + \"', '\" + contact.getContactNumber().toString()+ \"', '\" + contact.getEmailAddress().toString() +\"' )\";\n\n    db.execSQL(sql);\n\n    /*values.put(KEY_FNAME, contact.getfName());\n    values.put(KEY_LNAME, contact.getlName());\n    values.put(KEY_PH_NO, contact.getContactNumber());\n    values.put(KEY_EMAIL, contact.getEmailAddress());*/\n    // Inserting Row\n    System.out.print(\"----inserting----\");\n    //db.insert(TABLE_DETAILS, null, values);\n\n    System.out.print(\"----inserted----\");\n    db.close(); \n}\n</code></pre>\n\n<p>}</p>\n\n<p>and following is the activity from which i called handler</p>\n\n<pre><code>public class SQLitelActivity extends Activity implements OnClickListener \n{\n\nEditText fname,lname,con_num,email_adr;\nButton savebtn,viewbtn;\nDatabaseHandler db;\n//SQLiteDatabase db;\n@Override\npublic void onCreate(Bundle savedInstanceState) \n{\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_sqlitel);\n\n    fname=(EditText)findViewById(R.id.fname);\n    lname=(EditText)findViewById(R.id.lname);\n    con_num=(EditText)findViewById(R.id.cnumber);\n    email_adr=(EditText)findViewById(R.id.email);\n\n    savebtn=(Button)findViewById(R.id.save);\n    viewbtn=(Button)findViewById(R.id.view);\n\n    db=new DatabaseHandler(this);\n\n    savebtn.setOnClickListener(new OnClickListener() \n    {\n        @Override\n        public void onClick(View v) \n        {\n            //System.out.println(\"----111------\");\n            db.addContact(new Contact(fname.getText().toString()\n                    , lname.getText().toString(),con_num.getText().toString(),email_adr.getText().toString()));\n        //  System.out.println(\"----222------\");\n        }\n    }\n    );\n</code></pre>\n"},{"tags":["android","sqlite","insert","sqlite3"],"answer_count":2,"favorite_count":1,"up_vote_count":5,"down_vote_count":0,"view_count":8124,"score":5,"question_id":5364576,"title":"Android SQLiteConstraintException: error code 19: constraint failed","body":"<p>I've seen other questions about this exception, but all of them seem to be resolved with the solution that a row with the primary key specified already exists. This doesn't seem to be the case for me. I have tried replacing all single quotes in my strings with double quotes, but the same problem occurs.</p>\n\n<p>I'm trying to insert a row into the Settings table of the SQLite database I've created by doing the following:</p>\n\n<pre><code>db.execSQL(\"DROP TABLE IF EXISTS \"+Settings.SETTINGS_TABLE_NAME + \";\");\ndb.execSQL(CREATE_MEDIA_TABLE);\ndb.execSQL(CREATE_SETTINGS_TABLE);\nCursor c = getAllSettings();\n//If there isn't already a settings row, create a row full of defaults\nif(c.getCount()==0){\n    ContentValues cv  = new ContentValues();\n    cv.put(Settings.SETTING_UNIQUE_ID, \"'\"+Settings.uniqueID+\"'\");          \n    cv.put(Settings.SETTING_DEVICE_ID, Settings.SETTING_DEVICE_ID_DEFAULT);\n    cv.put(Settings.SETTING_CONNECTION_PREFERENCE, Settings.SETTING_CONNECTION_PREFERENCE_DEFAULT);\n    cv.put(Settings.SETTING_AD_HOC_ENABLED, Settings.SETTING_AD_HOC_ENABLED_DEFAULT);\n    cv.put(Settings.SETTING_SERVER_ADDRESS, Settings.SETTING_SERVER_ADDRESS_DEFAULT);\n    cv.put(Settings.SETTING_RECORDING_MODE, Settings.SETTING_RECORDING_MODE_DEFAULT);\n    cv.put(Settings.SETTING_PREVIEW_ENABLED, Settings.SETTING_PREVIEW_ENABLED_DEFAULT);\n    cv.put(Settings.SETTING_PICTURE_RESOLUTION_X, Settings.SETTING_PICTURE_RESOLUTION_X_DEFAULT);\n    cv.put(Settings.SETTING_PICTURE_RESOLUTION_Y, Settings.SETTING_PICTURE_RESOLUTION_Y_DEFAULT);\n    cv.put(Settings.SETTING_VIDEO_RESOLUTION_X, Settings.SETTING_VIDEO_RESOLUTION_X_DEFAULT);\n    cv.put(Settings.SETTING_VIDEO_RESOLUTION_Y, Settings.SETTING_VIDEO_RESOLUTION_Y_DEFAULT);\n    cv.put(Settings.SETTING_VIDEO_FPS, Settings.SETTING_VIDEO_FPS_DEFAULT);\n    cv.put(Settings.SETTING_AUDIO_BITRATE_KBPS, Settings.SETTING_AUDIO_BITRATE_KBPS_DEFAULT);\n    cv.put(Settings.SETTING_STORE_TO_SD, Settings.SETTING_STORE_TO_SD_DEFAULT);\n    cv.put(Settings.SETTING_STORAGE_LIMIT_MB, Settings.SETTING_STORAGE_LIMIT_MB_DEFAULT);\n\n    this.db.insert(Settings.SETTINGS_TABLE_NAME, null, cv);\n}\n</code></pre>\n\n<p>The CREATE_SETTINGS_TABLE string is defined as the following:</p>\n\n<pre><code>private static String CREATE_SETTINGS_TABLE = \"CREATE TABLE IF NOT EXISTS \" + Settings.SETTINGS_TABLE_NAME + \"(\"\n+ Settings.SETTING_UNIQUE_ID + \" TEXT NOT NULL PRIMARY KEY, \"\n+ Settings.SETTING_DEVICE_ID + \" TEXT NOT NULL , \"\n+ Settings.SETTING_CONNECTION_PREFERENCE + \" TEXT NOT NULL CHECK(\"+Settings.SETTING_CONNECTION_PREFERENCE+\" IN(\"+Settings.SETTING_CONNECTION_PREFERENCE_ALLOWED+\")), \"\n+ Settings.SETTING_AD_HOC_ENABLED + \" TEXT NOT NULL CHECK(\"+Settings.SETTING_AD_HOC_ENABLED+\" IN(\"+Settings.SETTING_AD_HOC_ENABLED_ALLOWED+\")), \"\n+ Settings.SETTING_SERVER_ADDRESS + \" TEXT NOT NULL, \"\n+ Settings.SETTING_RECORDING_MODE + \" TEXT NOT NULL CHECK(\"+Settings.SETTING_RECORDING_MODE+\" IN(\"+Settings.SETTING_RECORDING_MODE_ALLOWED+\")), \"\n+ Settings.SETTING_PREVIEW_ENABLED + \" TEXT NOT NULL CHECK(\"+Settings.SETTING_PREVIEW_ENABLED+\" IN(\"+Settings.SETTING_PREVIEW_ENABLED_ALLOWED+\")), \"\n+ Settings.SETTING_PICTURE_RESOLUTION_X + \" TEXT NOT NULL, \"\n+ Settings.SETTING_PICTURE_RESOLUTION_Y + \" TEXT NOT NULL, \"\n+ Settings.SETTING_VIDEO_RESOLUTION_X + \" TEXT NOT NULL, \"\n+ Settings.SETTING_VIDEO_RESOLUTION_Y + \" TEXT NOT NULL, \"\n+ Settings.SETTING_VIDEO_FPS + \" TEXT NOT NULL, \"\n+ Settings.SETTING_AUDIO_BITRATE_KBPS + \" TEXT NOT NULL, \"\n+ Settings.SETTING_STORE_TO_SD + \" TEXT NOT NULL CHECK(\"+Settings.SETTING_STORE_TO_SD+\" IN(\"+Settings.SETTING_STORE_TO_SD_ALLOWED+\")), \"\n+ Settings.SETTING_STORAGE_LIMIT_MB + \" TEXT NOT NULL )\";\n</code></pre>\n\n<p>However, when I execute my insert, I always get:</p>\n\n<pre><code>03-19 19:37:36.974: ERROR/Database(386): Error inserting server_address='0.0.0.0' storage_limit='-1' connection='none' preview_enabled='0' sd_enabled='1' video_fps='15' audio_bitrate='96' device_id='-1' recording_mode='none' picture_resolution_x='-1' picture_resolution_y='-1' unique_id='000000000000000' adhoc_enable='0' video_resolution_x='320' video_resolution_y='240'\n03-19 19:45:34.284: ERROR/Database(446): android.database.sqlite.SQLiteConstraintException: error code 19: constraint failed\n</code></pre>\n\n<p>It seems as if all the columns in my insert are not null. The row's primary key HAS to be unique, because it's the only row in the table. Therefore, the only thing I can think of is my CHECK conditions aren't true. Here are the predefined strings I'm using:</p>\n\n<pre><code>public static final String SETTING_UNIQUE_ID = \"unique_id\";\n\npublic static final String SETTING_DEVICE_ID = \"device_id\";\npublic static final String SETTING_DEVICE_ID_DEFAULT = \"'-1'\";\n\npublic static final String SETTING_CONNECTION_PREFERENCE = \"connection\";\npublic static final String SETTING_CONNECTION_PREFERENCE_3G = \"'3g'\";\npublic static final String SETTING_CONNECTION_PREFERENCE_WIFI = \"'wifi'\";\npublic static final String SETTING_CONNECTION_PREFERENCE_NONE = \"'none'\";\npublic static final String SETTING_CONNECTION_PREFERENCE_ALLOWED = SETTING_CONNECTION_PREFERENCE_3G+\",\"+SETTING_CONNECTION_PREFERENCE_WIFI+\",\"+SETTING_CONNECTION_PREFERENCE_NONE;\npublic static final String SETTING_CONNECTION_PREFERENCE_DEFAULT = SETTING_CONNECTION_PREFERENCE_NONE;\n\npublic static final String SETTING_AD_HOC_ENABLED = \"adhoc_enable\";\npublic static final String SETTING_AD_HOC_ENABLED_ALLOWED = TRUE+\",\"+FALSE;\npublic static final String SETTING_AD_HOC_ENABLED_DEFAULT = FALSE;\n\npublic static final String SETTING_SERVER_ADDRESS = \"server_address\";\npublic static final String SETTING_SERVER_ADDRESS_DEFAULT = \"'0.0.0.0'\";\n\npublic static final String SETTING_RECORDING_MODE = \"recording_mode\";\npublic static final String SETTING_RECORDING_MODE_VIDEO = \"'video'\";\npublic static final String SETTING_RECORDING_MODE_AUDIO = \"'audio'\";\npublic static final String SETTING_RECORDING_MODE_PICTURE = \"'picture'\";\npublic static final String SETTING_RECORDING_MODE_NONE = \"'none'\";\npublic static final String SETTING_RECORDING_MODE_ALLOWED = SETTING_RECORDING_MODE_VIDEO+\",\"+SETTING_RECORDING_MODE_AUDIO+\",\"+SETTING_RECORDING_MODE_PICTURE+\",\"+SETTING_RECORDING_MODE_NONE;\npublic static final String SETTING_RECORDING_MODE_DEFAULT = SETTING_RECORDING_MODE_NONE;\n\npublic static final String SETTING_PREVIEW_ENABLED = \"preview_enabled\";\npublic static final String SETTING_PREVIEW_ENABLED_ALLOWED = TRUE+\",\"+FALSE;\npublic static final String SETTING_PREVIEW_ENABLED_DEFAULT = FALSE;\n\npublic static final String SETTING_PICTURE_RESOLUTION_X = \"picture_resolution_x\";\npublic static final String SETTING_PICTURE_RESOLUTION_X_DEFAULT = \"'-1'\";\n\npublic static final String SETTING_PICTURE_RESOLUTION_Y = \"picture_resolution_y\";\npublic static final String SETTING_PICTURE_RESOLUTION_Y_DEFAULT = \"'-1'\";\n\npublic static final String SETTING_VIDEO_RESOLUTION_X = \"video_resolution_x\";\npublic static final String SETTING_VIDEO_RESOLUTION_X_DEFAULT = \"'320'\";\n\npublic static final String SETTING_VIDEO_RESOLUTION_Y = \"video_resolution_y\";\npublic static final String SETTING_VIDEO_RESOLUTION_Y_DEFAULT = \"'240'\";\n\npublic static final String SETTING_VIDEO_FPS = \"video_fps\";\npublic static final String SETTING_VIDEO_FPS_DEFAULT = \"'15'\";\n\npublic static final String SETTING_AUDIO_BITRATE_KBPS = \"audio_bitrate\";\npublic static final String SETTING_AUDIO_BITRATE_KBPS_DEFAULT = \"'96'\";\n\npublic static final String SETTING_STORE_TO_SD = \"sd_enabled\";\npublic static final String SETTING_STORE_TO_SD_ALLOWED = TRUE+\",\"+FALSE;\npublic static final String SETTING_STORE_TO_SD_DEFAULT = TRUE;\n\npublic static final String SETTING_STORAGE_LIMIT_MB = \"storage_limit\";\npublic static final String SETTING_STORAGE_LIMIT_MB_DEFAULT = \"'-1'\";\n\npublic static final String SETTING_CLIP_LENGTH_SECONDS = \"clip_length\";\npublic static final String SETTING_CLIP_LENGTH_SECONDS_DEFAULT = \"'300'\";\n</code></pre>\n\n<p>Does anyone see what could be going on? I'm stumped. Thanks in advance.</p>\n"},{"tags":["iphone","objective-c","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":12746484,"title":"Sqlite Prepare Failed: no such table<tablename>","body":"<p>I have created sqlite database.</p>\n\n<p>I add this sqlite file in my application but when I run the app in the simulator and check the sqlite file's path in document directory and I open the sqlite file on document directory's path at that time the table which I have created does not appear.</p>\n\n<p>In local copy I can see the table also in my project folder I can see the table but on the path of simulator I am not able to see the table</p>\n\n<p>so in my console it shows me the error:</p>\n\n<blockquote>\n  <p>Sqlite Prepare failed: no such table</p>\n</blockquote>\n"},{"tags":["iphone","sql-server","web-services","ipad","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":4218,"score":0,"question_id":4189850,"title":"IPad SQLite Push and Pull Data from external MS SQL Server DB","body":"<p>This carries on from my previous post (http://stackoverflow.com/questions/4182664/ipad-app-pull-and-push-relational-data). My plan is that when the ipad application starts I am going to pull data (config data i.e. Departments, Types etc etc relational data that is used across the system) from a webhosted MS SQL Server DB via a webservice and populate it into an SQL Lite DB on the IPad. Then when I load a listing I will pull the data over the line again via a webservice and populate it into the SQL Lite db on the ipad (than just run select commands to populate the listing).</p>\n\n<p>My questions are:\n1. What is the most efficient way to transfer data across the line via the web? Everyone seems to do it a different way. My idea is that I will have a webService for each type of data pull (e.g. RetrieveContactListing) that will query the db and than convert that data into \"something\" to send across the line. My question really is what is the \"something\" that it should be converting into?\n2. Everyone talks about odata services. Is this suited for applications where complex read and writes are needed?</p>\n\n<p>Ive created a simple iphone app before that talked to an sql server db (i just sent my own structured xml across the line) but now with this app the data calls are going to be a lot larger so efficiency is key.</p>\n"},{"tags":["android","sqlite","listview"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":2892,"score":0,"question_id":4919669,"title":"populating custom listview from SQLite database","body":"<p>I have this piece of code in onCreate():</p>\n\n<pre><code>try{\n    Log.i(\"onCreate\",\"Trying to open database...\");\n    orgi = this.openOrCreateDatabase(\"orgi\", MODE_PRIVATE, null);\n\n    Log.i(\"onCreate\",\"database opened.\");\n    cursor = orgi.rawQuery(\"SELECT name from profile;\",null);\n    Log.i(\"onCreate\",\"successfully done with query..\");\n    adapter = new SimpleCursorAdapter(this,R.layout.profilelistrow,cursor, \n            new String[]{\"name\"},new int[] {R.id.profileListRowTV1});\n    Log.i(\"onCreate\",\"Adapter done\");\n\n    ll.setAdapter(adapter);\n\n}catch (SQLException e){\n    displayError(e.toString());\n}\n</code></pre>\n\n<p>I'm supposed to populate the customlistview with data from the SQLite database. But then it gives me a force close right at this line:</p>\n\n<pre><code>adapter = new SimpleCursorAdapter(this,R.layout.profilelistrow,cursor, \n            new String[]{\"name\"},new int[] {R.id.profileListRowTV1});\n</code></pre>\n\n<p>Can somebody tell me what is wrong? I'm pretty ignorant with the simple cursor adapter (due to my noobness in android)... R.layout.profilelistrow is my layout for the entire screen, while profileListRowTV1 is the textview where the \"name\" will be inserted. Please educate me on this... What am I doing wrong?</p>\n"},{"tags":["android","database","query","sqlite","android-sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":118,"score":0,"question_id":12849622,"title":"Delete Query And Refresh in ListView in Android (sqlite)","body":"<p>I'm new to Java, Android, and SQLite, and I'm stuck at this. I have columns, namely <code>_id</code> (autoincrement), <code>type</code>, <code>amount</code> (int), <code>category</code>, and <code>description</code>. Three queries.</p>\n\n<p>Firstly, I am not able to delete a transaction (row) retrieved from database. (Please refer to the attached Logcat). </p>\n\n<p>Secondly, I need to know how to refresh the ListView after deleting the entry.</p>\n\n<p>And third, the silly issue I think. If I open the database once and retrieve data, it does so. Further, without closing the database, if I delete a transaction it does not delete it and gives the error \"database not open\". Further, if I close the database after retrieval and then open again at the time of deletion, it works. I dont get it. Main issue is the first one, but please answer if you know any of the above</p>\n\n<pre><code>    final ListView lv = getListView();\n    localArrayList.clear();                //To Stop the silly repeating issue\n    localDbCrud = new DbCrud(this);\n    localAdapter = new SimpleAdapter(\n            this,\n            localArrayList,\n            R.layout.transaction_list_item,\n            new String[]{\"Amount\",\"Category\",\"Date\",\"Description\"},\n            new int[]{R.id.tli_amount,R.id.tli_category,R.id.tli_date,R.id.tli_desc});\n\n    localDbCrud.open();\n    DbCrud.getAllTransaction();             //Using HashMap localHashMap , localHashMap.put(localArrayList) in loop\n    localDbCrud.close();\n    lv.setOnItemLongClickListener(new OnItemLongClickListener() {\n\n        public boolean onItemLongClick(final AdapterView&lt;?&gt; arg0, View arg1,\n                 final int arg2, final long arg3) {\n            // TODO Auto-generated method stub\n            AlertDialog.Builder ladbuilder = new Builder(TransactionList.this);\n            ladbuilder.setTitle(\"Choose Your Option\");\n            ladbuilder.setItems(R.array.alertdialog_prompt, new DialogInterface.OnClickListener() {\n\n                public void onClick(DialogInterface dialog, int selected_item) {\n                    // TODO Auto-generated method stub\n                    if (selected_item == 0){\n                        localDbCrud.open();\n                        HashMap itemMap = (HashMap)localAdapter.getItem(arg2);\n                        int item_id =(Integer) itemMap.get(\"Id\");\n                        DbCrud.deleteTransaction(item_id);\n                        //final int ite=  (Integer) arg0.getItemAtPosition(arg2);\n                         // final int item_id = c.getInt(c.getColumnIndex(DbCrud.TN_ID));\n                        //DbCrud.deleteTransaction(item_id);\n                        localDbCrud.close();\n\n                    }\n                    else{\n\n\n                        //update code\n\n                    }\n                }\n            });\n            AlertDialog localad = ladbuilder.create();\n            localad.show();\n\n\n            return false;\n        }\n    });\n\n    localDbCrud.close();\n\n    setListAdapter(localAdapter);\n\n}\n</code></pre>\n\n<p>Logcat</p>\n\n<pre><code>10-13 01:21:26.804: E/AndroidRuntime(22023): FATAL EXCEPTION: main\n10-13 01:21:26.804: E/AndroidRuntime(22023): java.lang.ClassCastException: java.lang.String\n10-13 01:21:26.804: E/AndroidRuntime(22023):    at com.hishighness.budgetracker.TransactionList$1$1.onClick(TransactionList.java:62)\n10-13 01:21:26.804: E/AndroidRuntime(22023):    at com.android.internal.app.AlertController$AlertParams$3.onItemClick(AlertController.java:878)\n10-13 01:21:26.804: E/AndroidRuntime(22023):    at android.widget.AdapterView.performItemClick(AdapterView.java:284)\n10-13 01:21:26.804: E/AndroidRuntime(22023):    at android.widget.ListView.performItemClick(ListView.java:3701)\n10-13 01:21:26.804: E/AndroidRuntime(22023):    at android.widget.AbsListView$PerformClick.run(AbsListView.java:1970)\n10-13 01:21:26.804: E/AndroidRuntime(22023):    at android.os.Handler.handleCallback(Handler.java:587)\n10-13 01:21:26.804: E/AndroidRuntime(22023):    at android.os.Handler.dispatchMessage(Handler.java:92)\n10-13 01:21:26.804: E/AndroidRuntime(22023):    at android.os.Looper.loop(Looper.java:130)\n    10-13 01:21:26.804: E/AndroidRuntime(22023):    at android.app.ActivityThread.main(ActivityThread.java:3687)\n10-13 01:21:26.804: E/AndroidRuntime(22023):    at java.lang.reflect.Method.invokeNative(Native Method)\n10-13 01:21:26.804: E/AndroidRuntime(22023):    at java.lang.reflect.Method.invoke(Method.java:507)\n10-13 01:21:26.804: E/AndroidRuntime(22023):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:842)\n10-13 01:21:26.804: E/AndroidRuntime(22023):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:600)\n10-13 01:21:26.804: E/AndroidRuntime(22023):    at dalvik.system.NativeStart.main(Native Method)\n</code></pre>\n\n<p>here's the getallTransaction() function.This is the only trace of hash map in my project</p>\n\n<pre><code>    public static void getAllTransaction(){\n\n    Cursor localCursor = localDatabase.query(true, TN_TABLE, null, null, null, null, null, null, null) ;\n    if (localCursor != null) {\n\n        localCursor.moveToFirst();\n            do{\n                HashMap&lt;String,String&gt; temp = new HashMap&lt;String,String&gt;();\n                temp.put(\"Amount\", localCursor.getString(localCursor.getColumnIndex(\"amount\")));\n                temp.put(\"Category\", localCursor.getString(localCursor.getColumnIndex(\"category\")));\n                temp.put(\"Date\", localCursor.getString(localCursor.getColumnIndex(\"date\")));\n                temp.put(\"Description\", localCursor.getString(localCursor.getColumnIndex(\"description\")));\n                temp.put(\"Id\", localCursor.getString(localCursor.getColumnIndex(\"_id\")));\n                TransactionList.localArrayList.add(temp);\n\n\n\n            }while (localCursor.moveToNext());\n\n    }\n</code></pre>\n"},{"tags":["android","sqlite","intentservice"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":12866900,"title":"NullPointerException when insert and Data Retrival and Access error","body":"<p>I'm trying to insert data into a database when there is no network, but it gives me a <code>NullPointerException</code>. When it goes online, it gives some others and crashes my app.</p>\n\n<p><strong>LogCat Error</strong></p>\n\n<pre><code>    10-13 01:27:07.614: E/Service(13862): Service Created.. \n    10-13 01:27:08.054: E/Service Started(13862): Successful\n    10-13 01:27:08.094: E/Insertion(13862): java.lang.NullPointerException\n    10-13 01:27:09.134: E/Service Network(13862): Network is offline\n    10-13 01:27:14.174: E/Service Network(13862): Network is offline\n    10-13 01:28:29.154: E/Service Network(13862): Network is offline\n    10-13 01:28:35.924: E/Service Network(13862): Network is offline\n    10-13 01:28:39.174: E/Service Network(13862): Network is online\n    10-13 01:28:39.204: E/AndroidRuntime(13862): FATAL EXCEPTION: Timer-0\n    10-13 01:28:39.204: E/AndroidRuntime(13862): java.lang.NullPointerException\n    10-13 01:28:39.204: E/AndroidRuntime(13862):    at com.remote.synchronizer.haris.SQLiteAdapter.getAllContacts(SQLiteAdapter.java:94)\n    10-13 01:28:39.204: E/AndroidRuntime(13862):    at com.remote.synchronizer.haris.OfflineDataService.DataSender(OfflineDataService.java:96)\n    10-13 01:28:39.204: E/AndroidRuntime(13862):    at com.remote.synchronizer.haris.OfflineDataService.access$0(OfflineDataService.java:90)\n    10-13 01:28:39.204: E/AndroidRuntime(13862):    at com.remote.synchronizer.haris.OfflineDataService$1.run(OfflineDataService.java:67)\n    10-13 01:28:39.204: E/AndroidRuntime(13862):    at java.util.Timer$TimerImpl.run(Timer.java:284)\n</code></pre>\n\n<p><strong>OfflineDataService.java</strong></p>\n\n<pre><code>package com.remote.synchronizer.haris;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Timer;\nimport java.util.TimerTask;\nimport org.apache.http.NameValuePair;\n\nimport android.app.IntentService;\nimport android.content.Intent;\nimport android.database.Cursor;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.os.Bundle;\nimport android.util.Log;\n\npublic class OfflineDataService extends IntentService {\n\n    boolean wifi,edge;\n    private Timer timer= new Timer();\n    SQLiteDatabase db;\n    String un,shop,city,date,order;\n    private SQLiteAdapter mySQLiteAdapter;\n    Cursor cursor;\n\n    public OfflineDataService() {\n        super(\"OfflineDataService\");\n    }\n\n    @Override   \n    public void onCreate() {\n\n        super.onCreate();\n        Log.e(\"Service\", \"Service Created.. \");\n\n         mySQLiteAdapter = new SQLiteAdapter(this);\n         mySQLiteAdapter.getWritableDatabase();\n\n}   \n\n    @Override\n    protected void onHandleIntent(Intent intent) {\n\n        Bundle bundle=intent.getExtras();\n        un=bundle.getString(\"un\");\n        shop=bundle.getString(\"shop\");\n        city=bundle.getString(\"city\");\n        date=bundle.getString(\"date\");\n        order=bundle.getString(\"order\");\n\n        Log.e(\"Service Started\", \"Successful\");\n\n        //Inserting New Record\n        mySQLiteAdapter.insert(un,shop,city,date,order);\n\n        timer.scheduleAtFixedRate(new TimerTask(){\n\n            @Override\n            public void run() {\n\n                //Checking network connectivity\n                   wifi=NetworkInfo.Wifi(OfflineDataService.this);\n                   edge=NetworkInfo.EDGE(OfflineDataService.this);\n\n                       if(wifi==true||edge==true)\n                       {\n                           Log.e(\"Service Network\", \"Network is online\");\n                           DataSender();\n                       }\n                       else\n                       {\n                           Log.e(\"Service Network\", \"Network is offline\");\n                       }\n            }\n\n        }, 1000, 5000);\n\n\n    }\n\n    /*@Override\n    public void onDestroy() {\n\n        super.onDestroy();\n      //  mySQLiteAdapter.deleteAll();\n        Log.e(\"Service Destroy\", \"Successful\");\n\n\n    }*/\n\n    private void DataSender()\n    {\n        //timer.cancel();\n\n        List&lt;NameValuePair&gt; contacts=new ArrayList&lt;NameValuePair&gt;();\n\n        contacts=mySQLiteAdapter.getAllContacts();\n\n         String url=\"http://10.0.2.2:3325/Product/Create?\"; \n\n         int response = 0;\n\n            try \n            {\n                response = CustomHttpClient.executeHttpPost(url, contacts);\n\n                if(response==200)\n                {\n                    Log.e(\"Data Sent\", \"Response 200\");\n                }\n\n                else{\n\n                    Log.e(\"Service Data\", \"Faield to upload data\" );\n                }\n\n            }\n            catch (Exception e)\n            {\n                Log.e(\"Data Sending\", e.toString());\n                e.printStackTrace();\n            }\n    }\n\n}\n</code></pre>\n\n<p><strong>SQLiteAdapter.java</strong></p>\n\n<pre><code>package com.remote.synchronizer.haris;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport org.apache.http.NameValuePair;\nimport org.apache.http.message.BasicNameValuePair;\n\nimport android.content.ContentValues;\nimport android.content.Context;\nimport android.database.Cursor;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.database.sqlite.SQLiteOpenHelper;\nimport android.util.Log;\n\npublic class SQLiteAdapter extends SQLiteOpenHelper {\n\n    public static final String DATABASE_NAME = \"Product\";\n    public static final String TABLE_NAME = \"Orders\";\n    public static final int DATABASE_VERSION = 1;\n    public static final String KEY_ID = \" _id\";  //\n    public static final String KEY_NAME = \"name\";\n    public static final String KEY_SHOP = \"shop\";\n    private static final String KEY_CITY = \"city\";\n    private static final String KEY_DATE = \"datee\";\n    private static final String KEY_ORDER = \"orderr\";\n\n\n    private static final String CREATE_TABLE =\n        \"CREATE TABLE \" + TABLE_NAME + \" (\"\n        + KEY_ID + \" INTEGER PRIMARY KEY AUTOINCREMENT, \"\n        + KEY_NAME + \" VARCHAR,\"\n        + KEY_SHOP + \" VARCHAR,\" + KEY_CITY + \" VARCHAR, \" + KEY_DATE + \" VARCHAR, \" + KEY_ORDER + \" VARCHAR\" +\");\";\n\n\n    public SQLiteAdapter(Context context) {\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);  \n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        db.execSQL(CREATE_TABLE);   \n    }\n\n    private SQLiteDatabase sqLiteDatabase;\n    private SQLiteAdapter sqLiteHelper=this;\n\n    public void close(){\n        sqLiteHelper.close();\n    }\n\n    public void insert(String name, String shop, String city, String datee, String orderr){\n\n        try\n        {\n        ContentValues contentValues = new ContentValues();\n        contentValues.put(KEY_NAME, name);\n        contentValues.put(KEY_SHOP, shop);\n        contentValues.put(KEY_CITY, city);\n        contentValues.put(KEY_DATE, datee);\n        contentValues.put(KEY_ORDER, orderr);\n        sqLiteDatabase.insertOrThrow(TABLE_NAME, KEY_ID, contentValues);\n        //sqLiteDatabase.close();\n        }\n        catch(Exception e)\n        {\n            e.printStackTrace();\n            Log.e(\"Insertion\", e.toString());\n\n            }\n    }\n\n    public void deleteAll(){\n         sqLiteDatabase.delete(TABLE_NAME, null, null);\n    }\n\n    public void delete_byID(int id){\n        sqLiteDatabase.delete(TABLE_NAME, KEY_ID+\"=\"+id, null);\n    }\n\n    /*public Cursor queueAll(){\n        String[] columns = new String[]{KEY_ID, KEY_NAME, KEY_SHOP, KEY_CITY,  KEY_DATE, KEY_ORDER};\n        Cursor cursor = sqLiteDatabase.query(TABLE_NAME, columns, \n                null, null, null, null, null);\n\n        return cursor;\n    }*/\n\n    public List&lt;NameValuePair&gt; getAllContacts() {\n        List&lt;NameValuePair&gt; postParameters = new ArrayList&lt;NameValuePair&gt;();\n\n        String selectQuery = \"SELECT  * FROM \" + TABLE_NAME;\n        sqLiteHelper.getReadableDatabase();\n        Cursor cursor = sqLiteDatabase.rawQuery(selectQuery, null);\n\n        if(cursor.moveToFirst()){\n            while(!cursor.isAfterLast())\n            {\n                postParameters.add(new BasicNameValuePair(\"User\", cursor.getString(cursor.getColumnIndex(KEY_NAME))));\n                postParameters.add(new BasicNameValuePair(\"ShopName\", cursor.getString(cursor.getColumnIndex(KEY_SHOP))));\n                postParameters.add(new BasicNameValuePair(\"city\", cursor.getString(cursor.getColumnIndex(KEY_CITY))));\n                postParameters.add(new BasicNameValuePair(\"OrderDate\", cursor.getString(cursor.getColumnIndex(KEY_DATE))));\n                postParameters.add(new BasicNameValuePair(\"OrderDetail\", cursor.getString(cursor.getColumnIndex(KEY_ORDER))));\n                cursor.moveToNext();\n            }\n\n        }\n        //cursor.close();\n        return postParameters;\n    };\n\n\n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n        Log.w(SQLiteAdapter.class.getName(),\n                \"Upgrading database from version \" + oldVersion + \" to \"\n                    + newVersion + \", which will destroy all old data\");\n            db.execSQL(\"DROP TABLE IF EXISTS \" + CREATE_TABLE);\n            onCreate(db);\n    }\n\n}\n</code></pre>\n\n<p>Thanks in Advance</p>\n"},{"tags":["java","android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":12866445,"title":"refactoring databaseHelper","body":"<p>I'm creating a database with this structure (4 Tables):\n<a href=\"http://i.stack.imgur.com/vPaoD.png\" rel=\"nofollow\">http://i.stack.imgur.com/vPaoD.png</a> (Can't embed because lack of rep)</p>\n\n<p>My worries is that the class is growing is in a fast pace and it's not that simple to work in it anymore since it is getting so large. Is there anyway i can refactor (=split it into several classes) my databaseHelper to make it simpler and more structured but yet still make it easy to work with?</p>\n\n<p>public class DatabaseHelper extends SQLiteOpenHelper {</p>\n\n<pre><code>// Database static variables\nprivate static final int DATABASE_VERSION = 2;\nprivate static final String DATABASE_NAME = \"feedlrDatabase\";\n\n// Declaring feed table\nprivate static final String TABLE_FEED = \"feed\";\nprivate static final String FEED_COLUMN_ID = \"_id\";\nprivate static final String FEED_COLUMN_NAME = \"name\";\n\n// Declaring feed-user bridge table\nprivate static final String TABLE_FEEDUSER = \"feeduser\";\nprivate static final String FEEDUSER_COLUMN_FEED_ID = \"feed_ID\";\nprivate static final String FEEDUSER_COLUMN_USER_ID = \"user_ID\";\n\n// Declaring user table\nprivate static final String TABLE_USER = \"user\";\nprivate static final String USER_COLUMN_ID = \"_id\";\npublic static final String USER_COLUMN_USERNAME = \"username\";\npublic static final String USER_COLUMN_USERID = \"userid\";\npublic static final String USER_COLUMN_IMGURL = \"ProfileImageURL\";\npublic static final String USER_COLUMN_SOURCE = \"source\";\n\n// Declaring item table\nprivate static final String TABLE_ITEM = \"item\";\npublic static final String ITEM_COLUMN_ID = \"_id\";\npublic static final String ITEM_COLUMN_ITEMID = \"itemid\";\npublic static final String ITEM_COLUMN_TEXT = \"text\";\nprivate static final String ITEM_COLUMN_TIMESTAMP = \"timestamp\";\nprivate static final String ITEM_COLUMN_TYPE = \"type\";\nprivate static final String ITEM_COLUMN_URL = \"URL\";\nprivate static final String ITEM_COLUMN_IMGURL = \"imgURL\";\nprivate static final String ITEM_COLUMN_USER_ID = \"user_ID\";\n\nprivate SQLiteDatabase db = this.getWritableDatabase();\n\npublic DatabaseHelper(Context context) {\n    super(context, DATABASE_NAME, null, DATABASE_VERSION);\n}\n\npublic void onCreate(SQLiteDatabase database) {\n    // @formatter:off\n    // Creating feed table\n    database.execSQL(\"CREATE TABLE \" + TABLE_FEED + \"(\" + FEED_COLUMN_ID\n            + \" INTEGER PRIMARY KEY AUTOINCREMENT,\" + FEED_COLUMN_NAME\n            + \" TEXT UNIQUE\" + \")\");\n\n    // Creating feed-user bridge table\n    database.execSQL(\"CREATE TABLE \" + TABLE_FEEDUSER + \"(\"\n            + FEEDUSER_COLUMN_FEED_ID + \" INT NOT NULL,\"\n            + FEEDUSER_COLUMN_USER_ID + \" INT NOT NULL\" + \")\");\n\n    // Creating user table\n    // TODO Should username be the unique idenifier of a user?!\n    database.execSQL(\"CREATE TABLE \" + TABLE_USER + \"(\" + USER_COLUMN_ID\n            + \" INTEGER PRIMARY KEY AUTOINCREMENT,\" + USER_COLUMN_USERNAME\n            + \" TEXT NOT NULL,\" + USER_COLUMN_USERID + \" TEXT UNIQUE,\"\n            + USER_COLUMN_IMGURL + \" TEXT,\" + USER_COLUMN_SOURCE\n            + \" TEXT NOT NULL\" + \")\");\n\n    // Creating item table\n    database.execSQL(\"CREATE TABLE \" + TABLE_ITEM + \"(\" + ITEM_COLUMN_ID\n            + \" INTEGER PRIMARY KEY AUTOINCREMENT,\" + ITEM_COLUMN_ITEMID\n            + \" INT UNIQUE,\" + ITEM_COLUMN_TEXT + \" TEXT,\"\n            + ITEM_COLUMN_TIMESTAMP + \" DATETIME,\" + ITEM_COLUMN_TYPE\n            + \" TEXT,\" + ITEM_COLUMN_URL + \" TEXT,\" + ITEM_COLUMN_IMGURL\n            + \" TEXT,\" + ITEM_COLUMN_USER_ID + \" INT NOT NULL\" + \")\");\n    // @formatter:on\n}\n\n@Override\npublic void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n    // Temporarily drops all tables\n    db.execSQL(\"DROP TABLE IF EXISTS \" + TABLE_FEED);\n    db.execSQL(\"DROP TABLE IF EXISTS \" + TABLE_FEEDUSER);\n    db.execSQL(\"DROP TABLE IF EXISTS \" + TABLE_USER);\n    db.execSQL(\"DROP TABLE IF EXISTS \" + TABLE_ITEM);\n    onCreate(db);\n}\n\npublic void addFeed(Feed feed) {\n    ContentValues temp = new ContentValues();\n\n    temp.put(FEED_COLUMN_NAME, feed.getTitle());\n    try {\n        db.insertOrThrow(TABLE_FEED, null, temp);\n    } catch (SQLiteConstraintException e) {\n        Log.d(\"ERROR\", \"Inserted feed is not UNIQUE!\");\n        // TODO Apply listener to notify the user that the feed name already\n        // exists!\n    }\n}\n\npublic void removeFeed(Feed feed) {\n    String title = feed.getTitle();\n    long id = getFeedID(feed);\n\n    removeFeedBridge(id);\n\n    db.delete(TABLE_FEED, FEED_COLUMN_NAME + \"=?\", new String[] { title });\n}\n\npublic ArrayList&lt;String&gt; listFeeds() {\n    final ArrayList&lt;String&gt; feeds = new ArrayList&lt;String&gt;();\n\n    Cursor c = db.rawQuery(\"SELECT * FROM \" + TABLE_FEED, null);\n    while (c.moveToNext()) {\n        String s = c.getString(1);\n        feeds.add(s);\n    }\n    c.close();\n    return feeds;\n}\n\npublic long getFeedID(Feed feed) {\n    String feedTitle = feed.getTitle();\n    SQLiteDatabase db = this.getReadableDatabase();\n    Cursor c = db.query(TABLE_FEED, new String[] { FEED_COLUMN_ID },\n            FEED_COLUMN_NAME + \"=?\", new String[] { feedTitle }, null,\n            null, null);\n    c.moveToNext();\n    Long id = Long.parseLong(c.getString(0));\n    c.close();\n    return id;\n}\n\npublic long getUserID(User user) {\n    long id = user.getId();\n    SQLiteDatabase db = this.getReadableDatabase();\n    Cursor c = db.query(TABLE_USER, new String[] { USER_COLUMN_ID },\n            USER_COLUMN_ID + \"=?\", new String[] { id + \"\" }, null, null,\n            null);\n    c.moveToNext();\n    Long id1 = Long.parseLong(c.getString(0));\n    c.close();\n    return id1;\n}\n\npublic ArrayList&lt;String&gt; listUsers() {\n    final ArrayList&lt;String&gt; users = new ArrayList&lt;String&gt;();\n\n    Cursor c = db.rawQuery(\"SELECT * FROM \" + TABLE_USER, null);\n\n    while (c.moveToNext()) {\n        String s = c.getString(1);\n        users.add(s);\n    }\n    return users;\n}\n\npublic void addUserToFeed(User user, Feed feed) {\n    long FeedID = getFeedID(feed);\n    long UserID = addUser(user);\n\n    // Add bridge connection\n    if (UserID != -1) {\n        addFeedUserBridge(FeedID, UserID);\n    }\n}\n\npublic long addUser(User user) {\n    // TODO Check if the user already exists!!\n    ContentValues temp = new ContentValues();\n\n    temp.put(USER_COLUMN_USERNAME, user.getUserName());\n    temp.put(USER_COLUMN_USERID, user.getId());\n    temp.put(USER_COLUMN_IMGURL, user.getProfileImageURL());\n    temp.put(USER_COLUMN_SOURCE, \"Twitter\");\n    // TODO implement source on user?\n\n    long userID = db.insert(TABLE_USER, null, temp);\n    return userID;\n}\n\npublic void addFeedUserBridge(long feedID, long userID) {\n    ContentValues temp = new ContentValues();\n\n    temp.put(FEEDUSER_COLUMN_FEED_ID, feedID);\n    temp.put(FEEDUSER_COLUMN_USER_ID, userID);\n\n    db.insert(TABLE_FEEDUSER, null, temp);\n}\n\npublic void removeUserFromFeed(Feed feed, User user) {\n    long feedID = getFeedID(feed);\n    long userID = getUserID(user);\n\n    removeFeedUserBridge(feedID, userID);\n}\n\nprivate void removeUser(User user) {\n    long id = user.getId();\n    db.delete(TABLE_USER, USER_COLUMN_ID + \"=?\", new String[] { id + \"\" });\n}\n\nprivate void removeFeedUserBridge(long feedID, long userID) {\n    db.delete(TABLE_FEEDUSER, FEEDUSER_COLUMN_FEED_ID + \"=?\" + \" and \"\n            + FEEDUSER_COLUMN_USER_ID + \"=?\", new String[] { feedID + \"\",\n            userID + \"\" });\n}\n\npublic ArrayList&lt;String&gt; listFeedUser() {\n    final ArrayList&lt;String&gt; feeduser = new ArrayList&lt;String&gt;();\n    Cursor c = db.rawQuery(\"SELECT * FROM \" + TABLE_FEEDUSER, null);\n    while (c.moveToNext()) {\n        feeduser.add(c.getString(0) + \" \" + c.getString(1));\n    }\n    c.close();\n    return feeduser;\n}\n\nprivate void removeFeedBridge(Long id) {\n    db.delete(TABLE_FEEDUSER, FEEDUSER_COLUMN_FEED_ID + \"=?\",\n            new String[] { id + \"\" });\n}\n\npublic void updateUser(long userID) {\n    // TODO implement this method\n}\n\npublic void addListOfItems(List&lt;? extends Item&gt; itemList) {\n    db.beginTransaction();\n    for (Item i : itemList) {\n        ContentValues temp = new ContentValues();\n        temp.put(ITEM_COLUMN_ITEMID, i.getId());\n        temp.put(ITEM_COLUMN_TEXT, i.getText());\n        temp.put(ITEM_COLUMN_TIMESTAMP, i.getTimestamp());\n        temp.put(ITEM_COLUMN_TYPE, i.getText());\n        temp.put(ITEM_COLUMN_URL, i.getURL());\n        temp.put(ITEM_COLUMN_IMGURL, i.getIMGURL());\n        temp.put(ITEM_COLUMN_USER_ID, i.getUser().getId());\n        db.insertWithOnConflict(TABLE_ITEM, null, temp, SQLiteDatabase.CONFLICT_IGNORE);\n\n    }\n    db.setTransactionSuccessful();\n    db.endTransaction();\n}\n\npublic List&lt;User&gt; getUsersInFeed(Feed feed) {\n    List&lt;User&gt; users = new ArrayList&lt;User&gt;();\n\n    Cursor c = db\n            .rawQuery(\"SELECT * FROM \" + TABLE_USER + \" WHERE \"\n                    + USER_COLUMN_USERID + \" IN (SELECT \"\n                    + FEEDUSER_COLUMN_USER_ID + \" FROM \" + TABLE_FEEDUSER\n                    + \" WHERE \" + FEEDUSER_COLUMN_FEED_ID + \" = \"\n                    + getFeedID(feed) + \")\", null);\n\n    c.moveToFirst();\n    while (!c.isAfterLast()) {\n        users.add(new User(c.getLong(c.getColumnIndex(USER_COLUMN_USERID)),\n                c.getString(c.getColumnIndex(USER_COLUMN_USERNAME))));\n        c.moveToNext();\n    }\n\n    return users;\n}\n\npublic Cursor getAllItems() {\n    Cursor c = db.query(TABLE_ITEM, new String[] { ITEM_COLUMN_ID,\n            ITEM_COLUMN_TEXT, ITEM_COLUMN_TIMESTAMP, ITEM_COLUMN_TYPE,\n            ITEM_COLUMN_URL, ITEM_COLUMN_IMGURL, ITEM_COLUMN_USER_ID },\n            null, null, null, null, null);\n    // db.close();\n    return c;\n}\n\npublic long getItemTableSize() {\n    SQLiteDatabase database = this.getReadableDatabase();\n    long l = DatabaseUtils.queryNumEntries(database, TABLE_ITEM);\n    // database.close();\n    return l;\n}\n\npublic void clearItemTable() {\n    db.delete(TABLE_ITEM, null, null);\n}\n\npublic void clearUserTable() {\n    db.delete(TABLE_USER, null, null);\n}\n\npublic void clearFeeds() {\n    db.delete(TABLE_FEED, null, null);\n    db.delete(TABLE_FEEDUSER, null, null);\n}\n\npublic void addUsers(List&lt;? extends User&gt; users) {\n    db.beginTransaction();\n\n    for (User u : users) {\n        ContentValues temp = new ContentValues();\n        temp.put(USER_COLUMN_USERNAME, u.getUserName());\n        temp.put(USER_COLUMN_USERID, u.getId());\n        temp.put(USER_COLUMN_SOURCE, u.getSource());\n        db.insertWithOnConflict(TABLE_USER, null, temp, SQLiteDatabase.CONFLICT_IGNORE);\n    }\n    db.setTransactionSuccessful();\n    db.endTransaction();\n}\n\npublic Cursor getAllUsers() {\n    Cursor c = db.query(TABLE_USER, new String[] { USER_COLUMN_ID,\n            USER_COLUMN_USERNAME, USER_COLUMN_USERID }, null, null, null,\n            null, null);\n    return c;\n}\n\npublic Cursor getItems(Feed feed) {\n    Cursor c = db.rawQuery(\"SELECT * FROM \" + TABLE_ITEM \n            + \" WHERE \" + ITEM_COLUMN_USER_ID \n            + \" IN (SELECT \" + FEEDUSER_COLUMN_USER_ID \n            + \" FROM \" + TABLE_FEEDUSER\n            + \" WHERE \" + FEEDUSER_COLUMN_FEED_ID \n            + \" = \" + getFeedID(feed)\n            + \") ORDER BY \" + ITEM_COLUMN_TIMESTAMP + \" DESC\", null);\n    return c;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Best regards\nRawa</p>\n"},{"tags":["php","sqlite","apache2","segmentation-fault","zend-framework2"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":66,"score":2,"question_id":12839096,"title":"Segmentation Fault in Zend Framework2 trying to add to sqlite db","body":"<p>I am currently trying to get around with the <a href=\"http://framework.zend.com/manual/2.0/en/user-guide/overview.html\" rel=\"nofollow\">Zend Framework 2 Tutorial</a>.</p>\n\n<p>I am using an Apache 2 and php 5.4.7 with Zend Engine v2.4.0 on a Solaris system.</p>\n\n<p>I managed to create everything I need but when I want to add or delete an album from my list the Apache child process always crashes giving a segmentation fault.\nI backtraced this with \ngdb httpd, \nrun -X\nuntil the error occurs,\nfound out that the frame where something is executed for the last time tries to get the function isValid() of Zend's StringLength.php:169  </p>\n\n<p>When adding or editing an Album the user has to provide the data for the artist and the album name, then hits the submit button.\nIt's crashing now on validating the input of the form.</p>\n\n<p>I tried adding single character names, üöä containing names and just simple names like 'simon the cat', everything fails.</p>\n\n<p>Do you have any suggestion what the problem might be?</p>\n\n<p>EDIT:</p>\n\n<p>I localized the error a little more.</p>\n\n<pre><code>public function isValid($value)\n{\n    if (!is_string($value)) {\n        $this-&gt;error(self::INVALID);\n        return false;\n    }\n/*\n    $this-&gt;setValue($value);\n    if ($this-&gt;getEncoding() !== null) {\n        $length = iconv_strlen($value, $this-&gt;getEncoding());\n    } else {\n        $length = iconv_strlen($value);\n    }\n\n    if ($length &lt; $this-&gt;getMin()) {\n        $this-&gt;error(self::TOO_SHORT);\n    }\n*/\n    if (null !== $this-&gt;getMax() &amp;&amp; $this-&gt;getMax() &lt; $length) {\n        $this-&gt;error(self::TOO_LONG);\n    }\n\n    if (count($this-&gt;getMessages())) {\n        return false;\n    } else {\n        return true;\n    }\n}\n</code></pre>\n\n<p>Segmentation fault raises beetween the comments in isValid(). \nMaybe its related to the getEncoding() method?</p>\n\n<p>EDIT2:</p>\n\n<p>Problem is connected with iconv_strlen, dunno why though :/ Works fine if you just use a normal strlen()</p>\n"},{"tags":["android","sqlite","android-fragments"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":128,"score":0,"question_id":12739785,"title":"How to use startmanagingcursor in fragment?","body":"<p>I want to know how can I use startmanagingcursor in fragment? Because I need to pull data from SQLite in Fragment but I cannot use startmanagingcursor in it. That's why urgent need a help.</p>\n\n<p>Here is my coding</p>\n\n<pre><code> @Override  \n public void onCreate(Bundle savedInstanceState) {  \n        super.onCreate(savedInstanceState);\n        dbUtil.open();\n        Cursor cursor = dbUtil.fetchNews(getArguments().getString(\"title\"));\n        getActivity().startManagingCursor(cursor);\n        newsTitle = cursor.getString(0);\n        dbUtil.close();\n }\n</code></pre>\n"},{"tags":["android","database","query","sqlite","assets"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":83,"score":2,"question_id":12832421,"title":"Read only SQLite DB update in assets folder for new app version","body":"<p>At the moment I am fiddling myself into working with sql databases in android and created my first app. now i wanted to update this app and the including database in the assets folder. I overwrote the old database with the new one but on my phone it doesnt show the new entries.</p>\n\n<p>It somehow is saving the old entries/queries or entirely the old Db. I checked on the net but couldnt really find a solution. Below my dbhelper code. Do i have to do something in <code>onUpgrade</code> or what would be the procedure?</p>\n\n<p>Many thanks for helping!</p>\n\n<pre><code>public class DataBaseHelper extends SQLiteOpenHelper {\nprivate static String DB_PATH;\n\nprivate static String DB_NAME;\n\nprivate SQLiteDatabase db_object;\n\nprivate final Context context;\n\npublic DataBaseHelper(Context context, String db) {\n    super(context, db, null, 80);\n    this.context = context;\n    DB_PATH = \"/data/data/\" + context.getPackageName() + \"/databases/\";\n //   DB_PATH = \"/data/data/com.comp.appname/databases/\";\n    DB_NAME = \"mydatabase.sqlite\";\n    try {\n        createDataBase();\n    } catch (IOException ioe) {\n        throw new Error(\"Unable to create database\");\n    }\n    try {\n        openDataBase();\n    } catch (SQLException sqle) {\n        throw sqle;\n    }\n}\n\n@Override\npublic void onCreate(SQLiteDatabase db) {\n    // TODO Auto-generated method stub\n}\n\n@Override\npublic void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n    // TODO Auto-generated method stub\n}\n\npublic void createDataBase() throws IOException {\n    boolean dbExist = checkDataBase();\n    if (dbExist) {\n    } else {\n        this.getReadableDatabase();\n        try {\n            copyDataBase();\n        } catch (IOException e) {\n            throw new Error(\"Error copying database\");\n        }\n    }\n}\n\nprivate boolean checkDataBase() {\n    SQLiteDatabase checkDB = null;\n    try {\n        String myPath = DB_PATH + DB_NAME;\n        checkDB = SQLiteDatabase.openDatabase(myPath, null,\n                SQLiteDatabase.OPEN_READONLY);\n    } catch (SQLiteException e) {\n    }\n    if (checkDB != null) {\n        checkDB.close();\n    }\n    return checkDB != null ? true : false;\n}\n\nprivate void copyDataBase() throws IOException {\n    InputStream myInput = context.getAssets().open(DB_NAME);\n    String outFileName = DB_PATH + DB_NAME;\n    OutputStream myOutput = new FileOutputStream(outFileName);\n    byte[] buffer = new byte[1024];\n    int length;\n    while ((length = myInput.read(buffer)) &gt; 0) {\n        myOutput.write(buffer, 0, length);\n    }\n    myOutput.flush();\n    myOutput.close();\n    myInput.close();\n}\n\npublic void openDataBase() throws SQLException {\n    String myPath = DB_PATH + DB_NAME;\n    db_object = SQLiteDatabase.openDatabase(myPath, null,\n            SQLiteDatabase.OPEN_READONLY);\n}\n\n@Override\npublic synchronized void close() {\n    if (db_object != null)\n        db_object.close();\n    super.close();\n}\n}\n</code></pre>\n"},{"tags":["android","sqlite","adb"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":81,"score":-1,"question_id":12862795,"title":"List database files of my android on adb","body":"<p>I was trying to copy an existing database into the system database path, but i'm not sure the operation was succesful so i want to list databases of my tablet, i think they are stored in the directory /data/data/ i tried :</p>\n\n<pre><code>C:\\&gt;adb shell find /data -name *.db\n</code></pre>\n\n<p>But it gives me:</p>\n\n<pre><code>/system/bin/sh: find: not found\n</code></pre>\n\n<p>Also tried this:</p>\n\n<pre><code>C:\\&gt;adb -s c16076b0a607e5f shell find/data -name*.db\n</code></pre>\n\n<p>And still the same result.</p>\n\n<p>I looked on here for similare cases but found nothing.</p>\n"},{"tags":["android","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":12863018,"title":"SQLite or Preferences","body":"<p>I was trying to build a music player in android and I require to save the playlist created by the user. Now I was looking for SQLite and found that there exist a thing called preferences. Now what will be best for me in terms for memory and structure and ease in data-retrieval?</p>\n\n<p>Thanks in advance,\nA Noob. \n:)</p>\n"},{"tags":["android","sqlite","arraylist","cursor"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":79,"score":1,"question_id":12789756,"title":"Way to group sqlite cursor results by formated date column","body":"<p>Is there a simpler way to group and present data from an SQLite database than what I'm about to propose? If so, how would you improve it?</p>\n\n<p>In an app I'm doing for a gym, I need to be able to record the history for 5 types of exercise classes, by date, in descending order (newest on top).    In the spirit of sharing code to better understand, here is my table creation:</p>\n\n<pre><code>private static final String CREATE_TABLE_BJJ = \"CREATE TABLE IF NOT EXISTS \"\n    // TODO finish this\n    + TABLE_BJJ + \"(\" + COLUMN_ID + \" INTEGER PRIMARY KEY AUTOINCREMENT, \"\n    + BJJ_HISTORY_MOVE + \" TEXT NOT NULL, \" + BJJ_HISTORY_MOVECOUNT + \" INTEGER NOT NULL, \"\n    + BJJ_HISTORY_PERFORMEDBY + \" TEXT NOT NULL, \" + BJJ_HISTORY_PERFORMEDTO\n    + \" TEXT NOT NULL, \" + DATE + \" datetime NOT NULL, \" + UPLOADED\n    + \" INTEGER NOT NULL DEFAULT 0);\";\n</code></pre>\n\n<p>this results in something like this once data gets recorded:\n<img src=\"http://i.stack.imgur.com/RzkGn.png\" alt=\"tablerow\"></p>\n\n<p>for the history page though, I need to somehow group all moves performed by date into one row with a sum of the number of moves performed, as in the screenshot below:</p>\n\n<p><img src=\"http://i.stack.imgur.com/oqaW4.png\" alt=\"sample screen\"></p>\n\n<p><strong>What I was thinking might work would be to populate an array with the results of a</strong> <a href=\"http://stackoverflow.com/questions/7403224/android-sqlite-how-to-select-distinct-valuse-from-1-column-in-table\">SELECT DISTINCT STATEMENT</a> <strong>then filling an array with the results like so:</strong></p>\n\n<pre><code>String query =\"SELECT DISTINCT Date FROM BJJHistory\";\nArrayList&lt;String&gt; dateList = new ArrayList&lt;String&gt;();\nSimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\nCursor  cursor = database.rawQuery(query,null);\nif (cursor != null) {\n    cursor.moveToFirst();\n    if (!cursor.isAfterLast())\n    {\n         do\n         {\n              String datestr = sdf.format(new Date(cursor.getString(0))); \n              dateList.add(datestr);\n         }\n         while (cursor.moveToNext());\n    }\n\n}\nreturn cursor;\n</code></pre>\n\n<p><strong>I have a custom class to hold the results:</strong></p>\n\n<pre><code>Public class History {\npublic String numMoves;\npublic String date;\n\npublic History() {\n    super();\n}\n\npublic History(final String numMoves, final String date) {\n    super();\n    this.numMoves = numMoves;\n    this.date = date;\n    }\n}\n</code></pre>\n\n<p><strong>Afterward, using the array to then create cursors to pull data back as such:</strong></p>\n\n<pre><code>final ArrayList&lt;History&gt; BJJHistory = new ArrayList&lt;History&gt;();\nfor (int i = 0; dateList.size(); i++) {\n    final Cursor cursor = db.rawQuery(\"SELECT COUNT(*) FROM BJJHistory WHERE Date LIKE '\" + dateList(i).toString() + \"%'\") &gt; 0, null); \n    if (cursor != null) {\n        cursor.moveToFirst();\n\n        BJJHistory.add(new History(cursor.getString(0).toString(),dateList[i].toString())) \n    }\n</code></pre>\n\n<p><em>lot of typing</em></p>\n\n<p>Finally, using an array adapter to fill the listview with the resulting arraylist of history items.  I would still need to use a way to implement an onclick listener that would query the database for all the items for each date, so the user could see what moves they did that date, but the main listview is more important right now.</p>\n\n<p>As always,  Thanks in advance!</p>\n"},{"tags":["java","sql","android","database","sqlite"],"answer_count":7,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":6313,"score":3,"question_id":4397757,"title":"How can i check to see if my sqlite table has data in it?","body":"<p><strong>EDIT,\nChanged the code slightly based on answers below, but still haven't got it working. I also added a log message to tell me if getCount was returning > 0, and it was, so i supect somthing might be wrong with my query? or my use of the cursor..</strong></p>\n\n<p>I've created a table, and i want to check if its empty or not, if it's empty i want to run some insert statements (that are stored in an array).</p>\n\n<p>Below is my code, while i have no errors, when i pull the .db file out i can see that it doesn't work. How would you approach this problem? </p>\n\n<pre><code>public void onCreate(SQLiteDatabase db) {\n        Log.i(\"DB onCreate\", \"Creating the database...\");//log message\n        db.execSQL(createCATBUDTAB);\n        db.execSQL(createTWOWEETAB);\n        try{\n            Cursor cur = db.rawQuery(\"SELECT COUNT(*) FROM CAT_BUD_TAB\", null);\n        if (cur.getCount() &gt; 0){\n            Log.i(\"DB getCount\", \" getcount greater than 0\");//log message\n            //do nothing everything's as it should be\n        }\n        else{//put in these insert statements contained in the array\n            Log.i(\"DB getCount\", \" getcount less than 0, should read array\");//log message\n            for(int i=0; i&lt;13; i++){\n                db.execSQL(catInsertArray[i]);\n            }\n        }\n        }catch(SQLiteException e){System.err.println(\"Exception @ rawQuery: \" + e.getMessage());}\n    }\n</code></pre>\n\n<p>Sorry if this is a pretty stupid question or approach, i'm new to all this. Any answers much appreciated!</p>\n"},{"tags":["android","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":29,"score":1,"question_id":12772548,"title":"cant added items to db on android","body":"<p>I am trying to add the items to my db, but cant understand  why its added more than I wrote to add, and why its not dropping the wanted table because the count of CursorDb.getCount() always grow up .</p>\n\n<p>the general code:</p>\n\n<pre><code>DBAdapter dbAdper=new DBAdapter(this);\n        dbAdper.open();\n        Cursor CursorDb =dbAdper.getAllTitles();\n\n        //dbAdper.dropTable();\n        dbAdper.insertTitle(\"rsstitle\", \"here need to be link\");\n        dbAdper.insertTitle(\"rsstitle2\", \"here need to be link2\");\n        dbAdper.insertTitle(\"rsstitle3\", \"here need to be link3\");\n\n        int n=CursorDb.getCount();\n        do\n        {\n            String s= CursorDb.getString(CursorDb.getColumnIndex(\"RssTitle\"));\n            list.add(s);\n\n        }while(CursorDb.moveToNext());\n        CursorDb.close();\n</code></pre>\n\n<p>and the class of db</p>\n\n<pre><code>public class DBAdapter {\n\n    private static final int DATABASE_VERSION = 1;\n\n    private static final String DATABASE_CREATE =\n            \"create table titles (_id integer primary key autoincrement, \"\n                    + \"link text not null, RssTitle text not null);\";\n\n    private final Context context; \n\n    private DatabaseHelper DBHelper;\n    private SQLiteDatabase db;\n\n    public DBAdapter(Context ctx) \n    {\n        this.context = ctx;\n        DBHelper = new DatabaseHelper(context);\n    }\n\n    private static class DatabaseHelper extends SQLiteOpenHelper \n    {\n        DatabaseHelper(Context context) \n        {\n            super(context, DATABASE_NAME, null, DATABASE_VERSION);\n        }\n\n        @Override\n        public void onCreate(SQLiteDatabase db) \n        {\n            db.execSQL(DATABASE_CREATE);\n        }\n\npublic void dropTable() throws SQLException \n    {\n        //DROP TABLE IF EXISTS mydatabase.myTable\n        db.execSQL(\"DROP TABLE IF EXISTS \"+DATABASE_NAME+\".\"+DATABASE_TABLE);\n    }\n//---insert a title into the database---\npublic long insertTitle(String insertLink, String title) \n{\n    ContentValues initialValues = new ContentValues();\n    initialValues.put(link, insertLink);\n    initialValues.put(RssTitle, title);\n\n    return db.insert(DATABASE_TABLE, null, initialValues);\n}\n\n//---retrieves all the titles---\npublic Cursor getAllTitles() \n{\n    return db.query(DATABASE_TABLE, new String[] {\n            KEY_ROWID, \n            link,\n            RssTitle,\n    }, \n    null, \n    null, \n    null, \n    null,\n    null\n            );\n}\n</code></pre>\n"},{"tags":["ios","sqlite","core-data"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":56,"score":1,"question_id":12851436,"title":"Troubleshoot Core Data Deadlocks?","body":"<p>I have an iOS app that pulls user data down from a web service and saves it to a sqlite backed core data store.  While this is also going on I'm taking the url for the user's avatar and saving the image locally into core data as the download of each image becomes available.</p>\n\n<p>Each of these are performed on their own thread with their own managed object context but with the same shared persistent store coordinator.</p>\n\n<p>When there are just a few items being pulled down, this works great, but as we approach 100 items or so I get frequent deadlocks on the initial load of data.  When I pause the debugger I see the different threads usually both waiting on an executeFetchRequest.</p>\n\n<p>I turned on the sql debug in my scheme and according to the console output the fetches complete, but the threads never continue.</p>\n\n<p>What else can I use or look at to examine why these are deadlocking or how I can prevent these deadlocks from occurring?</p>\n"},{"tags":["android","database","sqlite","data"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":221,"score":-2,"question_id":12298835,"title":"How to retrieve data from sqlite database in android and display it in TextView","body":"<p>I learn Android. I have problem with and can't solve it. I want to retrieve data from existing database and display it in TextView after click button. </p>\n\n<p>My code DataBaseHelper looks like this:</p>\n\n<pre><code>public class DataBaseHelper extends SQLiteOpenHelper {\n\n            //The Android's default system path of your application database.    \n            private static String DB_PATH = \"/data/data/in.ekonomia.android/databases/\";     \n            private static String DB_NAME = \"cytaty\";     \n            private SQLiteDatabase myDataBase;      \n            private final Context myContext;     \n\n        /**     * Constructor     * Takes and keeps a reference of the passed context in order to access to the application assets and resources.     * @param context     */    \n    public DataBaseHelper(Context context) \n    {       \n        super(context, DB_NAME, null, 1);        \n        this.myContext = context;    \n\n    }      \n    /**     * Creates a empty database on the system and rewrites it with your own database.     * */    \n    public void createDataBase() throws IOException\n    {       \n        boolean dbExist = checkDataBase();      \n        if(dbExist){            \n            //do nothing - database already exist       \n            }else{          \n                //By calling this method and empty database will be created into the default system path               \n                //of your application so we are gonna be able to overwrite that database with our database.         \n                this.getReadableDatabase();             \n                try \n                {               \n                    copyDataBase();             \n                    } catch (IOException e) \n                    {               \n                        throw new Error(\"Error copying database\");          \n                        }       \n                }     \n        }     \n    /**     * Check if the database already exist to avoid re-copying the file each time you open the application.     * @return true if it exists, false if it doesn't     */    \n    private boolean checkDataBase()\n    {       SQLiteDatabase checkDB = null;      \n    try \n    {           \n        String myPath = DB_PATH + DB_NAME;          \n        checkDB = SQLiteDatabase.openDatabase(myPath, null, SQLiteDatabase.OPEN_READONLY);      \n        }catch (SQLiteException e)\n        {           \n            //database does't exist yet.        \n            }       \n    if(checkDB != null)\n    {           \n        checkDB.close();        \n        }       \n    return checkDB != null ? true : false;    \n    }     \n    /**     * Copies your database from your local assets-folder to the just created empty database in the     * system folder, from where it can be accessed and handled.     * This is done by transfering bytestream.     * */    \n    private void copyDataBase() throws IOException\n    {       \n        //Open your local db as the input stream        \n        InputStream myInput = myContext.getAssets().open(DB_NAME);      \n        // Path to the just created empty db        \n        String outFileName = DB_PATH + DB_NAME;         \n        //Open the empty db as the output stream        \n        OutputStream myOutput = new FileOutputStream(outFileName);      \n        //transfer bytes from the inputfile to the outputfile       \n        byte[] buffer = new byte[1024];     \n        int length;     \n        while ((length = myInput.read(buffer))&gt;0)\n        {           \n            myOutput.write(buffer, 0, length);      \n            }       \n        //Close the streams     \n        myOutput.flush();       \n        myOutput.close();       \n        myInput.close();     \n        }     \n    public void openDataBase() throws SQLException {        \n        //Open the database       \n        String myPath = DB_PATH + DB_NAME;      \n        myDataBase = SQLiteDatabase.openDatabase(myPath, null, SQLiteDatabase.OPEN_READONLY);     \n        }     \n    @Override   \n        public synchronized void close() \n    {           \n        if(myDataBase != null)              \n        myDataBase.close();             \n    super.close();  \n    }   \n    @Override   \n    public void onCreate(SQLiteDatabase db) \n    {   }   \n    @Override   \n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {  }         \n    // Add your public helper methods to access and get content from the database.       \n    // You could return cursors by doing \"return myDataBase.query(....)\" so it'd be easy       \n    // to you to create adapters for your views. \n\n    }\n</code></pre>\n\n<p>Cytaty.java looks like this:</p>\n\n<pre><code>package in.ekonomia.android;\n\nimport android.app.Activity;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\n\n\npublic class cytaty extends Activity {\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        // TODO Auto-generated method stub\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.galeria);\n\n\n        Button bLosuj = (Button) findViewById(R.id.button1);\n        bLosuj.setOnClickListener(new View.OnClickListener() {\n\n            public void onClick(View v) {\n                // TODO Auto-generated method stub\n\n            }\n            });\n        }\n\n}\n</code></pre>\n\n<hr>\n\n<p>I do as above and eclipse shows me errors. </p>\n\n<p>Database name: cytaty\nname of table: cytaty\ncolumns: _id, autor, cytat </p>\n\n<p>My code is: </p>\n\n<pre><code>public void getData() {\n    public String[] getAppCategorydetail() {\n        String Table_Name=\"cytaty\";\n\n        String selectQuery = \"SELECT  * FROM \" + Table_Name;\n              SQLiteDatabase db = this.getReadableDatabase();\n        Cursor cursor = db.rawQuery(selectQuery, null);\n                 String[] data = null;\n        if (cursor.moveToFirst()) {\n            do {\n               // get  the  data into array,or class variable\n            } while (cursor.moveToNext());\n        }\n        db.close();\n        return data;\n    }\n\n}\n</code></pre>\n\n<p>And: </p>\n\n<pre><code>Button bLosuj = (Button) findViewById(R.id.button1);\n    bLosuj.setOnClickListener(new View.OnClickListener() {\n\n        public void onClick(View v) {\n            // TODO Auto-generated method stub\n            DataBaseHelper myDataBaseHelper = new DataBaseHelper(cytaty.this);\n               myDataBaseHelper.openDataBase();\n                String text= myDataBaseHelper.getData();//this is the method to query\n               myDataBaseHelper.close(); \n            // set text to your TextView \n            TextView tekst = (TextView) findViewById(R.id.editText1);\n            tekst.setText(text);\n        }\n        });\n    }\n</code></pre>\n\n<p>What am I doing wrong? \nI want retrieve data from database and show in TextView after click button</p>\n"},{"tags":["java","android","query","sqlite","datetime"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":101,"score":0,"question_id":12857173,"title":"Sqlite query using dates as text in android?","body":"<p>I have an app tha has in a sqlite database some measures.</p>\n\n<p>From an activity(Email Activity) the user selects which data will be sent to doctor's email(the data of last 1/7/30 days).</p>\n\n<p><img src=\"http://i.stack.imgur.com/7imZD.png\" alt=\"enter image description here\"></p>\n\n<p>This is the code of this activity:</p>\n\n<pre><code>import com.oikonomopo.blood.pressure.tracker.dao.BpDAO;\n\n...\n\npublic class EmailActivity extends Activity implements OnItemSelectedListener {\n\n    Spinner spinner;\n    String[] measures = { \"today\", \"7 days\", \"30 days\" };\n\n    private Calendar theStart;\n    private Calendar theEnd;\n    SimpleDateFormat dateFormat;\n    String start;\n    String end;\n\n    //this refers to another class for the manipulate of my table\n    private BpDAO dao = null;\n\n    private Button sendEmailBtn;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.email);\n\n        // ////////////////////////////////////\n        theEnd = Calendar.getInstance();\n        theStart = (Calendar) theEnd.clone();\n        dateFormat = new SimpleDateFormat(\"yyyy-MM-dd HH:mm\");\n        // //////////////////////////////////\n\n        ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(\n                EmailActivity.this, android.R.layout.simple_spinner_item,\n                measures);\n\n        sendEmailBtn = (Button) findViewById(R.id.button1);\n        spinner = (Spinner) findViewById(R.id.spinner1);\n        spinner.setAdapter(adapter);\n        spinner.setOnItemSelectedListener(this);\n\n        // BpDao - refers to my table - see later\n        dao = new BpDAO(this);\n\n        // add a click listener to the button\n        sendEmailBtn.setOnClickListener(new View.OnClickListener() {\n            public void onClick(View v) {\n/////////////////////////////////////////////////////////////////////////////////////////\n                Log.d(\"BPT\", \"before\"); // it works untill here\n                Cursor bpLastDaysList = dao.lastXdays_bp(start, end);\n                Log.d(\"BPT\", \"after\"); //doesn't reach the code here!!\n/////////////////////////////////////////////////////////////////////////////////////////\n            }\n        });\n    }\n\n    @Override\n    protected void onDestroy() {\n        super.onDestroy();\n        dao.close();\n    }\n\n    public void onItemSelected(AdapterView&lt;?&gt; arg0, View arg1, int arg2,\n            long arg3) {\n        int position = spinner.getSelectedItemPosition();\n        switch (position) {\n\n                // last day\n        case 0:\n            theStart.add(Calendar.DAY_OF_MONTH, -1);\n\n            // date boundaries in TEXT format\n            start = dateFormat.format(theStart.getTime());\n            end = dateFormat.format(theEnd.getTime());\n            //\n            break;\n\n        // last 7 days\n        case 1:\n            theStart.add(Calendar.DAY_OF_MONTH, -7);\n\n            // date boundaries in TEXT format\n            start = dateFormat.format(theStart.getTime());\n            end = dateFormat.format(theEnd.getTime());\n            //\n            break;\n\n        // last 30 days\n        case 2:\n            theStart.add(Calendar.DAY_OF_MONTH, -30);\n\n            // date boundaries in TEXT format\n            start = dateFormat.format(theStart.getTime());\n            end = dateFormat.format(theEnd.getTime());\n            //\n            break;\n        }\n    }\n\n}\n</code></pre>\n\n<p>But it gives me this <strong>logcat error</strong>:</p>\n\n<pre><code>    FATAL EXCEPTION: main\nandroid.database.sqlite.SQLiteException: near \"09\": syntax error: , while compiling: SELECT DISTINCT systolic, diastolic, datetime, _id, notes, pulses FROM bp_import WHERE datetime BETWEEN 2012-10-12 09:44 AND 2012-10-12 09:44 ORDER BY datetime DESC\nat android.database.sqlite.SQLiteCompiledSql.native_compile(Native Method)\n...\nat android.database.sqlite.SQLiteDatabase.query(SQLiteDatabase.java:1405)\nat com.oikonomopo.blood.pressure.tracker.dao.BpDAO.lastXdays_bp(BpDAO.java:76)\nat com.oikonomopo.blood.pressure.tracker.EmailActivity$1.onClick(EmailActivity.java:70)\n</code></pre>\n\n<p><strong>android.database.sqlite.SQLiteException: near \"09\": syntax error: , while compiling: SELECT DISTINCT systolic, diastolic, datetime, _id, notes, pulses FROM bp_import WHERE datetime BETWEEN 2012-10-12 09:44 AND 2012-10-12 09:44 ORDER BY datetime DESC</strong></p>\n\n<hr>\n\n<p>The code for the function of the BpDAO class is :</p>\n\n<pre><code>    public class BpDAO {\n        private DatabaseHelper_bp dbHelper;\n        private SQLiteDatabase database;\n        /**\n         * Movie table related constants.\n         */\n        public final static String bp_TABLE = \"bp_import\";\n        public final static String bp_ID = \"_id\";\n        public final static String bp_DT = \"datetime\";\n        public final static String bp_SYS = \"systolic\";\n        public final static String bp_DIA = \"diastolic\";\n        public final static String bp_PUL = \"pulses\";\n        public final static String bp_NOT = \"notes\";\n\n        public BpDAO(Context context) {\n            dbHelper = new DatabaseHelper_bp(context);\n            database = dbHelper.getWritableDatabase();\n        }\n\n        /**\n         * \\ Creates a new blood pressure measure\n         * \n         * @param datetime\n         * @param systolic\n         * @param diastolic\n         * @param pulses\n         * @param notes\n         * @return\n         */\n        public long importBP(String datetime, String systolic, String diastolic,\n                String pulses, String notes) {\n            ContentValues values = new ContentValues();\n            values.put(bp_DT, datetime);\n            values.put(bp_SYS, systolic);\n            values.put(bp_DIA, diastolic);\n            values.put(bp_PUL, pulses);\n            values.put(bp_NOT, notes);\n            return database.insert(bp_TABLE, null, values);\n        }\n\n    // this is working perfect\n        /**\n         * Fetch all bps sorted DESCending\n         * @return\n         */\n        public Cursor fetchAll_bp() {\n            Cursor mCursor = database.query(true, bp_TABLE, new String[] { bp_SYS,\n                    bp_DIA, bp_DT, bp_ID, bp_NOT, bp_PUL }, null, null, null, null,\n                    bp_DT + \" DESC\", null);\n            if (mCursor != null) {\n                mCursor.moveToFirst();\n            }\n            return mCursor;\n        }\n    // here is the problem!\n        /**\n         * Fetch all bps sorted DESCending by date(yyyy-mm-dd hh:mm) of last\n         * X[1-7-30] days\n         * @return\n         */\n        public Cursor lastXdays_bp(String start, String end) {\n            Cursor mCursor = database.query(true, bp_TABLE, new String[] { bp_SYS,\n                    bp_DIA, bp_DT, bp_ID, bp_NOT, bp_PUL }, \"datetime BETWEEN \"\n                    + start + \" AND \" + end, null, null, null, bp_DT + \" DESC\",\n                    null);\n            if (mCursor != null) {\n                mCursor.moveToFirst();\n            }\n            return mCursor;\n        }\n//\n        public void close() {\n            database.close();\n        }\n    }\n</code></pre>\n\n<p>And the code of the DatabaseHelper_bp(extends SQLiteOpenHelper) is :</p>\n\n<pre><code>    public class DatabaseHelper_bp extends SQLiteOpenHelper {\n\n    private static final String DATABASE_NAME = \"bpDB\";\n    private static final int DATABASE_VERSION = 1;\n\n    // Database creation sql statement\n    private static final String DATABASE_CREATE = \"create table bp_import ( _id integer primary key, datetime text not null, systolic text not null, diastolic text not null, pulses text not null, notes text not null);\";\n\n    public DatabaseHelper_bp(Context context) {\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\n    }\n\n    // Method is called during creation of the database\n    @Override\n    public void onCreate(SQLiteDatabase database) {\n        database.execSQL(DATABASE_CREATE);\n    }\n\n    // Method is called during an upgrade of the database,\n    @Override\n    public void onUpgrade(SQLiteDatabase database, int oldVersion,\n            int newVersion) {\n        Log.w(DatabaseHelper_bp.class.getName(),\n                \"Upgrading database from version \" + oldVersion + \" to \"\n                        + newVersion + \", which will destroy all old data\");\n        database.execSQL(\"DROP TABLE IF EXISTS bp_import\");\n        onCreate(database);\n    }\n}\n</code></pre>\n\n<p>I save the datetime as text in sqlite. (2012-10-12 09:43)</p>\n"},{"tags":["android","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":71,"score":1,"question_id":12854558,"title":"getWritableDatabase() error","body":"<p>I want to store some data when mobile is not in covered area. and when service came back it will upload data on the server. but data is not inserting. i`ve checked many tutorail on net. but same all the time. app close unexpecdately.</p>\n\n<p><b>LogCat error</b></p>\n\n<pre><code>        10-12 12:08:54.754: E/Service Example(1374): Service Started.. \n        10-12 12:08:54.814: E/AndroidRuntime(1374): FATAL EXCEPTION: main\n        10-12 12:08:54.814: E/AndroidRuntime(1374): java.lang.RuntimeException: Unable    create service com.remote.synchronizer.haris.OfflineDataService:  java.lang.NullPointerException\n        10-12 12:08:54.814: E/AndroidRuntime(1374):     at android.app.ActivityThread.handleCreateService(ActivityThread.java:1955)\n        10-12 12:08:54.814: E/AndroidRuntime(1374):     at android.app.ActivityThread.access$2500(ActivityThread.java:117)\n        10-12 12:08:54.814: E/AndroidRuntime(1374):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:985)\n        10-12 12:08:54.814: E/AndroidRuntime(1374):     at android.os.Handler.dispatchMessage(Handler.java:99)\n        10-12 12:08:54.814: E/AndroidRuntime(1374):     at android.os.Looper.loop(Looper.java:123)\n        10-12 12:08:54.814: E/AndroidRuntime(1374):     at android.app.ActivityThread.main(ActivityThread.java:3683)\n        10-12 12:08:54.814: E/AndroidRuntime(1374):     at java.lang.reflect.Method.invokeNative(Native Method)\n        10-12 12:08:54.814: E/AndroidRuntime(1374):     at java.lang.reflect.Method.invoke(Method.java:507)\n        10-12 12:08:54.814: E/AndroidRuntime(1374):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)\n        10-12 12:08:54.814: E/AndroidRuntime(1374):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)\n        10-12 12:08:54.814: E/AndroidRuntime(1374):     at dalvik.system.NativeStart.main(Native Method)\n        10-12 12:08:54.814: E/AndroidRuntime(1374): Caused by: java.lang.NullPointerException\n        10-12 12:08:54.814: E/AndroidRuntime(1374):     at com.remote.synchronizer.haris.SQLiteAdapter.Write(SQLiteAdapter.java:59)\n        10-12 12:08:54.814: E/AndroidRuntime(1374):     at com.remote.synchronizer.haris.OfflineDataService.onCreate(OfflineDataService.java:37)\n        10-12 12:08:54.814: E/AndroidRuntime(1374):     at android.app.ActivityThread.handleCreateService(ActivityThread.java:1945)\n        10-12 12:08:54.814: E/AndroidRuntime(1374):     ... 10 more\n</code></pre>\n\n<p><b>SQLiteAdapter</b></p>\n\n<pre><code>    package com.remote.synchronizer.haris;\n\n    import java.util.ArrayList;\n    import java.util.List;\n    import org.apache.http.NameValuePair;\n    import org.apache.http.message.BasicNameValuePair;\n\n    import android.content.ContentValues;\n    import android.content.Context;\n    import android.database.Cursor;\n    import android.database.sqlite.SQLiteDatabase;\n    import android.database.sqlite.SQLiteOpenHelper;\n    import android.util.Log;\n\n    public class SQLiteAdapter extends SQLiteOpenHelper {\n\n    public static final String DATABASE_NAME = \"Product\";\n    public static final String TABLE_NAME = \"Order\";\n    public static final int DATABASE_VERSION = 1;\n    public static final String KEY_ID = \"_id\";  \n    public static final String KEY_NAME = \"name\";\n    public static final String KEY_SHOP = \"shop\";\n    private static final String KEY_CITY = \"city\";\n    private static final String KEY_DATE = \"date\";\n    private static final String KEY_ORDER = \"order\";\n\n\n    private static final String CREATE_TABLE =\n        \"CREATE TABLE \" + TABLE_NAME + \" (\"\n        + KEY_ID + \" integer primary key autoincrement, \"\n        + KEY_NAME + \" VARCHAR,\"\n        + KEY_SHOP + \" VARCHAR,\" + KEY_CITY + \" VARCHAR, \" + KEY_DATE + \" VARCHAR, \" + KEY_ORDER + \" VARCHAR \" + \");\";\n\n\n    public SQLiteAdapter(Context context) {\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);  \n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        db.execSQL(CREATE_TABLE);   \n    }\n\n    private SQLiteDatabase sqLiteDatabase;\n    private SQLiteAdapter sqLiteHelper;\n\n    /*private Context context;\n\n    public SQLiteAdapter(Context c){\n        context = c;\n    }\n    */\n    public void Read() throws android.database.SQLException {\n        sqLiteDatabase = sqLiteHelper.getReadableDatabase();        \n    }\n\n    public void Write() throws android.database.SQLException {\n        sqLiteDatabase = sqLiteHelper.getWritableDatabase();    \n    }\n\n    public void close(){\n        sqLiteHelper.close();\n    }\n\n    public long insert(String name, String shop, String city, String date, String order){\n\n        ContentValues contentValues = new ContentValues();\n        contentValues.put(KEY_NAME, name);\n        contentValues.put(KEY_SHOP, shop);\n        contentValues.put(KEY_SHOP, city);\n        contentValues.put(KEY_DATE, date);\n        contentValues.put(KEY_ORDER, order);\n        return sqLiteDatabase.insert(TABLE_NAME, null, contentValues);\n    }\n\n    public int deleteAll(){\n        return sqLiteDatabase.delete(TABLE_NAME, null, null);\n    }\n\n    /*public void delete_byID(int id){\n        sqLiteDatabase.delete(TABLE_NAME, KEY_ID+\"=\"+id, null);\n    }\n\n    public Cursor queueAll(){\n        String[] columns = new String[]{KEY_ID, KEY_NAME, KEY_SHOP, KEY_CITY,  KEY_DATE, KEY_ORDER};\n        Cursor cursor = sqLiteDatabase.query(TABLE_NAME, columns, \n                null, null, null, null, null);\n\n        return cursor;\n    }*/\n\n    public List&lt;NameValuePair&gt; getAllContacts() {\n        List&lt;NameValuePair&gt; postParameters = new ArrayList&lt;NameValuePair&gt;();\n\n        String selectQuery = \"SELECT  * FROM \" + TABLE_NAME;\n        Read();\n        Cursor cursor = sqLiteDatabase.rawQuery(selectQuery, null);\n\n        if(cursor.moveToFirst()){\n            while(!cursor.isAfterLast())\n            {\n                postParameters.add(new BasicNameValuePair(\"User\", cursor.getString(cursor.getColumnIndex(KEY_NAME))));\n                postParameters.add(new BasicNameValuePair(\"ShopName\", cursor.getString(cursor.getColumnIndex(KEY_SHOP))));\n                postParameters.add(new BasicNameValuePair(\"city\", cursor.getString(cursor.getColumnIndex(KEY_CITY))));\n                postParameters.add(new BasicNameValuePair(\"OrderDate\", cursor.getString(cursor.getColumnIndex(KEY_DATE))));\n                postParameters.add(new BasicNameValuePair(\"OrderDetail\", cursor.getString(cursor.getColumnIndex(KEY_ORDER))));\n                cursor.moveToNext();\n            }\n\n        }\n        cursor.close();\n        return postParameters;\n\n    };\n\n\n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n        Log.w(SQLiteAdapter.class.getName(),\n                \"Upgrading database from version \" + oldVersion + \" to \"\n                    + newVersion + \", which will destroy all old data\");\n            db.execSQL(\"DROP TABLE IF EXISTS \" + CREATE_TABLE);\n            onCreate(db);\n    }\n\n}\n</code></pre>\n\n<p><b>OfflineDataService.java</b></p>\n\n<pre><code>    package com.remote.synchronizer.haris;\n\n    import java.util.ArrayList;\n    import java.util.List;\n    import java.util.Timer;\n    import java.util.TimerTask;\n    import org.apache.http.NameValuePair;\n\n    import android.app.IntentService;\n    import android.content.Intent;\n    import android.database.Cursor;\n    import android.database.sqlite.SQLiteDatabase;\n    import android.os.Bundle;\n    import android.util.Log;\n    import android.widget.Toast;\n\n    public class OfflineDataService extends IntentService {\n\n    boolean wifi,edge;\n    private Timer timer= new Timer();\n    SQLiteDatabase db;\n    String un,shop,city,date,order;\n    private SQLiteAdapter mySQLiteAdapter;\n    Cursor cursor;\n\n    public OfflineDataService() {\n        super(\"OfflineDataService\");\n    }\n\n    @Override   \n    public void onCreate() {\n\n        super.onCreate();\n        Log.e(\"Service Example\", \"Service Started.. \");\n\n         mySQLiteAdapter = new SQLiteAdapter(this);\n         mySQLiteAdapter.Write();\n\n}   \n\n    @Override\n    protected void onHandleIntent(Intent intent) {\n\n        Bundle bundle=intent.getExtras();\n        un=bundle.getString(\"un\");\n        shop=bundle.getString(\"shop\");\n        city=bundle.getString(\"city\");\n        date=bundle.getString(\"date\");\n        order=bundle.getString(\"order\");\n\n        Log.e(\"Service Started\", \"Successful\");\n\n        //Inserting New Record\n        mySQLiteAdapter.insert(un,shop,city,date,order);\n\n\n        timer.scheduleAtFixedRate(new TimerTask(){\n\n            @Override\n            public void run() {\n\n                //Checking network connectivity\n                   wifi=NetworkInfo.Wifi(OfflineDataService.this);\n                   edge=NetworkInfo.EDGE(OfflineDataService.this);\n\n                       if(wifi==true||edge==true)\n                       {\n                           DataSender();\n                       }\n                       else\n                       {\n                           //Toast toast=Toast.makeText(getApplicationContext(), \"Testing\", toast.LENGTH_LONG).show();\n                       }\n            }\n\n        }, 1000, 5000);\n\n\n    }\n\n    /*@Override\n    public void onDestroy() {\n\n        super.onDestroy();\n        Log.e(\"Service Example\", \"Service Destroyed.. \");\n        mySQLiteAdapter.deleteAll();\n\n\n    }*/\n\n    private void DataSender()\n    {\n        timer.cancel();\n\n        List&lt;NameValuePair&gt; contacts=new ArrayList&lt;NameValuePair&gt;();\n\n        contacts=mySQLiteAdapter.getAllContacts();\n\n         String url=\"http://10.0.2.2:3325/Product/Create?\"; \n\n         int response = 0;\n\n            try \n            {\n                response = CustomHttpClient.executeHttpPost(url, contacts);\n\n                if(response==200)\n                {\n                    //notification\n                }\n\n                else{}\n                    //error.setText(\"Sorry!! Try again later.\\n Response Code: \"+ response);\n            }\n            catch (Exception e)\n            {\n                e.printStackTrace();\n            //  error.setText(e.toString());\n            }\n    }\n\n}\n</code></pre>\n\n<p>What's wrong with my code?</p>\n\n<p><b>New Error in log cat</b></p>\n\n<pre><code>10-12 14:57:00.424: E/Service Example(1494): Service Started.. \n10-12 14:57:00.664: E/Database(1494): Failure 1 (near \"Order\": syntax error) on 0x5b7638 when preparing 'CREATE TABLE Order (_id integer primary key autoincrement, name VARCHAR,shop VARCHAR,city VARCHAR, date VARCHAR, order VARCHAR );'.\n10-12 14:57:00.764: E/AndroidRuntime(1494): FATAL EXCEPTION: main\n10-12 14:57:00.764: E/AndroidRuntime(1494): java.lang.RuntimeException: Unable to create service com.remote.synchronizer.haris.OfflineDataService: android.database.sqlite.SQLiteException: near \"Order\": syntax error: CREATE TABLE Order (_id integer primary key autoincrement, name VARCHAR,shop VARCHAR,city VARCHAR, date VARCHAR, order VARCHAR );\n10-12 14:57:00.764: E/AndroidRuntime(1494):     at android.app.ActivityThread.handleCreateService(ActivityThread.java:1955)\n10-12 14:57:00.764: E/AndroidRuntime(1494):     at android.app.ActivityThread.access$2500(ActivityThread.java:117)\n10-12 14:57:00.764: E/AndroidRuntime(1494):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:985)\n10-12 14:57:00.764: E/AndroidRuntime(1494):     at android.os.Handler.dispatchMessage(Handler.java:99)\n10-12 14:57:00.764: E/AndroidRuntime(1494):     at android.os.Looper.loop(Looper.java:123)\n10-12 14:57:00.764: E/AndroidRuntime(1494):     at android.app.ActivityThread.main(ActivityThread.java:3683)\n10-12 14:57:00.764: E/AndroidRuntime(1494):     at java.lang.reflect.Method.invokeNative(Native Method)\n10-12 14:57:00.764: E/AndroidRuntime(1494):     at java.lang.reflect.Method.invoke(Method.java:507)\n10-12 14:57:00.764: E/AndroidRuntime(1494):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)\n10-12 14:57:00.764: E/AndroidRuntime(1494):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)\n10-12 14:57:00.764: E/AndroidRuntime(1494):     at dalvik.system.NativeStart.main(Native Method)\n10-12 14:57:00.764: E/AndroidRuntime(1494): Caused by: android.database.sqlite.SQLiteException: near \"Order\": syntax error: CREATE TABLE Order (_id integer primary key autoincrement, name VARCHAR,shop VARCHAR,city VARCHAR, date VARCHAR, order VARCHAR );\n10-12 14:57:00.764: E/AndroidRuntime(1494):     at android.database.sqlite.SQLiteDatabase.native_execSQL(Native Method)\n10-12 14:57:00.764: E/AndroidRuntime(1494):     at android.database.sqlite.SQLiteDatabase.execSQL(SQLiteDatabase.java:1763)\n10-12 14:57:00.764: E/AndroidRuntime(1494):     at com.remote.synchronizer.haris.SQLiteAdapter.onCreate(SQLiteAdapter.java:42)\n10-12 14:57:00.764: E/AndroidRuntime(1494):     at android.database.sqlite.SQLiteOpenHelper.getWritableDatabase(SQLiteOpenHelper.java:126)\n10-12 14:57:00.764: E/AndroidRuntime(1494):     at com.remote.synchronizer.haris.SQLiteAdapter.Write(SQLiteAdapter.java:59)\n10-12 14:57:00.764: E/AndroidRuntime(1494):     at com.remote.synchronizer.haris.OfflineDataService.onCreate(OfflineDataService.java:37)\n10-12 14:57:00.764: E/AndroidRuntime(1494):     at android.app.ActivityThread.handleCreateService(ActivityThread.java:1945)\n10-12 14:57:00.764: E/AndroidRuntime(1494):     ... 10 more\n</code></pre>\n"},{"tags":["android","sqlite","uri"],"answer_count":1,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":755,"score":2,"question_id":4896677,"title":"Android- URI of a Created SQLite Database","body":"<p>I created a database in Android using below line of code-</p>\n\n<p>SQLiteDatabase sampleDB = this.openOrCreateDatabase(\"SAMPLE_DB_NAME\",\n                MODE_PRIVATE, null);</p>\n\n<p>Now, i want to know what would be the Uri for this database or how to find the Uri of the created database.Please help me out.</p>\n\n<p>Thanks in Advance\nManoj</p>\n"},{"tags":["sql","database","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":85,"score":1,"question_id":12855496,"title":"Find matching column data between two rows in the same table","body":"<p>I want to find the matching value between two rows in the same sqlite table. For example, if I have the following table:</p>\n\n<pre><code>rowid, col1, col2, col3\n-----  ----  ----  ----\n1      5     3     1    \n2      3     6     9    \n3      9     12    5\n</code></pre>\n\n<p>So comparing row 1 and 2, I get the value 3.</p>\n\n<ul>\n<li>Row 2 and 3 will give 9.</li>\n<li>Row 3 and 1 will give 5.</li>\n</ul>\n\n<p>There will always be one and only one matching value between any two rows in the table.</p>\n\n<p>What it the correct sqlite query for this?</p>\n"},{"tags":["android","query","sqlite","sqliteopenhelper","android-sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":90,"score":1,"question_id":11283290,"title":"querying my database using cursor","body":"<p>I have a database set up and I know I am inserting to it correctly.  I am, however, having difficulty returning any data from it through a query.  This is my main class and database helper class.</p>\n\n<pre><code>public class DBTesterActivity extends Activity {\n\nMyDBAdapter db;\nCursor cursor;\n\n/** Called when the activity is first created. */\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    Item item1;\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.main);\n\n\n    db = new MyDBAdapter(this);\n    db.open();\n    db.insertEntry(item1 = new Item(\"Bathtub\", \"Bathroom\", \"Typical\", \"Clean\", \"fill, wash\", \"Round, deep\", \"Bathroom\", \"Toilet, Bathroom\", R.drawable.ic_launcher));\n    //this.populateDatabase();\n    //Cursor entryCursor = db.getAllEntries();\n    item1 = db.getEntry(1);\n    Log.i(\"db\", item1.toString());\n}\n</code></pre>\n\n<p>and my database adapter class here...</p>\n\n<pre><code>public class MyDBAdapter {\nprivate static final String DATABASE_NAME = \"myDatabase.db\";\nprivate static final String DATABASE_TABLE = \"mainTable\";\nprivate static final int DATABASE_VERSION = 1;\n\n//main table columns\npublic static final String KEY_ITEM              = \"itemName\";\npublic static final String KEY_GROUP             = \"itemGroup\";\npublic static final String ITEM_CLASSIFICATION   = \"classification\";\npublic static final String KEY_USE               = \"use\";\npublic static final String KEY_ACTION            = \"action\";\npublic static final String KEY_PROPERTIES        = \"properties\";\npublic static final String KEY_ASSOCIATION       = \"association\";\npublic static final String KEY_IMG_ID            = \"imgId\";\n\n// The index (key) column name for use in where clauses.\npublic static final String KEY_ID=\"_id\";\n\n// The name and column index of each column in your database.\npublic static final int NAME_COLUMN = 1;\npublic static final int GROUP_COLUMN = 2;\npublic static final int CLASSIFICATION_COLUMN = 3;\npublic static final int USE_COLUMN = 4;\npublic static final int ACTION_COLUMN = 5;\npublic static final int PROPERTIES_COLUMN = 6;\npublic static final int ASSOCIATION_COLUMN = 7;\npublic static final int IMG_ID_COLUMN = 8;\n// TODO: Create public field for each column in your table.\n\n// SQL Statement to create a new database.\nprivate static final String DATABASE_CREATE = \"create table \" + \n        DATABASE_TABLE + \" (\" \n        + KEY_ID + \" integer primary key autoincrement, \" \n        + KEY_ITEM + \" TEXT, \" \n        + KEY_GROUP + \" TEXT, \" \n        + ITEM_CLASSIFICATION + \" TEXT, \" \n        + KEY_USE + \" TEXT, \" \n        + KEY_ACTION + \" TEXT, \" \n        + KEY_PROPERTIES + \" TEXT, \" \n        + KEY_ASSOCIATION + \" TEXT, \" \n        + KEY_IMG_ID + \" INTEGER);\";\n\n// Variable to hold the database instance\nprivate SQLiteDatabase db;\n// Context of the application using the database.\nprivate final Context context;\n// Database open/upgrade helper\nprivate myDbHelper dbHelper;\n\npublic MyDBAdapter(Context _context) {\n    context = _context;\n    dbHelper = new myDbHelper(context, DATABASE_NAME, null, DATABASE_VERSION);\n}\n\npublic MyDBAdapter open() throws SQLException {\n    try {  \n        db = dbHelper.getWritableDatabase();\n    } catch (SQLiteException e) {\n        db = dbHelper.getReadableDatabase();\n    }\n    return this;\n}\n\npublic void close() {\n    db.close();\n}\n\npublic void insertEntry(Item item) {\n    // TODO: Create a new ContentValues to represent my row\n    // and insert it into the database.\n    SQLiteDatabase db = dbHelper.getWritableDatabase();\n\n    ContentValues values = new ContentValues();\n    values.put(KEY_ITEM, item.get_item_name());\n    values.put(KEY_GROUP, item.get_group());\n    values.put(ITEM_CLASSIFICATION, item.get_item_classification());\n    values.put(KEY_USE, item.get_use());\n    values.put(KEY_ACTION, item.get_action());\n    values.put(KEY_PROPERTIES, item.get_properties());\n    values.put(KEY_ASSOCIATION, item.get_association());\n    values.put(KEY_IMG_ID, item.get_img_id());\n\n    // insert row to table\n    try{\n        db.insertOrThrow(DATABASE_TABLE, null, values);\n        Log.i(\"success\", \"insert was successful\");\n    }catch (Exception e){Log.w(\"insertFail\", \"insert failed: \" + e.toString());}\n\n\n}\n  public Item getEntry(long _rowIndex) {\n// TODO: Return a cursor to a row from the database and\n// use the values to populate an instance of MyObject\n  SQLiteDatabase db = dbHelper.getReadableDatabase();\n\n  Cursor cursor = db.query(false, DATABASE_TABLE, new String[] { KEY_ID,\n          KEY_ITEM, KEY_GROUP, ITEM_CLASSIFICATION, KEY_USE, KEY_ACTION, KEY_PROPERTIES, KEY_ASSOCIATION, KEY_IMG_ID}, KEY_ID + \"=?\",\n          new String[] { String.valueOf(_rowIndex) }, null, null, null, null);\n  if (cursor != null)\n      cursor.moveToFirst();\n\n  Item item = new Item(Integer.parseInt(cursor.getString(0)),\n          cursor.getString(1), cursor.getString(2), cursor.getString(3), cursor.getString(4), cursor.getString(5), cursor.getString(6), cursor.getString(7), cursor.getString(8),  Integer.parseInt(cursor.getString(9)));\n  // return contact\n  return item;\n</code></pre>\n\n<p>}</p>\n\n<p>I am getting these in my logCat ----  Bad request for field slot 0,9. numRows = 1, numColumns = 9<br>\nand                             ----  java.lang.IllegalStateException: get field slot from row 0 col 9 failed</p>\n"},{"tags":["sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":12854547,"title":"I am getting an error when I execute a delete query","body":"<p>I am executing the following query </p>\n\n<pre><code>DELETE FROM List,Tree WHERE List.CatID = Tree.CatID AND List.ID = '1' AND Tree.Cat = '332'\n</code></pre>\n\n<p>but I run into following error</p>\n\n<pre><code>near \",\": syntax error\n</code></pre>\n"},{"tags":["database","android","sqlite"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":2869,"score":0,"question_id":1610903,"title":"Exporting Sqlite data from an Android Application","body":"<p>My Android application stores all user data in a Sqlite database.  What are my options to backup/export/import/copy this data?  I know I can easily copy the database to the SD card.  I would also like to send the data to a network server.  Are there any packages/classes available to facilitate getting sqlite information to/from a network server?  Thanks for the help...</p>\n"},{"tags":["android","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":60,"score":1,"question_id":12851292,"title":"Android how to retrieve previous and last 5 records in sqlite","body":"<p>In Android, I need to know how to <strong>retrieve previous 5 records and last 5 records</strong> of current index in mysql? </p>\n\n<p>I know only how to retrieve <strong>previous 5 records or last 5 records of current index</strong>.</p>\n\n<p>get previous 5 records of current index</p>\n\n<pre><code>Select * from myTable Where myid &lt; 10 order by myid DESC Limit 10\n</code></pre>\n\n<p>get last 5 records of current index</p>\n\n<pre><code>Select * from myTable Where myid &gt; 10 order by myid ASC Limit 10\n</code></pre>\n\n<p>But I don't know how to combine these two statements.</p>\n"},{"tags":["android","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":53,"score":1,"question_id":12851063,"title":"android - unable to parse apparent integers as integers","body":"<p>For an app I am developing for a client, I have a large SQLite database of golf courses that is repopulated with new data as part of versioned updates, namely, new data is added onto the existing records already in the database.</p>\n\n<p>A portion of these updates are a mixture of numeric and text data that are automatically exported as a .txt file with comma delimiters ( but can also be exported as a .rtf, though I would think that .txt would be much easier to work with). An example of such an output .txt file is given <a href=\"http://pastebin.com/CahfrgVk\" rel=\"nofollow\">at this Pastebin link</a>. </p>\n\n<p>The code that handles reading the .txt file in and grabbing each value from each line is</p>\n\n<pre><code>// Insert records from csv file into database\n        BufferedReader reader = new BufferedReader(new InputStreamReader(in_s));\n        try {\n            String line;\n            while ((line = reader.readLine()) != null) {\n                String[] RowData = line.split(\", \");\n                int numEntries = RowData.length;\n                if(numEntries == 5) {\n                    // Course Insertion Row\n                    //                      \"Scenic Hills CC - WHITE\", 70.0, 124, \"Pensacola\", \"FL\"\n                    courseHelper.createCourse(RowData[0], Double.valueOf(RowData[1]), Integer.parseInt(RowData[2]), RowData[3], RowData[4]);\n                    mCurrentLine++;\n                }\n                else {\n                    // Hole Insertion Row\n                    //                      1, 1, 4, 416\n                    holeHelper.createHole(Integer.parseInt(RowData[0]), Integer.parseInt(RowData[1]), Integer.parseInt(RowData[2]), Integer.parseInt(RowData[3]));\n                    mCurrentLine++;\n\n                }                   \n            }\n        }\n</code></pre>\n\n<p>The client, who wishes to attempt to handle the updating of the course database himself, is not terribly tech-savvy, and is rather insistent that the method of him sending me the new .txt file for each update be used.</p>\n\n<p>However, as some of the .txt files I have been receiving have been growing larger, I have started to get \"java.lang.NumberFormatException: unable to parse '6' as integer\"-type errors on about 2 lines for every 100 lines the file is in length, with different numbers other than 6, based on which line of the .txt file causes the exception.</p>\n\n<p>Opening the .txt file in Bless Hex Editor, I have noticed that at the start of every line that causes a NumberFormatException, that the non-ascii character (in hex, EF BB) is right before the leading integer. Obviously, this non-ascii character is crashing the <code>parseInt()</code> method.</p>\n\n<p>After that long explanation, I have 2 main questions:</p>\n\n<ol>\n<li>What would be the best way to fix the root issue, even though the placement of these non-ascii characters appear to be pseudo-random throughout the file?</li>\n<li>If a good fix for #1 is not possible, what would be a good way of \"sanitizing\" the .txt file before it is read in in the relevant activity?</li>\n</ol>\n\n<p>Any help provided would be greatly appreciated. Thanks!</p>\n"},{"tags":["database","sqlite","ms-access"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":12848098,"title":"How to convert/export SQLite database to Microsoft Access?","body":"<p>I have SQLite database and it has many tables. I want to change the platform.</p>\n\n<p>How can I move all tables and columns to a Microsoft Access database?</p>\n"},{"tags":["android","sqlite","arraylist","android-arrayadapter"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":112,"score":1,"question_id":12845039,"title":"SQLite with ArrayList and ArrayAdapter","body":"<p>Could you please tell me what's wrong with this code. It runs but results are not listed. I just want a simple SQLiteDB running test to finalize my another project. I assume that something wrong with ArrayList use.</p>\n\n<pre><code>public class MainActivity extends Activity {\n\nString names;\nListView lvMain;\nArrayList&lt;String&gt; values;\nArrayAdapter&lt;String&gt; adapter;\n\nDBHelper dbHelper;\nEditText et;\nButton btnAdd;\nButton btnRead;\nButton btnClear;\nButton btnShow;\n\nCursor c;\nint nameColIndex;\nint idColIndex;\n\n/**\n * Called when the activity is first created.\n */\npublic void onCreate(Bundle savedInstanceState) {\n\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.main);\n\n    btnAdd = (Button) findViewById(R.id.btnAdd);\n    btnRead = (Button) findViewById(R.id.btnRead);\n    btnClear = (Button) findViewById(R.id.btnClear);\n    btnShow = (Button) findViewById(R.id.btnShow);\n\n    dbHelper = new DBHelper(this);\n    lvMain = (ListView) findViewById(R.id.lvMain);\n    values = new ArrayList&lt;String&gt;();\n\n}\n\npublic void onButtonClick(View v) {\n\n    ContentValues cv = new ContentValues();\n    String name = et.getText().toString();\n    SQLiteDatabase db = dbHelper.getWritableDatabase();\n\n    switch (v.getId()) {\n\n        case R.id.btnAdd:\n            cv.put(\"name\", name);\n\n            // вставляем запись и получаем ее ID\n            long rowID = db.insert(\"mytable\", null, cv);\n\n            break;\n\n        case R.id.btnRead:\n\n            // делаем запрос всех данных из таблицы mytable, получаем Cursor \n            c = db.query(\"mytable\", null, null, null, null, null, null);\n\n            // ставим позицию курсора на первую строку выборки\n            // если в выборке нет строк, вернется false\n            if (c.moveToFirst()) {\n\n                // определяем номера столбцов по имени в выборке\n                idColIndex = c.getColumnIndex(\"id\");\n                nameColIndex = c.getColumnIndex(\"name\");\n\n                do {\n                    // получаем значения по номерам столбцов\n\n                    c.getInt(idColIndex);\n\n                names = c.getString(nameColIndex);\n\n                values.add(names);\n\n                    // переход на следующую строку \n                    // а если следующей нет (текущая - последняя), то false - выходим из цикла\n                } while (c.moveToNext());\n\n            } else {\n                c.close();\n            }\n\n            break;\n\n        case R.id.btnClear:\n\n            // удаляем все записи\n            int clearCount = db.delete(\"mytable\", null, null);\n\n            break;\n\n        case R.id.btnShow:\n            break;\n    }\n\n// закрываем подключение к БД\n\n    adapter = new ArrayAdapter&lt;String&gt;(this,\n            android.R.layout.simple_list_item_1, values);\n\n    lvMain.setAdapter(adapter);\n\n\n    dbHelper.close();     \n\n    adapter.notifyDataSetChanged();\n\n}\n\n class DBHelper extends SQLiteOpenHelper {\n\npublic DBHelper(Context context) {\n  // конструктор суперкласса\n  super(context, \"myDB\", null, 1);\n}\n\n@Override\npublic void onCreate(SQLiteDatabase db) {\n\n  // создаем таблицу с полями\n  db.execSQL(\"create table mytable (\"\n      + \"id integer primary key autoincrement,\" \n      + \"name text,\"\n      + \"email text\" + \");\");\n}\n\n@Override\npublic void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n\n}\n</code></pre>\n\n<p>}\n}</p>\n\n<pre><code>Here is main, may be I am missing something?\n\n    `&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n    &lt;LinearLayout\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        android:layout_width=\"fill_parent\"\n        android:layout_height=\"fill_parent\"\n        android:orientation=\"vertical\"&gt;\n        &lt;LinearLayout\n            android:id=\"@+id/linearLayout1\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"&gt;\n            &lt;TextView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:text=\"Name\"\n                android:layout_marginLeft=\"5dp\"\n                android:layout_marginRight=\"5dp\"&gt;\n            &lt;/TextView&gt;\n            &lt;EditText\n                android:id=\"@+id/et\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_weight=\"1\"&gt;\n                &lt;requestFocus&gt;\n                &lt;/requestFocus&gt;\n            &lt;/EditText&gt;\n        &lt;/LinearLayout&gt;\n        &lt;LinearLayout\n            android:id=\"@+id/linearLayout2\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"&gt;\n            &lt;Button\n                android:id=\"@+id/btnAdd\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:onClick=\"onButtonClick\"\n                android:text=\"Add\"&gt;\n            &lt;/Button&gt;\n            &lt;Button\n                android:id=\"@+id/btnRead\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:onClick=\"onButtonClick\"\n                android:text=\"Read\"&gt;\n            &lt;/Button&gt;\n            &lt;Button\n                android:id=\"@+id/btnClear\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:onClick=\"onButtonClick\"\n                android:text=\"Clear\"&gt;\n            &lt;/Button&gt;\n            &lt;Button\n                android:id=\"@+id/btnShow\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:onClick=\"onButtonClick\"\n                android:text=\"Show\"&gt;\n            &lt;/Button&gt;\n        &lt;/LinearLayout&gt;\n         &lt;ListView\n            android:id=\"@+id/lvMain\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"&gt;\n        &lt;/ListView&gt;\n    &lt;/LinearLayout&gt;`\n</code></pre>\n"},{"tags":["android","django","sqlite","http-post","jpeg"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":260,"score":1,"question_id":9460486,"title":"How do I use Android HTTPPOST jpeg to Django Server?","body":"<p>This is my first android app and I am trying to POST images taken on the camera (ICS 4.0) to a Django server. I have been getting a NULL pointer exception error but I have no clue where this is occurring. Also, When I don't the app crashes when trying to upload. I'm not sure what is going on. I am using Fragments.</p>\n\n<p>Here is my Django post code:</p>\n\n<pre><code>    def post(self, request, *args, **kwargs):\n        image = get_object_or_404(Img, **kwargs)\n\n        inst = Instance(stream=image.stream)\n        uploaded_file = \\\n            File('-.jpg', self.FILES[0].read(), 'image/jpeg')\n        setattr(inst, 'full', uploaded_file)\n        inst.save()\n\n        return HttpResponse(status=HTTP_201_CREATED)\n</code></pre>\n\n<p>Here is what I have in my Fragment after the camera action:</p>\n\n<pre><code>    public void onActivityResult(int requestCode, int resultCode, Intent data) {\n    if (requestCode == CAPTURE_IMAGE_ACTIVITY_REQUEST_CODE) {\n        if (resultCode == Activity.RESULT_OK) {\n            // put the image onto server\n            text.setText(outputFileUri.toString());\n\n            try {\n                HttpClient httpClient = new DefaultHttpClient();\n                HttpContext localContext = new BasicHttpContext();\n                HttpPost postRequest = new HttpPost(\"http://192.168.1.2:8000/v1/14/1/imagesink/1/\");\n                MultipartEntity reqEntity = new MultipartEntity(HttpMultipartMode.BROWSER_COMPATIBLE);\n\n                bm = BitmapFactory.decodeFile(\"/sdcard/test.jpg\");\n                Bitmap bmpCompressed = Bitmap.createScaledBitmap(bm, 640, 480, true);\n                ByteArrayOutputStream bos = new ByteArrayOutputStream();\n                bmpCompressed.compress(CompressFormat.JPEG, 100, bos);\n                byte[] bytes = bos.toByteArray();\n                reqEntity.addPart(\"myImage\", new ByteArrayBody(bytes, \"temp.jpg\")); \n                postRequest.setEntity(reqEntity);\n                HttpResponse response = httpClient.execute(postRequest,localContext);\n\n                BufferedReader reader = new BufferedReader(new InputStreamReader( response.getEntity().getContent(), \"UTF-8\"));  \n                String sResponse = reader.readLine();\n\n            } catch (Exception e) {\n                // handle exception here\n                Log.v(\"myApp\", \"Some error came up\");  \n            }\n\n        } else if (resultCode == Activity.RESULT_CANCELED) {\n            // User cancelled the image capture\n        } else {\n            // Image capture failed, advise user\n        }\n    }\n}\n</code></pre>\n\n<p>Thanks in advance!</p>\n\n<p>ERROR:</p>\n\n<pre><code>     E/AndroidRuntime(19787): FATAL EXCEPTION: main\n     java.lang.RuntimeException: Failure delivering result ResultInfo{who=android:fragment:0, request=1, result=-1, data=null} to activity {com.prism.app/com.prism.app.PrismActivity}: java.lang.NullPointerException: println needs a message\n     at android.app.ActivityThread.deliverResults(ActivityThread.java:2976)\n     at android.app.ActivityThread.handleSendResult(ActivityThread.java:3019)\n     at android.app.ActivityThread.access$1100(ActivityThread.java:122)\n     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1176)\n     at android.os.Handler.dispatchMessage(Handler.java:99)\n     at android.os.Looper.loop(Looper.java:137)\n     at android.app.ActivityThread.main(ActivityThread.java:4340)\n     at java.lang.reflect.Method.invokeNative(Native Method)\n     at java.lang.reflect.Method.invoke(Method.java:511)\n     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)\n at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)\n at dalvik.system.NativeStart.main(Native Method)\n         Caused by: java.lang.NullPointerException: println needs a message\n at android.util.Log.println_native(Native Method)\n at android.util.Log.e(Log.java:231)\n at com.prism.app.OneFragmentTab.onActivityResult(OneFragmentTab.java:106)\n     at android.app.Activity.dispatchActivityResult(Activity.java:4653)\n     at android.app.ActivityThread.deliverResults(ActivityThread.java:2972)\n     ... 11 more\n</code></pre>\n"},{"tags":["android","sqlite","phonegap","sencha-touch"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":245,"score":1,"question_id":9360064,"title":"how to load image path from image gallery?","body":"<p>I am using sencha-touch and phonegap in android 2.2, I want to load an image, specified by an image path from the image gallery in android. The loaded image path must be saved in an image folder, the image folder must be saved in sqlite like image/1.jpg. Then I want to load the added image path from sqlite. How can I achieve that?</p>\n"},{"tags":["mysql","sql","database","sqlite","relational-database"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":12850441,"title":"SQL(ite) LIKE Optimization (or any other database really)","body":"<p>Given a table with one TEXT (single words) column and a maximum of 1 million rows, what's the best way to optimise this query:</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT name\nFROM searchIndex\nWHERE name LIKE '%q%u%e%r%y%'\nORDER BY (CASE\n              WHEN name LIKE 'query' THEN 1\n              WHEN name LIKE 'query%' THEN 2\n              WHEN name LIKE '%query' THEN 3\n              WHEN name LIKE '%query%' THEN 4\n              WHEN name LIKE 'q%u%e%r%y%' THEN 5\n              ELSE 6\n          END);\n</code></pre>\n\n<p>Currently, I am using SQLite. However, I am willing to try any (free) database system and any table structures.</p>\n\n<p>I need this for a Mac OS X application (<a href=\"http://kapeli.com/dash\" rel=\"nofollow\">a documentation browser</a>) and it will be used for searching the index of the documentation sets. There won't be many queries running in a given period of time, so concurrent use is not really an issue.</p>\n"},{"tags":["python","tsql","sqlite","sqlite3"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":12848560,"title":"Python: T-SQL EQuivalent for Sqlite3?","body":"<p>I have the following MS-SQL based query which I need to convert into Sqlite3 based database</p>\n\n<pre><code>DECLARE @status int, @nextPriority int\nSELECT @status = status FROM status WHERE nameStatus = '234'\n</code></pre>\n\n<p>I then have to use that variable in an INSERT query.</p>\n\n<p>One way I think is to execute query and bind variables but I am willing to execute all queries in a Go. Is it possible?</p>\n\n<p>I am using Python 2.6</p>\n\n<p>Thanks</p>\n"},{"tags":["database","r","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":4,"view_count":86,"score":-4,"question_id":12845639,"title":"Accessing SQLite Database in R","body":"<p>I want to access and manipulate a large data set in R. Since it's a large CSV file (~ 0.5 GB), I plan to import it<br>\nto SQLite and then access it from R. I know the <code>sqldf</code> and <code>RSQLite</code> packages can do this but I went \nover their manuals and they are not helpful. Being a newbie to SQL doesn't help either.</p>\n\n<p>I want to know do I have to set the R directory to SQLite's and then go from there? How do I read in the database in R then?\nHeck, if you know how to access the DB from R without using SQL, please tell me.</p>\n\n<p>Thanks! </p>\n"},{"tags":["sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":12846577,"title":"Sqlite C/C++ API - Get timestamp value with select query","body":"<p>I use sqlite3 C/C++ API to retrieve rows from a table using SELECT query. I don't see any sqlite3_column_timestamp() to retrieve a timestamp column value after sqlite3_step().. How to get timestamp values ?</p>\n"},{"tags":["sqlite","windows-mobile","sql-server-ce","windows-mobile-6.5"],"answer_count":9,"favorite_count":8,"up_vote_count":15,"down_vote_count":0,"view_count":12462,"score":15,"question_id":583278,"title":"SQLite vs. SQLCE vs. ? in a Mobile Application","body":"<p>When developing a mobile application on Windows Mobile, what are some of the database choices you've made?</p>\n\n<p>Why did you make that choice? In particular we've got a mobile app that we're building which will have up to 360,000 records in some of the tables.</p>\n\n<p>We were planning to use SQLCE 3.5 but we've got a number of drawbacks when working with large sets of data like this. Since data will be loaded into a DB on a desktop computer and then copied to the mobile device, the tables have to be re-indexed...</p>\n\n<p>SQLite seems like an attractive alternative. Any advice/opinions?</p>\n"},{"tags":["android","sqlite","ormlite"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":57,"score":2,"question_id":12847484,"title":"ormlite read Date as 'yyyy-MM-dd'","body":"<p>I need to read a sqlite databse given to me, so I cannot change the Date format (yyyy-MM-dd) in the tables.  When I try to use ormlite to generate object for me, using the following annotation:</p>\n\n<pre><code>@DatabaseField(columnName = \"REVISION_DATE\", dataType = DataType.DATE_STRING)\npublic Date revisionDate;\n</code></pre>\n\n<p>it gives me the following error:</p>\n\n<pre><code>java.sql.SQLException: Problems with column 3 parsing date-string '2012-05-01'\n      using 'yyyy-MM-dd HH:mm:ss.SSSSSS'\n</code></pre>\n\n<p>is there any place I can tell ormlite I want to use \"yyyy-MM-dd\" as the date string?</p>\n"},{"tags":["sql","sqlite","shell","csv"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":90,"score":2,"question_id":12847340,"title":"Import CSV to SQLite via shellscript, issues with primary key and duplicate data","body":"<p>I have two simple CSV files like this, both are very simple and in the same format:</p>\n\n<pre><code>NAME,NUMBER\nabcd,1\nqwerty,2\noiujkl,5\n</code></pre>\n\n<p>Many names in csv1 and csv2 are the same, but there are also names that only exist in csv1 or only in csv2. The numbers in csv1 and csv2, e.g. 1,2,3,4,5,6... exist in both files, but in each file just once.</p>\n\n<p>I want to import both files to one single SQLite db in the format \"name,number-from-csv1,number-from-csv2\". It sounds so simple, but I can't get it to work. In the end I want to get such a table:</p>\n\n<pre><code>NAME,NUMBER-FROM-CSV1,NUMBER-FROM-CSV2\nabcd,1,1\nqwerty,2,5\noiujkl,5,10\nlkjsie,,99\nwero,234,\n</code></pre>\n\n<p>I am missing the SQL logic :( I created the SQLite table as following:</p>\n\n<pre><code>CREATE TABLE IF NOT EXISTS testdb (name TEXT PRIMARY KEY, number-from-csv1 INTEGER UNIQUE, number-from-csv2 INTEGER UNIQUE)\n</code></pre>\n\n<p>My shell script looks like this:</p>\n\n<pre><code>while IFS=',' read -r name number-from-csv1; do\n    echo \"INSERT INTO testdb (name, number-from-csv1) VALUES('$name', '$number-from-csv1');\" \ndone &lt; file1.csv\n</code></pre>\n\n<p>I call this script like this: \"./import.sh | sqlite3 asinfo.sqlite\". This works fine for importing one file. If I just change \"1\" to \"2\" to import file2, it imports only the names that are not listed in file1. Then I tried to run this SQL-query:</p>\n\n<pre><code>UPDATE testdb SET number-from-csv2='$number-from-csv2' WHERE name='$name';\n</code></pre>\n\n<p>but that doesn't work. Any ideas?</p>\n"},{"tags":["c#",".net","sql","sqlite","system.data.sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":589,"score":0,"question_id":6044458,"title":"System.Data.Sqlite: Cache Size=... connections string parameter doesn't seem to work","body":"<p>I'm comparing speeds of disk and in-memory databases. I'm trying to insert approximately 8mb of data to a sqlite3 db with the following connection string:</p>\n\n<pre><code>&lt;configuration&gt;\n    &lt;connectionStrings&gt;\n      &lt;add name=\"Server\" connectionString=\"Data Source=db.db3;Version=3;\" providerName=\"System.Data.SQLite\" /&gt;\n   &lt;/connectionStrings&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>It gets my data inserted in around 4 seconds.</p>\n\n<p>When I change my connection string to the following one:</p>\n\n<pre><code>&lt;configuration&gt;\n    &lt;connectionStrings&gt;\n      &lt;add name=\"Server\" connectionString=\"Data Source=:memory:;Version=3;\" providerName=\"System.Data.SQLite\" /&gt;\n   &lt;/connectionStrings&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>I get my data inserted in around 0.5 seconds.</p>\n\n<p>But when I change the settings the following way (note <code>Cache Size=16777216</code>)</p>\n\n<pre><code>&lt;configuration&gt;\n    &lt;connectionStrings&gt;\n      &lt;add name=\"Server\" connectionString=\"Data Source=db.db3;Version=3;Cache Size=16777216;\" providerName=\"System.Data.SQLite\" /&gt;\n   &lt;/connectionStrings&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>This results 4 seconds again, and result is independent of the amount of cache. In my understanding having the cache size twice as large as the amount of data should make my data settle in memory. And disk migrations should occur when no more cache left...</p>\n\n<p>How can I make sqlite more responsive?</p>\n"},{"tags":["android","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":69,"score":1,"question_id":12842084,"title":"Attach in-memory database in Android","body":"<p>I created in-memory database in Android. I put <b>null</b> in <b>name</b> parameter in SQLiteOpenHelper constructor:</p>\n\n<pre><code>SQLiteOpenHelper(context, null, null, 1);\n</code></pre>\n\n<p>Also I created some <i>doc_orders_products</i> table in the in-memory db.</p>\n\n<p>Now I'm trying attach this in-memory db to my main on-disk db. \nWhat name of in-memory db should I use in ATTACH command?</p>\n\n<p>I tried:</p>\n\n<pre><code>mainDB.execSQL(\"ATTACH DATABASE ':memory:' AS temp_db\");\n</code></pre>\n\n<p>and</p>\n\n<pre><code>mainDB.execSQL(\"ATTACH DATABASE '' AS temp_db\");\n</code></pre>\n\n<p>Both ATTACH command performs well even when in-memory db isn't created at all.\nBut when I try get access to tables in the in-memory db, they are not present. I get exception. E.g.:</p>\n\n<pre><code>10-11 14:07:46.782: E/AndroidRuntime(2107): Caused by: \nandroid.database.sqlite.SQLiteException: no such table: \ntemp_db.doc_orders_products (code 1): , while compiling: \nINSERT INTO temp_db.doc_orders_products SELECT * FROM \nmain.doc_orders_products WHERE doc_id=3\n</code></pre>\n\n<p>Is it possible to attach in-memory db to on-disk db? What correct way is to do it?</p>\n\n<p>Thanks.</p>\n"},{"tags":["database","vb.net","sqlite","database-design"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":69,"score":3,"question_id":12838992,"title":"Should related objects be grouped in one table, or multiple?","body":"<p>This is mostly a database related question, but I'm using VB.net and sqlite.</p>\n\n<p>So I have a group of Widgets, they all have a certain group of properties.  Among them is a \"Type\" property.</p>\n\n<p>Depending on the Type property there are a series of additional type-dependent properties.  I'm wondering if it's normally a good idea to group these into a single table (and then likely a single class) with a lot of null values or should they be organized in the database in multiple tables (with derived classes), or something else?</p>\n\n<p>Example:</p>\n\n<ul>\n<li>Widget 1: Small, Blue, Type A, 20 Pounds, Shiny </li>\n<li>Widget 2: Small, Red, Type B, Transparent </li>\n<li>Widget 3: Big, Yellow, Type C, 6 feet, 5 feet, 1 foot</li>\n</ul>\n\n<p>Should they be organized in a table like this, with a lot of nulls:</p>\n\n<ul>\n<li>Widgits\n<ul>\n<li>ID, Size, Color, Type, Weight, isShiny, Transparency, width, length, height</li>\n</ul></li>\n</ul>\n\n<p>Or like this:</p>\n\n<ul>\n<li>Widgits\n<ul>\n<li>ID, Size, Color, Type</li>\n</ul></li>\n<li>Widgits_A\n<ul>\n<li>ID, Weight, isShiny</li>\n</ul></li>\n<li>Widgits_B\n<ul>\n<li>ID, Transparency</li>\n</ul></li>\n<li>Widgits_C\n<ul>\n<li>ID, Width, Length, Height</li>\n</ul></li>\n</ul>\n\n<p>Probably thousands of Widgets in the end, of possibly 20 types.</p>\n\n<p>Thanks!</p>\n"},{"tags":["sql","sqlite","types"],"answer_count":5,"favorite_count":2,"up_vote_count":5,"down_vote_count":0,"view_count":4973,"score":5,"question_id":969187,"title":"Altering SQLite column type and adding PK constraint","body":"<p>How to change the type of a column in a SQLite table?</p>\n\n<p>I've got:</p>\n\n<pre><code>    CREATE TABLE table(\n        id INTEGER,\n        salt TEXT NOT NULL UNIQUE,\n        step INT,\n        insert_date TIMESTAMP\n    );\n</code></pre>\n\n<p>I'd like to change <code>salt</code>'s type to just <code>TEXT</code> and id's type to INTEGER PRIMARY KEY.</p>\n"},{"tags":["android","sqlite","android-sdcard","terminal-emulator"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":296,"score":1,"question_id":7790667,"title":"how can remove emulator sdcard below folder in android","body":"<p>i am implementing sdcard related application how can remove emulator sdcard below folder in android using sqlite in devtools</p>\n\n<p>i am using rm command its not working ..</p>\n\n<p>Example : sdcard--->project --->emp</p>\n\n<p>delete project folder using terminal controller inbuild sqlite</p>\n\n<p>please forward some solution </p>\n\n<p>Thanks In Advance </p>\n\n<p>narasimha</p>\n"},{"tags":["sqlite"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":45,"score":1,"question_id":12841600,"title":"autogenerated id with bulk insert in SQLite","body":"<p>I have an SQLite table that uses an autogenerated id as primary key. I want to do bulk inserts using UNION SELECT, but it doesn't seem to be happy unless I specify an id for each row:</p>\n\n<pre><code>sqlite&gt; create table CelestialObject (id INTEGER PRIMARY KEY, name VARCHAR(25), distance REAL);\nsqlite&gt; insert into CelestialObject select 'Betelguese' as name, 200 as distance UNION SELECT 'Procyon', 500;\nError: table CelestialObject has 3 columns but 2 values were supplied\n</code></pre>\n\n<p>If I specify AUTOINCREMENT for the id (i.e., \"id INTEGER PRIMARY KEY AUTOINCREMENT\") when I create the table, the error is the same. </p>\n\n<p>Can anyone tell me whether there's a way to use a bulk insert without specifying an id for each row?</p>\n"},{"tags":["android","sqlite","locking"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":6060,"score":3,"question_id":4706874,"title":"Android - Database is Locked","body":"<p>I have an application that I can insert data into a SQLite database. There's a service thread running every sixty seconds checking if a condition is true and raising an alarm if necessary. Think \"calendar\" application.</p>\n\n<p>I have lots of activities with a reference to their own SQLiteOpenHelper, and their own SQLiteDatabase object.</p>\n\n<p>The application was working pretty well, but one of the main update applications I decided needed a progress dialog subject - that's another subject, but if you can tell me how I can get the spinner to spin that'd be great. It does however display.</p>\n\n<p>But to get it to display, I needed to put it in a thread.</p>\n\n<p>Creating this thread, I started to get loads of \"database is locked\" messages in the Log.</p>\n\n<p>I figured the issue may have been related to the fact I had a task in the background running every sixty seconds - even though it visually only took a couple of seconds to do the update, so I placed the main write transactions for the updater function in a beginTransaction block. That's the only place I used one.</p>\n\n<p>Everything seemed good, but then I started getting more spurious errors about the database being locked all over the place.</p>\n\n<p>It's encouraged me to do some tidying up, but it seems after I do the first beginTransaction, any further database modifications I want to make fail with a report that the database is locked, despite that fact I do call db.close. I even close the database helper object and cursor just to be on the safe side. </p>\n\n<p>I was able to clear up most of the warnings with regards to cursors still being open, eg</p>\n\n<pre><code>E/Database(  678): android.database.sqlite.DatabaseObjectNotClosedException: Application did not close the cursor or database object that was opened here\n</code></pre>\n\n<p>I couldn't figure out what was locking the database as everything was being closed.</p>\n\n<p>I then decided to remove the \"beginTransaction\" which stabilised things - I could now navigate my program again. But Im still getting a few random locking issues.</p>\n\n<pre><code>E/Database( 1304): Failure 5 (database is locked) on 0x26e5d8 when executing 'INSERT INTO\n</code></pre>\n\n<p>Is it possible to figure out what is locking the database? I can see what is grumbling about the lock, but not what is locking it.</p>\n\n<p>What is the best way to handle concurrent database updates/reads like this? I've read a lot about synchronized and ContentProviders but I must admit, it is a little bit big for me.</p>\n\n<p>Any pointers on the \"best\" way of doing things?</p>\n\n<p>And can I find out what is locking the database?</p>\n\n<p>Thanks\nSimon</p>\n"},{"tags":["android","database","sqlite","date"],"answer_count":3,"favorite_count":7,"up_vote_count":11,"down_vote_count":0,"view_count":5633,"score":11,"question_id":7363112,"title":"Best way to work with dates in Android SQLite","body":"<p>I'm having some trouble working with dates on my Android application that uses SQLite.\nI have a couple questions:</p>\n\n<p>1 - What type should I use to store dates in SQLite (text, integer, ...)?</p>\n\n<p>2 - Given the best way to store dates how do I store It properly using ContentValues?</p>\n\n<p>3 - What's the best way to retrieve the date from the SQLite database?</p>\n\n<p>4 - How to make a sql select on SQLite, ordering the results by date?</p>\n\n<p>Thanks very much!</p>\n"},{"tags":["django","sqlite","django-south"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":73,"score":1,"question_id":12843550,"title":"Manage.py : Unknown command: 'migrate'","body":"<p>I'm using django and I'm facing a little problem. I would like to use the 'migrate' command with manage.py But when I try I get this error message:</p>\n\n<pre><code>  Unknown command: 'migrate'\n  Type 'manage.py help' for usage.\n</code></pre>\n\n<p>I have south installed (I installed it with pip), but I still can't use this command. I don't know what to do.</p>\n\n<p>Thank you for your help!</p>\n"},{"tags":["android","sqlite","android-assets"],"answer_count":3,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":3409,"score":4,"question_id":6120424,"title":"Android: copy database from asset folder, but only get an empty file","body":"<p>guys, I have the problem when copying database from local assets folder to /data/data/package_name/databases directory. As I use the <a href=\"http://www.reigndesign.com/blog/using-your-own-sqlite-database-in-android-applications/\" rel=\"nofollow\">http://www.reigndesign.com/blog/using-your-own-sqlite-database-in-android-applications/</a>  tutorial to do it, I can only get an empty file. </p>\n\n<p>I quoted the part of copyDataBase() method and there is no difference. Every time the app start, it will create the directory and empty database. So is there any way to make the copyDataBase() work? </p>\n\n<p>Thank you very much!!</p>\n"},{"tags":["android","sqlite"],"answer_count":6,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":8441,"score":3,"question_id":5326918,"title":"how to drop database in sqlite?","body":"<p>I'm using SQLite. I wanna drop database.\nlike mysql- drop database dbname.--- create database newDb.---use newDb.</p>\n\n<p>how to implement this code in SQLite? </p>\n"},{"tags":["iphone","python","database","sqlite","sms"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":12841734,"title":"Opening iPhone SMS database in Python fails under Windows","body":"<p>I'm working on writing a program that can read SMS information from the iTunes generated backup file of an iPhone. </p>\n\n<p>At the moment I'm just playing around with some techniques, and have managed to put together a Python script that actually works.\nThe entire program works fine under Mac OS, but when I take the script to Windows 7 and execute it, the following line throws an error;</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"C:\\Users\\Nat\\Desktop\\MessageExtract.py\", line 12, in &lt;module&gt;\n    cur1.execute(\"SELECT handle_ID, text, is_from_me FROM message\")\nDatabaseError: file is encrypted or is not a database\n</code></pre>\n\n<p>Now, the file itself has no extension by default, and as far as I'm aware it isn't encrypted because the exact same script executes without error on my Mac OS side of things.</p>\n\n<p>Does anybody have any ideas as to why this problem exists, and any possible solutions?</p>\n"},{"tags":["android","sqlite","sqliteopenhelper"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":2326,"score":3,"question_id":10434378,"title":"Cursor finalized without prior close() Android","body":"<p>In my application I have a listview. I get my data with a query from a SQLiteDatabase. When I get the data from the db I get this error:\n<img src=\"http://i.stack.imgur.com/B5XsG.png\" alt=\"error\"></p>\n\n<p>It occurs when I go from line 20 to 21.\n<img src=\"http://i.stack.imgur.com/oa5cB.png\" alt=\"occur\"></p>\n\n<p>I tried placing cursor.deactivate() and cursor.close() on regel 50. But with no result. Anyone knows why I get this error and how to solve it? Thanks :)</p>\n"},{"tags":["android","sqlite","ormlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":101,"score":0,"question_id":12832523,"title":"How to read sqlite file stored in data/data directory in android","body":"<p>In my android application, I am copying the sqlite database file to <code>\"data/data/com.mypackage/databases\"</code> at runtime. </p>\n\n<p>I am using ormlite for database operations, but I'm not able to perform any databse operation (e.g. insert, retrieve, delete) because it is not getting any tables from the sqlite file. </p>\n\n<p>However, when I copy that file in my SDCard everything works fine. I have verified that the file gets really copied in <code>\"data/data/com.mypackage/databases\"</code>, which is the case. </p>\n\n<p>Does anybody have any idea about how to read sqlite file stored in data/data directory using ormlite in android application?</p>\n"},{"tags":["sql","sqlite"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":122,"score":0,"question_id":7021201,"title":"ordering with a number at end of the string","body":"<p>I have a table which has names like \"employee 1\",\"employee 2\",\"employee 3\" and so on and lastly \"employee 10,\"employee 11\",\"employee 12\".</p>\n\n<p>When I am accessing all names it is coming like employee 1,employee 10,employee 11,employee 12,employee 2,employee 3 and so on. </p>\n\n<p>Even if I am using \"order by id\" or \"order by name\", employee 10 is coming first then employee 1,employee 2 and son on and lastly employee 11,employee 12.</p>\n\n<p>Any help will be appreciated.</p>\n"},{"tags":["android","database","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":48,"score":1,"question_id":12839376,"title":"Troubles figuring out sqlite android query","body":"<p>I'm having some troubles figure out how i should make my db query to get the cursor to select the right information.</p>\n\n<p>My database is structured like this: <a href=\"http://i.stack.imgur.com/vPaoD.png\" rel=\"nofollow\">http://i.stack.imgur.com/vPaoD.png</a> (Can't embed image because lack of rep)</p>\n\n<p>Feed got a many-to-many relationship with user and a Item got a one-to-many relationship with user.</p>\n\n<p>I want to create a method which returns all users or items that is in a specific feed with a method called getUsers(Feed feed). </p>\n\n<p>My database code is:\n    public class DatabaseHelper extends SQLiteOpenHelper {</p>\n\n<pre><code>// Database static variables\nprivate static final int DATABASE_VERSION = 1;\nprivate static final String DATABASE_NAME = \"feedlrDatabase\";\n\n// Declaring feed table\nprivate static final String TABLE_FEED = \"feed\";\nprivate static final String FEED_COLUMN_ID = \"_id\";\nprivate static final String FEED_COLUMN_NAME = \"name\";\n\n// Declaring feed-user bridge table\nprivate static final String TABLE_FEEDUSER = \"feeduser\";\nprivate static final String FEEDUSER_COLUMN_FEED_ID = \"feed_ID\";\nprivate static final String FEEDUSER_COLUMN_USER_ID = \"user_ID\";\n\n// Declaring user table\nprivate static final String TABLE_USER = \"user\";\nprivate static final String USER_COLUMN_ID = \"_id\";\npublic static final String USER_COLUMN_USERNAME = \"username\";\nprivate static final String USER_COLUMN_USERID = \"userid\";\nprivate static final String USER_COLUMN_IMGURL = \"ProfileImageURL\";\nprivate static final String USER_COLUMN_SOURCE = \"source\";\n\n// Declaring item table\nprivate static final String TABLE_ITEM = \"item\";\npublic static final String ITEM_COLUMN_ID = \"_id\";\npublic static final String ITEM_COLUMN_TEXT = \"text\";\nprivate static final String ITEM_COLUMN_TIMESTAMP = \"timestamp\";\nprivate static final String ITEM_COLUMN_TYPE = \"type\";\nprivate static final String ITEM_COLUMN_URL = \"URL\";\nprivate static final String ITEM_COLUMN_IMGURL = \"imgURL\";\nprivate static final String ITEM_COLUMN_USER_ID = \"user_ID\";\n\nprivate SQLiteDatabase db = this.getWritableDatabase();\n\npublic DatabaseHelper(Context context) {\n    super(context, DATABASE_NAME, null, DATABASE_VERSION);\n}\n\npublic void onCreate(SQLiteDatabase database) {\n    // @formatter:off\n    // Creating feed table\n    database.execSQL(\"CREATE TABLE \" + TABLE_FEED + \"(\" + FEED_COLUMN_ID\n            + \" INTEGER PRIMARY KEY AUTOINCREMENT,\" + FEED_COLUMN_NAME\n            + \" TEXT UNIQUE\" + \")\");\n\n    // Creating feed-user bridge table\n    database.execSQL(\"CREATE TABLE \" + TABLE_FEEDUSER + \"(\"\n            + FEEDUSER_COLUMN_FEED_ID + \" INT NOT NULL,\"\n            + FEEDUSER_COLUMN_USER_ID + \" INT NOT NULL\" + \")\");\n\n    // Creating user table\n    // TODO Should username be the unique idenifier of a user?!\n    database.execSQL(\"CREATE TABLE \" + TABLE_USER + \"(\" + USER_COLUMN_ID\n            + \" INTEGER PRIMARY KEY AUTOINCREMENT,\" + USER_COLUMN_USERNAME\n            + \" TEXT NOT NULL,\" + USER_COLUMN_USERID + \" TEXT UNIQUE,\"\n            + USER_COLUMN_IMGURL + \" TEXT,\" + USER_COLUMN_SOURCE\n            + \" TEXT NOT NULL\" + \")\");\n\n    // Creating item table\n    database.execSQL(\"CREATE TABLE \" + TABLE_ITEM + \"(\" + ITEM_COLUMN_ID\n            + \" INTEGER PRIMARY KEY AUTOINCREMENT,\" + ITEM_COLUMN_TEXT\n            + \" TEXT,\" + ITEM_COLUMN_TIMESTAMP + \" TEXT,\"\n            + ITEM_COLUMN_TYPE + \" TEXT,\" + ITEM_COLUMN_URL + \" TEXT,\"\n            + ITEM_COLUMN_IMGURL + \" TEXT,\" + ITEM_COLUMN_USER_ID\n            + \" INT NOT NULL\" + \")\");\n    // @formatter:on\n}\n\n@Override\npublic void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n    // Temporarily drops all tables\n    db.execSQL(\"DROP TABLE IF EXISTS \" + TABLE_FEED);\n    db.execSQL(\"DROP TABLE IF EXISTS \" + TABLE_FEEDUSER);\n    db.execSQL(\"DROP TABLE IF EXISTS \" + TABLE_USER);\n    db.execSQL(\"DROP TABLE IF EXISTS \" + TABLE_ITEM);\n    onCreate(db);\n}\n\npublic void addFeed(Feed feed) {\n\n    ContentValues temp = new ContentValues();\n\n    temp.put(FEED_COLUMN_NAME, feed.getTitle());\n    try {\n        db.insertOrThrow(TABLE_FEED, null, temp);\n    } catch (SQLiteConstraintException e) {\n        Log.d(\"ERROR\", \"Inserted feed is not UNIQUE!\");\n        // TODO Apply listener to notify the user that the feed name already\n        // exists!\n    }\n\n    // db.close();\n}\n\npublic void removeFeed(Feed feed) {\n    String title = feed.getTitle();\n    long id = getFeedID(feed);\n\n    removeFeedBridge(id);\n\n    db.delete(TABLE_FEED, FEED_COLUMN_NAME + \"=?\", new String[] { title });\n}\n\npublic ArrayList&lt;String&gt; listFeeds() {\n    final ArrayList&lt;String&gt; feeds = new ArrayList&lt;String&gt;();\n\n    Cursor c = db.rawQuery(\"SELECT * FROM \" + TABLE_FEED, null);\n    while (c.moveToNext()) {\n        String s = c.getString(1);\n        feeds.add(s);\n    }\n    c.close();\n    return feeds;\n}\n\npublic long getFeedID(Feed feed) {\n    String feedTitle = feed.getTitle();\n    SQLiteDatabase db = this.getReadableDatabase();\n    Cursor c = db.query(TABLE_FEED, new String[] { FEED_COLUMN_ID },\n            FEED_COLUMN_NAME + \"=?\", new String[] { feedTitle }, null,\n            null, null);\n    c.moveToNext();\n    Long id = Long.parseLong(c.getString(0));\n    c.close();\n    return id;\n}\n\npublic long getUserID(User user) {\n    long id = user.getId();\n    SQLiteDatabase db = this.getReadableDatabase();\n    Cursor c = db.query(TABLE_USER, new String[] { USER_COLUMN_ID },\n            USER_COLUMN_ID + \"=?\", new String[] { id + \"\" }, null, null,\n            null);\n    c.moveToNext();\n    Long id1 = Long.parseLong(c.getString(0));\n    c.close();\n    return id1;\n}\n\npublic ArrayList&lt;String&gt; listUsers() {\n    final ArrayList&lt;String&gt; users = new ArrayList&lt;String&gt;();\n\n    Cursor c = db.rawQuery(\"SELECT * FROM \" + TABLE_USER, null);\n\n    while (c.moveToNext()) {\n        String s = c.getString(1);\n        users.add(s);\n    }\n    return users;\n}\n\npublic void addUserToFeed(User user, Feed feed) {\n    long FeedID = getFeedID(feed);\n    long UserID = addUser(user);\n\n    // Add bridge connection\n    if (UserID != -1) {\n        addFeedUserBridge(FeedID, UserID);\n    }\n}\n\npublic long addUser(User user) {\n    // TODO Check if the user already exists!!\n\n    ContentValues temp = new ContentValues();\n\n    temp.put(USER_COLUMN_USERNAME, user.getUserName());\n    temp.put(USER_COLUMN_USERID, user.getId());\n    temp.put(USER_COLUMN_IMGURL, user.getProfileImageURL());\n    // TODO implement source on user?\n\n    long userID = db.insert(TABLE_USER, null, temp);\n    return userID;\n}\n\npublic void addFeedUserBridge(long feedID, long userID) {\n\n    ContentValues temp = new ContentValues();\n\n    temp.put(FEEDUSER_COLUMN_FEED_ID, feedID);\n    temp.put(FEEDUSER_COLUMN_USER_ID, userID);\n\n    db.insert(TABLE_FEEDUSER, null, temp);\n}\n\npublic void removeUserFromFeed(Feed feed, User user) {\n    long feedID = getFeedID(feed);\n    long userID = getUserID(user);\n\n    removeFeedUserBridge(feedID, userID);\n}\n\nprivate void removeUser(User user) {\n\n    long id = user.getId();\n    db.delete(TABLE_USER, USER_COLUMN_ID + \"=?\", new String[] { id + \"\" });\n}\n\nprivate void removeFeedUserBridge(long feedID, long userID) {\n\n    db.delete(TABLE_FEEDUSER, FEEDUSER_COLUMN_FEED_ID + \"=?\" + \" and \"\n            + FEEDUSER_COLUMN_USER_ID + \"=?\", new String[] { feedID + \"\",\n            userID + \"\" });\n}\n\npublic ArrayList&lt;String&gt; listFeedUser() {\n    final ArrayList&lt;String&gt; feeduser = new ArrayList&lt;String&gt;();\n\n    Cursor c = db.rawQuery(\"SELECT * FROM \" + TABLE_FEEDUSER, null);\n    while (c.moveToNext()) {\n        feeduser.add(c.getString(0) + \" \" + c.getString(1));\n    }\n    c.close();\n    return feeduser;\n}\n\nprivate void removeFeedBridge(Long id) {\n\n    db.delete(TABLE_FEEDUSER, FEEDUSER_COLUMN_FEED_ID + \"=?\",\n            new String[] { id + \"\" });\n}\n\npublic void updateUser(long userID) {\n    // TODO implement this method\n}\n\npublic void addListOfItems(List&lt;? extends Item&gt; itemList) {\n\n    db.beginTransaction();\n    for (Item i : itemList) {\n\n        ContentValues temp = new ContentValues();\n        temp.put(ITEM_COLUMN_TEXT, i.getText());\n        temp.put(ITEM_COLUMN_TIMESTAMP, i.getTimestamp());\n        temp.put(ITEM_COLUMN_TYPE, i.getText());\n        temp.put(ITEM_COLUMN_URL, i.getURL());\n        temp.put(ITEM_COLUMN_IMGURL, i.getIMGURL());\n        temp.put(ITEM_COLUMN_USER_ID, i.getUser().getId());\n        db.insert(TABLE_ITEM, null, temp);\n\n    }\n    db.setTransactionSuccessful();\n    db.endTransaction();\n    // db.close();\n}\n\npublic Cursor getAllItems() {\n\n    Cursor c = db.query(TABLE_ITEM, new String[] { ITEM_COLUMN_ID,\n            ITEM_COLUMN_TEXT, ITEM_COLUMN_TIMESTAMP, ITEM_COLUMN_TYPE,\n            ITEM_COLUMN_URL, ITEM_COLUMN_IMGURL, ITEM_COLUMN_USER_ID },\n            null, null, null, null, null);\n    // db.close();\n    return c;\n}\n\npublic long getItemTableSize() {\n    SQLiteDatabase database = this.getReadableDatabase();\n    long l = DatabaseUtils.queryNumEntries(database, TABLE_ITEM);\n    // database.close();\n    return l;\n}\n\npublic void clearItemTable() {\n    SQLiteDatabase db = getWritableDatabase();\n    db.delete(TABLE_ITEM, null, null);\n}\n\npublic void addUsers(List&lt;? extends User&gt; users) {\n\n    db.beginTransaction();\n\n    for (User u : users) {\n        ContentValues temp = new ContentValues();\n        temp.put(USER_COLUMN_USERNAME, u.getUserName());\n        db.insert(TABLE_USER, null, temp);\n    }\n    db.setTransactionSuccessful();\n    db.endTransaction();\n}\n\npublic Cursor getAllUsers() {\n\n    Cursor c = db.query(TABLE_USER, new String[] { USER_COLUMN_ID,\n            USER_COLUMN_USERNAME }, null, null, null, null, null);\n    return c;\n}\n\npublic Cursor getUsers(Feed feed) {\n\n    return null;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>I've tried searching the web for information how to do such \"dynamic\" queries but have yet not found anything. :/</p>\n\n<p>My guess is it would be something like:\n  Cursor c = db.rawQuery(\"SELECT * FROM Item WHERE userID = (some argument to select all users from FeedUser table)\");</p>\n\n<p>Anyone knows any helpful links on how to make such queries? </p>\n\n<p>Best regards Rawa</p>\n"},{"tags":["java","android","sqlite","android-fragments","android-searchmanager"],"answer_count":6,"favorite_count":4,"up_vote_count":21,"down_vote_count":0,"view_count":1769,"score":21,"question_id":7230893,"title":"Android search with Fragments","body":"<p>Does somebody know of a tutorial or an example of how to implement the standard <a href=\"http://developer.android.com/guide/topics/search/index.html\">Android search interface</a> with <code>Fragment</code>s? In other words, is it possible to put a standard search with a <code>SearchManager</code> in a Fragment?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","android","database","sqlite","arraylist"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":72,"score":1,"question_id":12839161,"title":"How I can start my Android SQLite Application without a Error","body":"<p>I want built a Android Application with a SQLite Database. I have two Java Classes. The First is the Contact Class ans the second the DatabaseHandle class for the operations how add, update etc...</p>\n\n<p>I don't get a error but if I start my Application I become this message ...</p>\n\n<p><img src=\"http://i.stack.imgur.com/cjMAs.jpg\" alt=\"enter image description here\"></p>\n\n<p>Here is my <strong>Contact</strong> Class</p>\n\n<pre><code>package de.linde.sqlite;\n\npublic class Contact {\n\n    int _id;\n    String _name;\n    String _phone_number;\n\n    public Contact(){}\n\n    public Contact(int id,String name,String _phone_number){\n\n        this._id = id; \n        this._name = name; \n        this._phone_number = _phone_number;\n    }\n\n    public Contact(String name,String _phone_number){\n\n        this._name = name;\n        this._phone_number = _phone_number; \n    }\n\n    public int getID(){\n\n        return this._id; \n    }\n\n    public void setID(int id){\n\n        this._id = id; \n    }\n\n    public String getName(){\n\n        return this._name; \n    }\n\n    public void setName(String name){\n\n        this._name = name; \n    }\n\n    public String getPhoneNumber(){\n\n        return this._phone_number;\n    }\n\n    public void setPhoneNumber(String phone_number){\n\n        this._phone_number = phone_number; \n    }\n}\n</code></pre>\n\n<p>Here is my <strong>DatabaseHandler</strong> Class</p>\n\n<pre><code>package de.linde.sqlite;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport android.content.ContentValues;\nimport android.content.Context;\nimport android.database.Cursor;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.database.sqlite.SQLiteOpenHelper;\n\npublic class DatabaseHandler extends SQLiteOpenHelper {\n\n    //Datenbank version\n    private static final int DATABASE_VERSION = 1; \n    //Datenbankname\n    private static final String DATABASE_NAME = \"contactsManager\";\n    //Tabellenname\n    private static final String TABLE_CONTACTS = \"contacts\";\n    //Tabellenspalten\n    private static final String KEY_ID = \"id\";\n    private static final String KEY_NAME = \"name\";\n    private static final String KEY_PH_NO = \"phone_number\";\n\n    public DatabaseHandler(Context context){\n\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\n    }\n\n    public void onCreate(SQLiteDatabase db){\n\n        String CREATE_CONTACTS_TABLE = \"CREATE TABLE\" + TABLE_CONTACTS + \"(\"\n                                        + KEY_ID + \"INTEGER PRIMARY KEY,\" + KEY_NAME + \"TEXT,\" \n                                        + KEY_PH_NO + \" TEXT\" + \")\";\n\n        db.execSQL(CREATE_CONTACTS_TABLE); \n    }\n\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion){\n\n        db.execSQL(\"DROP TABLE IF EXISTS\" + TABLE_CONTACTS); \n\n        onCreate(db); \n    }\n\n    public void addContact(Contact contact) {\n        SQLiteDatabase db = this.getWritableDatabase();\n\n        ContentValues values = new ContentValues();\n        values.put(KEY_NAME, contact.getName()); // Contact Name\n        values.put(KEY_PH_NO, contact.getPhoneNumber()); // Contact Phone Number\n\n        // Inserting Row\n        db.insert(TABLE_CONTACTS, null, values);\n        db.close(); // Closing database connection\n    }\n\n    public Contact getContact(int id) {\n        SQLiteDatabase db = this.getReadableDatabase();\n\n        Cursor cursor = db.query(TABLE_CONTACTS, new String[] { KEY_ID,\n                KEY_NAME, KEY_PH_NO }, KEY_ID + \"=?\",\n                new String[] { String.valueOf(id) }, null, null, null, null);\n        if (cursor != null)\n            cursor.moveToFirst();\n\n        Contact contact = new Contact(Integer.parseInt(cursor.getString(0)),\n                cursor.getString(1), cursor.getString(2));\n        // return contact\n        return contact;\n    }\n\n    public List&lt;Contact&gt; getAllContacts() {\n        List&lt;Contact&gt; contactList = new ArrayList&lt;Contact&gt;();\n        // Select All Query\n        String selectQuery = \"SELECT  * FROM \" + TABLE_CONTACTS;\n\n        SQLiteDatabase db = this.getWritableDatabase();\n        Cursor cursor = db.rawQuery(selectQuery, null);\n\n        // looping through all rows and adding to list\n        if (cursor.moveToFirst()) {\n            do {\n                Contact contact = new Contact();\n                contact.setID(Integer.parseInt(cursor.getString(0)));\n                contact.setName(cursor.getString(1));\n                contact.setPhoneNumber(cursor.getString(2));\n                // Adding contact to list\n                contactList.add(contact);\n            } while (cursor.moveToNext());\n        }\n\n        // return contact list\n        return contactList;\n    }\n\n    public int getContactsCount() {\n        String countQuery = \"SELECT  * FROM \" + TABLE_CONTACTS;\n        SQLiteDatabase db = this.getReadableDatabase();\n        Cursor cursor = db.rawQuery(countQuery, null);\n        cursor.close();\n\n        // return count\n        return cursor.getCount();\n    }\n\n    public int updateContact(Contact contact) {\n        SQLiteDatabase db = this.getWritableDatabase();\n\n        ContentValues values = new ContentValues();\n        values.put(KEY_NAME, contact.getName());\n        values.put(KEY_PH_NO, contact.getPhoneNumber());\n\n        // updating row\n        return db.update(TABLE_CONTACTS, values, KEY_ID + \" = ?\",\n                new String[] { String.valueOf(contact.getID()) });\n    }\n\n    public void deleteContact(Contact contact) {\n        SQLiteDatabase db = this.getWritableDatabase();\n        db.delete(TABLE_CONTACTS, KEY_ID + \" = ?\",\n                new String[] { String.valueOf(contact.getID()) });\n        db.close();\n    }\n\n\n}\n</code></pre>\n\n<p>Here is my MainActivity</p>\n\n<pre><code>package de.linde.sqlite;\n\nimport java.util.List;\n\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.app.Activity;\n\npublic class MainActivity extends Activity {\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        setContentView(R.layout.activity_main);\n\n        DatabaseHandler db = new DatabaseHandler(this);\n\n        Log.d(\"Insert: \", \"Inserting ..\"); \n        db.addContact(new Contact(\"Wladimir\",\"024324324\"));\n        db.addContact(new Contact(\"Max\",\"0324324324\"));\n        db.addContact(new Contact(\"Benny\",\"0324324\"));\n        db.addContact(new Contact(\"derSchwarze\",\"051324324\"));\n\n        Log.d(\"Reading: \",\"Reading all Contacts..\");\n        List&lt;Contact&gt; contacts = db.getAllContacts();\n\n        for (Contact cn : contacts) {\n\n            String log = \"Id: \" + cn.getID() + \" ,Name: \" + cn.getName() + \" ,Phone: \" + cn.getPhoneNumber();\n            Log.d(\"Name: \", log); \n        }\n    }\n\n}\n</code></pre>\n\n<p>My <strong>activity_main.xml</strong></p>\n\n<pre><code>&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\" &gt;\n\n\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>What I make wrong :( </p>\n"},{"tags":["android","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":87,"score":2,"question_id":12684999,"title":"Updating Android SQLite database table while user operates App and avoid errors/poor user experience","body":"<p>My Android App has a products table in an SQLite database that comes pre-populated when the user installs it.  The table can be updated from an Azure web service.  </p>\n\n<p>Instead of returning only the updated records from the web service and populating the SQLite table with the updated records, I want to simply return the 2900 records to the App.  This is because most of the products will have changed.  On opening the App, the products table is deleted using an SQL query and the ksoap2 response is sent to Product objects which are inserted into the database.</p>\n\n<p>While this update to the products table is happening, I would like the user to be able to use the App without disruption.  If the Products table has been deleted, then they cannot operate the App properly.  </p>\n\n<p>What are my options?  Could I populate a temporary Product table and when the service has finished populating it, I could copy it to the 'live' Product table.  Or could I completely delete the Product table and rename the temporary table to \"Product\"?</p>\n\n<p>Or am I going about this completely wrong.  Any advice would be most appreciated.\nCode extract below:</p>\n\n<pre><code> try {\n\n          productDatasource.open();\n          productDatasource.deleteProductTable();\n          productDatasource.close();\n          ArrayList&lt;Product&gt; arrProduct = new ArrayList&lt;Product&gt;();\n          SoapObject request = new SoapObject(NAMESPACE, PRODUCT_METHOD_NAME); \n\n         SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);\n         envelope.dotNet = true;\n         envelope.setOutputSoapObject(request);\n         System.out.println(\"startit\");\n         HttpTransportSE ht = new HttpTransportSE(URL);\n         ht.debug = true;\n         ht.call(SOAP_ACTION_PRODUCT, envelope);\n\n         SoapObject response = (SoapObject) envelope.getResponse();\n\n         productDatasource.open();\n         productDatasource.deleteProductTable();\n         Product[] products = new Product[response.getPropertyCount()];\n\n         for (int i = 0; i &lt; products.length; i++) {\n\n             SoapObject prodObj = (SoapObject)response.getProperty(i);\n             Product product = new Product();\n\n             product.setProductID(Integer.parseInt(prodObj.getProperty(10).toString()));\n             product.setProductName(prodObj.getProperty(11).toString());\n             product.setFKCategoryID(Integer.parseInt(prodObj.getProperty(5).toString()));\n             product.setFKSubCategoryID(Integer.parseInt(prodObj.getProperty(13).toString()));\n             product.setFKBrandID(Integer.parseInt(prodObj.getProperty(2).toString()));      \n\n             productDatasource.createProduct(product);\n         }\n</code></pre>\n"},{"tags":["sqlite","sqlite3"],"answer_count":3,"favorite_count":6,"up_vote_count":7,"down_vote_count":0,"view_count":9969,"score":7,"question_id":4007014,"title":"ALTER COLUMN in sqlite","body":"<p>How do I alter column in sqlite?\nThis is in Postgrsql</p>\n\n<pre><code>ALTER TABLE books_book ALTER COLUMN publication_date DROP NOT NULL;\n</code></pre>\n\n<p>I believe there is no ALTER COLUMN in sqlite at all, only ALTER TABLE is supported.</p>\n\n<p>Any idea? Thanks!</p>\n"},{"tags":["android","sqlite","sqlite3"],"answer_count":5,"favorite_count":15,"up_vote_count":16,"down_vote_count":0,"view_count":18538,"score":16,"question_id":4063510,"title":"Multiple Table SQLite DB Adapter(s) in Android?","body":"<p>I was reading the Android SQLite NotePad tutorial that referenced creating a DB Adapter class to create and access a DB table.  When dealing with a multi-table SQLite Database, is it best practice to create a different Adapter Class for each table or create a single DB Adapter class for the entire Android Application?</p>\n\n<p>My application uses multiple tables and I was hoping not to have to have a single massive adapter class.  the problem, however, is that I have a nested subclass of SQLiteOpenHelper per the NotePad Example within each adapter.  When the first table is accessed, everything works fine.  When I then try to access the second tble(from a different activity) my app crashes.</p>\n\n<p>At first, I thought the crash was being caused by a versioning issue, but both adapters now have the same database version and it's still crashing.</p>\n\n<p>Here's an example of one of the DB Adapters for the table.  The other adapters all follow the same format with varying implementations.</p>\n\n<pre><code>public class InfoDBAdapter {\n    public static final String ROW_ID = \"_id\";\n    public static final String NAME = \"name\";\n\n    private static final String TAG = \"InfoDbAdapter\";\n    private static final String DATABASE_NAME = \"myappdb\";\n    private static final String DATABASE_TABLE = \"usersinfo\";\n    private static final int DATABASE_VERSION = 1;\n\n\n    private static final String DATABASE_CREATE = \"create table usersinfo (_id integer primary key autoincrement, \"\n            + NAME\n            + \" TEXT,\" + \");\";\n\n    private DatabaseHelper mDbHelper;\n    private SQLiteDatabase mDb;\n\n    private final Context mCtx;\n\n    private static class DatabaseHelper extends SQLiteOpenHelper {\n\n        DatabaseHelper(Context context) {\n            super(context, DATABASE_NAME, null, DATABASE_VERSION);\n        }\n\n        @Override\n        public void onCreate(SQLiteDatabase db) {\n\n            db.execSQL(DATABASE_CREATE);\n        }\n\n        @Override\n        public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n            Log.w(TAG, \"Upgrading database from version \" + oldVersion + \" to \" //$NON-NLS-1$//$NON-NLS-2$\n                    + newVersion + \", which will destroy all old data\"); //$NON-NLS-1$\n            //db.execSQL(\"DROP TABLE IF EXISTS usersinfo\"); //$NON-NLS-1$\n            onCreate(db);\n        }\n    }\n\n\n    public InfoDBAdapter(Context ctx) {\n        this.mCtx = ctx;\n    }\n\n\n    public InfoDBAdapter open() throws SQLException {\n        this.mDbHelper = new DatabaseHelper(this.mCtx);\n        this.mDb = this.mDbHelper.getWritableDatabase();\n        return this;\n    }\n\n    /**\n     * close return type: void\n     */\n    public void close() {\n        this.mDbHelper.close();\n    }\n\n\n    public long createUser(String name) {\n        ContentValues initialValues = new ContentValues();\n        initialValues.put(NAME, name);\n        return this.mDb.insert(DATABASE_TABLE, null, initialValues);\n    }\n\n\n    public boolean deleteUser(long rowId) {\n\n        return this.mDb.delete(DATABASE_TABLE, ROW_ID + \"=\" + rowId, null) &gt; 0; //$NON-NLS-1$\n    }\n\n\n    public Cursor fetchAllUsers() {\n\n        return this.mDb.query(DATABASE_TABLE, new String[] { ROW_ID,\n                NAME}, null, null, null, null, null);\n    }\n\n\n    public Cursor fetchUser(long rowId) throws SQLException {\n\n        Cursor mCursor =\n\n        this.mDb.query(true, DATABASE_TABLE, new String[] { ROW_ID, NAME}, ROW_ID + \"=\" + rowId, null, //$NON-NLS-1$\n                null, null, null, null);\n        if (mCursor != null) {\n            mCursor.moveToFirst();\n        }\n        return mCursor;\n\n    }\n\n\n    public boolean updateUser(long rowId, String name) {\n        ContentValues args = new ContentValues();\n        args.put(NAME, name);\n        return this.mDb\n                .update(DATABASE_TABLE, args, ROW_ID + \"=\" + rowId, null) &gt; 0; //$NON-NLS-1$\n    }\n}\n</code></pre>\n\n<p>When the first adapter, in this case usersinfo, is accessed, everything works as expected.  Let's say I have another adapter for friend info that follows the same structure as above, when it is accessed by a different activity, it would seem to me that the nested subclass of SQLiteOpenHelper would attempt to create the database again.  Obviously something is wrong because in that scenario, my app crashes.</p>\n\n<p>So is the standard practice within Android to create a single mammoth db adapter instead of individual adapters per table?</p>\n"},{"tags":["android","sqlite","commonsware"],"answer_count":0,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":66,"score":2,"question_id":12837572,"title":"Loader framework vs plain AsyncTask","body":"<p>In my application I need a lot of CRUD stuffs: read records from the local SQLite database, insert objects and updating stuffs. Most of the queries are so simple that they won't block even if run on the UI thread, however in this application I want to adopt the Windows Phone pattern: an <em>out animation</em> started immediatelty and an <em>in animation</em> started when the result is delivered.</p>\n\n<p>I planned to use an <code>AsyncTask</code> for the job, however I noticed that Honeycomb (and the compat package) introduces this new <em>Loader framework</em>. The main advantage seems that data loaded by a <code>Loader</code> survive config changes. The <a href=\"https://github.com/commonsguy/cwac-loaderex\" rel=\"nofollow\">LoaderEx</a> project by Commonsware bridges between SQLite and the framework, but some problems arise.</p>\n\n<ol>\n<li><p>Resources cleanup: I use a single activity, create the SQLiteOpenHelper in <code>onCreate()</code> and close it <code>onDestroy()</code>. Since the loader manager may still be running, i check it and set a <code>pendingClose</code> flag on my callbacks object, so it will close the cursor and the helper when load finishes. I think not <em>closing</em> the database is not harmful, but SQLite complains if you don't do it, and I don't like error messages :) The point here is that data doesn't survive config changes, so the Loader advantage vanishes</p></li>\n<li><p>How many loaders should I create? Let's say I have the beloved <code>Customer</code> and <code>Order</code> tables. Loaders are identified by <code>ID</code>'s like <code>CUST_L</code> or <code>ORD_L</code>, but every time the user clicks on some summary I want to bring in a screen with the detail. Should I <a href=\"http://developer.android.com/reference/android/support/v4/app/LoaderManager.html#restartLoader%28int,%20android.os.Bundle,%20android.support.v4.app.LoaderManager.LoaderCallbacks%3CD%3E%29\" rel=\"nofollow\"><code>restart</code></a> a loader with different params, or should I <a href=\"http://developer.android.com/reference/android/support/v4/app/LoaderManager.html#initLoader%28int,%20android.os.Bundle,%20android.support.v4.app.LoaderManager.LoaderCallbacks%3CD%3E%29\" rel=\"nofollow\"><code>init</code></a> a new one with a random ID? This may happen dozens of times. Is the Loader framework intended for lots of small running jobs, or just for a few long running tasks?</p></li>\n<li><p>What's the purpose of using <code>ID</code>'s inside the <code>LoaderCallbacks</code> interface? Why not a simple <code>initLoader(params, callback)</code>? I don't think one can reuse some piece of logic inside a callback: eventually he will branch (with <code>if-else</code> or <code>switch</code> on ID) so I don't understand the point of giving an identifier to the callbacks object, instead of a naive approach <em>one-callbacks-per-operation</em>.</p></li>\n</ol>\n\n<p>I'm asking this because the whole framework seems overengineered to me and without real utility. I don't understand the point of centralizing code with a <code>LoaderManager</code>, and I can't see any new opportunity <code>AsyncTask</code> did not offer.</p>\n\n<p>The only win point is config changes survival, but I can't exploit it because of resources cleanup, and I can't figure out an alternative way to close the <code>SQLiteOpenHelper</code> because (quite obviously) the <a href=\"https://github.com/commonsguy/cwac-loaderex/blob/master/src/com/commonsware/cwac/loaderex/acl/SQLiteCursorLoader.java\" rel=\"nofollow\"><code>SQLiteCursorLoader</code></a> requires it but clean it up is up to the user. So <code>AsyncTask</code> seems the winner choice here, but maybe I'm missing something.</p>\n"},{"tags":["sql-server","vb.net","sqlite"],"answer_count":1,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":50,"score":4,"question_id":12831787,"title":"VB.NET: SQLite to SQL Server","body":"<p>I have a vb.net project that uses a SQLite database. I do this by using dataset/table adapters. The client is happy and all works well. However I have just heard that they plan on providing this product to another customer that wishes to use their SQL Server database. So I am writing this post so I can mentally prepare for this before I begin. I am not a database pro and have really enjoyed the simplicity of setting up and managing an SQLite database. </p>\n\n<p>So any ideas on the easiest way to support SQL Server as well? I am happy to run them parallel to each other. Can I just make a separate service / middleware that syncs the SQLite database to the SQL Server on a timer and does not care about what the main app is up to?</p>\n\n<p>Any pointers are appreciated.</p>\n"},{"tags":["android","sqlite"],"answer_count":14,"favorite_count":28,"up_vote_count":44,"down_vote_count":0,"view_count":55761,"score":44,"question_id":2149438,"title":"Tool to see android database, tables and data","body":"<p>I am new to Android and i would like to know if there's any tool to see databases (.db) tables and data into these tables.</p>\n\n<p>Thanks in advance.\nBest Regards.\nJosema. </p>\n"},{"tags":["android","database","sqlite","listview","android-cursoradapter"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":342,"score":1,"question_id":9520492,"title":"Android SQLite: ListView don't display item in database","body":"<p>I have created a database by my own program and I have checked by <code>SQLite Database Browser</code> to sure that has data in that database. After that, I put some code in <code>onCreate</code> (the code below) to show those data in <code>ListView</code></p>\n\n<p>In below data, I'm sure each component (ListView and CursorAdapter) working properly (because I tested each component before put it together) and SQLiteOpenHandler is working properly, too because I can use this class to write data to database. But, when I embeded SQLiteOpenHandler, something has been wrong. I think I missing some line to show data rather than wrong in code.</p>\n\n<p>Here is my code:</p>\n\n<pre><code> public void onCreate(Bundle savedInstanceState) {\n            super.onCreate(savedInstanceState);\n            setContentView(R.layout.main);  //in this `main layout` I have put `ListView` in\n\n            //DatabaseHelper: a class extends from `SQLiteOpenHandler`\n            databaseHelper = new DatabaseHelper(this);      \n\n            ListView listView = (ListView) findViewById(R.id.times_list); //layout for `ListView`\n            //TimeTrackerAdapter: a class extends from `CursorAdapter` \n            timeTrackerAdapter = new TimeTrackerAdapter(this, databaseHelper.getAllTimeRecord());\n//getallTimeRecord() method: return a cursor of whole data in database\n            listView.setAdapter(timeTrackerAdapter);     \n        }\n</code></pre>\n\n<p>Please give me a help.</p>\n\n<p>thanks :)</p>\n\n<p>@Edit: my <code>TimeTrackerAdapter</code> class, extends from <code>CursorAdapter</code></p>\n\n<pre><code>public class TimeTrackerAdapter  extends CursorAdapter{\n\n    public TimeTrackerAdapter(Context context, Cursor cursor){  \n        super(context, cursor);\n    }   \n\n    @Override\n    public void bindView(View view, Context context, Cursor cursor) {\n        TextView nameTextView = (TextView) view.findViewById(R.id.time_view);  \n        //time_view: just a layout to display \"time\"\n        nameTextView.setText(cursor.getString(1));      \n        TextView valueTextView = (TextView) view.findViewById(R.id.notes_view);\n        valueTextView.setText(cursor.getString(2));\n        //notes_view: just a layout to display \"notes\"\n    }\n\n    @Override\n    public View newView(Context context, Cursor cursor, ViewGroup parent) {\n        LayoutInflater inflater = LayoutInflater.from(parent.getContext());\n        View view = inflater.inflate(R.layout.time_list_item, parent, false);\n        return view;\n    }\n}\n</code></pre>\n\n<p>@Edit 2:\nand here my method <code>getAllTimeRecord()</code></p>\n\n<pre><code>public Cursor getAllTimeRecord(){\n        return database.rawQuery(\"select * from \"+TABLE_NAME, null);\n\n    } \n</code></pre>\n\n<p>If that has something wrong with that method, I think is SQLite Query. But, I'm not sure how to check it :( (when run, Logcat take no error for that query).</p>\n"}]}
{"total":16516,"page":11,"pagesize":100,"questions":[{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":2668,"score":0,"question_id":1989314,"title":"Android SQLiteException: no such column: -1","body":"<p>One of my android apps performs the following specific SQLite query:</p>\n\n<pre><code>SELECT _id, hourMin, actions FROM profiles\nWHERE type=2 AND hourMin &gt; -1 AND days &amp; 8 != 0 AND prof_id &gt;&gt; 16 IN (256)\nORDER BY hourMin ASC LIMIT 1\n</code></pre>\n\n<p>Now that works on some Android phones, but on a few of them it crashes with the following error:</p>\n\n<pre><code>android.database.sqlite.SQLiteException: no such column: -1: , while\ncompiling: SELECT _id, hourMin, actions FROM profiles WHERE type=2 AND\nhourMin &gt; -1 AND days &amp; 8 != 0 AND prof_id &gt;&gt; 16 IN (256) ORDER BY hourMin\nASC LIMIT 1\n</code></pre>\n\n<p>For some reason, \"-1\" is interpreted as a column rather than a number... that doesn't make much sense and when I read the SQLite query language I see no need to escape this number in parentheses. Could it be an issue of a different version of SQLite? Would adding parentheses this help any? Instead, I'll probably rewrite it using >= 0 but still I'd like to understand what's going on.</p>\n"},{"tags":["database","query","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":48,"score":1,"question_id":12833905,"title":"Update a column after joining two tables with where clause","body":"<p>I have two tables</p>\n\n<p>threads table</p>\n\n<pre><code>_id   recipient_id    type\n 1     1\n 2     1\n 3     2\n</code></pre>\n\n<p>and addresses table  </p>\n\n<pre><code>_id    address\n1      HELLO\n2      BYE \n</code></pre>\n\n<p>recipient_id is mapped to addresses table's _id</p>\n\n<p>I need to update <code>type</code> to a specific value if address is HELLO. How do i do it? I have already tried</p>\n\n<pre><code>UPDATE   threads SET threads.type = 106 FROM threads  \n   INNER JOIN \n   addresses  ON addresses._id = threads.recipient_ids\n    AND\n   addresses.address LIKE '%HELLO%';\n</code></pre>\n\n<p>But i am getting an error <code>near \".\": syntax error</code> . \nWhat is the correct syntax to update a column?</p>\n"},{"tags":["android","sqlite","android-ndk","spatialite"],"answer_count":5,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":3465,"score":4,"question_id":5145388,"title":"Android NDK build of spatialite?","body":"<p>I'm attempting to build a copy of sqlite with spatialite extensions. I've seen the <a href=\"http://gis.stackexchange.com/questions/3554/spatialite-on-android\">one</a> or <a href=\"http://www.mail-archive.com/android-porting@googlegroups.com/msg11504.html\" rel=\"nofollow\">two</a> related posts online related to this issue, but no one seems to have gone all the way.</p>\n\n<p>I've downloaded the spatialite <a href=\"http://www.gaia-gis.it/spatialite/sources.html\" rel=\"nofollow\">amalgamation</a>, GEOS and PROJ sources. I've created empty Android projects and moved the uncompressed files into the jni/ directory. The wall I'm running into now is creating the jni/Android.mk file. Does anyone have an example for the GEOS or PROJ dependencies? Has anyone been able to work through this process since the last stackexchange question linked to above?</p>\n"},{"tags":["android","sqlite","listview","simplecursoradapter","simpleadapter"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":189,"score":2,"question_id":8758056,"title":"Getting the _id of the rows in ListVew right","body":"<p>I have a <code>ListView</code> which shows a bunsh of values from a SQLite table. First I used a <code>SimpleCursorAdapter</code> to fill the <code>ListView</code> based on a Cursor from an SQL query. I switched over to using a <code>SimpleAdapter</code> in stead because I had to manipulate/add data in the list before sending it over to the <code>ListView</code>. </p>\n\n<p>Using the <code>SimpleCursorAdapter</code> the id returned from the <code>ListView</code> after tapping a row is the correct ID from the database table, but using a <code>SimpleAdapter</code> the id looks like its just generated by the <code>ListView</code> because it is the same as the position.</p>\n\n<p>My table looks like this:</p>\n\n<p><code>_id | col1 | col2 | col3</code></p>\n\n<p>The method producing the cursor for the <code>SimpleCursorAdapter</code> looks like this:</p>\n\n<pre><code>public Cursor fetchDataAsCursor()\n{\n  return db.query(\"table_name\", new String[] { \"_id\", \"col1\", \"col2\"}, null, null, null, null, null);\n}\n</code></pre>\n\n<p>The method filling in the <code>ListView</code> using <code>SimpleCursorAdapter</code> looks like this:</p>\n\n<pre><code>  private void simpleFillData()\n  {\n    Cursor cursor = dbAdapter.fetchDataAsCursor();\n    startManagingCursor(cursor);\n\n    String[] from = new String[] {\"col1\", \"col2\"};\n    int[] to = new int[] {R.id.col1, R.id.col2};\n\n    SimpleCursorAdapter notes = new SimpleCursorAdapter(this,\n        R.layout.list_row, cursor, from, to);\n    setListAdapter(notes);\n  }\n</code></pre>\n\n<p>This works fine as the id returned is ok in the following method:</p>\n\n<pre><code>  protected void onListItemClick(ListView l, View v, int position, long id)\n  {\n    super.onListItemClick(l, v, position, id);\n    Intent i = new Intent(this, DetailActivity.class);\n    i.putExtra(\"_id\", id);\n    startActivityForResult(i, ACTIVITY_EDIT);\n  }\n</code></pre>\n\n<p>Now switching over to the <code>SimpleAdapter</code>.</p>\n\n<p>The code for producing the <code>List</code>:</p>\n\n<pre><code>  public ArrayList&lt;HashMap&lt;String, Object&gt;&gt; getList()\n  {\n    ArrayList &lt;HashMap&lt;String, Object&gt;&gt; list = new ArrayList();\n\n    c = fetchDataAsCursor();\n    c.moveToFirst();\n    for(int i = 0; i &lt; c.getCount(); i++)\n    {    \n      HashMap&lt;String, Object&gt; h = new HashMap&lt;String, Object&gt;();\n      h.put(\"_id\", c.getLong(0));\n      h.put(\"col1\", c.getString(1));\n      h.put(\"col2\", c.getString(2));\n\n      //This is the extra column\n      h.put(\"extra\", calculateSomeStuff(c.getString(1), c.getString(2));\n      list.add(h);\n      c.moveToNext();\n    }\n\n    return list;\n  }\n</code></pre>\n\n<p>And then for the method which fills the <code>ListView</code>:</p>\n\n<pre><code>private void fillData()\n  {\n    ArrayList&lt;HashMap&lt;String, Object&gt;&gt; list = dbAdapter.getList();\n    String[] from = new String[] {\"col1\", \"col2\", \"extra\"};\n    int[] to = new int[] {R.id.col1, R.id.col2, R.id.extra};\n    SimpleAdapter notes = new SimpleAdapter(this, list, R.layout.list_row, from, to);\n    setListAdapter(notes);\n  }\n</code></pre>\n\n<p>In this last method the <code>ListView</code> failes to pick up the <code>_id</code> value in the list. I would have guessed that it would do this automaticly as it does when using a <code>SimpleCursorAdapter</code></p>\n\n<p>Is there a way to manipulate the id of a row in a <code>ListView</code> to be sure that it has the same value as the <code>_id</code> key in the database table?</p>\n\n<p>(All code examples is greatly simplified)</p>\n\n<p><em><strong>Edit:</em></strong></p>\n\n<p>I figured it out. I had to make my own subclass of <code>SimpleAdapter</code> which overrides <code>public long getItemId(int position)</code></p>\n\n<pre><code>public class MyListAdapter extends SimpleAdapter\n{\n  private final String ID = \"_id\";\n  public PunchListAdapter(Context context, List&lt;? extends Map&lt;String, ?&gt;&gt; data, int resource, String[] from, int[] to)\n  {\n    super(context, data, resource, from, to);\n  }\n\n  @Override\n  public long getItemId(int position)\n  {\n    Object o = getItem(position);\n    long id = position;\n    if(o instanceof Map)\n    {\n      Map m = (Map)o;\n      if(m.containsKey(ID))\n      {\n        o = m.get(ID);\n        if(o instanceof Long)\n          id = (Long)o;\n      }\n    } \n    return id;\n  }\n}\n</code></pre>\n"},{"tags":["android","sqlite","sql-update"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":2,"view_count":68,"score":0,"question_id":12814026,"title":"update is not working in Sqlite","body":"<p>HI all i have to update row in <code>SQLite</code>database table,i'm using update query for update row but it's not working also not throw any error.</p>\n\n<p><strong>MY CODE:</strong></p>\n\n<pre><code>database.rawQuery(\" UPDATE content SET  url2g = replace(url2g, '\"\n                + current_ip + \"', '\" + ip + \"');\", null);\n</code></pre>\n\n<p>please suggest me where i'm wrong.<code>Thanks</code></p>\n"},{"tags":["android","sqlite"],"answer_count":7,"favorite_count":9,"up_vote_count":22,"down_vote_count":0,"view_count":13592,"score":22,"question_id":2528489,"title":"No such table android_metadata, what's the problem?","body":"<p>I am copying a pre-existing database to <code>/data/data/packagename/databases</code> using code learned from <a href=\"http://www.reigndesign.com/blog/using-your-own-sqlite-database-in-android-applications/\">using-your-own-sqlite-database-in-android-applications</a></p>\n\n<p>After copying, I recieve the following log message on opening the database:</p>\n\n<p>No such table android_metadata</p>\n\n<p>Do I need to create a table named android_metadata? And what the values do i need insert into this database table</p>\n\n<p>Thanks very much</p>\n"},{"tags":["java","android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":74,"score":-1,"question_id":12832067,"title":"Date format in android 11 Oct 2012 15:40","body":"<p>I want to insert date in below format in sqlite through android:</p>\n\n<p>11 Oct 2012 15:40</p>\n\n<p>Please help me how to achieve this??</p>\n"},{"tags":["android","image","sqlite"],"answer_count":4,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":6056,"score":1,"question_id":5418211,"title":"How to insert an image into sqlite database?","body":"<p>I have tried the following code :</p>\n\n<p>1.Code to convert bitmap to byte array :</p>\n\n<pre><code>private byte[] bitmaptoByteArray( Bitmap bmp)\n      {\n          ByteArrayOutputStream stream = new ByteArrayOutputStream();\n          bmp.compress(Bitmap.CompressFormat.PNG, 100, stream);\n          byte[] byteArray = stream.toByteArray();\n          return byteArray;\n      }\n</code></pre>\n\n<p>2.Code which to insert the values into DB</p>\n\n<pre><code>  public void insertIntoImageTable( int companyid , String productname , String productdesc , byte[] bmp )\n      {\n          ContentValues values = new ContentValues();\n            values.put(dataBaseHelper.COMPANY_ID, companyid);           \n            values.put(dataBaseHelper.PRODUCT_NAME, productname);\n            values.put(dataBaseHelper.PRODUCT_DESCRIPTION, productdesc);\n            values.put(dataBaseHelper.PRODUCT_IMAGE, bmp);\n            try\n            {\n                db.insert(dataBaseHelper.IMAGE_DATA, null, values);\n            }\n            catch( Exception e)\n            {\n                e.printStackTrace();\n            }\n      }\n</code></pre>\n\n<p>I get nullpointer exception.</p>\n\n<p>Call from the function to put data into DB :</p>\n\n<pre><code>   insertIntoImageTable( 7 , productname[0] , productdesc[0] , barry);\n</code></pre>\n\n<p>All the three bits of code are in the same class file.</p>\n\n<p>Edit: The stack trace is as below.</p>\n\n<pre><code>03-24 16:04:26.245: WARN/System.err(13255): java.lang.NullPointerException\n03-24 16:04:26.265: WARN/System.err(13255):     at com.omkarsoft.ImagePortofolio.sqlQueries.insertIntoImageTable(sqlQueries.java:101)\n03-24 16:04:26.275: WARN/System.err(13255):     at com.omkarsoft.ImagePortofolio.sqlQueries.upLoadtoDatabase(sqlQueries.java:118)\n03-24 16:04:26.305: WARN/System.err(13255):     at com.omkarsoft.ImagePortofolio.ImageAdapter.&lt;init&gt;(ImageAdapter.java:58)\n03-24 16:04:26.315: WARN/System.err(13255):     at com.omkarsoft.ImagePortofolio.imageGridView.onCreate(imageGridView.java:42)\n03-24 16:04:26.335: WARN/System.err(13255):     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)\n03-24 16:04:26.335: WARN/System.err(13255):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1611)\n03-24 16:04:26.355: WARN/System.err(13255):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1663)\n03-24 16:04:26.385: WARN/System.err(13255):     at android.app.ActivityThread.access$1500(ActivityThread.java:117)\n03-24 16:04:26.385: WARN/System.err(13255):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:931)\n03-24 16:04:26.415: WARN/System.err(13255):     at android.os.Handler.dispatchMessage(Handler.java:99)\n03-24 16:04:26.415: WARN/System.err(13255):     at android.os.Looper.loop(Looper.java:123)\n03-24 16:04:26.435: WARN/System.err(13255):     at android.app.ActivityThread.main(ActivityThread.java:3683)\n03-24 16:04:26.445: WARN/System.err(13255):     at java.lang.reflect.Method.invokeNative(Native Method)\n03-24 16:04:26.455: WARN/System.err(13255):     at java.lang.reflect.Method.invoke(Method.java:507)\n03-24 16:04:26.475: WARN/System.err(13255):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)\n03-24 16:04:26.475: WARN/System.err(13255):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)\n03-24 16:04:26.505: WARN/System.err(13255):     at dalvik.system.NativeStart.main(Native Method)\n</code></pre>\n"},{"tags":["java","sqlite","dbms"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":70,"score":0,"question_id":9351570,"title":"Selecting a DBMS","body":"<p>I'm developing an application for data gathering from Internet and creating charts and plots from them with Java.<br>\nI need 2 tables (each about 50 columns) and each can have 2000 (maybe less but not more) rows of data in a day.<br>\nCurrently I'm using SQLite but I doubt it be able to handle data for 6 month.<br>\nWhat DBMS you suggest me to use?</p>\n\n<p>Thanks</p>\n"},{"tags":["ruby-on-rails","sqlite","postgresql"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":12828342,"title":"Load legacy sqlite3 db into postgresql on Heroku","body":"<p>I have an sqlite3 database with data I want to load into my Heroku app's postgres db.</p>\n\n<p>What's the best way to do this?</p>\n\n<p>I was going to try exporting the records (it's a single table) to a yaml file and then uploading that file to heroku and initializing new records from it, but I ran into encoding issues. Those problems aside, is that a good approach? What's a better way of solving that problem?</p>\n"},{"tags":["android","sqlite","ormlite","fts3"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":12811795,"title":"How to create virtual table for FTS3 with ORMLite","body":"<p>I  couldn't found a way to use <a href=\"http://www.sqlite.org/fts3.html\" rel=\"nofollow\">FTS3</a> with ormlite because, first of all, I have problem with creating a virtual table which is in native sqlite:</p>\n\n<pre><code>CREATE VIRTUAL TABLE enrondata1 USING fts3(content TEXT);\n</code></pre>\n\n<p>But ORMLite calls the below method for creating a simple table</p>\n\n<p><a href=\"http://ormlite.com/javadoc/ormlite-core/com/j256/ormlite/table/TableUtils.html#createTable%28com.j256.ormlite.support.ConnectionSource,%20java.lang.Class%29\" rel=\"nofollow\"><code>TableUtils.createTable(ConnectionSource connectionSource,                             Class&lt;T&gt; dataClass);</code></a></p>\n\n<p>In this answer for the question: <a href=\"http://stackoverflow.com/questions/10904558/fts3-searches-in-ormlite\">FTS3 searches in ORMLite?</a>, written about using ORMLite's <a href=\"http://ormlite.com/docs/raw-queries\" rel=\"nofollow\">raw query</a> interface, unfortunately, I could not find a way to create a table with it.</p>\n\n<p>How can I use FTS3 with ormlite?</p>\n"},{"tags":["ios","web-services","sqlite","text","xcode4"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":67,"score":-2,"question_id":12820681,"title":"SQLite vs. Text file in IOS development XCode4.2","body":"<p>Currently, I cannot decide what should i use text file or SQLite for my IOS application (target to ipad). i have 5000 records to retrieve from web service and save into some repository. my first idea is to save all records inside into text file but it will slow and so many processes for specific record searching. searching from text file is so troublesome than searching from database. but i am totally newbie in SQLite. my concern is if i use SQLite, will it be  effect the user? do user need to download any file to run application?  </p>\n"},{"tags":["ios","sqlite","titanium","titanium-mobile"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":68,"score":0,"question_id":12824054,"title":"How save db file in document directory using Titanium","body":"<p>I want to save database file in <strong>Documents Directory</strong> instead of <strong>/Library/Private Documents</strong> folder using Titanium APIs. </p>\n\n<pre><code>var database = Titanium.Database.install('/db/Database.sqlite',DatabaseHandler.DB_NAME);\n</code></pre>\n\n<p>And it is getting saved into</p>\n\n<pre><code>iPhone Simulator/5.0/Applications/B750AD49-5879-4ABD-B903-C76A03833BE4/Library/Private Documents/Database.sql\n</code></pre>\n\n<p>whereas we are requiring it in</p>\n\n<pre><code>iPhone Simulator/5.0/Applications/B750AD49-5879-4ABD-B903-C76A03833BE4/Documents/dbDir/Database.sql\n</code></pre>\n\n<p>or</p>\n\n<pre><code>iPhone Simulator/5.0/Applications/B750AD49-5879-4ABD-B903-C76A03833BE4/Documents/Database.sql\n</code></pre>\n\n<p>The basic requirement is, we don't want the user's data lost on new app updates. On new app updates from App Store, only document directory data is saved, and rest all data is deleted.</p>\n\n<p>And if I am manually moving db file with :</p>\n\n<pre><code>if(Ti.Platform.osname === 'iphone'){\n  var dbFile = database.file;\n  var filePath = String.format('%s/%s.sql',dbDir.resolve(),DatabaseHandler.DB_NAME);\n  Ti.API.info(filePath);\n  var result = dbFile.move(filePath);\n  Ti.API.info(result);   \n}\n</code></pre>\n\n<p>Then on running application, I am getting issue with message :</p>\n\n<blockquote>\n  <p>message = \"invalid SQL statement. Error Domain=com.plausiblelabs.pldatabase Code=3 \\\"An error occured parsing the provided SQL statement.\\\" UserInfo=0x9c14ed0 {com.plausiblelabs.pldatabase.error.vendor.code=1, NSLocalizedDescription=An error occured parsing the provided SQL statement., com.plausiblelabs.pldatabase.error.query.string=SELECT * FROM UserProfile, com.plausiblelabs.pldatabase.error.vendor.string=no such table: UserProfile}  in -[TiDatabaseProxy execute:] (TiDatabaseProxy.m:186)\"</p>\n</blockquote>\n"},{"tags":["java","php","android","mysql","sqlite"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":62,"score":0,"question_id":12825697,"title":"Android, and creating a very simplistic database","body":"<p>I'm creating an Android application that essentially does nothing but adding '1' to\nnumbers it would get from a database. After that write the new number to the database. However I'm kind of new to the whole Android thing and I can't seem to find any solution on this site or any other for that matter. Basically I know that you can use two kinds of database connections in Android:\nCreate an SQLite database, and connect to that. Which  wouldn't be too hard, but the budget for the app is a simple 0$, so I can't afford hosting a server, and free hosting services aren't around for SQLite. And although the traffic is going to be extemely minimal (10 users tops) hosting it myself isn't an option.</p>\n\n<p>Now the second way would be, using a differenct database like MySQL and creating a webservice in PHP to interact with the application. However the same issue pops up but I got a site which allows free MySQL hosting and enables PHP features. However I can't seem to figure out how the hell I could connect to this database or even go about creating a webservice in PHP (never done this before). </p>\n\n<p>Also, isn't there a simpler way to go about this problem? Thank you in advance.</p>\n"},{"tags":["sqlite","bash"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":12825431,"title":"Combine two SQLite databases in bash","body":"<p>I have two databases that are created in a bash file, let's call them <code>1.sqlite</code> and <code>2.sqlite</code>.  I'd like to combine them into a new database (<code>3.sqlite</code>).  Is there a command in bash that'll do that?</p>\n\n<p>Edit:</p>\n\n<p>The answer that sputnick gave me got me on the right track.  But I had to rearrange it to be:</p>\n\n<pre><code>sqlite3 1.sqlite .dump &gt; tempdb.sqlite\n</code></pre>\n"},{"tags":["javascript","jquery","mysql","oracle","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":367,"score":-1,"question_id":10382243,"title":"How many ways To Connect Database Server using JavaScript?","body":"<p>I want to know how many ways we can get Server Database using JavaScript like using mongo db ,SQLite or any other ways to connect Server database</p>\n"},{"tags":["android","sqlite","service","listactivity"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":77,"score":0,"question_id":12822985,"title":"Auto updating of ListActivity when sqlite database changes","body":"<p>I have an android application that has a background service which polls a web service for new information and writes it into a sqlite database for my application.  The Application also has a list activity that displays the data from this sqlite database.</p>\n\n<p>Basically I want the list to auto update while looking at it if new data comes into the sqlite database from the service writing to it. I could just provide a refresh button of sorts but it would be nice if it would auto update.  Is there an easy way to do that?  Should the service just fire an event that the listactivity subscribes to and invalidate the adapter?  Or is there a way for the adapter to be based off of a cursor or something and automatically update when the underlying data changes?  Just trying to architecturally think through this and want the best and most maintainable (and quick to develop) method.  I'm curious if I've missed a possibility that would make this much easier.</p>\n\n<p>By the way, I'm using Mono for Android (company policy, not my choice).</p>\n"},{"tags":["android","json","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":118,"score":-1,"question_id":12823322,"title":"Insert JSON data into Android's SQLite database","body":"<p>I have this JSON:</p>\n\n<pre><code>[\n    {\n        \"establecimiento\": \"Establecimiento 123\",\n        \"direccion\": \"632-8165 Non Road\"\n    },\n    {\n        \"ruta\": \"La Castellana\"\n    },\n    {\n        \"formulario\": \"Encuesta Libre\"\n    },\n    {\n        \"cliente\": \"Lavasoft\"\n    },\n    {\n        \"texto\": \"1) FALTA DE PRODUCTO\",\n        \"tipopregunta\": \"Seleccion Simple\",\n        \"tipodato\": \"String\"\n    },\n    {\n        \"texto\": \"2) PRE VENDEDOR NO VISITA\",\n        \"tipopregunta\": \"Si o No\",\n        \"tipodato\": \"String\"\n    },\n    {\n        \"texto\": \"3) ENTREGADOR NO DESPACHA\",\n        \"tipopregunta\": \"Si o No\",\n        \"tipodato\": \"String\"\n    },\n    {\n        \"texto\": \"4) NEVERA FUERA DE SERVICIO\",\n        \"tipopregunta\": \"Seleccion Simple\",\n        \"tipodato\": \"String\"\n    },\n    {\n        \"texto\": \"5) NEVERA CONTAMINADA\",\n        \"tipopregunta\": \"Seleccion Simple\",\n        \"tipodato\": \"String\"\n    },\n    {\n        \"texto\": \"6) CLIENTE EXCLUSIVO DE LA COMPETENCIA\",\n        \"tipopregunta\": \"Si o No\",\n        \"tipodato\": \"String\"\n    },\n    {\n        \"texto\": \"7) FALTA DE MATERIAL POP EN PDV\",\n        \"tipopregunta\": \"Si o No\",\n        \"tipodato\": \"String\"\n    },\n    {\n        \"texto\": \"8) CLIENTE CERRADO\",\n        \"tipopregunta\": \"Si o No\",\n        \"tipodato\": \"String\"\n    },\n    {\n        \"texto\": \"9) NEGACIÓN POR PARTE DEL CLIENTE\",\n        \"tipopregunta\": \"Si o No\",\n        \"tipodato\": \"String\"\n    },\n    {\n        \"texto\": \"10) PRODUCTO VENCIDO\",\n        \"tipopregunta\": \"Seleccion Simple\",\n        \"tipodato\": \"String\"\n    },\n    {\n        \"texto\": \"11) PROMOCIONES ESPECIALES\",\n        \"tipopregunta\": \"Si o No\",\n        \"tipodato\": \"String\"\n    }\n]\n</code></pre>\n\n<p>And I want to put this data inside my SQLite tables, which are already created.</p>\n\n<pre>\"establecimiento\" and \"direccion\" must be in table Establishment\n\"ruta\" must be in table Route\n\"formulario\" must be in table Form\n\"cliente\" must be in table Client\n\"texto\", \"tipopregunta\" and \"tipodato\" must be in table Measurement</pre>\n\n<p>So how do I parse this JSON correctly? Note that this JSON is an answer from several queries against the database in my server and I already have this JSON inside a JSONArray object.</p>\n"},{"tags":["ios","cocoa","file","sqlite","copy-item"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":53,"score":1,"question_id":12823090,"title":"Why does the copyItemAtPath:toPath:userPath failed to copy the file when the file really exists? NSFileNoSuchFileError, Cocoa Error Code 4","body":"<pre><code>- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions\n{\n// Override point for customization after application launch.\nif ([[UIDevice currentDevice] userInterfaceIdiom] == UIUserInterfaceIdiomPad) {\nUISplitViewController *splitViewController = (UISplitViewController *)self.window.rootViewController;\nUINavigationController *navigationController = [splitViewController.viewControllers lastObject];\nsplitViewController.delegate = (id)navigationController.topViewController;\n}\n\n\nNSString *dbFilename = @\"CoordinatesDatabase.sql\";\nNSString *userPath = [[CoordinatesAppDelegate applicationDocumentsDirectory] stringByAppendingPathComponent: dbFilename];\nNSString *srcPath = [[[NSBundle mainBundle] resourcePath] stringByAppendingPathComponent: dbFilename];\nNSLog(@\"userPath %@\", userPath);\nNSLog(@\"srcPath %@\", srcPath);\nNSFileManager *fileManager = [NSFileManager defaultManager];\n\nBOOL foundInBundle = [fileManager fileExistsAtPath: srcPath];\nBOOL foundInUserPath = [fileManager fileExistsAtPath: userPath];\nBOOL copySuccess = FALSE;\n\nNSError *error;\n\nif(foundInBundle)\n{\n    if(!foundInUserPath)\n    {\n        NSLog(@\"don't have copy, copy one\");\n        copySuccess = [fileManager copyItemAtPath: srcPath toPath: userPath error: &amp;error];\n    }\n    if(!copySuccess)\n    {\n        NSLog(@\"Failed with message: %@'.\", [error localizedDescription]);\n    }\n}\nelse\n{\n    NSLog(@\"Some error\");\n}\nreturn YES;\n}\n</code></pre>\n\n<p>According to foundInBundle, the CoordinatesDatabase.sql exists in the application bundle. Why can't the \"copySuccess = [fileManager copyItemAtPath: srcPath toPath: userPath error: &amp;error];\" be successful?</p>\n\n<p>The error it produces is something like \"Operation couldn't be completed. Cocoa Error 4\". According to my googling, Cocoa Code Error 4 means NSFileNoSuchFileError but I'm really sure that the CoordinatesDatabase.sql is there in the app bundle.</p>\n\n<p>Or am I wrong that CoordintesDatabase.sql does exist in the app bundle?</p>\n"},{"tags":["android","sqlite","sqlite3","sqlcipher"],"answer_count":1,"favorite_count":1,"up_vote_count":5,"down_vote_count":0,"view_count":130,"score":5,"question_id":12822104,"title":"Android using SQLCipher - how can you decrypt?","body":"<p>I think this question has been asked, however I have tried several of the examples to no avail.  My issue is this ... I have an Android app setup to use the SQLCipher DB encryption, which works fine, on the device.</p>\n\n<p>In testing on an emulator, if I download the Database file using the DDMS, how do I read that file to check tables and data?  I have tried using the command shell for SQLite3, and the ATTACH examples, however each time I do so, I just get the following message 'Error: file is encrypted or not a database'.  This certainly shows that the ENCRYPT is working, but how I do I properly DECRYPT outside the emulator/eclipse?</p>\n\n<p>Do I need a different SQLite client? Anyone else get stuck on this?</p>\n\n<p>I a using: SQLCipher for Android 2.0.8 06/14/2012</p>\n\n<p>Any help? Thanks</p>\n"},{"tags":["sqlite","visual-studio-2012","datasource","designer"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":187,"score":1,"question_id":12809929,"title":"SQLite 1.0.82.0 (latest) in Visual Studio 2012 not showing in Designer Data Source","body":"<p>I am using the latest version, 1.0.82.0 (sqlite-netFx40-setup-bundle-x86-2010-1.0.82.0.exe), and am using the released version of Visual Studio 2012 with all the latest everything.</p>\n\n<p>I do not see the SQLite in the Designer Data Source in Source Explorer (new Connections).</p>\n\n<p>The download on SQLite states, \"This setup package is capable of installing the design-time components for Visual Studio 2010\".  I presume the \"Visual Studio 2010\" part is why I do not see the designer in VS2012, which is what I have.</p>\n\n<p>How can I get the designer to work with VS2012?</p>\n\n<p>When will the System.Data.SQLite.org team come out with a version that works with VS 2012?</p>\n\n<p>(I did see a couple of posts back in July which talked about 1.0.66 and 1.0.73, but that was then and 1.0.82 includes the designers just for VS 2010 apparently.  I see other file names with \"-2008\" presumably for Visual Studio 2008.  That means that a Visual Studio 2012 will probably come, but in the mean time, I am curious about a manual registry hack or something like that.)</p>\n"},{"tags":["android","sql","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":12822098,"title":"How delete entries in sqlite database based on timestamp on android","body":"<p>My Android app has an SQLite database table with entries as follows:</p>\n\n<pre><code>USER_ID | NAME | MESSAGE | TIMESTAMP\n</code></pre>\n\n<p>where the timestamp is stored in a  String in format:</p>\n\n<pre><code>\"2012-10-10T03:14:32+0000\"\n</code></pre>\n\n<p>I'm looking for a way to delete entries older than 3 days.</p>\n\n<p>The table is likely to have less than 3,000 rows at a time.</p>\n\n<p>I'm new to SQL and my question is how can I approach this in SQL for SQLite? Is there a less expensive way to do this in SQL than to iterate all posts in Java?</p>\n"},{"tags":["android","sql","sqlite"],"answer_count":3,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":103,"score":5,"question_id":12821119,"title":"How implement one-to-many objects database in sqlite for android","body":"<p>I'm quite new to <code>SQLite</code> and <code>SQL</code> and I am struggling with how to approach the following:</p>\n\n<p>My app will display a list of community members. If I click a member, I can see a list of posts made by the members. A post is an object with name, time and message. How can I store this in an <code>SQLite</code> database so that I can query the database by <code>userid</code> and get the list of posts for a specific user. </p>\n\n<p>I have a Users table with these columns:<br/></p>\n\n<pre><code>USER_ID | NAME\n</code></pre>\n\n<p>I have a Tweet table with these columns:</p>\n\n<pre><code>USER_ID | NAME | TIME | MESSAGE\n</code></pre>\n\n<p>My questions are: what the best approach / structure to <code>link</code> these two tables? Do I create a new tweet table for every user, or do I store all tweets in one long table with tweets for user 1 first then for user 2 etc?</p>\n\n<p>I'm not necessarily looking for code dumps but rather an explanation of the logic.</p>\n"},{"tags":["iphone","sql-server","sqlite"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":1184,"score":2,"question_id":3033369,"title":"iPhone connect to SQL server","body":"<p>Since i am new to iphone and mac dev, which is the suggested way to connect your application to an sql server/sql server express 2005 database (in my case to sync data with sqlite)?</p>\n\n<p>Thank you</p>\n"},{"tags":["android","sqlite","listview","android-intent","android-arrayadapter"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":83,"score":1,"question_id":12819501,"title":"How I can fill my ListView in Android","body":"<p>I new in the Android Programming and I want built a digital Schoolplan. For this I use a few Activities. I want create a plan and list them in a ListView that the User can click in the ListView on this Control and see all Homeworks and so. </p>\n\n<p>Here is my Idea: </p>\n\n<p><img src=\"http://i.stack.imgur.com/Xfy0l.jpg\" alt=\"enter image description here\"></p>\n\n<p>I build a Activity for the CreateMain:</p>\n\n<pre><code> public void createPlan(View view)\n    {\n        String PlanName;\n\n        Intent intent = new Intent(this,ListenActivity.class);\n\n        EditText planName = (EditText)findViewById(R.id.editText1);\n\n        PlanName = planName.getText().toString();\n\n        intent.putExtra(ListViewMessage, PlanName); \n\n        startActivity(intent);\n\n    }\n</code></pre>\n\n<p>And a Activity for show the create data in a ListView </p>\n\n<pre><code>import android.os.Bundle;\nimport android.view.Menu;\nimport java.util.List;\nimport android.app.ListActivity;\nimport android.widget.ArrayAdapter;\n\npublic class ListenActivity extends ListActivity {\n\n    private CommentsDataSource datasource;\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_open);\n\n        datasource = new CommentsDataSource(this);\n        datasource.open();\n\n        List&lt;Comment&gt; values = datasource.getAllComments();\n\n        // Use the SimpleCursorAdapter to show the\n        // elements in a ListView\n        ArrayAdapter&lt;Comment&gt; adapter = new ArrayAdapter&lt;Comment&gt;(this,\n            android.R.layout.simple_list_item_1, values);\n        setListAdapter(adapter);\n\n        Comment comment = null;\n\n          String[] comments = new String[] { \"t1\", \"t2\", \"t3\" };\n\n          comment = datasource.createComment(comments[1]); \n\n          adapter.add(comment);\n\n        adapter.notifyDataSetChanged();\n\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        getMenuInflater().inflate(R.menu.activity_list, menu);\n        return true;\n    }\n}\n</code></pre>\n\n<p>But I don't know how I can use the data from the activity before for this activity in my ListView. I want to use a SQLite database but it don't work :( </p>\n"},{"tags":["c#","sql-server","sqlite","unit-testing","unity"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":80,"score":1,"question_id":12819728,"title":"Leaving a Database Connection Open?","body":"<p>My web application has the following class:</p>\n\n<pre><code>public class DatabaseProvider {\n    private readonly IDbConnection _cn;\n\n    public DatabaseProvider(IDbConnection cn) {\n        _cn = cn;\n    }\n\n    public void ExecuteNonQuery(string query) {\n        // Execute the query\n        var cmd = _cn.CreateCommand();\n        cmd.CommandText = query;\n        cmd.ExecuteNonQuery();\n    }\n}\n</code></pre>\n\n<p>Where the IDbConnection dependency is declared using the following code (with Microsoft Unity):</p>\n\n<pre><code>container.RegisterType&lt;IDbConnection&gt;(new InjectionFactory(c =&gt; {\n    var cn = new SqlConnection(\"...\");\n    cn.Open();\n    return cn;\n}));\n</code></pre>\n\n<p>This allows me to swap out the connection to SQLite like so:</p>\n\n<pre><code>container.RegisterType&lt;IDbConnection&gt;(new InjectionFactory(c =&gt; {\n    var cn = new SQLiteConnection(\"Data Source=:memory:;Version=3;\");\n    cn.Open();\n    return cn;\n}));\n</code></pre>\n\n<p>I use SQLite when testing and the connection must remain open otherwise the data is lost. Therefore I can't just open and close the connection when needed.</p>\n\n<p>I have always opened the connection to the database when it was needed and was wondering whether this will scale for large applications?</p>\n\n<p>I'd appreciate any advice on how this can be improved. Thanks</p>\n"},{"tags":["android","sqlite","listview","bytearray","blob"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":328,"score":1,"question_id":8460628,"title":"null pointer exception getting blob into listview imageview","body":"<p>i have column that is populated with byte[] aka image. I want to take that image and add it to my listview depending on my row... I have an XML file that has 2 textViews and an imageView, and here is my attempt at the code to get the image into the imageView.. </p>\n\n<pre><code>public class CBFilter extends ListActivity {\n\nListView RecipeNames;\nCursor cursor, cursor2;\nSimpleCursorAdapter adapter;\nCBDataBaseHelper data;\nSQLiteDatabase data2;\nTextView RecipeText, RowId;\nString[] from = { CBDataBaseHelper.KEY_NAME };\nint[] to = { R.id.row};\nImageView image;\n\n\npublic void onCreate(Bundle savedInstanceState) {\n\nsuper.onCreate(savedInstanceState);\nsetContentView(R.layout.main);\nboolean diditwork;\ntry{\nRecipeNames = (ListView) findViewById(android.R.id.list);\nRecipeNames.setTextFilterEnabled(true);\n\n\nimage = (ImageView) findViewById(R.id.RecipeImage);\n/* image.setImageBitmap(BitmapFactory.decodeByteArray(dataImage, 0, dataImage.length));*/\n\nRecipeText = (TextView) findViewById(R.id.recipeText);\nadapter = new SimpleCursorAdapter (this, 0, cursor, null, null);\nimage = (ImageView) findViewById(R.id.RecipeImage);\ndata = new CBDataBaseHelper(this);\n\ndata.open();\ncursor = data.query();\nstartManagingCursor(cursor);\nadapter = new SimpleCursorAdapter(this, R.layout.row, cursor, from, to);\nRecipeNames.setAdapter(adapter);\nadapter.notifyDataSetChanged();\n\nbyte[] blob=cursor.getBlob(4);\nBitmap bmp=BitmapFactory.decodeByteArray(blob,0,blob.length);\nimage=new ImageView(this);\nimage.setImageBitmap(bmp);\n\n\n}catch(Exception e){\n    diditwork = false;\n    String error = e.toString();\n    Dialog d = new Dialog(this);\n    d.setTitle(\"darn\");\n    TextView tv = new TextView(this);\n    tv.setText(error);\n    d.setContentView(tv);\n    d.show();\n}}\n\n\npublic void CreateNew(View view){\n\n    Intent myIntent = new Intent(this, CBCreate.class);\n    startActivity(myIntent);\n}\n\n@Override\npublic void onListItemClick(ListView parent, View v, int position, long id) {\n    super.onListItemClick(parent, v, position, id);\n    Intent intent1 = new Intent(this, CBCreate.class);\n    long rowId = cursor.getLong(cursor.getColumnIndex(CBDataBaseHelper.KEY_ROWID));\n    String s = String.valueOf(rowId);\n    intent1.putExtra(\"SELECTED\", s);\n    startActivity(intent1);\n}\n\n\n\n\n\n}\n\n\n}\n</code></pre>\n\n<p>ok so this is my DBHelper class, call the method query()... </p>\n\n<pre><code>public class CBDataBaseHelper {\n\npublic static final String KEY_ROWID = \"_id\";\npublic static final String KEY_NAME = \"Recipe_Name\";\npublic static final String KEY_CATEGORY = \"Recipe_Category\";\npublic static final String KEY_DESCRIPTION = \"Recipe_Description\";\npublic static final String KEY_IMAGE = \"Recipe_Image\";\n\npublic static final String KEY_ROWID2 = \"_id\";\npublic static final String fKEY_ROWID2 = \"f_id\";\npublic static final String KEY_NAME2 = \"Ingredient_Name\";\n\nprivate static final String DATABASE_NAME = \"Recipedb\";\nprivate static final String DATABASE_TABLE = \"RecipeData\";\nprivate static final String DATABASE_TABLE2 = \"IngredientData\";\nprivate static final int DATABASE_VERSION = 1;\n\nprivate DBHelper myHelper;\nprivate final Context mycontext;\nprivate SQLiteDatabase mydatabase;\n\nprivate static class DBHelper extends SQLiteOpenHelper {\n    public DBHelper(Context context) {\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\n\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db)  {\n        // TODO Auto-generated method stub\n\n        db.execSQL(\"CREATE TABLE \" + DATABASE_TABLE + \"( \" + KEY_ROWID\n                + \" INTEGER PRIMARY KEY AUTOINCREMENT, \" + KEY_NAME\n                + \" TEXT NOT NULL, \" + KEY_CATEGORY + \" TEXT NOT NULL,\"\n                + KEY_DESCRIPTION + \" TEXT NOT NULL, \"\n                + KEY_IMAGE + \" BLOB\" + \") \");\n\n\n\n        /*db.execSQL(\"CREATE TABLE \" + DATABASE_TABLE2 + \"( \" + KEY_ROWID2\n                + \" INTEGER PRIMARY KEY AUTOINCREMENT, \" + KEY_NAME2\n                + \" TEXT NOT NULL, \" + fKEY_ROWID2 + \" INTEGER , FOREIGN KEY \" \n                + \"(\" + fKEY_ROWID2 + \") \" + \"REFERENCES \" + DATABASE_TABLE \n                + \"( \" +  KEY_ROWID + \" ))\");*/\n\n\n\n        db.execSQL(\"create table \"\n        + DATABASE_TABLE2 + \" (\" + KEY_ROWID2\n        + \" integer primary key autoincrement, \" + KEY_NAME2\n        + \" text not null, \" + fKEY_ROWID2 + \" integer,\"\n+ \" FOREIGN KEY (\"+fKEY_ROWID2+\") REFERENCES \"+DATABASE_TABLE+\" (\"+KEY_ROWID+\"));\");\n\n        /*db.execSQL(\"CREATE TABLE \" + DATABASE_TABLE2 + \"( \" \n        + KEY_ROWID2 + \" INTEGER PRIMARY KEY AUTOINCREMENT, \"\n        + KEY_NAME2 + \" TEXT NOT NULL, \"  \n        + fKEY_ROWID2 + \" INTEGER , FOREIGN KEY \" + \"(\" + fKEY_ROWID2 + \") \" + \"REFERENCES \" + DATABASE_TABLE + \" ( \" +  KEY_ROWID + \" ))\");\n    */\n    }\n\n\n\n\n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n        // TODO Auto-generated method stub\n\n        db.execSQL(\"DROP IF EXISTS \" + DATABASE_TABLE);\n        db.execSQL(\"DROP IF EXISTS \" + DATABASE_TABLE2);\n        onCreate(db);\n\n    }\n}\n\npublic CBDataBaseHelper(Context c){\n    mycontext = c;\n\n}\n\npublic CBDataBaseHelper open() throws SQLException{\n    myHelper = new DBHelper(mycontext);\n    mydatabase = myHelper.getWritableDatabase();\n    return this;\n}\n\npublic void close(){\n    myHelper.close();\n}\n\n\npublic long createEntry(String name, String description, String category){\n\n    ContentValues cv = new ContentValues();\n    cv.put(KEY_NAME, name);\n    cv.put(KEY_CATEGORY, description);\n    cv.put(KEY_DESCRIPTION, category);\n    return mydatabase.insert(DATABASE_TABLE, null, cv);\n\n}\n\npublic long createEntry2(String name, Long fId){\n\n    ContentValues cv = new ContentValues();\n    cv.put(KEY_NAME2, name);\n    cv.put(fKEY_ROWID2, fId);\n    return mydatabase.insert(DATABASE_TABLE2, null, cv);\n\n}\n\npublic Cursor query() {\n    // Open Database\n\n    String[] columns = new String[]{KEY_ROWID, KEY_NAME, KEY_CATEGORY, KEY_DESCRIPTION, KEY_IMAGE};\n    Cursor cursor = mydatabase.query(DATABASE_TABLE, columns, null, null, null, null, null); \n    if (cursor != null) {\n        cursor.moveToFirst();\n    }\n\n    return cursor;\n\n\n  }\n\n\npublic Cursor IngredientfetchRows(long frowId) throws SQLException {\n    Cursor mCursor = mydatabase.query(true, DATABASE_TABLE2, new String[] { KEY_ROWID2, KEY_NAME2,\n            fKEY_ROWID2 }, fKEY_ROWID2 + \"=\"\n            + frowId, null, null, null, null, null);\n\n    return mCursor;\n\n}\n\n\npublic Cursor IngredientfetchRow(long rowId) throws SQLException {\n    Cursor mCursor = mydatabase.query(true, DATABASE_TABLE2, new String[] { KEY_ROWID2, KEY_NAME2,\n            fKEY_ROWID2 }, KEY_ROWID2 + \"=\"\n            + rowId, null, null, null, null, null);\n    if (mCursor != null) {\n        mCursor.moveToFirst();\n    }\n    return mCursor;\n\n}\npublic Cursor fetchRow(long rowId) throws SQLException {\n    Cursor mCursor = mydatabase.query(true, DATABASE_TABLE, new String[] { KEY_ROWID, KEY_NAME,\n            KEY_CATEGORY, KEY_DESCRIPTION }, KEY_ROWID + \"=\"\n            + rowId, null, null, null, null, null);\n    if (mCursor != null) {\n        mCursor.moveToFirst();\n    }\n    return mCursor;\n\n}\n\n\n public boolean updateRecipe(long rowId, String RecipeName, \n         String RecipeCategory, String RecipeDescription) \n            {\n                ContentValues args = new ContentValues();\n                args.put(KEY_NAME, RecipeName);\n                args.put(KEY_DESCRIPTION, RecipeDescription);\n                args.put(KEY_CATEGORY, RecipeCategory);\n\n                return mydatabase.update(DATABASE_TABLE, args, \n                                 KEY_ROWID + \"=\" + rowId, null) &gt; 0;\n            }\n\n\n\n public boolean updateRecipe2(long rowId, String IngredientName) \n            {\n                ContentValues args = new ContentValues();\n                args.put(KEY_NAME2, IngredientName);\n\n                return mydatabase.update(DATABASE_TABLE2, args, \n                                 KEY_ROWID2 + \"=\" + rowId, null) &gt; 0;\n            }\n\n\n public boolean updateRecipe3(long rowId, byte[] path) \n    {\n        ContentValues args = new ContentValues();\n        args.put(KEY_IMAGE, path);\n\n        return mydatabase.update(DATABASE_TABLE, args, \n                         KEY_ROWID + \"=\" + rowId, null) &gt; 0;\n    }\n\n}\n</code></pre>\n\n<p>then i have the camera api which is saving the byte information to the column RecipeImage.. </p>\n\n<pre><code>public class CameraAPI extends Activity implements SurfaceHolder.Callback{\n\npublic Camera camera;\nMediaRecorder mediaRecorder;\nCBDataBaseHelper RH;\nTextView RecipeID;\n\npublic void onCreate (Bundle savedInstanceState){\n    boolean diditwork;\n    try{\n\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.camera);\n\n    RecipeID = (TextView)findViewById(R.id.Rid2);\n    String RowID;\n    Bundle extras = getIntent().getExtras();    \n    RowID = extras.getString(\"SELECTED2\");\n    RecipeID.setText(RowID);\n    SurfaceView surface = (SurfaceView)findViewById(R.id.acccam);\n    SurfaceHolder holder = surface.getHolder();\n    holder.addCallback(this);\n    holder.setType(SurfaceHolder.SURFACE_TYPE_PUSH_BUFFERS);\n}catch(Exception e){\n    diditwork = false;\n    String error = e.toString();\n    Dialog d = new Dialog(this);\n    d.setTitle(\"darn\");\n    TextView tv = new TextView(this);\n    tv.setText(error);\n    d.setContentView(tv);\n    d.show();\n}}\n\n        public void takePhoto(View view){\n            //String ID = RecipeID.getText().toString();\n            //Long LID = Long.parseLong(ID);\n            boolean diditwork;\n            try{\n            takePicture();\n            }catch(Exception e){\n                diditwork = false;\n                String error = e.toString();\n                Dialog d = new Dialog(this);\n                d.setTitle(\"darn\");\n                TextView tv = new TextView(this);\n                tv.setText(error);\n                d.setContentView(tv);\n                d.show();\n            }\n            //String path = \"/sdcard/Image.jpg\";\n            //RH.updateRecipe3(LID,path);\n\n    }\n\n\n\n\npublic void surfaceChanged(SurfaceHolder holder, int format, int width,\n        int height) {\n    // TODO Auto-generated method stub\n\n}\n\n\n\npublic void surfaceCreated(SurfaceHolder holder) {\n    // TODO Auto-generated method stub\n    if (mediaRecorder == null){\n        try{\n            camera = camera.open();\n            camera.setPreviewDisplay(holder);\n            camera.startPreview();\n\n        }catch (IOException e){\n            Log.d(\"CAMERA\", e.getMessage());\n        }\n\n    }\n}\n\n\n\npublic void surfaceDestroyed(SurfaceHolder holder) {\n    // TODO Auto-generated method stub\n    camera.stopPreview();\n    camera.release();\n}\n\npublic void takePicture(){\nboolean diditwork;\n    try{\n    camera.takePicture(shutterCallback, rawCallback, jpegCallback);\n    }catch(Exception e){\n        diditwork = false;\n        String error = e.toString();\n        Dialog d = new Dialog(this);\n        d.setTitle(\"darn\");\n        TextView tv = new TextView(this);\n        tv.setText(error);\n        d.setContentView(tv);\n        d.show();\n    }\n}\n\n\nShutterCallback shutterCallback= new ShutterCallback()\n{\n    public void onShutter(){\n\n    }\n};\n\n    PictureCallback rawCallback = new PictureCallback(){\n        public void onPictureTaken(byte[] data, Camera camera){\n\n        }\n    };\n\n    PictureCallback jpegCallback = new PictureCallback(){\n        public void onPictureTaken(byte[] data, Camera camera){\n            FileOutputStream outStream = null;\n\n            try{\n                outStream = new FileOutputStream(\"/sdcard/Image.jpg\");\n                outStream.write(data);\n                outStream.close();\n            }catch(FileNotFoundException e){\n                Log.d(\"CAMERA\", e.getMessage());\n            }catch(IOException e){\n                Log.d(\"CAMERA\",e.getMessage());\n            }\n                RH = new CBDataBaseHelper(CameraAPI.this);\n                RH.open();\n                String ID = RecipeID.getText().toString();\n                Long RID = Long.parseLong(ID);\n                RH.updateRecipe3(RID, data);\n                RH.close();\n\n            }\n\n\n\n\n\n\n\n};\n}\n</code></pre>\n\n<p>the error that I am getting is a null point exception when i try to get the byte array to blob, any help here guys?</p>\n\n<p>thanks </p>\n\n<p>Stefan      </p>\n"},{"tags":["java","android","sqlite","listview","imageview"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":212,"score":2,"question_id":8511667,"title":"image in list view from sqlite","body":"<p>Im trying to populate a list view with images from bbdd, i can do all but don't show the image i think because there are 2 xmls, one for the list view and other for every row:</p>\n\n<pre><code> &lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        android:id=\"@+id/linearLayout1\"\n        android:layout_width=\"fill_parent\"\n        android:layout_height=\"fill_parent\"\n        android:orientation=\"vertical\" &gt;\n\n&lt;ListView  \nandroid:id=\"@android:id/list\"\nandroid:layout_width=\"fill_parent\" \nandroid:layout_height=\"wrap_content\" \n/&gt;\n    &lt;/LinearLayout&gt;\n</code></pre>\n\n<p>and row.xml that have a image view and a textview</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout\n xmlns:android=\"http://schemas.android.com/apk/res/android\"\n android:id=\"@+id/layoutEntrada\" \n android:paddingTop=\"4dip\"\n android:textAppearance=\"?android:attr/textAppearanceLarge\"\n android:paddingBottom=\"6dip\"\n android:layout_width=\"fill_parent\"\n android:layout_height=\"wrap_content\"\n android:orientation=\"vertical\"&gt;\n\n &lt;LinearLayout\n\n android:layout_width=\"fill_parent\"\n android:layout_height=\"wrap_content\"\n android:orientation=\"horizontal\"&gt;\n\n     &lt;ImageView\n         android:id=\"@+id/imagenLugar\"\n         android:layout_width=\"wrap_content\"\n         android:layout_height=\"wrap_content\"\n         android:layout_marginRight=\"6dip\"\n         android:src=\"@drawable/icon\" /&gt;\n\n &lt;TextView android:id=\"@+id/nombreLugar\"\n    android:textColor=\"#4B89E0\" \n     android:layout_width=\"130dip\"\n     android:layout_height=\"40dip\"\n     android:textSize = \"15dip\"\n     /&gt;\n\n&lt;/LinearLayout&gt;          \n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>In the code i have 2 part, first i create my own simplecursoradapter to populate the image view and the activity principal.\nHere is the adapter</p>\n\n<pre><code>public class miAdapter extends SimpleCursorAdapter {\n    Context context;\n\n\n\n\n    public miAdapter(Context context2, int layout, Cursor fotosC,\n            String[] deFoto, int[] aFoto) {\n        super(context2, layout, fotosC, deFoto, aFoto);\n    }\n\n\n\n\n    public void setViewImage(ImageView v, Uri contentUri, Context contextoPath) {\n\n            Bitmap bmImg = BitmapFactory.decodeFile(\"/sdcard/download/is.jpg\");\n            v.setImageBitmap(bmImg);\n\n\n\n    }\n</code></pre>\n\n<p>This bitmap if to try, when with one image works i will modify this code to put al of my images</p>\n\n<p>And now the principal code:</p>\n\n<pre><code>public class listatab extends ListActivity implements OnItemClickListener{  \n\n    Context context;\n    ListView listanombres;\n    DataBaseHelper ayudabbdd;\n    TextView texto;\n    SimpleCursorAdapter lugaresNombre;\n    miAdapter lugaresFoto;\n    Cursor nombresC;\n    Cursor fotosC;\n    ListView listaview;\n   ImageView imagenFoto;\n\n  public void onCreate(Bundle savedInstanceState) {\n\n    super.onCreate(savedInstanceState);   \n    setContentView(R.layout.listatab);\n    context = getBaseContext();\n    someCallback();\n\n    ayudabbdd = new DataBaseHelper(this);           \n    nombresC = (Cursor) ayudabbdd.getNombres();  \n    fotosC = (Cursor)ayudabbdd.getImagenes();\n\n    startManagingCursor(nombresC);\n    startManagingCursor(fotosC);\n    nombresC.moveToFirst();\n    fotosC.moveToPosition(0);\n\n    String[] deFoto = new String[]{DataBaseHelper.CFOTO};\n    int[] aFoto = new int[]{R.id.imagenLugar};\n    lugaresFoto = new miAdapter(this, R.layout.entrada_lista, fotosC, deFoto, aFoto);\n    int longitudCursor = fotosC.getCount();\n\n\n    for(int i=0; i&lt;=longitudCursor-2;i++)\n    {\n        Context contextoo = getBaseContext();\n\n        String fotoactual = fotosC.getString(1);\n        lugaresFoto.setViewImage(imagenFoto, Uri.parse(fotoactual),contextoo);\n        fotosC.moveToNext();\n\n    }\n    this.setListAdapter(lugaresFoto);\n\n\n    String[] deNombre = new String[]{DataBaseHelper.CNOMBRE};\n    int[] aNombre = new int[]{R.id.nombreLugar};\n    lugaresNombre = new SimpleCursorAdapter(this, R.layout.entrada_lista, nombresC, deNombre, aNombre);\n    setListAdapter(lugaresNombre);\n    listaview= getListView();\n    listaview.setOnItemClickListener(this);\n\n\n\n  }\n\n\n  private void someCallback() {\n      LayoutInflater inflater = (LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n      LinearLayout ll = (LinearLayout) inflater.inflate(R.layout.entrada_lista, null);\n      imagenFoto = (ImageView) ll.findViewById(R.id.imagenLugar);\n      imagenFoto.setImageBitmap(BitmapFactory.decodeFile(\"/sdcard/download/is.jpg\"));\n  }\n</code></pre>\n\n<p>This too is a tried code for try if work with only image because of this i write the las line</p>\n\n<pre><code>      imagenFoto.setImageBitmap(BitmapFactory.decodeFile(\"/sdcard/download/is.jpg\"));\n</code></pre>\n\n<p>The code works fine to populate the name list views but don't the images\nTo try with only one image, but didnt show him, i think i don't declare the ImageView from any row correctly but i don't know make this better. \nSorry for my english is very poor.\nPlease, help!</p>\n"},{"tags":["sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":32,"score":-1,"question_id":12819491,"title":"Unable to search through encrypted value from sqlite database","body":"<p>I am trying to find a recored with an encrypted string like </p>\n\n<pre><code>description = \"oYAFfrNS2OszASY7Vo182A==\"\n</code></pre>\n\n<p>and it is stored in sqlite database like</p>\n\n<pre><code>oYAFfrNS2OszASY7Vo182A==\n</code></pre>\n\n<p>in the description field.</p>\n\n<p>My android code is:</p>\n\n<pre><code>Cursor c = db.query(table, columns, \n                whereclause, \n                null, \n                null, \n                null, \n                null);          \n  try {\n    if (c.getCount() == 0) {\n      c.close(); \n      return \"\";\n    }\n    c.moveToFirst();   \n\n    int namecol = c.getColumnIndex(columns[0]);       \n    li = (c.getString(namecol));            \n    c.close();    \n  } catch (Exception e) {\n    System.out.println(\"Exception:   \" + e.toString());\n  }   \n</code></pre>\n\n<p>where table name, where clause and columns all are correct for sure but I am unable to get the result with encrypted string which I have mentioned.</p>\n"},{"tags":["sqlite","sqlbulkcopy"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":3246,"score":1,"question_id":1333592,"title":"Import data from SQLite to SQL Server with SqlBulkCopy class","body":"<p>I'm trying to transfer the data from SQLite to SQL Server. The schema of target and destination table are just the same:</p>\n\n<p>SQL Server:</p>\n\n<pre><code>CREATE TABLE [dbo].[Shop] (\n    [ShopID] [int] IDENTITY(1,1) NOT NULL,\n    [Name] [nvarchar](128) NOT NULL,\n    [Url] [nvarchar](128) NOT NULL,\nPRIMARY KEY CLUSTERED \n(\n    [ShopID] ASC\n))\n</code></pre>\n\n<p>and SQLite:</p>\n\n<pre><code>CREATE TABLE \"Shop\" (\n    \"ShopID\" INTEGER PRIMARY KEY  NOT NULL,\n    \"Name\" VARCHAR NOT NULL,\n    \"Url\" VARCHAR NOT NULL);\n</code></pre>\n\n<p>I wrote the code as below (with System.Data.SQLite):</p>\n\n<pre><code>using (var conn = new SQLiteConnection(@\"Data Source=Data.sqlite;FailIfMissing=True\"))\n{ \n    conn.Open();\n    var cmd = new SQLiteCommand(\"SELECT * FROM Shop\", conn);\n    var reader = cmd.ExecuteReader();\n\n    using (var bulkCopy = new SqlBulkCopy(\"Data Source=.;Initial Catalog=Test;Integrated Security=True\"))\n    {\n        bulkCopy.DestinationTableName = \"Shop\";\n        bulkCopy.ColumnMappings.Add(\"ShopID\", \"ShopID\");\n        bulkCopy.ColumnMappings.Add(\"Name\", \"Name\");\n        bulkCopy.ColumnMappings.Add(\"Url\", \"Url\");\n        bulkCopy.WriteToServer(reader);\n    }\n}\n</code></pre>\n\n<p>Data has been loaded by reader (I've checked). But an InvalidOperationException throws on WriteToServer method: The given ColumnMapping does not match up with any column in the source or destination.</p>\n\n<p>Any ideas or suggestion for me?</p>\n"},{"tags":["android","sqlite"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":95,"score":1,"question_id":11807710,"title":"Error while inserting data into DataBase","body":"<p>I have form activity that gets data with EditText And insert that data into DataBase through DataBase Helper.\nAfter I am filling up the form ans press on the button, the exceptions throwing to me an error and says:</p>\n\n<blockquote>\n  <p>08-04 13:03:11.527: E/Database(1311): android.database.sqlite.SQLiteException: table data has no column named equity: , while compiling: INSERT INTO data(loans, castumers, stock, equity, fixedAssets, bonds, accumultedDepreciation, etCash, compNameAdd) VALUES(?, ?, ?, ?, ?, ?, ?, ?, ?);</p>\n</blockquote>\n\n<p>I cannot understands why it says that I do not have equity column, I do have...</p>\n\n<p>This is the form Activity:</p>\n\n<pre><code>package com.nituach.nituach;\n\nimport android.app.Activity;\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.view.View.OnClickListener;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.TextView;\n\npublic class AddNewBuisness extends Activity implements OnClickListener {\npublic static String companyName, cash, stock, ought, fixedAssets,\n        accumulatedDepreciation, bonds, loans, equity;\nTextView tvOt;\nEditText cmIn, tvIn1, tvIn2, tvIn3, tvIn4, tvIn5, tvIn6, tvIn7, tvIn8;\nButton btn;\n\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.add_new_buisness);\n    cmIn = (EditText) findViewById(R.id.etCompanyName);\n    tvIn1 = (EditText) findViewById(R.id.etCash);\n    tvIn2 = (EditText) findViewById(R.id.etStock);\n    tvIn3 = (EditText) findViewById(R.id.etOught);\n    tvIn4 = (EditText) findViewById(R.id.etFixedAssets);\n    tvIn5 = (EditText) findViewById(R.id.etAccumulatedDepreciation);\n    tvIn6 = (EditText) findViewById(R.id.etBonds);\n    tvIn7 = (EditText) findViewById(R.id.etLoans);\n    tvIn8 = (EditText) findViewById(R.id.etEquity);\n\n    btn = (Button) findViewById(R.id.button1);\n\n    btn.setOnClickListener(AddNewBuisness.this);\n}\n\npublic void onClick(View v) {\n    if (tvIn1.getText().length() &gt;= 1 &amp;&amp; tvIn2.getText().length() &gt;= 1\n            &amp;&amp; tvIn3.getText().length() &gt;= 1\n            &amp;&amp; tvIn4.getText().length() &gt;= 1\n            &amp;&amp; tvIn5.getText().length() &gt;= 1\n            &amp;&amp; tvIn6.getText().length() &gt;= 1\n            &amp;&amp; tvIn7.getText().length() &gt;= 1\n            &amp;&amp; tvIn8.getText().length() &gt;= 1) {\n\n        // Integer.parseInt(tvIn3.getText().toString());\n        companyName = cmIn.getText().toString();\n        cash = tvIn1.getText().toString();\n        stock = tvIn2.getText().toString();\n        ought = tvIn3.getText().toString();\n        fixedAssets = tvIn4.getText().toString();\n        accumulatedDepreciation = tvIn5.getText().toString();\n        bonds = tvIn6.getText().toString();\n        loans = tvIn7.getText().toString();\n        equity = tvIn8.getText().toString();\n\n        String cm = companyName;\n        String ch = cash;\n        String sk = stock;\n        String ot = ought;\n        String fs = fixedAssets;\n        String an = accumulatedDepreciation;\n        String bs = bonds;\n        String ls = loans;\n        String ey = equity;\n\n        DataBase entry = new DataBase(AddNewBuisness.this);\n        entry.open();\n        entry.createEntry(cm, ch, sk, ot, fs, an, bs, ls, ey);\n        entry.close();\n\n        Intent myIntent = new Intent(AddNewBuisness.this,\n                NituachActivity.class);\n        AddNewBuisness.this.startActivity(myIntent);\n    } else {\n        // AlertDialog.Builder builder = new\n        // AlertDialog.Builder(AddNewBuisness.this);\n        // builder.setMessage(\"dsfkjhlkdfg\");\n\n        Intent myIntent = new Intent(AddNewBuisness.this,   \nNituachActivity.class);\n        AddNewBuisness.this.startActivity(myIntent);\n    }\n\n}\n\n}\n</code></pre>\n\n<p>And this is the DataBase Helper:</p>\n\n<pre><code>package com.nituach.nituach;\n\nimport android.content.ContentValues;\nimport android.content.Context;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.database.sqlite.SQLiteException;\nimport android.database.sqlite.SQLiteOpenHelper;\n\npublic class DataBase {\n\n    public static final String RAW_ID = \"_id\";\n    public static final String RAW_COMPNAMEADD = \"compNameAdd\";\n    public static final String RAW_CASH = \"etCash\";\n    public static final String RAW_CUSTOMERS = \"castumers\";\n    public static final String RAW_STOCK = \"stock\";\n    public static final String RAW_FIXED_ASSETS = \"fixedAssets\";\n    public static final String RAW_ACCUMULTED_DEPRECIATION = \"accumultedDepreciation\";\n    public static final String RAW_BONDS = \"bonds\";\n    public static final String RAW_LOANS = \"loans\";\n    public static final String RAW_EQUITY = \"equity\";\n\n    public static final String RAW_COMPNAME_ID = \"_id\";\n    public static final String RAW_COMPNAME = \"compName\";\n\n    private static final String DATABASE_NAME = \"ProsseDatBase\";\n    static final String DATABASE_TABLE = \"data\";\n    static final String DATABASE_TABLE_SETTINGS = \"compNameConnector\";\n\n    private static final int DATABASE_VERSION = 1;\n\n    private ProsseDatBase thdb;\n    private static Context tcontext;\n    private SQLiteDatabase tdb;\n\n    private static class ProsseDatBase extends SQLiteOpenHelper {\n\n        public ProsseDatBase(Context context) {\n            super(context, DATABASE_NAME, null, DATABASE_VERSION);\n        }\n\n        @Override\n        public void onCreate(SQLiteDatabase db) {\n            String pdb = \"CREATE TABLE  \" + DATABASE_TABLE + \" ( \" + RAW_ID\n                    + \" INTEGER PRIMARY KEY AUTOINCREMENT, \" +   \nRAW_COMPNAMEADD\n                    + \"TEXT, \" + RAW_CASH + \" TEXT, \" + RAW_CUSTOMERS\n                    + \" TEXT, \" + RAW_STOCK + \" TEXT, \" + RAW_FIXED_ASSETS\n                    + \" TEXT, \" + RAW_ACCUMULTED_DEPRECIATION + \" TEXT, \"\n                    + RAW_BONDS + \" TEXT, \" + RAW_LOANS + \" TEXT\" + \nRAW_EQUITY\n                    + \" TEXT );\";\n            db.execSQL(pdb);\n\n            String cndb = \"CREATE TABLE  \" + DATABASE_TABLE_SETTINGS + \" ( \"\n                    + RAW_COMPNAME_ID + \" INTEGER PRIMARY KEY \nAUTOINCREMENT, \"\n                    + RAW_COMPNAME + \" TEXT );\";\n            db.execSQL(cndb);\n\n        }\n\n        @Override\n        public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n            db.execSQL(\"DROP TABLE IF EXISTS \" + DATABASE_TABLE);\n            db.execSQL(\"DROP TABLE IF EXISTS \" + DATABASE_TABLE_SETTINGS);\n            onCreate(db);\n        }\n    }\n\n    public DataBase(Context c) {\n        tcontext = c;\n    }\n\n    public DataBase open() throws SQLiteException {\n        thdb = new ProsseDatBase(tcontext);\n        tdb = thdb.getWritableDatabase();\n        return this;\n    }\n\n    public SQLiteDatabase getDatabase() {\n        return tdb;\n    }\n\n    public void close() {\n        tdb.close();\n    }\n\n    public long createEntry(String cm, String ch, String sk, String ot,\n            String fs, String an, String bs, String ls, String ey) {\n        ContentValues cv = new ContentValues();\n        cv.put(RAW_COMPNAMEADD, cm);\n        cv.put(RAW_CASH, ch);\n        cv.put(RAW_CUSTOMERS, ot);\n        cv.put(RAW_STOCK, sk);\n        cv.put(RAW_FIXED_ASSETS, fs);\n        cv.put(RAW_ACCUMULTED_DEPRECIATION, an);\n        cv.put(RAW_BONDS, bs);\n        cv.put(RAW_LOANS, ls);\n        cv.put(RAW_EQUITY, ey);\n\n        return tdb.insert(DATABASE_TABLE, null, cv);\n    }\n\n\n\n\n}\n</code></pre>\n"},{"tags":["android","sqlite","listview","insert"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":248,"score":2,"question_id":5678840,"title":"Android: SQLite, small problem with inserting and query","body":"<p>I am developing my first application which contains an sqlite database, containing table <code>ANIMAL</code> which has rows <code>_id</code>, <code>animal_name</code>, <code>animal_bio</code>.</p>\n\n<p>User is presented with animal names in a listview, selecting an animal will bring them to a page where they can view the animals bio.</p>\n\n<p>The problem I'm having is:</p>\n\n<p>When I add the bio of each animal to the DB - no errors.However running the app causes the lisview(previously working) to display a blank screen.</p>\n\n<p>My Insertion code:</p>\n\n<pre><code>public long populateDB(){       \n    ContentValues initialValues = new ContentValues();\n    long[] rowIds = new long[animalName.length];\n\n    // Populate the animal table\n    for(int i = 0; i &lt; animalName.length; i++){\n        initialValues.put(KEY_ANIMALNAME, animalName[i]);\n        initialValues.put(KEY_BIOGRAPHY, bio[i]);\n        rowIds[i] = qmDB.insert(ANIMAL_TABLE, null, initialValues);\n    }\n    return rowIds[0];\n}\n</code></pre>\n\n<p>And the create database statement</p>\n\n<pre><code>private static final String DATABASE_CREATE = \n            \"create table \" + ANIMAL_TABLE +\n            \" (_id integer primary key autoincrement, \" + \n            \"animal_name text not null, \" +\n            \"biography text not null);\"; \n</code></pre>\n\n<p>I cannot see anything wrong with this code, so if anyone has any suggestions I'd be very grateful.</p>\n\n<p>EDIT: Retrieving animals code</p>\n\n<pre><code>public Cursor retrieveAnnimals(){\n    return qmDB.query(ANIMAL_TABLE, new String[] {\n            KEY_ROWID,\n            KEY_ANIMALNAME,\n            },\n            null,\n            null,\n            null,\n            null,\n            ORDER_BY_NAME);\n}\n</code></pre>\n\n<p>Calling the create and insert from application,this takes place in the ListAvtivity, called ListAnimals:</p>\n\n<pre><code>dbm = new MyDBManager();\ndbm.open();\ndbm.deleteTable();\ndbm.populateTable();\nmyCursor = dbm.retrieveAnimals();\n</code></pre>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":9,"view_count":139,"score":-8,"question_id":12816689,"title":"Android sqlite exception","body":"<p>SQLite returned: </p>\n\n<blockquote>\n  <p>error code = 17, msg = statement aborts at 39: [CREATE TABLE IF NOT\n  EXISTS android_metadata (locale TEXT)]</p>\n</blockquote>\n\n<pre><code>10-10 15:24:36.526: I/SqliteDatabaseCpp(428): sqlite returned: error code = 17, msg = statement aborts at 39: [CREATE TABLE IF NOT EXISTS android_metadata (locale TEXT)] database schema has changed, db=/data/data/com.iflex.fcat.mobile.androidtab/databases/FCDB.sqlite\n10-10 15:24:36.536: I/SqliteDatabaseCpp(428): sqlite returned: error code = 17, msg = statement aborts at 39: [CREATE TABLE IF NOT EXISTS android_metadata (locale TEXT)] database schema has changed, db=/data/data/com.iflex.fcat.mobile.androidtab/databases/FCDB.sqlite\n10-10 15:24:36.626: I/System.out(428): value===RRIMS20\n10-10 15:24:36.766: D/szipinf(428): Initializing inflate state\n10-10 15:24:36.766: D/szipinf(428): Initializing zlib to inflate\n10-10 15:24:36.886: I/SqliteDatabaseCpp(428): sqlite returned: error code = 11, msg = database corruption at line 52270 of [a586a4deeb], db=/data/data/com.iflex.fcat.mobile.androidtab/databases/FCDB.sqlite\n10-10 15:24:36.886: I/SqliteDatabaseCpp(428): sqlite returned: error code = 11, msg = statement aborts at 3: [DELETE FROM android_metadata] , db=/data/data/com.iflex.fcat.mobile.androidtab/databases/FCDB.sqlite\n10-10 15:24:36.886: E/SqliteDatabaseCpp(428): DELETE failed setting locale\n10-10 15:24:36.896: E/DefaultDatabaseErrorHandler(428): Corruption reported by sqlite on database: /data/data/com.iflex.fcat.mobile.androidtab/databases/FCDB.sqlite\n10-10 15:24:36.896: E/DefaultDatabaseErrorHandler(428): deleting the database file: /data/data/com.iflex.fcat.mobile.androidtab/databases/FCDB.sqlite\n10-10 15:24:36.919: D/szipinf(428): Initializing inflate state\n10-10 15:24:36.919: D/szipinf(428): Initializing zlib to inflate\n10-10 15:24:36.946: I/SqliteDatabaseCpp(428): sqlite returned: error code = 11, msg = database corruption at line 47596 of [a586a4deeb], db=/data/data/com.iflex.fcat.mobile.androidtab/databases/FCDB.sqlite\n10-10 15:24:36.946: I/SqliteDatabaseCpp(428): sqlite returned: error code = 11, msg = statement aborts at 11: [SELECT locale FROM android_metadata LIMIT 1] database disk image is malformed, db=/data/data/com.iflex.fcat.mobile.androidtab/databases/FCDB.sqlite\n10-10 15:24:36.957: E/SqliteDatabaseCpp(428): SELECT locale FROM android_metadata failed\n10-10 15:24:36.957: E/DefaultDatabaseErrorHandler(428): Corruption reported by sqlite on database: /data/data/com.iflex.fcat.mobile.androidtab/databases/FCDB.sqlite\n10-10 15:24:36.957: E/DefaultDatabaseErrorHandler(428): deleting the database file: /data/data/com.iflex.fcat.mobile.androidtab/databases/FCDB.sqlite\n10-10 15:24:37.116: D/szipinf(428): Initializing inflate state\n10-10 15:24:37.116: D/szipinf(428): Initializing zlib to inflate\n10-10 15:24:37.156: I/SqliteDatabaseCpp(428): sqlite returned: error code = 11, msg = database corruption at line 47596 of [a586a4deeb], db=/data/data/com.iflex.fcat.mobile.androidtab/databases/FCDB.sqlite\n10-10 15:24:37.156: I/SqliteDatabaseCpp(428): sqlite returned: error code = 11, msg = statement aborts at 1: [BEGIN EXCLUSIVE;] database disk image is malformed, db=/data/data/com.iflex.fcat.mobile.androidtab/databases/FCDB.sqlite\n10-10 15:24:37.166: E/DefaultDatabaseErrorHandler(428): Corruption reported by sqlite on database: /data/data/com.iflex.fcat.mobile.androidtab/databases/FCDB.sqlite\n10-10 15:24:37.166: E/DefaultDatabaseErrorHandler(428): deleting the database file: /data/data/com.iflex.fcat.mobile.androidtab/databases/FCDB.sqlite\n10-10 15:24:37.196: E/SQLiteOpenHelper(428): Couldn't open FCDB.sqlite for writing (will try read-only):\n10-10 15:24:37.196: E/SQLiteOpenHelper(428): android.database.sqlite.SQLiteDatabaseCorruptException: database disk image is malformed\n10-10 15:24:37.196: E/SQLiteOpenHelper(428):    at android.database.sqlite.SQLiteStatement.native_executeSql(Native Method)\n10-10 15:24:37.196: E/SQLiteOpenHelper(428):    at android.database.sqlite.SQLiteStatement.executeUpdateDelete(SQLiteStatement.java:89)\n10-10 15:24:37.196: E/SQLiteOpenHelper(428):    at android.database.sqlite.SQLiteDatabase.executeSql(SQLiteDatabase.java:1928)\n10-10 15:24:37.196: E/SQLiteOpenHelper(428):    at android.database.sqlite.SQLiteDatabase.execSQL(SQLiteDatabase.java:1859)\n10-10 15:24:37.196: E/SQLiteOpenHelper(428):    at android.database.sqlite.SQLiteDatabase.beginTransaction(SQLiteDatabase.java:629)\n10-10 15:24:37.196: E/SQLiteOpenHelper(428):    at android.database.sqlite.SQLiteDatabase.beginTransaction(SQLiteDatabase.java:522)\n10-10 15:24:37.196: E/SQLiteOpenHelper(428):    at android.database.sqlite.SQLiteOpenHelper.getWritableDatabase(SQLiteOpenHelper.java:154)\n10-10 15:24:37.196: E/SQLiteOpenHelper(428):    at android.database.sqlite.SQLiteOpenHelper.getReadableDatabase(SQLiteOpenHelper.java:223)\n10-10 15:24:37.196: E/SQLiteOpenHelper(428):    at com.iflex.fcat.mobile.androidtab.DataBaseHelper.createDataBase(DataBaseHelper.java:51)\n10-10 15:24:37.196: E/SQLiteOpenHelper(428):    at com.iflex.fcat.mobile.androidtab.HTTPWorker.retriveResponseFromDb(HTTPWorker.java:101)\n10-10 15:24:37.196: E/SQLiteOpenHelper(428):    at com.iflex.fcat.mobile.androidtab.HTTPWorker.getConnection(HTTPWorker.java:129)\n10-10 15:24:37.196: E/SQLiteOpenHelper(428):    at com.iflex.fcat.mobile.androidtab.TotalTransaction$20.run(TotalTransaction.java:1510)\n10-10 15:24:37.196: E/SQLiteOpenHelper(428):    at java.lang.Thread.run(Thread.java:1020)\n10-10 15:24:37.226: I/SqliteDatabaseCpp(428): sqlite returned: error code = 14, msg = cannot open file at line 27603 of [a586a4deeb], db=/data/data/com.iflex.fcat.mobile.androidtab/databases/FCDB.sqlite\n10-10 15:24:37.226: E/SqliteDatabaseCpp(428): sqlite3_open_v2(\"/data/data/com.iflex.fcat.mobile.androidtab/databases/FCDB.sqlite\", &amp;handle, 1, NULL) failed\n10-10 15:24:37.286: E/SQLiteDatabase(428): Failed to open the database. closing it.\n10-10 15:24:37.286: E/SQLiteDatabase(428): android.database.sqlite.SQLiteCantOpenDatabaseException: unable to open database file\n10-10 15:24:37.286: E/SQLiteDatabase(428):  at android.database.sqlite.SQLiteDatabase.dbopen(Native Method)\n10-10 15:24:37.286: E/SQLiteDatabase(428):  at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:978)\n10-10 15:24:37.286: E/SQLiteDatabase(428):  at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:951)\n10-10 15:24:37.286: E/SQLiteDatabase(428):  at android.database.sqlite.SQLiteOpenHelper.getReadableDatabase(SQLiteOpenHelper.java:233)\n10-10 15:24:37.286: E/SQLiteDatabase(428):  at com.iflex.fcat.mobile.androidtab.DataBaseHelper.createDataBase(DataBaseHelper.java:51)\n10-10 15:24:37.286: E/SQLiteDatabase(428):  at com.iflex.fcat.mobile.androidtab.HTTPWorker.retriveResponseFromDb(HTTPWorker.java:101)\n10-10 15:24:37.286: E/SQLiteDatabase(428):  at com.iflex.fcat.mobile.androidtab.HTTPWorker.getConnection(HTTPWorker.java:129)\n10-10 15:24:37.286: E/SQLiteDatabase(428):  at com.iflex.fcat.mobile.androidtab.TotalTransaction$20.run(TotalTransaction.java:1510)\n10-10 15:24:37.286: E/SQLiteDatabase(428):  at java.lang.Thread.run(Thread.java:1020)\n10-10 15:24:37.286: W/System.err(428): android.database.sqlite.SQLiteCantOpenDatabaseException: unable to open database file\n10-10 15:24:37.286: W/System.err(428):  at android.database.sqlite.SQLiteDatabase.dbopen(Native Method)\n10-10 15:24:37.286: W/System.err(428):  at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:978)\n10-10 15:24:37.286: W/System.err(428):  at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:951)\n10-10 15:24:37.286: W/System.err(428):  at android.database.sqlite.SQLiteOpenHelper.getReadableDatabase(SQLiteOpenHelper.java:233)\n10-10 15:24:37.286: W/System.err(428):  at com.iflex.fcat.mobile.androidtab.DataBaseHelper.createDataBase(DataBaseHelper.java:51)\n10-10 15:24:37.286: W/System.err(428):  at com.iflex.fcat.mobile.androidtab.HTTPWorker.retriveResponseFromDb(HTTPWorker.java:101)\n10-10 15:24:37.286: W/System.err(428):  at com.iflex.fcat.mobile.androidtab.HTTPWorker.getConnection(HTTPWorker.java:129)\n10-10 15:24:37.286: W/System.err(428):  at com.iflex.fcat.mobile.androidtab.TotalTransaction$20.run(TotalTransaction.java:1510)\n10-10 15:24:37.286: W/System.err(428):  at java.lang.Thread.run(Thread.java:1020)\n10-10 15:24:37.286: I/System.out(428): null\n10-10 15:24:37.337: I/SqliteDatabaseCpp(428): sqlite returned: error code = 14, msg = cannot open file at line 27603 of [a586a4deeb], db=/data/data/com.iflex.fcat.mobile.androidtab/databases/FCDB.sqlite\n10-10 15:24:37.337: E/SqliteDatabaseCpp(428): sqlite3_open_v2(\"/data/data/com.iflex.fcat.mobile.androidtab/databases/FCDB.sqlite\", &amp;handle, 2, NULL) failed\n10-10 15:24:37.346: E/SQLiteDatabase(428): Failed to open the database. closing it.\n10-10 15:24:37.346: E/SQLiteDatabase(428): android.database.sqlite.SQLiteCantOpenDatabaseException: unable to open database file\n10-10 15:24:37.346: E/SQLiteDatabase(428):  at android.database.sqlite.SQLiteDatabase.dbopen(Native Method)\n10-10 15:24:37.346: E/SQLiteDatabase(428):  at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:978)\n10-10 15:24:37.346: E/SQLiteDatabase(428):  at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:951)\n10-10 15:24:37.346: E/SQLiteDatabase(428):  at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:927)\n10-10 15:24:37.346: E/SQLiteDatabase(428):  at com.iflex.fcat.mobile.androidtab.DataBaseHelper.openDataBase(DataBaseHelper.java:128)\n10-10 15:24:37.346: E/SQLiteDatabase(428):  at com.iflex.fcat.mobile.androidtab.HTTPWorker.retriveResponseFromDb(HTTPWorker.java:103)\n10-10 15:24:37.346: E/SQLiteDatabase(428):  at com.iflex.fcat.mobile.androidtab.HTTPWorker.getConnection(HTTPWorker.java:129)\n10-10 15:24:37.346: E/SQLiteDatabase(428):  at com.iflex.fcat.mobile.androidtab.TotalTransaction$16.run(TotalTransaction.java:726)\n10-10 15:24:37.346: E/SQLiteDatabase(428):  at java.lang.Thread.run(Thread.java:1020)\n10-10 15:24:37.366: W/System.err(428): android.database.sqlite.SQLiteCantOpenDatabaseException: unable to open database file\n10-10 15:24:37.366: W/System.err(428):  at android.database.sqlite.SQLiteDatabase.dbopen(Native Method)\n10-10 15:24:37.366: W/System.err(428):  at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:978)\n10-10 15:24:37.366: W/System.err(428):  at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:951)\n10-10 15:24:37.366: W/System.err(428):  at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:927)\n10-10 15:24:37.376: W/System.err(428):  at com.iflex.fcat.mobile.androidtab.DataBaseHelper.openDataBase(DataBaseHelper.java:128)\n10-10 15:24:37.376: W/System.err(428):  at com.iflex.fcat.mobile.androidtab.HTTPWorker.retriveResponseFromDb(HTTPWorker.java:103)\n10-10 15:24:37.376: W/System.err(428):  at com.iflex.fcat.mobile.androidtab.HTTPWorker.getConnection(HTTPWorker.java:129)\n10-10 15:24:37.376: W/System.err(428):  at com.iflex.fcat.mobile.androidtab.TotalTransaction$16.run(TotalTransaction.java:726)\n10-10 15:24:37.376: W/System.err(428):  at java.lang.Thread.run(Thread.java:1020)\n10-10 15:24:37.376: I/System.out(428): null\n10-10 15:24:37.446: I/SqliteDatabaseCpp(428): sqlite returned: error code = 14, msg = cannot open file at line 27603 of [a586a4deeb], db=/data/data/com.iflex.fcat.mobile.androidtab/databases/FCDB.sqlite\n10-10 15:24:37.489: E/SqliteDatabaseCpp(428): sqlite3_open_v2(\"/data/data/com.iflex.fcat.mobile.androidtab/databases/FCDB.sqlite\", &amp;handle, 2, NULL) failed\n10-10 15:24:37.489: E/SQLiteDatabase(428): Failed to open the database. closing it.\n10-10 15:24:37.489: E/SQLiteDatabase(428): android.database.sqlite.SQLiteCantOpenDatabaseException: unable to open database file\n10-10 15:24:37.489: E/SQLiteDatabase(428):  at android.database.sqlite.SQLiteDatabase.dbopen(Native Method)\n10-10 15:24:37.489: E/SQLiteDatabase(428):  at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:978)\n10-10 15:24:37.489: E/SQLiteDatabase(428):  at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:951)\n10-10 15:24:37.489: E/SQLiteDatabase(428):  at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:927)\n10-10 15:24:37.489: E/SQLiteDatabase(428):  at com.iflex.fcat.mobile.androidtab.DataBaseHelper.openDataBase(DataBaseHelper.java:128)\n10-10 15:24:37.489: E/SQLiteDatabase(428):  at com.iflex.fcat.mobile.androidtab.HTTPWorker.retriveResponseFromDb(HTTPWorker.java:103)\n10-10 15:24:37.489: E/SQLiteDatabase(428):  at com.iflex.fcat.mobile.androidtab.HTTPWorker.getConnection(HTTPWorker.java:129)\n10-10 15:24:37.489: E/SQLiteDatabase(428):  at com.iflex.fcat.mobile.androidtab.TotalTransaction$20.run(TotalTransaction.java:1510)\n10-10 15:24:37.489: E/SQLiteDatabase(428):  at java.lang.Thread.run(Thread.java:1020)\n10-10 15:24:37.496: W/System.err(428): android.database.sqlite.SQLiteCantOpenDatabaseException: unable to open database file\n10-10 15:24:37.496: W/System.err(428):  at android.database.sqlite.SQLiteDatabase.dbopen(Native Method)\n10-10 15:24:37.496: W/System.err(428):  at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:978)\n10-10 15:24:37.496: W/System.err(428):  at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:951)\n10-10 15:24:37.496: W/System.err(428):  at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:927)\n10-10 15:24:37.496: W/System.err(428):  at com.iflex.fcat.mobile.androidtab.DataBaseHelper.openDataBase(DataBaseHelper.java:128)\n10-10 15:24:37.496: W/System.err(428):  at com.iflex.fcat.mobile.androidtab.HTTPWorker.retriveResponseFromDb(HTTPWorker.java:103)\n10-10 15:24:37.496: W/System.err(428):  at com.iflex.fcat.mobile.androidtab.HTTPWorker.getConnection(HTTPWorker.java:129)\n10-10 15:24:37.496: W/System.err(428):  at com.iflex.fcat.mobile.androidtab.TotalTransaction$20.run(TotalTransaction.java:1510)\n10-10 15:24:37.496: W/System.err(428):  at java.lang.Thread.run(Thread.java:1020)\n10-10 15:24:37.496: I/System.out(428): null\n10-10 15:24:37.527: I/SqliteDatabaseCpp(428): sqlite returned: error code = 14, msg = cannot open file at line 27603 of [a586a4deeb], db=/data/data/com.iflex.fcat.mobile.androidtab/databases/FCDB.sqlite\n10-10 15:24:37.527: E/SqliteDatabaseCpp(428): sqlite3_open_v2(\"/data/data/com.iflex.fcat.mobile.androidtab/databases/FCDB.sqlite\", &amp;handle, 2, NULL) failed\n10-10 15:24:37.536: E/SQLiteDatabase(428): Failed to open the database. closing it.\n10-10 15:24:37.536: E/SQLiteDatabase(428): android.database.sqlite.SQLiteCantOpenDatabaseException: unable to open database file\n10-10 15:24:37.536: E/SQLiteDatabase(428):  at android.database.sqlite.SQLiteDatabase.dbopen(Native Method)\n10-10 15:24:37.536: E/SQLiteDatabase(428):  at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:978)\n10-10 15:24:37.536: E/SQLiteDatabase(428):  at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:951)\n10-10 15:24:37.536: E/SQLiteDatabase(428):  at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:927)\n10-10 15:24:37.536: E/SQLiteDatabase(428):  at com.iflex.fcat.mobile.androidtab.DataBaseHelper.openDataBase(DataBaseHelper.java:128)\n10-10 15:24:37.536: E/SQLiteDatabase(428):  at com.iflex.fcat.mobile.androidtab.HTTPWorker.retriveResponseFromDb(HTTPWorker.java:103)\n10-10 15:24:37.536: E/SQLiteDatabase(428):  at com.iflex.fcat.mobile.androidtab.HTTPWorker.getConnection(HTTPWorker.java:129)\n10-10 15:24:37.536: E/SQLiteDatabase(428):  at com.iflex.fcat.mobile.androidtab.TotalTransaction.run(TotalTransaction.java:758)\n10-10 15:24:37.536: E/SQLiteDatabase(428):  at java.lang.Thread.run(Thread.java:1020)\n10-10 15:24:37.536: W/System.err(428): android.database.sqlite.SQLiteCantOpenDatabaseException: unable to open database file\n10-10 15:24:37.576: W/System.err(428):  at android.database.sqlite.SQLiteDatabase.dbopen(Native Method)\n10-10 15:24:37.576: W/System.err(428):  at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:978)\n10-10 15:24:37.576: W/System.err(428):  at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:951)\n10-10 15:24:37.576: W/System.err(428):  at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:927)\n10-10 15:24:37.576: W/System.err(428):  at com.iflex.fcat.mobile.androidtab.DataBaseHelper.openDataBase(DataBaseHelper.java:128)\n10-10 15:24:37.576: W/System.err(428):  at com.iflex.fcat.mobile.androidtab.HTTPWorker.retriveResponseFromDb(HTTPWorker.java:103)\n10-10 15:24:37.576: W/System.err(428):  at com.iflex.fcat.mobile.androidtab.HTTPWorker.getConnection(HTTPWorker.java:129)\n10-10 15:24:37.576: W/System.err(428):  at com.iflex.fcat.mobile.androidtab.TotalTransaction.run(TotalTransaction.java:758)\n10-10 15:24:37.576: W/System.err(428):  at java.lang.Thread.run(Thread.java:1020)\n10-10 15:24:37.576: I/System.out(428): null\n10-10 15:24:37.706: I/dalvikvm(428): Jit: resizing JitTable from 512 to 1024\n10-10 15:25:25.966: I/dalvikvm(428): Jit: resizing JitTable from 1024 to 2048\n</code></pre>\n"},{"tags":["objective-c","ios","c","sqlite","appcelerator"],"answer_count":0,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":43,"score":2,"question_id":12810563,"title":"Appcelerator module with my own sqlite3 build","body":"<p>I am writing an appcelerator module to use my own sqlite3 build. The problem that I am facing is that the default system sqlite code seems to get linked regardless.</p>\n\n<p>I have tried a number of things, but I would have throught that placing all the sqlite code in my .m file would result in that code being called.</p>\n\n<p>MySqlite.m</p>\n\n<pre><code>#import \"sqlite3.h\"\n#import \"sqlite3.c\"\n\n#pragma Public APIs\n-(NSString *)getSqliteVersion:(id)args\n{    \n    return [NSString stringWithFormat:@\"%s\", sqlite3_libversion()];\n}\n</code></pre>\n\n<p>The getSqliteVersion member still returns version number of the iOS standard sqlite library</p>\n\n<p>So does anyone know how to alter the linker to pick up my own sqlite code or is there a way to \"wrap\" the sqlite in a namespace or such like?</p>\n\n<p>EDIT 10/10/12:\nSorry, bit more info that is relevant. The build process is two steps.</p>\n\n<p>The part I am doing is to build the module which is a packaged static library, i.e. a .a file</p>\n\n<p>This .a file is distributed to other users and then they build their application with this module. So that is why I can't control the second linking step and remove any .dylib sqlite references.</p>\n\n<p>Some how I think I need to get my sqlite lib into a private \"namespace\". I use namespace conceptually, I know C doesn't have them </p>\n\n<p>Not sure if it helps, but the Ti build commands for the module build seem to be:</p>\n\n<p>Build settings from command line:\nSDKROOT = iphonesimulator5.0</p>\n\n<p>=== BUILD NATIVE TARGET tisqlite_crypt_ios OF PROJECT tisqlite_crypt_ios WITH CONFIGURATION Release ===</p>\n\n<p>Check dependencies</p>\n\n<p>CompileC build/tisqlite_crypt_ios.build/Release-iphonesimulator/tisqlite_crypt_ios.build/Objects-normal/i386/UkCoClinicalsoftwaresolutionsTisqlite_crypt_iosModule.o Classes/UkCoClinicalsoftwaresolutionsTisqlite_crypt_iosModule.m normal i386 objective-c com.apple.compilers.llvm.clang.1_0.compiler\n    cd /TitaniumStudioWorkspace/tisqlite_crypt_ios\n    setenv LANG en_US.US-ASCII\n    setenv PATH \"/Developer/Platforms/iPhoneSimulator.platform/Developer/usr/bin:/Developer/usr/bin:/System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/usr/X11/bin:/opt/local/bin:/usr/local/git/bin\"\n    /Developer/Platforms/iPhoneSimulator.platform/Developer/usr/bin/clang -x objective-c -arch i386 -fmessage-length=0 -fdiagnostics-print-source-range-info -fdiagnostics-show-category=id -fdiagnostics-parseable-fixits -std=c99 -Wno-trigraphs -fpascal-strings -Os -Wno-return-type -Wno-parentheses -Wswitch -Wunused-function -Wno-unused-parameter -Wno-unused-variable -Wno-unused-value -Wno-shorten-64-to-32 -DTI_VERSION= -isysroot /Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator5.0.sdk -fexceptions -fasm-blocks -mmacosx-version-min=10.6 -gdwarf-2 -Wno-sign-conversion -fobjc-abi-version=2 -fobjc-legacy-dispatch \"-DIBOutlet=<strong>attribute</strong>((iboutlet))\" \"-DIBOutletCollection(ClassName)=<strong>attribute</strong>((iboutletcollection(ClassName)))\" \"-DIBAction=void)<strong>attribute</strong>((ibaction)\" -D__IPHONE_OS_VERSION_MIN_REQUIRED=40000 -iquote /TitaniumStudioWorkspace/tisqlite_crypt_ios/build/tisqlite_crypt_ios.build/Release-iphonesimulator/tisqlite_crypt_ios.build/UkCoClinicalsoftwaresolutionsTisqlite_crypt_ios-generated-files.hmap -I/TitaniumStudioWorkspace/tisqlite_crypt_ios/build/tisqlite_crypt_ios.build/Release-iphonesimulator/tisqlite_crypt_ios.build/UkCoClinicalsoftwaresolutionsTisqlite_crypt_ios-own-target-headers.hmap -I/TitaniumStudioWorkspace/tisqlite_crypt_ios/build/tisqlite_crypt_ios.build/Release-iphonesimulator/tisqlite_crypt_ios.build/UkCoClinicalsoftwaresolutionsTisqlite_crypt_ios-all-target-headers.hmap -iquote /TitaniumStudioWorkspace/tisqlite_crypt_ios/build/tisqlite_crypt_ios.build/Release-iphonesimulator/tisqlite_crypt_ios.build/UkCoClinicalsoftwaresolutionsTisqlite_crypt_ios-project-headers.hmap -I/TitaniumStudioWorkspace/tisqlite_crypt_ios/build/Release-iphonesimulator/include \"-I/Library/Application Support/Titanium/mobilesdk/osx/2.1.3.GA/iphone/include\" \"-I/Library/Application Support/Titanium/mobilesdk/osx/2.1.3.GA/iphone/include/TiCore\" -I/TitaniumStudioWorkspace/tisqlite_crypt_ios/build/tisqlite_crypt_ios.build/Release-iphonesimulator/tisqlite_crypt_ios.build/DerivedSources/i386 -I/TitaniumStudioWorkspace/tisqlite_crypt_ios/build/tisqlite_crypt_ios.build/Release-iphonesimulator/tisqlite_crypt_ios.build/DerivedSources -F/TitaniumStudioWorkspace/tisqlite_crypt_ios/build/Release-iphonesimulator -DTI_POST_1_2 -include /var/folders/LP/LPsQmql2FfCGO9YCrCUKUU+++TI/-Caches-/com.apple.Xcode.501/SharedPrecompiledHeaders/UkCoClinicalsoftwaresolutionsTisqlite_crypt_ios_Prefix-hbaweqhgijjnfpfynapljpziqmjk/UkCoClinicalsoftwaresolutionsTisqlite_crypt_ios_Prefix.pch -MMD -MT dependencies -MF /TitaniumStudioWorkspace/tisqlite_crypt_ios/build/tisqlite_crypt_ios.build/Release-iphonesimulator/tisqlite_crypt_ios.build/Objects-normal/i386/UkCoClinicalsoftwaresolutionsTisqlite_crypt_iosModule.d -c /TitaniumStudioWorkspace/tisqlite_crypt_ios/Classes/UkCoClinicalsoftwaresolutionsTisqlite_crypt_iosModule.m -o /TitaniumStudioWorkspace/tisqlite_crypt_ios/build/tisqlite_crypt_ios.build/Release-iphonesimulator/tisqlite_crypt_ios.build/Objects-normal/i386/UkCoClinicalsoftwaresolutionsTisqlite_crypt_iosModule.o</p>\n\n<p>In file included from /TitaniumStudioWorkspace/tisqlite_crypt_ios/Classes/UkCoClinicalsoftwaresolutionsTisqlite_crypt_iosModule.m:14:\n/TitaniumStudioWorkspace/tisqlite_crypt_ios/Classes/sqlite3.c:27620:32:{27620:32-27620:45}{27620:30-27620:31}: warning: implicit conversion from 'long long' to 'long' changes value from 9223372036854775807 to -1 [-Wconstant-conversion,3]\n     mask = (sizeof(long)==8) ? LARGEST_INT64 : 0x7fffffff;\n                              ~ ^~~~~~~~~~~~~\n/TitaniumStudioWorkspace/tisqlite_crypt_ios/Classes/sqlite3.c:7946:25: note: instantiated from:\n #define LARGEST_INT64  (0xffffffff|(((i64)0x7fffffff)&lt;&lt;32))\n                         ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n1 warning generated.</p>\n\n<p>Libtool build/Release-iphonesimulator/libUkCoClinicalsoftwaresolutionsTisqlite_crypt_ios.a normal i386\n    cd /TitaniumStudioWorkspace/tisqlite_crypt_ios\n    setenv MACOSX_DEPLOYMENT_TARGET 10.6\n    setenv PATH \"/Developer/Platforms/iPhoneSimulator.platform/Developer/usr/bin:/Developer/usr/bin:/System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/usr/X11/bin:/opt/local/bin:/usr/local/git/bin\"\n    /Developer/Platforms/iPhoneSimulator.platform/Developer/usr/bin/libtool -static -arch_only i386 -syslibroot /Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator5.0.sdk -L/TitaniumStudioWorkspace/tisqlite_crypt_ios/build/Release-iphonesimulator -filelist /TitaniumStudioWorkspace/tisqlite_crypt_ios/build/tisqlite_crypt_ios.build/Release-iphonesimulator/tisqlite_crypt_ios.build/Objects-normal/i386/UkCoClinicalsoftwaresolutionsTisqlite_crypt_ios.LinkFileList -ObjC -framework Foundation -o /TitaniumStudioWorkspace/tisqlite_crypt_ios/build/Release-iphonesimulator/libUkCoClinicalsoftwaresolutionsTisqlite_crypt_ios.a</p>\n\n<p>** BUILD SUCCEEDED **</p>\n"},{"tags":["c#","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":59,"score":2,"question_id":12815577,"title":"c#, System.Data.Sqlite and Ñ character","body":"<p>I am using Sqlite to have a local database. I create the database with the command line tool and the I create the tables with sqlite admin.</p>\n\n<p>I the information of one of the tables I have a register with a \"Ñ\" characeter. This register is insterted by a sql statement that I execute in sqlite admin.</p>\n\n<p>If i do a select in sqlite admin, I can see that the character \"Ñ\" is correct, but if I use entity framework and the library System.Data.Sqlite, the string that I receive is \"?\" or other odd characters (I have tried trying to use UTF8, UTF7, ASCII, UTF32...) but in all the cases I receive odd characters.</p>\n\n<p>I would like to know why I receive this characters if in the database it seems that all is correct. is it possible that the System.Data.Sqlite library has a bug?</p>\n\n<p>Thanks.\nDaimoroc.</p>\n"},{"tags":["sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":60,"score":1,"question_id":12815082,"title":"SQLITE query to desire results","body":"<p>I have the table in the format (CUSTOMER)     (FIG 1.1)                                                       </p>\n\n<pre><code>M_CODE  H_CODE END_TIME_OF_SERVICE ADULT ADULT_F\nTKLK    LONE     09:19:16           1     2\nTKLK    LONE     09:22:11           4     6\nTKLK    LONE     09:32:46           2     7\nTKLK    LONE     09:32:46           4     9\nTKLK    LONE     10:09:36           1     3\n</code></pre>\n\n<p>and if i run the ( SELECT strftime('%H:%M', end, '-9 minutes') || ' - ' || strftime('%H:%M', end ) AS time_slot FROM end_times ) it gives the correct output as (FIG - 1.2)</p>\n\n<pre><code>09:19 - 09:28\n09:29 - 09:38\n09:39 - 09:48\n09:49 - 09:58\n09:59 - 10:08\n10:09 - 10:18 \n</code></pre>\n\n<p>Can you guide how to map these two tables, let`s say the the records in CUSTOMER table should be summed up for adult and adult_f column with( FIG 1.2 to FIG 1.1 )</p>\n\n<pre><code>   ADULT    ADULT_F    TIME_SLOT\n      5        8      09:19 - 09:28\n      6       16      09:29 - 09:38\n      0        0      09:39 - 09:48\n      0        0      09:49 - 09:58\n      0        0      09:59 - 10:08\n      1        3      10:09 - 10:18 \n</code></pre>\n\n<p>Kindly guide me a solution, thanks for your time.</p>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":52,"score":3,"question_id":12811318,"title":"Search optimization from large text","body":"<p>Actually, I'm creating a e-book application. It uses one table as a book content, on each row one page of the book. When I search for a word It should return some list of partial results for example:</p>\n\n<blockquote>\n  <p>page 14: <br> {some text} <strong>keyword</strong> {some text3 again}</p>\n</blockquote>\n\n<hr>\n\n<blockquote>\n  <p>page 17: <br> {some text2} <strong>keyword</strong> {some text2 again}</p>\n</blockquote>\n\n<p>Of course, I can do it with some processing my text result in Java side, but I'm looking for better solution maybe with SQLite or  another approach.</p>\n\n<p>What technique is optimal in terms of CPU and memory usage?</p>\n"},{"tags":["android","sqlite","datetime"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":84,"score":0,"question_id":12813953,"title":"How to insert current date in sqlite from android application","body":"<p>I want to insert current date in SQLite database datetime type field.\nHow can I do this?</p>\n"},{"tags":["java","android","sqlite"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":56,"score":3,"question_id":12812623,"title":"Loading a small SQLite database (20 rows or so) for reading with Android","body":"<p>I am new to Android development but I am not an amateur programmer. I want to take a small SQLite table (that I have imported from a CSV file) that I have in a database saved on my desktop, and be able to access its contents inside of my application. I do not really need to edit the contents, just read from it. </p>\n\n<p>I found this example of source code on the internet that I thought would do the job, but it is not working as expected. It told me to first save the database into the assets folder. I am clueless as to if I am even going about this the right way, and I am tired of spending time searching on the internet. Any help would be much appreciated!</p>\n\n<pre><code>public class DataBaseHelper extends SQLiteOpenHelper {\n\n    //The Android's default system path of your application database.\n    private static String DB_PATH = \"/data/data/com.bigapple0208.seth3/databases/\";\n    private static String DB_NAME = \"bigapple0208database\"; \n    private SQLiteDatabase myDataBase;  \n    private final Context myContext;\n\n    /**\n     * Constructor\n     * Takes and keeps a reference of the passed context in order to access to the application assets and resources.\n     * @param context\n     */\n    public DataBaseHelper(Context context) {\n        super(context, DB_NAME, null, 1);\n        this.myContext = context;\n    }   \n\n    /**\n     * Creates a empty database on the system and rewrites it with your own database.\n     **/\n    public void createDataBase() throws IOException{\n        boolean dbExist = checkDataBase();\n\n        if(dbExist){\n            //do nothing - database already exist\n        }else{\n            //By calling this method and empty database will be created into the default system path\n            //of your application so we are gonna be able to overwrite that database with our database.\n            this.getReadableDatabase();\n\n            try {\n                copyDataBase();\n            } catch (IOException e) {\n                throw new Error(\"Error copying database\");\n            }\n        }\n    }\n\n    /**\n     * Check if the database already exist to avoid re-copying the file each time you open the application.\n     * @return true if it exists, false if it doesn't\n     */\n    private boolean checkDataBase(){\n        SQLiteDatabase checkDB = null;\n        try{\n            String myPath = DB_PATH + DB_NAME;\n            checkDB = SQLiteDatabase.openDatabase(myPath, null, SQLiteDatabase.OPEN_READONLY);\n\n        }catch(SQLiteException e){\n            //database does't exist yet.\n        }\n\n        if(checkDB != null){\n            checkDB.close();\n        }\n        return checkDB != null ? true : false;\n    }\n\n    /**\n     * Copies your database from your local assets-folder to the just created empty database in the\n     * system folder, from where it can be accessed and handled.\n     * This is done by transfering bytestream.\n     * */\n    private void copyDataBase() throws IOException{\n        //Open your local db as the input stream\n        InputStream myInput = myContext.getAssets().open(DB_NAME);\n\n        // Path to the just created empty db\n        String outFileName = DB_PATH + DB_NAME;\n\n        //Open the empty db as the output stream\n        OutputStream myOutput = new FileOutputStream(outFileName);\n\n        //transfer bytes from the inputfile to the outputfile\n        byte[] buffer = new byte[1024];\n        int length;\n        while ((length = myInput.read(buffer))&gt;0){\n            myOutput.write(buffer, 0, length);\n        }\n\n        //Close the streams\n        myOutput.flush();\n        myOutput.close();\n        myInput.close();\n\n    }\n\n    public void openDataBase() throws SQLException{\n        //Open the database\n        String myPath = DB_PATH + DB_NAME;\n        myDataBase = SQLiteDatabase.openDatabase(myPath, null, SQLiteDatabase.OPEN_READONLY);\n\n    }\n\n    @Override\n    public synchronized void close() {\n        if(myDataBase != null)\n            myDataBase.close();\n        super.close();\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n\n    }\n    // Add your public helper methods to access and get content from the database.\n    // You could return cursors by doing \"return myDataBase.query(....)\" so it'd be easy\n    // to you to create adapters for your views.\n\n}\n</code></pre>\n"},{"tags":["sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":12775397,"title":"SQLITE query to display the last 1 hour with 10mins interval","body":"<p>I have searched a bit for getting last 1hr details with 10mins interval, as follow</p>\n\n<p>if suppose the current time is 10:30, i am expecting the output as follows , kindly suggest me the solutions.  </p>\n\n<pre><code>  TIME_SLOT\n\n09:31 - 09:40\n09:41 - 09:50\n09:51 - 10:00\n10:01 - 10:10\n10:11 - 10:20\n10:21 - 10:30\n</code></pre>\n"},{"tags":["java","sqlite","jdbc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":118,"score":0,"question_id":12803140,"title":"Java - JDBC Driver SQLite 3.7.2 - Unable to open database test.db: file is encrypted or is not a database","body":"<p>I'm writing some data to a database file using the SQLite JDBC driver 3.7.2 from within java . When I try it to open the database file on the command line, I get an error message saying:</p>\n\n<p>\"Unable to open database test.db: file is encrypted or is not a database\"</p>\n\n<p>I made a minimal example that results in this behavior:</p>\n\n<pre><code>import java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.PreparedStatement;\nimport java.sql.SQLException;\nimport java.sql.Statement;\n\npublic class PlaygroundSQLite {\n    public static void insertIntoDB(String dbFilename, String tablename){\n        try {\n            Class.forName(\"org.sqlite.JDBC\");\n            Connection conn = DriverManager.getConnection(\"jdbc:sqlite:\"+dbFilename);\n            PreparedStatement prep = conn.prepareStatement(\"insert into \" + tablename + \"( id, text) values (?, ?);\");\n\n            prep.setString(1, \"1FD22A38\");\n            prep.setString(2, \"This is a simple test\");\n\n            prep.addBatch();\n\n            conn.setAutoCommit(false);\n            prep.executeBatch();\n            conn.setAutoCommit(true);\n\n            conn.close();\n\n        } catch (ClassNotFoundException e) {\n            e.printStackTrace();\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public static void createDB(String dbFilename, String tablename){\n        try {\n            Class.forName(\"org.sqlite.JDBC\");\n            Connection conn = DriverManager.getConnection(\"jdbc:sqlite:\" + dbFilename);\n            Statement stat = conn.createStatement();\n            stat.executeUpdate(\"drop table if exists test;\");\n            stat.executeUpdate(\"create table \" + tablename + \" (key INTEGER PRIMARY KEY, id TEXT , text TEXT);\");\n            conn.close();\n            stat.close();\n        } catch (ClassNotFoundException e) {\n            e.printStackTrace();\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public static void main(String[] args) {\n        String dbFilename = \"test.db\";\n        String tablename = \"test\";\n\n        PlaygroundSQLite.createDB(dbFilename, tablename);\n        PlaygroundSQLite.insertIntoDB(dbFilename, tablename);\n    }\n}\n</code></pre>\n"},{"tags":["sqlite","transactions"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":12812152,"title":"How can I find the name of the current SAVEPOINT in SQLite?","body":"<p>I have a trigger <code>ON UPDATE</code> on a table that calls a custom function. In the custom function, I want to insert into a log table the name of the current SAVEPOINT (the deepest unsaved one) along with the name of the table and the timestamp. I am currently hardcoding the name of the table (please let me know if there is a better way) but I cannot figure out how to get the name of the current SAVEPOINT.</p>\n\n<p>Thanks!</p>\n"},{"tags":["android","sqlite","listview","messages","chain"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":12813432,"title":"Android messages chain like sms","body":"<p>I have SQLite table name '<strong>messages</strong>'.</p>\n\n<p>Columns are </p>\n\n<blockquote>\n  <p>ID, message,FromUser,ToUser</p>\n</blockquote>\n\n<p>.\nI want display messages, like iPhone sms:<br>\nme:xxxxxxxx</p>\n\n<pre><code>      yyyyyyyy:user\n</code></pre>\n\n<p>me:xxxxxxxxx</p>\n\n<pre><code>      zzzzzzzzz:user\n</code></pre>\n\n<p>how can I do? Maybe i can use the listView?\nI apologize for my English :) Thanks!</p>\n"},{"tags":["sqlite"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":544,"score":1,"question_id":5860613,"title":"Suggestions for resources to learn SQLite","body":"<p>Hey all. I'm looking for some good resources for a beginner to learn SQLite. I've used SQLite as part of Android development, but I'm realizing now that I need to back up a bit and really learn SQLite and RDBMS from the ground up. I've been reading The Definitive Guide to SQLite, which is good, but it's not as basic as I had hoped. </p>\n\n<p>Anyone have some good resources for a noob?</p>\n\n<p>Thanks!</p>\n"},{"tags":["iphone","objective-c","sqlite","csv","import"],"answer_count":3,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":133,"score":3,"question_id":12580800,"title":"Import csv file into sqlite","body":"<p>I am having database in sqlite.\n   I am having 1 table named xyz which is empty.\n   I want to import data from csv file into that table.\n   Now, when I try to import csv file, it is asking me to import it in main table.</p>\n\n<p>I want to import data in my xyz table.</p>\n\n<p>How can i do that?\n  Please help.\n  Thanks.</p>\n"},{"tags":["sqlite","ios6","fmdb","armv7"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":122,"score":0,"question_id":12712566,"title":"Sqlite fmdb lib duplicates symbol for armv7","body":"<p>I get this error when trying to build on Xcode 4.5 based on iOS 6 SDK</p>\n\n<p>duplicate symbol _main in:\n    /Users/nsm/Library/Developer/Xcode/DerivedData/Newsapp-btwcniahgzgkgrbtyloduniznsay/Build/Intermediates/Newsapp.build/Debug-iphonesimulator/Newsapp.build/Objects-normal/i386/main.o\n    /Users/nsm/Library/Developer/Xcode/DerivedData/Newsapp-btwcniahgzgkgrbtyloduniznsay/Build/Intermediates/Newsapp.build/Debug-iphonesimulator/Newsapp.build/Objects-normal/i386/fmdb.o\nld: 1 duplicate symbol for architecture i386\nclang: error: linker command failed with exit code 1 (use -v to see invocation)</p>\n\n<p>What is the problem?</p>\n"},{"tags":["iphone","objective-c","ios","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":12812201,"title":"not getting inside while loop when selecting a single row from sqlite","body":"<p>I have a problem with <code>sqlite</code>, when i select a <strong>single row</strong> from <strong>table</strong> and then check <code>sqlite3_step(statement) == SQLITE_ROW</code> both values are different and not getting inside <code>while statement</code>.</p>\n\n<p><strong>This is the code:</strong></p>\n\n<pre><code>if (sqlite3_prepare_v2(db, query_stmt, -1, &amp;statement, NULL) == SQLITE_OK)\n{\n    //NSLog(@\"working777.............%d\",sqlite3_step(statement));\n\n    while (sqlite3_step(statement) == SQLITE_ROW)\n    {\n       NSLog(@\"working888.............%d\",SQLITE_ROW);\n       NSString *addressField = [[NSString alloc]   initWithUTF8String: (const char *) sqlite3_column_text(statement, 0)];\n\n\n       NSString *phoneField = [[NSString alloc]    initWithUTF8String:(const char *)sqlite3_column_text(statement, 1)];\n\n\n       NSLog(@\"............statement...........addressField %@, phoneField %@\",addressField,phoneField);\n    } \n\n   sqlite3_finalize(statement);\n}\n   sqlite3_close(db);\n\n } \n</code></pre>\n"},{"tags":["php","sqlite","pdo"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12812066,"title":"Return single value from table with SQLite PDO","body":"<p>I have a table that stores the setting and its value what is the best way to retreve the values form the database?</p>\n\n<p>Settings table is set out like this:</p>\n\n<pre><code>setting    value\n host       1.2.3.4\n port       1234\n user       me\n pass       cake\n</code></pre>\n\n<p>Eg:</p>\n\n<pre><code>$host = $db-&gt;query('SELECT value FROM settings where setting = \"host\" ');\nprint $host;\n</code></pre>\n"},{"tags":["sqlite","transactions","delta"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":36,"score":1,"question_id":12307851,"title":"How can I determine whether any changes were made between savepoints in SQLite?","body":"<p>I wonder if anyone knows if it is possible to determine if changes were made since a given savepoint was created. I'm thinking about using this to find out if user made changes, and then ask if he wants to save or not before moving to another page / closing the app..</p>\n\n<p>Thanks in advance, Eitan.</p>\n"},{"tags":["sqlite","blackberry"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":86,"score":1,"question_id":11007368,"title":"SQLite keep expanding","body":"<p>I'm new to the blackberry development and to this site. right now, i'm working on an app that retrieve data from a json service. In my app I should parse the data into a database and save it in four tables. I already parsed the data and I was successful able to create the database and add the first and the second tables.</p>\n\n<p>The problem that I'm facing right now is, the second table in my data base keep expanding. I checked the database in the sql browser and I discovered that everytime I click on the app icon it adds the 700 rows to the table again.(ex. 700 becomes 1400) .</p>\n\n<p>(only to the second table, the first table works so fine).</p>\n\n<p>Thank you in advance</p>\n\n<p>This is my code:</p>\n\n<pre><code>public void parseJSONResponceInBB(String jsonInStrFormat)\n{\n    try {\n        JSONObject json = newJSONObject(jsonInStrFormat);\n        JSONArray jArray = json.getJSONArray(\"tables\");\n\n        for (inti = 0; i &lt; jArray.length(); i++) {\n            //Iterate through json array\n            JSONObject j = jArray.getJSONObject(i);\n            if (j.has(\"Managers\")) {\n                add(new LabelField(\"Managers has been added to the database\"));\n\n                JSONArray j2 = j.getJSONArray(\"Managers\");\n\n                for (intk = 0; k &lt; j2.length(); ++k) {\n                    JSONObject MangersDetails = j2.getJSONObject(k);\n                    if (MangersDetails.has(\"fName\")) {\n                        try {\n                            URI myURI =\n                                URI.create\n                                (\"file:///SDCard/Databases/SQLite_Guide/\"\n                                 + \"MyTestDatabase.db\");\n\n                            d = DatabaseFactory.openOrCreate(myURI);\n\n                            Statement st =\n                                d.createStatement\n                                (\"CREATE TABLE Managers ( \"\n                                 + \"fName TEXT, \" +\n                                 \"lName TEXT, \" + \"ID TEXT,\" + \"Type TEXT )\");\n\n                            st.prepare();\n                            st.execute();\n                            st.close();\n                            d.close();\n                        }\n                        catch(Exception e) {\n                            System.out.println(e.getMessage());\n                            e.printStackTrace();\n                        }\n\n                        try {\n                            URI myURI =\n                                URI.create\n                                (\"file:///SDCard/Databases/SQLite_Guide/\"\n                                 + \"MyTestDatabase.db\");\n\n                            d = DatabaseFactory.open(myURI);\n\n                            Statement st =\n                                d.createStatement\n                                (\"INSERT INTO Managers(fName, lName, ID, Type) \"\n                                 + \"VALUES (?,?,?,?)\");\n\n                            st.prepare();\n\n                            for (intx = 0; x &lt; j2.length(); x++) {\n                                JSONObject F = j2.getJSONObject(x);\n                                //add(new LabelField (\"f\"));\n                                st.bind(1, F.getString(\"fName\"));\n                                st.bind(2, F.getString(\"lName\"));\n                                st.bind(3, F.getString(\"ID\"));\n                                st.bind(4, F.getString(\"Type\"));\n                                st.execute();\n                                st.reset();\n                            }\n                            d.close();\n                        }\n                        catch(Exception e) {\n                            System.out.println(e.getMessage());\n                            e.printStackTrace();\n                        }\n                    }\n                }\n            }\n        }\n    }\n    catch(JSONException e) {\n        e.printStackTrace();\n    }\n}\n\n    //Owners method\npublic voidparseJSONResponceInBB1(String jsonInStrFormat)\n{\n    try {\n        JSONObject json = newJSONObject(jsonInStrFormat);\n        JSONArray jArray = json.getJSONArray(\"tables\");\n\n        for (inti = 0; i &lt; jArray.length(); i++) {\n            //Iterate through json array\n            JSONObject j = jArray.getJSONObject(i);\n            if (j.has(\"Owners\")) {\n                add(new LabelField(\"Owners has been added to the database\"));\n                JSONArray j2 = j.getJSONArray(\"Owners\");\n                for (intk = 0; k &lt; j2.length(); ++k) {\n                    JSONObject OwnersDetails = j2.getJSONObject(k);\n                    if (OwnersDetails.has(\"fName\")) {\n                        try {\n                            Statement st =\n                                d.createStatement\n                                (\"CREATE TABLE Owners ( \"\n                                 + \"fName TEXT, \" +\n                                 \"lName TEXT, \" + \"ID TEXT,\" + \"Type TEXT )\");\n                            st.prepare();\n                            st.execute();\n                            st.close();\n                            d.close();\n                        }\n                        catch(Exception e) {\n                            System.out.println(e.getMessage());\n                            e.printStackTrace();\n                        }\n\n                        try {\n                            Statement st =\n                                d.createStatement\n                                (\"INSERT INTO Owners(fName, lName, ID, Type) \"\n                                 + \"VALUES (?,?,?,?)\");\n\n                            st.prepare();\n                            for (intx = 0; x &lt; j2.length(); x++) {\n                                JSONObject F = j2.getJSONObject(x);\n                                //add(new LabelField (\"f\"));\n                                st.bind(1, F.getString(\"fName\"));\n                                st.bind(2, F.getString(\"lName\"));\n                                st.bind(3, F.getString(\"ID\"));\n                                st.bind(4, F.getString(\"Type\"));\n                                st.execute();\n                                st.reset();\n                            }\n                            d.close();\n                        }\n                        catch(Exception e) {\n                            System.out.println(e.getMessage());\n                            e.printStackTrace();\n                        }\n                    }\n                }\n            }\n        }\n    }\n    catch(JSONException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":["java","android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":73,"score":-2,"question_id":10550027,"title":"Need Sqlite Database Query browser - Andriod developer","body":"<p>I`m new to android development, using SQLite as database ,</p>\n\n<p>Like to ask two question</p>\n\n<p>1) Is there any query browser for SQLite kindly give me link to download(Open source)</p>\n\n<p>2) If there is query browser then how can i create schema and data and dump the same database into my Emulator in eclipse and check, how can we dump the same database to samsung Tablet 10.1 or android device</p>\n\n<p>Thanks </p>\n"},{"tags":["java","android","sqlite"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":234,"score":0,"question_id":8381244,"title":"Android SQLite with existing database","body":"<p>I have an SQLite database in the assets folder named BeachGuide inside my application. I’ve been following two different tutorials and they both work but not quite the way I want them to. For this exercise the database is for reading only so I'm not after CRUD at this time. </p>\n\n<p>I have the following code but I get a null pointer exception so I'm stuck now. The problem I’m having is I’m not sure if I’m getting anything from the database at, the database has no extension (create in SQLite Database Creater) So I’m not sure if I should or even can move on from here!</p>\n\n<p>I don’t think I need any create methods as I’m building the database manually with SDC???</p>\n\n<p>I’m trying to for a start get a list of BeachName via the <code>selectAll()</code> method at the bottom of the <code>DataBaseHelper</code>?</p>\n\n<p><strong>DataBaseHelper:</strong></p>\n\n<pre><code>public class DataBaseHelper extends SQLiteOpenHelper{\n\n    private static String DB_PATH = \"/data/data/com.fnesse.beachguide/databases/\"; \n    private static String DB_NAME = \"BeachGuide\"; \n    private static final String TABLE_NAME = \"Beach\";\n    private SQLiteDatabase myDataBase;  \n    private final Context myContext;\n\n    public DataBaseHelper(Context context) {\n\n        super(context, DB_NAME, null, 1);\n        this.myContext = context;\n    }   \n\n    public void createDataBase() throws IOException{\n\n        boolean dbExist = checkDataBase();\n\n        if(dbExist){\n            //do nothing - database already exist\n        }else{\n\n            //By calling this method and empty database will be created into the default system path\n            //of your application so we are gonna be able to overwrite that database with our database.\n            this.getReadableDatabase();\n\n            try {\n\n                copyDataBase();\n\n            } catch (IOException e) {\n\n                throw new Error(\"Error copying database\");\n\n            }\n        }\n    }\n\n    /**\n     * Check if the database already exist to avoid re-copying the file each time you open the application.\n     * @return true if it exists, false if it doesn't\n     */\n    private boolean checkDataBase(){\n\n        SQLiteDatabase checkDB = null; \n        try{\n            String myPath = DB_PATH + DB_NAME;\n            checkDB = SQLiteDatabase.openDatabase(myPath, null, SQLiteDatabase.OPEN_READONLY);\n\n        }catch(SQLiteException e){ \n            //database does't exist yet.\n\n        }\n\n        if(checkDB != null){ \n            checkDB.close(); \n        } \n        return checkDB != null ? true : false;\n    }\n\n    /**\n     * Copies your database from your local assets-folder to the just created empty database in the\n     * system folder, from where it can be accessed and handled.\n     * This is done by transfering bytestream.\n     * */\n    private void copyDataBase() throws IOException{\n\n        //Open your local db as the input stream\n        InputStream myInput = myContext.getAssets().open(DB_NAME);\n\n        // Path to the just created empty db\n        String outFileName = DB_PATH + DB_NAME;\n\n        //Open the empty db as the output stream\n        OutputStream myOutput = new FileOutputStream(outFileName);\n\n        //transfer bytes from the inputfile to the outputfile\n        byte[] buffer = new byte[1024];\n        int length;\n        while ((length = myInput.read(buffer))&gt;0){\n            myOutput.write(buffer, 0, length);\n        }\n\n        //Close the streams\n        myOutput.flush();\n        myOutput.close();\n        myInput.close();\n    }\n\n    public void openDataBase() throws SQLException{\n\n        //Open the database\n        String myPath = DB_PATH + DB_NAME;\n        myDataBase = SQLiteDatabase.openDatabase(myPath, null, SQLiteDatabase.OPEN_READONLY);\n    }\n\n    @Override\n    public synchronized void close() {\n\n            if(myDataBase != null)\n                myDataBase.close();\n            super.close();\n\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n\n    }\n\n    // Add your public helper methods to access and get content from the database.\n    // You could return cursors by doing \"return myDataBase.query(....)\" so it'd be easy\n    // to you to create adapters for your views.\n\n    public List&lt;String&gt; selectAll() {   \n        List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n        Cursor cursor = this.myDataBase.query(TABLE_NAME, new String[] { \"BeachName\" }, null, null, null, null, \"BeachName desc\");\n        if (cursor.moveToFirst()) {\n            do {\n                list.add(cursor.getString(0)); \n            } while (cursor.moveToNext());\n        }\n\n        if (cursor != null &amp;&amp; !cursor.isClosed()) {\n            cursor.close();\n        }\n        return list;\n    }  \n\n}\n</code></pre>\n\n<p><strong>And my BeachList Class/Activity:</strong></p>\n\n<pre><code>public class BeachList extends Activity {\n\n    private TextView output;\n    private DataBaseHelper dh;\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.beachlist);\n\n        this.output = (TextView) this.findViewById(R.id.out_text);        \n        this.dh = new DataBaseHelper(this);\n\n        //this is where it crashes\n        List&lt;String&gt; BeachNames = this.dh.selectAll();\n\n        StringBuilder sb = new StringBuilder();\n        sb.append(\"Beachs in database:\\n\");\n        for (String name : BeachNames) {\n           sb.append(name + \"\\n\");\n        }\n        this.output.setText(sb.toString());*/         \n    }\n}\n</code></pre>\n\n<p>It crashes at this line with Null Pointer, leading me to believe its not doning much of what I would like it to at all,</p>\n\n<pre><code>List&lt;String&gt; BeachNames = this.dh.selectAll();\n</code></pre>\n\n<p><strong>Edit:</strong></p>\n\n<hr>\n\n<p>Stackoverflow does some funny things with posts, the end of my post disappeared somehow!!! Please before you start molding my question into a search engine friendly answer, lets at least find an answer for me!</p>\n\n<p>There are a couple of nice answers below, but no answers, does my code look even close to like it could work??? That would be a start here.</p>\n\n<p>I don’t think I’m getting anything from the database, hence the null pointer exception. If I change the name of the database I get no extra error messages, it just still doesn’t work! So I need to know that first.</p>\n"},{"tags":["c#","mysql","database","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":129,"score":0,"question_id":12056721,"title":"Programmatically convert SQLite to .sql","body":"<p>Alright, this will probably sound a bit silly.  The more I think about it, the sillier it sounds.</p>\n\n<p><strong>Background</strong>:<br/>\nThe company I'm working for hired a guy about a year ago to write some software for them.  This software (written in VB6) is for a drilling supplies manufacturer (sensors, bits, etc).  Anyway, the software is installed at a rig site, and provides a plethora of information (bit depth, rpms, etc).  Now, a reading is taken every 10 seconds, and saved to a file. (I was initially told a local SQL database, but that's proved incorrect.)  This file, which can apparently only be opened in SQLite Database Browser (opening it in any text editor results in looking at garbage, essentially).</p>\n\n<p><strong>Move Forward</strong>:<br/>\nI was hired to write a program that takes the data that is saved, and create a daily report based upon it.  Initially, I was told that there was a MySQL database on the local machine that is storing the information.  However, I just recently found out that that is not the case.  It's stored in this file.  I can open the file in SQLite Database Browser, and export it as a .sql file, and that is all awesome and such.  Problem is, my employer wants this done programmatically.  </p>\n\n<p><strong>My Question</strong>:<br/>\nIs there a way to convert this SQLite file to .sql programmatically, or what is the best route to get this information uploaded into a local MySQL database?  Thank you for much for any assistance.</p>\n"},{"tags":["sqlite","ormlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":74,"score":0,"question_id":11493210,"title":"Using ForeignCollections in SQLite","body":"<p>I want to write a unit test that basically verifies an object I add to a foreign collection actually gets saved and retrieved correctly when the DAO saves retrieves the object\nHere is my Entity.</p>\n\n<pre><code>@DatabaseTable\npublic class Question implements Question, Serializable {\n\n    @DatabaseField\n    private String questionText;\n\n    @ForeignCollectionField\n    private ForeignCollection&lt;Answer&gt; answers;\n\n    public void addAnswer(Answer answer) {\n        answers.add(answer);\n    }\n</code></pre>\n\n<p>What I want to do is create a <code>Question</code> instance add an <code>Answer</code> object to the collection and pass the <code>Question</code> to my DAO which will persist it.  The persistence works fine on regular fields so I know there is no problem there.</p>\n\n<p>How do I go about adding an <code>Answer</code> to the collection?  When I create the <code>Question</code> it's answers collection is null. Is it what I have to save the new <code>Question</code> and then retrieve it in order for the answers collection to be non null?  Or, do I set the answers to a BaseCollection, LazyCollection instance?</p>\n"},{"tags":["android","html5","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":3,"view_count":215,"score":-2,"question_id":10773605,"title":"Android - HTML5 - SQLite","body":"<p>I wanted to build an application that runs on android using purely html, javascript and a database ( sqlite maybe? ). I have not done android development before. My question is that is it possible to develop a database application for android using only html, javascript and a database? Is there any other better database supported than sqlite? </p>\n\n<p>Thanking you\nImran</p>\n"},{"tags":["android","eclipse","sqlite","date"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":58,"score":-1,"question_id":12811323,"title":"How to save date Using Date Picker into SQL Database","body":"<p>I am new comer to this android field \ni am finding very difficult to do this please help me </p>\n"},{"tags":["java","android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":57,"score":1,"question_id":12806142,"title":"Exception on insertion in android database","body":"<p>An UnknownFormatConversionException is thrown on the calling of the insert function just after the for loop and the printing of the Log, i caught that exception but how to remove it? I do'nt know what the reason it happened, </p>\n\n<pre><code>try {\n        List&lt;Status&gt; timeline = \n            ((YambaApp) getApplication()).getTwitter().getPublicTimeline();\n        for (Status status : timeline) {\n            Log.d(TAG, String.format(\"%s: %s\", status.user.name,\n                    status.text));\n            statusData.insert(status);\n\n            }\n    } catch (TwitterException e) {\n        Log.d(TAG,\"Failed to access twitter service  \",e);\n    } catch(NullPointerException a){\n        Log.d(TAG,\"Pref had been changed and twitter object is null\",a);\n    } catch (UnknownFormatConversionException u){\n        Log.d(TAG,\"exception \"+ u);\n    }\n</code></pre>\n\n<p>Here is the Code of the insert function:</p>\n\n<pre><code>public void insert(Status status){\n    db=dbHelper.getWritableDatabase();\n\n    ContentValues value= new ContentValues();\n    //converting BigInteger to String\n    BigInteger bi=status.id;\n    String status_id= new String(bi.toByteArray());\n\n\n    value.put(C_ID, status_id);\n    value.put(C_CREATED_AT, status.createdAt.getTime());\n    value.put(C_TEXT, status.user.name);\n    value.put(C_TEXT, status.text);\n\n    db.insert(TABLE, null, value);\n}\n</code></pre>\n\n<p>Here is the complete stack trace of the thrown exception </p>\n\n<pre><code>10-10 06:05:22.648: E/AndroidRuntime(627): FATAL EXCEPTION: IntentService[RefreshService]\n10-10 06:05:22.648: E/AndroidRuntime(627): java.util.UnknownFormatConversionException: Conversion: i\n10-10 06:05:22.648: E/AndroidRuntime(627):  at java.util.Formatter$FormatToken.unknownFormatConversionException(Formatter.java:1397)\n10-10 06:05:22.648: E/AndroidRuntime(627):  at     java.util.Formatter$FormatToken.checkFlags(Formatter.java:1334)\n10-10 06:05:22.648: E/AndroidRuntime(627):  at java.util.Formatter.transform(Formatter.java:1440)\n10-10 06:05:22.648: E/AndroidRuntime(627):  at java.util.Formatter.doFormat(Formatter.java:1079)\n10-10 06:05:22.648: E/AndroidRuntime(627):  at java.util.Formatter.format(Formatter.java:1040)\n10-10 06:05:22.648: E/AndroidRuntime(627):  at java.util.Formatter.format(Formatter.java:1009)\n10-10 06:05:22.648: E/AndroidRuntime(627):  at java.lang.String.format(String.java:1998)\n10-10 06:05:22.648: E/AndroidRuntime(627):  at java.lang.String.format(String.java:1972)\n10-10 06:05:22.648: E/AndroidRuntime(627):  at com.example.yamba.StatusData$DbHelper.onCreate(StatusData.java:59)\n10-10 06:05:22.648: E/AndroidRuntime(627):  at android.database.sqlite.SQLiteOpenHelper.getWritableDatabase(SQLiteOpenHelper.java:165)\n10-10 06:05:22.648: E/AndroidRuntime(627):  at com.example.yamba.StatusData.insert(StatusData.java:32)\n10-10 06:05:22.648: E/AndroidRuntime(627):  at com.example.yamba.RefreshService.onHandleIntent(RefreshService.java:32)\n10-10 06:05:22.648: E/AndroidRuntime(627):  at android.app.IntentService$ServiceHandler.handleMessage(IntentService.java:65)\n10-10 06:05:22.648: E/AndroidRuntime(627):  at android.os.Handler.dispatchMessage(Handler.java:99)\n10-10 06:05:22.648: E/AndroidRuntime(627):  at android.os.Looper.loop(Looper.java:137)\n10-10 06:05:22.648: E/AndroidRuntime(627):  at android.os.HandlerThread.run(HandlerThread.java:60)\n10-10 06:05:22.968: W/IInputConnectionWrapper(627): showStatusIcon on inactive InputConnection\n</code></pre>\n"},{"tags":["python","sqlite","multiprocessing"],"answer_count":4,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":735,"score":0,"question_id":6969820,"title":"SQLite3 and Multiprocessing","body":"<p>I noticed that sqlite3 isn´t really capable nor reliable when i use it inside a multiprocessing enviroment. Each process tries to write some data into the same database, so that a connection is used by multiple threads. I tried it with the check_same_thread=False option, but the number of insertions is pretty random: Sometimes it includes everything, sometimes not. Should I parallel-process only parts of the function (fetching data from the web), stack their outputs into a list and put them into the table all together or is there a reliable way to handle multi-connections with sqlite?</p>\n"},{"tags":["ruby-on-rails","ruby","sqlite","activerecord"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":72,"score":3,"question_id":12809070,"title":"Why is my decimal slightly bigger after coming out of the database?","body":"<p>I am a bit confused about a 2-digit decimal gaining an extra 0.000000000000000001 (or so) after going into and out of a database.</p>\n\n<p>This is what I've done: (Rails 3.2.8)</p>\n\n<p>Created a migration:</p>\n\n<pre><code>class CreateItems &lt; ActiveRecord::Migration\n  def change\n    create_table :items do |t|\n      t.column :price, :decimal, :precision =&gt; 16, :scale =&gt; 2\n    end\n  end\nend\n</code></pre>\n\n<p>Created a model:</p>\n\n<pre><code>class Item &lt; ActiveRecord::Base\nend\n</code></pre>\n\n<p>Then:</p>\n\n<pre><code>$ rails c\n&gt;&gt; i = Item.new\n&gt;&gt; i.price = 9.46\n&gt;&gt; i.save\n&gt;&gt; Item.first.price\n=&gt; #&lt;BigDecimal:46b3768,'0.9460000000 000001E1',27(45)&gt;\n</code></pre>\n\n<p>It's a SQLite database, and it all looks ok in there:</p>\n\n<pre><code>$ rails db\n&gt;&gt; select * from items;\n1|9.46\n</code></pre>\n\n<p>Note that the only number I've noticed this happening with is 9.46.\nWhere has the extra 0.00000000000001 come from?</p>\n\n<hr>\n\n<p><strong>Edit</strong> I understand that floating point representations of some numbers are not possible without small errors. But why does <code>Item.first.price</code> not equal <code>BigDecimal.new('9.46')</code>? Is SQLite storing a float as opposed to an integer and a number of times it should be divided by 10 (that's what I'd expect from a decimal column)? Or is there some gotcha in ActiveRecord I'm not aware of with retrieving the value from the DB? See below:</p>\n\n<pre><code>$ rails c\n&gt;&gt; decimal = BigDecimal.new('9.46')\n&gt;&gt; Item.first.price == decimal\n=&gt; false\n</code></pre>\n"},{"tags":["android","database","query","sqlite","android-sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":59,"score":1,"question_id":12809214,"title":"Sum query in sqlite in android","body":"<p>I'm new to java,android and sqlite and i'm stuck at this.\nI have columns namely _id,type,amount(int),category,description.what i'm trying is to fetch the sum of amount of a particular category and store them in int.\ni know i need to provide the errors but it is simply giving me force close.Please Help</p>\n\n<pre><code> public class TransactionReport extends Activity {\nprivate static SQLiteDatabase db;\nCursor c;\nint amount;\nDbCrud localDbCrud = new DbCrud(this);\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    // TODO Auto-generated method stub\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.report);\n    localDbCrud.open();                //localDatabase = localDbHelper.getWritableDatabase();  return this;\n    c.moveToFirst();\n    do{\n        c = db.rawQuery(\"select sum(amount) from transaction_table where category = Salary ;\", null);\n\n\n      }while(c.moveToNext());\n\n    amount = c.getInt(0);\n    c.close();\n    TextView ltxt = (TextView) findViewById(R.id.amt);\n    ltxt.setText(\"\"+amount);\n    localDbCrud.close();  //localDatabase.close();\n\n\n}\n\n}\n</code></pre>\n\n<p>Would be helpful if explained in detail as i am a complete noob and i did try to find the solution but didnt find any.Thanks in advance</p>\n\n<pre><code>10-10 03:55:29.828: E/AndroidRuntime(10229): FATAL EXCEPTION: main\n10-10 03:55:29.828: E/AndroidRuntime(10229): java.lang.RuntimeException: Unable to      start activity   ComponentInfo{com.hishighness.budgetracker/com.hishighness.budgetracker.TransactionReport}:     java.lang.NullPointerException\n10-10 03:55:29.828: E/AndroidRuntime(10229):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1651)\n10-10 03:55:29.828: E/AndroidRuntime(10229):    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1667)\n10-10 03:55:29.828: E/AndroidRuntime(10229):    at  android.app.ActivityThread.access$1500(ActivityThread.java:117)\n10-10 03:55:29.828: E/AndroidRuntime(10229):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:935)\n10-10 03:55:29.828: E/AndroidRuntime(10229):    at android.os.Handler.dispatchMessage(Handler.java:99)\n10-10 03:55:29.828: E/AndroidRuntime(10229):    at android.os.Looper.loop(Looper.java:130)\n10-10 03:55:29.828: E/AndroidRuntime(10229):    at android.app.ActivityThread.main(ActivityThread.java:3687)\n10-10 03:55:29.828: E/AndroidRuntime(10229):    at java.lang.reflect.Method.invokeNative(Native Method)\n10-10 03:55:29.828: E/AndroidRuntime(10229):    at java.lang.reflect.Method.invoke(Method.java:507)\n10-10 03:55:29.828: E/AndroidRuntime(10229):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:842)\n10-10 03:55:29.828: E/AndroidRuntime(10229):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:600)\n10-10 03:55:29.828: E/AndroidRuntime(10229):    at dalvik.system.NativeStart.main(Native Method)\n10-10 03:55:29.828: E/AndroidRuntime(10229): Caused by: java.lang.NullPointerException\n10-10 03:55:29.828: E/AndroidRuntime(10229):    at com.hishighness.budgetracker.TransactionReport.onCreate(TransactionReport.java:27)\n10-10 03:55:29.828: E/AndroidRuntime(10229):    at  android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)\n10-10 03:55:29.828: E/AndroidRuntime(10229):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1615)\n10-10 03:55:29.828: E/AndroidRuntime(10229):    ... 11 more\n</code></pre>\n\n<p>Here's the log.</p>\n"},{"tags":["cocoa","sqlite","core-data"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":416,"score":1,"question_id":6285298,"title":"Core Data SQLite encryption?","body":"<p>Has anyone used encryption on their Core Data SQLite stores? And how did you implement it?</p>\n"},{"tags":["iphone","ios","sqlite"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":1203,"score":0,"question_id":7342067,"title":"How to insert an array into a SQLite database?","body":"<p>I'm trying to insert an array into a SQLite database and I'm having difficulties getting the array variables to insert.  </p>\n\n<p>How can I get variables from the array (username &amp; fullName) to insert in the db?</p>\n\n<p>Here are the error messages:</p>\n\n<pre><code>Property 'username' not found on object of type 'NSString *'\nProperty 'fullName' not found on object of type 'NSString *'\n</code></pre>\n\n<p>Here's my code...</p>\n\n<pre><code>if (sqlite3_open([dbPath UTF8String], &amp;database) == SQLITE_OK) {\n\n    NSMutableArray *items = result;\n\n    sqlite3_stmt *insert_statement;\n\n    // prepare the insert statement\n    const char*sql = \"INSERT INTO people (username, fullName) VALUES(?,?)\"; \n    sqlite3_prepare_v2(database, sql, -1, &amp;insert_statement, NULL);\n\n    // iterate over an array of dictionaries\n    for (NSString *str in items) {\n\n        // NSLog(@\"%@\",str);\n\n        // bind variables\n        sqlite3_bind_text(insert_statement, 1, [str.username UTF8String], -1, SQLITE_TRANSIENT);\n        sqlite3_bind_text(insert_statement, 2, [str.fullName UTF8String], -1, SQLITE_TRANSIENT);\n\n        // insert fails\n        if (sqlite3_step(insert_statement) != SQLITE_DONE) {\n            NSLog(@\"Insert failed: %s\", sqlite3_errmsg(database));\n        }\n\n        // reset the statement\n        sqlite3_reset(insert_statement);\n    }\n\n    // release the statement\n    sqlite3_finalize(insert_statement);\n}`\n</code></pre>\n"},{"tags":["android","sqlite","ormlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":74,"score":0,"question_id":12497287,"title":"How to update column with ORMLite","body":"<p>I have an already created database for Android application and I'm using ORMLite for query to SQLLite.</p>\n\n<p>I have added a column in category and I want to insert data in that column.\nI have row, e.g. </p>\n\n<pre><code>catId=5 catname=\"food\" catType=?\n</code></pre>\n\n<p>I want to update <code>catType</code> on the basis of <code>catId</code>. How can I update this <code>catType</code> column with the <code>catId</code> in ORMLite.</p>\n\n<p>I am using this approach:</p>\n\n<pre><code>Dao&lt;Category, Integer&gt; catDao = getHelper().getCategoryDao();\nQueryBuilder&lt;Category, Integer&gt; queryBuilder = catDao.queryBuilder();\nqueryBuilder.where().eq(\"categoryId\", 5);\nPreparedQuery&lt;Category&gt; pq = queryBuilder.prepare();\nCategory category = catDao.queryForFirst(pq);\ncategory.setCategoryType(\"BarType\");\ncatDao.createOrUpdate(category);\n</code></pre>\n\n<p>Please provide me a better solution.</p>\n"},{"tags":["java","android","sqlite","insert"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":3400,"score":1,"question_id":6074463,"title":"SQLiteConstraintException: error code 19: constraint failed","body":"<p>Beginner here again wanting advice. Trying to follow a tutorial for adding/edit/deleting data. </p>\n\n<p>However im getting the following error when trying to add a new title: </p>\n\n<p>ERROR/Database(278): Error inserting Book_Title=testtitle Book_Author=testauthor\nERROR/Database(278): android.database.sqlite.SQLiteConstraintException: error code 19: constraint failed</p>\n\n<p>I suspect its a contraint on the ID, as the database is already created in a previous class file. However i'm not adept enough with Java to know how to fix it. Editing and Deleting data work fine. </p>\n\n<p>Some code:</p>\n\n<p><strong>DatabaseManager.class:</strong></p>\n\n<pre><code>public void addRow(String rowStringOne, String rowStringTwo)\n    {\n        // this is a key value pair holder used by android's SQLite functions\n        ContentValues values = new ContentValues();\n\n\n        values.put(TABLE_ROW_ONE, rowStringOne);\n        values.put(TABLE_ROW_TWO, rowStringTwo);\n\n\n        // ask the database object to insert the new data \n        try{db.insert(TABLE_NAME, null, values);}\n        catch(Exception e)\n        {\n            Log.e(\"DB ERROR\", e.toString());\n            e.printStackTrace();\n        }\n    }\n\n\n\nprivate class CustomSQLiteOpenHelper extends SQLiteOpenHelper\n    {\n\n\n\n        public CustomSQLiteOpenHelper(Context context)\n        {\n            super(context, DB_NAME, null, DB_VERSION);\n        }\n\n        @Override\n        public void onCreate(SQLiteDatabase db)\n        {\n            // This string is used to create the database.  It should\n            // be changed to suit your needs.\n            String newTableQueryString = \"create table \" +\n                                        TABLE_NAME +\n                                        \" (\" +\n                                        TABLE_ROW_ID + \" integer primary key autoincrement not null,\" +\n                                        TABLE_ROW_ONE + \" text,\" +\n                                        TABLE_ROW_TWO + \" text\" +\n                                        \");\";\n\n\n\n\n            // execute the query string to the database.\n            db.execSQL(newTableQueryString);\n\n        }\n\n\n        @Override\n        public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion)\n        {\n            // NOTHING TO DO HERE. THIS IS THE ORIGINAL DATABASE VERSION.\n            // OTHERWISE, YOU WOULD SPECIFIY HOW TO UPGRADE THE DATABASE.\n        }\n    } \n}\n</code></pre>\n\n<p><strong>AddData.class:</strong></p>\n\n<pre><code>private void addRow()\n{\n    try\n    {\n        // ask the database manager to add a row given the two strings\n        db.addRow\n        (\n\n                textFieldOne.getText().toString(),\n                textFieldTwo.getText().toString()\n\n        );\n\n        // request the table be updated\n        updateTable();\n\n        // remove all user input from the Activity\n        emptyFormFields();\n    }\n    catch (Exception e)\n    {\n        Log.e(\"Add Error\", e.toString());\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":["android","sqlite","phonegap","jquery-mobile","error-log"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":214,"score":-2,"question_id":12801690,"title":"error log sqlite failed to load from /cachedGeoposition.db","body":"<p>I am developping an app with phonegap and JQM.\nI have a problem. Can anyone tell me why I have this error in the log when I launch my app.</p>\n\n<pre><code>10-09 13:47:33.316: D/CordovaWebView(26882): &gt;&gt;&gt; loadUrlNow()\n10-09 13:47:33.320: D/DroidGap(26882): onMessage(onNativeReady,null)\n10-09 13:47:33.320: D/DroidGap(26882): onMessage(onPageFinished,file:///android_asset/www/index.html)\n10-09 13:47:33.363: E/SQLiteLog(26882): (14) cannot open file at line 30174 of [00bb9c9ce4]\n10-09 13:47:33.363: E/SQLiteLog(26882): (14) os_unix.c:30174: (2) open(/CachedGeoposition.db) - \n10-09 13:47:33.371: D/WebKit(26882): ERROR: \n10-09 13:47:33.371: D/WebKit(26882): SQLite database failed to load from /CachedGeoposition.db\n10-09 13:47:33.371: D/WebKit(26882): Cause - unable to open database file\n10-09 13:47:33.371: D/WebKit(26882): external/webkit/Source/WebCore/platform/sql/SQLiteDatabase.cpp(71) : bool WebCore::SQLiteDatabase::open(const WTF::String&amp;, bool)\n10-09 13:47:33.461: D/DroidGap(26882): onMessage(networkconnection,3g)\n</code></pre>\n\n<p>Here is my manifest</p>\n\n<pre><code>&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\npackage=\"***.mobile\"\nandroid:versionCode=\"1\"\nandroid:versionName=\"1.0\" &gt;\n\n&lt;uses-sdk\n    android:minSdkVersion=\"8\"\n    android:targetSdkVersion=\"15\" /&gt;    \n    &lt;supports-screens \nandroid:largeScreens=\"true\" \nandroid:normalScreens=\"true\" \nandroid:smallScreens=\"true\" \nandroid:resizeable=\"true\" \nandroid:anyDensity=\"true\" /&gt;\n\n&lt;uses-permission android:name=\"android.permission.VIBRATE\" /&gt;\n&lt;uses-permission android:name=\"android.permission.ACCESS_COARSE_LOCATION\" /&gt;\n&lt;uses-permission android:name=\"android.permission.ACCESS_FINE_LOCATION\" /&gt;\n&lt;uses-permission android:name=\"android.permission.ACCESS_LOCATION_EXTRA_COMMANDS\" /&gt;\n&lt;uses-permission android:name=\"android.permission.READ_PHONE_STATE\" /&gt;\n&lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n&lt;uses-permission android:name=\"android.permission.RECEIVE_SMS\" /&gt;\n&lt;uses-permission android:name=\"android.permission.RECORD_AUDIO\" /&gt;\n&lt;uses-permission android:name=\"android.permission.MODIFY_AUDIO_SETTINGS\" /&gt;\n&lt;uses-permission android:name=\"android.permission.READ_CONTACTS\" /&gt;\n&lt;uses-permission android:name=\"android.permission.WRITE_CONTACTS\" /&gt;\n&lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" /&gt;\n&lt;uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" /&gt; \n&lt;uses-permission android:name=\"android.permission.GET_ACCOUNTS\" /&gt;\n&lt;uses-permission android:name=\"android.permission.BROADCAST_STICKY\" /&gt;\n&lt;application\n    android:icon=\"@drawable/icone\"\n    android:label=\"@string/app_name\"\n    android:theme=\"@style/AppTheme\"  &gt;\n    &lt;activity \n        android:name=\"***.mobile.MainActivity\" \n        android:label=\"@string/title_activity_main\" \n        android:configChanges=\"orientation|keyboardHidden\"\n        android:screenOrientation=\"portrait\" &gt; \n        &lt;intent-filter&gt; \n            &lt;action android:name=\"android.intent.action.MAIN\" /&gt; \n            &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt; \n        &lt;/intent-filter&gt;\n    &lt;/activity&gt; \n     &lt;!-- ZXing activities --&gt; \n &lt;activity android:name=\"com.google.zxing.client.android.CaptureActivity\"  android:screenOrientation=\"landscape\" android:configChanges=\"orientation|keyboardHidden\"  android:theme=\"@android:style/Theme.NoTitleBar.Fullscreen\"  android:windowSoftInputMode=\"stateAlwaysHidden\"&gt; \n    &lt;intent-filter&gt; \n    &lt;action android:name=\"com.phonegap.plugins.barcodescanner.BarcodeScanner.SCAN\"/&gt;\n    &lt;category android:name=\"android.intent.category.DEFAULT\"/&gt;\n    &lt;/intent-filter&gt; \n &lt;/activity&gt;\n\n &lt;activity android:name=\"com.google.zxing.client.android.encode.EncodeActivity\"  android:label=\"@string/share_name\"&gt;\n&lt;intent-filter&gt;\n &lt;action android:name=\"com.phonegap.plugins.barcodescanner.BarcodeScanner.ENCODE\"/&gt;\n &lt;category android:name=\"android.intent.category.DEFAULT\"/&gt;\n&lt;/intent-filter&gt;\n&lt;/activity&gt;\n&lt;/application&gt;&lt;/manifest&gt;\n</code></pre>\n\n<p>Here is my mainActivity</p>\n\n<pre><code>package **.mobile;\nimport org.apache.cordova.DroidGap;\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.webkit.WebSettings;\nimport android.widget.Button;\n\npublic class MainActivity extends DroidGap {\n\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n\n    super.onCreate(savedInstanceState);\n    super.setIntegerProperty(\"splashscreen\", R.drawable.spashscreen);\n    //super.init();\n    super.loadUrl(\"file:///android_asset/www/index.html\", 4000);\n\n }}\n</code></pre>\n\n<p>Any help would appreciated. Thanks.</p>\n"},{"tags":["android","sqlite","android-sqlite"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":12803630,"title":"how to check cursor if value null?","body":"<p>i use Sqlite and run in android application. </p>\n\n<p>i have code like this : </p>\n\n<pre><code>//get ALL Data\npublic Cursor getAll() throws SQLException\n{\n    Cursor mCursor = mDb.query(DATABASE_TABLE, null, null, null, null, null, null);\n    if(mCursor != null)\n    {\n        mCursor.moveToFirst();\n    }\n    else if(mCursor.isNull(0))\n    {\n        Log.d(\"data\", \"null\");\n    }\n    return mCursor;\n}\n</code></pre>\n\n<p>my trouble if value null the application force close such >_&lt;. I want if value null then print log ??</p>\n\n<p>please any body solve my trouble??</p>\n"},{"tags":["mysql","sqlite"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":19,"score":0,"question_id":12802387,"title":"Sqlite synchronize a mobile device with MySQL on a dedicated server","body":"<p>I need help synchronizing data from SQLite to MySQL. Assuming I have an application running on an Android application that stores data in SQLite for using some option and send the data collected in SQLite to MySQL located on a dedicated server.</p>\n"},{"tags":["android","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":156,"score":0,"question_id":12801602,"title":"Android SQLite leaked","body":"<p>i having problem with sql handler</p>\n\n<pre><code>A SQLiteConnection object for database '/data/data/.../databases/queueManager' was leaked!  Please fix your application to end transactions in progress properly and to close the database when it is no longer needed.\n</code></pre>\n\n<p>taken from Androidhive tutorial and customized to my use</p>\n\n<p>the table looks like</p>\n\n<pre><code>+ ----------------------------------------------------------- +\n: DATABASE_ID : DATABASE_QID : DATABASE_QUEUE : DATABASE_DATE :\n+ ----------------------------------------------------------- +\n</code></pre>\n\n<p>The code </p>\n\n<pre><code>   DBQueue searchDBqid(int id) {\n       SQLiteDatabase db = this.getReadableDatabase();\n\n        String selectQuery = \"SELECT  * FROM \" + TABLE_QUEUE + \" WHERE \" + DATABASE_QID + \" = \" + id; \n\n           Cursor cursornum = db.rawQuery(selectQuery, null);\n           int dk = cursornum.getCount();\n           cursornum.close();\n\n           if (dk &gt;0) {\n               Cursor cursor = db.query(TABLE_QUEUE, new String[] { DATABASE_ID,\n                       DATABASE_QID, DATABASE_QUEUE, DATABASE_DATE }, DATABASE_QID + \"=?\",\n                       new String[] { String.valueOf(id) }, null, null, null, null);\n\n               if (cursor != null) cursor.moveToFirst();\n\n               DBQueue dbqueue = new DBQueue(Integer.parseInt(cursor.getString(0)),\n                       cursor.getString(1), cursor.getString(2), cursor.getString(3));\n               return dbqueue;\n           }\n\n       db.close();\n       return null;\n   }\n\n   DBQueue getDBQueue(int id) {\n       SQLiteDatabase db = this.getReadableDatabase();\n\n       Cursor cursor = db.query(TABLE_QUEUE, new String[] { DATABASE_ID,\n               DATABASE_QID, DATABASE_QUEUE }, DATABASE_ID + \"=?\",\n               new String[] { String.valueOf(id) }, null, null, null, null);\n       if (cursor != null)\n           cursor.moveToFirst();\n\n       DBQueue dbqueue = new DBQueue(Integer.parseInt(cursor.getString(0)),\n               cursor.getString(1), cursor.getString(2), cursor.getString(3));\n       return dbqueue;\n   }\n\n\n   public String getAllqid() {\n       Time today = new Time(Time.getCurrentTimezone());\n       today.setToNow();\n\n       String selectQuery = \"SELECT  * FROM \" + TABLE_QUEUE + \" WHERE \" + DATABASE_DATE + \" = '\" + today.format(\"%d %m %Y\") + \"'\";\n\n       SQLiteDatabase db = this.getWritableDatabase();\n       Cursor cursor = db.rawQuery(selectQuery, null);\n\n       StringBuilder sb = new StringBuilder();       \n       if (cursor.moveToFirst()) {\n           do {\n               if (sb.length() &gt; 0) sb.append(',');\n               sb.append(cursor.getString(1));\n           } while (cursor.moveToNext());\n       }\n\n       String result = sb.toString();\n       return result;\n   }\n   public void deleteDatedDBQueue() {\n        Time today = new Time(Time.getCurrentTimezone());\n        today.setToNow();\n        String selectQuery = \"SELECT  * FROM \" + TABLE_QUEUE + \" WHERE \" + DATABASE_DATE + \" != '\" + today.format(\"%d %m %Y\") + \"'\"; ;\n\n        SQLiteDatabase db = this.getWritableDatabase();\n        Cursor cursor = db.rawQuery(selectQuery, null);\n\n        if (cursor.moveToFirst()) {\n            do {\n                db.delete(TABLE_QUEUE, DATABASE_ID + \" = ?\",\n                       new String[] { String.valueOf(Integer.parseInt(cursor.getString(0))) });\n            } while (cursor.moveToNext());\n        }\n        db.close();\n    }\n   public int getDBQueueCount() {\n       String countQuery = \"SELECT  * FROM \" + TABLE_QUEUE;\n       SQLiteDatabase db = this.getReadableDatabase();\n       Cursor cursor = db.rawQuery(countQuery, null);\n       cursor.close();\n\n       return cursor.getCount();\n   }\n}\n</code></pre>\n\n<p>Can someone please tell me how to fix this leak ?</p>\n\n<p>full code: <a href=\"http://ijailbreak.me/databasehandler.txt\" rel=\"nofollow\">http://ijailbreak.me/databasehandler.txt</a></p>\n"},{"tags":["delphi","sqlite","components"],"answer_count":7,"favorite_count":5,"up_vote_count":5,"down_vote_count":0,"view_count":9589,"score":5,"question_id":850435,"title":"Delphi components to use with SQlite","body":"<p>What components can I use to use SQlite database with delphi 6\nThanks</p>\n"},{"tags":["iphone","database","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12800519,"title":"database issues for insert special character in iphone?","body":"<p>i am new to sqlite database &amp; iphone developement</p>\n\n<p>am insert data into database as </p>\n\n<pre><code>am insert description string is like dz \n• 500 grams Chicken breasts\n• 6-8 nos. Green chillies\n• 2 tblsp Coriander leaves\n• 2 tblsp Mint leaves\n• 12 nos. Garlic\n• 8-10 nos. Almonds\n• 3/4 cup Fresh cream\n• 1 inch Ginger\n• 1 tblsp Lemon juice\n• Oil\n• Salt\nthis is code for inserting \n\n-(void)insertDataToFavourites:(int)pageid111 :(NSString *)description\n{\n    NSLog(@\"%@\",description);\n    const char *sqlStatement = \"INSERT INTO AddFavoritenew (Id,Description) VALUES (?,?)\";\n    sqlite3_stmt *compiled_statement;\n    if(sqlite3_prepare_v2(database, sqlStatement, -1, &amp;compiled_statement, NULL) == SQLITE_OK)\n    {\n        sqlite3_bind_int(compiled_statement, 1, pageid111);\n        sqlite3_bind_text(compiled_statement, 2, [description UTF8String] , -1, SQLITE_TRANSIENT);\n        [ArrAddData addObject:[NSString stringWithFormat:@\"%d\", pageid111]];\n        NSLog(@\"ArrAddData record is:--&gt; %@\",ArrAddData);\n    }\n\n    if(sqlite3_step(compiled_statement) != SQLITE_DONE )\n    {\n        //        NSLog( @\"Error: %s\", sqlite3_errmsg(database) );\n        UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@\"Alert!\"\n                                                        message:@\"alerady you added this sms to favorite list.\"\n                                                       delegate:self\n                                              cancelButtonTitle:@\"Ok\"\n                                              otherButtonTitles:nil, nil];\n        [alert show];\n        [alert release];\n    }\n    else\n    {\n        //        NSLog( @\"Insert into row id = %lld\", sqlite3_last_insert_rowid(database));\n        UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@\"Alert!\"\n                                                        message:@\"Data saved to Favorite.\"\n                                                       delegate:self\n                                              cancelButtonTitle:@\"Ok\"\n                                              otherButtonTitles:nil, nil];\n        [alert show];\n        [alert release];\n    }\n\n    sqlite3_finalize(compiled_statement);    \n}\n</code></pre>\n\n<p>am inserting the above data into database but problem is </p>\n\n<p>when am showing saved data from database is it showing like as </p>\n\n<pre><code>‚Ä¢ 500 grams Chicken breasts\n‚Ä¢ 6-8 nos. Green chillies\n‚Ä¢ 2 tblsp Coriander leaves\n‚Ä¢ 2 tblsp Mint leaves\n‚Ä¢ 12 nos. Garlic\n‚Ä¢ 8-10 nos. Almonds\n‚Ä¢ 3/4 cup Fresh cream\n‚Ä¢ 1 inch Ginger\n‚Ä¢ 1 tblsp Lemon juice\n‚Ä¢ Oil\n‚Ä¢ Salt\n</code></pre>\n\n<p>geting favirote list code as </p>\n\n<pre><code>-(void)getFavoriteList\n{\n    if([ArrFav count] &gt; 0)\n        [ArrFav removeAllObjects];\n\n    ArrFav = [[NSMutableArray alloc] init];\n\n    sqlite3_stmt *selectStatement=nil;  \n    const char *sql =\"SELECT Description FROM AddFavoritenew\";\n    int returnvalue;\n\n    returnvalue = sqlite3_prepare_v2(database, sql, -1, &amp;selectStatement, NULL);\n\n    if(returnvalue==1)\n    {\n        NSAssert1(0, @\"Error: failed to select the database with message '%s'.\", sqlite3_errmsg(database));\n    }\n\n    if(returnvalue == SQLITE_OK)\n    {                       \n        while(sqlite3_step(selectStatement) == SQLITE_ROW)\n        {   \n            char *str = (char *)sqlite3_column_text(selectStatement,0);\n            [ArrFav addObject:[NSString stringWithFormat:@\"%s\",str]];\n            NSLog(@\"Favorite data is:--&gt; %s\",str);\n        }       \n//        NSLog(@\"Favorite data is:--&gt; %@\",ArrFav);\n    }\n}\n</code></pre>\n\n<p>wahy get data from database like  \" ‚Ä¢   \" \nplease note that my database description is text datatype ....am tried with varchar2 datatype also</p>\n\n<p>but i want output like save data ..please help me out  </p>\n\n<p>thanks &amp; regards</p>\n"},{"tags":["sqlite","sqlite3"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":12800223,"title":"Sorting, and creating columns in SQLite","body":"<p>I'm a student doing a project and I have to use SQLite however i'm new to SQLite. I have described my problem below. </p>\n\n<p>I have a table(containing 60000 rows) which is of the form shown below.</p>\n\n<pre><code>Date_Time           Country_City Temperature\n4-10-2012 12:10:10  USA_NYC        20\n4-10-2012 12:10:10  USA_LA         17\n4-10-2012 12:10:10  USA_DC         19\n4-10-2012 12:40:10  USA_LA         18\n4-10-2012 12:40:10  USA_DC         18\n</code></pre>\n\n<p>I have to sort and create the table as shown below, if the data is missing as in NYC the data must be 'NaN'. If all the rows contain 'NaN' for a single time stamp it must be eliminated.  </p>\n\n<pre><code>Date_Time         USA_NYC USA_LA USA_DC\n4-10-2012 12:10:10 20      17     19\n4-10-2012 12:40:10 NaN     18     18\n</code></pre>\n\n<p>Can you please tell me how to create it, I could order and sort, but I do not know how to create like this in SQLite. I would be grateful for any suggestions. </p>\n"},{"tags":["android","sqlite","autocompletetextview"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":12799322,"title":"Android: How are Strings used in an AutoCompleteTextView fetched","body":"<p>In my application, as of now, i am fetching 2k - 3k Strings by calling a web server and storing them in an Array and using it to create an Adapter and set it to the AutoCompleteTextView.</p>\n\n<p>I thought of storing them in a database.</p>\n\n<p>But i have few problems here:</p>\n\n<ol>\n<li><p>These Strings will change daily (mostly 100 - 200 new Strings will be added daily). So, i need to create a database everytime application is launched, or atleast add(update the db) these new Strings. Which will be similar to calling the web server every time i launch the app.</p></li>\n<li><p>Moreover if i have to fetch 20k - 30k Strings at a time and insert into the database, there is a condition that we cannot use a single query for more that 2 Mb data.</p></li>\n</ol>\n\n<p>but this is a common scenarion. There are many apps which load Activities with AutoCompleteTextView which contain 20+ K Strings set to it.</p>\n\n<p>Any Ideal approach for this case?</p>\n\n<p>Thank You</p>\n"},{"tags":["android","sqlite","contactscontract"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":12798345,"title":"Exception on SG SIII and Note 2 with JB update while using Contacts API","body":"<p>I'm developing an app that uses Android Contacts API.\nMy code works ok but recently new errors in Play Market Feedback started to appear.\nLooks like theese errors show up only on SGS3 and Note2.</p>\n\n<pre><code>java.lang.RuntimeException: An error occured while executing doInBackground()\nat android.support.v4.content.ModernAsyncTask$3.done(Unknown Source)\nat java.util.concurrent.FutureTask$Sync.innerSetException(FutureTask.java:273)\nat java.util.concurrent.FutureTask.setException(FutureTask.java:124)\nat java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:307)\nat java.util.concurrent.FutureTask.run(FutureTask.java:137)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1076)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:569)\nat java.lang.Thread.run(Thread.java:856)\nCaused by: android.database.sqlite.SQLiteException: near \":&lt;phonenumber&gt;\": syntax error (code 1): , while compiling: SELECT times_contacted, contacts_status_updates.status AS contact_status, phonetic_name, phonetic_name_style, ((CASE WHEN raw_contact_linkpriority1 &gt; 0 THEN link_type1||'|' ELSE '' END)||(CASE WHEN raw_contact_linkpriority2 &gt; 0 THEN link_type2||'|' ELSE '' END)||(CASE WHEN raw_contact_linkpriority3 &gt; 0 THEN link_type3||'|' ELSE '' END)||(CASE WHEN raw_contact_linkpriority4 &gt; 0 THEN link_type4||'|' ELSE '' END)||(CASE WHEN raw_contact_linkpriority5 &gt; 0 THEN link_type5 ELSE '' END)) AS link, is_user_profile, snippet, raw_contact_linkpriority4, lookup, raw_contact_linkpriority5, contacts_status_updates.status_icon AS contact_status_icon, sec_custom_vibration, last_time_contacted, _id, photo_uri, display_name_source, photo_thumb_uri, agg_presence.chat_capability AS contact_chat_capability, photo_id, send_to_voicemail, display_name_alt AS display_name_reverse, name_raw_contact_id, custom_ringtone, photo_file_id, has_phone_number, link_type5, link_type4, link_type3, link_type2, contacts_status_updates.status_label AS contact_status_label, link_type1, raw_contact_linkpriority3, display_name, raw_contact_linkpriority2, raw_contact_linkpriority1, sort_key_alt, has_email, in_visible_group, dirty_contact, starred, link_count, sort_key, display_name_alt, agg_presence.mode AS contact_presence, contacts_status_updates.status_res_package AS contact_status_res_package, contacts_status_updates.status_ts AS contact_status_ts FROM view_contacts_restricted JOIN (SELECT contact_id AS snippet_contact_id, ifnull('['||(SELECT MIN(data1) FROM data JOIN raw_contacts ON (data.raw_contact_id = raw_contacts._id) JOIN phone_lookup ON data._id=phone_lookup.data_id WHERE search_index.contact_id=contact_id AND normalized_number LIKE '%+&lt;phonenumber&gt;%' OR normalized_number LIKE '%+&lt;phonenumber&gt;%')||']',snippet(search_index,'[',']','...',1,-10)) AS snippet FROM search_index WHERE search_index MATCH content:&lt;phonenumber&gt;* OR name:2024121E20201E14122412* UNION SELECT contact_id AS snippet_contact_id, NULL AS snippet FROM phone_lookup JOIN raw_contacts ON ( raw_contacts._id=raw_contact_id) WHERE normalized_number LIKE '%+&lt;phonenumber&gt;%') ON (_id=snippet_contact_id) LEFT OUTER JOIN agg_presence ON (_id = agg_presence.presence_contact_id) LEFT OUTER JOIN status_updates contacts_status_updates ON (status_update_id=contacts_status_updates.status_update_data_id)\nat android.database.DatabaseUtils.readExceptionFromParcel(DatabaseUtils.java:184)\nat android.database.DatabaseUtils.readExceptionFromParcel(DatabaseUtils.java:140)\nat android.content.ContentProviderProxy.query(ContentProviderNative.java:366)\nat android.content.ContentResolver.query(ContentResolver.java:372)\nat android.content.ContentResolver.query(ContentResolver.java:315)\nat android.support.v4.content.CursorLoader.loadInBackground(Unknown Source)\nat android.support.v4.content.CursorLoader.loadInBackground(Unknown Source)\nat android.support.v4.content.AsyncTaskLoader.onLoadInBackground(Unknown Source)\nat android.support.v4.content.AsyncTaskLoader$LoadTask.doInBackground(Unknown Source)\nat android.support.v4.content.AsyncTaskLoader$LoadTask.doInBackground(Unknown Source)\nat android.support.v4.content.ModernAsyncTask$2.call(Unknown Source)\nat java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:305)\n... 4 more\n</code></pre>\n"},{"tags":["android","sqlite","android-contentprovider"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":12799141,"title":"How to upgrade sqlite database on android?","body":"<p>I implemented a ContentProvider for my android app and it works very well but when I make some changes to the schema, the database doesn't seem to be upgraded.\nI have the following code in my SQLiteOpenHelper : </p>\n\n<pre><code>@Override\npublic void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n    Log.w(DEBUG_TAG, \"Upgrading database. Existing contents will be lost. [\"\n        + oldVersion + \"]-&gt;[\" + newVersion + \"]\");\n    db.execSQL(\"DROP TABLE IF EXISTS \" + TABLE_TUTORIALS);\n    onCreate(db);\n}\n</code></pre>\n\n<p>If I update my app with a new schema then all my inserts fail BUT if I uninstall the old version and install the new version of the app then everything works fine. So I guess that onUpgrade() is never called. What do oldVersion and newVersion refer to? Do I need to specify the version anywhere? </p>\n"},{"tags":["sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":286,"score":1,"question_id":6989162,"title":"autoincrement in SQLite","body":"<p>I use this for autoincreamenting one column , </p>\n\n<p><code>\"create table info (ID  INTEGER PRIMARY KEY AUTOINCREMENT, age int)\"</code>\nfor inserting in table I have this!</p>\n\n<pre><code>public static void databaseInsertInfoTable(int ID,int age){...}\n</code></pre>\n\n<p>when I want to call databaseInsertInfoTable it does not accept null for ID.</p>\n\n<pre><code>databaseInsertInfoTable(null,12);// this has error!\n</code></pre>\n\n<p>what value should I insert for ID??</p>\n"},{"tags":["iphone","objective-c","sqlite","fmdb"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":147,"score":0,"question_id":10477836,"title":"How to turn on foreign keys in FMDatabase?","body":"<p>Just stumbled upon the fact foreign keys are disabled by default in sqlite. I have \"on delete casdade\" foreign key and deleting parent table records does not delete child records. Various posts indicate you need to enable that on each connection \"PRAGMA foreign_keys = ON; \". So, where to enable it in FMDatabase? I would prefer setting some setting instead of running the command before each SQL stmt. PS. I'm using FMDatabaseQueue.</p>\n"},{"tags":["sqlite","sqlite3","monodroid"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":12796090,"title":"jelly bean sqliconfig.serialized","body":"<p>The following piece of code works like a charm on Android from 2.2 to 4.0.3.\nBut on Android 4.1, it crashes saying \"Library used incorrectly\". </p>\n\n<pre><code>static DataProviderManager()\n{\n    SqliteConnection.SetConfig(SQLiteConfig.Serialized);\n}\n</code></pre>\n\n<p>I can't find anyone having the same problem, or doc on that subject. Any guess ?</p>\n\n<p>Thanks.</p>\n\n<p>PS: using try/catch hides the problem but does not solve or explain it.</p>\n\n<p>Edit: SQlite version is 3.7.11 for android 4.1</p>\n"},{"tags":["android","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":679,"score":0,"question_id":9543155,"title":"How can i get the selected id's value from android sqlite database?","body":"<p>I created a sample application using android sqlite database, my requirements are <a href=\"http://stackoverflow.com/questions/9535139/how-can-i-use-sqlite-database-in-my-andriod-activity\">How can i use Sqlite database in my andriod activity?</a> (kindly noitce this link). I used the following code to do this,</p>\n\n<p><strong>MainClass.java</strong></p>\n\n<pre><code>public class MainClass extends Activity implements OnClickListener {\n\n    Button NUM_INPUT;\n    EditText enter_NUM;\n    int number;\n    DatabaseHandler db = new DatabaseHandler(this);\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        // TODO Auto-generated method stub\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.sai_answers_home);\n        NUM_INPUT = (Button) findViewById(R.id.answerButton);\n        enter_NUM = (EditText) findViewById(R.id.saiAnssersEditText);\n        NUM_INPUT.setOnClickListener(this);\n\n    }\n\n    @Override\n    public void onClick(View v) {\n        // TODO Auto-generated method stub\n        if (v.getId() == R.id.answerButton) {\n             number = Integer.parseInt(this.enter_NUM.getText().toString());\n            // /System.out.println(\"EDITTEXTVALUE\" + number);\n            Log.d(\"Reading: \", \"Reading all contacts..\");\n            List&lt;Contact&gt; contacts = db.getAllContacts(number);\n            for (Contact cn : contacts) {\n                String log = \"Id: \" + cn.getID() + \" ,Name: \" + cn.getName();\n                // Writing Contacts to log\n                Log.d(\"Name: \", log);\n            }\n            db.close();\n        }\n    }\n}\n</code></pre>\n\n<p><strong>DataBaseHandler.java</strong></p>\n\n<pre><code>   public class DatabaseHandler extends SQLiteOpenHelper {\n\n        // The Android's default system path of your application database.\n        private static String DB_PATH = \"/data/data/com.sqlite.example/databases/\";\n\n        private static String DB_NAME = \"answers\";\n\n        private SQLiteDatabase myDataBase;\n\n        private final Context myContext;\n        String myPath;\n\n        /**\n         * Constructor Takes and keeps a reference of the passed context in order to\n         * access to the application assets and resources.\n         * \n         * @param context\n         */\n        public DatabaseHandler(Context context) {\n\n            super(context, DB_NAME, null, 1);\n            this.myContext = context;\n        }\n\n        /**\n         * Creates a empty database on the system and rewrites it with your own\n         * database.\n         * */\n        public void createDataBase() throws IOException {\n\n            boolean dbExist = checkDataBase();\n\n            if (dbExist) {\n                // do nothing - database already exist\n            } else {\n\n                // By calling this method and empty database will be created into\n                // the default system path\n                // of your application so we are gonna be able to overwrite that\n                // database with our database.\n                this.getReadableDatabase();\n\n                try {\n\n                    copyDataBase();\n\n                } catch (IOException e) {\n\n                    throw new Error(\"Error copying database\");\n\n                }\n            }\n\n        }\n\n        /**\n         * Check if the database already exist to avoid re-copying the file each\n         * time you open the application.\n         * \n         * @return true if it exists, false if it doesn't\n         */\n        private boolean checkDataBase() {\n\n            SQLiteDatabase checkDB = null;\n\n            try {\n                myPath = DB_PATH + DB_NAME;\n                checkDB = SQLiteDatabase.openDatabase(myPath, null,\n                        SQLiteDatabase.OPEN_READONLY);\n\n            } catch (SQLiteException e) {\n\n                // database does't exist yet.\n\n            }\n\n            if (checkDB != null) {\n\n                checkDB.close();\n\n            }\n\n            return checkDB != null ? true : false;\n        }\n\n        /**\n         * Copies your database from your local assets-folder to the just created\n         * empty database in the system folder, from where it can be accessed and\n         * handled. This is done by transfering bytestream.\n         * */\n        private void copyDataBase() throws IOException {\n\n            // Open your local db as the input stream\n            InputStream myInput = myContext.getAssets().open(DB_NAME);\n\n            // Path to the just created empty db\n            String outFileName = DB_PATH + DB_NAME;\n\n            // Open the empty db as the output stream\n            OutputStream myOutput = new FileOutputStream(outFileName);\n\n            // transfer bytes from the inputfile to the outputfile\n            byte[] buffer = new byte[1024];\n            int length;\n            while ((length = myInput.read(buffer)) &gt; 0) {\n                myOutput.write(buffer, 0, length);\n            }\n\n            // Close the streams\n            myOutput.flush();\n            myOutput.close();\n            myInput.close();\n\n        }\n\n        public void openDataBase() throws SQLException {\n\n            // Open the database\n            myPath = DB_PATH + DB_NAME;\n            myDataBase = SQLiteDatabase.openDatabase(myPath, null,\n                    SQLiteDatabase.OPEN_READONLY);\n\n        }\n\n        @Override\n        public synchronized void close() {\n\n            if (myDataBase != null)\n                myDataBase.close();\n\n            super.close();\n\n        }\n\n        @Override\n        public void onCreate(SQLiteDatabase db) {\n\n        }\n\n        @Override\n        public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n\n        }\n\n        // Add your public helper methods to access and get content from the\n        // database.\n        // You could return cursors by doing \"return myDataBase.query(....)\" so it'd\n        // be easy\n        // to you to create adapters for your views.\n\n        public List&lt;Contact&gt; getAllContacts(int muNumber) {\n            List&lt;Contact&gt; contactList = new ArrayList&lt;Contact&gt;();\n            // Select All Query\n            String selectQuery = \"SELECT * FROM ANSWER WHERE ID= \" + muNumber;\n    System.out.println(\"QUERY STRING IS......&gt;&gt;&gt;&gt;&gt;&gt; \" + selectQuery);\n\n            SQLiteDatabase db = this.getWritableDatabase();\n            Cursor cursor = db.rawQuery(selectQuery, null);\n\n            // looping through all rows and adding to list\n            if (cursor.moveToFirst()) {\n                do {\n                    Contact contact = new Contact();\n                    contact.setID(Integer.parseInt(cursor.getString(0)));\n                    contact.setName(cursor.getString(1));\n                    // contact.setPhoneNumber(cursor.getString(2));\n                    // Adding contact to list\n                    contactList.add(contact);\n                } while (cursor.moveToNext());\n            }\n\n            // return contact list\n            return contactList;\n        }\n}\n</code></pre>\n\n<p><strong>answers.db</strong></p>\n\n<p><img src=\"http://i.stack.imgur.com/ipoaw.png\" alt=\"database image\"></p>\n\n<p>When i execute this code i got Error, <strong>\"android.database.sqlite.SQLiteException: no such table: ANSWER: , while compiling: SELECT * FROM ANSWER WHERE ID= 3\"</strong>. My exact requirement is, when click the Button in MainActivity class, the entered value is passed to database. Finally search into the database and return the corresponding values present in database. For example i entered 2 and click the button, from the database i will get \"Orange\" how can i achieve this. Thanks in advance.</p>\n"},{"tags":["android","database","query","sqlite"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12797296,"title":"Problems with database Query when looking for a String","body":"<p><code>enter code here</code>I am trying to write a query to extract all rows in my Android SQLite database table where the location reference = \"a string\".  I am using the following code in my database helper class:</p>\n\n<pre><code>public Cursor fetchComponentsForLocation(String locationRef) {\n    Cursor mCursor =\n            rmDb.query(true, LOCATIONS_TABLE, new String[] {\n                    LOCATION_ID, RUN_LINK, AREA_LINK, INSPECTION_LINK, LOCATION_REF, RACKING_SYSTEM, COMPONENT, POSITION, RISK, ACTION_REQUIRED, NOTES_GENERAL, MANUFACTURER, TEXT1, TEXT2, TEXT3, TEXT4, NOTES_SPEC}, \n                    LOCATION_REF + \"=\" + locationRef, null,\n                    null, null, null, null);\n        if (mCursor != null) {\n            mCursor.moveToFirst();\n        }\n        return mCursor;\n}\n</code></pre>\n\n<p>And I call it in my activity as follows:</p>\n\n<pre><code>    // Get a Cursor for the list items\n    Cursor listComponentCursor = rmDbHelper.fetchComponentsForLocation(locationRef);\n    startManagingCursor(listComponentCursor);           \n\n    // set the custom list adapter     \n    setListAdapter(new MyListAdapter(this, listComponentCursor)); \n</code></pre>\n\n<p>Which then gets used in my ListAdapter to fill my list view.  Now in my other activities, when I am fetching rows based on the id (i.e. a long), this code works fine.  When I try it with String I get the following error:</p>\n\n<p><em><code>Caused by: android.database.sqlite.SQLiteException: **no such column: g:** , while compiling: SELECT DISTINCT _id, run_link, area_link, inspection_link, location_reference, racking_system, component, position, risk, action_required, notes_general, manufacturer, text1, text2, text3, text4, notes_spec FROM location_table WHERE location_reference=g</code></em></p>\n\n<p>As you can see, in this case the String = 'g', but it seems to looking for a column called 'g' instead of looking at the data!</p>\n\n<p>Very confused why this works with long but not String.  Help appreciated as always.</p>\n"},{"tags":["android","sqlite","authentication","login"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":12796100,"title":"Reading from a database that is stored on a laptop for user authentication","body":"<p>Im building an app that requires the user to login with and ID and Password. Since we cannot create the database on the user's phone to store all this info (security reasons) I'm thinking to have a database stored on a laptop (ideally server) to hold user details. I want my app to access this db (which will be on the laptop im working on at the moment) and validate the user? </p>\n\n<p>Any idea how or suggestions to start with? I'm not sure how to let the app read from a locally stored db (not on the phone but on the laptop im buildin the app on). </p>\n\n<p>Kindest regards</p>\n\n<p>Saeed</p>\n"},{"tags":["iphone","database","sqlite","special-characters"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":12794637,"title":"inserting special symbol dot (.) into sqlite?","body":"<p>I insert the following text in the database:</p>\n\n<pre><code>.Pour lemon juice immediately on fruits. \n.In a little water add sugar and half melt it on heat. \n.Mix melted sugar to the fruits. Refrigerate it and serve the fruit salad chilled. \n.Note: Salt and chaat masala can also be used \n</code></pre>\n\n<p>Inserting this data does not produce an error but when I display the above data \nI am getting this:</p>\n\n<pre><code>‚Ä¢ Pour lemon juice immediately on fruits. \n‚Ä¢ In a little water add sugar and half melt it on heat. \n‚Ä¢ Mix melted sugar to the fruits. Refrigerate it and serve the fruit salad chilled. \n‚Ä¢ Note: Salt and chaat masala can also be used \n</code></pre>\n\n<p>The period is replaced by <code>‚Ä¢</code>.</p>\n\n<p>Please guide me, how can I display inserted period symbol instead of above output.</p>\n"},{"tags":["c#","sqlite","properties","microsoft-metro","winrt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":12793623,"title":"How to set property class while sqlite join returning data from multiple tables in windows store c#/xaml app","body":"<p>I have read <a href=\"http://stackoverflow.com/questions/12234687/sqlite-join-in-windows-8-metro-c-sharp-with-sqlite-net\">this</a> answer. It tells to <em>create a class that matches the data structure that you are returning</em>. So I made a class like this</p>\n\n<pre><code>public class PersonJob\n{\n    public Person person { get; set; }\n\n    public Job job { get; set; }\n}\n\nvar data = db.Query&lt;PersonJob&gt;(\"SELECT * FROM Person, Job WHERE Person.JobID = Job.ID\");\n</code></pre>\n\n<p>So the result data has results but the property <code>person</code> and <code>job</code> is null. My textblocks are bound with the properties of <code>Person</code> and <code>Job</code> class. Please give me appropriate suggestion.</p>\n"},{"tags":["c++","sqlite","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":56,"score":1,"question_id":12639748,"title":"Inserting into SQLite table only chosen values with QSql","body":"<p>I want to insert some values into an SQLite table.</p>\n\n<p>The query is:</p>\n\n<pre><code>insert into TableName (field1,field2,field3) values (field1val, field2val, field3val)\n</code></pre>\n\n<p>Let's say the table has 20 fields. I want to choose which field should be inserted depending on this value which is user input. The rest of fields should have no value.</p>\n\n<p>My current solution is:</p>\n\n<pre><code>QString valuesToInsertFieldNames(\"(\");\nQString valuesToInsert(\"(\");\nif(field1val != -1)\n{\n    valuesToInsertFieldNames+= \"field1\";\n    valuesToInsert += QString(\"%1 \").arg(field1val);\n}\nif(field2val != -1)\n{\n    valuesToInsertFieldNames+= \"field2\";\n    valuesToInsert += QString(\"%1\").arg(field2val);\n}\n...\nvaluesToInsertFieldNames+= \")\";\nvaluesToInsert += \")\";\nquery.exec(QString(\"insert into TableName \" + valuesToInsertFieldNames + \n                   \"values\" + valuesToInsert)\n</code></pre>\n\n<p>Is there some better way of doing it? Maybe some QSql functionality?</p>\n"},{"tags":["java","android","sqlite","plugins","phonegap"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":1,"view_count":1255,"score":1,"question_id":9803606,"title":"Phonegap/ Android (java) - Moving a pre-populated SQLite Database + assets folder","body":"<p>I am trying to copy my pre-populated database to a writable directory (I am thinking SD card), this needs to basically copy my whole assets folder within my phonegap android app.</p>\n\n<p>I have done days of research and due to my very limited knowledge of java, I cannot seem to create this java plugin to do the simple copy and then from there I am not entirly certain how to actually call this plugin from my HTML/ Javascript. </p>\n\n<p>Below is the current java plugin I have been working on using sample code found on the net, can someone please help guide me in the right direction. </p>\n\n<p>JAVA PLUGIN:</p>\n\n<pre><code>import java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\n\nimport org.json.JSONArray;\n\nimport com.phonegap.api.Plugin;\nimport com.phonegap.api.PluginResult;\n\n    public class DataBaseHelper extends Plugin \n    {\n    @Override\n    public PluginResult execute(String arg0, JSONArray arg1, String arg2) \n    {\n        try\n        {\n            String pName = this.getClass().getPackage().getName();\n            this.copy(\"Databases.db\",\"/data/data/\"+pName+\"/app_database/\");\n            this.copy(\"0000000000000001.db\",\"/data/data/\"+pName+\"/app_database/file__0/\");\n            }\n                catch (IOException e)\n            {\n            e.printStackTrace();\n        }\n        // TODO Auto-generated method stub\n        String value = \"OK\";\n        return new PluginResult(PluginResult.Status.OK, value);\n    }\n\n    //Copy Paste this function in the class where you used above part\n     void copy(String file, String folder) throws IOException \n     {\n         File CheckDirectory;\n         CheckDirectory = new File(folder);\n         if (!CheckDirectory.exists())\n         { \n            CheckDirectory.mkdir();\n         }\n\n         InputStream in = this.ctx.getAssets().open(file);\n         OutputStream out = new FileOutputStream(folder+file);\n\n        // Transfer bytes from in to out\n        byte[] buf = new byte[1024];\n        int len; while ((len = in.read(buf)) &gt; 0) out.write(buf, 0, len);\n        in.close(); out.close();            \n    }\n}\n</code></pre>\n\n<p>JAVASCRIPT PLUGIN CALL:</p>\n\n<pre><code>&lt;script type=\"text/javascript\" charset=\"utf-8\" src=\"taxapp.js\"&gt;&lt;/script&gt;\nfunction onDeviceReady() // CALLING THIS ON BODY LOAD\n{\n    dataCapture();\n    window.plugins.DataBaseHelper.copy(\"\",function(data)\n    {\n        alert(\"plugin called part 1\");\n        // nothing to do here\n    },\n    function()\n    {\n        alert(\"plugin called part 2\");\n        console.warn(\"Error calling plugin\");\n    }); \n}\n</code></pre>\n\n<p>Any help would be much appreciated as I need to get this fixed today. Thanks in advance.</p>\n"},{"tags":["iphone","ios","database","ipad","sqlite"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":290,"score":1,"question_id":9946597,"title":"List of local/embedded databases for iOS devices","body":"<p>Can someone post/suggest a list of local/embedded databases for iOS devices? (analogue of SQLite)<br>\nMy question partially covered by <a href=\"http://stackoverflow.com/questions/316755/can-the-iphone-only-use-an-sqlite-database\">Can the iPhone only use an SQLite database?</a> though I suppose that there can be other DB which can work offline containing all data on mobile device.  </p>\n\n<p>EDIT: I've decided to gather all advices which I've received so far (10/09/2012 Thanks to Andy Dent and Raspu):</p>\n\n<ol>\n<li>SQLite (obviously)  </li>\n<li>Raima RDM Embedded database (I haven't tried it)  </li>\n<li>CouchDB (it seems that they've dropped support, but I may be wrong) - <a href=\"https://github.com/couchbaselabs/iOS-Couchbase\" rel=\"nofollow\">https://github.com/couchbaselabs/iOS-Couchbase</a>   </li>\n<li>Google's levelDB embedded key-value store. Objective-C wrappers: NuLevelDB, LevelDB-ObjC.</li>\n<li>TokyoCabinet which is LGPL. Two wrappers: TSDocDB, BNRPersistence. </li>\n</ol>\n\n<p>What else? It doesn't necessarily has to be SQL compatible DB (CouchDB for example), but it has to have a possibility to work locally on iOS device.</p>\n"},{"tags":["javascript","sqlite","orm","code-first"],"answer_count":1,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":59,"score":4,"question_id":12793520,"title":"Is there any ORM tool for javascript which support code first?","body":"<p>suppose that there are two classes like</p>\n\n<pre><code>function Book(isbn, title, author, publisher){\n     this.isbn = isbn;\n     this.title = title;\n     this.author = author;\n     this.publisher = publisher;\n}\n\nfunction Publisher(title, location)\n{\n     this.title = title;\n     this.location = location;\n}\n</code></pre>\n\n<p>Is there any tool which can generate sqlite database from code is mentioned above?</p>\n"},{"tags":["sqlite","sqlite3"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":12789192,"title":"Sqlite Query replacing a column with a column from another table","body":"<p>I have 2 tables, one is indexing the other.</p>\n\n<p>I am querying Table#1, and it has one column (string) that has an ID in it that corresponds to a unique row in Table#2. Im trying to write a query in Sqlite that allows me to retrieve the value from Table#2 if the column value in Table#1 is not an empty string.</p>\n\n<p>Kinda like:</p>\n\n<pre><code>\"SELECT TMake,TModel,TTrim,IYear,[%q] AS TPart1 FROM AppGuide WHERE TPart1 != ''\"\n</code></pre>\n\n<p>But instead of retrieving the Index value (TPart1) Id like to get the string from Table#2.</p>\n\n<p>Is this possible?</p>\n\n<p>Any help is appreciated.</p>\n"},{"tags":["sqlite","pdf"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":54,"score":-2,"question_id":12792773,"title":"Read from PDF and insert data into database","body":"<p>I have a pdf file which contains some data in a table. Now I want to read that data from the table and insert it into a SQLite database.</p>\n"},{"tags":["android","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":82,"score":2,"question_id":12792037,"title":"Can SQLite file copied successfully on the data folder of an unrooted android device ?","body":"<p>I know that in order to access the data folder on the device, it needs to be rooted. However, if I just want to copy the database from my assets folder to the data folder on my device, will the copying process works on an unrooted phone? The following is my Database Helper class. From logcat, I can verify that the methods call to copyDataBase(), createDataBase() and openDataBase() are returned successfully. However, I got this error message </p>\n\n<blockquote>\n  <p>android.database.sqlite.SQLiteException: no such table: TABLE_NAME:</p>\n</blockquote>\n\n<p>when my application is executing rawQuery. I'm suspecting the database file is not copied successfully (cannot be too sure as I do not have access to data folder), yet the method call to copyDatabase() are not throwing any exception. What could it be? Thanks. </p>\n\n<p>ps: My device is still unrooted, I hope it is not the main cause of the error. </p>\n\n<pre><code>public DatabaseHelper(Context context) {\n\n        super(context, DB_NAME, null, 1);\n        this.myContext = context;\n    }   \n\n public void createDataBase() throws IOException{\n\n        boolean dbExist = checkDataBase();\n\n        String s = new Boolean(dbExist).toString();\n        Log.d(\"dbExist\", s );\n\n        if(dbExist){\n            //do nothing - database already exist\n            Log.d(\"createdatabase\",\"DB exists so do nothing\");\n        }else{\n\n\n        this.getReadableDatabase();\n\n            try {\n\n                copyDataBase();\n                Log.d(\"copydatabase\",\"Successful return frm method call!\");\n\n            } catch (IOException e) {\n\n                throw new Error(\"Error copying database\");\n\n            }\n        }\n\n    }\n\n\n    private boolean checkDataBase(){\n\n        File dbFile = new File(DB_PATH + DB_NAME);\n        return dbFile.exists();\n            }\n\n\n    private void copyDataBase() throws IOException{\n\n        //Open your local db as the input stream\n        InputStream myInput = null;\n\n\n            myInput = myContext.getAssets().open(DB_NAME);\n\n\n            Log.d(\"copydatabase\",\"InputStream successful!\");\n\n\n        // Path to the just created empty db\n        String outFileName = DB_PATH + DB_NAME;\n\n\n        //Open the empty db as the output stream\n        OutputStream myOutput = new FileOutputStream(outFileName);\n\n        //transfer bytes from the inputfile to the outputfile\n        byte[] buffer = new byte[1024];\n        int length;\n        while ((length = myInput.read(buffer))&gt;0){\n            myOutput.write(buffer, 0, length);\n        }\n\n        //Close the streams\n        myOutput.flush();\n        myOutput.close();\n        myInput.close();\n\n    }\n\n    public void openDataBase() throws SQLException{\n\n        //Open the database\n        String myPath = DB_PATH + DB_NAME;\n        myDataBase = SQLiteDatabase.openDatabase(myPath, null, SQLiteDatabase.OPEN_READONLY);\n\n    }\n\n/*    @Override\n    public synchronized void close() {\n\n            if(myDataBase != null)\n                myDataBase.close();\n\n            super.close();\n\n    }*/\n\n    public void close() {\n        // NOTE: openHelper must now be a member of CallDataHelper;\n        // you currently have it as a local in your constructor\n        if (myDataBase != null) {\n            myDataBase.close();\n        }\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n\n    }\n\n\n\n}\n</code></pre>\n"},{"tags":["database","sqlite","postgresql","migration"],"answer_count":2,"favorite_count":8,"up_vote_count":17,"down_vote_count":0,"view_count":4486,"score":17,"question_id":4581727,"title":"Convert SQLITE SQL dump file to POSTGRESQL","body":"<p>I've been doing development using SQLITE database with production in POSTGRESQL.  I just updated my local database with a huge amount of data and need to transfer a specific table to the production database.</p>\n\n<p>Based on running <code>sqlite database .dump &gt; /the/path/to/sqlite-dumpfile.sql</code>, SQLITE outputs a table dump in the following format:</p>\n\n<pre><code>BEGIN TRANSACTION;\nCREATE TABLE \"courses_school\" (\"id\" integer PRIMARY KEY, \"department_count\" integer NOT NULL DEFAULT 0, \"the_id\" integer UNIQUE, \"school_name\" varchar(150), \"slug\" varchar(50));\nINSERT INTO \"courses_school\" VALUES(1,168,213,'TEST Name A',NULL);\nINSERT INTO \"courses_school\" VALUES(2,0,656,'TEST Name B',NULL);\n....\nCOMMIT;\n</code></pre>\n\n<p>How do I convert the above into a POSTGRESQL compatible dump file that I can import into my production server?</p>\n"},{"tags":["android","sqlite","root"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":12792164,"title":"Restoring an Android SQLite script to another app's database","body":"<p>I changed the ROM of my phone yesterday and forgot to <code>Titanium backup</code> my SMS's, however i got a <code>SQLite</code> db out of a Nandroid i did before (I'd rather not go back to that <code>ROM</code>, it'd be the last resort), and a <code>SQLite</code> inserts file out of it... How can i write that SQLite inserts file into the <code>telephony</code> database? I know it may require root, that's not an issue.</p>\n\n<p><strong>EDIT</strong>: I'm not asking for an app, i'm asking for pointers on whether this is programatically possible and how to accomplish it.</p>\n"},{"tags":["android","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1749,"score":0,"question_id":4917671,"title":"SQLite table does not exist exception for existing SQLite database (and table)","body":"<p>I've followed the instructions given <a href=\"http://www.reigndesign.com/blog/using-your-own-sqlite-database-in-android-applications/\" rel=\"nofollow\">here</a> for introducing an existing SQLite database to your Android app.</p>\n\n<p>When I query the table \"android_metadata\" this is fine. But when I run a similar query on my own table \"words\" (which has _id for primary integer key) I get a table does not exist exception and the app crashes.</p>\n\n<p>Why is that?</p>\n\n<p>Code:</p>\n\n<pre><code>Cursor c = myDatabase.query(\"android_metadata\", null, null, null, null, null, null, null);\n</code></pre>\n\n<p>works but</p>\n\n<pre><code>Cursor c = myDatabase.query(\"words\", null, null, null, null, null, null, null);\n</code></pre>\n\n<p>returns a table does not exist exception.</p>\n\n<p>This is how I'm creating the database (the references to paths and filenames are correct):</p>\n\n<pre><code>private void copyDatabase() throws IOException\n{\n    //Open local db as the input stream\n    InputStream myInput = mContext.getAssets().open(DB_NAME);\n\n    //Path to the just created empty db\n    String outFileName = DB_PATH + DB_NAME;\n\n    //Open the empty db as the output stream\n    OutputStream myOutput = new FileOutputStream(outFileName);\n\n    //Transfer bytes from the inputfile to the outputfile\n    byte[] buffer = new byte[1024];\n    int length = 0;\n    while ((length = myInput.read(buffer))&gt;0){\n        myOutput.write(buffer, 0, length);\n    }\n\n    //Close the streams\n    myOutput.flush();\n    myOutput.close();\n    myInput.close();\n}\n</code></pre>\n\n<p>(Note: To my eyes, the table is there. I'm looking right at it in my SQLite browser.)</p>\n"},{"tags":["android","sqlite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":4,"view_count":94,"score":-4,"question_id":12782420,"title":"Java Android SQLite Where Clause","body":"<p>i would like to do search in my sqlite db\nbut i dont know how to do that</p>\n\n<p>ex codes:</p>\n\n<pre><code>{\n   int ID = cursor.getInt(cursor.getColumnIndex(\"ID\"));\n   String name = cursor.getString(cursor.getColumnIndex(\"name\"));\n   String number= cursor.getString(cursor.getColumnIndex(\"number\"));\n   display = display + \"Where\"+ number+ \"&lt;=\" +\"text\"+ \"No.\"+ID+\", Name: \"+name+\",+Prices:+\"+address+\" \\n\";\n}\n</code></pre>\n\n<p>Can you correct me pls :(</p>\n\n<p>here is the full code in my form</p>\n\n<pre><code>public class ActivityMain extends Activity \n{\n\nprivate Button demoAddButton;\nprivate Button demoSearchButton;\nprivate Button searchButtonL;\nprivate Button demoDeleteButton;\nprivate Button demoUpdateButton;\nprivate Button searchButton;\nprivate TextView addTextView;\n\nprivate DatabaseHelper dbHelper = new DatabaseHelper(ActivityMain.this,\"example\",2);\nprivate int moreless;\n\n/** Called when the activity is first created. */\n@Override\npublic void onCreate(Bundle savedInstanceState) \n{\n  super.onCreate(savedInstanceState);\n\n  setContentView(R.layout.main);\n  /** find view element by id **/\n\n  demoSearchButton =(Button)findViewById(R.id.demoSearchButton);\n  demoAddButton =(Button)findViewById(R.id.demoAddButton);\n  demoDeleteButton =(Button)findViewById(R.id.demoDeleteButton);\n  demoUpdateButton =(Button)findViewById(R.id.demoUpdateButton);\n  searchButton =(Button)findViewById(R.id.searchButton);\n  searchButtonL =(Button)findViewById(R.id.searchButtonL);\n  addTextView =(TextView)findViewById(R.id.displayTextView);\n\n  /** binding each button with button listener **/\n  demoSearchButton.setOnClickListener(new DemoSearchButtonListener());\n  demoAddButton.setOnClickListener(new DemoAddButtonListener());\n  demoDeleteButton.setOnClickListener(new DemoDeleteButtonListener());\n  demoUpdateButton.setOnClickListener(new DemoUpdateButtonListener());\n  searchButton.setOnClickListener(new searchButtonListener());\n\n  /** disable the button which represents the current activity **/\n  demoSearchButton.setClickable(false);\n\n  EditText text = (EditText)findViewById(R.id.paramTxt);\n\n  String value = text.getText().toString();        \n  /** create the database if it dosen't exist in your phone **/\n  SQLiteDatabase db = dbHelper.getWritableDatabase();\n  try\n  {\n    db.execSQL(\"create table my_table(ID integer, name varchar(90), address varchar(90));\");\n  }\n  catch(Exception e)\n  {\n    e.printStackTrace();\n  }\n}\n\n/** this is a listener, when button Show Table is pressed, the following code will be \nexecuted GREATER THAN**/\nclass searchButtonListener implements OnClickListener, android.view.View.OnClickListener\n{\n  public void onClick(View v) \n  {\n    String display = \"\";\n    SQLiteDatabase db = dbHelper.getWritableDatabase();\n\n    /** the result will be loaded in cursor **/\n    Cursor cursor = db.query(\"my_table\", new String[]{\"ID\",\"name\",\"address\"}, null, null, null, null, null);\n\n    /** check if the table is empty **/\n    if (!cursor.moveToNext())\n    {\n      addTextView.setText(\"No data to display, please make sure you have already inserted data!\");\n      db.close();\n      return;\n    }\n\n    cursor.moveToPrevious();\n\n    /** if the table is not empty, read the result into a string named display **/\n    while(cursor.moveToNext())\n    {\n      int ID = cursor.getInt(cursor.getColumnIndex(\"ID\"));\n      String name = cursor.getString(cursor.getColumnIndex(\"name\"));\n      String address = cursor.getString(cursor.getColumnIndex(\"address\"));\n      display = display + \"Where\"+ address+ \"&lt;=\" +\"text\"+ \"No.\"+ID+\", Name:  \"+name+\",+Prices:+\"+address+\" \\n\";\n    }\n\n    /** display the result on the phone **/\n    addTextView.setText(display);\n    db.close();\n  }\n\n  public void onClick(DialogInterface dialog, int which) {\n    // TODO Auto-generated method stub\n  }\n}\n\n\n/** this is a listener, when button Show Table is pressed, the following code will be \nexecuted **/\nclass searchButtonListenerL implements OnClickListener, android.view.View.OnClickListener\n{\n  public void onClick(View v) \n  {\n    String display = \"\";\n    SQLiteDatabase db = dbHelper.getWritableDatabase();\n\n    Cursor cursor = db.query(\"my_table\", new String[]{\"ID\",\"name\",\"address\"}, null, null, null, null, null);\n    if (!cursor.moveToNext())\n    {\n      addTextView.setText(\"No data to display, please make sure you have already inserted data!\");\n      db.close();\n      return;\n    }\n\n    cursor.moveToPrevious();\n    while(cursor.moveToNext())\n    {\n      int ID = cursor.getInt(cursor.getColumnIndex(\"ID\"));\n      String name = cursor.getString(cursor.getColumnIndex(\"name\"));\n      String address = cursor.getString(cursor.getColumnIndex(\"address\"));\n      display = display + \"Where\"+ address+ \"&gt;=\" +\"text\"+ \"No.\"+ID+\", Name:  \"+name+\",+Prices:+\"+address+\" \\n\";\n    }\n\n    addTextView.setText(display);\n    db.close();\n  }\n}\n</code></pre>\n\n<p>on click was not included only db</p>\n"},{"tags":["iphone","ios","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":12790431,"title":"How do I deploy an existing sqlite file on an iPhone Device","body":"<p>I have a legacy sqlite file on my iPhone app, but when tested on-device the sqlite file can not be found. Is there some method to deploy the sqlite file on the iPhone device?</p>\n\n<p>Thanks a lot.</p>\n"},{"tags":["android","sqlite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":32,"score":-1,"question_id":12790524,"title":"How to create Bus stop SQLite Database","body":"<p>I want to ask how to create bus stop sqlite dabase for Android. This database will be editable and should be able to predict (AutocompleteTextView). I have created this but was having errors.</p>\n\n<p>Here are the errors:</p>\n\n<pre><code>10-08 22:17:03.602: E/AndroidRuntime(10197): FATAL EXCEPTION: main\n10-08 22:17:03.602: E/AndroidRuntime(10197): Java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.autocomplete.sample/com.autocomplete.sample.Home}: Java.lang.ClassNotFoundException: com.autocomplete.sample.Home in loader dalvik.system.PathClassLoader[/data/app/com.autocomplete.sample-1.apk]\n10-08 22:17:03.602: E/AndroidRuntime(10197):    at Android.app.ActivityThread.performLaunchActivity(ActivityThread.Java:2585)\n10-08 22:17:03.602: E/AndroidRuntime(10197):    at Android.app.ActivityThread.handleLaunchActivity(ActivityThread.Java:2679)\n10-08 22:17:03.602: E/AndroidRuntime(10197):    at Android.app.ActivityThread.access$2300(ActivityThread.Java:125)\n10-08 22:17:03.602: E/AndroidRuntime(10197):    at Android.app.ActivityThread$H.handleMessage(ActivityThread.Java:2033)\n10-08 22:17:03.602: E/AndroidRuntime(10197):    at Android.os.Handler.dispatchMessage(Handler.Java:99)\n10-08 22:17:03.602: E/AndroidRuntime(10197):    at Android.os.Looper.loop(Looper.Java:123)\n10-08 22:17:03.602: E/AndroidRuntime(10197):    at Android.app.ActivityThread.main(ActivityThread.Java:4627)\n10-08 22:17:03.602: E/AndroidRuntime(10197):    at Java.lang.reflect.Method.invokeNative(Native Method)\n10-08 22:17:03.602: E/AndroidRuntime(10197):    at Java.lang.reflect.Method.invoke(Method.Java:521)\n10-08 22:17:03.602: E/AndroidRuntime(10197):    at com.Android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.Java:868)\n10-08 22:17:03.602: E/AndroidRuntime(10197):    at com.Android.internal.os.ZygoteInit.main(ZygoteInit.Java:626)\n10-08 22:17:03.602: E/AndroidRuntime(10197):    at dalvik.system.NativeStart.main(Native Method)\n10-08 22:17:03.602: E/AndroidRuntime(10197): Caused by: Java.lang.ClassNotFoundException: com.autocomplete.sample.Home in loader dalvik.system.PathClassLoader[/data/app/com.autocomplete.sample-1.apk]\n10-08 22:17:03.602: E/AndroidRuntime(10197):    at dalvik.system.PathClassLoader.findClass(PathClassLoader.Java:243)\n10-08 22:17:03.602: E/AndroidRuntime(10197):    at Java.lang.ClassLoader.loadClass(ClassLoader.Java:573)\n10-08 22:17:03.602: E/AndroidRuntime(10197):    at Java.lang.ClassLoader.loadClass(ClassLoader.Java:532)\n10-08 22:17:03.602: E/AndroidRuntime(10197):    at Android.app.Instrumentation.newActivity(Instrumentation.Java:1021)\n10-08 22:17:03.602: E/AndroidRuntime(10197):    at Android.app.ActivityThread.performLaunchActivity(ActivityThread.Java:2577)\n10-08 22:17:03.602: E/AndroidRuntime(10197):    . 11 more\n</code></pre>\n"},{"tags":["database","perl","sqlite","matlab","in-memory"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":342,"score":1,"question_id":9817195,"title":"Loading existing Sqlite database into memory for fast computation","body":"<p>Does anyone knows how to load an existing database (Sqlite 3) into memory for fast computation in Perl, MATLAB or Java? Perl is preferred?</p>\n\n<p>I am working on a project that needs intensive computation, and I want to keep the real database fixed. So I want to read the entire Sqlite3 database into memory and perform anything there in memory.</p>\n\n<p>I know the basics of in-memory database connection, but seems like Perl can only create a new database using this way, rather than loading an existing one (which is the option I want to implement).</p>\n"},{"tags":["android","sqlite"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":12788392,"title":"Can table names be substitued with '?'","body":"<p>I have a sqlite query:</p>\n\n<pre><code>rawQuery(\"select * from ? where ?=?\", new String[] {\n                DBTABLE_PROFILE, KEY_PROFILE_ID, Integer.toString(profileID) });\n</code></pre>\n\n<p>But Android gives me </p>\n\n<pre><code>E/AndroidRuntime(7323): Caused by: android.database.sqlite.SQLiteException:   \nnear \"?\": syntax error (code 1): , while compiling: select * from ? where ?=?\n</code></pre>\n\n<p>I tested which ? was causing problems and it turned out to be the first one. If I change it to </p>\n\n<pre><code>\"select * from profile where ?=?\"\n</code></pre>\n\n<p>it doesn't FC.</p>\n\n<p>SO, can table names be substitued with '?'?</p>\n\n<p>[EDIT]:</p>\n\n<p>There is a <strong><em>work-around</em></strong> to achieve rawQuery-like functionality without the limitations. See my answer below.</p>\n"},{"tags":["c#","sqlite","insert"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":2380,"score":1,"question_id":1583044,"title":"SQLite INSERT Statement","body":"<p>I have created the following insert method which works fairly well but I know it could be more efficient.  Could someone show me how to convert this method to use parameters and/or increase its efficiency?</p>\n\n<pre><code>public static void SQLiteTableINSERT(string tableName)\n{\n    int colCount = 0;\n    using (SQLiteConnection Conn = new SQLiteConnection(SQLiteConn.Conn))\n    {\n        using (SQLiteTransaction sqliteTrans = Conn.BeginTransaction())\n        {\n            using (SQLiteCommand cmd = Conn.CreateCommand())\n            {\n                DataTableColumnNames();\n\n                string query = \"INSERT INTO \" + tableName + \"(\";\n\n                foreach (string name in DtColumns)\n                {\n                    query += \"[\" + name + \"]\";\n                    ++colCount;\n\n                    if (colCount &lt; DtColumns.Count())\n                        query += \",\";\n                }\n\n                query += \")\";\n                query += \" VALUES(\";\n\n                for (int i = 0; i &lt; LocalDataSet.LocalDs.Tables[0].Rows.Count; ++i)\n                {\n                    cmd.CommandText = query;\n\n                    foreach (DataColumn col in LocalDataSet.LocalDs.Tables[0].Columns)\n                    {\n                        string temp = LocalDataSet.LocalDs.Tables[0].Rows[i][col, DataRowVersion.Current].ToString();\n\n                        if (temp == \"True\")\n                            cmd.CommandText += 1;\n\n                        else if (temp == \"\")\n                            cmd.CommandText += 0;\n\n                        if (temp != \"True\" &amp;&amp; temp != \"\")\n                            cmd.CommandText += \"'\" +temp + \"'\";\n\n                        cmd.CommandText += \",\";\n                    }\n\n                    cmd.CommandText = cmd.CommandText.Remove(cmd.CommandText.LastIndexOf(\",\"));\n\n                    cmd.CommandText += \")\";\n\n                    cmd.ExecuteNonQuery();\n                }\n            }\n\n            sqliteTrans.Commit();\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":["objective-c","ios","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":12787377,"title":"Sqlite database in iOS seems to load from user directory but file isn't the same as the one in the app","body":"<p>OK so at the initial loading of my app, I read from a sqlite database. I use this code to open it:</p>\n\n<pre><code>NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);\nNSString *documentsDirectory = [paths objectAtIndex:0];\nNSString *path = [documentsDirectory stringByAppendingPathComponent:@\"golfScores.sqlite\"];\n\nif(sqlite3_open([path UTF8String], &amp;database) == SQLITE_OK){\n</code></pre>\n\n<p>I've been lead to believe that this opens the database from the app directory, not the app bundle. Everything works fine within the app when adding, deleting, or updating records. I can close the app and reopen it and the data appears as it should. The problem is that if I go and look at the database with the Terminal, nothing has changed. It's completely different. So it must be using and saving to a database within the bundle, right? How can I get the app to update the database in the app directory?</p>\n"},{"tags":["android","database","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":62,"score":0,"question_id":12786417,"title":"How to delete ALL value from a Column in SQLite with a single click?","body":"<p>I want a button that deletes all the values inside a column with a single button click. </p>\n\n<p>I know the code to delete the row or table but not all the values in it. Is it possible or do I have to delete the column and re-add it?</p>\n"}]}
{"total":16516,"page":12,"pagesize":100,"questions":[{"tags":["android","sqlite"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":116,"score":1,"question_id":10827537,"title":"Android: SQLite DataBase not creating","body":"<p>I have used the following code to create  table and insert data into table. The code displays data for only when select statement is within the same file. I have noticed that there is no database in /data/data . Am I missing some thing or the process is actually wrong? If  wrong then what should I do?</p>\n\n<pre><code>surgicalmstDB =  this.openOrCreateDatabase(\"surgicalmstDB \", SQLiteDatabase.CREATE_IF_NECESSARY, null);\n        surgicalmstDB.setVersion(1);\n        surgicalmstDB.setLocale(Locale.getDefault());\n        surgicalmstDB.setLockingEnabled(true);\n        surgicalmstDB.execSQL(\"CREATE TABLE IF NOT EXISTS \" +\n                \" instrument \" +\n               \" (id int,instrumnt TEXT, category TEXT, details TEXT);\");\n\nsurgicalmstDB.execSQL(\"INSERT INTO \" +\n                \"instrument\" +\n                \" Values (2,'#3 Long Knife Handle ','Cutting and dissecting','Used to cut deeper tissue.');\");\n\n//-----------------------------------------------------------------\n String query=\"SELECT * from instrument WHERE id=2\";\n                Cursor cursor=surgicalmstDB.rawQuery(query, null);\n                while (cursor.moveToNext()) {\n                    String title =cursor.getString(cursor\n                            .getColumnIndex(\"instrumnt\"));\n                    String author= cursor.getString(cursor\n                            .getColumnIndex(\"category\"));\n                    String price= cursor.getString(cursor\n                            .getColumnIndex(\"details\"));\n                       txt.setText(title+\"-----\"+author+\"-------\"+price);\n                    }\n                    cursor.close();\n                    surgicalmstDB.close();\n</code></pre>\n"},{"tags":["c#","sql","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":58,"score":1,"question_id":12785780,"title":"SQLite: Insert Into Identity Column","body":"<p>I'm new to SQLite and I'm trying to run the following code:</p>\n\n<pre><code>using (var cn = new SQLiteConnection(\"Data Source=:memory:;Version=3;\")) {\n    cn.Open();\n\n    var cmd = cn.CreateCommand();\n    cmd.CommandText = \"CREATE TABLE [ContentItems] ([Id] [int] IDENTITY(1,1) NOT NULL, [Title] [nvarchar](100) NOT NULL, CONSTRAINT [PK_ContentItems] PRIMARY KEY ([Id]))\";\n    cmd.ExecuteNonQuery();\n\n    var cmd2 = cn.CreateCommand();\n    cmd2.CommandText = \"INSERT INTO [ContentItems] (Title) VALUES ('Test 1')\";\n    cmd2.ExecuteNonQuery();\n}\n</code></pre>\n\n<p>But this gives the error:</p>\n\n<blockquote>\n  <p>Abort due to constraint violation ContentItems.Id may not be NULL</p>\n</blockquote>\n\n<p>I've had a look through the documentation but based on my past SQL experience i cannot see why this doesn't work. I'd appreciate the help. Thanks</p>\n"},{"tags":["android","sqlite","android-sqlite","android-assets"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":12780248,"title":"SQLiteAssetHelper generates error","body":"<p>I am using SqliteAssetHelper to import a database from the asset folder and copy it to the standard database application folder.</p>\n\n<p>It works quite randomly though...when I replace the .zip file in my asset folder with a new one and I run the application I get this error</p>\n\n<pre><code>E/AndroidRuntime(20036): Caused by: com.readystatesoftware.sqliteasset.SQLiteAssetException: Missing databases/adinspect.zip file in assets or target folder not writable\n</code></pre>\n\n<p>but I am sure the file \"adinpect.zip\" is there. I just updated my database schema, re-zipped it and replaced the file in the asset folder.</p>\n\n<p>What am I missing? </p>\n"},{"tags":["python","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":43,"score":1,"question_id":12785041,"title":"sqlite tracking IDs - find missing integers in a seq","body":"<p>First I am not even sure whether I am asking the right question, sorry for that. SQL is new to me. I have a table I create in SQLITE like this:</p>\n\n<pre><code>CREATE TABLE ENTRIES \"(ID INTEGER PRIMARY KEY AUTOINCREMENT,DATA BLOB NOT NULL)\"\n</code></pre>\n\n<p>Which is all fine if I have only additions for entries. If I create entries, they increment. Let us say I added 7 entries. Now I delete 3 entries:</p>\n\n<pre><code>DELETE FROM NODES WHERE ID = 3\nDELETE FROM NODES WHERE ID = 4\nDELETE FROM NODES WHERE ID = 5\n</code></pre>\n\n<p>Entries I now have are:</p>\n\n<pre><code>1,2,6,7.\n</code></pre>\n\n<p>The next time I add an entry it will have <code>ID=8</code>. </p>\n\n<p>So, my question is:   </p>\n\n<p>How do I get the next 3 entries, to get the IDs 3, 4, 5 and only the 4 entry will then get 8? I realize this is similar to <a href=\"http://stackoverflow.com/questions/1389605/sql-find-missing-ids-in-a-table\">SQL: find missing IDs in a table</a>, and it is maybe also a general programming (not just SQL) problem. So, I would be happy to see some Python and SQLite solutions. </p>\n\n<p>Thanks, \nOz</p>\n"},{"tags":["sqlite","sqlite3"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":52,"score":2,"question_id":12759542,"title":"Sorting, ordering and creating columns in SQLite","body":"<p>I'm a student doing a project and I have to use SQLite however i'm new to SQLite. I have described my problem below. </p>\n\n<p>I have a table(containing 60000 rows) which is of the form shown below.</p>\n\n<pre><code>Date_Time           Country_City Temperature\n4-10-2012 12:10:10  USA_NYC        20\n4-10-2012 12:10:10  USA_LA         17\n4-10-2012 12:10:10  USA_DC         19\n4-10-2012 12:40:10  USA_LA         18\n4-10-2012 12:40:10  USA_DC         18\n</code></pre>\n\n<p>I have to sort and create the table as shown below, if the data is missing as in NYC the previous data must be loaded if not 'NaN'.  </p>\n\n<pre><code>Date_Time         USA_NYC USA_LA USA_DC\n4-10-2012 12:10:10 20      17     19\n4-10-2012 12:40:10 20      18     18\n</code></pre>\n\n<p>Can you please tell me how to create it, I could order and sort, but I do not know how to create like this in SQLite. I would be grateful for any suggestions. </p>\n"},{"tags":["android","sql","sqlite","android-sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":64,"score":0,"question_id":12773500,"title":"SQLite count ocurrences in row","body":"<p>Imagine I have a column of a table like this:</p>\n\n<pre><code>b\n-\n1\n1\n1\n2\n3\n</code></pre>\n\n<p>and I want to obtain</p>\n\n<pre><code>a | b\n-----\n1 | 3\n2 | 1\n3 | 1\n</code></pre>\n\n<p>representing the ocurrencies for that row. I have read that this would do the job:</p>\n\n<pre><code>select b, count(b) from table group by b\n</code></pre>\n\n<p>how ever, the result I get is just this:</p>\n\n<pre><code>3 | 5\n</code></pre>\n\n<p>What's wrong?</p>\n"},{"tags":["android","sqlite","listview"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":178,"score":0,"question_id":12566763,"title":" Android: Fill ListView with database","body":"<p>Having followed several examples with no success, I find myself at a dead end on this issue. The issue I am encountering is how to fill a <code>ListView</code> with data from a database.</p>\n\n<p>The purpose is to create a screen with the listView which displays only the name column from the database, then when the item is selected the application goes to a new screen where it displays the other data related to the item.</p>\n\n<p>The things I'd like help with understanding are filling the <code>ListView</code> with data from just the \"Name\" column from my database table \"Contacts\" and then, getting the data from the row of the database based on the selected item.</p>\n\n<p>Here is the code for the ContactsMenu class, where the names will be displayed.</p>\n\n<pre><code>package com.emailandcontactmanager;\n\nimport android.app.Activity;\nimport android.app.AlertDialog;\nimport android.content.DialogInterface;\nimport android.content.Intent;\nimport android.database.Cursor;\nimport android.os.Bundle;\nimport android.view.Menu;\nimport android.view.MenuInflater;\nimport android.view.MenuItem;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.ListView;\nimport android.widget.SimpleCursorAdapter;\nimport android.widget.Toast;\n\npublic class ContactsMenu extends Activity {\n\n\n    ListView listView;\n    public static final String fields[] = { DatabaseSetup.colName};\n    Cursor cursor;\n\n    @Override\n    public void onCreate(Bundle savedInstanceState){\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.managecontacts);\n        listView = (ListView) findViewById(R.id.lstContacts); \n        DatabaseSetup.init(this); \n\n        Button btnAddItem = (Button) findViewById(R.id.btnAddContact);\n        btnAddItem.setOnClickListener(new View.OnClickListener() {\n        public void onClick(View v) {\n            Intent addItem = new Intent(v.getContext(), AddContact.class);\n            startActivity(addItem);\n        }\n        });\n    }\n        @Override\n        protected void onPause() {\n            listView.setAdapter(null);\n            cursor.close();\n            DatabaseSetup.deactivate();\n            super.onPause();\n        }\n\n        @Override\n        protected void onResume() {\n            super.onResume();\n            DatabaseSetup.init(this);\n            cursor = DatabaseSetup.getContactNames();\n            SimpleCursorAdapter adapter = new SimpleCursorAdapter(this, R.layout.row, cursor, fields, new int[] {R.id.item_text});\n            listView.setAdapter(adapter); \n        }\n\n\n    DialogInterface.OnClickListener dialogClickListener = new DialogInterface.OnClickListener() { \n        public void onClick(DialogInterface dialog, int which) { \n            switch (which){ \n            case DialogInterface.BUTTON_POSITIVE: \n                finish();\n                break; \n\n            case DialogInterface.BUTTON_NEGATIVE: \n                //Nothing happens on No button click, and the menu closes\n                break; \n            } \n        } \n    }; \n\n    @Override\n    public boolean onCreateOptionsMenu(Menu mainmenu) {\n        MenuInflater inflater = getMenuInflater();\n        inflater.inflate(R.menu.mainmenu, mainmenu);\n        return true;\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        final CharSequence[] items = {\"Contacts list\", \"Add Contact\"};\n\n        switch (item.getItemId()) {\n            case R.id.help:     AlertDialog.Builder builder = new AlertDialog.Builder(this);\n                                builder.setTitle(\"Select a function to revice information about it.\");\n                                builder.setItems(items, new DialogInterface.OnClickListener() {\n                                    public void onClick(DialogInterface dialog, int selected) {\n                                        switch(selected){\n                                        case 0:\n                                            Toast.makeText(getApplicationContext(),\n                                                    \"Allows you to view the selected item and make editations to it or delete it.\",\n                                                    Toast.LENGTH_LONG).show();\n                                            break;\n                                        case 1:\n                                            Toast.makeText(getApplicationContext(),\n                                                    \"Allows you to add a new contact by bringing up a screen where the nececary information can be entered.\",\n                                                    Toast.LENGTH_LONG).show();\n                                        }\n                                    }\n                                });\n                                builder.show();\n                                break;\n\n                                case R.id.back:     AlertDialog.Builder builderBack = new AlertDialog.Builder(this); \n                                                    builderBack.setMessage(\"Are you sure?\").setPositiveButton(\"Yes\", dialogClickListener) \n                                                    .setNegativeButton(\"No\", dialogClickListener).show(); \n                                break;\n        }\n        return true;\n\n    }\n}\n</code></pre>\n\n<p>Database Setup Class</p>\n\n<pre><code>package com.emailandcontactmanager;\n\nimport android.content.ContentValues; \nimport android.content.Context; \nimport android.database.Cursor; \nimport android.database.sqlite.SQLiteDatabase; \nimport android.database.sqlite.SQLiteOpenHelper; \n\n/* \n * usage:  \n * DatabaseSetup.init(egActivityOrContext); \n * DatabaseSetup.createEntry() or DatabaseSetup.getContactNames() or DatabaseSetup.getDb() \n * DatabaseSetup.deactivate() then job done \n */ \n\nclass DatabaseSetup extends SQLiteOpenHelper { \nstatic DatabaseSetup instance = null; \nstatic SQLiteDatabase db = null; \n\npublic static void init(Context context) { \n    if (null == instance) { \n        instance = new DatabaseSetup(context); \n        } \n    } \n\npublic static SQLiteDatabase getDb() { \n    if (null == db) { \n        db = instance.getWritableDatabase(); \n        } \n    return db; \n    } \n\npublic static void deactivate() { \n    if (null != db &amp;&amp; db.isOpen()) { \n        db.close(); \n        } \n    db = null; \n    instance = null; \n    } \n\npublic static long createEntry(String name, String mail, String phone1, \n        String phone2, String address, String notes) { \n    ContentValues cv = new ContentValues(); \n    cv.put(colName, name); \n    cv.put(colMail, mail); \n    cv.put(colPhone1, phone1); \n    cv.put(colPhone2, phone2); \n    cv.put(colAddress, address); \n    cv.put(colNotes, notes); \n    return getDb().insert(contactsTable, null, cv); \n\n    } \n\npublic static Cursor getContactNames() { \n    // TODO Auto-generated method stub \n    String[] columns = new String[] {\"_id\", colName }; \n    return getDb().query(contactsTable, columns, null, null, null, null, \n            null); \n    } \n\nDatabaseSetup(Context context) { \n    super(context, dbName, null, dbVersion); \n    } \n\n@Override \npublic void onCreate(SQLiteDatabase db) { \n    // TODO Auto-generated method stub \n    db.execSQL(\"CREATE TABLE IF NOT EXISTS \" + contactsTable \n            + \" (_id integer primary key autoincrement, \" + colName \n            + \" TEXT NOT NULL, \" + colMail + \" TEXT NOT NULL, \" + colPhone1 \n            + \" TEXT NOT NULL, \" + colPhone2 + \" TEXT NOT NULL, \" \n            + colAddress + \" TEXT NOT NULL, \" + colNotes \n            + \" TEXT NOT NULL)\"); \n\n    db.execSQL(\"CREATE TABLE IF NOT EXISTS \" + templatesTable \n            + \" (_id integer primary key autoincrement, \" + colSubject \n            + \" TEXT NOT NULL, \" + colBody + \" TEXT NOT NULL)\"); \n\n    db.execSQL(\"CREATE TABLE IF NOT EXISTS \" + tagsTable \n            + \" (_id integer primary key autoincrement, \" + colTagName \n            + \" TEXT NOT NULL, \" + colContact + \" TEXT NOT NULL)\"); \n\n    } \n\n@Override \npublic void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) { \n    db.execSQL(\"DROP TABLE IF EXISTS \" + contactsTable); \n    db.execSQL(\"DROP TABLE IF EXISTS \" + templatesTable); \n    db.execSQL(\"DROP TABLE IF EXISTS \" + tagsTable); \n    onCreate(db); \n    } \n\nstatic final String dbName = \"DB\"; \nstatic final int dbVersion = 1; \nstatic final String contactsTable = \"Contacts\"; \nstatic final String colName = \"Name\"; \nstatic final String colMail = \"Email\"; \nstatic final String colPhone1 = \"Phone1\"; \nstatic final String colPhone2 = \"Phone2\"; \nstatic final String colAddress = \"Address\"; \nstatic final String colNotes = \"Notes\"; \n\nstatic final String templatesTable = \"Templates\"; \nstatic final String colSubject = \"Subject\"; \nstatic final String colBody = \"Body\"; \n\nstatic final String tagsTable = \"Tags\"; \nstatic final String colTagName = \"Name\"; \nstatic final String colContact = \"Contact\"; \n\n} \n</code></pre>\n\n<p>The code for the class to add to the contact menu. It used to work when I had a temporary display, however, now it does not.</p>\n\n<pre><code>package com.emailandcontactmanager;\n\nimport android.app.Activity;\nimport android.app.Dialog;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.TextView;\n\npublic class AddContact extends Activity\n{\n\n    Button saveContact;\n    EditText contactName, contactMail, contactPhone1, contactPhone2, contactAddress, contactNotes; \n\n    @Override\n    public void onCreate(Bundle savedInstanceState)\n    {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.newcontact);\n\n\n        contactName = (EditText) findViewById(R.id.txtName);\n        contactMail = (EditText) findViewById(R.id.txtMail);\n        contactPhone1 = (EditText) findViewById(R.id.txtPhone1);\n        contactPhone2 = (EditText) findViewById(R.id.txtPhone2);\n        contactAddress = (EditText) findViewById(R.id.txtAddress);\n        contactNotes = (EditText) findViewById(R.id.txtNotes);\n       // saveContact = (Button) findViewById(R.id.btnSaveContact);\n\n        Button btnSaveContact = (Button) findViewById(R.id.btnSaveContact);\n        btnSaveContact.setOnClickListener(new View.OnClickListener()\n        {\n            public void onClick(View v)\n            {\n                boolean working = true;\n\n                try{\n                    String name = contactName.getText().toString();\n                    String mail = contactMail.getText().toString();\n                    String phone1 = contactPhone1.getText().toString();\n                    String phone2 = contactPhone2.getText().toString();\n                    String address = contactAddress.getText().toString();\n                    String notes = contactNotes.getText().toString();\n\n                    DatabaseSetup entry = new DatabaseSetup(AddContact.this);\n                    DatabaseSetup.getDb();\n                    DatabaseSetup.createEntry(name, mail, phone1, phone2, address, notes);\n                    entry.close();\n\n                    }\n                    catch(Exception e)\n                    {\n                        working = false;\n                        String error = e.toString();\n                        Dialog d = new Dialog(AddContact.this);\n                        d.setTitle(\"Error\");\n                        TextView tv = new TextView(AddContact.this);\n                        tv.setText(error);\n                    }\n                    finally\n                    {\n                        if(working)\n                        {\n                            Dialog d = new Dialog(AddContact.this);\n                            d.setTitle(\"Success\");\n                            TextView tv = new TextView(AddContact.this);\n                            tv.setText(\"The database changes have succeeded.\");\n                            d.setContentView(tv);\n                            d.show();\n\n                        }\n                    }       \n            }   \n        });\n    }\n}\n</code></pre>\n"},{"tags":["android","database","sqlite","upgrade","apk"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":67,"score":0,"question_id":12782354,"title":"Update android application","body":"<p>I developed an Android application. I installed the apk on my tablet.</p>\n\n<p>Now, I want just modify few code lines and one table of my SQLite database, but I don't want reinstall my apk, I want make an upgrade. </p>\n\n<p>How can I build this upgrade mechanism?</p>\n"},{"tags":["java","sqlite","encryption","jar"],"answer_count":9,"favorite_count":3,"up_vote_count":7,"down_vote_count":1,"view_count":12082,"score":6,"question_id":537596,"title":"How to create encrypted Jar file?","body":"<p>I am working on project that must need to protect data (revealing code is not main problem) files. We are using Java + Netbeans. Is there any facility that will create jar in encrypted format? We are also using sqlite for database - so putting text file in encrypted format is not proper option for us too.</p>\n"},{"tags":["iphone","xcode","ipad","query","sqlite"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":70,"score":2,"question_id":12280321,"title":"how to insert values in sqlite","body":"<pre><code>NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory , NSUserDomainMask, YES);\nNSString *documentsDir = [paths objectAtIndex:0];\n\nNSFileManager *fileManager = [NSFileManager defaultManager];\nNSError *error;\nNSString *dbPath =[documentsDir stringByAppendingPathComponent:@\"register.sqlite\"];\nBOOL success = [fileManager fileExistsAtPath:dbPath]; \nsqlite3_stmt *selectstmt;\nif(!success)\n        {\n             NSString *defaultDBPath = [[[NSBundle mainBundle] resourcePath] stringByAppendingPathComponent:@\"register.sqlite\"];\n            success = [fileManager copyItemAtPath:defaultDBPath toPath:dbPath error:&amp;error];\n\n            if (!success) \n                NSAssert1(0, @\"Failed to create writable database file with message '%@'.\", [error localizedDescription]);\n        }\n\nif (sqlite3_open([dbPath UTF8String], &amp;database) == SQLITE_OK) {\n\n    sql = \"select lastname,email,firstname from reg_FORM\";\n\n    if(sqlite3_prepare_v2(database, sql, -1, &amp;selectstmt, NULL) == SQLITE_OK) {\n\n         while(sqlite3_step(selectstmt) == SQLITE_ROW) {\n\n             lastname = [NSString stringWithUTF8String:(char *)sqlite3_column_text(selectstmt, 0)];\n                    email=[NSString stringWithUTF8String:(char *)sqlite3_column_text(selectstmt, 1)];\n                    firstname=[NSString stringWithUTF8String:(char *)sqlite3_column_text(selectstmt, 2)];\n                    NSLog(@\"----%@\",lastname);\n                    NSLog(@\"----%@\",email);\n                    NSLog(@\"----%@\",firstname);\n\n                }\n        sqlite3_finalize(selectstmt);\n            }     \n        sqlite3_close(database);\n        }\n</code></pre>\n\n<p>I am using this code to retrieve the values in db, but I did know how to insert data in db. I am trying this below code but it does not work</p>\n\n<pre><code>const char *sql = \"insert into reg_FORM (firstname,lastname,email,company,phone) VALUES (aaa,aaa,aaa,aaaa,1223)\";\n            sqlite3_exec(database, [[NSString stringWithFormat:@\"insert into reg_FORM (firstname,lastname,email,company,phone) VALUES (aaa,aaa,aaa,aaaa,1223)\"] UTF8String], NULL, NULL, NULL);    \n</code></pre>\n\n<p>//give code for insert values in db</p>\n"},{"tags":["sqlite","table","import","phpmyadmin","export"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12780866,"title":"Export contents of SQLite table and import it in php myAdmin table","body":"<p>I am having 1 database table in sqlite which is having data.\nNow I have tried to export that table and import in phpmyadmin database in <code>.csv</code> format.\nBut there are some problems with some <code>NOT NULL</code>.</p>\n\n<p>Sqlite side create query :</p>\n\n<pre><code> CREATE TABLE StateDeathTax_V2 (Sequence Integer DEFAULT TEXT,Question,Alabama,Alaska,Arizona,Arkansas,California,Colorado,Connecticut,Delaware,\"District of Columbia\" TEXT DEFAULT NULL,Florida,Georgia,Hawaii,Idaho,Illinois,Indiana,Iowa,Kansas,Kentucky,Louisiana,Maine,Maryland,Massachusetts,Michigan,Minnesota,Mississippi,Missouri,Montana,Nebraska,Nevada,\"New Hampshire\" TEXT DEFAULT NULL,\"New Jersey\" TEXT DEFAULT NULL,\"New Mexico\" TEXT,\"New York\" TEXT DEFAULT NULL,\"North Carolina\" TEXT DEFAULT NULL,\"North Dakota\" TEXT DEFAULT NULL,Ohio,Oklahoma,Oregon,Pennsylvania,\"Rhode Island\" TEXT DEFAULT NULL,\"South Carolina\" TEXT,\"South Dakota\" TEXT DEFAULT NULL,Tennessee,Texas,Utah,Vermont,Virginia,Washington,\"West Virginia\" TEXT DEFAULT NULL,Wisconsin,Wyoming)\n</code></pre>\n\n<p>Error :</p>\n\n<pre><code>SQL query:\n\nCREATE TABLE IF NOT EXISTS `roster`.`TABLE 4` (`Sequence` int(1), `Question` varchar(56), `Alabama` varchar(66), `Alaska` varchar(68), `Arizona` varchar(196), `Arkansas` varchar(114), `California` varchar(78), `Colorado` varchar(83), `Connecticut` varchar(463), `Delaware` varchar(295), `District of Columbia` varchar(392), `Florida` varchar(92), `Georgia` varchar(66), `Hawaii` varchar(274), `Idaho` varchar(107), `Illinois` varchar(626), `Indiana` varchar(253), `Iowa` varchar(337), `Kansas` varchar(153), `Kentucky` varchar(216), `Louisiana` varchar(96), `Maine` varchar(1029), `Maryland` varchar(358), `Massachusetts` varchar(867), `Michigan` varchar(76), `Minnesota` varchar(470), `Mississippi` varchar(64), `Missouri` varchar(77), `Montana` varchar(79), `Nebraska` varchar(151), `Nevada` varchar(79), `New Hampshire` varchar(69), `New Jersey` varchar(775), `New Mexico` varchar(17), `New York` varchar(747), `North Carolina` varchar(73), `North Dakota` varchar(1366), `Ohio` varchar(509), `Okla[...]\n\nMySQL said: Documentation\n#1060 - Duplicate column name 'NULL' \n</code></pre>\n"},{"tags":["android","regex","sqlite"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":64,"score":1,"question_id":12778280,"title":"Regex how pull out data from json","body":"<p>I have a json array that I use in my application, and I need it elsewhere in that form so I have to keep it that way. I save it in a table inside my db ,and deserialize it when needed. But now I would like to do a query that filters some of that data.</p>\n\n<p>Sample json</p>\n\n<pre><code>[{\"name\":\"SampleName\",\"surname\":\"SampleSurname\"}]\n</code></pre>\n\n<p>i would like to be able to do a regex that gives me only strings within \"\".\nlike i want the name and it gives me \"SampleName\" without the quotes\nHow can i achieve that?</p>\n\n<p>EDIT!</p>\n\n<p>I already parse the JSON when i need to use it.I just implemented a filter on my list of data and wanted to filter the query directly from SQL without having to deserialize it.</p>\n\n<p>So what i wanted to do was a query that does something similar to:\n<code>select * from contacts where name like regexp'regexhere'</code> and get back only name that matches my search.I KNOW i can parse the json and have better results,i wanted to know a \"faster\" alternative</p>\n"},{"tags":["android","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":51,"score":-1,"question_id":12778551,"title":"How to check SqLite database file and get my defined database user-version?","body":"<p>I am developing an app that using sq-lite database. in my app when user tap on backup my sq-lite db file save on another place. i now write a new version of my app and in new version my sq-lite db has some more fields. how can i check sq-lite database file and get user-version of that file to open it with true fields avoiding force-close?\nin new version off my app the db version is 2:</p>\n\n<pre><code>private final static String DB_NAME=\"cDb\";\nprivate final static String DB_TABLE=\"_table\";\nprivate final static int DB_VERSION=2;\n</code></pre>\n\n<p>But in old version my db version is 1.\nHow can i check if my db file is for version 1 or 2?</p>\n"},{"tags":["android","sqlite","is-empty"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12778288,"title":"select records where field is empty","body":"<p>I need to select some columns from a table, where a certain column (pos_report_id in my case) is empty, not null. I tried this code in SQLiteDatabaseBrowser (for user_id='23') and it works fine:</p>\n\n<pre><code>\"SELECT information_action.target_type, information_action.message_type,\"\n                + \"information_action.start_date, information_action.end_date, information_action.content, information_action.status \"\n                + \"FROM information_action INNER JOIN information_to_user ON \"\n                + \"information_to_user.information_action_id = information_action.id_information_action \"\n                + \"WHERE information_action.pos_report_id ='' AND information_to_user.user_id ='\"\n                + user_id + \"'\";\n</code></pre>\n\n<p>but in code, when I run the app I get this error :</p>\n\n<pre><code>ERROR   AndroidRuntime  Caused by: android.database.sqlite.SQLiteException: near \"\": syntax error: , while compiling: SELECT information_action.target_type, information_action.message_type,information_action.start_date, information_action.end_date, information_action.content, information_action.status FROM information_action INNER JOIN information_to_user ON information_to_user.information_action_id = information_action.id_information_action WHERE information_action.pos_report_id ='' AND information_to_user.user_id ='23'\n</code></pre>\n\n<p>Any idea how to solve this ? why it's not ok with ''?</p>\n"},{"tags":["query","sqlite","syntax","syntax-error","create-table"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":4,"view_count":57,"score":-3,"question_id":12344887,"title":"syntax error in sql query?","body":"<p>I want to create some tables in database so for that i wright some queries to create table.\nbut i got an error \"there was a syntax error in your sql statement\". I check all my queries but i am not able to find what syntax i wright wrong. here i attached my sql queries please told me what is wrong with queries.\nThanks in advance.</p>\n\n<pre><code>CREATE TABLE \"WATER&amp;SEWAGE\" (\n \"CUSTOMER_ID\" VARCHAR,\n \"POTABLE_WATER\" VARCHAR,\n \"HOT_WATER\" VARCHAR,\n \"SAFETY\" VARCHAR,\n \"T/P_VALVE+EXT\" VARCHAR,\n \"HEATER_TYPE\" VARCHAR,\n \"GAS_VENT_CONDITION\" VARCHAR,\n \"FIRE_BOX_CONDITION\" VARCHAR,\n \"PRESSURE\" VARCHAR,\n \"BACK_FLOW\" VARCHAR,\n  \"PLUMBING_CONDITION\" VARCHAR,\n  \"CABINET_CONDITION\" VARCHAR,\n  \"3_COMP_SINK\" VARCHAR,\n  \"WATER_HEATER\" VARCHAR,\n  \"CLEAN_OUT_CONDITION\" VARCHAR,\n  \"FLOOR_DRAIN\" VARCHAR,\n  \"FLOOR_SINK\" VARCHAR,\n  \"MAINTANANCE\" VARCHAR,\n  \"COMMENTS\" VARCHAR,\n  \"EVIDENCE_PHOTOS\" VARCHAR)\n\nCREATE TABLE \"TIME_AND_TETMPERATURE_REL\" (\"CUSTOMER_ID\" INTEGER, \"THERMOMTE_AVAILABLE\" VARCHAR, \"THERMO_TYPE\" VARCHAR, \"COLD_TEMP\" VARCHAR, \"FOOD_TYPE1\" VARCHAR, \"PROPER_COOLING\" VARCHAR, \"FOOD_TYPE2\" VARCHAR, \"COMPLIANCE\" VARCHAR, \"FOOD_TYPE3\" VARCHAR, \"TPHC\" VARCHAR, \"HACCP\" VARCHAR, \"HOT_HOLDING_TEMP\" VARCHAR, \"FOOD_TYPE4\" VARCHAR, \"HOT_TEMP\" VARCHAR, \"FOOD_TYPE5\" VARCHAR, \"IMPROPER_REHEATING\" VARCHAR, \"FOOD_TYPE6\" VARCHAR, \"FOOD_OUT_OF_TEMP\" VARCHAR, \"WRITTEN_PLAN_FILES\" VARCHAR, \"EMPLOYEE_KNOWLEDGE\" VARCHAR, \"TIME_KEEPING_METHODS\" VARCHAR, \"HACCP_METHODS\" VARCHAR, \"CALIBRATION\" VARCHAR, \"COOKING_TEMP\" VARCHAR, \"EQUIP_CONDITION\" VARCHAR, \"COMMENTS\" VARCHAR, \"EVIDENCE_PHOTOS\" VARCHAR)\n\nCREATE TABLE \"PROTECTION_FROM_CONTAMINATION\" (\"FOOD_ADULTERATION\" VARCHAR, \"FOOD_SPOILAGE\" VARCHAR, \"CONTAMINATION\" VARCHAR, \"FOOD_STORAGE\" VARCHAR, \"REFRIGRATORS\" VARCHAR, \"FREEZER\" VARCHAR, \"FIFO\" VARCHAR, \"DRY\" VARCHAR, \"DISHWASHING_CHEMICALS\" VARCHAR, \"CLEANING\" VARCHAR, \"SANITIZER\" VARCHAR, \"SUPPLY_EQUIPMENT\" VARCHAR, \"PESTICIDES\" VARCHAR, \"COMMENTS\" VARCHAR, \"EVIDENCE_PHOTOS\" VARCHAR, \"CUSTOMER_ID\" INTEGER)\n\n\nCREATE TABLE \"PHYSICAL_FACILITIES_2\" (\"CUSTOMER_ID\" VARCHAR, \"CEILING\" VARCHAR, \"WINDOWS\" VARCHAR, \"SPOILS_STORAGE\" VARCHAR, \"DOORS\" VARCHAR, \"PERSONAL_LOCKERS\" VARCHAR, \"FLOORS\" VARCHAR, \"CONDITION\" VARCHAR, \"HANDICAP\" VARCHAR, \"SELF_CLOSING_ROOM\" VARCHAR, \"TOILETS\" VARCHAR, \"TOILET_PAPER\" VARCHAR, \"TOILET_CONDITION\" VARCHAR, \"VENTILATION_CONDITION\" VARCHAR, \"MENS\" VARCHAR, \"MEN'S_VENTILATION\" VARCHAR, \"MEN'S_FLOOR_DRAWN\" VARCHAR, \"MEN'S_TOILET_STALLS\" VARCHAR, \"MEN'S_HAND_SINK\" VARCHAR, \"MEN'S_TOWELS\" VARCHAR, \"WOMEN'S\" VARCHAR, \"WOMEN'S_VENTILATION\" VARCHAR, \"WOMEN'S_FLOOR_DRAWN\" VARCHAR, \"WOMEN'S_TOILET_STALLS\" VARCHAR, \"WOMEN'S_HAND_SINK\" VARCHAR, \"WOMEN'S_TOWELS\" VARCHAR, \"COMMENTS\" VARCHAR, \"EVIDENCE_PHOTOS\" VARCHAR)\n\nCREATE TABLE \"PHYSICAL_FACILITIES_1\" (\"CUSTOMER_ID\" VARCHAR, \"LIGHTNING\" VARCHAR, \"KITCHEN\" VARCHAR, \"STORAGE\" VARCHAR, \"REFRIGRATION\" VARCHAR, \"JANITORIAL\" VARCHAR, \"INTERIOR\" VARCHAR, \"FIXTURE\" VARCHAR, \"FOOTCANDLES_1\" VARCHAR, \"FOOTCANDLES_2\" VARCHAR, \"FOOTCANDLES_3\" VARCHAR, \"FOOTCANDLES_4\" VARCHAR, \"FOOTCANDLES_5\" VARCHAR, \"EXTERIOR\" VARCHAR, \"WINDOWS\" VARCHAR, \"GLASS\" VARCHAR, \"SCREEN\" VARCHAR, \"COMMENTS\" VARCHAR, \"EVIDENCE_PHOTOS\" VARCHAR)\n\nCREATE TABLE \"PEST_CONTROL\" (\"CUSTOMER_ID\" VARCHAR, \"WALL/CEILING_PIPES\" VARCHAR, \"SANITATION\" VARCHAR, \"DOORS\" VARCHAR, \"SELF_CLOSING\" VARCHAR, \"RODENT_PROOF\" VARCHAR, \"VERMIN_PROOFING\" VARCHAR, \"FOUNDATION\" VARCHAR, \"ATTIC_VENTS\" VARCHAR, \"WINDOWS\" VARCHAR, \"TYPE_SCREENS\" VARCHAR, \"COMMENTS\" VARCHAR, \"EVIDENCE_PHOTOS\" VARCHAR)\n\nCREATE TABLE \"GENERAL_FOOD_SAFETY_REQ\" (\"CUSTOMER_ID\" VARCHAR, \"APPROVED_METHODS\" VARCHAR, \"DEFROST\" VARCHAR, \"FROZEN_FOOD\" VARCHAR, \"FOOD_WASHING\" VARCHAR, \"PRODUCE_1\" VARCHAR, \"FRUITS\" VARCHAR, \"GRAINS\" VARCHAR, \"VEGETABLES\" VARCHAR, \"SEPERATE_FROM_CONT\" VARCHAR, \"RAW\" VARCHAR, \"PRODUCE_2\" VARCHAR, \"STORED_BULK\" VARCHAR, \"STORAGE\" VARCHAR, \"FIFO\" VARCHAR, \"REFRIGRATAION\" VARCHAR, \"STORAGE_TEMP\" VARCHAR, \"HUMIDITY\" VARCHAR, \"COMMENTS\" VARCHAR, \"EVIDENCE_PHOTOS\" VARCHAR)\n\nCREATE TABLE \"FOOD_SAFETY_CERTIFICATION\" (\"CUSTOMER_ID\" INTEGER,\"OWNER\" VARCHAR,\"MANAGER\" VARCHAR,\"EMPLOYEE\" VARCHAR,\"NAME1\" VARCHAR,\"NAT'L_REGISTRY1\" VARCHAR,\"PROMETRIC1\" VARCHAR,\"SERVESAFE1\" VARCHAR,\"EXPIRATION1\" VARCHAR,\"NAME2\" VARCHAR,\"NAT'L_REGISTRY2\" VARCHAR,\"PROMETRIC2\" VARCHAR,\"SERVESAFE2\" VARCHAR,\"EXPIRATION2\" VARCHAR,\"COMMENTS\" VARCHAR,\"FOOD_TEMP\" VARCHAR,\"DISHWASHER\" VARCHAR,\"DANGER_ZONE\" VARCHAR,\"COOLING_FOODS\" VARCHAR,\"THAWING\" VARCHAR,\"REHEATING\" VARCHAR,\"THERMOMETERS\" VARCHAR,\"FIFO\" VARCHAR,\"HANDWASH\" VARCHAR,\"COOKING_TEMP\" VARCHAR,\"FOOD_POISONING_TYPES\" VARCHAR,\"EVEDENCE_PHOTOS\" VARCHAR)\n\nCREATE TABLE \"FOOD_FROM_APPROVED_SOURCES\" (\"CUSTOMER_ID\" VARCHAR, \"RECEIPTS\" VARCHAR, \"DELIVERY_DOOR\" VARCHAR, \"AIR_CURTAIN\" VARCHAR, \"VELOCITY\" VARCHAR, \"OFF_LOAD\" VARCHAR, \"INSPECTS\" VARCHAR, \"RODENTS\" VARCHAR, \"WARNING\" VARCHAR, \"SHELL_FISH\" VARCHAR, \"GULF_OYSTER\" VARCHAR, \"FOOD_OUT_OF_TEMP\" VARCHAR, \"COMMENTS\" VARCHAR, \"EVIDENCE_PHOTO\" VARCHAR)\n\nCREATE TABLE \"FOOD_FACILITY_SITE_FACTS\" (\"CUSTOMER_ID\" INTEGER PRIMARY KEY  AUTOINCREMENT  NOT NULL  UNIQUE,\"DBA\" VARCHAR,\"DISTRICT\" VARCHAR,\"CITY\" VARCHAR,\"ZIPCODE\" VARCHAR,\"ADDRESS\" VARCHAR,\"SEAT_NO\" VARCHAR,\"PHONE_NO\" VARCHAR,\"OWNER\" VARCHAR,\"PERSON_IN_CHARGE\" VARCHAR,\"WEBSITE\" VARCHAR,\"EMAIL\" VARCHAR,\"FACILITY_TYPE\" VARCHAR,\"SQ_FOOTAGE\" VARCHAR,\"NO_OF_SEATS\" VARCHAR,\"ALCOHOL_SALES\" VARCHAR,\"LTD_PREP\" VARCHAR,\"BUSINESS_LICENCE_NO\" VARCHAR,\"EXPIRATION\" VARCHAR,\"COMMENTS\" VARCHAR,\"EVIDENCE_PHOTOS\" VARCHAR)\n\nCREATE TABLE \"FOOD_DISPLAY_SELF_SERVICE\" (\"CUSTOMER_ID\" VARCHAR, \"SELF_SERVICE\" VARCHAR, \"LIDS\" VARCHAR, \"UTENSILS\" VARCHAR, \"HOW_OFTEN_CHANGED\" VARCHAR, \"SCOOP\" VARCHAR, \"SNEEZ_GUARD\" VARCHAR, \"DISHES\" VARCHAR, \"CROSS\" VARCHAR, \"SENITATION\" VARCHAR, \"MAINTANANCE\" VARCHAR, \"MECHANICAL_CONDITION\" VARCHAR, \"SERVICE_OF_UTENSIL\" VARCHAR, \"TIME\" VARCHAR, \"PRPER_FOOD_LABELING\" VARCHAR, \"COMMENTS\" VARCHAR, \"EVIDENCE_PHOTOS\" VARCHAR)\n\nCREATE TABLE \"EQUIPMENT/UTENSILS/LINES\" (\"CUSTOMER_ID\" VARCHAR, \"STORED_DISHES\" VARCHAR, \"CUPS\" VARCHAR, \"DAMAGED_DISHES\" VARCHAR, \"UTENSILS\" VARCHAR, \"LINES\" VARCHAR, \"COOLING_EQUIPMENT\" VARCHAR, \"COOK_WARE_STORAGE\" VARCHAR, \"CONDITION\" VARCHAR, \"STORAGE_LOCATION\" VARCHAR, \"NAPKINS\" VARCHAR, \"SANITATION\" VARCHAR, \"ADEQUATE_CAPACITY\" VARCHAR, \"HAZARDS\" VARCHAR, \"COMMENTS\" VARCHAR, \"EVIDENCE_PHOTOS\" VARCHAR)\n\nCREATE TABLE \"EMPLOYEE_HEALTH_AND_HYGENE\" (\"CSTOMER_ID\" INTEGER, \"COMUNICABLE_DIESEASE\" VARCHAR, \"WIPING_BAGS\" VARCHAR, \"DISCHARGE\" VARCHAR, \"LOCKERS\" VARCHAR, \"PROPER_HAND_WASH\" VARCHAR, \"RESTROOM_CONDITION\" VARCHAR, \"HANDWASH_STATION\" VARCHAR, \"HAIR_RESTRAINT\" VARCHAR, \"GLOVES_USED\" VARCHAR, \"WOUND_CARE\" VARCHAR, \"FOOD_SAMPLE_TESTING\" VARCHAR, \"GARMENT_CONDITION\" VARCHAR, \"HEALTH\" VARCHAR, \"COMMENTS\" VARCHAR, \"EVIDENCE_PHOTOS\" VARCHAR)\n\nCREATE TABLE \"DISH&amp;WARE_WASHING\" (\"CUSTOMER_ID\" INTEGER, \"TYPE_OF_COMPARTMENT_SINK\" VARCHAR, \"PLUMBING_ISSUE1\" VARCHAR, \"QUATERNARY_AMMONIA\" VARCHAR, \"IODINE\" VARCHAR, \"HOT_WTR_SANIT_TEMP\" VARCHAR, \"PLUMBING_ISSUE2\" VARCHAR, \"HOT_WATER\" VARCHAR, \"TEMP\" VARCHAR, \"DISHWASHER_TYPE\" VARCHAR, \"WAQLL_CONDITION\" VARCHAR, \"SANITIZER_LEVELS\" VARCHAR, \"CHLORINE\" VARCHAR, \"SINK_OR_DISHWASHER\" VARCHAR, \"EVIDENCE_PHOTOS\" VARCHAR)\n\nCREATE TABLE \"CORRECTIVE_ACTIONS\" (\"CUSTOMER_ID\" VARCHAR, \"CORRECTIVE_ACTIONS\" VARCHAR)\n\nCREATE TABLE \"CONSUMER_ADVISORY\" (\"CUSTOMER_ID\" VARCHAR, \"TRUTH_IN_MENU\" VARCHAR, \"MAJOR_CHAIN\" VARCHAR, \"TRANS_FAT\" VARCHAR, \"SCHOOL\" VARCHAR, \"PROHIBITED\" VARCHAR, \"CALORIES\" VARCHAR, \"COMMENTS\" VARCHAR, \"EVEDINCE_PHOTOS\" VARCHAR)\n\nCREATE TABLE \"COMPLAINS&amp;ENFORCEMENTS\" (\"CUSTOMER_ID\" VARCHAR, \"PLAN_SUBMITTED\" VARCHAR, \"APPROVEL\" VARCHAR, \"CERTIFICATE_OF_OCCU\" VARCHAR, \"PRIOR_INSPEK_REPORT\" VARCHAR, \"LAST_INSPECTION_DATE\" VARCHAR, \"PERMIT_STATUS\" VARCHAR, \"POSTED\" VARCHAR, \"EXPIRATION\" VARCHAR, \"PERMIT_DISPLAYED\" VARCHAR, \"INSPECTION_REPORT_POSTING\" VARCHAR, \"COMMENTS\" VARCHAR, \"EVIDENCE_PHOTOS\" VARCHAR)\n</code></pre>\n"},{"tags":["android","database","sqlite","collation"],"answer_count":1,"favorite_count":0,"up_vote_count":7,"down_vote_count":0,"view_count":123,"score":7,"question_id":12624078,"title":"Android, Diacritic Insensitive SQLite Search","body":"<p>i'm trying to query a SQLite database in android where french characters with accents should be handled like normal latin characters, for example:</p>\n\n<pre><code>SELECT * FROM x WHERE y LIKE %cafe%\n</code></pre>\n\n<p>should return</p>\n\n<pre><code>café, câfè, ...\n</code></pre>\n\n<p>I have googled for a whole day now and read all concerning posts on stackoverflow.\nThe possibility to add a column to the table that includes normalized titles is no option, because the database is fetched from a server and maintained by a third party.</p>\n\n<p>Using collations mentioned in other posts like</p>\n\n<pre><code>Latin1_general_CI_AI\n</code></pre>\n\n<p>is also no option, because SQLite only supports 3 (in android 5) collations that don't help me.</p>\n\n<p>Setting the database in android to </p>\n\n<pre><code>Locale.FRENCH\n</code></pre>\n\n<p>and using collation</p>\n\n<pre><code>COLLATE LOCALIZED\n</code></pre>\n\n<p>also doesn't do the trick.</p>\n\n<p>I know there is some flag in iOS (DiacriticInsensitiveSearch) that does it automatically and so my hope is that something like this is available for android too.</p>\n\n<p>Any ideas? Thanks in advance!</p>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":12776647,"title":"SQLite database update from tablelayout data","body":"<p>i need to update a row in SQLite database table where data is in a table layout which has dynamically filled rows with edit text view, how do i read the updated text from those edit text views in table row or how do i know in which row and which edit text value is changed, to get the data for updating database table row??</p>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12776339,"title":"Exception in getReadbleDataBase() of SqliteOpenHelper class","body":"<p>When I am using <code>android 4.0.3</code> I am getting an exception in <code>getReadbleDataBase()</code> method.`</p>\n\n<pre><code>   10-08 11:34:24.163: E/SQLiteOpenHelper(18710): Couldn't open quytech.db for writing (will try read-only):\n10-08 11:34:24.163: E/SQLiteOpenHelper(18710): android.database.sqlite.SQLiteException: Can't downgrade database from version 6 to 1\n10-08 11:34:24.163: E/SQLiteOpenHelper(18710):  at android.database.sqlite.SQLiteOpenHelper.onDowngrade(SQLiteOpenHelper.java:325)\n10-08 11:34:24.163: E/SQLiteOpenHelper(18710):  at android.database.sqlite.SQLiteOpenHelper.getWritableDatabase(SQLiteOpenHelper.java:186)\n10-08 11:34:24.163: E/SQLiteOpenHelper(18710):  at android.database.sqlite.SQLiteOpenHelper.getReadableDatabase(SQLiteOpenHelper.java:249)\n10-08 11:34:24.163: E/SQLiteOpenHelper(18710):  at com.quytech.androidclient.data.MessageCountProvider.query(MessageCountProvider.java:156)\n10-08 11:34:24.163: E/SQLiteOpenHelper(18710):  at android.content.ContentProvider$Transport.query(ContentProvider.java:189)\n10-08 11:34:24.163: E/SQLiteOpenHelper(18710):  at android.content.ContentResolver.query(ContentResolver.java:315)\n10-08 11:34:24.163: E/SQLiteOpenHelper(18710):  at com.quytech.androidclient.service.SmackableImp$6.processPacket(SmackableImp.java:1781)\n10-08 11:34:24.163: E/SQLiteOpenHelper(18710):  at org.jivesoftware.smack.Connection$ListenerWrapper.notifyListener(Connection.java:829)\n10-08 11:34:24.163: E/SQLiteOpenHelper(18710):  at org.jivesoftware.smack.PacketReader$ListenerNotification.run(PacketReader.java:463)\n10-08 11:34:24.163: E/SQLiteOpenHelper(18710):  at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:442)\n10-08 11:34:24.163: E/SQLiteOpenHelper(18710):  at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:305)\n10-08 11:34:24.163: E/SQLiteOpenHelper(18710):  at java.util.concurrent.FutureTask.run(FutureTask.java:137)\n10-08 11:34:24.163: E/SQLiteOpenHelper(18710):  at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1076)\n10-08 11:34:24.163: E/SQLiteOpenHelper(18710):  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:569)\n10-08 11:34:24.163: E/SQLiteOpenHelper(18710):  at java.lang.Thread.run(Thread.java:864)\n</code></pre>\n\n<p>but this is working fine in <code>android 2.0.3</code> .</p>\n\n<p>first i am try to fetching query from dataBase.</p>\n\n<pre><code>Cursor cursor = mContentResolver.query(MessageCountProvider.CONTENT_URI,\n                        null,  MessageCountConstant.JID + \" = ? AND \"\n                        + MessageCountConstant.To_USER + \" = ? AND \" \n                        + MessageCountConstant.DATE + \" = ? \", new String [] {mConfig.userName,toJID,date},null);\n\n\n                if(cursor.getCount() &gt; 0)\n                {\n                    cursor.moveToFirst();\n                    int recieveMessageCountColmnIndex = cursor.getColumnIndexOrThrow(MessageCountConstant.RECIEVE_MESSAGE_COUNT);\n                    int sendMessageCountColmnIndex = cursor.getColumnIndexOrThrow(MessageCountConstant.SEND_MESSAGE_COUNT);\n                    int dateColumnIndex = cursor.getColumnIndexOrThrow(MessageCountConstant.DATE);\n                    String dateDB = cursor.getString(dateColumnIndex);\n                    int sendMessageCount = cursor.getInt(sendMessageCountColmnIndex);\n                    int reciveMessageCount = cursor.getInt(recieveMessageCountColmnIndex);\n\n                    updateMessageCountInDB(mConfig.userName, toJID, sendMessageCount+1, reciveMessageCount, date);\n                }\n                else\n                {\n                    addMessageCountInDB(mConfig.userName, toJID, 1, 0, date);\n\n                }\n</code></pre>\n\n<p>after it it calls which i extends with ContentProvider.</p>\n\n<p>and calls query() method.</p>\n\n<pre><code>@Override\npublic Cursor query(Uri url, String[] projectionIn, String selection,\n        String[] selectionArgs, String sortOrder) {\n    // TODO Auto-generated method stub\n    SQLiteQueryBuilder qBuilder = new SQLiteQueryBuilder();\n    int match = URI_MATCHER.match(url);\n\n    switch (match) {\n    case MESSAGES:\n        qBuilder.setTables(TABLE_NAME);\n        break;\n    case MESSAGE_ID:\n        qBuilder.setTables(TABLE_NAME);\n        qBuilder.appendWhere(\"_id=\");\n        qBuilder.appendWhere(url.getPathSegments().get(1));\n        break;\n    default:\n        throw new IllegalArgumentException(\"Unknown URL \" + url);\n    }\n\n    String orderBy;\n    if (TextUtils.isEmpty(sortOrder)) {\n        orderBy = ChatConstants.DEFAULT_SORT_ORDER;\n    } else {\n        orderBy = sortOrder;\n    }\n\n    SQLiteDatabase db = mOpenHelper.getReadableDatabase();\n    Cursor ret = qBuilder.query(db, projectionIn, selection, selectionArgs,\n            null, null, orderBy);\n\n    if (ret == null) {\n        infoLog(\"MessageCountProvider.query: failed\");\n    } else {\n        ret.setNotificationUri(getContext().getContentResolver(), url);\n    }\n\n    return ret;\n}\n\n\n\n\n\n\n\nprivate static class MessageCountDataBaseHelper extends SQLiteOpenHelper {\n\nprivate static final String DATABASE_NAME = \"quytech.db\";\nprivate static final int DATABASE_VERSION = 1;\n\npublic MessageCountDataBaseHelper(Context context) {\n    super(context, DATABASE_NAME, null, DATABASE_VERSION);\n}\n\n@Override\npublic void onCreate(SQLiteDatabase db) \n{\n    if (LogConstants.LOG_DEBUG) {\n        infoLog(\"creating new chat table\");\n    }\n\n    db.execSQL(\"CREATE TABLE \" + TABLE_NAME + \" (\" \n\n            + MessageCountConstant._ID+ \" INTEGER PRIMARY KEY AUTOINCREMENT,\"\n            + MessageCountConstant.JID + \" TEXT,\" \n            + MessageCountConstant.To_USER + \" TEXT,\"\n            + MessageCountConstant.SEND_MESSAGE_COUNT + \" INTEGER,\"\n            + MessageCountConstant.RECIEVE_MESSAGE_COUNT + \" INTEGER,\"\n            + MessageCountConstant.DATE + \" DATE\"\n\n            +\");\"\n\n            );\n}\n\n@Override\npublic void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n    infoLog(\"onUpgrade: from \" + oldVersion + \" to \" + newVersion);\n\n    infoLog(\"onUpgrade: from \" + oldVersion + \" to \" + newVersion);\n    switch (oldVersion) {\n    default:\n        db.execSQL(\"DROP TABLE IF EXISTS \" + TABLE_NAME);\n        onCreate(db);\n    }\n}\n}\n</code></pre>\n\n<p>Please help me..</p>\n"},{"tags":["android","sqlite","android-contentprovider"],"answer_count":3,"favorite_count":10,"up_vote_count":12,"down_vote_count":0,"view_count":20529,"score":12,"question_id":4464892,"title":"Android error - close() was never explicitly called on database","body":"<p>Where should I call close() on the code?</p>\n\n<p>The LogCat returns this error:</p>\n\n<blockquote>\n  <p>close() was never explicitly called on database\n  android.database.sqlite.DatabaseObjectNotClosedException: Application did not close the cursor or database object that was opened here</p>\n</blockquote>\n\n<p>The error is this:</p>\n\n<pre><code>&gt; 12-16 17:24:50.886: ERROR/Database(10982): close() was never explicitly called on database '/data/data/com.psyhclo/databases/calls.db' \n12-16 17:24:50.886: ERROR/Database(10982): android.database.sqlite.DatabaseObjectNotClosedException: Application did not close the cursor or database object that was opened here\n12-16 17:24:50.886: ERROR/Database(10982):     at android.database.sqlite.SQLiteDatabase.&lt;init&gt;(SQLiteDatabase.java:1827)\n12-16 17:24:50.886: ERROR/Database(10982):     at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:820)\n12-16 17:24:50.886: ERROR/Database(10982):     at android.database.sqlite.SQLiteDatabase.openOrCreateDatabase(SQLiteDatabase.java:854)\n12-16 17:24:50.886: ERROR/Database(10982):     at android.database.sqlite.SQLiteDatabase.openOrCreateDatabase(SQLiteDatabase.java:847)\n12-16 17:24:50.886: ERROR/Database(10982):     at android.app.ContextImpl.openOrCreateDatabase(ContextImpl.java:541)\n12-16 17:24:50.886: ERROR/Database(10982):     at android.content.ContextWrapper.openOrCreateDatabase(ContextWrapper.java:203)\n12-16 17:24:50.886: ERROR/Database(10982):     at android.database.sqlite.SQLiteOpenHelper.getWritableDatabase(SQLiteOpenHelper.java:118)\n12-16 17:24:50.886: ERROR/Database(10982):     at com.psyhclo.CallDataHelper.&lt;init&gt;(CallDataHelper.java:27)\n12-16 17:24:50.886: ERROR/Database(10982):     at com.psyhclo.RatedCalls.fillList(RatedCalls.java:66)\n12-16 17:24:50.886: ERROR/Database(10982):     at com.psyhclo.RatedCalls.access$0(RatedCalls.java:63)\n12-16 17:24:50.886: ERROR/Database(10982):     at com.psyhclo.RatedCalls$RatedCallsContentObserver.onChange(RatedCalls.java:58)\n12-16 17:24:50.886: ERROR/Database(10982):     at android.database.ContentObserver$NotificationRunnable.run(ContentObserver.java:43)\n12-16 17:24:50.886: ERROR/Database(10982):     at android.os.Handler.handleCallback(Handler.java:587)\n12-16 17:24:50.886: ERROR/Database(10982):     at android.os.Handler.dispatchMessage(Handler.java:92)\n12-16 17:24:50.886: ERROR/Database(10982):     at android.os.Looper.loop(Looper.java:123)\n12-16 17:24:50.886: ERROR/Database(10982):     at android.app.ActivityThread.main(ActivityThread.java:3647)\n12-16 17:24:50.886: ERROR/Database(10982):     at java.lang.reflect.Method.invokeNative(Native Method)\n12-16 17:24:50.886: ERROR/Database(10982):     at java.lang.reflect.Method.invoke(Method.java:507)\n12-16 17:24:50.886: ERROR/Database(10982):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)\n12-16 17:24:50.886: ERROR/Database(10982):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)\n12-16 17:24:50.886: ERROR/Database(10982):     at dalvik.system.NativeStart.main(Native Method)\n</code></pre>\n\n<p>here is my code.</p>\n\n<p><strong>The Activity:</strong></p>\n\n<pre><code>public class RatedCalls extends ListActivity {\n\nprivate static final String LOG_TAG = \"RATEDCALLSOBSERVER\";\nprivate Handler handler = new Handler();\nprivate SQLiteDatabase db;\nprivate CallDataHelper cdh; \nStringBuilder sb = new StringBuilder();\nOpenHelper openHelper = new OpenHelper(RatedCalls.this);\n\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    registerContentObservers();\n    Log.d(\"FILLLIST\", \"calling from onCreate()\");\n\n}\n\nclass RatedCallsContentObserver extends ContentObserver {\n    public RatedCallsContentObserver(Handler h) {\n        super(h);\n    }\n\n    @Override\n    public boolean deliverSelfNotifications() {\n        return true;\n\n    }\n\n    @Override\n    public void onChange(boolean selfChange) {\n        Log.d(LOG_TAG, \"RatedCallsContentObserver.onChange( \" + selfChange\n                + \")\");\n        super.onChange(selfChange);\n        fillList();\n        onStop();\n    }\n}\n\nprivate void fillList() {\n\n    db = openHelper.getWritableDatabase();\n    cdh = new CallDataHelper(this);\n    String lastDate = cdh.selectDate();\n\n    Cursor cursor = getContentResolver().query(\n            android.provider.CallLog.Calls.CONTENT_URI, null,\n            android.provider.CallLog.Calls.DATE + \" &lt; ?\",\n            new String[] { lastDate },\n            android.provider.CallLog.Calls.DATE + \" DESC \");\n\n    Log.d(\"FILLLIST\", \"Calling from filllist\");\n\n    startManagingCursor(cursor);\n    int numberColumnId = cursor\n            .getColumnIndex(android.provider.CallLog.Calls.NUMBER);\n    int durationId = cursor\n            .getColumnIndex(android.provider.CallLog.Calls.DURATION);\n    int contactNameId = cursor\n            .getColumnIndex(android.provider.CallLog.Calls.CACHED_NAME);        \n    int numTypeId = cursor\n            .getColumnIndex(android.provider.CallLog.Calls.CACHED_NUMBER_TYPE);\n\n    Date dt = new Date();\n    int hours = dt.getHours();\n    int minutes = dt.getMinutes();\n    int seconds = dt.getSeconds();\n    String currTime = hours + \":\" + minutes + \":\" + seconds;\n\n    SimpleDateFormat dateFormat = new SimpleDateFormat(\"MM-dd-yyyy\");\n    Date date = new Date();\n\n    ArrayList&lt;String&gt; callList = new ArrayList&lt;String&gt;();\n    cursor.moveToFirst();\n\n    String contactNumber = cursor.getString(numberColumnId);\n    String contactName = cursor.getString(contactNameId);\n    String duration = cursor.getString(durationId);\n    // String callDate = DateFormat.getDateInstance().format(dateId);\n    String numType = cursor.getString(numTypeId);\n\n    ContentValues values = new ContentValues();\n\n    values.put(\"contact_id\", 1);\n    values.put(\"contact_name\", contactName);\n    values.put(\"number_type\", numType);\n    values.put(\"contact_number\", contactNumber);\n    values.put(\"duration\", duration);\n    values.put(\"date\", dateFormat.format(date));\n    values.put(\"current_time\", currTime);\n    values.put(\"cont\", 1);\n    getBaseContext().getContentResolver().notifyChange(\n            android.provider.CallLog.Calls.CONTENT_URI,\n            new RatedCallsContentObserver(handler));\n    db.insert(CallDataHelper.TABLE_NAME, null, values);\n    Toast.makeText(getBaseContext(), \"Inserted!\", Toast.LENGTH_LONG);\n    callList.add(\"Contact Number: \" + contactNumber + \"\\nContact Name: \"\n            + contactName + \"\\nDuration: \" + duration + \"\\nDate: \"\n            + dateFormat.format(date));\n\n    setListAdapter(new ArrayAdapter&lt;String&gt;(this, R.layout.listitem,\n            callList));\n    ListView lv = getListView();\n    lv.setTextFilterEnabled(true);\n\n    lv.setOnItemClickListener(new android.widget.AdapterView.OnItemClickListener() {\n\n        @Override\n        public void onItemClick(AdapterView&lt;?&gt; parent, View view,\n                int position, long id) {\n\n            Toast.makeText(getApplicationContext(),\n                    ((TextView) view).getText(), Toast.LENGTH_SHORT).show();\n\n        }\n    });\n}\n\npublic void registerContentObservers() {\n\n    this.getApplicationContext()\n            .getContentResolver()\n            .registerContentObserver(\n                    android.provider.CallLog.Calls.CONTENT_URI, true,\n                    new RatedCallsContentObserver(handler));\n\n}\n\npublic void unregisterContentObservers() {\n\n    this.getApplicationContext()\n            .getContentResolver()\n            .unregisterContentObserver(\n                    new RatedCallsContentObserver(handler));\n\n}\n    }\n</code></pre>\n\n<p><strong>And the DatabaseHelper</strong></p>\n\n<pre><code>public class CallDataHelper {\n\nprivate static final String DATABASE_NAME = \"calls.db\";\nprivate static final int DATABASE_VERSION = 1;\nprotected static final String TABLE_NAME = \"contact_data\";\n\nprivate Context context;\nprivate SQLiteDatabase db;\n\npublic CallDataHelper(Context context) {\n    this.context = context;\n    OpenHelper openHelper = new OpenHelper(this.context);\n    this.db = openHelper.getWritableDatabase();\n}\n\npublic boolean insert(Integer cId, String cName, String numType,\n        String cNum, String dur, String date, String currTime) {\n    this.db.execSQL(\"insert into \"\n            + TABLE_NAME\n            + \" (contact_id, contact_name, number_type, contact_number, duration, date, current_time, cont) \"\n            + \" values( \" + cId + \", \" + cName + \", \" + numType + \", \"\n            + cNum + \", \" + dur + \", \" + date + \", \" + currTime + \", 1)\");\n    return true;        \n}   \n\npublic void update(String word) {\n    this.db.execSQL(\"UPDATE words SET cont = cont + 1 WHERE (word= ?)\",\n            new String[] { word });\n}\n\npublic void deleteAll() {\n    this.db.delete(TABLE_NAME, null, null);\n}\n\npublic String selectDate() {\n\n    String date = \"\";\n    Cursor cursor = this.db.query(TABLE_NAME, new String[] { \"date\" },\n            \"id = ?\", new String[] { \"max(id)\" }, null, null, null);\n    if (cursor.moveToFirst()) {\n        do {\n            date = cursor.getString(0);\n        } while (cursor.moveToNext());\n    }\n    if (cursor != null &amp;&amp; !cursor.isClosed()) {\n        cursor.close();\n        return date;\n    } else {\n        return \"\";\n    }\n}\n\npublic List&lt;String&gt; selectAll() {\n    List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n    Cursor cursor = this.db.query(TABLE_NAME, new String[] { \"word\" },\n            null, null, null, null, \"cont desc\");\n    if (cursor.moveToFirst()) {\n        do {\n            list.add(cursor.getString(0).toUpperCase());\n        } while (cursor.moveToNext());\n    }\n    if (cursor != null &amp;&amp; !cursor.isClosed()) {\n        cursor.close();\n    }\n    return list;\n}\n\npublic static class OpenHelper extends SQLiteOpenHelper {\n\n    OpenHelper(Context context) {\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        db.execSQL(\"CREATE TABLE \"\n                + TABLE_NAME\n                + \"(id INTEGER PRIMARY KEY AUTOINCREMENT, contact_id INTEGER, contact_name VARCHAR(50), number_type VARCHAR(50), contact_number VARCHAR(50), duration TIME, date DATE, current_time TIME, cont INTEGER)\");\n\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n        Log.w(\"RatedCalls Database\",\n                \"Upgrading database, this will drop tables and recreate.\");\n        db.execSQL(\"DROP TABLE IF EXISTS \" + TABLE_NAME);\n        onCreate(db);\n    }\n}\n    }\n</code></pre>\n\n<p><strong><em>_</em>___<em>(Edited)</em>__<em>_</em>____</strong></p>\n\n<p>This is what I get now. When I make a new call, the Logcat returns this.</p>\n\n<pre><code>12-16 18:55:27.365: ERROR/AndroidRuntime(767): FATAL EXCEPTION: main\n12-16 18:55:27.365: ERROR/AndroidRuntime(767): java.lang.IllegalStateException: database not open\n12-16 18:55:27.365: ERROR/AndroidRuntime(767):     at android.database.sqlite.SQLiteDatabase.queryWithFactory(SQLiteDatabase.java:1230)\n12-16 18:55:27.365: ERROR/AndroidRuntime(767):     at android.database.sqlite.SQLiteDatabase.query(SQLiteDatabase.java:1189)\n12-16 18:55:27.365: ERROR/AndroidRuntime(767):     at android.database.sqlite.SQLiteDatabase.query(SQLiteDatabase.java:1271)\n12-16 18:55:27.365: ERROR/AndroidRuntime(767):     at com.psyhclo.CallDataHelper.selectDate(CallDataHelper.java:61)\n12-16 18:55:27.365: ERROR/AndroidRuntime(767):     at com.psyhclo.RatedCalls.fillList(RatedCalls.java:98)\n12-16 18:55:27.365: ERROR/AndroidRuntime(767):     at com.psyhclo.RatedCalls.access$0(RatedCalls.java:96)\n12-16 18:55:27.365: ERROR/AndroidRuntime(767):     at com.psyhclo.RatedCalls$RatedCallsContentObserver.onChange(RatedCalls.java:91)\n12-16 18:55:27.365: ERROR/AndroidRuntime(767):     at android.database.ContentObserver$NotificationRunnable.run(ContentObserver.java:43)\n12-16 18:55:27.365: ERROR/AndroidRuntime(767):     at android.os.Handler.handleCallback(Handler.java:587)\n12-16 18:55:27.365: ERROR/AndroidRuntime(767):     at android.os.Handler.dispatchMessage(Handler.java:92)\n12-16 18:55:27.365: ERROR/AndroidRuntime(767):     at android.os.Looper.loop(Looper.java:123)\n12-16 18:55:27.365: ERROR/AndroidRuntime(767):     at android.app.ActivityThread.main(ActivityThread.java:3647)\n12-16 18:55:27.365: ERROR/AndroidRuntime(767):     at java.lang.reflect.Method.invokeNative(Native Method)\n12-16 18:55:27.365: ERROR/AndroidRuntime(767):     at java.lang.reflect.Method.invoke(Method.java:507)\n12-16 18:55:27.365: ERROR/AndroidRuntime(767):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)\n12-16 18:55:27.365: ERROR/AndroidRuntime(767):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)\n12-16 18:55:27.365: ERROR/AndroidRuntime(767):     at dalvik.system.NativeStart.main(Native Method)\n</code></pre>\n\n<p><strong>And this is my activity:</strong></p>\n\n<pre><code>    public class RatedCalls extends ListActivity {\n\nprivate static final String LOG_TAG = \"RATEDCALLSOBSERVER\";\nprivate Handler handler = new Handler();\nprivate SQLiteDatabase db;\nprivate CallDataHelper cdh;\nStringBuilder sb = new StringBuilder();\nOpenHelper openHelper = new OpenHelper(RatedCalls.this);\n\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    registerContentObservers();\n    Log.d(\"FILLLIST\", \"calling from onCreate()\");\n    cdh = new CallDataHelper(this);\n    db = openHelper.getWritableDatabase();\n\n}\n\n@Override\nprotected void onDestroy() {\n    super.onDestroy();\n    if (openHelper != null) {\n        openHelper.close();\n    }\n    if (cdh != null) {\n        cdh.close();\n    }\n}\n\n@Override\nprotected void onPause() {\n    super.onPause();\n    if (openHelper != null) {\n        openHelper.close();\n    }\n    if (cdh != null) {\n        cdh.close();\n    }\n}\n\n@Override\npublic void onResume() {\n\n    super.onResume();\n    openOrCreateDatabase(\"calls.db\", SQLiteDatabase.CREATE_IF_NECESSARY,\n            null);\n\n}\n\nclass RatedCallsContentObserver extends ContentObserver {\n    public RatedCallsContentObserver(Handler h) {\n        super(h);\n    }\n\n    @Override\n    public boolean deliverSelfNotifications() {\n        return true;\n\n    }\n\n    @Override\n    public void onChange(boolean selfChange) {\n        Log.d(LOG_TAG, \"RatedCallsContentObserver.onChange( \" + selfChange\n                + \")\");\n        super.onChange(selfChange);\n        fillList();\n\n    }\n}\n\nprivate void fillList() {\n\n    String lastDate = cdh.selectDate();\n\n    Cursor cursor = getContentResolver().query(\n            android.provider.CallLog.Calls.CONTENT_URI, null,\n            android.provider.CallLog.Calls.DATE + \" &lt; ?\",\n            new String[] { lastDate },\n            android.provider.CallLog.Calls.DATE + \" DESC \");\n\n    Log.d(\"FILLLIST\", \"Calling from filllist\");\n\n    startManagingCursor(cursor);\n    int numberColumnId = cursor\n            .getColumnIndex(android.provider.CallLog.Calls.NUMBER);\n    int durationId = cursor\n            .getColumnIndex(android.provider.CallLog.Calls.DURATION);\n    int contactNameId = cursor\n            .getColumnIndex(android.provider.CallLog.Calls.CACHED_NAME);\n    int numTypeId = cursor\n            .getColumnIndex(android.provider.CallLog.Calls.CACHED_NUMBER_TYPE);\n\n    Date dt = new Date();\n    int hours = dt.getHours();\n    int minutes = dt.getMinutes();\n    int seconds = dt.getSeconds();\n    String currTime = hours + \":\" + minutes + \":\" + seconds;\n\n    SimpleDateFormat dateFormat = new SimpleDateFormat(\"MM-dd-yyyy\");\n    Date date = new Date();\n\n    ArrayList&lt;String&gt; callList = new ArrayList&lt;String&gt;();\n    cursor.moveToFirst();\n\n    String contactNumber = cursor.getString(numberColumnId);\n    String contactName = cursor.getString(contactNameId);\n    String duration = cursor.getString(durationId);\n    // String callDate = DateFormat.getDateInstance().format(dateId);\n    String numType = cursor.getString(numTypeId);\n    stopManagingCursor(cursor);\n    ContentValues values = new ContentValues();\n\n    values.put(\"contact_id\", 1);\n    values.put(\"contact_name\", contactName);\n    values.put(\"number_type\", numType);\n    values.put(\"contact_number\", contactNumber);\n    values.put(\"duration\", duration);\n    values.put(\"date\", dateFormat.format(date));\n    values.put(\"current_time\", currTime);\n    values.put(\"cont\", 1);\n    getBaseContext().getContentResolver().notifyChange(\n            android.provider.CallLog.Calls.CONTENT_URI,\n            new RatedCallsContentObserver(handler));\n    db.insert(CallDataHelper.TABLE_NAME, null, values);\n    Toast.makeText(getBaseContext(), \"Inserted!\", Toast.LENGTH_LONG);\n    callList.add(\"Contact Number: \" + contactNumber + \"\\nContact Name: \"\n            + contactName + \"\\nDuration: \" + duration + \"\\nDate: \"\n            + dateFormat.format(date));\n\n    setListAdapter(new ArrayAdapter&lt;String&gt;(this, R.layout.listitem,\n            callList));\n    ListView lv = getListView();\n    lv.setTextFilterEnabled(true);\n\n    lv.setOnItemClickListener(new android.widget.AdapterView.OnItemClickListener() {\n\n        @Override\n        public void onItemClick(AdapterView&lt;?&gt; parent, View view,\n                int position, long id) {\n\n            Toast.makeText(getApplicationContext(),\n                    ((TextView) view).getText(), Toast.LENGTH_SHORT).show();\n\n        }\n    });\n}\n\npublic void registerContentObservers() {\n\n    this.getApplicationContext()\n            .getContentResolver()\n            .registerContentObserver(\n                    android.provider.CallLog.Calls.CONTENT_URI, true,\n                    new RatedCallsContentObserver(handler));\n\n}\n\npublic void unregisterContentObservers() {\n\n    this.getApplicationContext()\n            .getContentResolver()\n            .unregisterContentObserver(\n                    new RatedCallsContentObserver(handler));\n\n}\n }\n</code></pre>\n"},{"tags":["perl","sqlite","unicode","utf-8"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":12776192,"title":"DBD::SQLite: sqlite_unicode Pragma","body":"<p>When I connect with DBI/DBD::SQLite to a sqlite database without setting the <code>sqlite_unicode</code> pragma, is then used the <code>sqlite_unicode</code> setting the database was created with?</p>\n"},{"tags":["javascript","sqlite","datetime"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":116,"score":2,"question_id":12768519,"title":"Calculate the difference between 2 SQLite datetimes in Javascript","body":"<p>I'm have a startDate and a endDate stored in a SQLite database and need to calculate the difference in minutes and seconds between the 2 datetimes using javascript.</p>\n\n<p>For example: </p>\n\n<pre><code>startDate = 2012-10-07 11:01:13\nendDate = 2012-10-07 12:42:13\n</code></pre>\n\n<p>I've had a good read though loads of similar questions on SO but could only find things relating to calculating this as part of a select.</p>\n"},{"tags":["sql","database","sqlite","select","android-sqlite"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":12730756,"title":"Select rows in a table which aren't in another one with a nullable foreign key","body":"<p>I have the following database to use it in an Android 3.0 tablet application.</p>\n\n<p><img src=\"http://i.stack.imgur.com/JaH3e.png\" alt=\"enter image description here\">\n<br/>I want to select every Defect which it isn't on <code>EReportDefect</code>. As you can see <code>EReportDefect.defectId</code> <strong>could be null</strong>.</p>\n\n<p>This select returns 0 rows. But there are defects which aren't on <code>EReportDefect</code> table.</p>\n\n<pre><code>SELECT \n  Defect.defectId,\n  Defect.description\nFROM \n  Defect \nWHERE \n   qapId = ? AND\n   defectId NOT IN \n     (SELECT defectId FROM EReportDefect WHERE eReportId = ?);\n</code></pre>\n\n<p>What am I doing wrong?</p>\n"},{"tags":["sql","database","query","sqlite","select"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":12774181,"title":"SQL select with one clause subordinate to other","body":"<p>I have a table of quarterback statistics. Each row in the table represents one QB's performance in one game. The unique ID for each row is called gameId and is composed of the player's ID plus the game date.</p>\n\n<p>What I want to do is use a select statement to generate a list of all unique quarterbacks in the table, who have thrown at least one completion.</p>\n\n<p>I'm trying to do that with this statement:</p>\n\n<pre><code>SELECT * FROM swdata\nWHERE gameComp &gt; 0 AND gameId IN (\n   SELECT MAX(gameId) FROM swdata GROUP BY playerId)\nORDER BY playerLastName\n</code></pre>\n\n<p>The first clause is gameComp > 0, and the second clause is to winnow the list down to unique quarterbacks.</p>\n\n<p>What I want to happen is for the first clause to be run, and then for the second clause to be run on the results of the first clause. </p>\n\n<p>But what's actually happening is that they run concurrently, and this results in some players being omitted from the results.</p>\n\n<p>So, I know I've structured it wrong. Can anyone help me get it right?</p>\n"},{"tags":["sql","sqlite","primary-key","rowid"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":60,"score":1,"question_id":12774079,"title":"Insert record and keep primary key value","body":"<p>I've got a SQLite database and a table that uses an autoincrementing int as the primary key. I've looked through the documentation and it seems that if I perform an INSERT AND REPLACE, it deletes then inserts a record when a duplicate is found. </p>\n\n<p>This is fine, but the problem is that the autoincrementing key continues from where it left off, rather than starting from zero. This means that each time I run that query, the incrementing changes for the record. Is it possible to update the record without changing the primary key? One way I found that works is to delete the table and the primary key index, but that seems overkill and would likely result in a longer time as the table gets bigger.</p>\n"},{"tags":["android","sqlite","sqlite3","ormlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":67,"score":1,"question_id":12771342,"title":"columns during table creation using ORMLite not aligned with Bean","body":"<p>I have created a bean with the following fields for android application</p>\n\n<pre><code>@DatabaseField(generatedId=true)\nprivate int id;\n@DatabaseField\nprivate String name;\n@DatabaseField(unique=true)\nprivate String emailId;\n@DatabaseField\nprivate String mobile;\n@DatabaseField(unique=true)\nprivate String loginName;\n@DatabaseField\nprivate String loginPassword;\n@DatabaseField\nprivate String confirmPassword;\n@DatabaseField\nprivate String securityQuestion;\n@DatabaseField\nprivate String securityPassword;\n@DatabaseField\nprivate String transactionPassword;\n@DatabaseField\nprivate String uac;\n</code></pre>\n\n<p>But, When I view the DB Table using the Questoid SQLite Manager in my Eclipse IDE, I do not see columns created in the same order as declared in the bean, rather I see something like this as shown below:</p>\n\n<pre><code>CREATE TABLE user (confirmPassword VARCHAR, emailId VARCHAR, uac VARCHAR,\n    loginPassword VARCHAR, mobile VARCHAR, name VARCHAR, securityPassword VARCHAR,\n    transactionPassword VARCHAR id INTEGER PRIMARY KEY AUTOINCREMENT);\n</code></pre>\n\n<p>This order is very difficult from readability and debugging perspective. \nAre there any ways to overcome this issue?</p>\n"},{"tags":["database","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":12753960,"title":"How to set custom database keys?","body":"<p>I am designing a database structure (SQLite on Android) that will consist of two tables, Containers(table 1) and Object/Container Data(table 2).</p>\n\n<p>Table 1 will contain a key for the containers data and a list of keys for the containers/objects within.\nTable 2 will contain the data for the object/container: title, description, category, pictures, etc.</p>\n\n<p>With this design I will be able to go to a container, get its data (title, image) and get a list of items it holds, in order, then search for each items data(image, possibly title). Then the user could click on an item and if it is an object go to its data, or if it is a container, repeat this process.</p>\n\n<p>How can I set the ID's for each table so that I can know which table an ID belongs to. For example, if an ID is even it points to table 1, if its odd, it points to table 2.</p>\n\n<p>I think I may have just found an answer that seems rather obvious now... I just have to test it out. Basically you can just set a custom ID by setting the ID to what you want when you create the row.</p>\n\n<pre><code>INSERT INTO test1(rowid, a, b) VALUES(123, 5, 'hello');\n</code></pre>\n\n<p>I got that from <a href=\"http://www.sqlite.org/autoinc.html\" rel=\"nofollow\">http://www.sqlite.org/autoinc.html</a> (Wish I would have seen it two days ago :)) And now I have to go, so I'll post back if this works when I get a chance.</p>\n\n<p>I guess my only concern now (if it works) is does it create empty rows between the ID's you don't use, wasting space?</p>\n\n<p>I've also considered just having two separate lists, but the order is important, so this would require another list to track the order of the objects, so I am wondering if key manipulation is possible.</p>\n"},{"tags":["android","sqlite","listview","textview","onclicklistener"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":12770206,"title":"Listview populated by sql db with onListItemClick to fill textviews in other activity","body":"<p>I am filling a listview from names of a database. That is all working fine. After clicking on an Listitem with the name i would like to set the <code>onListItemClick</code>to fill out textviews in another activity. That is where i am stuck.</p>\n\n<p>Here the code of my listview activity which is working:</p>\n\n<pre><code>public class DataListView extends ListActivity {\n\nprivate ArrayList&lt;String&gt; results = new ArrayList&lt;String&gt;();\n\nprivate SQLiteDatabase newDB;\n\n\n/** Called when the activity is first created. */\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.hotelslist);\n\n    openAndQueryDatabase();\n\n    displayResultList();\n\n\n}\nprivate void displayResultList() {\n    ListView hotelslist = (ListView) findViewById(android.R.id.list);\n    hotelslist.setAdapter(new ArrayAdapter&lt;String&gt;(this,\n            android.R.layout.simple_list_item_1, results));\n   getListView().setTextFilterEnabled(true);\n\n\n\n}\n\n @Override\n  public void onListItemClick(ListView l, View v, int position, long id) {\n\n     super.onListItemClick(l, v, position, id);\n      Toast.makeText(getBaseContext(), l.getItemAtPosition(position).toString(), Toast.LENGTH_SHORT).show();\n\n\n  }\n\nprivate void openAndQueryDatabase() {\n    try {\n\n        DataBaseHelper newDB = new DataBaseHelper(this, \"mydatabase.sqlite\");\n\n        SQLiteDatabase sdb = newDB.getReadableDatabase();\n\n\n        Cursor c = sdb.rawQuery(\"SELECT name FROM hotel ORDER BY name ASC\", null);\n\n\n\nif (c != null ) {\n    if  (c.moveToFirst()) {\n        int i = 0;\n        do {\n            i++;\n            String name = c.getString(c.getColumnIndex(\"name\"));\n\n\n            results.add(name);\n        }while (c.moveToNext());\n    } \n\n}       \n\n\n\n    } catch (SQLiteException se ) {\n        Log.e(getClass().getSimpleName(), \"Could not create or Open the database\");\n    } finally {\n        if (newDB != null) \n\n            newDB.close();\n    }\n\n}\n\n} \n</code></pre>\n\n<p>Besides the name the table also contains columns \"address\" and \"telephone\". This data i would like to be filled in textviews \"addressfill\" and \"telephonefill\" of another activity with following xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"fill_parent\"\n    android:layout_height=\"fill_parent\"\n    android:orientation=\"horizontal\" &gt;\n &lt;TextView\n    android:id=\"@+id/name\"\n    android:layout_width=\"fill_parent\"\n    android:layout_height=\"wrap_content\"\n     /&gt;\n &lt;TextView\n    android:id=\"@+id/address\"\n    android:layout_width=\"fill_parent\"\n    android:layout_height=\"wrap_content\"\n    android:text=\"Address\" /&gt;\n &lt;TextView\n    android:id=\"@+id/addressfill\"\n    android:layout_width=\"fill_parent\"\n    android:layout_height=\"wrap_content\"\n    /&gt;\n  &lt;TextView\n    android:id=\"@+id/telephone\"\n    android:layout_width=\"fill_parent\"\n    android:layout_height=\"wrap_content\"\n    android:text=\"Telephone number\" /&gt;\n  &lt;TextView\n    android:id=\"@+id/telephonefill\"\n    android:layout_width=\"fill_parent\"\n    android:layout_height=\"wrap_content\"\n    /&gt;\n\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>I tried to read into many tutorials out there and many posts here but didnt get around to found the right answer.</p>\n\n<p>What code would i have to use for the <code>onListItemClick</code> and in my activity that uses the xml I presented. Help is very appreciated!</p>\n"},{"tags":["android","sqlite","ormlite","sqlcipher"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":52,"score":2,"question_id":12771251,"title":"Integrating ormlite-4.9 with sqlcipher-2.08","body":"<p>I'm integrating ormlite-4.9 with sqlcipher-2.08. I've googled around but, I didn't succeed.\nI also saw Mr. Gray's answer(<a href=\"http://stackoverflow.com/a/9180906/1278748\">How can I use ORMLite with SQLCipher together in Android?</a>) about integration. I tried by his answer. However, I guess it was for older versions of ORMLite and SQLCipher which has different packages than mine which is downloaded from <a href=\"http://sqlcipher.net/sqlcipher-for-android\" rel=\"nofollow\">http://sqlcipher.net/sqlcipher-for-android</a>. </p>\n\n<p>Can someone explain me a bit in detail? </p>\n"},{"tags":["iphone","sqlite"],"answer_count":4,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":179,"score":1,"question_id":10187236,"title":"Unknown error while executing select statement","body":"<p>In AppDelegate I have retrieve the path of my database:</p>\n\n<pre><code>NSArray *paths=NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);\nNSString *documentDirectory=[paths objectAtIndex:0];\nself.sqlFile=[[NSString alloc]init];\nself.sqlFile=[documentDirectory stringByAppendingPathComponent:@\"AnimalData.sqlite\"];\n</code></pre>\n\n<p>In one of my viewcontroller where I have to select values from the database, the code:</p>\n\n<pre><code>NSString *trimString=[appDelegate.mainBreedSelected stringByTrimmingCharactersInSet:[NSCharacterSet whitespaceAndNewlineCharacterSet]];\n\nNSString *selectSQL=[NSString stringWithFormat:@\"select breed from AnimalsTable where mainBreed=\\\"%@\\\"\",trimString];\nsqlite3_stmt *selectStatement;\nconst char *select_stmt=[selectSQL UTF8String];\nif (sqlite3_open([appDelegate.sqlFile UTF8String],&amp;database)==SQLITE_OK)\n{\n    sqlite3_prepare_v2(database,select_stmt,-1,&amp;selectStatement,NULL);\n    if (sqlite3_step(selectStatement)==SQLITE_DONE)\n    {\n        while(sqlite3_step(selectStatement) == SQLITE_ROW)\n        {\n            NSString *animalBreed = [NSString stringWithUTF8String:(char *)sqlite3_column_text(selectStatement, 2)];\n            NSLog(@\"Breed:%@\",animalBreed);\n        }\n    }\n    else\n        NSAssert1(0, @\"Error while deleting. '%s'\", sqlite3_errmsg(database));\n    sqlite3_finalize(selectStatement);\n    sqlite3_close(database);\n}\nelse\n    NSLog(@\"Database cannot be opened\");\n</code></pre>\n\n<p>I am getting error as:</p>\n\n<blockquote>\n  <p><em>*</em> Terminating app due to uncaught exception 'NSInternalInconsistencyException', \n  reason: 'Error while selecting.\n  'unknown error''</p>\n</blockquote>\n\n<p>How to solve this issue?</p>\n"},{"tags":["python","sqlite","foreign-keys","sqlalchemy"],"answer_count":6,"favorite_count":7,"up_vote_count":8,"down_vote_count":0,"view_count":3348,"score":8,"question_id":2614984,"title":"Sqlite / SQLAlchemy: how to enforce Foreign Keys?","body":"<p>The new version of SQLite has the ability to enforce Foreign Key constraints, but for the sake of backwards-compatibility, you have to turn it on for each database connection separately!</p>\n\n<pre><code>sqlite&gt; PRAGMA foreign_keys = ON;\n</code></pre>\n\n<p>I am using SQLAlchemy -- how can I make sure this always gets turned on?\nWhat I have tried is this:</p>\n\n<pre><code>engine = sqlalchemy.create_engine('sqlite:///:memory:', echo=True)\nengine.execute('pragma foreign_keys=on')\n</code></pre>\n\n<p>...but it is not working!...What am I missing?</p>\n\n<p><strong>EDIT:</strong>\nI think my real problem is that I have more than one version of SQLite installed, and Python is not using the latest one! </p>\n\n<pre><code>&gt;&gt;&gt; import sqlite3\n&gt;&gt;&gt; print sqlite3.sqlite_version\n3.3.4\n</code></pre>\n\n<p>But I just downloaded 3.6.23 and put the exe in my project directory!\nHow can I figure out which .exe it's using, and change it?</p>\n"},{"tags":["sql","database","sqlite"],"answer_count":11,"favorite_count":41,"up_vote_count":111,"down_vote_count":0,"view_count":79018,"score":111,"question_id":82875,"title":"How do I list the tables in a SQLite database file","body":"<p>What SQL can be used to list the tables, and the rows within those tables, in a SQLite database file once i've ATTACHed it on the sqlite3 command line tool?</p>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":30,"score":-1,"question_id":12765403,"title":"Adding Database Using EditText","body":"<p>Hi i'm new in android programming,i need your help, i want to create an android database using an EditText and Button the button is to submit the data inserted into EditText, i have two Activity the first is the Adding the database and second is viewing the list of database saved. I'm creating a simple \"Adding Employee and save it into database\"</p>\n\n<p>here's my code on creating a database;</p>\n\n<pre><code>SQLiteDatabase db = openOrCreateDatabase(\"MyDB\", MODE_PRIVATE, null);\ndb.execSQL(\"CREATE TABLE IF NOT EXITS employee (name VARCHAR, positon VARCHAR);\");\n</code></pre>\n\n<p>Now i dont have idea how can i insert the data in ediTtext into Viewing Database any answer is appreciated.Thanks\nregards\nxyvyre</p>\n"},{"tags":["javascript","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":12768070,"title":"How to use update set in sqlite","body":"<p>I am trying to update a table row using the below code</p>\n\n<pre><code>t.executeSql('UPDATE flatcomments SET BuildingCode = ?, FlatNo = ?, Comment = ?, Closed = ?, New = ?)', \n[buildingcode, flatdescription, flatcomment.toUpperCase(), 1, 1]);\n</code></pre>\n\n<p>with no success. Where am i wrong</p>\n"},{"tags":["sql","performance","sqlite","composite-key","unique-constraint"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":59,"score":1,"question_id":12765480,"title":"Composite key vs extra unique column","body":"<p>Are there any major overhead differences between using a <code>UNIQUE</code> constraint on two columns and simply having one column that contains the concatenation of the two column values/GUID and using an index on that? For example, instead of using <code>|John|Smith|</code> (two different columns) as the unique constraint, would it be more efficient to add an extra column that holds <code>JohnSmith</code> or a random GUID?</p>\n"},{"tags":["vb.net","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":12451907,"title":"SQLite Transaction fills a table BEFORE the transaction is committed","body":"<p>I have a code that creates a datatable (in memory) from a select SQL statement. However I realised that this datatable is filling during the procedure rather as a result of the transaction comit statment, it does the job but its slow. What am I doing wrong ?</p>\n\n<pre><code> Inalready.Clear() 'clears a dictionary\n        Using connection As New SQLite.SQLiteConnection(conectionString)\n            connection.Open()\n            Dim sqliteTran As SQLite.SQLiteTransaction = connection.BeginTransaction()\n            Try\n                oMainQueryR = \"SELECT * FROM detailstable  Where name= :name AND Breed= :Breed\"\n                Dim cmdSQLite As SQLite.SQLiteCommand = connection.CreateCommand()\n\n                Dim oAdapter As New SQLite.SQLiteDataAdapter(cmdSQLite)\n\n                With cmdSQLite\n                    .CommandType = CommandType.Text\n                    .CommandText = oMainQueryR\n                    .Parameters.Add(\":name\", SqlDbType.VarChar)\n                    .Parameters.Add(\":Breed\", SqlDbType.VarChar)\n                End With\n\n                Dim c As Long = 0\n                For Each row As DataRow In list.Rows 'this is the list with 500 names\n\n                    If Inalready.ContainsKey(row.Item(\"name\")) Then\n                    Else\n                        c = c + 1\n                        Form1.TextBox1.Text = \" Fill .... \" &amp; c\n                        Application.DoEvents()\n\n                        Inalready.Add(row.Item(\"name\"), row.Item(\"Breed\"))\n\n                        cmdSQLite.Parameters(\":name\").Value = row.Item(\"name\")\n                        cmdSQLite.Parameters(\":Breed\").Value = row.Item(\"Breed\")\n                        oAdapter.Fill(newdetailstable)\n                    End If\n\n                Next\n\n                oAdapter.FillSchema(newdetailstable, SchemaType.Source)\n\n\n                Dim z = newdetailstable.Rows.Count\n</code></pre>\n\n<p>'At this point the newdetailstable is already filled up and I havent even committed the transaction </p>\n\n<pre><code>                '  sqliteTran.Commit()\n\n            Catch ex As Exception\n            End Try\n        End Using\n</code></pre>\n"},{"tags":["android","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":12765063,"title":"get data -sqlite and android","body":"<p>When I write</p>\n\n<pre><code>                     Cursor c = customersDB.rawQuery(\"SELECT Name, Street, Block, City  FROM \"    +\n                            TABLE_NAME +\n                            \" where Name == 'VOLKSWAGEN '\", null);\n</code></pre>\n\n<p>its work goog.</p>\n\n<p>but:</p>\n\n<pre><code>String x=\"ll\";\n\n\n\n                     Cursor c = customersDB.rawQuery(\"SELECT Name, Street, Block, City  FROM \"    +\n                            TABLE_NAME +\n                            \" where Name == \"+x, null);\n</code></pre>\n\n<p>make error.</p>\n"},{"tags":["ios","xcode","sqlite","fmdb"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":1589,"score":1,"question_id":6710417,"title":"Problem with FMDB and insert value in the \"executeQuery:\" from a searchString","body":"<p>While building a Search for my app i ran into a problem whilst using the FMDB SQLite Wrapper (https://github.com/ccgus/fmdb).</p>\n\n<p>When I search my database with this SQL Command, everything is fine. 13 objects are returned and I can use them.</p>\n\n<pre><code>FMResultSet *rs = [db executeQuery:@\"SELECT * FROM ZARTICLE WHERE ZTITLEDE LIKE '%Daimler%'\"];\n</code></pre>\n\n<p>But when i try to insert the searchQuery from the User Input like this:</p>\n\n<pre><code>FMResultSet *rs = [db executeQuery:@\"SELECT * FROM ZARTICLE WHERE ZTITLEDE LIKE (?)\", theSearchQuery];\n</code></pre>\n\n<p>... the value is dont be inserted into SQL Command. And I dont get any returned objects from the DB. even if the String (theSearchQuery) is the same written in the first example.</p>\n\n<p>Additionaly I post a part from the documentation of FMDB for your convinience. :)</p>\n\n<pre><code>Data Sanitization\n</code></pre>\n\n<p>When providing a SQL statement to FMDB, you should not attempt to \"sanitize\" any values before insertion. Instead, you should use the standard SQLite binding syntax:</p>\n\n<p>INSERT INTO myTable VALUES (?, ?, ?)\nThe ? character is recognized by SQLite as a placeholder for a value to be inserted. The execution methods all accept a variable number of arguments (or a representation of those arguments, such as an NSArray or a va_list), which are properly escaped for you.</p>\n\n<p>Thus, you SHOULD NOT do this (or anything like this):</p>\n\n<p>[db executeUpdate:[NSString stringWithFormat:@\"INSERT INTO myTable VALUES (%@)\", @\"this has \\\" lots of ' bizarre \\\" quotes '\"]];\nInstead, you SHOULD do:</p>\n\n<p>[db executeUpdate:@\"INSERT INTO myTable VALUES (?)\", @\"this has \\\" lots of ' bizarre \\\" quotes '\"];\nAll arguments provided to the -executeUpdate: method (or any of the variants that accept a va_list as a parameter) must be objects. The following will not work (and will result in a crash):</p>\n\n<p>[db executeUpdate:@\"INSERT INTO myTable VALUES (?)\", 42];\nThe proper way to insert a number is to box it in an NSNumber object:</p>\n\n<p>[db executeUpdate:@\"INSERT INTO myTable VALUES (?)\", [NSNumber numberWithInt:42]];\nAlternatively, you can use the -execute*WithFormat: variant to use NSString-style substitution:</p>\n\n<p>[db executeUpdateWithFormat:@\"INSERT INTO myTable VALUES (%d)\", 42];\nInternally, the -execute*WithFormat: methods are properly boxing things for you. The following percent modifiers are recognized: %@, %c, %s, %d, %D, %i, %u, %U, %hi, %hu, %qi, %qu, %f, %g, %ld, %lu, %lld, and %llu. Using a modifier other than those will have unpredictable results. If, for some reason, you need the % character to appear in your SQL statement, you should use %%.</p>\n"},{"tags":["sqlite","pivot","crosstab"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":792,"score":0,"question_id":2921070,"title":"Dynamically create categories for SQLite pivot/crosstab","body":"<p>I realise it is possible to create a crosstab within sqlite, but is it possible to dynamically determine the relevant categories/columns at runtime rather than hardcoding them?</p>\n\n<p>Given the following example, it can get rather tedious ...</p>\n\n<pre><code>SELECT \nshop_id,\nsum(CASE WHEN product = 'Fiesta' THEN units END) as Fiesta,\nsum(CASE WHEN product = 'Focus' THEN units END) as Focus,\nsum(CASE WHEN product = 'Puma' THEN units END) as Puma,\nsum(units) AS total\n\nFROM sales\nGROUP BY shop_id\n</code></pre>\n\n<p>I managed to do this in SQLServer in a <a href=\"http://www.sqlprof.com/blogs/sqldev/archive/2008/04/12/pivots-with-dynamic-columns-in-sql-server-2005-2008.aspx\" rel=\"nofollow\">stored proceedure</a> before and wondered if there was anything equivalent. </p>\n"},{"tags":["mysql","ruby-on-rails","ruby","sqlite","activerecord"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":12763835,"title":"Find ActiveRecord objects by week in the year","body":"<p>I have reports with a date in them. Now I want to find all the reports by a given week of a year. What I have is this:</p>\n\n<pre><code>class Model &lt; ActiveRecord::Base\n  attr_accessible :date\n\n  def self.find_by_week(week, year)\n    Model.all.find_all do |model|\n      model.date.year == year and model.date.s­trftime(\"%­W\").to_i == week\n    end\n  end  \nend\n</code></pre>\n\n<p>But I am afraid that this solution might be not very performant when the Software has accumulated the thousands of reports expected for it. Is there a better solution?</p>\n\n<p>If it matters, I'm using SQLite3 in development, but the production DB will be a MySQL. Though I'd like a solution that is DB-independent, if possible...</p>\n"},{"tags":["android","database","sqlite","android-contacts"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":12763254,"title":"Android: how to relate data to a Contact","body":"<p>I am new to android programming, and I am looking for a way to add data to contacts. In particular, I want to add several strings to a contact to use in my applications. I think that the best approach would be to have a separate database table (using sqlite) to store these strings and have a way to join the contacts with this table, for example by means of an ID of the contacts included in the table. Is this the right approach? Can you give me a code example of how to do that? Are there other ways to realize this?\nThanks</p>\n"},{"tags":["iphone","html5","sqlite","ios5"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":11207821,"title":"How to access native SQLite database with an application","body":"<p>I want to make an application for iphone, ipad, and android using HTML 5.</p>\n\n<p>This application will create a SQLite database or place a prefilled SQLite database file when it is installed on ipad/iphone/android.</p>\n\n<p>I want to keep it in a folder where my application is installed.</p>\n\n<p>eg</p>\n\n<p>ApplicationName- Files (where I have all the files for the application)</p>\n\n<p>ApplicationName- DB    (where I will have my sqllite database)</p>\n\n<p>I want to connect to SQLiteDB using javascript.</p>\n\n<p>Can I access the db at a particular location from my application using Javascript or jquery.</p>\n\n<p>Can you suggest me some way I can get into this.</p>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":233,"score":0,"question_id":6787466,"title":"how to import .sqlite into database in sqlite on android","body":"<p>I am doing an app in android, I have .sqlite file in my system which is called 'ff.sqlite'. In the .sqlite file I have 10 tables, very large no of records for tables. In my app(android) I place the .sqlite file in raw folder and I created a database called 'festival.db'. Now I do not know how to import the ff.sqlite file into the festival.db.  please help me.</p>\n\n<pre><code>res/raw/ff.sqlite\n</code></pre>\n\n<p>to create database I use the following code in android:</p>\n\n<pre><code>        SQLiteDatabase dbs;\n    dbs = openOrCreateDatabase(\"festival.db\", SQLiteDatabase.CREATE_IF_NECESSARY, null);\n</code></pre>\n\n<p>My problem is I need all tables in the festival.db from the .sqlite file  please help me.</p>\n"},{"tags":["java","android","sqlite"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":123,"score":1,"question_id":11440720,"title":"How to run query in SQLite database in android?","body":"<p>In my SQLite database manager I can query this:</p>\n\n<pre><code>SELECT SUM(odometer) as odometer FROM tripmileagetable where date like '2012-07%';\n</code></pre>\n\n<p>this query returns me the total sum of the odometer colum from the table named 'tripmileagetable' of the month of july 2012, but I want to write this code in android query.</p>\n\n<p>But I can't figure out how to establish this query in database.query() method, can any one help?</p>\n"},{"tags":["android","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":246,"score":0,"question_id":6812187,"title":"\"no such table exception\" Returned on Android using SQLite","body":"<p>in my app i use Using an existing sqlite database and i need to list out all records of the tables in the database. i have six tables in it.</p>\n\n<p>my sqlite database file name is : <strong>festival.sqlite</strong> which stored in my <strong>assets folder</strong>.</p>\n\n<p>for copying and list out the records i use the following code. but i get no such table exception while running this code. i know in the sqlite file have tables.</p>\n\n<p>how to get records from tables. please help me.\nmy code:</p>\n\n<pre><code>public class main extends SQLiteOpenHelper {\n\n//The Android's default system path of your application database.\nprivate static String DB_PATH = \"/data/data/com.sql.test/databases/\";\nprivate static String DB_NAME = \"festival\";\nprivate SQLiteDatabase myDataBase; \nprivate final Context myContext;\n\npublic main(Context context) {\n\n    super(context, DB_NAME, null, 1);\n    this.myContext = context;\n}\n\npublic void createDataBase() throws IOException{\n    boolean dbExist = checkDataBase();\n    if(dbExist){\n        //do nothing - database already exist\n        Log.e(\"database\", \"database exist\");\n    }else{\n        Log.e(\"database\",\"not exist\");\n        this.getReadableDatabase().close();\n        try {\n            copyDataBase();\n\n        } catch (IOException e) {\n            //throw new Error(\"Error copying database\");\n            Log.e(\"exception-1\",e.getMessage());\n            Log.e(\"exception-1\", \"Error copying database\");\n        }\n    }\n}\nprivate boolean checkDataBase(){\n    SQLiteDatabase checkDB = null;\n    try{\n        String myPath = DB_PATH + DB_NAME;\n        checkDB = SQLiteDatabase.openDatabase(myPath, null, SQLiteDatabase.OPEN_READONLY);\n    }catch(SQLiteException e){\n    }\n    if(checkDB != null){\n        checkDB.close();\n    }\n    return checkDB != null ? true : false;\n}\n\nprivate void copyDataBase() throws IOException{\n    InputStream myInput = myContext.getAssets().open(DB_NAME);\n    String outFileName = DB_PATH + DB_NAME;\n    OutputStream myOutput = new FileOutputStream(outFileName);\n    byte[] buffer = new byte[618496];\n    int length;\n    while ((length = myInput.read(buffer))&gt;0){\n        myOutput.write(buffer, 0, length);\n    }\n    //Close the streams\n    myOutput.flush();\n    myOutput.close();\n    myInput.close();\n\n}\npublic void openDataBase() throws SQLException{\n    //Open the database\n    String myPath = DB_PATH + DB_NAME;\n    myDataBase = SQLiteDatabase.openDatabase(myPath, null, SQLiteDatabase.OPEN_READWRITE);\n    myDataBase.setVersion(1);\n    myDataBase.setLocale(Locale.getDefault());\n    myDataBase.setLockingEnabled(true);\n    try{\n        Cursor cx = myDataBase.rawQuery(\"SELECT * FROM events\"  , null);\n        if (cx != null ) {\n            if  (cx.moveToFirst()) {\n              do {\n                Log.e(\"ID\",String.valueOf(cx.getInt(0)));\n              }while (cx.moveToNext());\n            }\n        }\n    myDataBase.close(); \n    }\n    catch(Exception e){\n        Log.e(\"exception-table\", e.getMessage());\n    }\n\n\n}\npublic synchronized void close() {\n    if(myDataBase != null)\n        myDataBase.close();\n    super.close();\n\n}\n\n@Override\npublic void onCreate(SQLiteDatabase db) {\n\n}\n\n@Override\npublic void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n}    \n}\n</code></pre>\n\n<p>in another activity i call the following methods:</p>\n\n<pre><code>             main myDbHelper = new main(this);\n    try {\n        myDbHelper.createDataBase();\n    } catch (IOException ioe) {\n        Log.e(\"ex-2\",ioe.getMessage());\n     // throw new Error(\"Unable to create database\");\n    }\n\n\n    try {\n        myDbHelper.openDataBase();\n    }catch(SQLException sqle){\n     // throw sqle;\n    Log.e(\"exception\",sqle.getMessage());   \n    }\n</code></pre>\n\n<p>my log cat:</p>\n\n<pre><code>07-25 10:33:30.748: ERROR/Database(823): sqlite3_open_v2(\"/data/data/com.sql.test/databases/festival\", &amp;handle, 1, NULL) failed\n07-25 10:33:30.748: ERROR/database(823): not exist\n07-25 10:33:30.917: ERROR/exception-1(823): festival\n07-25 10:33:30.917: ERROR/exception-1(823): Error copying database\n07-25 10:33:30.998: ERROR/exception-table(823): no such table: events: , while compiling: SELECT * FROM events\n</code></pre>\n"},{"tags":["sqlite","join","left-join","outer-join"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":38,"score":1,"question_id":12761751,"title":"SQLite Person Involved in A OR B","body":"<p>I'll be honest this is a homework question, but I've wasted hours into it and just can't get it right. It returns either the wrong number of results or the wrong data:</p>\n\n<p>I need to select every person involved in directing a movie and/or acting in a movie and the amount of times they do, if it's at least 5 times.</p>\n\n<p>There is an <code>acts</code> table with a <code>movie_id</code> and a <code>person_id</code>, <code>directs</code> with <code>movie_id</code> and <code>person_id</code> and <code>person</code> (<code>pid</code> and <code>name</code>).</p>\n\n<p>What i've come up with is:</p>\n\n<pre><code> SELECT p.name,count(d.mid)+count(a.mid) \n    FROM person p\n    INNER JOIN  acts a\n    ON a.pid=p.pid\n\n    LEFT JOIN  directs d\n    ON p.pid=d.pid\n\n    group by p.pid,p.name\n\n    having (count(d.mid) +count(a.mid))&gt;=5\n</code></pre>\n\n<p>Basically, I'm trying to join the <code>person</code> and the <code>directs</code> table matching the <code>person_id</code> in both tables, while doing the same for <code>directs</code>. The problem is that the results from the second query aren't included (that Alfred Hitchcock with 10 movies has been bugging me from the start ).</p>\n\n<p>I'm using sqlite, I'd be very happy if someone can give me a push in the right direction. I was instructed also to avoid aggregrated subqueries. I had a solution that used them but it took 15 minutes to execute.</p>\n"},{"tags":["python","mysql","sqlite","sqlalchemy"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":12762349,"title":"Calculate percentile rankings from results of sqlite Python quiz","body":"<p>I'm writing a Python app (using SQLAlchemy) that asks a series of questions centered around three themes.  At the end, in addition to displaying an overall score I want to show the user their percentile rank as compared against all previous users in each of the themes.</p>\n\n<p>Any ideas on an efficient way to calculate percentile rankings from the database?</p>\n"},{"tags":["android","sqlite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":42,"score":-1,"question_id":12761966,"title":"sqlite in android-error when add layout","body":"<p>Whem I remove <code>setContentView(R.layout.activity_delek);</code> it is ok , but when I add it I get an error.\nThis is the code:</p>\n\n<p>package com.example.save_money;</p>\n\n<pre><code>import java.util.ArrayList;\n\nimport com.example.save_money.Screen2DelekActivity;\n\n\n\npublic class DelekActivity extends ListActivity {   \n    private final String DB_NAME = \"mcustomerDbName2\";\n    private final String TABLE_NAME = \"mcustomeTableName2\";\n    SQLiteDatabase customersDB = null;\n    /** Called when the activity is first created. */\n\n\n\n\n\n    private void mFillDbsTable(){\n        try {\n\n            customersDB.execSQL(\"INSERT INTO \" + TABLE_NAME + \" Values ( 'ABARTH ','500','Abarth','15.3846153846154' );\");\n            customersDB.execSQL(\"INSERT INTO \" + TABLE_NAME + \" Values ( 'ABARTH ', 'Grande Punto ', '1.4 T-Jet 155 ', '14.9253731343284 ' );\");\n            customersDB.execSQL(\"INSERT INTO \" + TABLE_NAME + \" Values ( 'ALFA ROMEO ', 'MiTo ', '1.4 16v TB 120  ', '16.3934426229508 ');\");\n            customersDB.execSQL(\"INSERT INTO \" + TABLE_NAME + \" Values ( 'ALFA ROMEO ', 'MiTo ', '1.3 JTDm 90 ', '22.2222222222222 ');\");\n            customersDB.execSQL(\"INSERT INTO \" + TABLE_NAME + \" Values ( 'VOLVO ', 'XC90 ', 'D5 Auto ', '11.7647058823529 ');\");\n            customersDB.execSQL(\"INSERT INTO \" + TABLE_NAME + \" Values ( 'VOLVO ', 'XC90 ', 'D5 Auto R-Design &amp; Exec ', '11.7647058823529 ');\");\n\n            ........\n            ........\n\n        }\n        catch (SQLiteException se ) {\n            Log.e(getClass().getSimpleName(), \"Could not create records\");\n        }\n    }\n</code></pre>\n\n<p>Here is the problem:</p>\n\n<pre><code>@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n\n    try {\n        customersDB =  this.openOrCreateDatabase(  DB_NAME, MODE_PRIVATE, null);\n        customersDB.execSQL(\"CREATE TABLE IF NOT EXISTS \" +\n                TABLE_NAME +\n                \" (Name VARCHAR,\" +\n                \" Street VARCHAR, Block VARCHAR, City VARCHAR);\");\n        mFillDbsTable();}\n    catch (SQLiteException se ) {\n        Log.e(getClass().getSimpleName(), \"create/Open the database problem\");         \n    }\n\n    setContentView(R.layout.activity_delek);    \n}\n</code></pre>\n\n<p>the log:</p>\n\n<pre><code>10-06 17:28:29.839: D/dalvikvm(447): GC_EXTERNAL_ALLOC freed 854 objects / 59696 bytes in 131ms\n10-06 17:38:26.114: E/AndroidRuntime(532): FATAL EXCEPTION: main\n10-06 17:38:26.114: E/AndroidRuntime(532): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.save_money/com.example.save_money.DelekActivity}: java.lang.RuntimeException: Your content must have a ListView whose id attribute is 'android.R.id.list'\n10-06 17:38:26.114: E/AndroidRuntime(532):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2663)\n10-06 17:38:26.114: E/AndroidRuntime(532):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2679)\n10-06 17:38:26.114: E/AndroidRuntime(532):  at android.app.ActivityThread.access$2300(ActivityThread.java:125)\n10-06 17:38:26.114: E/AndroidRuntime(532):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2033)\n10-06 17:38:26.114: E/AndroidRuntime(532):  at android.os.Handler.dispatchMessage(Handler.java:99)\n10-06 17:38:26.114: E/AndroidRuntime(532):  at android.os.Looper.loop(Looper.java:123)\n10-06 17:38:26.114: E/AndroidRuntime(532):  at android.app.ActivityThread.main(ActivityThread.java:4627)\n10-06 17:38:26.114: E/AndroidRuntime(532):  at java.lang.reflect.Method.invokeNative(Native Method)\n10-06 17:38:26.114: E/AndroidRuntime(532):  at java.lang.reflect.Method.invoke(Method.java:521)\n10-06 17:38:26.114: E/AndroidRuntime(532):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)\n10-06 17:38:26.114: E/AndroidRuntime(532):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)\n10-06 17:38:26.114: E/AndroidRuntime(532):  at dalvik.system.NativeStart.main(Native Method)\n10-06 17:38:26.114: E/AndroidRuntime(532): Caused by: java.lang.RuntimeException: Your content must have a ListView whose id attribute is 'android.R.id.list'\n10-06 17:38:26.114: E/AndroidRuntime(532):  at android.app.ListActivity.onContentChanged(ListActivity.java:245)\n10-06 17:38:26.114: E/AndroidRuntime(532):  at com.android.internal.policy.impl.PhoneWindow.setContentView(PhoneWindow.java:201)\n10-06 17:38:26.114: E/AndroidRuntime(532):  at android.app.Activity.setContentView(Activity.java:1647)\n10-06 17:38:26.114: E/AndroidRuntime(532):  at com.example.save_money.DelekActivity.onCreate(DelekActivity.java:2953)\n10-06 17:38:26.114: E/AndroidRuntime(532):  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)\n 10-06 17:38:26.114: E/AndroidRuntime(532):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2627)\n10-06 17:38:26.114: E/AndroidRuntime(532):  ... 11 more\n</code></pre>\n\n<p>Thank you!</p>\n"},{"tags":["asp.net","sqlite","iis"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":12761485,"title":"IIS server stopped and gives an error about kerbauth.dll , how to solve it?","body":"<p>I try my published asp.net project files on local iis in win7 , it works fine , but i gives an error on web server  :</p>\n\n<p>\" Also i use sqlite 3 \"</p>\n\n<p><img src=\"http://i.stack.imgur.com/ZHIqT.jpg\" alt=\"enter image description here\"></p>\n"},{"tags":["php","sqlite","pdo"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":318,"score":0,"question_id":11016555,"title":"How can I get column names via PDO/Sqlite when query returns no records?","body":"<p>The following code allows me to pass an SQL statement to a class and call its method to display a nice table of the results, including column names.</p>\n\n<p>However, <strong>if there are no results, I still want the column names</strong> to be displayed.</p>\n\n<p>Unfortunately, <code>getColumnMeta</code> is not returning any data as it does in other examples I have found.</p>\n\n<p><strong>Does anyone know how to get getColumnMeta() working in this example, or another way I can get the names of the fields from the SQL statement when the query returns zero rows?</strong></p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"&gt;\n        &lt;style type=\"text/css\"&gt;\n            table thead tr td {\n                background-color: #ddd;\n                padding: 5px;\n                font-weight: bold;\n            }\n            table tbody tr td {\n                background-color: #eee;\n                padding: 5px;\n                color: navy;\n            }\n            div.sqlCommand {\n                font-family: courier;\n            }\n\n            h2 {\n                border-bottom: 1px solid #777;\n            }\n        &lt;/style&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;?php\n\n        $sql = 'SELECT LastName,FirstName,Title FROM employee WHERE 1=2 ORDER BY LastName';\n\n        echo '&lt;h2&gt;sqlite&lt;/h2&gt;';\n        $dbSqlite = new DbSqlite($sql);\n        echo $dbSqlite -&gt; displayHtmlTable();\n\n        class DbSqlite {\n            protected $sql;\n            protected $records = array();\n            protected $columnNames = array();\n            public function __construct($sql) {\n                $this -&gt; sql = $sql;\n                $this -&gt; initialize();\n            }\n\n            protected function initialize() {\n                $db = new PDO('sqlite:chinook.sqlite');\n                $result = $db -&gt; query($this -&gt; sql);\n                $result -&gt; setFetchMode(PDO::FETCH_ASSOC);\n                $columnsAreDefined = false;\n                while ($row = $result -&gt; fetch()) {\n                    $this -&gt; records[] = $row;\n                    if (!$columnsAreDefined) {\n                        foreach ($row as $columnName =&gt; $dummy) {\n                            $this -&gt; columnNames[] = $columnName;\n                        }\n                        $columnsAreDefined = true;\n                    }\n                }\n\n                if (count($this -&gt; records) == 0) {\n                    $total_column = $result -&gt; columnCount();\n                    var_dump($total_column);\n\n                    for ($x = 0; $x &lt; $total_column; $x++) {\n                        $meta = $result -&gt; getColumnMeta($x);\n                        //var_dump($meta);\n                        //bool(false)\n                        //$column[] = $meta['name'];\n                    }\n                }\n            }\n\n            public function displayHtmlTable() {\n                $r = '';\n\n                $r .= '&lt;div class=\"sqlCommand\"&gt;' . $this -&gt; sql . '&lt;/div&gt;';\n\n                $r .= '&lt;table&gt;';\n\n                $r .= '&lt;thead&gt;';\n                $r .= '&lt;tr&gt;';\n                foreach ($this-&gt;columnNames as $columnName) {\n                    $r .= '&lt;td&gt;' . $columnName . '&lt;/td&gt;';\n                }\n                $r .= '&lt;/tr&gt;';\n                $r .= '&lt;/thead&gt;';\n\n                $r .= '&lt;tbody&gt;';\n                foreach ($this-&gt;records as $record) {\n                    $r .= '&lt;tr&gt;';\n                    foreach ($record as $data) {\n                        $r .= '&lt;td&gt;' . $data . '&lt;/td&gt;';\n                    }\n                    $r .= '&lt;/tr&gt;';\n                }\n                $r .= '&lt;/tbody&gt;';\n                $r .= '&lt;table&gt;';\n                return $r;\n            }\n\n        }\n        ?&gt;\n    &lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["database","sqlite","core-data","encryption","jailbreak"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":35,"score":1,"question_id":12748004,"title":"Protect sqlite database from downloading","body":"<p>There is no solution to prevent to download a preloaded database in jailbreak iPhone.<br>\n<a href=\"http://stackoverflow.com/questions/5424330/any-way-to-get-your-sqlite-db-off-iphone\">Any way to get your SQLite DB off iPhone?</a></p>\n\n<p>I think the only way is to <strong>encrypt a preloaded database</strong> (maybe encrypting only the data inside single fields where we don't need to search) <strong>and decrypt only when a View have to show the data</strong>.<br>\n(all this using a personal key, of course)</p>\n\n<p>Do someone know how to do exactly and if there is a better solution?<br>\nI'm using Core Data but I can't decrypt NSString Attributes, I can decrypt only NSData but is not simple to create a sqlite db with Data (BLOB) fields containing text encrypted string.</p>\n\n<p>Thanks!</p>\n"},{"tags":["query","sqlite","sqlite3","full-outer-join"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":41,"score":1,"question_id":12759087,"title":"Full Outer Join in sqlite on 4 tables","body":"<p>I need to join 4 tables based on a common primary key. If sqlite implemented full outer joins it might look something like this (with optimization not taken into account).</p>\n\n<pre><code>SELECT S.pair, C.ball, P.bluejeans, B.checkered FROM Socks S FULL OUTER JOIN Caps C \nFULL OUTER JOIN Pants P FULL OUTER JOIN Boxers B WHERE S.color = C.color AND \nS.color = P.color AND S.color = B.color;\n</code></pre>\n\n<p>I've looked long and hard and the best I found was this 2 table sqlite full join implemented with left joins and union alls:</p>\n\n<pre><code>    SELECT employee.*, department.* FROM   employee LEFT JOIN department ON \nemployee.DepartmentID = department.DepartmentID UNION ALL SELECT employee.*, department.* \nFROM   department LEFT JOIN employee ON employee.DepartmentID = department.DepartmentID \nWHERE  employee.DepartmentID IS NULL;\n</code></pre>\n\n<p>I'm trying to modify this to work for more than 2 tables but I'm new to SQL and I'm not getting too far. Is it possible to get this result in a reasonable amount of time? </p>\n\n<p>I think I have a correct implementation for 3 tables (it might not be correct) but I still can't seem to get it for 4. Here's what I have for 3:</p>\n\n<pre><code>     SELECT S.pair, C.ball, P.bluejeans FROM Socks S LEFT JOIN Caps C LEFT JOIN Pants P \nON C.color = S.color AND P.color = S.color UNION ALL SELECT S.pair, C.ball, P.bluejeans FROM\n Socks S LEFT JOIN Caps C LEFT JOIN Pants P ON S.color = C.color AND S.color = P.color WHERE \nS.color IS NULL;\n</code></pre>\n\n<p>Any help is much appreciated</p>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":25,"score":-1,"question_id":12759312,"title":"android contentprovider pre process text","body":"<p>i am using Android ContentProviders to access my android application's sqlite database.\nsome of the text held on the database requires that i call</p>\n\n<p><pre><code>public static Spanned fromHtml (String source)</pre></code></p>\n\n<p>once i have retrieved it from the database. this is because the store text contains</p>\n\n<p><pre><code>&amp; apos;</pre></code></p>\n\n<p>etc, escaped content.</p>\n\n<p>how can i process the retrieved text before displaying it in my ListFragment activity.?</p>\n\n<p>Do i have to create a custom cursor adapter for this?</p>\n\n<p>or are there other options open to me?</p>\n"},{"tags":["sqlite","phonegap","jquery-mobile","blackberry"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":2,"view_count":111,"score":-1,"question_id":12720401,"title":"how to access local sqlite local database in blackberry for phonegap?","body":"<p>I have a sqlite database which i want to load in blackberry,i found a source something like \nthis<br>\n<a href=\"http://gauravstomar.blogspot.in/2011/08/prepopulate-sqlite-in-phonegap.html\" rel=\"nofollow\">click here</a>\nlike wise i want to deploy into blackberry..can u please suggest me something?</p>\n"},{"tags":["java","android","multithreading","sqlite","singleton"],"answer_count":1,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":174,"score":3,"question_id":12758655,"title":"SQLiteDatabase multi-thread locking pattern","body":"<p>I use this class to manage connection to underlying SQLiteDatabase</p>\n\n<pre><code>public class BasicDataSource {\n\n    protected DatabaseHandler dbHelper;\n    protected volatile SQLiteDatabase readable_database;\n    protected volatile SQLiteDatabase writable_database;\n    protected Object read_lock = new Object();\n    protected Object write_lock = new Object();\n    protected Context context;\n\n    protected BasicDataSource(Context ctx) {\n        dbHelper = DatabaseHandler.getInstance(ctx);\n        getReadableDatabase();\n        dbHelper.onCreate(getWritableDatabase());\n        this.context = ctx;\n    }\n\n    public synchronized void close() {\n        dbHelper.close();\n    }\n\n    protected void closeInsertHelpers(InsertHelper... helpers) {\n        for (InsertHelper ih : helpers) {\n            if (ih != null)\n                ih.close();\n        }\n    }\n\n    protected SQLiteDatabase getReadableDatabase() {\n        synchronized (read_lock) {\n            if (readable_database == null || !readable_database.isOpen()) {\n                readable_database = dbHelper.getReadableDatabase();\n            }\n            return readable_database;\n        }\n    }\n\n    protected SQLiteDatabase getWritableDatabase() {\n        synchronized (write_lock) {\n            if (writable_database == null || !writable_database.isOpen()) {\n                writable_database = dbHelper.getWritableDatabase();\n            }\n            return writable_database;\n        }\n    }\n\n    protected synchronized void open() throws SQLException {\n        getReadableDatabase();\n        getWritableDatabase();\n    }\n}\n</code></pre>\n\n<p>It contains two locks, one for read, second for write.\nBut I'm still occasionally getting this kind of exception:</p>\n\n<pre><code>java.lang.RuntimeException: An error occured while executing doInBackground()\n        at android.os.AsyncTask$3.done(AsyncTask.java:299)\n        at java.util.concurrent.FutureTask$Sync.innerSetException(FutureTask.java:273)\n        at java.util.concurrent.FutureTask.setException(FutureTask.java:124)\n        at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:307)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:137)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1076)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:569)\n        at java.lang.Thread.run(Thread.java:856)\nCaused by: android.database.sqlite.SQLiteDatabaseLockedException: database is locked (code 5): , while compiling: PRAGMA journal_mode\n        at android.database.sqlite.SQLiteConnection.nativePrepareStatement(Native Method)\n        at android.database.sqlite.SQLiteConnection.acquirePreparedStatement(SQLiteConnection.java:882)\n        at android.database.sqlite.SQLiteConnection.executeForString(SQLiteConnection.java:627)\n        at android.database.sqlite.SQLiteConnection.setJournalMode(SQLiteConnection.java:313)\n        at android.database.sqlite.SQLiteConnection.setWalModeFromConfiguration(SQLiteConnection.java:287)\n        at android.database.sqlite.SQLiteConnection.open(SQLiteConnection.java:215)\n        at android.database.sqlite.SQLiteConnection.open(SQLiteConnection.java:193)\n        at android.database.sqlite.SQLiteConnectionPool.openConnectionLocked(SQLiteConnectionPool.java:463)\n        at android.database.sqlite.SQLiteConnectionPool.open(SQLiteConnectionPool.java:185)\n        at android.database.sqlite.SQLiteConnectionPool.open(SQLiteConnectionPool.java:177)\n        at android.database.sqlite.SQLiteDatabase.openInner(SQLiteDatabase.java:804)\n        at android.database.sqlite.SQLiteDatabase.open(SQLiteDatabase.java:789)\n        at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:694)\n        at android.app.ContextImpl.openOrCreateDatabase(ContextImpl.java:804)\n        at android.content.ContextWrapper.openOrCreateDatabase(ContextWrapper.java:221)\n        at android.database.sqlite.SQLiteOpenHelper.getDatabaseLocked(SQLiteOpenHelper.java:224)\n        at android.database.sqlite.SQLiteOpenHelper.getWritableDatabase(SQLiteOpenHelper.java:164)\n        at com.mycompany.myapplication.sql.BasicDataSource.getWritableDatabase(BasicDataSource.java:57)\n        at com.mycompany.myapplication.sql.datasources.SomeDataSource.fillUpDatabaseMethod(SomeDataSource.java:264)\n        at com.mycompany.myapplication.sql.datasources.SomeDataSource.renewCacheMethod(SomeDataSource.java:560)\n        at com.mycompany.myapplication.activities.lists.ListsActivity$Worker.doInBackground(ListsActivity.java:315)\n        at com.mycompany.myapplication.activities.lists.ListsActivity$Worker.doInBackground(ListsActivity.java:1)\n        at android.os.AsyncTask$2.call(AsyncTask.java:287)\n        at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:305)\n        ... 4 more\nandroid.database.sqlite.SQLiteDatabaseLockedException: database is locked (code 5): , while compiling: PRAGMA journal_mode\n        at android.database.sqlite.SQLiteConnection.nativePrepareStatement(Native Method)\n        at android.database.sqlite.SQLiteConnection.acquirePreparedStatement(SQLiteConnection.java:882)\n        at android.database.sqlite.SQLiteConnection.executeForString(SQLiteConnection.java:627)\n        at android.database.sqlite.SQLiteConnection.setJournalMode(SQLiteConnection.java:313)\n        at android.database.sqlite.SQLiteConnection.setWalModeFromConfiguration(SQLiteConnection.java:287)\n        at android.database.sqlite.SQLiteConnection.open(SQLiteConnection.java:215)\n        at android.database.sqlite.SQLiteConnection.open(SQLiteConnection.java:193)\n        at android.database.sqlite.SQLiteConnectionPool.openConnectionLocked(SQLiteConnectionPool.java:463)\n        at android.database.sqlite.SQLiteConnectionPool.open(SQLiteConnectionPool.java:185)\n        at android.database.sqlite.SQLiteConnectionPool.open(SQLiteConnectionPool.java:177)\n        at android.database.sqlite.SQLiteDatabase.openInner(SQLiteDatabase.java:804)\n        at android.database.sqlite.SQLiteDatabase.open(SQLiteDatabase.java:789)\n        at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:694)\n        at android.app.ContextImpl.openOrCreateDatabase(ContextImpl.java:804)\n        at android.content.ContextWrapper.openOrCreateDatabase(ContextWrapper.java:221)\n        at android.database.sqlite.SQLiteOpenHelper.getDatabaseLocked(SQLiteOpenHelper.java:224)\n        at android.database.sqlite.SQLiteOpenHelper.getWritableDatabase(SQLiteOpenHelper.java:164)\n        at com.mycompany.myapplication.sql.BasicDataSource.getWritableDatabase(BasicDataSource.java:57)\n        at com.mycompany.myapplication.sql.datasources.SomeDataSource.fillUpDatabaseMethod(SomeDataSource.java:264)\n        at com.mycompany.myapplication.sql.datasources.SomeDataSource.renewCacheMethod(SomeDataSource.java:560)\n        at com.mycompany.myapplication.activities.lists.ListsActivity$Worker.doInBackground(ListsActivity.java:315)\n        at com.mycompany.myapplication.activities.lists.ListsActivity$Worker.doInBackground(ListsActivity.java:1)\n        at android.os.AsyncTask$2.call(AsyncTask.java:287)\n        at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:305)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:137)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1076)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:569)\n        at java.lang.Thread.run(Thread.java:856)\n</code></pre>\n\n<p>Which means, the database is somehow locked when trying to aquire lock in getWritableDatabase.</p>\n\n<p>My SQLiteOpenHelper is singleton pattern, and DataSources are only using BasicDataSource as parent class.</p>\n\n<p>What is the improvement I can do to avoid SQLiteDatabaseLockedException in showed code?</p>\n"},{"tags":["android","sqlite"],"answer_count":7,"favorite_count":26,"up_vote_count":40,"down_vote_count":0,"view_count":78036,"score":40,"question_id":754684,"title":"How to insert a SQLite record with a datetime set to 'now' in Android application?","body":"<p>Say, we have a table created as: </p>\n\n<pre>  \ncreate table notes (_id integer primary key autoincrement, created_date date)\n</pre>\n\n<p>To insert a record, I'd use </p>\n\n<pre>\nContentValues initialValues = new ContentValues(); \ninitialValues.put(\"date_created\", \"\");\nlong rowId = mDb.insert(DATABASE_TABLE, null, initialValues);\n</pre>\n\n<p>But how to set the date_created column to \"now\"?  To make it clear, the </p>\n\n<pre>\ninitialValues.put(\"date_created\", \"datetime('now')\");\n</pre>\n\n<p>Is not the right solution.  It just sets the column to \"datetime('now')\" text.</p>\n"},{"tags":["android","sqlite","search","special-characters"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":62,"score":0,"question_id":12758947,"title":"How to avoid special characters in android SQLite?","body":"<p>How I should write my sql query in android that special characters work correct. For example For example when I filter String with like which has % symbol, it doesn't work correct.</p>\n"},{"tags":["java","android","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":461,"score":1,"question_id":6643973,"title":"Error inserting Data into SQLite database?","body":"<p>I keep getting this error </p>\n\n<blockquote>\n  <p>07-10 21:50:06.296: ERROR/Database(538): android.database.sqlite.SQLiteException: no such table: task: , while compiling: INSERT INTO task(descrip, time, title, date, status) VALUES(?, ?, ?, ?, ?);</p>\n</blockquote>\n\n<p>When I execute this line of code. Am I inserting it the wrong way?</p>\n\n<pre><code>private View.OnClickListener onSave = new View.OnClickListener() {\n\n    @Override\n    public void onClick(View v) {\n    String type = null;\n\n    switch(status.getCheckedRadioButtonId()){\n    case R.id.completed:\n        type = \"completed\";\n        break;\n    case R.id.in_progress:\n        type=\"in-progress\";\n        break;\n    }\n    if(taskId == null){\n        helper.insert(title.getText().toString(), descrip.getText().toString(), date.getText().toString(), time.getText().toString(), status.toString());\n            Toast.makeText(getBaseContext(), \"Task Saved\", Toast.LENGTH_SHORT);\n    }\n    else{\n        helper.update(taskId, title.getText().toString(), descrip.getText().toString(), date.getText().toString(), time.getText().toString(), type);\n\n    }\n\n    finish();\n\n    }\n};\n</code></pre>\n\n<p>Here is my SQL database insert method:</p>\n\n<pre><code>class TaskHelper extends SQLiteOpenHelper {\nprivate static final String DATABASE_NAME = \"taskask.db\";\nprivate static final int SCHEMA_VERSION = 1;\n\npublic TaskHelper(Context context){\n    super(context, DATABASE_NAME, null, SCHEMA_VERSION);\n}\n\n@Override\npublic void onCreate(SQLiteDatabase db) {\n    db.execSQL(\"CREATE TABLE reminders (_id   INTEGER   PRIMARY   KEY    AUTOINCREMENT, title TEXT, descrip TEXT, date TEXT, time TEXT, type TEXT)\");\n\n\n}\n\n\n@Override\npublic void onUpgrade(SQLiteDatabase arg0, int arg1, int arg2) {\n    // TODO Auto-generated method stub\n\n}\n\npublic Cursor getAll(){\n    return(getReadableDatabase().rawQuery(\"SELECT _id, title, descrip, date, time, type FROM reminders ORDER BY title\", null));\n\n}\npublic void insert(String title, String descrip, String date, String time, String status){\n    ContentValues cv = new ContentValues();\n    cv.put(\"title\", title);\n    cv.put(\"descrip\", descrip);\n    cv.put(\"date\", date);\n    cv.put(\"time\", time);\n    cv.put(\"status\", status);\n    getWritableDatabase().insert(\"task\", \"name\", cv);\n}\npublic Cursor getById(String id){\n    String [] args = {id};\n\n    return(getReadableDatabase()    \n            .rawQuery(\"SELECT _id, title, descrip, date, time, status FROM task WHERE _ID=?\",args));\n\n\n}\npublic void update(String id, String title, String descrip, String date, String time, String type){\n    ContentValues cv = new ContentValues();\n    String [] args={id};\n    cv.put(\"title\", title);\n    cv.put(\"descrip\", descrip);\n    cv.put(\"date\", date);\n    cv.put(\"time\", time);\n    cv.put(\"status\", type);\n    getWritableDatabase().update(\"task\", cv, \"_ID=?\", args);\n\n\n}\npublic String getTitle(Cursor c){\n    return(c.getString(2));\n}\npublic String getDescrip(Cursor c){\n    return(c.getString(3));\n}\npublic String getDate(Cursor c){\n    return(c.getString(4));\n\n}\npublic String getTime(Cursor c){\n    return(c.getString(5));\n}\npublic String getStatus(Cursor c){\n    return(c.getString(6));\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["ios","sqlite","datetime","sqlite3"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":40,"score":-1,"question_id":12758292,"title":"How to compare month and year to datetime in sqlite ios","body":"<p>When I test this query directly in sqlite manager, it shows the result well, but when I test it with iphone simulator, it shows like this: </p>\n\n<p><img src=\"http://i.stack.imgur.com/HeKWf.png\" alt=\"query\"></p>\n\n<p>How to solve this problem ? </p>\n"},{"tags":["sqlite","ado","simple.data"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":214,"score":0,"question_id":10268827,"title":"How do I connect to SQLite with Simple.Data.SQLite","body":"<p>I wrote this code in Webmatrix 2.0 beta:</p>\n\n<pre><code>string Dbfile=HttpContext.Current.Server.MapPath(\"data/db.db3\");\nvar Db = Simple.Data.Database.OpenFile(Dbfile);\n</code></pre>\n\n<p>Simple.Data.SimpleDataException: No ADO Provider found.</p>\n\n<p>why??</p>\n\n<p>I'm sure that I have included the reference:</p>\n\n<p>packages.config</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;packages&gt;\n  &lt;package id=\"Simple.Data.Ado\" version=\"0.16.1.0\" /&gt;\n  &lt;package id=\"Simple.Data.Core\" version=\"0.16.1.0\" /&gt;\n  &lt;package id=\"Simple.Data.Sqlite\" version=\"0.16.0.0\" /&gt;\n  &lt;package id=\"System.Data.SQLite\" version=\"1.0.80.0\" /&gt;\n&lt;/packages&gt;\n</code></pre>\n"},{"tags":["mysql","database","sqlite","comparison"],"answer_count":17,"favorite_count":71,"up_vote_count":268,"down_vote_count":2,"view_count":88224,"score":266,"question_id":3630,"title":"SQLite vs MySQL","body":"<p>SQLite is a single-file based database and MySQL is a normal database. That's great, but I'm not sure which is faster where or better for what...what are the pros and cons of each option?</p>\n"},{"tags":["mysql","performance","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":80,"score":0,"question_id":12254326,"title":"Should I use SQLite instead of MySQL?","body":"<p>I need to improve a PHP-MySQL web application, which only uses MySQL for REPL operations (and some search functions). 99% of the applications that I worked with never used advanced MySQL features, like replication, cross-table constraints, locking etc.</p>\n\n<p>To my understanding I should instead use SQLite.</p>\n\n<p>Are there any practical benefits if I do this?\nWill I see a significant (>100ms) speed boost?\nShould I expect problems with tables with more than 1,000,000 rows?</p>\n"},{"tags":["java","android","sqlite","android-cursor","android-loadermanager"],"answer_count":4,"favorite_count":4,"up_vote_count":7,"down_vote_count":0,"view_count":1951,"score":7,"question_id":8888530,"title":"Is it OK to have one instance of SQLiteOpenHelper shared by all Activities in an Android application?","body":"<p>Would it be OK to have a single instance of SQLiteOpenHelper as a member of a subclassed Application, and have all Activities that need an instance of SQLiteDatabase get it from the one helper?</p>\n"},{"tags":["sql","sqlite","sqlite3"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":62,"score":0,"question_id":10938321,"title":"Sqlite and SQLiteManager 1.2.4 read only error?","body":"<p>I have a Linux box running Damn Small Linux with LAMPP on it. Lampp works fine except Mysql wont work as DSL is that stripped down, it doesnt work. So you have to use Sqlite. Im not very good at SQL commands so I want an SQL manager to do the work for me. I have downloaded SQLiteManager and it looks perfect for the job. But whenever I navigate to SQLiteManager it gives me this error:<br> <br>\nThe configuration database is read-only.\nSome features of SQLiteManager can't work correctly.\n<br>\n<br>\nHow can I get it to work?\nMy server is running SQLite3 and I can use it via command line just fine.<br>\nThanks!</p>\n\n<p>PS:\nSorry if this is the wrong \"stack\" to post it on. </p>\n"},{"tags":["sqlite","ezsql"],"answer_count":5,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":3304,"score":2,"question_id":7519621,"title":"WHERE - IS NULL not working in SQLite?","body":"<p>Here's a strange one:</p>\n\n<p>I can filter on <code>NOT NULLS</code> from SQLite, but not <code>NULLS</code>:</p>\n\n<p><strong>This works:</strong></p>\n\n<pre><code>SELECT * FROM project WHERE parent_id NOT NULL;\n</code></pre>\n\n<p><strong>These don't:</strong></p>\n\n<pre><code>SELECT * FROM project WHERE parent_id IS NULL; \nSELECT * FROM project WHERE parent_id ISNULL; \nSELECT * FROM project WHERE parent_id NULL;\n</code></pre>\n\n<p>All return:</p>\n\n<blockquote>\n  <p>There is a problem with the syntax of your query (Query was not\n  executed) ...</p>\n</blockquote>\n\n<p><strong>UPDATE</strong>:</p>\n\n<p>I am doing this with PHP- through my code with ezSQl and using the <a href=\"http://www.danedesigns.com/phpliteadmin.php\" rel=\"nofollow\">PHPLiteAdmin</a> interface </p>\n\n<p>Using the <a href=\"http://www.danedesigns.com/phpliteadmin.php?table=Customers&amp;action=table_sql\" rel=\"nofollow\">PHPLiteAdmin demo</a>, this expression works- so now I'm suspecting a version issue with my PHP's SQLite?  Could that be?  Wasn't this expression always valid?</p>\n\n<p><strong>UPDATE 2</strong>:</p>\n\n<p>When I run the code from PHP using ezSQL, the PHP warning is:</p>\n\n<blockquote>\n  <p>PHP Warning:  SQL logic error or missing database</p>\n</blockquote>\n\n<p>Is there a way to get more information out of PHP? This is maddeningly opaque and weird, especially because the same statement in the CLI works fine...</p>\n\n<p><strong>UPDATE 3</strong></p>\n\n<p>The only other possible clue I have is that the databases that I create with PHP cannot be read by the CLI, and vice versa.  I get:</p>\n\n<blockquote>\n  <p>Error: file is encrypted or is not a database</p>\n</blockquote>\n\n<p>So there's definitly two SQlite flavors butting heads here. (<a href=\"http://stackoverflow.com/questions/1513849/error-file-is-encrypted-or-is-not-a-database\">See this</a>)  Still, why the invalid statment??</p>\n\n<p><strong>UPDATE 4</strong></p>\n\n<p>OK I think I've traced the problem to the culprit, if not the reason- The DB I created with PHP ezSQL is the one where the IS NULL statement fails.  If I create the DB using PHP's SQLite3 class, the statement works fine, and moreover, I can access the DB from the CLI, whereas ezSQL created DB gave the <code>file is encrypted</code> error.</p>\n\n<p>So I did a little digging into ezSQL code- Off the bat I see it uses PDO methods, not the newer SQLite3 class.  Maybe that's something- I'm not gonna waste further time on it...</p>\n\n<p>In any case, I've found my solution, which is to steer clear of ezSQL, and just use PHPs SQLite3 class.</p>\n"},{"tags":["c#","sqlite","mono"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":89,"score":1,"question_id":12648217,"title":"Mono can't open sqlite database","body":"<p>I'm attempting to do a very basic connection to a sqlite v3 database and I'm using monodevelop 3.0 and Mono 2.10 and am unable to get connected to the database.  I can make the app create the database, but then it immediately fails attempting to connect to it.  Any suggestions?  I had started with a different database, but then decided to have my app attempt to create a database empty and then connect to it.  This still seems to fail.</p>\n\n<pre><code>SqliteConnection.CreateFile(\"db\\\\DataWorksProg.s3db\");\nSqliteConnection conn = new SqliteConnection(\"Data Source=file:db\\\\DataWorksProg.s3db\");\nconn.Open();\n</code></pre>\n\n<p>This small piece of code fails with an error about not being able to open the database file.</p>\n\n<pre><code>Mono.Data.Sqlite.SqliteException: Unable to open the database file\n</code></pre>\n\n<p>Permissions look OK and I have the Sqlite3.dll in the project, and it seems to be working OK.  Have I missed anything obvious?  I'm pretty good on the Visual Studio side, but still fairly fresh working in a Mono/Monodevelop environment.</p>\n"},{"tags":["c#","sqlite","microsoft-metro"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":128,"score":0,"question_id":12754743,"title":"Create Database Tables Windows 8 Metro","body":"<p>If I am logged into Windows 8 as a non-admin, such as the guest account, will this database creation code fail? If so, how can I change it works with non-admin users:</p>\n\n<pre><code>protected List&lt;Order&gt; orders;\n    string dbName;\n    #region Constructors\n\n    public RestaurantRepository()\n    {\n        Initialize();\n    }\n\n    protected void Initialize()\n    {\n\n        dbName = \"db_sqlite-net.db3\";\n\n        // check the database, if it doesn't exist, create it\n        CheckAndCreateDatabase(dbName);\n    }\n\n    #endregion\n\n    #region Database\n\n    protected string GetDBPath()\n    {\n        string dbRootPath = Windows.Storage.ApplicationData.Current.LocalFolder.Path;\n        return Path.Combine(dbRootPath, \"menufinderwin8.db\");\n    }\n\n    // This method checks to see if the database exists, and if it doesn't, it creates\n    // it and inserts some data\n    protected void CheckAndCreateDatabase(string dbName)\n    {\n        // create a connection object. if the database doesn't exist, it will create \n        // a blank database\n        SQLiteAsyncConnection conn = new SQLiteAsyncConnection(GetDBPath());\n        conn.CreateTableAsync&lt;Order&gt;();\n        conn.CreateTableAsync&lt;Order&gt;();\n        conn.CreateTableAsync&lt;OrderDetail&gt;();\n        conn.CreateTableAsync&lt;Product&gt;();\n        conn.CreateTableAsync&lt;Restaurant&gt;();\n\n        //using (SQLiteConnection db = new SQLiteConnection(GetDBPath()))\n        //{\n\n            // create the tables\n          //  db.CreateTable&lt;Order&gt;();\n            //db.CreateTable&lt;OrderDetail&gt;();\n            //db.CreateTable&lt;Product&gt;();\n            //db.CreateTable&lt;Restaurant&gt;();\n            // close the connection\n            //db.Close();\n        //}\n\n    }\n</code></pre>\n"},{"tags":["java","android","sqlite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":12754259,"title":"Structuring SQLite database with 2 relationships?","body":"<p>I'm current working on a SQLite-database in a android project which will store 3 types of objects; feed, users and posts.</p>\n\n<p>There will be several feeds containing several varying users(a user can be part of serveral feeds) and of my understanding i should implement this by having a Many-to-Many relationship:\nfeedTable - bridge_feeduserTable - userTable</p>\n\n<p>But there will also be posts made by users and a post should be linked to a the user which created the post. How should i link this up?</p>\n\n<p>Should i have a feedTable - bridge_feeduserTable - userTable - bridge_userpostTable - postTable? <br> or should the posts be stored in a separate database with all the posts? What is the best practice regarding this issue?</p>\n\n<p>Some basic questions that will asked to the database is: <br>\nWhat users are part of feed x? <br>\nWhat posts have been made by the users in feed x?</p>\n"},{"tags":[".net","database","sqlite","deployment","entrypointnotfoundexcept"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":63,"score":1,"question_id":12748678,"title":"What are the setup steps in deploying SQLite for an application?","body":"<p>I am lost in trying to figure out why sqlite on my development computer works and not on another system.</p>\n\n<p>I do remember I had to take number of steps before I finally got it to work on my development computer. I simply can't remember what they were.</p>\n\n<p>Right now, I am testing my software on a clean system, after preparing that system for a test - like installing SQLite engine 2.5/3.5 ADO.NET. My program starts up and quits when it goes to use the database file. Window error message does show - System.Data.Sqlite and System.IO.EntryPointNotFound.</p>\n\n<p>Does anybody know what that means?</p>\n\n<p>Any help or hints will be greatly appreciated.</p>\n"},{"tags":["asp.net","sqlite","sqlite3","database-connection"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":12753665,"title":"Sqlite3 is readonly on webserver?","body":"<p>I install sqlite db manager on visual studio and create my database.\nI added this db file to \"app_data > myDB\" (no ext.)</p>\n\n<p>It works perfect on visual studio using debug mode.But when i publish this project to web , my data is getting from db perfectly also my update button is working and saying its done !</p>\n\n<p>Unfourtunately when i refresh page come back my old data , its not changed.</p>\n"},{"tags":[".net","sqlite","system.data.sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":99,"score":0,"question_id":12354546,"title":"The database disk image is malformed sqlite","body":"<p>I have migrated my <code>.net 2.0</code> projects to <code>.net 4.0</code>.\nWith this I had to upgrade <code>system.data.sqlite</code> libraries to the latest versions available <code>1.0.81</code>.</p>\n\n<p>Right now when I try to query large tables using <code>select * from table</code> I get <strong><code>The database disk image is malformed</code></strong> error. This only happens on tables with lots of records, small tables return records.</p>\n\n<p>Please note if I go back to <code>.net 2.0</code> and <code>system.data.sqlite 1.0.66</code> the same DB file works perfecly.</p>\n\n<p>Any Ideas?</p>\n"},{"tags":["iphone","ios","xcode","sqlite","sqlite3"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":124,"score":1,"question_id":12751629,"title":"sqlite3 query works on cmd line but returns no data in iOS 6 SImulator","body":"<p>I have this sqlite3 table used in an iOS 6 app for iPad:</p>\n\n<pre><code>CREATE TABLE notes(id INTEGER PRIMARY KEY, note TEXT, noteDate TEXT, wasUploaded INTEGER);\n</code></pre>\n\n<p>from the sqlite3 command line this query works:</p>\n\n<pre><code>sqlite&gt; Select `id`,`note`,`noteDate`,`wasUploaded` FROM `notes` WHERE `wasUploaded`=0;\n\n1|Well|2012-10-04 22:46:23|0\n</code></pre>\n\n<p>On iOS iPad 6.0 Simulator each of these queries returns the exact same data as above:</p>\n\n<pre><code>const char *sqlStatement = \"Select `id`,`note`,`noteDate`,`wasUploaded` FROM `notes` WHERE `id`=1\";\n\nconst char *sqlStatement = \"Select `id`,`note`,`noteDate`,`wasUploaded` FROM `notes` WHERE `note`='Well'\";\n\nconst char *sqlStatement = \"Select `id`,`note`,`noteDate`,`wasUploaded` FROM `notes` WHERE `noteDate`='2012-10-04 22:46:23'\";\n</code></pre>\n\n<p>But this query which worked fine on the command line now returns no data:</p>\n\n<pre><code>const char *sqlStatement = \"Select `id`,`note`,`noteDate`,`wasUploaded` FROM `notes` WHERE `wasUploaded`=0\";\n</code></pre>\n\n<p>Has me baffled. Why is that last query not working? Do I need to make that column an index or something? The other two non-indexed columns work but not this.</p>\n\n<p>No errors. The last query that returns no data gives a normal return code of 101 (sqlite3_step() has finished executing) and a query without the where clause returns the same data as for the other three queries. </p>\n\n<p>Edit: here is the complete code</p>\n\n<pre><code>- (NSString *)getNotesToBeUploaded {\nsqlite3 *stuDb;\nNSString *thisNote;\nNSMutableString *notes = [[NSMutableString alloc]init];\n\nif (self.filePath == @\"empty\") {\n    [self setDatabaseFilePath];\n}\n\nif (sqlite3_open([self.filePath UTF8String], &amp;stuDb) == SQLITE_OK)\n{\n    // this is the query line that get changed to show stackoverflow the different results:\n    const char *sqlStatement = \"Select `id`,`note`,`noteDate` FROM notes WHERE `wasUploaded`=0\";\n    sqlite3_stmt *compiledStatement;\n    int nResult = sqlite3_prepare_v2(stuDb, sqlStatement, -1, &amp;compiledStatement, NULL);\n    if ( nResult == SQLITE_OK)\n    {\n        int nret; // diagnostic used to watch return vaues when single stepping\n        while ((nret = sqlite3_step(compiledStatement)) == SQLITE_ROW)\n        {\n            int id =  sqlite3_column_int(compiledStatement, 0);\n            const unsigned char *note =  sqlite3_column_text(compiledStatement, 1);\n            const unsigned char *noteDate =  sqlite3_column_text(compiledStatement, 2);\n            int wu =  sqlite3_column_int(compiledStatement, 4);\n            if (strlen((const char *)note) &gt; 0 &amp;&amp; strlen((const char *)noteDate) &gt; 0)\n            {\n                thisNote = [NSString stringWithFormat:@\"%d,%s,%s,%d\\n\",id, noteDate, note, wu];\n                [notes appendString:thisNote];\n            }\n        }\n    } else {\n        sqlite3_finalize(compiledStatement);// prevent small memory leaks\n        sqlite3_close(stuDb);\n        thisNote =\n        [NSString stringWithFormat:@\"prepare failed with status:%d in %s at line %d path was %@,0,0\\n\",nResult,__FILE__,__LINE__,self.filePath];\n        [notes appendString:thisNote];\n        [notes appendString:@\"\\n\"];\n        return (NSString *)notes;\n    }\n    sqlite3_finalize(compiledStatement);\n    sqlite3_close(stuDb);\n}\n</code></pre>\n"},{"tags":["c#","sqlite","sharepoint2010","windows-8","winrt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":90,"score":0,"question_id":12748380,"title":"SQLite Exception when creating table using OData object containing reference to itself","body":"<p>The following code: </p>\n\n<pre><code>oc.CreateTablesAsync(typeof(ODataService.UserInformationListItem), typeof(ODataService.CategoriesItem), typeof(ODataService.PostsItem));\n</code></pre>\n\n<p>Gives me this exception:</p>\n\n<pre><code>System.NotSupportedException: Don't know about ODataApp.ODataService.UserInformationListItem\n</code></pre>\n\n<p>At first I was just creating a table for PostsItems, which is the object i need to store, but then I got the above exception but then for ODataApp.ODataService.CategoriesItem.</p>\n\n<p>Since PostItem has the property Category, which is a List&lt;CategoriesItem&gt; I figured I had to add CategoriesItem as a table as well.</p>\n\n<p>After doing so I got an error for the property CreatedBy on PostsItems, which is a UserInformationListItem, now this is when it gets tricky.</p>\n\n<p>I also added UserInformationListItem to the CreateTables function which gave me my current problem.</p>\n\n<p>The object UserInformationListItem also contains a CreatedBy property which is also an UserInformationListItem.</p>\n\n<p>I'm looking for a way around this without having to alter or recreate local versions of these objects. </p>\n\n<p>These objects are defined on Sharepoint which I cannot edit, and are obtained by the OData service reference. If anymore information is needed to supply me with an answer, please let me know</p>\n"},{"tags":["iphone","ios","sqlite","objective-c-runtime"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":84,"score":1,"question_id":7254445,"title":"iphone sqlite issue","body":"<p>I tried importing db in my Supporting files folder and connected to db using:</p>\n\n<pre><code>NSString *sqliteDb = [[NSBundle mainBundle] pathForResource:@”person” ofType:@”sqlite”];\nif(sqlite3_open([sqliteDb UTF8String], &amp; database)!=SQLITE_OK)\n</code></pre>\n\n<p>I tried inserting values through code which got inserted but when I quit the program and check the db that values are not present. I don't know what's going wrong here.</p>\n"},{"tags":["c#","sqlite","system.data.sqlite"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":189,"score":1,"question_id":12532729,"title":"SQLite keeps the database locked even after the connection is closed","body":"<p>I'm using System.Data.SQLite provider in an ASP.NET application (framework 4.0).\nThe issue I'm running into is that when I INSERT something in a table in the SQLite database, the database gets locked and the lock isn't being released even after the connection is disposed. </p>\n\n<p>When trying to access the file, the error is: \"The process cannot access the file 'catalog.sqlite' because it is being used by another process.\"</p>\n\n<p>My code is pretty straightforward, I open the connection, read some data from a SQLServer database, insert that data into SQLite (through SQLiteDataAdapter) and then close the connection and dispose everything just to be on the safe side. But still, I get that error when I try to zip the file after it's being populated with the data.</p>\n\n<p>I've read all kind of suggestions here on StackOverflow but none of them has helped solving the problem (turning off the antivirus, changing the transaction model, waiting a few seconds before zipping up the file, wrapping all the insert calls into a transaction, etc.. but none has helped solving this issue.</p>\n\n<p>Maybe there's something specific to ASP.NET (multithreading being the issue? Even though I'm testing it on a development machine where there's only one call to that function and no concurrency?)</p>\n\n<p>As a side note, I tried avoiding DataTable and SQLiteDataAdapter and using only SQLiteCommand directly and that way it works a charm. Of course I can keep building my queries as strings instead of using the data adapters, but I kind of find it a bit awkward when there's a framework built to do that.</p>\n"},{"tags":["sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":215,"score":0,"question_id":8218981,"title":"SQLite: Database or Disk is full No modification is done in database","body":"<p>I am using SQLite to handle database while running a simulation on supercomputers here. I am using MPI process to do multiple threading. I am keep getting error that says \"database or disk is full\" while passing any querry to SQLite. I have checked the space quota and I have so much of the space available. I dont know why I am getting this error, so can you tell me what is causing this problem? I am not inserting or deleting anything in database.</p>\n"},{"tags":["html5","sqlite","local-storage","indexeddb"],"answer_count":4,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":239,"score":1,"question_id":12247380,"title":"Offline Access - SQLite or IndexedDB","body":"<p>I am in R&amp;D phase of an app, with the following key requirements:</p>\n\n<ul>\n<li>HTML5 WebApp - which will also have a hybrid version</li>\n<li>Forms data will be stored locally, when no internet connection</li>\n</ul>\n\n<p>I cannot use web storage due to quota limitations - I am comparing SQLite and IndexedDB.</p>\n\n<ul>\n<li>SQLite seems to be best fit, but it is deprecated</li>\n<li>IndexedDB is a good alternate but there's no Safari support - Hybrid app is supposed to be run on iPad and on Android device in future</li>\n</ul>\n\n<p>I am confused in the selection of API. Is there some other alternate to SQLite or support of IndexedDB expected on Safari?</p>\n\n<p><br />\nThanks and Regards!</p>\n"},{"tags":["ios","sqlite","core-data"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":72,"score":0,"question_id":12733454,"title":"multi-row sqlite db update in iOS CoreData","body":"<p>I'm using an NSFetchedResultsController with a UITableView to present data in an iOS app from an underlying sqlite database.  At a certain points in the flow of the app, I need to update flags in multiple rows of the database from a separate controller.  </p>\n\n<p>I don't think iterating thru all the objects, changing the flag, then resaving is ideal.</p>\n\n<p>Is there a best way to do this?</p>\n"},{"tags":["python","django","sqlite","mod-wsgi"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":46,"score":0,"question_id":12731805,"title":"no such table: pages_page","body":"<p>I'm getting the error above when setting up my website with apache &amp;mod_wsgi.</p>\n\n<p>I've gone through all of the documentation managed to it half working. Here is the full error:</p>\n\n<pre><code>Exception Type:     DatabaseError\nException Value: no such table: pages_page\n</code></pre>\n\n<p>I know there is nothing wrong with the DB as before i set the site up with mod_wsgi i could run the site with ./manage.py runserver and it would all work fine.</p>\n\n<p>I have to be carefull what code I post for security perposes.</p>\n\n<p>More than happy to post more information if you tell me you need but i don't really know what to post up as the site itself works fine.</p>\n"},{"tags":["sql","performance","sqlite"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":70,"score":2,"question_id":12749930,"title":"SQLite NOT IN query is slow","body":"<p>I have two tables - <code>Keys</code> and <code>KeysTemp</code>.\n<code>KeysTemp</code> contains temporary data which should be merged with <code>Keys</code> using the <code>Hash</code> field.\nHere is the query:</p>\n\n<pre><code>SELECT\n    r.[Id]\nFROM\n    [KeysTemp] AS k\nWHERE\n    r.[Hash] NOT IN (SELECT [Hash] FROM [Keys] WHERE [SourceId] = 10)\n</code></pre>\n\n<p>I have indexes on both tables for <code>SourceId</code> and <code>Hash</code> fields:</p>\n\n<pre><code>CREATE INDEX [IdxKeysTempSourceIdHash] ON [KeysTemp]\n(\n    [SourceId],\n    [Hash]\n);\n</code></pre>\n\n<p>The same index for <code>Keys</code> table, but query is still very slow.\nThere is 5 rows in temporary table and about 60000 in the main table. Query by hash takes about 27 milliseconds, but querying this 5 rows takes about 3 seconds.</p>\n\n<p>I also tried splitting index, i.e. creating different indexes for <code>SourceId</code> and <code>Hash</code>, but it works the same way. <code>OUTER JOIN</code> works even worse here. How to solve that issue?</p>\n\n<p><strong>UPDATE</strong>\nIf I remove <code>WHERE [SourceId] = 10</code> from the query it completes in 30ms, that's great, but I need this condition :)</p>\n\n<p>Thanks</p>\n"},{"tags":["c#","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":12750340,"title":"Database in two folder, bin->debug, release","body":"<p>I am adding  my database in both bin->Debug and bin->Release folder. \nWhen I create a setup file, I am getting the primary output from configuration manager->release. \nIs there a way I could have the DB set up at only one place (not both Debug and Release folder)\nThis is the connection string:</p>\n\n<pre><code> &lt;add name=\"myConnString\" connectionString=\"Data Source=Test.sqlite; InitialCatalog = Test.sqlite;Compress=True;Version=3\"\n      providerName=\"System.Data.Sqlite\" /&gt;\n</code></pre>\n\n<p>Thank u</p>\n"},{"tags":["objective-c","ios","sqlite","core-data"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":63,"score":1,"question_id":12749327,"title":"Core data functionality without using coredata","body":"<p>I am maintaining an iOS app that currently uses Core Data to get data off a db and populate a table view. A new requirement has come up that the entire database must be encrypted with SQLCypher and based on my research, Core Data refuses to play nice with the cypher. So it has been decided that coredata support be removed and database calls now must be made by hand. In this case, is there any library/project out there that emulates the functionality of the NSFetchedResults in CoreData that manages the db interaction and plays nice with TableViews? </p>\n\n<p>I am looking for advice on architecting the project in a way to have the lowest amount of code littered with sql statements to do the db interaction. Can anyone please advice on how this can be accomplished?</p>\n\n<p>Thanks</p>\n"},{"tags":["ios","sqlite","mapkit"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":33,"score":0,"question_id":12742062,"title":"How to load grouped annotation point from SQLite","body":"<p>I have a database that contains 16000 annotations. When the user is zooming out, there are too many points loaded and points overlap. I found a filter with code but i want to load some point only from SQL, not to load all and filter it after. I don't know if there is a stored procedure in iOS or other solution.</p>\n\n<p>This is my code</p>\n\n<pre><code>iphoneScaleFactorLatitude = 3.3;\n    float iphoneScaleFactorLongitude = 6.38;\n    float latDelta  = self.mapView.region.span.latitudeDelta/iphoneScaleFactorLatitude;\n    float longDelta = self.mapView.region.span.longitudeDelta/iphoneScaleFactorLongitude;\n\n    NSMutableArray *shopsToShow = [[NSMutableArray alloc] initWithCapacity:0];\n        for (int i=0; i&lt;[placesToFilter count]; i++) {\n            MKPointAnnotation *checkingLocation   = [placesToFilter objectAtIndex:i];\n            CLLocationDegrees latitude  = [checkingLocation coordinate].latitude;\n            CLLocationDegrees longitude = [checkingLocation coordinate].longitude;\n\n            bool found=FALSE;\n\n            for (MKPointAnnotation *tempPlacemark in shopsToShow) {\n                if(fabs([tempPlacemark coordinate].latitude-latitude) &lt; latDelta &amp;&amp;\n                   fabs([tempPlacemark coordinate].longitude-longitude) &lt;longDelta ){\n                    [self.mapView removeAnnotation:checkingLocation];\n                    found = TRUE;\n                    break;\n                }\n            }\n\n            if (!found){\n                [shopsToShow addObject:checkingLocation];\n                [self.mapView addAnnotation:checkingLocation];\n            }\n        }\n</code></pre>\n\n<p>But they load too many point and my problem is that I don't want to load all the points because each chagement I have to use the algorithm to the sorting.</p>\n"},{"tags":["python","mysql","django","sqlite","sqlite3"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":12748552,"title":"sqlite not saving decimals but works fine in MySQL","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/6319409/how-to-convert-python-decimal-to-sqlite-numeric\">How to convert Python decimal to SQLite numeric?</a>  </p>\n</blockquote>\n\n\n\n<p>I am having an issue with sqlite not showing values that are not 2 decimal places but when I test it on MySQL (workbench) it works fine. I doesn't give an error or anything but just disappears quietly. I want to get to the bottom of this voodoo so it doesn't come back to bite me. </p>\n\n<pre><code>MY_CHOICE = (\n   (Decimal('20.00'), '20'), /#doesnt work with sqlite\n   (Decimal('20.00'), '20.00'), /#doesnt work with sqlite\n   (Decimal('10.50'), '10.50'), /#doesnt work with sqlite\n   (Decimal('5.05'), '5.05'),  /#works with sqlite\n   (Decimal('4.75'), '4.75'),  /#works with sqlite\n)\n\nmy_model = models.DecimalField(max_digits=6, decimal_places=2, choices=My_CHOICE, null=True, blank=True)\n</code></pre>\n\n<p>Any thoughts or ideas that might be helpful would be great. Thanks.</p>\n"},{"tags":[".net","database","sqlite","mongodb","nosql"],"answer_count":0,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":37,"score":3,"question_id":12748777,"title":"Is there a SQLite equivalent for document-based NoSQL databases?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/2403174/is-there-any-nosql-database-as-simple-as-sqlite\">Is there any NoSql database as simple as SQLite?</a>  </p>\n</blockquote>\n\n\n\n<p>I've heard a lot about SQLite as being an awesome local database. However, there are still some things that SQL just isn't very good at expressing. Is there any kind of NoSQL document-based databases(like MongoDB) which work locally across just a couple files similar to SQLite? What is the performance of them in comparison to SQLite? In particular, I'm looking for something with .Net bindings. </p>\n"},{"tags":["iphone","sqlite","ssh"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":154,"score":0,"question_id":8083087,"title":"How can I modify sqlite db on iPhone via ssh?","body":"<p>When i ssh to my iphone, i cannot found sqlite in ssh, is it possible to use sqlite shell in ssh?</p>\n\n<pre><code>ssh root@my-iphone-ip\npwd\nsqlite /some-sqlite-db\n\n-sh: sqlite: command not found\noops \n</code></pre>\n\n<hr>\n\n<p>after apt-get update, then everything is OK.</p>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":12746944,"title":"android automatically deletes corrupt SQLite files","body":"<p>When Android opens an SQLite file, and the file is corrupt, Android deletes the file.\nAs surprising as it may sound, this behavior is implemented clearly in the Android source code, leading to consternation and to this Android issue.</p>\n\n<p>As a solution to it-</p>\n\n<ul>\n<li><p>Can't a recovery algorithm (aries) be implemented and can be added in the android source code.</p></li>\n<li><p>OR, it is better to use any other database like <a href=\"http://www.oracle.com/technetwork/database/berkeleydb/overview/index-093405.html\" rel=\"nofollow\">Berkley DB Java Edition</a>, <a href=\"http://www.h2database.com/html/main.html\" rel=\"nofollow\">H2 DB</a>, or any other</p></li>\n</ul>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":12747837,"title":"create a sqlite db on a specified directory","body":"<p>Whatever is the android version, the path where a sqlite db is saved is always the same (/data/data/pack.name/databases/nameDb)?\nIf not, there's a way to save the entire db on a different location? \nthanks in advance!</p>\n"},{"tags":["c#","sqlite","system.data.sqlite"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":90,"score":1,"question_id":12741186,"title":"SQLite invalid URI after updating System.Data.SQLite.dll","body":"<p>I first had this SQLite version: 1.0.77.0 (sqlite-netFx40-static-binary-bundle-Win32-2010-1.0.77.0)\nand everything was working fine.\nAfter updating my System.Data.SQLite.dll to version 1.0.82.0 (sqlite-netFx40-static-binary-bundle-Win32-2010-1.0.82.0) I now receive this:</p>\n\n<p>Unable to open database. Connection string: 'datetimeformat=ISO8601;synchronous=Off;uri=\"file://C:/Users/username/Documents/data/test.db\";version=3;journal mode=Truncate;default isolationlevel=ReadCommitted;pooling=True'; Error: 'System.InvalidOperationException: Invalid connection string: invalid URI</p>\n\n<p>I've also tried file:/// instead of file:// without any luck.</p>\n\n<p>Could anybody tell me what is wrong with my URI, why it doesn't work anymore in v1.0.82.0 but worked in v1.0.77.0?</p>\n\n<p><a href=\"http://system.data.sqlite.org/index.html/doc/trunk/www/downloads.wiki\" rel=\"nofollow\">http://system.data.sqlite.org/index.html/doc/trunk/www/downloads.wiki</a>\n(1.0.82.0 == 3.7.14)</p>\n"},{"tags":["android","sqlite"],"answer_count":3,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":85,"score":3,"question_id":12738898,"title":"How to delete last 10 records in sqlite","body":"<p>In Sqlite, can I know how to delete last 10 records? I've wrote following coding but seems not working at all.</p>\n\n<pre><code>delete from tb_news where newsid = (SELECT newsid from tb_news order by newsid asc limit 10)\n</code></pre>\n"},{"tags":["sql","sqlite","select","join","case"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":66,"score":1,"question_id":12746407,"title":"SQL Case With Many Columns","body":"<p>Hi I have looked through the \"Case with multiple columns\" questions and don't see something the same as this so I think I should ask.</p>\n\n<p>Basically I have two tables (both are the result of a subquery) which I want to join. They have the same column names. If I join them on their ids and <code>SELECT *</code> I get each row being something like this:</p>\n\n<p><code>A.id, A.x, A.y, A.z, A.num, B.id, B.x, B.y, B.z, B.num</code></p>\n\n<p>What I want is a way to only select the columns of the table with the lower value of num. So in this case the result table would always have 5 columns, <code>id, x, y, z, num</code>, and I don't care which table <code>id, x, y, z, num</code> came from after the fact. Also either table result is fine if they are equal.</p>\n\n<p><code>SELECT CASE WHEN A.num &lt; B.num THEN A.* ELSE B.* END FROM A JOIN B ON A.id=B.id</code></p>\n\n<p>would be perfect but you can only return one column in a CASE statement, and I could use a CASE for every column but that seems so wasteful (there are 8 in each table in my actual database so I would have 8 CASE statements).</p>\n\n<p>This is SQLite btw. Any help would be appreciated!</p>\n\n<hr>\n\n<p><strong>Edit for more info on A and B:</strong>\nA and B come from Queries like this </p>\n\n<p>SELECT \"thought case statement might go here\" FROM </p>\n\n<p>(SELECT id, x, y, z, num FROM Table1 a JOIN Table2 b ON a.id=b.id AND (y BETWEEN (53348574-3593) AND (53348574+3593)) AND (z BETWEEN (-6259973-6027) AND (-6259973+6027)) JOIN Table3 c ON c.id= b.id GROUP BY a.id, c.r) A</p>\n\n<p>JOIN</p>\n\n<p>(SELECT id, x, y, z, num FROM Table1 a JOIN Table2 b ON a.id=b.id AND (y BETWEEN (53401007-3593) AND (53401007+3593)) AND (z BETWEEN (-6397286-6027) AND (-6397286+6027)) JOIN Table3 c ON c.id= b.id GROUP BY a.id, c.r ) B ON A.id=B.id</p>\n\n<p>So it joins two tables, made based on geolocation if you're wondering why the big numbers, and needs to decide which of the tables to take its data from based on attributes of what it finds in either of the locations.</p>\n"},{"tags":["ruby-on-rails","database","ruby-on-rails-3","sqlite","sqlite3"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":12747454,"title":"How to refesh SQLite Database Browser on Mac?","body":"<p>I am using <a href=\"http://sourceforge.net/projects/sqlitebrowser/\" rel=\"nofollow\">SQLite Database Browser 2.0b1 (Mac version)</a> for my Ruby on Rails projects.</p>\n\n<p>It's a nifty little tool that shows the current state of my SQLite databases.</p>\n\n<p>However, one thing I've always wanted to know is: How can I <strong>refresh</strong> that thing?</p>\n\n<p>Whenever I add a new record to my database through my Rails application, the changes appear in the database browser only after I re-opened the <code>.sqlite3</code> file. And that takes time because you have to manually navigate all the way up to the folder where the database is stored and select the file.</p>\n\n<p>I have been doing this about tenthousand times in the last couple of weeks. </p>\n\n<p>So is there a way to simplify this?</p>\n\n<p>Thanks for any pointers.</p>\n"},{"tags":["android","sqlite"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":64,"score":0,"question_id":12741185,"title":"how to backup and restore data of an applications database?","body":"<p>I'm developing an application which will do the backup of Application's database to the Google servers and restore the data after reinstalling the application.</p>\n\n<p>I didn't find any reference to do this task. I also tried the application given in Android SDK, which is working only with the Shell commands, but not by running the application.</p>\n\n<p>Could anybody is having an idea how to do the backup and restore of the Application's database data?</p>\n"},{"tags":["php","sqlite"],"answer_count":3,"favorite_count":1,"up_vote_count":0,"down_vote_count":1,"view_count":28,"score":-1,"question_id":12747252,"title":"Inerting variables into a SQLite query","body":"<p>I am new to SQLite and PHP so sorry about this newbie question.</p>\n\n<p>If i use fixed numbers for the values here it does not throw an error, but this does..?</p>\n\n<pre><code>if (isset($_POST['l'])) { \n$query ='INSERT INTO clickmap (x, y, location) ' .\n'VALUES (' . $_POST['x'] . ',' . $_POST['y'] . ',' . $_POST['l'] . ') ';\n</code></pre>\n\n<p>Thanks in advance.</p>\n"},{"tags":["sql","database","query","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":12746886,"title":"SQLite Update Method Not Failing for Invalid datatype","body":"<p>I'm having a strange problem with an SQLite Database, specifically with data validation on an UPDATE query. So let me begin, if i use the following query, i get a 'datatype mismatch' error when i try to run it. This is correct and expected because the field type is marked as an integer.</p>\n\n<pre><code>INSERT OR REPLACE INTO Table ('Column') VALUES ('shouldFail')\n</code></pre>\n\n<p>However, one would also expect that the following UPDATE query should return the same 'datatype mismatch' error, but it doesn't. I can run the following query perfectly fine, which allows me to end up with a 'String' data type in a column which is marked as INTEGER only...</p>\n\n<pre><code>UPDATE Table SET 'Column'='shouldFail' WHERE SecondColumn = 'Some value'\n</code></pre>\n\n<p>So can anyone tell me why the SQL datatype validation is working on the first query, but not on the second?</p>\n\n<p>Many Thanks\nSam</p>\n"},{"tags":["sql","sqlite","triggers","insert","primary-key"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":2,"view_count":77,"score":-2,"question_id":12745470,"title":"Insert record then update another table","body":"<p>I'm trying to wrap my head around how to efficiently insert data into a table that doesn't have all the information beforehand.</p>\n\n<p>I have two tables, <code>Table1</code> and <code>Table2</code>. <code>Table2</code>'s primary key is an autoincrementing int. This int serves as the ID for the row, and is also in a column in <code>Table1</code> (not unique, so multiple records in <code>Table1</code> can have the same <code>Table2.ID</code>).The problem is, how do I insert a new record into <code>Table1</code> that automatically fills in the relevant <code>Table2.ID</code> value?</p>\n\n<p>My logic is:</p>\n\n<ol>\n<li>Search <code>Table2</code> to see if the record exists. </li>\n<li>If it exists, return the ID value and insert new record in Table1 with that ID value</li>\n<li>If it doesn't exist, insert new record in Table2 and return the ID</li>\n<li>Insert new ID into relevant Table1 column</li>\n</ol>\n\n<p>Is it possible to have SQLite automate the insertion of the relevant ID rather than me having to do that in code (reading around, I've come across Triggers but not sure how to use them or if they're useful here)?</p>\n\n<p><strong>Updated question with example</strong> (I'm not allowed to discuss aspects of the actual game I'm working on, but this made-up example is of a similar nature)</p>\n\n<p>Table 2 will be called <code>Genre</code> and Table 1 will be called <code>Film</code> and all tables are empty. The Genre PK (auto int) will be linked to a Genre column (int) in <code>Film</code> table. The <code>Film</code> table has no <code>varchar</code> column to store the text version of the genre, just the int column.</p>\n\n<p>I insert a new <code>Film</code> record and pass in <code>Horror</code> as the genre. However, at this time, there are no <code>Horror</code> records in the <code>Genre</code> table, so there is no int value that can be inserted into the genre column of the <code>Film</code> table.</p>\n\n<p>Therefore, from my view (which may be inefficient as I'm not well versed with SQL), I need to insert the <code>Horror</code> genre into the <code>Genre</code> table first, somehow get the newly created ID, and then insert that ID into the <code>genre</code> column of the newly created <code>Film</code> record. When I add a second <code>Horror</code> film, the ID already exists in the <code>Genre</code> table, so SQLite should take that ID and place it in the new <code>Film</code> record for me. Is that possible?</p>\n"},{"tags":["php","sql","sqlite","sqlite3","aes"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":72,"score":0,"question_id":12712667,"title":"Implementing SQL AES ENCRYPTION into SQLite using PHP","body":"<p>is it possible to implement SQL AES_ENCRYPT/AES_DECRYPT into SQLite using PHP ?\nFor example I have a PHP Code:</p>\n\n<pre><code>$SQL = \"INSERT INTO parent (Request, Column1, Column2) VALUES ('$Request',AES_ENCRYPT('$Col1','$key'),AES_ENCRYPT('$Col2','$key'))\";\n</code></pre>\n\n<p>and this query works in SQL, but is it possible to use this same query in SQLite?</p>\n"},{"tags":["sql","database","sqlite","sqlitemanager"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":12741891,"title":"Run multiple commands in sqlite manager","body":"<p>It's possible to run more than one command in the direct SQL execution in SQlite Manager?\n(useful if you insert a lot of data)</p>\n\n<p>e.g.</p>\n\n<pre><code>insert into TestTable (Name, Age) values(\"Thomas\", 25)\ninsert into TestTable (Name, Age) values(\"Peter\", 29)\n...\n</code></pre>\n\n<p>Thx</p>\n"},{"tags":["android","sqlite"],"answer_count":0,"favorite_count":0,"up_vote_count":4,"down_vote_count":1,"view_count":36,"score":3,"question_id":12746320,"title":"How to backup and restore application database using android backup service?","body":"<p>Could any body is having an idea how to do the backup and restoring of the Application's database data?</p>\n"},{"tags":["sqlite","sed","escaping","quotes"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":2128,"score":1,"question_id":1272510,"title":"Escape Single Quote Characters when Importing to SQLite","body":"<p>I have a records.txt file like this:</p>\n\n<pre><code>INSERT INTO 'blogtitles' VALUES('Kelly's at house');\nINSERT INTO 'blogtitles' VALUES('Nice catch!');\n</code></pre>\n\n<p>When i try to import records.txt into the db: sqlite3 my.db &lt; records.txt\nIt gives an error because of the first line.\nI have many lines like this in the records.txt file.\nI need a sed syntax that will escape all these single quotes within the strings. So there will not be any problem when importing.\nI really need this :(\nThank you!</p>\n"},{"tags":["sqlite","substr"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":28,"score":2,"question_id":12744155,"title":"Sqlite Create new columns from column containing  ;","body":"<p>I have a database <code>test.db</code> with the first column containing <code>123456;abcdef;ghijk</code> etc. Is it possible to split the data into its own colums?</p>\n\n<p><code>123456</code> never changes length.</p>\n\n<p><code>abcdef</code> and <code>ghijk</code> change length and also may contain nothing.</p>\n\n<p>I have tried the below string but i get the <code>;</code> appear in either <code>t2</code> or <code>t3</code> depending on the length of <code>abcdef</code> and <code>ghijk</code>.</p>\n\n<pre><code>select substr(column,1,6) AS \"t1\",\n       substr(column,8,6) AS \"t2\",\n       substr(column,15,10) AS \"t3\" test.db\n</code></pre>\n\n<p>Is the <code>;</code> seperator causing the issue?</p>\n\n<p>Or can i output the database to <code>.sql</code>, format the txt then import to a new database?</p>\n"}]}
{"total":16516,"page":13,"pagesize":100,"questions":[{"tags":["sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":12744523,"title":"primary key in a SQLite table made of two columns","body":"<p>I would like to make a primary key in a SQLite table made of two columns which work like this:</p>\n\n<ul>\n<li>Columns: <code>id1</code>, <code>id2</code>, <code>value</code></li>\n<li>Multiple rows can share <code>id1</code></li>\n<li>Multiple rows can share <code>id2</code></li>\n<li>But only one row can share <em>both</em> <code>id1</code> <em>and</em> <code>id2</code></li>\n</ul>\n\n<p>I read a lot but all question I found told how to make two independent primary keys, but it is not my case.</p>\n"},{"tags":["android","database","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":121,"score":0,"question_id":11485041,"title":"How to use a cursor on a SQLite database","body":"<p>I was following a tutorial to make a database cursor, but I have hit an issue; when I write the code below I get no option to add a query after the database's name:</p>\n\n<pre><code>public String getData(){\n    db.open();\n    Cursor c = db.   ;\n    return none;\n}\n</code></pre>\n\n<p><code>db</code> is my database's name. I was wondering if anyone knows why it doesn't give me the option. When I type query it says hat is does not exist in DBAdapter. Do I have to add something to my DBAdapter class? And if so, what do I have to add?</p>\n\n<p>This is my Activity Java:</p>\n\n<pre><code>package com.course.ucas;\n\nimport java.util.ArrayList;\n\nimport android.app.Activity;\nimport android.content.Context;\nimport android.database.Cursor;\nimport android.database.sqlite.SQLiteException;\nimport android.os.Bundle;\nimport android.widget.ArrayAdapter;\nimport android.widget.Toast;\nimport android.database.sqlite.SQLiteDatabase; \n\npublic class DatabaseActivity extends Activity {\n/** Called when the activity is first created. */\nDBAdapter db;\n@Override\npublic void onCreate(Bundle savedInstanceState) {\nsuper.onCreate(savedInstanceState);\nsetContentView(R.layout.activity_main);\n\nDBAdapter db = new DBAdapter(this);\ndb.open();\nlong id;\nid = db.insertTitle(\n\"UNIVERSITY OF ABERDEEN\",\"Computer Science\",310,84,0,\"BBB\",\"\");\nid = db.insertTitle(\n\"UNIVERSITY OF ABERTAY DUNDEE\",\"Computer Science\",300,0,70,\"CCC\",\"N/A\");\nid = db.insertTitle(\n\"ABERYSTWYTH UNIVERSITY\",\"Computer Science\",270,79,70,\"BBC\",\"N/A\");\nid = db.insertTitle(\n\"ANGLIA RUSKIN UNIVERSITY\",\"Computer Science\",220,69,50,\"CCC\",\"N/A\");\nid = db.insertTitle(\n\"ASTON UNIVERSITY\",\"Computer Science\",330,91,80,\"BBB\",\"N/A\");\nid = db.insertTitle(\n\"BANGOR UNIVERSITY\",\"Computer Science\",260,86,0,\"CCC\",\"N/A\");\nid = db.insertTitle(\n\"UNIVERSITY OF BATH\",\"Computer Science\",440,91,100,\"AAA\",\"A*AB\");\nid = db.insertTitle(\n\"UNIVERSITY OF BEDFORDSHIRE\",\"Computer Science\",120,74,50,\"CCD\",\"N/A\");\nid = db.insertTitle(\n\"UNIVERSITY OF BIRMINGHAM\",\"Computer Science\",400,76,90,\"AAB\",\"N/A\");\nid = db.insertTitle(\n\"BIRMINGHAM CITY UNIVERSITY\",\"Computer Science\",240,68,70,\"BCC\",\"N/A\");\nid = db.insertTitle(\n\"THE UNIVERSITY OF BOLTON\",\"Computer Science\",0,78,0,\"CCC\",\"N/A\");\nid = db.insertTitle(\n\"UNIVERSITY OF BRADFORD\",\"Computer Science\",180,72,50,\"CCC\",\"N/A\");\nid = db.insertTitle(\n\"UNIVERSITY OF BRIGHTON\",\"Computer Science\",270,80,69,\"BBB\",\"N/A\");\nid = db.insertTitle(\n\"UNIVERSITY OF BRISTOL\",\"Computer Science\",480,96,95,\"AAA\",\"N/A\");\nid = db.insertTitle(\n\"THE UNIVERSITY OF BUCKINGHAM\",\"Computer Science\",0,0,0,\"BBC\",\"N/A\");\nid = db.insertTitle(\n\"BUCKINGHAMSHIRE NEW UNIVERSITY\",\"Computer Science\",150,61,55,\"CCD\",\"N/A\");\nid = db.insertTitle(\n\"UNIVERSITY OF CAMBRIDGE\",\"Computer Science\",580,95,100,\"A*AA\",\"N/A\");\nid = db.insertTitle(\n\"CANTERBURY CHRIST CHURCH UNIVERSITY\",\"Computer Science\",170,81,45,\"CCC\",\"N/A\");\nid = db.insertTitle(\n\"CARDIFF UNIVERSITY\",\"Computer Science\",360,79,82,\"ABB\",\"N/A\");\nid = db.insertTitle(\n\"CARDIFF METROPOLITAN UNIVERSITY\",\"Computer Science\",200,93,55,\"BBC\",\"N/A\");\nid = db.insertTitle(\n\"UNIVERSITY OF CENTRAL LANCASHIRE\",\"Computer Science\",240,75,74,\"CCC\",\"BBC\");\nid = db.insertTitle(\n\"UNIVERSITY OF CHESTER\",\"Computer Science\",240,86,75,\"CCC\",\"N/A\");\nid = db.insertTitle(\n\"THE CITY UNIVERSITY\",\"Computer Science\",320,65,73,\"AAA\",\"N/A\");\nid = db.insertTitle(\n\"COVENTRY UNIVERSITY\",\"Computer Science\",230,67,65,\"BBC\",\"N/A\");\nid = db.insertTitle(\n\"THE UNIVERSITY OF CUMBRIA\",\"Computer Science\",0,0,0,\"CCC\",\"N/A\");\nid = db.insertTitle(\n\"DE MONTFORT UNIVERSITY\",\"Computer Science\",230,80,58,\"AAA\",\"N/A\");\nid = db.insertTitle(\n\"UNIVERSITY OF DERBY\",\"Computer Science\",260,73,70,\"BBC\",\"N/A\");\nid = db.insertTitle(\n\"UNIVERSITY OF DUNDEE\",\"Computer Science\",336,96,85,\"BBB\",\"N/A\");\nid = db.insertTitle(\n\"DURHAM UNIVERSITY\",\"Computer Science\",440,81,100,\"AAA\",\"N/A\");\nid = db.insertTitle(\n\"UNIVERSITY OF EAST ANGLIA\",\"Computer Science\",320,89,55,\"BBB\",\"N/A\");\nid = db.insertTitle(\n\"UNIVERSITY OF EAST LONDON\",\"Computer Science\",205,74,39,\"CDD\",\"N/A\");\nid = db.insertTitle(\n\"UNIVERSITY OF EDINBURGH\",\"Computer Science\",428,90,85,\"AAA\",\"ABB\");\nid = db.insertTitle(\n\"EDINBURGH NAPIER UNIVERSITY\",\"Computer Science\",260,83,58,\"CCD\",\"N/A\");\nid = db.insertTitle(\n\"UNIVERSITY OF ESSEX\",\"Computer Science\",315,84,75,\"BBB\",\"N/A\");\nid = db.insertTitle(\n\"UNIVERSITY OF EXETER\",\"Computer Science\",0,86,95,\"ABB\",\"N/A\");\nid = db.insertTitle(\n\"UNIVERSITY OF GLAMORGAN / PRIFYSGOL MORGANNWG\",\"Computer Science\",280,69,52,\"BBB\",\"N/A\");\nid = db.insertTitle(\n\"UNIVERSITY OF GLASGOW\",\"Computer Science\",384,98,90,\"ABB\",\"N/A\");\nid = db.insertTitle(\n\"GLASGOW CALEDONIAN UNIVERSITY\",\"Computer Science\",258,80,51,\"CC\",\"N/A\");\nid = db.insertTitle(\n\"UNIVERSITY OF GLOUCESTERSHIRE\",\"Computer Science\",220,73,71,\"CCC\",\"N/A\");\nid = db.insertTitle(\n\"GLYNDWR UNIVERSITY\",\"Computer Science\",200,75,70,\"CCC\",\"N/A\");\nid = db.insertTitle(\n\"GOLDSMITHS' COLLEGE\",\"Computer Science\",220,83,70,\"BBB\",\"N/A\");\nid = db.insertTitle(\n\"UNIVERSITY OF GREENWICH\",\"Computer Science\",180,89,54,\"BBC\",\"N/A\");\nid = db.insertTitle(\n\"HERIOT-WATT UNIVERSITY\",\"Computer Science\",288,77,90,\"BBB\",\"N/A\");\nid = db.insertTitle(\n\"UNIVERSITY OF HERTFORDSHIRE\",\"Computer Science\",180,80,62,\"CDD\",\"N/A\");\nid = db.insertTitle(\n\"UNIVERSITY OF THE HIGHLANDS AND ISLANDS\",\"Computer Science\",0,0,0,\"D\",\"N/A\");\nid = db.insertTitle(\n\"UNIVERSITY OF HUDDERSFIELD\",\"Computer Science\",240,63,84,\"BBB\",\"N/A\");\nid = db.insertTitle(\n\"UNIVERSITY OF HULL\",\"Computer Science\",240,83,95,\"BBC\",\"N/A\");\nid = db.insertTitle(\n\"IMPERIAL COLLEGE, LONDON\",\"Computer Science\",510,84,98,\"AAA\",\"N/A\");\nid = db.insertTitle(\n\"KEELE UNIVERSITY\",\"Computer Science\",260,74,0,\"BBB\",\"N/A\");\nid = db.insertTitle(\n\"UNIVERSITY OF KENT\",\"Computer Science\",310,80,90,\"BBB\",\"N/A\");\nid = db.insertTitle(\n\"KING'S COLLEGE LONDON\",\"Computer Science\",370,82,90,\"AAB\",\"N/A\");\nid = db.insertTitle(\n\"KINGSTON UNIVERSITY\",\"Computer Science\",200,73,68,\"BBC\",\"N/A\");\nid = db.insertTitle(\n\"LANCASTER UNIVERSITY\",\"Computer Science\",380,81,80,\"ABB\",\"N/A\");\nid = db.insertTitle(\n\"UNIVERSITY OF LEEDS\",\"Computer Science\",370,69,90,\"AAA\",\"N/A\");\nid = db.insertTitle(\n\"LEEDS METROPOLITAN UNIVERSITY\",\"Computer Science\",180,71,57,\"BBC\",\"N/A\");\nid = db.insertTitle(\n\"UNIVERSITY OF LEICESTER\",\"Computer Science\",330,92,80,\"ABB\",\"N/A\");\nid = db.insertTitle(\n\"UNIVERSITY OF LIVERPOOL\",\"Computer Science\",360,89,80,\"AAB\",\"ABB\");\nid = db.insertTitle(\n\"LIVERPOOL HOPE UNIVERSITY\",\"Computer Science\",280,78,40,\"ABB\",\"N/A\");\nid = db.insertTitle(\n\"UNIVERSITY COLLEGE LONDON\",\"Computer Science\",430,87,90,\"A*AA\",\"N/A\");\nid = db.insertTitle(\n\"LONDON METROPOLITAN UNIVERSITY\",\"Computer Science\",140,73,55,\"ABB\",\"N/A\");\nid = db.insertTitle(\n\"LOUGHBOROUGH UNIVERSITY\",\"Computer Science\",340,88,88,\"ABB\",\"N/A\");\nid = db.insertTitle(\n\"THE UNIVERSITY OF MANCHESTER\",\"Computer Science\",400,82,83,\"AAB\",\"N/A\");\nid = db.insertTitle(\n\"THE MANCHESTER METROPOLITAN UNIVERSITY\",\"Computer Science\",220,67,66,\"CCC\",\"N/A\");\nid = db.insertTitle(\n\"MIDDLESEX UNIVERSITY\",\"Computer Science\",140,73,50,\"CDD\",\"N/A\");\nid = db.insertTitle(\n\"NEWCASTLE UNIVERSITY\",\"Computer Science\",350,88,90,\"ABB\",\"N/A\");\nid = db.insertTitle(\n\"THE UNIVERSITY OF NORTHAMPTON\",\"Computer Science\",200,75,60,\"BBB\",\"N/A\");\nid = db.insertTitle(\n\"UNIVERSITY OF NORTHUMBRIA\",\"Computer Science\",240,80,77,\"BBC\",\"N/A\");\nid = db.insertTitle(\n\"UNIVERSITY OF NOTTINGHAM\",\"Computer Science\",360,82,90,\"BBB\",\"N/A\");\nid = db.insertTitle(\n\"NOTTINGHAM TRENT UNIVERSITY\",\"Computer Science\",260,69,68,\"BBC\",\"N/A\");\nid = db.insertTitle(\n\"OXFORD UNIVERSITY\",\"Computer Science\",520,0,90,\"AAA\",\"N/A\");\nid = db.insertTitle(\n\"OXFORD BROOKES UNIVERSITY\",\"Computer Science\",260,85,85,\"BBC\",\"N/A\");\nid = db.insertTitle(\n\"UNIVERSITY OF PLYMOUTH\",\"Computer Science\",260,76,75,\"BBB\",\"N/A\");\nid = db.insertTitle(\n\"UNIVERSITY OF PORTSMOUTH\",\"Computer Science\",240,81,72,\"BBC\",\"N/A\");\nid = db.insertTitle(\n\"QUEEN'S UNIVERSITY BELFAST\",\"Computer Science\",320,84,84,\"BBB\",\"N/A\");\nid = db.insertTitle(\n\"QUEEN MARY, UNIVERSITY OF LONDON\",\"Computer Science\",300,88,65,\"BBB\",\"N/A\");\nid = db.insertTitle(\n\"UNIVERSITY OF READING\",\"Computer Science\",350,79,95,\"ABB\",\"N/A\");\nid = db.insertTitle(\n\"THE ROBERT GORDON UNIVERSITY\",\"Computer Science\",240,79,80,\"CCC\",\"N/A\");\nid = db.insertTitle(\n\"ROYAL HOLLOWAY, UNIVERSITY OF LONDON\",\"Computer Science\",320,82,0,\"BBB\",\"N/A\");\nid = db.insertTitle(\n\"UNIVERSITY OF SALFORD\",\"Computer Science\",240,89,75,\"BBB\",\"N/A\");\nid = db.insertTitle(\n\"UNIVERSITY OF SHEFFIELD\",\"Computer Science\",390,83,95,\"ABB\",\"N/A\");\nid = db.insertTitle(\n\"SHEFFIELD HALLAM UNIVERSITY\",\"Computer Science\",240,73,73,\"BBC\",\"N/A\");\nid = db.insertTitle(\n\"UNIVERSITY OF SOUTHAMPTON\",\"Computer Science\",450,92,95,\"AAA\",\"N/A\");\nid = db.insertTitle(\n\"SOUTHAMPTON SOLENT UNIVERSITY\",\"Computer Science\",240,68,85,\"CDD\",\"N/A\");\nid = db.insertTitle(\n\"STAFFORDSHIRE UNIVERSITY\",\"Computer Science\",240,70,78,\"CDD\",\"N/A\");\nid = db.insertTitle(\n\"UNIVERSITY OF ST ANDREWS\",\"Computer Science\",458,90,0,\"AAB\",\"N/A\");\nid = db.insertTitle(\n\"UNIVERSITY OF STIRLING\",\"Computer Science\",255,100,65,\"BBC\",\"N/A\");\nid = db.insertTitle(\n\"UNIVERSITY OF STRATHCLYDE\",\"Computer Science\",333,97,90,\"BBC\",\"N/A\");\nid = db.insertTitle(\n\"UNIVERSITY OF SUNDERLAND\",\"Computer Science\",225,59,70,\"BBB\",\"N/A\");\nid = db.insertTitle(\n\"UNIVERSITY OF SURREY\",\"Computer Science\",380,89,90,\"AAB\",\"N/A\");\nid = db.insertTitle(\n\"UNIVERSITY OF SUSSEX\",\"Computer Science\",360,84,85,\"ABB\",\"BBB\");\nid = db.insertTitle(\n\"SWANSEA UNIVERSITY\",\"Computer Science\",280,82,75,\"ABB\",\"N/A\");\nid = db.insertTitle(\n\"TEESSIDE UNIVERSITY\",\"Computer Science\",260,78,64,\"BBC\",\"N/A\");\nid = db.insertTitle(\n\"UNIVERSITY OF ULSTER\",\"Computer Science\",237,73,63,\"BBB\",\"N/A\");\nid = db.insertTitle(\n\"UNIVERSITY OF WALES: TRINITY SAINT DAVID\",\"Computer Science\",0,77,0,\"CDD\",\"N/A\");\nid = db.insertTitle(\n\"UNIVERSITY OF WALES, NEWPORT\",\"Computer Science\",230,81,50,\"CDD\",\"N/A\");\nid = db.insertTitle(\n\"UNIVERSITY OF WARWICK\",\"Computer Science\",480,87,100,\"AAB\",\"N/A\");\nid = db.insertTitle(\n\"UNIVERSITY OF THE WEST OF ENGLAND, BRISTOL\",\"Computer Science\",240,74,84,\"BBB\",\"N/A\");\nid = db.insertTitle(\n\"THE UNIVERSITY OF WEST LONDON\",\"Computer Science\",0,37,0,\"CDD\",\"N/A\");\nid = db.insertTitle(\n\"THE UNIVERSITY OF WESTMINSTER\",\"Computer Science\",180,54,63,\"CCC\",\"AA\");\nid = db.insertTitle(\n\"UNIVERSITY OF THE WEST OF SCOTLAND\",\"Computer Science\",238,69,52,\"BBC\",\"N/A\");\nid = db.insertTitle(\n\"UNIVERSITY OF WOLVERHAMPTON\",\"Computer Science\",150,70,61,\"CCD\",\"N/A\");\nid = db.insertTitle(\n\"UNIVERSITY OF WORCESTER\",\"Computer Science\",210,65,55,\"CCC\",\"N/A\");\nid = db.insertTitle(\n\"UNIVERSITY OF YORK\",\"Computer Science\",460,91,100,\"AAA\",\"N/A\");\n\n\n  db.close();\n}\npublic String getData(){\n    db.open();\n    Cursor c = db.rawQuery(\"SELECT * FROM titles\", null);\n    c.moveToFirst();   \n    db.close();\n    return c.getString(c.getColumnIndex(\"UCAS\"));\n  }\n}\n</code></pre>\n\n<p>and this is my adapter:</p>\n\n<pre><code>package com.course.ucas;\n\nimport android.app.Activity;\nimport android.content.ContentValues;\nimport android.content.Context;\nimport android.database.Cursor;\nimport android.database.SQLException;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.database.sqlite.SQLiteOpenHelper;\nimport android.util.Log;\n\n public class DBAdapter {\npublic static final String KEY_ROWID = \"_id\";\npublic static final String KEY_UNIVERSITY = \"University\";\npublic static final String KEY_COURSE = \"Course\";   \npublic static final String KEY_UCAS = \"UCAS\";\npublic static final String KEY_SATISFACTION = \"Satisfaction\";\npublic static final String KEY_EMPLOYED = \"Employed\";\npublic static final String KEY_OFFER = \"Offer\";\npublic static final String KEY_OTHER = \"Other\";\nprivate static final String TAG = \"DBAdapter\";\nprivate static final String DATABASE_NAME = \"UCAS\";\nprivate static final String DATABASE_TABLE =\"titles\";\nprivate static final int DATABASE_VERSION = 1;\nprivate static final String DATABASE_CREATE =\n\"create table titles (_id integer primary key autoincrement, University text not null, Course text not null, UCAS int not null, Satisfaction int not null, Employed int not null, Offer text not null, Other text not null);\";\nprivate final Context context;\nprivate DatabaseHelper DBHelper;\nprivate SQLiteDatabase db;\npublic DBAdapter(Context ctx)\n{\nthis.context = ctx;\nDBHelper = new DatabaseHelper(context);\n}\nprivate static class DatabaseHelper extends SQLiteOpenHelper\n{\nDatabaseHelper(Context context)\n{\nsuper(context, DATABASE_NAME, null, DATABASE_VERSION);\n}\n@Override\npublic void onCreate(SQLiteDatabase db)\n{\ndb.execSQL(DATABASE_CREATE);\n}\n@Override\npublic void onUpgrade(SQLiteDatabase db, int oldVersion,\nint newVersion)\n{\nLog.w(TAG, \"Upgrading database from version \" + oldVersion\n+ \" to \"\n+ newVersion + \", which will destroy all old data\");\ndb.execSQL(\"DROP TABLE IF EXISTS titles\");\nonCreate(db);\n}\n}\npublic DBAdapter open() throws SQLException\n{\ndb = DBHelper.getWritableDatabase();\nreturn this;\n}\n//---closes the database---\npublic void close()\n{\nDBHelper.close();\n}\n//---insert a title into the database---\npublic long insertTitle(String university, String other, int i, int j,int k, String   UCAS, String employed)\n{\nContentValues initialValues = new ContentValues();\ninitialValues.put(KEY_UNIVERSITY, university);\ninitialValues.put(KEY_COURSE, j);\ninitialValues.put(KEY_UCAS , UCAS);\ninitialValues.put(KEY_SATISFACTION, k);\ninitialValues.put(KEY_EMPLOYED , employed);\ninitialValues.put(KEY_OFFER , i);\ninitialValues.put(KEY_OTHER , other);\nreturn db.insert(DATABASE_TABLE, null, initialValues);\n}\n//---deletes a particular title---\npublic boolean deleteTitle(long rowId)\n{\nreturn db.delete(DATABASE_TABLE, KEY_ROWID +\n\"=\" + rowId, null) &gt; 0;\n}\n//---retrieves all the titles---\npublic Cursor getAllTitles()\n{\nreturn db.query(DATABASE_TABLE, new String[] {\nKEY_ROWID,\nKEY_UNIVERSITY,\nKEY_COURSE,\nKEY_UCAS ,\nKEY_SATISFACTION,\nKEY_EMPLOYED,\nKEY_OFFER,\nKEY_OTHER,\n},\nnull,\nnull,\nnull,\nnull,\nnull);\n}\n//---retrieves a particular title---\npublic Cursor getTitle(long rowId) throws SQLException\n{\nCursor mCursor =\ndb.query(true, DATABASE_TABLE, new String[] {\nKEY_ROWID,\nKEY_UNIVERSITY,\nKEY_COURSE,\nKEY_UCAS,\nKEY_SATISFACTION,\nKEY_EMPLOYED,\nKEY_OFFER,\nKEY_OTHER,\n},\nKEY_ROWID + \"=\" + rowId,\nnull,\nnull,\nnull,\nnull,\nnull);\nif (mCursor != null) {\nmCursor.moveToFirst();\n}\nreturn mCursor;\n}\n//---updates a title---\npublic boolean updateTitle(long rowID, String university, String other, int i, int j,int k, String UCAS, String employed)\n{\nContentValues args = new ContentValues();\nargs.put(KEY_UNIVERSITY, university);\nargs.put(KEY_COURSE, i);\nargs.put(KEY_UCAS , UCAS);\nargs.put(KEY_SATISFACTION, j);\nargs.put(KEY_EMPLOYED , employed);\nargs.put(KEY_OFFER , k);\nargs.put(KEY_OTHER , other);\nreturn db.update(DATABASE_TABLE, args,\nKEY_ROWID + \"=\" + rowID, null) &gt; 0;\n}\n\npublic String[] columns = new String[]{ KEY_ROWID, KEY_UNIVERSITY, KEY_COURSE,  KEY_UCAS, KEY_SATISFACTION, KEY_EMPLOYED, KEY_OFFER, KEY_OTHER };\n}\n</code></pre>\n"},{"tags":["android","database","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":110,"score":1,"question_id":11361722,"title":"Android Sqlite query detect when an element doesn't exists in the table","body":"<p>How can I detect when an element doesn't exist in my table? I need because I want to update/insert contacts on it. My problem it's that I want to insert a new contact by using ContentObserver but this element is called multiple times and I'm selecting the last element. So when i insert a new contact, I select the last element, I'm trying to identify if exists on the db and insert it.</p>\n"},{"tags":["javascript","android","sqlite","phonegap"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12743888,"title":"Multiple databases getting created","body":"<p>I'm developing an Android application using PhoneGap. Creation and insertion operations are performed by java, Selection is performed by JavaScript.</p>\n\n<p>I've created database and tables at this location <code>var db= \"/data/data/com.xxx.package/app_database/file__0/0000000000000001.db\"</code> in android and PhoneGap(1.3.0) code was able to fetch the data from those tables.</p>\n\n<p>Now I have upgraded to PhoneGap-2.1.0, all of sudden there are two databases getting created namely : 0000000000000001.db and 0000000000000002.db (both are getting created at the same location under /file__0). I assume the second db i.e 0000000000000002.db is getting creating because I've used this statement : <code>var db = window.openDatabase(someObj.db_name, \"1.0\", someObj.db_message, 200000);</code> in phonegap.</p>\n"},{"tags":["android","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":432,"score":0,"question_id":5864300,"title":"Android SQLite Optimization adding rows","body":"<p>I am adding about 3000 rows to SQLite database and it takes about 8 seconds. How can I optimize this.  </p>\n"},{"tags":["android","sqlite","cursor"],"answer_count":4,"favorite_count":3,"up_vote_count":10,"down_vote_count":0,"view_count":10276,"score":10,"question_id":4920528,"title":"Iterate through rows from Sqlite-query","body":"<p>I have a table layout that I want to populate with the result from a database query. \nI use a select all and the query returns four rows of data. </p>\n\n<p>I use this code to populate the textviews inside the table rows. </p>\n\n<pre><code>Cursor c = null;\n        c = dh.getAlternative2();\n        startManagingCursor(c);\n        // the desired columns to be bound\n        String[] columns = new String[] {DataHelper.KEY_ALT};\n        // the XML defined views which the data will be bound to\n        int[] to = new int[] { R.id.name_entry};\n\n         SimpleCursorAdapter mAdapter = new SimpleCursorAdapter(this, \n                 R.layout.list_example_entry, c, columns, to);\n         this.setListAdapter(mAdapter);\n</code></pre>\n\n<p>I want to be able to separate the four different values of KEY_ALT, and choose where they go. I want them to populate four different textviews instead of one in my example above. How can I iterate through the resulting cursor?</p>\n\n<p>Regards, AK</p>\n"},{"tags":["java","android","sqlite","date","datetime-format"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":79,"score":0,"question_id":12740114,"title":"Java Current Date Time not recognized by Sqlite DateTime","body":"<p>I am using the following code in Android to get current date time </p>\n\n<pre><code>Date currentDateTime = new Date();\n</code></pre>\n\n<p>And storing it in the sqlite table as </p>\n\n<pre><code>currentDateTime.ToString()\n</code></pre>\n\n<p>SO in the table the values are stored like so</p>\n\n<pre><code>\"Tue Sep 11 20:32:39 IST 2012\"\n\"Thu Sep 13 17:23:38 IST 2012\"\n\"Thu Sep 13 17:34:38 IST 2012\"\n\"Thu Sep 13 20:21:58 IST 2012\"\n</code></pre>\n\n<p>Now I need to sort them in sqlite in desc order i.e.</p>\n\n<pre><code>select datetime(datecolumn) from table order by datetime(datecolumn) desc;\n</code></pre>\n\n<blockquote>\n  <p>But when I do datetime(column) on the field it shows me null for all the rows on the date field</p>\n</blockquote>\n\n<p>Obviously there is a data mismatch on the sqlite side. But I am not sure how to fix it - Is there a way I can still change the query on the sqlite side to be able to read this? Or do I have to change the JAVA code and insert the data in a sqlite readable format. </p>\n\n<p>I need the times also since I am dealing with hourly data. </p>\n"},{"tags":["iphone","ios","sqlite","uti","info-plist"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12741377,"title":"What is the uniform type identifier (UTI) for an SQLite file on iOS?","body":"<p>I want my app to open SQLite files. What is the proper UTI (uniform type identifier, e.g. public.plain-text for plain text files) for SQLite files?</p>\n"},{"tags":["android","sqlite","listview","datatable","populate"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":74,"score":0,"question_id":12739906,"title":"SQlite Database with several tables populating to different listviews","body":"<p>Im in the process of making an app. My first activity displays several buttons. Each button should read out data from one table inside a database. I have the database inside the assets folder and also added the android metadata and _id to the database. In my main activity I am \"importing\" the db with following code:</p>\n\n<pre><code>public class DataBaseHelper extends SQLiteOpenHelper{\n\n\n\n    private static final String DB_PATH = \"/data/data/com.mypackage/databases/\";\n\n    private static final String DB_NAME = \"dbname.sqlite\";\n\n    private SQLiteDatabase myDataBase;\n\n    private final Context myContext;\n\n    /**\n      * Constructor\n      * Takes and keeps a reference of the passed context in order to access to the application assets and resources.\n      * @param context\n      */\n    public DataBaseHelper(Context context) {\n\n    super(context, DB_NAME, null, 1);\n    this.myContext = context;\n    }   \n\n    /**\n      * Creates a empty database on the system and rewrites it with your own database.\n      * */\n    public void createDataBase() throws IOException{\n\n    boolean dbExist = checkDataBase();\n\n    if(dbExist){\n    //do nothing - database already exist\n    }else{\n\n    //By calling this method and empty database will be created into the default system path\n    //of your application so we are gonna be able to overwrite that database with our database.\n    this.getReadableDatabase();\n\n    try {\n\n    copyDataBase();\n\n    } catch (IOException e) {\n\n    throw new Error(\"Error copying database\");\n\n    }\n    }\n\n    }\n\n    /**\n      * Check if the database already exist to avoid re-copying the file each time you open the application.\n      * @return true if it exists, false if it doesn't\n      */\n    private boolean checkDataBase(){\n\n    SQLiteDatabase checkDB = null;\n\n    try{\n    String myPath = DB_PATH + DB_NAME;\n    checkDB = SQLiteDatabase.openDatabase(myPath, null, SQLiteDatabase.OPEN_READONLY);\n\n    }catch(SQLiteException e){\n\n    //database does't exist yet.\n\n    }\n\n    if(checkDB != null){\n\n    checkDB.close();\n\n    }\n\n    return checkDB != null ? true : false;\n    }\n\n    /**\n      * Copies your database from your local assets-folder to the just created empty database in the\n      * system folder, from where it can be accessed and handled.\n      * This is done by transfering bytestream.\n      * */\n    private void copyDataBase() throws IOException{\n\n    //Open your local db as the input stream\n    InputStream myInput = myContext.getAssets().open(DB_NAME);\n\n    // Path to the just created empty db\n    String outFileName = DB_PATH + DB_NAME;\n\n    //Open the empty db as the output stream\n    OutputStream myOutput = new FileOutputStream(outFileName);\n\n    //transfer bytes from the inputfile to the outputfile\n    byte[] buffer = new byte[1024];\n    int length;\n    while ((length = myInput.read(buffer))&gt;0){\n    myOutput.write(buffer, 0, length);\n    }\n\n    //Close the streams\n    myOutput.flush();\n    myOutput.close();\n    myInput.close();\n\n    }\n\n    public void openDataBase() throws SQLException{\n\n    //Open the database\n    String myPath = DB_PATH + DB_NAME;\n    myDataBase = SQLiteDatabase.openDatabase(myPath, null, SQLiteDatabase.OPEN_READONLY);\n\n    }\n\n    @Override\n    public synchronized void close() {\n\n    if(myDataBase != null)\n    myDataBase.close();\n\n    super.close();\n\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n\n    }\n</code></pre>\n\n<p>Is the above code sufficient? Will the database be available in other activities?</p>\n\n<p>From my main activity now i would like to click example button \"Plants\". This should redirect me to the next activity and create a listview with all the plants names inside the plants table of the DB. </p>\n\n<p>The redirect i am doing with following code:</p>\n\n<pre><code>Button plantsBtn = (Button) findViewById(R.id.button5);\n\n    plantsBtn.setOnClickListener(new View.OnClickListener() {\n\n\n                 public void onClick(View view) {\n       //              Intent myIntent = new Intent(view.getContext(), plantslist.class);\n                     startActivityForResult(myIntent, 0);\n                 }\n\n\n\n    });\n</code></pre>\n\n<p>Here is where im stuck. I dont know how to populate the listview with only the names now. Also after clicking on the plant name inside the listview i would like to go to another linear layout that displays all other details from the other columns in the same table for the specific plant clicked.</p>\n\n<p>Inside the DB there are many tables with for example \"cars\" that will follow the same principle but i think if i can get it working for one table i am able to adapt it myself for the others.</p>\n\n<p>I know there are a lot of tutorials out there already but i haven't really found one that makes me understand or adapt to my situation. Help would be greatly appreciated!</p>\n"},{"tags":["c#","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":12741135,"title":"sqlite database is locked exception","body":"<p>I am using c# application and running the application in server machine as windows service.When i perform insert , update delete operation from client machine it throws database lock error as below,</p>\n\n<pre><code>database is locked\n   at System.Data.SQLite.SQLite3.Step(SQLiteStatement stmt)\n   at System.Data.SQLite.SQLiteDataReader.NextResult()\n   at System.Data.SQLite.SQLiteDataReader..ctor(SQLiteCommand cmd, CommandBehavior behave)\n   at System.Data.SQLite.SQLiteCommand.ExecuteReader(CommandBehavior behavior)\n   at System.Data.SQLite.SQLiteCommand.ExecuteNonQuery()\n   at System.Data.SQLite.SQLiteTransaction.Commit()\n</code></pre>\n\n<p>Below is my code</p>\n\n<pre><code>public int ExecuteNonQuerySQL(SQLiteCommand cmd)\n   {\n        int ireturn = 0;\n         if (conn.State != ConnectionState.Open)\n               Open(DataFile);\n          using (SQLiteTransaction dbtrans = conn.BeginTransaction(IsolationLevel.ReadCommitted))\n            {\n                  using (cmd.Connection=conn)\n                    {\n                         cmd.CommandText =cmd.CommandText ;\n                          cmd.Transaction = dbtrans;\n                           ireturn = cmd.ExecuteNonQuery();\n                           dbtrans.Commit();\n                           cmd.Dispose();\n                        }\n                   }\n               }\n</code></pre>\n\n<p>Please help me in this , I have done lot of googling and i must find some solution to solve this .\nRegards</p>\n"},{"tags":["sqlite"],"answer_count":11,"favorite_count":9,"up_vote_count":16,"down_vote_count":0,"view_count":4188,"score":16,"question_id":505220,"title":"Recommendation for Sqlite DB manager application?","body":"<p>There are quite a few Sqlite GUI applications listed here:</p>\n\n<p><a href=\"http://www.sqlite.org/cvstrac/wiki?p=ManagementTools\" rel=\"nofollow\">http://www.sqlite.org/cvstrac/wiki?p=ManagementTools</a></p>\n\n<p>some appear to be incomplete, buggy, not maintained, etc. Do you have any recommendations?</p>\n"},{"tags":["ruby-on-rails-3","sqlite","postgresql","bundle","gemfile"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":72,"score":1,"question_id":12740566,"title":"Trouble in bundle install to change sqlite3 to pg : Gemfile","body":"<p>I wanted to deploy my rails app to Heoku, so I made new rails app and then changed Gemfile</p>\n\n<pre><code>gem 'sqlite'\n</code></pre>\n\n<p>to</p>\n\n<pre><code>gem 'pg'\n</code></pre>\n\n<p>and then I did </p>\n\n<pre><code>bundle install\n</code></pre>\n\n<p>in my terminal (my dev environment is Mac OS 10.8.2) and get the following result.</p>\n\n<pre><code>Fetching gem metadata from https://rubygems.org/.........\nenter code hereUsing rake (0.9.2.2)\nUsing i18n (0.6.1) \nUsing multi_json (1.3.6) \nUsing activesupport (3.2.8)\nUsing builder (3.0.3) \nUsing activemodel (3.2.8) \nUsing erubis (2.7.0) \nUsing journey (1.0.4) \nUsing rack (1.4.1) \nUsing rack-cache (1.2) \nUsing rack-test (0.6.2) \nUsing hike (1.2.1) \nUsing tilt (1.3.3) \nUsing sprockets (2.1.3) \nUsing actionpack (3.2.8) \nUsing mime-types (1.19) \nUsing polyglot (0.3.3) \nUsing treetop (1.4.10) \nUsing mail (2.4.4) \nUsing actionmailer (3.2.8) \nUsing arel (3.0.2) \nUsing tzinfo (0.3.33) \nUsing activerecord (3.2.8) \nUsing activeresource (3.2.8) \nUsing bundler (1.2.0) \nUsing coffee-script-source (1.3.3) \nUsing execjs (1.4.0) \nUsing coffee-script (2.2.0) \nUsing rack-ssl (1.3.2) \nUsing json (1.7.5) \nUsing rdoc (3.12) \nUsing thor (0.16.0) \nUsing railties (3.2.8) \nUsing coffee-rails (3.2.2) \nUsing jquery-rails (2.1.3) \nInstalling pg (0.14.1) with native extensions \nGem::Installer::ExtensionBuildError: ERROR: Failed to build gem native extension.\n\n/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/bin/ruby extconf.rb \nchecking for pg_config... yes\nUsing config values from /usr/bin/pg_config\nchecking for libpq-fe.h... yes\nchecking for libpq/libpq-fs.h... yes\nchecking for pg_config_manual.h... yes\nchecking for PQconnectdb() in -lpq... no\nchecking for PQconnectdb() in -llibpq... no\nchecking for PQconnectdb() in -lms/libpq... no\nCan't find the PostgreSQL client library (libpq)\n*** extconf.rb failed ***\nCould not create Makefile due to some reason, probably lack of necessary libraries and/or headers.  Check the mkmf.log file for more details.  You may need configuration options.\n\nProvided configuration options:\n--with-opt-dir\n--without-opt-dir\n--with-opt-include\n--without-opt-include=${opt-dir}/include\n--with-opt-lib\n--without-opt-lib=${opt-dir}/lib\n--with-make-prog\n--without-make-prog\n--srcdir=.\n--curdir\n--ruby=/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/bin/ruby\n--with-pg\n--without-pg\n--with-pg-dir\n--without-pg-dir\n--with-pg-include\n--without-pg-include=${pg-dir}/include\n--with-pg-lib\n--without-pg-lib=${pg-dir}/lib\n--with-pg-config\n--without-pg-config\n--with-pg_config\n--without-pg_config\n--with-pqlib\n--without-pqlib\n--with-libpqlib\n--without-libpqlib\n--with-ms/libpqlib\n--without-ms/libpqlib\n\n\nGem files will remain installed in /Users/haegwankim/.bundler/tmp/44175/gems/pg-0.14.1 for inspection.\nResults logged to /Users/haegwankim/.bundler/tmp/44175/gems/pg-0.14.1/ext/gem_make.out\nAn error occurred while installing pg (0.14.1), and Bundler cannot continue.\nMake sure that `gem install pg -v '0.14.1'` succeeds before bundling.&lt;/pre&gt;\n</code></pre>\n\n<p>I did everything I could (google, friends, etc.) but couldn't figure out. I really appreciate someone could solve this problem. Cheers!</p>\n"},{"tags":["iphone","ios","xcode","sqlite","sqlite3"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":47,"score":2,"question_id":12739795,"title":"Replace Single Column Value in Single Row in Sqlite with iPhone App","body":"<p>I just started work with sqlite in iPhone application. Now the Question is I have 3 columns in Table. ID,Channel_Name and Channel_IP. Here is table Example.</p>\n\n<pre><code>ID  |   Channel_Name  |  Channel_IP   \n1   |   XYZ           |  http://0.0.0.0/indez.sdp/playlist.m3u8\n2   |   ABC           |  http://0.0.0.0/index.sdp/playlist.m3u8\n</code></pre>\n\n<p>Now i Just want to update the IP address in Channel_IP Column not the whole only the IP Address in the URL Link(like update 0.0.0.0 to 1.1.1.1 only IP Address). Also Search on Google but not found any relevant solution so if any know please let know.</p>\n\n<p>Thank You</p>\n"},{"tags":["sql","sqlite","sqlite3"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":35,"score":1,"question_id":12739115,"title":"Why is SQLite3 using covering indices instead of the indices I created?","body":"<p>I have an extremely large database (<code>contacts</code> has ~3 billion entries, <code>people</code> has ~280 million entries, and the other tables have a negligible number of entries). Most other queries I've run are really fast. However, I've encountered a more complicated query that's really slow. I'm wondering if there's any way to speed this up.</p>\n\n<p>First of all, here is my schema:</p>\n\n<pre><code>CREATE TABLE activities (id INTEGER PRIMARY KEY, name TEXT NOT NULL);\nCREATE TABLE contacts (\n        id INTEGER PRIMARY KEY,\n        person1_id INTEGER NOT NULL,\n        person2_id INTEGER NOT NULL,\n        duration REAL NOT NULL, -- hours\n        activity_id INTEGER NOT NULL\n    --  FOREIGN_KEY(person1_id) REFERENCES people(id),\n    --  FOREIGN_KEY(person2_id) REFERENCES people(id)\n    );\nCREATE TABLE people (\n        id INTEGER PRIMARY KEY,\n        state_id INTEGER NOT NULL,\n        county_id INTEGER NOT NULL,\n        age INTEGER NOT NULL,\n        gender TEXT NOT NULL, -- M or F\n        income INTEGER NOT NULL\n    --  FOREIGN_KEY(state_id) REFERENCES states(id)\n    );\nCREATE TABLE states (\n        id INTEGER PRIMARY KEY,\n        name TEXT NOT NULL,\n        abbreviation TEXT NOT NULL\n    );\nCREATE INDEX activities_name_index on activities(name);\nCREATE INDEX contacts_activity_id_index on contacts(activity_id);\nCREATE INDEX contacts_duration_index on contacts(duration);\nCREATE INDEX contacts_person1_id_index on contacts(person1_id);\nCREATE INDEX contacts_person2_id_index on contacts(person2_id);\nCREATE INDEX people_age_index on people(age);\nCREATE INDEX people_county_id_index on people(county_id);\nCREATE INDEX people_gender_index on people(gender);\nCREATE INDEX people_income_index on people(income);\nCREATE INDEX people_state_id_index on people(state_id);\nCREATE INDEX states_abbreviation_index on states(abbreviation);\nCREATE INDEX states_name_index on states(name);\n</code></pre>\n\n<p>Note that I've created an index on every column in the database. I don't care about the size of the database; speed is all I care about.</p>\n\n<p>Here's an example of a query that, as expected, runs almost instantly:</p>\n\n<pre><code>SELECT count(*) FROM people, states WHERE people.state_id=states.id and states.abbreviation='IA';\n</code></pre>\n\n<p>Here's the troublesome query:</p>\n\n<pre><code>SELECT * FROM contacts WHERE rowid IN\n    (SELECT contacts.rowid FROM contacts, people, states\n        WHERE contacts.person1_id=people.id AND people.state_id=states.id AND states.name='Kansas'\n            INTERSECT\n    SELECT contacts.rowid FROM contacts, people, states\n        WHERE contacts.person2_id=people.id AND people.state_id=states.id AND states.name='Missouri');\n</code></pre>\n\n<p>Now, what I think would happen is that each subquery would use each relevant index I've created to speed this up. However, when I show the query plan, I see this:</p>\n\n<pre><code>sqlite&gt; EXPLAIN QUERY PLAN SELECT * FROM contacts WHERE rowid IN (SELECT contacts.rowid FROM contacts, people, states WHERE contacts.person1_id=people.id AND people.state_id=states.id AND states.name='Kansas' INTERSECT SELECT contacts.rowid FROM contacts, people, states WHERE contacts.person2_id=people.id AND people.state_id=states.id AND states.name='Missouri');\n0|0|0|SEARCH TABLE contacts USING INTEGER PRIMARY KEY (rowid=?) (~25 rows)\n0|0|0|EXECUTE LIST SUBQUERY 1\n2|0|2|SEARCH TABLE states USING COVERING INDEX states_name_index (name=?) (~1 rows)\n2|1|1|SEARCH TABLE people USING COVERING INDEX people_state_id_index (state_id=?) (~5569556 rows)\n2|2|0|SEARCH TABLE contacts USING COVERING INDEX contacts_person1_id_index (person1_id=?) (~12 rows)\n3|0|2|SEARCH TABLE states USING COVERING INDEX states_name_index (name=?) (~1 rows)\n3|1|1|SEARCH TABLE people USING COVERING INDEX people_state_id_index (state_id=?) (~5569556 rows)\n3|2|0|SEARCH TABLE contacts USING COVERING INDEX contacts_person2_id_index (person2_id=?) (~12 rows)\n1|0|0|COMPOUND SUBQUERIES 2 AND 3 USING TEMP B-TREE (INTERSECT)\n</code></pre>\n\n<p>In fact, if I show the query plan for the first query I posted, I get this:</p>\n\n<pre><code>sqlite&gt; EXPLAIN QUERY PLAN SELECT count(*) FROM people, states WHERE people.state_id=states.id and states.abbreviation='IA';\n0|0|1|SEARCH TABLE states USING COVERING INDEX states_abbreviation_index (abbreviation=?) (~1 rows)\n0|1|0|SEARCH TABLE people USING COVERING INDEX people_state_id_index (state_id=?) (~5569556 rows)\n</code></pre>\n\n<p>And finally, here's a query that does use one of the indices I created just to prove they do get used:</p>\n\n<pre><code>SELECT contacts.* FROM contacts, people, states WHERE contacts.person1_id=people.id AND people.state_id=states.id AND states.name='Iowa';\n</code></pre>\n\n<p>That query generates the following query plan:</p>\n\n<pre><code>sqlite&gt; EXPLAIN QUERY PLAN SELECT contacts.* FROM contacts, people, states WHERE contacts.person1_id=people.id AND people.state_id=states.id AND states.name='Iowa';\n0|0|2|SEARCH TABLE states USING COVERING INDEX states_name_index (name=?) (~1 rows)\n0|1|1|SEARCH TABLE people USING COVERING INDEX people_state_id_index (state_id=?) (~5569556 rows)\n0|2|0|SEARCH TABLE contacts USING INDEX contacts_person1_id_index (person1_id=?) (~12 rows)\n</code></pre>\n\n<p>Why is SQLite using covering indices instead of the indices I created? Is this correct behavior?</p>\n"},{"tags":["android","query","sqlite","android-cursor"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":12739207,"title":"I want to display table field ExpNo in TextView","body":"<p>I want to display <code>table field ExpNo</code> in <code>TextView,</code> Please help me to write query in cursor or which way that you know...</p>\n\n<p>Sql Query is like : <code>Select Max(ExpNo) from table;</code>\n(how to write this query in android)</p>\n\n<p>please help me...</p>\n\n<p>i was write like :</p>\n\n<pre><code>public void dispExpNo()  \n   {\n    String[] exno = {\"ExpNo\"};  \n    Cursor c = db.query(\"tb_expense\",exno,null,null,null,null,null);                \n    txtExpno.setText(\"\"+c.getInt(0));\n    c.close();          \n   }\n</code></pre>\n"},{"tags":["android","sqlite","listview","simplecursoradapter","android-cursor"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":222,"score":0,"question_id":12358864,"title":"IllegalStateException: attempt to re-open an already-closed object. SimpleCursorAdapter problems","body":"<p>I'm totally new to android programming. I can see that this problem has been raised many times before. However, I am still not able to see what the problem is. I'm trying to connect the data from an SQLite database to a listview. In the ListActivity my onCreate looks like the following:</p>\n\n<pre><code>public void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_init_key);\n    getActionBar().setDisplayHomeAsUpEnabled(true); \n\n    DBHandler db = new DBHandler(this);\n\n    Cursor cursor = db.getKeyPointCursor(1, \"Crataegus\");\n    // the desired columns to be bound\n    String[] columns = new String[] { \"question1\",\"answer1\" };\n    // the XML defined views which the data will be bound to\n    int[] to = new int[] { R.id.question, R.id.answer };\n\n    SimpleCursorAdapter mAdapter = new SimpleCursorAdapter(this, R.layout.key_list_entry, cursor, columns, to, 0);\n\n    cursor.close();\n    this.setListAdapter(mAdapter);\n\n}\n</code></pre>\n\n<p>It raises the following exception, which I hope somebody can help me with.</p>\n\n<pre><code>09-10 21:52:01.505: W/dalvikvm(10976): threadid=1: thread exiting with uncaught exception (group=0x40c8e1f8)\n09-10 21:52:01.510: E/AndroidRuntime(10976): FATAL EXCEPTION: main\n09-10 21:52:01.510: E/AndroidRuntime(10976): java.lang.RuntimeException: Unable to start activity ComponentInfo{jem.danskflora/jem.danskflora.InitKeyActivity}: java.lang.IllegalStateException: attempt to re-open an already-closed object: android.database.sqlite.SQLiteQuery (mSql = SELECT * FROM Crataegus WHERE _id=?) \n09-10 21:52:01.510: E/AndroidRuntime(10976):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1970)\n09-10 21:52:01.510: E/AndroidRuntime(10976):    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1995)\n09-10 21:52:01.510: E/AndroidRuntime(10976):    at android.app.ActivityThread.access$600(ActivityThread.java:128)\n09-10 21:52:01.510: E/AndroidRuntime(10976):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1161)\n09-10 21:52:01.510: E/AndroidRuntime(10976):    at android.os.Handler.dispatchMessage(Handler.java:99)\n09-10 21:52:01.510: E/AndroidRuntime(10976):    at android.os.Looper.loop(Looper.java:137)\n09-10 21:52:01.510: E/AndroidRuntime(10976):    at android.app.ActivityThread.main(ActivityThread.java:4514)\n09-10 21:52:01.510: E/AndroidRuntime(10976):    at java.lang.reflect.Method.invokeNative(Native Method)\n09-10 21:52:01.510: E/AndroidRuntime(10976):    at java.lang.reflect.Method.invoke(Method.java:511)\n09-10 21:52:01.510: E/AndroidRuntime(10976):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:993)\n09-10 21:52:01.510: E/AndroidRuntime(10976):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:760)\n09-10 21:52:01.510: E/AndroidRuntime(10976):    at dalvik.system.NativeStart.main(Native Method)\n09-10 21:52:01.510: E/AndroidRuntime(10976): Caused by: java.lang.IllegalStateException: attempt to re-open an already-closed object: android.database.sqlite.SQLiteQuery (mSql = SELECT * FROM Crataegus WHERE _id=?) \n09-10 21:52:01.510: E/AndroidRuntime(10976):    at android.database.sqlite.SQLiteClosable.acquireReference(SQLiteClosable.java:33)\n09-10 21:52:01.510: E/AndroidRuntime(10976):    at android.database.sqlite.SQLiteQuery.fillWindow(SQLiteQuery.java:82)\n09-10 21:52:01.510: E/AndroidRuntime(10976):    at android.database.sqlite.SQLiteCursor.fillWindow(SQLiteCursor.java:164)\n09-10 21:52:01.510: E/AndroidRuntime(10976):    at android.database.sqlite.SQLiteCursor.getCount(SQLiteCursor.java:156)\n09-10 21:52:01.510: E/AndroidRuntime(10976):    at android.widget.CursorAdapter.getCount(CursorAdapter.java:196)\n09-10 21:52:01.510: E/AndroidRuntime(10976):    at android.widget.ListView.setAdapter(ListView.java:467)\n09-10 21:52:01.510: E/AndroidRuntime(10976):    at android.app.ListActivity.setListAdapter(ListActivity.java:265)\n09-10 21:52:01.510: E/AndroidRuntime(10976):    at jem.danskflora.InitKeyActivity.onCreate(InitKeyActivity.java:30)\n09-10 21:52:01.510: E/AndroidRuntime(10976):    at android.app.Activity.performCreate(Activity.java:4562)\n09-10 21:52:01.510: E/AndroidRuntime(10976):    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1053)\n09-10 21:52:01.510: E/AndroidRuntime(10976):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1934)\n09-10 21:52:01.510: E/AndroidRuntime(10976):    ... 11 more\n</code></pre>\n"},{"tags":["java","android","eclipse","sqlite","adapter"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":210,"score":0,"question_id":7373141,"title":"DatabaseNotClosed Exception - List View Scrolling","body":"<p>I have a list view populated by an adapter reading from SQLite database. When I scroll down in the list on screen I get the following error. I also get the same error when switching to another tab in the application (it is a tab based app).</p>\n\n<p>close() was never explicitly called on database \nDatabaseNotClosedException : Application did not close the cursor or database object that was opened here.</p>\n\n<p>Does anyone know why this is happening ? I have posted the main and adapter class files below.</p>\n\n<p>Main Class : </p>\n\n<pre><code>public class Home extends ListActivity {\n\nprivate DataBaseHelper myDbHelper;\n\n/** Called when the activity is first created. */\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.homeaz);\n\n    ListView yourList = (ListView) findViewById(android.R.id.list);\n\n    yourList.setOnItemClickListener(new OnItemClickListener()\n\n    {\n                    @Override\n                    public void onItemClick(AdapterView&lt;?&gt; arg0, View arg1, int arg2, long arg3) {\n\n                        Log.e(\"onClick\",\"\"+arg3);\n                        Intent i = new Intent(Home.this,DetailView.class);\n                        i.putExtra(DataBaseHelper.ID, arg3);\n                        // Activity returns an result if called with startActivityForResult\n\n                        /**Home.this.finish();*/\n                        startActivity(i);\n\n                        }   \n    });\n\n\n    myDbHelper = new DataBaseHelper(this);\n\n    try {\n\n        myDbHelper.createDataBase();\n\n} catch (IOException ioe) {\n\n    throw new Error(\"Unable to create database\");\n\n}\n\ntry {\n\n    myDbHelper.openDataBase();\n\n}catch(SQLException sqle){\n\n    throw sqle;\n\n}\n\ntry {\n\n    Cursor cursor = getPlaces();\n    showPlaces(cursor);\n\n}\n\nfinally {\n\nmyDbHelper.close();\n\n}\n}\n\nprivate static String ORDER_BY = NAME + \" ASC\";\n\nprivate Cursor getPlaces() {\n\n    SQLiteDatabase db = myDbHelper.getReadableDatabase();\n    Cursor cursor = db.query(TABLE_NAME, null, null, null, null, null, ORDER_BY);\n    startManagingCursor(cursor);\n    return cursor;\n\n}\n\nprivate void showPlaces(Cursor cursor) {\n\n    MyCustomAdapterClass adapter = new MyCustomAdapterClass(this,cursor, true); setListAdapter(adapter); \n\n}\n</code></pre>\n\n<p>Adapter Class :</p>\n\n<pre><code>public class MyCustomAdapterClass extends CursorAdapter {\n\npublic MyCustomAdapterClass(Context context, Cursor c, boolean autoRequery) {\n    super(context, c, autoRequery);\n    // TODO Auto-generated constructor stub\n}\n\n@Override\npublic View newView(Context context, Cursor cursor, ViewGroup parent) {\nreturn LayoutInflater.from(context).inflate(R.layout.item, parent, false);\n}\n\n@Override\n\npublic void bindView(View view, Context context, Cursor cursor) {\n((TextView) view.findViewById(R.id.name)).setText(cursor.getString(cursor.getColumnIndex(\"Name\")));\n((TextView) view.findViewById(R.id.description)).setText(cursor.getString(cursor.getColumnIndex(\"Area\")));\n((TextView) view.findViewById(R.id.address)).setText(cursor.getString(cursor.getColumnIndex(\"AddressLine1\")));\nswitch (cursor.getInt(cursor.getColumnIndex(\"_id\"))) {\ncase 1:\n((ImageView) view.findViewById(R.id.Logo)).setImageResource(R.drawable.picture1);\nbreak;\ncase 2:\n    ((ImageView) view.findViewById(R.id.Logo)).setImageResource(R.drawable.picture2);\nbreak;\ncase 3:\n    ((ImageView) view.findViewById(R.id.Logo)).setImageResource(R.drawable.picture3);\nbreak;\ncase 4:\n    ((ImageView) view.findViewById(R.id.Logo)).setImageResource(R.drawable.picture4);\nbreak;\ncase 5:\n    ((ImageView) view.findViewById(R.id.Logo)).setImageResource(R.drawable.picture5);\nbreak;\ncase 6:\n    ((ImageView) view.findViewById(R.id.Logo)).setImageResource(R.drawable.picture6);\nbreak;\ncase 7:\n    ((ImageView) view.findViewById(R.id.Logo)).setImageResource(R.drawable.picture7);\nbreak;\ncase 8:\n    ((ImageView) view.findViewById(R.id.Logo)).setImageResource(R.drawable.picture8);\nbreak;\ncase 9:\n    ((ImageView) view.findViewById(R.id.Logo)).setImageResource(R.drawable.picture9);\nbreak;\ncase 10:\n    ((ImageView) view.findViewById(R.id.Logo)).setImageResource(R.drawable.picture10);\nbreak;\ncase 11:\n    ((ImageView) view.findViewById(R.id.Logo)).setImageResource(R.drawable.picture11);\nbreak;\ncase 12:\n    ((ImageView) view.findViewById(R.id.Logo)).setImageResource(R.drawable.picture12);\nbreak;\ncase 13:\n    ((ImageView) view.findViewById(R.id.Logo)).setImageResource(R.drawable.picture13);\nbreak;\ncase 14:\n    ((ImageView) view.findViewById(R.id.Logo)).setImageResource(R.drawable.picture14);\nbreak;\ncase 15:\n    ((ImageView) view.findViewById(R.id.Logo)).setImageResource(R.drawable.picture15);\nbreak;\ncase 16:\n    ((ImageView) view.findViewById(R.id.Logo)).setImageResource(R.drawable.picture16);\nbreak;\ncase 17:\n    ((ImageView) view.findViewById(R.id.Logo)).setImageResource(R.drawable.picture17);\nbreak;\ncase 18:\n    ((ImageView) view.findViewById(R.id.Logo)).setImageResource(R.drawable.picture18);\nbreak;\ncase 19:\n    ((ImageView) view.findViewById(R.id.Logo)).setImageResource(R.drawable.picture19);\nbreak;\ncase 20:\n</code></pre>\n\n<p>Log :</p>\n\n<blockquote>\n09-10 18:44:25.495: INFO/ActivityManager(59): Starting activity: Intent { cmp=com.Beutelkind.Database/.DetailView (has extras) }\n09-10 18:44:25.665: DEBUG/dalvikvm(415): GC_EXTERNAL_ALLOC freed 4966 objects / 284992 bytes in 66ms\n09-10 18:44:26.284: DEBUG/dalvikvm(415): GC_EXTERNAL_ALLOC freed 300 objects / 14840 bytes in 56ms\n09-10 18:44:27.435: INFO/ActivityManager(59): Displayed activity com.Beutelkind.Database/.DetailView: 1888 ms (total 1888 ms)\n09-10 18:44:28.725: INFO/ActivityManager(59): Starting activity: Intent { cmp=com.Beutelkind.Database/.Main }\n09-10 18:44:28.825: INFO/Database(415): sqlite returned: error code = 14, msg = cannot open file at source line 25467\n09-10 18:44:28.825: ERROR/Database(415): sqlite3_open_v2(\"/mnt/sdcard/DatabaseC.sqlite\", &handle, 1, NULL) failed\n09-10 18:44:29.535: INFO/ActivityManager(59): Displayed activity com.Beutelkind.Database/.Main: 781 ms (total 781 ms)\n09-10 18:44:32.405: DEBUG/dalvikvm(415): GC_EXTERNAL_ALLOC freed 2748 objects / 167024 bytes in 63ms\n09-10 18:44:32.455: WARN/SQLiteCompiledSql(415): Releasing statement in a finalizer. Please ensure that you explicitly call close() on your cursor: SELECT DISTINCT _id, Name, Description, Area, Postcode, AddressLine1, OpeningTimes, NearestTube, Cos\n09-10 18:44:32.455: WARN/SQLiteCompiledSql(415): android.database.sqlite.DatabaseObjectNotClosedException: Application did not close the cursor or database object that was opened here\n09-10 18:44:32.455: WARN/SQLiteCompiledSql(415):     at android.database.sqlite.SQLiteCompiledSql.(SQLiteCompiledSql.java:62)\n09-10 18:44:32.455: WARN/SQLiteCompiledSql(415):     at android.database.sqlite.SQLiteProgram.(SQLiteProgram.java:80)\n09-10 18:44:32.455: WARN/SQLiteCompiledSql(415):     at android.database.sqlite.SQLiteQuery.(SQLiteQuery.java:46)\n09-10 18:44:32.455: WARN/SQLiteCompiledSql(415):     at android.database.sqlite.SQLiteDirectCursorDriver.query(SQLiteDirectCursorDriver.java:42)\n09-10 18:44:32.455: WARN/SQLiteCompiledSql(415):     at android.database.sqlite.SQLiteDatabase.rawQueryWithFactory(SQLiteDatabase.java:1345)\n09-10 18:44:32.455: WARN/SQLiteCompiledSql(415):     at android.database.sqlite.SQLiteDatabase.queryWithFactory(SQLiteDatabase.java:1229)\n09-10 18:44:32.455: WARN/SQLiteCompiledSql(415):     at android.database.sqlite.SQLiteDatabase.query(SQLiteDatabase.java:1184)\n09-10 18:44:32.455: WARN/SQLiteCompiledSql(415):     at com.Beutelkind.Database.DetailView.populateFields(DetailView.java:79)\n09-10 18:44:32.455: WARN/SQLiteCompiledSql(415):     at com.Beutelkind.Database.DetailView.onCreate(DetailView.java:70)\n09-10 18:44:32.455: WARN/SQLiteCompiledSql(415):     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)\n09-10 18:44:32.455: WARN/SQLiteCompiledSql(415):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2627)\n09-10 18:44:32.455: WARN/SQLiteCompiledSql(415):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2679)\n09-10 18:44:32.455: WARN/SQLiteCompiledSql(415):     at android.app.ActivityThread.access$2300(ActivityThread.java:125)\n09-10 18:44:32.455: WARN/SQLiteCompiledSql(415):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2033)\n09-10 18:44:32.455: WARN/SQLiteCompiledSql(415):     at android.os.Handler.dispatchMessage(Handler.java:99)\n09-10 18:44:32.455: WARN/SQLiteCompiledSql(415):     at android.os.Looper.loop(Looper.java:123)\n09-10 18:44:32.455: WARN/SQLiteCompiledSql(415):     at android.app.ActivityThread.main(ActivityThread.java:4627)\n09-10 18:44:32.455: WARN/SQLiteCompiledSql(415):     at java.lang.reflect.Method.invokeNative(Native Method)\n09-10 18:44:32.455: WARN/SQLiteCompiledSql(415):     at java.lang.reflect.Method.invoke(Method.java:521)\n09-10 18:44:32.455: WARN/SQLiteCompiledSql(415):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)\n09-10 18:44:32.455: WARN/SQLiteCompiledSql(415):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)\n09-10 18:44:32.455: WARN/SQLiteCompiledSql(415):     at dalvik.system.NativeStart.main(Native Method)\n09-10 18:44:32.475: ERROR/Database(415): close() was never explicitly called on database '/data/data/com.Beutelkind.Database/databases/DatabaseC.sqlite' \n09-10 18:44:32.475: ERROR/Database(415): android.database.sqlite.DatabaseObjectNotClosedException: Application did not close the cursor or database object that was opened here\n09-10 18:44:32.475: ERROR/Database(415):     at android.database.sqlite.SQLiteDatabase.(SQLiteDatabase.java:1810)\n09-10 18:44:32.475: ERROR/Database(415):     at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:817)\n09-10 18:44:32.475: ERROR/Database(415):     at android.database.sqlite.SQLiteDatabase.openOrCreateDatabase(SQLiteDatabase.java:851)\n09-10 18:44:32.475: ERROR/Database(415):     at android.database.sqlite.SQLiteDatabase.openOrCreateDatabase(SQLiteDatabase.java:844)\n09-10 18:44:32.475: ERROR/Database(415):     at android.app.ContextImpl.openOrCreateDatabase(ContextImpl.java:540)\n09-10 18:44:32.475: ERROR/Database(415):     at android.content.ContextWrapper.openOrCreateDatabase(ContextWrapper.java:203)\n09-10 18:44:32.475: ERROR/Database(415):     at android.database.sqlite.SQLiteOpenHelper.getWritableDatabase(SQLiteOpenHelper.java:98)\n09-10 18:44:32.475: ERROR/Database(415):     at android.database.sqlite.SQLiteOpenHelper.getReadableDatabase(SQLiteOpenHelper.java:158)\n09-10 18:44:32.475: ERROR/Database(415):     at com.Beutelkind.Database.DetailView.populateFields(DetailView.java:77)\n09-10 18:44:32.475: ERROR/Database(415):     at com.Beutelkind.Database.DetailView.onCreate(DetailView.java:70)\n09-10 18:44:32.475: ERROR/Database(415):     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)\n09-10 18:44:32.475: ERROR/Database(415):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2627)\n09-10 18:44:32.475: ERROR/Database(415):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2679)\n09-10 18:44:32.475: ERROR/Database(415):     at android.app.ActivityThread.access$2300(ActivityThread.java:125)\n09-10 18:44:32.475: ERROR/Database(415):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2033)\n09-10 18:44:32.475: ERROR/Database(415):     at android.os.Handler.dispatchMessage(Handler.java:99)\n09-10 18:44:32.475: ERROR/Database(415):     at android.os.Looper.loop(Looper.java:123)\n09-10 18:44:32.475: ERROR/Database(415):     at android.app.ActivityThread.main(ActivityThread.java:4627)\n09-10 18:44:32.475: ERROR/Database(415):     at java.lang.reflect.Method.invokeNative(Native Method)\n09-10 18:44:32.475: ERROR/Database(415):     at java.lang.reflect.Method.invoke(Method.java:521)\n09-10 18:44:32.475: ERROR/Database(415):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)\n09-10 18:44:32.475: ERROR/Database(415):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)\n09-10 18:44:32.475: ERROR/Database(415):     at dalvik.system.NativeStart.main(Native Method)\n</blockquote>\n"},{"tags":["android","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":75,"score":1,"question_id":9451869,"title":"usage of select statement in sqlite","body":"<pre><code>Cursor mCursor = mDb.query(true, CUSTOMER_TABLE_NAME, \n      new String[] {GENERIC_ID_KEY, ADDRESS_KEY, PHONE_KEY, EMAIL_KEY,CUSTOMER_NAME_KEY},\n      GENERIC_ID_KEY + \"=\" + customerDbId, null,\n      null, null, null, null);\n</code></pre>\n\n<p>How should I modify this command if GENERIC_ID_KEY  and  customerDbId is string.\nI tried using like in b/w but still negative results, n error is thrown.</p>\n"},{"tags":["php","mysql","sqlite","search","indexing"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":73,"score":2,"question_id":9335109,"title":"Use sqlite for search indexing?","body":"<p>Do you think it's a good idea?</p>\n\n<p>Like storing keywords from the real database inside a sqlite database, along with object IDs. SO when you search you do it with sqlite to get the IDs of the objects you found, and then query the real database using those IDs.</p>\n\n<p>example object from the mysql db:</p>\n\n<pre><code>ID   slug       title        content\n_____________________________________________________________________________\n5    bla-bla    Bla Bla      I know what you did last summer\n</code></pre>\n\n<p>this would get indexed in the sqlite like:</p>\n\n<pre><code>ID   keywords\n_____________________________________________________________________________\n5    know, summer, last, what\n</code></pre>\n\n<p>or maybe</p>\n\n<pre><code>   keyword     objects\n   _____________________\n   know        5, 6\n   summer      5\n   lst         5, 7, 10\n   ...\n</code></pre>\n\n<p>but you would get a huge database, probably with ~15000 entries considering the english vocabulary</p>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":149,"score":1,"question_id":8675753,"title":"Android Sqlite Delete with Limit","body":"<p>I have a database where it is possible for several rows to be identical.  I want to have the ability to only delete the first of the identical rows.  I tried using the LIMIT statement but I get an SQLiteException error when I try to use LIMIT.  I've tried doing several google searches and I've come up with nothing.  Can you not use LIMIT and delete on android?  Below is my exact code.  Thanks</p>\n\n<pre><code>db.execSQL(\"DELETE FROM \"+table+\" WHERE \" + someColumn+\"='\"+somevalue+\"' LIMIT 1\")\n</code></pre>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":205,"score":1,"question_id":7907381,"title":"Android query sqlite database","body":"<p>What am I doing wrong!?!?? \nI am trying to get a set of data to a listview.</p>\n\n<p>First I Open the database and then I trying to get the set, \nI get a response but only 1 row from the database and I am getting at least 10 when I trying it in sqlite browser.....\nAnyway I don't know if this make any sense, here is the code: (i am new at this, please don't laugh to much) </p>\n\n<p>And btw I use the same methods/functions in another listview but then I don't have any WHERE in my query and that works fine.... \nSo I want to get all the rows from the database and i only get the first one :) </p>\n\n<p>Thanks mates! </p>\n\n<pre><code>db.openDataBase();\nCursor c = db.getCoursesFromCountyID(countyID);\nBindsimpleCursorAdapter(c);\ndb.close();\n\nthe getCoursesFromCountyID = \nint id = Integer.parseInt(county);\n        return db.query(\"Courses\", new String[]{KEY_course_ID, KEY_course}, KEY_county_ID + \" = \" + id, null, null, null, null);\n\nAnd the BindsimpleCursorAdapter looks like this = \n\nstartManagingCursor(c);\n        SimpleCursorAdapter adapter = new SimpleCursorAdapter(this, R.layout.simpleadapter_courses, c, new String[]{DataBaseHelper.KEY_course_ID, DataBaseHelper.KEY_course}, new int[]{R.id.courseID, R.id.course});\n        ListView lv = new ListView(this);\n        lv = (ListView)findViewById(R.id.listViewCourses);\n        lv.setAdapter(adapter);\n</code></pre>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":249,"score":0,"question_id":7173506,"title":"Android sqlite syntax error","body":"<p>Hello my favorite help resource...</p>\n\n<p>I am a average android programmer making an application designed to simply randomly draw a name from an array and display it... The issue in putting this app into a release version is that it needs to have editable strings stored in a database, so I naturally turned to android's implementation of sql lite. I'll be honest, I didn't know the first thing about it up until after looking through the source code of the example I found. I am using a modified version of that example to simply store a name (the string) and the ID of the string... I run into a syntax error, I will display the logcat data later in the question... any other things you may find in my code that may be wrong, or even some tips, would be greatly appreciated...\nHere comes the onslaught of code...</p>\n\n<p>peopleDatabaseHelper</p>\n\n<pre><code>package com.b.wom.peopledatabase;\n\nimport android.content.Context;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.database.sqlite.SQLiteOpenHelper;\nimport android.util.Log;\n\npublic class peopleDatabaseHelper extends SQLiteOpenHelper {\n    private static final String DATABASE_NAME = \"applicationdata\";\n\n    private static final int DATABASE_VERSION = 1;\n\n    // Database creation sql statement\n    private static final String DATABASE_CREATE = \"create table todo (_id integer primary key autoincrement, \"\n            + \"name text not null);\";\n\n    public peopleDatabaseHelper(Context context) {\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\n    }\n\n    // Method is called during creation of the database\n    @Override\n    public void onCreate(SQLiteDatabase database) {\n        database.execSQL(DATABASE_CREATE);\n    }\n\n    // Method is called during an upgrade of the database, e.g. if you increase\n    // the database version\n    @Override\n    public void onUpgrade(SQLiteDatabase database, int oldVersion,\n            int newVersion) {\n        Log.w(peopleDatabaseHelper.class.getName(),\n                \"Upgrading database from version \" + oldVersion + \" to \"\n                        + newVersion + \", which will destroy all old data\");\n        database.execSQL(\"DROP TABLE IF EXISTS todo\");\n        onCreate(database);\n    }\n}\n\npeopleDbAdapter\n\n    package com.b.wom.peopledatabase;\n\n    import android.content.ContentValues;\n    import android.content.Context;\n    import android.database.Cursor;\n    import android.database.SQLException;\n    import android.database.sqlite.SQLiteDatabase;\n\n    public class peopleDbAdapter {\n\n        // Database fields\n        public static final String KEY_ROWID = \"_id\";\n        public static final String KEY_NAME = \"name\";\n        private static final String DATABASE_TABLE = \"table\";\n        private Context context;\n        private SQLiteDatabase database;\n        private peopleDatabaseHelper dbHelper;\n\n        public peopleDbAdapter(Context context) {\n            this.context = context;\n        }\n\n        public peopleDbAdapter open() throws SQLException {\n            dbHelper = new peopleDatabaseHelper(context);\n            database = dbHelper.getWritableDatabase();\n            return this;\n        }\n\n        public void close() {\n            dbHelper.close();\n        }\n\n        /**\n         * Create a new todo If the todo is successfully created return the new\n         * rowId for that note, otherwise return a -1 to indicate failure.\n         */\n        public long createPerson(String name) {\n            ContentValues initialValues = createContentValues(name);\n\n            return database.insert(DATABASE_TABLE, null, initialValues);\n        }\n\n        /**\n         * Update the todo\n         */\n        public boolean updatePerson(long rowId, String name) {\n            ContentValues updateValues = createContentValues(name);\n\n            return database.update(DATABASE_TABLE, updateValues, KEY_ROWID + \"=\"\n                    + rowId, null) &gt; 0;\n        }\n\n        /**\n         * Deletes todo\n         */\n        public boolean deletePerson(long rowId) {\n            return database.delete(DATABASE_TABLE, KEY_ROWID + \"=\" + rowId, null) &gt; 0;\n        }\n\n        /**\n         * Return a Cursor over the list of all people in the database\n         * \n         * @return Cursor over all people\n         */\n        public Cursor fetchAllPeople() {\n            return database.query(DATABASE_TABLE, new String[] { KEY_ROWID,\n                    KEY_NAME }, null, null, null, null, null);\n        }\n\n        /**\n         * Return a Cursor positioned at the defined person\n         */\n        public Cursor fetchPerson(long rowId) throws SQLException {\n            Cursor mCursor = database.query(true, DATABASE_TABLE, new String[] {\n                    KEY_ROWID, KEY_NAME }, KEY_ROWID + \"=\" + rowId, null, null,\n                    null, null, null);\n            if (mCursor != null) {\n                mCursor.moveToFirst();\n            }\n            return mCursor;\n        }\n\n        private ContentValues createContentValues(String name) {\n            ContentValues values = new ContentValues();\n            values.put(KEY_NAME, name);\n            return values;\n        }\n    }\n</code></pre>\n\n<p>peoplesetting (where the user enters in new people to add to the database)</p>\n\n<pre><code>package com.b.wom;\n\nimport com.b.wom.peopledatabase.peopleDbAdapter;\n\nimport android.app.Activity;\nimport android.content.Intent;\nimport android.content.SharedPreferences;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.view.View.OnClickListener;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.TableLayout;\nimport android.widget.TableRow;\nimport android.widget.Toast;\n\npublic class peoplesettings extends Activity {\n    public TableRow tr;\n    public EditText n;\n    public int currentimage;\n    public TableLayout tl;\n    public Button add;\n    public EditText et;\n    public SharedPreferences s;\n    private peopleDbAdapter database;\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.peoplesettings);\n        // sets up database\n        database = new peopleDbAdapter(this);\n        database.open();\n        // Adds button for adding more people\n        Button add = (Button) findViewById(R.id.add);\n        // allocates the namebox\n        Button pb = (Button) findViewById(R.id.peoplebutton);\n        pb.setBackgroundColor(0x0106000d);\n        pb.setOnClickListener(new OnClickListener(){\n\n            @Override\n            public void onClick(View v) {\n                Intent myIntent = new Intent(peoplesettings.this, peopleListView.class);\n                startActivity(myIntent);\n            }\n\n        });\n        n = (EditText) findViewById(R.id.namebox);\n        add.setOnClickListener(new OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                // Adds another person\n                add();\n            }\n        });\n    }\n\n    void add() {\n        // checks the text in the name box to make sure it isn't empty\n        if (n.toString() == \"\") {\n            Toast.makeText(this, \"Please enter a name into the text box...\",\n                    2000).show();\n        }\n        if (n.toString() != \"\") {\n            database.open();\n            database.createPerson(n.getText().toString());\n            n.setText(\"\");\n            Toast.makeText(this, \"Person added...\",\n                    2000).show();\n            database.close();\n        }\n    }\n\n}\n</code></pre>\n\n<p>peopleListView(where the app displays all the people in the database)</p>\n\n<pre><code>package com.b.wom;\n\nimport com.b.wom.peopledatabase.peopleDbAdapter;\n\nimport android.app.ListActivity;\nimport android.database.Cursor;\nimport android.os.Bundle;\nimport android.widget.ListView;\nimport android.widget.SimpleCursorAdapter;\n\npublic class peopleListView extends ListActivity {\n    private Cursor cursor;\n    private peopleDbAdapter database;\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        updatelistview();\n    }\n\n    void updatelistview() {\n        ListView lv = getListView();\n        database.open();\n        cursor = database.fetchAllPeople();\n        startManagingCursor(cursor);\n        String[] from = new String[] { peopleDbAdapter.KEY_NAME };\n        int[] to = { R.id.person_name, R.id.person_num };\n        // Now create an array adapter and set it to display using our row\n        SimpleCursorAdapter people = new SimpleCursorAdapter(this,\n                R.layout.person_textview, cursor, from, to);\n        lv.setAdapter(people);\n        database.close();\n    }\n}\n</code></pre>\n\n<p>Logcat data...</p>\n\n<pre><code>    08-24 09:08:59.056: ERROR/Database(872): Error inserting name=BB\n08-24 09:08:59.056: ERROR/Database(872): android.database.sqlite.SQLiteException: near \"table\": syntax error: , while compiling: INSERT INTO table(name) VALUES(?);\n08-24 09:08:59.056: ERROR/Database(872):     at android.database.sqlite.SQLiteProgram.native_compile(Native Method)\n08-24 09:08:59.056: ERROR/Database(872):     at android.database.sqlite.SQLiteProgram.compile(SQLiteProgram.java:110)\n08-24 09:08:59.056: ERROR/Database(872):     at android.database.sqlite.SQLiteProgram.&lt;init&gt;(SQLiteProgram.java:59)\n08-24 09:08:59.056: ERROR/Database(872):     at android.database.sqlite.SQLiteStatement.&lt;init&gt;(SQLiteStatement.java:41)\n08-24 09:08:59.056: ERROR/Database(872):     at android.database.sqlite.SQLiteDatabase.compileStatement(SQLiteDatabase.java:1027)\n08-24 09:08:59.056: ERROR/Database(872):     at android.database.sqlite.SQLiteDatabase.insertWithOnConflict(SQLiteDatabase.java:1413)\n08-24 09:08:59.056: ERROR/Database(872):     at android.database.sqlite.SQLiteDatabase.insert(SQLiteDatabase.java:1286)\n08-24 09:08:59.056: ERROR/Database(872):     at com.b.wom.peopledatabase.peopleDbAdapter.createPerson(peopleDbAdapter.java:40)\n08-24 09:08:59.056: ERROR/Database(872):     at com.b.wom.peoplesettings.add(peoplesettings.java:65)\n08-24 09:08:59.056: ERROR/Database(872):     at com.b.wom.peoplesettings$2.onClick(peoplesettings.java:53)\n08-24 09:08:59.056: ERROR/Database(872):     at android.view.View.performClick(View.java:2364)\n08-24 09:08:59.056: ERROR/Database(872):     at android.view.View.onTouchEvent(View.java:4179)\n08-24 09:08:59.056: ERROR/Database(872):     at android.widget.TextView.onTouchEvent(TextView.java:6541)\n08-24 09:08:59.056: ERROR/Database(872):     at android.view.View.dispatchTouchEvent(View.java:3709)\n08-24 09:08:59.056: ERROR/Database(872):     at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:884)\n08-24 09:08:59.056: ERROR/Database(872):     at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:884)\n08-24 09:08:59.056: ERROR/Database(872):     at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:884)\n08-24 09:08:59.056: ERROR/Database(872):     at com.android.internal.policy.impl.PhoneWindow$DecorView.superDispatchTouchEvent(PhoneWindow.java:1659)\n08-24 09:08:59.056: ERROR/Database(872):     at com.android.internal.policy.impl.PhoneWindow.superDispatchTouchEvent(PhoneWindow.java:1107)\n08-24 09:08:59.056: ERROR/Database(872):     at android.app.Activity.dispatchTouchEvent(Activity.java:2061)\n08-24 09:08:59.056: ERROR/Database(872):     at com.android.internal.policy.impl.PhoneWindow$DecorView.dispatchTouchEvent(PhoneWindow.java:1643)\n08-24 09:08:59.056: ERROR/Database(872):     at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:884)\n08-24 09:08:59.056: ERROR/Database(872):     at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:884)\n08-24 09:08:59.056: ERROR/Database(872):     at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:884)\n08-24 09:08:59.056: ERROR/Database(872):     at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:884)\n08-24 09:08:59.056: ERROR/Database(872):     at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:884)\n08-24 09:08:59.056: ERROR/Database(872):     at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:884)\n08-24 09:08:59.056: ERROR/Database(872):     at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:884)\n08-24 09:08:59.056: ERROR/Database(872):     at com.android.internal.policy.impl.PhoneWindow$DecorView.superDispatchTouchEvent(PhoneWindow.java:1659)\n08-24 09:08:59.056: ERROR/Database(872):     at com.android.internal.policy.impl.PhoneWindow.superDispatchTouchEvent(PhoneWindow.java:1107)\n08-24 09:08:59.056: ERROR/Database(872):     at android.app.Activity.dispatchTouchEvent(Activity.java:2061)\n08-24 09:08:59.056: ERROR/Database(872):     at com.android.internal.policy.impl.PhoneWindow$DecorView.dispatchTouchEvent(PhoneWindow.java:1643)\n08-24 09:08:59.056: ERROR/Database(872):     at android.view.ViewRoot.handleMessage(ViewRoot.java:1691)\n08-24 09:08:59.056: ERROR/Database(872):     at android.os.Handler.dispatchMessage(Handler.java:99)\n08-24 09:08:59.056: ERROR/Database(872):     at android.os.Looper.loop(Looper.java:123)\n08-24 09:08:59.056: ERROR/Database(872):     at android.app.ActivityThread.main(ActivityThread.java:4363)\n08-24 09:08:59.056: ERROR/Database(872):     at java.lang.reflect.Method.invokeNative(Native Method)\n08-24 09:08:59.056: ERROR/Database(872):     at java.lang.reflect.Method.invoke(Method.java:521)\n08-24 09:08:59.056: ERROR/Database(872):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:860)\n08-24 09:08:59.056: ERROR/Database(872):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:618)\n08-24 09:08:59.056: ERROR/Database(872):     at dalvik.system.NativeStart.main(Native Method)\n</code></pre>\n\n<p>Thanks a ton for whatever you can provide,</p>\n\n<p>Cheers...</p>\n"},{"tags":["sqlite"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":64,"score":1,"question_id":12295563,"title":"Reorder column without using query in SQLite (SQLiteAdmin tool) table","body":"<p>How to reorder column without using query in SQLite (SQLiteAdmin tool) table?Is it possible?</p>\n"},{"tags":["ruby-on-rails","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":76,"score":0,"question_id":9412696,"title":"dropping the tables in sqlite in ROR for ubuntu environment","body":"<p>I have doing some POC in Ruby-on-Rails and using sqlite database, while doing this I have different versions of db migration files.I want to drop all the tables in sqlite db to start afresh, there are ways of doing migration using versions but I want some handle for the sqlite (irrespective of ROR framework).\ndo I have to install some gem to access sqlite db? or is there any straight forward way?</p>\n"},{"tags":["mysql","sqlite"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":124,"score":-2,"question_id":7338257,"title":"SQLite and MySQL, will the conflict?","body":"<p>I just joined a project where they have been using SQLite. I am more comfortable using MySQL with PHPMyAdmin. If I install phpMyAdmin and work with that will it do any damage?</p>\n\n<p>It is a php project. They have alot of code (sloppy code thats so hard to figure out) for accessing a SQLite db. I dont want to effect that but I want to add some new tables to a new db using mysql and phpmyadmin which i am yet to set up because I'm afraid it will break the code written for the SQLite db \n.</p>\n"},{"tags":["android","sqlite"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":272,"score":0,"question_id":7401301,"title":"Android: sqlite - no such table exception","body":"<p>I have the following code (I simplified it &amp; removed unrelevant parts)</p>\n\n<pre><code>public class MyDatabaseManager extends SQLiteOpenHelper {\n\n    private SQLiteDatabase myDatabase;\n\n    public DatabaseManager() {\n    super(MyApp.getAndroidContext(), DATABASE_NAME, null, DATABASE_VERSION);\n\n    myDatabase = getWritableDatabase();\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase database) {\n\n    database.execSQL(\"create table t1 (t1key INTEGER PRIMARY KEY,data TEXT,num REAL,timeEnter NUMERIC);\");\n\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase database, int oldVersion, int newVersion) {\n    }\n\n}\n</code></pre>\n\n<p>Now when I run queries against this database I get <code>sqlite - no such table exception</code>. </p>\n\n<p>My breakpoint at <code>database.execSQL</code> hits and it doesn't raise any exception(for example if I change the code to <code>database.execSQL(\"asda\")</code> I get syntax error exception) so I think my SQL code is correct. Yet the table is not created.\nI copied the database file to my pc and I looked in it with Sqlite browser and indeed my tables don't exist there. There is only one table and that is something called <code>android_metadata</code>. Any ideas?</p>\n"},{"tags":["android","database","sqlite","encryption","flash-builder"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":159,"score":2,"question_id":11079328,"title":"SQLite and Password Encryption, Decryption and Upload","body":"<p>I am building a android application within flash builder, that will allow clients to use and access the database within the application, but blocking outside.</p>\n\n<p>The case is to take an encrypted database(to stop client from accessing the information, outside the application), a password (to be hidden from the client) and upload it to a server. Of which the server will be able to use this password to decrypt the database, then I plan to use PHP to manipulate the data.</p>\n\n<p><strong>What would be the best possible way to securely pass the SQLite database and the password in the upload phase?</strong></p>\n"},{"tags":["sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":132,"score":-1,"question_id":10139161,"title":"SQLite database file was locked","body":"<p>I am getting the error as <code>SQLITE database file was locked</code> when I tried to open the connection multiple times this is what I have written</p>\n\n<pre><code>if (m_oDataSet2.Tables[\"401k\"].Rows.Count != 0)\n{\n    double maxlimit;\n    using (SQLiteConnection conn = new SQLiteConnection(\"Data Source=\" + path + \"\"))\n    {\n      conn.Open();   \n    }\n }\n</code></pre>\n\n<p>On first hit it is executing fine when it is looping for the second time I am getting this error how to resolve this</p>\n"},{"tags":["wpf","sqlite","mvvm","observablecollection"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":216,"score":0,"question_id":10099276,"title":"SQLite to WPF in MVVM pattern","body":"<p>I am starting a project from scratch in WPF using SQLite.I want to use the latest technologies and best practices and want to use MVVM pattern.</p>\n\n<p>what is the best way to start with?</p>\n\n<p>Using Linq to SQL\nAny other ORM\nor using datatable to List collection and observable collection?</p>\n\n<p>and also how can I update/delete data from SQLite if I use Observable collection?</p>\n\n<p>Any one can help me?</p>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":1,"view_count":52,"score":2,"question_id":10570385,"title":"is it possible to read contact list directly from SQLite","body":"<p>I would like to read a contact list without using intent or content provider, I mean directly communicate with SQLite.</p>\n\n<p>Is there any way ?</p>\n"},{"tags":["android","sqlite","sql-date-functions"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":96,"score":1,"question_id":9940559,"title":"sqlite function for displaying month in Given Date?","body":"<p>I want display month in a given date by using sqlite date Fuctions.</p>\n\n<p>For Example 30-March-2012.</p>\n\n<p>I want display only March from that Date.</p>\n"},{"tags":["wpf","sqlite","sql-server-ce","clickonce"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":230,"score":0,"question_id":6641828,"title":"SQLite vs.SQLCE Deployment","body":"<p>I am in the process of writing an offline-capable smartclient that will have syncing capability back to the main backend when a connection can be made. As a side note, I considered the Microsoft Sync Framework but since I'm really only going one-way I didn't feel it would buy me enough to justify it.</p>\n\n<p>The question I have is related to SQLite vs. SQLCE and ClickOnce deployments. I've dealt with SQLite before (impressive little tool) and I've dealt with ClickOnce, but never together. If I setup an installer for my app via ClickOnce, how do I ensure during upgrades the local database doesn't get wiped out? Is it possible to upgrade the database (table structure, etc. if necessary) as part of the installer? Or is it better to use SQLCE for something like this? I definitely don't want to go the route of installing SQL Express or anything as the overhead would be far too high for what I am doing.</p>\n"},{"tags":["sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":173,"score":1,"question_id":11155886,"title":"Split FirstName and LastName in sqlite","body":"<p>I have a table in sqlite db called [tblbook] with a column [authors]. What I am trying to do in the sql is to split the author values to firstname and the lastname and sort it on lastname. I did find this great code: </p>\n\n<pre><code> SELECT substr(BookAuthor, 1, NULLIF(CHARINDEX(' ', BookAuthor) - 1, -1)) AS [FirstName],\n   substr(BookAuthor, CHARINDEX(' ', BookAuthor) + 1, LEN(BookAuthor)) AS [LastName]\n FROM tblBook where _id=3\n</code></pre>\n\n<p>It works perfectly on MSSQL but sqlite doesn't have the charindex function hence it fails.</p>\n\n<p>Could anyone please be kind and advise me what should be the best approach to achieve this.</p>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":5,"view_count":81,"score":-4,"question_id":12175517,"title":"SQLite in android - Select multiple tables","body":"<p>How do I execute multiple tables named as list1,list2,list3,list7,list8. as one table in database help by giving the proper query for execSQL(query)</p>\n\n<pre><code>Cursor cur = db.query(\"list1\",null, null, null, null, null, null);\ncur.moveToFirst();\n\nwhile (cur.isAfterLast() == false) {\n\n    Cursor cur = db.query(\"list1\",null, null, null, null, null, null);\n    cur.moveToFirst();\n\nwhile (cur.isAfterLast() == false) {\n        String st=incomingNumber.substring(3,7);\n        String sql=\"\";\n        sql=(\"Select*from\"+\"(Select*from 'list1'\"+\"union all Select*from 'list2'\"\n                                                 +\"union all Select*from 'list3'\" \n                                                 +\"union all Select * from 'list7'\" \n                                                 +\"union all Select*from 'list8')\"\n                                                 +\"t1 where codes ='9909'\"); \n\n    db.execSQL(sql);\n</code></pre>\n"},{"tags":["mysql","sqlite","connection-string"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":219,"score":0,"question_id":10734890,"title":"Connection strings for MySQL and SQLite with ADO.NET","body":"<p>I would like to use F# to connect to databases other than SQL Server using the same code as in : <a href=\"http://msdn.microsoft.com/en-us/library/hh361033(v=vs.110).aspx\" rel=\"nofollow\">http://msdn.microsoft.com/en-us/library/hh361033(v=vs.110).aspx</a></p>\n\n<p>I assume I need the ADO.Net connector for the database (MySQL or SQLite etc.). However, once that is done, how should I modify the connection string in :</p>\n\n<pre><code>type dbSchema = SqlDataConnection&lt;\"Data Source=MYSERVER\\INSTANCE;Initial Catalog=MyDatabase;Integrated Security=SSPI;\"&gt;\nlet db = dbSchema.GetDataContext()\n</code></pre>\n\n<p>To indicate I want to use MySQL or SQLite etc.</p>\n\n<p>Many thanks</p>\n"},{"tags":["ios","sqlite"],"answer_count":5,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":173,"score":0,"question_id":11047799,"title":"SQLite - best viewer on mac?","body":"<p>When developing ios apps wtah is the best sqllite viewer out there? \nThe Mac app Store has quite a few...</p>\n\n<p>Thanks\nRegards</p>\n"},{"tags":["android","sqlite"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":474,"score":1,"question_id":9707208,"title":"sync SQLite Android","body":"<p>I need to sync my sqlite database on android with the database on web server.  </p>\n\n<p>program should fill the local database on the tablet with the SELECT from the server, then user changes some data on his android-phone and sends new version to a server.\nAre there any source code examples about such synchronization?  </p>\n\n<p>Will be very grateful</p>\n"},{"tags":["sqlite","select"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":12737396,"title":"sqlite search multiple column","body":"<p>am trying to perform a case sensitive serach of all columns in a table, so i did somthing like this</p>\n\n<p><code>Select * From mytable Where col1 || '--' || col2 || '--' || etc like '%SomeValue%'</code></p>\n\n<p>but it alwas return the same result for both upper case and lower case. if i do this</p>\n\n<p><code>Select * From mytable Where col1 like '%SomeValue%' OR col1 like '%SomeValue%' etc</code></p>\n\n<p>i get the desired result. The problems here is that i cannot use this second query as i have about 36 columns to search, and writing <code>col1 like '%SomeValue%'</code> up to 36 times would be unecessary.</p>\n\n<p>does anyone have any solution?</p>\n"},{"tags":["sql","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":12736069,"title":"SQL select given another query","body":"<p>So I would like to search for the max time in a column:</p>\n\n<pre><code>sqlite&gt; SELECT max(strftime('%Y-%m-%d %H:%M',time)) FROM posts WHERE thread_id=123456;\n2012-10-02 02:31\n</code></pre>\n\n<p>For each thread_id returned by this query:</p>\n\n<pre><code>sqlite&gt; SELECT thread_id FROM threads WHERE out_of_date=0;\n111\n123\n187\n...\n</code></pre>\n\n<p>Then I would like to search for all threads whose <code>last_post</code> field don't match the <code>time</code> field returned by the first query, and set the <code>out_of_date</code> field to 1:</p>\n\n<pre><code>sqlite&gt; UPDATE threads SET out_of_date=1 WHERE thread_id=123456 AND last_post!='2012-10-02 02:31';\n</code></pre>\n\n<p>Problem is, I'm not too sure how I should go about combining these three separate queries. Any thoughts?</p>\n"},{"tags":["objective-c","ios","sqlite","row"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":12733236,"title":"How to easily update entire rows in SQLite objective-c","body":"<p>I have a database with about 150 columns, and would like to somehow update an entire row at once. I don't want to have to make one extremely long statement, and the columns are not all the same type. Is there a simple way to do this? Maybe with an NSMutableArray or something like BEGIN_COLUMN_MAP and COLUMN_ENTRY_AUTO in windows?</p>\n"},{"tags":["android","sqlite"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":12732710,"title":"Is it possible to create Sqlite database without creating any table?","body":"<p>I want to just create a database which could be used to hold different tables. But at first, i just want to create a database without any table and then check if a database file exists then issue the create table command. So, that the table creation could be done at later period but database creation could be done initially at the android application startup</p>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":130,"score":1,"question_id":8434819,"title":"Android SQLite auto increment","body":"<p>I currently have a table called User which has a id column which is created as </p>\n\n<p>'INTEGER PRIMARY KEY'</p>\n\n<p>Lets say I have created two users so the table has id 1 and 2</p>\n\n<p>If I delete the second user and create a third the id is 2, I need this to be 3</p>\n\n<p>So it seems Android is selecting the next available id, how can I change this to its more like  a sequence number?</p>\n\n<p>Regards</p>\n"},{"tags":["sql","sqlite","embedded"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":54,"score":2,"question_id":6627250,"title":"SQLite on bare hardware","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/178264/sqlite-on-an-embedded-system\">Sqlite on an embedded system</a>  </p>\n</blockquote>\n\n\n\n<p>I'm trying to make SQL lite run on a powerpc architecture (MPC565 memory-36K) where I do not have any OS. \nI saw that SQL lite requires libraries like mmap.h that are not available in my environment. Is  there anyone that managed to port SQL lite  without using libraries like mmap.h. \nThank you in advance   </p>\n"},{"tags":["sql","sqlite","qt"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":71,"score":0,"question_id":7935288,"title":"How to implement file operations with QT and SQLite","body":"<p>Greetz,</p>\n\n<p>I'm very curious on how to use basic file operations within QT and SQLite and wondering if there are current examples. My ideas are things like;</p>\n\n<ul>\n<li>OnAppOpen - create tables in an :memory: database (just call new file)</li>\n<li>OnFileSave - copy everything in :memory: into a file on disk</li>\n<li>OnFileOpen - copy everything from file on disk to :memory:</li>\n<li>OnFileNew - delete current :memory: database and Create a new one (OnAppOpen)</li>\n</ul>\n\n<p>or something like</p>\n\n<ul>\n<li>AppOpen</li>\n<li>FileNew - disconnect from database and create new one with :memory: name</li>\n<li>FileSave - get current database name</li>\n</ul>\n\n<p>Any help with this would be more than appreciated, thx.</p>\n"},{"tags":["android","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":281,"score":0,"question_id":7253922,"title":"Android real escape string in sqlite","body":"<p>How can i use php real_escape_string in android sqlite?</p>\n\n<p>when i add the following to my table row's value \"asd'\" then i getting a crash because of \"'\" char. How can I escape illegal characters in android sqlite?</p>\n\n<p>Thanks</p>\n\n<p>edit: in android, not php</p>\n"},{"tags":["ruby-on-rails","sqlite","activerecord","couchdb"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":74,"score":1,"question_id":10078556,"title":"Rails: use CouchDB with SQLite","body":"<p>Note that I'm aware of various CouchDB ActiveRecord plugins (ActiveCouch, CouchREST, CouchPotato), but I'm storing the data in Couch via external HTTP call, so the Couch model ain't noticing the changes made in Couch database. What is the recommended way of using both Couch and SQL in one app?</p>\n\n<p>I can store the data in SQLite, and store only ID of Couch database, but it's no-no... Any ideas?</p>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":119,"score":1,"question_id":9248917,"title":"Running a select from sqlite","body":"<p>I am trying to run a select using sqllite. Its my first time using sqllite and I am getting this error over and over.</p>\n\n<p>function =\"Adding Event</p>\n\n<p>CODE:</p>\n\n<pre><code>public List&lt;Example&gt; getExampleByFunctionList(String function)\n{\n    List&lt;Example&gt; examplelist = new ArrayList&lt;Example&gt;();\n    String getQuery = \"SELECT  * FROM \" + MySQLiteHelper.TABLE_EXAMPLE+\n        \" where \"+ MySQLiteHelper.COLUMN_EXAMPLE_FUNCTION +\" = \"+\"\"+function+\"\";\n    Cursor cursor = database.rawQuery(getQuery, null);\n    cursor.moveToFirst();\n    while (!cursor.isAfterLast()) {\n        Example example = cursorToExample(cursor);\n        examplelist.add(example);\n        cursor.moveToNext();\n    }\n    cursor.close();\n    return examplelist;\n}\n</code></pre>\n\n<p>ERROR:</p>\n\n<blockquote>\n    02-12 12:37:29.218: E/AndroidRuntime(3165): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.tutorial/com.tutorial.ManageCalendar}: android.database.sqlite.SQLiteException: near \"Events\": syntax error: , while compiling: SELECT  * FROM example where examplefunction = Adding Events\n</blockquote>\n"},{"tags":["android","iphone","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":114,"score":0,"question_id":7777195,"title":"SQLite, mobile or browser of mobile","body":"<p>well while planning a mobile application</p>\n\n<p>a question comes in mind</p>\n\n<p>SQLite!</p>\n\n<p>is supported in many mobile browsers (IOS, blackberry, android (I guess) )</p>\n\n<p>so if all my app need is to save and restore presistent data (like notes, or schedule)</p>\n\n<p>Is developing web app htmls + javascript that stores data in SQLite of browser</p>\n\n<p>Is equivalent to creating a mobile app that using IOS, or android java, that stores data in mobile's SQLite ?</p>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":141,"score":0,"question_id":7324910,"title":"SQLite battery consumption - android","body":"<p>i've been looking around and couldn't get a clear answer for this one:<br>\nHow high is the battery consumption if i am using a sqlLite database in my app?<br>\nSpecifically i have about 500 writes and 500 reads every minute or so.. does it cause<br>\na lot of battery usage?   </p>\n\n<p>Thanks in advance!<br>\nOmri</p>\n"},{"tags":["iphone","objective-c","sqlite","core-data"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":207,"score":0,"question_id":3923570,"title":"tool to retrieve data from .sqlite local db","body":"<p>is any tool is there to retrieve/view datas from .sqllite iphone local database and is there any way to view data without fetching and storing it to tableview.</p>\n"},{"tags":["android","sqlite","android-preferences"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":147,"score":2,"question_id":9012521,"title":"SharedPreferences or SQLite Database?","body":"<p>I'm writing a small alarm clock application, and I'm currently using SharedPreferences to store the settings for each alarm. I figured this would be more lightweight than using the SQLite Database, but now I'm thinking about writing a small thread-safe wrapper for SharedPreference. Am I being an idiot and should just use the database or would this still be more light-weight than the database?</p>\n"},{"tags":["mysql","sql","sqlite","sqlite3"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":137,"score":0,"question_id":9802123,"title":"Differences between SQLite and MySQL - login and security","body":"<p>At first I searched in Stack Overflow about the difference between MySQL and SQLite. So there is some answers but still I want to know something. When accessing MySQL I need to give host, username, password and database parameters. But when accessing SQLite I just give database name. Can anyone explain me this why, and for security reasons also, should not be there password for SQLite database, can not be it just downloaded for example from server, so I am totally stuck. So need your help.</p>\n"},{"tags":["android","sqlite","camera"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":39,"score":0,"question_id":12729867,"title":"Handle Android's camara service properly","body":"<p>I have this code right here:</p>\n\n<pre><code>public class pantalla8 extends Activity {\n    protected static final int CAMERA_REQUEST = 0;\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.camera);\n        final Button logout = (Button) findViewById(R.id.boton13);\n        logout.setOnClickListener(new OnClickListener(){\n            public void onClick(View arg0){\n                finish();\n            }\n        });\n        final Button camera = (Button) findViewById(R.id.boton12);\n        camera.setOnClickListener(new OnClickListener(){\n            public void onClick(View arg0){\n                Intent cameraIntent=new Intent(android.provider.MediaStore.ACTION_IMAGE_CAPTURE);\n                startActivityForResult(cameraIntent, CAMERA_REQUEST);\n            }\n        });\n    }\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n        if (requestCode == CAMERA_REQUEST) { \n            Bitmap photo = (Bitmap) data.getExtras().get(\"data\"); \n        }\n    }\n}\n</code></pre>\n\n<p>Which invokes camara's service.</p>\n\n<p>With this, I can take pictures, save them and return to my app without problems. But if I don't want to save the picture, otherwise, discard it; an error occurs and Android forces the application to close.</p>\n\n<p>My question is, what's missing in my code to handle that event? I mean, if the user discard a picture, the camera should be called once again.</p>\n\n<p>Plus, when the user saves a picture; how do I relate those pics with my app? I think I should use a SQLite table, but I'm not sure how to do it, because, later those pictures must be sent to a server.</p>\n\n<p>I would appreciate any kind of help!\nThanks in advance!</p>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":129,"score":2,"question_id":10416059,"title":"Pros and Cons of saving image in SQLite","body":"<p>Now I am on a dilemma about whether to create a separate folder for byte[] images instead of using SQLite or do I save the images Blob in the SQLite?. </p>\n\n<p>What would be the pros and cons of saving byte[] images in the SQLite?.</p>\n"},{"tags":["android","eclipse","sqlite","eclipse-plugin","adt"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":69,"score":2,"question_id":12120831,"title":"See SQLite db contents","body":"<p>I'm developing an android app using sqllite db and I wanted to know if there way a way to explore this db's current content.</p>\n"},{"tags":["asp.net",".net","sqlite","iis7"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":103,"score":0,"question_id":10844444,"title":"SQLite with IIS","body":"<p>i wanted to use SQLite with .net application. It only works if the DLL and the Database file are in the BIn folder and the permissions of BIN are set to read / Write.\nIs that a security risk ?</p>\n"},{"tags":["android","sqlite","map","gps"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":335,"score":-2,"question_id":8079786,"title":"gps data in sqlite","body":"<p>I'd like know how to create a database in sqlite which contains gps data(latitude,longitude) and then retrieving from the database to display the data on the map?</p>\n\n<p>please I need it urgent</p>\n\n<p>Thanks</p>\n"},{"tags":["asp.net","sqlite"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":12733216,"title":"SQLite Visual Web-Based Content Editor App","body":"<p>I'm developing an Android application that requires alot of data to get started. I've created a SQLite database, but need to get people to help me populate the DB with data.  I'd like to do this via a web-based interface.</p>\n\n<p>Of course i can build my own, but that would be a waste of time if one already exists that could accomplish what i need. Here's what i need:</p>\n\n<ul>\n<li>Ability to add new records to a table</li>\n<li>Fields with foreign keys should provide a dropdown of options from the joined table</li>\n<li>Fields with many-to-many relationships to other tables should provide option to select multiple records from the joined table</li>\n</ul>\n\n<p>I guess I'll probably need to build my own app to do this, but if anybody can point me in the direction of one that already exists, that'd be awesome.  </p>\n\n<p>Otherwise perhaps links to .Net frameworks that could provide a starting point for this development?</p>\n"},{"tags":["android","database","sqlite"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":3904,"score":2,"question_id":3037767,"title":"Create SQLite database in android","body":"<p>I want to create a SQLite database in my app, which contains three tables, I will add data into tables and will use them later on.</p>\n\n<p>but I like to keep database ,as if when app is first time installed it checks whether the database exist or not, if exists it updates it else if not then creates a new database.</p>\n\n<p>further more I am making a DB class to facilitate my app,so  I wont be creating an activity for my database creation.</p>\n\n<p>if there are possible advices, please share with me</p>\n"},{"tags":["ios","ipad","sqlite","fmdb"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":12702747,"title":"sqlite3_prepare_v2 doesn't return taking too long (slow) and using memory","body":"<p>I have an iOS app, with a table that has 1500 records.</p>\n\n<p>I'm using FMDB, invoking the following form:</p>\n\n<pre><code>FMDatabase *db = ...\n[db executeQuery:@\"select num from a where b = ?\", 6];\n</code></pre>\n\n<p>The table \"a\" has an index on \"b\".</p>\n\n<p>This runs fine in the simulator, but on an iPad1 is taking a very long time. It consumes memory until the app is killed. Instruments says its stuck in \"sqlite3_prepare_v2\".</p>\n\n<p>The original query also had an \"order by\" clause. I've removed it to test. I can even completely remove the where clause and it still behaves this way.</p>\n\n<p>Any ideas what might be wrong?</p>\n\n<p>Other queries are working before this occurs. I have previously accessed the database from a different thread, but there is no access from any other thread going on.\nI had thought I might have a dangling transaction, but that isn't the case either.</p>\n"},{"tags":["android","sqlite","listview"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":48,"score":0,"question_id":12731912,"title":"Android - Loading the same intent with different data","body":"<p>I'm loading the same page with different data. I've got it so it's listing my items and when I click one, it's sending the correct next page type and ID through. But it's still loading my first pages SQLStatement. The right things are being logged out.</p>\n\n<p>Do I need to clear it down or something first?</p>\n\n<p>Here is my code:</p>\n\n<pre><code>public class LocationListView extends Activity {\n\nString SQLStatement;\nString itemID = \"1001-0001021\";\nString Type;\n;\n\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_location_list_view);\n\n        Bundle extras = getIntent().getExtras(); \n        String dataType;\n        String dataID;\n\n        if (extras != null) {\n            dataType = extras.getString(\"Type\");\n            dataID = extras.getString(\"ID\");\n\n        } else {\n            dataType = \"notset\";\n            dataID = \"notset\";\n        }\n\n\n        File dbfile = new File(Global.currentDBfull); \n        SQLiteDatabase db = SQLiteDatabase.openOrCreateDatabase(dbfile, null);\n\n        if(dataType == \"notset\") {\n\n            SQLStatement = \"select * from stationobjects where stationid= \" + Global.StationID + \" and objectid=0\";\n            Type = \"Room\";\n\n        } else if(dataType == \"Room\") {\n\n            SQLStatement = \"select * from stationobjects where stationid= \" + Global.StationID + \"  and objectid=1001 and diagramid like '\"+ itemID +\"%'\";\n            Type = \"Area\";\n\n            Context context = getApplicationContext();\n            CharSequence text = \"Hello toast!\";\n            int duration = Toast.LENGTH_SHORT;\n\n            Toast toast = Toast.makeText(context, text, duration);\n            toast.show();\n\n        } else if(dataType == \"Area\") {\n\n            Type = \"Zone\";\n        } else if(dataType == \"Zone\") {\n\n\n        } else {\n\n            SQLStatement = \"select * from stationobjects where stationid= \" + Global.StationID + \" and objectid=0\";\n            Type = \"Room\";\n        }\n\n\n        Cursor c = db.rawQuery(SQLStatement, null);  \n        if(c.getCount() != 0) {\n\n        Log.e(\"LocationListView\", \"Found Items\");   \n\n        c.moveToFirst();\n\n      ArrayList&lt;String&gt; mItemName = new ArrayList&lt;String&gt;();\n      final ArrayList&lt;String&gt; mItemID = new ArrayList&lt;String&gt;();\n\n        c.moveToFirst();\n        while(!c.isAfterLast()) {\n             mItemName.add(c.getString(c.getColumnIndex(\"Name\")));\n             mItemID.add(c.getString(c.getColumnIndex(\"StationObjectID\")));\n             c.moveToNext();\n        }\n\n        final ListView listView = (ListView) findViewById(R.id.lvLocation);\n        final ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(this,\n              android.R.layout.simple_list_item_1, android.R.id.text1, mItemName);\n\n        int[] colors = {0, 0xFFFF0000, 0}; \n        listView.setDivider(new GradientDrawable(Orientation.RIGHT_LEFT, colors));\n        listView.setDividerHeight(1);\n        listView.setAdapter(adapter); \n\n        listView.setClickable(true);\n        listView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n\n          @Override\n          public void onItemClick(AdapterView&lt;?&gt; arg0, View arg1, int position, long arg3) {\n\n            Object o = listView.getItemAtPosition(position);\n            String StationObjectID = mItemID.get(position);\n            Log.e(\"LocationListView\", \"\" + o);\n            Log.e(\"LocationListView\", \"\" + StationObjectID);\n\n\n            startActivityForResult(SwapPage, 0);\n\n          }\n        });\n\n        } else {\n\n            Log.e(\"LocationListView\", \"Not Found Items\");   \n            Context context = getApplicationContext();\n            CharSequence text = \"Sorry No data returned\";\n            int duration = Toast.LENGTH_LONG;\n\n            Toast toast = Toast.makeText(context, text, duration);\n            toast.show();\n        }\n\n        db.close();\n\n\n    }\n\n\n\n\n}\n</code></pre>\n"},{"tags":["sql","sqlite","math"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":76,"score":2,"question_id":12731941,"title":"How to calculate square root in sqlite","body":"<p>I need to calculate an euclidean distance in a sqlite database.</p>\n\n<p>Does anyone know how to calculate square roots in sqlite beside writing and loading a dynamic library for math functions?</p>\n\n<p>I am close to resorting to the fast inverse square root algorithm in here <a href=\"http://en.wikipedia.org/wiki/Fast_inverse_square_root\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Fast_inverse_square_root</a> though it might to turn into more fun than I need right now.</p>\n\n<p>And as a side note, it'd be great to figure out how to do power (which is the generalized question, and is cleaner coding than multiplying a number by itself).</p>\n\n<p>Thanks,</p>\n\n<p>Simone</p>\n"},{"tags":["android","database","excel","sqlite"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":201,"score":1,"question_id":9287581,"title":"Developing a database driven android app for insurance quoting","body":"<p>A couple of years ago I created a spreadsheet in Excel that allowed an insurance agent to input some data about a client (e.g. Age, Sex, Smoker?, zip code, Rate class) and have the spreadsheet populate about a dozen fields with the rates for multiple product lines and multiple companies. Each company had its own worksheet that contained all of the rating information that the main screen would pull the data from. I used many \"vlookup\", \"if\", \"and\", \"or\" functions to achieve this</p>\n\n<p>I would like to turn this into an Android app but I have not been able to find any sort of a tutorial that would get me started.</p>\n\n<p>What I have figured out is that I will need to simplify and convert my spreadsheet into a sqlite database. I have found tutorials that discuss reading that info and displaying it as lists and so forth.</p>\n\n<p>Where I'm stumped is how to incorporate the many functions I use to look up the specific data. So if anyone can point me in the right direction I would appreciate it a lot.</p>\n"},{"tags":["iphone","objective-c","sqlite","wrapper"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":148,"score":3,"question_id":2711308,"title":"Statements are not getting committed in sqlite3 when using the wrapper","body":"<pre><code>[sqlite executeQuery:@\"UPDATE UserAccess SET Answer ='Positano';\"];\nNSArray *query2 = [sqlite executeQuery:@\"SELECT Answer FROM UserAccess;\"]; \nNSDictionary *dict = [query2 objectAtIndex:0]; \nNSString *itemValue = [dict objectForKey:@\"Answer\"]; \nNSLog(@\"%@\",itemValue);\n</code></pre>\n\n<p>It does print Positano at this point .. \nBut when I just print without the update query again . I get the old entry which is Paris. \nI tried [sqlite commit];\nwhich also doesn't work.\nEven if I create a simple table it executes the first time then again when I hit the create button it says that the table already exists BUT when I rerun again it creates the table again instead of giving me an error that the table already exists .</p>\n\n<p>What am I doing wrong ???\nI am using  <a href=\"http://th30z.netsons.org/2008/11/objective-c-sqlite-wrapper/\" rel=\"nofollow\">http://th30z.netsons.org/2008/11/objective-c-sqlite-wrapper/</a> \nwrapper. </p>\n\n<p>Regards ,\nNovice</p>\n"},{"tags":["php","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":12730239,"title":"SQLite last_insert_rowid using PHP","body":"<p>I have a problem using sqlite_last_insert_rowid in PHP.\nCODE: </p>\n\n<pre><code>$database = new SQLiteDatabase('example.db');\n$sql_1 = \"INSERT INTO ex1(test1, test2) VALUES ('$test1','$test2')\";\n$database-&gt;queryExec($sql_1);\n\n$ex1_ID = sqlite_last_insert_rowid($database);\n\n$sql_2 = \"INSERT INTO ex2 (ex1_ID, fname, lname) values ('$ex1_ID','$fname','$lname');\";\n$database-&gt;queryExec($sql);\n</code></pre>\n\n<p>I want to store ID from ex1 table to table ex2 in ex1_ID</p>\n\n<pre><code>CREATE TABLE ex1 ( \nID INTEGER PRIMARY KEY,\ntest1 LONGTEXT,\ntest2 LONGTEXT\n);\n\nCREATE TABLE ex2 ( \nID INTEGER  PRIMARY KEY,\nex1_ID INTEGER,\nfname LONGTEXT,\nlname LONGTEXT,\nFOREIGN KEY ( ex1_ID ) REFERENCES ex1 ( ID )\n);\n</code></pre>\n\n<p>COMPLETE CODE:</p>\n\n<pre><code>$database = new SQLiteDatabase('example.db');\n    for ($i = 0; $i &lt; 10; $i++) {\n        $test1 = \"\";\n        $test2 = \"\";\n        $lenght = rand(300, 400);\n        for ($x = 0; $x &lt; $lenght; $x++) {\n            $test1 .= rand(0, 9);\n            $test2 .= rand(0, 9);\n        }\n        $sql_1 = \"INSERT INTO ex1 (test1,test2) VALUES ('$test1','$test2')\";\n        $database-&gt;queryExec($sql_1);\n        $ex1_ID = sqlite_last_insert_rowid($database);\n\n        for ($j = 0; $j &lt; 3; $j++) {\n            for ($x = 0; $x &lt; $lenght; $x++) {\n                $test1 .= rand(0, 9);\n                $test2 .= rand(0, 9);\n            }\n            $sql_2 = \"INSERT INTO ex2 (ex1_ID, fname, lname) values ('$ex1_ID','$test1','$test2');\";\n            $database-&gt;queryExec($sql_2);\n        }\n    }\n</code></pre>\n\n<p>I cant get the last ID from a ex1 table. \nPlease help!</p>\n"},{"tags":["java","database","hibernate","sqlite","hql"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":133,"score":0,"question_id":12714337,"title":"How do I reference java Calendar types in an HQL select statement?","body":"<p>I have a simple HQL query I'm trying to execute to return a list of dates. My mapping has the dates defined as calendars. The mapping inserts can be inserted successfully without issues and retrieved with the correct data values mapped back to their properties. Example:</p>\n\n<pre><code>@Entity\n@org.hibernate.annotations.Proxy(lazy = false)\n@Table(name = \"TABLE_T\")\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\npublic class Table {\n  @Column(name = \"SOME_ID\", nullable = false)\n  private Long stdIdNum = null;\n\n  @Column(name = \"END_DATE\", nullable = true)\n  private Calendar endDate;\n</code></pre>\n\n<p>However, if I perform the following HQL statment:</p>\n\n<pre><code>Query query = hsession.createQuery(\"select endDate from Table\");\nresults = query.list();\n</code></pre>\n\n<p>I get the following exception:</p>\n\n<blockquote>\n  <p>java.lang.IllegalStateException: No data type for node:\n  org.hibernate.hql.internal.ast.tree.IdentNode   -[IDENT] IdentNode:\n  'end_date' {originalText=end_date}</p>\n  \n  <p>at\n  org.hibernate.hql.internal.ast.tree.SelectClause.initializeExplicitSelectClause(SelectClause.java:154)\n    at\n  org.hibernate.hql.internal.ast.HqlSqlWalker.useSelectClause(HqlSqlWalker.java:865)\n    at\n  org.hibernate.hql.internal.ast.HqlSqlWalker.processQuery(HqlSqlWalker.java:650)\n    at\n  org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.query(HqlSqlBaseWalker.java:651)\n    at\n  org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.selectStatement(HqlSqlBaseWalker.java:287)\n    at\n  org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.statement(HqlSqlBaseWalker.java:235)\n    at\n  org.hibernate.hql.internal.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:248)\n    at\n  org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:183)\n    at\n  org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:136)\n    at\n  org.hibernate.engine.query.spi.HQLQueryPlan.(HQLQueryPlan.java:101)\n    at\n  org.hibernate.engine.query.spi.HQLQueryPlan.(HQLQueryPlan.java:80)\n    at\n  org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:119)\n    at\n  org.hibernate.internal.AbstractSessionImpl.getHQLQueryPlan(AbstractSessionImpl.java:214)\n    at\n  org.hibernate.internal.AbstractSessionImpl.createQuery(AbstractSessionImpl.java:192)\n    at\n  org.hibernate.internal.SessionImpl.createQuery(SessionImpl.java:1537)\n    at</p>\n</blockquote>\n\n<p>I'm obviously working with hibernate, version 4.0.0, with a sqlite back end, sqlite-jdbc-3.7.2.jar. Here's my SQLDialect:</p>\n\n<pre><code>import java.sql.Types;\n\nimport org.hibernate.dialect.Dialect;\nimport org.hibernate.dialect.function.NoArgSQLFunction;\nimport org.hibernate.dialect.function.SQLFunctionTemplate;\nimport org.hibernate.dialect.function.StandardSQLFunction;\nimport org.hibernate.dialect.function.VarArgsSQLFunction;\nimport org.hibernate.type.DateType;\nimport org.hibernate.type.IntegerType;\n\npublic class SQLiteDialect extends Dialect {\n    public SQLiteDialect() {\n        super();\n\n        registerColumnType(Types.BIT, \"integer\");\n        registerColumnType(Types.TINYINT, \"tinyint\");\n        registerColumnType(Types.SMALLINT, \"smallint\");\n        registerColumnType(Types.INTEGER, \"integer\");\n        registerColumnType(Types.BIGINT, \"bigint\");\n        registerColumnType(Types.FLOAT, \"float\");\n        registerColumnType(Types.REAL, \"real\");\n        registerColumnType(Types.DOUBLE, \"double\");\n        registerColumnType(Types.NUMERIC, \"numeric\");\n        registerColumnType(Types.DECIMAL, \"decimal\");\n        registerColumnType(Types.CHAR, \"char\");\n        registerColumnType(Types.VARCHAR, \"varchar\");\n        registerColumnType(Types.LONGVARCHAR, \"longvarchar\");\n        registerColumnType(Types.DATE, \"date\");\n        registerColumnType(Types.TIME, \"time\");\n        registerColumnType(Types.TIMESTAMP, \"longvarchar\");\n        registerColumnType(Types.BINARY, \"blob\");\n        registerColumnType(Types.VARBINARY, \"blob\");\n        registerColumnType(Types.LONGVARBINARY, \"blob\");\n        // registerColumnType(Types.NULL, \"null\");\n        registerColumnType(Types.BLOB, \"blob\");\n        registerColumnType(Types.CLOB, \"clob\");\n        registerColumnType(Types.BOOLEAN, \"integer\");\n        registerColumnType(Types.NULL, \"null\");\n        registerHibernateType(Types.NULL, \"null\");\n\n\n        registerFunction(\"concat\", new VarArgsSQLFunction(IntegerType.INSTANCE, \"\",\n            \"||\", \"\"));\n        registerFunction(\"mod\", new SQLFunctionTemplate(IntegerType.INSTANCE,\n                \"?1 % ?2\"));\n        registerFunction(\"substr\", new StandardSQLFunction(\"substr\",\n            IntegerType.INSTANCE));\n        registerFunction(\"substring\", new StandardSQLFunction(\"substr\",\n            IntegerType.INSTANCE));\n\n        registerFunction(\"replace\", new StandardSQLFunction(\"replace\",\n            IntegerType.INSTANCE));\n\n        registerFunction( \"current_time\", new NoArgSQLFunction( \"date('now')\", DateType.INSTANCE, false ) );\n        registerFunction( \"current_timestamp\", new NoArgSQLFunction( \"date('now')\", DateType.INSTANCE, false ) );\n        registerFunction( \"current_date\", new NoArgSQLFunction( \"date('now')\", DateType.INSTANCE, false ) );\n    }\n\n    @Override\n    public boolean supportsIdentityColumns() {\n        return true;\n    }\n\n    /*\n     public boolean supportsInsertSelectIdentity() {\n     return true; // As specify in NHibernate dialect\n     }\n     */\n\n    @Override\n    public boolean hasDataTypeInIdentityColumn() {\n        return false; // As specify in NHibernate dialect\n    }\n\n    /*\n     public String appendIdentitySelectToInsert(String insertString) {\n     return new StringBuffer(insertString.length()+30). // As specify in NHibernate dialect\n     append(insertString).\n     append(\"; \").append(getIdentitySelectString()).\n     toString();\n     }\n     */\n\n    @Override\n    public String getIdentityColumnString() {\n        // return \"integer primary key autoincrement\";\n        return \"integer\";\n    }\n\n    @Override\n    public String getIdentitySelectString() {\n        return \"select last_insert_rowid()\";\n    }\n\n    @Override\n    public boolean supportsLimit() {\n        return true;\n    }\n\n    // Added fix from bug, http://code.google.com/p/hibernate-sqlite/issues/detail?id=1\n    @Override\n    public boolean bindLimitParametersInReverseOrder() {\n        return true;\n    }\n\n\n    @Override\n    public String getLimitString(String query, boolean hasOffset) {\n        return new StringBuffer(query.length() + 20).append(query).append(\n            hasOffset ? \" limit ? offset ?\" : \" limit ?\").toString();\n    }\n\n    @Override\n    public String getLimitString(final String s, final int min, final int max) {\n        String limitString = super.getLimitString(s, min, max);\n\n        return limitString;\n    }\n\n    @Override\n    public boolean supportsTemporaryTables() {\n        return true;\n    }\n\n    @Override\n    public String getCreateTemporaryTableString() {\n        return \"create temporary table if not exists\";\n    }\n\n    @Override\n    public boolean dropTemporaryTableAfterUse() {\n        return false;\n    }\n\n    @Override\n    public boolean supportsCurrentTimestampSelection() {\n        return true;\n    }\n\n    @Override\n    public boolean isCurrentTimestampSelectStringCallable() {\n        return false;\n    }\n\n    @Override\n    public String getCurrentTimestampSelectString() {\n        return \"select current_timestamp\";\n    }\n\n    @Override\n    public boolean supportsUnionAll() {\n        return true;\n    }\n\n    @Override\n    public boolean hasAlterTable() {\n        return false; // As specify in NHibernate dialect\n    }\n\n    @Override\n    public boolean dropConstraints() {\n        return false;\n    }\n\n    @Override\n    public String getAddColumnString() {\n        return \"add column\";\n    }\n\n    @Override\n    public String getForUpdateString() {\n        return \"\";\n    }\n\n    @Override\n    public boolean supportsOuterJoinForUpdate() {\n        return false;\n    }\n\n    @Override\n    public String getDropForeignKeyString() {\n        throw new UnsupportedOperationException(\n                \"No drop foreign key syntax supported by SQLiteDialect\");\n    }\n\n    @Override\n    public String getAddForeignKeyConstraintString(String constraintName,\n        String[] foreignKey, String referencedTable, String[] primaryKey,\n        boolean referencesPrimaryKey) {\n        throw new UnsupportedOperationException(\n                \"No add foreign key syntax supported by SQLiteDialect\");\n    }\n\n    @Override\n    public String getAddPrimaryKeyConstraintString(String constraintName) {\n        throw new UnsupportedOperationException(\n                \"No add primary key syntax supported by SQLiteDialect\");\n    }\n\n    @Override\n    public boolean supportsIfExistsBeforeTableName() {\n        return true;\n    }\n\n    @Override\n    public boolean supportsCascadeDelete() {\n        return false;\n    }\n}\n</code></pre>\n\n<h2>UPDATE - Why am I not using Date?</h2>\n\n<blockquote>\n  <p>Well, for two related reasons. It was a very poor implementation of\n  the concept of Dates and Times and it was replaced by the Calendar\n  class.</p>\n  \n  <p>The Calendar class, although an improvement, leaves a lot to be\n  desired as well, so for serious Date/Time work, everyone recommends\n  JodaTime. In Java 7 there will likely be a replacement API for\n  Calendar as well, currently called JSR-310.</p>\n</blockquote>\n\n<p><a href=\"http://stackoverflow.com/questions/2901262/why-were-most-java-util-date-methods-deprecated\">Why were most java.util.Date methods deprecated?</a></p>\n"},{"tags":["android","sqlite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":12730258,"title":"What happens on setLocale in SQLite, Android","body":"<p>As title says, what does actually happen when I call setLocale on an Android SQLite db.</p>\n\n<ul>\n<li>Is it a time-consuming request? </li>\n<li>Does setLocale require index to be\nrebuilt?</li>\n</ul>\n\n<p>Thanks!</p>\n"},{"tags":["android","sqlite","alarmmanager","runtime-error","alarm"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":4,"view_count":33,"score":-4,"question_id":12728709,"title":"error prog not running","body":"<p>I am making an app which does specified things it their time is once feeded in the app so for this i have made a list of events and a alarm service.Now i am having error NULL POINTER EXCEPTION while starting the alarm activity from this profileview activity i dont know why.</p>\n\n<pre><code>   public class ProfileView extends ListActivity{\n\n    int hour,min;\n    TimePicker tp ;\n    String e,e1;\n    static int p = 0;\n    Spinner spn ;\n    Button b1,b2,b3,b4,b5;\n    EditText et,et1;\n    String str1;\n    ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\n    ArrayAdapter&lt;String&gt; adapter;\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main); \n        //if(p == 0)\n        list.add(\"Create\");\n        openDB();\n        p++;\n\n        adapter = new ArrayAdapter&lt;String&gt;(this,android.R.layout.simple_list_item_1,list);\n        setListAdapter(adapter);      \n    }\n\n    @Override\n    protected void onListItemClick(ListView l, View v, int position, long id) {\n        super.onListItemClick(l, v, position, id);\n        if(position == 0){\n            final Dialog build = new Dialog(ProfileView.this);\n            build.setTitle(\"String Name and Details\");\n            build.setContentView(R.layout.activity_dialog);\n            build.show();\n            spn = (Spinner)build.findViewById(R.id.spinner1_Dialog);\n            et = (EditText) build.findViewById(R.id.editText1_Dialog);\n            b2 = (Button) build.findViewById(R.id.button1_Dialog);\n            tp = (TimePicker)build.findViewById(R.id.timePicker1_Dialog);\n            b3 = (Button)build.findViewById(R.id.button2_Dialog);\n            tp.setIs24HourView(true);\n            tp.setCurrentMinute(00);\n\n            b2.setOnClickListener(new View.OnClickListener() {\n\n                public void onClick(View v) {\n                    build.dismiss();\n                    hour = tp.getCurrentHour();\n                    min = tp.getCurrentMinute();\n                    list.add(et.getText().toString());\n                    addDB(et.getText().toString(),spn.getLastVisiblePosition(),hour,min);\n                    adapter.notifyDataSetChanged();\n                    setListAdapter(adapter);\n                }\n            });\n\n            b3.setOnClickListener(new View.OnClickListener() {\n\n                public void onClick(View v) {\n                    build.dismiss();\n                }\n            });\n        }else{\n            DBHandler handler = new DBHandler(this);\n            SQLiteDatabase db = handler.getReadableDatabase();\n            Cursor c = db.query(\"_table\", new String[]{\"_no\",\"_name\",\"_type\",\"_hour\",\"_min\"}, null, null, null, null, null);\n            c.moveToFirst();\n            while(position != 1){\n                c.moveToNext();\n                position--;\n            }\n            Log.d(\"List Item\", c.getString(0));\n            Bundle bb = new Bundle();\n            bb.putInt(\"id\",c.getInt(0));\n            bb.putString(\"name\", c.getString(1));\n            bb.putString(\"type\", c.getString(2));\n            bb.putInt(\"hour\", c.getInt(3));\n            bb.putInt(\"minute\", c.getInt(4));\n            Intent ix = new Intent(\"com.example.ifest.ALARM\");\n            ix.putExtras(bb);\n            Log.d(\"column no\", c.getString(1));\n            c.close();\n            db.close();\n            startActivity(ix);          \n        }\n    }\n\n    protected void addDB(String name,int id,int h,int m) {\n        DBHandler handle = new DBHandler(this);\n        SQLiteDatabase db = handle.getWritableDatabase();\n        ContentValues cv = new ContentValues();\n        cv.put(\"_name\",name);\n        if(id == 0)\n            cv.put(\"_type\",\"WIFI\");\n        else if(id == 1)\n            cv.put(\"_type\",\"BLUETOOTH\");\n        else if(id == 2)\n            cv.put(\"_type\",\"MEDIA\");\n        cv.put(\"_hour\", h);\n        cv.put(\"_min\", m);\n        db.insert(\"_table\", null , cv);\n        db.close();\n    }\n\n    private void openDB() {\n        DBHandler handle = new DBHandler(this);\n        SQLiteDatabase db = handle.getReadableDatabase();\n        //if(p != 0){   \n            Cursor c = db.rawQuery(\"SELECT * FROM \"+ \"_table\",null);\n            c.moveToFirst();\n            list.add(c.getString(1));\n            Log.d(\"cursor\", c.getString(1));\n            while(c.moveToNext()){\n                list.add(c.getString(1));\n                Log.d(\"cursor\", c.getString(1));\n            }\n            c.close();\n            db.close();\n        //}\n        /*}else if(p == 0){\n            ContentValues cv = new ContentValues();\n            cv.put(\"_name\", \"Create\");\n            db.insert(\"_table\", null, cv);\n            db.close();\n        }*/\n    }\n\n    @Override\n    public void onCreateContextMenu(ContextMenu menu, View v,ContextMenuInfo menuInfo) {\n        super.onCreateContextMenu(menu, v, menuInfo);\n        MenuInflater inflate = getMenuInflater();\n        inflate.inflate(R.menu.string_main,menu);\n    }\n\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        MenuInflater mi = getMenuInflater();\n        mi.inflate(R.menu.activity_main, menu);\n        return true;\n    }\n\n    @Override\n    public boolean onMenuItemSelected(int featureId, MenuItem item) {\n        switch(item.getItemId()){\n        case R.id.item1:\n            final Dialog build = new Dialog(ProfileView.this);\n            build.setTitle(\"String Name and Details\");\n            build.setContentView(R.layout.activity_dialog);\n            build.show();\n            spn = (Spinner)build.findViewById(R.id.spinner1_Dialog);\n            et = (EditText) build.findViewById(R.id.editText1_Dialog);\n            b2 = (Button) build.findViewById(R.id.button1_Dialog);\n            tp = (TimePicker)build.findViewById(R.id.timePicker1_Dialog);\n            b3 = (Button)build.findViewById(R.id.button2_Dialog);\n            tp.setIs24HourView(true);\n            tp.setCurrentMinute(00);\n\n            b2.setOnClickListener(new View.OnClickListener() {\n\n                public void onClick(View v) {\n                    build.dismiss();\n                    hour = tp.getCurrentHour();\n                    min = tp.getCurrentMinute();\n                    list.add(et.getText().toString());\n                    addDB(et.getText().toString(),spn.getLastVisiblePosition(),hour,min);\n                    adapter.notifyDataSetChanged();\n                    setListAdapter(adapter);\n                }\n            });\n\n            b3.setOnClickListener(new View.OnClickListener() {\n\n                public void onClick(View v) {\n                    build.dismiss();\n                }\n            });\n            break;\n\n        case R.id.item2:\n            final Dialog d = new Dialog(this);\n            d.setTitle(\"Delete Event\");\n            d.setContentView(R.layout.activity_dialog2);\n            b4 = (Button) d.findViewById(R.id.button1_Dialog2);\n            et1 = (EditText) d.findViewById(R.id.editText1_Dialog2);\n            b5 = (Button) d.findViewById(R.id.button2_Dialog2);\n            d.show();\n            b4.setOnClickListener(new View.OnClickListener() {\n\n                public void onClick(View v) {\n                    d.dismiss();\n                    //list.remove(list.indexOf(et1.getText().toString()));\n                    Log.d(\"Index\", \" \" + list.indexOf(et1.getText().toString().toString()));\n                    DBHandler handler = new DBHandler(ProfileView.this);\n                    SQLiteDatabase db = handler.getWritableDatabase();\n                    db.delete(\"_table\" , \"_no =\" + (list.indexOf(et1.getText().toString())-1) , null);\n                    db.close();\n                }\n            });\n            b5.setOnClickListener(new View.OnClickListener() {\n\n                public void onClick(View v) {\n                    d.dismiss();\n                }\n            });\n\n            break;\n\n        case R.id.item3:\n            Intent i = new Intent(\"com.example.ifest.ABOUTUS\");\n            startActivity(i);\n            break;\n\n        case R.id.item4:\n            finish();\n            break;\n        }\n        return true;\n    }\n\n}\n</code></pre>\n\n<p>while my alarm activity is as shown I am actually using the id of the name from the db and creating multiple alarms using those ids :</p>\n\n<pre><code> public class Alarm extends Activity {\n\n    private Intent ix;\n    private PendingIntent pendingIntent;\n    private int i;\n    public TimePicker tp1, tp2;\n    int hour, min;\n    Button b1,b2;\n    String name,type;\n\n    /** Called when the activity is first created. */\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_alarm);\n        b1 = (Button) findViewById(R.id.button1);\n        b1 = (Button) findViewById(R.id.button2);\n        tp1 = (TimePicker) this.findViewById(R.id.timePicker1);\n        tp2 = (TimePicker) this.findViewById(R.id.timePicker2);\n        tp2.setCurrentHour(0);\n        tp2.setCurrentMinute(0);\n        Bundle bb = getIntent().getExtras();\n        i = bb.getInt(\"id\");\n        bb.getString(\"name\");\n        type = bb.getString(\"type\");\n\n        b1.setOnClickListener(new Button.OnClickListener() {\n\n            public void onClick(View arg0) {\n                // TODO Auto-generated method stub\n\n                ix = new Intent(Alarm.this,ServiceAlarm.class);\n                ix.putExtra(\"hour1\", tp1.getCurrentHour());\n                ix.putExtra(\"min1\", tp1.getCurrentMinute());\n                ix.putExtra(\"hour2\", tp2.getCurrentHour());\n                ix.putExtra(\"min2\", tp2.getCurrentMinute());\n                ix.putExtra(\"type\", type);\n\n                // Log.d(\"hour here\",\" \"+ tp1.getCurrentHour());\n                // Log.d(\"min here\",\" \"+ tp1.getCurrentMinute());\n                pendingIntent = PendingIntent.getService(Alarm.this, i, ix , 0);\n\n                AlarmManager alarmManager = (AlarmManager) getSystemService(ALARM_SERVICE);\n                Calendar calendar = Calendar.getInstance();\n                calendar.setTimeInMillis(0000);\n                // calendar.add(Calendar.SECOND, 10);\n                alarmManager.setRepeating(AlarmManager.RTC_WAKEUP,\n                        calendar.getTimeInMillis(), 60 * 1000, pendingIntent);\n                i++;\n\n                Toast.makeText(Alarm.this, \"Start Alarm\",Toast.LENGTH_LONG).show();\n            }\n        });\n\n        b2.setOnClickListener(new Button.OnClickListener() {\n\n            public void onClick(View arg0) {\n                /*AlarmManager alarmManager = (AlarmManager) getSystemService(ALARM_SERVICE);\n                PendingIntent.getService(getBaseContext(), i, myIntent, 0);\n                alarmManager.cancel(pendingIntent);\n                i--;\n                // Tell the user about what we did.\n                Toast.makeText(AndroidAlarmService.this, \"Cancel!\",\n                        Toast.LENGTH_LONG).show();*/\n\n            }\n        });\n\n    }\n}\n</code></pre>\n\n<p>now the error log is when i open any item from list :\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.ifest/com.example.ifest.Alarm}: java.lang.NullPointerException</p>\n"},{"tags":["flex","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":68,"score":0,"question_id":12602666,"title":"Flex: Accessing SQLite entry using 'getItemAt()'","body":"<p>I have an array populated with input from an <code>SQLite</code> database. When I use this array as the dataprovider for a s:list then it will display all the objects in the array that I specify.<br>\nI would like to access some of the objects in the array, and have been trying to use <code>getItemAt()</code>. At the moment I can return the first object in the array, but changing the index (to <code>getItemAt(1)</code> for example), it returns nothing. </p>\n\n<p>Ultimately I am aiming to populate an FX:Model with data entered elsewhere in the application and inserted into the <code>SQLite</code> database. The model then acts as the dataprovider for a pie chart. I can pass the first entry of the database on to the model/pie chart, but can't access others.</p>\n\n<p>Some relevant sections of code are as follows. Trouble shooting tips would be appreciated. </p>\n\n<pre><code>[Bindable]\n    private var GHGsource:ArrayCollection;\n</code></pre>\n\n<p>And then:</p>\n\n<pre><code>            GHGsource = new ArrayCollection();\n        }\n        for each ( var o:Object in event.data )\n        {\n            GHGsource.addItem(o);\n        }\n        FullList.dataProvider = GHGsource;\n    }\n}\n</code></pre>\n\n<p>Model setup:</p>\n\n<pre><code>&lt;fx:Declarations&gt;\n    &lt;fx:Model id=\"GHG\" &gt;\n&lt;data&gt;\n&lt;row&gt;\n&lt;input&gt;Enteric methane&lt;/input&gt;\n&lt;Value&gt; {GHGsource.getItemAt(0).answer}  &lt;/Value&gt;\n</code></pre>\n\n<p>List setup:</p>\n\n<pre><code>&lt;s:List id=\"FullList\"&gt;\n  &lt;s:itemRenderer&gt;\n    &lt;fx:Component&gt;\n      &lt;s:IconItemRenderer labelFunction=\"returnQuestion\" messageFunction=\"returnAnswer\"&gt;\n        &lt;fx:Script&gt;\n          &lt;![CDATA[                             \n            private function returnQuestion(item:Object):String\n            {\n                return \"Question: \" + item.question;\n            }\n            private function returnAnswer(item:Object):String\n            {\n                var response:String = \"\";\n                if ( !item.answer || item.answer == \"\" )\n                {\n                    response = \"(no response)\";\n                } else {\n                    response = item.answer;\n                }\n                return response;\n            }\n          ]]&gt;\n        &lt;/fx:Script&gt;\n      &lt;/s:IconItemRenderer&gt;\n    &lt;/fx:Component&gt;\n  &lt;/s:itemRenderer&gt;\n&lt;/s:List&gt;\n</code></pre>\n\n<p>This application is based on the database structures set out in <a href=\"http://blogs.adobe.com/koestler/2010/11/open-source-flex-hero-app-surveyape.html\" rel=\"nofollow\">Daniel Koestler's survey ape application</a>. </p>\n\n<p>Perhaps an insight into how the s:List component accesses objects in an array will help here?</p>\n\n<p>Additional detail:</p>\n\n<p>Running in debug mode it seems as though that the objects are not binding correctly to the arraycollection.\nwarning: unable to bind to property 'xxx' on class 'Object' (class is not an IEventDispatcher)</p>\n\n<p>I have tried to follow guides on the following links, but have not been sucessfull.<br>\n<a href=\"http://sunilanair.wordpress.com/2009/07/21/warning-unable-to-bind-to-property-asset-on-class-object/\" rel=\"nofollow\">link1</a>\n<a href=\"http://stackoverflow.com/questions/8252862/sending-arraycollections-via-p2p-flex\">link2</a></p>\n"},{"tags":["objective-c","xcode","sqlite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":57,"score":-1,"question_id":12726970,"title":"get column names of table of sqllite","body":"<p>i want to get column names of table.\nthe below query give me nothing. but it should show me the column names of table..</p>\n\n<pre><code>     NSLog(@\"Column Name are : %@\",[self selectDataFromDatabase:@\"test_api.sqlite\" query:@\"PRAGMA table_info( text_db );\"]);\n</code></pre>\n\n<p>this is function which is used to execute the query...</p>\n\n<pre><code>     -(NSMutableArray *) selectDataFromDatabase:(NSString *)dbname query:(NSString *)query\n {\nNSMutableArray *mainArray = [[NSMutableArray alloc] init];\nNSMutableArray *subArray = [[NSMutableArray alloc] init];\n\nNSString *dbPath = [api getDatabasePath:dbname];\n[api checkAndCreateDB:dbname dbPath:dbPath];\n\nsqlite3 *database;\nNSString * myRowData=[[NSString alloc] initWithFormat:@\"%@\",@\"\"];\n\nconst char *sqlStatement;\nint columnCounter=0;\n// Open the database from the users filessytem\nif(sqlite3_open([dbPath UTF8String], &amp;database) == SQLITE_OK) {\n\n    sqlStatement=[[NSString stringWithFormat:@\"%@\",query ] UTF8String];\n\n\n    sqlite3_stmt *compiledStatement;\n\n    if(sqlite3_prepare_v2(database, sqlStatement, -1, &amp;compiledStatement, NULL) == SQLITE_OK) \n    {\n        columnCounter=sqlite3_column_count(compiledStatement);\n\n\n        while(sqlite3_step(compiledStatement) == SQLITE_ROW) \n        {\n            for(int i=0;i&lt;columnCounter;i++)\n            {\n                NSString * test= [NSString stringWithUTF8String:(char *)sqlite3_column_text(compiledStatement, i)] ;\n\n                myRowData = [api Append:myRowData subString:test];\n\n                if(i != columnCounter )\n                {\n                    [subArray addObject:myRowData];\n                    myRowData = [[NSString alloc] initWithFormat:@\"\"];\n                }\n            }\n\n            [mainArray addObject:subArray];\n            subArray = nil;\n            subArray = [[NSMutableArray alloc] init];\n\n        }\n\n    }\n\n    sqlite3_finalize(compiledStatement);\n\n}\n\nsqlite3_close(database);\nreturn mainArray;\n</code></pre>\n\n<p>}</p>\n\n<p>this function above work perfectly for normal select queries. but it is not work to get column name. </p>\n\n<p>thanks in advance..</p>\n"},{"tags":["sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":12727488,"title":"How to loop through SQLite step result mutiple times","body":"<p>Is there any way to loop through the same SQLite step result mutiple times. </p>\n\n<p>Scenario:\n1. Use step stmt to execute the query\n2. Loop thru the result and do some calculation\n3. Loop thru the same result and do calculation based on value (2) and print the result.</p>\n\n<p>Can someone please suggest how to do this?</p>\n"},{"tags":["sqlite","scripting"],"answer_count":4,"favorite_count":0,"up_vote_count":8,"down_vote_count":0,"view_count":8314,"score":8,"question_id":2380553,"title":"SQLite - Run multi-line SQL script from file?","body":"<p>I have the following SQL in a file, user.sql:</p>\n\n<pre><code>CREATE TABLE user\n(\n  user_id INTEGER PRIMARY KEY,\n  username varchar(255),\n  password varchar(255)\n);\n</code></pre>\n\n<p>However, when the following command is executed:</p>\n\n<pre><code>sqlite3 my.db &lt; user.sql \n</code></pre>\n\n<p>The following error is generated:</p>\n\n<pre><code>Error: near line 1: near \")\": syntax error\n</code></pre>\n\n<p>I would prefer to keep the SQL as-is, as the file will be checked into source control and will be more maintainable and readable as it is now. Can the SQL span multiple lines like this, or do I need to put it all on the same line? </p>\n"},{"tags":["android","sqlite","try-catch","constraints"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":133,"score":0,"question_id":11776356,"title":"Android SQLite Contraint Conflict. Try/Catch couldn't catch","body":"<pre><code>08-02 16:26:24.750: E/Database(28841): Error inserting data\n08-02 16:26:24.750: E/Database(28841): android.database.sqlite.SQLiteConstraintException: error code 19: constraint failed\n08-02 16:26:24.750: E/Database(28841):  at android.database.sqlite.SQLiteStatement.native_execute(Native Method)\n08-02 16:26:24.750: E/Database(28841):  at android.database.sqlite.SQLiteStatement.execute(SQLiteStatement.java:61)\n08-02 16:26:24.750: E/Database(28841):  at android.database.sqlite.SQLiteDatabase.insertWithOnConflict(SQLiteDatabase.java:1584)\n08-02 16:26:24.750: E/Database(28841):  at android.database.sqlite.SQLiteDatabase.insert(SQLiteDatabase.java:1428)\n08-02 16:26:24.750: E/Database(28841):  at com.app.android.DataOperations.insertItems(DataOperations.java:69)\n08-02 16:26:24.750: E/Database(28841):  at com.app.android.DownloadTask.createDatabase(DownloadTask.java:173)\n08-02 16:26:24.750: E/Database(28841):  at com.app.android.DownloadTask.doInBackground(DownloadTask.java:59)\n08-02 16:26:24.750: E/Database(28841):  at com.app.android.DownloadTask.doInBackground(DownloadTask.java:1)\n08-02 16:26:24.750: E/Database(28841):  at android.os.AsyncTask$2.call(AsyncTask.java:185)\n08-02 16:26:24.750: E/Database(28841):  at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:306)\n08-02 16:26:24.750: E/Database(28841):  at java.util.concurrent.FutureTask.run(FutureTask.java:138)\n08-02 16:26:24.750: E/Database(28841):  at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1088)\n08-02 16:26:24.750: E/Database(28841):  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:581)\n08-02 16:26:24.750: E/Database(28841):  at java.lang.Thread.run(Thread.java:1019)\n</code></pre>\n\n<p>Above is my LogCat report. What I am trying to do is to insert data. After looking at the logcat I found that it is a constraint violation. I tried to put my code as:</p>\n\n<pre><code>public void insert(...){\n            long insertID = 0;\n            try{\n                Log.i(\"DataOperation\", String.valueOf(insertID));\n                insertID = sqllitedb.insert(DBase.TABLE_NAME, null, contentValues);\n            }catch(android.database.sqlite.SQLiteException ex){\n                Log.i(\"dataops_\", \"Error Constraint\"); //Print\n            }\n\n}\n</code></pre>\n\n<p>Nothing is happening.. My logcat is full of stacktraces. No Sign of the line with comment(see above).</p>\n\n<p>How can it be handled. \nN.B. There is only one insert satements(which is above) in my whole program. Test Ok then I will proceed.</p>\n\n<p>Also tell me how to handle whether my database is created/already exists so that if exists I will not run my DownloadTask.</p>\n"},{"tags":["android","sqlite","listview","simplecursoradapter"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":66,"score":0,"question_id":12726075,"title":"why does SQLite complain that _id column not found when it's included","body":"<p>I'm developing an Android application (unfortunately) for my coursework. I need to use a SimpleCursorAdapter to display a custom ListView of appointments. The constructor of the SimpleCursorAdapter takes a cursor as a parameter and this cursor needs to select all the columns that need to be displayed in the listView.</p>\n\n<p>My problem is that everytime I run the application, it complains that: 'column '_id' does not exist' but there is a column called id! Where am I going wrong?</p>\n\n<p>Below is the relevant code:</p>\n\n<pre><code>public class AppointmentsDB {\n\n    public static final String DATABASE_NAME = \"appointment_db\";\n    public static final String DATABASE_TABLE = \"appointment_table\";\n    private static final int DATABASE_VERSION = 1;\n\n    public static final String KEY_ID = \"_id\";\n    public static final String KEY_TITLE = \"title\";\n    public static final String KEY_DESCRIPTION = \"description\";\n    public static final String KEY_PRIORITY = \"priority\";\n    public static final String KEY_DATE_TIME = \"date_time\";\n    public static final String KEY_DURATION = \"duration\";\n    public static final String KEY_ALARM_TIME = \"alarm_time\";\n\n    private DatabaseHelper appointmentsDBHelper;\n    private SQLiteDatabase appointmentsDB;\n    private final Context context;\n\n    public AppointmentsDB(Context context) {\n        this.context = context;\n        appointmentsDBHelper = new DatabaseHelper(context);\n    }\n\n    public SQLiteDatabase openReadableDatabase()\n    {\n        return appointmentsDBHelper.getReadableDatabase();\n    }\n\n    public SQLiteDatabase openWritableDatabase()\n    {\n        return appointmentsDBHelper.getWritableDatabase();\n    }\n\n    public long addAppointment(Appointment appointment)\n    {\n        //\n    }\n\n    public void close()\n    {\n        //\n    }\n\n    static class DatabaseHelper extends SQLiteOpenHelper {\n\n        Context context;\n\n        public DatabaseHelper(Context context) {\n            super(context, DATABASE_NAME, null, DATABASE_VERSION);\n\n            this.context = context;\n\n        }\n\n        @Override\n        public void onCreate(SQLiteDatabase db) {\n\n            StringBuilder query = new StringBuilder();\n            query.append(\"CREATE TABLE \"+DATABASE_TABLE+\" \");\n            query.append(\"(\");\n            query.append(KEY_ID+\" INTEGER PRIMARY KEY AUTOINCREMENT, \");\n            query.append(KEY_TITLE+\" TEXT NOT NULL, \");\n            query.append(KEY_DESCRIPTION+\" TEXT, \");\n            query.append(KEY_PRIORITY+\" INTEGER, \");\n            query.append(KEY_DATE_TIME+\" INTEGER, \");\n            query.append(KEY_DURATION+\" INTEGER, \");\n            query.append(KEY_ALARM_TIME+\" INTEGER\");\n            query.append(\");\");\n\n            ContentValues test = new ContentValues();\n\n            db.execSQL(query.toString());\n        }\n\n        @Override\n        public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n            db.execSQL(\"DROP TABLE IF EXISTS \"+DATABASE_TABLE);\n            onCreate(db);\n        }\n\n    }\n}\n</code></pre>\n\n<p><strong>MainActivity.java</strong>\npublic class MainActivity extends ListActivity {</p>\n\n<pre><code>private Cursor cursor;\n\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    AppointmentsDB dbHelper = new AppointmentsDB(this);\n\n    // Execute query that selects all appointments.\n    // Store cursor from that query in local variable 'cursor'.\n    // Pass 'cursor' to SimpleCursorAdapter.\n    // SimpleCursorAdapter uses 'cursor' to display all appointments in\n    // listview.\n\n    StringBuilder selectQuery = new StringBuilder();\n    selectQuery.append(\"SELECT \"+AppointmentsDB.KEY_ID+\" ,\");\n    selectQuery.append(AppointmentsDB.KEY_TITLE + \", \");\n    selectQuery.append(AppointmentsDB.KEY_DESCRIPTION + \", \");\n    selectQuery.append(AppointmentsDB.KEY_PRIORITY + \", \");\n    selectQuery.append(AppointmentsDB.KEY_DATE_TIME + \", \");\n    selectQuery.append(AppointmentsDB.KEY_DURATION + \", \");\n    selectQuery.append(AppointmentsDB.KEY_ALARM_TIME + \" FROM \"\n            + AppointmentsDB.DATABASE_TABLE /*+ \" \"*/);\n    selectQuery.append(\"ORDER BY \" + AppointmentsDB.KEY_DATE_TIME\n            + \" ASC\");\n\n    cursor = dbHelper.openReadableDatabase().rawQuery(\n            selectQuery.toString(), null);\n\n    String[] columnNames = new String[]{\"\"};\n    int[] ids = new int[]{};\n\n    AppointmentsCursorAdapter adapter = new AppointmentsCursorAdapter(this,R.layout.row,cursor,columnNames,ids);\n    this.setListAdapter(adapter);\n}\n\n@Override\npublic boolean onCreateOptionsMenu(Menu menu) {\n    getMenuInflater().inflate(R.menu.activity_main, menu);\n    return true;\n}\n\n// This class sets our customised layout for the ListView\n\nclass AppointmentsCursorAdapter extends SimpleCursorAdapter\n{\n\n    private Context context;\n    private int layout;\n    private int[] colours;\n\n    public AppointmentsCursorAdapter(Context context, int layout, Cursor c,\n            String[] from, int[] to) \n    {\n        super(context, layout, c, from, to);\n\n        this.context = context;\n        this.layout = layout;\n        //...\n    }\n\n\n    public View newView(Context context, Cursor cursor, ViewGroup parent)\n    {\n        LayoutInflater inflater = LayoutInflater.from(context);\n        View view = inflater.inflate(layout, parent, false);\n\n        TextView titleText = (TextView) view.findViewById(R.id.titleText);\n        TextView priorityView = (TextView) view.findViewById(R.id.priorityView);\n        TextView dateText = (TextView) view.findViewById(R.id.dateText);\n        TextView monthText = (TextView) view.findViewById(R.id.monthText);\n        TextView timeText = (TextView) view.findViewById(R.id.timeText);\n\n        //...\n\n        return view;\n    }\n\n    @Override\n    public void bindView(View view, Context context, Cursor cursor)\n    {\n        super.bindView(view, context, cursor);\n\n\n        TextView titleText = (TextView) view.findViewById(R.id.titleText);\n        TextView priorityView = (TextView) view.findViewById(R.id.priorityView);\n        TextView dateText = (TextView) view.findViewById(R.id.dateText);\n        TextView monthText = (TextView) view.findViewById(R.id.monthText);\n        TextView timeText = (TextView) view.findViewById(R.id.timeText);\n\n        //...\n\n    }\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["android","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":29,"score":1,"question_id":12724777,"title":"Getting CursorIndexOutOfBoundsException while using SQLte DB","body":"<p>I'm using this code to get the count from the cursor. On executing the Select query in SQLite Manager I am getting count as 6.  </p>\n\n<pre><code>public int getCount(String name){           \n        Cursor cursor;\n        cursor = myDataBase.rawQuery(\n                \"select count(*) as _count from tProviderNode where parentId IN(select identifier from tProviderNode where name='\"\n                        + name + \"');\", null);\n        return cursor.getInt(cursor.getColumnIndex(\"_count\"));\n    }  \n</code></pre>\n\n<p>On execution of this function I'm getting the following error:-</p>\n\n<pre><code>android.database.CursorIndexOutOfBoundsException: Index -1 requested, with a size of 1\n</code></pre>\n\n<p>Why I'm getting this error? Am I missing anything.</p>\n"},{"tags":["sql","sqlite","database-design"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":12711530,"title":"How to structure databse of API usage history","body":"<p>I have a database of users for a web API, but I also want to store usage history for each user, i.e: page request count, data volumes, etc. What is the best way to implement this, in terms of database structure? My initial thought was to retain the main table, but then create a history table for each user. This seems horribly impractical, however. My gut feeling is that I probably need one separate table for usage history, but I am unclear as to how to structure it.</p>\n\n<p>I am using SQLite.</p>\n"},{"tags":["android","sqlite"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":52,"score":1,"question_id":12712086,"title":"Comparing TEXT variables doesn't work","body":"<p>I'm running into problems when I try to compare TEXT on my Android SQLite DB.</p>\n\n<p>I have a query like that:</p>\n\n<pre><code>select * from myTable where _id='some.text.dots.are.really.there!'\n</code></pre>\n\n<p>myTable is <code>TEXT PRIMARY KEY</code>. I'm trying to select and update some data in my table. There are there and get returned when I do a SELECT *. </p>\n\n<p>The Android code (with where clause) looks like that:</p>\n\n<pre><code>mDb.query(TABLE_TRANSACTIONS, TABLE_TRANSACTIONS_COLUMNS, COLUMN__ID + \" = ?\", \n            new String[] {id }, null, null, null);\n</code></pre>\n\n<p>But</p>\n\n<pre><code>mDb.query(TABLE_TRANSACTIONS, TABLE_TRANSACTIONS_COLUMNS, COLUMN__ID + \" = '\" + id + \"'\", \n            null, null, null, null);\n</code></pre>\n\n<p>works neither. How do I compare TEXT values in SQLite on Android?</p>\n"},{"tags":["android","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":1265,"score":3,"question_id":4511894,"title":"Android getColumName and getColumnIndex ","body":"<p>I'm an android novice and I have a problem with my cursor. I can't access the data using:\n<code>cursor.get(cursor.getColumnIndex(columnName));</code></p>\n\n<p>I tried the following code to test for an error:</p>\n\n<pre><code>while (cursor.moveToNext()) {\n        int x = 2;\n        Log.i(\"MyDebug\", \"Index: \" + x);\n        Log.i(\"MyDebug\", \"Name: \" + cursor.getColumnName(x));\n        Log.i(\"MyDebug\", \"Index again: \" + cursor.getColumnIndex(cursor.getColumnName(x)));\n    }\n</code></pre>\n\n<p>Result from the Debug Monitor:</p>\n\n<pre><code>Index: 2 \nName: mainMenu.title \nIndex again: -1\n</code></pre>\n\n<p>Shouldn't the result of \"Index again\" be 2? What am I doing wrong?</p>\n"},{"tags":["java","android","sqlite","apk","google-play"],"answer_count":2,"favorite_count":3,"up_vote_count":2,"down_vote_count":0,"view_count":1200,"score":2,"question_id":10908432,"title":"Can we update the APK on Google Play Store with out changing the APP Version","body":"<p>Can anyone let me know, Can I replace the APK uploaded to Google Play Store, with out changing the App version.</p>\n\n<p>Basically I have uploaded the app with version 1.0 yesterday, and today I want to reupload the APK with some important fix, and do not want to change the version.</p>\n"},{"tags":["android","database","sqlite","data","storage"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":12723186,"title":"Get databases directory for my app programatically","body":"<p>I want to use a \"pre loaded\" database in my app. There are tons of questions about this and most point to this blog article <a href=\"http://www.reigndesign.com/blog/using-your-own-sqlite-database-in-android-applications/\" rel=\"nofollow\">here</a> or similars.</p>\n\n<p>So far so good. I just want to know if there is a better way to get the default databases directory so you don't have to use something like this:</p>\n\n<pre><code>private static String DB_PATH = \"/data/data/YOUR_PACKAGE/databases/\";\n</code></pre>\n\n<p>I mean, maybe that is changed in the future or maybe a device or rom could place it elsewhere... so is there a way to get this path programatically?</p>\n\n<p>In Context exists a method to getDatabasePath(name), but you need to give it an existing db name and well... it doesn't exist yet, I want to move it there :P</p>\n\n<p>Thx in advance!</p>\n"},{"tags":["sql","database","query","sqlite","sqlite3"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":246,"score":1,"question_id":10603080,"title":"how to use like operator for complex query in sqlite","body":"<p>Hi all i have the following table called student in SQLite database.</p>\n\n<p>this is my table structure </p>\n\n<pre><code>id       name\n-----------------------\n\n\"3\"  \"Babu Qw\"  \n\"2\"  \"Ganesh Babu\"  \n\"1\"  \"Murali  Abb\"  \n\"4\"  \"ganesh1 Babu\"             \n\"5\"  \"hari murali\"              \n\"10\" \"Abbash abc\"   \n</code></pre>\n\n<p>name field is combined by first name and last name. for example \"Babu Qw\"  Babu is the first name and Qw is the last name its separated by a space.</p>\n\n<p>and name is the input field where 'ba' is my input parameter.(<strong>Ex .. name like 'ba'</strong>)</p>\n\n<p>now i want to fetch the records whatever name <strong>(first name or last name )</strong> starts with 'ba' not by any middle character.</p>\n\n<p>output would be:</p>\n\n<pre><code>id       name\n-----------------------\n\n\"3\"  \"Babu Qw\"  \n\"2\"  \"Ganesh Babu\"  \n\"4\"  \"ganesh1 Babu\" \n</code></pre>\n\n<p>here \"Abbash abc\" (first name Abbash or last name abc does not starts with ba) so that \"Abbash abc\" not listed.</p>\n"},{"tags":["java","android","sqlite"],"answer_count":3,"favorite_count":5,"up_vote_count":11,"down_vote_count":0,"view_count":4819,"score":11,"question_id":3163845,"title":"Is the onUpgrade method ever called?","body":"<p>Is the <a href=\"http://developer.android.com/reference/android/database/sqlite/SQLiteOpenHelper.html#onUpgrade%28android.database.sqlite.SQLiteDatabase,%20int,%20int%29\"><code>onUpgrade</code></a> method of <a href=\"http://developer.android.com/reference/android/database/sqlite/SQLiteOpenHelper.html\"><code>SQLiteOpenHelper</code></a> ever called? If so, when is it called and by what? Or if it is not called by developers, then why is it there? What should be done in the method I have seen examples where it drops all the tables, but then a comment says that dropping all the tables is <b>NOT</b> what you should do.</p>\n"},{"tags":["sqlite","terminal"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":12720883,"title":"Sqlite via terminal","body":"<p>New in sqlite and terminal commands,so may be this is simple.I was trying to create a DB table via terminal(studying)</p>\n\n<pre><code>sqlite&gt; insert into game values ('fallout','rpg');\nsqlite&gt; insert into game values ('final fantasy','rpg');\nsqlite&gt; insert into game values ('gaame3','stealth');\nsqlite&gt; insert into game values ('hitman','rpg');\nsqlite&gt; select * from ame where type='rpg'\n   ...&gt; select * from game\n   ...&gt; \n   ...&gt; \n</code></pre>\n\n<p>Created a table game  and load values into it.When i entered a query to see the data.i mistyped the name of the table and i got this</p>\n\n<pre><code>   ...&gt; \n</code></pre>\n\n<p>How can i get back to the normal state ,Cntrl+Z worked but it changed back to the state where i started.Is there a way i can reach back to this.</p>\n\n<pre><code>sqlite&gt;\n</code></pre>\n\n<p>without typing in </p>\n\n<pre><code>sqlite3 test.sqlite3\n</code></pre>\n\n<p>again</p>\n"},{"tags":["android","sqlite","cursor","blob","protocol-buffers"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":125,"score":0,"question_id":12716859,"title":"Retrieve large blob from Android sqlite database","body":"<p>I stored chunks of binary data (protobufs) in the sqlite database of an Android app without realizing that Android's <code>Cursor</code> can only hold a maximum of 1MB of data. I now know that I should have stored these binary blobs in files and only referenced the files in the sqlite database entries.</p>\n\n<p>I need to upgrade the database (the app has been in use for a while) in order to move these binary chunks to files. The problem is that some user's data may have already exceeded the 1MB limit and I'm not able to retrieve it from the database (accessing the resulting <code>Cursor</code> for a single row that contains a large blob throws an <code>IllegalStateException: Couldn't read row 0, col 0 from CursorWindow. Make sure the Cursor is initialize before accessing data from it</code>).</p>\n\n<p>How do I retrieve the binary blobs that are greater than the 1MB <code>Cursor</code> limit that have been stored in the sqlite database?</p>\n"},{"tags":["php","sqlite","pdo"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":56,"score":3,"question_id":12720648,"title":"PHP SQLite PDO Check if user is in table?","body":"<p>I'm trying to create a script that checks if the provided username is in the table \"users\", but the \"if\" statement is always returned false. The users table only has the one column \"username\", listing all the users. What am I doing wrong?</p>\n\n<pre><code>$dbh = new PDO(\"sqlite:db.sqlite\");\n$stmt = $dbh-&gt;prepare(\"SELECT username from users where username = :name\");\n$stmt-&gt;bindParam(\":name\", $user);\n$stmt-&gt;execute();\n\nif($stmt-&gt;rowCount() &gt; 0)\n{\n    //in the table\n}\nelse{\n    //not in the table\n}\n</code></pre>\n\n<p>The whole script:</p>\n\n<pre><code>&lt;?php\nrequire_once 'mclogin.class.php';\n$api = new MinecraftAPI();\n$user = $_POST['user'];\n$password = $_POST['pword'];\nif($api-&gt;login($user, $password)){\nprint $user;\n$dbh = new PDO(\"sqlite:db.sqlite\");\n$stmt = $dbh-&gt;prepare(\"SELECT username from users where username = :name\");\n$stmt-&gt;bindParam(\":name\", $user);\n$stmt-&gt;execute();\n\nif($stmt-&gt;rowCount() &gt; 0)\n{\n    echo \"You are whitelisted\";\n}\nelse{\n    echo \"You are not whitelisted\";\n}\n\n}else{\necho \"Bad login\";\n}\n?&gt;\n</code></pre>\n\n<p>the page that send the info:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"&gt;\n        &lt;title&gt;&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n\n      &lt;form name=\"input\" action=\"login.do.php\" method=\"post\"&gt;\nUsername: &lt;input type=\"text\" name=\"user\"&gt;\nPassword: &lt;input type=\"password\" name=\"pword\"&gt;\n&lt;input type=\"submit\" value=\"Submit\"&gt;\n      &lt;/form&gt;  \n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["ruby","sqlite","rhomobile","rhodes"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":11752751,"title":"RhoMobile 13,000 inserts causing issues due to time","body":"<p>I have a problem (due to time) when inserting around 13,000 records into the devices database.</p>\n\n<p>Is there any way to optimize this? Is it possible to put these all into one transaction (as I believe that it is currently creating one transaction per insert (which apparently has a diabolical effect on speed)).</p>\n\n<p>Currently this takes around 10 minutes, this includes converting CSV to a hash (this doesn't seem to be the bottleneck).</p>\n\n<p>Stupidly I am not using RhoSync... </p>\n\n<p>Thanks</p>\n"},{"tags":["sql","sqlite","select"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":39,"score":1,"question_id":12613062,"title":"Select unique records in sqlite","body":"<p>Consider a table</p>\n\n<p>results (id, key, value) where key is the Primary key.</p>\n\n<p>Sample data:</p>\n\n<pre><code>id | key      | value\n-----------------------\nabc| source-1 | 20\nabc| source-2 | 30\nabc| source-3 | 2 \nabc| source-4 | 10\ndef| source-5 | 1 \nghi| source-6 | 25\njkl| source-5 | 13\n</code></pre>\n\n<p>I would like to return only those records which have a single entry for a given id. So output should be</p>\n\n<pre><code>id | key      | value\n------------------------\ndef| source-5 | 1\nghi| source-6 | 25\njkl| source-5 | 13\n</code></pre>\n\n<p>Please advise.</p>\n"},{"tags":["ios","sqlite","select","sqlite3"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":43,"score":2,"question_id":12709867,"title":"SQLite select statment assertion failiure in iOS","body":"<p>I get an assertion failiure on this statement;</p>\n\n<pre><code>SELECT keyphrase_id, keyphrase, url, googlename FROM keyphrases left join domains on keyphrases.domain_id = domains.domain_id where domain_id = ? and ifnull(keytime,'') != ? order by keyphrase desc;\n</code></pre>\n\n<p>I ran it through a SQL query checker and it highlighted the \"!=\" bit citing it wasn't correct syntax. This doesn't make sense to me since I was using this statement previously;</p>\n\n<pre><code>SELECT keyphrase_id, keyphrase, url, googlename FROM keyphrases left join domains on keyphrases.domain_id = domains.domain_id  where ifnull(keytime,'') != ? order by keyphrase desc;\n</code></pre>\n\n<p>This is how I bind the <code>where</code> values;</p>\n\n<pre><code>sqlite3_bind_int(selStmt, 1, domain_ID);\n\nsqlite3_bind_text(selStmt, 2, [dateString UTF8String] , -1, SQLITE_TRANSIENT);\n</code></pre>\n\n<p>I can't work this out at all and it's definitely nothing to do with the database being open or the statement being <code>nil</code> when executing etc. since the only component of the method I'm changing is the SQL statement.</p>\n\n<p>Can anyone suggest any possible reasons for this?</p>\n"},{"tags":["ios","sqlite","batch","bulkinsert"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":261,"score":1,"question_id":11187709,"title":"SQLite multiple INSERT in iOS","body":"<p>I want to insert thousand of Record in table, right now i am using </p>\n\n<pre><code>INSERT INTO myTable (\"id\", \"values\") VALUES (\"1\", \"test\")\nINSERT INTO myTable (\"id\", \"values\") VALUES (\"2\", \"test\")\nINSERT INTO myTable (\"id\", \"values\") VALUES (\"3\", \"test\")\n</code></pre>\n\n<p>Query for insert record one by one, but its take long time for execution, </p>\n\n<p>Now i want to insert all record from one query...</p>\n\n<pre><code>INSERT INTO myTable (\"id\", \"values\") VALUES\n (\"1\", \"test\"),\n (\"2\", \"test\"),\n (\"3\", \"test\"),\n .....\n .....\n (\"n\", \"test\")\n</code></pre>\n\n<p>But this query not working with Sqllite, Can you please give me some guidance for solve this problem </p>\n\n<p>Thanks,</p>\n"},{"tags":["objective-c","sqlite","fmdb"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":12707398,"title":"query custom classes via FMDB","body":"<p>I am new with FMDB and sqlite.\ni want to know is it possible to query custom classes via FMDB.</p>\n\n<p>I cant understand the advantages of using FMDB over sqlite..\nare there any added APIs and functionalities?</p>\n\n<p>Can anyone help me understand how to use the custom functions of sqlite.</p>\n"},{"tags":["java","android","sqlite","prepared-statement","android-sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":68,"score":2,"question_id":12719639,"title":"Android implementation of java.sql.PreparedStatement","body":"<p>I was researching how I can use a <a href=\"http://stackoverflow.com/questions/433392/how-do-i-use-prepared-statements-in-sqlite-in-android\">java.sql.PreparedStatement</a> object to query an SQLite database in my Android app. I am used to coding my query statements in this way, based on my previous experience coding Java apps that query Oracle databases.</p>\n\n<p>During my Googling and Stackoverflowing, I was able to easily conclude that using <a href=\"http://developer.android.com/reference/android/database/sqlite/SQLiteStatement.html\" rel=\"nofollow\">android.database.sqlite.SQLiteStatement</a> is the widely accepted solution among Android coders (<a href=\"http://stackoverflow.com/questions/433392/how-do-i-use-prepared-statements-in-sqlite-in-android\">see this post</a>, for example). Still...I remain curious as to why the accepted solution for Android is to use a class that is not an implementer of java.sql.PreparedStatement.</p>\n\n<p>Why does SQLiteStatement not implement PreparedStatement? What are the differences between the two, in terms of performance, the time of statement compilation, etc. Are there any Android implementations of PreparedStatement in existence?</p>\n"},{"tags":["mysql","sql","sqlite","sqlite3"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12719496,"title":"SQL Query with Count","body":"<p>I have the following tables:</p>\n\n<p><strong>list</strong></p>\n\n<ul>\n<li>id - key</li>\n<li>name</li>\n</ul>\n\n<p><strong>item</strong></p>\n\n<ul>\n<li>id - key</li>\n<li>name </li>\n</ul>\n\n<p><strong>list_item</strong></p>\n\n<ul>\n<li>list_id - foreign key to list table</li>\n<li>item_id - foreign key to item table</li>\n</ul>\n\n<p>I have the following query:</p>\n\n<pre><code>SELECT l.id, l.name\nFROM list l, list_item li\nWHERE l.id = li.list_id\n</code></pre>\n\n<p>I want to add to the result set, the count of items in the list.  How do I do this?</p>\n"},{"tags":["sql","sqlite","join"],"answer_count":4,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":7133,"score":4,"question_id":555246,"title":"\"ambiguous column name\" in SQLite INNER JOIN","body":"<p>I have two tables in a SQLite DB, INVITEM and SHOPITEM. Their shared attribute is ItemId and I want to perform an INNER JOIN. Here's the query:</p>\n\n<pre><code>    SELECT  INVITEM.CharId AS CharId, \n            INVITEM.ItemId AS ItemId \n      FROM  (INVITEM as INVITEM \nINNER JOIN  SHOPITEM AS SHOPITEM \n        ON  SHOPITEM.ItemId = INVITEM.ItemId)\n     WHERE  ItemId = 3;\n</code></pre>\n\n<p>SQLite doesn't like it :</p>\n\n<pre><code>SQL error: ambiguous column name: ItemId\n</code></pre>\n\n<p>The error goes away if I write <code>WHERE INVITEM.ItemId = 3</code>, but since the WHERE condition is more or less user-specified, I rather make it work without having to specify the table. NATURAL JOIN seems to solve the issue, but I'm not sure if the solution is general enough (ie I could use in this case, but I'm not sure if I can use in every case)</p>\n\n<p>Any alternate SQL syntax that would fix the problem?</p>\n"},{"tags":["php","sqlite","pdo"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":92,"score":1,"question_id":12265468,"title":"Using PDO to write to SQLite database","body":"<p>I am trying to implement a simple database using PHP &amp; sqlite on my Linux/Apache server.</p>\n\n<p>I can read from it quite readily, but I cannot perform any UPDATE, DELETE or INSERT actions. The Fatal Error I get is:</p>\n\n<pre><code>General error: 5 database is locked\n</code></pre>\n\n<p>As a simple example:</p>\n\n<pre><code>$pdo=new PDO('sqlite:test.sqlite');\n$pdo-&gt;exec(\"INSERT INTO menus(id,name,description) VALUES(6,'test','this is a test')\");\n</code></pre>\n\n<p>This waits for a long time (about a minute), and then reports the above error.</p>\n\n<p>I have read a lot of suggestions, many of which suggest that the database or its containing folder should be writable. They are. (Or were. I made them world writable for testing, and restored more reasonable permissions when that failed.)</p>\n\n<p>I have no trouble writing to the database using other techniques such as the sqlite3 command in Linux and the SQLite manager addon in Firefox.</p>\n\n<p>I would welcome any comments on how to make this work.</p>\n"},{"tags":["sql","sqlite"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":27,"score":1,"question_id":12701415,"title":"How to return custom error code in sqlite3?","body":"<p>I have a trigger statement like this:</p>\n\n<pre><code>CREATE TRIGGER update_customer_address UPDATE OF address ON customers \n  BEGIN\n    UPDATE orders SET address = new.address WHERE customer_name = old.name;\n    -- RAISE ...\n  END;\nEND;\n</code></pre>\n\n<p><strong>EDIT:</strong></p>\n\n<p>I want to do a step:</p>\n\n<pre><code>int result = sqlite3_step(statement);\n</code></pre>\n\n<p>I know <code>result</code> returns the result code like <code>SQLITE_DONE</code>, <code>SQLITE_ROW</code>, and <code>SQLITE_CONSTRAINT</code>. I also discovered that <code>RAISE ABORT</code> within <code>TRIGGER</code> returns <code>SQLITE_CONSTRAINT</code> to <code>result</code>.</p>\n\n<p>Is there a way for me to create a custom error code? I want to do something like</p>\n\n<pre><code>int result = sqlite3_step(statement);\n// get custom error code here\n</code></pre>\n\n<p>Is it possible to raise with a custom error code in sqlite? Or are there any workarounds?</p>\n"},{"tags":["c#","database","sqlite","query-optimization"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":142,"score":3,"question_id":12716506,"title":"SQLite - Fastest way to read Data from SQLite Database?","body":"<p>i have a local SQLite database</p>\n\n<p>TABLE DETAILS</p>\n\n<pre><code>-- Describe PREFIX_LIST\nCREATE TABLE PREFIX_LIST(ITEM VARCHAR(25) PRIMARY KEY)\n\n-- Describe SUFFIX_LIST\nCREATE TABLE SUFFIX_LIST(ITEM VARCHAR(25) PRIMARY KEY)\n\n-- Describe VALID_LIST\nCREATE TABLE VALID_LIST (\n    \"PART1\" TEXT,\n    \"PART2\" TEXT,\n    PRIMARY KEY(PART1, PART2)\n)\n</code></pre>\n\n<p>now this list is really huge, and i need need to save data from it.</p>\n\n<p>Here is my implementation.</p>\n\n<pre><code>SQLiteConnection con = null;\nSQLiteCommand cmd = null;\nConnect(DbPath, ref con, ref cmd);\n\ncmd.CommandText =\n    \"SELECT PART1 || '@' || PART2 FROM VALID_LIST \n WHERE NOT EXISTS \n   (SELECT * FROM PREFIX_LIST WHERE VALID_LIST.PART1 LIKE '%' || ITEM || '%') \n   AND NOT EXISTS\n   (SELECT * FROM SUFFIX_LIST WHERE VALID_LIST.PART2 LIKE '%' || ITEM || '%')\";\n\nvar reader = cmd.ExecuteReader();\n\nif (reader.HasRows)\n{\n    string savePath;\n\n    if (SaveTextFile(out savePath) == DialogResult.OK)\n    {\n        TextWriter writer = new StreamWriter(savePath);\n        while (reader.Read())\n        {\n            writer.WriteLine(reader.GetString(0));\n        }\n        writer.Close();\n        writer.Dispose();\n    }\n\n}\n\nreader.Close();\nreader.Dispose();\ncmd.Dispose();\ncon.Close();\ncon.Dispose();\n\nMessageBox.Show(\"List Saved!.\", Application.ProductName, MessageBoxButtons.OK, MessageBoxIcon.Information);\n</code></pre>\n\n<p>I need some better way i can save list faster.\ntotal entries in <strong>VALID_LIST</strong> is 2639117</p>\n\n<p>and it took 15 minutes to save it for the above SQL QUERY!</p>\n\n<p>please lmk if the sql query can be optimized!</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["java","android","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":12716293,"title":"Database mapping library","body":"<p>I'm using <a href=\"http://jackson.codehaus.org/\" rel=\"nofollow\">Jackson</a> to map JSON data(that I retrieve from an Internet server) to application objects (e.g. Artist,Clip,Playlist). Most of the times the data is static and hence I don't need to load it excessively - so I'd like to store it in a database. I need a similar to Jackson mapper which will parse the database output and construct the objects (e.g. Artist,Clip,Playlist) for me. Is there any ?</p>\n\n<p>Thanks.</p>\n"},{"tags":["android","database","sqlite"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":50,"score":1,"question_id":12715521,"title":"How to force onCreate in my SQLiteOpenHelper to run when I start my application?","body":"<p>I'm writing an application for Android. If I start it up for the first time <code>onCreate</code> runs as intended. It won't run again. That's OK, but I want to force it to run. How can I make it do so?</p>\n"},{"tags":["android","sqlite","exception-handling","insert","constraints"],"answer_count":3,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":451,"score":3,"question_id":8690682,"title":"Is it OK to rely on an SQLiteConstraint and let SQLite do the checking for me? Is there a catch?","body":"<p>Hi and happy new year!</p>\n\n<p>I have an SQLite database in Android and I use a <code>ContentProvider</code> to handle the operations, which are persisted to a table with a UNIQUE qualifier in a column.</p>\n\n<p><em><strong>Problem:</em></strong></p>\n\n<p>However, when I <code>insert</code> duplicated values into the database, it doesn't break my code per se, but it still spits thousands of <code>SQLiteConstraintException</code> Log lines, and to my user that just feels like polluting the Log, something unpolished. I've tried catching the exception just to experiment, but it still logs.</p>\n\n<p><em><strong>Question:</em></strong></p>\n\n<p>So, how do I silent those log lines? Is that even possible?</p>\n\n<p>Please read the comment below for the reason to ask the question.</p>\n\n<p><em><strong>Error:</em></strong></p>\n\n<p>Time column has the <code>UNIQUE</code> constraint:</p>\n\n<pre><code>12-31 17:43:41.815: E/Database(739): Error inserting Factor=2.0 Time=1325375465000 Extra=none\n12-31 17:43:41.815: E/Database(739): android.database.sqlite.SQLiteConstraintException: error code 19: constraint failed\n12-31 17:43:41.815: E/Database(739):    at android.database.sqlite.SQLiteStatement.native_execute(Native Method)\n12-31 17:43:41.815: E/Database(739):    at android.database.sqlite.SQLiteStatement.execute(SQLiteStatement.java:55)\n12-31 17:43:41.815: E/Database(739):    at android.database.sqlite.SQLiteDatabase.insertWithOnConflict(SQLiteDatabase.java:1549)\n12-31 17:43:41.815: E/Database(739):    at android.database.sqlite.SQLiteDatabase.insert(SQLiteDatabase.java:1410)\n12-31 17:43:41.815: E/Database(739):    at mypackage.myapp.provider.DataProvider.bulkInsert(DataProvider.java:353)\n12-31 17:43:41.815: E/Database(739):    at android.content.ContentProvider$Transport.bulkInsert(ContentProvider.java:179)\n12-31 17:43:41.815: E/Database(739):    at android.content.ContentResolver.bulkInsert(ContentResolver.java:646)\n12-31 17:43:41.815: E/Database(739):    at mypackage.myapp.service.MyService.onHandleIntent(MyService.java:96)\n12-31 17:43:41.815: E/Database(739):    at android.app.IntentService$ServiceHandler.handleMessage(IntentService.java:59)\n12-31 17:43:41.815: E/Database(739):    at android.os.Handler.dispatchMessage(Handler.java:99)\n12-31 17:43:41.815: E/Database(739):    at android.os.Looper.loop(Looper.java:123)\n12-31 17:43:41.815: E/Database(739):    at android.os.HandlerThread.run(HandlerThread.java:60)\n</code></pre>\n"},{"tags":["ruby-on-rails","git","sqlite","dotcloud"],"answer_count":4,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":363,"score":2,"question_id":6166369,"title":"How to push a Git update for my Rails app on DotCloud.com without loosing the SQLite prod db","body":"<p>This could be a noob problem but I couldn't find a solution so far.\nI'm developing a Rails app locally that uses SQLite, I've set up a local Git repo, and the dotcloud push command is using this. Locally I use the dev environment and on DotCloud it automatically uses  the prod env, which is great. The problem is that each time I do a push my prod db on DotCloud gets lost, no matter how minor the changes are to the codebase, and I have to run 'rake db:migrate' to set it up again. I don't have a prod db locally, only the dev and test dbs.</p>\n"}]}
{"total":16516,"page":14,"pagesize":100,"questions":[{"tags":["sql","query","sqlite","insert","primary-key"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":83,"score":1,"question_id":12714014,"title":"How does SQL check if a record exists?","body":"<p>I have a SQLite database and am using the <code>INSERT OR IGNORE</code> query. I have a table with an autoincrementing int as the primary key and also another unique column. My question is, how does SQLite check if the record already exists, so that it knows whether or not to ignore it? Does it scan the primary keys first and then any other unique columns? If so, it it possible for it to compare the unique column before the primary key for some queries? Also if a column is unique, is it already indexed? </p>\n"},{"tags":["sqlite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":12715137,"title":"SQLIte-net Verion 1.0.5 documentation","body":"<p>I am using SQLIte-net Verion 1.0.5 from Frank Krueger for my metro app. Thouroughly searched for SQlite-net documentation, could not find. Please suggest.</p>\n"},{"tags":["android","sqlite","android-contentprovider"],"answer_count":6,"favorite_count":11,"up_vote_count":18,"down_vote_count":0,"view_count":2573,"score":18,"question_id":4547461,"title":"Closing the database in a ContentProvider","body":"<p>This week I've been learning all about ContentProvider and using the SQLiteOpenHelper class to manage the creation and upgrading of the database inside of a provider.  Specifically, I've been reading through the NotePad example from the sdk's samples directory.  </p>\n\n<p>Now, I can see that SQLiteOpenHelper has a close() method.  I'm aware that leaving idle databases open is bad practice and can cause memory leaks and whatnot (unless <a href=\"http://stackoverflow.com/questions/1379200/android-content-provider-database-leak-issue\">this</a> discussion is headed in the right direction).  If I were using the class in an Activity, then I would simply call close() in the onDestroy() method, but as far as I know, ContentProvider does not have the same life cycle that activities do.  The code for NotePad never seems to call close(), so I would like to assume that it is handled by SQLiteOpenHelper or some other piece of the puzzle, but I'd really like to know for sure.  I don't really trust the sample code that much, either...</p>\n\n<p>Question summary:  When should we close the database in a provider, if at all?</p>\n"},{"tags":["javascript","android","sqlite","cordova","cordova-2.0.0"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":515,"score":2,"question_id":12161231,"title":"Cordova: Uncaught ReferenceError: PhoneGap is not defined using SQLitePlugin.js by chbrody","body":"<p>I'm using cordova-2.0.0 and the SQLite Plugin from chbrody on Android.(https://github.com/chbrody/Cordova-SQLitePlugin)</p>\n\n<p>My js-imports are</p>\n\n<pre><code>&lt;script type=\"text/javascript\" charset=\"utf-8\" src=\"js/cordova-2.0.0.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" charset=\"utf-8\" src=\"js/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" charset=\"utf-8\" src=\"js/SQLitePlugin.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>The js-Error occurs in this line of the SQLitePlugin.js:</p>\n\n<pre><code>return PhoneGap.exec(success, error, \"SQLitePlugin\", \"open\", [this.dbPath]);\n</code></pre>\n\n<p>I checked and found that the Framework object is no longer called \"PhoneGap\" but is renamed to \"cordova\". Renaming the object in the Plugin js to \"cordova\" does not work for me either.</p>\n\n<p>After the error occurs the database is created as defined, but the js error still occurs in the log.</p>\n\n<p>Any help appreciated!</p>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":54,"score":1,"question_id":12714501,"title":"Can an Android library project have its own SQLite database?","body":"<p>I'm developing a library that will be able to be used across multiple apps. It serves the exact same function in each, and one of the goals of the library is to be as easy and painless to use as possible. In that way, I was hoping to use a SQLite db to store some important information relevant to the library, but NOT to the host app. I searched around and couldn't find anything confirming or denying the ability for libraries to have their own databases. Does anyone know if it is possible?</p>\n\n<p>Thanks a lot.</p>\n"},{"tags":["sqlite","recursion","sqlite3","triggers"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":12713188,"title":"How to set SQLITE_MAX_TRIGGER_DEPTH?","body":"<p>I need to increase the max depth of recursion triggers in SQLite.\nI know I need to set the <code>SQLITE_MAX_TRIGGER_DEPTH</code> to the value I want, but I can't find a way to do this.</p>\n\n<p>I tried <code>PRAGMA SQLITE_MAX_TRIGGER_DEPTH = X</code> and it served no good.</p>\n\n<p>Any idea on how to set this variable?\nThanks!</p>\n\n<p>Quoting the SQLite documentation:</p>\n\n<blockquote>\n  <p>SQLite limits the depth of recursion of triggers in order to prevent a statement involving \n  recursive triggers from using an unbounded amount of memory.</p>\n  \n  <p>Prior to SQLite version 3.6.18, triggers were not recursive and so this limit was meaningless. Beginning with version 3.6.18, recursive triggers were supported but had to be explicitly enabled using the PRAGMA recursive_triggers statement. Beginning with version 3.7.0, recursive triggers are enabled by default but can be manually disabled using PRAGMA recursive_triggers. The SQLITE_MAX_TRIGGER_DEPTH is only meaningful if recursive triggers are enabled.</p>\n  \n  <p>The default maximum trigger recursion depth is 1000.</p>\n</blockquote>\n"},{"tags":["android","sqlite","copy","asset"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":80,"score":1,"question_id":12713640,"title":"Sqlite database not copied from asset folder Android","body":"<p>I am trying to copy a database named \"adinpect\" from the asset folder to the application databases folder, but it is not working...</p>\n\n<p>Code (in main activity onCreate(), just for testing):</p>\n\n<pre><code> try {\n        String destPath = \"/data/data/\" + getPackageName() + \"/databases\";\n        File f = new File(destPath);\n\n        if (!f.exists()) {\n\n            f.mkdirs();\n            f.createNewFile();\n            //---copy the db from the assets folder into the databases folder---\n            CopyDB(getBaseContext().getAssets().open(\"adinspect\"), new FileOutputStream(destPath + \"/adinspect\"));\n        }\n\n    } \n        catch (FileNotFoundException e) {\n            e.printStackTrace();\n    }   catch (IOException e) {\n            e.printStackTrace();\n    }\n\n\n public void CopyDB(InputStream inputStream, OutputStream outputStream) throws IOException {\n\n        //---copy 1K bytes at a time---\n        byte[] buffer = new byte[1024];\n        int length;\n        while ((length = inputStream.read(buffer)) &gt; 0) {\n            outputStream.write(buffer, 0, length);\n        }\n\n        inputStream.close();\n        outputStream.close();\n\n}//end copyDB\n</code></pre>\n\n<p>The \"databases\" folder is created but there in nothing in it, trying to access it by DDMS.</p>\n\n<p>I do not get any errors.</p>\n\n<p>Any suggestion?</p>\n\n<p>Thanks</p>\n"},{"tags":["mysql","sql","database","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":26,"score":1,"question_id":12712867,"title":"sql table row has corresponding row in one of several other tables","body":"<p>I have a conceptual question that I'm hoping someone more versed in sql database design can help me with. I have a table in which each row has a corresponding row in one of several other tables. Ie. rows in table 1 have a corresponding row in either table 2, table 3 or table 4 (but NEVER in more than 1... the corresponding row can only be in one of the other tables). </p>\n\n<p>What is the best way to set this structure up. If I put an othertable_id column and a tablename column in table 1, I can guarantee that there is only 1 corresponding row in the other tables, but it seems like a really inflexible messy solution. On the other hand if I put just a table1_id column in table2, table3, and table4, it seems like I will need to run 3 different queries each time I want to find the row that corresponds to a row in table1, AND it seems like I cannot guarantee there only being one entry in any of the three tables for my row in table1. </p>\n\n<p>Does anyone have any suggestions?</p>\n"},{"tags":["sql","database","sqlite","rollback"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":710,"score":1,"question_id":4070306,"title":"Can I rollback a SQLite transaction after it has been committed?","body":"<p>Is there a way in SQLite to essentially undo the latest transaction after it has been committed?</p>\n\n<p>I'd like to revert the database to the state before a transaction or savepoint.  I've looked at the rollback command, but it looks like it is limited to rolling back a pending transaction.</p>\n\n<p><em>Edit</em>\nCould I create a savepoint named \"Undo\" and wait to release it before starting the next action, or rollback if I need to undo it?</p>\n"},{"tags":["sql","database","query","sqlite","sqlite3"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":12711660,"title":"Sqlite query optimisation needed","body":"<p>I'm using sqlite for a small validation application. I have a simple one table database with 4 varhchar columns and one integer primary key. There are close to 1 million rows in the table. I have optimised it and done a vacuum on it.</p>\n\n<p>I am using the following query to retrieve a presence count from the table. I have changed the fields and names for privacy.</p>\n\n<pre><code>                  SELECT \n                  count(*) as 'test'\n                  FROM\n                  my_table\n                  WHERE\n                  LOWER(surname) = LOWER('Oliver')\n                  AND\n                  UPPER(address_line2) = UPPER('Somewhere over the rainbow')  \n                  AND\n                  house_number IN ('3','4','5');\n</code></pre>\n\n<p>This query takes about 1.5-1.9 seconds to run. I have tried indexes and they make no difference really. This time may not sound bad but I have to run this test about 40,000 times on a read in csv file so as you may imagine it adds up pretty quickly. Any ideas on how to reduce the execution time. I normally develop in mssql or mysql so if there are some tricks I am missing in sqlite I would be happy to hear them.</p>\n\n<p>All the best.</p>\n"},{"tags":["java","sqlite"],"answer_count":5,"favorite_count":2,"up_vote_count":0,"down_vote_count":0,"view_count":3293,"score":0,"question_id":6090170,"title":"cannot save image as blob to sqlite","body":"<p>I am using SQLite and I cannot save a image to the database. \nThis is my code :</p>\n\n<pre><code>File file = new File(url);\n  try {\n    fis = new FileInputStream(file);\n  } catch (FileNotFoundException e) {}\nfileLenght = (int) file.length();\n\nstat.executeUpdate(\"create table \"+tableName+\" (id int,name String ,image Blob, features String);\");\nprep = conn.prepareStatement(\"insert into \"+tableName+\" values (?, ?, ?, ?);\");\nprep.setBinaryStream(3, fis, fileLenght);\n</code></pre>\n\n<p>This is the error i am getting:</p>\n\n<pre><code>java.sql.SQLException: not implemented by SQLite JDBC driver\n  at org.sqlite.Unused.unused(Unused.java:29)\n  at org.sqlite.Unused.setBinaryStream(Unused.java:58)\n</code></pre>\n\n<p>I am using the following jar : sqlitejdbc-v056.jar. </p>\n\n<p>Any ideas?\nThanks</p>\n"},{"tags":["android","sqlite","android-asynctask"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":99,"score":0,"question_id":12710531,"title":"How to access SQLite database from UI thread if I'm inserting data in AsyncTask thread?","body":"<p>I have a class in my Android app, called Main.java, to validate a user login (user name + password) against the data in my server. At first, I succeeded; I used an AsyncTask thread to do it plus a library which handles the Http connection, call HttpPostAux.java (in fact, I found the library's code here in this forum). In the onPostExecute method of AsyncTask, I was creating and starting a new activity instead of modifying the current one and it worked.</p>\n\n<p>But now I want to do things different. I want to save the validated data (user name + password) into a SQLite table in the AsyncTask thread and then in the UI thread, recover that data and use it to open the mentioned activity. The insertion occurs but when I'm trying to access the database from UI thread: it says that the table is empty. So I looked in the logcat and I found that UI thread executes before AsyncTask thread.</p>\n\n<p>So my question is how to insert data in the AsyncTask thread and then recover it inside UI thread? Can anybody help here? I'm kind of lost!</p>\n\n<p>I will appreciate a code example! Thanks in advance!\nGreetings from Venezuela!</p>\n"},{"tags":["java","android","sql","sqlite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":12251053,"title":"Finalizing a cursor that has not been deactivated or closed and create DataBase in right place","body":"<p>I'm getting an odd response on creating a database. My database doesn't create itself on the right address.\nFirst I create a database class like this:</p>\n\n<pre><code>    package com.example.alpha;\n\n    public class DbAdapter {\n//---start code ---//\nprivate static final String DATABASE_NAME  = \"MyDB\";\nprivate static final String DATABASE_TABLE = \"list\";\nprivate static final int DATABASE_VERSION = 1;\n\n    public static final String KEY_NUMBER = \"number\";\npublic static final String KEY_BODY = \"body\";\npublic static final String KEY_ROWID = \"_id\";\n\nprivate DatabaseHelper mDbHelper;\nprivate SQLiteDatabase mDb;\n\nprivate static final String DATABASE_CREATE_TABLE =\n        \"create table \" + DATABASE_TABLE + \" (\"\n        + KEY_ROWID + \" integer primary ket autoincremet, \"\n        + KEY_NUMBER + \" text not null, \"\n        + KEY_BODY + \" text not null);\";\n\nprivate final Context mCtx;\n\npublic DbAdapter (Context ctx)\n{\n    this.mCtx = ctx;\n}\n\n//--- create dataBase ---//\nprivate static class DatabaseHelper extends SQLiteOpenHelper\n{\n    public DatabaseHelper(Context context)\n    {\n        super(context,DATABASE_NAME,null,DATABASE_VERSION);\n    }\n\n\n    @Override\n    public void onCreate(SQLiteDatabase db)\n    {\n        db.execSQL(DATABASE_CREATE_TABLE);\n    }\n\npublic BannerDbAdapter open() throws android.database.SQLException\n{\n    mDbHelper = new DatabaseHelper(mCtx);\n    mDb = mDbHelper.getWritableDatabase();\n    return this;\n}\n\n//---close database---//\npublic void close()\n{\n    mDbHelper.close();\n}\n\npublic long createTable(String number, String body)\n{\n    ContentValues initialValues = new ContentValues();\n    initialValues.put(KEY_NUMBER, number);\n    initialValues.put(KEY_BODY, body);\n\n    return mDb.insert(DATABASE_TABLE, null, initialValues);\n}\npublic int fetchTableRowCount()\n{   \n    Cursor nn = mDb.rawQuery(\"SELECT * from \" + DATABASE_TABLE, null);\n    try{\n    return nn.getCount();\n    }finally {nn.close();}\n}\n</code></pre>\n\n<p>and execute it with this code:</p>\n\n<pre><code>    DbAdapter db = new DbAdapter(context);\n\n        db.open();\n        Toast.makeText(context, db.fetchTableRowCount().getString().ToString(), Toast.LENGTH_SHORT).show();\n        long id = db.createTable(num , bdy);\n        db.close();\n</code></pre>\n\n<p>This code was working prefectly in emulator and \"MyDB\" was created in DDMS > File Explorer > data\\data\\com.example.alpha\\database. After unistalling and deleting the project I created another project, same as first one . But I changed \"com.example.alpha\" to \"com.example.beta\" and database name \"MyDB\" to \"sData\". After debugging and run in emulator, a database with name \"MyDB\" was created in data\\data\\com.example.alpha\\database address!\nAccording to LogCat errors start with : finalizing a cursor that has not been deactivated or closed... Please help me to fix it. Thanks.</p>\n"},{"tags":["ios","sqlite","data","upgrading","loss"],"answer_count":3,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":506,"score":3,"question_id":8459216,"title":"app data loss on version upgrade","body":"<p>although this is an older question to ask, but i didn't got any suitable solution for this. That's why i am asking for help about this issue.</p>\n\n<p>I have an iphone app, which contains a sqlite db in it's resource folder. Now, when i upgrade it to the later version from iTunes, all the data in the database are lost. </p>\n\n<p>Suppose a user entered 1000 entry in the database. So if he lost his data in case of upgrading the application from iTunes, he will definitely not gonna love to upgrade his app's version. He should be then notified first that, \"you will loss all of your previous data\" or the previous data should be kept unchanged in the new version.</p>\n\n<p>What procedure i should follow in the new version to keep all the old data in the new version...?</p>\n\n<p>I can't modify the previous versions. So, i have to do something in the latest version so that all the data from the previous version should be kept in this newer one.</p>\n\n<p>This is an emergency problem. Users are upgrading the application &amp; they are loosing their previously stored data in the database. Even they are not being notified that they will lost all the data. !</p>\n"},{"tags":["sql","database","sqlite"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":12708963,"title":"Large SQL dataset with hundreds of requests","body":"<p>Does anybody have an idea of a large sql dataset available free. \nIt would be best if it's not dummy generated data, as I would be\nfiring loads of requests against it. </p>\n\n<p>an example is  <a href=\"http://www.dbis.informatik.uni-goettingen.de/Mondial/\" rel=\"nofollow\">http://www.dbis.informatik.uni-goettingen.de/Mondial/</a> </p>\n"},{"tags":["ipad","sqlite","web-applications","cache-manifest","html5-appcache"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":99,"score":0,"question_id":12704029,"title":"Securing HTML5 AppCache and SQLite from deletion","body":"<p>I am developing a web application using HTML5 AppCache manifest for storing all the application artifacts (HTML pages, style sheets, scripts, etc.) and SQLite for storing forms data being submitted by the user.</p>\n\n<p>The concern is that both of these repositories get deleted by deleting browser data - main focus is SQLite as the data being stored there is really crucial, as compared to AppCache. Is there a way to restrict deletion for my application, on desktop browsers as well as iPad?</p>\n\n<p><br />P.S. Actually the app will be accessed in offline mode - and the data will be synchronized to the server later in online mode. I need to secure the data from deletion, stored during offline mode in SQLite - as there's a probability of deleting it accidently.</p>\n"},{"tags":["android","sqlite"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":12675375,"title":"Using own Database","body":"<p>I created my own database for my project, but i am having a trouble pushing it in the data/data folder.<br>\nI first tested it out on my rooted phone and i successfully pushed the database that i created. <br>\nNow im facing a problem on testing it on a different phone. i get an error </p>\n\n<pre><code>android.database.sqlite.SQLiteException: no such table: tblFirstAid: , while compiling: SELECT faName FROM tblFirstAid\n</code></pre>\n\n<p>I placed my database in the assets folder and it was running fine on my rooted phone. <br> What code would i add for it to copy the file from the assets folder and push it inside the /data/data directory.<br>\nI already tried the one reigndesign and I am getting that error.</p>\n\n<p>Here is my DB Helper Class</p>\n\n<pre><code>package com.dr.droid.lee;\n\nimport java.io.IOException;\nimport java.util.ArrayList;\n\nimport android.content.Context;\nimport android.database.Cursor;\nimport android.database.SQLException;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.database.sqlite.SQLiteOpenHelper;\nimport android.net.http.SslCertificate.DName;\nimport android.util.Log;\n\npublic class DbHelper {\n\n    public static final String Row_id = \"_id\";\n    public static final String Row_Name = \"faName\";\n    public static final String Row_Desc = \"faInfo\";\n    private static final String db_Name = \"dbDrDroid\";\n    private static final String db_Table = \"tblFirstAid\";\n    private static final String db_HTable = \"tblHospitals\";\n    private static final String Row_HosName = \"HospitalName\";\n    private static final String Row_HosAdd = \"Address\";\n    private static final String Row_HosReg = \"Region\";\n    private static final String Row_HosCity = \"City\";\n    private static final String Row_HosContact = \"Contact\";\n    private static final String Row_dName = \"dName\";\n    private static final String Row_dTable = \"tblDisease\";\n    private static final int db_Version = 1;\n    private dbhelp ourhelper;\n    private static Context ourcontext;\n    private SQLiteDatabase ourDB;\n\n    private static class dbhelp extends SQLiteOpenHelper{\n\n        public dbhelp(Context context) {\n            super(context, db_Name, null, db_Version);\n            // TODO Auto-generated constructor stub\n        }\n\n        @Override\n        public void onCreate(SQLiteDatabase db) {\n            // TODO Auto-generated method stub\n\n\n\n            db.execSQL(\"CREATE TABLE IF NOT EXISTS \" + db_Table + \" (\" + Row_id + \" INTEGER PRIMARY KEY AUTOINCREMENT, \"\n                + Row_Name + \" TEXT NOT NULL, \"\n                + Row_Desc + \" TEXT NOT NULL)\" );\n\n        }\n\n        @Override\n        public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n            // TODO Auto-generated method stub\n            db.execSQL(\"DROP TABLE IF EXISTS\" + db_Table);\n            onCreate(db);\n\n        }\n\n    }\n\n    public DbHelper (Context c){\n        ourcontext= c;\n    }\n\n    public DbHelper open(){\n        ourhelper = new dbhelp(ourcontext);\n        ourDB = ourhelper.getWritableDatabase();\n        return this;\n    }\n\n    public void   close(){\n        ourhelper.close();\n    }\n\n    public ArrayList&lt;String&gt; getFAData() {\n        // TODO Auto-generated method stub\n        ArrayList&lt;String&gt; comments = new ArrayList&lt;String&gt;();\n        String [] columns = new String[]{Row_Name};\n        Cursor c = ourDB.query(db_Table, columns, null, null, null, null, null);\n        int iRow = c.getColumnIndex(Row_Name);\n        c.moveToFirst();\n        while (!c.isAfterLast()) {          \n            comments.add(c.getString(iRow));\n            c.moveToNext();\n        }\n\n        c.close();\n        return comments;\n    }\n\n    public ArrayList&lt;String&gt; getHData(){\n        ArrayList&lt;String&gt;  res = new  ArrayList&lt;String&gt;();\n        String [] columns = new String []{Row_HosName};\n        Cursor h = ourDB.query(db_HTable, columns, null, null, null, null, Row_HosName);\n        int HRow = h.getColumnIndex(Row_HosName);\n        h.moveToFirst();\n         while (!h.isAfterLast()) {          \n                res.add(h.getString(HRow));\n                h.moveToNext();\n            }\n\n            h.close();\n            return res;\n\n    }\n\n    public ArrayList&lt;String&gt; getDData(){\n        ArrayList&lt;String&gt;  res = new  ArrayList&lt;String&gt;();\n        String [] columns = new String []{Row_dName};\n        Cursor d = ourDB.query(Row_dTable, columns, null, null, null, null, null);\n        int HRow = d.getColumnIndex(Row_dName);\n        d.moveToFirst();\n         while (!d.isAfterLast()) {          \n                res.add(d.getString(HRow));\n                d.moveToNext();\n            }\n\n            d.close();\n            return res;\n\n    }\n\n\n\n}\n</code></pre>\n\n<p>Here is the class that i used from reigndesign</p>\n\n<pre><code>package com.dr.droid.lee;\n\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\n\nimport android.content.Context;\nimport android.database.SQLException;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.database.sqlite.SQLiteException;\nimport android.database.sqlite.SQLiteOpenHelper;\n\npublic class DataBaseHelper extends SQLiteOpenHelper{\n\n    //The Android's default system path of your application database.\n    private static String DB_PATH = \"/data/data/com.dr.droid.lee/databases/\";\n\n    private static String DB_NAME = \"dbDrDroid\";\n\n    private SQLiteDatabase myDataBase; \n\n    private final Context myContext;\n\n    /**\n     * Constructor\n     * Takes and keeps a reference of the passed context in order to access to the application assets and resources.\n     * @param context\n     */\n    public DataBaseHelper(Context context) {\n\n        super(context, DB_NAME, null, 1);\n        this.myContext = context;\n    }   \n\n  /**\n     * Creates a empty database on the system and rewrites it with your own database.\n     * */\n    public void createDataBase() throws IOException{\n\n        boolean dbExist = checkDataBase();\n\n        if(dbExist){\n            //do nothing - database already exist\n        }else{\n\n            //By calling this method and empty database will be created into the default system path\n               //of your application so we are gonna be able to overwrite that database with our database.\n            this.getReadableDatabase();\n\n            try {\n                this.close();\n                copyDataBase();\n\n            } catch (IOException e) {\n\n                throw new Error(\"Error copying database\");\n\n            }\n        }\n\n    }\n\n    /**\n     * Check if the database already exist to avoid re-copying the file each time you open the application.\n     * @return true if it exists, false if it doesn't\n     */\n    private boolean checkDataBase(){\n\n        SQLiteDatabase checkDB = null;\n\n        try{\n            String myPath = DB_PATH + DB_NAME;\n            checkDB = SQLiteDatabase.openDatabase(myPath, null, SQLiteDatabase.OPEN_READONLY);\n\n        }catch(SQLiteException e){\n\n            //database does't exist yet.\n\n        }\n\n        if(checkDB != null){\n\n            checkDB.close();\n\n        }\n\n        return checkDB != null ? true : false;\n    }\n\n    /**\n     * Copies your database from your local assets-folder to the just created empty database in the\n     * system folder, from where it can be accessed and handled.\n     * This is done by transfering bytestream.\n     * */\n    private void copyDataBase() throws IOException{\n\n        //Open your local db as the input stream\n        InputStream myInput = myContext.getAssets().open(DB_NAME);\n\n        // Path to the just created empty db\n        String outFileName = DB_PATH + DB_NAME;\n\n        //Open the empty db as the output stream\n        OutputStream myOutput = new FileOutputStream(outFileName);\n\n        //transfer bytes from the inputfile to the outputfile\n        byte[] buffer = new byte[1024];\n        int length;\n        while ((length = myInput.read(buffer))&gt;0){\n            myOutput.write(buffer, 0, length);\n        }\n\n        //Close the streams\n        myOutput.flush();\n        myOutput.close();\n        myInput.close();\n\n    }\n\n    public void openDataBase() throws SQLException{\n\n        //Open the database\n        String myPath = DB_PATH + DB_NAME;\n        myDataBase = SQLiteDatabase.openDatabase(myPath, null, SQLiteDatabase.OPEN_READONLY);\n\n    }\n\n    @Override\n    public synchronized void close() {\n\n            if(myDataBase != null)\n                myDataBase.close();\n\n            super.close();\n\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n\n    }\n}\n</code></pre>\n\n<p>Some how i am still getting errors if my i don't push my database in my phone. </p>\n"},{"tags":["iphone","sqlite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":12705230,"title":"Local database is blank when I restart my app","body":"<pre><code>    [arrMessages removeAllObjects];\n    [arrMessages addObjectsFromArray:[appDelegate.skdb lookupAllForSQL:@\"Select * from tblMessage where isActive = 'T'\"]];\n    NSLog(@\"%@\",arrMessages);\n    if(arrMessages.count &gt; 0)\n    {\n        [appDelegate showAlert:@\"From DB\"];\n    }\n    else\n    {\n        [appDelegate showAlert:@\"Go To Live\"];\n        [appDelegate.skdb insertArray:arrMessages forTable:@\"tblMessage\"];\n    }\n</code></pre>\n\n<p>When I run my application for the first time It goes to live and insert in local DB.Then every time it comes from Local. This is fine. But then I quit application from background. Then start application again. It goes to live. It should fetch data from local DB.</p>\n"},{"tags":["android","sqlite","indexoutofboundsexception"],"answer_count":7,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":12702768,"title":"getting CursorIndexOutOfBoundsException","body":"<p>I have a function to read data from db.but this always returns error..i dont have much knowledge in android..looking for some help</p>\n\n<pre><code>10-03 11:33:05.870: E/AndroidRuntime(1321): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.projects.myworldsafe/com.projects.myworldsafe.DeailedView}: android.database.CursorIndexOutOfBoundsException: Index 0 requested, with a size of 0\n</code></pre>\n\n<p>.   </p>\n\n<pre><code>String getItemDetailsWp(String id){\nSystem.out.print(id);\nSQLiteDatabase db = this.getReadableDatabase();\nString[] params=new String[]{id};\nString selectQuery = \"SELECT Content  FROM \" + TABLE_ITEMS +\" WHERE \"+ITEM_ID+\"=?\";\nCursor c=db.rawQuery(selectQuery,params);   \n c.moveToFirst();\n int index= c.getCount();\n int indexd= c.getColumnIndex(ITEM_CONTENT); \n System.out.print(\"Count query\"+indexd);\n return c.getString(index);\n}\n</code></pre>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":12703722,"title":"Query not fetching correct details","body":"<p>Hi, I am trying to learn android. I wrote a query to fetch details except the first selected row. But it's not working? Anything wrong from my side?</p>\n\n<pre><code>String selectQuery = \"SELECT *  FROM \" + TABLE_ITEMS +\" WHERE \"+ ITEMFOLDER_ID +\"=?\"+\"AND id NOT IN (SELECT id from itemTable  WHERE idFolder =? LIMIT 0,1)\";\n</code></pre>\n"},{"tags":["iphone","sqlite"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":12704293,"title":"sync animation to a sequence in sqlite ","body":"<p>When app starts, a sequence of colors flashes based on pattern in database server.  </p>\n\n<p>When another user starts the app, it must sync with right color on other open apps. From my research, it says to use an sqlite database to sync to the server and get timestamp when first app opens.</p>\n\n<p>It might be slow to download to sqlite database and compute the time to get the current color to start on, so is there any other way to get the current color?Is it possible.</p>\n"},{"tags":["android","sqlite"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":63,"score":0,"question_id":12704129,"title":"SQLite: rawQuery() doesn't work but execSQL() works","body":"<p>I have the following code. When I open my <code>SQLite</code> db I can see the patient with <code>Id = 1235</code> is created but not with <code>Id = 1234</code>:</p>\n\n<pre><code>String sql;\nsql = \"INSERT INTO Users(Id, Name, Surname, LastLogin)VALUES(1234, 'john', 'foo', null)\";\ndatabase.rawQuery(sql, null);\n\nsql = \"INSERT INTO Users(Id, Name, Surname, LastLogin)VALUES(1235, 'john', 'foo', null);\";\ndatabase.execSQL(sql);\n</code></pre>\n\n<p>The documentation for <code>rawQuery()</code> states:</p>\n\n<blockquote>\n  <p>the SQL query. The SQL string must <strong>not</strong> be <strong>;</strong> terminated</p>\n</blockquote>\n\n<p>and this is indeed the case in my 1st query. (the other difference is the <code>Id</code>. I changed it so that both inserts could work, <code>Id</code> is index). </p>\n\n<p>Using the debugger I can confirm that both queries are executed and I don't get any exceptions or errors. </p>\n\n<p>Any idea? I have spent hours on this but I could not figure it out. I guess it is something very trivial that I am missing.</p>\n"},{"tags":["android","sqlite"],"answer_count":6,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":11523,"score":4,"question_id":2342346,"title":"problem about sqlite database, no such table: ","body":"<p>I open a sqlite database and use rawquery to get data. </p>\n\n<p>But the log.e show the information:</p>\n\n<blockquote>\n  <p>android.database.sqlite.SQLiteException: no such table: types: </p>\n</blockquote>\n\n<p>But, I really have this table. </p>\n\n<p>And i also try to use the other sql ,But also get the error message such as </p>\n\n<blockquote>\n  <p>android.database.sqlite.SQLiteException: no such table: malls:</p>\n</blockquote>\n\n<p>I am sure there are this two tables.\nSo why get the error message?</p>\n"},{"tags":["iphone","sqlite","icloud"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":913,"score":1,"question_id":8077594,"title":"How to handle sqlite in iCloud","body":"<p>I'm having a <strong>Sample.sqlite</strong> database in my app and can you help me on how to save the Sample.sqlite of my app in iCloud and how to download that SQLite file from iCloud and handling in our app</p>\n\n<p>Thanks for any suggestions.</p>\n\n<hr>\n\n<p>I'm trying implement ur idea of saving closed database in iCloud,but it's returning following error</p>\n\n<blockquote>\n  <p><strong>Error Domain=NSPOSIXErrorDomain Code=1 \"The operation couldn’t be completed. Operation not permitted\" UserInfo=0x299bb0 {NSDescription=Unable to rename '/var/mobile/Applications/98E15712-5A98-439B-BED1-82A5A548CB15/Sample.app/Sample.sqlite' to '/private/var/mobile/Library/Mobile Documents/TV8M2M4B6L~com~companyName~sam/Documents/Sample.sqlite'.}</strong></p>\n</blockquote>\n\n<p><strong>//MyCode</strong></p>\n\n<pre><code>BOOL isCopiedToiCloud = [[NSFileManager defaultManager] setUbiquitous:YES itemAtURL:localUrl destinationURL:iCloudURL error:&amp;error];\n</code></pre>\n"},{"tags":["android","sqlite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":12702028,"title":"how to implemnt app in android which contain information of state and specific result show on user query?","body":"<p>i,m working on a an app which contain all the information of a state like if search malls in name &amp; adress of malls  are show in result,if user input city name with mallsor any other query  only specific reslut show as output? I,m new in android &amp; aware of basics of android &amp; SQLite?.Plz help me..thakns</p>\n"},{"tags":["android","query","sqlite","join"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":616,"score":0,"question_id":11349950,"title":"Android SQLite Join Query","body":"<p>I'm creating an app as a learning tool and am having difficulty with join queries.</p>\n\n<p>I have a database with two tables- horses and covers- declared as follows;</p>\n\n<pre><code>    private static final String HORSES_CREATE = \"create table horses (_id integer primary key autoincrement, \"\n        + \"name text not null, type integer not null, birthDate text not null, vaccineDate text not null, \"\n        + \"inFoal integer not null, notes text not null);\";\n</code></pre>\n\n<p>The 'type' field refers to stallion, mare, gelding etc and is selected from a spinner (populated from an XML String array).</p>\n\n<pre><code>private static final String COVERS_CREATE = \"create table covers (_id integer primary key autoincrement, \"\n        + \"stallionName integer not null, mareName integer not null, firstCoverDate text not null, lastCoverDate text not null, \"\n        + \"scan14Date text not null, scan28Date text not null, foalingDate text not null, inFoal integer not null, notes text not null);\";\n</code></pre>\n\n<p>stallionName is actually stored as the _id field of the horse from the horse table. It is selected from a spinner that only displays horses whose type defined as 'Stallion' in the horses table. (The same applies for Mare).</p>\n\n<p>I have a class 'DatabaseHelper' to create and upgrade the tables, and each table has its own adapter class 'horsesDbAdapter' and 'coversDbAdapter' that contains the methods to add, edit and delete entries, and relevant queries. (fetchAllHorses(), fetchHorse(long rowId) )</p>\n\n<p>eg:</p>\n\n<pre><code>    public Cursor fetchAllHorses() {\n\n    return mDb.query(DATABASE_TABLE,\n            new String[] { KEY_ROWID, KEY_NAME, KEY_TYPE, KEY_BIRTHDATE,\n                    KEY_VACCINEDATE, KEY_INFOAL, KEY_NOTES }, null, null,\n            null, null, null);\n}\n</code></pre>\n\n<p>(It's all adapted from the Android notepad example)</p>\n\n<p>I have the contents of the covers table displayed in a listview (just showing the stallionName and mareName). But as those fields just contain the unique reference to the horses table all that is displayed is the fairly uninformative _id field.</p>\n\n<p>My question is; how can I get the relevant name for the horses to display in the listView? I've read up on join queries etc but get lost when I try implement them. I assume I have to join on horses._id and covers.stallionName (then make an almost-identical one for MareName) but I can't find a concrete example of how to do this.</p>\n\n<p>Please let me know if any additional information/ code is needed.</p>\n\n<p>Any help would be greatly appreciated, thankyou in advance.</p>\n\n<p>EDIT:\nI have made stallionName and mareName foreign keys referencing (_id) in the horses table, but am still unsure how and where to implement the join query; should it be in the horsesDbAdapter, coversDbAdapter or the coversList class? (coversList is the class that creates and populates the listView)\nThe covers table declaration now reads;</p>\n\n<pre><code>    private static final String COVERS_CREATE = \"create table covers (_id integer primary key autoincrement, \"\n        + \"stallionName integer not null, mareName integer not null, firstCoverDate text not null, lastCoverDate text not null, \"\n        + \"scan14Date text not null, scan28Date text not null, foalingDate text not null, inFoal integer not null, notes text not null,\" +\n        \"FOREIGN KEY (stallionName) REFERENCES horses (_id), FOREIGN KEY (mareName) REFERENCES horses (_id));\";\n</code></pre>\n"},{"tags":["sql","sqlite","sqlite3"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":12701006,"title":"mass update from join","body":"<p>I have 2 tables:</p>\n\n<pre><code>movies (id, votes)\ninfo (id, movie_id, info_type, value)\n</code></pre>\n\n<p>I want to populate movies.votes with info.value, where movies.id = info.movie_id and info_type = 3 (which is the info type for votes)</p>\n\n<p>I cannot figure out how to do it.. (I'm using SQLite3.7)</p>\n"},{"tags":["android","database","sqlite","bitmap","blob"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":1273,"score":3,"question_id":8884058,"title":"SQLite - Is it possible to insert a BLOB via insert statement?","body":"<p>I'm developing an Android application and i'm using a Sqlite database to store some bitmaps. I want some images to be automatically inserted when the user installs the application. </p>\n\n<p>I'm using the <b>SQLiteOpenHelper</b> class like this:</p>\n\n<pre><code>public class DatabaseHelper extends SQLiteOpenHelper {\n\n...\n\nDatabaseHelper(Context context, String nameOfDB, int version, String[] scriptSQLCreate,\n        String scriptSQLDelete) {\n    super(context, nameOfDB, null, version);\n\n    this.scriptSQLCreate = scriptSQLCreate;\n    this.scriptSQLDelete = scriptSQLDelete;\n}\n\n@Override\npublic void onCreate(SQLiteDatabase db) {\n    int numScripts = scriptSQLCreate.length;\n    for(int i = 0; i&lt;numScripts; i++){\n    Log.i(TAG,\"Creating database, executing script \" + i);\n    db.execSQL(scriptSQLCreate[i]);\n    }\n}\n}\n</code></pre>\n\n<p>...</p>\n\n<p>I want to pass a constant to the scriptSQLCreate parameter shown above that would be like so:</p>\n\n<pre><code>private static final String[] SCRIPT_DATABASE_CREATE = {\n   \"create table memes(  id integer primary key autoincrement,\" + \n                     + \" img blob not null,\" + \n                     + \" name text not null unique)\" ,\n   \"insert into memes(img,name) values(BITMAP1,'1.jpg')\",\n   \"insert into memes(img,name) values(BITMAP2,'2.jpg')\",\n   \"insert into memes(img,name) values(BITMAP3,'3.jpg')\"}    \n\n}\n</code></pre>\n\n<p>Any help will be much apreciated,</p>\n\n<p>Thx,\nTulio Zahn</p>\n"},{"tags":["ruby","sqlite","activerecord","sqlite3","find"],"answer_count":1,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":151,"score":3,"question_id":8329790,"title":"ActiveRecord and sqlite3 : find does not accept any condition?","body":"<p>I have a problem I can't figure out here. I'm writing a ruby script that deals with an sqllite database.</p>\n\n<pre><code>require 'rubygems'\nrequire 'sqlite3'\nrequire 'active_record'\n\n\nActiveRecord::Base.establish_connection(\n    :adapter =&gt; \"sqlite3\",\n    :database  =&gt; \"../database/my.db\"\n)\n\nclass KeyWord &lt; ActiveRecord::Base\n    set_table_name \"keywords\"\nend\n\n# THIS STATEMENT WORKS (finds the first record, returns \"ruby\") :    \nKeyWord.find(1).keyval\n\n\n# THOSE STATEMENTS RETURN NO RESULT :      \nKeyWord.find(:all, :conditions =&gt; {:keyval =&gt; \"ruby\"})\n\nKeyWord.find_by_sql(\"SELECT * FROM keywords WHERE keyval='ruby'\")\n\nKeyWord.find_by_keyval(\"ruby\")\n</code></pre>\n\n<p>This is how the table was created :</p>\n\n<pre><code>create_table :keywords do |table|\n    table.column :keyval, :text\nend\n</code></pre>\n\n<p>Does anyone know where this could come from ?</p>\n\n<p>Thanks,</p>\n\n<p>R.</p>\n"},{"tags":["objective-c","ios","json","sqlite","core-data"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":91,"score":1,"question_id":12438437,"title":"populate CoreData data model from JSON files prior to app start","body":"<p>I am creating an iPad App that displays data I got from an API in JSON format. My Core Data model has several entities(Countries, Events, Talks, ...). For each entity I have one .json file that contains all instances of the entity and its attributes as well as its relationships.</p>\n\n<p>I would like to populate my Core Data data model with these entities before the start of the App (otherwise it takes about 15 minutes for the iPad to create all the instances of the entities from the several JSON files using factory methods).</p>\n\n<p>I am currently importing the data into CoreData like this:</p>\n\n<pre><code>-(void)fetchDataIntoDocument:(UIManagedDocument *)document\n{\ndispatch_queue_t dataQ = dispatch_queue_create(\"Data import\", NULL);\ndispatch_async(dataQ, ^{\n        //Fetching data from application bundle\n    NSURL *countriesurl = [[NSBundle mainBundle] URLForResource:@\"contries\" withExtension:@\"json\"];\n    NSURL *eventsurl = [[NSBundle mainBundle] URLForResource:@\"events\" withExtension:@\"json\"];\n\n        //converting the JSON files to NSDictionaries\n    NSError *error = nil;\n    NSDictionary *countries = [NSJSONSerialization JSONObjectWithData:[NSData dataWithContentsOfURL:countriesurl] options:kNilOptions error:&amp;error];\n    countries = [countries objectForKey:@\"countries\"];\n    NSDictionary *events = [NSJSONSerialization JSONObjectWithData:[NSData dataWithContentsOfURL:eventsurl] options:kNilOptions error:&amp;error];\n    events = [events objectForKey:@\"events\"];\n\n        //creating entities using factory methods in NSManagedObject Subclasses (Country / Event)\n    [document.managedObjectContext performBlock:^{\n        NSLog(@\"creating countries\");\n        for (NSDictionary *country in countries) {\n            [Country countryWithCountryInfo:country inManagedObjectContext:document.managedObjectContext]; //creating Country entities\n        }\n        NSLog(@\"creating events\");\n        for (NSDictionary *event in events) {\n            [Event eventWithEventInfo:event inManagedObjectContext:document.managedObjectContext]; // creating Event entities\n        }\n        NSLog(@\"done creating, saving document\");\n        [document saveToURL:document.fileURL forSaveOperation:UIDocumentSaveForOverwriting completionHandler:NULL];\n    }];\n});\ndispatch_release(dataQ);\n}\n</code></pre>\n\n<p>This combines the different JSON files into one UIManagedDocument which i can then perform fetchRequests on to populate tableViews, mapView, etc.</p>\n\n<p>I'm looking for a way to create this document outside my application &amp; add it to the mainBundle. Then I could copy it once to the apps DocumentsDirectory and be able I use it (instead of creating the Document within the app from the original JSON files). Any help is appreciated!</p>\n"},{"tags":["android","sqlite","listview","checkbox"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":69,"score":0,"question_id":12699154,"title":"SQLite to ListView with CheckBox guidance","body":"<p>I'm pretty new to Android and I need some guidance.</p>\n\n<p>I have two activities so far. The first one contains an ActionBar and a ListView. I want the ListView to be populated with rows containing a TextView and a CheckBox. The text is represented by an username read from a database.The ActionBar has buttons for actions: \"new\" and \"delete\". \"new\" opens a new activity which adds a new user into the database, delete action should delete checked entries from the list and database. Screens:</p>\n\n<p>Main activity: <a href=\"http://imgur.com/ILljQ\" rel=\"nofollow\">http://imgur.com/ILljQ</a></p>\n\n<p>Create profile activity: <a href=\"http://imgur.com/EbpD3\" rel=\"nofollow\">http://imgur.com/EbpD3</a></p>\n\n<p>To get these I used SQLiteHelper and a datasource for the database and a custom ArrayAdapter for the ListView. I have one problem and some concerns, listed below.</p>\n\n<p>1 . The problem: when I add a new user, I can only see the changes in the ListView after I exit the app using the back button. </p>\n\n<p>2 . Is a custom ArrayAdapter a good solution for this or should I use a CursorAdapter? When clicked, the list item should use the information associated with it into another activity/fragment. Below is my custom adapter. It works right now, but the next step is to implement the delete action, and i'm not entirely sure how I do that. This is where i need advice. Thank you!</p>\n\n<pre><code>    public class CustomUserAdapter extends ArrayAdapter&lt;UserProfile&gt;{\n\n        ArrayList&lt;UserProfile&gt; users;\n        private LayoutInflater inflater;\n\n        public CustomUserAdapter(Context context, ArrayList&lt;UserProfile&gt; users) {\n        // TODO Auto-generated constructor stub\n        super(context, R.layout.users_list_row, users);\n        this.users = users;\n        inflater = LayoutInflater.from(context);\n        }\n\n        @Override\n        public View getView(int position, View convertView, ViewGroup parent) {\n        UserProfile user = users.get(position);\n        CheckBox checkBox;\n        TextView textView;\n\n        if(convertView == null){\n            convertView =  inflater.inflate(R.layout.users_list_row, null);\n            checkBox = (CheckBox) convertView.findViewById(R.id.checkElement);\n            textView = (TextView) convertView.findViewById(R.id.textElement);\n\n            //tag row\n            convertView.setTag(new UserHolder(textView, checkBox));\n        } else {\n            UserHolder userHolder = (UserHolder) convertView.getTag();\n            checkBox = userHolder.getCheckBox();\n            textView = userHolder.getUserText();\n        }\n\n        //tag checkbox\n        checkBox.setTag(user);\n\n        //checkbox listener\n        checkBox.setOnClickListener(new OnClickListener() {\n\n            @Override\n            public void onClick(View v) {\n                // TODO Auto-generated method stub\n            }\n        });\n\n        checkBox.setChecked(false);\n        textView.setText(user.getUsername());\n\n        return convertView;\n            }\n      }\n</code></pre>\n"},{"tags":["sqlite","phonegap","sqlite3"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":12696471,"title":"How use BD created in the first execution","body":"<p>First, sorry for my poor English.</p>\n\n<p>I followed the official documentation on the storage API. I created a database each time an application starts.</p>\n\n<p><a href=\"http://docs.phonegap.com/en/2.1.0/cordova_storage_storage.md.html#Storage\" rel=\"nofollow\">http://docs.phonegap.com/en/2.1.0/cordova_storage_storage.md.html#Storage</a></p>\n\n<p>I need to create the database in the first execution of the application, but I need to use in future executions and data base created in the first execution without creating it again, how is this possible?</p>\n\n<p>The OpenDatabase method (...) returns a new BD.</p>\n\n<p>Thank you.</p>\n"},{"tags":["sql","database","sqlite","sqlite3"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":15,"score":1,"question_id":12697978,"title":"sqlite3 query for disk space usage","body":"<p>I have a complex sqlite3 database that weighs several hundred megabytes, and I'd like to know where this space is taken.. which columns have on average the biggest fields, which records..</p>\n\n<p>any suggestion?</p>\n"},{"tags":["c++","multithreading","sqlite"],"answer_count":4,"favorite_count":4,"up_vote_count":10,"down_vote_count":0,"view_count":4287,"score":10,"question_id":1680249,"title":"How to use SQLite in a multi-threaded application?","body":"<p>I'm developing an application with <a href=\"http://en.wikipedia.org/wiki/SQLite\">SQLite</a> as the database, and am having a little trouble understanding how to go about using it in multiple threads (none of the other Stack Overflow questions really helped me, unfortunately).</p>\n\n<p>My use case: The database has one table, let's call it \"A\", which has different groups of rows (based on one of their columns). I have the \"main thread\" of the application which reads the contents from table A. In addition, I decide, once in a while, to update a certain group of rows. To do this, I want to spawn a new thread, delete all the rows of the group, and re-insert them (that's the only way to do it in the context of my app). This might happen to different groups at the same time, so I might have 2+ threads trying to update the database.</p>\n\n<p>I'm using different transactions from each thread, I.E. at the start of every thread's update cycle, I have a begin. In fact, what each thread actually does is call \"BEGIN\", delete from the database all the rows it needs to \"update\", and inserts them again with the new values (this is the way it must be done in the context of my application).</p>\n\n<p>Now, I'm trying to understand how I go about implementing this. I've tried reading around (other answers on Stack Overflow, the SQLite site) but I haven't found all the answers. Here are some things I'm wondering about:</p>\n\n<ol>\n<li>Do I need to call \"open\" and create a new sqlite structure from each thread?</li>\n<li>Do I need to add any special code for all of this, or is it enough to spawn different threads, update the rows, and that's fine (since I'm using different transactions)? </li>\n<li>I saw something talking about the different lock types there are, and the fact that I might receive \"SQLite busy\" from calling certain APIs, but honestly I didn't see any reference that completely explained when I need to take all this into account. Do I need to?</li>\n</ol>\n\n<p>If anyone can answer the questions/point me in the direction of a good resource, I'd be very grateful.</p>\n\n<p><strong>UPDATE 1:</strong> From all that I've read so far, it seems like you can't have two threads who are going to write to a database file anyway.</p>\n\n<p>See: <a href=\"http://www.sqlite.org/lockingv3.html\">http://www.sqlite.org/lockingv3.html</a>. In section 3.0: A RESERVED lock means that the process is planning on writing to the database file at some point in the future but that it is currently just reading from the file. Only a single RESERVED lock may be active at one time, though multiple SHARED locks can coexist with a single RESERVED lock. </p>\n\n<p>Does this mean that I may as well only spawn off a single thread to update a group of rows each time? I.e., have some kind of poller thread which decides that I need to update some of the rows, and then creates a new thread to do it, but never more than one at a time? Since it looks like any other thread I create will just get SQLITE_BUSY until the first thread finishes, anyway.</p>\n\n<p>Have I understood things correctly?</p>\n\n<p>BTW, thanks for the answers so far, they've helped a lot.</p>\n"},{"tags":["sql","database","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":64,"score":0,"question_id":12695393,"title":"something like NOT LIKE (select statement from other table)","body":"<p>I have 3 tables</p>\n\n<pre><code>SUFFIX_LIST(Item VARCHAR),\nPREFIX_LIST(Item VARCHAR), and\nVALID_LIST(Part1 VARCHAR, Part2 VARCHAR)\n</code></pre>\n\n<p>now i need column VALID_LIST.Part1 &amp; VALID_LIST.Part2 in way that \nPart1 doesnt match partially from any of the Item from SUFFIX_LIST and\nPart2 doesnt match partially from any of the Item from PREFIX_LIST.</p>\n\n<p>I am using, SQLite as my local database and using c# for application development!</p>\n\n<p>Thanks in advance!</p>\n\n<h2>edit for clarification</h2>\n\n<p>VALID LIST</p>\n\n<pre><code>sample1, somedomain.com\nsamplebanword, someotherdomain.com\nsimplestring, someotherotherdomain.net\nmorestring, my-domain.com\n</code></pre>\n\n<p>PREFIX_LIST</p>\n\n<pre><code>ban\ntext\n</code></pre>\n\n<p>SUFFIX_LIST</p>\n\n<pre><code>.net\notherother\n</code></pre>\n\n<p>now, what i want is, when the query i must get</p>\n\n<pre><code>Output\n--------\nsample1, somedomain.com\nmorestring, my-domain.com\n</code></pre>\n"},{"tags":["database","xcode","ipad","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":62,"score":0,"question_id":12694875,"title":"Xcode Sqlite Sequence Error In Writing","body":"<p>I created a SQLite database that currently has only one table. I connected it to Xcode, made the all required steps, and found a problem in writing my files. </p>\n\n<p>My table has 5 items (primary key, name, birth date, college name, course name).</p>\n\n<p>While saving my data, it says:</p>\n\n<blockquote>\n  <p>Terminating app due to uncaught exception 'NSInternalInconsistencyException', reason: 'Error while creating add statement. 'library routine called out of sequence''</p>\n</blockquote>\n\n<p>I set breakpoints and found where the problem is, but I just can't solve it.</p>\n\n<pre><code>-(void)saveStudentInfo{\n\nsqlite3_stmt *statement = NULL;\n\n\n    const char *sql = \"insert into studentInfo (name,collegeName,courseName) Values (?, ?, ?)\";\n\n    if (sqlite3_open(\"my_db_filename.db\", &amp;database) == SQLITE_OK)\n    {\n        //sqlite3_stmt *addStmt;\n\n        if(sqlite3_prepare_v2(database, sql, -1, &amp;addStmt, NULL) != SQLITE_OK)\n        {\n            NSAssert1(0, @\"Error while creating add statement. '%s'\", sqlite3_errmsg(database));\n        } else {\n            // do things with addStmt, call sqlite3_step\n            sqlite3_bind_text(addStmt, 1, [studentName UTF8String], -1, SQLITE_TRANSIENT);\n            sqlite3_bind_text(addStmt, 3, [studentCollegeName UTF8String], -1, SQLITE_TRANSIENT);\n            sqlite3_bind_text(addStmt, 4, [studentCourseName UTF8String], -1, SQLITE_TRANSIENT);\n\n            if(SQLITE_DONE != sqlite3_step(addStmt))\n                NSAssert1(0, @\"Error while inserting data. '%s'\", sqlite3_errmsg(database));\n            else\n                studentID = sqlite3_last_insert_rowid(database);\n\n            sqlite3_finalize(statement);\n        }\n        sqlite3_close(database);     \n    }\n\n\nif (sqlite3_step(statement)==SQLITE_DONE){\n    UIAlertView *error = [[UIAlertView alloc]initWithTitle:@\"Done\" message:@\"Files were added to database\" delegate:self cancelButtonTitle:@\"Close\" otherButtonTitles:nil, nil];\n    [error show];\n}\nelse {\n    UIAlertView *error = [[UIAlertView alloc]initWithTitle:@\"Error\" message:@\"StudentOrganizer could not add database\" delegate:self cancelButtonTitle:@\"Close\" otherButtonTitles:nil, nil];\n    [error show];\n}\n</code></pre>\n"},{"tags":["android","sqlite","spinner","simplecursoradapter"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":12694385,"title":"Exception while trying to query sqlite","body":"<p>I am trying to populate a spinner from a sqlite database. The database is +400mb and i manually dropped into /data/data/myapplicationpackage/databases directory in my sdcard.</p>\n\n<p>I also have a ContentProvider to access the data. Here is some relevant part of the code:</p>\n\n<pre><code>private static final String DATABASE_NAME = \"mydb.db\";\nprivate static final int DATABASE_VERSION = 1;\nprivate static final String DOSIS_PA_TABLE = \"mytable\";\n\npublic static final String KEY_ID_PA = \"_id\";\npublic static final String KEY_DESCRIPTION = \"description\";\n\n\npublic static final String CONTENT_AUTHORITY = \"com.mypackage.myappname\";\npublic static final Uri BASE_CONTENT_URI = Uri.parse(\"content://\"\n        + CONTENT_AUTHORITY);\n\nprivate static final String PATH_DOSISPED_PA = \"mytable\";\n\npublic static final Uri CONTENT_URI = BASE_CONTENT_URI.buildUpon()\n        .appendPath(PATH_DOSISPED_PA).build();\n\npublic static final String CONTENT_TYPE = \"vnd.android.cursor.dir/vnd.myappname.mytable\";\npublic static final String CONTENT_ITEM_TYPE = \"vnd.android.cursor.item/vnd.myappname.mytable\";\n\nprivate static final int DOSISPAS = 1;\nprivate static final int DOSISPA_ID = 2;\n\nprivate static final UriMatcher uriMatcher;\nstatic {\n    uriMatcher = new UriMatcher(UriMatcher.NO_MATCH);\n    uriMatcher.addURI(\"CONTENT_AUTHORITY\", \"mytable\", DOSISPAS);\n    uriMatcher.addURI(\"CONTENT_AUTHORITY\", \"mytable/*\", DOSISPA_ID);\n}\n</code></pre>\n\n<p>And this is part of the activity where i trigger the query:</p>\n\n<pre><code>contentResolver = getContentResolver();\n    Uri uri = MyContentProvider.CONTENT_URI;\n    Cursor cursor = contentResolver.query(uri, null, null, null, null);\n\n    // create an array to specify which fields we want to display\n    String[] from = new String[] { MyContentProvider.KEY_DESCRIPTION };\n    // create an array of the display item we want to bind our data to\n    int[] to = new int[] { android.R.id.text1 };\n    // create simple cursor adapter\n    SimpleCursorAdapter adapter = new SimpleCursorAdapter(this,\n            android.R.layout.simple_spinner_item, cursor, from, to);\n    adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n    // get reference to our spinner\n    Spinner spinner = (Spinner) findViewById(R.id.spinner_pas);\n    spinner.setAdapter(adapter);//THIS IS WHERE THE EXCEPTION IS THRWON\n</code></pre>\n\n<p>And a NullPointerException is thrown at this line of code:</p>\n\n<pre><code>    spinner.setAdapter(adapter);\n</code></pre>\n\n<p>And here is the logcat:</p>\n\n<pre><code>10-02 18:41:32.109: E/AndroidRuntime(2783): FATAL EXCEPTION: main\n10-02 18:41:32.109: E/AndroidRuntime(2783): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.edoctores.android.apps.idoctus/com.edoctores.android.apps.idoctus.ui.PediatricDosisActivity}: java.lang.NullPointerException\n10-02 18:41:32.109: E/AndroidRuntime(2783):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2059)\n10-02 18:41:32.109: E/AndroidRuntime(2783):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2084)\n10-02 18:41:32.109: E/AndroidRuntime(2783):     at android.app.ActivityThread.access$600(ActivityThread.java:130)\n10-02 18:41:32.109: E/AndroidRuntime(2783):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1195)\n10-02 18:41:32.109: E/AndroidRuntime(2783):     at android.os.Handler.dispatchMessage(Handler.java:99)\n10-02 18:41:32.109: E/AndroidRuntime(2783):     at android.os.Looper.loop(Looper.java:137)\n10-02 18:41:32.109: E/AndroidRuntime(2783):     at android.app.ActivityThread.main(ActivityThread.java:4745)\n10-02 18:41:32.109: E/AndroidRuntime(2783):     at java.lang.reflect.Method.invokeNative(Native Method)\n10-02 18:41:32.109: E/AndroidRuntime(2783):     at java.lang.reflect.Method.invoke(Method.java:511)\n10-02 18:41:32.109: E/AndroidRuntime(2783):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:786)\n10-02 18:41:32.109: E/AndroidRuntime(2783):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:553)\n10-02 18:41:32.109: E/AndroidRuntime(2783):     at dalvik.system.NativeStart.main(Native Method)\n10-02 18:41:32.109: E/AndroidRuntime(2783): Caused by: java.lang.NullPointerException\n10-02 18:41:32.109: E/AndroidRuntime(2783):     at com.edoctores.android.apps.idoctus.ui.PediatricDosisActivity.onCreate(PediatricDosisActivity.java:72)\n10-02 18:41:32.109: E/AndroidRuntime(2783):     at android.app.Activity.performCreate(Activity.java:5008)\n10-02 18:41:32.109: E/AndroidRuntime(2783):     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1079)\n10-02 18:41:32.109: E/AndroidRuntime(2783):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2023)\n10-02 18:41:32.109: E/AndroidRuntime(2783):     ... 11 more\n</code></pre>\n\n<p>I have been the whole day trying to fix it without any luck. Could someone help me and point me into the right direction? Thanks a lot in advance</p>\n"},{"tags":["xcode","sqlite","build","sqlite3"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":33,"score":1,"question_id":12694411,"title":"sqlite database creation on building project on Xcode","body":"<p>I'm doing an app who loads data (from a sqlite file) into a sqlite db after the client install it on his iphone.</p>\n\n<p>In Xcode, I select my target,\nThen I go in Build Phases -> Add build phase -> Add run script</p>\n\n<p>Then here is my script :</p>\n\n<pre><code>echo \"Begin script ${TARGET_NAME}\"\ncd /Users/toto/Documents\ncd SQliteDB\nsqlite3&gt; db.sql\nsqlite3&gt; .read dbfile.sqlite\nsqlite3&gt; .exit\necho \"end script\"\n</code></pre>\n\n<p>The file db.sql is created but : \nWhen I go to my directory and open the file db.sql with SQlite Database browser it says it's blank... and it's 0ko.</p>\n\n<p>So what's wrong ? When I try this script on the terminal it works perfectly...\nThe dbfile.sqlite is on the same directory.\nWhen I go to the Build logs after running the App, there is no errors...</p>\n"},{"tags":["sqlite","visual-studio-2012","toolbox"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":91,"score":0,"question_id":12693494,"title":"sqlite toolbox disappeared in 1.0.82 and Visual Studio 2012","body":"<p>System.Data.Sqlite</p>\n\n<p>With sqlite-netFx40-setup-bundle-x86-2010-1.0.81.0 and Visual Studio 2010 I used to see a Sqlite toolbox group, however with Visual Studio 2012 (VS2012) and the newer sqlite-netFx40-setup-bundle-x86-2010-1.0.82.0, I do not see any Sqlite toolbox group.</p>\n\n<p>I uninstalled the previous version and installed the new one after installing VS2012.  I placed all files in the global assembly cache.  Add References shows the 3 assemblies (core, design, and Linq) nicely.  I just do not see the toolbox like I used to.</p>\n\n<p>I did try recreating the toolbox entries, but that had no effect.</p>\n\n<p>For all those that want the procedure to recreate the toolbox entries.  Here it is (from DevExpress):</p>\n\n<ol>\n<li>Close Visual Studio</li>\n<li>Go to \"C:\\Users\\\\AppData\\Local\\Microsoft\\VisualStudio\\11.0\"</li>\n<li>Delete all .tbd files</li>\n<li>Go to registry and delete all contents of\n HKCU\\Software\\Microsoft\\VisualStudio\\11.0\\ToolboxControlsInstaller_AssemblyFoldersExCache\n HKCU\\Software\\Microsoft\\VisualStudio\\11.0\\ToolboxControlsInstallerCache</li>\n<li>Go to a new/old project form and go to the toolbox.  Be patient.</li>\n</ol>\n\n<p>Anyways, no SQlite toolbox.</p>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":12690473,"title":"How to create a new raw in sqlite database in Android?","body":"<p>I have a Table in sqlite and there is a auto increment field for ID name of field is \"profile_id\".</p>\n\n<p>now I want to add a new row without any data except profile_id, and I need the value of \"profile_id\" of newly created row, Than what should my query, please suggest me.</p>\n\n<p>Thanks!</p>\n"},{"tags":["android","performance","sqlite","battery","android-sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":21,"score":1,"question_id":12692047,"title":"Can size of android database effects battery efficiency of the device?","body":"<p>Irrespective of functionality, can simply the size the database directly effects the efficiency of the device? I read Opening and Closing database is an expensive task, so is this expense depends on the size of the database?</p>\n"},{"tags":["objective-c","xcode","sqlite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12412218,"title":"xcode sqlite delete from tablename doesnt work","body":"<p>Im trying to delete the data from a table, the code looks ok and when i make the debug it seems that the table data is deleted, but is not, please see below:</p>\n\n<p>this is the code the call the method:</p>\n\n<pre><code>NSString *queryclean;\nqueryclean = @\"DELETE FROM sharewithme_tSocialNetworks\";\n[self executeSentenceSetting:queryclean sentenceIsSelect:NO];\n</code></pre>\n\n<p>here is the method:</p>\n\n<pre><code>    -(void)executeSentenceSetting:(NSString *)sentence sentenceIsSelect:(BOOL )isSelect{\n// vars for the query\nstatic sqlite3 *db;     \nsqlite3_stmt *resultado; \nconst char* siguiente;  \n\n// look for the db file\nNSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);\nNSString *documentsDirectory = [paths objectAtIndex:0];\nNSString *path = [documentsDirectory stringByAppendingPathComponent:@\"swm.sqlite\"];\nNSLog(@\"consulta: %@\",sentence);\n// open db\nif (sqlite3_open([path UTF8String], &amp;db ) == SQLITE_OK) {       \n\n    if (isSelect){              \n\n        // exec query\n        if ( sqlite3_prepare(db,[sentence UTF8String],[sentence length],&amp;resultado,&amp;siguiente) == SQLITE_OK ){\n\n            // Recorre el resultado\n            while (sqlite3_step(resultado)==SQLITE_ROW){        \n                responsesetting = [NSString stringWithUTF8String: (char *)sqlite3_column_text(resultado, 1)];\n                NSLog(@\"Resp %@\",responsesetting);\n            }\n        }\n    }\n    else {\n        // exec query\n        if ( sqlite3_prepare_v2(db,[sentence UTF8String],[sentence length],&amp;resultado,&amp;siguiente) == SQLITE_OK ){\n            sqlite3_step(resultado);                \n            sqlite3_finalize(resultado);\n        }           \n    }\n} \n// close db\nsqlite3_close(db); }\n</code></pre>\n"},{"tags":["android","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":49,"score":3,"question_id":12689998,"title":"SQLite insert throwing syntax exception","body":"<p><strong>I am getting this error from SQLite,</strong> </p>\n\n<p><code>near \",\": syntax error (code 1):</code> , while compiling: </p>\n\n<pre><code>UPDATE OutfitItem \nSET outfit_img_relative_pos_x=?,clothing_item_ID=?,outfit_img_relative_pos_y=?,\noutfit_img_relative_size_width=?,outfit_ID=?,outfit_img_relative_size_height=? \nWHERE (outfit_ID,clothing_item_ID) = (60,5)\n</code></pre>\n\n<p><strong>May someone spot the error for me please?</strong></p>\n\n<p><strong>The following is the code which gets compiled...</strong></p>\n\n<pre><code>// ---updates a outfitItem---\n        public boolean update(long outfitID, long clothingItemID, double imgRelativePos_X, double imgRelativePos_Y,\n                double imgRelativeSize_width, double imgRelativeSize_height)\n        {\n            ContentValues args = new ContentValues();\n            args.put(KEY_OUTFIT_ID, outfitID);\n            args.put(KEY_CLOTHING_ITEM_ID, clothingItemID);\n            args.put(KEY_OUTFIT_IMAGE_RELATIVE_POS_X, imgRelativePos_X);\n            args.put(KEY_OUTFIT_IMAGE_RELATIVE_POS_Y, imgRelativePos_Y);\n            args.put(KEY_OUTFIT_IMAGE_RELATIVE_SIZE_WIDTH, imgRelativeSize_width);\n            args.put(KEY_OUTFIT_IMAGE_RELATIVE_SIZE_HEIGHT, imgRelativeSize_height);\n            return db.update(TABLE_NAME, args, \"(\" + KEY_OUTFIT_ID + \",\" + KEY_CLOTHING_ITEM_ID + \") = (\" + outfitID\n                    + \",\" + clothingItemID + \")\", null) &gt; 0;\n        }\n</code></pre>\n\n<p><strong>The following is the code which creates the table, and note that foreign keys is set to on...</strong></p>\n\n<pre><code>public static final String TABLE_NAME = \"OutfitItem\";\n\n        public static final String TABLE_CREATE = \"create table \" + TABLE_NAME + \"(\" + KEY_OUTFIT_ID\n                + \" int not null REFERENCES \" + Table_Outfit.TABLE_NAME + \"(\" + KEY_OUTFIT_ID + \") ON DELETE CASCADE,\"\n                + KEY_CLOTHING_ITEM_ID + \" int not null REFERENCES \" + Table_ClothingItem.TABLE_NAME + \"(\"\n                + KEY_CLOTHING_ITEM_ID + \") ON DELETE CASCADE, \" + KEY_OUTFIT_IMAGE_RELATIVE_POS_X + \" real not null, \"\n                + KEY_OUTFIT_IMAGE_RELATIVE_POS_Y + \" real not null, \" + KEY_OUTFIT_IMAGE_RELATIVE_SIZE_WIDTH\n                + \" real not null, \" + KEY_OUTFIT_IMAGE_RELATIVE_SIZE_HEIGHT + \" real not null, \" + \"primary key (\"\n                + KEY_OUTFIT_ID + \",\" + KEY_CLOTHING_ITEM_ID + \"));\";\n</code></pre>\n"},{"tags":["iphone","ios","sqlite"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":12686493,"title":"How to delete all the contents from SQLite table in an iOS app","body":"<p>I want to delete all the rows from the table in my iPhone app. I am using following code but it is not deleting the data:</p>\n\n<pre><code>+(void)emptyData:(NSString*)dbPath{\n\n    NSString *query = @\"delete from survey_question_responses\";\n    const char *sqlStatement = [query UTF8String];\n    sqlite3_stmt *compiledStatement;\n\n    if(sqlite3_prepare_v2(database, sqlStatement, -1, &amp;compiledStatement, NULL) == SQLITE_OK) {\n\n   // Loop through the results and add them to the feeds array\n     while(sqlite3_step(compiledStatement) == SQLITE_ROW) {\n      // Read the data from the result row\n        NSLog(@\"result is here\");\n      }\n\n       // Release the compiled statement from memory\n      sqlite3_finalize(compiledStatement);\n     }\n     }\n</code></pre>\n"},{"tags":["android","database","sqlite","quickaction"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":119,"score":1,"question_id":8772827,"title":"Android QuickAction and SQLite DB Updates","body":"<p>I have implemented a QuickAction menu using the code and tutorial found <a href=\"http://www.londatiga.net/it/how-to-create-quickaction-dialog-in-android/\" rel=\"nofollow\">here</a>.</p>\n\n<p>I have a ListView that I populate with records from a SQLite DB and when a record is clicked the QuickAction menu is displayed. What I don't know how to do is take action on the selected record using the QuickAction items (e.g. update the selected record in the DB when a QuickAction item is selected). </p>\n\n<p>Here is my QuickAction onclick listener: </p>\n\n<pre><code>quickAction.setOnActionItemClickListener(new QuickAction.OnActionItemClickListener() \n{           \n   @Override\n\n   public void onItemClick(QuickAction source, int pos, int actionId) \n   {\n\n      ActionItem actionItem = quickAction.getActionItem(pos);\n\n      if (actionId == VIEW) \n       {\n          [view the record]\n       } \n       else if (actionId == UPDATE) \n        {\n           [update a value in the db]\n         } \n       else \n        {\n          [do something else to the record]\n        } \n    }\n  });\n</code></pre>\n"},{"tags":["android","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":12677582,"title":"Android SQLite Database Greek Charact","body":"<p>I'm working with an SQLite database, built in my Win PC using RazorSQL.\nThis db contains greek characters, and all queries in my PC returns proper format.</p>\n\n<p>I copy the db from my PC to the Android emulator and start using it, but varchar field values containing Greek characters are displayed as '?'.</p>\n\n<p>Any suggestions?</p>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":116,"score":-3,"question_id":12685506,"title":"Android Sqlite Database Connection","body":"<p>Start Here:</p>\n\n<pre><code>package com.example.button;\n\nimport android.R;`\n\nimport android.app.Activity;\n\nimport android.app.Dialog;\n\nimport android.content.Intent;\n\nimport android.os.Bundle;\n\nimport android.view.View;\n\nimport android.view.View.OnClickListener;\n\nimport android.widget.Button;\n\nimport android.widget.EditText;\n\nimport android.widget.TextView;\n\n\npublic class sqlexample extends Activity implements OnClickListener {\n\n    Button btn1, btn2;\n    EditText et1, et2;\n    TextView tv1, tv2;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        // TODO Auto-generated method stub\n\n        super.onCreate(savedInstanceState);\n        setContentView(com.example.button.R.layout.sqlexample);\n        btn1=(Button) findViewById(com.example.button.R.id.button1);\n        btn2=(Button) findViewById(com.example.button.R.id.button2);\n        et1=(EditText) findViewById(com.example.button.R.id.editText1);\n        et2=(EditText) findViewById(com.example.button.R.id.editText2);\n        tv1=(TextView) findViewById(com.example.button.R.id.textView1);\n        tv2=(TextView) findViewById(com.example.button.R.id.textView2);\n        btn1.setOnClickListener(this);\n        btn2.setOnClickListener(this);\n    }\n\n    public void onClick(View arg0) {\n        // TODO Auto-generated method stub\n        switch(arg0.getId()){\n        case com.example.button.R.id.button1:\n            boolean diditwork=true;\n            try{\n            String getname=et1.getText().toString();\n            String getrank=et2.getText().toString();\n\n            rank entry=new rank(sqlexample.this);\n            entry.open();\n\n            entry.createentry(getname,getrank);\n\n            entry.close();\n            }catch(Exception e){\n                diditwork=false;\n            }finally{\n\n            if(diditwork){\n\n            Dialog d=new Dialog(this);\n            d.setTitle(\"Success\");\n            TextView tv=new TextView(this);\n            tv.setText(\"Data Stored\");\n            d.setContentView(tv);\n            d.show();\n            }\n            }\n\n\n            break;\n        case com.example.button.R.id.button2:\n            Intent i=new Intent(\"com.example.button.SQLVIEW\");\n            startActivity(i);\n            break;\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>Sql View Activity:</p>\n\n<pre><code>package com.example.button;\n\nimport android.app.Activity;\n\nimport android.os.Bundle;\n\nimport android.widget.TextView;\n\n\npublic class sqlview extends Activity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        // TODO Auto-generated method stub\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.sqlview);\n        TextView tv1;\n        tv1=(TextView) findViewById(R.id.textView3);\n        rank entry=new rank(sqlview.this);\n        entry.open();\n        String data=entry.getdata();\n        entry.close();\n        tv1.setText(data);\n    }\n\n\n}\n</code></pre>\n\n<p>Rank Acitvity: Here only the prob occur.. there is a error while viewing a sql data</p>\n\n<pre><code>package com.example.button;\n\nimport android.content.ContentValues;\n\nimport android.content.Context;\n\nimport android.database.Cursor;\n\nimport android.database.sqlite.SQLiteDatabase;\n\nimport android.database.sqlite.SQLiteDatabase.CursorFactory;\n\nimport android.database.sqlite.SQLiteOpenHelper;\n\nimport android.widget.ArrayAdapter;\n\n\npublic class rank {\n\n    public static final String KEY_ROWID = \"sno\";\n\n    public static final String KEY_NAME = \"name\";\n\n    public static final String KEY_RANK = \"good\";\n\n\n    private static final String DATABASE_NAME = \"Rank\";\n\n    private static final String DATABASE_TABLE = \"Ranktbl\";\n\n    private static final int DATABASE_VERSION = 1;\n\n    private DBHelper helper;\n    private final Context context;\n    private SQLiteDatabase database;\n\n    private static class DBHelper extends SQLiteOpenHelper {\n\n        public DBHelper(Context context) {\n            super(context, DATABASE_NAME, null, DATABASE_VERSION);\n            // TODO Auto-generated constructor stub\n        }\n\n        @Override\n        public void onCreate(SQLiteDatabase db) {\n            // TODO Auto-generated method stub\n            db.execSQL(\"CREATE TABLE \" + DATABASE_TABLE + \" (\" +\n                        KEY_ROWID + \" INTEGER PRIMARY KEY AUTOINCREMENT, \" +\n                        KEY_NAME + \" TEXT NOT NULL, \" +\n                        KEY_RANK + \"TEXT NOT NULL);\"\n\n\n\n\n                    );\n\n\n\n        }\n\n        @Override\n        public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n            // TODO Auto-generated method stub\n            db.execSQL(\"DROP TABLE IF EXISTS \" + DATABASE_TABLE\n\n                    );\n            onCreate(db);\n\n\n        }\n\n    }\n    public rank(Context c){\n        context=c;\n    }\n    public rank open(){\n        helper=new DBHelper(context);\n        database=helper.getWritableDatabase();\n        return this;\n    }\n    public void close(){\n        helper.close();\n    }\n    public  long createentry(String getname, String getrank) {\n        // TODO Auto-generated method stub\n        ContentValues  cv= new ContentValues();\n        cv.put(KEY_NAME, getname);\n        cv.put(KEY_RANK, getrank);\n        return database.insert(DATABASE_TABLE, null, cv);\n    }\n    public String getdata() {\n        // TODO Auto-generated method stub\n        String[] col=new String[]{KEY_ROWID,KEY_NAME,KEY_RANK};\n        Cursor c=database.query(DATABASE_TABLE, col, null, null, null, null, null);\n        String result=\" \";\n        int irow=c.getColumnIndex(KEY_ROWID);\n        int iname=c.getColumnIndex(KEY_NAME);\n        int irank=c.getColumnIndex(KEY_RANK);\n        for(c.moveToLast(); !c.isAfterLast(); c.moveToNext()){\n            result=result+ c.getString(irow) + \" \" + c.getString(iname) + \" \" + c.getString(irank) + \"\\n\";\n        }\n        return result;\n    }\n\n\n}\n</code></pre>\n"},{"tags":["sqlite","qt4"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":25,"score":3,"question_id":12685563,"title":"How to find out version SQLite in Qt?","body":"<p>I want to discover SQLite version in Qt 4.6.2 &amp; 4.7.4\nHow to find out version SQLite in Qt?</p>\n"},{"tags":["android","sqlite","annotations"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":70,"score":0,"question_id":12673471,"title":"How to use Java Annotation to create Sqlite DB column names in Android?","body":"<p>I am working on Android platform. I am using POJO class to create the Sqlite DB field names.</p>\n\n<p>e.x.</p>\n\n<pre><code>class Provider {\n    int id;\n    String data;\n    String value;\n}\n</code></pre>\n\n<p>Based on the above POJO class, 3 fields with the given name will be generated at SQlite DB.But i want to create the name of fields(Column) different name into Sqlite DB.</p>\n\n<p>e.x.</p>\n\n<pre><code>class Provider {\n    @Annotation(FieldNameInDB = loginId)\n    int id;\n\n    @Annotation(FieldNameInDB = providerData)\n    String data;\n\n    @Annotation(FieldNameInDB = providerValue)\n    String value;\n}\n</code></pre>\n\n<p>Above POJO class having annotation and also the column names has been given using annotation, whatever the names being used needs to be created as column names <strong>(loginId,providerData,providerValue)</strong>.</p>\n\n<p>So, SQLite DB will have 3 columns named as  <strong>(loginId,providerData,providerValue)</strong>.</p>\n\n<p>Please provide solution using Java Annotation to create Custom Column names into SQLite DB and using custom names, we can retrieve the values from it.</p>\n"},{"tags":["android","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":12685603,"title":"Can't rename field database with my query","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/805363/how-do-i-rename-a-column-in-a-sqlite-database-table\">How do I rename a column in a SQLite database table?</a>  </p>\n</blockquote>\n\n\n\n<p>I want to rename field table in SQlite, but I can't rename it in my aplication. This my query to rename: </p>\n\n<pre><code>ALTER TABLE 'table_name' RENAME 'column1' TO 'new_column1'\n</code></pre>\n\n<p>but my query gets this error: </p>\n\n<pre><code>SQLiteManager: Likely SQL syntax error: ALTER table 'table_name' \nRENAME 'column1' TO 'new_column1' [ near \"'column1'\": syntax error ]\n\nException Name: NS_ERROR_FAILURE\nException Message: Component returned failure code: 0x80004005 \n(NS_ERROR_FAILURE) [mozIStorageConnection.createStatement]\n</code></pre>\n\n<p>and can't rename field...\ni change my query :</p>\n\n<pre><code>ALTER TABLE 'table_name' RENAME COLUMN 'column1' TO 'new_column1'\nALTER TABLE 'table_name' CHANGE 'column1' 'new_column1' TEXT\n</code></pre>\n\n<p>and error again...\nhow do I solve my problem??</p>\n"},{"tags":["android","sqlite","android-contentprovider","android-sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":64,"score":0,"question_id":12685338,"title":"Sharing Single SQLite database across multiple android apps.","body":"<p>If the user has my android app installed in his device (of database size 300mb), How can i make all my other apps or thirdparty apps to freely access the database. ContentProvider may be a solution, but i am still in development stage so don't exactly who or how many third-party apps will leverage my database in-order to prespecify shared user id's in AndroidManifest.xml </p>\n\n<p>If not SQLite is there any alternative android supporting DB supporting the requirement?</p>\n"},{"tags":["mysql","django","sqlite","dev-to-production"],"answer_count":6,"favorite_count":5,"up_vote_count":9,"down_vote_count":0,"view_count":1128,"score":9,"question_id":2306048,"title":"Django: sqlite for dev, mysql for prod?","body":"<p>Quick question: is it a good idea to use sqlite while developing a Django project, and use MySQL on the production server?</p>\n"},{"tags":["sqlite","duplicates","records"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":12684480,"title":"removing duplicate sqlite records--answer","body":"<p>I have a large sqlite file with duplicate entries.</p>\n\n<p>The easy way to remove duplicate entries is:</p>\n\n<p>create table table2 as select distinct * from table1\nthen delete table1\nthen create table1 as select * from table2</p>\n\n<p>I didn't see this answer anywhere so I am posting it here to save others time.</p>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":12681998,"title":"android and sqlite-has 5 columns but 4 values were supplied","body":"<p>I copied an example of sqlite use from somewhere. They defined 5 columns and I change it to 4 columns. \nThe relevant part is here:</p>\n\n<pre><code>    private final String DB_NAME = \"mcustomerDbName\";\n    private final String TABLE_NAME = \"mcustomeTableName\";\n    SQLiteDatabase customersDB = null;\n    /** Called when the activity is first created. */\n\n\n     ..........................................\n</code></pre>\n\n<p>This is the context  of the table-4 columns </p>\n\n<pre><code>    private void mFillDbsTable(){\n        try {\n\n            customersDB.execSQL(\"INSERT INTO \" +\n                    TABLE_NAME + \n                    \" Values ('ABARTH','500','Abarth','15.3846153846154' );\");\n            customersDB.execSQL(\"INSERT INTO \" + TABLE_NAME + \"Values ( 'ABARTH ', 'Grande Punto ', '1.4 T-Jet 155 ', '14.9253731343284 ' );\");\n            customersDB.execSQL(\"INSERT INTO \" + TABLE_NAME + \"Values ( 'ALFA ROMEO ', 'MiTo ', '1.4 16v TB 120  ', '16.3934426229508 ');\");\n            customersDB.execSQL(\"INSERT INTO \" + TABLE_NAME + \"Values ( 'ALFA ROMEO ', 'MiTo ', '1.3 JTDm 90 ', '22.2222222222222 ');\");\n            customersDB.execSQL(\"INSERT INTO \" + TABLE_NAME + \"Values ( 'ALFA ROMEO ', '147 ', '1.6 (120 bhp) ', '12.1951219512195 ');\");\n            customersDB.execSQL(\"INSERT INTO \" + TABLE_NAME + \"Values ( 'ALFA ROMEO ', '147 ', '2.0 ', '11.2359550561798 ');\");\n\n     ..........................................\n\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    /*setContentView(R.layout.activity_delek);**/\n     ArrayList&lt;String&gt; results = new ArrayList&lt;String&gt;();\n        try {\n            customersDB =  this.openOrCreateDatabase(  DB_NAME, MODE_PRIVATE, null);\n            customersDB.execSQL(\"CREATE TABLE IF NOT EXISTS \" +\n                    TABLE_NAME +\n                    \" (Name VARCHAR,\" +\n                    \" Street VARCHAR, Block VARCHAR, City VARCHAR);\");\n            mFillDbsTable();\n             Cursor c = customersDB.rawQuery(\"SELECT Name, Street, Block, City  FROM \"    +\n                    TABLE_NAME +\n                       \" where Name == 'TOYOTA' or Name == 'Yosi' \", null);\n            if (c != null ) {\n                if  (c.moveToFirst()) {\n                    do {\n                        String name = c.getString(c.getColumnIndex(\"Name\"));\n                           String street = c.getString(c.getColumnIndex(\"Street\"));\n\n                              String city = c.getString(c.getColumnIndex(\"City\"));\n\n                            results.add(name + \", \" + street + \" \"+ city );\n                    }while (c.moveToNext());\n                }\n            }\n            setListAdapter(new ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_list_item_1,results));\n         } catch (SQLiteException se ) {\n            Log.e(getClass().getSimpleName(), \"create/Open the database problem\");\n        } finally {\n            if (customersDB != null)\n                customersDB.execSQL(\"DELETE FROM \" +   TABLE_NAME);\n                customersDB.close();\n        }\n</code></pre>\n\n<p>I get this message in the log:</p>\n\n<pre><code> 10-01 21:59:59.434: I/Database(1067): sqlite returned: error code = 1, msg = table            mcustomeTableName has 5 columns but 4 values were supplied.\n</code></pre>\n\n<p>Why??I have 4 columns </p>\n"},{"tags":["sql","sqlite","rdbms","dbms"],"answer_count":5,"favorite_count":3,"up_vote_count":15,"down_vote_count":0,"view_count":15840,"score":15,"question_id":525512,"title":"Drop all tables command","body":"<p>What is the command to drop all tables in SQLite? </p>\n\n<p>Similarly I'd like to drop all indexes.</p>\n"},{"tags":["sqlite"],"answer_count":1,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":347,"score":1,"question_id":9843229,"title":"SQLite:\"ALTER TABLE `game` ADD UNIQUE(`name`)\" Error in SQLite","body":"<p>I used the same command syntax above as in Mysql  and would like set a unique key for the tables's filed on Android Device environment, however, the error prompted in LogCat:  </p>\n\n<blockquote>\n  <p>03-23 16:16:45.580: E/Database(657): Failure 1 (near \"UNIQUE\": syntax\n  error) on 0x2c0240 when preparing 'ALTER TABLE <code>game</code> ADD\n  UNIQUE(<code>name</code>);'.</p>\n</blockquote>\n\n<p>Checking the SQLite's doc, it seems that SQLite does not use this way for setting a unique key. Does anyboy know to do it ? Thanks for response inadvance !</p>\n"},{"tags":["sqlite","system.data.sqlite"],"answer_count":2,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":733,"score":2,"question_id":8511901,"title":"System.Data.SQLite Close() not releasing database file","body":"<p>I'm having a problem closing my database before an attempt to delete the file.   The code is just</p>\n\n<pre><code> myconnection.Close();    \n File.Delete(filename);\n</code></pre>\n\n<p>And the Delete throws an exception that the file is still in use. I've re-tried the Delete() in the debugger after a few minutes, so it's not a timing issue.</p>\n\n<p>I have transaction code but it doesn't run at all before the Close() call. So I'm fairly sure it's not an open transaction.  The sql commands between open and close are just selects.</p>\n\n<p>ProcMon shows my program and my antivirus looking at the database file.  It does not show my program releasing the db file after the close().</p>\n\n<p>Visual Studio 2010, C#, System.Data.SQLite version 1.0.77.0, Win7</p>\n\n<p>I saw a two year old bug just like this but the changelog says it's fixed.</p>\n\n<p>Is there anything else I can check?  Is there a way to get a list of any open commands or transactions?</p>\n\n<hr>\n\n<p>New, working code:</p>\n\n<pre><code> db.Close();\n GC.Collect();   // yes, really release the db\n\n bool worked = false;\n int tries = 1;\n while ((tries &lt; 4) &amp;&amp; (!worked))\n {\n    try\n    {\n       Thread.Sleep(tries * 100);\n       File.Delete(filename);\n       worked = true;\n    }\n    catch (IOException e)   // delete only throws this on locking\n    {\n       tries++;\n    }\n }\n if (!worked)\n    throw new IOException(\"Unable to close file\" + filename);\n</code></pre>\n"},{"tags":["c#","sql","sqlite",".net-3.5","ado.net"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":743,"score":0,"question_id":5994141,"title":"Checking if Table Exists Keeping Connection Open in SQLite","body":"<p>So I have a method which is supposed to check if a table exists in a database which is defined as follows:</p>\n\n<pre><code>internal override bool TableExists(string tableName)\n{\n    bool tableExists = false;\n\n    // Check the Tables schema and see if the table exists\n    using (SQLiteConnection conn = (SQLiteConnection) CreateConnection())\n    {\n        conn.Open();\n        DataRow[] rows = conn.GetSchema(\"Tables\").Select(string.Format(\"Table_Name = '{0}'\", tableName));\n        tableExists = (rows.Length &gt; 0);\n    }\n\n    // Actually called elsewhere in the code, just here for testing.\n    File.Delete(DatabaseEnvironmentInfo.GetPrimaryDataFile(DatabaseName));\n\n    return tableExists;\n}\n</code></pre>\n\n<p><code>CreateConnection()</code> just creates a new connection with a connection string so I don't think the issue is there. If I have remove the line <code>conn.GetSchema(\"Tables\")...</code> and I am able to delete the database file but if I add that line back in I get the following exception when I try to delete after the <code>using</code>:</p>\n\n<blockquote>\n  <p>System.IO.IOException: The process\n  cannot access the file 'C:\\db.sqlite'\n  because it is being used by another\n  process..</p>\n</blockquote>\n\n<p>Do <code>DataRow</code>objects keep a connection to the database or does anyone know what the issue could be? If there is a better way to check if a table exists in SQLite I am open to that as well.</p>\n\n<p>Thanks!</p>\n"},{"tags":["android","sqlite","cursor"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":12679584,"title":"How to check whether the specific value exists in a column?","body":"<p>I'm trying to check if the value exists in a column. For example I want to check that column <code>artId</code> contains some numeric value. I'm using following code:</p>\n\n<pre><code>getStar = db.query(TABLE_NAME, new String[] { \"artId\" },\n                        \"artId = \" + entryId, null, null,\n                        null, null);\n        getStar.moveToFirst();\n        String star = getStar.toString();\n        Log.w(\"ID COUNT\", star);\n        if(getStar != null) {\n            // do something\n        }\n</code></pre>\n\n<p>Where <code>entryId</code> is some number.</p>\n\n<p>But I always get something like this:</p>\n\n<p><code>W/ID COUNT(11303): android.database.sqlite.SQLiteCursor@41aa4c80</code>.</p>\n\n<p>Also I tried to use:</p>\n\n<pre><code>getStar = db.rawQuery(\"SELECT count(*) FROM \"\n+ TABLE_NAME + \" WHERE artId = '\" + entryId + \"'\", null);\n</code></pre>\n\n<p>But I got the same result.</p>\n\n<p>So I hope for your help.</p>\n"},{"tags":["android","database","sqlite"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":12678789,"title":"SQLite android column not found","body":"<p>hey guys my code is correct is assume but even though it gives error coloumn not found for _hour &amp; _min plz help its urgent:</p>\n\n<pre><code>package com.example.ifest;\n\n\npublic class ProfileView extends ListActivity{\n\nint hour,min;\nTimePicker tp ;\nString e,e1;\nstatic int p = 0;\nSpinner spn ;\nButton b1,b2,b3;\nEditText et;\nString str1;\nArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\nArrayAdapter&lt;String&gt; adapter;\n\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main); \n    list.add(\"Create\");\n    openDB();\n    p++;\n\n    adapter = new ArrayAdapter&lt;String&gt;(this,android.R.layout.simple_list_item_1,list);\n    setListAdapter(adapter);      \n}\n\n@Override\nprotected void onListItemClick(ListView l, View v, int position, long id) {\n    super.onListItemClick(l, v, position, id);\n    if(position == 0){\n        final Dialog build = new Dialog(ProfileView.this);\n        build.setTitle(\"String Name and Details\");\n        build.setContentView(R.layout.activity_dialog);\n        build.show();\n        spn = (Spinner)build.findViewById(R.id.spinner1_Dialog);\n        et = (EditText) build.findViewById(R.id.editText1_Dialog);\n        b2 = (Button) build.findViewById(R.id.button1_Dialog);\n        tp = (TimePicker)build.findViewById(R.id.timePicker1_Dialog);\n        b3 = (Button)build.findViewById(R.id.button2_Dialog);\n        tp.setIs24HourView(true);\n        tp.setCurrentMinute(00);\n\n        b2.setOnClickListener(new View.OnClickListener() {\n\n            public void onClick(View v) {\n                build.dismiss();\n                hour = tp.getCurrentHour();\n                min = tp.getCurrentMinute();\n                list.add(et.getText().toString());\n                addDB(et.getText().toString(),spn.getLastVisiblePosition(),hour,min);\n                adapter.notifyDataSetChanged();\n                setListAdapter(adapter);\n            }\n        });\n\n        b3.setOnClickListener(new View.OnClickListener() {\n\n            public void onClick(View v) {\n                build.dismiss();\n            }\n        });\n    }\n}\n\nprotected void addDB(String name,int id,int h,int m) {\n    DBHandler handle = new DBHandler(this);\n    SQLiteDatabase db = handle.getWritableDatabase();\n    ContentValues cv = new ContentValues();\n    cv.put(\"_name\",name);\n    if(id == 0)\n        cv.put(\"_type\",\"WIFI\");\n    else if(id == 1)\n        cv.put(\"_type\",\"BLUETOOTH\");\n    else if(id == 2)\n        cv.put(\"_type\",\"MEDIA\");\n    cv.put(\"_hour\", h);\n    cv.put(\"_min\", m);\n    db.insert(\"_table\", null , cv);\n    db.close();\n}\n\nprivate void openDB() {\n    if(p != 0){ \n        DBHandler handle = new DBHandler(this);\n        SQLiteDatabase db = handle.getReadableDatabase();\n\n        Cursor c = db.rawQuery(\"SELECT * FROM \"+ \"_table\",null);\n        c.moveToFirst();\n        while(c.moveToNext()){\n            list.add(c.getString(1));\n            Log.d(\"cursor\", c.getString(1));\n        }\n        c.close();\n        db.close();\n    }\n}\n\n@Override\npublic void onCreateContextMenu(ContextMenu menu, View v,ContextMenuInfo menuInfo) {\n    super.onCreateContextMenu(menu, v, menuInfo);\n    MenuInflater inflate = getMenuInflater();\n    inflate.inflate(R.menu.string_main,menu);\n}\n\n\n@Override\npublic boolean onCreateOptionsMenu(Menu menu) {\n    MenuInflater mi = getMenuInflater();\n    mi.inflate(R.menu.activity_main, menu);\n    return true;\n}\n\n@Override\npublic boolean onMenuItemSelected(int featureId, MenuItem item) {\n    switch(item.getItemId()){\n    case R.id.item1:\n        final Dialog build = new Dialog(ProfileView.this);\n        build.setTitle(\"String Name and Details\");\n        build.setContentView(R.layout.activity_dialog);\n        build.show();\n        spn = (Spinner)build.findViewById(R.id.spinner1_Dialog);\n        et = (EditText) build.findViewById(R.id.editText1_Dialog);\n        b2 = (Button) build.findViewById(R.id.button1_Dialog);\n        tp = (TimePicker)build.findViewById(R.id.timePicker1_Dialog);\n        b3 = (Button)build.findViewById(R.id.button2_Dialog);\n        tp.setIs24HourView(true);\n        tp.setCurrentMinute(00);\n\n        b2.setOnClickListener(new View.OnClickListener() {\n\n            public void onClick(View v) {\n                build.dismiss();\n                hour = tp.getCurrentHour();\n                min = tp.getCurrentMinute();\n                list.add(et.getText().toString());\n                addDB(et.getText().toString(),spn.getLastVisiblePosition(),hour,min);\n                adapter.notifyDataSetChanged();\n                setListAdapter(adapter);\n            }\n        });\n\n        b3.setOnClickListener(new View.OnClickListener() {\n\n            public void onClick(View v) {\n                build.dismiss();\n            }\n        });\n        break;\n\n    case R.id.item2:\n        break;\n\n    case R.id.item3:\n        Intent i = new Intent(\"com.example.ifest.ABOUTUS\");\n        startActivity(i);\n        break;\n\n    case R.id.item4:\n        finish();\n        break;\n    }\n    return true;\n}\n\n}\n</code></pre>\n\n<p>and the database class is :</p>\n\n<pre><code>public class DBHandler extends SQLiteOpenHelper{\n\nprivate static final String DB_NAME = \"event_db\";\nprivate static final int DB_VERSION = 1;\nprivate static final String TABLE_NAME = \"_table\";\nprivate static final String EVENT_NAME = \"_name\";\nprivate static final String EVENT_ID = \"_no\";\nprivate static final String EVENT_TYPE = \"_type\";\nprivate static final String EVENT_HOUR = \"_hour\";\nprivate static final String EVENT_MINUTE = \"_min\";\n\n\npublic DBHandler(Context context) {\n    super(context, DB_NAME, null, DB_VERSION);\n\n}\n\n@Override\npublic void onCreate(SQLiteDatabase db) {\n    db.execSQL(\"CREATE TABLE \" + TABLE_NAME + \" (\" + EVENT_ID + \" INTEGER PRIMARY KEY AUTOINCREMENT, \" \n                + EVENT_NAME + \" TEXT NOT NULL, \" + EVENT_TYPE + \" TEXT NOT NULL, \" + EVENT_HOUR +\"  INTEGER, \" + EVENT_MINUTE + \" INTEGER \" + \");\");\n}\n\n@Override\npublic void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n    db.execSQL(\"DROP TABLE IF EXISTS \" + TABLE_NAME);\n    onCreate(db);        \n}\n</code></pre>\n\n<p>}</p>\n\n<p>is there anything wrong with the SQL exec statement means any space or something?Plz help</p>\n"},{"tags":["c#","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":44,"score":1,"question_id":12678555,"title":"Comparing values in different tables with SQLite","body":"<p>I'm still new to SQLite and more specififcally SQL so please go easy on me.  I have three tables in my SQLite database that look something like this:</p>\n\n<pre><code>TableA\nDateAdded  Data1  Data2\n1/1/2012   a      b\n1/3/2012   c      d\n1/2/2012   e      f\n\nTableB\nDateAdded  Data3  Data4\n1/6/2012   g      h\n1/5/2012   i      j\n1/4/2012   k      l\n\nTableC\nDateAdded  Data5  Data6\n1/8/2012   m      n\n1/9/2012   o      p\n1/7/2012   q      r\n</code></pre>\n\n<p>Each table has a <code>DateAdded</code> column which is a <code>datetime</code> data type.  I want to get the most recent <code>datetime</code> value of all three tables.</p>\n\n<p>Right now I do each table one at a time and compare the results:</p>\n\n<pre><code>private DateTime GetEndTime()\n{\n    DateTime retVal = new DateTime();\n    DateTime sa = new DateTime();\n    DateTime gps = new DateTime();\n\n    SQLiteCommand cmd = mySQL.CreateCMD();\n    SQLiteDataReader dbReader = mySQL.ExecuteQuerySQL(\"SELECT DateAdded FROM DF ORDER BY ROWID DESC LIMIT 1\", cmd);\n    if (dbReader.HasRows)\n    {\n        dbReader.Read();\n        retVal = dbReader.GetDateTime(0);\n    }\n    dbReader.Close();\n\n    dbReader = mySQL.ExecuteQuerySQL(\"SELECT DateAdded FROM SA ORDER BY ROWID DESC LIMIT 1\", cmd);\n    if (dbReader.HasRows)\n    {\n        dbReader.Read();\n        sa = dbReader.GetDateTime(0);\n    }\n    dbReader.Close();\n\n    if (retVal &lt; sa)\n        retVal = sa;\n\n    dbReader = mySQL.ExecuteQuerySQL(\"SELECT DateAdded FROM GPS ORDER BY ROWID DESC LIMIT 1\", cmd);\n    if (dbReader.HasRows)\n    {\n        dbReader.Read();\n        gps = dbReader.GetDateTime(0);\n    }\n    dbReader.Close();\n    mySQL.disposeCMD(cmd);\n\n    if (retVal &lt; gps)\n        retVal = gps;\n\n    return retVal;\n}\n</code></pre>\n\n<p>I <em>know</em> there must be a better way.  Any suggestions?</p>\n"},{"tags":["android","mysql","sqlite","synchronization"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":83,"score":0,"question_id":12678703,"title":"Sync MySQL database with Android SQLite","body":"<p>I am building an android app in which I need one of the tables in MySQL database in an external server to be synched with SQLite so that i can recreate that table in SQLite. I couldn't find a good tutorial about this. Can you suggest some ? Or a better advice on how to implement this?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","android","sqlite","csv"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":66,"score":0,"question_id":12220131,"title":"Extracting data from sqlback formatted file for conversion to CSV","body":"<p>I have an sqback file respresenting an sqlite db file. I want to extract the data from this sqback file, ie, table names and contents, and convert it into csv file format. I want to do this using Java.</p>\n\n<p>** The sqback file will have already been uploaded from android device to pc prior to processing. So I need a solution that is appropriate for taking place server side.</p>\n\n<p>Does anyone have any leads on how to perform such a task?</p>\n"},{"tags":["sql","sqlite"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":51,"score":2,"question_id":12677133,"title":"SQL: Modify query result rows that have a unique value","body":"<p>I have a <strong>sqlite</strong> query that returns something like the following with columns [letter, number]: </p>\n\n<pre><code>(\"a\", 1) \n(\"a\", 2)\n(\"b\", 3)\n(\"c\", 3)\n</code></pre>\n\n<p>I want to retrieve the number column as 0 if the letter is distinct.  How is it done?</p>\n\n<p>Expected output:</p>\n\n<pre><code>(\"a\", 1) \n(\"a\", 2)\n(\"b\", 0)\n(\"c\", 0)\n</code></pre>\n"},{"tags":["java","android","sqlite","latitude-longitude"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":85,"score":0,"question_id":12672740,"title":"Ordering with SQLITE by nearest latitude & longitude coordinates","body":"<p>I must obtain a SQLite SQL Sentence for ordering by nearest latitude and longitude coordinates, given a initial location.</p>\n\n<p>THis is a example sentence for my table in the sqlite database:</p>\n\n<pre><code>SELECT id, name, lat, lng FROM items\n\nEXAMPLE RESULT: 1, Museu, 41375310.0, 2175970.0\n</code></pre>\n\n<p>I must achieve this with SQLite, and with that table. I can't use another techniques because this is for a existen SQlite database that i can't change.</p>\n\n<p>Exists a way to achieve this with Android and SQlite? I checked a lot of stackoverflow posts and i didn't find the way to achieve that</p>\n\n<p>Thanks</p>\n"},{"tags":["android","database","sqlite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":125,"score":0,"question_id":12677109,"title":"android login activity with sqlite database","body":"<pre><code>    package com.example.databaseex;\n\n\n    import android.R.string;\n    import android.content.ContentValues;\n    import android.content.Context;\n    import android.database.SQLException;\n    import android.database.sqlite.SQLiteDatabase;\n    import android.database.sqlite.SQLiteDatabase.CursorFactory;\n    import android.database.sqlite.SQLiteOpenHelper;\n\n    public class Db {\n        public static class DbHelper extends SQLiteOpenHelper{\n            public static final String KEY_ID=\"_id\";\n            public static final String KEY_Dept = \"Dept_Name\";\n            public static final String KEY_Password=\"Password\"; \n             static final String DATABASE_NAME  = \"login\";\n             static final int DATABASE_VERSION  = 1;\n            static final String DATABASE_TABLE = \"loginTable\";\n             static String str = \"\";\n             SQLiteDatabase ourDataBase;\n             Context ourContext;\n             DbHelper ourHelper;\n\n            public DbHelper(Context context) {\n                super(context, DATABASE_NAME, null, DATABASE_VERSION);\n                // TODO Auto-generated constructor stub\n            }\n\n            @Override\n            public void onCreate(SQLiteDatabase db) {\n                // TODO Auto-generated method stub\n                db.execSQL(\"CREATE TABLE\" + DATABASE_TABLE + \"( \" + \n                KEY_ID + \" INTEGER  PRIMARY KEY AUTOINCREMENT\" + \n                KEY_Dept + \"TEXT NOT NULL\" +\n                KEY_Password + \"TEXT NOT NULL);\"\n\n                );\n                str = \"INSERT INTO DATABASE_TABLE VALUES (1,STORE,STORE)\";\n                db.execSQL(str);\n\n\n\n            }\n\n            @Override\n            public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n                // TODO Auto-generated method stub\n                db.execSQL(\"DROP TABLE IF EXISTS\" + DATABASE_TABLE);\n                onCreate(db);\n\n            }\n            public void Db(Context c){\n                 ourContext = c;\n\n            }\n            public DbHelper open() throws SQLException{\n                ourHelper = new DbHelper(ourContext);\n                ourDataBase = ourHelper.getWritableDatabase();\n                return this;\n\n                } \n            public void close()\n            {\n                 ourHelper.close();\n            }\n            public void createEntry(){\n                ContentValues cv= new ContentValues();\n            }\n\n\n\n\n\n        }\n\n\n    }\n\n\n\n\n\n    package com.example.databaseex;\n\n    import com.example.databaseex.Db.DbHelper;\n\n    import android.os.Bundle;\n    import android.app.Activity;\n    import android.view.Menu;\n    import android.view.MenuItem;\n    import android.view.View;\n    import android.view.View.OnClickListener;\n    import android.widget.Button;\n    import android.widget.EditText;\n    import android.support.v4.app.NavUtils;\n\n    public class MainActivity extends Activity implements OnClickListener {\n        Button login;\n        EditText deptname,password;\n\n        @Override\n        public void onCreate(Bundle savedInstanceState) {\n            super.onCreate(savedInstanceState);\n            setContentView(R.layout.activity_main);\n            deptname=(EditText)findViewById(R.id.editText1);\n            password=(EditText)findViewById(R.id.editText2);\n            login = (Button)findViewById(R.id.Button1);\n            login.setOnClickListener(this);\n        }\n\n        public void onClick(View arg0){\n\n            if(verifyLogin()){\n                //change activity to the home page\n            }\n            else{\n                //display a toast message\n            }\n\n\n        }\n\n        private boolean verifyLogin() {\n\n            // TODO Auto-generated method stub\n\n\n\n        }\n\n        @Override\n        public boolean onCreateOptionsMenu(Menu menu) {\n            getMenuInflater().inflate(R.menu.activity_main, menu);\n            return true;\n        }\n\n\n    }\n\n\n&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"fill_parent\"\n    android:layout_height=\"fill_parent\"\n\n    android:orientation=\"vertical\" &gt;\n&lt;TextView\n        android:id=\"@+id/textView1\"\n        android:layout_width=\"fill_parent\"\n        android:layout_height=\"wrap_content\"\n         android:text=\"Dept.Name\"\n\n        android:textSize=\"25dp\" /&gt;\n  &lt;EditText\n        android:id=\"@+id/editText1\"\n        android:layout_width=\"fill_parent\"\n        android:layout_height=\"wrap_content\"\n         /&gt;\n &lt;TextView\n        android:layout_width=\"fill_parent\"\n        android:layout_height=\"wrap_content\"\n         android:text=\"Password:\"\n\n        android:textSize=\"25dp\" /&gt;\n &lt;EditText\n        android:id=\"@+id/editText2\"\n        android:layout_width=\"fill_parent\"\n        android:layout_height=\"wrap_content\"\n         /&gt;\n\n\n\n     &lt;Button\n        android:id=\"@+id/Button1\"\n        android:layout_width=\"fill_parent\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"LOGIN\" \n        android:textSize=\"20dp\"/&gt;\n\n\n     &lt;Button\n        android:id=\"@+id/back_red\"\n        android:layout_width=\"fill_parent\"\n        android:layout_height=\"wrap_content\"\n           android:text=\"BACK\"\n           android:textSize=\"20dp\" /&gt;\n\n\n\n\n\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>I need to  fill up the verifylogin() method in such a way that it checks whether there is any row with the required content ie with KEY_Dept = \"STORE\" and KEY_Password = \"Store\" int he table of the database created.I have enterd a dummy row just to check the proper working of the program.If yes then it returns a true and i will redirect to a different activity or else toast message will be displayed.\nThe basic idea is to create a simple login activity implementing sqlite database facilities.\nI have enclosed the xml too.\nHelp with the required code snippets.\nAny further recommendations regarding the design of the program is thoroughly appreciated!!</p>\n"},{"tags":["android","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":70,"score":1,"question_id":12675522,"title":"Android Notepad tutorial: Still \"State of the art\"?","body":"<p>I am going to make my first app for android (no fear it's just a school project and won't be another useless app in the market :>).</p>\n\n<p>So, before starting this task I did some tutorials, one of these (and which I thought would be very useful, because of the sqlite part) was the <a href=\"http://developer.android.com/training/notepad\" rel=\"nofollow\">Notepad Tutorial</a>. While working through it I saw it was originally designed for Android 1.8 or something (certainly it still worked on my android 4.1).</p>\n\n<p>What I'm really wondering now is: \nIs this code still \"state of the art\" in android programming (especially sqlite, but also the rest :) or is it \"deprecated\"? If so, can you point me to something newer and better?</p>\n\n<p>Thank you.</p>\n"},{"tags":["c#","sqlite","connection-string","system.data.sqlite"],"answer_count":3,"favorite_count":2,"up_vote_count":7,"down_vote_count":0,"view_count":5471,"score":7,"question_id":314853,"title":"With System.Data.SQLite how do you specify a database file in the connect string using a relative path","body":"<p>Wanting to deploy my project on different servers I would prefer to be able to specify a connect string using a relative path. I can't seem to get that to work and want to know if there is some trick to it...?</p>\n"},{"tags":["sql","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":61,"score":2,"question_id":12674658,"title":"How to concatenate 2 same-table queries results keeping a unique key in SQLite?","body":"<p>Considering the following table:</p>\n\n<pre><code>CREATE TABLE `foo`(\n  `aaa` VARCHAR(45) NOT NULL,\n  `bbb` VARCHAR(45) NOT NULL,\n  `ccc` INT NOT NULL,\n  `ddd` INT NOT NULL,\n  PRIMARY KEY(`aaa`, `bbb`, `ccc`)\n);\n</code></pre>\n\n<p>the following data:</p>\n\n<pre><code>INSERT INTO `foo` (`aaa`, `bbb`, `ccc`, `ddd`)\nVALUES\n('qwe', 'rty', 0, 123),\n('asd', 'fgh', 0, 456),\n('asd', 'fgh', 1, 678);\n</code></pre>\n\n<p>the following result is to be gotten:</p>\n\n<pre><code>'qwe', 'rty', 0, 123\n'asd', 'fgh', 1, 678\n</code></pre>\n\n<p>The objective is to get</p>\n\n<ul>\n<li>Only one record for each (<code>aaa</code>, <code>bbb</code>) keypair</li>\n<li>Favour records with <code>ccc</code> = 1 if there are more than 1 record for a (<code>aaa</code>, <code>bbb</code>) keypair in the table</li>\n</ul>\n\n<p>So I think I need to concatenate result sets of 2 queries:</p>\n\n<pre><code>SELECT * FROM `foo` WHERE `ccc` = 1\n</code></pre>\n\n<p>and</p>\n\n<pre><code>SELECT * FROM `foo` WHERE `ccc` = 0\n</code></pre>\n\n<p>discarding a second query result row when there is already a same (<code>aaa</code>, <code>bbb</code>) keypair row in the first query result.</p>\n\n<p>How to code it in SQLite?</p>\n"},{"tags":["sqlite","delete","limit"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1714,"score":1,"question_id":1824490,"title":"How do you enable LIMIT for DELETE in SQLite?","body":"<p>Using PHP, I have a simple database that may store multiple items with the same content. I want to delete the first occurrence of an instance when I use DELETE.</p>\n\n<p>How do you enable LIMIT for DELETE in SQLite using PHP?</p>\n"},{"tags":["c#","visual-studio","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":166,"score":1,"question_id":9875758,"title":"Prepare code to programmatically create SQLite database - exporting template","body":"<p>In Microsoft Visual Express is there a way to export the SQLite database I've created through the Express interface into a code format so I can have it generated on first install by my customers? </p>\n\n<p>I'd like to take the easiest way to do this without having to manually prepare all the code structure. </p>\n\n<p>I was unable to find any sort of export feature. Any advice?</p>\n\n<p>This <a href=\"http://stackoverflow.com/questions/6196274/create-sqlce-database-programatically\">resource</a> will help me execute the code once I have it prepared, but I've 12 tables and some of them should come pre-populated, so being able to have the batch code will help.</p>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":64,"score":1,"question_id":12657286,"title":"android sqlite: getting wrong values","body":"<p>Currently I got a lot of troubles in android with sqlite databases. This time, it's really weird.</p>\n\n<p>Everytime I enter a certain Activity, I want to display the latest three entries, like \"team 1 vs. team 2 goals - goals\". Bizarrely, the database is returning wrong values. Let's start with the current database content:</p>\n\n<p><img src=\"http://i.stack.imgur.com/TJtwD.png\" alt=\"enter image description here\"></p>\n\n<p>important for my question here are columns \"id\", \"goals1\" and \"goals2\". Now as you see, the latest three games are \"4: dfsadf vs. asf 3-2\", \"3: df vs. as 3-2\" and \"2: dfa vs. dfas 2-0\". In my Activity, following is displaid:</p>\n\n<p><img src=\"http://i.stack.imgur.com/tw34O.png\" alt=\"enter image description here\"></p>\n\n<p>As you see, the goals of the away team goals are wrong (and it seems the entry's ID is set as away goals).\nI set the text of these three buttons like this:</p>\n\n<pre><code>entries = datasource.getLatestFootballEntry(challengeName);\nbutton = (Button) findViewById(R.id.bt_overview_latest1);\n            entry = entries.elementAt(0);\n            buttonText = entry.date + \": \" + entry.team1 + \" vs. \" + entry.team2 + \" \" + entry.goals1 + \"-\" + entry.goals2;\n            button.setText(buttonText);\n            button.setClickable(true);\n\n            button = (Button) findViewById(R.id.bt_overview_latest2);\n            entry = entries.elementAt(1);\n            buttonText = entry.date + \": \" + entry.team1 + \" vs. \" + entry.team2 + \" \" + entry.goals1 + \"-\" + entry.goals2;\n            button.setText(buttonText);\n            button.setClickable(true);\n\n            button = (Button) findViewById(R.id.bt_overview_latest3);\n            entry = entries.elementAt(2);\n            buttonText = entry.date + \": \" + entry.team1 + \" vs. \" + entry.team2 + \" \" + entry.goals1 + \"-\" + entry.goals2;\n            button.setText(buttonText);\n            button.setClickable(true);\n</code></pre>\n\n<p>Here I get the specific entries:</p>\n\n<pre><code>public Vector&lt;FootballEntry&gt; getLatestFootballEntry(String challengeName){\n        Vector&lt;FootballEntry&gt; entries = new Vector&lt;FootballEntry&gt;();\n        Cursor cursor = database.query(CustomSQLiteHelper.TABLE_FOOTBALL, allColumns2, null, null, null, null, null);\n        cursor.moveToLast();\n        int i=0;\n        while(i&lt;3 &amp;&amp; !cursor.isBeforeFirst()){\n            if(checkIfCorrectChallengeName(cursor, challengeName)){\n                entries.add(cursorToFootballEntry(cursor));\n                i++;\n            }\n            cursor.moveToPrevious();\n        }\n        return entries;\n    }\n</code></pre>\n\n<p>Now the strange part comes. When I do following changes in the method where I set the text on buttons, everything is fine.</p>\n\n<pre><code>button = (Button) findViewById(R.id.bt_overview_latest1);\n            datasource.open();\n            entry = datasource.getSpecificFootballEntry(entries.elementAt(0).id);\n            datasource.close();\n            buttonText = entry.date + \": \" + entry.team1 + \" vs. \" + entry.team2 + \" \" + entry.goals1 + \"-\" + entry.goals2;\n            button.setText(buttonText);\n            button.setClickable(true);\n</code></pre>\n\n<p>now displaid</p>\n\n<p><img src=\"http://i.stack.imgur.com/UFaEN.png\" alt=\"enter image description here\"></p>\n\n<p>This is my cursorToFootballEntry method</p>\n\n<pre><code>private FootballEntry cursorToFootballEntry(Cursor cursor){\n    FootballEntry entry = new FootballEntry();\n    entry.id = cursor.getLong(0);\n    entry.challengeName = cursor.getString(1);\n    entry.date = cursor.getString(2);\n    entry.home = cursor.getInt(3);\n    entry.platform = cursor.getString(4);\n    entry.team1 = cursor.getString(5);\n    entry.stars1 = cursor.getDouble(6);\n    entry.team2 = cursor.getString(7);\n    entry.stars2 = cursor.getDouble(8);\n    entry.goals1 = cursor.getInt(9);\n    Log.i(\"dfasdf\", \"IN CURSOR TO FOOENRTY  \" + cursor.getInt(9) + \"-\" + cursor.getInt(10) + \"   id: \" + cursor.getLong(0));\n    entry.goals2 = cursor.getInt(10);\n    entry.finished = cursor.getInt(11);\n    return entry;\n}\n</code></pre>\n\n<p>As you see, I print some infos into the log (namely the two values of the team's goals). The Output is</p>\n\n<pre><code>09-29 22:50:18.191: I/dfasdf(7039): IN CURSOR TO FOOENRTY  3-4   id: 4\n09-29 22:50:18.191: I/dfasdf(7039): IN CURSOR TO FOOENRTY  3-3   id: 3\n09-29 22:50:18.201: I/dfasdf(7039): IN CURSOR TO FOOENRTY  2-2   id: 2\n09-29 22:50:18.241: I/dfasdf(7039): IN CURSOR TO FOOENRTY  3-2   id: 4\n</code></pre>\n\n<p>So basically, the entry with ID 4 is read out two times, but there are two different away goal values. What can cause this? I mean, it's no difference whether I get 3 games at once or three times a single game, as long they are the same games, what obviously must be (seeing the id's). Getting a single game returns always the right values. The same thing happens, if I get all games (needed in a different Activity). In the database creation declaration, there is only one value set to \"autoincrement\", and thast the _id, nothing else. </p>\n\n<p>Now to \"prove\" this, I entered a new entry, score 1-0: following is displaid (with the second variant of setting the text, means the first will be correct)</p>\n\n<p><img src=\"http://i.stack.imgur.com/93KcP.png\" alt=\"enter image description here\"></p>\n\n<p>Log</p>\n\n<pre><code>09-29 23:02:13.281: I/dfasdf(7039): IN CURSOR TO FOOENRTY  1-5   id: 5\n09-29 23:02:13.291: I/dfasdf(7039): IN CURSOR TO FOOENRTY  3-4   id: 4\n09-29 23:02:13.291: I/dfasdf(7039): IN CURSOR TO FOOENRTY  3-3   id: 3\n09-29 23:02:13.311: I/dfasdf(7039): IN CURSOR TO FOOENRTY  1-0   id: 5\n</code></pre>\n\n<p><strong>EDIT</strong>: of course a solution would be to get only the ID's of the latest games, and the get them seperately, but the motivation of my question is more to understand why this can happen.</p>\n"},{"tags":["android","sqlite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":95,"score":0,"question_id":12670273,"title":"How to get data from sqlite and show into android gridview","body":"<p>I'm an android self-learner. For the first time I want to work with SQLite in android .\nI want to get some data from my table and show them on a gridview on an activity.\nActually I'm cool with inserting and retrieving data from database but for showing theme on the gridview, I don't know what should to do.\nCan anyone give me a direct tutorial or tutorial link here?\nTanks for your attention.</p>\n"},{"tags":["android","sql","database","sqlite"],"answer_count":4,"favorite_count":0,"up_vote_count":8,"down_vote_count":0,"view_count":139,"score":8,"question_id":12666822,"title":"What is difference between SQLite and SQL","body":"<p>I know SQLite Data Base is  used in  mobile devices (Andrdoid , Iphone ) and it is light takes only kb space. Is there any limitation in SQLite. I want to know how they are different.</p>\n"},{"tags":["windows","r","sqlite","networking"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":12539196,"title":"R SQLite Access Fails Because of Netdrive - Solutions / Workarounds?","body":"<p>I am using the RQDA package which saves files as SQLite databases. To access these files with the package works as long as I do not put them on a netdrive which I need to do because people should be able to work from different computers. </p>\n\n<p>Does anyone (experienced such problems) knows a solution to this?</p>\n"},{"tags":["sql","database","sqlite","database-design"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":135,"score":-3,"question_id":10018078,"title":"How to create a train schedule in SQLite3?","body":"<p>I have a class project. I have to make a database with tables that shows the time tables of a train.</p>\n\n<p>The minimum requirements is</p>\n\n<p>There is a Train going South and another going North.\nThere are 10 stops for both trains. No 2 trains are at any stop at the same time.\nNorth bound and south bound trains are never at the same stop at the same time.</p>\n\n<p>Each stop is 30 minutes from each other.</p>\n\n<p>Train A is the south bound train\nTrain B is the north bound train</p>\n\n<ol>\n<li>Design a table(s) for the trains</li>\n<li>Create an SQL Query to show what time Train A will arrive at the  final stop if it leaves at 7:10AM from the origination.</li>\n</ol>\n\n<p>The database is SQLite3.</p>\n\n<p>I just need help with designing the tables.</p>\n\n<p>I tried</p>\n\n<pre><code>&gt;ID (Autonumber) INT\n&gt;StopName Text\n&gt;ArrivalStopTime Date/Time\n&gt;DepartureStopTime Date/Time\n</code></pre>\n"},{"tags":["android","sqlite","database-design","inheritance","schema"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":138,"score":1,"question_id":11065374,"title":"How to achieve an \"Inheritance\" relationship in SQLite database on Android","body":"<p>Consider this simple model:</p>\n\n<p>A base Location table:</p>\n\n<pre><code>+-------------------------------+\n|           Locations           |\n+-------------------------------+\n|(PK) _id Integer Autoincrement |\n|     name Text(100) Not null   |\n|     is_in_range Integer       |\n+-------------------------------+\n</code></pre>\n\n<p>And more specialized table called WifiLocation:</p>\n\n<pre><code>+-------------------------------+\n|         wifi_location         |\n+-------------------------------+\n|     ssid Text(0) Not null     |\n|     signal_threshold Real     |\n|(PK) _id Integer               |\n+-------------------------------+\n</code></pre>\n\n<p>I want that this model will represents a <code>WifiLocation</code> inheriting from <code>BaseLocation</code>.\nSo I added a <code>REFERENCES</code> clause on the <code>_id</code> column of the <code>wifi_locations</code> table like that:</p>\n\n<pre><code>CREATE TABLE wifi_locations (_id Integer primary key references Locations(_id), ....)\n</code></pre>\n\n<p>I'm trying to achieve a 1:1 relationship between those tables.</p>\n\n<p>When I want to insert a row to the <code>wifi_locations</code> table, I first insert the appropriate values (Name, IsInRange) to the <code>Locations</code> table, and get back the <code>rowId</code>.\nThen I insert the rest of the data (ssid) to the <code>wifi_locations</code> table along with the rowId as the foreign key.</p>\n\n<p>So the insertion to the Location table is working, and I'm getting back an Id, but when I try to use this Id and insert it to the wifi_locations table, I'm getting an SQL <code>Constraint violation</code> error. There are no more details about what exactly went wrong.</p>\n\n<p>Is there anything wrong with my schema? Is there a better way to achieve such modeling?</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>The exact error:</p>\n\n<pre><code>06-16 15:56:42.846: E/Database(2038):\nandroid.database.sqlite.SQLiteConstraintException: \nerror code 19: constraint failed\n</code></pre>\n"},{"tags":["sql","sqlite"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":12668215,"title":"Best way to limit the number of records in table in sql","body":"<p>I have a <code>users</code> table. The number of users should be limited to 100. That is, once the number of users reaches 100, I cannot add any user anymore.</p>\n\n<p>The first thing I have in mind is to query first for the number of rows returned by the <code>select * from users</code>. If the number of rows returned is &lt; 100, I can still add more users. Else, I can't anymore.</p>\n\n<p>That would take 2 queries to meet my needs. Any idea how to have it in only 1 query? I have come across into using the <code>trigger</code> statement but I would like to know if it is a good idea. Please add code snippet as an example.</p>\n"},{"tags":["sqlite","phonegap"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":69,"score":0,"question_id":12667258,"title":"How to Create Web sql database offline","body":"<p>i am Creating a project in phonegap and i want to use sql database i already create my database in sql lite<br>\ni want to know how to convert sql lite to websql and is there any application to create web sql \n(How to use web sql and where it is located in phonegap or chrome )</p>\n"},{"tags":["ios","sqlite","uitableview","reordering"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":12668098,"title":"reorder database when reorder UitableView cell","body":"<p>i am using reordering in UITableView in iOS. i want that my database should also reorder when i reorder in UITableView cell. I am not able to find anything helpful tutorials till now. How can i make changes in database with change in order in UITableview. please help.</p>\n"},{"tags":["android","database","sqlite"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":73,"score":1,"question_id":12667513,"title":"Unable to export sqlite DB to sdcard","body":"<p>I have been trying to export my database file into the external memory of my android phone by using </p>\n\n<pre><code>private final String DB_NAME = \"MemberData\";\nprivate final String TABLE_NAME = \"MemberDB\";\n\n //Get a reference to the database\n    File dbFile = this.getDatabasePath(DB_NAME);\n    //Get a reference to the directory location for the backup\n    File exportDir = new File(Environment.getExternalStorageDirectory(), \"myAppBackups\");\n    if (!exportDir.exists()) {\n      exportDir.mkdirs();\n    }\n    File backup = new File(exportDir, dbFile.getName());\n    //Check the required operation String command = params[0];\n\n    //Attempt file copy\n    try {\n      backup.createNewFile();\n      fileCopy(dbFile, backup);\n    } catch (IOException e) {\n      /*Handle File Error*/ \n    }\n\nprivate void fileCopy(File source, File dest) throws IOException {\n      FileChannel inChannel = new FileInputStream(source).getChannel();\n      FileChannel outChannel = new FileOutputStream(dest).getChannel();\n      try {\n        inChannel.transferTo(0, inChannel.size(), outChannel);\n      } finally {\n        if (inChannel != null) inChannel.close();\n        if (outChannel != null) outChannel.close();\n      }\n    }\n</code></pre>\n\n<p>It managed to create a directory name \"myappsbackup\" but my database couldnt be copied over. it is always size 0 and my tables are missing. Is there something wrong with my method of copying?</p>\n"},{"tags":["sqlite","application","microsoft-metro"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":170,"score":1,"question_id":12377696,"title":"SQlite with Windows 8 Metro apps","body":"<p>I am trying to use an already created database(sqlite file) in Metro app. \nI am using C# and Sqlite-net. I have SQlite for WinRT.</p>\n\n<p>Tried Tim Heuer approach which did not compile.\nThe await operator can only be used within an async method. Consider marking this method with 'async' modifier and changing its return type to 'Task'.\nsame for second time I am using await again. </p>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":7648660,"title":"can i write to sql database while android mobile getting switched off","body":"<p>I need to store some data while the device is shutting down, so that i could use those values\nafter reboot.</p>\n\n<p>Can i use <code>android.intent.action.ACTION_SHUTDOWN</code>-intent to fullfill my requirement?</p>\n"},{"tags":["objective-c","ios","sqlite","core-data"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":367,"score":0,"question_id":9789697,"title":"Why does iOS delay when saving Core Data via a UIManagedDocument?","body":"<p>I'm using Core Data to persist some information in a SQLite database. I'm testing with the simulator, and using <code>sqlite3</code> to query the database and verify that I'm storing what I expect.</p>\n\n<p>What I'm seeing is that the data doesn't appear in the SQLite database until a good 15-20 seconds after I've saved it.</p>\n\n<p>Here's the code that I've cut my save down to:</p>\n\n<pre><code>NSEntityDescription *customerType = [NSEntityDescription entityForName:@\"CustomerType\" inManagedObjectContext:context];\nCustomerType *ct = [[CustomerType alloc]initWithEntity:customerType insertIntoManagedObjectContext:context ];\nct.code = code;\n\nNSError* error = nil;\nif (![context save:&amp;error] || error)\n    NSLog(@\"Saved new customer (error=%@)\", [error debugDescription]);\n</code></pre>\n\n<p>The save operation completes without error.</p>\n\n<p>Any hints as to why I'm seeing this delay? Is my save operation not running properly, or is the delay in persisting the data an artifact of the simulator?</p>\n"},{"tags":["sqlite","activerecord","sinatra"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":63,"score":0,"question_id":12487476,"title":"Sinatra-activerecord Table Not Found Error","body":"<p>I have a simple sinatra-activerecord app. Inside the file ./config/environments.rb I have the following configurations:</p>\n\n<pre><code>configure :development, :test do\n  set :database, 'sqlite://database.db'\nend\n\n# These Heroku setup instructions can be at: https://devcenter.heroku.com/articles/rack\nconfigure :production do\n  # Database connection\n  db = URI.parse(ENV['DATABASE_URL'] || 'postgres://localhost/mydb')\n\n  ActiveRecord::Base.establish_connection(\n    :adapter  =&gt; db.scheme == 'postgres' ? 'postgresql' : db.scheme,\n    :host     =&gt; db.host,\n    :username =&gt; db.user,\n    :password =&gt; db.password,\n    :database =&gt; db.path[1..-1],\n    :encoding =&gt; 'utf8'\n  )\nend\n</code></pre>\n\n<p>When I push to Heroku, the DB setup works just fine. However, locally, it doesn't. For example, if I do </p>\n\n<pre><code>$ rake db:migrate\n</code></pre>\n\n<p>I get the following fine output:</p>\n\n<pre><code>==  CreateHotels: migrating ===================================================\n-- create_table(:hotels)\n   -&gt; 0.0015s\n-- add_index(:hotels, :hotel_name)\n   -&gt; 0.0004s\n==  CreateHotels: migrated (0.0021s) ==========================================\n</code></pre>\n\n<p>Now, if I start the server and use curl to make a call:</p>\n\n<pre><code>$ shotgun app.rb\n$ curl -d \"hotel_name=Sheraton\" http://127.0.0.1:9393/hotels/\n</code></pre>\n\n<p>I get the following error:</p>\n\n<pre><code>ActiveRecord::StatementInvalid - Could not find table 'hotels':\n    /Users/Sy/.rvm/gems/ruby-1.9.3-p125/gems/activerecord-3.2.8/lib/active_record/connection_adapters/sqlite_adapter.rb:472:in `table_structure'\n    /Users/Sy/.rvm/gems/ruby-1.9.3-p125/gems/activerecord-3.2.8/lib/active_record/connection_adapters/sqlite_adapter.rb:346:in `columns'\n    /Users/Sy/.rvm/gems/ruby-1.9.3-p125/gems/activerecord-3.2.8/lib/active_record/connection_adapters/schema_cache.rb:12:in `block in initialize'\n    /Users/Sy/.rvm/gems/ruby-1.9.3-p125/gems/activerecord-3.2.8/lib/active_record/model_schema.rb:228:in `yield'\n    /Users/Sy/.rvm/gems/ruby-1.9.3-p125/gems/activerecord-3.2.8/lib/active_record/model_schema.rb:228:in `default'\n    /Users/Sy/.rvm/gems/ruby-1.9.3-p125/gems/activerecord-3.2.8/lib/active_record/model_schema.rb:228:in `columns'\n    /Users/Sy/.rvm/gems/ruby-1.9.3-p125/gems/activerecord-3.2.8/lib/active_record/model_schema.rb:243:in `column_defaults'\n    /Users/Sy/.rvm/gems/ruby-1.9.3-p125/gems/activerecord-3.2.8/lib/active_record/base.rb:482:in `initialize'\n    /Users/Sy/Developer/Sinatra/stay-checkin-api/routes/hotels_routes.rb:8:in `new'\n    /Users/Sy/Developer/Sinatra/stay-checkin-api/routes/hotels_routes.rb:8:in `block in &lt;top (required)&gt;'\n    /Users/Sy/.rvm/gems/ruby-1.9.3-p125/gems/sinatra-1.3.3/lib/sinatra/base.rb:1265:in `call'\n    /Users/Sy/.rvm/gems/ruby-1.9.3-p125/gems/sinatra-1.3.3/lib/sinatra/base.rb:1265:in `block in compile!'\n    /Users/Sy/.rvm/gems/ruby-1.9.3-p125/gems/sinatra-1.3.3/lib/sinatra/base.rb:835:in `[]'\n    /Users/Sy/.rvm/gems/ruby-1.9.3-p125/gems/sinatra-1.3.3/lib/sinatra/base.rb:835:in `block (3 levels) in route!'\n    /Users/Sy/.rvm/gems/ruby-1.9.3-p125/gems/sinatra-1.3.3/lib/sinatra/base.rb:851:in `route_eval'\n    /Users/Sy/.rvm/gems/ruby-1.9.3-p125/gems/sinatra-1.3.3/lib/sinatra/base.rb:835:in `block (2 levels) in route!'\n    /Users/Sy/.rvm/gems/ruby-1.9.3-p125/gems/sinatra-1.3.3/lib/sinatra/base.rb:872:in `block in process_route'\n    /Users/Sy/.rvm/gems/ruby-1.9.3-p125/gems/sinatra-1.3.3/lib/sinatra/base.rb:870:in `catch'\n    /Users/Sy/.rvm/gems/ruby-1.9.3-p125/gems/sinatra-1.3.3/lib/sinatra/base.rb:870:in `process_route'\n    /Users/Sy/.rvm/gems/ruby-1.9.3-p125/gems/sinatra-1.3.3/lib/sinatra/base.rb:834:in `block in route!'\n    /Users/Sy/.rvm/gems/ruby-1.9.3-p125/gems/sinatra-1.3.3/lib/sinatra/base.rb:833:in `each'\n    /Users/Sy/.rvm/gems/ruby-1.9.3-p125/gems/sinatra-1.3.3/lib/sinatra/base.rb:833:in `route!'\n    /Users/Sy/.rvm/gems/ruby-1.9.3-p125/gems/sinatra-1.3.3/lib/sinatra/base.rb:936:in `dispatch!'\n    /Users/Sy/.rvm/gems/ruby-1.9.3-p125/gems/sinatra-1.3.3/lib/sinatra/base.rb:769:in `block in call!'\n    /Users/Sy/.rvm/gems/ruby-1.9.3-p125/gems/sinatra-1.3.3/lib/sinatra/base.rb:921:in `block in invoke'\n    /Users/Sy/.rvm/gems/ruby-1.9.3-p125/gems/sinatra-1.3.3/lib/sinatra/base.rb:921:in `catch'\n    /Users/Sy/.rvm/gems/ruby-1.9.3-p125/gems/sinatra-1.3.3/lib/sinatra/base.rb:921:in `invoke'\n    /Users/Sy/.rvm/gems/ruby-1.9.3-p125/gems/sinatra-1.3.3/lib/sinatra/base.rb:769:in `call!'\n    /Users/Sy/.rvm/gems/ruby-1.9.3-p125/gems/sinatra-1.3.3/lib/sinatra/base.rb:755:in `call'\n    /Users/Sy/.rvm/gems/ruby-1.9.3-p125/gems/rack-protection-1.2.0/lib/rack/protection/xss_header.rb:22:in `call'\n    /Users/Sy/.rvm/gems/ruby-1.9.3-p125/gems/rack-protection-1.2.0/lib/rack/protection/path_traversal.rb:16:in `call'\n    /Users/Sy/.rvm/gems/ruby-1.9.3-p125/gems/rack-protection-1.2.0/lib/rack/protection/json_csrf.rb:17:in `call'\n    /Users/Sy/.rvm/gems/ruby-1.9.3-p125/gems/rack-protection-1.2.0/lib/rack/protection/base.rb:47:in `call'\n    /Users/Sy/.rvm/gems/ruby-1.9.3-p125/gems/rack-protection-1.2.0/lib/rack/protection/xss_header.rb:22:in `call'\n    /Users/Sy/.rvm/gems/ruby-1.9.3-p125/gems/rack-1.4.1/lib/rack/nulllogger.rb:9:in `call'\n    /Users/Sy/.rvm/gems/ruby-1.9.3-p125/gems/rack-1.4.1/lib/rack/head.rb:9:in `call'\n    /Users/Sy/.rvm/gems/ruby-1.9.3-p125/gems/rack-1.4.1/lib/rack/methodoverride.rb:21:in `call'\n    /Users/Sy/.rvm/gems/ruby-1.9.3-p125/gems/sinatra-1.3.3/lib/sinatra/showexceptions.rb:21:in `call'\n    /Users/Sy/.rvm/gems/ruby-1.9.3-p125/gems/sinatra-1.3.3/lib/sinatra/base.rb:99:in `call'\n    /Users/Sy/.rvm/gems/ruby-1.9.3-p125/gems/sinatra-1.3.3/lib/sinatra/base.rb:1389:in `block in call'\n    /Users/Sy/.rvm/gems/ruby-1.9.3-p125/gems/sinatra-1.3.3/lib/sinatra/base.rb:1471:in `synchronize'\n    /Users/Sy/.rvm/gems/ruby-1.9.3-p125/gems/sinatra-1.3.3/lib/sinatra/base.rb:1389:in `call'\n    /Users/Sy/.rvm/gems/ruby-1.9.3-p125/gems/rack-1.4.1/lib/rack/lint.rb:48:in `_call'\n    /Users/Sy/.rvm/gems/ruby-1.9.3-p125/gems/rack-1.4.1/lib/rack/lint.rb:36:in `call'\n    /Users/Sy/.rvm/gems/ruby-1.9.3-p125/gems/rack-1.4.1/lib/rack/showexceptions.rb:24:in `call'\n    /Users/Sy/.rvm/gems/ruby-1.9.3-p125/gems/rack-1.4.1/lib/rack/commonlogger.rb:20:in `call'\n    /Users/Sy/.rvm/gems/ruby-1.9.3-p125/gems/sinatra-1.3.3/lib/sinatra/base.rb:136:in `call'\n    /Users/Sy/.rvm/gems/ruby-1.9.3-p125/gems/shotgun-0.9/lib/shotgun/loader.rb:86:in `proceed_as_child'\n    /Users/Sy/.rvm/gems/ruby-1.9.3-p125/gems/shotgun-0.9/lib/shotgun/loader.rb:31:in `call!'\n    /Users/Sy/.rvm/gems/ruby-1.9.3-p125/gems/shotgun-0.9/lib/shotgun/loader.rb:18:in `call'\n    /Users/Sy/.rvm/gems/ruby-1.9.3-p125/gems/shotgun-0.9/lib/shotgun/favicon.rb:12:in `call'\n    /Users/Sy/.rvm/gems/ruby-1.9.3-p125/gems/rack-1.4.1/lib/rack/builder.rb:134:in `call'\n    /Users/Sy/.rvm/gems/ruby-1.9.3-p125/gems/thin-1.4.1/lib/thin/connection.rb:80:in `block in pre_process'\n    /Users/Sy/.rvm/gems/ruby-1.9.3-p125/gems/thin-1.4.1/lib/thin/connection.rb:78:in `catch'\n    /Users/Sy/.rvm/gems/ruby-1.9.3-p125/gems/thin-1.4.1/lib/thin/connection.rb:78:in `pre_process'\n    /Users/Sy/.rvm/gems/ruby-1.9.3-p125/gems/thin-1.4.1/lib/thin/connection.rb:53:in `process'\n    /Users/Sy/.rvm/gems/ruby-1.9.3-p125/gems/thin-1.4.1/lib/thin/connection.rb:38:in `receive_data'\n    /Users/Sy/.rvm/gems/ruby-1.9.3-p125/gems/eventmachine-1.0.0/lib/eventmachine.rb:187:in `run_machine'\n    /Users/Sy/.rvm/gems/ruby-1.9.3-p125/gems/eventmachine-1.0.0/lib/eventmachine.rb:187:in `run'\n    /Users/Sy/.rvm/gems/ruby-1.9.3-p125/gems/thin-1.4.1/lib/thin/backends/base.rb:63:in `start'\n    /Users/Sy/.rvm/gems/ruby-1.9.3-p125/gems/thin-1.4.1/lib/thin/server.rb:159:in `start'\n    /Users/Sy/.rvm/gems/ruby-1.9.3-p125/gems/rack-1.4.1/lib/rack/handler/thin.rb:13:in `run'\n    /Users/Sy/.rvm/gems/ruby-1.9.3-p125/gems/shotgun-0.9/bin/shotgun:156:in `&lt;top (required)&gt;'\n    /Users/Sy/.rvm/gems/ruby-1.9.3-p125/bin/shotgun:19:in `load'\n    /Users/Sy/.rvm/gems/ruby-1.9.3-p125/bin/shotgun:19:in `&lt;main&gt;'\n</code></pre>\n\n<p>Any idea?</p>\n\n<p>ps: here are my app.rb, config.rb, routes, and model file.</p>\n\n<p><strong>app.rb</strong></p>\n\n<pre><code>require 'sinatra'\nrequire 'sinatra/activerecord'\nrequire 'uri'\nrequire './config/environments'\n\n\nrequire_relative 'models/init'\nrequire_relative 'routes/init'\n</code></pre>\n\n<p><strong>config.rb</strong></p>\n\n<pre><code>require './app'\nrun Sinatra::Application\n</code></pre>\n\n<p><strong>model: hotel.rb</strong></p>\n\n<pre><code>class Hotel &lt; ActiveRecord::Base\n  validates :hotel_name, :presence =&gt; true    \nend\n</code></pre>\n\n<p><strong>routes: hotels_routes.rb</strong></p>\n\n<pre><code>get '/hotels' do\n  @hotels = Hotel.all\n  if @hotels\n      content_type :json\n      @hotels.to_json\n  end\nend\n\n\npost '/hotels/' do\n  @hotel = Hotel.new\n  @hotel.hotel_name = params[:hotel_name]\n  if @hotel.save \n    content_type :json\n    @hotel.to_json\n  else\n    content_type :json\n    \"Failed to create new hotel with name #{params[:hotel_name]}\".to_json\n  end\nend\n</code></pre>\n\n<p><strong>Gemfile</strong></p>\n\n<pre><code>source :rubygems\n\ngem 'heroku'\ngem 'sinatra'\ngem 'thin'\ngem 'activerecord'\ngem 'sinatra-activerecord'\ngem 'json'\n\n# Define which database gem to use depending on whether you are in local or production environment\n\ngroup :development, :test do\n  gem 'sqlite3'\nend\n\ngroup :production do\n  gem 'pg' # this gem is required to use postgres on Heroku\nend\n</code></pre>\n\n<p><strong>Rakefile</strong></p>\n\n<pre><code>require './app'\nrequire 'sinatra/activerecord/rake'\n</code></pre>\n"},{"tags":["java","android","sqlite","sql-update","auto-update"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":12666851,"title":"Updating an Android SQLite Database on Field Change","body":"<p>I'm writing an android application and on one of my pages, I have a text field, a spinner, and a date picker that need to be saved/updated in a SQLite database. All three have default values on creation, and the database needs to update any time a field is changed (there's no 'Save' button or anything like that). I've looked into using an onFocusChangeListener() for this, but it seems like the application only changes focus when using text fields, so it wouldn't work with a spinner or datepicker. I've also tried splitting the components into fragments and overwriting the onPause() method with update functionalities thinking that the fragments paused when the user moved on to the next one but I think that it still only checks when the user leaves the screen. Any help/advice would be greatly appreciated. Thanks!</p>\n"},{"tags":["android","database","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":54,"score":1,"question_id":12667055,"title":"Andoid Sample DB not working","body":"<p>I found this sample DB code either on a blog or on SO (don't remember)</p>\n\n<pre><code>package com.learn.db;\n\nimport android.content.ContentValues;\nimport android.content.Context;\nimport android.database.Cursor;\nimport android.database.SQLException;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.database.sqlite.SQLiteOpenHelper;\n\npublic class DBAdapter {\n\n    private static final String DATABASE_NAME = \" nba\";\n    private static final String DATABASE_TABLE = \"bookList\";\n    private static final int DATABASE_VERSION = 1;\n    private static String TAG = \"Upgrading Database!\";\n    public static final String KEY_BOOK = \"book\";\n    public static final String KEY_AUTHOR = \"author\";\n    public static final String KEY_ISBN = \"isbn\";\n    public static final String KEY_ROWID = \"_id\";\n    public static final String KEY_RATING = \"rating\";\n    public static final String KEY_STATUS = \"status\";\n\n    private DatabaseHelper mDbHelper;\n    private SQLiteDatabase mDb;\n\n    private static final String DATABASE_CREATE = \" create table  \"\n            + DATABASE_TABLE + \" (\" + KEY_ROWID\n            + \" integer primary key autoincrement,  \" + KEY_AUTHOR\n            + \" text not null, \" + KEY_BOOK + \" text not null, \" + KEY_RATING\n            + \" text not null, \" + KEY_STATUS + \" text not null, \" + KEY_ISBN\n            + \" text not null); \";\n\n    private final Context mCtx;\n\n    public DBAdapter(Context ctx) {\n        this.mCtx = ctx;\n\n    }\n\n    private static class DatabaseHelper extends SQLiteOpenHelper {\n        DatabaseHelper(Context context) {\n            super(context, DATABASE_NAME, null, DATABASE_VERSION);\n\n        }\n\n        @Override\n        public void onCreate(SQLiteDatabase db) {\n            db.execSQL(DATABASE_CREATE);\n\n        }\n\n        @Override\n        public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n            db.execSQL(\"ALTER TABLE bookList ADD COLUMN String status\");\n\n        }\n    }\n\n    public DBAdapter open() throws SQLException {\n\n        mDbHelper = new DatabaseHelper(mCtx);\n        mDb = mDbHelper.getWritableDatabase();\n        return this;\n    }\n\n    public void close() {\n        mDbHelper.close();\n    }\n\n    public long createBook(String book, String author, String isbn,\n            float rating, String status) {\n        ContentValues initialValues = new ContentValues();\n        initialValues.put(KEY_BOOK, book);\n        initialValues.put(KEY_AUTHOR, author);\n        initialValues.put(KEY_ISBN, isbn);\n        initialValues.put(KEY_RATING, rating);\n        initialValues.put(KEY_STATUS, status);\n\n        return mDb.insert(DATABASE_TABLE, null, initialValues);\n\n    }\n\n    public boolean deleteBook(long rowId) {\n        return mDb.delete(DATABASE_TABLE, KEY_ROWID + \"=\" + rowId, null) &gt; 0;\n\n    }\n\n    public Cursor fetchAllBooks() {\n        return mDb.query(DATABASE_TABLE, new String[] { KEY_BOOK, KEY_ISBN,\n                KEY_AUTHOR, KEY_ROWID, KEY_RATING, KEY_STATUS }, null, null,\n                null, null, null);\n    }\n\n    public Cursor fetchBook(long rowId) throws SQLException {\n        Cursor mCursor = mDb.query(DATABASE_TABLE, new String[] { KEY_BOOK,\n                KEY_AUTHOR, KEY_ROWID, KEY_ISBN, KEY_RATING, KEY_STATUS },\n                KEY_ROWID + \"=\" + rowId, null, null, null, null);\n\n        if (mCursor != null) {\n            mCursor.moveToFirst();\n        }\n        return mCursor;\n\n    }\n\n    public boolean updateBook(long rowId, String book, String author,\n            String isbn, float rating, String status) {\n        ContentValues args = new ContentValues();\n        args.put(KEY_BOOK, book);\n        args.put(KEY_AUTHOR, author);\n        args.put(KEY_ISBN, isbn);\n        args.put(KEY_RATING, rating);\n        args.put(KEY_STATUS, status);\n\n        return mDb.update(DATABASE_TABLE, args, KEY_ROWID + \"=\" + rowId, null) &gt; 0;\n\n    }\n}\n</code></pre>\n\n<p>I'm trying to just add a record in my main activity but I'm getting an error in logcat on the line where I add a new book.</p>\n\n<pre><code>package com.learn.db;\n\nimport java.util.Random;\n\nimport android.app.Activity;\nimport android.content.Intent;\nimport android.database.Cursor;\nimport android.graphics.Color;\nimport android.os.Bundle;\nimport android.os.Handler;\nimport android.view.View;\nimport android.view.View.OnClickListener;\nimport android.widget.ImageView;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\npublic class Start extends Activity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        // TODO Auto-generated method stub\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.start);\n        DBAdapter fish_db = new DBAdapter(getApplicationContext());\n        fish_db.createBook(\"Captain Underpants\", \"Dav Pilkey\", \"12343251321\", 5, \"In stock\");\n        Cursor cursor = fish_db.fetchAllBooks();\n        if (cursor.moveToFirst()){\n               do{\n                  String data = cursor.getString(cursor.getColumnIndex(\"data\"));\n                    Toast.makeText(getApplicationContext(), data, Toast.LENGTH_LONG).show();\n               }while(cursor.moveToNext());\n            }\n            cursor.close();\n}\n}\n</code></pre>\n\n<p>The actual error according to logcat is a null pointer on line <code>return mDb.insert(DATABASE_TABLE, null, initialValues);</code></p>\n\n<p>Any ideas?</p>\n"},{"tags":["android","sqlite","strftime"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":119,"score":0,"question_id":12193593,"title":"using sqlite's strftime function in android","body":"<p>Hello I have inserted some dates in my database.</p>\n\n<p>When I use sqlite3 in the format <code>YYY-MM-DD</code> in another table when I do my query like </p>\n\n<pre><code>SELECT * \nFROM SDay \nWHERE  strftime('%Y-%m-%d', date)&gt;=strftime('%Y-%m-%d','2013-02-21')\n    AND  strftime('%Y-%m-%d', date)&lt;strftime('%Y-%m-%d','2013-09-15')\n</code></pre>\n\n<p>it works just fine.</p>\n\n<p>On the other hand when i use the format <code>YYY-MM</code> in another table\nthen the</p>\n\n<pre><code>SELECT * \nFROM SMonth \nWHERE  strftime('%Y-%m', date)&gt;=strftime('%Y-%m','2013-02') \n    AND  strftime('%Y-%m', date)&lt;strftime('%Y-%m','2013-09')\n</code></pre>\n\n<p>will not work.Why does it happen and how could I fix it?</p>\n\n<p>Thank you.</p>\n"},{"tags":["sqlite","schema","primary-key"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":252,"score":0,"question_id":3568801,"title":"sqlite - programmatically determine primary key(s)","body":"<p>I need to programatically determine what the primary key field(s) are for a given sqlite table (using sqlite api, not command line).</p>\n\n<p>I can get a list of tables and a list of columns, but only see the column type using the Column_Type() function.  Need to know if a given column is the primary key (or part of the primary key if a compound key is used).</p>\n"},{"tags":["sqlite","windows-8","file-access"],"answer_count":3,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":106,"score":0,"question_id":12645440,"title":"How do I access a file in a project folder - Windows 8 store app?","body":"<p>I've got a Windows 8 store app where I've created an \"App_Data\" folder. I added an sqlite database file and now I'm trying to get the file path to create a connection.</p>\n"},{"tags":["android","sqlite","activity"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12663926,"title":"android - save to DB when activity ends and load in another activity","body":"<p>I would like to do this:\nFrom activity A start activity B. In activity B before it ends (when I press home or back button - I use \"protected void onStop()\" method), save data to DB (sqlite).\nAnd now I am back in activity A and I would like to reload data from DB (I use \"protected void onRestart()\" method). But there is my problem - when I load data from DB, I get old data (not new data, that was saved before activity B was ended).</p>\n\n<p>Can you help me, where can be problem? Thanks.</p>\n"},{"tags":["database","sqlite"],"answer_count":3,"favorite_count":2,"up_vote_count":11,"down_vote_count":0,"view_count":8489,"score":11,"question_id":2520945,"title":"SQLite If Column Exists","body":"<p>I was wondering if there is a nice IF NOT EXISTS for checking columns and indexes in SQLite, or do I need to bring back the entire database schema and validate against that?</p>\n"},{"tags":["ruby-on-rails","sqlite","deployment"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":12656319,"title":"After deploying Rails app SQLite3::CantOpenException:","body":"<p>I try to deploy a rails app. I using apache with a sqlite3 database. The configuration via passenger and capistrano works well. </p>\n\n<p>But when I start the server and try to modify the database I get the following error:    <code>SQLite3::CantOpenException: unable to open database file</code>   </p>\n\n<p>I already chmod 777'ing the <code>production.sqlite3</code> .\nI put <code>production.sqlite3</code> in <code>foofoo/foo/shared</code> and configured the <code>database.yml</code>:</p>\n\n<pre><code>production:\nadapter: sqlite3\ndatabase: /foofoo/foo/shared/production.sqlite3\npool: 5\ntimeout: 5000\n</code></pre>\n\n<p>(PS rails 3.2.3, ruby 1.9.3, sqlite 3.7.9)</p>\n"},{"tags":["android","sqlite","database-connection"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12662039,"title":"Saving sqlite data onto phone","body":"<p>I am currently trying to access my database using my android phone however it doesn't work.  It does work on the emulator.  So I was wondering if I need to copy the data into my phone's internal memory by using</p>\n\n<pre><code>try{\n    InputStream myInput = myContext.getAssets().open(DB_NAME);\n\n    // Path to the just created empty db\n    String outFileName = DB_PATH + DB_NAME;\n\n    //Open the empty db as the output stream\n    OutputStream myOutput = new FileOutputStream(outFileName);\n\n    //transfer bytes from the inputfile to the outputfile\n    byte[] buffer = new byte[1024];\n    int length;\n    while ((length = myInput.read(buffer))&gt;0){\n        myOutput.write(buffer, 0, length);\n    }\n\n    //Close the streams\n    myOutput.flush();\n    myOutput.close();\n    myInput.close();\n    }catch(SQLiteException e){\n</code></pre>\n\n<p>Another issue is that I did not use \"SQLiteOpenHelper\", so does the above method still work? I simply did a </p>\n\n<pre><code>   private final String DB_NAME = \"MemberData\";\nprivate final String TABLE_NAME = \"MemberDB\";    \nsampleDB =  this.openOrCreateDatabase(DB_NAME, MODE_PRIVATE, null);\n        Cursor c = sampleDB.rawQuery(\"SELECT companyNameEng FROM \" +\n                TABLE_NAME + \" ORDER BY companyNameEng ASC\", null);\n</code></pre>\n"},{"tags":["database","sqlite","fts3"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":196,"score":2,"question_id":10569155,"title":"how to convert existing sqlite database table to fts3 one?","body":"<p>I have normal sqlite database and want to use fts3.\nAs mentioned in <a href=\"http://www.sqlite.org/fts3.html\" rel=\"nofollow\">http://www.sqlite.org/fts3.html</a> tutorial  FTS table has to be created for using this search functionality.  </p>\n\n<p>Is there any way to convert existing table to FTS table?</p>\n"},{"tags":["regex","sqlite","like"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":175,"score":2,"question_id":7341597,"title":"SQLite like with Regular Expressions","body":"<p>I have a column with HTML content. I want to search for words in that column, but only the text, not the HTML code.</p>\n\n<p>For example:</p>\n\n<pre><code>(1) &lt;p class=\"last\"&gt;First time I went there...&lt;/p&gt;\n(2) This is a &lt;em&gt;very&lt;/em&gt; subtle colour.\n</code></pre>\n\n<p>(1) Searching for <code>last</code> doesn't find it, because it's a class name, not content.\n<br/>\n(2) Searching for <code>very subtle</code> will find it, ignoring HTML</p>\n\n<p>Is this possible with SQLite directly?</p>\n\n<p>Note: I cannot define functions.</p>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":23,"score":1,"question_id":12659499,"title":"Database no longer required - how delete db from within the App?","body":"<p>In one of my Android Apps the SQLite database is no longer required. What is the prefered way to remove the database from it's app directory? Is there a convenience method or is it simply a delete against the filesystem?</p>\n\n<p>Thanks in advance.</p>\n\n<p><strong>EDIT:</strong> Found it here: <a href=\"http://stackoverflow.com/questions/4406067/how-to-delete-sqlite-database-from-android-programmatically\">How to delete SQLite database from Android programmatically</a></p>\n"},{"tags":["c#","android","sqlite"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":47,"score":1,"question_id":12659522,"title":"how to access sqlite data in android","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/9109438/how-to-use-existing-database-with-android-app\">How to use existing database with Android App</a>  </p>\n</blockquote>\n\n\n\n<p>Im writing android application with c# and I Use sqlite to store My Data.\nI want to fetch the data from the database and display into textview but returns null.</p>\n\n<pre><code>  protected void GetCursorView(string username, string sValue)\n    {\n        Android.Database.ICursor icTemp = dt.GetRecordCursor(username, sValue);\n        if (icTemp != null)\n        {\n            icTemp.MoveToFirst();\n            name.Text = icTemp.GetString(1);//name is TextView\n            post.Text = icTemp.GetString(3);\n        }\n        else\n        {\n            tresult.Text = dt.Message;\n        }\n    }\n</code></pre>\n\n<p>please help me to how display data from sqlite on Textview.</p>\n"},{"tags":["python","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":31,"score":1,"question_id":12658343,"title":"Creating a new sqlite database table from a txt file in Python","body":"<p>I am trying to create a new table in SQLite3 (data coming from a txt file) in a Python script.  I am creating a string to use as the SQL command that will give the column headers.  However, when I insert the variable for this string into the cursor.execute() I get a syntax error.  The thing is, if I print() and then copy and paste that into the cursor.execute, the script works.  However, I want to use this same script for various txt files, so it needs to adapt to the column headers in the file.</p>\n\n<pre><code>def CreateTable (daDB, daFile, daTableName): #Creates a table with column headers as   first row of file\n    con=sqlite3.connect(daDB)\n    curs=con.cursor()\n    LinesList=FileReadIn(daFile)\n    Headers=LinesList[0]\n    HeadersString=\"\"\n    for word in Headers:\n        HeadersString += word + \", \"\n    DaHeadersString=HeadersString[0:-2]\n    daQuery=\"'create table \" + daTableName + \" (\" + DaHeadersString + \")'\"\n    print (daQuery)\n    curs.execute(daQuery)\n    con.commit()\n    con.close()\n</code></pre>\n\n<p>This generates:</p>\n\n<pre><code> CreateTableFromText ('animalsheaderstest.sqltdb','animals.txt','animalstable')\n'create table animalstable (Owner, Name, Species)'\n\nTraceback (most recent call last):\n  File \"&lt;pyshell#108&gt;\", line 1, in &lt;module&gt;\n   CreateTable ('animalsheaderstest.sqltdb','animals.txt','animalstable')\n  File     \"/Users/zeintawil/Zeins_Files/School/Senior/OPIM_399/python/practice/ReadInPrac.py\", line     62, in CreateTable\n   curs.execute(daQuery)\nOperationalError: near \"'create table animalstable (Owner, Name, Species)'\": syntax error\n</code></pre>\n\n<p>However, when I copy and paste the value of print(daQuery) directly into the code, it works.</p>\n"},{"tags":["android","eclipse","sqlite","eclipse-juno","android-sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":52,"score":1,"question_id":12657207,"title":"Are user-defined directory names allowed in an Android Eclipse project","body":"<p>I think I may know the answer to this question already, but I just wanna be 100% sure. Anyways, I am writing an Android app using Eclipse 4.2 (\"Juno\"). I want to create my SQLite database by using external files and reading/parsing these files by my code. Hence, I created my own directory called <code>/database</code> and placed it in my project's root directory. Then, Eclipse starts complaining, reports a problem and says:</p>\n\n<pre><code>Invalid recourse directory name.\n</code></pre>\n\n<p>I even tried placing my <code>database</code> directory in the existing <code>/res</code> directory, but that caused the same Eclipse <em>problem</em>. Just want to confirm what my initial thoughts are: <strong>Is it not allowed for me to define my own directories in the project and bundle it in with my release?</strong></p>\n\n<p>If so, then I guess I'll have to follow along with what was posted in <a href=\"http://stackoverflow.com/questions/513084/how-to-ship-an-android-application-with-a-database\">this stackoverflow question</a>.</p>\n"}]}
{"total":16516,"page":15,"pagesize":100,"questions":[{"tags":["android","sqlite","runtime-error"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":48,"score":-1,"question_id":12656751,"title":"SQL table not found exception","body":"<p>i have made a table and its fields but i get error that no such row exist and if i comment them out then it is not detecting the table also showing no such table exist.Here's the code:</p>\n\n<pre><code>package com.example.ifest;\n\nimport android.content.Context;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.database.sqlite.SQLiteOpenHelper;\n\npublic class DBHandler extends SQLiteOpenHelper{\n\nprivate static final String DB_NAME = \"event_db\";\nprivate static final int DB_VERSION = 1;\nprivate static final String TABLE_NAME = \"_table\";\nprivate static final String EVENT_NAME = \"_name\" ;\nprivate static final String EVENT_ID = \"_no\" ;\nprivate static final String EVENT_TYPE = \"_type\" ;\n\n\npublic DBHandler(Context context) {\n    super(context, DB_NAME, null, DB_VERSION);\n}\n\n@Override\npublic void onCreate(SQLiteDatabase db) {\n    db.execSQL(\"CREATE TABLE \" + TABLE_NAME + \" (\" + EVENT_ID + \" INTEGER PRIMARY KEY AUTOINCREMENT, \" \n                + EVENT_NAME + \" TEXT NOT NULL, \" + EVENT_TYPE + \" TEXT NOT NULL);\" );\n}\n\n@Override\npublic void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n    db.execSQL(\"DROP TABLE IF EXISTS \" + TABLE_NAME);\n    onCreate(db);        \n}\n</code></pre>\n\n<p>and the code for my other acitvity is:</p>\n\n<p><code>\npublic class ProfileView extends ListActivity{</p>\n\n<pre><code>String e,e1;\nstatic int p = 0;\nSpinner spn ;\nButton b1,b2;\nEditText et;\nString str1;\nArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\nArrayAdapter&lt;String&gt; adapter;\n\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main); \n    list.add(\"Create\");\n    openDB();\n    p++;\n\n    adapter = new ArrayAdapter&lt;String&gt;(this,android.R.layout.simple_list_item_1,list);\n    setListAdapter(adapter);      \n}\n\n@Override\nprotected void onListItemClick(ListView l, View v, int position, long id) {\n    super.onListItemClick(l, v, position, id);\n    if(position == 0){\n        final Dialog build = new Dialog(ProfileView.this);\n        build.setTitle(\"String Name and Details\");\n        build.setContentView(R.layout.activity_dialog);\n        build.show();\n        spn = (Spinner)build.findViewById(R.id.spinner1_Dialog);\n        et = (EditText) build.findViewById(R.id.editText1_Dialog);\n        b2 = (Button) build.findViewById(R.id.button1_Dialog);\n        b2.setOnClickListener(new View.OnClickListener() {\n\n            public void onClick(View v) {\n                build.dismiss();\n                list.add(et.getText().toString());\n                addDB(et.getText().toString(),spn.getLastVisiblePosition());\n                adapter.notifyDataSetChanged();\n                setListAdapter(adapter);\n            }\n        });\n    }\n}\n\nprotected void addDB(String name,int id) {\n    DBHandler handle = new DBHandler(this);\n    SQLiteDatabase db = handle.getWritableDatabase();\n    ContentValues cv = new ContentValues();\n    cv.put(\"_name\",name);\n    if(id == 0)\n        cv.put(\"type\",\"WIFI\");\n    else if(id == 1)\n        cv.put(\"type\",\"BLUETOOTH\");\n    else if(id == 2)\n        cv.put(\"type\",\"MEDIA\");\n    db.insert(\"_table\", null , cv);\n    db.close();\n}\n\nprivate void openDB() {\n    if(p != 0){ \n        DBHandler handle = new DBHandler(this);\n        SQLiteDatabase db = handle.getReadableDatabase();\n\n        Cursor c = db.rawQuery(\"SELECT * FROM \"+ \"event_db\",null);\n        c.moveToFirst();\n        while(c.moveToNext()){\n            list.add(c.getString(1));\n            Log.d(\"cursor\", c.getString(1));\n        }\n    }\n}\n\n@Override\npublic void onCreateContextMenu(ContextMenu menu, View v,ContextMenuInfo menuInfo) {\n    super.onCreateContextMenu(menu, v, menuInfo);\n    MenuInflater inflate = getMenuInflater();\n    inflate.inflate(R.menu.string_main,menu);\n}\n\n\n@Override\npublic boolean onCreateOptionsMenu(Menu menu) {\n    MenuInflater mi = getMenuInflater();\n    mi.inflate(R.menu.activity_main, menu);\n    return true;\n}\n\n@Override\npublic boolean onMenuItemSelected(int featureId, MenuItem item) {\n    switch(item.getItemId()){\n    case R.id.item1:\n        final Dialog build = new Dialog(ProfileView.this);\n        build.setTitle(\"String Name and Details\");\n        build.setContentView(R.layout.activity_dialog);\n        build.show();\n        spn = (Spinner)build.findViewById(R.id.spinner1_Dialog);\n        et = (EditText) build.findViewById(R.id.editText1_Dialog);\n        b2 = (Button) build.findViewById(R.id.button1_Dialog);\n        b2.setOnClickListener(new View.OnClickListener() {\n\n            public void onClick(View v) {\n                build.dismiss();\n                list.add(et.getText().toString());\n                addDB(et.getText().toString(),spn.getLastVisiblePosition());\n                adapter.notifyDataSetChanged();\n                setListAdapter(adapter);\n            }\n        });\n        break;\n\n    case R.id.item2:\n        break;\n\n    case R.id.item3:\n        Intent i = new Intent(\"com.example.ifest.ABOUTUS\");\n        startActivity(i);\n        break;\n\n    case R.id.item4:\n        finish();\n        break;\n    }\n    return true;\n}\n</code></pre>\n\n<p>}</code></p>\n"},{"tags":["android","sqlite","exception"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":12656076,"title":"android: SQLiteConstraintException","body":"<p>This is my table-creation-command:</p>\n\n<pre><code>private static final String PINGPONG_CREATE = \"create table \" + TABLE_PINGPONG + \"(\" + COLUMN_ID_PINGPONG + \" integer primary key autoincrement, \" + COLUMN_CNAME +\n            \" text not null, \" + COLUMN_DATE + \" text not null, \" + \" text not null, \" + COLUMN_LEAD + \" numeric, \" + COLUMN_PLACE + \" text not null, \" \n            + COLUMN_SET_ONE1 + \" numeric, \" + COLUMN_SET_ONE2 + \" numeric, \" + COLUMN_SET_TWO1 + \" numeric, \" + COLUMN_SET_TWO2 + \" numeric, \" + COLUMN_SET_THREE1\n             + \" numeric, \" + COLUMN_SET_THREE2 + \" numeric, \" + COLUMN_SET_FOUR1 + \" numeric, \" + COLUMN_SET_FOUR2 + \" numeric, \" + COLUMN_SET_FIVE1  + \" numeric, \" \n            + COLUMN_SET_FIVE2 + \" numeric, \" + COLUMN_SET_SIX1 + \" numeric, \" + COLUMN_SET_SIX2 + \" numeric, \" + COLUMN_SET_SEVEN1 + \" numeric, \" + COLUMN_SET_SEVEN2\n             + \" numeric, \" + COLUMN_RESULT1 + \" numeric, \" + COLUMN_RESULT2 + \" numeric);\"; \n</code></pre>\n\n<p>this is my method to enter a \"PingPongeEntry\" into the database</p>\n\n<pre><code>public void createPingPongEntry(int lead, String challengeName, String date, String place, int set11, int set12, int set21, int set22,\n            int set31, int set32, int set41, int set42, int set51, int set52, int set61, int set62, int set71, int set72, int tot1, int tot2){\n        ContentValues values = new ContentValues();\n        values.put(CustomSQLiteHelper.COLUMN_LEAD, lead);\n        values.put(CustomSQLiteHelper.COLUMN_CNAME, challengeName);\n        values.put(CustomSQLiteHelper.COLUMN_DATE, date);\n        values.put(CustomSQLiteHelper.COLUMN_PLACE, place);\n        values.put(CustomSQLiteHelper.COLUMN_SET_ONE1, set11);\n        values.put(CustomSQLiteHelper.COLUMN_SET_ONE2, set12);\n        values.put(CustomSQLiteHelper.COLUMN_SET_TWO1, set21);\n        values.put(CustomSQLiteHelper.COLUMN_SET_TWO2, set22);\n        values.put(CustomSQLiteHelper.COLUMN_SET_THREE1, set31);\n        values.put(CustomSQLiteHelper.COLUMN_SET_THREE2, set32);\n        values.put(CustomSQLiteHelper.COLUMN_SET_FOUR1, set41);\n        values.put(CustomSQLiteHelper.COLUMN_SET_FOUR2, set42);\n        values.put(CustomSQLiteHelper.COLUMN_SET_FIVE1, set51);\n        values.put(CustomSQLiteHelper.COLUMN_SET_FIVE2, set52);\n        values.put(CustomSQLiteHelper.COLUMN_SET_SIX1, set61);\n        values.put(CustomSQLiteHelper.COLUMN_SET_SIX2, set62);\n        values.put(CustomSQLiteHelper.COLUMN_SET_SEVEN1, set71);\n        values.put(CustomSQLiteHelper.COLUMN_SET_SEVEN2, set72);\n        values.put(CustomSQLiteHelper.COLUMN_RESULT1, tot1);\n        values.put(CustomSQLiteHelper.COLUMN_RESULT2, tot2);\n\n        long insertID = database.insert(CustomSQLiteHelper.TABLE_PINGPONG, null, values);\n\n        Cursor cursor = database.query(CustomSQLiteHelper.TABLE_PINGPONG, allColumns3, CustomSQLiteHelper.COLUMN_ID_RUNNING + \" = \" + insertID, null, null, null, null);\n        cursor.moveToFirst();\n        cursor.close();\n    }\n</code></pre>\n\n<p>That's the allColums3-String[]</p>\n\n<pre><code>private String[] allColumns3 = {CustomSQLiteHelper.COLUMN_ID_PINGPONG, CustomSQLiteHelper.COLUMN_CNAME, CustomSQLiteHelper.COLUMN_DATE, CustomSQLiteHelper.COLUMN_PLACE, CustomSQLiteHelper.COLUMN_LEAD,\n                                    CustomSQLiteHelper.COLUMN_SET_ONE1,\n                                    CustomSQLiteHelper.COLUMN_SET_ONE2, CustomSQLiteHelper.COLUMN_SET_TWO1, CustomSQLiteHelper.COLUMN_SET_TWO2, CustomSQLiteHelper.COLUMN_SET_THREE1, CustomSQLiteHelper.COLUMN_SET_THREE2,\n                                    CustomSQLiteHelper.COLUMN_SET_FOUR1, CustomSQLiteHelper.COLUMN_SET_FOUR2, CustomSQLiteHelper.COLUMN_SET_FIVE1, CustomSQLiteHelper.COLUMN_SET_FIVE2, CustomSQLiteHelper.COLUMN_SET_SIX1,\n                                    CustomSQLiteHelper.COLUMN_SET_SIX2, CustomSQLiteHelper.COLUMN_SET_SEVEN1, CustomSQLiteHelper.COLUMN_SET_SEVEN2, CustomSQLiteHelper.COLUMN_RESULT1, CustomSQLiteHelper.COLUMN_RESULT2};\n</code></pre>\n\n<p>Now at line <code>long insertID = database.insert(CustomSQLiteHelper.TABLE_PINGPONG, null, values);</code> I'm getting the SQLiteConstraintException, and I don't know why. It says:</p>\n\n<pre><code>09-29 19:55:13.151: E/Database(1609): Error inserting set51=0 set52=0 set41=3 set61=0 lead=0 set72=0 set71=0 set62=0 date=29-09-2012 result1=4 result2=0 name=pingpong set32=1 set31=3 set42=1 place=hier set22=1 set21=3 set12=1 set11=3\n</code></pre>\n\n<p>(I'm also confused here why there is no order of the inserting values)</p>\n\n<p>I've read a few questions about this topic here, but all recommandation given there are followed: the primary key is autoincremented, and plus at this point, where I'm trying to insert the record, the database is empty.</p>\n\n<p>I have 2 methods to insert <code>FootBallEntrys</code> and <code>Games</code> by analogy to this, and everything works fine. So why it doesn't create a unique uid here?</p>\n"},{"tags":["android","sqlite"],"answer_count":6,"favorite_count":0,"up_vote_count":8,"down_vote_count":0,"view_count":7599,"score":8,"question_id":1741334,"title":"SQLiteOpenHelper.getWriteableDatabase() null pointer exception on Android","body":"<p>I've had fine luck using SQLite with straight, direct SQL in Android, but this is the first time I'm wrapping a DB in a ContentProvider. I keep getting a null pointer exception when calling <code>getWritableDatabase()</code> or <code>getReadableDatabase()</code>. Is this just a stupid mistake I've made with initializations in my code or is there a bigger issue?</p>\n\n<pre><code>public class DatabaseProvider extends ContentProvider {\n  ...\n  private DatabaseHelper                   databaseHelper;\n  private SQLiteDatabase                   db;\n  ...\n  @Override\n  public boolean onCreate() {\n    databaseHelper = new DatabaseProvider.DatabaseHelper(getContext());\n    return (databaseHelper == null) ? false : true;\n  }\n  ...\n  @Override\n  public Uri insert(Uri uri, ContentValues values) {   \n    db = databaseHelper.getWritableDatabase(); // NULL POINTER EXCEPTION HERE\n    ...\n  }\n  private static class DatabaseHelper extends SQLiteOpenHelper {\n    public static final String DATABASE_NAME = \"cogsurv.db\";\n    public static final int DATABASE_VERSION = 1;\n\n    public static final String[] TABLES = {\n      \"people\", \n      \"travel_logs\", \n      \"travel_fixes\",\n      \"landmarks\", \n      \"landmark_visits\",\n      \"direction_distance_estimates\" \n    };\n\n    // people._id does not AUTOINCREMENT, because it's set based on server's people.id\n    public static final String[] CREATE_TABLE_SQL = {\n      \"CREATE TABLE people (_id INTEGER PRIMARY KEY,\" + \n                 \"server_id INTEGER,\" +\n                 \"name VARCHAR(255),\" +\n                 \"email_address VARCHAR(255))\",\n      \"CREATE TABLE travel_logs (_id INTEGER PRIMARY KEY AUTOINCREMENT,\" +\n                                \"server_id INTEGER,\" +\n                                \"person_local_id INTEGER,\" +\n                                \"person_server_id INTEGER,\" +\n                                \"start DATE,\" +\n                                \"stop DATE,\" +\n                                \"type VARCHAR(15),\" +\n                                \"uploaded VARCHAR(1))\",\n      \"CREATE TABLE travel_fixes (_id INTEGER PRIMARY KEY AUTOINCREMENT,\" +\n                                 \"datetime DATE, \" +\n                                 \"latitude DOUBLE, \" +\n                                 \"longitude DOUBLE, \" +\n                                 \"altitude DOUBLE,\" +\n                                 \"speed DOUBLE,\" +\n                                 \"accuracy DOUBLE,\" +\n                                 \"travel_mode VARCHAR(50), \" +\n                                 \"person_local_id INTEGER,\" +\n                                 \"person_server_id INTEGER,\" +\n                                 \"travel_log_local_id INTEGER,\" +\n                                 \"travel_log_server_id INTEGER,\" +\n                                 \"uploaded VARCHAR(1))\",\n      \"CREATE TABLE landmarks (_id INTEGER PRIMARY KEY AUTOINCREMENT,\" +\n                              \"server_id INTEGER,\" +\n                              \"name VARCHAR(150),\" +\n                              \"latitude DOUBLE,\" +\n                              \"longitude DOUBLE,\" +\n                              \"person_local_id INTEGER,\" +\n                              \"person_server_id INTEGER,\" +\n                              \"uploaded VARCHAR(1))\",\n      \"CREATE TABLE landmark_visits (_id INTEGER PRIMARY KEY AUTOINCREMENT,\" +\n                                    \"server_id INTEGER,\" +\n                                    \"person_local_id INTEGER,\" +\n                                    \"person_server_id INTEGER,\" +\n                                    \"landmark_local_id INTEGER,\" +\n                                    \"landmark_server_id INTEGER,\" +\n                                    \"travel_log_local_id INTEGER,\" +\n                                    \"travel_log_server_id INTEGER,\" +\n                                    \"datetime DATE,\" +\n                                    \"number_of_questions_asked INTEGER,\" +\n                                    \"uploaded VARCHAR(1))\",\n      \"CREATE TABLE direction_distance_estimates (_id INTEGER PRIMARY KEY AUTOINCREMENT,\" +\n                                                 \"server_id INTEGER,\" +\n                                                 \"person_local_id INTEGER,\" +\n                                                 \"person_server_id INTEGER,\" +\n                                                 \"travel_log_local_id INTEGER,\" +\n                                                 \"travel_log_server_id INTEGER,\" +\n                                                 \"landmark_visit_local_id INTEGER,\" +\n                                                 \"landmark_visit_server_id INTEGER,\" +\n                                                 \"start_landmark_local_id INTEGER,\" +\n                                                 \"start_landmark_server_id INTEGER,\" +\n                                                 \"target_landmark_local_id INTEGER,\" +\n                                                 \"target_landmark_server_id INTEGER,\" +\n                                                 \"datetime DATE,\" +\n                                                 \"direction_estimate DOUBLE,\" +\n                                                 \"distance_estimate DOUBLE,\" +\n                                                 \"uploaded VARCHAR(1))\"\n    };\n\n    public DatabaseHelper(Context context) {\n      super(context, DATABASE_NAME, null, DATABASE_VERSION);\n      Log.v(Constants.TAG, \"DatabaseHelper()\");\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n      Log.v(Constants.TAG, \"DatabaseHelper.onCreate() starting\");\n\n      // create the tables\n      int length = CREATE_TABLE_SQL.length;\n      for (int i = 0; i &lt; length; i++) {\n        db.execSQL(CREATE_TABLE_SQL[i]);\n      }\n      Log.v(Constants.TAG, \"DatabaseHelper.onCreate() finished\");\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n      for (String tableName : TABLES) {\n        db.execSQL(\"DROP TABLE IF EXISTS\" + tableName);\n      }\n      onCreate(db);\n    }\n  }\n}\n</code></pre>\n\n<p>As always, thanks for the assistance!</p>\n\n<p>--</p>\n\n<p>Not sure if this detail helps, but here's LogCat showing the exception:\n<img src=\"http://img149.imageshack.us/img149/5590/errorup.png\" alt=\"alt text\"></p>\n"},{"tags":["php","database","image","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":786,"score":1,"question_id":6269548,"title":"How to save an image to database using SQLite and PHP?","body":"<p>I want to save an image to the database using SQLite. I send the image via <code>&lt;input type='file'&gt;</code> in HTML, get the file in the <code>$_FILES</code> var in PHP, and after this, what I should do?</p>\n\n<p>I created a <code>BLOB</code> field in the database. Currently I'm using SQLite 2.1, because that is the limitation of my homework. </p>\n\n<p>Should I convert an image to binary to store in a database or do something else?</p>\n"},{"tags":["android","sqlite","phonegap"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":235,"score":0,"question_id":12399794,"title":"Phonegap native plugin communicate with sqlite database","body":"<p>i wrote java plugin for store data into SQLITE database but this connection url showing error</p>\n\n<p>Are any permissions are required for this?</p>\n\n<pre><code>package com.tricedesigns;\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.ResultSet;\nimport java.sql.Statement;\nimport org.apache.cordova.CordovaWebViewClient;\nimport org.apache.cordova.api.Plugin;\nimport org.apache.cordova.api.PluginResult;\nimport org.json.JSONArray;\nimport org.json.JSONException;\nimport org.sqlite.SQLite;\n\nimport com.sun.java.swing.plaf.windows.resources.windows;\n\nimport android.content.Context;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.database.sqlite.SQLiteStatement;\nimport android.util.Log;\nimport android.view.Window;\n\n\n\npublic class HelloPlugin extends Plugin { \n\n public static final String NATIVE_ACTION_STRING=\"nativeAction\"; \n  public static final String SUCCESS_PARAMETER=\"laxman\"; \n  SQLiteDatabase myDb = null;\n  @Override\n  public PluginResult execute(String action, JSONArray data, String callbackId) { \n         Log.d(\"HelloPlugin\", \"Hello, this is a native function called from PhoneGap/Cordova!\"); \n //only perform the action if it is the one that should be invoked \n  if (NATIVE_ACTION_STRING.equals(action)) { \n   String resultType = null; \n   try { \n    resultType = data.getString(0); \n    Connection connection = null;  \n      ResultSet resultSet = null;  \n       Statement statement = null;  \n\n         try {  \n\n            Class.forName(\"org.sqlite.JDBC\");  \n               //   webView.loadUrl(\"jdbc:sqlite:tempdb.db\");\n               connection = DriverManager  \n                             .getConnection(\"jdbc:sqlite:tempdb.db\");  \n\n\n\n                      statement = connection.createStatement();  \n                         System.out.println(\"dddddddddddddddddddddd\");\n                         resultSet = statement  \n                                 .executeQuery(\"SELECT name FROM temp\");  \n                         while (resultSet.next()) {  \n                             System.out.println(\" NAME:\"  \n                                     + resultSet.getString(\"name\"));  \n                         }  \n                     } catch (Exception e) {  \n                         e.printStackTrace();  \n                     } finally {  \n                         try {  \n                             resultSet.close();  \n                             statement.close();  \n                             connection.close();  \n                         } catch (Exception e) {  \n                             e.printStackTrace();  \n                         }  \n                     }  \n\n                     System.out.println(\"result typeeeeeeeee\"+data.getString(0));\n               } \n               catch (Exception ex) { \n                     Log.d(\"HelloPlugin\", ex.toString()); \n               } \n               if (resultType.equals(SUCCESS_PARAMETER)) { \n                     try {\n                        return new PluginResult(PluginResult.Status.OK, \"Yay, Success,First Plugin for android!!!\"+data.getString(0));\n                    } catch (JSONException e) {\n                        // TODO Auto-generated catch block\n                        e.printStackTrace();\n                    } \n               } \n               else { \n                     return new PluginResult(PluginResult.Status.ERROR, \"Oops, Error :(\"); \n               } \n         } \n         return null; \n  } \n</code></pre>\n\n<p>} \n`</p>\n\n<p><strong>I got Error this</strong></p>\n\n<pre><code> 09-13 09:53:44.387: W/System.err(330): java.sql.SQLException: opening db: 'tempdb.db': Read-only file system\n</code></pre>\n"},{"tags":["python","sqlite","memory","index"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":12653282,"title":"Which is faster in SQLite in memory databases: no indexes, loading into an indexed table or building the index after load?","body":"<p>I'm loading a big dataset, about 9Gb into a \":memory:\" database using SQLite. Right now, I have a python script that loads the data from .csv files (doing some other stuff on a line by line basis). I then need to do some joins on two big tables. Will indexing the columns I'm joining on make a difference if the database is in-memory? If so, is it better to create the table with an index before loading data into it, or build an index just before the join? And finally, will it make a difference speed-wise if I specify types for the columns?</p>\n"},{"tags":["sql","ruby","ruby-on-rails-3","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":51,"score":1,"question_id":12653434,"title":"Ruby on Rails - SQL Query count","body":"<p>I need to count all the microposts of my image where the status is equal to <strong>new</strong>.</p>\n\n<pre><code>&lt;% for column in @images %&gt;\n  &lt;%= column.id %&gt;\n  &lt;%= column.microposts.count() %&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p>I have tried this line but it doesn't work:</p>\n\n<pre><code>&lt;%= column.microposts.count(\" WHERE status='new' \") %&gt;\n</code></pre>\n\n<p>Is there a way I can add a condition ?</p>\n"},{"tags":["android","database","sqlite"],"answer_count":1,"favorite_count":2,"up_vote_count":0,"down_vote_count":0,"view_count":265,"score":0,"question_id":3252139,"title":"Android: I cant seem to add to my database","body":"<p>So basically my app starts out with a TabView, then through the options menu the user selects to add a game to the database. This opens the InputGame class, which accepts a few values, and then it <em>should</em> put them into a database when the user clicks \"Submit\". It will also go  back to the original home view. The app goes back the the home tabs view just fine, bu nothing ever gets added to the database. Am I doing something wrong?</p>\n\n<p>InputGame:</p>\n\n<pre><code>public class InputGame extends Activity {\n\n    private EditText gameTitle;\n    private Spinner consoleSelect;\n    private Spinner genreSelect;\n    private Spinner ratingSelect;\n    private Spinner styleSelect;\n    private EditText gamePub;\n    private EditText gameDev;\n    private EditText gameRegion;\n    private EditText gamePrice;\n    private EditText gameRelease; \n\n    private DatabaseHelper db = null;\n    private Cursor constantsCursor=null;\n    private Button addGame;\n\n\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.inputgame);\n\n        db = new DatabaseHelper(this);\n        constantsCursor = db.getReadableDatabase().rawQuery(\n                \"SELECT _ID, title, console \" + \"FROM constants ORDER BY title\",\n                null);\n\n\n        /*Hide the scroll bar*/\n        ScrollView sView = (ScrollView)findViewById(R.id.ScrollInput);\n        sView.setVerticalScrollBarEnabled(false);\n        sView.setHorizontalScrollBarEnabled(false);\n\n        /* Accepts game title */\n        gameTitle = (EditText) findViewById(R.id.gametitle);        \n\n        /* Console select*/ \n        consoleSelect = (Spinner) findViewById(R.id.console_select);\n        ArrayAdapter&lt;CharSequence&gt; consoleAdapter = ArrayAdapter.createFromResource(\n                this, R.array.consoles_array, android.R.layout.simple_spinner_item);\n        consoleAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n        consoleSelect.setAdapter(consoleAdapter);\n\n\n        /* Genre select*/   \n        genreSelect = (Spinner) findViewById(R.id.genre_select);\n        ArrayAdapter&lt;CharSequence&gt; genreAdapter = ArrayAdapter.createFromResource(\n                this, R.array.genres_array, android.R.layout.simple_spinner_item);\n        genreAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n        genreSelect.setAdapter(genreAdapter);\n\n        /* Style  select*/  \n        styleSelect = (Spinner) findViewById(R.id.style_select);\n        ArrayAdapter&lt;CharSequence&gt; styleAdapter = ArrayAdapter.createFromResource(\n                this, R.array.style_array, android.R.layout.simple_spinner_item);\n        styleAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n        styleSelect.setAdapter(styleAdapter);\n\n        /* Rating select*/  \n        ratingSelect = (Spinner) findViewById(R.id.rating_select);\n        ArrayAdapter&lt;CharSequence&gt; ratingAdapter = ArrayAdapter.createFromResource(\n                this, R.array.ratings_array, android.R.layout.simple_spinner_item);\n        ratingAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n        ratingSelect.setAdapter(ratingAdapter);\n\n        /* Accepts game publisher */\n        gamePub = (EditText) findViewById(R.id.gamepublisher);\n\n        /* Accepts game developer */\n        gameDev = (EditText) findViewById(R.id.gamedev);\n\n\n\n\n        /* Release date selector */\n        gameRelease = (EditText) findViewById(R.id.gamerelease);\n\n        /* Add the game button */\n        this.addGame = (Button)this.findViewById(R.id.addgame);\n        this.addGame.setOnClickListener(new View.OnClickListener(){\n            @Override\n            public void onClick(View v) {\n                processAdd();\n            }\n\n\n        });\n\n\n    }\n    private void processAdd(){\n        ContentValues values=new ContentValues(8);\n\n        values.put(\"title\", getGameTitle());\n        values.put(\"console\", getGameConsole());\n        values.put(\"genre\", getGameGenre());\n        values.put(\"style\", getGameStyle());\n        values.put(\"rating\", getGameRating());\n        values.put(\"publisher\", getGamePublisher());\n        values.put(\"developer\", getGameDeveloper());\n        values.put(\"release\", getGameRelease());\n\n        db.getWritableDatabase().insert(\"constants\", \"title\", values);\n        constantsCursor.requery();\n        Intent launchgamesActivity = new Intent(this, GCM.class);\n        startActivity(launchgamesActivity);\n    }\n    public String getGameTitle(){\n        return(gameTitle.getText().toString());\n    }\n    public String getGameConsole(){\n        return (consoleSelect.getContext().toString());\n    }\n    public String getGameGenre(){\n        return(genreSelect.getContext().toString());\n    }\n    public String getGameStyle(){\n        return(styleSelect.getContext().toString());\n    }\n    public String getGameRating(){\n        return(ratingSelect.getContext().toString());\n    }\n    public String getGamePublisher(){\n        return(gamePub.getText().toString());\n    }\n    public String getGameDeveloper(){\n        return(gameDev.getText().toString());\n    }\n    public String getGameRelease(){\n        return(gameRelease.getText().toString());\n    }}\n</code></pre>\n\n<p>and here is my database helper. The records I have pre-programmed in show up just fine:</p>\n\n<pre><code>public class DatabaseHelper extends SQLiteOpenHelper {\n    private static final String DATABASE_NAME = \"gameDb\";\n    public static final String TITLE=\"title\";\n    public static final String CONSOLE=\"console\";\n    public static final String GENRE=\"genre\";\n    public static final String RATING=\"rating\";\n    public static final String PUBLISHER=\"publisher\";\n    public static final String DEVELOPER=\"developer\";\n//  public STATIC FINAL STRING REGION=\"REGION\";\n    public static final String PRICE=\"price\";\n    public static final String RELEASE=\"release\";\n    public static final String COMPLETION=\"completion\";\n    public static final String DESCRIPION=\"description\";\n    public static final String IMAGE=\"image\";\n\n    public DatabaseHelper(Context context) {\n        super(context, DATABASE_NAME, null, 1);\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        db\n                .execSQL(\"CREATE TABLE constants (_id INTEGER PRIMARY KEY AUTOINCREMENT, title TEXT, console TEXT, genre TEXT, \" +\n                \"rating TEXT, publisher TEXT, developer TEXT, region TEXT, price REAL, release BLOB, completion BLOB, description BLOB, image BLOB);\");\n\n        ContentValues cv = new ContentValues();\n\n        cv.put(TITLE, \"Super Mario Galaxy\");\n        cv.put(CONSOLE, \"Wii\");\n        db.insert(\"constants\", TITLE, cv);\n\n        cv.put(TITLE, \"Transformers: War for Cybertron\");\n        cv.put(CONSOLE, \"Xbox 360\");\n        db.insert(\"constants\", TITLE, cv);\n\n        cv.put(TITLE, \"Final Fantasy XIII\");\n        cv.put(CONSOLE, \"Playstation 3\");\n        db.insert(\"constants\", TITLE, cv);\n\n        cv.put(TITLE, \"Final Fantasy VII\");\n        cv.put(CONSOLE, \"Playstation\");\n        db.insert(\"constants\", TITLE, cv);\n\n        cv.put(TITLE, \"New Super Mario Bros\");\n        cv.put(CONSOLE, \"Nintendo DS\");\n        db.insert(\"constants\", TITLE, cv);\n\n\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n        android.util.Log.w(\"Constants\",\n                \"Upgrading database, which will destroy all old data\");\n        db.execSQL(\"DROP TABLE IF EXISTS constants\");\n        onCreate(db);\n    }\n}\n</code></pre>\n\n<p><strong>EDIT</strong>: When submitting from InputGames, should I be closing that activity all together? I think the way I have it set now just goes back to the other activity, but nothing really gets done. Or is that not it at all?</p>\n\n<p><strong>EDIT #2</strong> Well I got it to add. For some reason I have to use .execSQL. Thats fine I guess, but bow when I try to add from a spinner item in InputGames, I get this populating the respective element:</p>\n\n<pre><code>com.jvavrik.gcm.InputGame@43bb0510\n</code></pre>\n\n<p>were the number after the \"@\" is always different. Any ideas for this?</p>\n"},{"tags":["php","android","database","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":166,"score":0,"question_id":4647714,"title":"Having problems reading from a DB","body":"<p>I am programming an assignment and I need to figure out how to read a database file that Is created using a PHP script I have coded. I am new to the Android platform and have spent hours in the past week following tutorials but am still struggling. I need to read from the database and display in a UI on the screen. I’m sure it can’t be too difficult but I’m slipping up somewhere! Any help would be truly appreciated.</p>\n\n<p>Current PHP Script-</p>\n\n<pre><code>&lt;html&gt;\n&lt;body&gt;\n\n&lt;?php\n//Connect to college database\n$studentnum = \"SY090627\";\n$con = mysql_connect(\"localhost\",\"******\",\"*******\");\nif (!$con)\n  {\n  die('Could not connect: ' . mysql_error());\n  }\n\nmysql_select_db(\"computin_mobile\", $con);\n//Select all needed student data\n//Must include custext from student table to retrive students college username\n$result = mysql_query(\"SELECT * FROM students, time WHERE (time.CusText5='$studentnum' AND students.StuRef ='$studentnum') ORDER BY time.DayNum ASC, time.StartTime\");\n\n\n\n$newLine = \"\\n\";\n\ntry\n{\n  //create the database\n  $database = new SQLiteDatabase('myDatabase.sqlite', 0666, $error);\n}\ncatch(Exception $e)\n{\n  die($error);\n}\n\n//add Lesson table to database\n$query = 'CREATE TABLE Lessons ' .\n         '(Day TEXT, StartTime TEXT, EndTime TEXT, Teacher TEXT, Description TEXT, Room TEXT)';\n\nif(!$database-&gt;queryExec($query, $error))\n{\n  die($error);\n}\nwhile($row = mysql_fetch_array($result))\n  {\n//insert data into database\n$dayr = $row['Day'];\n$query =\n  'INSERT INTO Lessons (Day, StartTime, EndTime, Teacher, Description, Room) ' .\n  'VALUES (\"'.$row['Day'].'\", \"'.$row['StartTime'].'\", \"'.$row['EndTime'].'\", \"'.$row['Teacher'].'\", \"'.$row['Description'].'\", \"'.$row['Room'].'\")';\n\nif(!$database-&gt;queryExec($query, $error))\n{\n  die($error);\n}\n  }\n//read data from database\n$query = \"SELECT * FROM Lessons\";\nif($result = $database-&gt;query($query, SQLITE_BOTH, $error))\n{\n  while($row = $result-&gt;fetch())\n  {\n    print(\"Day: {$row['Day']} &lt;br /&gt;\" .\n          \"Start Time: {$row['StartTime']} &lt;br /&gt;\".\n          \"End Time: {$row['EndTime']} &lt;br /&gt;\".\n          \"Teacher: {$row['Teacher']} &lt;br /&gt;\".\n          \"Description {$row['Description']} &lt;br /&gt;\".\n          \"Room: {$row['Room']} &lt;br /&gt;&lt;br /&gt;\");\n\n  }\n}\nelse\n{\n  die($error);\n}\n?&gt; \n\n&lt;/body&gt;\n&lt;/html&gt; \n</code></pre>\n"},{"tags":["django","sqlite","search","search-engine"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":12651996,"title":"Turning SQLite data into something usable for a streamcast search engine","body":"<p>I'm working on a Starcraft 2 streamcast search engine. I've written a kind of 'crawler' using the Youtube API (in Python) and have saved about 10,000 records (caster, title, description, URL, etc.) to an sqlite3 database.</p>\n\n<p>I want to create a nice front end in Django or Flask, and have search functionality so that users can browse games by their favorite players, casters, maps, etc.</p>\n\n<p>My question is: With my end goal of creating a search engine in mind, is sqlite3 a suitable way for me to be storing my data? </p>\n\n<p>Any advice would be much appreciated!</p>\n"},{"tags":["sql","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":67,"score":0,"question_id":12650084,"title":"How to select top N rows with the sum of certain column meet some requirement in SQLite?","body":"<p>If we have one table with a column called X contains int. Now I want to select (Actually I want to delete) the oldest N rows with the sum of X as much as possible but no more than 300?</p>\n\n<pre><code>  _id|X\n    1|50\n    2|150\n    3|80\n    4|100\n    5|200\n    6|70\n</code></pre>\n\n<p>Where 1 is oldest, 6 is newest. So I want to get row 1, 2, 3, whose sum of X is 280. Is it possible to achieve this with one single select statement?</p>\n"},{"tags":["android","database","eclipse","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":247,"score":0,"question_id":7957351,"title":"Is there way to view and update an SQLite Database directly (something similar to EasyPHP)","body":"<p>I am working on a university project, which involves profile and event management using SQLite, due to which i have to write a lot of viewing and debugging code inside the android application which logs the database, so that i can see whether the data is entered correctly or not. Also when i have to insert test data, i have to do it via the application i am developing. Also when i have to clean the database, i have to do it via a functionality in the application, which is again useless except that it allows me to debug.</p>\n\n<p>This is a lot of frustration and useless work. Is there a way, some editor or viewer like Microsofr Access or EasyPHP that allow me to view the database live and enter test data into the Database directly and then update according to the contents of the database.\nIDE is eclipse.</p>\n"},{"tags":["android","sqlite"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":143,"score":0,"question_id":10641151,"title":"rawQuery in Android not showing database contents","body":"<p>Yes, this is homework but I did my due diligence and I am stuck! Hopefully somebody can help!</p>\n\n<p>I am having problems with my rawQuery. It is not showing anything. I am pretty sure that the database is not empty because I added a couple of insert statements for testing (and I also tried it with <code>put()</code> and <code>insert()</code>) and, still, nothing showed up.</p>\n\n<p>The problem is, when I run my code, I don't get any errors or exception but it never enters the while loop in logDatabase (<code>while !c.moveToNext</code>).</p>\n\n<p>I have done a fair amount of research but all of the books that I look at seem to tell me to do it this way. Perhaps I am missing something obvious but I can't for the life of my figure out what it is. Thanks!</p>\n\n<pre><code>package jschuler.cs211d.hw06b;\n\n    import android.app.Activity;\n    import android.os.*;\n    import android.widget.*;\n    import android.util.Log;\n    import android.view.*;\n    import java.util.*;\n    import java.io.*;\n    import android.content.*;\n    import android.database.*;\n    import android.database.sqlite.SQLiteDatabase;\n\n    public class play extends Activity \n                      implements RadioGroup.OnCheckedChangeListener\n    {    \n        private static final String DBNAME = \"statesDB\";\n        static final String STATE = \"state\", CAPITAL = \"capital\";\n\n    //*****************************onCreate()*****************************\n        /** Called when the activity is first created. */\n        @Override\n        public void onCreate(Bundle savedInstanceState)\n        {\n            super.onCreate(savedInstanceState);\n            setContentView(R.layout.play);\n\n            // Check to see if SD card is available. If not, warn the user\n            if(!sdCardAvailable())\n            {\n                Toast t = Toast.makeText(getApplicationContext(), \n                    \"No SD card available.\", \n                    Toast.LENGTH_SHORT);\n                t.show();\n            }\n            else\n            {\n                Toast t = Toast.makeText(getApplicationContext(), \n                    \"SD card is available.\", \n                    Toast.LENGTH_SHORT);\n                t.show();\n            }\n\n            loadDB();\n        }\n    //**************************onCheckChanged()**************************\n    //  Set the variable that represents the type, depending on \n    //  what the user has selected in the radio group.    \n        public void onCheckedChanged(RadioGroup g, int CheckedId)\n        {\n\n        }\n    //******************************loadDB()******************************\n    //  Create the data structures to hold the data\n        public void loadDB()\n        {\n            SQLiteDatabase db;\n            db = openOrCreateDatabase(\"statesDB\", \n                SQLiteDatabase.CREATE_IF_NECESSARY, null);\n\n            db.setVersion(1);\n            db.setLockingEnabled(true);\n\n            db.execSQL(\"CREATE TABLE if not exists states(_id integer primary key autoincrement, STATE text, CAPITAL text);\");\n\n            Scanner sc;\n\n            try\n            {\n                File sdCard = Environment.getExternalStorageDirectory();\n                File dir = new File(sdCard.getAbsolutePath());\n                File f = new File(dir, \"US_states\");\n                sc = new Scanner(f);\n\n                // Skip the first line\n                sc.nextLine();\n                sc.nextLine();\n\n                // Read in the names of the states and capitals. \n                while(sc.hasNextLine())\n                {\n                    String[] nextItem = sc.nextLine().split(\"\\\\s{2,}\");\n                    ContentValues cv = new ContentValues();\n                    cv.put(STATE, nextItem[0]);\n                    db.insert(\"states\", STATE, cv);\n                    cv.put(CAPITAL, nextItem[1]);\n                    db.insert(\"states\", CAPITAL, cv);\n                }\n            }\n            catch (FileNotFoundException e)\n            {\n                Toast t = Toast.makeText(getApplicationContext(), \n                    \"Error loading data.\", \n                    Toast.LENGTH_SHORT);\n                t.show();\n            }\n\n            db.close();\n\n            logDatabase();\n        }\n    //***************************logDatabase()****************************\n        public void logDatabase()\n        {\n            SQLiteDatabase db;\n            db = openOrCreateDatabase(\"statesDB\", \n                SQLiteDatabase.CREATE_IF_NECESSARY, null);\n\n            db.execSQL(\"INSERT INTO states (STATE) values ('AB');\");\n            db.execSQL(\"INSERT INTO states (STATE) values ('CD');\");\n            db.execSQL(\"INSERT INTO states (STATE) values ('EF');\");\n\n            ContentValues cv = new ContentValues();\n            cv.put(STATE, \"AB\");\n            db.insert(\"states\", STATE, cv);\n\n            Cursor c = db.rawQuery(\"SELECT STATE, CAPITAL FROM states\",null);\n\n            while(!c.moveToNext())\n            {\n                Log.d(\"mtn\",\"in moveToNext()\");\n                Log.d(\"state\",c.getString(0));\n                Log.d(\"capital\",c.getString(1));\n            }\n\n            db.close();\n        }\n    //*************************sdCardAvailable()**************************\n    //  Determine whether there is an SD card available and if it is \n    //  writable.\n        public boolean sdCardAvailable()\n        {\n            boolean storageAvailable = false;\n            boolean storageWritable = false;\n\n            String state = Environment.getExternalStorageState();\n\n            if(Environment.MEDIA_MOUNTED.equals(state))\n            {\n                storageAvailable = storageWritable = true;\n            }\n            else if(Environment.MEDIA_MOUNTED_READ_ONLY.equals(state))\n            {\n                storageAvailable = true;\n                storageWritable = false;\n            }\n            else\n            {\n                storageAvailable = storageWritable = false;\n            }\n\n            return (storageWritable &amp;&amp; storageAvailable);\n        }\n    }\n</code></pre>\n"},{"tags":["android","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":291,"score":3,"question_id":11331410,"title":"how to display the entire database table data into a TextView in android using SQLite","body":"<p>my problem is that the only data that is being display in TextView is the last entire row of\nthe table.</p>\n\n<p>so here is my code for getting the entire data from database table:</p>\n\n<pre><code>public List&lt;Person&gt; getAllPerson()\n{\n    List&lt;Person&gt; personList = new ArrayList&lt;Person&gt;();\n\n    //select query\n    String selectQuery = \"SELECT  * FROM \" + DATABASE_TABLE;\n\n    SQLiteDatabase db = this.getWritableDatabase();\n    Cursor cursor = db.rawQuery(selectQuery, null);\n\n\n    for (cursor.moveToFirst(); !cursor.isAfterLast(); cursor.moveToNext())\n    {\n         Person person = new Person();\n            person.setId(Integer.parseInt(cursor.getString(0)));\n            person.setName(cursor.getString(1));\n            person.setHotness(cursor.getString(2));\n            person.setAge(Integer.parseInt(cursor.getString(3)));\n\n            // Adding person to list\n            personList.add(person);\n    }\n\n    return personList;\n\n}\n</code></pre>\n\n<p>here is my code for displaying the table data into TextView:</p>\n\n<pre><code>  public class SQLiteView extends Activity\n  {\n\nprivate TextView tv;\n@Override\nprotected void onCreate(Bundle savedInstanceState)\n{\n    // TODO Auto-generated method stub\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.sqlview);\n    tv = (TextView) findViewById(R.id.tvDBdisplay);\n\n    DbHelper d = new DbHelper(this);\n\n    List&lt;Person&gt; person = d.getAllPerson();\n\n    for (Person p: person)\n    {\n        String data =p.getId() + \" \" + p.getName() + \" \" + p.getHotness() +      \" \" + p.getAge();\n        tv.setText(data);\n\n    }\n\n   }    \n  }\n</code></pre>\n"},{"tags":["java","android","database","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":131,"score":1,"question_id":8897234,"title":"How can I read out data from a SQLite database and list them?","body":"<p>I like to ask, how I can read data from my databast \"test_database.db\" and list them on my screen?</p>\n\n<p>Database: test_database.db</p>\n\n<p>Table: tbl_homework</p>\n\n<pre><code>In table homework are those entries:\nID             HW\n1              Mathematics\n2              Physics\n3              Sports\n</code></pre>\n\n<p>So i know how I can send ONE entry to a toast or alert. (With cursor)\nI read that tutorial here but I can't build that example for my app.\n<a href=\"http://coenraets.org/blog/android-samples/androidtutorial/\" rel=\"nofollow\">http://coenraets.org/blog/android-samples/androidtutorial/</a></p>\n\n<p>What do I have?\nJava: CustomDatabaseHelper.java, homework.java, main.java</p>\n\n<p>Layout: homework.xml, main.xml</p>\n\n<p>homework.java is a normal activity I tried to change it to ListActivity. But then it crashes.</p>\n\n<p>Here the code: (It works fine)</p>\n\n<pre><code>public class homework extends Activity {\nSQLiteDatabase db;\n/** Called when the activity is first created. */\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.homework);\n\n    //Create Database\n    db = openOrCreateDatabase(\"test_database.db\", \n            SQLiteDatabase.CREATE_IF_NECESSARY, null);\n\n    db.setVersion(1);\n    db.setLocale(Locale.getDefault());\n    db.setLockingEnabled(true);\n\n    //Create table tbl_homework\n    final String CREATE_TABLE_HW =\n            \"CREATE TABLE IF NOT EXISTS tbl_homework (\"\n            + \"id INTEGER PRIMARY KEY AUTOINCREMENT,\"\n            + \"hw TEXT);\";\n\n            db.execSQL(CREATE_TABLE_HW);\n\n    press_cmd_back();\n    press_cmd_test_data();\n\n}\n\n//What will happen if cmd_back gets pressed\nprivate void press_cmd_back(){\n    Button cmd_back = (Button)findViewById(R.id.cmd_back);\n    cmd_back.setOnClickListener(new View.OnClickListener() {\n\n        public void onClick(View v) {\n            Intent Intent_main = new Intent(homework.this, Noten_HausaufgabenActivity.class);\n            startActivity(Intent_main);\n        }\n    });\n}\n\n\n\n//What will happen if cmd_test_data gets pressed\n    private void press_cmd_test_data(){\n        Button cmd_test_data = (Button)findViewById(R.id.cmd_test_data);\n        cmd_test_data.setOnClickListener(new View.OnClickListener() {\n\n        public void onClick(View v) {\n            open_database_rw();\n            final String INSERT_DATA_1 = \"INSERT INTO tbl_homework ('hw') VALUES ('Mathematics')\";\n            final String INSERT_DATA_2 = \"INSERT INTO tbl_homework ('hw') VALUES ('Physics')\";\n            final String INSERT_DATA_3 = \"INSERT INTO tbl_homework ('hw') VALUES ('Sports')\";\n\n\n            db.execSQL(INSERT_DATA_1);\n            db.execSQL(INSERT_DATA_2);\n            db.execSQL(INSERT_DATA_3);\n\n        }\n    });\n\n}\n\n//Open Database RW\nprivate void open_database_rw() {\n    db = SQLiteDatabase.openDatabase(\"/data/data/test.marco.notenha/databases/test_database.db\", \n            null, SQLiteDatabase.OPEN_READWRITE);\n}\n\n}\n</code></pre>\n"},{"tags":["android","database","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":12650696,"title":"Android Database Instance Class","body":"<p>I need a suggestions how to achieve something in android and Java. I have a big project which has more than 50 activities and I use two different database classes to query sqlite statements and retrieve information from my system and user database. Here is an example how I am using and initializing my database :</p>\n\n<pre><code>SystemDatabaseHelper dbHelper = new SystemDatabaseHelper(this, null, 1);\ndbHelper.initialize(this);\n</code></pre>\n\n<p>I am doing that in activity and the last few days I read a lot for memory leaks in android and the whole information about giving <code>Context</code> to a non-activity classes and the leaks which this can cause. My question is which is the best way to create some class and initialize it only from main activity and than use it in all other activities without initializing it again and again.</p>\n\n<p>Any suggestions which is the best way to achieve this...i have some ideas,but want to hear your suggestions and best practices.</p>\n"},{"tags":["iphone","database","sqlite","database-connection"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1282,"score":1,"question_id":2658320,"title":"how to download update from iphone app to replace old sqlite database","body":"<p>hi\ni use sqlite database on my iphone app and</p>\n\n<p>i need to update this database from the internet from my server</p>\n\n<p>how i can download the new database and delete the  old database </p>\n\n<p>and recopy the new database to document directory</p>\n"},{"tags":["mysql","sql","database","sqlite"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":57,"score":3,"question_id":12648929,"title":"How to design cateogry and subcategories?","body":"<p>I have a list of categories and number of sub categories associated to each category.\nlet say Category table is called Cat then I have hot and cold categories in it\nI have another table called subcats then I have </p>\n\n<p>Cat</p>\n\n<pre><code> ID Name\n 1 Hot\n 2 Cold\n</code></pre>\n\n<p>SubCats</p>\n\n<pre><code>SubCatID   CATID   Name\n  1       1        soup \n  2       1       rice \n  3       1       pizza \n  4       2       salad \n  5       2       fruit\n</code></pre>\n\n<p>I should consider performance in my design, how do you rate my design? is there any better solution?\n(Categories are just sample I have heaps of categories and subcategories)</p>\n"},{"tags":["objective-c","ios","cocoa-touch","sqlite","sqlite3"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":65,"score":1,"question_id":12648228,"title":"iOS - cellForRowAtIndexPath SQLite sort data?","body":"<p>I am trying to use SQLite to hold data for my app. This database could have thousands of records in, so loading them all into an array on startup probably isn't a good idea. So I load them each individually in cellForForAtIndexPath by id. This works, but I can't sort them... Can anybody think of a better way? I bet it's really simple :L</p>\n\n<pre><code>- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath\n{\n    static NSString *CellIdentifier = @\"VerbCell\";\n    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];\n\n    if (!cell) {\n        cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier];\n    }\n\n    VerbData *verb = [[VerbData alloc] init];\n    if(isFiltered)\n        verb = [searchResults objectAtIndex:indexPath.row];\n    else\n    {\n        const char *sql = [[NSString stringWithFormat: @\"SELECT infinitive, english FROM verbs WHERE id=%d\", indexPath.row+1] UTF8String];\n        sqlite3_stmt *sqlStatement;\n        if(sqlite3_prepare_v2(db, sql, -1, &amp;sqlStatement, NULL) != SQLITE_OK){\n            NSLog(@\"Problem with prepare statement: %s\", sqlite3_errmsg(db));\n        }else{\n            while (sqlite3_step(sqlStatement) == SQLITE_ROW) {\n                verb.infinitive = [NSString stringWithUTF8String:(char *)sqlite3_column_text(sqlStatement,0)];\n                verb.english = [NSString stringWithUTF8String:(char *)sqlite3_column_text(sqlStatement,1)];\n            }\n        }\n    }\n\n    cell.textLabel.text = verb.infinitive;\n    cell.detailTextLabel.text = verb.english;\n\n    return cell;\n}\n</code></pre>\n\n<p>Thanks(:</p>\n"},{"tags":["sqlite","titanium","desktop-application","tidesdk"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":152,"score":2,"question_id":12643437,"title":"how to use pre-populated database with tidesdk/titanium desktop","body":"<p>I'm in need of some help in developing a desktop application with a pre-populated database. I have tried numerous ways to get this working including those mentioned on both Tidesdk's API here <a href=\"http://tidesdk.multipart.net/docs/user-dev/generated/#!/api/Ti.Database.DB\" rel=\"nofollow\">http://tidesdk.multipart.net/docs/user-dev/generated/#!/api/Ti.Database.DB</a> and at Titanium Desktops old API here <a href=\"http://developer.appcelerator.com/apidoc/desktop/latest/Titanium.Database-module\" rel=\"nofollow\">http://developer.appcelerator.com/apidoc/desktop/latest/Titanium.Database-module</a>.</p>\n\n<p>While the later (using Titanium not Ti) works in creating a database in the apps directory it does not install my pre-populated sqlite database which is located in the resources file of my app.</p>\n\n<p>A couple of my attempts located below</p>\n\n<pre><code>var db = Titanium.Database.openFile('test_db.sqlite', 'test_db');\n\nvar db = Titanium.Database.openFile(Ti.Filesystem.getFile(\n                          Ti.Filesystem.getApplicationDataDirectory(), 'test_db.sqlite')); \n\nvar db = Ti.Database.open('test_db');\n</code></pre>\n\n<p>As stated most of these manage to create a database with the name given but when trying to run something as simple as a db.execute(SELECT) of something I know would exist in my pre-populated db I receive an error stating</p>\n\n<pre><code> Exception executing: SELECT name, id FROM people ORDER BY name COLLATE NOCASE, Error was: SQL Statement invalid or database missing\n</code></pre>\n\n<p>I have searched high and low for something to answer this but everyone continues to refer to the aforementioned API's or to the Mobile API's Ti.database.install() which does not work either.</p>\n\n<p>Is it possible with titanium desktop to use a pre-populated sqlite database or do I have to populate it after I create it? If so any direction would be helpful (where to place the .sqlite file in the app and what functions to call). </p>\n\n<p>I am currently using Titanium Studio with a titanium desktop osx SDK of 1.2.0.RC4 as requested by tidesdk.org until they have released there open source sdk.</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["sql","sqlite","rows","total"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":12648565,"title":"How to get the total rows on a database with one query","body":"<p>I have a database with two tables, I want to get the total of rows in those tables with a single query.\nSo far T tried:</p>\n\n<pre><code>SELECT (count(bill.*) + count(items.*)) as TTL FROM bill, items // Failed \nSELECT count(*) as TTL FROM bill, items // wrong total\nSELECT (count(bill.ID_B) + count(items.ID_I)) as TTL FROM bill, items // wrong total\nSELECT count(bill.ID_B + items.ID_I) as TTL FROM bill, items // return the biggest total\n</code></pre>\n"},{"tags":["objective-c","ios","database","multithreading","sqlite"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":35,"score":1,"question_id":12647936,"title":"sqlite unclosed read transaction","body":"<p>I'm using sqlite3 in an iOS application and I've encountered a very strange issue multiple \ntimes.</p>\n\n<p>I'm using WAL and all of my writes happen on a managed thread that only allows 1 operation at a time and my reads use a different database handle and everything works fine.  The issue I'm seeing is sometimes my read handle gets into this weird state where it won't read committed data.  It's like it has an uncommitted read transaction...</p>\n\n<p>I can write successfully to the database and I've exported my results to my computer where I see the newly written results just fine.  However, my reads seem to access the database at an older point in time...it's like they're stuck.  If I close the application and reopen it, they're fine and they read the newly committed data, but I'm wondering how my application is getting stuck in this state.</p>\n\n<p>ANY help would be appreciated.  Thanks in advance.</p>\n"},{"tags":["sqlite","sqlite3"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":12644607,"title":"sqlite3 create view syntax wrong","body":"<p>I wrote a piece of sqlite3 query as following:</p>\n\n<pre><code>CREATE TABLE appearances(\n    char_id int,\n    comic_id int\n); \nCREATE VIEW co-actors AS \n    SELECT a1.char_id,\n           a2.char_id \n    FROM appearances AS a1 \n    LEFT JOIN appearances AS a2 ON a1.comic_id=a2.comic_id;\n</code></pre>\n\n<p>And it keeps showing up syntax error near '_' in the command shell.\nCan anybody help me correct the query? Thanks~</p>\n\n<p>One more question, if I want to select from the View I just created, how do I reference the column,like a1.char_id?</p>\n"},{"tags":["android","database","sqlite","csv"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":12647496,"title":"Android list not loading from sqlite database","body":"<p>I've been working on an Android app that uses a database to populate a list. The database is filled with records from a .csv file that is located in the /assets folder. Everything was working a few minutes ago, but ever since I've refreshed my CSV, the list with data is not being shown anymore (it is just saying \"No orders to display\", which means that it didn't find any data to populate the list with). Furthermore, the code produces no errors and the LogCat is not really being useful te me.</p>\n\n<p>I wonder if anyone could help me: you have my thanks!</p>\n\n<p>This is the DatabaseActivity.java file:</p>\n\n<pre><code>public class DatabaseActivity extends ListActivity {\n\nString ID;\nString title;\nString location;\nString startTime;\nString endTime;\nString date;\nString description;\nprivate DatabaseHelper dbh;\n\nprivate ProgressDialog m_ProgressDialog = null; \nprivate ArrayList&lt;Order&gt; m_orders = null;\nprivate OrderAdapter m_adapter;\nprivate Runnable viewOrders;\n\n/** Called when the activity is first created. */\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.main);\n\n    this.dbh = new DatabaseHelper(this);\n\n    try {\n        csvtodb();\n    } catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n\n    m_orders = new ArrayList&lt;Order&gt;();\n    this.m_adapter = new OrderAdapter(this, R.layout.row, m_orders);\n    setListAdapter(this.m_adapter);\n\n    viewOrders = new Runnable(){\n        @Override\n        public void run() {\n            getOrders();\n        }\n    };\n    Thread thread =  new Thread(null, viewOrders, \"MagentoBackground\");\n    thread.start();\n    m_ProgressDialog = ProgressDialog.show(DatabaseActivity.this,    \n            \"Even geduld...\", \"Database wordt geladen...\", true);\n\n}\n\nprivate Runnable returnRes = new Runnable() {\n\n    @Override\n    public void run() {\n        if(m_orders != null &amp;&amp; m_orders.size() &gt; 0){\n            m_adapter.notifyDataSetChanged();\n            for(int i=0;i&lt;m_orders.size();i++)\n                m_adapter.add(m_orders.get(i));\n        }\n        m_ProgressDialog.dismiss();\n        m_adapter.notifyDataSetChanged();\n    }\n};\n\nprivate void getOrders(){\n    try{\n        m_orders = new ArrayList&lt;Order&gt;();\n        SQLiteDatabase db = dbh.getReadableDatabase();\n        Cursor c = db.query(DatabaseHelper.tblEvents, \n                new String[] {DatabaseHelper.title, \n                DatabaseHelper.location, \n                DatabaseHelper.startTime,\n                DatabaseHelper.description}, \n                null, null, null, null, \n                DatabaseHelper.startTime + \" ASC\");\n        int numberOfRows = c.getCount();\n        for (int i = 0; i &lt; numberOfRows; i++){\n            c.moveToPosition(i);\n            // Obtain the title\n            int col1 = c.getColumnIndex(DatabaseHelper.title);\n            String title = c.getString(col1);\n            // Obtain the location\n            int col2 = c.getColumnIndex(DatabaseHelper.location);\n            String location = c.getString(col2);\n            // Obtain the time\n            int col3 = c.getColumnIndex(DatabaseHelper.startTime);\n            String startTime = c.getString(col3);\n            // Obtain the description\n            int col4 = c.getColumnIndex(DatabaseHelper.description);\n            String description = c.getString(col4);\n            Order o = new Order();\n            o.setOrderTime(startTime);\n            o.setOrderTitle(title);\n            o.setOrderLocation(location);\n            o.setOrderDescription(description);\n            m_orders.add(o);\n        }\n        db.close();\n        Thread.sleep(2000);\n        Log.i(\"ARRAY\", \"\"+ m_orders.size());\n    } catch (Exception e) { \n        Log.e(\"BACKGROUND_PROC\", e.getMessage());\n    }\n    runOnUiThread(returnRes);\n}\n\n\n\npublic void csvtodb() throws IOException {\n    // Get a writable database\n    SQLiteDatabase db = dbh.getWritableDatabase();\n    if (dbh.isDbInitialized(db)) {\n        db.close();\n        return;\n    }\n\n    AssetManager assetManager = getAssets();\n    InputStream input = assetManager.open(\"testcsv.csv\");\n\n    BufferedReader in = new BufferedReader(new InputStreamReader(input, \"UTF-8\"));\n    String reader = \"\";\n    while ((reader = in.readLine()) != null)\n    {\n        String[] RowData = reader.split(\",\");\n\n        ID = RowData[0];\n        title = RowData[1];\n        location = RowData[2];\n        startTime = RowData[3];\n        endTime = RowData[4];\n        date = RowData[5];\n        description = RowData[6];\n\n        DatabaseHelper.fillTable(db, ID, title, location, startTime, endTime, date, description);\n    }\n\n    in.close();\n}\n\npublic class OrderAdapter extends ArrayAdapter&lt;Order&gt; {\n\n    private ArrayList&lt;Order&gt; items;\n\n    public OrderAdapter(Context context, int textViewResourceId, ArrayList&lt;Order&gt; items) {\n        super(context, textViewResourceId, items);\n        this.items = items;\n    }\n\n    @Override\n    public View getView(int position, View convertView, ViewGroup parent) {\n        View v = convertView;\n        if (v == null) {\n            LayoutInflater vi = (LayoutInflater)getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n            v = vi.inflate(R.layout.row, null);\n        }\n        Order o = items.get(position);\n        if (o != null) {\n            TextView time = (TextView) v.findViewById(R.id.time);\n            TextView title = (TextView) v.findViewById(R.id.title);\n            TextView location = (TextView) v.findViewById(R.id.location);\n            TextView description = (TextView) v.findViewById(R.id.description);\n            if (time != null) {\n                time.setText(o.getOrderTime());                            \n            }\n            if(title != null){\n                title.setText(o.getOrderTitle());\n            }\n            if(location != null){\n                location.setText(\"Locatie: \" + o.getOrderLocation());\n            }\n            if(description != null){\n                description.setText(o.getOrderDescription());\n            }\n        }\n        return v;\n    }\n}\n}\n</code></pre>\n\n<p>And here is the DatabaseHelper.java:</p>\n\n<pre><code>public class DatabaseHelper extends SQLiteOpenHelper{\n// Database name and version\nstatic final String dbName = \"Evenementen\";\nstatic final int dbVersion = 1;\n\n// Names of tables and columns\nstatic final String tblEvents = \"Evenementen\";\nstatic final String eventID = \"ID\";\nstatic final String title = \"Titel\";\nstatic final String location = \"Locatie\";\nstatic final String startTime = \"Begintijd\";\nstatic final String endTime = \"Eindtijd\";\nstatic final String date = \"Datum\";\nstatic final String description = \"Beschrijving\";\n\n\n// Constructor\npublic DatabaseHelper(Context context) {\n    super(context, dbName, null, dbVersion);\n}\n\n@Override\npublic void onCreate(SQLiteDatabase db) {\n    createDB(db);\n}\n\npublic void createDB(SQLiteDatabase db) {\n    db.execSQL(\"CREATE TABLE \" + tblEvents + \" (\" +\n            eventID   + \" INTEGER PRIMARY KEY, \" +\n            title   + \" TEXT , \" +\n            location   + \" TEXT , \" +\n            startTime   + \" TEXT , \" +\n            endTime   + \" TEXT , \" +\n            date   + \" TEXT , \" +\n            description + \" TEXT\" +\n            \")\");\n}\n\npublic boolean isDbInitialized(SQLiteDatabase db) {\n    return db.rawQuery(\"SELECT DISTINCT tbl_name FROM sqlite_master WHERE tbl_name = '\"+ tblEvents + \"'\", null) != null;\n}\n\npublic static void fillTable(SQLiteDatabase db, String first, String second, String third, \n        String fourth, String fifth, String sixth, String seventh) {\n    String template = \"INSERT INTO \" + tblEvents + \n            \"(\" + eventID + \",\" + title + \",\" + location + \",\" + startTime + \",\" + endTime + \",\" + date + \",\" + description + \")\" + \n            \"VALUES (?,?,?,?,?,?,?)\";\n    Object[] args = new Object[]{first, second, third, fourth, fifth, sixth, seventh};\n    db.execSQL(template, args);\n}\n\n@Override\npublic void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n    // Bluntly remove table (and thus discard ALL data in it!) if we're upgrading  \n    db.execSQL(\"DROP TABLE IF EXISTS \" + tblEvents);\n    onCreate(db);\n}\n\n}\n</code></pre>\n\n<p>This is my CSV file (it's Dutch. The values are seperated by comma):</p>\n\n<pre><code>1,Cross Rubicon,van der Werff &amp; Studio de Veste,15:00,Nvt,03-okt,Geen beschrijving beschikbaar\n2,Ferry Nick &amp; Lodewijk Band,van der Werff &amp; Studio de Veste,18:30,Nvt,03-okt,Bekend van de Edwin Evers Band &amp; Marco Borsato\n3,LOS,van der Werff &amp; Studio de Veste,21:00,Nvt,03-okt,Nederpopcovers\n4,La Cubaniza,Scheltema,16:00,Nvt,03-okt,Cuban liveband &amp; DJ\n</code></pre>\n\n<p>FYI: I'm using <a href=\"http://www.softwarepassion.com/android-series-custom-listview-items-and-adapters/\" rel=\"nofollow\">this reference</a> for displaying my data from the database in a list.</p>\n"},{"tags":["android","sqlite","sqlite3"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":268,"score":0,"question_id":7802382,"title":"Android SQLite - \"if\" SQLite table column null then execute","body":"<p>I want to write code which checks the table if the column value is null and then execute the insert function. If not, run the code.</p>\n\n<pre><code>Cursor sumw = dbObject.rawQuery(\n        \"SELECT COMAMOUNT FROM COMMISION\",\n        null);\nsumw.moveToFirst();\nint e = sumw.getInt(0);\nif(e != 0){\n    alerts();\n}\n</code></pre>\n\n<p>This is how I tried. I know it must be wrong, because it always sends the alert to insert.</p>\n\n<ul>\n<li>Table name : COMMISION - DB_COMMISION  </li>\n<li>Table column : COMAMOUNT - handle.COM_AMOUNT</li>\n</ul>\n"},{"tags":["sqlite","vb.net-2010"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":183,"score":0,"question_id":11322019,"title":"SQLite deployment fails unable to locate system.data.sqlite.dll vb.net","body":"<p>Hoping that I do this corectly.</p>\n\n<p>I am having the above issue. My development machine is win7 64. Im developing x86 application,(x86 set in compile options). I have downloaded sqlite-netFx40-setup-bundle-x86-2010-1.0.81.0 as my app will be on .net4. I have referenced the above dll, set it to copy local. Can confirm that its in the deployed dirrectory. Tests OK on development machine both as a debug and a fully instaled app. When I put the app on a separate win 7 64bit it wount run due to the Dll. It installs ok into ProgramFiles(x86) and runs untill the database is required. The dll is in the instaled dirrectory when instaled on the other PC. (fresh win instal). </p>\n\n<p>I am using InstalShield and it is also telling me about an error ' -6248: Could not find dependent file system.data.sqlite.dll, or one of its dependencies of component' but it compiles OK.</p>\n\n<p>Im stearing at the Dll in the program , in the references, the intelisence picksup the SQLite name and all the code is right. I have referenced by browse and then finding the dll.</p>\n\n<p>What on earth could I be doing wrong ?</p>\n"},{"tags":["python","sqlite","sqlalchemy"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":517,"score":3,"question_id":2603905,"title":"How to improve the speed of a loop containing a sqlalchemy query statement as conditional","body":"<p>This loop checks if a record is in the sqlite database and builds a list of dictionaries for those records that are missing and then executes a multiple insert statement with the list. This works but it is very slow (at least i think it is slow) as it takes 5 minutes to loop over 3500 queries. I am a complete newbie in python, sqlite and sqlalchemy so I wonder if there is a faster way of doing this.</p>\n\n<pre><code>list_dict = []\n\nsession = Session()\n\nfor data in data_list:\n    if session.query(Class_object).filter(Class_object.column_name_01 == data[2]).filter(Class_object.column_name_00 == an_id).count() == 0:\n        list_dict.append({'column_name_00':a_id,\n                          'column_name_01':data[2]})\n\nconn = engine.connect()\nconn.execute(prices.insert(),list_dict)\nconn.close()\nsession.close()\n</code></pre>\n\n<p>edit: I moved <code>session = Session()</code> outside the loop. Did not make a difference.</p>\n\n<p><strong>SOLUTION</strong>:</p>\n\n<p>thanks to <strong>mcabral</strong> answer I modified the code as:</p>\n\n<pre><code>existing_record_list = []\nlist_dict = []\n\nconn = engine.connect()\ns = select([prices.c.column_name_01], prices.c.column_name_00==a_id)\nresult = conn.execute(s) \nfor row in result:       \n    existing_record_list.append(row[0])\n\nfor data in raw_data['data']:\n    if data[2] not in existing_record_list:\n        list_dict.append({'column_name_00':a_id,\n                          'column_name_01':data[2]}\n\nconn = engine.connect()\nconn.execute(prices.insert(),list_dict)\nconn.close()\n</code></pre>\n\n<p>This now takes 6 seconds. That is some improvement!!</p>\n"},{"tags":["ios","sqlite","core-data"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":12644034,"title":"Is it safe to query Core Data database via sqlite","body":"<p>Can sqlite API be used to access the database that core data is using?\nThe data that I'd be querying isn't being updated, its relatively static. But I need to use joins and can't do that with Core Data.</p>\n\n<p>Is it safe or are there issues doing so.</p>\n"},{"tags":["python","sqlite","postgresql","sqlalchemy"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":68,"score":1,"question_id":12643646,"title":"sqlalchemy postgresql where int = string","body":"<p>I have 0 experience with postgresql and am deploying an app written in python using sqlalchemy to a server with postgres.</p>\n\n<p>For development, I used an sqlite server.</p>\n\n<p>Things are going pretty smoothly, but I hit a bump I don't know how to resolve.</p>\n\n<p>I have three tables that look like that</p>\n\n<pre><code>class Car(db.Model):\n     id= db.Column(db.Integer, primary_key=True)\n     ...\n\nclass Truck(db.Model):\n     id= db.Column(db.String(32), primary_key=True)\n     ...\n\nclass Vehicles(db.Model):\n     id= db.Column(db.Integer, primary_key=True)\n     type= db.Column(db.String) #This is either 'car' or 'truck'\n     value= db.Column(db.String) #That's the car or truck id\n     ...\n</code></pre>\n\n<p>I have a query that selects from <code>Vehicles</code> where <code>type = 'car' AND value = 10</code>\nThis is throwing an error:\n<code>sqlalchemy.exc.ProgrammingError: (ProgrammingError) operator does not exist: integer = character varying</code></p>\n\n<p>So I guess this is because  <code>Car.id</code> is an int and <code>Vehicle.value</code> is a string..</p>\n\n<p>How to write this query in sqlalchemy? Is there a way to write it and make it compatible with my sqlite dev environment and the pgsql production?</p>\n\n<p>currently it looks like that</p>\n\n<p><code>db.session.query(Vehicle).filter(Car.id == Vehicle.value)</code></p>\n\n<p>PS: The truck id has to be a string and the car id has to be an int. I don't have control over that.</p>\n"},{"tags":["ios","sqlite","core-data","nspredicate"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":535,"score":1,"question_id":6043349,"title":"NSPredicate ALL Aggregate with SQLite Store","body":"<p>I have an entity called Attachment where it has a to-many relationship with no inverse relationship.</p>\n\n<p>I am attempting to locate all Attachment entities whose <code>downloaded</code> attribute is <code>NO</code> the relationship name is <code>attachments</code> and I wrote the following predicate to do this.</p>\n\n<pre><code>[NSPredicate predicateWithFormat:@\"ALL attachments.downloaded == NO\"]\n</code></pre>\n\n<p>Which results in <code>*** Terminating app due to uncaught exception 'NSInvalidArgumentException', reason: 'Unsupported predicate (null)'</code></p>\n\n<p>This only happens on a SQLite store, if I change the store to Binary it seems to work fine. I would prefer to stick with a SQLite store. </p>\n\n<p>Any ideas? Anyways to write the predicate differently to achieve the same desired result?</p>\n"},{"tags":["sqlite","remote-access","cloud-hosting"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12635829,"title":"Remote storage for sqlite database","body":"<p>I'd like to upload my <code>SQLite</code> database to some remote storage to have access to my database from various computers and mobile devices programatically.</p>\n\n<p>Is there a solution that enables secure solution (data won't be stolen) with good information privacy and some programming interface for various languages? (e.g. Python, C, Java in Android, etc.)?</p>\n"},{"tags":["android","sqlite","application","reminders","notificationmanager"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":110,"score":2,"question_id":12629393,"title":"how to automatically set a reminder which data is from the database?","body":"<p>SOURCE CODE:</p>\n\n<pre><code>    private void saveState() {\n\n    DatabaseHelper myDbHelper = new DatabaseHelper(ReminderEditActivity.this);\n    try {\n        myDbHelper.createDataBase();\n    } catch (IOException ioe) {\n        throw new Error(\"Unable to create database\");\n    }\n    try {\n        myDbHelper.openDataBase();\n    }catch(SQLException sqle){\n        throw sqle;\n    }\n    c=myDbHelper.query(\"tblmain\", null, null, null, null,null, null);\n    if(c.moveToFirst())\n    {\n        do {\n                    mRowId = c.getLong(0);\n                    String datetime = c.getString(8);\n\n                    SimpleDateFormat dateTimeFormat = new SimpleDateFormat(DATE_TIME_FORMAT);\n                    Date date = null;\n                    try {\n                        date = dateTimeFormat.parse(datetime);\n                        mCalendar.setTime(date); \n                    } catch (ParseException e) {\n                        Log.e(\"ReminderEditActivity\", e.getMessage(), e); \n                    } \n    mCalendar.setTime(date);\n\n    new ReminderManager(this).setReminder(mRowId, mCalendar); \n        } while (c.moveToNext());\n    }\n}\n</code></pre>\n\n<p>ReminderManager</p>\n\n<pre><code>public class ReminderManager {\n\nprivate Context mContext; \nprivate AlarmManager mAlarmManager;\n\npublic ReminderManager(Context context) {\n    mContext = context; \n    mAlarmManager = (AlarmManager)context.getSystemService(Context.ALARM_SERVICE);\n}\n\npublic void setReminder(Long taskId, Calendar when) {\n\n    Intent i = new Intent(mContext, OnAlarmReceiver.class);\n    i.putExtra(RemindersDbAdapter.KEY_eventid, (long)taskId); \n\n    PendingIntent pi = PendingIntent.getBroadcast(mContext, 0, i, PendingIntent.FLAG_ONE_SHOT); \n\n    mAlarmManager.set(AlarmManager.RTC_WAKEUP, when.getTimeInMillis(), pi);\n}\n}\n</code></pre>\n\n<p>onalarmreceiver</p>\n\n<pre><code>public class OnAlarmReceiver extends BroadcastReceiver {\n\nprivate static final String TAG = ComponentInfo.class.getCanonicalName(); \n\n\n@Override   \npublic void onReceive(Context context, Intent intent) {\n    Log.d(TAG, \"Received wake up from alarm manager.\");\n\n    long rowid = intent.getExtras().getLong(RemindersDbAdapter.KEY_eventid);\n\n    WakeReminderIntentService.acquireStaticLock(context);\n\n    Intent i = new Intent(context, ReminderService.class); \n    i.putExtra(RemindersDbAdapter.KEY_eventid, rowid);  \n    context.startService(i);\n\n}\n}\n</code></pre>\n\n<p>ReminderService</p>\n\n<pre><code>public class ReminderService extends WakeReminderIntentService {\n\npublic ReminderService() {\n    super(\"ReminderService\");\n        }\n\n@Override\nvoid doReminderWork(Intent intent) {\n    Log.d(\"ReminderService\", \"Doing work.\");\n    Long rowId = intent.getExtras().getLong(RemindersDbAdapter.KEY_eventid);\n\n    NotificationManager mgr = (NotificationManager)getSystemService(NOTIFICATION_SERVICE);\n\n    Intent notificationIntent = new Intent(this, ReminderEditActivity.class); \n    notificationIntent.putExtra(RemindersDbAdapter.KEY_eventid, rowId); \n\n    PendingIntent pi = PendingIntent.getActivity(this, 0, notificationIntent, PendingIntent.FLAG_ONE_SHOT); \n\n    Notification note=new Notification(android.R.drawable.stat_sys_warning, getString(R.string.notify_new_task_message), System.currentTimeMillis());\n    note.setLatestEventInfo(this, getString(R.string.notify_new_task_title), getString(R.string.notify_new_task_message), pi);\n    note.defaults |= Notification.DEFAULT_SOUND; \n    note.flags |= Notification.FLAG_AUTO_CANCEL; \n\n    // An issue could occur if user ever enters over 2,147,483,647 tasks. (Max int value). \n    // I highly doubt this will ever happen. But is good to note. \n    int id = (int)((long)rowId);\n    mgr.notify(id, note); \n}\n}\n</code></pre>\n\n<p> i have this code here that copies the database from the assets folder then sets the data to a local variable that will be used for adding a notification. i would like to automatically set the reminder which the data comes from the database but the notification keeps reading the date and time when the button is clicked and not the date and time from the database so the outcome of the program is it triggers the notification and shows the notification immediately after the button is clicked.. please help me with this. </p>\n\n<p>i want set the notification based on the date and time from the database. please help me on how to do this.</p>\n"},{"tags":["mysql","database","sqlite"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":67,"score":0,"question_id":12630193,"title":"import sqlite table into mySQL database","body":"<p>i am trying to import data from a table in sqlite onto a mysql table :</p>\n\n<p>U exported the table of sqlite into a csv file. While importing the csv file into the mysql table, ihave the following error :</p>\n\n<pre><code>#1366 - Incorrect integer value: 'IDAPPRECIATIONL' for column 'idAppreciation' at row 1 \n</code></pre>\n\n<p><code>IDAPPRECIATION</code> is the column of the sqlite database and idAppreciation is the column of the mysql table they are both autoincrement.</p>\n"},{"tags":["iphone","ios","database","sqlite","export"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":88,"score":0,"question_id":12640420,"title":"How to email sqlite database of Iphone app from itself?","body":"<p>In my current app I am adding a data backup and restore feature.\nUser can create back up of database and can email it.\nIn restore feature user can import the database from email and can replace the current.</p>\n\n<p>I am able to do create back up and restore of database file. \nIn restore I am just copying the file from my email to app Documents file replacing current one. \nThe problem is that in my code for backup of database, sqlite database is converted to NSData. I don't want to to be converted and need the exact sqlite file to be emailed.</p>\n\n<p>Here is the code that I currently use to email sqlite database</p>\n\n<pre><code>-(void)backUpData\n{\n\nNSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);\nNSString *documentsDirectory = [paths objectAtIndex:0];\n\nNSString *txtPath = [documentsDirectory stringByAppendingPathComponent:@\"/DemoApp.sqlite\"];\n\nNSURL *newUrl = [[NSURL alloc] initWithString:\n[txtPath stringByAddingPercentEscapesUsingEncoding: NSUTF8StringEncoding]];\n\nNSData *sqliteData = [[NSData alloc] initWithContentsOfURL:newUrl];\n\n//send sqliteData to email composer delegate to attach it as attachment\n[self showPicker:sqliteData];\n\n}\n</code></pre>\n\n<p>How I can email sqlite db without converting it to NSData?</p>\n"},{"tags":["android","sql","database","sqlite","sqlite3"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":251,"score":1,"question_id":8769222,"title":"Android SQLite ON CONFLICT UPDATE is possible?","body":"<p>I need to solve this problem.</p>\n\n<p>I started my project from the wrong concept that ON CONFLICT REPLACE will do an update of the row content when it finds a conflict. Also I was thinking that in that insert (with the conflict) if I don't put a value for a column it wont do the replace but keep the old value. Instead I just discovered that the ON CONFLICT REPLACE if it finds a conflict it will do a delete->insert and if it can't find a value for a column (where I put null for not updating the field) it will replace the null value with the default column value in order to make successfully the insert.</p>\n\n<p>So know I have this big root problem :D </p>\n\n<p>As you understand what I want to reach is this: </p>\n\n<p>I always do the insert, if it finds already a row with the same unique keys (conflict) it will only update the values. If for a field it wont find the values ( I don't put it in the ContentValues ) it wont update those field but keep the old one (like a normal update query where you don't put a culumn for update it).</p>\n\n<p>To solve my problem I tought these solutions:</p>\n\n<ul>\n<li>ON CONFLICT UPDATE (this will only work when you have only 1 unique\nfields, if you have 2 or more unique fields that throw the conflict\nit will crash)</li>\n<li>UPDATE ON FAIL INSERT where it always try to do an update. If it fails because it can't find the row related to the record (it's not yet present in the db) it will try to do an insert</li>\n</ul>\n\n<p>Some one has already thought about this problem and has a solution?\nOr maybe we can just try to find a solution :)</p>\n\n<p>I think that the best way is to keep things on low level (db level) in order to keep a good level of performance.</p>\n"},{"tags":["android","database","sqlite","logging","android-asynctask"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":59,"score":1,"question_id":9318320,"title":"log affecting listview?","body":"<p>Quick question, I have a listview that's populated from a database through an AsyncTask. I use an if statement to decide which db method to get a cursor from. The db methods work great outside an asynctask, but only works inside the asynctask when the Log code is there.</p>\n\n<pre><code>if (i == 1) {\n    c = cdb.getFive();\n    Log.d(\"TAG5\", DatabaseUtils.dumpCursorToString(c));\n}\n</code></pre>\n\n<p>works, but</p>\n\n<pre><code>if (i == 1) {\n    c = cdb.getFive();\n    //Log.d(\"TAG5\", DatabaseUtils.dumpCursorToString(c));\n}\n</code></pre>\n\n<p>doesn't work. Any ideas why?</p>\n\n<p>EDIT - That code is in <code>doInBackground()</code></p>\n"},{"tags":["sqlite","alter-table"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":5590,"score":3,"question_id":3604310,"title":"ALTER TABLE ADD COLUMN IF NOT EXISTS in SQLite","body":"<p>We've recently had the need to add columns to a few of our existing SQLite database tables.  This can be done with <a href=\"http://www.sqlite.org/lang_altertable.html\" rel=\"nofollow\"><code>ALTER TABLE ADD COLUMN</code></a>.  Of course, if the table has already been altered, we want to leave it alone.  Unfortunately, SQLite doesn't support an <code>IF NOT EXISTS</code> clause on <code>ALTER TABLE</code>.</p>\n\n<p>Our current workaround is to execute the ALTER TABLE statement and ignore any \"duplicate column name\" errors, just like <a href=\"http://stackoverflow.com/questions/2354696/alter-table-sqlite-how-to-check-if-a-column-exists-before-alter-the-table/2354829#2354829\">this Python example</a> (but in C++).</p>\n\n<p>However, our usual approach to setting up database schemas is to have a .sql script containing <code>CREATE TABLE IF NOT EXISTS</code> and <code>CREATE INDEX IF NOT EXISTS</code> statements, which can be executed using <code>sqlite3_exec</code> or the <code>sqlite3</code> command-line tool.  We can't put <code>ALTER TABLE</code> in these script files because if that statement fails, anything after it won't be executed.</p>\n\n<p>I want to have the table definitions in one place and not split between .sql and .cpp files.  Is there a way to write a workaround to <code>ALTER TABLE ADD COLUMN IF NOT EXISTS</code> in pure SQLite SQL?</p>\n"},{"tags":["android","sqlite","duplicates","unique"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12638957,"title":"Wrong UNIQUE column in SQLite with Android","body":"<p>I want to prevent duplicates in my SQLite databse so I made one column <code>UNIQUE</code>. But strangely there is chosen the wrong column. Here is my DatabseAdapter:</p>\n\n<pre><code>public class ProjectsDBAdapter {\n\n public static final String KEY_ROWID = \"_id\";\n public static final String KEY_PROJECTNAME = \"projectname\";\n public static final String KEY_ROUTERIP = \"routerip\";\n public static final String KEY_URL = \"url\";\n public static final String KEY_CALIMERO = \"calimero\";\n\n private static final String TAG = \"ProjectsDBAdapter\";\n private DatabaseHelper mDbHelper;\n private SQLiteDatabase mDb;\n\n private static final String DATABASE_NAME = \"KNXTable\";\n private static final String SQLITE_TABLE = \"Project\";\n private static final int DATABASE_VERSION = 1;\n\n private final Context mCtx;\n\n private static final String DATABASE_CREATE =\n  \"CREATE TABLE if not exists \" + SQLITE_TABLE + \" (\" +\n  KEY_ROWID + \" integer PRIMARY KEY autoincrement,\" +\n  KEY_PROJECTNAME + \" TEXT UNIQUE,\" +\n  KEY_ROUTERIP + \" TEXT NOT NULL,\" +\n  KEY_URL + \" TEXT NOT NULL,\" +\n  KEY_CALIMERO + \" TEXT NOT NULL,\" +\n  \" UNIQUE (\" + KEY_PROJECTNAME +\"));\";\n\n private static class DatabaseHelper extends SQLiteOpenHelper {\n\n  DatabaseHelper(Context context) {\n   super(context, DATABASE_NAME, null, DATABASE_VERSION);\n  }\n\n  @Override\n  public void onCreate(SQLiteDatabase db) {\n   //invoked when the database is created, \n   //this is where we can create tables and columns to them, create views or triggers.\n   Log.w(TAG, DATABASE_CREATE);\n   db.execSQL(DATABASE_CREATE);\n  }\n\n  @Override\n  public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n   //invoked when we make a modification to the database such as altering,\n   //dropping , creating new tables.\n   Log.w(TAG, \"Upgrading database from version \" + oldVersion + \" to \"\n     + newVersion + \", which will destroy all old data\");\n   db.execSQL(\"DROP TABLE IF EXISTS \" + SQLITE_TABLE);\n   onCreate(db);\n  }\n }\n\n public ProjectsDBAdapter(Context ctx) {\n  this.mCtx = ctx;\n }\n\n public ProjectsDBAdapter open() throws SQLException {\n  mDbHelper = new DatabaseHelper(mCtx);\n  mDb = mDbHelper.getWritableDatabase();\n  return this;\n }\n\n public void close() {\n  if (mDbHelper != null) {\n   mDbHelper.close();\n  }\n }\n\n public long createProject(String ip, String name, \n   String url, String calimero) {\n\n  ContentValues initialValues = new ContentValues();\n  initialValues.put(KEY_PROJECTNAME, name);\n  initialValues.put(KEY_ROUTERIP, ip);\n  initialValues.put(KEY_URL, url);\n  initialValues.put(KEY_CALIMERO, calimero);\n\n  return mDb.insertOrThrow(SQLITE_TABLE, null, initialValues);\n }\n\n public boolean deleteAllProjects() {\n\n  int doneDelete = 0;\n  doneDelete = mDb.delete(SQLITE_TABLE, null , null);\n  Log.w(TAG, Integer.toString(doneDelete));\n  return doneDelete &gt; 0;\n }\n\n //---deletes a particular title---\n public boolean deleteTitle(String name) \n {\n    return mDb.delete(SQLITE_TABLE, KEY_PROJECTNAME + \"='\" + name+\"'\", null) &gt; 0;\n }\n\n public Cursor fetchProjectsByName(String inputText) throws SQLException {\n  Log.w(TAG, inputText);\n  Cursor mCursor = null;\n  if (inputText == null  ||  inputText.length () == 0)  {\n   mCursor = mDb.query(SQLITE_TABLE, new String[] {KEY_ROWID,\n    KEY_PROJECTNAME, KEY_ROUTERIP, KEY_URL, KEY_CALIMERO}, \n     null, null, null, null, null); \n  }\n  else {\n   mCursor = mDb.query(true, SQLITE_TABLE, new String[] {KEY_ROWID,\n     KEY_PROJECTNAME, KEY_ROUTERIP, KEY_URL, KEY_CALIMERO}, \n     KEY_PROJECTNAME + \" like '%\" + inputText + \"%'\", null,\n     null, null, null, null);\n  }\n  if (mCursor != null) {\n   mCursor.moveToFirst();\n  }\n  return mCursor;\n }\n\n public Cursor fetchAllProjects() {\n\n  Cursor mCursor = mDb.query(SQLITE_TABLE, new String[] {KEY_ROWID,\n    KEY_PROJECTNAME, KEY_ROUTERIP, KEY_URL, KEY_CALIMERO}, \n    null, null, null, null,KEY_PROJECTNAME +\" DESC\");\n\n  if (mCursor != null) {\n   mCursor.moveToFirst();\n  }\n  return mCursor;\n }\n</code></pre>\n\n<p>}</p>\n\n<p>and with this code I fill the database:</p>\n\n<pre><code>        Name = project_name.getText().toString();\n        IP = router_ip.getText().toString();\n        URL = url.getText().toString();\n        dbHelper = new ProjectsDBAdapter(this);\n        dbHelper.open();\n        //TODO Name statt IP auf Duplikat überprüfen\n        try {\n            dbHelper.createProject(IP, Name, URL, \"Edit\");\n        } catch (SQLiteException exception) {\n            Log.d(\"SQLite\", \"Error\"+exception.toString());\n            exception.printStackTrace();\n            duplicate_flag = 1;\n        }\n</code></pre>\n\n<p>LogCat Output:</p>\n\n<pre><code>09-28 13:32:15.925: I/URL(22204): URL http://www.mokkapps.de/wp-admin/calimero.xml ist gültig!\n09-28 13:32:15.925: I/Name(22204): Projektname ist Test\n09-28 13:32:15.925: I/IP(22204): IP ist 1\n09-28 13:32:16.000: W/AndroidParseXMLActivity(22204): Start\n09-28 13:32:16.020: W/AndroidParseXMLActivity(22204): java.io.FileNotFoundException: /mnt/sdcard/Test.xml: open failed: ENOENT (No such file or directory)\n09-28 13:32:16.020: W/AndroidParseXMLActivity(22204):   at libcore.io.IoBridge.open(IoBridge.java:406)\n09-28 13:32:16.020: W/AndroidParseXMLActivity(22204):   at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:78)\n09-28 13:32:16.020: W/AndroidParseXMLActivity(22204):   at de.bertrandt.bertrandtknx.CreateProject.parseXML(CreateProject.java:340)\n09-28 13:32:16.020: W/AndroidParseXMLActivity(22204):   at de.bertrandt.bertrandtknx.CreateProject.save_project(CreateProject.java:291)\n09-28 13:32:16.020: W/AndroidParseXMLActivity(22204):   at de.bertrandt.bertrandtknx.CreateProject.onOptionsItemSelected(CreateProject.java:108)\n09-28 13:32:16.020: W/AndroidParseXMLActivity(22204):   at android.app.Activity.onMenuItemSelected(Activity.java:2564)\n09-28 13:32:16.020: W/AndroidParseXMLActivity(22204):   at com.android.internal.policy.impl.PhoneWindow.onMenuItemSelected(PhoneWindow.java:984)\n09-28 13:32:16.020: W/AndroidParseXMLActivity(22204):   at com.android.internal.view.menu.MenuBuilder.dispatchMenuItemSelected(MenuBuilder.java:735)\n09-28 13:32:16.020: W/AndroidParseXMLActivity(22204):   at com.android.internal.view.menu.MenuItemImpl.invoke(MenuItemImpl.java:149)\n09-28 13:32:16.020: W/AndroidParseXMLActivity(22204):   at com.android.internal.view.menu.MenuBuilder.performItemAction(MenuBuilder.java:874)\n09-28 13:32:16.020: W/AndroidParseXMLActivity(22204):   at com.android.internal.view.menu.ActionMenuView.invokeItem(ActionMenuView.java:613)\n09-28 13:32:16.020: W/AndroidParseXMLActivity(22204):   at com.android.internal.view.menu.ActionMenuItemView.onClick(ActionMenuItemView.java:121)\n09-28 13:32:16.020: W/AndroidParseXMLActivity(22204):   at android.view.View.performClick(View.java:3644)\n09-28 13:32:16.020: W/AndroidParseXMLActivity(22204):   at android.view.View$PerformClick.run(View.java:14313)\n09-28 13:32:16.020: W/AndroidParseXMLActivity(22204):   at android.os.Handler.handleCallback(Handler.java:605)\n09-28 13:32:16.020: W/AndroidParseXMLActivity(22204):   at android.os.Handler.dispatchMessage(Handler.java:92)\n09-28 13:32:16.020: W/AndroidParseXMLActivity(22204):   at android.os.Looper.loop(Looper.java:137)\n09-28 13:32:16.020: W/AndroidParseXMLActivity(22204):   at android.app.ActivityThread.main(ActivityThread.java:4517)\n09-28 13:32:16.020: W/AndroidParseXMLActivity(22204):   at java.lang.reflect.Method.invokeNative(Native Method)\n09-28 13:32:16.020: W/AndroidParseXMLActivity(22204):   at java.lang.reflect.Method.invoke(Method.java:511)\n09-28 13:32:16.020: W/AndroidParseXMLActivity(22204):   at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:993)\n09-28 13:32:16.020: W/AndroidParseXMLActivity(22204):   at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:760)\n09-28 13:32:16.020: W/AndroidParseXMLActivity(22204):   at dalvik.system.NativeStart.main(Native Method)\n09-28 13:32:16.020: W/AndroidParseXMLActivity(22204): Caused by: libcore.io.ErrnoException: open failed: ENOENT (No such file or directory)\n09-28 13:32:16.020: W/AndroidParseXMLActivity(22204):   at libcore.io.Posix.open(Native Method)\n09-28 13:32:16.020: W/AndroidParseXMLActivity(22204):   at libcore.io.BlockGuardOs.open(BlockGuardOs.java:110)\n09-28 13:32:16.020: W/AndroidParseXMLActivity(22204):   at libcore.io.IoBridge.open(IoBridge.java:390)\n09-28 13:32:16.020: W/AndroidParseXMLActivity(22204):   ... 22 more\n09-28 13:32:16.060: E/SKIA(22204): FimgApiStretch:stretch failed\n09-28 13:32:22.590: I/URL(22204): URL http://www.mokkapps.de/wp-admin/calimero.xml ist gültig!\n09-28 13:32:22.590: I/Name(22204): Projektname ist Test2\n09-28 13:32:22.590: I/IP(22204): IP ist 1\n09-28 13:32:22.635: D/SQLite(22204): Errorandroid.database.sqlite.SQLiteConstraintException: error code 19: constraint failed\n09-28 13:32:22.635: W/System.err(22204): android.database.sqlite.SQLiteConstraintException: error code 19: constraint failed\n09-28 13:32:22.640: W/System.err(22204):    at android.database.sqlite.SQLiteStatement.native_executeInsert(Native Method)\n09-28 13:32:22.640: W/System.err(22204):    at android.database.sqlite.SQLiteStatement.executeInsert(SQLiteStatement.java:113)\n09-28 13:32:22.640: W/System.err(22204):    at android.database.sqlite.SQLiteDatabase.insertWithOnConflict(SQLiteDatabase.java:1838)\n09-28 13:32:22.640: W/System.err(22204):    at android.database.sqlite.SQLiteDatabase.insertOrThrow(SQLiteDatabase.java:1737)\n09-28 13:32:22.640: W/System.err(22204):    at SQLite.ProjectsDBAdapter.createProject(ProjectsDBAdapter.java:88)\n09-28 13:32:22.640: W/System.err(22204):    at de.bertrandt.bertrandtknx.CreateProject.save_project(CreateProject.java:283)\n09-28 13:32:22.640: W/System.err(22204):    at de.bertrandt.bertrandtknx.CreateProject.onOptionsItemSelected(CreateProject.java:108)\n09-28 13:32:22.645: W/System.err(22204):    at android.app.Activity.onMenuItemSelected(Activity.java:2564)\n09-28 13:32:22.645: W/System.err(22204):    at com.android.internal.policy.impl.PhoneWindow.onMenuItemSelected(PhoneWindow.java:984)\n09-28 13:32:22.645: W/System.err(22204):    at com.android.internal.view.menu.MenuBuilder.dispatchMenuItemSelected(MenuBuilder.java:735)\n09-28 13:32:22.645: W/System.err(22204):    at com.android.internal.view.menu.MenuItemImpl.invoke(MenuItemImpl.java:149)\n09-28 13:32:22.645: W/System.err(22204):    at com.android.internal.view.menu.MenuBuilder.performItemAction(MenuBuilder.java:874)\n09-28 13:32:22.645: W/System.err(22204):    at com.android.internal.view.menu.ActionMenuView.invokeItem(ActionMenuView.java:613)\n09-28 13:32:22.645: W/System.err(22204):    at com.android.internal.view.menu.ActionMenuItemView.onClick(ActionMenuItemView.java:121)\n09-28 13:32:22.645: W/System.err(22204):    at android.view.View.performClick(View.java:3644)\n09-28 13:32:22.645: W/System.err(22204):    at android.view.View$PerformClick.run(View.java:14313)\n09-28 13:32:22.645: W/System.err(22204):    at android.os.Handler.handleCallback(Handler.java:605)\n09-28 13:32:22.645: W/System.err(22204):    at android.os.Handler.dispatchMessage(Handler.java:92)\n09-28 13:32:22.645: W/System.err(22204):    at android.os.Looper.loop(Looper.java:137)\n09-28 13:32:22.645: W/System.err(22204):    at android.app.ActivityThread.main(ActivityThread.java:4517)\n09-28 13:32:22.645: W/System.err(22204):    at java.lang.reflect.Method.invokeNative(Native Method)\n09-28 13:32:22.645: W/System.err(22204):    at java.lang.reflect.Method.invoke(Method.java:511)\n09-28 13:32:22.645: W/System.err(22204):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:993)\n09-28 13:32:22.645: W/System.err(22204):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:760)\n09-28 13:32:22.645: W/System.err(22204):    at dalvik.system.NativeStart.main(Native Method)\n</code></pre>\n\n<p>At the moment the exception is thrown if the routerip is duplicated, but I want to check the name.\nCan anyone find my mistake? Can't be that dramatic but I cannot find the problem...</p>\n"},{"tags":["database","sqlite","blackberry","java-me"],"answer_count":7,"favorite_count":1,"up_vote_count":4,"down_vote_count":1,"view_count":3119,"score":3,"question_id":847292,"title":"SQLite for BlackBerry","body":"<p>Is SQLite available for BlackBerry ?</p>\n\n<p>Is any other Database option available other than SQLite ?</p>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":46,"score":-2,"question_id":12638501,"title":"How to update an entire column in sqlite?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/5416836/need-to-update-the-value-of-a-column-in-sqlite\">Need to update the value of a column in SQLite</a>  </p>\n</blockquote>\n\n\n\n<p>Hi all I have 5 records in my SQLite data base table for my android application. The values are 5,25,15,25,25. Now i want to update my entire column with 50. For example 5+50=55 and do like the for all the values. I don't know how to write update query. Can anybody tell me? Thanks in advance.</p>\n"},{"tags":["android","sqlite"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":330,"score":0,"question_id":11807036,"title":"Not able to open database file in SQLite manager plugin for eclipse?","body":"<p>I downloaded the jar file and placed it in <code>/plugins</code> directory. Restarted eclipse as asked for eclipse to load new plugin. Opened file explorer and navigated to /package.name/databases/file.db but not able to open it in the plugin. It appears unclickable. What to do here? Check screenshot. <img src=\"http://i.stack.imgur.com/x7ZfW.png\" alt=\"enter image description here\"></p>\n"},{"tags":["javascript","sqlite","air","local-storage","offlineapps"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":144,"score":0,"question_id":12045274,"title":"Is it possible to use localStorage and window.openDatabase in Adobe AIR?","body":"<p>I have a working offline application (<code>.html</code> + <code>.js</code>). It uses localStorage and an SQLite database accessed using the <code>openDatabase</code> method. however, when I try to convert this to Adobe AIR using the Adobe Air Debug Launcher, it does not seem to work.</p>\n\n<p>I also get the following errors from command line:</p>\n\n<pre><code>\"ReferenceError: Can't find variable: localStorage\"\n</code></pre>\n\n<p>Is Adobe AIR not HTML5 compliant? If it's not supporting <code>localStorage</code> and <code>openDatabase()</code> - is it possible to just include another JS file to fix this?</p>\n\n<p>My concern is that I want the application to work in the Google Chrome browser and Adobe AIR without having to make a lot of rewrites.</p>\n"},{"tags":["sqlite","blackberry"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":221,"score":0,"question_id":10172461,"title":"SQLite Database opening issues With Blackberry Simulator?","body":"<p>I don't have any knowledge on working with Sqlite database on Blackberry. Recently i delved into database with Blackberry. When i tried to create the database, the database gets successfully created on Simulator(Simulate-->ChangeSDCard-->MountDirectory) on Some particular folder. </p>\n\n<p>Next when i try to Open the database for creating tables &amp; inserting data--</p>\n\n<pre><code>       String db_url =\"file:///SDCard/Databases/\"+\"sampleTest.db\";\n      db = DatabaseFactory.open(db_url);  \n</code></pre>\n\n<p>It through the DatabaseException error with message :\"Invalid path name. Path does not contains a proper root list. See FileSystemRegistry class for details.\"</p>\n\n<p>Please help me !! What is going Wrong here. </p>\n"},{"tags":["query","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":12637229,"title":"Basic SQL subqueries to get more than two table","body":"<p>Hi I have three table named <code>airports</code>, <code>flights</code>, <code>checkin</code>. From this table I need to retrive some fields like:</p>\n\n<pre><code>flight.code,\nflight.start_time,\nflight.end_time,\nflights.start_id,\nflights.endid,\nairports.name as sloc,\nairports.name as eloc\n</code></pre>\n\n<p>The conditions are:</p>\n\n<pre><code>ckeckin.flight_id = flights.id,\nairport.id = flights.startid, --for sloc\nairports.id = flights.endid --for eloc\n</code></pre>\n"},{"tags":["javascript","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":60,"score":0,"question_id":12636596,"title":"Arrange song list in alphabetical order case insensitive","body":"<p>I am following code to display song list in alphabetical order</p>\n\n<pre><code>function getSongsIn(key, value)\n{\n    var query= \"SELECT * FROM Songs where \" + key + \"=\\\"\" + value + \"\\\"ORDER BY title ;\" ; \n    SongsDB.transaction(function (tx) {\n        //tx.executeSql(query,[],showSongsIn,onError);\n        tx.executeSql(query,[],showSongs,onError);\n        }); \n}\n</code></pre>\n\n<p>Above code result in case sensitive arrangement.\nCan anyone suggest me to make it case insensitive?</p>\n"},{"tags":["wpf","sqlite","select","windows-8","microsoft-metro"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":92,"score":0,"question_id":12633936,"title":"Select query of sqlite in metro app?","body":"<p>I have seen quite a number of examples describing the usage of SQLite in Metro app. Most of the examples have either Orderby/Insert/Delete statements. May I know how do I get the data from a pre-populated db using the Select statement?</p>\n\n<p>Secondly, how does someone store the data into an array or arrayList after the execution of the query?</p>\n\n<p>Kindly help me with this,</p>\n\n<p>Thanks.</p>\n"},{"tags":["iphone","sqlite","sdk","insert"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":2149,"score":1,"question_id":4305255,"title":"How to insert into table (sqlite db) in iphone sdk","body":"<p>How can I insert data into an sqlite DB in iphone sdk (xcode)?\nthank you!</p>\n"},{"tags":["c","sqlite","sqlite3"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":12633919,"title":"sqlite3_open how to determine if file database created freshly?","body":"<p>Newbie to sqlite3. </p>\n\n<p>Correct me if my understand is wrong?.</p>\n\n<p>sqlite3_open ( filename, &amp;dbConnection) ->   </p>\n\n<pre><code>1) This API creates an database [ie: filename], if it does not exists, and sets\nthe context to dbConnection. \n2) If the database exists already it just sets the context to dbConnection. \n</code></pre>\n\n<p>Both the case (1) &amp; (2) returns SQLITE_OK.  </p>\n\n<p>Question: Now is there any possibility to filter if the database created first time?. </p>\n\n<p>For Example:\n     sqlite3_open (... )\n     if ( first time created the database) { create table }</p>\n\n<p>One possibility is to check the existence of the file, but i dont want to do that. Any alternative way from sqlite3 itself?.</p>\n"},{"tags":["mysql","sqlite","dump"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":32,"score":1,"question_id":12632773,"title":"SQLite multi row export","body":"<p>I dumped a SQLite database to a .sql file. However, there are about 800 inserts and importing it takes a lot of time. Like a minute or two.</p>\n\n<p>Is there a way to dump the data with multi-row inserts so the import could be faster, similar to the mysql extended inserts?</p>\n\n<p>I have to use the Windows sqlite3.exe command tool.</p>\n\n<p>Or I need a faster import command than <code>sqlite3.exe db.dat &lt; file.sql</code></p>\n"},{"tags":["sqlite","random"],"answer_count":3,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":326,"score":3,"question_id":5972380,"title":"generate multiple random numbers in sqlite","body":"<p>I'd like to generate size N set of random numbers in Sqlite.</p>\n\n<p>Right now the best I've got is to union a set of calls to <code>random()</code> like this</p>\n\n<pre><code>create view random_view as\nselect random()\nunion select random()\nunion select random()\nunion select random()\nunion select random()\n;\n</code></pre>\n\n<p>Maybe someone has a more clever solution that could generate N numbers?</p>\n"},{"tags":["javascript","sqlite","phonegap"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":52,"score":0,"question_id":12631037,"title":"javascript: create SQlite statement with escaped double quotes","body":"<p>I am trying to escape the double quotation marks in my json string in order to execute the following sqlite statement in phonegap ie. using javascript: </p>\n\n<blockquote>\n  <p>var sqlstatement= 'INSERT INTO ACTIVITY(activity)\n  VALUES(\"{\\\"clicks\\\":100, \\\"activityTypeCode\\\":3}\")'</p>\n</blockquote>\n\n<p>However when It try: </p>\n\n<pre><code>tx.executeSql(sqlStatement,errorCB, sucessCB)\n</code></pre>\n\n<p>the double quotes arent escaped and I go to the errorCallback because of the many pairs of double quotes. is there a way around this? </p>\n"},{"tags":["query","sqlite","sqlite3"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":12627848,"title":"Select attributes in descending order of # of word matches in comparison to a constant","body":"<p>I am faced with a database (sqlite specifically) query that I am not sure how to approach.</p>\n\n<p>I'm looking for all tuples that have 1-n word matches between their 'name' attribute and a constant.  Sorted in descending order.</p>\n\n<p>For example it is a database containing food items. If the constant is \"Maranatha Natural Almond Butter 26oz Lightly Roasted\" I would like any tuple in the database that contains atleast one of the words in that constant to be returned. For example \"Almond Butter Natural\" would come before \"Maranatha Natural\" which would come before \"Almond\", etc.</p>\n\n<p>Essentially as long as there is one intersecting word between the tuples attribute and the constant it qualifies a match.</p>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":64,"score":0,"question_id":12628014,"title":"Can't open database with SQLiteAssetHelper","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/7316191/android-sqlite-returned-error-code-14\">Android sqlite returned: error code = 14</a>  </p>\n</blockquote>\n\n\n\n<p>I have used SQLiteAssetHelper class/library to manipulate a database from assets/databases folder like indicated in that <a href=\"https://github.com/jgilfelt/android-sqlite-asset-helper\" rel=\"nofollow\">link</a>. I did exactly all the instructions, but i still can't access to the database.</p>\n\n<pre><code>09-27 19:35:46.417: I/Database(27474): sqlite returned: error code = 14, msg = cannot open file at source line 25467\n09-27 19:35:46.417: E/Database(27474): sqlite3_open_v2(\"/data/data/com.gatec.douaa/databases/data\", &amp;handle, 2, NULL) failed\n09-27 19:35:46.428: W/SQLiteAssetHelper(27474): could not open database data - unable to open database file\n09-27 19:35:46.428: W/SQLiteAssetHelper(27474): copying database from assets...\n09-27 19:35:46.447: W/SQLiteAssetHelper(27474): extracting file: 'database.db'...\n09-27 19:35:46.477: E/SQLiteAssetHelper(27474): Couldn't open data for writing (will try read-only):\n09-27 19:35:46.477: E/SQLiteAssetHelper(27474): com.readystatesoftware.sqliteasset.SQLiteAssetException: Missing databases/data.zip file in assets or target folder not writable\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>public class MyDatabase extends SQLiteAssetHelper {\n\n    private static final String DATABASE_NAME = \"data\";\n    private static final int DATABASE_VERSION = 1;\n\n    public MyDatabase(Context context) {\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\n\n\n    }\n</code></pre>\n\n<p>Any help please? Don't know the source of the problem.</p>\n"},{"tags":["sql","database","sqlite","sqlite3"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":54,"score":1,"question_id":12612482,"title":"How to make SQL query that will combine rows of result from one table with rows of another table in specific conditions in SQLite","body":"<p>I have aSQLite3 database with three tables. Sample data looks like this:</p>\n\n<p><strong>Original</strong></p>\n\n<pre><code>id    aName  code \n------------------\n1     dog     DG  \n2     cat     CT  \n3     bat     BT  \n4     badger  BDGR\n...   ...     ... \n</code></pre>\n\n<p><strong>Translated</strong></p>\n\n<pre><code>id   orgID   isTranslated  langID   aName     \n----------------------------------------------\n1     2           1         3       katze     \n2     1           1         3       hund      \n3     3           0         3       (NULL)    \n4     4           1         3       dachs     \n...   ...         ...       ...     ...        \n</code></pre>\n\n<p><strong>Lang</strong></p>\n\n<pre><code>id Langcode\n-----------\n1    FR  \n2    CZ\n3    DE\n4    RU\n...  ...\n</code></pre>\n\n<p>I want to select all data from  <strong>Original</strong> and <strong>Translated</strong> in way that result would consist of all data in <strong>Original</strong> table, but <em>aName</em> of rows that got translation would be replaced with <em>aName</em> from <strong>Translated</strong> table, so then I could apply an ORDER BY clause and sort data in the desired way.</p>\n\n<p>All data and table designs are examples just to show the problem. The schema does contain some elements like an <em>isTranslated</em> column or translation and original names in separate tables. These elements are required by application destination/design.</p>\n\n<p>To be more specific this is an example rowset I would like to produce. It's all the data from table <strong>Original</strong> modified by data from <strong>Translated</strong> if translation is available for that certain <em>id</em> from <strong>Original</strong>.</p>\n\n<p><strong>Desired Result</strong></p>\n\n<pre><code>id    aName  code    isTranslated\n---------------------------------  \n1     hund     DG         1\n2     katze    CT         1\n3     bat      BT         0\n4     dachs    BDGR       1\n...   ...      ...        ...\n</code></pre>\n"},{"tags":["python","sqlite","sqlite3"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":48,"score":1,"question_id":12625557,"title":"SQLite returns Unicode buffer that cannot be converted to usable strings","body":"<p>I'm reading in records from a sqlite3 database. \nThe data is stored as TEXT in the database, however I'm getting buffers back (which are in Unicode and nothing I can find seems to convert them into useable text (Unicode or not))</p>\n\n<p>To make it work I have to CAST to a TEXT in the SQL query.</p>\n\n<p>What point am I missing? </p>\n\n<p>As an example:</p>\n\n<pre><code>import sqlite3\n\ncon = sqlite3.connect('D:\\\\test.db' )\ncur = con.cursor()\n\n\nprint \"Before CAST\"\ncur.execute('SELECT Type FROM \\\"Internet Explorer History\\\" ')\nrow = cur.fetchone()\n\nprint row\nprint row[0]\nprint type(row[0])\nprint str(row[0])\nprint str(row[0]).encode('utf-8')\n\nprint \"----------------\"\n\nprint \"After CAST\"\ncur.execute('SELECT CAST( Type as TEXT) FROM \\\"Internet Explorer History\\\" ')\nrow = cur.fetchone()\n\nprint row\nprint row[0]\nprint type(row[0])\nprint str(row[0])\nprint str(row[0]).encode('utf-8')\n</code></pre>\n\n<p>This gives the following output:</p>\n\n<pre><code>Before CAST\n(&lt;read-write buffer ptr 0x0276A890, size 24 at 0x0276A870&gt;,)\nC a c h e  R e c o r d \n&lt;type 'buffer'&gt;\nC a c h e  R e c o r d \nC a c h e  R e c o r d \n----------------\nAfter CAST\n(u'Cache Record',)\nCache Record\n&lt;type 'unicode'&gt;\nCache Record\nCache Record\n</code></pre>\n\n<p>Note: spaces between letters of 'Cache Record' before the CAST are nulls. </p>\n\n<p>Thanks.</p>\n"},{"tags":["android","sqlite","broadcastreceiver"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":12392643,"title":"Database for a ContentProvider","body":"<p>I create a sqlite database in sqlitebrowser and copy it in assets and copy it to <code>/data/data/ir.smspeik.sms/databases/MyDB1</code> in main activity : </p>\n\n<pre><code>try {\n    String destPath = \"/data/data/\" + getPackageName()\n            + \"/databases/MyDB1\";\n    File f = new File(destPath);\n\n    if (!f.exists()) {\n        CopyDB(getBaseContext().getAssets().open(\"smsdb\"),\n                new FileOutputStream(destPath));\n        Toast.makeText(getApplicationContext(), \"ehsan\", Toast.LENGTH_LONG).show();\n    }\n} catch (FileNotFoundException e) {\n    e.printStackTrace();\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>I create a database Helper :</p>\n\n<pre><code>public class DBAdapter {\n    public static final String KEY_ROWID = \"id\";\n    public static final String KEY_TITLE = \"SmsTitle\";\n    public static final String KEY_BODY = \"SmsBody\";\n    public static final String KEY_TYPE = \"SmsType\";\n    public static final String KEY_NO = \"SmsNo\";\n    public static final String KEY_START = \"SmsStart\";\n    public static final String KEY_END = \"SmsEnd\";\n\n    private static final String TAG = \"DBAdapter\";\n\n    private static final String DATABASE_NAME = \"MyDB1\";\n    private static final String DATABASE_TABLE = \"sms\";\n    private static final int DATABASE_VERSION = 2;\n\n    private final Context context;    \n\n    private DatabaseHelper DBHelper;\n    private SQLiteDatabase db;\n\n    public DBAdapter(Context ctx) \n    {\n        this.context = ctx;\n        DBHelper = new DatabaseHelper(context);\n    }\n\n    private static class DatabaseHelper extends SQLiteOpenHelper \n    {\n        DatabaseHelper(Context context) \n        {\n            super(context, DATABASE_NAME, null, DATABASE_VERSION);\n        }\n\n        @Override\n        public void onCreate(SQLiteDatabase db) \n        {\n            try {\n\n            db =    SQLiteDatabase.openDatabase(\"/data/data/ir.smspeik.sms/databases/\"+\n            DATABASE_NAME, null, SQLiteDatabase.OPEN_READWRITE);\n        //  Toast.makeText(, broadcastIntent.getStringExtra(\"sms\"), Toast.LENGTH_SHORT).show();\n            //  db.execSQL(DATABASE_CREATE);    \n            //  db.openDatabase(path, factory, flags)\n            } catch (SQLException e) {\n                e.printStackTrace();\n            }\n        }\n\n        @Override\n        public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) \n        {\n            Log.w(TAG, \"Upgrading database from version \" + oldVersion + \" to \"\n                    + newVersion + \", which will destroy all old data\");\n            db.execSQL(\"DROP TABLE IF EXISTS contacts\");\n            onCreate(db);\n        }\n    }    \n\n    //---opens the database---\n    public DBAdapter open() throws SQLException \n    {\n        db = DBHelper.getWritableDatabase();\n        return this;\n    }\n\n    //---closes the database---    \n    public void close() \n    {\n        DBHelper.close();\n    }\n\n    //---insert a contact into the database---\n    public long insertContact(String name, String email) \n    {\n        ContentValues initialValues = new ContentValues();\n        initialValues.put(KEY_TITLE,\"ehsan\");\n        initialValues.put(KEY_BODY,\"ehsan\");\n        initialValues.put(KEY_TYPE,\"1\");\n        initialValues.put(KEY_NO,\"4534534\");\n        initialValues.put(KEY_START,\"1\");\n        initialValues.put(KEY_END,\"4\");\n\n        return db.insert(DATABASE_TABLE, null, initialValues);\n    }\n\n    //---deletes a particular contact---\n    public boolean deleteContact(long rowId) \n    {\n        return db.delete(DATABASE_TABLE, KEY_ROWID + \"=\" + rowId, null) &gt; 0;\n    }\n\n    //---retrieves all the contacts---\n    public Cursor getAllContacts() \n    {\n        return db.query(DATABASE_TABLE, new String[] {KEY_ROWID, KEY_TITLE,\n                KEY_BODY}, null, null, null, null, null);\n    }\n\n    //---retrieves a particular contact---\n    public Cursor getContact(long rowId) throws SQLException \n    {\n        Cursor mCursor =\n                db.query(true, DATABASE_TABLE, new String[] {KEY_ROWID,\n                KEY_TITLE, KEY_BODY}, KEY_ROWID + \"=\" + rowId, null,\n                null, null, null, null);\n        if (mCursor != null) {\n            mCursor.moveToFirst();\n        }\n        return mCursor;\n    }\n\n    //---updates a contact---\n    public boolean updateContact(long rowId, String name, String email) \n    {\n        ContentValues args = new ContentValues();\n        args.put(KEY_TITLE, name);\n        args.put(KEY_BODY, email);\n        return db.update(DATABASE_TABLE, args, KEY_ROWID + \"=\" + rowId, null) &gt; 0;\n    }\n}\n</code></pre>\n\n<p>In a BroadcastReceiver I call <code>insertcontact()</code> of database Helper : </p>\n\n<pre><code>DBAdapter db = new DBAdapter(context);\ndb.insertContact(\"ehsan\", \"emain\");\n</code></pre>\n\n<p>But when I receive a sms these errors raise : </p>\n\n<pre><code>09-12 12:10:34.561: E/AndroidRuntime(26173): FATAL EXCEPTION: main\n09-12 12:10:34.561: E/AndroidRuntime(26173): java.lang.RuntimeException: Unable to start receiver ir.smspeik.sms.ReceiveSms: java.lang.NullPointerException\n09-12 12:10:34.561: E/AndroidRuntime(26173):    at android.app.ActivityThread.handleReceiver(ActivityThread.java:2236)\n09-12 12:10:34.561: E/AndroidRuntime(26173):    at android.app.ActivityThread.access$1500(ActivityThread.java:130)\n09-12 12:10:34.561: E/AndroidRuntime(26173):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1271)\n09-12 12:10:34.561: E/AndroidRuntime(26173):    at android.os.Handler.dispatchMessage(Handler.java:99)\n09-12 12:10:34.561: E/AndroidRuntime(26173):    at android.os.Looper.loop(Looper.java:137)\n09-12 12:10:34.561: E/AndroidRuntime(26173):    at android.app.ActivityThread.main(ActivityThread.java:4745)\n09-12 12:10:34.561: E/AndroidRuntime(26173):    at java.lang.reflect.Method.invokeNative(Native Method)\n09-12 12:10:34.561: E/AndroidRuntime(26173):    at java.lang.reflect.Method.invoke(Method.java:511)\n09-12 12:10:34.561: E/AndroidRuntime(26173):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:786)\n09-12 12:10:34.561: E/AndroidRuntime(26173):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:553)\n09-12 12:10:34.561: E/AndroidRuntime(26173):    at dalvik.system.NativeStart.main(Native Method)\n09-12 12:10:34.561: E/AndroidRuntime(26173): Caused by: java.lang.NullPointerException\n09-12 12:10:34.561: E/AndroidRuntime(26173):    at ir.smspeik.sms.DBAdapter.insertContact(DBAdapter.java:91)\n09-12 12:10:34.561: E/AndroidRuntime(26173):    at ir.smspeik.sms.ReceiveSms.onReceive(ReceiveSms.java:30)\n09-12 12:10:34.561: E/AndroidRuntime(26173):    at android.app.ActivityThread.handleReceiver(ActivityThread.java:2229)\n09-12 12:10:34.561: E/AndroidRuntime(26173):    ... 10 more\n</code></pre>\n\n<p>I checked emulator by DDMS and I had MyDB1 in databases folder. what is error reason? </p>\n"},{"tags":["android","sqlite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12626873,"title":"Want to create \"databases\" folder to store the sqlite database","body":"<p>I have an sqlite database (.db), copied it in assets folder and have to copy it to /data/data/package_name/databases. The problem is I don't have databases folder and did not succeed to create it.</p>\n\n<pre><code>String dirPath = \"/data/data/com.gatec.douaa/databases/\";\nLog.d(\"Directory\",dirPath);\nFile projDir = new File(dirPath);\n if (!projDir.exists())\n        projDir.mkdirs();\n</code></pre>\n\n<p>Can you please help me to create that folder to store on it the database?\nThank you very much.</p>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":75,"score":0,"question_id":12623891,"title":"SQLite database doesn't work","body":"<p>It seems I can't insert data into my database and I don't know where is the problem.\nHere's the database code:</p>\n\n<pre><code>public class Database {\n    public static final String KEY_ROWID = \"_id\";\n    public static final String KEY_NAME = \"Name\";\n    public static final String KEY_PERIOD = \"Period\";\n    public static final String KEY_FREQUENCY = \"Frequency\";\n    public static final String KEY_RECIEVINGTIME = \"Recieving_time\";\n    public static final String KEY_STATS = \"Stats\";\n\n    private static final String DATABASE_NAME = \"Reports\";\n    private static final String DATABASE_TABLE = \"Table1\";\n    private static final int DATABASE_VERSION = 1;\n\n    private DbHelper myHelper;\n    private final Context myContext;\n    private SQLiteDatabase myDatabase;\n\n    private static class DbHelper extends SQLiteOpenHelper{\n\n        public DbHelper(Context context) {\n            super(context, DATABASE_NAME, null, DATABASE_VERSION);\n            // TODO Auto-generated constructor stub\n        }\n\n        @Override\n        public void onCreate(SQLiteDatabase db) {\n            // TODO Auto-generated method stub\n            db.execSQL(\"CREATE TABLE \" + DATABASE_TABLE + \" (\" +\n                    KEY_ROWID + \" INTEGER PRIMARY KEY AUTOINCREMENT, \" +\n                    KEY_NAME + \" TEXT NOT NULL, \" +\n                    KEY_PERIOD + \" TEXT NOT NULL, \" +\n                    KEY_FREQUENCY + \" TEXT NOT NULL, \" +\n                    KEY_RECIEVINGTIME + \" TEXT NOT NULL, \" +\n                    KEY_STATS + \" TEXT NOT NULL);\"\n                    );\n        }\n\n        @Override\n        public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n            // TODO Auto-generated method stub\n            db.execSQL(\"DROP TABLE IF EXISTS \" + DATABASE_TABLE);\n            onCreate(db);\n        }\n    }\n\n    public Database(Context c){\n        myContext = c;\n    } \n\n    public Database open(){\n        myHelper = new DbHelper(myContext);\n        myDatabase = myHelper.getWritableDatabase();\n        return this;\n    }\n\n    public void close(){\n        myDatabase.close();\n    }\n\n    public void writeEntry(String name, long period, long frequency, long recievingTime, String stats){\n        ContentValues cv = new ContentValues();\n        cv.put(KEY_NAME, name);\n        cv.put(KEY_PERIOD, period);\n        cv.put(KEY_FREQUENCY, frequency);\n        cv.put(KEY_RECIEVINGTIME, recievingTime);\n        cv.put(KEY_STATS, stats);\n        myDatabase.insert(DATABASE_TABLE, null, cv);\n    }\n\n    public Cursor query(String[] columns, String selection, String[] selectionArgs, String groupBy) {\n        // TODO Auto-generated method stub\n        Cursor c = myDatabase.query(DATABASE_TABLE, columns, selection, selectionArgs, groupBy, null, null);\n        return c;\n    }   \n}\n</code></pre>\n\n<p>I try to insert data with this method:</p>\n\n<pre><code>public void save(){\n    sharedPrefs = context.getSharedPreferences(SPNAME, 0);\n    Log.v(\" info\", sharedPrefs.getAll().toString());\n    Database database = new Database(context);\n    database.open();\n    database.writeEntry(\n            sharedPrefs.getString(NAME, \"No data was found\"), \n            sharedPrefs.getLong(PERIOD, 0),\n            sharedPrefs.getLong(FREQUENCY, 0), \n            sharedPrefs.getLong(RECIEVINGTIME, 0), \n            sharedPrefs.getString(STATS, \"No data was found\")\n            );\n    database.close();\n\n    editor.remove(NAME);\n    editor.remove(FREQUENCY);\n    editor.remove(RECIEVINGTIME);\n    editor.remove(PERIOD);\n    editor.remove(FREQUENCY);\n    editor.remove(STATS);\n    editor.commit();\n}\n</code></pre>\n\n<p>And I retrieve data with this method:</p>\n\n<pre><code> public ReportItem getReportInfo(String rowId){\n    ReportItem item = new ReportItem();\n    database = new Database(context);\n    database.open();\n    cursor = database.query(new String[]{\n            Database.KEY_NAME,\n            Database.KEY_PERIOD,\n            Database.KEY_FREQUENCY,\n            Database.KEY_RECIEVINGTIME,\n            Database.KEY_STATS}, Database.KEY_ROWID +\" = \"+rowId, null, null);\n\n    if(cursor.moveToFirst()){\n        item.setName(cursor.getString(cursor.getColumnIndex(Database.KEY_NAME)));\n        item.setPeriod(cursor.getLong(cursor.getColumnIndex(Database.KEY_PERIOD)));\n        item.setFrequency(cursor.getLong(cursor.getColumnIndex(Database.KEY_FREQUENCY)));\n        item.setReceivingTime(cursor.getLong(cursor.getColumnIndex(Database.KEY_RECIEVINGTIME)));\n        item.setStats(cursor.getString(cursor.getColumnIndex(Database.KEY_STATS)));         \n    }\n    cursor.close(); \n    database.close();   \n    Log.v(\"Data from database\", item.toString());\n    return item;\n}\n</code></pre>\n\n<p>In save() method before inserting data to db log shows:</p>\n\n<pre><code>09-27 17:19:54.973: V/info(31638): &lt;!&gt;com.dailyreports.ainius.Report 75&lt;!&gt; {Period=86400000, Name=report1, Stats=23 24 26 , Frequency=86400000, RecievingTime=62340000}\n</code></pre>\n\n<p>But in the getReportInfo(String) method after retrieving the same info from db log shows:</p>\n\n<pre><code>09-27 17:20:06.263: V/Data from database(31638): &lt;!&gt;com.dailyreports.ainius.Report 117&lt;!&gt;  0 0 0 \n</code></pre>\n\n<p>Any suggestions? Thanks in advance.</p>\n"},{"tags":["android","sqlite","transactions","ormlite"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":74,"score":2,"question_id":12608989,"title":"Ormlite Android bulk insets","body":"<p>can anyone explain why my inserts are taking so long in Ormlite? Doing 1,700 inserts in one  sqlite transaction on the desktop takes less than a second. However, when using Ormlite for Android, it's taking about 70 seconds, and I can see each insert in the debugging messages. </p>\n\n<p>When I try and wrap the inserts into one transaction it goes at exactly the same speed. I understand that there is overhead both for Android and for Ormlite, however, I wouldn't expect it to be that great. My code is below:</p>\n\n<pre><code>    this.db = new DatabaseHelper(getApplicationContext());\n    dao = db.getAddressDao();\nfinal BufferedReader reader = new BufferedReader(new InputStreamReader(getResources().openRawResource(R.raw.poi)));\n    try {\n        dao.callBatchTasks(new Callable&lt;Void&gt;() {\n            public Void call() throws Exception {\n                String line;\n                while ((line = reader.readLine()) != null) {\n                    String[] columns = line.split(\",\");\n                    Address address = new Address();\n                    // setup Address\n                    dao.create(address);\n                } \n            return null;\n         }\n        });\n    } catch (SQLException e) {\n        e.printStackTrace();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n</code></pre>\n"},{"tags":["sql","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":12290816,"title":"SQLite: Get Total/Sum of Column","body":"<p>I am using SQLite and am trying to return the total of one column <code>buy_price</code> in the column <code>TOTAL</code> while at the same time returning all of the data. I do not want/need to group the data as I need to have the data in each returned row.</p>\n\n<pre><code>id    date       pool_name    pool_id    buy_price  TOTAL\n 1    09/01/12   azp          5          20\n 2    09/02/12   mmp          6          10\n 3    09/03/12   pbp          4          5\n 4    09/04/12   azp          7          20\n 5    09/05/12   nyp          8          5             60\n</code></pre>\n\n<p>When I include something like  <code>SUM(buy_price) as TOTAL</code> it only returns one row. I need all rows returned along with the total of all <code>buy_price</code> entries.</p>\n"},{"tags":["sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":428,"score":0,"question_id":10264063,"title":"Open a password protected sqlite database","body":"<p>I have created a password protected sqlite database. I want to be able to view the database so that I can check that things are being inserted correctly during the development of my project. I have downloaded the sqlite database browser but this doesn't seem to let you open an encrypted database. </p>\n\n<p>Is there a way that I can open the database file.</p>\n\n<p>Thanks for any help you can provide. </p>\n"},{"tags":["java","android","sql","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":12624198,"title":"Updating values in Sqlite of Android and ContentValues","body":"<p>I want to update a row in a table, updating all the columns to new values except one that should keep the greatest value between the old and newValue.</p>\n\n<p>Is there some way of doing this without creating the raw query (for example using the <a href=\"http://developer.android.com/reference/android/database/sqlite/SQLiteDatabase.html#update%28java.lang.String,%20android.content.ContentValues,%20java.lang.String,%20java.lang.String%5B%5D%29\" rel=\"nofollow\"><code>update(String table, ContentValues values, String whereClause, String\\[\\] whereArgs)</code></a> function or other similar using ContentValues) in order to seize the character scaping and other advantages of that providers?</p>\n\n<p>The query I want to achieve is something like:</p>\n\n<pre><code>UPDATE users SET name='newName', address='newAddress',\n                 lastLogin=GREATEST(lastLogin,1348757941);\n</code></pre>\n"},{"tags":["objective-c","ios","xcode","sqlite"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":396,"score":0,"question_id":10274237,"title":"problems with sqlite3_prepare() Objective C","body":"<p>When this program runs this code to connect to the SQLite database it can passes through the path test, opens the database, the SQL works on the actual database. Then it fails when it tries to do the sqlite3_prepare statement. It exits with a code of 1 - SQL error or missing database. It will then continue on with the program all the way until it tries to read the data it got from the database. It then fails because it never got anything because it came back with an SQL error or missing database code from the sqlite3_prepare statement. I'm looking for the part of the code which is wrong/I could correct to make it succeed on the sqlite3_prepared statement. </p>\n\n<pre><code>#import \"contactDAO.h\"\n#import \"contact.h\"\n\n@implementation contactDAO\n\n- (NSMutableArray *) getList{\nNSMutableArray *contactArray = [[NSMutableArray alloc] init];\n@try {\n    NSFileManager *fileMgr = [NSFileManager defaultManager];\n    NSString *dbPath = [[[NSBundle mainBundle] resourcePath ]stringByAppendingPathComponent:@\"iFLY.sqlite\"];\n    BOOL success = [fileMgr fileExistsAtPath:dbPath];\n    if(!success)\n    {\n        NSLog(@\"Cannot locate database file '%@'.\", dbPath);\n    }\n    if(!(sqlite3_open([dbPath UTF8String], &amp;db) == SQLITE_OK))\n    {\n        NSLog(@\"An error has occured.\");\n    }\n    const char *sql = \"SELECT reportNumber, dateEntered, country, state FROM CONTACT\";\n    sqlite3_stmt *sqlStatement;\n    if(sqlite3_prepare(db, sql, -1, &amp;sqlStatement, NULL) != SQLITE_OK)\n    {\n        NSLog(@\"Problem with prepare statement\");\n    }\n\n    //\n    while (sqlite3_step(sqlStatement)==SQLITE_ROW) {\n        Contact *contactInfo;\n\n        contactInfo.reportNumber = sqlite3_column_int(sqlStatement, 0);\n        contactInfo.dateEntered = sqlite3_column_int(sqlStatement, 1);\n        contactInfo.country = [NSString stringWithUTF8String:(char *) sqlite3_column_text(sqlStatement,2)];\n        contactInfo.state = [NSString stringWithUTF8String:(char *) sqlite3_column_text(sqlStatement,3)];\n        /*contactInfo.county = [NSString stringWithUTF8String:(char *) sqlite3_column_text(sqlStatement,4)];\n        contactInfo.town = [NSString stringWithUTF8String:(char *) sqlite3_column_text(sqlStatement,5)];\n        contactInfo.policeContact = [NSString stringWithUTF8String:(char *) sqlite3_column_text(sqlStatement,6)];\n        contactInfo.policeReport = sqlite3_column_int(sqlStatement, 7);\n        contactInfo.autopsyNumber = sqlite3_column_int(sqlStatement, 8);\n        contactInfo.lastSeen = sqlite3_column_int(sqlStatement, 9);\n        contactInfo.victimName = [NSString stringWithUTF8String:(char *) sqlite3_column_text(sqlStatement,10)]; */\n        [contactArray addObject:contactInfo];\n    }\n}\n@catch (NSException *exception) {\n    NSLog(@\"An exception occured: %@\", [exception reason]);\n}\n@finally {\n    return contactArray;\n} \n}\n\n@end\n</code></pre>\n\n<p>Thanks!</p>\n"},{"tags":["android","mysql","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":60,"score":1,"question_id":12623330,"title":"Check if query was successful in sqlite for Android","body":"<p>In order to insert data into a sqlite table named mytable in android I use query:</p>\n\n<pre><code>db.execSQL(\"INSERT INTO MYTABLE VALUES('','\"+name+\"',NOW());\");\n</code></pre>\n\n<p>I want to check whether this query was successfully inserted into the table or not.\nIn php (with mysql) you could easily do </p>\n\n<pre><code>if($result) \n    echo 'success';\nelse        \n    echo 'not inserted';\n</code></pre>\n\n<p>But what is the equivalent code in android (with sqlite) <strong>to check whether the query has been successfully \nexecuted without any error</strong>?</p>\n"},{"tags":["sqlite","jdbc"],"answer_count":1,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":287,"score":4,"question_id":7620792,"title":"SQLite/JDBC inner join","body":"<p>I have found what appears to be a bug in the SQLite JDBC driver, but I thought I'd see if someone could spot any boneheaded errors on my part.  I have the following query:</p>\n\n<pre><code>SELECT \n    SKU_ATTR_VALUE.*, \n    Product.ProductID \nFROM \n    SKU_ATTR_VALUE \n    INNER JOIN SKU \n    ON SKU_ATTR_VALUE.SkuID=SKU.SkuID \n    INNER JOIN Product \n    ON SKU.ProductID=Product.ProductID \nWHERE Product.ProductID=?\n</code></pre>\n\n<p>Pretty simple.  I can run this in the SQLite database browser, replacing the ? with 1, and it returns 18 rows, which is just what it should do.  Only 18 rows match the condition.  But when I run this in Java, and pass in the value 1, I get 817 values back.  And that's not a Cartesian join;  there are 864 possible values in SKU_ATTR_VALUE.  The results I get back have at least one value for each record in Product too...so I really can't imagine what is happening.</p>\n\n<p>I've been looking at this a while and I'm completely stumped.  Googling it doesn't seem to turn anything up.  Yes, I'm sure that I'm running the Java query against the same SQLite database as in the SQLite browser.</p>\n\n<p>The name of the SQLite jar is sqlitejdbc-v056.jar.  It is based on SQLite 3.6.14.2.</p>\n\n<p>Here is the Java code that sets up the query:</p>\n\n<pre><code>String sql = \"SELECT SKU_ATTR_VALUE.*, Product.ProductID \" + \n             \"FROM SKU_ATTR_VALUE \" + \n             \"     INNER JOIN SKU ON SKU_ATTR_VALUE.SkuID=SKU.SkuID \" + \n             \"     INNER JOIN Product ON SKU.ProductID=Product.ProductID \" + \n             \"WHERE Product.ProductID=?\";\nps = conn.prepareStatement(sql);\nps.setInt(1, productID);\nResultSet rs = ps.executeQuery();\n</code></pre>\n"},{"tags":["python","sqlite","sync","elixir"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":38,"score":1,"question_id":12622081,"title":"How to sync sqlite/elixir databases via Internet","body":"<p>I got a desktop application written in python (<a href=\"http://www.riverbankcomputing.co.uk/software/pyqt/download\" rel=\"nofollow\">pyqt</a>) that uses <a href=\"http://elixir.ematia.de/trac/wiki\" rel=\"nofollow\">Elixir</a> in combination with a sqlite database to store its data.</p>\n\n<p>Now I would like to run that application on an other desktop system and sync the data between these two programms. </p>\n\n<p>What is the best way to sync these 2 sqlite-databases with each other / a dedicated server? I am thinking of something like <em>One User has two devices that should sync with each other.</em></p>\n\n<p>I am not quite sure what database type the server should be (mysql or sqlite or ...), if I should sync via an http-api and json oder whatsoever. </p>\n\n<p>What do you think that would be the best choice of technology?</p>\n"},{"tags":[".net","sql","sqlite","shell"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":47,"score":1,"question_id":12620673,"title":".NET Sqlite SQL Shell?","body":"<p>I'm using the <a href=\"http://system.data.sqlite.org/\" rel=\"nofollow\">official SQLite for .NET</a> but I would like to use it as a SQL shell (like the sqlite command-line shell), where users can enter arbitrary SQL, such as:</p>\n\n<pre><code>&gt;&gt;&gt; CREATE TABLE employee (firstname varchar(32), lastname varchar(32))\n&gt;&gt;&gt; insert into employee values('First','Last');\n&gt;&gt;&gt; select * from employee;\nFirst | Last\n</code></pre>\n\n<p>and maybe even:</p>\n\n<pre><code>&gt;&gt;&gt; .tables\nemployee\n</code></pre>\n\n<p>Is there code in the library to make this easy? Or another library to wrap SQLite for .NET?</p>\n"},{"tags":["iphone","ios","sqlite","sql-update","fmdb"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":124,"score":1,"question_id":12621073,"title":"iphone FMDB / SQLite Update Query doesn't work","body":"<p>I try to do an update in a table using sql wrapper (FMDB). Insert method is oky and when I try to update data in the table problems occur.</p>\n\n<pre><code>- (void)saveUserMoneyValidation:(UserDebtInfo *)entities\n{\n    NSLog(@\"entities.client_index = %d\", entities.client_index);\n\n    [self deleteUserMoneyValidation:entities.client_index];\n\n    FMDatabase *newdb = [FMDatabase databaseWithPath:databasePathStore];\n\n    [newdb setLogsErrors:TRUE];\n    [newdb setTraceExecution:FALSE];\n\n    if (![newdb open])\n    { \n        NSLog(@\"!!! Could not open db.\"); \n        return; \n    }\n    else \n    { \n        NSLog(@\"DB Open successfuly.\"); \n    }\n\n    [newdb beginTransaction];\n    NSLog(@\"entities = %@\",entities);\n\n    [newdb executeUpdate:@\"INSERT INTO MoneyValidation (client_index, client_name, sum, duration, monthly_payment, payment_type, debt_type, debt_code, categoryType) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)\",\n    [NSNumber numberWithInt:entities.client_index],\n     entities.client_name,\n     entities.sum,\n     entities.duration,\n     entities.monthly_payment,\n     entities.payment_type,\n     entities.debt_type,\n     [NSNumber numberWithInt:entities.debt_code],\n     entities.categoryType\n     ];\n\n    [newdb commit];\n    [newdb close];\n}\n</code></pre>\n\n<p>Update Method :</p>\n\n<pre><code>   -(void)updateUserMoneyValidation:(UserDebtInfo *)entities{\nNSLog(@\"entities.client_index = %d\", entities.client_index);\n\nFMDatabase *newdb = [FMDatabase databaseWithPath:databasePathStore];\n\n[newdb setLogsErrors:TRUE];\n[newdb setTraceExecution:FALSE];\n\nif (![newdb open])\n{ \n    NSLog(@\"!!! Could not open db.\"); \n    return; \n}\nelse \n{ \n    NSLog(@\"DB Open successfuly.\"); \n}\n\nBOOL success = NO;\n\n[newdb beginTransaction];\nNSLog(@\"entities = %@\",entities);\n\nsuccess = [newdb executeUpdate:@\"UPDATE MoneyValidation SET client_name = ?, sum = ?, duration = ?, monthly_payment = ?, payment_type = ?, debt_type = ?, debt_code = ?, categoryType = ?  WHERE client_index = %d;\", entities.client_name, entities.sum, entities.duration, entities.duration, entities.monthly_payment, entities.payment_type, entities.debt_type, entities.debt_code, entities.categoryType, entities.client_index];\n\nif (success)\n{\n    NSLog(@\"OK\");\n    [db commit];\n    [db close];\n}\nelse \n{\n    NSLog(@\"FAIL\");\n}\n\nNSLog(@\"OBJ - %@\", entities);}\n</code></pre>\n\n<p>The table structure : </p>\n\n<pre><code>CREATE TABLE MoneyValidation (ID INTEGER PRIMARY KEY, client_index INTEGER, client_name TEXT, sum TEXT, duration TEXT, monthly_payment TEXT, payment_type TEXT, debt_type TEXT, debt_code INTEGER, categoryType TEXT)\n</code></pre>\n\n<ul>\n<li><p>client_index is a unique code;</p>\n\n<p>Can someone help me with some advice about this problem?\nThank you!</p></li>\n</ul>\n"},{"tags":["php","sql","sqlite","pdo","database-connection"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":40,"score":1,"question_id":12588043,"title":"SQlite 3 PDO statements failing in PHP","body":"<p>Why does the following statement fail in php (I have an established PDO connection to sqlite database named config.db).</p>\n\n<pre><code>$stmt = $this-&gt;db-&gt;prepare(\"INSERT INTO config (S_BASE_DIR) VALUES (':col0')\");\n$stmt-&gt;bindParam(':col0',$colValue);\n$stmt-&gt;execute();\n$stmt-&gt;close();\n</code></pre>\n\n<p>The exact error is:</p>\n\n<blockquote>\n  <p>Fatal error: Uncaught exception 'PDOException' with message\n  'SQLSTATE[HY000]: General error: 25 bind or column index out of range'</p>\n</blockquote>\n"},{"tags":["android","database","sqlite","filtering"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":12620689,"title":"Android SQLite update items with whereclause","body":"<p>I need some suggestions about how to update data in SQLite database. Now I am doing it in this way:</p>\n\n<pre><code>public void insertadoMedidasAdoptarCorrectamente(String codMedAdC,\n        String codigoServicio) {\n    AndroidOpenDbHelper androidOpenDbHelper = new AndroidOpenDbHelper(this);\n    SQLiteDatabase sqliteDatabase = androidOpenDbHelper\n            .getWritableDatabase();\n\n    ContentValues contentValues = new ContentValues();\n    contentValues.put(AndroidOpenDbHelper.insertadoCorrectamente, 1);\n\n    sqliteDatabase.update(\"MedidasAdoptarSeleccionadas\", contentValues,\n            \"codigomedida = '\" + codMedAdC + \"' AND codigoservicio = '\"\n                    + codigoServicio + \"'\", null);\n\n    sqliteDatabase.close();\n}\n</code></pre>\n\n<p>I heard that this is not the best way to update data. I think that sometimes it faults. Because of that code:</p>\n\n<pre><code>sqliteDatabase.update(\"MedidasAdoptarSeleccionadas\", contentValues,\n            \"codigomedida = '\" + codMedAdC + \"' AND codigoservicio = '\"\n                    + codigoServicio + \"'\", null);\n\n    sqliteDatabase.close();\n</code></pre>\n\n<p>You can observe that I am filtering items by two fields. I have seen that this could be done with whereclause arguments. </p>\n\n<p>So, my question is, which is the best way to filter data that is gonna to update?</p>\n\n<p>Thanks.</p>\n"},{"tags":["python","sqlite","sql-server-2005","sqlalchemy"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":51,"score":1,"question_id":12619566,"title":"Query working in SQL Server  but dont work in sqlite","body":"<p>In one program on python i'm making query to SQL Server 2005 via sqlalchemy:</p>\n\n<pre><code>SELECT * FROM table \nWHERE (cipher=:value? OR CHARINDEX(cipher_mask,:value?)!=0)\nand NOT exists( SELECT * FROM table WHERE CHARINDEX(not_cipher_mask,:value?)!=0 AND code=:code?)\nand code=:code?\n</code></pre>\n\n<p>This works fine.</p>\n\n<p>I'm trying to create similar query for SQLite (it does not use function <code>CHARINDEX</code>)</p>\n\n<pre><code>SELECT * FROM table \nwhere (cipher=:value?  OR :value?  like cipher_mask+'/%')\nand not exists (SELECT * FROM table  where code=:code? and :value? like not_cipher_mask +'/%') and code=:code?\n</code></pre>\n\n<p>This works fine in SQL Server 2005, but in SQLite, I get an empty result</p>\n\n<p>Why it is not working here?</p>\n\n<p>P.S. All columns in table are <code>VARCHAR</code> with same data</p>\n"},{"tags":["php","sqlite","codeigniter"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":12620294,"title":"Working with sqlite and codeigniter","body":"<p>My goal is to create a sqlite database file that would be downloaded by iOS application later.</p>\n\n<p>My question is, how can i create a sqlite database file with CodeIgniter? What is the sqlite file's structure?</p>\n\n<p>Thank you very much!</p>\n"},{"tags":["iphone","objective-c","ios","sqlite","core-data"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":12619557,"title":"CoreData objects or SQL statements for complex reporting?","body":"<p>My iOS app has a model carried over from a PostgreSQL database. The application has reporting functionality that has the potential to get more complicated in the future. Also, there may be a need to synchronize local app data with a PostgreSQL database server.</p>\n\n<p>So far I have used CoreData objects to read, write and delete data. I've been translating SQL queries to use CoreData language, but have found it unnecessarily cumbersome for some of them, e.g.:</p>\n\n<pre><code>select sum(amount), date from db.table group by date;\n</code></pre>\n\n<p>This is just one example and the application will potentially require more complex reporting queries in the future. Because of that I am thinking of switching from CoreData to querying SQLite directly (I could use queries already written to query the PostgreSQL DB).</p>\n\n<p>My questions are:</p>\n\n<ul>\n<li>Would it be worth it to keep using CoreData instead of SQL queries, considering that reporting is a core feature of the application (i.e. will require non-trivial SELECT queries)?</li>\n<li>Would it be feasible to use both SQL (for complex SELECT queries) and CoreData (for the rest of the application) with the same storage?</li>\n</ul>\n"},{"tags":["database","query","sqlite","filter","base64"],"answer_count":1,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":383,"score":4,"question_id":6246538,"title":"Base64 in SQLite?","body":"<p>Is there something like</p>\n\n<pre><code>SELECT * FROM foo WHERE base64(bar) LIKE '%bararar%'\n</code></pre>\n\n<p>in SQLite?</p>\n\n<p>If not, are there other compareable functions in other SQL-style databases? (MySQL, MSSQL and so on)</p>\n\n<p>I really need to know this because I have a huge database where some base64-encodings of strings contain a specific character which I have to filter out. Hope someone can help me.</p>\n"},{"tags":["sql","sqlite","insert","autoincrement"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":12618557,"title":"Get ID of autoincrement field in SQLite","body":"<p>I'm using SQLite database.\nI want make an insert and get the field ID (autogenerated) of this insert.\nThe field ID is an autoincrement key.\nI'm using the statement </p>\n\n<pre><code>  SELECT last_insert_rowid();\n</code></pre>\n\n<p>and this works fine.</p>\n\n<p>The problem is when I have many concurrent insert into the table: in this case it possible it returns me an ID associated to another insert (not my insert). </p>\n\n<p>What can I do, for making the operation in autonoumus manner?</p>\n"},{"tags":["android","sqlite"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":32,"score":1,"question_id":12618153,"title":"Android - Attempt to write in a readonly database when I open it readonly","body":"<p>i don't understand this at all.\nI try to open a db located in my SD card this way:</p>\n\n<pre><code>db = SQLiteDatabase.openDatabase(myPath, null, \n           SQLiteDatabase.NO_LOCALIZED_COLLATORS | SQLiteDatabase.OPEN_READONLY);\n</code></pre>\n\n<p>But in that very line it throws this exception:</p>\n\n<blockquote>\n  <p>android.database.sqlite.SQLiteException: attempt to write a readonly database</p>\n</blockquote>\n\n<p>It doesen't happen in my other devices, just this one that has android 2.3.3</p>\n"},{"tags":["iphone","sqlite","fmdb"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":12615235,"title":"FMDB using online database?","body":"<p>I use FMDB to speak with the database from my app, and now I would like to put this database online so it will be possible to access it anywhere.</p>\n\n<p>I found lot of ways, but nothing really interesting, and always very confusing.</p>\n\n<p>Is there any easy way to do it? </p>\n"},{"tags":["database","query","sqlite","sqlite3"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":12616078,"title":"select attributes which are a substring of a constant","body":"<p>I am faced with a database (sqlite specifically) query that I am not sure how to approach.</p>\n\n<p>I am looking for all tuples who's name attribute is a substring of some provided constant.</p>\n\n<p>For example it is a database containing food items.  If the constant is \"Maranatha Natural Almond Butter 26oz Lightly Roasted\"  I would like any tuple in the database that contains the words \"Almond Butter\", \"Maranatha Natural\", etc to be returned as matches.</p>\n\n<p>I really am at a loss for how to approach this problem efficiently and any help would be greatly appreciated.</p>\n"},{"tags":["sql","sqlite","like"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":82,"score":0,"question_id":12613926,"title":"SQLite query, 'LIKE'","body":"<p>I am trying to retrieve information from my database.<br>\nI have words like <code>Lim Won Mong</code> and <code>Limited</code>.</p>\n\n<p>If I do my query, <code>SELECT name FROM memberdb WHERE name LIKE '%LIM%'</code>, it displays both <code>Lim Won Mong</code> and <code>Limited</code> and I only want data from <code>Lim Won Mong</code>.</p>\n\n<p>How should I rewrite my query?</p>\n"},{"tags":["sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":12616865,"title":"please help me to change this query from MySql to Sqllite","body":"<p>Please help to change the below MySQL query to SqlLite</p>\n\n<pre><code>SELECT \n    DISTINCT t.arabic_term AS t__1,\n    SUBSTR(t.definition, 1, 60) AS Definition,\n    Sum(if(t3.is_main=\"y\", 1 ,0)) AS t3__5\nFROM term t \nINNER JOIN term_disease t2 ON (t2.disease_id = t.term_id) \nINNER JOIN term_disease_symptom t3 ON (t3.disease_id = t2.disease_id)\nWHERE (t3.symptom_id in ( 45378 , 45351, 5546 ) AND t2.gender != 1  AND t2.active = 1 )\nGROUP BY t3.disease_id\nORDER BY t3__5  desc;\n</code></pre>\n"},{"tags":["iphone","ios","sqlite","core-data","model"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":12615862,"title":"Can I use core data for my app?","body":"<p>I am making an app which shows serval forms. The forms data will be saved in the local and uploaded in the future. The sources code was already there and the models are using core data. </p>\n\n<p>Now our client challenges us. They want to add some new forms without changing the app. The models and layouts of the forms will be totally different.</p>\n\n<p>My idea is creating a XML format which stores a form configuration. Forms are to be created and loaded onto the server.</p>\n\n<p>My Question is can I use core data to do this, or I have to use SQLite(FMDB).<br>\nCan anyone give me some suggestion? Sincere thanks!!!</p>\n\n<hr>\n\n<p>My Question may not clear</p>\n\n<p>If we use core data, we can create the model class first. \nBut the issue now is the model is dynamic, it will be changed by different forms(xml).\nIs core data available?</p>\n"},{"tags":["sqlite","posix","file-permissions","chmod","umask"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":12610702,"title":"Can I get a callback / do I know when SQLite has created write-ahead log files? I want to chmod them","body":"<p>I have an elevated process and I want to make sure the SQLite files that it creates are readable by other processes. For some reason <code>umask</code> doesn't seem to do what I want (set permissions of sqlite file created by process).</p>\n\n<p>I'm using write-ahead logging, so <code>-wal</code> and <code>-shm</code> files are created in addition to the database file. I want all 3 to be chmodded correctly.</p>\n\n<p>I wonder if it's possible to get in after the SQLite file is created and <code>chmod</code> it.</p>\n\n<p>Possible approaches:</p>\n\n<ol>\n<li><code>touch</code> all 3 files before SQLite tries to create them, then chmod and hope the mask stays the same</li>\n<li>Intercept when the files are created and <code>chmod</code> them. </li>\n<li>Work out how to get <code>umask</code> to work for the process.</li>\n<li>Mystery option four.</li>\n</ol>\n\n<p>What's the best way to go?</p>\n\n<p>Questions for approaches:</p>\n\n<ol>\n<li>Will SQLite be OK with this?</li>\n<li>Do we know when all 3 files are created? Is there some kind of callback I can give a function pointer to? Do we know if the same <code>wal</code> and <code>shm</code> files are around forever? Or are they deleted and re-created?</li>\n</ol>\n"},{"tags":["android","sqlite","special-characters"],"answer_count":5,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":151,"score":1,"question_id":12615113,"title":"How to escape special characters like ' in sqlite in android","body":"<p>I have a function which is executing a query on a table in SQLite database.I have declare constant like : <code>public static final String CANADA_HISTORY = \"Canada's History\";.</code> This is stored in a String variable let's say <code>difficulty</code>,</p>\n\n<p>I have one query like</p>\n\n<pre><code>Cursor c = mDb.rawQuery(\"select * from Questions_answers where CHAPTERS = '\"+difficulty+\"'\" , null);\n</code></pre>\n\n<p>.But it is throwing some exception near appos s. Any solution will be appreciated.</p>\n\n<p>Into Logcat like :</p>\n\n<pre><code>I/Database( 1170): sqlite returned: error code = 1, msg = near \"s\": syntax error\nD/AndroidRuntime( 1170): Shutting down VM\nW/dalvikvm( 1170): threadid=1: thread exiting with uncaught exception (group=0x40015560)\nE/AndroidRuntime( 1170): FATAL EXCEPTION: main\nE/AndroidRuntime( 1170): android.database.sqlite.SQLiteException: near \"s\": syntax error: , while compiling: select * from Questions_answers where CHAPTERS  = 'Canada's History'\n</code></pre>\n\n<p>I have also tried like:</p>\n\n<pre><code>1.  difficulty=difficulty.replaceAll(\"'\",\"''\");\n2.  difficulty=difficulty.replaceAll(\"'\",\"\\'\");\n3.  difficulty = DatabaseUtils.sqlEscapeString(difficulty);\n</code></pre>\n\n<p>And more things It's working me for the single words like <code>Canada History</code>, I mean without the special character word.</p>\n\n<p>Please give me advice for the solve   problem Thanks.</p>\n"},{"tags":["android","sql","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":58,"score":-1,"question_id":12614642,"title":"What's wrong with my SQLite Statement? I keep getting a syntax error","body":"<p>I keep getting the following error and I can't figure out why:</p>\n\n<blockquote>\n  <p>09-26 22:18:42.255: E/AndroidRuntime(10613): FATAL EXCEPTION: main\n      09-26 22:18:42.255: E/AndroidRuntime(10613):\n      android.database.sqlite.SQLiteException:     near \",\": syntax error (code 1): , </p>\n</blockquote>\n\n<p>while  compiling: </p>\n\n<pre><code>UPDATE reminders\nSET NAME = 'Finish this app.'\n    , category = 'Personal'\n    , priority = 'Urgent'\n    , note = 'Test note'\n    , phone_call = 0\n    , text_message = 0\n    , phone_number = ''\n    , text_message_content = ''\n    , no_reminder = 0\n    , remind_me_after = 1\n    , remind_me_after_length = 120\n    , custom_remind_me_after = 0\n    , remind_me_at = 0\n    , time_hour = 22\n    , time_minute = 18\n    , date_month = 8\n    , date_day = 26\n    , date_year = 2012\n    , recur = Never\n    , custom_recur_length = 0\n    , custom_recur_unit = NULL\n    , custom_recur_until_month = 0\n    , custom_recur_until_day = 0\n    , custom_recur_until_year = 0\n    , custom_recur_sunday = 0\n    , custom_recur_monday = 0\n    , custom_recur_tuesday = 0\n    , custom_recur_wednesday = 0\n    , custom_recur_thursday = 0\n    , custom_recur_friday = 0\n    , custom_recur_saturday = 0\n    , share_email_address = ''\n    , share_email_message = ''\n    , share_phone_number = ''\n    , share_text_message_content = ''\n    , alert_type_sound = 1\n    , alert_type_vibrate = 1\n    , alert_type_notification_light = 1\n    , repeat_alert = 0\n    , repeat_alert_length = 0\n    , repeat_alert_times = 0\nWHERE _id = 8\n</code></pre>\n"},{"tags":["android","sqlite","adb","pull"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":2736,"score":2,"question_id":5168955,"title":"Problem pulling file from emulator using GUI -OR- adb command","body":"<p>I'm developing my first Android application in Eclipse, Win7x64 and am having trouble pulling a SQLite file to inspect what's getting in it.  I'm seeing this problem using DDMS GUI to pull, which seems somewhat known:</p>\n\n<blockquote>\n  <p>[2011-03-01 20:15:51] Failed to pull selection</p>\n  \n  <p>[2011-03-01 20:15:51] (null)</p>\n</blockquote>\n\n<p>So I tried the adb command line and while it appears to see the file, it is not to be found on the HD.  I've tried multiple syntaxes with front/back slashes in the path and quotes surrounding the filename with no explicit path.  I get \"374 kb/s (6144 b)\" or whatever suggesting a successful pull, but the file is not there.</p>\n"},{"tags":["android","sqlite","cursor"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":50,"score":1,"question_id":12610965,"title":"How to get actual position of Cursor?","body":"<p>I'm trying to organize favourites in my app. I have a database with three columns:</p>\n\n<pre><code>_id | name  | description |  star\n\n1    London   some desc.\n2    Berlin   some desc.    \n3    Paris    some desc.     yes\n</code></pre>\n\n<p>I want to display favourites in listview. The refreshCursor() returns list of names with \"star\" column value \"yes\":</p>\n\n<pre><code>private static final String COLUMN_STAR = \"star\";\n\nprivate void refreshCursor() {\n        stopManagingCursor(cursor);\n        Intent intent = getIntent();\n        String TABLE_NAME = intent.getStringExtra(\"tableName\");\n\n        cursor = database.query(TABLE_NAME, null, COLUMN_STAR + \" = ?\",\n                new String[] { \"yes\" }, null, null, null);\n\n        startManagingCursor(cursor);\n    }\n</code></pre>\n\n<p>It's ok.</p>\n\n<p>Then after I click on <code>Paris</code> I send extra string with clicked position:</p>\n\n<pre><code>lvData.setOnItemClickListener(new OnItemClickListener() {\n            public void onItemClick(AdapterView&lt;?&gt; parent, View view,\n                    int position, long id) {\n                String entryID = new Integer(position).toString();\n\n                Intent intent = new Intent();\n                intent.setClass(FavouritesActivity.this, ViewFavsActivity.class);\n\n                Bundle b = new Bundle();\n                b.putString(\"elementId\", entryID);\n                intent.putExtras(b);\n                startActivity(intent);\n            }\n        });\n</code></pre>\n\n<p>But I get position (of <code>endtryID</code>) <code>0</code> and <code>ViewFavsActivity</code> displays decription of <code>London</code>. </p>\n\n<p>How to get actual position of <code>Cursor</code> and send it to <code>ViewFavsActivity</code>?\nHelp, please.</p>\n\n<hr>\n\n<p>Part of <code>FavouritesActivity</code> (onCreate): // method refreshCursor is above</p>\n\n<pre><code>refreshCursor();\nString[] from = new String[] { COLUMN_NAME };\n        int[] to = new int[] { R.id.tvText };\n\n    scAdapter = new SimpleCursorAdapter(this, R.layout.list_item, cursor,\n            from, to);\n    lvData = (ListView) findViewById(R.id.list);\n    lvData.setAdapter(scAdapter);\n\n    lvData.setOnItemClickListener(new OnItemClickListener() {\n        public void onItemClick(AdapterView&lt;?&gt; parent, View view,\n                int position, long id) {\n            String entryID = String.valueOf(id);\n\n            Intent intent = new Intent();\n            intent.setClass(FavouritesActivity.this, ViewFavsActivity.class);\n\n            Bundle b = new Bundle();\n            b.putString(\"elementId\", entryID);\n            intent.putExtras(b);\n            startActivity(intent);\n</code></pre>\n\n<p>Part of <code>ViewFavsActivity</code>:</p>\n\n<pre><code>public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        // opening DB\n\n        refreshCursor();\n    bundle = getIntent().getExtras();\n\n    TextView titleText = (TextView) findViewById(R.id.titleText);\n    setTitle = database.query(TABLE_NAME, new String[] { COLUMN_DESC },\n            null, null, null, null, null);\n\n    int entryID = Integer.parseInt(bundle.getString(\"elementId\"));\n\n    setTitle.moveToPosition(entryID);\n    titleText.setText(setTitle.getString(setTitle\n            .getColumnIndex(COLUMN_DESC)));\n\n    }\n\n    private void refreshCursor() {\n        stopManagingCursor(cursor);\n        Intent intent = getIntent();\n\n        cursor = database.query(TABLE_NAME, new String[] { COLUMN_ID, COLUMN_STAR, COLUMN_DESC },\n                \"_id = ? AND star = ?\",\n                new String[] { intent.getStringExtra(\"elementId\"), \"yes\" },\n                null, null, null);\n    }\n</code></pre>\n\n<hr>\n\n<p><strong>Added:</strong></p>\n\n<p><a href=\"http://pastebin.com/kSiX5W5G\" rel=\"nofollow\">FavouritesActivity</a> on pastebin</p>\n\n<p><a href=\"http://pastebin.com/7MkQWiRK\" rel=\"nofollow\">ViewFavsActivity</a> on pastebin</p>\n\n<p><a href=\"http://www.2shared.com/file/OcgoUda7/SSCCE.html\" rel=\"nofollow\">Project</a></p>\n"},{"tags":["sql","sqlite","query-optimization"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":12610177,"title":"SQLite: How to optimize a UNION query","body":"<p>In the UNION query below, subqueries #2 and #4 are identical, and I would like to avoid fetching the same data twice. From what I know, some databases allow you to write a <code>WITH</code> clause at the beginning of the query, but SQLite does not support it. So the question is how to optimize the query below.</p>\n\n<pre><code> SELECT disliked, recommended, weight\n FROM\n   (SELECT movie_id * 10 AS disliked\n      FROM ratings\n     WHERE rating IN (1,2)\n       AND user_id = #{id}\n   ) AS input,\n   (SELECT movie_id AS recommended, rating AS weight\n      FROM ratings\n     WHERE rating IN (4,5)\n       AND user_id = #{id}\n   ) AS output\n UNION\n SELECT liked, recommended, weight\n FROM\n   (SELECT movie_id, movie_id * 10 + 1 AS liked\n      FROM ratings\n     WHERE rating IN (4,5)\n       AND user_id = #{id}\n   ) AS input,\n   (SELECT movie_id AS recommended, rating AS weight\n      FROM ratings\n     WHERE rating IN (4,5)\n       AND user_id = #{id}\n   ) AS output\n WHERE input.movie_id != recommended\n</code></pre>\n"},{"tags":["sql","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":67,"score":2,"question_id":12608770,"title":"SQLite Select Query Performance Tuning","body":"<p>I have the following query, which fetches data from only one table.</p>\n\n<p><strong>EDIT:</strong>\nIt is a query which is supposed to return data for an autocomplete function. </p>\n\n<ol>\n<li>Autocomplete data can be in <code>text1</code> or <code>text2</code>.  </li>\n<li>The exact matches should be on top. <code>int3</code> is an integer weight value, where the order of results are based on this. First two queries are here to identify exact matches.</li>\n<li>The next two queries are here for the identify near matches. <code>WHERE text1 &gt; 'foo' AND text1 &lt; 'fop'</code> phrase is actually equal to <code>WHERE text1 LIKE 'foo%'</code>. I wrote it like this to benefit from index.</li>\n</ol>\n\n<p>Hope this helps.</p>\n\n<pre><code>SELECT DISTINCT text1 as Key, 'text1' as Source, int1 as Count, 1000 as int3 \n   FROM mytable \n   WHERE text1 = 'foo' \n\nUNION SELECT DISTINCT text2 as Key, 'text2' as Source, int2 as Count, 1000 as int3 \n   FROM mytable \n   WHERE text2 = 'foo' \n\nUNION SELECT text1 as Key, 'text1' as Source, int1 as Count, MAX(int3) as int3 \n   FROM mytable \n   WHERE text1 &gt; 'foo' AND text1 &lt; 'fop' AND Count &lt; 4 \n   GROUP BY Key \n\nUNION SELECT text2 as Key, 'text2' as Source, int2 as Count, MAX(int3) as int3 \n   FROM mytable \n   WHERE text2 &gt; 'foo' AND text2 &lt; 'fop' AND Count &lt; 4 \n   GROUP BY Key \n\nORDER BY int3 DESC, Count, Key LIMIT 0, 15;\n</code></pre>\n\n<p>The table structure is:</p>\n\n<pre><code>CREATE TABLE mytable (text1 TEXT, text2 TEXT, \n                      int1 NUMERIC, int2 NUMERIC, int3 NUMERIC);\n</code></pre>\n\n<p>It works fine, but I need to fine tune the performance. I tried different indexing options and  checked the performance results with built in timer.</p>\n\n<p>The best indexing options I discovered are :</p>\n\n<pre><code>CREATE INDEX cmp1 ON mytable (text1 ASC, int1 ASC, int3 DESC);\nCREATE INDEX cmp2 ON mytable (text2 ASC, int2 ASC, int3 DESC);\n</code></pre>\n\n<p>I will be glad if you could show me any better indexing option or a better performing SQL query.</p>\n"},{"tags":["android","sql","sqlite","greatest-n-per-group"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":110,"score":2,"question_id":12608025,"title":"How to construct a SQLite query to GROUP by ORDER?","body":"<p>I've got a rather interesting situation. I have a SQLite database full of addresses and messages (addresses are not unique; messages are). Each message also has a date associated with it. What I want to do is select <em>the first</em> message's address, message, date, and <em>how many messages</em> are associated with the address.</p>\n\n<p>So, I thought, \"I can just GROUP by the address to only get one message per address, then ORDER these by the date, and also fetch the COUNT of the address column.\"</p>\n\n<p>I did that, and it works... kinda. It fetches the correct count, fetches only one message per address, and orders them by date--but it does not select the <em>most recent</em> message for the address. It appears to be arbitrary.</p>\n\n<p>As an example, I have three messages (earliest to latest) A, B, C from address Y, and three messages D, E, F from address Z. The query may fetch messages B and E, <em>then</em> sort them by date. It <em>should</em> fetch messages C and F, and sort those by date.</p>\n\n<p>Here is what I have so far:</p>\n\n<pre><code>// Expanded version:\nCursor cursor = db.query(\n    /* FROM */ \"messages_database\",\n    /* SELECT */ new String[]{ \"*\", \"COUNT(address) AS count\" },\n    /* WHERE */ null,\n    /* WHERE args */ null,\n    /* GROUP BY */ \"address\",\n    /* HAVING */ null,\n    /* ORDER BY */ \"date DESC\"\n);\n\n// Or, same code on one line:\nCursor cursor = db.query(\"messages_database\", new String[]{ \"*\", \"COUNT(address) AS count\" }, null, null, \"address\", null, \"date DESC\");\n</code></pre>\n\n<p>I feel like this may have to do with the <code>HAVING</code> clause, but I really don't know. I've used MySQL a lot with PHP, but never had to touch <code>HAVING</code> before. I tried setting my <code>HAVING</code> clause to <code>\"MAX(date)\"</code>, but it had no effect. If I set my <code>GROUP BY</code> clause to be <code>\"address, date\"</code>, then they are sorted by date, but of course they are all individual instead of grouped (since the dates differ).</p>\n\n<p>Google searches have proved fruitless; queries like \"<em>android sqlite order before group</em>\" and \"<em>android sqlite group by order</em>\" yield no related results.</p>\n\n<p>How can I select the <em>one latest</em> message for each address without removing my <code>GROUP</code> clause (as <code>COUNT()</code> relies upon this)? Do I need two queries?</p>\n\n<p><strong>Edit</strong>: Based on <a href=\"http://stackoverflow.com/a/7745635/570191\">the answer</a> @Adrian linked me to in the comments, I came up with two queries which both produced the same result; one row, in which the count was 7 (which is the total number of addresses, not messages <em>per</em> address), and the address shown was not that of the latest message.</p>\n\n<p>The two queries were:</p>\n\n<pre><code>Cursor cursor = db.rawQuery(\n      \"SELECT t.*, COUNT(t.message_content) AS count \"\n    + \"FROM messages_database t \"\n    + \"INNER JOIN (\"\n    + \"    SELECT address, MAX(date) AS maxdate \"\n    + \"    FROM messages_database \"\n    + \"    GROUP BY address \"\n    + \") ss ON t.address = ss.address AND t.date = ss.maxdate\",\n    null\n);\nCursor cursor = db.rawQuery(\n      \"SELECT t1.*, COUNT(t1.message_content) AS count \"\n    + \"FROM messages_database t1 \"\n    + \"LEFT OUTER JOIN messages_database t2 \"\n    + \"ON (t1.address = t2.address AND t1.date &lt; t2.date) \"\n    + \"WHERE t2.address IS NULL\",\n    null\n);\n</code></pre>\n"},{"tags":["android","sqlite","service","locationlistener","android-context"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":117,"score":2,"question_id":10825299,"title":"Android Error Writing Location Data to SQLite Database from LocationListener Class","body":"<p>I have an application wherein I have a service class that implements a locationlistener. I want to be able to pass the location received in onLocationChanged() back to my main activity. I've been trying to implement this so far by writing to a SQLite Database, but have been getting errors when trying to open to database to be writeable. I believe it has something to do with not having the write context, but I haven't been able to figure it out. However, writing to the database works perfectly fine when I do it in onCreate(). I initially just tried doing it as: </p>\n\n<pre><code>@Override\n    public void onLocationChanged(Location loc) {//Spits out single location for current disconnect\n        System.out.println(\"location equals \"+loc);\n        latitude=Double.toString(loc.getLatitude());\n        longitude=Double.toString(loc.getLongitude());\n        writeToDb(MyLocListener.this,latitude,longitude);       \n        man.removeUpdates(listener);//Stops location manager from listening for updates\n        listener=null;\n        man=null;\n    }\n\npublic void writeToDb(Context context,String latitude,String longitude){\n    db=new DbAdapter(context);\n    db.openToWrite();\n    db.deleteAll();\n    db.insert(latitude);\n    db.insert(longitude);\n    db.close();\n}\n</code></pre>\n\n<p>But that was no use, and would give me a nullPointerException on the db.openToWrite() line everytime. getApplicationContext() does not work here either.</p>\n\n<p>I've now modified it to write to the DB in a thread as:</p>\n\n<pre><code>@Override\npublic void onLocationChanged(Location loc) {//Spits out single location for current disconnect\n    System.out.println(\"location equals \"+loc);\n    latitude=Double.toString(loc.getLatitude());\n    longitude=Double.toString(loc.getLongitude());\n    Runnable runner=new SaveLocation(latitude,longitude);\n    new Thread(runner).start();\n    man.removeUpdates(listener);//Stops location manager from listening for updates\n    listener=null;\n    man=null;\n}\n\npublic class SaveLocation implements Runnable{\n        String latitude;\n        String longitude;\n    //  DbAdapter db;\n        public SaveLocation(String latitude,String longitude){\n            this.latitude=latitude;\n            this.longitude=longitude;\n\n        }\n        @Override\n        public void run() {\n            db.openToWrite();\n            db.deleteAll();\n            db.insert(latitude);\n            db.insert(longitude);\n            db.close();     \n        }\n    }\n</code></pre>\n\n<p>And I initialized the Database in the onCreate() method as:</p>\n\n<pre><code>public class MyLocListener extends Service implements LocationListener{ \n    static LocationManager man;\n    static LocationListener listener;\n    static Location location;\n    public DbAdapter db;\n\n    @Override\n    public void onCreate() {\n        super.onCreate();   \n        this.db=new DbAdapter(MyLocListener.this);\n    }\n</code></pre>\n\n<p>But now, this second attempt keeps giving me a much more condensed error, but it still faults on the line where i attempt to open the database to be writeable. The line MyLocListener.java:92 refers to the line db.openToWrite();</p>\n\n<p>The error is:</p>\n\n<pre><code>05-30 15:35:19.698: W/dalvikvm(4557): threadid=9: thread exiting with uncaught exception (group=0x4001d7e0)\n05-30 15:35:19.706: E/AndroidRuntime(4557): FATAL EXCEPTION: Thread-10\n05-30 15:35:19.706: E/AndroidRuntime(4557): java.lang.NullPointerException\n05-30 15:35:19.706: E/AndroidRuntime(4557):     at com.phonehalo.proto.MyLocListener$SaveLocation.run(MyLocListener.java:92)\n05-30 15:35:19.706: E/AndroidRuntime(4557):     at java.lang.Thread.run(Thread.java:1096)\n</code></pre>\n\n<p><strong>SOLVED--- In case anyone else is having this same problem, I have figured out the solution and I cannot believe how simple it was. Due to java's garbage collection, I was losing the link to my SqlDatabase. The solution was simply to declare it as static. I can then use the Sql insert/write methods inside of my onLocationChanged() method. Hope it helps!</strong></p>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":29,"score":-1,"question_id":12604641,"title":"how to execute a \"in \" command in android sql","body":"<p>In contacts db of android I am trying to take a set of records that have same account name . \nGiven below is the \"selection \" for the query.</p>\n\n<pre><code>selection = ContactsContract.Contacts.IN_VISIBLE_GROUP + \" =  '1' AND \" + ContactsContract.Contacts._ID + \" IN  ( SELECT  \" + RawContacts.CONTACT_ID +\" FROM  raw_contacts WHERE \" + RawContacts.ACCOUNT_NAME + \"= '\" + selectionCriteria +\"' )\" ;\n\nCursor = managedQuery(Contacts.CONTENT_URI, new String[]{ContactsContract.Contacts._ID,Contacts.DISPLAY_NAME}, selection, null, order);\n</code></pre>\n\n<p>this works fine in android version 2.3 ..but in jellybean , I cannot use db name as \"raw_contacts\" directly since it has been changed to \"value_raw_contacts\".</p>\n\n<p>how can I achieve this with a proper sql command without mentionig the db name like \"raw_contacts\" directly instead using its CONTENT_URI .</p>\n\n<p>pls help.</p>\n"},{"tags":["android","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":203,"score":0,"question_id":7724549,"title":"android sqlite query optimisation","body":"<p>I have an SQLite db with about 400 000 entries. To query the db I am using the following method:</p>\n\n<pre><code>public double lookUpBigramFrequency(String bigram) throws SQLException {\n\n        SQLiteDatabase db = dbh.getReadableDatabase();\n        double frequency = 0;\n        bigram = bigram.toLowerCase();\n\n        String select = \"SELECT frequency FROM bigrams WHERE bigram = '\"\n                + bigram + \"'\";\n\n        Cursor mCursor = db.rawQuery(select, null);\n        if (mCursor != null) {\n\n            if (mCursor.moveToFirst()) {\n                frequency = Double.parseDouble(mCursor.getString(0));\n            } else {\n                frequency = 0;\n            }\n        }\n\n        return frequency;\n\n\n    }\n</code></pre>\n\n<p>but it takes about 0.5 sec to retrieve a single entry and having few queries, it builds up and the method is executing for 10 secs. How to speeed it up?</p>\n"},{"tags":["android","database","sqlite","duplicate-entry"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":143,"score":0,"question_id":12603175,"title":"Find duplicate entries in SQLite database with Android","body":"<p>I am using a SQLite database in Android and the user has to input name, ip and url which is then saved in the db. I want to be able to recognize if there are double entries in the name column but I do not know how to program it. I think making the column <code>UNIQUE</code> would be the correct way...</p>\n\n<p>My SQLAdapter:</p>\n\n<pre><code>public class ProjectsDBAdapter {\n\n public static final String KEY_ROWID = \"_id\";\n public static final String KEY_PROJECTNAME = \"projectname\";\n public static final String KEY_ROUTERIP = \"routerip\";\n public static final String KEY_URL = \"url\";\n public static final String KEY_CALIMERO = \"calimero\";\n\n private static final String TAG = \"ProjectsDBAdapter\";\n private DatabaseHelper mDbHelper;\n private SQLiteDatabase mDb;\n\n private static final String DATABASE_NAME = \"KNXTable\";\n private static final String SQLITE_TABLE = \"Project\";\n private static final int DATABASE_VERSION = 1;\n\n private final Context mCtx;\n\n private static final String DATABASE_CREATE =\n  \"CREATE TABLE if not exists \" + SQLITE_TABLE + \" (\" +\n  KEY_ROWID + \" integer PRIMARY KEY autoincrement,\" +\n  KEY_ROUTERIP + \",\" +\n  KEY_PROJECTNAME + \",\" +\n  KEY_URL + \",\" +\n  KEY_CALIMERO + \",\" +\n  \"UNIQUE(\"+KEY_PROJECTNAME+\")\"+\");\";\n\n private static class DatabaseHelper extends SQLiteOpenHelper {\n\n  DatabaseHelper(Context context) {\n   super(context, DATABASE_NAME, null, DATABASE_VERSION);\n  }\n\n  @Override\n  public void onCreate(SQLiteDatabase db) {\n   //invoked when the database is created, \n   //this is where we can create tables and columns to them, create views or triggers.\n   Log.w(TAG, DATABASE_CREATE);\n   db.execSQL(DATABASE_CREATE);\n  }\n\n  public long createProject(String ip, String name, \n   String url, String calimero) {\n\n  ContentValues initialValues = new ContentValues();\n  initialValues.put(KEY_ROUTERIP, ip);\n  initialValues.put(KEY_PROJECTNAME, name);\n  initialValues.put(KEY_URL, url);\n  initialValues.put(KEY_CALIMERO, calimero);\n\n  return mDb.insert(SQLITE_TABLE, null, initialValues);\n  }\n</code></pre>\n\n<p>I hope you can give me some hints, I already tried to use UNIQUE when creating the table but without success...</p>\n\n<p><em><strong>UPDATE</em></strong></p>\n\n<p>The method in the SQLiteAdapter:</p>\n\n<pre><code> public long createProject(String ip, String name, \n   String url, String calimero) {\n\n  ContentValues initialValues = new ContentValues();\n  initialValues.put(KEY_ROUTERIP, ip);\n  initialValues.put(KEY_PROJECTNAME, name);\n  initialValues.put(KEY_URL, url);\n  initialValues.put(KEY_CALIMERO, calimero);\n\n  return mDb.insertOrThrow(SQLITE_TABLE, null, initialValues);\n }\n</code></pre>\n\n<p>The call in my activity: </p>\n\n<pre><code> //DATABASE\n // Add project to Database\n dbHelper = new ProjectsDBAdapter(this);\n dbHelper.open();\n\n //Add Strings to database\n dbHelper.insertSomeProjects(IP, Name, URL, Calimero);\n //Generate ListView from SQLite Database\n displayListView();\n</code></pre>\n\n<p>and logcat output:</p>\n\n<pre><code>01-27 00:02:56.555: E/AndroidRuntime(28526): FATAL EXCEPTION: main\n01-27 00:02:56.555: E/AndroidRuntime(28526): java.lang.RuntimeException: Unable to start activity ComponentInfo{de.bertrandt.bertrandtknx/de.bertrandt.bertrandtknx.ProjectList}: android.database.sqlite.SQLiteConstraintException: error code 19: constraint failed\n01-27 00:02:56.555: E/AndroidRuntime(28526):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1970)\n01-27 00:02:56.555: E/AndroidRuntime(28526):    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1995)\n01-27 00:02:56.555: E/AndroidRuntime(28526):    at android.app.ActivityThread.access$600(ActivityThread.java:128)\n01-27 00:02:56.555: E/AndroidRuntime(28526):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1161)\n01-27 00:02:56.555: E/AndroidRuntime(28526):    at android.os.Handler.dispatchMessage(Handler.java:99)\n01-27 00:02:56.555: E/AndroidRuntime(28526):    at android.os.Looper.loop(Looper.java:137)\n01-27 00:02:56.555: E/AndroidRuntime(28526):    at android.app.ActivityThread.main(ActivityThread.java:4514)\n01-27 00:02:56.555: E/AndroidRuntime(28526):    at java.lang.reflect.Method.invokeNative(Native Method)\n01-27 00:02:56.555: E/AndroidRuntime(28526):    at java.lang.reflect.Method.invoke(Method.java:511)\n01-27 00:02:56.555: E/AndroidRuntime(28526):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:993)\n01-27 00:02:56.555: E/AndroidRuntime(28526):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:760)\n01-27 00:02:56.555: E/AndroidRuntime(28526):    at dalvik.system.NativeStart.main(Native Method)\n01-27 00:02:56.555: E/AndroidRuntime(28526): Caused by: android.database.sqlite.SQLiteConstraintException: error code 19: constraint failed\n01-27 00:02:56.555: E/AndroidRuntime(28526):    at android.database.sqlite.SQLiteStatement.native_executeInsert(Native Method)\n01-27 00:02:56.555: E/AndroidRuntime(28526):    at android.database.sqlite.SQLiteStatement.executeInsert(SQLiteStatement.java:113)\n01-27 00:02:56.555: E/AndroidRuntime(28526):    at android.database.sqlite.SQLiteDatabase.insertWithOnConflict(SQLiteDatabase.java:1839)\n01-27 00:02:56.555: E/AndroidRuntime(28526):    at android.database.sqlite.SQLiteDatabase.insertOrThrow(SQLiteDatabase.java:1738)\n01-27 00:02:56.555: E/AndroidRuntime(28526):    at SQLite.ProjectsDBAdapter.createProject(ProjectsDBAdapter.java:89)\n01-27 00:02:56.555: E/AndroidRuntime(28526):    at SQLite.ProjectsDBAdapter.insertSomeProjects(ProjectsDBAdapter.java:140)\n01-27 00:02:56.555: E/AndroidRuntime(28526):    at de.bertrandt.bertrandtknx.ProjectList.setup(ProjectList.java:120)\n01-27 00:02:56.555: E/AndroidRuntime(28526):    at de.bertrandt.bertrandtknx.ProjectList.onCreate(ProjectList.java:55)\n01-27 00:02:56.555: E/AndroidRuntime(28526):    at android.app.Activity.performCreate(Activity.java:4562)\n01-27 00:02:56.555: E/AndroidRuntime(28526):    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1053)\n01-27 00:02:56.555: E/AndroidRuntime(28526):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1934)\n01-27 00:02:56.555: E/AndroidRuntime(28526):    ... 11 more\n</code></pre>\n\n<p><em><strong>SOLUTION</em></strong></p>\n\n<pre><code>//Add Strings to database\ntry {\n     dbHelper.insertSomeProjects(IP, Name, URL, Calimero);\n} catch (SQLiteException exception) {\n     Log.d(\"SQLite\", \"Error\"+exception.toString());\n     Toast.makeText(getApplicationContext(),\n        \"Name is duplicated\", Toast.LENGTH_SHORT).show();\n            exception.printStackTrace();\n}\n</code></pre>\n"},{"tags":["sqlite"],"answer_count":3,"favorite_count":5,"up_vote_count":8,"down_vote_count":0,"view_count":19501,"score":8,"question_id":2251699,"title":"SQLite \"INSERT OR REPLACE INTO\" vs. \"UPDATE ... WHERE\"","body":"<p>I've never seen the syntax <code>INSERT OR REPLACE INTO names (id, name) VALUES (1, \"John\")</code> used in SQL before, and I was wondering why it's better than <code>UPDATE names SET name = \"John\" WHERE id = 1</code>. Is there any good reason to use one over the other. Is this syntax specific to SQLite?</p>\n"},{"tags":["android","sqlite","map","hashmap"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":12603862,"title":"Unable to fetch sqlite record with alphanumeric values","body":"<p>I am using below code to fetch an sqlite record in my android app. This code fetches numeric values, but doesn't fetch alphanumeric values. </p>\n\n<p>Eg: When \"tempno\" is 2, the record is fetched, but it doesn't fetch the record when \"tempno\" is 2A.</p>\n\n<p>All the variables I've used are of \"String\" data type.</p>\n\n<pre><code>public Map&lt;String, Object&gt; getDetails(String tempno) throws SQLException{\n    Map&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;();\n    Cursor mCursor = db.query(true, DATABASE_TABLE, new String[] {SOURCE, DESTINATION, ROUTELENGTH, NOTE}, ROUTENO + \"=\" + tempno, null, null, null, null, null);\n</code></pre>\n\n<p>Am calling below code from another class.</p>\n\n<p>Please let me know where I am going wrong.</p>\n\n<pre><code>Map&lt;String, Object&gt; temp = dbAdapt.getDetails(tempno);\n</code></pre>\n\n<p>Below is the error in Logcat</p>\n\n<pre><code>  09-26 18:42:52.108: E/AndroidRuntime(2363): android.database.sqlite.SQLiteException: unrecognized token: \"2A\": , while compiling: SELECT DISTINCT source, destination, routelength, note FROM route WHERE routeno=2A\n</code></pre>\n"},{"tags":["objective-c","ios","xcode","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":94,"score":0,"question_id":12601425,"title":"use multiple sqlite databases in one application xcode","body":"<p>How do i identify multiple <strong>sqlite</strong> databases in my app at run time. I am making a quiz app for iphone in which i need 5-6 sqlite databases, one for each category(subject) of quiz. Help anyone</p>\n"},{"tags":["sql","sqlite","select"],"answer_count":4,"favorite_count":0,"up_vote_count":3,"down_vote_count":2,"view_count":5579,"score":1,"question_id":698047,"title":"Most efficient way to select 1st and last element, SQLite?","body":"<p>What is the most efficient way to select the first and last element only, from a column in SQLite?</p>\n"},{"tags":["java","android","database","sqlite","nullpointerexception"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":92,"score":3,"question_id":9850520,"title":"Strange nullPointerException error - database related","body":"<p>im learning how to work with sqlite database, and i tried to implement a highscore system in a game i made. reading rows works when i try to show the scores, but when i try to use the same idea to read values to compare them in the following method - it gives a null pointer exception error. </p>\n\n<pre><code>private void checkIfHighScore(int currentScore) {\n    Cursor note;\n    int rowScore;\n    String moveName, moveScore, newName;\n\n    for (long i=1;i&lt;6;i++){\n        note = mDbHelper.fetchNote(i);\n        startManagingCursor(note);\n        rowScore=Integer.parseInt(note.getString(note.getColumnIndexOrThrow(ScoresDbAdapter.KEY_BODY)));\n        if (currentScore&lt;rowScore){\n            for (long j=5;j&gt;i;j--){\n                note = mDbHelper.fetchNote(j-1);\n                startManagingCursor(note);\n                moveName=note.getString(note.getColumnIndexOrThrow(ScoresDbAdapter.KEY_TITLE));\n                moveScore=note.getString(note.getColumnIndexOrThrow(ScoresDbAdapter.KEY_BODY));\n                mDbHelper.updateNote(j, moveName, moveScore);\n            }\n            newName=\"a\"; //for testing \n            mDbHelper.updateNote(i, newName, Integer.toString(currentScore));\n            break;\n        }\n    }\n\n}\n</code></pre>\n\n<p>i know the error is at the line after the for loop - but i have no idea what is causing it to fail. my database has 5 rows of data (verified). \ndoes anyone know what is causing my error? been banging my head against the wall for 2 hours on that. thanks!</p>\n"},{"tags":["sql","sqlite","database-design"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":12590468,"title":"SQL - Dynamic Attributes","body":"<p>I am trying to create a database of items where each item can have multiple attributes. I also have a table of containers (containers can hold items). Each container has multiple required attributes. The item attributes must meet the requirements of the container attributes in order for the item to fit into the container.</p>\n\n<p>Note: new attributes can be added at any time.</p>\n\n<pre><code>Example:\nItem 1 Attributes\n    Color: Red\n    Material: Aluminum\n    Length: 100\n    Width: 200\n    Rating: 4\n\nContainer 1 Required Attributes:\n    Color=Red\n    Material=Aluminum\n    Length&lt;105\n    Width&lt;300\n    Rating=4\n</code></pre>\n\n<p>I want to find all items that fit into a container. If the Container Required Attributes table has a field for comparator, I can get all required attributes for container 1 then dynamically generate a query based on the comparator field. I am not a database expert but this does not seem to be a good design.</p>\n\n<p>Another option would be to have multiple Container Required Attributes tables - one for maximum value, one for minimum value, one for equal value numeric, one for equal value string, etc.</p>\n\n<pre><code>Example:\nContainer 1 Maximum Attributes\nLength: 105\nWidth: 300\n\nContainer 1 Minimum Attributes\n&lt;none&gt;\n\nContainer 1 Equal Attributes (Float)\nRating: 4\n\nContainer 1 Equal Attributes (String)\nColor: Red\nMaterial: Aluminum\n</code></pre>\n\n<p>In this case, I don't have to dynamically generate queries but this doesn't seem like the best solution either because I will eventually need tables for >= and &lt;=.</p>\n\n<p>Does anyone have any suggestions for a better design?</p>\n"},{"tags":["android","sqlite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":68,"score":0,"question_id":12601874,"title":"CREATE TABLE android_metadata failed in android 2.3.3","body":"<p>I am working on an application in which I am using SQlite database. My application works good in each and every OS version and in all emulators but it only creates problem in device with <strong>OS version 2.3.3</strong>.  I am getting CREATE TABLE android_metadata messages and my database code crashes.</p>\n\n<p><strong>I am Using Google Nexus with Android OS 2.3.3</strong></p>\n\n<p>Please suggest me what is the actual problem and what I can do to solve this device dependent problem. I am also posting my code below.:</p>\n\n<pre><code>public class ECatalogueDatabase {\n\n    private static final String DB_PATH = \"/data/data/com.weg.ecatalogue/databases/\";\n    public static final String DATABASE_NAME = \"ECatalogue\";\n    public static final String DATABASE_TABLE = \"T_Electrical\";\n    public static final int DATABASE_VERSION = 1;\n\n    public static final String KEY_ROWID=\"id\";\n    public static final String KEY_PRODUCT_LINE=\"productline\";\n\n    public static final String KEY_VOLTAGE=\"voltage\";\n    public static final String KEY_OUTPUTHP=\"outputhp\";\n\n    public static final String KEY_FRAME=\"frame\";\n    public static final String KEY_RPM=\"rpm\";\n\n    private Context context=null;\n    private DatabaseHelper DBHelper;\n    private SQLiteDatabase db;\n\n    /**\n     * Database creation sql statement\n     */\n    private static final String CREAT_DATABASE=\"Create Table if not exists \"+ DATABASE_TABLE+\"(\"+ KEY_ROWID +\" INTEGER PRIMARY KEY NOT NULL,\"\n    +KEY_PRODUCT_LINE +\" nvarchar ,\"+ KEY_OUTPUTHP+\" numeric ,\"+ KEY_RPM +\" nvarchar ,\"+KEY_VOLTAGE +\" nvarchar ,\" +KEY_FRAME +\" nvarchar\"+\")\";\n\n    /**\n     * Constructor - takes the context to allow the database to be\n     * opened/created\n     *\n     * @param ctx the Context within which to work\n     */\n    public ECatalogueDatabase(Context ctx) {\n        this.context = ctx;\n        DBHelper = new DatabaseHelper(context);\n    }\n    //Helper class\n    private static class DatabaseHelper extends SQLiteOpenHelper\n    {\n        public DatabaseHelper(Context context) {\n            super(context, DATABASE_NAME, null, DATABASE_VERSION);\n        }\n\n        @Override\n        public void onCreate(SQLiteDatabase db) {\n            db.execSQL(CREAT_DATABASE);\n        }\n\n        @Override\n        public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n            db.execSQL(\"DROP TABLE IF EXISTS titles\");\n            onCreate(db);\n        }\n\n    }\n\n    public ECatalogueDatabase open() //throws SQLException\n    {\n        try\n        {\n            db=DBHelper.getWritableDatabase();\n\n        }catch(Exception exception)\n        {\n            exception.printStackTrace();\n        }\n        return null;\n    }\n\n\n    public void close()\n    {\n        DBHelper.close();\n    }\n\n    /**\n     * Creates a empty database on the system and rewrites it with your own database.\n     * */\n    public void createDataBase() throws IOException{\n\n        @SuppressWarnings(\"unused\")\n        boolean dbExist = checkDataBase();\n\n\n        SQLiteDatabase db_Read = null;\n        if(dbExist){\n        //DO NOTHING IN THIS CASE\n        }else{\n\n        db_Read = DBHelper.getReadableDatabase();\n        db_Read.close();\n        }\n        //=================================\n\n        try {\n\n            copyDataBase();\n\n        } catch (IOException e) {\n\n            throw new Error(\"Error copying database\");\n\n        }\n\n    }\n    /**\n     * Check if the database already exist to avoid re-copying the file each time you open the application.\n     * @return true if it exists, false if it doesn't\n     */\n    private boolean checkDataBase(){\n        try{\n            String myPath = DB_PATH + DATABASE_NAME;\n            db = SQLiteDatabase.openDatabase(myPath, null, SQLiteDatabase.OPEN_READONLY);\n\n        }catch(SQLiteException e){\n\n        }\n\n        if(db != null){\n\n            db.close();\n\n        }\n\n        return db != null ? true : false;\n    }\n    /**\n     * Copies your database from your local assets-folder to the just created empty database in the\n     * system folder, from where it can be accessed and handled.\n     * This is done by transfering bytestream.\n     * */\n    private void copyDataBase() throws IOException{\n\n\n        InputStream myInput = context.getAssets().open(DATABASE_NAME);\n\n        // Path to the just created empty db\n        String outFileName = DB_PATH + DATABASE_NAME;\n\n\n        OutputStream myOutput = new FileOutputStream(outFileName);\n\n\n        byte[] buffer = new byte[1024];\n        int length;\n        while ((length = myInput.read(buffer))&gt;0){\n            myOutput.write(buffer, 0, length);\n        }\n        myOutput.flush();\n        myOutput.close();\n        myInput.close();\n\n    }\n\n    public int getDatabaseCount(){\n        int count = 0;\n        Cursor cursor = db.rawQuery(\"Select * from \" + DATABASE_TABLE, null);\n        if(cursor!=null){\n            count = cursor.getCount();\n        }\n        cursor.deactivate();\n        cursor.close();\n        return count;\n    }\n\n}\n</code></pre>\n\n<p><strong>My Logcates</strong>:</p>\n\n<p>5CREATE TABLE android_metadata failed\nFailed to setLocale() when constructing, closing the database\na\n    at android.database.sqlite.SQLiteDatabase.native_setLocale(Native Method)\n    at android.database.sqlite.SQLiteDatabase.setLocale(SQLiteDatabase.java1987)\n    at android.database.sqlite.SQLiteDatabase.(SQLiteDatabase.java1855)\n    at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java820)\n    at android.database.sqlite.SQLiteDatabase.openOrCreateDatabase(SQLiteDatabase.java854)\n    at android.database.sqlite.SQLiteDatabase.openOrCreateDatabase(SQLiteDatabase.java847)\n    at android.app.ContextImpl.openOrCreateDatabase(ContextImpl.java567)\n    at android.content.ContextWrapper.openOrCreateDatabase(ContextWrapper.java203)\n    at android.database.sqlite.SQLiteOpenHelper.getWritableDatabase(SQLiteOpenHelper.java118)\n    at com.weg.ecatalogue.database.ECatalogueDatabase.open(ECatalogueDatabase.java76)\n    at com.weg.ecatalogue.HomeScreen.onCreate(HomeScreen.java219)\n    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java1047)\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java1722)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java1784)\n    at android.app.ActivityThread.access$00(ActivityThread.java123)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java939)\n    at android.os.Handler.dispatchMessage(Handler.java99)\n    at android.os.Looper.loop(Looper.java123)\n    at android.app.ActivityThread.main(ActivityThread.java3839)\n    at java.lang.reflect.Method.invokeNative(Native Method)\n    at java.lang.reflect.Method.invoke(Method.java507)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java841)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java599)\n    at dalvik.system.NativeStart.main(Native Method)\nDeleting and re-creating corrupt database /data/data/com.weg.ecatalogus/ECatalogue\na\n    at android.database.sqlite.SQLiteDatabase.native_setLocale(Native Method)\n    at android.database.sqlite.SQLiteDatabase.setLocale(SQLiteDatabase.java1987)\n    at android.database.sqlite.SQLiteDatabase.(SQLiteDatabase.java1855)\n    at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java820)\n    at android.database.sqlite.SQLiteDatabase.openOrCreateDatabase(SQLiteDatabase.java854)\n    at android.database.sqlite.SQLiteDatabase.openOrCreateDatabase(SQLiteDatabase.java847)\n    at android.app.ContextImpl.openOrCreateDatabase(ContextImpl.java567)\n    at android.content.ContextWrapper.openOrCreateDatabase(ContextWrapper.java203)\n    at android.database.sqlite.SQLiteOpenHelper.getWritableDatabase(SQLiteOpenHelper.java118)\n    at com.weg.ecatalogue.database.ECatalogueDatabase.open(ECatalogueDatabase.java76)\n    at com.weg.ecatalogue.HomeScreen.onCreate(HomeScreen.java219)\n    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java1047)\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java1722)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java1784)\n    at android.app.ActivityThread.access$00(ActivityThread.java123)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java939)\n    at android.os.Handler.dispatchMessage(Handler.java99)\n    at android.os.Looper.loop(Looper.java123)\n    at android.app.ActivityThread.main(ActivityThread.java3839)\n    at java.lang.reflect.Method.invokeNative(Native Method)\n    at java.lang.reflect.Method.invoke(Method.java507)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java841)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java599)\n    at dalvik.system.NativeStart.main(Native Method)</p>\n"}]}
{"total":16516,"page":16,"pagesize":100,"questions":[{"tags":["android","database","sqlite"],"answer_count":5,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":821,"score":2,"question_id":7755766,"title":"Examining SQLite database of my Android app?","body":"<p>I'm new to Android, I've just gotten to the point where I can create an SQLite database from my app (I'm using Eclpise with Android SDK and the emulator, I made the SQL code in a separate designer and then just pasted it). After getting rid of a few initial errors, the SQLiteOpenHelper-descendant class initialization code ran without any exceptions, so I'm assuming the database has been created (and presumably persisted in a file). Is there a way I could access the database and examine it? (I mean other than from the actual app, which at this point has no functionality to speak of) I'd like to have a look at the database structure, and later when the app gradually becomes capable of adding data, I'd like to be able to chcek if it's working properly.\nIs there a way to do this? \nThanks.</p>\n"},{"tags":["mysql","sqlite","mysql-workbench"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":77,"score":0,"question_id":12601410,"title":"MySQL Workbench with SQLite","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/34403/is-there-a-good-ide-for-sqlite\">Is there a good IDE for SQLite?</a>  </p>\n</blockquote>\n\n\n\n<p>Is it possible to use MySQL Workbench with SQL Lite or is there any other alternatives and similar software? </p>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":95,"score":0,"question_id":12573314,"title":"android sqlite next record incorrect","body":"<p>This is the getContact method which takes the rowID in this case the counter </p>\n\n<pre><code>public Cursor getContact(long rowId) throws SQLException \n    {\n        Cursor mCursor =\n                db.query(true, DATABASE_TABLE, new String[] {KEY_ROWID,\n                        question, possibleAnsOne,possibleAnsTwo, possibleAnsThree,realQuestion,userR}, KEY_ROWID + \"=\" + rowId, null,\n                        null, null, null, null);\n        if (mCursor != null) {\n            // moves to the the first record\n            mCursor.moveToFirst();\n        }\n        return mCursor;\n    }\n</code></pre>\n\n<p>Here is my problem. I start at record one. So the counter is set to one. </p>\n\n<p>in the public oncreate method. When I click next for some reason it is not setting the value of the first record with db.updateUserResult(counter,8); I think it is missing the first record. The reason I know this is that if I chose the answer which is one ahead. Lets say that Question 1 right answer is option 2 and Question 2's right answer is option 3. If you choose option 3 for question 1 then you get the right answer. If i keep choosing the right answer one record ahead I get all the right results.</p>\n\n<pre><code> public void onCreate(Bundle savedInstanceState) {\n            super.onCreate(savedInstanceState);\n\n\n\n            Bundle b = getIntent().getExtras(); \n            boolean TimerStarted = b.getBoolean(\"timerlogic\");\n            System.out.println(\"what is the logic of the timer\" + TimerStarted);\n            Log.e(LOGS, \"Whatis the first value for the timer inside the timer_btn\" + TimerStarted);\n\n            setContentView(R.layout.basic);\n            // this method is better then a try and catch block as it actually prevents the occurence occuring instead of just patching it.\n            // the purpose of t\n            db.open();\n\n            Cursor c = db.getContact(1); \n\n            if(c.isFirst())\n            {\n                TextView question = (TextView)findViewById(R.id.question);\n                RadioButton radio1 = (RadioButton)findViewById(R.id.radio1);\n                RadioButton radio2 = (RadioButton)findViewById(R.id.radio2);\n                RadioButton radio3 = (RadioButton)findViewById(R.id.radio3);\n\n\n\n\n\n                answerCounterText = (TextView)findViewById(R.id.answerCounterText);\n                answerCounterText.setText(String.valueOf(\"0\")); \n                // for the first record set the counter to zero\n                // question.setText(String.valueOf(\"0\"));\n                TextView QuestionNumber = (TextView)findViewById(R.id.QuestionNumber);\n                Complete = (Button)findViewById(R.id.Continue);\n                Complete.setBackgroundResource(R.drawable.complete);\n                Complete.setVisibility(View.INVISIBLE);\n                QuestionNumber.setText(String.valueOf(\"Question Number  :\" + counter));\n\n                  System.out.println(\"what is the setup counter after loop\" + counter);\n\n\n\n\n                //DisplayContact(c,radio1);\n                DisplayRadioButton(c,radio1,radio2,radio3,question);\n\n            }\n\n\n          // }\n          //  }\n         // Previous = (Button)findViewById(R.id.Previous);\n           Next = (Button)findViewById(R.id.Next);\n\n           Next.setBackgroundResource(R.drawable.next);\n           // get the results from the checked box\n\n\n           Next.setOnClickListener(new View.OnClickListener() {\n\n            public void onClick(View arg0) {\n                // TODO Auto-generated method stub\n                // Cursor c = db.getContact(1);\n\n                /*\n                if (firstrecordchosen)\n                {\n                    Cursor c = db.getContact(1);\n                      System.out.println(\"what is the current value of the counter 0\" + counter);\n                    firstrecordchosen = false;\n                }\n                counter++;\n\n                  */   \n                counter++;\n                 Cursor c = db.getContact(counter);\n\n                    if (c.moveToFirst() &amp;&amp; !c.isNull(0))        \n                    {    \n                         TextView question = (TextView)findViewById(R.id.question);\n                        RadioButton radio1 = (RadioButton)findViewById(R.id.radio1);\n                         RadioButton radio2 = (RadioButton)findViewById(R.id.radio2);\n                         RadioButton radio3 = (RadioButton)findViewById(R.id.radio3);\n\n\n\n                      TextView answerCounterText = (TextView)findViewById(R.id.answerCounterText);\n                         TextView QuestionNumber = (TextView)findViewById(R.id.QuestionNumber);\n                         RadioGroup radioGroup1 = (RadioGroup)findViewById(R.id.radioGroup1);\n\n                         QuestionNumber.setText(String.valueOf(\"Question Number  :\" + counter));\n                         Log.e(LOGS, \"default user set variable \" + c.getString(5));\n                         Log.e(LOGS, \"real value\" + c.getString(6));\n                         System.out.println(\"what is the current value of the counter\" + counter);\n\n\n\n\n                    //  DisplayContact(c,radio1);\n                   DisplayRadioButton(c,radio1,radio2,radio3,question);\n                  final String questionOneDb = c.getString(5);\n                  String radioOneIndex = \"1\";\n                  String radioTwoIndex = \"2\";\n                  String radioThreeIndex = \"3\";\n\n\n\n                  // set the first question to have the right value\n\n                  if(radio1.isChecked() )\n                    {     \n                        db.updateUserResult(counter,8);\n                        if (questionOneDb.equals(radioOneIndex))\n                        {\n\n                            Log.e(LOGS, \"correct\" );    \n\n\n                        rightAnswer(c,radio1,answerCounterText);\n                        //  DisplayContact(c,radio1);\n                        }\n                        else\n                        {\n\n                            Log.e(LOGS, \"wrong\" );  \n                        }\n\n\n                    }\n\n\n\n\n                    if(radio2.isChecked()  )\n                    {\n\n                        db.updateUserResult(counter,9);\n\n                        if (questionOneDb.equals(radioTwoIndex))\n                        {\n                          System.out.println(\"is this counter being reached\"); \n                        //  db.updateUserResult(1, 2);\n                        //  db.updateUserResult(counter, 2);\n                        // db.updateUserResult(recordval, 6);\n\n                            Log.e(LOGS, \"correct\" );    \n\n\n                        rightAnswer(c,radio1,answerCounterText);\n                        }\n                        else\n                        {\n                            Log.e(LOGS, \"wrong\" );      \n                        }\n\n                    }\n\n\n\n                    if(radio3.isChecked()   )\n                    { \n                        db.updateUserResult(counter,10);\n\n                        if (questionOneDb.equals(radioThreeIndex))\n                        {\n                            Log.e(LOGS, \"correct\" );    \n                        System.out.println(\"you have the right answer\");\n                        rightAnswer(c,radio1,answerCounterText);\n                        }\n                        else\n                        {\n                            Log.e(LOGS, \"wrong\" );      \n                        }\n\n\n                    }\n\n\n\n\n\n\n\n\n                    }\n\n\n\n                  /* when you get ot the last record you want to be able to close the db */\n                    if (c.isAfterLast())\n\n                    { \n\n                    // this halts the timer when there are no questiosn left\n                   Next.setVisibility(View.GONE);\n               //    Previous.setVisibility(View.GONE);\n                   Toast.makeText(getBaseContext(), \"More questions available in the full version PHPExpert \" , Toast.LENGTH_LONG).show();\n                   Complete.setVisibility(View.VISIBLE);\n                    handler.removeCallbacks(timedTask);\n                    db.close();\n\n                  intentcalls();\n\n\n                    }\n\n\n\n\n\n\n            }\n        });\n\n           Home = (Button)findViewById(R.id.home_btn);\n           Home.setOnClickListener(new View.OnClickListener() {\n\n            public void onClick(View v) {\n                // TODO Auto-generated method stub\n\n                Intent i = new Intent(Basic_database_questionsActivity.this,AndroidGUIActivity.class);\n                startActivity(i);\n\n\n            }\n\n\n           }); \n\n\n\n        }\n</code></pre>\n"},{"tags":["android","sqlite"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":64,"score":1,"question_id":12600284,"title":"unable to open stack trace file /data/anr/traces.txt permission denied","body":"<p>I think this is a very common question but somehow i can't resolve it after looking at all the replies. I am creating an android application in which we can save themes (wallpaper, ringtone, notification sound). when i try to save the three things in the database on button click, it force closes and there are a number of errors including \"unable to open stack trace\"</p>\n\n<pre><code>Code:\npublic class HelloGallery extends Activity \n{\n    private ThemeAdapter ta;\n    public void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.main);\n    ta=new ThemeAdapter(this);\n    final Button save=(Button)findViewById(R.id.save);\n    save.setText(R.string.save);\n\n    // some amount of code\n\n    save.setOnClickListener(new OnClickListener(){\n       public void onClick(View v)\n       {\n\n           themename=tv.toString(); //tv is EditText \n           ta.createTheme(themename, resID, uri,uri2); \n           Toast.makeText(HelloGallery.this,\"Theme Saved\", Toast.LENGTH_SHORT).show();\n       }\n       });\n\n    }\n}\n\npublic class ThemeAdapter {\n\nprivate SQLiteDatabase db;\nprivate myThemeHelper mth;\nString[] columns={myThemeHelper.KEY_ID,myThemeHelper.NAME,myThemeHelper.RING,myThemeHelper.SYS};\npublic ThemeAdapter(Context _con)\n{\n    mth=new myThemeHelper(_con);\n}\npublic ThemeAdapter open()\n{\n    try\n    {\n    db=mth.getWritableDatabase();\n    }\n    catch(SQLiteException e)\n    {\n        db=mth.getReadableDatabase();\n    }\n    return this;\n}\npublic void close()\n{\n    db.close();\n}\n\npublic void createTheme(String name,int wallId,Uri ring,Uri sys)\n{\n    ContentValues val=new ContentValues();\n    val.put(myThemeHelper.NAME,name);\n    val.put(myThemeHelper.WALL,wallId);\n    val.put(myThemeHelper.RING,ring.toString());\n    val.put(myThemeHelper.SYS,sys.toString());\n    long id=db.insert(myThemeHelper.DB_TABLE, null, val);\n    Cursor cursor=db.query(myThemeHelper.DB_TABLE,columns,myThemeHelper.KEY_ID+ \"= \" \n\n                 + id, null,null, null, null);\n    cursor.moveToFirst();\n\n\n\n\n}\n}\npublic class myThemeHelper extends SQLiteOpenHelper\n{\n      //initializing all db names, colum names\n        public myThemeHelper(Context context) {\n    super(context, DB_NAME, null, DB_VERSION);\n  }\n@Override\n  public void onCreate(SQLiteDatabase database) {\n    database.execSQL(DB_CREATE);\n  }\n@Override\n  public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n    Log.w(myThemeHelper.class.getName(),\n        \"Upgrading database from version \" + oldVersion + \" to \"\n            + newVersion + \", which will destroy all old data\");\n    db.execSQL(\"DROP TABLE IF EXISTS \" + DB_TABLE);\n    onCreate(db);\n}\n }\n</code></pre>\n\n<p>The stack trace gives a NullPointerException, unable to open stack trace etc. I have given WRITE_EXTERNAL_STORAGE permission as well. </p>\n"},{"tags":["iphone","sql","ios","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":45,"score":0,"question_id":12599074,"title":"comparing two tables using row id in sqlite","body":"<p>I want to get the data from second table where the row id is equal to first table?Can any one help me with the syntax or code ?</p>\n"},{"tags":["python","sql","django","sqlite","insert"],"answer_count":7,"favorite_count":14,"up_vote_count":19,"down_vote_count":0,"view_count":9894,"score":19,"question_id":1136106,"title":"Efficent way to insert thousands of records into a table (SQLite, Python, Django)","body":"<p>I have to insert 8000+ records into a SQLite database using Django's ORM. This operation needs to be run as a cronjob about once per minute.<br /> At the moment I'm using a for loop to iterate through all the items and then insert them one by one.<br />\nExample:</p>\n\n<pre><code>for item in items:\n    entry = Entry(a1=item.a1, a2=item.a2)\n    entry.save()\n</code></pre>\n\n<p>What is an efficent way of doing this?<br />\n<br />\n<br />\n<b>Edit:</b> A little comparison between the two insertion methods.<br /></p>\n\n<p>Without commit_manually decorator (11245 records):</p>\n\n<pre><code>nox@noxdevel marinetraffic]$ time python manage.py insrec             \n\nreal    1m50.288s\nuser    0m6.710s\nsys     0m23.445s\n</code></pre>\n\n<p>Using commit_manually decorator (11245 records):</p>\n\n<pre><code>[nox@noxdevel marinetraffic]$ time python manage.py insrec                \n\nreal    0m18.464s\nuser    0m5.433s\nsys     0m10.163s\n</code></pre>\n\n<p><strong>Note:</strong> The <em>test</em> script also does some other operations besides inserting into the database (downloads a ZIP file, extracts an XML file from the ZIP archive, parses the XML file) so the time needed for execution does not necessarily represent the time needed to insert the records.</p>\n"},{"tags":["iphone","ios","sqlite","uiimageview","uiimage"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":78,"score":0,"question_id":12596091,"title":"Different image on click Uitableview row","body":"<p>I having tableview in my application,Since when i click on the row the views open ,contains two image viwer,where two images form two different table  from database,one image viewer showing the image depends on the row clicked,Where as the second one shows the same image for the all rows.Here my code ,</p>\n\n<p>First Image from database,</p>\n\n<pre><code> -(void)Readthesqlitefileforname:(NSString *)brandname\n {  \n    sqlite3 *database;//database object\nNSString *docpath=[self doccumentspath];\nconst char *ch=[docpath UTF8String];//string to constant char UTF8string  main part to connect DB\n\nif (sqlite3_open(ch, &amp;database)==SQLITE_OK) \n   {\n\n   NSString *strstmt=[NSString stringWithFormat:@\"select name,nik,dob,study,phone,mail,fsong,dp from scrap where name = '%@'\",brandname];\n\n    const char *chstmt=[strstmt UTF8String];\n\n    sqlite3_stmt *sqlstmt;//to execute the above statement\n    if (sqlite3_prepare_v2(database, chstmt, -1, &amp;sqlstmt, NULL)==SQLITE_OK)\n    {\n        while (sqlite3_step(sqlstmt)==SQLITE_ROW) {\n\n            const char *ch=(char *)sqlite3_column_text(sqlstmt, 0);\n            bnnam=[NSString stringWithFormat:@\"%s\",ch];\n            const char *ch1=(char *)sqlite3_column_text(sqlstmt, 1);\n            urladdr=[NSString stringWithFormat:@\"%s\",ch1];\n            const char *ch2=(char *)sqlite3_column_text(sqlstmt, 2);\n            ydob=[NSString stringWithFormat:@\"%s\",ch2];\n            const char *ch3=(char *)sqlite3_column_text(sqlstmt, 3);\n            ystud=[NSString stringWithFormat:@\"%s\",ch3];\n            const char *ch4=(char *)sqlite3_column_text(sqlstmt, 4);\n            yphon=[NSString stringWithFormat:@\"%s\",ch4];\n            const char *ch5=(char *)sqlite3_column_text(sqlstmt, 5);\n            ymail=[NSString stringWithFormat:@\"%s\",ch5];\n            const char *ch6=(char *)sqlite3_column_text(sqlstmt,6);\n            yface=[NSString stringWithFormat:@\"%s\",ch6];                //NSLog(@\"%@\",urladdr);\n            //const char *ch5=(char *)sqlite3_column_text(sqlstmt, 4);\n            NSUInteger legnth=sqlite3_column_bytes(sqlstmt, 7);\n\n            if (legnth&gt;0) \n            {\n\n                NSData *dt=[NSData dataWithBytes:sqlite3_column_blob(sqlstmt, 7) length:legnth];\n                clsimg=[UIImage imageWithData:dt];//converting data to image\n                NSLog(@\"image 1 %@\",clsimg);\n            }\n            else \n            {\n                clsimg=nil;\n            }\n\n        }\n    }\n    sqlite3_finalize(sqlstmt);\n}\nsqlite3_close(database);\n } \n</code></pre>\n\n<p>Second image from database,</p>\n\n<pre><code>  -(void)Readsqlitefile\n {\nsqlite3 *database;//database object\nNSString *docpath=[self doccumentspath];//get sqlite path\nconst char *ch=[docpath UTF8String];\nif (sqlite3_open(ch, &amp;database)==SQLITE_OK) \n    {\nconst char *chstmt=\"select * from scrapsign\";\nsqlite3_stmt *sqlstmt;\n    if (sqlite3_prepare_v2(database, chstmt, -1, &amp;sqlstmt, NULL)==SQLITE_OK)\n    {\n        while (sqlite3_step(sqlstmt)==SQLITE_ROW)\n        {\n\n            NSUInteger legnt=sqlite3_column_bytes(sqlstmt, 0);\n\n            if (legnt&gt;0) {\n\n                NSData *dt=[NSData dataWithBytes:sqlite3_column_blob(sqlstmt, 0) length:legnt];\n                mysign=[UIImage imageWithData:dt];\n            }\n            else \n                            {\n                mysign=nil;\n            }\n\n        }\n    }\n    sqlite3_finalize(sqlstmt);\n}\nsqlite3_close(database);\n }\n</code></pre>\n\n<p>Image setting for row click</p>\n\n<pre><code> - (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath \n{\n\n scrapview *detailViewController = [[scrapview alloc] initWithNibName:@\"scrapview\" bundle:nil];\n [self Readthesqlitefileforname:[ar objectAtIndex:indexPath.row]];\n [self.navigationController pushViewController:detailViewController animated:YES];\n if (clsimg !=nil)\n {\n    detailViewController.imgv.image=clsimg;\n\n }\n [self Readsqlitefile];\n\nif (mysign !=nil) \n{\n    detailViewController.imgv2.image=mysign;//second image viewer\n    NSLog(@\"%@\",mysign);\n\n}\n\ndetailViewController.txt1.text=urladdr;\ndetailViewController.txt2.text=ydob;\ndetailViewController.txt3.text=ystud;\ndetailViewController.txt4.text=yphon;\ndetailViewController.txt5.text=ymail;\ndetailViewController.txt.text=yface;\ndetailViewController.txt7.text=bnnam;\n\n}\n</code></pre>\n\n<p>while clicking the row the view should show different images on both imageviewer,but only one image view only change on click ,the second showing same image for all the row clicks.\nplease help me to sort out the problem.</p>\n"},{"tags":["android","sqlite"],"answer_count":2,"favorite_count":2,"up_vote_count":13,"down_vote_count":0,"view_count":1234,"score":13,"question_id":9140952,"title":"Store Android SQLite","body":"<p>I have a sqlite database that gonna be filled from a webservice with intially 1000 record , then i will insert more record in it each time i need to do. my question is  where to store the sqlite database in device in a way to keep inserting   ( either in internal or external memory) i.e if i store the database in internal memory and  when a internal memory get filled i can move it to external and keep inserting <b>OR</b>  if i store it in the external storage and the external storage get filled and there is an available space in internal i can move to internal and keep inserting data .. i am very confused about this can you help me\nany suggestion or links please</p>\n"},{"tags":["vb.net","sqlite","microsoft-metro"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":1,"view_count":81,"score":0,"question_id":12592647,"title":"Implementing SQLite in a Windows 8 app using VB.NET","body":"<p>I am creating an application that requires local database support (because I don't know how to write and connect a web service). I am developing in VB.NET because it is the only programming language that I have experience with.</p>\n\n<p>I seem to have correctly added SQLite to my application; but I have no idea how to create a database, create tables, create columns and set properties. My understanding is that this all must be done with code, would it be possible to get some guidance and example code on how to do this?</p>\n\n<p>Beyond this I need to know how to add user inputted data, display that data to the user, allow the user to edit the data and allow the user to delete entries. Again I am looking for coded examples with an explanation if possible.</p>\n\n<p>I know that this is a large and complex question but I have searched high and low and nearly every article is written for C# which I cannot make any sense of at all.</p>\n"},{"tags":["sqlite","sqlite3"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1787,"score":0,"question_id":8442147,"title":"How to delete or add column in SQLITE?","body":"<p>I want to delete or add column in sqlite database</p>\n\n<p>I am using following query  to delete column.</p>\n\n<pre><code>ALTER TABLE TABLENAME DROP COLUMN DIST_TYPE\n</code></pre>\n\n<p>But it gives error </p>\n\n<pre><code>System.Data.SQLite.SQLiteException: SQLite error\nnear \"DROP\": syntax error\n</code></pre>\n"},{"tags":["objective-c","sqlite","sqlite3","ios6"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12594607,"title":"SQLite query running successfully in version 3.5.2 but giving error in version 3.7.11 - using aggregate functions","body":"<p>My query was working fine in Sqlite 3.5.1 version but when I run the same query in 3.7.11 version am getting misuse of aggregate function min() error. Below one is my query. Please help me in this regard</p>\n\n<p>select distinct category from m_ipaperdara  order by min(displayorder) asc </p>\n"},{"tags":["android","sqlite","full-text-search","special-characters","fts4"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":116,"score":1,"question_id":12500799,"title":"SQLite FTS4 search with special characters","body":"<p>I have an Android app which searches for data in an SQLite database with FTS4 virtual tables. It works fine, but when the data inside the tables contain special characters (like 'á', 'é', 'í', 'ó', 'ú' or 'ñ') the SQLite MATCH function gives no results. I'm lost at this point. Thanks.</p>\n"},{"tags":["sqlite","nsdocument"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":12591727,"title":"Wrapping large SQLite databases in an NSDocument bundle","body":"<p>I am writing an NSDocument based application that has an SQLite database that I wish to tag along in the document bundle.  It consists of some number of tables, with the schema for each table being a timestamp and a value.  This database will start out small, but could grow to a sizable amount over time.  The application is updating the database \"behind NSDocument's back.\"</p>\n\n<p>What I have attempted to do thus far is override the <code>writeToURL:ofType:error:</code> method, which can get passed some convoluted URL like:</p>\n\n<blockquote>\n  <p>file://localhost/private/var/folders/mr/l1z6gdls0fb3t28m3z1bz6lw0000gn/T/TemporaryItems/(A%20Document%20Being%20Saved%20By%MyApp%2031)/Untitled.wsdoc</p>\n</blockquote>\n\n<p>At this point I am forced, if you will, to use an in-memory database, then suck up the entire contents of that database into an NSFileWrapper.  It works, but it doesn't scale well.  Doing his each time someone presses <kbd>Command</kbd>-<kbd>S</kbd> (or worse yet, I turn on autosaving) could be a very expensive operation if the database is huge, say 200-300MB or more (which is not out of the realm of possibility for this application).</p>\n\n<p>So I'm wondering: is it possible to manage an SQLite file outside of the purview of NSDocument while still having it reside IN the document bundle so that the database can exist within the bundle as it is moved/copied?</p>\n"},{"tags":["android","sqlite"],"answer_count":5,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1695,"score":1,"question_id":6225374,"title":"SQLite DB accessed from multiple threads","body":"<p>Consider following: I've got <code>Service</code>, which writes into DB in <code>AsyncTask</code>. And my Activity reads data from DB(consider UI thread for simplicity). I access DB using <code>SQLiteOpenHelper</code>. I create single instance in <a href=\"http://developer.android.com/reference/android/app/Application.html#onCreate%28%29\" rel=\"nofollow\">Application onCreate()</a> and then obtain it in service and activity. Is there any possibility that I would get my DB 'dead locked'? Previously, I used ContentProvider for such operations. Though, it is based on using single <code>SQLiteOpenHelper</code> instance, I decided to simplify my project by excluding <code>ContentProvider</code>. </p>\n\n<p>Consider code:</p>\n\n<pre><code>public class App extends Application {\n\n    private OpenHelper openHelper;\n\n    @Override\n    public void onCreate(){\n        super.onCreate();\n            openHelper=new OpenHelper();\n    }\n\n        public OpenHelper getHelper(){\n            return openHelper;\n        }\n}\n</code></pre>\n\n<p>In Activity:</p>\n\n<pre><code>OpenHelper helper=(App)getApplication().getHelper();\nSQLiteDatabase db=helper.getReadableDatabase();\n// Do reading\n</code></pre>\n\n<p>And inside Serice, in separate thread:</p>\n\n<pre><code>OpenHelper helper=(App)getApplication().getHelper();\nSQLiteDatabase db=helper.getWritableDatabase();\n//Do writing\n</code></pre>\n\n<p>Would it be safe?</p>\n\n<p><strong>UPD</strong> <a href=\"http://developer.android.com/reference/android/database/sqlite/SQLiteDatabase.html#setLockingEnabled%28boolean%29\" rel=\"nofollow\">This</a> might be the solution, but not sure how to use it.</p>\n"},{"tags":["sqlite","table"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":105,"score":0,"question_id":12584281,"title":"Generating list of unique values from two tables with all the columns from one table","body":"<p>I don't normally post for help but I'm really stuck here as my SQL knowledge isn't great.</p>\n\n<p>Here's what I want to do.\nI have two tables:</p>\n\n<pre><code>CREATE TABLE DistinctCategories (\nname VARCHAR(20) PRIMARY KEY,\ncheck INT);\n\nCREATE TABLE Categories (\n_id INTEGER PRIMARY KEY,\ntid INTEGER NOT NULL,\nname VARCHAR(20) NOT NULL,\ncheck INTEGER NOT NULL\n);\n</code></pre>\n\n<p>I want to create a list of all possible category names for a specific tid. If a name is in both tables, I only want it listed once and that row will take on the \"check\" value in Categories.</p>\n\n<p>I was thinking of something along the lines of:</p>\n\n<pre><code>\nSelect *,\nFrom Categories,\nWhere tid=2\n</code></pre>\n\n<p>Then adding a join here but I'm not sure how that would work.</p>\n\n<p>Is this even possible?</p>\n"},{"tags":["android","sqlite","sql-order-by"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":12593991,"title":".rawQuery order by doesn't work","body":"<p>Before I added in \"order by\", my statement works well and data is able to be displayed. After I added \"order by\", it is unable to work! Is there some thing wrong with my statement?</p>\n\n<pre><code>        Cursor c = sampleDB.rawQuery(\"SELECT companyNameEng FROM \" +\n                TABLE_NAME + \"ORDER BY companyNameEng asc\", null);\n\n        if (c != null ) {\n            while (c.moveToNext()) {\n              womenName.add(c.getString(0)); // Get the current subj\n                                                      // code, add to list\n          }\n          sampleDB.close();\n        }\n      sampleDB.close();\n</code></pre>\n"},{"tags":["ruby-on-rails","sqlite","gem"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":12593680,"title":"How to put metadata in sqlite3-1.3.4-x86-mingw32.gem","body":"<p>I perform bundle install but it cannot continue because of sqlite3 it always returns to:</p>\n\n<p>Gem::Package::FormatError: no metadata found in C:/RailsInstaller/Ruby1.9.3/lib/\nruby/gems/1.9.1/cache/sqlite3-1.3.4-x86-mingw32.gem\nAn error occured while installing sqlite3 (1.3.4), and Bundler cannot continue.\nMake sure that <code>gem install sqlite3 -v '1.3.4'</code> succeeds before bundling.</p>\n\n<p>How will I resolve this issue?</p>\n"},{"tags":["c#","sqlite","microsoft-metro","windows-store"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":95,"score":0,"question_id":12574636,"title":"SQLite and Windows Metro, Correct Query not returning data","body":"<p>I'm having a weird problem,</p>\n\n<p>I'm using SQLite on windows 8 application, everything works fine... except for one query.</p>\n\n<p>I'm using the same method for 4 different querys (all of them return the same columns), the mapping is correct since at least one of them is working.</p>\n\n<p>The problem is... the query returns no results, if I copy my sql statement and run it into sqlite mannually, it works and returns 14 rows... </p>\n\n<p>my sql statement is:\n\"select w1.word_sense, w2.word from word_senses as w1, word_senses as w2 where w1.equiv_word = 'A' and w1.ID =  w2.ID and w1.word_sense != w2.word_sense and w2.usage &amp; 66294!= 0 and w2.usage &amp;3072= 0 order by w1.word_sense, w2.word\"</p>\n\n<p>the line of code that executes the query is:</p>\n\n<p>List synonyms = await DBHelper.Instance.QueryAsync(sql);</p>\n\n<p>the mapping is:</p>\n\n<pre><code>public class WordSynonymMapping\n{\n    [SQLite.Column(\"word_sense\")]\n    public int WordSense { get; set; }\n\n    [SQLite.Column(\"word\")]\n    public string Word { get; set; }\n}\n</code></pre>\n\n<p>I can't find a solution...</p>\n\n<p>Here is a copy of a statement that actually works...</p>\n\n<p>\"select w1.word_sense, e.example as word from word_senses w1 ,examples    e where  w1.equiv_word  =  'A' and w1.usage &amp; 0 = 0  and e.word_sense = w1.word_sense order by w1.word_sense, e.example\"</p>\n\n<p>can anybody help me with this? I'm stucked and don't know how to proceed.</p>\n\n<p>Thanks!</p>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":10321204,"title":"Deleting from sqlite database - Android","body":"<p>I'm not able to delete from my database for some reason. I'm trying to compare the _ID value in the database with one entered by the user in an EditText box and if it matches it should delete the whole row.</p>\n\n<p>This is what I've got so far:</p>\n\n<pre><code>private static String[] DELETION = {_ID, TITLE, TIME, DETAILS};\nprivate Cursor delete(){\n        calendarData = new CalendarData(this);\n        SQLiteDatabase db = calendarData.getWritableDatabase();\n\n        Cursor idToDelete = db.query(true, TABLE_NAME, DELETION, _ID+\" = \"+deleteAnAppointment.getText(),\n                null, null, null, null, null);\n        startManagingCursor(idToDelete);\n        return idToDelete;\n    }\n\n    private void selectToDelete(Cursor cursor){\n        calendarData = new CalendarData(this);\n        SQLiteDatabase db = calendarData.getWritableDatabase();\n        if(cursor.moveToNext()){\n            db.delete(TABLE_NAME, _ID+\" = \"+deleteAnAppointment.getText(), null);\n        }\n\n    }\n</code></pre>\n\n<p>Please any help would be appreciated, my EditText input type is set to number</p>\n\n<p>edit: just to make it maybe a bit more clear, I'm calling these methods in an onClick for a button like this:</p>\n\n<pre><code>Cursor toDelete = delete();\n            selectToDelete(toDelete);\n</code></pre>\n\n<p>Edit(2): Table creation</p>\n\n<pre><code>@Override\n    public void onCreate(SQLiteDatabase db){\n        db.execSQL(\"CREATE TABLE \" + TABLE_NAME + \" (\" + _ID + \" INTEGER PRIMARY KEY AUTOINCREMENT, \" + \n                    DATE + \" LONG, \" +\n                    TITLE + \" TEXT NOT NULL, \" + TIME + \" TEXT NOT NULL,\" + DETAILS + \" TEXT NOT NULL);\");\n    }\n</code></pre>\n\n<p>Edit(3): I tried this as well as a simple approach but still nothing:</p>\n\n<pre><code>private void deleteAppointment(){\n        calendarData = new CalendarData(this);\n        SQLiteDatabase db = calendarData.getWritableDatabase();\n\n        db.delete(TABLE_NAME, _ID+\" = \"+deleteAnAppointment.getText(), null);\n\n\n    }\n</code></pre>\n"},{"tags":["c#","sqlite","uitableview","monotouch","ios6"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":167,"score":1,"question_id":12545022,"title":"iOS6 device only. UITableView disappears off screen when making a call to sqlite and returning from a UINavigation","body":"<p>My iPhone app (developed using c# and monotouch) has worked fine on iOS5. Since the upgrade to iOS6, I am experiencing the following problem: (NOTE: only occurs on device, not simulator)</p>\n\n<p>My first page is a UITableView. If you select a row, it takes you to another view. This view queries the database (SQLite) to load further information based on the selected incidentId.</p>\n\n<p>When I click the UINavigation Back button to go back to my first page, the UITable view disappears off screen. </p>\n\n<p>When I scroll anywhere on the screen, the UITableView reappears and performs as expected.</p>\n\n<p>After going through code line by line, I've narrowed it down to one line of code, being\ncmd.ExecuteReader (cmd being SqliteConnection > CreateCommen() > ExecuteReader() )</p>\n\n<p>If I remove that line of code and hardcode in the object result, the UITableView works normally. </p>\n\n<p>Can anyone tell me why this is?</p>\n\n<p>Its only doing this on iOS 6 on the device ONLY. The simulator with iOS6 works normally.</p>\n"},{"tags":["sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":917,"score":0,"question_id":3488982,"title":"Checking sqlite datetime NULL with RoR","body":"<p>RoR/SQL newbie here.</p>\n\n<p>My datetime column '<code>deleted_at</code>' are all uninitialized.  Running this query returns an error:</p>\n\n<pre><code>SELECT * FROM variants v\n ON v.id = ovv0.variant_id INNER JOIN option_values_variants ovv1\n ON v.id = ovv1.variant_id INNER JOIN option_values_variants ovv2\n ON v.id = ovv2.variant_id INNER JOIN option_values_variants ovv3\n ON v.id = ovv3.variant_id INNER JOIN option_values_variants ovv4\n ON v.id = ovv4.variant_id\n WHERE v.deleted_at = NULL\n AND v.product_id = 1060500595\n</code></pre>\n\n<p>However, if I set my datetime values to 0, and set my query to <code>v.deleted_at = 0</code>, the correct variant is returned to me.</p>\n\n<p>How do I check for uninitialized/NULL datetimes?</p>\n"},{"tags":["sql","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":85,"score":2,"question_id":12576148,"title":"sqlite foreach in select statement?","body":"<p>I have got a problem with an SQLite select.</p>\n\n<p>There are the tables \"kategorie\",\"lv\",\"majetok\",\"parcela\".</p>\n\n<p>Each person has information about what he owns in the table \"majetok\". The sample record:</p>\n\n<pre><code>id      idpodfk idlvfk  podiel  podield cislozlv datum1         datum2\n1       31      1       1/10000 0,0001  789      16. 9. 2012    16. 9. 2012\n</code></pre>\n\n<p>idpodfk-fk of person id<br>\nidlvfk-fk of land record id</p>\n\n<p>There is also table LV (table of land records), sample record:</p>\n\n<pre><code>idlv    lvnazov katuzemie\n1       1830    Plavecký Mikuláš\n</code></pre>\n\n<p>Also I use the table \"parcela\", I store in there information about parcels in the land record</p>\n\n<pre><code>pnazov  rozloha idlvfk  idkategoriafk typ\n5432    692312  1       1             C\n</code></pre>\n\n<p>And table kategorie</p>\n\n<pre><code>idkategoria  meno \n1            Lesné pozemky\n</code></pre>\n\n<hr>\n\n<p>What I need:\na foreach record in this select</p>\n\n<pre><code>SELECT   SUM(podield) AS sum1, idlvfk\nFROM     majetok a\nWHERE    idpodfk = 1\nGROUP BY idlvfk\n</code></pre>\n\n<p>I need to select this</p>\n\n<pre><code>SELECT     SUM(par.rozloha)*sum1 AS m2, kat.meno --sum1 from statement above\nFROM       Parcela par \nINNER JOIN kategorie kat ON par.IDkategoriaFK = kat.IDkategoria\nWHERE      par.IDLVFK = 1 --IDLVFK from statement above\nGROUP BY   kat.meno\n</code></pre>\n\n<p>The (second's) query output should look like this</p>\n\n<pre><code>m2     kat.meno\n123.23 Lesne pozemky    --FOR FIRST IDLVFK\n324.52 Ostatne pozemky  --FOR FIRST IDLVFK   \n235    Pasienky         --FOR FIRST IDLVFK \n144.23 Lesne pozemky    --FOR NEXT IDLVFK\n543.52 Ostatne pozemky  --FOR NEXT IDLVFK\n756    Pasienky         --FOR NEXT IDLVFK\n.\n.\n.\n</code></pre>\n\n<p>And then I need to group by kat.meno so the final output should look like this:</p>\n\n<pre><code>m2     kat.meno\n267,46 Lesne pozemky\n868,04 Ostatne pozemky\n991    Pasienky\n.                         --other kat.meno if there is\n.                         --other kat.meno if there is\n</code></pre>\n\n<p>Is this possible in one query or do I need to process it on a front-end?</p>\n\n<p>Tables and query background:</p>\n\n<p>There are some parcels in land record (every parcel has its own category, eg forest parcel etc). Person owns a part of a land record (saved in table majetok, eg: 1/1000). That mean he owns 1/1000 from each parcel in that land record. I want to select the area (column \"rozloha\" in parcela table) that he owns for each category (SUM(par.rozloha)*sum1 AS m2). So we must count sum of all parcels in that category on that land record and multiply with part that owns that person. But he can own 1/1000 on one land record and 3/3456 on the second land record (another land record=another parcels) so we have to do for each land record and that summarize you can see in last code.</p>\n"},{"tags":["sql","sqlite","sqlite3"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":77,"score":0,"question_id":12469647,"title":"sqlite insert error","body":"<p>I use Firefox plugin SQLite Manager execute my SQL:</p>\n\n<pre><code>    declare @id int\n    declare @lon float\n    declare @lat float\n    set @id=5\n    set @lon=118.476000\n    set @lat=32.033720\n    while @i&lt;=10000\n      begin\n        INSERT INTO njdm \n          (ID,dalei,xiaolei,hanyi,level,longitude,latitude) \n        VALUES \n          (@id, 5, 10, \"地名描述\",1,@lon,@lat)\n\n        set @id=@id+1\n        set @lon=@lon+0.000010\n        set @lat=@lat+0.000010\n      end\n</code></pre>\n\n<p>And get the error:</p>\n\n<pre><code>    [ near \"declare\": syntax error ]\n    Exception Name: NS_ERROR_FAILURE\n    Exception Message: Component returned failure code: 0x80004005 (NS_ERROR_FAILURE)                          [mozIStorageConnection.createStatement]\n</code></pre>\n\n<p>any help?TIA!</p>\n"},{"tags":["iphone","sqlite","multilingual","nslocalizedstring"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":12586496,"title":"iOS localization with sqlite database","body":"<p>I did some reading on localization in iOS and it seems like the two main things are localizing the nib file, and using the NSLocalizedString to grab the localized string from the string file.  For our app, we have a sqlite database (using the FMDB wrapper) for the majority of our content we display.  In this scenario, how would we localize our app?  Do we need a Chinese version of our database?  Or do we need a Chinese strings file that serves as a lookup table from the strings we pull out from our database.  Like if in the database there is a description of a car, do we then look for that description in the strings file?  I haven't really seen any examples on localization with a database.</p>\n\n<p>Thanks!</p>\n"},{"tags":["iphone","xcode","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":12588132,"title":"sqlite server on apple server?","body":"<p>I am doing sqlite with iphone development, right now the db files are on my macbook. My question is when I submit it to the app store, where the db resides? Is it on apple's server or on each user's device? </p>\n"},{"tags":["c#","sqlite","nullable","dblinq","dbmetal"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":63,"score":1,"question_id":12570634,"title":"Equal is not defined between type Nullable<Int32> and Int32","body":"<p>I am writing a boring application to manage patients and their clinic history. I used SQLite combined with DbLinq libraries and DbMetal code generation utility. Here are two classes from the genereated code extracted from the underlying database:</p>\n\n<pre><code>[Table(Name=\"main.Patients\")]\npublic partial class Patient : System.ComponentModel.INotifyPropertyChanging, System.ComponentModel.INotifyPropertyChanged\n{\n\n    private static System.ComponentModel.PropertyChangingEventArgs emptyChangingEventArgs = new System.ComponentModel.PropertyChangingEventArgs(\"\");\n\n    private long _birthday;\n\n    private string _firstName;\n\n    private int _hasChildren;\n\n    private System.Nullable&lt;int&gt; _id;\n\n    private int _isMarried;\n\n    private string _lastName;\n\n    private string _profession;\n\n    private EntitySet&lt;ClinicCase&gt; _clinicCases;\n\n    private EntitySet&lt;PatientAddress&gt; _patientsAddresses;\n\n    private EntitySet&lt;PatientPhoneNumber&gt; _patientsPhoneNumbers;\n\n    #region Extensibility Method Declarations\n    partial void OnCreated();\n\n    partial void OnBirthdayChanged();\n\n    partial void OnBirthdayChanging(long value);\n\n    partial void OnFirstNameChanged();\n\n    partial void OnFirstNameChanging(string value);\n\n    partial void OnHasChildrenChanged();\n\n    partial void OnHasChildrenChanging(int value);\n\n    partial void OnIDChanged();\n\n    partial void OnIDChanging(System.Nullable&lt;int&gt; value);\n\n    partial void OnIsMarriedChanged();\n\n    partial void OnIsMarriedChanging(int value);\n\n    partial void OnLastNameChanged();\n\n    partial void OnLastNameChanging(string value);\n\n    partial void OnProfessionChanged();\n\n    partial void OnProfessionChanging(string value);\n    #endregion\n\n\n    public Patient()\n    {\n        _clinicCases = new EntitySet&lt;ClinicCase&gt;(new Action&lt;ClinicCase&gt;(this.ClinicCases_Attach), new Action&lt;ClinicCase&gt;(this.ClinicCases_Detach));\n        _patientsAddresses = new EntitySet&lt;PatientAddress&gt;(new Action&lt;PatientAddress&gt;(this.PatientsAddresses_Attach), new Action&lt;PatientAddress&gt;(this.PatientsAddresses_Detach));\n        _patientsPhoneNumbers = new EntitySet&lt;PatientPhoneNumber&gt;(new Action&lt;PatientPhoneNumber&gt;(this.PatientsPhoneNumbers_Attach), new Action&lt;PatientPhoneNumber&gt;(this.PatientsPhoneNumbers_Detach));\n        this.OnCreated();\n    }\n\n    [Column(Storage=\"_birthday\", Name=\"Birthday\", DbType=\"integer\", AutoSync=AutoSync.Never, CanBeNull=false)]\n    [DebuggerNonUserCode()]\n    public long BirthdayBinaryDate\n    {\n        get\n        {\n            return this._birthday;\n        }\n        set\n        {\n            if ((_birthday != value))\n            {\n                this.OnBirthdayChanging(value);\n                this.SendPropertyChanging();\n                this._birthday = value;\n                this.SendPropertyChanged(\"Birthday\");\n                this.OnBirthdayChanged();\n            }\n        }\n    }\n\n    [Column(Storage=\"_firstName\", Name=\"FirstName\", DbType=\"text\", AutoSync=AutoSync.Never, CanBeNull=false)]\n    [DebuggerNonUserCode()]\n    public string FirstName\n    {\n        get\n        {\n            return this._firstName;\n        }\n        set\n        {\n            if (((_firstName == value) \n                        == false))\n            {\n                this.OnFirstNameChanging(value);\n                this.SendPropertyChanging();\n                this._firstName = value;\n                this.SendPropertyChanged(\"FirstName\");\n                this.OnFirstNameChanged();\n            }\n        }\n    }\n\n    [Column(Storage=\"_hasChildren\", Name=\"HasChildren\", DbType=\"integer\", AutoSync=AutoSync.Never, CanBeNull=false)]\n    [DebuggerNonUserCode()]\n    public int HasChildren\n    {\n        get\n        {\n            return this._hasChildren;\n        }\n        set\n        {\n            if ((_hasChildren != value))\n            {\n                this.OnHasChildrenChanging(value);\n                this.SendPropertyChanging();\n                this._hasChildren = value;\n                this.SendPropertyChanged(\"HasChildren\");\n                this.OnHasChildrenChanged();\n            }\n        }\n    }\n\n    [Column(Storage=\"_id\", Name=\"ID\", DbType=\"integer\", IsPrimaryKey=true, IsDbGenerated=true, AutoSync=AutoSync.OnInsert)]\n    [DebuggerNonUserCode()]\n    public System.Nullable&lt;int&gt; ID\n    {\n        get\n        {\n            return this._id;\n        }\n        set\n        {\n            if ((_id != value))\n            {\n                this.OnIDChanging(value);\n                this.SendPropertyChanging();\n                this._id = value;\n                this.SendPropertyChanged(\"ID\");\n                this.OnIDChanged();\n            }\n        }\n    }\n\n    [Column(Storage=\"_isMarried\", Name=\"IsMarried\", DbType=\"integer\", AutoSync=AutoSync.Never, CanBeNull=false)]\n    [DebuggerNonUserCode()]\n    public int IsMarried\n    {\n        get\n        {\n            return this._isMarried;\n        }\n        set\n        {\n            if ((_isMarried != value))\n            {\n                this.OnIsMarriedChanging(value);\n                this.SendPropertyChanging();\n                this._isMarried = value;\n                this.SendPropertyChanged(\"IsMarried\");\n                this.OnIsMarriedChanged();\n            }\n        }\n    }\n\n    [Column(Storage=\"_lastName\", Name=\"LastName\", DbType=\"text\", AutoSync=AutoSync.Never, CanBeNull=false)]\n    [DebuggerNonUserCode()]\n    public string LastName\n    {\n        get\n        {\n            return this._lastName;\n        }\n        set\n        {\n            if (((_lastName == value) \n                        == false))\n            {\n                this.OnLastNameChanging(value);\n                this.SendPropertyChanging();\n                this._lastName = value;\n                this.SendPropertyChanged(\"LastName\");\n                this.OnLastNameChanged();\n            }\n        }\n    }\n\n    [Column(Storage=\"_profession\", Name=\"Profession\", DbType=\"text\", AutoSync=AutoSync.Never)]\n    [DebuggerNonUserCode()]\n    public string Profession\n    {\n        get\n        {\n            return this._profession;\n        }\n        set\n        {\n            if (((_profession == value) \n                        == false))\n            {\n                this.OnProfessionChanging(value);\n                this.SendPropertyChanging();\n                this._profession = value;\n                this.SendPropertyChanged(\"Profession\");\n                this.OnProfessionChanged();\n            }\n        }\n    }\n\n    #region Children\n    [Association(Storage=\"_clinicCases\", OtherKey=\"PatientID\", ThisKey=\"ID\", Name=\"fk_ClinicCases_0\")]\n    [DebuggerNonUserCode()]\n    public EntitySet&lt;ClinicCase&gt; ClinicCases\n    {\n        get\n        {\n            return this._clinicCases;\n        }\n        set\n        {\n            this._clinicCases = value;\n        }\n    }\n\n    [Association(Storage=\"_patientsAddresses\", OtherKey=\"PatientID\", ThisKey=\"ID\", Name=\"fk_PatientsAddresses_0\")]\n    [DebuggerNonUserCode()]\n    public EntitySet&lt;PatientAddress&gt; Addresses\n    {\n        get\n        {\n            return this._patientsAddresses;\n        }\n        set\n        {\n            this._patientsAddresses = value;\n        }\n    }\n\n    [Association(Storage=\"_patientsPhoneNumbers\", OtherKey=\"PatientID\", ThisKey=\"ID\", Name=\"fk_PatientsPhoneNumbers_0\")]\n    [DebuggerNonUserCode()]\n    public EntitySet&lt;PatientPhoneNumber&gt; PhoneNumbers\n    {\n        get\n        {\n            return this._patientsPhoneNumbers;\n        }\n        set\n        {\n            this._patientsPhoneNumbers = value;\n        }\n    }\n    #endregion\n\n    public event System.ComponentModel.PropertyChangingEventHandler PropertyChanging;\n\n    public event System.ComponentModel.PropertyChangedEventHandler PropertyChanged;\n\n    protected virtual void SendPropertyChanging()\n    {\n        System.ComponentModel.PropertyChangingEventHandler h = this.PropertyChanging;\n        if ((h != null))\n        {\n            h(this, emptyChangingEventArgs);\n        }\n    }\n\n    protected virtual void SendPropertyChanged(string propertyName)\n    {\n        System.ComponentModel.PropertyChangedEventHandler h = this.PropertyChanged;\n        if ((h != null))\n        {\n            h(this, new System.ComponentModel.PropertyChangedEventArgs(propertyName));\n        }\n    }\n\n    #region Attachment handlers\n    private void ClinicCases_Attach(ClinicCase entity)\n    {\n        this.SendPropertyChanging();\n        entity.Patient = this;\n    }\n\n    private void ClinicCases_Detach(ClinicCase entity)\n    {\n        this.SendPropertyChanging();\n        entity.Patient = null;\n    }\n\n    private void PatientsAddresses_Attach(PatientAddress entity)\n    {\n        this.SendPropertyChanging();\n        entity.Patient = this;\n    }\n\n    private void PatientsAddresses_Detach(PatientAddress entity)\n    {\n        this.SendPropertyChanging();\n        entity.Patient = null;\n    }\n\n    private void PatientsPhoneNumbers_Attach(PatientPhoneNumber entity)\n    {\n        this.SendPropertyChanging();\n        entity.Patient = this;\n    }\n\n    private void PatientsPhoneNumbers_Detach(PatientPhoneNumber entity)\n    {\n        this.SendPropertyChanging();\n        entity.Patient = null;\n    }\n    #endregion\n}\n\n[Table(Name=\"main.PatientsAddresses\")]\npublic partial class PatientAddress : System.ComponentModel.INotifyPropertyChanging, System.ComponentModel.INotifyPropertyChanged\n{\n\n    private static System.ComponentModel.PropertyChangingEventArgs emptyChangingEventArgs = new System.ComponentModel.PropertyChangingEventArgs(\"\");\n\n    private string _address;\n\n    private string _domicileStatus;\n\n    private System.Nullable&lt;int&gt; _patientID;\n\n    private EntityRef&lt;Patient&gt; _patients = new EntityRef&lt;Patient&gt;();\n\n    #region Extensibility Method Declarations\n    partial void OnCreated();\n\n    partial void OnAddressChanged();\n\n    partial void OnAddressChanging(string value);\n\n    partial void OnDomicileStatusChanged();\n\n    partial void OnDomicileStatusChanging(string value);\n\n    partial void OnPatientIDChanged();\n\n    partial void OnPatientIDChanging(System.Nullable&lt;int&gt; value);\n    #endregion\n\n\n    public PatientAddress()\n    {\n        this.OnCreated();\n    }\n\n    [Column(Storage=\"_address\", Name=\"Address\", DbType=\"text\", IsPrimaryKey=true, AutoSync=AutoSync.Never)]\n    [DebuggerNonUserCode()]\n    public string Address\n    {\n        get\n        {\n            return this._address;\n        }\n        set\n        {\n            if (((_address == value) \n                        == false))\n            {\n                this.OnAddressChanging(value);\n                this.SendPropertyChanging();\n                this._address = value;\n                this.SendPropertyChanged(\"Address\");\n                this.OnAddressChanged();\n            }\n        }\n    }\n\n    [Column(Storage=\"_domicileStatus\", Name=\"DomicileStatus\", DbType=\"text\", AutoSync=AutoSync.Never)]\n    [DebuggerNonUserCode()]\n    public string DomicileStatus\n    {\n        get\n        {\n            return this._domicileStatus;\n        }\n        set\n        {\n            if (((_domicileStatus == value) \n                        == false))\n            {\n                this.OnDomicileStatusChanging(value);\n                this.SendPropertyChanging();\n                this._domicileStatus = value;\n                this.SendPropertyChanged(\"DomicileStatus\");\n                this.OnDomicileStatusChanged();\n            }\n        }\n    }\n\n    [Column(Storage=\"_patientID\", Name=\"PatientID\", DbType=\"integer\", IsPrimaryKey=true, IsDbGenerated=true, AutoSync=AutoSync.Never)]\n    [DebuggerNonUserCode()]\n    public System.Nullable&lt;int&gt; PatientID\n    {\n        get\n        {\n            return this._patientID;\n        }\n        set\n        {\n            if ((_patientID != value))\n            {\n                if (_patients.HasLoadedOrAssignedValue)\n                {\n                    throw new System.Data.Linq.ForeignKeyReferenceAlreadyHasValueException();\n                }\n                this.OnPatientIDChanging(value);\n                this.SendPropertyChanging();\n                this._patientID = value;\n                this.SendPropertyChanged(\"PatientID\");\n                this.OnPatientIDChanged();\n            }\n        }\n    }\n\n    #region Parents\n    [Association(Storage=\"_patients\", OtherKey=\"ID\", ThisKey=\"PatientID\", Name=\"fk_PatientsAddresses_0\", IsForeignKey=true)]\n    [DebuggerNonUserCode()]\n    public Patient Patient\n    {\n        get\n        {\n            return this._patients.Entity;\n        }\n        set\n        {\n            if (((this._patients.Entity == value) \n                        == false))\n            {\n                if ((this._patients.Entity != null))\n                {\n                    Patient previousPatients = this._patients.Entity;\n                    this._patients.Entity = null;\n                    previousPatients.Addresses.Remove(this);\n                }\n                this._patients.Entity = value;\n                if ((value != null))\n                {\n                    value.Addresses.Add(this);\n                    _patientID = value.ID;\n                }\n                else\n                {\n                    _patientID = null;\n                }\n            }\n        }\n    }\n    #endregion\n\n    public event System.ComponentModel.PropertyChangingEventHandler PropertyChanging;\n\n    public event System.ComponentModel.PropertyChangedEventHandler PropertyChanged;\n\n    protected virtual void SendPropertyChanging()\n    {\n        System.ComponentModel.PropertyChangingEventHandler h = this.PropertyChanging;\n        if ((h != null))\n        {\n            h(this, emptyChangingEventArgs);\n        }\n    }\n\n    protected virtual void SendPropertyChanged(string propertyName)\n    {\n        System.ComponentModel.PropertyChangedEventHandler h = this.PropertyChanged;\n        if ((h != null))\n        {\n            h(this, new System.ComponentModel.PropertyChangedEventArgs(propertyName));\n        }\n    }\n}\n</code></pre>\n\n<p>I use the following code to add an address to a patient:</p>\n\n<pre><code>PatientAddress address = new PatientAddress();\naddress.Address = txtAddress.Text;\naddress.DomicileStatus = cmbDomicileStatus.Text;\ncurrentPatient.Addresses.Add(address);\n\nDatabase.Source.PatientsAddresses.InsertOnSubmit(address);\nDatabase.Source.SubmitChanges();\n</code></pre>\n\n<p>Database.Source is an instance of the class that extends DataContext in the generated code. On SubmitChanges, I receive this exception:</p>\n\n<p>\"Equal operator is not defined between Nullable(Of Int32) and Int32.\"</p>\n\n<p>The message is not reported word by word, but the meaning is the same. The stack trace point to DbLinq code, more precisely to line 709 of source file DbLinq.Data.Linq.DataContext.cs. You can find the source files here: <a href=\"http://dblinq.codeplex.com/SourceControl/changeset/view/16800#314775\" rel=\"nofollow\">http://dblinq.codeplex.com/SourceControl/changeset/view/16800#314775</a> (under the body of the method SetEntityRefQueries(object entity)).\nI see that the problem comes when comparing a foreign key value with a constant in an expression tree, but I couln't manage to get other information on that. Can you help me find the issue?</p>\n\n<p>N.B.: the field address.PatientID (foreign key) is actually set to the correct value before the invocation of SubmitChanges.</p>\n"},{"tags":["ios","sqlite","replace","find"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":12585560,"title":"Find null values from table and replace it with space - sqlite","body":"<p>I am having sqlite database.</p>\n\n<p>In some columns I am having null values.</p>\n\n<p>I want to replace null values with space..</p>\n\n<p>Is there any query for this?</p>\n\n<p>Please let me know</p>\n"},{"tags":["visual-studio-2010","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":23,"score":-3,"question_id":12583901,"title":"visual studios and SQLite compability","body":"<p>I read on the readme file, of SQLite installation, that \"due to licence issues SQLite isn't compatible with Visual studio Express edition\". thank you!</p>\n"},{"tags":["android","sql","sqlite","android-layout","android-intent"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":41,"score":-1,"question_id":12585122,"title":"Editing the content of database in android","body":"<p>I have a edit tab in my app where the user can edit his details given during the time of registration .Inside the edit activity i have a save button which when clicked it saves the \ndata or update the datas into the database. </p>\n\n<p>CODE </p>\n\n<pre><code>public void onSave(View btn)\n{\n    EditText edtName = (EditText) findViewById(R.id.edtNameED);\n    EditText edtPass = (EditText) findViewById(R.id.edtPassED);\n    EditText edtEmail = (EditText) findViewById(R.id.edtEmailED);\n    EditText edtPh = (EditText) findViewById(R.id.edtPhED);\n    int id=0;\n    String where = DataBase_Server.C_ID+\"=?\";\n    String[] whereArgs = {id+\"\"};\n    DataBase_Server database=new DataBase_Server(Edit.this);\n    SQLiteDatabase db=database.getWritableDatabase();\n    ContentValues values=new ContentValues();\n    values.put(DataBase_Server.MOBILE_NO, edtPh.getText().toString());\n    values.put(DataBase_Server.PASS, edtPass.getText().toString());\n    values.put(DataBase_Server.EMAIL, edtEmail.getText().toString());\n    for(int i=0;i&lt;edtName.length();i++)\n    {\n        id+=(int)edtName.getText().toString().charAt(i);\n    }\n    Toast.makeText(this,id+\"  hello\", Toast.LENGTH_LONG).show();\n    try\n    {\n        db.update(DataBase_Server.TABLE, values,where,whereArgs);\n    }catch(Exception e){}\n    Toast.makeText(this,\"UPDATE SUCESSFULL !!\", Toast.LENGTH_LONG).show();\n    db.close();\n    database.close();\n}\n</code></pre>\n\n<p>The code is giving not a single error but it is not even updating anything in the database. The database is not changed at all even after the user edit his details.</p>\n"},{"tags":["iphone","database","query","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":12584533,"title":"Open table from database sqlite in iphone?","body":"<p>I have a database called China.sqlite nel Bundle, which consist of 16 tables. I have to open the table elements from the table called Menu.How can I do? Thanks in advance</p>\n"},{"tags":["android","sql","sqlite","listview"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":106,"score":0,"question_id":12584094,"title":"How to delete first row in SQLITE Database?","body":"<p>My ListView shows data from my SQLITE Database.\nBy Longclick on a ListViewItem I delete this specific Item.\nEveryThing works fine, but I don't get my first item deleted. I don't get any Errors in LogCat or something. Just nothing happens.</p>\n\n<p>Here is my code from the <strong>Database class</strong>:</p>\n\n<pre><code>public void deleteEntry(String TABLE, int pos) {\n    SQLiteDatabase database = this.getWritableDatabase();\n    database.delete(TABLE, KEY_ROWID + \"=?\" , new String[] { String.valueOf(pos)});\n\n    // also tryed this code\n    database.delete(TABLE, KEY_ROWID + \"= '\" + pos +\"'\",null);\n}\n</code></pre>\n\n<p>Here is the code of my <strong>ListView activity</strong>:</p>\n\n<pre><code>// Deletes the given row\n            database.deleteEntry(MyDatabase.DATABASE_TABLE_ORDERS, position);\n            updateList();\n</code></pre>\n\n<p>I'm quite shure that the committed <strong>int pos</strong> is representing the rowId of the respective Databse entry ( for the first entry <strong>pos</strong> is 0, for the second <strong>pos</strong> is 1 and so on )</p>\n\n<p><strong>updateList()</strong> creates a new listview and loads all the data from the DB again</p>\n\n<p>Has anybody got an idea why i can delete all my Items in the ListView / rows in my DB besides my first entry? thx for your help!</p>\n"},{"tags":["java","sqlite","nullpointerexception","prepared-statement"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":281,"score":0,"question_id":10201939,"title":"NullPointerException from Connection.preparedStatement for SQLite JDBC","body":"<p>what I'm trying to do is get a ResultSet from a SQL statement from which then I can derive certain values. What I seem to be having troubles with is the preparing of the prepared statement which occurs at this line.</p>\n\n<pre><code>String sql = \"SELECT \" + dataState + \" FROM \" + table + whereState + \";\";\njava.sql.PreparedStatement prep = conn.prepareStatement(sql); // Error here\n</code></pre>\n\n<p>I've already checked that the variable conn is not null. All the values in the statement are not null and the stack trace shows this.</p>\n\n<blockquote>\n  <p>java.lang.NullPointerException\n    <br>at org.sqlite.PrepStmt.(PrepStmt.java:37)\n    <br>at org.sqlite.Conn.prepareStatement(Conn.java:231)\n    <br>at org.sqlite.Conn.prepareStatement(Conn.java:224)\n    <br>at org.sqlite.Conn.prepareStatement(Conn.java:213)\n    <br>at org.utilities.storagemethods.SQLiteMethod.load(SQLiteMethod.java:223)\n    <br>at org.utilities.DataManager.load(DataManager.java:97)\n    <br>at org.utilities.Test.main(Test.java:21)</p>\n</blockquote>\n\n<p>A print of the sql statement shows that it gives this.</p>\n\n<pre><code>SELECT testString, testBool, testObj FROM testTable WHERE testInt=?;\n</code></pre>\n\n<p>You can ascertain the values from the given string.</p>\n\n<p>What I can't figure out is what I'm doing wrong to cause this, if you're curious about what sqlite system I'm using, you can find the home page here: <a href=\"http://www.zentus.com/sqlitejdbc/\" rel=\"nofollow\">http://www.zentus.com/sqlitejdbc/</a></p>\n\n<p>Thanks in advance for any help on this. I'm completely stumped.</p>\n\n<p>Note: In an attempt to save resources, I was caching my Connection's, and re-using them later. When I try re-getting the connection, it works perfectly. Is there a way I can cache them or do I need to load them every time I want to use it?</p>\n"},{"tags":["c#","sqlite","dblinq"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":12583839,"title":"Can't delete child entities with DbLinq","body":"<p>This question is related to my <a href=\"http://stackoverflow.com/questions/12570634/equal-is-not-defined-between-type-nullableint32-and-int32\">previous one</a>. You can find pretty much all the code there, with the exceptions reported here. I replaced  nullable fields with int fields and where the generated code put null I put -1. In this way I managed to solve an annoying exception raised by the DbLinq code. But now I can't delete child entities!\nIn particular, I have a patient with some addresses associated. The table PatientAddresses holds all the addresses in triplets (PatientID, Address, DomicileStatus), of which the first two members consistute a primary key for the table. I wrote a Test to point out the issue:</p>\n\n<pre><code>static void TestAddresses()\n    {\n        Patient p1 = CreateRandomPatient();\n        PatientAddress a1 = CreateRandomAddress();\n\n        p1.Addresses.Add(a1);\n        Database.Source.Patients.InsertOnSubmit(p1);\n        TestUtility.SaveCloseAndReopen();\n\n        Patient p2 = Database.Source.Patients.Single(p =&gt; p.ID == p1.ID);\n\n        Debug.Assert(p2.Addresses.Count == 1);\n        Debug.Assert(p2.Addresses[0].PatientID == a1.PatientID &amp;&amp; p2.Addresses[0].Address.Equals(a1.Address));\n        Debug.Assert(Database.Source.PatientsAddresses.Where(a =&gt; a.PatientID == a1.PatientID &amp;&amp; a.Address == a1.Address).Count() &gt; 0);\n\n        p2.Addresses.RemoveAt(0);\n        TestUtility.SaveCloseAndReopen();\n\n        p2 = Database.Source.Patients.Single(p =&gt; p.ID == p1.ID);\n\n        Debug.Assert(p2.Addresses.Count == 0); // &lt;-- HERE\n        Debug.Assert(!Database.Source.PatientsAddresses.Contains(a1));\n    }\n</code></pre>\n\n<p>The test fails at the indicated line. Long story short, even if I delete an address, it stays in the database. I even tried to delete the corresponding PatientAddress row, but to no avail. I tried three or four variants but I cannot remove addresses from a Patient. \nThe code used to generate those table is the following:</p>\n\n<pre><code>create table Patients (\nID integer primary key,\nFirstName text not null,\nLastName  text not null,\nProfession text,\nIsMarried integer not null default 0,\nHasChildren integer not null default 0,\nBirthday integer not null    \n);\n\ncreate table PatientsAddresses (\nPatientID integer,\nAddress text,\nDomicileStatus text,\nprimary key (PatientID, Address),\nforeign key (PatientID) references Patients(ID)\n    on delete cascade \n    on update cascade\n);\n</code></pre>\n\n<p>I can't figure out a way to avoid this behavior, and google doesn't help.</p>\n"},{"tags":["android","sqlite","contacts","ringtone"],"answer_count":0,"favorite_count":1,"up_vote_count":2,"down_vote_count":1,"view_count":34,"score":1,"question_id":12583683,"title":"Android - How to set the contact ringtone programmatically?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/2437922/how-can-i-set-a-ringtone-for-an-individual-contact-on-android\">How can I set a ringtone for an individual contact on Android?</a>  </p>\n</blockquote>\n\n\n\n<p>I am working on sample application on contacts where I can add the contacts in my android app and I can sync the contact at anytime to android native contacts(Address book). I am able to insert the contacts to native contacts now. Only thing is i am not able to set the contact ringtone. Contact ring tone is saved in my DB for all the contacts. But I am struggling to set the ring tone for individual contact. How can i achieve this. Below is the code for saving the  contacts. Currently i  am hardcoding everything. </p>\n\n<pre><code>    String DisplayName = \"XYZ\";\n    String MobileNumber = \"0000000000\";\n    String HomeNumber = \"1111\";\n    String WorkNumber = \"2222\";\n    String emailID = \"email@nomail.com\";\n    String company = \"xxxx\";\n    String jobTitle = \"abcd\";\n    String Ringtonepath= \"content://media/internal/audio/media/43\";\n    Uri Ringtone1 = Uri.parse(Ringtonepath);   \n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        // TODO Auto-generated method stub\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.main);\n\n\n        ArrayList&lt;ContentProviderOperation&gt; ops = new ArrayList&lt;ContentProviderOperation&gt;();\n\n\n        ops.add(ContentProviderOperation.newInsert(ContactsContract.RawContacts.CONTENT_URI)\n                .withValue(ContactsContract.RawContacts.ACCOUNT_TYPE, null)\n                .withValue(ContactsContract.RawContacts.ACCOUNT_NAME, null)\n                .build()\n        );\n\n        //------------------------------------------------------ Names\n        if(DisplayName != null)\n        {          \n            ops.add(ContentProviderOperation.newInsert(ContactsContract.Data.CONTENT_URI).\n                    withValueBackReference(ContactsContract.Data.RAW_CONTACT_ID, 0).\n                    withValue(ContactsContract.Data.MIMETYPE,ContactsContract.CommonDataKinds.StructuredName.CONTENT_ITEM_TYPE).\n                    withValue(ContactsContract.CommonDataKinds.StructuredName.DISPLAY_NAME,DisplayName)\n                    .build());\n        }\n\n        //------------------------------------------------------ Mobile Number                     \n        if(MobileNumber != null)\n        {\n            ops.add(ContentProviderOperation.newInsert(ContactsContract.Data.CONTENT_URI)\n                    .withValueBackReference(ContactsContract.Data.RAW_CONTACT_ID, 0)\n                    .withValue(ContactsContract.Data.MIMETYPE,ContactsContract.CommonDataKinds.Phone.CONTENT_ITEM_TYPE)\n                    .withValue(ContactsContract.CommonDataKinds.Phone.NUMBER, MobileNumber)\n                    .withValue(ContactsContract.CommonDataKinds.Phone.TYPE,ContactsContract.CommonDataKinds.Phone.TYPE_MOBILE)\n                    .build()\n            );\n        }\n\n\n        //------------------------------------------------------ Home Numbers\n        if(HomeNumber != null)\n        {\n            ops.add(ContentProviderOperation.newInsert(ContactsContract.Data.CONTENT_URI)\n                    .withValueBackReference(ContactsContract.Data.RAW_CONTACT_ID, 0)\n                    .withValue(ContactsContract.Data.MIMETYPE,ContactsContract.CommonDataKinds.Phone.CONTENT_ITEM_TYPE)\n                    .withValue(ContactsContract.CommonDataKinds.Phone.NUMBER, HomeNumber)\n                    .withValue(ContactsContract.CommonDataKinds.Phone.TYPE,ContactsContract.CommonDataKinds.Phone.TYPE_HOME)\n                    .build());\n        }\n\n        //------------------------------------------------------ Work Numbers\n        if(WorkNumber != null)\n        {\n            ops.add(ContentProviderOperation.newInsert(ContactsContract.Data.CONTENT_URI)\n                    .withValueBackReference(ContactsContract.Data.RAW_CONTACT_ID, 0)\n                    .withValue(ContactsContract.Data.MIMETYPE,ContactsContract.CommonDataKinds.Phone.CONTENT_ITEM_TYPE)\n                    .withValue(ContactsContract.CommonDataKinds.Phone.NUMBER, WorkNumber)\n                    .withValue(ContactsContract.CommonDataKinds.Phone.TYPE,ContactsContract.CommonDataKinds.Phone.TYPE_WORK)\n                    .build());\n        }\n\n        //------------------------------------------------------ Email\n        if(emailID != null)\n        {\n            ops.add(ContentProviderOperation.newInsert(ContactsContract.Data.CONTENT_URI)\n                    .withValueBackReference(ContactsContract.Data.RAW_CONTACT_ID, 0)\n                    .withValue(ContactsContract.Data.MIMETYPE,ContactsContract.CommonDataKinds.Email.CONTENT_ITEM_TYPE)\n                    .withValue(ContactsContract.CommonDataKinds.Email.DATA, emailID)\n                    .withValue(ContactsContract.CommonDataKinds.Email.TYPE, ContactsContract.CommonDataKinds.Email.TYPE_WORK)\n                    .build());\n        }\n\n\n\n        //------------------------------------------------------ Organization\n        if(!company.equals(\"\") &amp;&amp; !jobTitle.equals(\"\"))\n        {\n            ops.add(ContentProviderOperation.newInsert(ContactsContract.Data.CONTENT_URI)\n                    .withValueBackReference(ContactsContract.Data.RAW_CONTACT_ID, 0)\n                    .withValue(ContactsContract.Data.MIMETYPE,ContactsContract.CommonDataKinds.Organization.CONTENT_ITEM_TYPE)\n                    .withValue(ContactsContract.CommonDataKinds.Organization.COMPANY, company)\n                    .withValue(ContactsContract.CommonDataKinds.Organization.TYPE, ContactsContract.CommonDataKinds.Organization.TYPE_WORK)\n                    .withValue(ContactsContract.CommonDataKinds.Organization.TITLE, jobTitle)\n                    .withValue(ContactsContract.CommonDataKinds.Organization.TYPE, ContactsContract.CommonDataKinds.Organization.TYPE_WORK)\n\n                    .build());\n        }\n\n        // Asking the Contact provider to create a new contact                 \n        try\n        {\n            getContentResolver().applyBatch(ContactsContract.AUTHORITY, ops);\n\n        }\n        catch (Exception e)\n        {              \n            e.printStackTrace();\n            Toast.makeText(getApplicationContext(), \"Exception: \" + e.getMessage(), Toast.LENGTH_LONG).show();\n\n        } \n\n\n\n\n    }\n}\n</code></pre>\n\n<p>How can i set the ringtone programmatically. </p>\n"},{"tags":["ios","sqlite","uiactivityindicatorview"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":12583005,"title":"Activity Indicator is not showed when loading large amount of data from sqlite database","body":"<p>In my app, i'm getting the data from database. The data that I get from database is very large like 20000 records. So, I want to show an activity indicator to indicate that data is loading. But activity indicator is not showed when I run the app.</p>\n\n<p>I'm sending code for this. Please help me out.</p>\n\n<pre><code>activityIndicator = [[UIActivityIndicatorView alloc] initWithActivityIndicatorStyle:UIActivityIndicatorViewStyleWhiteLarge];\n\nactivityIndicator.frame = CGRectMake(100,100, 20, 20);\n[self.view addSubview:activityIndicator];\n\n[activityIndicator startAnimating];\n\n// Code to get data from database\n\n[activityIndicator stopAnimating];\n</code></pre>\n"},{"tags":["iphone","objective-c","json","sqlite","ios5"],"answer_count":3,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":2788,"score":2,"question_id":9661845,"title":"Json Parser Example for iOS5","body":"<p>I have created one app in iOS5.</p>\n\n<p>I want to store and retrive data on web server.</p>\n\n<p>For that I want to use JSON parser.</p>\n\n<p>I have used demo given by ray wenderlich for ios4. I heard that for ios 5.Some ready made frameworks are there.So can anybody having any idea regarding this?\nI am using sqlite for data storage.</p>\n\n<p>Please Help.</p>\n"},{"tags":["android","sqlite","cursor"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":183,"score":-2,"question_id":10303396,"title":"Is it possible to check sqlite values without a cursor? - Android","body":"<p>I'm trying to stop the user from entering the same string value for the \"title\" field in an appointment creation app in a calendar, as homework.</p>\n\n<p>Here is what I thought of so far:</p>\n\n<pre><code>private static String[] CHECK = {TITLE};\n    private Cursor addAppointment(String title, String time, String details){\n        calendarData = new CalendarData(this);\n        SQLiteDatabase db1 = calendarData.getReadableDatabase();\n        SQLiteDatabase db = calendarData.getWritableDatabase();\n        ContentValues values = new ContentValues();\n        values.put(DATE, calendar.getDate());\n        values.put(TITLE, title);\n        values.put(TIME, time);     \n        values.put(DETAILS, details);\n        db.insertOrThrow(TABLE_NAME, null, values);\n        Cursor titleCursor = db1.query(TABLE_NAME, CHECK, TITLE+\" = \"+appointmentTitle.getText().toString(), null, null, null, null);\n        if(titleCursor.getString(0) != null){//MEANING THERE IS A DUPLICATE\n            final AlertDialog alertDialog = new AlertDialog.Builder(this).create();\n            alertDialog.setMessage(\"You've entered a duplicate title field, please rename.\");\n            alertDialog.setButton(\"OK\", new DialogInterface.OnClickListener() {\n                  public void onClick(DialogInterface dialog, int which) {\n\n                   alertDialog.dismiss();\n\n                } });\n            alertDialog.show();\n        }\n        return titleCursor;\n    }\n</code></pre>\n\n<p>But I don't like the idea of having everything in my addAppointments method, I'd rather leave it clean and simple.</p>\n\n<p>I tried doing the following as an alternative:</p>\n\n<pre><code>private static String[] CHECK = {TITLE};\n    private void addAppointment(String title, String time, String details){\n        calendarData = new CalendarData(this);\n        SQLiteDatabase db1 = calendarData.getReadableDatabase();\n        SQLiteDatabase db = calendarData.getWritableDatabase();\n        ContentValues values = new ContentValues();\n        values.put(DATE, calendar.getDate());\n        values.put(TITLE, title);\n        values.put(TIME, time);     \n        values.put(DETAILS, details);\n        db.insertOrThrow(TABLE_NAME, null, values);\n    }\n\n    private Cursor checkTitle(){\n        calendarData = new CalendarData(this);\n        SQLiteDatabase db1 = calendarData.getReadableDatabase();\n\n        Cursor titleCursor = db1.query(TABLE_NAME, CHECK, TITLE+\" = \"+appointmentTitle.getText().toString(), null, null, null, null);\n\n        startManagingCursor(titleCursor);\n        return titleCursor;\n    }\n\n    private void showTitleError(Cursor cursor){\n        if(cursor.getString(0) != null){//MEANING THERE IS A DUPLICATE\n            final AlertDialog alertDialog = new AlertDialog.Builder(this).create();\n            alertDialog.setMessage(\"You've entered a duplicate title field, please rename.\");\n            alertDialog.setButton(\"OK\", new DialogInterface.OnClickListener() {\n                  public void onClick(DialogInterface dialog, int which) {\n\n                   alertDialog.dismiss();\n\n                } });\n            alertDialog.show();\n        }\n    }\n</code></pre>\n\n<p>but I get this error in both cases: 04-24 17:56:51.263: E/AndroidRuntime(17856): android.database.sqlite.SQLiteException: no such column: hello: , while compiling: SELECT title FROM appointments WHERE title = hello</p>\n\n<p>Please if you have any advice please share, thank you.</p>\n"},{"tags":["android","sql","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":12582042,"title":"Is it possible to insert a row with a given id in a table where the id field is autoincremented?","body":"<p>I have tried it on android and it seems that simply ignores the given value assigned to the id field and just assigns it an autoincremented value (default behaviour).</p>\n\n<p>Is there anyway to do this? I wanna do something like insert into table(id,name) values (100,\"my name\"). And let sqlite insert a row with id=100 not id=1 when the table is empty.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["sql","sqlite","select"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":1,"view_count":76,"score":2,"question_id":12579772,"title":"Using two select in one query","body":"<p>I have two SQL queries for counting the rows from the table <code>tContentNode</code>, depending on the type 2 or 3.<br>\n<strong>Query 1:</strong></p>\n\n<pre><code>SELECT count(*) _countA FROM TCONTENTNODE WHERE type = '2' \n     AND parentid ='02b3abc2-4983-485a-ab09-1a8cb328b9b5';\n</code></pre>\n\n<p><strong>Query 2:</strong></p>\n\n<pre><code>SELECT count(*) _countB FROM TCONTENTNODE WHERE type = '3' \n     AND parentid ='02b3abc2-4983-485a-ab09-1a8cb328b9b5';\n</code></pre>\n\n<p>Now I want to get the values of <code>_countA</code> and <code>_countB</code> using only one query. How can I get the counts using one query. Is there any way to do that. I am using SQLite Database. </p>\n\n<p><strong>EDIT:</strong>\nI want values of <code>_countA</code> and <code>_countB</code> separately, not both together(Not using <code>IN</code>). </p>\n"},{"tags":["database","android","sqlite","cursor","listactivity"],"answer_count":4,"favorite_count":8,"up_vote_count":15,"down_vote_count":0,"view_count":9997,"score":15,"question_id":1985955,"title":"android simplecursoradapter not updating with database changes","body":"<p>I have an android list activity that is backed by a database cursor through a SimpleCursorAdapter.   </p>\n\n<p>When the items are clicked, a flag field in the coresponding row in the database is toggled and the view in the list needs to be updated.  </p>\n\n<p>The problem is, when the view that's updated goes off screen and is recycled, the old value is displayed on the view when it returns into view.  The same thing happens whenever thr list is redrawb (orientation changes, etc).  </p>\n\n<p>I use notifydatasetchanged() to refresh the cursor adapter but it seems ineffective.</p>\n\n<p>How should I be updating the database so the cursor is updated as well?</p>\n"},{"tags":["android","sqlite","ice-cream-sandwich"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":67,"score":0,"question_id":12002481,"title":"ICS Sqlite Difference","body":"<p>I test code below on 2.3 and 4.0, and got weird exception in ICS:</p>\n\n<pre><code>1： //       String[] projections = new String[] { \"_id\", \"ifnull(name, number) as identifer\", \"number\", \"name\" };\n2： //       String[] projections = new String[] { \"_id\", \"number as test\", \"name\" };\n3： String[] projections = new String[] { \"_id\", \"number\", \"name\" };\n4： Cursor cursor = getContentResolver().query(URI_CALL, projections, null, null, null);\n</code></pre>\n\n<p>after I simplfied 1: to 3, it works. Is that mean that 'ifnull()' and 'as' are not supported in ICS, anyone help me?</p>\n"},{"tags":["c#","nhibernate","sqlite","orm","integration-testing"],"answer_count":7,"favorite_count":17,"up_vote_count":25,"down_vote_count":0,"view_count":9311,"score":25,"question_id":189280,"title":"Problem using SQLite :memory: with NHibernate","body":"<p>I use NHibernate for my dataacess, and for awhile not I've been using SQLite for local integration tests.  I've been using a file, but I thought I would out the :memory: option.  When I fire up any of the integration tests, the database seems to be created (NHibernate spits out the table creation sql) but interfacting with the database causes an error.</p>\n\n<p>Has anyone every gotten NHibernate working with an in memory database?  Is it even possible?  The connection string I'm using is this:</p>\n\n<pre><code>Data Source=:memory:;Version=3;New=True\n</code></pre>\n"},{"tags":["android","sqlite","ice-cream-sandwich"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":78,"score":1,"question_id":12207394,"title":"Absurd SQLite Error in ICS","body":"<p>I've implemented the code found <a href=\"http://stackoverflow.com/questions/3548533/full-android-database-helper-class-for-existing-sqlite-database\">here</a> with the modifications from the <a href=\"http://stackoverflow.com/questions/6178582/own-sqlite-database-and-onupgrade\">here</a> also.</p>\n\n<p>It all seems to work fine on the Android 2.2 emulator, however on an actual ICS device and also Jellybean emulator, I seem to be getting the following (strange) error:</p>\n\n<p>android.database.sqlite.SQLiteException: Can't downgrade database from version 300300 to 12</p>\n\n<p>There is no way my database version is 300300, and I have tried deleting and re-installing the application but it doesn't seem to make a difference. Any clue as to why this is happening?</p>\n"},{"tags":["sqlite","android-sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":12533944,"title":"Failed create table","body":"<p>I fail all the CREATE TABLE; and INSERT statements with the error <code>no such a table</code>.</p>\n\n<p>This does not happen with Android 2.3. Instead it with a 3.2. Why is that? Error creating the database?</p>\n\n<p>My class example:</p>\n\n<pre><code>public class MainActivity extends Activity {\n\nDatabaseHelper databaseHelper = new DatabaseHelper(this);\n\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n\n    setContentView(R.layout.main);\n\n    String queryTest=\"create table TEST_TABLE(ID integer,T_MESSAGE text)\";\n    databaseHelper.executeQuery(queryTest);\n    queryTest=\"INSERT INTO TEST_TABLE (ID,T_MESSAGE) VALUES (1,'1');\";\n    databaseHelper.executeQuery(queryTest);\n\n}\n</code></pre>\n\n<p>}</p>\n\n<p>My database:</p>\n\n<pre><code>public class DatabaseHelper extends SQLiteOpenHelper {\n\nprivate static String DATABASE_NAME = \"pro.db\";\nprivate static String DATABASE_PATH = \"/data/data/it.sysman.mobile.contactpro/databases/\";\n\n\n\nprivate static final int SCHEMA_VERSION = 2;\n\npublic DatabaseHelper(Context context) {\n    super(context, DATABASE_NAME, null, SCHEMA_VERSION);\n}\n\n@Override\npublic void onCreate(SQLiteDatabase sqlDB) {\n    try {\n\n\n\n    } catch (Exception e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n}\n\n\n@Override\npublic void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n    // TODO Auto-generated method stub\n\n}\nprivate SQLiteDatabase openDataBase(int flag) {\n\n    SQLiteDatabase checkDB = null;\n\n    try {\n\n        Environment.getExternalStorageDirectory();\n        Environment.getDataDirectory();\n        Environment.getRootDirectory();\n        Environment.getExternalStorageState();\n        checkDB = getWritableDatabase();\n\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n\n    return checkDB;\n}\n\n\npublic String executeQuery(String query) {\n\n    SQLiteDatabase sqlDB = null;\n    Cursor data = null;\n    try {\n        sqlDB = openDataBase(SQLiteDatabase.NO_LOCALIZED_COLLATORS);\n        data = sqlDB.rawQuery(query, null);\n\n        if (data.getCount() == 0)\n            return null;\n\n    } catch (Exception e) {\n        e.printStackTrace();\n    } finally {\n        if (data != null)\n            data.close();\n        if (sqlDB != null)\n            sqlDB.close();\n    }\n    return null;\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["php","mysql","sqlite"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":82,"score":1,"question_id":12526501,"title":"How can I convert MySQL database to SQLite in PHP?","body":"<p>I need PHP code to convert the database. I tried <a href=\"http://stackoverflow.com/questions/10226067/how-to-convert-mysql-to-sqlite-using-php\">How to convert mysql to SQLite using PHP</a> but it dint have answer</p>\n"},{"tags":["android","sqlite","pdf"],"answer_count":3,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":249,"score":2,"question_id":12103863,"title":"Display sqlite database content in pdf format in android","body":"<p>I have a Sqlite database in Android and I want to display its content in a PDF file, by building it dynamically in Android on pressing a Button.</p>\n\n<p>I am aware with <a href=\"http://sourceforge.net/projects/itext/\" rel=\"nofollow\">iText</a> but I want to go with a simpler solution..\nCan anyone help me with it plz!!</p>\n"},{"tags":["android","sqlite","memory","memory-leaks","cursor"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":152,"score":0,"question_id":12577400,"title":"Out of Memory when allocating cursors","body":"<p>I have a memory problem that I can't figure out. I have one class that does all my database retrieving work. The error I have is the following:</p>\n\n<pre><code>android.database.CursorWindowAllocationException: Cursor window allocation of 2048 kb failed. # Open Cursors=733 (# cursors opened by this proc=733)\n</code></pre>\n\n<p>The memory allocation error occurs when I do this:</p>\n\n<pre><code>mDatabaseInterface.getGraphForLevel(level);\n</code></pre>\n\n<p>I know it's a leak because I call this method every 2.5 seconds roughly, and the 5 or 6 first calls go through easily. Now here are the methods in my DatabaseInterface class:</p>\n\n<pre><code>public Graph getGraphForLevel(Level level) {\n\n    //get the nodes\n    ArrayList&lt;Node&gt; nodes = new ArrayList&lt;Node&gt;(Arrays.asList(this.getNodesWithLevel(level)));\n    //get the edges\n    ArrayList&lt;Edge&gt; edges = new ArrayList&lt;Edge&gt;(Arrays.asList(this.getEdgesWithNodes(nodes)));\n\n    return new Graph(nodes, edges);\n}\n\npublic Node[] getNodesWithLevel(Level level) {\n\n    List&lt;Node&gt; l = new ArrayList&lt;Node&gt;();\n\n    Cursor cursor = mDatabase.query(\"nodes\", null, \n            \"level = \" + wrapSql(String.valueOf(level.getId())), null, null, null, null);\n\n    while (cursor.moveToNext()) {\n        l.add(parseNodeFromCursor(cursor));\n    }\n\n    cursor.close();\n\n    return l.toArray(new Node[l.size()]);       \n}\n\nprivate Node parseNodeFromCursor(Cursor cursor) {\n\n    Level l = getLevelWithId(cursor.getInt(2));\n\n    return new Node(cursor.getInt(0), cursor.getString(1), l, \n            cursor.getInt(4), cursor.getInt(5));\n}\n</code></pre>\n\n<p>I have a lot of methods that call each other but I know it's not a recursion problem because this class works in another app. My main question is why doesn't <code>cursor.close()</code> liberate the cursor? If I do something like:</p>\n\n<pre><code>cursor = mDatabase.query(...);\ncursor.moveToNext();\nNode node = new Node(cursor.getInt());\ncursor.close();\n</code></pre>\n\n<p>Is the cursor retained in that case?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["c++","sql","c","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":123,"score":1,"question_id":7370577,"title":"How can I ensure a read-only transaction in SqLite?","body":"<p>I have public interface which allows people to interact with the database by typing in sql commands. However, I do not want them to change the database in any way (and if possible, not access certain tables). As I understand though, SQLite has no concept of users, so how do I accomplish this?</p>\n"},{"tags":["sql-server","ipad","sqlite","application","sync"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":84,"score":0,"question_id":12573930,"title":"sync sqlite on ipad with remote sql server","body":"<p>I am new to ipad development. I have to develop an app for a client whose employees use ipads.I am to develop this app that would take the data that they have and store it to the main sql server on their server. On researching i came across that people do that once they have their data on ipad and later sync it with their server. I have used sqlite for android before. But that was like a school project. CRUD operations basically. So since i have little knowledge of sqlite i want to pursue this app in this way. My question is can i write an app that will sync temporary sqlite data with server once they sync ? I have more questions..\nThanks.</p>\n"},{"tags":["android","sqlite","android-edittext"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":12577472,"title":"How to get the answers in String Array (ie) Vector?","body":"<p>This is my Code, could anyone help me ?</p>\n\n<pre><code>blanks=new EditText(this);\nString values =blanks.getText().toString();\nanswers.put(relative.getId(),answer);\nif(answer[0].equals(values)) {\n     Toast.makeText(this,\"Match!\", Toast.LENGTH_LONG).show();\n} \n</code></pre>\n"},{"tags":["iphone","objective-c","ios","sqlite","ios5"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":69,"score":1,"question_id":12576312,"title":"How can i insert encrypted data to sqlite. i'm getting an error while inserting encrypted data","body":"<p>How can i insert encrypted data to sqlite. i'm getting an error while inserting encrypted data. bcos the encrypted so many single quotes and double quotes so while am creating my sql the string is breaking. is there any other way to insert data without data lose. \nalso i'm afraid to use add slashes method bsoc it may alter my actual encrypted data. Can anyone give me a suggestion.. Also please find my insert query function below</p>\n\n<pre><code>-(BOOL) insertItemData:(NSString *)encryptedData folderId:(NSString *)folderId\n{\n   bool giveBackValue = 0;\n\n   database = [[[DBConnection alloc] init] autorelease];\n\n  if(sqlite3_open([[database filePath] UTF8String], &amp;db) == SQLITE_OK)\n  {\n    NSString *sql = [[[NSString alloc] initWithFormat:@\"INSERT INTO tbl_content (FolderId, Content) VALUES ('%@', '%@');\", folderId, encryptedData] autorelease];\n    NSLog(@\"%@\",sql);\n    char *sqlError;\n    if(sqlite3_exec(db, [sql UTF8String], nil, nil, &amp;sqlError) == SQLITE_OK)\n    {\n        giveBackValue = 1;\n    }\n    else\n    {\n        //Query exec failed\n\n    }\n}\nelse\n{\n    //DB Open failed\n}\n\nreturn giveBackValue;\n}\n</code></pre>\n\n<p>My select query function </p>\n\n<pre><code>-(void)getFirstJsonListInFolder:(NSString *)folderId listCarrier:(NSMutableArray **)listCarrier\n{\n    database = [[[DBConnection alloc] init] autorelease];\n    NSMutableArray *dummyListCarrier = [[[NSMutableArray alloc] init] autorelease];\n\n    if (sqlite3_open([[database filePath] UTF8String], &amp;db) ==SQLITE_OK)\n    {\n        NSString *sql = [[NSString alloc] initWithFormat:@\"SELECT Content from tbl_content WHERE FolderId = '%@'\", folderId];\n\n    sqlite3_stmt *result;\n    if(sqlite3_prepare_v2(db, [sql UTF8String], -1, &amp;result, nil) == SQLITE_OK)\n    {\n        while (sqlite3_step(result) == SQLITE_ROW)\n        {\n            char *contentList = (char *)sqlite3_column_text(result, 0);\n            NSString *contentListString = [[NSString alloc] initWithUTF8String:contentList];\n            [dummyListCarrier addObject:contentListString];\n            [contentListString release];\n        }\n    }\n    else \n    {\n        //Query exec failed\n    }\n}\nelse\n{\n    //DB Open failed\n}\n*listCarrier = dummyListCarrier;\n}\n</code></pre>\n"},{"tags":["database","sqlite","software-engineering","entity-relationship","diagram"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":261,"score":0,"question_id":10838794,"title":"Prepare Entity Relationship diagram using tool","body":"<p>Can someone suggest tools that can be used to create an ER diagram.(using SQLite database)</p>\n\n<p>I have been using Smart draw but it has unfortunately expired.If anyone can suggest any way of using a crack of smart draw or any other technique please help.</p>\n\n<p>I want a tool thats</p>\n\n<ol>\n<li><p>free of charge</p></li>\n<li><p>Should not have watermarks on output</p></li>\n</ol>\n\n<p>Thanks</p>\n"},{"tags":["database","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":12577084,"title":"sqlite Include type in column declaration","body":"<p>Is there a reason to include column types in CREATE TABLE statements in sqlite given that sqlite is not statically typed anyway? Please provide an example to illustrate if possible? </p>\n"},{"tags":["ios","database","sqlite","flex4","flashbuilder4"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":84,"score":0,"question_id":12504461,"title":"Flex Mobile 4.6 App wont create Database on IOS?","body":"<p>I have been creating Mobile Application in Flex for over a year now and have done many complicated things, however recently something simple that i am trying to do is not working for a new mobile app I am creating.</p>\n\n<p>I simply want to be able to create a sqlite db on the device so i can read and write data to it, to create the database I have used the code below:</p>\n\n<pre><code>sqlConnection = new SQLConnection();\n                sqlConnection.open(File.documentsDirectory.resolvePath(\"New.db\"));\n                var stmt:SQLStatement = new SQLStatement();\n                stmt.sqlConnection = sqlConnection;\n                stmt.text = \"CREATE TABLE IF NOT EXISTS cars (id INTEGER PRIMARY KEY AUTOINCREMENT, Name VARCHAR(90))\";\n                stmt.execute();\n</code></pre>\n\n<p>Then when I test the App in debug from within Flashbuilder all looks ok for both android and IOS. However when I run the app on the device for some reason the database is not created :-S</p>\n\n<p>This is very odd to me as I am sure I have used the right code as I have used the following code below in another app which is exactly the same as you can see and when i run that app on IOS it creates the database fine :-S :-S</p>\n\n<pre><code>sqlConnection = new SQLConnection();\n                sqlConnection.open(File.documentsDirectory.resolvePath(\"Bikes.db\"));\n                var stmt:SQLStatement = new SQLStatement();\n                stmt.sqlConnection = sqlConnection;\n                stmt.text = \"CREATE TABLE IF NOT EXISTS makes (id INTEGER PRIMARY KEY AUTOINCREMENT, name INTEGER)\";\n                stmt.execute();\n                stmt.text = \"CREATE TABLE IF NOT EXISTS models (id INTEGER PRIMARY KEY AUTOINCREMENT, name INTEGER)\";\n                stmt.execute();\n</code></pre>\n\n<p>I don't understand why the old app that I have created would work and the new one wouldn't?? Does anyone know if there are any other elements that need to be in place in order to allow me to write this database file to IOS? just to note I have added all permissions to the manifest, i appreciate the help :-)</p>\n"},{"tags":["ios","sqlite","sorting","nsarray"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":12576498,"title":"Sort multiple NSArray objects with the same reordering","body":"<p>I have several <code>NSArray</code> objects that, effectively, represent the contents of what on might consider a database table.  I would like to sort one of them and have all of the others get sorted in the same order.</p>\n\n<p>An example of this would be to have <code>NSArray</code> objects for \"name\", \"address\" and \"phone_number\" and sort them all by name.</p>\n\n<p>The current approach is a custom shell sort routine that only runs comparisons on \"name\" but moves data around on all affected arrays.  This works and it is relatively clean.  Of course, you take a hit due to the overhead of <code>NSObjects</code> <strong>vs</strong> C arrays.</p>\n\n<p>Is there a faster, cleaner, more \"iOS\"  way to do this?</p>\n\n<p>Drop it all into an SQLite table and do it that way?</p>\n"},{"tags":["sql","sqlite","foreign-keys","ddl"],"answer_count":1,"favorite_count":3,"up_vote_count":21,"down_vote_count":0,"view_count":9368,"score":21,"question_id":1884818,"title":"How do I add a foreign key to an existing sqlite (3.6.21) table?","body":"<p>I have the following table:</p>\n\n<pre><code>CREATE TABLE child( \n  id INTEGER PRIMARY KEY, \n  parent_id INTEGER, \n  description TEXT);\n</code></pre>\n\n<p>How do I add a foreign key constraint on parent_id? Assume foreign keys are enabled.</p>\n\n<p>Most examples assume you're creating the table - I'd like to add the constraint to an existing one.</p>\n"},{"tags":["android","sqlite","android-listview"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":57,"score":1,"question_id":12575977,"title":"passing parameter of _id and updating SQLitedatabase","body":"<p>I'm trying to update an SQLite table using the row id as my where statement.  I'm getting the row _id from a row shown in a listview and passing to another activity with this statement:</p>\n\n<pre><code>Cursor cursor = (Cursor) nurseTableAdapter.getItem((int)id);\n            showAssignments.putExtra(\"Nurse\", cursor.getInt(cursor.getColumnIndex(\"_id\")));\n</code></pre>\n\n<p>The receiving activity receives the parameter:</p>\n\n<pre><code>nurse = extras.getString(\"Nurse\");\n</code></pre>\n\n<p>and passes it as a parameter to my DbCommunicator class:</p>\n\n<pre><code>updateAssignments.updateNurseAssignments(listItemsArray, nurse);\n</code></pre>\n\n<p>and my DbCommunicator class does this with it:</p>\n\n<pre><code>public void updateNurseAssignments(String[] choices, String nurseId) {\n    // set parameter variables\n    //int nurseIdToInt = Integer.parseInt(nurseId);\n    //String strFilter = \"_id=\" + nurseIdToInt;\n    //String where = \"_id=?\";\n    String[] whereArgs = {String.valueOf(nurseId)};\n    Log.i(TAG, \"value of whereArgs is \" + whereArgs[0]);\n\n    // set content values\n    ContentValues cvUpdate = new ContentValues();\n    cvUpdate.put(KEY_FIRST_ASSIGNMENT, choices[0]);\n    cvUpdate.put(KEY_SECOND_ASSIGNMENT, choices[1]);\n    cvUpdate.put(KEY_THIRD_ASSIGNMENT, choices[2]);\n    cvUpdate.put(KEY_FOURTH_ASSIGNMENT, choices[3]);\n    cvUpdate.put(KEY_FIFTH_ASSIGNMENT, choices[4]);\n    cvUpdate.put(KEY_SIXTH_ASSIGNMENT,  choices[5]);\n\n    // update database\n    sqldb.update(NURSE_TABLE, cvUpdate, KEY_NURSE_ROWID + \"= ?\", whereArgs); \n}\n</code></pre>\n\n<p>I'm getting no errors, but the table is not updating.  I've only found one similar example in Stack Overflow, and have tried to incorporate some of that here, but still having problems.  Suggestions appreciated.</p>\n"},{"tags":["android","sqlite"],"answer_count":3,"favorite_count":0,"up_vote_count":6,"down_vote_count":0,"view_count":3238,"score":6,"question_id":3061868,"title":"What is the android_metadata table?","body":"<p>I try to integrate an existing database file into my Android project. \nI follow the instructions on this <a href=\"http://www.reigndesign.com/blog/using-your-own-sqlite-database-in-android-applications/\" rel=\"nofollow\">blog</a>. They write that I have to add a table <code>android_metadata</code> with a column called locale and put en_US into it. </p>\n\n<p>I try to figure out what this table is used for. Because my database content is german. Maybe i then should not put en_US into it? Is this required for localisation of the database content or is the table not needed at all?</p>\n"},{"tags":["database","string","sqlite","storage"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":12574383,"title":"Storing text blobs separate from indexes and other metadata?","body":"<p>I have a set of several million (initial) text strings that I need to store. Most are under 50,000 characters long.</p>\n\n<p>I plan on parsing them before I store them and pulling out the attributes I wish to index such as dates, amounts, and keywords.</p>\n\n<p>These documents will never be updated (just more added), and seldom read. Therefore I am thinking that it might be a better use of system resources to use a database like SQLite to just store the documents separately and put the rest of the data in tables in PostgreSQL/MySQL.</p>\n\n<p>That way I can keep more memory allocated to for the meta-data and indexes. It also seems  easier to migrate the data to different hosts if I have a 30GB sqlite file and a 300MB psql dump. </p>\n\n<p>Does this sound like a reasonable approach? What problems am I missing? Are their better ways to store text blobs?</p>\n"},{"tags":["java","android","database","sqlite","oop"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":91,"score":0,"question_id":12574034,"title":"Android database best practice","body":"<p>Coming from a perl background and having done some simple OO in that, I am struggling to grasp the android/Java way of interacting with databases.</p>\n\n<p>In my experience I would create a file or class for each object, and an object would match/represent a table in the database.</p>\n\n<p>Within that object would be a constructor, variables for the data, methods/functions to return individual variables but also the DB queries to read and write from the DB, doing all the necessary CRUD functions.</p>\n\n<p>From what I read on the web, in Android I would create the objects similarly but without the DB interaction. This would happen in either a single class with all my DB functionality in it, or multiple DB classes, one per table.</p>\n\n<p>My questions are all to do with best practices really.</p>\n\n<p>Can I do my app how I would in Perl. If not why not, and if so,what are the pros and cons and limitations?</p>\n\n<p>What do the terms DAO, Adapter and POJO mean?</p>\n\n<p>Should I make an application class and globally declare the DB there?</p>\n\n<p>Should I create one handler in each activity or in the application class only?</p>\n\n<p>I have read so many tutorials now my head is spinning, all with a diff way of doing things and mostly only with a single table and few showing actual objects directly representing tables.</p>\n\n<p>I'm happy to hear opinion, be linked to tutorials or just have the odd term explained.</p>\n\n<p>Thanks in advance </p>\n"},{"tags":["python","sqlite","sqlite3","python-2.7","python-extensions"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":163,"score":0,"question_id":12573787,"title":"why i failed to build sqlite3 when build python?","body":"<p>why i just failed to build sqlite?</p>\n\n<p>does it have something to do with readline or _tkinter, or something else?</p>\n\n<pre><code>pes/libffi/src/prep_cif.o build/temp.linux-i686-2.7/home/mirror/build/tmp/Python-2.7.3/Modules/_ctypes/libffi/src/closures.o build/temp.linux-i686-2.7/home/mirror/build/tmp/Python-2.7.3/Modules/_ctypes/libffi/src/dlmalloc.o build/temp.linux-i686-2.7/home/mirror/build/tmp/Python-2.7.3/Modules/_ctypes/libffi/src/x86/ffi.o build/temp.linux-i686-2.7/home/mirror/build/tmp/Python-2.7.3/Modules/_ctypes/libffi/src/x86/sysv.o -L/usr/local/lib -o build/lib.linux-i686-2.7/_ctypes.so\n\nPython build finished, but the necessary bits to build these modules were not found:\n_bsddb             _tkinter           bsddb185        \nbz2                dbm                gdbm            \nreadline           sunaudiodev                        \nTo find the necessary bits, look in setup.py in detect_modules() for the module's name.\n</code></pre>\n\n<blockquote>\n  <p><strong>Failed to build these modules:</strong></p>\n  \n  <p><strong>_sqlite3</strong></p>\n</blockquote>\n\n<pre><code>running build_scripts\ncreating build/scripts-2.7\ncopying and adjusting /home/mirror/build/tmp/Python-2.7.3/Tools/scripts/pydoc -&gt; build/scripts-2.7\ncopying and adjusting /home/mirror/build/tmp/Python-2.7.3/Tools/scripts/idle -&gt; build/scripts-2.7\ncopying and adjusting /home/mirror/build/tmp/Python-2.7.3/Tools/scripts/2to3 -&gt; build/scripts-2.7\ncopying and adjusting /home/mirror/build/tmp/Python-2.7.3/Lib/smtpd.py -&gt; build/scripts-2.7\nchanging mode of build/scripts-2.7/pydoc from 664 to 775\nchanging mode of build/scripts-2.7/idle from 664 to 775\nchanging mode of build/scripts-2.7/2to3 from 664 to 775\nchanging mode of build/scripts-2.7/smtpd.py from 664 to 775\n/usr/bin/install -c -m 644 ./Tools/gdb/libpython.py python-gdb.py\n</code></pre>\n\n<p>more details:</p>\n\n<pre><code>Python build finished, but the necessary bits to build these modules were not found:\n_bsddb             _tkinter           bsddb185\nbz2                dbm                gdbm\nsunaudiodev\nTo find the necessary bits, look in setup.py in detect_modules() for the module's name\nFailed to build these modules:\n_sqlite3 \n</code></pre>\n\n<p>my system is centos 5.3</p>\n"},{"tags":["android","database","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":12572251,"title":"To export sqlite db schema in android","body":"<p>I am playing around with sqlite db in android. My question is, how to export schema for the db of a project? </p>\n\n<p>Maybe a class <code>SchemaExporter</code> works like: <code>exporter.export(\"test.db\")</code>. One would only need to create the object and takes the name of the db of your project as input. Then it will output schema for this entire db, which could be immediately used to create the same db in another sqlite environment.</p>\n\n<p>Note I want to export the <strong>schema</strong>, not the db itself.</p>\n"},{"tags":["android","sql","query","sqlite","select"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":63,"score":1,"question_id":12573036,"title":"How do I combine two queries into one?","body":"<p>This is for Android SQLite. I have two queries like this:</p>\n\n<pre><code>select * from table where name='name';\n</code></pre>\n\n<p>and</p>\n\n<pre><code>select * from table where name!='name' order by name;\n</code></pre>\n\n<p>I want to create a statement which combines these two queries. I tried union all but I can't do order by one statement and then combine. I tried this:</p>\n\n<pre><code>select * from table where name='name'\nunion all\nselect * from table where name!='name' order by name;\n</code></pre>\n\n<p>All it did is to combine the queries and then order by name. I don't want that. I want to do order by on the second statement first and then combine them.</p>\n\n<p>To put the question differently, here is my data:</p>\n\n<pre><code>Name\n\na\nb\nc\nd\ne\nf\ng\nh\ni\nj\n</code></pre>\n\n<p>But I want the output to be:</p>\n\n<pre><code>Name\n\ng\na\nb\nc\nd\ne\nf\nh\ni\nj\n</code></pre>\n\n<p>I want to get one row to the top and then order the rest of the rows. Any help is appreciated.</p>\n"},{"tags":["iphone","sqlite","ios-simulator"],"answer_count":3,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":940,"score":3,"question_id":4023954,"title":"IPhone core data simulator","body":"<p>I've created an app that uses core data. Is there a way to view the sqlite db on the simulator? A tool perhaps that allows to query the sqlite db on the simulator? Like a data browser?</p>\n\n<p>Is there a way to browse the iphone simulator to the sqlite db location?</p>\n"},{"tags":["c#","sqlite","windows-phone"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":12572832,"title":"new SQLiteConnection windows phone sdk 7.1 is slow","body":"<p>I am trying to create a SQLite Database in windows phone app. Using SQLite, so i can reuse the core part for android and iPhone later. </p>\n\n<p>I am using Krueger Data SQLite library, same as in Xamarin Tasky example, but I have tried to create generic classes for DB and for manager. </p>\n\n<p>Code below:</p>\n\n<pre><code>public class Manager&lt;T&gt;\n     where T : IStorableEntity, new()\n{\n    Database&lt;T&gt; _db = null;\n    protected static string DbLocation;     \n    protected static Manager&lt;T&gt; Me;     \n\n    static Manager ()\n    {\n        Me = new Manager&lt;T&gt;();\n    }\n\n    protected Manager()\n    {\n        // set the db location\n        DbLocation = \"MyDb\";\n        // instantiate the database \n        this._db = new Database&lt;T&gt;(DbLocation);\n    }\n</code></pre>\n\n<p>Db:</p>\n\n<pre><code>public class Database&lt;T&gt; : SQLiteConnection \n    where T : IStorableEntity, new()\n{\n    public Database(string path)\n        : base(path)\n    {\n</code></pre>\n\n<p>Basically, when it hits the constructor for Db (and base constructor), it spins the processor for about five minutes before VS dies painfully.</p>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":12572585,"title":"Not able to insert data into a 2nd table with a db manipulator","body":"<p>Im a beginner in Android and this datamanipulator allows me to insert data into the 1st table (\"People\"), however i can not make it work to add data into the 2nd table (\"appointments\") using a 2nd method, a 2nd string \"insert2\". However the data is inserted into the 1st table and not the 2nd table. Any ideas of what I'm doing wrong? Thx in advance!</p>\n\n<pre><code>package com.example.citas.medicas;\n\nimport android.content.Context;\nimport android.database.Cursor;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.database.sqlite.SQLiteOpenHelper;\nimport android.database.sqlite.SQLiteStatement;\nimport android.widget.Toast;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class DataManipulator\n{\nprivate static final  String DATABASE_NAME = \"mydatabase.db\";\nprivate static final int DATABASE_VERSION = 1;\nstatic final String TABLE_NAME = \"Personas\";\nstatic final String TABLE_NAME2 = \"Citas\";\nprivate static Context context;\nprivate static Context context2;\nstatic SQLiteDatabase db;\nprivate SQLiteStatement insertStmt;\nprivate static final String INSERT = \"insert into \" + TABLE_NAME + \" (nombre,cedula,fechanacimiento,telefonocasa,telefonomovil,tipo) values (?,?,?,?,?,?)\";\nprivate static final String INSERT2 = \"insert into \" + TABLE_NAME2 + \" (nombrepaciente,fechacita,horacita,nombredoctor) values (?,?,?,?)\";\n\npublic DataManipulator(Context context) {\n    DataManipulator.context = context;\n    OpenHelper openHelper = new OpenHelper(DataManipulator.context);\n    DataManipulator.db = openHelper.getWritableDatabase();\n    this.insertStmt = DataManipulator.db.compileStatement(INSERT);\n}\n\npublic  void DataManipulator(Context context2) {\n    DataManipulator.context2 = context2;\n    OpenHelper openHelper = new OpenHelper(DataManipulator.context2);\n    DataManipulator.db = openHelper.getWritableDatabase();\n    this.insertStmt = DataManipulator.db.compileStatement(INSERT2);\n}\n\npublic long insert(String nombre,String cedula,String fechanacimiento,String telefonocasa,String telefonomovil,String tipo) {\n    this.insertStmt.bindString(1, nombre);\n    this.insertStmt.bindString(2, cedula);\n    this.insertStmt.bindString(3, fechanacimiento);\n    this.insertStmt.bindString(4, telefonocasa);\n    this.insertStmt.bindString(5, telefonomovil);\n    this.insertStmt.bindString(6, tipo);\n    return this.insertStmt.executeInsert();      \n}\n\npublic long insert2(String nombrepaciente,String fechacita,String horacita,String nombredoctor) {\n    this.insertStmt.bindString(1, nombrepaciente);\n    this.insertStmt.bindString(2, fechacita);\n    this.insertStmt.bindString(3, horacita);\n    this.insertStmt.bindString(4, nombredoctor);\n    //this.insertStmt.bindString(5, telefonomovil);\n    //this.insertStmt.bindString(6, tipo);\n    return this.insertStmt.executeInsert();\n}\n\npublic void deleteAll() {\n    db.delete(TABLE_NAME, null, null);\n}\n\npublic void delete(int rowId) {\n    db.delete(TABLE_NAME, null, null); \n}\n\nprivate static class OpenHelper extends SQLiteOpenHelper {\n    OpenHelper(Context context) {\n         super(context, DATABASE_NAME, null, DATABASE_VERSION);\n    }\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n         db.execSQL(\"CREATE TABLE \" + TABLE_NAME + \" (id INTEGER PRIMARY KEY, nombre TEXT, cedula TEXT, fechanacimiento TEXT, telefonocasa TEXT, telefonomovil TEXT, tipo TEXT)\");\n         //B) FINAL NO QUITAR\n         db.execSQL(\"CREATE TABLE \" + TABLE_NAME2 + \" (id INTEGER PRIMARY KEY, nombrepaciente TEXT, fechacita TEXT, horacita TEXT, nombredoctor TEXT)\");\n    }\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) \n    {\n         db.execSQL(\"DROP TABLE IF EXISTS \" + TABLE_NAME);\n         onCreate(db);\n    }\n}\n}\n</code></pre>\n"},{"tags":["python","django","sqlite","python-2.7","django-manage.py"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":90,"score":0,"question_id":12572038,"title":"what's wrong, why python manage.py runserver failed?","body":"<p>failed to run django for lack of sqlite? in fact sqlite is already install in my system.</p>\n\n<pre><code>(py1)[mirror@home ci]$ python manage.py runserver\nValidating models...\n\nUnhandled exception in thread started by &lt;bound method Command.inner_run of &lt;django.contrib.staticfiles.management.commands.runserver.Command object at 0x9ea3d8c&gt;&gt;\nTraceback (most recent call last):\n  File \"/home/mirror/build/py1/lib/python2.7/site-packages/django/core/management/commands/runserver.py\", line 91, in inner_run\n    self.validate(display_num_errors=True)\n  File \"/home/mirror/build/py1/lib/python2.7/site-packages/django/core/management/base.py\", line 266, in validate\n    num_errors = get_validation_errors(s, app)\n  File \"/home/mirror/build/py1/lib/python2.7/site-packages/django/core/management/validation.py\", line 23, in get_validation_errors\n    from django.db import models, connection\n  File \"/home/mirror/build/py1/lib/python2.7/site-packages/django/db/__init__.py\", line 40, in &lt;module&gt;\n    backend = load_backend(connection.settings_dict['ENGINE'])\n  File \"/home/mirror/build/py1/lib/python2.7/site-packages/django/db/__init__.py\", line 34, in __getattr__\n    return getattr(connections[DEFAULT_DB_ALIAS], item)\n  File \"/home/mirror/build/py1/lib/python2.7/site-packages/django/db/utils.py\", line 92, in __getitem__\n    backend = load_backend(db['ENGINE'])\n  File \"/home/mirror/build/py1/lib/python2.7/site-packages/django/db/utils.py\", line 24, in load_backend\n    return import_module('.base', backend_name)\n  File \"/home/mirror/build/py1/lib/python2.7/site-packages/django/utils/importlib.py\", line 35, in import_module\n    __import__(name)\n  File \"/home/mirror/build/py1/lib/python2.7/site-packages/django/db/backends/sqlite3/base.py\", line 31, in &lt;module&gt;\n    raise ImproperlyConfigured(\"Error loading either pysqlite2 or sqlite3 modules (tried in that order): %s\" % exc)\ndjango.core.exceptions.ImproperlyConfigured: **Error loading either pysqlite2 or sqlite3 modules** (tried in that order): No module named _sqlite3\n</code></pre>\n\n<p>the focus is that : Error loading either pysqlite2 or sqlite3 modules</p>\n\n<p><strong>evidence to show that sqlite is already installed</strong>:</p>\n\n<pre><code>(py1)[mirror@home ci]$ rpm -qa | grep sqlite\npython-sqlite-1.1.7-1.2.1\nsqlite-devel-3.3.6-5\nsqlite-3.3.6-5\n(py1)[mirror@home ci]$ python -V\nPython 2.7.3\n(py1)[mirror@home ci]$ python manage.py runserver\n</code></pre>\n\n<p>so, why python manage.py runserver failed?</p>\n\n<p><strong>Edit 1</strong>:</p>\n\n<p>now i know that i haven't build sqlite modue:</p>\n\n<pre><code>(py1)[mirror@home Python-2.7.3]$ python\nPython 2.7.3 (default, Sep 23 2012, 21:42:51)\n[GCC 4.1.2 20080704 (Red Hat 4.1.2-52)] on linux2\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; import sqlite3\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"/home/mirror/insp/lib/python2.7/sqlite3/__init__.py\", line 24, in &lt;module&gt;\n    from dbapi2 import *\n  File \"/home/mirror/insp/lib/python2.7/sqlite3/dbapi2.py\", line 27, in &lt;module&gt;\n    from _sqlite3 import *\nImportError: No module named _sqlite3\n</code></pre>\n\n<p><strong>i find sqlite code is included by python source code, but how to build it?</strong></p>\n\n<pre><code>[mirror@home Python-2.7.3]$ ls Modules/_s\n_sqlite/   _sre.c     _sre.o     _ssl.c     _struct.c\n(py1)[mirror@home Python-2.7.3]$ ls Modules/_sqlite/\ncache.c       connection.h  microprotocols.c  module.h            row.c           statement.c  util.h\ncache.h       cursor.c      microprotocols.h  prepare_protocol.c  row.h           statement.h\nconnection.c  cursor.h      module.c          prepare_protocol.h  sqlitecompat.h  util.c\n</code></pre>\n\n<p>./configure --help | grep sqlite returns nothing....</p>\n\n<pre><code>(py1)[mirror@home Python-2.7.3]$ ./configure --help | grep sqlite\n(py1)[mirror@home Python-2.7.3]$\n</code></pre>\n"},{"tags":["android","sqlite","full-text-search"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":12571514,"title":"Android Search and populate dependent fields","body":"<p>I have a requirement where i have to fill a form (say Products) where there will be fields like product name , price , model, brand, etc .. so here i want to add quick search .</p>\n\n<p>I came across <a href=\"http://developer.android.com/guide/topics/search/search-dialog.html\" rel=\"nofollow\">Search dialogue</a> ,and also AutoCompleteTextView.\nI want to use FTS (SQLITE) for quick results.</p>\n\n<p>So here suppose a person starts entering the product name he should get all suggestions matching the entered text .\nand all the other fields like price , model, etc should fill up when he selects one.</p>\n\n<p>So What will be suitable for me to use ...\nPlease help. </p>\n"},{"tags":["iphone","ios","sqlite","versioning"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":12571452,"title":"iPhone app versioning sqlite database","body":"<p>I have made an iPhone app that uses a sqlite table. There is quite a lot of data in here, a table with items and also a table with favorites.</p>\n\n<p>When I'm updating some database records, and rebuild the app, the changes aren't visible in the app, I have to remove the app and rebuild it...</p>\n\n<p>By searching I figured out that the solution should be Versioning. But since I'm fairly new to the programming language, I have no clue where to start. I have heard things like pragma, user_version and stuff like that, but it's all Latin to me :-(. </p>\n\n<p>Can anybody give me and idea how I can tackle this ?</p>\n"},{"tags":["android","sqlite","cursor","nullpointerexception","android-listfragment"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":126,"score":0,"question_id":12500481,"title":"Am I working on the same database? getReadableDatabase() throws nullpointerexception","body":"<p>I'm new to android programming! I have a MainActivity in which the onCreate looks like this:</p>\n\n<pre><code>@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    DBHandler db = new DBHandler(this);\n    db.onUpgrade(db.getWritableDatabase(), 1, 2); // I have to figure out how to make the app create the database on install and not on app launch\n\n    //Here all tables are filled up. It's hardcoded as the data is not intented to be changed by the user\n    String ATABLENAME = \"aTableName\";\n    db.addKeyPoint(new AKeyPoint(1, \"sometext\", 167, \"areference\"), ATABLENAME);\n    db.addKeyPoint(new AKeyPoint(2, \"someothertext\", 0, \"anotherreference\"), ATABLENAME);\n}\n</code></pre>\n\n<p>I also have an InitActivity, that launches upon the press of a button. Within this I have a ListFragment that implements LoaderManager.LoaderCallbacks:</p>\n\n<pre><code>public static class KeyFragment extends ListFragment implements LoaderManager.LoaderCallbacks&lt;Cursor&gt;{\n    private SimpleCursorAdapter adapter;    \n\n    @Override\n    public void onActivityCreated(Bundle savedInstanceState){\n        super.onActivityCreated(savedInstanceState);\n\n\n        // the desired columns to be bound\n        String[] columns = new String[] { \"question1\",\"answer1\" };\n        // the XML defined views which the data will be bound to\n        int[] to = new int[] { R.id.question, R.id.answer };\n        adapter = new SimpleCursorAdapter(getActivity(),R.layout.key_list_entry, null, columns, to, 0);       \n        this.setListAdapter(adapter);\n\n        LoaderManager lm = this.getLoaderManager();\n        lm.initLoader(1, null, this);\n\n    }\n\n    public Loader&lt;Cursor&gt; onCreateLoader(int id, Bundle args) {\n\n        final SimpleCursorLoader scloader = new SimpleCursorLoader(getActivity()) {\n            @Override\n            public Cursor loadInBackground() {\n                final DBHandler db = new DBHandler(getActivity());\n                Cursor c = db.getKeyPointCursor(1, \"Crataegus\");\n                db.close();\n                return c;\n            }\n        };\n        return scloader;\n    }\n\n    public void onLoadFinished(Loader&lt;Cursor&gt; loader, Cursor cursor) { \n        adapter.swapCursor(cursor);\n    }\n\n    public void onLoaderReset(Loader&lt;Cursor&gt; loader) {\n        adapter.swapCursor(null);       \n    }    \n}\n</code></pre>\n\n<p>}</p>\n\n<p>I use the the SimpleCursorLoader with the LoaderManager. It can be found here: <a href=\"https://github.com/browep/AndroidCursorLoaderTutorial/blob/master/src/com/github/browep/cursorloader/SimpleCursorLoader.java\" rel=\"nofollow\">https://github.com/browep/AndroidCursorLoaderTutorial/blob/master/src/com/github/browep/cursorloader/SimpleCursorLoader.java</a> . \nIn my onCreateLoader the loadInBackGround retrieves a Cursor in the following way</p>\n\n<pre><code>Cursor c = db.getKeyPointCursor(anInt, \"aTableName\");\n</code></pre>\n\n<p>and returns it.</p>\n\n<p>In my databasehandler (db) the getKeyPointCursor looks like this:</p>\n\n<pre><code>public Cursor getKeyPointCursor(int keyPointID, String tableName){\n    Log.v(\"bae\", \"Now in getKeyPointCursor, attempting to get readable database\");\n    SQLiteDatabase db = this.getReadableDatabase();\n    Log.v(\"bae\", \"Success... attempting to obtain a cursor\");\n    Cursor cursor = db.query(tableName, null, KEY_POINTID + \"=?\",\n            new String[] { String.valueOf(keyPointID) }, null, null, null, null);\n    Log.v(\"bae\", \"Success... closing db and returning cursor\");\n    db.close();\n    return cursor;\n}\n</code></pre>\n\n<p>It prints the \"Now in getKeyPointCursor, attempting to get readable database\" and then throws a NullPointerException:</p>\n\n<pre><code>09-19 19:27:39.920: W/dalvikvm(3055): threadid=11: thread exiting with uncaught exception (group=0x40c7c1f8)\n09-19 19:27:39.925: E/AndroidRuntime(3055): FATAL EXCEPTION: ModernAsyncTask #1\n09-19 19:27:39.925: E/AndroidRuntime(3055): java.lang.RuntimeException: An error occured while executing doInBackground()\n09-19 19:27:39.925: E/AndroidRuntime(3055):     at android.support.v4.content.ModernAsyncTask$3.done(ModernAsyncTask.java:137)\n09-19 19:27:39.925: E/AndroidRuntime(3055):     at java.util.concurrent.FutureTask$Sync.innerSetException(FutureTask.java:273)\n09-19 19:27:39.925: E/AndroidRuntime(3055):     at java.util.concurrent.FutureTask.setException(FutureTask.java:124)\n09-19 19:27:39.925: E/AndroidRuntime(3055):     at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:307)\n09-19 19:27:39.925: E/AndroidRuntime(3055):     at java.util.concurrent.FutureTask.run(FutureTask.java:137)\n09-19 19:27:39.925: E/AndroidRuntime(3055):     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1076)\n09-19 19:27:39.925: E/AndroidRuntime(3055):     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:569)\n09-19 19:27:39.925: E/AndroidRuntime(3055):     at java.lang.Thread.run(Thread.java:856)\n09-19 19:27:39.925: E/AndroidRuntime(3055): Caused by: java.lang.NullPointerException\n09-19 19:27:39.925: E/AndroidRuntime(3055):     at android.database.sqlite.SQLiteOpenHelper.getWritableDatabase(SQLiteOpenHelper.java:157)\n09-19 19:27:39.925: E/AndroidRuntime(3055):     at android.database.sqlite.SQLiteOpenHelper.getReadableDatabase(SQLiteOpenHelper.java:231)\n09-19 19:27:39.925: E/AndroidRuntime(3055):     at jem.danskflora.DBHandler.getKeyPointCursor(DBHandler.java:235)\n09-19 19:27:39.925: E/AndroidRuntime(3055):     at jem.danskflora.InitKeyActivity$KeyFragment$1.loadInBackground(InitKeyActivity.java:79)\n09-19 19:27:39.925: E/AndroidRuntime(3055):     at jem.danskflora.SimpleCursorLoader.loadInBackground(SimpleCursorLoader.java:1)\n09-19 19:27:39.925: E/AndroidRuntime(3055):     at android.support.v4.content.AsyncTaskLoader.onLoadInBackground(AsyncTaskLoader.java:240)\n09-19 19:27:39.925: E/AndroidRuntime(3055):     at android.support.v4.content.AsyncTaskLoader$LoadTask.doInBackground(AsyncTaskLoader.java:51)\n09-19 19:27:39.925: E/AndroidRuntime(3055):     at android.support.v4.content.AsyncTaskLoader$LoadTask.doInBackground(AsyncTaskLoader.java:40)\n09-19 19:27:39.925: E/AndroidRuntime(3055):     at android.support.v4.content.ModernAsyncTask$2.call(ModernAsyncTask.java:123)\n09-19 19:27:39.925: E/AndroidRuntime(3055):     at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:305)\n09-19 19:27:39.925: E/AndroidRuntime(3055):     ... 4 more\n</code></pre>\n\n<p>I'm suspecting that I'm not working on the same database somehow or maybe that I pass the wrong context to my databasehandler? Anyways I desperately need help to solve this!</p>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":26,"score":1,"question_id":12571344,"title":"SQLite query with 2 conditions on 2 columns","body":"<p>Hi is there posibility to construct SQLite query like this\n<code>SELECT * FROM master WHERE (age=1 OR age=4) AND WHERE city LIKE '%Bo%'</code></p>\n\n<p>Is a correct version of this query or queries on 2 columns are imposible?</p>\n"},{"tags":["java","android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":12570589,"title":"If table column is NULL I want to set Long variable NULL instead of 0","body":"<p>I'm developing an Android 3.1 Tablet which uses SQLite.</p>\n\n<p>One table allows NULL values on a column. If I do the following and <code>COLUMN_ARTICLE_QUANTITY_GOODS_NON_PACKET</code> is NULL, <code>c.getLong</code> returns 0 and I want to get NULL instead of 0.</p>\n\n<pre><code>int goodsNonPckIdx =\n            c.getColumnIndex(SqlConstants.COLUMN_ARTICLE_QUANTITY_GOODS_NON_PACKET);\narticleQty.setGoodsNonPacket(c.getLong(goodsNonPckIdx));\n</code></pre>\n\n<p>By the way <code>GoodsNonPacket</code> is a <code>Long</code> (an object).</p>\n\n<p><strong>How can I get null values from database?</strong></p>\n"},{"tags":["c++","sqlite","insert","bulk"],"answer_count":9,"favorite_count":18,"up_vote_count":24,"down_vote_count":0,"view_count":17606,"score":24,"question_id":364017,"title":"Faster bulk inserts in sqlite3?","body":"<p>I have a file of about 30000 lines of data that I want to load into a sqlite3 database. Is there a faster way than generating insert statements for each line of data?</p>\n\n<p>The data is space-delimited and maps directly to an sqlite3 table. Is there any sort of bulk insert method for adding volume data to a database?</p>\n\n<p>Has anyone devised some deviously wonderful way of doing this if it's not built in?</p>\n\n<p>I should preface this by asking, is there a C++ way to do it from the API?</p>\n\n<p>Thanks.</p>\n"},{"tags":["android","sqlite","sqlite3"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":84,"score":1,"question_id":12565875,"title":"Sqlite query returning 0 even if the value is null","body":"<p>Following is the query I use to fetch an int value corresponding to a particular field in my sqlite db table.</p>\n\n<pre><code>\"SELECT conn_status FROM profiles WHERE devID = '\" + id+\"'\"\n</code></pre>\n\n<p>If there is no value saved for 'conn_status' corresponding to the devID provided, then the existing value in the table would be null. I retrieve the data from java as shown:</p>\n\n<pre><code>c.getInt(c.getColumnIndex(\"conn_status\"))\n</code></pre>\n\n<p>The problem here is, with the given query , c.getInt returns 0 even if the value existing in the field is null. How can I modify this query such that, it returns a different value instead of 0, say 5, if the value is null.</p>\n\n<p>Any help is appreciated.</p>\n"},{"tags":["sqlite","unit-testing","fluent-nhibernate"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":12566254,"title":"Handling \"schema\" in SQLite Unit Tests","body":"<p>I have a project where I'm using Fluent NHibernate to map an SQL Server database and I generate data from another Fluent NHibernate mapped SQL Server database which is our source.</p>\n\n<p>I'm currently writing some unit tests which is to check the functions that read from one database and create records in the other.\nI've created an in-memory SQLite database of my db for creating records, and it works fine. But when I try to create a similar SQLite database for my \"source\" database I get failures which claim \"no such table\".</p>\n\n<p>This seems to be because in the Fluent NHibernate dll for the source database they've given names like \"dbo.table\" and since there's no schema in my SQLite test database it's not able to create a test table.</p>\n\n<p>Is there a way to handle this \"dbo.\" name in SQLite when creating the test database?</p>\n"},{"tags":["android","query","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":52,"score":1,"question_id":12566207,"title":"How do I make a case insensitive query with ContentResolver in Android?","body":"<p>My goal is to get all rows from native db with a specific email address on Android Gingerbread and above.</p>\n\n<p>This query gets only the rows where the case also matches.</p>\n\n<pre><code>Cursor cursor = context.getContentResolver().query(ContactsContract.CommonDataKinds.Email.CONTENT_URI,\n            new String[] {Contacts._ID}, ContactsContract.CommonDataKinds.Email.ADDRESS + \"=?\",\n            new String[] {email}, null);\n</code></pre>\n\n<p>I've read about WHERE clauses to sql where one use lower('xx') but I can't figure out how to use it. Also I learned to you can make the column not care about case when creating the table, but that ship has sailed.</p>\n"},{"tags":["iphone","objective-c","sqlite","sqlite3"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":12564196,"title":"Convert captured image in to a separate png file, and insert that png file name as a string in to sqlite data base and retrieve it","body":"<p>In my iPhone app I need to capture a picture and save it in to the sqlite database.</p>\n\n<pre><code> NSString *insertQuery = [NSString stringWithFormat:@\"INSERT INTO ProfileTable (NAME, MOBILE, EMAIL, ProfilePICTURE) VALUES(?, ?, ?, ?)\"];\n\n                  const char *insert = [insertQuery UTF8String];\n                  if(sqlite3_prepare_v2(contactsDB, insert, -1, &amp;insertStatement, NULL) != SQLITE_OK) {\n                        NSLog(@\"Error while creating insert Statement\");\n                  }\n                  else \n                  {\n                        sqlite3_bind_text(insertStatement, 1, [name UTF8String], -1, SQLITE_TRANSIENT);\n                        sqlite3_bind_text(insertStatement, 2, [mobile UTF8String], -1, SQLITE_TRANSIENT);\n                        sqlite3_bind_text(insertStatement, 2, [email UTF8String], -1, SQLITE_TRANSIENT);\n\n\n                        sqlite3_bind_blob(insertStatement, 4, [profilePic bytes], [contactImage length], NULL);\n\n\n\n\n                  }\n            }\n\n\n// Same Query  for insert statement also\n</code></pre>\n\n<p>I saved that file in the form of blob type but that cause to occupy huge memory and causes to memory warnings.</p>\n\n<p>So i have an idea that.</p>\n\n<p>I want to save the captured image as a png file for suppose \"image1.png\" and insert that title \"image1.png\" as a varchar type and the retrieve that file having that name when we want to display. </p>\n\n<p>any help how to do this</p>\n"},{"tags":["iphone","ios","sqlite","nsmutablearray"],"answer_count":3,"favorite_count":1,"up_vote_count":2,"down_vote_count":2,"view_count":116,"score":0,"question_id":12563996,"title":"How to add nsmutable array into sqlite database table","body":"<p>How to add  nsmutablearray into the sqlite database table?Can any one help me to code? </p>\n"},{"tags":["sqlite"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":303,"score":0,"question_id":10876105,"title":"How to compare two dates in SQLite?","body":"<p>I kind of assumed it was a string, so I compared it as a string, but not surprisingly it failed. I believe thats how it works in Mysql. I could be wrong as I haven't worked on it in a while. In either case, how can I check if dates are equal in SQLite? I will be using it in a WHERE clause.</p>\n\n<pre><code>SELECT a._id, b._id, b.start_date,a.event_name, b.start_time, \nb.end_date, b.end_time, b.location FROM events_info b INNER JOIN events a ON\n a._id=b.event_id WHERE b.start_time = '6:00';\n</code></pre>\n\n<p>(added space to make it easier to look at)</p>\n"},{"tags":["sqlite","date"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":513,"score":1,"question_id":8092752,"title":"SQLite : obtain current week","body":"<p>I'm trying to obtain the current week for date comparison in SQLite.\nI have no problem for last month, last year, today, yesterday... but don't find the solution to have the current week.</p>\n\n<p>I tried lot of things like:</p>\n\n<pre><code>SELECT tastings.* FROM tastings   \nWHERE (DATE(tastings.date) &gt; DATE('now','weekday 1','+ 7 days'))\n</code></pre>\n\n<p>Can you help me ? Thanks.</p>\n"},{"tags":["ios","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":40,"score":0,"question_id":12561623,"title":"Need help to add values into a database","body":"<p><br/>\nMy Document is like this ...\n<br>\n<br>\n<strong>\"When a work appears to be ahead of its time, it is only the time that is behind the work\" –Jean Cocteau<br/>\n\"When a work lifts your spirits and inspires bold and noble thoughts in you, do not look for any other standard to judge by: the work is good, the product of a master craftsman\" –Jean de la Bruyere<br/>\n\"When a writer talks about his work, he's talking about a love affair\" –Alfred Kazin<br/>\n\"When love and skill work together, expect a masterpiece\" –John Ruskin<br/></strong></p>\n\n<p>can anyone suggest me how i can bulk insert this types of values to database by recognizing them with \" .</p>\n\n<p>i really need some efficient method to do it because my document is around 10,000 pages and i have to add all this to database and invoke in ios application..</p>\n\n<p>Thanks in advance..\nI know i will get my answer only here :)</p>\n"},{"tags":["sqlite","group-concat"],"answer_count":1,"favorite_count":1,"up_vote_count":7,"down_vote_count":0,"view_count":2094,"score":7,"question_id":1897352,"title":"Sqlite group_concat ordering","body":"<p>In Sqlite I can use group_concat to do:</p>\n\n<pre><code>1...A\n1...B\n1...C\n2...A\n2...B\n2...C\n\n1...C,B,A\n2...C,B,A\n</code></pre>\n\n<p>but the order of the concatenation is random - according to docs.</p>\n\n<p>I need to sort the output of group_concat to be</p>\n\n<pre><code>1...A,B,C\n2...A,B,C\n</code></pre>\n\n<p>How can I do this?</p>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":12561173,"title":"Apostrophe in SQLite select query","body":"<p>I have a problem with SQLite and a bit of bespoke SQL:</p>\n\n<pre><code>public Cursor getExistingSpeciesDetails(String sub_id, String english_name) {\n    Cursor c = mDb.rawQuery(\n            \"SELECT mobileobs.how_many, mobileobs.comment, mobileobs.sensitive, \"\n                    + \"mobileobs.breeding_evidence from mobileobs \"\n                    + \"WHERE mobileobs.sub_id = '\" + sub_id\n                    + \"' and mobileobs.english_name = '\" + english_name\n                    + \"'\", null);\n    return c;\n}\n</code></pre>\n\n<p>My problem is an apostrophe in the english name (Cetti's Warbler) is causing an error in the SQL (force closing my Android app). Is there any way to escape the apostrophe in this type of clause?</p>\n\n<p>Thanks in advance </p>\n"},{"tags":["sql","html5","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":12560439,"title":"sqlite query need to tuned a bit","body":"<p>Hi current i have code which will display the sum of records for last one hour in 10min interval.</p>\n\n<pre><code>SELECT SUM(NO_OF_ADULT) AS ADULT\n     , SUM(NO_OF_ADULT_F) AS ADULT_F\n     , SUM(NO_OF_CHILDREN) AS CHILDREN\n     , SUM(NO_OF_CHILDREN_F) AS CHILDREN_F\n     , SUM(NO_OF_SENIOR_CITIZEN) AS SENIOR\n     , SUM(NO_OF_SENIOR_CITIZEN_F) AS SENIOR_F\n     , SUM(NO_OF_INFANT) AS INFANT\n     , SUM(NO_OF_INFANT_F) AS INFANT_F\n     , SUBSTR(END_TIME_OF_SERVICE, 1, 4) || '0 - ' || SUBSTR(END_TIME_OF_SERVICE, 1, 4) || '9' AS TIME_SLOT\n  FROM CLNT_RESERVATION RES\n      , CLNT_ORDER ORD\n      , CLNT_ORDER_CHEQUE_RESERVATION_MAPPING RM\n  WHERE RES.START_DATE_OF_SERVICE =\"2012-09-24\"\n    AND ORD.ENT_CODE=\"****\"\n    AND ORD.BRANCH_CODE=\"******\"\n    AND ORD.STATION_CODE=\"*******\"\n    AND RES.STATION_CODE=ORD.STATION_CODE \n    AND ORD.ORDER_STATUS &lt;&gt; 111 \n    AND ORD.ORDER_ID=RM.ORDER_ID \n    AND (ORD.CREATE_TIME LIKE \"2012-09-24%\" OR ORD.UPDATE_TIME LIKE \"2012-09-24%\")\n    AND ORD.STATUS_FLG =\"A\"\n    AND ORD.DELETE_FLG=\"N\" \n    AND RM.RESERVATION_ID = RES.RESERVATION_ID \n    AND (strftime(\"%H:%M\", RES.END_TIME_OF_SERVICE) BETWEEN strftime(\"%H:%M\",TIME(\"now\",\"localtime\",\"-1 hour\",\"-00 minutes\")) \n    AND strftime (\"%H:%M\",TIME(\"now\",\"localtime\")) OR strftime(\"%H:%M\", RES.END_TIME_OF_SERVICE) BETWEEN strftime(\"%H:%M\",TIME(\"now\",\"localtime\",\"-1 hour\",\"-00 minutes\")) \n    AND strftime(\"%H:%M\",TIME(\"now\",\"localtime\")) ) \nGROUP BY 9\n</code></pre>\n\n<p>which will give the below output like</p>\n\n<pre><code>ADULT  ADULT_F  CHILDREN CHILDREN_F SENIOR SENIOR_F INFANT INFANT_F  TIME_SLOT\n\n 0       0         0       0          1        1      0      0     12:00 - 12:09\n 1       0         0       0          0        1      0      0     12:30 - 12:39\n</code></pre>\n\n<p>now you can see that the values for 12:10 - 12:29 its not in the db hence its not display too. </p>\n\n<p>what i am expecting is : -\n1) Need the row to be created and simply fill with 0 in all the fields. (high)\n2) time_slot should be calculated from the current time_stamp.(medium)</p>\n\n<p>Help this is helpfull, kindly suggest me some solution thank a lot for time.</p>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":12529723,"title":"Exception in Sqlite Query","body":"<p>I use the following query in my method</p>\n\n<pre><code> Cursor c = sqLiteDatabase.rawQuery(\"SELECT Content3 FROM \" +\n             MYDATABASE_TABLE +\n             \" where Content1 = '\"+value1+\"'\", null);\n</code></pre>\n\n<p>But it throw Exception and app be force close. I pass the value1 to the method. Logcat as follows</p>\n\n<pre><code>09-21 17:14:21.242: ERROR/AndroidRuntime(16511): FATAL EXCEPTION: main\n09-21 17:14:21.242: ERROR/AndroidRuntime(16511): android.database.sqlite.SQLiteException: no such column: Content3: , while compiling: SELECT Content3 FROM photodetails where Content1 = '2192012'\n09-21 17:14:21.242: ERROR/AndroidRuntime(16511):     at android.database.sqlite.SQLiteCompiledSql.native_compile(Native Method)\n09-21 17:14:21.242: ERROR/AndroidRuntime(16511):     at android.database.sqlite.SQLiteCompiledSql.compile(SQLiteCompiledSql.java:92)\n09-21 17:14:21.242: ERROR/AndroidRuntime(16511):     at android.database.sqlite.SQLiteCompiledSql.&lt;init&gt;(SQLiteCompiledSql.java:65)\n09-21 17:14:21.242: ERROR/AndroidRuntime(16511):     at android.database.sqlite.SQLiteProgram.&lt;init&gt;(SQLiteProgram.java:83)\n09-21 17:14:21.242: ERROR/AndroidRuntime(16511):     at android.database.sqlite.SQLiteQuery.&lt;init&gt;(SQLiteQuery.java:49)\n09-21 17:14:21.242: ERROR/AndroidRuntime(16511):     at android.database.sqlite.SQLiteDirectCursorDriver.query(SQLiteDirectCursorDriver.java:42)\n09-21 17:14:21.242: ERROR/AndroidRuntime(16511):     at android.database.sqlite.SQLiteDatabase.rawQueryWithFactory(SQLiteDatabase.java:1356)\n09-21 17:14:21.242: ERROR/AndroidRuntime(16511):     at android.database.sqlite.SQLiteDatabase.rawQuery(SQLiteDatabase.java:1324)\n09-21 17:14:21.242: ERROR/AndroidRuntime(16511):     at roman10.tutorial.fileobserver.SQLiteAdapter.fetchresult(SQLiteAdapter.java:80)\n09-21 17:14:21.242: ERROR/AndroidRuntime(16511):     at roman10.tutorial.fileobserver.FileModificationMonitor$3.onClick(FileModificationMonitor.java:56)\n09-21 17:14:21.242: ERROR/AndroidRuntime(16511):     at android.view.View.performClick(View.java:2485)\n09-21 17:14:21.242: ERROR/AndroidRuntime(16511):     at android.view.View$PerformClick.run(View.java:9080)\n09-21 17:14:21.242: ERROR/AndroidRuntime(16511):     at android.os.Handler.handleCallback(Handler.java:587)\n09-21 17:14:21.242: ERROR/AndroidRuntime(16511):     at android.os.Handler.dispatchMessage(Handler.java:92)\n09-21 17:14:21.242: ERROR/AndroidRuntime(16511):     at android.os.Looper.loop(Looper.java:130)\n09-21 17:14:21.242: ERROR/AndroidRuntime(16511):     at android.app.ActivityThread.main(ActivityThread.java:3687)\n09-21 17:14:21.242: ERROR/AndroidRuntime(16511):     at java.lang.reflect.Method.invokeNative(Native Method)\n09-21 17:14:21.242: ERROR/AndroidRuntime(16511):     at java.lang.reflect.Method.invoke(Method.java:507)\n09-21 17:14:21.242: ERROR/AndroidRuntime(16511):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:867)\n09-21 17:14:21.242: ERROR/AndroidRuntime(16511):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:625)\n09-21 17:14:21.242: ERROR/AndroidRuntime(16511):     at dalvik.system.NativeStart.main(Native Method)\n</code></pre>\n\n<p>Please point out my mistake. Thanks</p>\n"},{"tags":["android","sqlite","contacts"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":12554834,"title":"Joining Android contact tables/databases by SQL?","body":"<p>I need to get all contacts on a phone and their associated phone numbers, therefore I need to join some of the contact tables that Android stores in its internal contacts.db. I think just joining the data by an SQL statement would be much easier than going with all that content provider stuff, or is there any way to join data on those? Also, if I write an SQL statement, are there any constants for the table names and fields, so that I can keep the query at least a little bit generic, so it won't break on the next Android update, in case they change a table name? Thanks for any hint!</p>\n"},{"tags":["objective-c","database","xcode","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":163,"score":0,"question_id":11395006,"title":"Assign the value of a sqlite query to a Nsmutable array","body":"<p>Hy all,\ni was trying to create a search engine on Xcode 4.3.3, a search bar searching a <code>UITableView</code>,\nFirst i tried to create the search engine with no dynamic database and no sqlite connection, it worked and i was capable if searching between static elements predefined in a <code>NSMutableArray</code>.\nNow instead of having the elements statically predefined in the array, i want to access a sqlite database and execute a query, having the results as cell fields.\nI have tried to connect using FMDB, but the problem is i cannot realize that.\nHere is my code, what am i doing wrong?</p>\n\n<pre><code>//\n//  FilterDemoTableViewController.m\n//  Created by Elias Rahme.\n//  Copyright (c) ERC.\n//\n\n#import \"ViewController.h\"\n#import \"DetailsViewController.h\"\n#import \"Food.h\"\n#import \"FMDatabase.h\"\n\n@implementation ViewController\n\n@synthesize allTableData;\n@synthesize filteredTableData;\n@synthesize searchBar;\n@synthesize isFiltered;\n\n- (id)initWithStyle:(UITableViewStyle)style\n{\n    self = [super initWithStyle:style];\n    if (self) {\n        // Custom initialization\n    }\n    return self;\n}\n\n- (void)didReceiveMemoryWarning\n{\n    // Releases the view if it doesn't have a superview.\n    [super didReceiveMemoryWarning];\n}\n\n#pragma mark - View lifecycle\n\n- (void)viewDidLoad\n{\n    [super viewDidLoad];\n\n    searchBar.delegate = (id)self;\n    NSString *path  = [[NSBundle mainBundle] pathForResource:@\"SampleDB\" ofType:@\"sqlite\"];\n    FMDatabase *db  = [[FMDatabase alloc] initWithPath:path];\n    [db open];\n    if (![db open]) {\n        NSLog(@\"Could not open db.\");\n    }\n    else{\n    NSLog(@\"Database is opened\");\n    }\n    FMResultSet *fResult= [db executeQuery:@\"SELECT a_id FROM Description where desc_id=1\"];\n    if( !fResult){\n\n        NSLog(@\"Could not execute query\");\n      }\n    else{\n        NSLog(@\"Query executed\");\n    }\n    eleData = [fResult stringForColumn:@\"desc\"];\n\n  //  NSLog([fResult stringForColumn:@\"desc\"]);\n\n    allTableData = [[NSMutableArray alloc] initWithObjects:\n                    [[Food alloc] initWithName:@\"test\" andDescription:@\"TEst\" ], \n                    [[Food alloc] initWithName:@\"Steak\" andDescription:@\"Medium\"], \n                    [[Food alloc] initWithName:@\"Salad\" andDescription:@\"Caesar\"], \n                    [[Food alloc] initWithName:@\"Salad\" andDescription:@\"Bean\"], \n                    [[Food alloc] initWithName:@\"Fruit\" andDescription:@\"Apple\"], \n                    [[Food alloc] initWithName:@\"Potato\" andDescription:@\"Baked\"], \n                    [[Food alloc] initWithName:@\"Potato\" andDescription:@\"Mashed\"], \n                    [[Food alloc] initWithName:@\"Bread\" andDescription:@\"White\"], \n                    [[Food alloc] initWithName:@\"Bread\" andDescription:@\"Brown\"], \n                    [[Food alloc] initWithName:@\"Hot Dog\" andDescription:@\"Beef\"], \n                    [[Food alloc] initWithName:@\"Hot Dog\" andDescription:@\"Chicken\"], \n                    [[Food alloc] initWithName:@\"Hot Dog\" andDescription:@\"Veggie\"], \n                    [[Food alloc] initWithName:@\"Pizza\" andDescription:@\"Pepperonni\"], \n                    [[Food alloc] initWithName:@\"Pizza\" andDescription:@\"Pepperonni\"], \n                    [[Food alloc] initWithName:@\"Hot Dog\" andDescription:@\"Beef\"], \n                    [[Food alloc] initWithName:@\"Hot Dog\" andDescription:@\"Chicken\"], \n                    [[Food alloc] initWithName:@\"Hot Dog\" andDescription:@\"Veggie\"], \n                    [[Food alloc] initWithName:@\"Pizza\" andDescription:@\"Pepperonni\"], \n                    [[Food alloc] initWithName:@\"Pizza\" andDescription:@\"Pepperonni\"], \n                    [[Food alloc] initWithName:@\"Hot Dog\" andDescription:@\"Beef\"], \n                    [[Food alloc] initWithName:@\"Hot Dog\" andDescription:@\"Chicken\"], \n                    [[Food alloc] initWithName:@\"Hot Dog\" andDescription:@\"Veggie\"], \n                    [[Food alloc] initWithName:@\"Pizza\" andDescription:@\"Pepperonni\"], \n                    [[Food alloc] initWithName:@\"Pizza\" andDescription:@\"Pepperonni\"], \n                    nil ];\n    [db close];\n\n}\n /*   \n    NSLog(@\"Data from ele.h file\");\n\n\n    /* Now here we have to write the code from the database to display the details */\n    /*\n    aElephant = [[NSMutableArray alloc] init];\n    NSLog(@\"Data base is entering\");\n\n    /*\n     Here we have to set the path \n     We are creating the path for the datbase file in order to access\n     */\n/*  \n    NSString *path  = [[NSBundle mainBundle] pathForResource:@\"SampleDB\" ofType:@\"sqlite\"];\n\n    NSLog(@\"No problem with the path\");\n\n    /* FMDatabase here is used to take the database path */\n/*  \n    FMDatabase *db  = [[FMDatabase alloc] initWithPath:path];\n\n    /* Here we are opening the datase in order to access it */\n/*  \n    [db open];\n    NSLog(@\"Database Opened\");\n\n    /*\n     Then the next step here is taking the datbase result using the sqlqueary and then carrying that result into the resultset object   \n     Resultset for Elephant: select * from Description where a_id=1; here description is the table, a_id is the id of Elephant it is\n     the primary key in animals table\n/*   */\n/*  NSLog(@\"NOt yet executing the query\");\n    FMResultSet *fResult= [db executeQuery:@\"SELECT * FROM description\"];\n    NSLog(@\"Did Execute the Query\");\n  //  NSLog(*fResult);\n\n    //Now we have to take these results in to a loop and then repeteadly loop it in order to get all the data in a our Array Object\n\n    while([fResult next])\n    {\n    /*  /* taking results from database to a string \"eleData\" */\n    /*  eleData = [fResult stringForColumn:@\"desc\"];\n        /* adding data from the string object to Array */\n        //[aElephant addObject:eleData];\n        /* Checking weather data has come or not */\n    //  NSLog(@\"The data is %@=\",eleData);\n    //}\n    /* Closing the Database */\n    //[db close];\n\n\n- (void)viewDidUnload\n{\n    [self setSearchBar:nil];\n    [super viewDidUnload];\n}\n\n- (void)viewWillAppear:(BOOL)animated\n{\n    [super viewWillAppear:animated];\n}\n\n- (void)viewDidAppear:(BOOL)animated\n{\n    [super viewDidAppear:animated];\n}\n\n- (void)viewWillDisappear:(BOOL)animated\n{\n    [super viewWillDisappear:animated];\n}\n\n- (void)viewDidDisappear:(BOOL)animated\n{\n    [super viewDidDisappear:animated];\n}\n\n- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation\n{\n    // Return YES for supported orientations\n    return (interfaceOrientation == UIInterfaceOrientationPortrait);\n}\n\n#pragma mark - Table view data source\n\n- (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView\n{\n    return 1;\n}\n\n- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section\n{\n    int rowCount;\n    if(self.isFiltered)\n        rowCount = filteredTableData.count;\n    else\n        rowCount = allTableData.count;\n\n    return rowCount;\n   // return [aElephant count];\n\n}\n\n- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath\n{\n    static NSString *CellIdentifier = @\"Cell\";\n\n    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];\n    if (cell == nil)\n        cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleSubtitle reuseIdentifier:CellIdentifier];\n\n      /*\n    if(isFiltered)\n        eData = [filteredTableData objectAtIndex:indexPath.row];\n    else\n        eData = [allTableData objectAtIndex:indexPath.row];\n*/\n  //  NSLog(aElephant);\n /*   NSString *eData = [aElephant objectAtIndex:indexPath.row];\n    cell.textLabel.text  = eData;\n    return cell;*/\n\n\n    Food* food;\n    if(isFiltered)\n        food = [filteredTableData objectAtIndex:indexPath.row];\n    else\n        food = [allTableData objectAtIndex:indexPath.row];\n\n    cell.textLabel.text = food.name;\n    cell.detailTextLabel.text = food.description;\n\n\n    return cell;\n}\n\n#pragma mark - Table view delegate\n\n-(void)searchBar:(UISearchBar*)searchBar textDidChange:(NSString*)text\n{\n    if(text.length == 0)\n    {\n        isFiltered = FALSE;\n    }\n    else\n    {\n        isFiltered = true;\n        filteredTableData = [[NSMutableArray alloc] init];\n\n        for (Food* food in allTableData)\n        {\n            NSRange nameRange = [food.name rangeOfString:text options:NSCaseInsensitiveSearch];\n            NSRange descriptionRange = [food.description rangeOfString:text options:NSCaseInsensitiveSearch];\n            if(nameRange.location != NSNotFound || descriptionRange.location != NSNotFound)\n            {\n                [filteredTableData addObject:food];\n            }   \n        }\n    }\n\n    [self.tableView reloadData];\n}\n\n\n- (void)tableView:(UITableView *)tableView accessoryButtonTappedForRowWithIndexPath:(NSIndexPath *)indexPath\n{\n    [self showDetailsForIndexPath:indexPath];\n}\n\n-(void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath\n{\n    [self showDetailsForIndexPath:indexPath];\n}\n\n-(void) showDetailsForIndexPath:(NSIndexPath*)indexPath\n{\n    [self.searchBar resignFirstResponder];\n    DetailsViewController* vc = [self.storyboard instantiateViewControllerWithIdentifier:@\"DetailsViewController\"];\n    Food* food;\n\n    if(isFiltered)\n    {\n        food = [filteredTableData objectAtIndex:indexPath.row];\n    }\n    else\n    {\n        food = [allTableData objectAtIndex:indexPath.row];\n    }\n\n    vc.food = food;\n    [self.navigationController pushViewController:vc animated:true];    \n}\n\n@end\n</code></pre>\n\n<p>In short, instead of <code>initWithName</code> having a static value, i want it to have a value from the sqlite database.\nAny help will be highly appreciated\nThank you for helping.</p>\n"},{"tags":["android","sqlite","service","notifications","notificationmanager"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":76,"score":0,"question_id":12559068,"title":"Showing Two Different Status Notifications at Different Times","body":"<p>Okay, so I've looked at all the threads on StackOverflow, and I couldn't find one that pertains to my situation, so I'm hoping you guys can help me out here. :)</p>\n\n<p>I've got an app that needs to show multiple (2 or probably more) status notifications for different reminders that have been set at different times. Eg: Reminder 1 is set for 9:40AM so a notification pops up at 9:40AM. Reminder 2 is set at 10:10AM, so another <em>different</em> status notification pops up at 10:10AM <em>below</em> the notification that already popped up at 9:40AM. </p>\n\n<p>My code works when there are no other notifications from my app when a reminder goes off. However, if there's an existing notification (let's call it Reminder 1) and the user hasn't dismissed it, the new notification (let's call it Reminder 2) never shows up, and Reminder 1 simply updates its timestamp to the time that Reminder 2 was supposed to go off. Basically, my code isn't working for multiple, <em>separate</em> reminders that are supposed to go off at different times and coexist with one another.</p>\n\n<p>Here's the code from when I set the name of the reminder in the notification:</p>\n\n<pre><code>    /* Create a unique notifID that increments itself by 1 every time a new reminder is saved. */\nint notifID = 0;\nnotifID = notifID + 1;\n\nToast toast = Toast.makeText(context, context.getString(R.string.reminder_saved),  Toast.LENGTH_LONG);\n toast.show();\n\nc.set(mYear, mMonth, mDay); //Set the notification date.\nc.set(Calendar.HOUR_OF_DAY, pHour); //Set the notification hour.\nc.set(Calendar.MINUTE, pMinute); //Set the notification minute.\nc.set(Calendar.SECOND, 0); //Set the notification second (always 0).\n\n//Use AlarmManager to trigger the notification/alarm.\n                AlarmManager alarmManager = (AlarmManager) getSystemService(ALARM_SERVICE);                 \n\n                //Get the current date and time.\n                Calendar calendar = Calendar.getInstance();       \n\n                //Set the time for the notification to occur.\ncalendar.set(Calendar.YEAR, mYear);\ncalendar.set(Calendar.MONTH, mMonth);\ncalendar.set(Calendar.DAY_OF_MONTH, mDay);                 \ncalendar.set(Calendar.HOUR_OF_DAY, pHour);\ncalendar.set(Calendar.MINUTE, pMinute);\ncalendar.set(Calendar.SECOND, 0);\n\n//PendingIntent to launch activity when the alarm triggers.                    \nIntent i = new Intent();\n\n/* Assign a notification ID to each notification. Because it is incremented by 1 for each new notification (see lines 1 and 2), there shouldn't be any duplicates. */\ni.putExtra(\"NotifID\", notifID);\n    /* Get the name of reminder from the textbox and pass it into the intent. */\ni.putExtra(\"Reminder_Name\", editRemindMeTo.getText().toString());\n\n                PendingIntent displayIntent = PendingIntent.getActivity(\n                getBaseContext(), 0, i, 0);               \n\n                //Set the alarm to trigger.\nalarmManager.set(AlarmManager.RTC_WAKEUP, \ncalendar.getTimeInMillis(), displayIntent);\n\nIntent intent = new Intent(this, ViewLocalReminders.class);\nstartActivity(intent);\n</code></pre>\n\n<p>Here's my actual notification code (It's in a separate file that extends Activity):</p>\n\n<pre><code>public class DisplayReminderNotification extends SherlockActivity {\n\n@SuppressWarnings(\"deprecation\")\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n\n    //Get the notification ID from the saved reminder (see previous code block).\n    int notifID = getIntent().getExtras().getInt(\"NotifID\");\n\n    //PendingIntent stores the Activity that should be launched when the user taps the notification.\n    Intent i = new Intent();\n    i.putExtra(\"NotifID\", notifID);\n\n    PendingIntent detailsIntent = \n        PendingIntent.getActivity(this, 0, i, 0);\n\n    //Get the name of the reminder from the previous activity (see previous code block)\n    String reminderName = getIntent().getExtras().getString(\"Reminder_Name\");\n\n    NotificationManager nm = (NotificationManager)\n        getSystemService(NOTIFICATION_SERVICE);\n    Notification notif = new Notification(\n        R.drawable.flag_red_large, \n        \"App Name\",\n        System.currentTimeMillis());\n\n    CharSequence from = \"App Name\";\n    //Print the name of the reminder as the notification body.\n    CharSequence message = reminderName;        \n    notif.setLatestEventInfo(this, from, message, detailsIntent);\n\n    //Pause for 100ms, vibrate for 250ms, pause for 100ms, and vibrate for 500ms.\n    notif.defaults |= Notification.DEFAULT_SOUND;\n    notif.vibrate = new long[] { 100, 250, 100, 500};        \n    nm.notify(notifID, notif);\n\n    //Destroy the activity/notification.\n    finish();\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Does anyone know what I'm doing wrong here? I've been trying to figure this one out for days and it's been driving me nuts. I just need 2 or more reminders to coexist which each other when they've got different names and go off at different times. Again, everything works perfectly when there's only one notification that comes up from my app. It doesn't work only when I've got one notification thats sitting untouched in the notification drawer and another one tries to come in. I'm guessing there's something wrong with my notifID, but I don't what it could be. Thanks for all your help!</p>\n"},{"tags":["android","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":12559103,"title":"Issues with database manipulator when adding a 2nd table","body":"<p>This datamanipulator allows me to:\n1. Create table Personas (\"people\") and i can add pacients and doctors without any issue.</p>\n\n<pre><code>package com.example.citas.medicas;\n\nimport android.content.Context;\nimport android.database.Cursor;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.database.sqlite.SQLiteOpenHelper;\nimport android.database.sqlite.SQLiteStatement;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class DataManipulator\n{\nprivate static final  String DATABASE_NAME = \"mydatabase.db\";\nprivate static final int DATABASE_VERSION = 1;\nstatic final String TABLE_NAME = \"Personas\";\nprivate static Context context;\nstatic SQLiteDatabase db;\nprivate SQLiteStatement insertStmt;\nprivate static final String INSERT = \"insert into \" + TABLE_NAME + \" (nombre,cedula,fechanacimiento,telefonocasa,telefonomovil,tipo) values (?,?,?,?,?,?)\";\n\npublic DataManipulator(Context context) {\n    DataManipulator.context = context;\n    OpenHelper openHelper = new OpenHelper(DataManipulator.context);\n    DataManipulator.db = openHelper.getWritableDatabase();\n    this.insertStmt = DataManipulator.db.compileStatement(INSERT);\n}\n\npublic long insert(String nombre,String cedula,String fechanacimiento,String telefonocasa,String telefonomovil,String tipo) {\n    this.insertStmt.bindString(1, nombre);\n    this.insertStmt.bindString(2, cedula);\n    this.insertStmt.bindString(3, fechanacimiento);\n    this.insertStmt.bindString(4, telefonocasa);\n    this.insertStmt.bindString(5, telefonomovil);\n    this.insertStmt.bindString(6, tipo);\n    return this.insertStmt.executeInsert();\n}\n\npublic void deleteAll() {\n    db.delete(TABLE_NAME, null, null);\n}\n\npublic List&lt;String[]&gt; selectAll()\n{\n    List&lt;String[]&gt; list = new ArrayList&lt;String[]&gt;();\n    Cursor cursor = db.query(TABLE_NAME, new String[] { \"id\",\"nombre\",\"cedula\",\"fechanacimiento\",\"telefonocasa\",\"telefonomovil\",\"tipo\" }, null, null, null, null, \"name asc\"); \n    int x=0;\n    if (cursor.moveToFirst()) {\n       do {\n            String[] b1=new String[]{cursor.getString(0),cursor.getString(1),cursor.getString(2),\n            cursor.getString(3),cursor.getString(4),cursor.getString(5),cursor.getString(6)};\n            list.add(b1);\n            x=x+1;\n       } while (cursor.moveToNext());\n    }\n    if (cursor != null &amp;&amp; !cursor.isClosed()) {\n       cursor.close();\n    } \n    cursor.close();\n    return list;\n}\n\npublic void delete(int rowId) {\n    db.delete(TABLE_NAME, null, null); \n}\n\nprivate static class OpenHelper extends SQLiteOpenHelper {\n    OpenHelper(Context context) {\n         super(context, DATABASE_NAME, null, DATABASE_VERSION);\n    }\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n         db.execSQL(\"CREATE TABLE \" + TABLE_NAME + \" (id INTEGER PRIMARY KEY, nombre TEXT, cedula TEXT, fechanacimiento TEXT, telefonocasa TEXT, telefonomovil TEXT, tipo TEXT)\");\n    }\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) \n    {\n         db.execSQL(\"DROP TABLE IF EXISTS \" + TABLE_NAME);\n         onCreate(db);\n    }\n}\n}\n</code></pre>\n\n<p>BUT when i use this 2nd \"datamanipulator2\" (copy-paste from the 1st data manipulator), its supposed to create the table Citas (\"appointments\") so i can add an appointment but it gaves an error saying:</p>\n\n<pre><code>09-23 22:40:57.202: E/AndroidRuntime(889): android.database.sqlite.SQLiteException: no such table: Citas: , while compiling: insert into Citas (nombrepaciente,fechacita,horacita,nombredoctor) values (?,?,?,?)\n</code></pre>\n\n<p>I noticed i can fix this if i change (in the \"datamanipulator2\") the db version to 2</p>\n\n<pre><code>DATABASE_VERSION = 2;\n</code></pre>\n\n<p>but i would like to know: A) another way to avoid this error, i mean, i would like to keep both datamanipulators with \"DATABASE_VERSION = 1;\" which i think it sounds better to me in general,  unless is completely necessary that \"datamanipulator\" has a value of 1 and the \"datamanipulator2\" has a value of 2. B) why this is happening? is this a normal behavior?</p>\n"},{"tags":["vb.net","sqlite","system.data.sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":12549328,"title":"SQLite page_size change using vacuum inVB.net","body":"<p>Quoting from the SQLite web page \n\" If the page_size pragma is used to specify a new page size just prior to running the VACUUM command and if the database is not in WAL journal mode then VACUUM will change the page size to the new value.\"</p>\n\n<p>My SQLite 3.7 database is running on 1024 page size and since Im using windows I thought I would try 4096 and see what would happen. I cant for the life of me get it to change, could someone please look at my code and tell me where Im screwing up, thank you </p>\n\n<pre><code> Dim connection As New SQLite.SQLiteConnection(conectionString)\n            connection.Open()\n            Dim oMainQueryR As New SQLite.SQLiteCommand\n            oMainQueryR.Connection = connection\n            oMainQueryR.CommandText = (\"PRAGMA page_size=4096\")\n            oMainQueryR.ExecuteNonQuery()\n\n            oMainQueryR = New SQLite.SQLiteCommand\n            oMainQueryR.Connection = connection\n            oMainQueryR.CommandText = (\"vacuum\")\n            oMainQueryR.ExecuteNonQuery()\n            connection.Close()\n</code></pre>\n\n<p>The vacuum comand runs OK its just that it dosent reset the pagesize, and Im not running WAL</p>\n"},{"tags":["android","sqlite","nullpointerexception"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":12558072,"title":"I keep getting an NPE when checking for a sqlite table","body":"<p>I'm trying to check to see if a table exists in and SQLite Database with Android using this in my SQLiteOpenHelper file</p>\n\n<pre><code>// Check to see if a table exists\npublic boolean isTableExists(String tblName) {\n    String existQuery = \"SELECT name FROM sqlite_master WHERE name ='\" + tblName + \"' and type='table'\";\n    SQLiteDatabase db = this.getReadableDatabase();\n    Cursor cursor = db.rawQuery(existQuery, null);\n\n    if(cursor != null){\n        cursor.close();\n        return true;\n    }\n\n    return false;\n\n}\n</code></pre>\n\n<p>The call from my Activity is</p>\n\n<pre><code>if(db.isTableExists(\"characters\") == false){\n        Intent p = new Intent(\"com.tml.rpgtodo.CREATECHARACTER\");\n        startActivity(p);\n    }\n</code></pre>\n\n<p>I keep getting a NullPointerException on the row with the if statement. What am I doing wrong?</p>\n"},{"tags":["iphone","objective-c","ios","xcode","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":12556670,"title":"sqlite3_prepare error #26","body":"<p>I have following code (modified code from this <a href=\"http://klanguedoc.hubpages.com/hub/Tutorial-on-Creating-an-IOS-5-SQLite-Database-Application-IOS-5-SQLite\" rel=\"nofollow\">tutorial</a>):</p>\n\n<pre><code>    -(NSMutableArray *) getChampionDatabase\n{\n    NSMutableArray *championsArray = [[NSMutableArray alloc] init];\n\n    @try {\n\n    NSFileManager *fileManager = [NSFileManager defaultManager];\n    NSString *databasePath = [[NSBundle mainBundle]pathForResource: @\"Champions Database\" ofType:@\"sqlite\"];\n    BOOL success = [fileManager fileExistsAtPath:databasePath];\n\n    if (!success)\n    {\n        NSLog(@\"cannot connect to Database! at filepath %@\",databasePath);\n    }\n\n    if(sqlite3_open([databasePath UTF8String], &amp;database) == SQLITE_OK)\n    {\n    const char *sql = \"SELECT CHAMPION_ID,CHAMPION_NAME,CHAMPION_IMG FROM CHAMPIONS\";\n    sqlite3_stmt *sqlStatement;\n\n    if(sqlite3_prepare(database, sql, -1, &amp;sqlStatement, NULL) == SQLITE_OK)\n    {\n        while (sqlite3_step(sqlStatement)==SQLITE_ROW) {\n            championList *ChampionList = [[championList alloc]init];\n            ChampionList.championId = [NSString stringWithUTF8String:(char *) sqlite3_column_text(sqlStatement,0)];\n            ChampionList.championName = [NSString stringWithUTF8String:(char *) sqlite3_column_text(sqlStatement,1)];\n            ChampionList.championImage = [NSString stringWithUTF8String:(char *) sqlite3_column_text(sqlStatement, 2)];\n            [championsArray addObject:ChampionList];\n    }\n    }\n        else\n        {\n            NSLog(@\"problem with database prepare\");\n        }\n    }\n        else\n        {\n            NSLog(@\"problem with database openning\");\n        }\n    }\n\n@catch (NSException *exception)\n    {\n    NSLog(@\"An exception occured: %@\", [exception reason]);\n    }\n@finally\n    {\n    return championsArray;\n    }\n}\n</code></pre>\n\n<p>After running this code i always have output : \"problem with database prepare\" </p>\n\n<p>Then i tried to check error number of sqlite3_prepare by following code:</p>\n\n<pre><code>int ret = sqlite3_prepare(database, sql, -1, &amp;sqlStatement, NULL);\n            if (ret != SQLITE_OK) {\n                NSLog(@\"Error calling sqlite3_prepare: %d\", ret);\n            }\n</code></pre>\n\n<p><strong>output</strong>: \"Error calling sqlite3_prepare: 26\"</p>\n\n<p><strong>error 26</strong> - /*File opened that is not a database file */</p>\n\n<hr>\n\n<p>File have sqlite 3 version</p>\n\n<p>how is this possible? file extension is .sqlite and i can modify it in sqlite manager </p>\n"},{"tags":["sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":12548307,"title":"The Case of the Missing '14 second SQLite database' performance","body":"<p>I have developed a program which uses SQLite 3.7 ... database, in it there is a rather extensive write/read module that imports , checks and updates data. This process takes 14 seconds on my PC and Im pleased as punch with the performance.</p>\n\n<p>I use transactions for everything with paratetrs my PC is a Intel i7 with 18gig of ram. I have not set anything in the database. I used SQLite Expert to create the database and create the data structures including table and columns and checked that all indexes are created. In other words its all OK.</p>\n\n<p>I have since deployed the program/database to 2 other machines. That 14 second process takes over 5 minutes on the other machines. Same program, identical data, identical database. The machines are upto date, one is a 3rd gen Intel i7 bought last week, the other is quite fast as well so hardware should not be an issue.</p>\n\n<p>Im just not understanding what the problem could be? Is it the database itself ? I have not set anything other then encription on it. Remembering that I run the same and it takes the 14 seconds. Could it be that the database is 'optimised' to my PC ? so when I give it to others its not optimised? </p>\n\n<p>I know I could turn off jurnaling to get better performance, but that would only speed up the process and still would leave the problem.</p>\n\n<p>Any ideas would be welcome.</p>\n\n<p>EDIT:\nI have tested the program on my 7yo Dual Athelon with 3gig of ram running XP on HDD, and the procedure took 35 seconds. Well in tolerable limits considering. I just dont get what could be making 2 modern machines take 5 min ? \nI have an idea that its a write issue, as using a reader they are slower but quite ecceptable.</p>\n"},{"tags":["c#","sqlite","xaml","microsoft-metro"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":94,"score":0,"question_id":12555170,"title":"SQLite with c# Metro app CRUD operation Syntax?","body":"<p>I making a Windows 8 metro app. I am using SQLite for database purpose.\nSomewhere I read that to insert into database use this command:</p>\n\n<pre><code> db.Insert(new Person() { FirstName = \"Tim\", LastName = \"Heuer\" });\n</code></pre>\n\n<p>Now I need syntax for delete and update</p>\n\n<p>I tried this but error is coming:</p>\n\n<pre><code>db.Delete(new Tasks() { Title = \"dixit\" });\n</code></pre>\n\n<p>Thanks in Advance</p>\n"},{"tags":["ios","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":28,"score":0,"question_id":12554157,"title":"simulate unable to open database error in iphone dev 5.0","body":"<p>Hi i have a requirement to simulate an error that states the iphone applicatio is unable to open the database and display values from it. i use sqllite. Please let me know how to simulate that error. I tried by locking the database file, changing the db file to readonly, but nothing happened... please let me know how to simulate the error...</p>\n"},{"tags":["android","database","sqlite","exception"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":836,"score":1,"question_id":9846000,"title":"Android SQLite database database /data/data/... (conn# 0) already closed","body":"<p>my android aplication start with query to database, but on start it return this exception:</p>\n\n<pre><code>03-23 20:49:10.722: E/AndroidRuntime(10499):\njava.lang.RuntimeException: Unable to start activity ComponentInfo{tabActivity}:\njava.lang.RuntimeException: Unable to start activity ComponentInfo{activity}:\njava.lang.IllegalStateException: database /data/data/... (conn# 0) already closed\n</code></pre>\n\n<p>After debug I find, that error is on this line.</p>\n\n<pre><code>Cursor cursor = db.query(TABLE, null, null, null, null, null, KEY_TABLE);\n</code></pre>\n\n<p>So I thing, that error is caused by locked database, but I don't know, how to repair it.\nCan someone help me, how to open the database?</p>\n"},{"tags":[".net","database","sqlite","search","full-text-search"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":12553806,"title":"Do Sphinx/Lucene have support for SQLite databases?","body":"<p>I'd need to use a (fast) full text engine for SQLite databases. Do Sphinx/Lucene have support for SQLite Databases? Can you give other examples of engines which support SQLite?</p>\n"},{"tags":["sqlite","table","intersect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":12517217,"title":"How do you get an intersecting value from a table?","body":"<p>I'm new to sqlite3. I've looked in the help but am not able to find answer there. For example row 1 column c has an intersecting cell in a spreadsheet. Given the row and column how do you get the intersecting 'cell' value in an sqlite3 table?</p>\n"},{"tags":["java","swing","sqlite","miglayout"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":114,"score":2,"question_id":11985157,"title":"Java Code Compatability issue (my binary is also not working)","body":"<p>I have written a Java application using Eclipse Juno on Fedora 17. I have JRE 1.7 installed, but I changed the Java build path to 1.6, I believe. Everything works fine there. I can then build a .jar file which runs on a Windows 7 virtual machine without problems. However, if I try to run it on the school computers (Windows 7 \n<code>java version \"1.6.0_18\"\nJava(TM) SE Runtime Environment (build 1.6.0_18-b07)\nJava HotSpot(TM) Client VM (build 16.0-b13, mixed mode, sharing)</code>) </p>\n\n<p>it gives an exception like: <code>java.lang.IllegalArgumentException: cannot add to layout: constraint must be a string</code>. This is apparently something to do with CardLayout, which I believe is a standard Swing component.</p>\n\n<p>I am using <a href=\"http://miglayout.com\" rel=\"nofollow\">miglayout</a> library and <a href=\"http://code.google.com/p/sqlite-jdbc/\" rel=\"nofollow\">sqlite-jdbc driver</a> if that could be related.</p>\n\n<p>I would really appreciate help with this</p>\n"},{"tags":["mysql","sql","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":52,"score":2,"question_id":12551380,"title":"Not sure how to write a simple query","body":"<p>Hi I Have a table which has number of products and rating for each, due to some reasons I have different row of each product along with rate of each person who rated it, as following:</p>\n\n<pre><code>p1 2\np2 4\np3 4\np1 4\np1 5\np1 3\np2 7\n</code></pre>\n\n<p>I am using following query but it shows the average rate of all products, but I am expecting it to show the average rate of each product seperately.</p>\n\n<pre><code>Select ProductName, AVG(Rate) FROM Products \n</code></pre>\n"}]}
{"total":16516,"page":17,"pagesize":100,"questions":[{"tags":["sqlite","attach","create-table"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":12551194,"title":"SQLite + ATTACH Database + CREATE TABLE","body":"<p>In my app, I used ATTACH DATABASE to \"merge\" 2 databases and work on them. It works perfectly. No problem for SELECT / UPDATE / INSERT on tables on the 2 database files.</p>\n\n<p>My question: How to specify which database file to use when I want to do a CREATE TABLE ?</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE caps (\n    id VARCHAR PRIMARY KEY NOT NULL,\n    name_en VARCHAR,\n    status INTEGER DEFAULT (1))\n</code></pre>\n\n<p>EDIT:\nI attached my second database like that:</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>self.database = [FMDatabase databaseWithPath:DATABASE_READ_SANDBOX_PATH]; \n[self.database executeUpdate:[NSString\n    stringWithFormat:@\"ATTACH DATABASE '%@' AS db2\",\n    DATABASE_USER_SANDBOX_PATH]];\n</code></pre>\n\n<p>So the second database has a name (<code>db2</code>), but the first? And I want to add the table in the first.</p>\n"},{"tags":["android","database","sqlite"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":201,"score":0,"question_id":12387715,"title":"Error When I try to open SQLite database pre-created in the assets folder","body":"<p>I have a database in <em>SQLite</em> precreated and inserted in assets folder, unfortunately I cannot access the database.</p>\n\n<p>When I try to use a command to access the DB, for example</p>\n\n<pre><code> DataBaseHelper myDbHelper = new DataBaseHelper(this);\n         myDbHelper = new DataBaseHelper(this);\n\n         try {\n\n            myDbHelper.openDataBase();\n\n        }catch(SQLException sqle){\n\n            throw sqle;\n\n        }\n</code></pre>\n\n<p>I get this error:</p>\n\n<pre><code>E/AndroidRuntime(5390): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.mysoftware.app/com.mysoftware.app.Home}: android.database.sqlite.SQLiteException: unable to open database file\n</code></pre>\n\n<p>My DataBaseHelper class is:</p>\n\n<pre><code>public class DataBaseHelper extends SQLiteOpenHelper{\n\n    private static String DB_PATH = \"/data/data/com.mysoftware.app/databases/\";\n\n    private static String DB_NAME = \"DBTestate\";\n\n    private SQLiteDatabase myDataBase; \n\n    private final Context myContext;\n\n\n    public DataBaseHelper(Context context) {\n\n        super(context, DB_NAME, null, 1);\n        this.myContext = context;\n    }   \n\n    public void createDataBase() throws IOException{\n\n        boolean dbExist = checkDataBase();\n        SQLiteDatabase db_Read = null;\n\n        if(dbExist){\n            //do nothing - database already exist\n        }else{\n\n            //By calling this method and empty database will be created into the default system path\n               //of your application so we are gonna be able to overwrite that database with our database.\n            this.getReadableDatabase();\n            db_Read = this.getReadableDatabase(); \n            db_Read.close();\n\n            try {\n\n                copyDataBase();\n\n            } catch (IOException e) {\n\n                throw new Error(\"Error copying database\");\n\n            }\n        }\n\n    }\n\n\n    private boolean checkDataBase(){\n\n        SQLiteDatabase checkDB = null;\n\n        try{\n            String myPath = DB_PATH + DB_NAME;\n            checkDB = SQLiteDatabase.openDatabase(myPath, null, SQLiteDatabase.OPEN_READONLY);\n\n        }catch(SQLiteException e){\n\n            //database does't exist yet.\n\n        }\n\n        if(checkDB != null){\n\n            checkDB.close();\n\n        }\n\n        return checkDB != null ? true : false;\n    }\n\n\n    private void copyDataBase() throws IOException{\n\n        //Open your local db as the input stream\n        InputStream myInput = myContext.getAssets().open(DB_NAME);\n\n        // Path to the just created empty db\n        String outFileName = DB_PATH + DB_NAME;\n\n        //Open the empty db as the output stream\n        OutputStream myOutput = new FileOutputStream(outFileName);\n\n        //transfer bytes from the inputfile to the outputfile\n        byte[] buffer = new byte[1024];\n        int length;\n        while ((length = myInput.read(buffer))&gt;0){\n            myOutput.write(buffer, 0, length);\n        }\n\n        //Close the streams\n        myOutput.flush();\n        myOutput.close();\n        myInput.close();\n\n    }\n\n    public void openDataBase() throws SQLException{\n\n        //Open the database\n        String myPath = DB_PATH + DB_NAME;\n        myDataBase = SQLiteDatabase.openDatabase(myPath, null, SQLiteDatabase.OPEN_READONLY);\n\n    }\n\n    @Override\n    public synchronized void close() {\n\n            if(myDataBase != null)\n                myDataBase.close();\n\n            super.close();\n\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n\n    }\n    ....\n\n}\n</code></pre>\n\n<p>My database structure :\n<img src=\"http://i.stack.imgur.com/kMdgL.jpg\" alt=\"SQLite view of db that I have inserted in assets folder\"></p>\n"},{"tags":["iphone","sqlite","core-data","ios5","iphonecoredatarecipes"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":63,"score":0,"question_id":11305657,"title":"iOS update atribute of an entity using coredata","body":"<p>here is my code to update table using core data </p>\n\n<pre><code>NSEntityDescription *entityDesc=[NSEntityDescription entityForName:@\"UsageData\" inManagedObjectContext:context];\nNSFetchRequest *request=[[NSFetchRequest alloc] init];\nNSPredicate *predicate=[NSPredicate predicateWithFormat:@\"(member_id=Null)\"];\n[request setPredicate:predicate];\n[request setEntity:entityDesc];\nUsageData *matches;\nNSError *error;\n\nNSArray *objects=[context executeFetchRequest:request error:&amp;error];\nNSLog(@\"Object count===%d\",[objects count]);\n\nfor(int i=0;i&lt;[objects count];i++)\n{\n    matches=[objects objectAtIndex:i];\n    UsageData *data=(UsageData *)matches;\n    NSLog(@\"Data before===%@\",data);\n    [data setMember_id:memberKey];\n</code></pre>\n\n<p>//        [data setValue:memberKey forKey:@\"member_id\"];</p>\n\n<pre><code>    [context save:&amp;error];\n\n    NSLog(@\"Data after====%@\",data);\n    data=nil;\n}\n\nentityDesc=nil;\nrequest=nil;\nmatches=nil;\nerror=nil;\nobjects=nil;\n</code></pre>\n\n<p>i wanted to save this changes to the database also, the logs gives the correct think but my local   sqlite database is not updated, is any one have an idea? thanks in advance..</p>\n"},{"tags":["android","sqlite","text","data"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":46,"score":-1,"question_id":12550646,"title":"Android txt files v's database","body":"<p>My music app is referencing persistently stored data.  All are currently stored as text files:</p>\n\n<p>Favorites - single text file array.  App starts, reads the text file, stores in memory.  Array is checked when ListView is expanded.  If array changes text file is rewritten.</p>\n\n<p>Last Played - single text file array list.  Updated every 5 seconds.  Retains the history of the played songs to allow the user to return to any album and resume position.</p>\n\n<p>Playlists - currently individual text files, one for each list.  List of playlists generated from file names when required.  Each playlist text file has array list inside it.  Read Write when required.</p>\n\n<p>Most Played - single text file array list.  Updated once per song played.</p>\n\n<p>I am wondering whether this data would warrant the need to change to a database, or whether I have taken the right approach.  I don't foresee the need for adding additional data so this should be the most I would need.</p>\n\n<p>Advice please!</p>\n\n<p>Thanks</p>\n"},{"tags":["android","database","sqlite","tablet"],"answer_count":1,"favorite_count":2,"up_vote_count":0,"down_vote_count":0,"view_count":96,"score":0,"question_id":11724329,"title":"android database not reading in tablet","body":"<p>Basically what I'm making is a quiz application that reads questions from a database and that question's respective option. The application is for tablet, so the screen shows the list of questions on the left (created based on the number of questions in the database) and on the right it shows the question with the four options. The problem I'm having is that even though it works perfectly on the emulator, it is not working on a tablet. I took the .apk from the bin folder and installed it on the tablet and it looks like it is not reading the database successfully. My apologies if the code I'm about to post seems sloppy, this is the first time that I've ever used Android and everything I'm doing is based on what I'm reading in various tutorials I've read through the internet.</p>\n\n<p>This is the Database Helper:</p>\n\n<pre><code>//Declaration of the Questions Database\npublic class DBHelper extends SQLiteOpenHelper{\n//Columns to be created in the table questions\npublic static final String TABLE_QUESTIONS = \"questions\";\npublic static final String COLUMN_QUESTIONID = \"_questionid\";\npublic static final String COLUMN_QUESTION = \"question\";\npublic static final String COLUMN_EXPLANATION = \"explanation\";\npublic static final String COLUMN_QIMAGE = \"questionimage\";\npublic static final String COLUMN_EIMAGE = \"explanationimage\";\npublic static final String COLUMN_MODULEID = \"moduleid\";\n//***************************************************************//\n//Columns to be created in the table options\npublic static final String TABLE_OPTIONS = \"options\";\npublic static final String COLUMN_OPTIONID = \"_optionid\";\npublic static final String COLUMN_OPTION = \"option\";\npublic static final String COLUMN_CORRECTANSWER = \"correctanswer\";\n//public static final String COLUMN_QUESTIONID = \"questionid\";\n//***************************************************************//\n//Database name and version\nprivate static final String DATABASE_NAME = \"discipulus.db\";\nprivate static final int DATABASE_VERSION = 1;\n\n// Database creation SQL statement of questions table\nprivate static final String QUESTIONS_CREATE = \"CREATE TABLE \" + TABLE_QUESTIONS + \"(\" + COLUMN_QUESTIONID + \" integer primary key autoincrement, \" \n        + COLUMN_QUESTION + \" text not null, \" \n        + COLUMN_EXPLANATION + \" text not null, \"\n        + COLUMN_QIMAGE + \" text not null, \"\n        + COLUMN_EIMAGE + \" text not null, \"\n        + COLUMN_MODULEID + \" integer not null);\";\n\nprivate static final String OPTIONS_CREATE = \"CREATE TABLE \" + TABLE_OPTIONS + \"(\" + COLUMN_OPTIONID + \" integer primary key autoincrement, \" \n        + COLUMN_OPTION + \" text not null, \" \n        + COLUMN_CORRECTANSWER + \" integer not null, \"\n        + COLUMN_QUESTIONID + \" integer not null);\";\n\npublic DBHelper(Context context) {\n    super(context, DATABASE_NAME, null, DATABASE_VERSION);\n}\n\n@Override\npublic void onCreate(SQLiteDatabase database) {\n    database.execSQL(QUESTIONS_CREATE);\n    database.execSQL(OPTIONS_CREATE);\n}\n\n@Override\npublic void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n    Log.w(DBHelper.class.getName(),\n            \"Upgrading database from version \" + oldVersion + \" to \"\n                    + newVersion + \", which will destroy all old data\");\n    db.execSQL(\"DROP TABLE IF EXISTS \" + TABLE_QUESTIONS);\n    db.execSQL(\"DROP TABLE IF EXISTS \" + TABLE_OPTIONS);\n    onCreate(db);\n}\n}\n\npublic class QuestionDataSource {\nprivate SQLiteDatabase database;\nprivate DBHelper dbHelper;\nprivate String[] allColumns = { DBHelper.COLUMN_QUESTIONID, DBHelper.COLUMN_QUESTION, DBHelper.COLUMN_EXPLANATION, \n    DBHelper.COLUMN_QIMAGE, DBHelper.COLUMN_EIMAGE, DBHelper.COLUMN_MODULEID };\n\npublic QuestionDataSource(Context context) {\n    dbHelper = new DBHelper(context);\n}\n\npublic void open() throws SQLException {\n    database = dbHelper.getWritableDatabase();\n}\n\npublic void close() {\n    dbHelper.close();\n}\n</code></pre>\n\n<p>This is the <code>Helper</code> for the table questions</p>\n\n<pre><code>public Question createQuestion(String question, String explanation, String questionImage, String explanationImage, int moduleID) {\n    ContentValues values = new ContentValues();\n    values.put(DBHelper.COLUMN_QUESTION, question);\n    values.put(DBHelper.COLUMN_EXPLANATION, explanation);\n    values.put(DBHelper.COLUMN_QIMAGE, questionImage);\n    values.put(DBHelper.COLUMN_EIMAGE, explanationImage);\n    values.put(DBHelper.COLUMN_MODULEID, moduleID);\n    long insertID  = database.insert(DBHelper.TABLE_QUESTIONS, null, values);\n\n    Cursor cursor = database.query(DBHelper.TABLE_QUESTIONS, allColumns, DBHelper.COLUMN_QUESTIONID + \" = \" + insertID, null, null, \n            null, null);\n    cursor.moveToFirst();\n    Question newQuestion = cursorToQuestion(cursor);\n    cursor.close();\n    return newQuestion;\n}\n\npublic List&lt;Question&gt; getAllQuestions() {\n    List&lt;Question&gt; questions = new ArrayList&lt;Question&gt;();\n    Cursor cursor = database.query(DBHelper.TABLE_QUESTIONS, allColumns, null, null, null, null, null);\n    cursor.moveToFirst();\n    while (!cursor.isAfterLast()) {\n        Question question = cursorToQuestion(cursor);\n        questions.add(question);\n        cursor.moveToNext();\n    }\n    cursor.close();\n    return questions;\n}\n\nprivate Question cursorToQuestion(Cursor cursor) {\n    Question question = new Question();\n    question.setQuestionID(cursor.getInt(0));\n    question.setQuestion(cursor.getString(1));\n    question.setExplanation(cursor.getString(2));\n    question.setQuestionImage(cursor.getString(3));\n    question.setExplanationImage(cursor.getString(4));\n    question.setModuleId(cursor.getInt(5));\n    return question;\n}\n}\n</code></pre>\n\n<p>And this is the helper for the table options</p>\n\n<pre><code>public class OptionDataSource {\nprivate SQLiteDatabase database;\nprivate DBHelper dbHelper;\nprivate String[] allColumns = { DBHelper.COLUMN_OPTIONID, DBHelper.COLUMN_OPTION, DBHelper.COLUMN_CORRECTANSWER, \n    DBHelper.COLUMN_QUESTIONID };\n\npublic OptionDataSource(Context context) {\n    dbHelper = new DBHelper(context);\n}\n\npublic void open() throws SQLException {\n    database = dbHelper.getWritableDatabase();\n}\n\npublic void close() {\n    dbHelper.close();\n}\n\npublic Option createOption(String option, int correctAnswer, int questionID) {\n    ContentValues values = new ContentValues();\n    values.put(DBHelper.COLUMN_OPTION, option);\n    values.put(DBHelper.COLUMN_CORRECTANSWER, correctAnswer);\n    values.put(DBHelper.COLUMN_QUESTIONID, questionID);\n    long insertID  = database.insert(DBHelper.TABLE_OPTIONS, null, values);\n    Cursor cursor = database.query(DBHelper.TABLE_OPTIONS, allColumns, DBHelper.COLUMN_OPTIONID + \" = \" + insertID, null, null, \n            null, null);\n    cursor.moveToFirst();\n    Option newOption = cursorToOption(cursor);\n    cursor.close();\n    return newOption;\n}\n\npublic List&lt;Option&gt; getAllOptions() {\n    List&lt;Option&gt; options = new ArrayList&lt;Option&gt;();\n    Cursor cursor = database.query(DBHelper.TABLE_OPTIONS, allColumns, null, null, null, null, null);\n    cursor.moveToFirst();\n    while (!cursor.isAfterLast()) {\n        Option option = cursorToOption(cursor);\n        options.add(option);\n        cursor.moveToNext();\n    }\n    cursor.close();\n    return options;\n}\n\npublic List&lt;Option&gt; getOptions(int qID) {\n    List&lt;Option&gt; options = new ArrayList&lt;Option&gt;();\n    String MY_QUERY = \"SELECT * FROM options WHERE _questionid = \" + qID + \";\";\n    Cursor cursor = database.rawQuery(MY_QUERY, null);\n    cursor.moveToFirst();\n    while (!cursor.isAfterLast()) {\n        Option option = cursorToOption(cursor);\n        options.add(option);\n        cursor.moveToNext();\n    }\n    cursor.close();\n    return options;\n}\n\nprivate Option cursorToOption(Cursor cursor) {\n    Option option = new Option();\n    option.setOptionID(cursor.getInt(0));\n    option.setOption(cursor.getString(1));\n    int cAnswer = cursor.getInt(2);\n    if (cAnswer == 0) {\n        option.setCorrectAnswer(false);\n    }else {\n        option.setCorrectAnswer(true);\n    }\n    option.setQuestionID(cursor.getInt(3));\n    return option;\n}\n}\n</code></pre>\n\n<p>And this is the <code>MainActivity</code> class:</p>\n\n<pre><code>public class MainActivity extends ListActivity {\nprivate QuestionDataSource dataSourceQuestions;\nprivate OptionDataSource dataSourceOptions;\nArrayList&lt;String&gt; listItems = new ArrayList&lt;String&gt;();\nArrayAdapter&lt;String&gt; adapter;\n\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    dataSourceQuestions = new QuestionDataSource(this);\n    dataSourceQuestions.open();\n\n    dataSourceOptions = new OptionDataSource(this);\n    dataSourceOptions.open();\n\n    List&lt;Question&gt; questions = dataSourceQuestions.getAllQuestions();\n    int qnCount = questions.size();\n    for(Question qn : questions) {\n        TextView pregunta = (TextView) findViewById(R.id.textView1);\n        pregunta.setText(qn.getQuestion());\n    }\n    for (int i = 0; i &lt; qnCount; i++) {\n        listItems.add(\"Question \" + (i + 1));\n    }\n    listItems.add(\"Question 3\");\n    adapter = new ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_list_item_1, listItems);\n    setListAdapter(adapter);\n}\n@Override\npublic boolean onCreateOptionsMenu(Menu menu) {\n    getMenuInflater().inflate(R.menu.activity_main, menu);\n    return true;\n}\n\nprotected void onListItemClick(ListView l, View v, int position, long id) {\n    List&lt;Question&gt; questions = dataSourceQuestions.getAllQuestions();\n    TextView pregunta = (TextView) findViewById(R.id.textView1);\n    pregunta.setText(questions.get(position).getQuestion());\n    int questionID = questions.get(position).getQuestionID();\n    setRadioButtons(questionID);\n}\n\nprivate void setRadioButtons(int questionID) {\n    List&lt;Option&gt; options = dataSourceOptions.getOptions(questionID);\n\n    RadioButton rdb1 = (RadioButton) findViewById(R.id.rdbOption1);\n    rdb1.setText(options.get(0).getOption());\n\n    RadioButton rdb2 = (RadioButton) findViewById(R.id.rdbOption2);\n    rdb2.setText(options.get(1).getOption());\n\n    RadioButton rdb3 = (RadioButton) findViewById(R.id.rdbOption3);\n    rdb3.setText(options.get(2).getOption());\n\n    RadioButton rdb4 = (RadioButton) findViewById(R.id.rdbOption4);\n    rdb4.setText(options.get(3).getOption());\n}\n}\n</code></pre>\n\n<p>If anyone can help me out with this problem I will be very grateful. Again, the problem I'm having is that it works fine on the emulator, but it doesn't seem to be reading the database when I run it on a tablet (installing the .apk in the tablet).</p>\n"},{"tags":["sqlite","windows-7","64bit"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":11890,"score":2,"question_id":3839669,"title":"DLL File for windows 7 64bit","body":"<p>I'm porting my Windows XP application (wrote with C#) to Windows 7 application.\nNow I'm using sqlite3.dll on my XP App (32bit) and I would download sqlite3.dll for 64bit machine.\nFor my purpose I've moved sqlite3.dll on my /bin folder and, obviously, when I try to start my app on windows 7 I receive an error.\nSo, where I download this file?</p>\n\n<p>Please, help me...</p>\n\n<p>Edit: I've downloaded sqlite3 <a href=\"http://www.sqlite.org/download.html\" rel=\"nofollow\">http://www.sqlite.org/download.html</a></p>\n"},{"tags":["android","sqlite","ormlite"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":763,"score":0,"question_id":4761898,"title":"OrmLite delete failed","body":"<p>I am performing a simple delete of a ormlite object. The code is below. But no matter what, the object never get deleted.</p>\n\n<pre><code>Dao&lt;Subscription, Object&gt; dao = helper.getSubscriptionDataDao();\n\ndao = helper.getSubscriptionDataDao();\nQueryBuilder&lt;Subscription, Object&gt; query = dao.queryBuilder();\nquery.where().eq(\"key\", subKey);\nSubscription sub = dao.queryForFirst(query.prepare());\nint r = dao.delete(sub); // r is 1\n</code></pre>\n\n<p>Am I missing anything here?</p>\n"},{"tags":["sqlite","strftime"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":60,"score":0,"question_id":12549671,"title":"strftime function in SQLite does not work","body":"<p>Hi, I am using the following query but it does not work, </p>\n\n<pre><code>SELECT strftime('%m',Since) AS Month FROM Dates\n</code></pre>\n\n<p>Type of <code>Since</code> column is <code>DATETIME</code>, but the result is shown an empty Month column without any error.</p>\n"},{"tags":["sql","sqlite"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":7142,"score":1,"question_id":650480,"title":"Get month from DATETIME in sqlite","body":"<p>I am trying to get extract the month from a DATETIME field in SQLite. month(dateField) does not work as well as strftime('%m', dateStart).</p>\n\n<p>Any ideas?</p>\n"},{"tags":["sqlite","csv","import"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":110,"score":0,"question_id":12549481,"title":"sqlite: import csv into table","body":"<p>I have a table with the following column structure:</p>\n\n<pre><code>sqlite&gt; create table stocks(stockticker varchar(4), tradedate date, open double, high double, low double, close double, volume integer, adjclose double);\n</code></pre>\n\n<p>What I want to do is save daily stock data for a group of stocks into this one table but populate it with whatever historical data that currently exists. So I saved the historicals for XLI from yahoo/finance into a file called XLI.csv</p>\n\n<p>In mySQL I use to be able to do the following:</p>\n\n<pre><code>sqlite&gt; LOAD DATA INLINE 'XLI.csv'\n   ...&gt; INTO TABLE stocks\n   ...&gt; FIELDS TERMINATED BY ','\n   ...&gt; LINES TERMINATED BY '\\n'\n   ...&gt; IGNORE 1 LINES\n   ...&gt; (@tradedate, open, high, low, close, volume, adjclose)\n   ...&gt; SET stockticker = 'XLI',\n   ...&gt; tradedate = STR_TO_DATE(@tradedate, '%m/%d/%Y');\nError: near \"LOAD\": syntax error\nsqlite&gt;\n</code></pre>\n\n<p>Now I understand SQLITE has many differences but I am a newbie and all the examples I have found typically have the following command structure:</p>\n\n<pre><code>sqlite&gt; .import &lt;filename&gt; &lt;table&gt;\n</code></pre>\n\n<p>This does not help me because I need to also set the 'stockticker' field, ignore the first line (headers) and ensure the date is imported correctly. I haven't found any examples in the documentation or on the internet that shows something like what I want to do.</p>\n\n<p>I would kindly appreciate your help. </p>\n"},{"tags":["android","sqlite","android-contentprovider"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":37,"score":-1,"question_id":12548679,"title":"ContentAdapter Sqlite database multiple databases","body":"<p>This is actually two questions:</p>\n\n<ol>\n<li><p>If i expose my SQLite as a <code>ContentProvider</code> in my application it will work in an asynchronous fashion ?  </p></li>\n<li><p>Imagine i have the following tables in my database:</p></li>\n</ol>\n\n<p><code>TableChats\nTableChatMessages</code></p>\n\n<p>and i also have a class\n<code>Message</code></p>\n\n<p>To work with <code>ListViews</code> and have those list views use data from the <code>ContentProvider</code> must that data returned be a Cursor ? or is it possible to query for all messages in a chat and return an array of <code>Message</code>. \nSorry i know this may be a dumb question but i'm new to android development and the concept of <code>ContentProvider</code> and <code>ListViews</code> and how to connect them isn't quite yet clear to me.</p>\n"},{"tags":["iphone","sqlite","path","ios5.1","nsdocumentsdirectory"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":256,"score":0,"question_id":10727869,"title":"iOS 5.1 cant find sqlite file","body":"<p>I'm having some trouble finding my sqlite file. When I run de app with iOS 5 simulator it runs ok but when I run it on iOS 5.1 it can't find the sqlite file. \nI'm using this code to find the file.</p>\n\n<pre><code>- (NSString *) getDatabasePath {\n    NSString* databaseName = @\"bohn_db.bin.sqlite\";\n    NSArray *documentPaths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);\n    NSString *documentsDir = [documentPaths objectAtIndex:0];\n    return [documentsDir stringByAppendingPathComponent:databaseName];      \n}\n</code></pre>\n\n<p>On iOS 5 works and on iOS 5.1 it doesn't, I tried to copy the file from de main bundle resource path to the documents path (above path) and it does not work cause the file its not even found in the main bunlde resource path, but the file is there. What happens on iOS 5.1?? </p>\n\n<p>Thanks in advance!!</p>\n"},{"tags":["vb.net","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":29,"score":1,"question_id":12543595,"title":"SQLITE Pragma to return a value in vb.net","body":"<p>Reading the SQLite documentation I notice that there are Pragmas that can return or set values. I would like to use Pragma table_info(tablename) and Pragma page_size. How do I execute this within a Vb.net program to obtain the list of columns and page size respectively from the two pragmas ?</p>\n\n<p>Edit:</p>\n\n<p>here is the code that will get the information, just thought that it  might come in handy to someone</p>\n\n<pre><code> Dim temp = New DataTable\n    temp.Clear()\n\n    Using oMainQueryR As New SQLite.SQLiteCommand\n        oMainQueryR.CommandText = (\"PRAGMA table_info(yourtablename)\")\n        Using connection As New SQLite.SQLiteConnection(conectionString)\n            Using oDataSQL As New SQLite.SQLiteDataAdapter\n                oMainQueryR.Connection = connection\n                oDataSQL.SelectCommand = oMainQueryR\n                connection.Open()\n                oDataSQL.Fill(temp)\n                connection.Close()\n            End Using\n        End Using\n    End Using\n</code></pre>\n\n<p>the resulting datatable has columns and information in rows.</p>\n"},{"tags":["java","android","database","sqlite","fts3"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":85,"score":0,"question_id":9099737,"title":"FTS3 | rowid problems | delete dont work","body":"<p>I recently updated my database to FTS3 due to that I implented search functionality. </p>\n\n<p>My FTS3 table: </p>\n\n<pre><code>    db.execSQL(\"CREATE VIRTUAL TABLE \" + TABLE_FTS + \" USING fts3(\" + COL_ID + \", \" + COL_KEY_NAME + \", \"\n            + COL_KEY_WEBURL + \" , \" + COL_KEY_MAINURL + \", \" + COL_KEY_CODEC + \" \" + \");\");\n</code></pre>\n\n<p>I always deletet entrys from my listview with the <code>ContextMenu</code>. I used a method like this:</p>\n\n<pre><code>AdapterView.AdapterContextMenuInfo info = (AdapterView.AdapterContextMenuInfo)item.getMenuInfo();\ndelete(info.id);\nupdateList();\n\n\npublic void delete(long id) {\n    int numDeleted = database.delete(\"stations\" , \"_ID = ?\", new String[] { Long.toString(id) } );\n    Log.d(TAG, \"delete(): id=\" + id + \" -&gt; \" + numDeleted);\n}\n\npublic void updateList() {\n    data.requery();\n    dataSource.notifyDataSetChanged();\n}\n</code></pre>\n\n<p>The method, <code>info.id</code> don't get me the position, so I'am changed it to <code>info.position</code>. Position is right, but delet dont work. Ok, than I tried a simple delete instead of via Android Method. </p>\n\n<pre><code>database.execSQL(\"DELETE FROM \" + DatabaseHelper.TABLE_FTS + \" WHERE \" + DatabaseHelper.COL_ID + \"='\" + id + \"'\");\n</code></pre>\n\n<p>Don't work, too. It seems that the column, <code>COL_KEY_ID = BaseColumns._ID</code> with an autoincrementing number don't exists in FTS3 anymore? I figured out, that I could use <code>rowid</code> but its not working as intended. If I delete my first entry, the entrys below get weird deleted.</p>\n\n<p>How I can get this back working like before?\n<strong>Edit:</strong> Found now fix ..</p>\n"},{"tags":["ruby-on-rails","ruby","sqlite","heroku"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":121,"score":0,"question_id":12522742,"title":"Rails - \"heroku db:push\" command failing","body":"<p>I'm trying to push my app up to the production env on heroku from my dev environment. Ive transferred all my code using </p>\n\n<pre><code>git push heroku master\n</code></pre>\n\n<p>Now I need to push my database and Im trying this</p>\n\n<pre><code>heroku db:push\n</code></pre>\n\n<p>But its failing and Im getting this message at console.</p>\n\n<pre><code>ruby-1.9.3-p194@app0907api @~/Documents/myapp06     \n&gt;heroku db:push\n/Users/hj/.rvm/gems/ruby-1.9.3-p194@app0907api/gems/sqlite3-1.3.6/lib/sqlite3/sqlite3_native.bundle: [BUG] Segmentation fault\nruby 1.8.7 (2012-02-08 patchlevel 358) [universal-darwin12.0]\n</code></pre>\n\n<p>This is a bit strange since my app uses postgres for dev and production and test, I haven't used sqlite at all neither have I installed any gems for sqlite3</p>\n\n<p>What could be going wrong?</p>\n\n<hr>\n\n<pre><code> source 'https://rubygems.org/'\n\n gem 'rails', '3.2.8'\n\n\n\n gem 'rails-api'\n\n gem 'pg'\n\n gem 'taps'\n\n gem 'thin'\n\n gem 'foreman'\n\n gem 'rabl'\n\n\n\n gem 'paperclip', '~&gt;3.2.0'\n gem 'aws-sdk', '~&gt;1.3.4'\n\n group :development do\n\n gem 'annotate', \"&gt;=2.5.0\"\n gem 'debugger'\n end\n</code></pre>\n\n<hr>\n\n<p>SOLUTION FOUND:</p>\n\n<p>Typed in the following line on my terminal console:</p>\n\n<pre><code> gem install heroku\n sudo gem install taps\n</code></pre>\n\n<p>this allowed me to run the command: </p>\n\n<pre><code>heroku db:push\n</code></pre>\n\n<p>...but now, while sending the db, I'm getting this error:</p>\n\n<pre><code> Saving session to push_201209202159.dat..\n !!! Caught Server Exception\n HTTP CODE: 500\n Taps Server Error: PGError: ERROR: time zone displacement out of range: \"2012-09-18 12:00:00.000000+5894853600\"\n LINE 1: ...ated_at\") VALUES (45, '37.785834', '-122.406417', '2012-09-1...\n</code></pre>\n"},{"tags":["sqlite","sqlite3"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":11398085,"title":"How to create Context object, which is required in calling SQLiteOpenHelper constructor","body":"<p>I am creating some hack kind of thing in existing android code to verify database creation and its accessibility across layers in application.</p>\n\n<p>For this I have modified an existing function of .java file but I am facing an issue while calling constructor of SQLiteOpenHelper.</p>\n\n<p>The signature is <code>SQLiteOpenHelper(Context context, String name, SQLiteDatabase.CursorFactory factory, int version)</code></p>\n\n<p>And I don't know how to create this Context instance. From googling I am seeing it is being some kind of activity class instance.</p>\n\n<p>What ways are there to create this Context instance? Do we have to have activity class implemented?</p>\n"},{"tags":["iphone","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":12545391,"title":"SQLite Viewer on the iPhone 4S","body":"<p>Does anyone know of a way to view SQLite files directly on the iPhone 4S? For example, the Notes are kept at: /private/var/mobile/Library/Notes/notes.sqlite . I can copy the file to my desktop computer and view the notes using sqlite3, but I'd like to do it directly from the iPhone. </p>\n"},{"tags":["android","sqlite"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":12542967,"title":"Android Database: Pre-checking code","body":"<p>I am new to Android and I am making my first Android app. In that, I am creating a database. In this app, the first time the app is launched, I am asking the user for a new <em>password</em> and confirm the password in mynewscreen. The next time the user launches the app, it asks the user to enter his existing password and check the password in the database.</p>\n\n<p>But in the code, I have error near <code>checkDataBase()</code></p>\n\n<p>My Code: </p>\n\n<pre><code>SQLiteDatabase sampleDB =  this.openOrCreateDatabase(SAMPLE_DB_NAME, MODE_PRIVATE, null);\n          Cursor c = sampleDB.rawQuery(\"SELECT Password FROM \" +\n                  \"password\" +\n                  \" where Username = 'clicklock'\", null);\n</code></pre>\n\n<p>can any one help what is a mistake in  cursor c statement ?</p>\n\n<p> </p>\n\n<pre><code> public void onCreate(Bundle savedInstanceState)\n    {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.main);\n        logm(\"App started\");\n\n        String chreturn=Make_db();\n        Toast.makeText(getApplicationContext(),chreturn,Toast.LENGTH_LONG).show();\n\n        checkDataBase();       \n\n}\n\n public String Make_db()\n    {\n   String errormsg = \"\";\n   SQLiteDatabase sampleDB =  this.openOrCreateDatabase(SAMPLE_DB_NAME, MODE_PRIVATE, null);\n   try {\n        sampleDB.execSQL(\"CREATE TABLE IF NOT EXISTS \" +\n                PASSWORD +\n                \" (Username VARCHAR, Password VARCHAR);\");\n\n        sampleDB.execSQL(\"CREATE TABLE IF NOT EXISTS \" +            PHOTO + \" (photoname VARCHAR, photopath VARCHAR,id INTEGER PRIMARY KEY);\");\n           msg =\"DatabaseCreated\";\n       } catch (SQLiteException se ) {\n        Log.e(getClass().getSimpleName(), \"Could not create or Open the database\");\n        msg =\"Not Done Error With Database\";\n       }\n return msg;\n\n   }\n   public  String checkDataBase() {\n\n    try\n    {\n        SQLiteDatabase sampleDB =  this.openOrCreateDatabase(SAMPLE_DB_NAME, MODE_PRIVATE, null);\n      Cursor c = sampleDB.rawQuery(\"SELECT Password FROM \" +\n              \"password\" +\n              \" where Username = 'clicklock'\", null);\n\n      String password_db = c.getString(c.getColumnIndex(\"password\"));\n        if(password_db==\"\")\n        {\n\n            Intent i = new Intent(CameraLaunch.this, MyNewScreen.class);                \n            startActivity(i);               \n        }\n        else if(password_db==\"123123\")\n        {               \n            Intent i = new Intent(CameraLaunch.this, MyNewScreen.class);                \n            startActivity(i);       \n        }\n\n\n      return \"working\";\n    }\n     catch (SQLiteException se ) {\n         Log.e(getClass().getSimpleName(), \"Could not create or Open the database\");\n         Make_db();\n         return \"Could not create or Open the database\";\n     }        \n}\n</code></pre>\n\n<p></p>\n"},{"tags":["qt","sqlite","pyqt"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":589,"score":0,"question_id":2650680,"title":"PyQt error: QSqlDatabasePrivate::database: unable to open database","body":"<p>What is the cause of following error:\nQSqlDatabasePrivate::database: unable to open database: unable to open database\nfile Error opening database?</p>\n\n<p>Code is 100% correct, this message appeared when I have reinstalled Windows, Python and PyQt.</p>\n\n<p>EDIT: I have \"read-only\" flag in folder with .db file properties. It stays gray (half-checked) when I unset it and open folder properties again. I have unset \"use simple sharing\" flag in folder properties, I have administrator rights, there is no viruses on my computer as I can see. This nasty problem doesn't have a solution on Super User too. How to set proper permissions for sqlite for this folder and file?</p>\n"},{"tags":["android","sqlite","android-loadermanager"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":12543437,"title":"Android Loader - handle an arbitrary number of them","body":"<p>Say I want to run a query similar to the following:</p>\n\n<pre><code>SELECT _id FROM my_table WHERE name = user_supplied_name\n</code></pre>\n\n<p>What if the user has supplied an array of names of some arbitrary length, and I need to get the corresponding array of _id numbers from my_table?</p>\n\n<p>Is the correct solution:</p>\n\n<p>a.) supply the WHERE clause similar to:</p>\n\n<pre><code>WHERE name = name_1 OR name = name_2 OR name = name_3 ... etc\n</code></pre>\n\n<p>b.) Fire off multiple Loaders for each name query (same format as my first snippet). But then, how to keep track of each Loader when they all have a different ID (as in Loader.getId()). Presumably you'd have to reserve a range of ID numbers (say 10 to 20) to avoid conflict, but then you are limited in the number of names that can be supplied, keep track of which ones are assigned, etc.</p>\n\n<p>c.) some other way?</p>\n"},{"tags":["jquery","sqlite","insert"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":16,"score":1,"question_id":12543381,"title":"how to import once data with same value into SQLite with Jquery","body":"<p>Hi I have the following data</p>\n\n<pre><code>1    aaaa       \n2    bbbb     \n1    aaaa\n3    cccc\n2    bbbb\n3    cccc\n</code></pre>\n\n<p>I want to import the above data to a SQLite like this</p>\n\n<pre><code>1    aaaa\n2    bbbb\n3    cccc\n</code></pre>\n\n<p>The same numbers must be imported once. </p>\n\n<p>How can I do this?</p>\n"},{"tags":["java","android","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":7,"down_vote_count":1,"view_count":251,"score":6,"question_id":12424506,"title":"Android: SQLite using wrong database","body":"<p>I'm using multiple SQLite databases in my android java project. The first one (for a login) works fine, using the following code and I am closing the connection. However, on the following page i'm calling a function which uses a different database but it seems to still reference the first database and not the new one. I'm getting this error:</p>\n\n<pre><code>09-14 13:18:01.990: I/SqliteDatabaseCpp(10035): sqlite returned: error code = 1, msg = no such table:\n NextID, db=/mnt/extSdCard/DirectEnquiries/AuditingData/Static/Users\n</code></pre>\n\n<p>Which is right, NextID isn't in Users.</p>\n\n<p>Here is the code for the login page which uses the Users table:</p>\n\n<pre><code>if(String.valueOf(loginCount).equals(\"2\")) {\n\n        File dbfile = new File(Global.StaticDB + \"/Users\" ); \n        SQLiteDatabase db = SQLiteDatabase.openOrCreateDatabase(dbfile, null);\n\n        Cursor c = db.rawQuery(\"SELECT UserID from Users where UserID like '\" + txtUsername.getText().toString().trim() + \"' AND Password like '\" + txtPassword.getText().toString().trim() + \"'\", null); \n        c.moveToFirst();\n\n        if(c.getCount() &gt; 0) {\n            Global.Username = c.getString(c.getColumnIndex(\"UserID\"));\n            Global.currentDB = spnLocation.getSelectedItem().toString();\n            Global.currentDBfull = Global.sctArea + Global.currentDB;\n\n            db.close();\n            Context context = getApplicationContext();\n            CharSequence text = \"Logged In\";\n            int duration = Toast.LENGTH_SHORT;\n            Toast toast = Toast.makeText(context, text, duration);\n            toast.show();\n            Intent ShowMainPage = new Intent(view.getContext(), MainPage.class);\n            startActivityForResult(ShowMainPage, 0);\n\n\n        }\n</code></pre>\n\n<p>The next page is using this:</p>\n\n<pre><code>@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main_page);\n    TextView txt = (TextView) findViewById(R.id.textView1);\n    txt.setText(Global.Username);\n    TextView dbtxt = (TextView) findViewById(R.id.txtDB);\n    dbtxt.setText(Functions.getNextID(\"StationObjects\"));\n\n}\n</code></pre>\n\n<p>And the function is:</p>\n\n<pre><code>public static int getNextID(String tablename) {\n    Log.e(\"Current DB is: \", Global.currentDBfull);\n    File dbfile = new File(Global.currentDBfull); \n    SQLiteDatabase dbF = SQLiteDatabase.openOrCreateDatabase(dbfile, null);\n\n    int rtnID=(int)DatabaseUtils.longForQuery(dbF,\"Select NxtNumber from NextID where NxtTable like '\" + tablename + \"'\",null);    \n    rtnID += 1;\n    //db.rawQuery(\"update NextID set NxtNumber = '\" + rtnID + \"' where NxtTable like 'StationObjects'\", null);\n    dbF.close();\n    return rtnID;\n}\n</code></pre>\n\n<p>How do I make sure it uses the second database and not the first?\nTom</p>\n"},{"tags":["android","database","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":63,"score":0,"question_id":12543104,"title":"Android: java.lang.OutOfMemoryError though very small database","body":"<p>I'm developping an application to store some bets made between two people.</p>\n\n<p>Now I'm pretty much new into this and especially with SQLite. The problem is, I'm getting one of following ErrorMessages all the time, despite there are only 2 or 3 entries in my database.</p>\n\n<p><strong>No. 1</strong></p>\n\n<pre><code>09-22 10:19:36.138: E/AndroidRuntime(21351): FATAL EXCEPTION: main\n09-22 10:19:36.138: E/AndroidRuntime(21351): java.lang.OutOfMemoryError\n09-22 10:19:36.138: E/AndroidRuntime(21351):    at java.util.Vector.newElementArray(Vector.java:120)\n09-22 10:19:36.138: E/AndroidRuntime(21351):    at java.util.Vector.growByOne(Vector.java:466)\n09-22 10:19:36.138: E/AndroidRuntime(21351):    at java.util.Vector.add(Vector.java:153)\n09-22 10:19:36.138: E/AndroidRuntime(21351):    at challenge.sql.CustomDataSource.getAllEntries(CustomDataSource.java:172)\n09-22 10:19:36.138: E/AndroidRuntime(21351):    at challenge.main.OverviewActivity.updateOverview(OverviewActivity.java:40)\n09-22 10:19:36.138: E/AndroidRuntime(21351):    at challenge.main.OverviewActivity.onCreate(OverviewActivity.java:29)\n09-22 10:19:36.138: E/AndroidRuntime(21351):    at android.app.Activity.performCreate(Activity.java:4465)\n09-22 10:19:36.138: E/AndroidRuntime(21351):    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1049)\n09-22 10:19:36.138: E/AndroidRuntime(21351):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1919)\n09-22 10:19:36.138: E/AndroidRuntime(21351):    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1980)\n09-22 10:19:36.138: E/AndroidRuntime(21351):    at android.app.ActivityThread.access$600(ActivityThread.java:122)\n09-22 10:19:36.138: E/AndroidRuntime(21351):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1146)\n09-22 10:19:36.138: E/AndroidRuntime(21351):    at android.os.Handler.dispatchMessage(Handler.java:99)\n09-22 10:19:36.138: E/AndroidRuntime(21351):    at android.os.Looper.loop(Looper.java:137)\n09-22 10:19:36.138: E/AndroidRuntime(21351):    at android.app.ActivityThread.main(ActivityThread.java:4340)\n09-22 10:19:36.138: E/AndroidRuntime(21351):    at java.lang.reflect.Method.invokeNative(Native Method)\n09-22 10:19:36.138: E/AndroidRuntime(21351):    at java.lang.reflect.Method.invoke(Method.java:511)\n09-22 10:19:36.138: E/AndroidRuntime(21351):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)\n09-22 10:19:36.138: E/AndroidRuntime(21351):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)\n09-22 10:19:36.138: E/AndroidRuntime(21351):    at dalvik.system.NativeStart.main(Native Method)\n</code></pre>\n\n<p><strong>No. 2</strong></p>\n\n<pre><code>09-22 10:19:20.308: E/AndroidRuntime(21337): FATAL EXCEPTION: main\n09-22 10:19:20.308: E/AndroidRuntime(21337): java.lang.OutOfMemoryError: [memory exhausted]\n09-22 10:19:20.308: E/AndroidRuntime(21337):    at dalvik.system.NativeStart.main(Native Method)\n09-22 10:19:20.318: E/System(21337): Uncaught exception thrown by finalizer\n09-22 10:19:20.378: E/System(21337): java.lang.IllegalStateException: Don't have database lock!\n09-22 10:19:20.378: E/System(21337):    at android.database.sqlite.SQLiteDatabase.verifyLockOwner(SQLiteDatabase.java:2090)\n09-22 10:19:20.378: E/System(21337):    at android.database.sqlite.SQLiteDatabase$1.entryRemoved(SQLiteDatabase.java:2182)\n09-22 10:19:20.378: E/System(21337):    at android.database.sqlite.SQLiteDatabase$1.entryRemoved(SQLiteDatabase.java:2178)\n09-22 10:19:20.378: E/System(21337):    at android.util.LruCache.trimToSize(LruCache.java:197)\n09-22 10:19:20.378: E/System(21337):    at android.util.LruCache.evictAll(LruCache.java:285)\n09-22 10:19:20.378: E/System(21337):    at android.database.sqlite.SQLiteDatabase.deallocCachedSqlStatements(SQLiteDatabase.java:2143)\n09-22 10:19:20.378: E/System(21337):    at android.database.sqlite.SQLiteDatabase.closeClosable(SQLiteDatabase.java:1126)\n09-22 10:19:20.378: E/System(21337):    at android.database.sqlite.SQLiteDatabase.finalize(SQLiteDatabase.java:1914)\n09-22 10:19:20.378: E/System(21337):    at java.lang.Daemons$FinalizerDaemon.doFinalize(Daemons.java:182)\n09-22 10:19:20.378: E/System(21337):    at java.lang.Daemons$FinalizerDaemon.run(Daemons.java:168)\n09-22 10:19:20.378: E/System(21337):    at java.lang.Thread.run(Thread.java:856)\n</code></pre>\n\n<p><strong>No. 3</strong></p>\n\n<pre><code>09-22 10:19:20.308: E/SQLiteDatabase(21337): close() was never explicitly called on database '/data/data/challenge.main/databases/DBCHALLENGES' \n09-22 10:19:20.308: E/SQLiteDatabase(21337): android.database.sqlite.DatabaseObjectNotClosedException: Application did not close the cursor or database object that was opened here\n09-22 10:19:20.308: E/SQLiteDatabase(21337):    at android.database.sqlite.SQLiteDatabase.&lt;init&gt;(SQLiteDatabase.java:1943)\n09-22 10:19:20.308: E/SQLiteDatabase(21337):    at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:1007)\n09-22 10:19:20.308: E/SQLiteDatabase(21337):    at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:986)\n09-22 10:19:20.308: E/SQLiteDatabase(21337):    at android.database.sqlite.SQLiteDatabase.openOrCreateDatabase(SQLiteDatabase.java:1051)\n09-22 10:19:20.308: E/SQLiteDatabase(21337):    at android.app.ContextImpl.openOrCreateDatabase(ContextImpl.java:770)\n09-22 10:19:20.308: E/SQLiteDatabase(21337):    at android.content.ContextWrapper.openOrCreateDatabase(ContextWrapper.java:221)\n09-22 10:19:20.308: E/SQLiteDatabase(21337):    at android.database.sqlite.SQLiteOpenHelper.getWritableDatabase(SQLiteOpenHelper.java:157)\n09-22 10:19:20.308: E/SQLiteDatabase(21337):    at challenge.sql.CustomDataSource.open(CustomDataSource.java:33)\n09-22 10:19:20.308: E/SQLiteDatabase(21337):    at challenge.main.OverviewActivity.updateOverview(OverviewActivity.java:38)\n09-22 10:19:20.308: E/SQLiteDatabase(21337):    at challenge.main.OverviewActivity.onCreate(OverviewActivity.java:29)\n09-22 10:19:20.308: E/SQLiteDatabase(21337):    at android.app.Activity.performCreate(Activity.java:4465)\n09-22 10:19:20.308: E/SQLiteDatabase(21337):    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1049)\n09-22 10:19:20.308: E/SQLiteDatabase(21337):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1919)\n09-22 10:19:20.308: E/SQLiteDatabase(21337):    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1980)\n09-22 10:19:20.308: E/SQLiteDatabase(21337):    at android.app.ActivityThread.access$600(ActivityThread.java:122)\n09-22 10:19:20.308: E/SQLiteDatabase(21337):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1146)\n09-22 10:19:20.308: E/SQLiteDatabase(21337):    at android.os.Handler.dispatchMessage(Handler.java:99)\n09-22 10:19:20.308: E/SQLiteDatabase(21337):    at android.os.Looper.loop(Looper.java:137)\n09-22 10:19:20.308: E/SQLiteDatabase(21337):    at android.app.ActivityThread.main(ActivityThread.java:4340)\n09-22 10:19:20.308: E/SQLiteDatabase(21337):    at java.lang.reflect.Method.invokeNative(Native Method)\n09-22 10:19:20.308: E/SQLiteDatabase(21337):    at java.lang.reflect.Method.invoke(Method.java:511)\n09-22 10:19:20.308: E/SQLiteDatabase(21337):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)\n    09-22 10:19:20.308: E/SQLiteDatabase(21337):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)\n09-22 10:19:20.308: E/SQLiteDatabase(21337):    at dalvik.system.NativeStart.main(Native Method)\n</code></pre>\n\n<p>Now the problem is - as I think - caused by the <code>getAllEntries()</code> in this method in my <code>OverviewActivity</code> class</p>\n\n<pre><code>public void updateOverview(){\n        datasource = new CustomDataSource(this);\n        datasource.open();\n        Game game = datasource.getSpecificGame(challengeName);\n        entries = datasource.getAllEntries();\n        datasource.close();\n\n            (...)\n}\n</code></pre>\n\n<p>This is the Code in the <code>CustomDataSource</code> class</p>\n\n<pre><code>public Vector&lt;FootballEntry&gt; getAllEntries(){\n    Vector&lt;FootballEntry&gt; entries = new Vector&lt;FootballEntry&gt;();\n\n    Cursor cursor = database.query(CustomSQLiteHelper.TABLE_FOOTBALL, allColumns2, null, null, null, null, null);\n    cursor.moveToFirst();\n\n    while(!cursor.isAfterLast()){\n        FootballEntry entry = cursorToEntry(cursor);\n        entries.add(entry);\n        cursor.moveToNext();\n    }\n    cursor.close();\n    return entries;\n}\n\nprivate FootballEntry cursorToEntry(Cursor cursor){\n    cursor.moveToFirst();\n    FootballEntry game = new FootballEntry();\n    game.setID(cursor.getLong(0));\n    game.setDate(cursor.getString(1));\n    game.setHome(cursor.getInt(2));\n    game.setPlatform(cursor.getString(3));\n    game.setTeam1(cursor.getString(4));\n    game.setStars1(cursor.getDouble(5));\n    game.setTeam2(cursor.getString(6));\n    game.setStars2(cursor.getDouble(7));\n    game.setGoals1(cursor.getInt(8));\n    game.setGoals2(cursor.getInt(9));\n    game.setFinished(cursor.getInt(10));\n    return game;\n }\n</code></pre>\n\n<p>And here the constructor of <code>CustomDataSource</code> and the methods <code>open()</code> and <code>close()</code></p>\n\n<pre><code>public CustomDataSource(Context context){\n        dbHelper = new CustomSQLiteHelper(context);\n}\n\npublic void open() throws SQLException{\n        database = dbHelper.getWritableDatabase();\n}\n\npublic void close(){\n        dbHelper.close();\n}\n</code></pre>\n\n<p>Note: I've read a few times, that my CustomSQLiteHelper should extend SQLiteOpenHelper, that is the case.</p>\n\n<p>I do not exactly understand why this errors are thrown. Everytime I want to do work with the database, I create a new <code>CustomDataSource</code>, call <code>open()</code>, do work, and call <code>close()</code>. What's the problem here? First I thought, the error is caused by puttin <code>open()</code> in the <code>onResume()</code> and <code>close()</code> in the <code>onClose()</code> method of my Activity, but removing them do not causes any differences. Also per activity I create only one instance of <code>CustomDataSource</code>, and after working with it, I close it.</p>\n"},{"tags":["android","sqlite","cursor","android-contentprovider"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":86,"score":0,"question_id":12339841,"title":"Create cursor from SQLiteStatement","body":"<p>I would like to use <code>SQLiteStatement</code> in my <code>ContentProvider</code> instead of the <code>rawQuery</code> or one of the other standard methods.  I think using <code>SQLiteStatement</code> would give a more natural, native, efficient and less error prone approach to doing queries.</p>\n\n<p>The problem is that I don't see a way to generate and return a <code>Cursor</code>.  I realize I can use \"call\" and return a <code>Bundle</code>, but that approach requires that I cache and return all selected rows at the same time - this could be huge.</p>\n\n<p>I will start looking at Android source code - I presume that \"query\" ultimately uses <code>SQLiteStatement</code> and somehow generates a <code>Cursor</code>.  However, if anyone has any pointers or knowledge of this, I would greatly appreciate your sharing.</p>\n"},{"tags":["sqlite","blackberry-webworks","cordova-2.0.0"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":94,"score":0,"question_id":11739450,"title":"Pulling the database off a Blackberry emulator","body":"<p>I tried googling it, I tried looking through the simulator directory, but I can't find it anywhere. Does anyone know how to pull the sqlite databases off the blackberry emulator? Specifically, I am using Blackberry WebWorks SDK 2.3.1.5, and simpack 7.0.0.318. I  ask because it would be far easier to manually pull it off, and inspect it than to write select statements for everything. </p>\n\n<p>With Android, its no problem, just go in through DDMS, but I can't figure out blackberry.</p>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":50,"score":1,"question_id":12540915,"title":"how to select/delete all rows except within 24 hours before from current time in sqlite","body":"<p>i have a table named <strong>daily_mood</strong> and it has three (3) columns, looks like below:</p>\n\n<pre><code>CREATE TABLE daily_mood (moodid INTEGER PRIMARY KEY autoincrement,mood TEXT,mooddate DATETIME)\n</code></pre>\n\n<p><img src=\"http://i.stack.imgur.com/tswP9.png\" alt=\"enter image description here\"></p>\n\n<p>it's data looks like that:\n   <img src=\"http://i.stack.imgur.com/Jgwp6.png\" alt=\"enter image description here\"></p>\n\n<p>Now, i want to select/delete all rows except from current date to before 24 hours exactly according to mooddate column.</p>\n\n<p>i tried this query like:</p>\n\n<pre><code>SELECT *from daily_mood where mooddate&gt;=datetime('now', '-1 day');\n</code></pre>\n\n<p>the result should be 1 row(last one) from above data.but here comes 2.like<img src=\"http://i.stack.imgur.com/kPAtJ.png\" alt=\"enter image description here\"></p>\n\n<p>results should be the last row. Anyone can help me? thanks.</p>\n"},{"tags":["sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":12541703,"title":"How to open sqlite in sqlite prompt","body":"<p>I can open sqlite db in shell prompt:  </p>\n\n<pre><code>sqlite3 test.db \n</code></pre>\n\n<p>When i input  sqlite3 to enter sqlite environment,how can i open test.db in sqlite prompt?</p>\n\n<p>It is no use to input </p>\n\n<pre><code>~$ sqlite3\nSQLite version 3.7.13 2012-06-11 02:05:22\nEnter \".help\" for instructions\nEnter SQL statements terminated with a \";\"\nsqlite&gt; sqlite3 test.db \n</code></pre>\n"},{"tags":["sql","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":29,"score":1,"question_id":12541825,"title":"How to write SQL query for getting rows which must have some specific combination of values","body":"<p>I have a table like this.</p>\n\n<pre><code>Image_ID    Person_Ref  FileName    Effect_Ref\n1            1           EU000101.jpg            1\n2            1           EU000106.jpg            6\n3            2           EU000201.jpg            1\n4            2           EU000202.jpg            2\n5            2           EU000203.jpg            3\n6            3           EU000301.jpg            1\n7            3           EU000306.jpg            6\n8            4           EU000401.jpg            1\n9            5           EU000501.jpg            1\n10           5           EU000504.jpg            4\n11           5           EU000505.jpg            5\n12           6           EU000601.jpg            1\n13           6           EU000604.jpg            4\n14           6           EU000605.jpg            5\n15           7           EU000701.jpg            1\n16           7           EU000704.jpg            4\n17           7           EU000705.jpg            5\n18           8           EU000801.jpg            1\n19           8           EU000806.jpg            6\n</code></pre>\n\n<p><strong>Now I want to get all those Person_Ref which must have Effect_Ref, let say 1, 2, 3</strong></p>\n\n<p>I tried some thing like this but I know it is not what I want</p>\n\n<pre><code>select distinct * from Images where Effect_ref IN (1,2,3) order by Effect_ref \n</code></pre>\n"},{"tags":["iphone","sql","sqlite","isqlquery"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":12541572,"title":"How to write complex select in sqlite","body":"<p>I have the sql as below:</p>\n\n<pre><code>PRAGMA foreign_keys = 1;\n\nCREATE TABLE people ( pid INTEGER   PRIMARY KEY, name TEXT );\nCREATE TABLE groups ( gid INTEGER   PRIMARY KEY, name TEXT );\n\nCREATE TABLE p_g_bridge (\n        pid INTEGER   NOT NULL   REFERENCES people,\n    gid INTEGER   NOT NULL   REFERENCES groups,\n    PRIMARY KEY ( pid, gid )\n);\n\n\n-- people\nINSERT INTO people VALUES ( 1, 'Alice' );\nINSERT INTO people VALUES ( 2, 'Bob' );\nINSERT INTO people VALUES ( 3, 'Charlie' );\n\n-- groups\nINSERT INTO groups VALUES ( 1, 'users' );\nINSERT INTO groups VALUES ( 2, 'admin' );\nINSERT INTO groups VALUES ( 3, 'web' );\nINSERT INTO groups VALUES ( 4, 'db' );\nINSERT INTO groups VALUES ( 5, 'nobody' );\n\n\n\n-- everyone in users\nINSERT INTO p_g_bridge VALUES ( 1, 1 );\nINSERT INTO p_g_bridge VALUES ( 2, 1 );\nINSERT INTO p_g_bridge VALUES ( 3, 1 );\n\n-- Alice and Bob into admin\nINSERT INTO p_g_bridge VALUES ( 1, 2 );\nINSERT INTO p_g_bridge VALUES ( 2, 2 );\n\n-- Charlie into web\nINSERT INTO p_g_bridge VALUES ( 3, 3 );\n\n-- Alice and Charlie into db\nINSERT INTO p_g_bridge VALUES ( 1, 4 );\nINSERT INTO p_g_bridge VALUES ( 3, 4 );\n</code></pre>\n\n<p>and below is the table:</p>\n\n<pre><code>select * from groups;\ngid         name      \n----------  ----------\n1           users     \n2           admin     \n3           web       \n4           db        \n5           nobody    \nsqlite&gt; select * from people;\nselect * from people;\npid         name      \n----------  ----------\n1           Alice     \n2           Bob       \n3           Charlie   \n\nsqlite&gt; select * from p_g_bridge;\nselect * from p_g_bridge;\npid         gid       \n----------  ----------\n1           1         \n2           1         \n3           1         \n1           2         \n2           2         \n3           3         \n1           4         \n3           4         \n</code></pre>\n\n<p>and I want the query for people who all are 'users', ie) the result must as follows:</p>\n\n<pre><code>pid         name      \n----------  ----------\n1           Alice     \n2           Bob       \n3           Charlie   \n</code></pre>\n\n<p>I write a query like this:</p>\n\n<pre><code>sqlite&gt; select * from people where people.pid = (select p_g_bridge.pid from p_g_bridge where p_g_bridge .gid = (select groups.gid from groups where groups.name = 'users'));\n</code></pre>\n\n<p>IT gives the result as follows:</p>\n\n<pre><code>pid         name      \n----------  ----------\n1           Alice     \n</code></pre>\n\n<p>But a query must return result as said above.</p>\n"},{"tags":["android","sqlite"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":122,"score":0,"question_id":11075017,"title":"ContentProvider - returning multiple Cursors or custom Object","body":"<p>I have a working implementation of a <code>ContentProvider</code> loading data via <code>CursorLoader</code> into a listview (with custom <code>CursorAdapter</code>). It's a list of events. Every item has a title, place, etc. but also <strong>a set of offers</strong> which should be displayed in a <code>LinearLayout</code> inside every list row.</p>\n\n<p>The problem is that a <code>Cursor</code> row can only contain flat data, not a set of other items.</p>\n\n<p>My only idea is to make a joined query on database like this:</p>\n\n<p><code>SELECT * FROM events, offers WHERE events.id=offers.event_id;</code></p>\n\n<p>But then I'll have as much rows as there are offers (and the list should display events, so it's not good) and the list would be overpopulated. Maybe there is a possibility to tell <code>CursorAdapter</code> to only populate list rows with unique <code>events.id</code> but somehow retrieve the offers data as well?</p>\n\n<p>The best solution would be to put a <code>Cursor</code> or custom <code>Object</code> containing offers inside the events <code>Cursor</code>. But afaik it's not possible.</p>\n"},{"tags":["sqlite","sqlite3","phpunit","symfony-1.4","propel"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":12540387,"title":"Setup Propel to default to connection created, PropelQuickBuilder, Sqlite in memory db","body":"<p>Major kudos if anyone can actually lead me in the right direction here...  So, some backstory.</p>\n\n<p>I'm setting up PHPUnit within a Symfony 1 project.  I've gotten everything setup, and it's mostly working, including most of the queries I'm trying to run against my models.  the issue is boiling down to the fact that some queries/methods(resulting in queries) are trying to access the default database instead of the newly created connection (sqlite db).</p>\n\n<p>So, the question is, how can I tell propel/symfony to ALWAYS use a certain connection, aka, set a new default, for the remainder of the process?</p>\n\n<p>I've looked at the symfony tasks and how they're handling it, but I can't quite seem to abstract the logic without trying to use a task as a wrapper.</p>\n\n<p>I've tried using the following...</p>\n\n<p>new sfCommandOption('connection', null, sfCommandOption::PARAMETER_REQUIRED, 'The connection name', 'propel'),</p>\n\n<p>... and looking for how that's getting setup.  I'm just not really getting anywhere here.</p>\n\n<p>Another option here would be to setup a new Symfony environment.  This wouldn't be a bad idea and I'm certainly not opposed, but I'm not quite sure how the in memory instance for sql would get associated in the symfony databases.yml.  I'm thinking this isn't really going to be possible.</p>\n\n<p>So, that's where I am, any help would be much appreciated!</p>\n"},{"tags":["mysql","sql","sqlite"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":12539242,"title":"Design two different tables","body":"<p>I have designed the following but I am looking for a simpler way to design it (currently when I am going to retrieve list of subcategories that user is interested I should have different queries for each type of sport) :</p>\n\n<p>User table has users info each user is interested in number of sport categories, each category has different subcategories, user can be interested in category (all subcategories) or just a number of subcategories of a particular category. </p>\n\n<pre><code>User      UserID                                         12\n\nSport     CategoryID Category                            1 Aquatic,    2 Running \n\nAquatic   SubCategoryID SubCategory,CategoryID           1 Swimming 1, 2 Surfing 2 \n\nRunning   SubCateogryID SubCategory,CategoryID           1 200m 2,     2 300m 2 \n\nLikeSport UserID CateogryID SubCategoryID                12 1 1,       12 2 nill\n</code></pre>\n\n<p>It shows user with ID 12 likes Aquatic sport but just Swimming and likes all type of Running Sports.</p>\n"},{"tags":["android","sqlite","listview","index","position"],"answer_count":5,"favorite_count":2,"up_vote_count":4,"down_vote_count":0,"view_count":3533,"score":4,"question_id":2521775,"title":"onItemClick gives index/ position of item on visible page ... not actual index of the item in list ..problem on enabling setTextFilterEnabled .. android","body":"<p>I am creating a list .. the elements of the list are drawn from sqlite database .. I populate the list using ArrayList and ArrayAdapter ...upon clicking the items on the list I want to be able to fire an intent containing info about the item clicked ... info like the index number of the item .. </p>\n\n<p>using the method :\nonItemClick(AdapterView av, View v, int index, long arg)</p>\n\n<p>I do get index of the item clicked . however it is of the list currently displayed . the problem comes when I do setFilterTextEnabled(true) , and on the app type in some text to to search some item ..and then click it ..rather than giving me the index of the item on the original list it gives me the index on filtered list.. </p>\n\n<p>following is the snippet of code:</p>\n\n<pre><code>myListView.setOnItemClickListener(new OnItemClickListener() {\n        public void onItemClick(AdapterView&lt;?&gt; av, View v, int index, long arg) {\n            Intent lyricsViewIntent = new Intent(iginga.this, LyricsPage.class);\n\n            lyricsViewIntent.putExtra(\"title\", songList.get((int)arg).getTitle());\n            lyricsViewIntent.putExtra(\"id\", songList.get((int)arg).getSongId());\n            startActivity(lyricsViewIntent);\n        }\n    });\n\n    myListView.setTextFilterEnabled(true);\n</code></pre>\n\n<p>Is there any way I can get the original index /position of the item instead of the one showing in filtered text ...when filtered.</p>\n"},{"tags":["android","sqlite","gridview"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12538356,"title":"GridView with text on images on android and Data structure design in sqlite","body":"<p>1.I like to know how to add text (can change in the future) each image as shown in this picture\n<a href=\"http://developer.android.com/design/media/accessibility_contentdesc.png\" rel=\"nofollow\">http://developer.android.com/design/media/accessibility_contentdesc.png</a></p>\n\n<p>2.I want to build a data structure so that each day will add on something like 20 pictures with a little more information\nShould I build a single table that will hold all days. And in this table I produce the relevant days Or table per day? it's matter?</p>\n\n<p>thanks and advance.</p>\n"},{"tags":["iphone","cocoa","sqlite","thread-safety"],"answer_count":3,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":1010,"score":0,"question_id":2159057,"title":"SQLite bulk insert on iPhone not working","body":"<p>I have been struggling with this seeminly easy problem for 48 hours, and I am no closer to a solution. So I was hoping that someone might be able to help me. </p>\n\n<p>I am building a app, that use a combination of a local (SQLite) database and an online database (PHP/MYSQL). The app is nearly finished. Checked for leaks and work like a charm. However the very last part is the part I have struggled with. </p>\n\n<p>On launch, I want the app to check for changes to the online databse, and if there is. I want it to download and parse a xml file containing the changes. Everything is working fine this far. But when I try to bulk insert my parsed data to my database, the app crashes, giving a NSInternalInconsistency error. Due to the database returning SQLITE_MISUSE. I have done a lot of googling, but am still unable to solve my problem. So I am putting the code here, hoping that someone can help me fix this.</p>\n\n<p>And I know that I should have used core data for this. But this is the very last part I am struggling with, and I am very reluctant to changing my entire code now. Core data will have to come in the update.</p>\n\n<p><strong>Here is the error I recieve:</strong></p>\n\n<p>Terminating app due to uncaught exception 'NSInternalInconsistencyException', reason: 'Error while inserting data. 'library routine called out of sequence''</p>\n\n<p><strong>Here is my code:</strong></p>\n\n<pre><code>-(void)UpdateDatabase:(const char *)_query NewValues:(NSMutableArray *)_odb dbn:(NSString *)_dbn dbp:(NSString *)_dbp  \n{  \nsqlite3 *database;  \nNSMutableArray *NewValues = _odb;  \nint i;  \nconst char *query = _query;  \nsqlite3_stmt *addStmt;  \nfor (i = 1; i &lt; [NewValues count]; i++)  \n{  \nif(sqlite3_prepare_v2(database, query, -1, &amp;addStmt, NULL) == SQLITE_OK)   \n{  \nsqlite3_bind_text(addStmt, 1, [[[NewValues objectAtIndex:i] name] UTF8String], -1, SQLITE_TRANSIENT);  \nsqlite3_bind_text(addStmt, 2, [[[NewValues objectAtIndex:i] city]UTF8String], -1, SQLITE_TRANSIENT);  \nsqlite3_bind_double(addStmt, 3, [[[NewValues objectAtIndex:i] lat] doubleValue]);  \nsqlite3_bind_int(addStmt, 4, [[[NewValues objectAtIndex:i] long] doubleValue]);  \nsqlite3_bind_int(addStmt, 5, [[[NewValues objectAtIndex:i] code] intValue]);  \n}  \nif(SQLITE_DONE != sqlite3_step(addStmt)) {  \nNSAssert1(0, @\"Error while inserting data. '%s'\", sqlite3_errmsg(database));  \n}  \n//Reset the add statement.  \nsqlite3_reset(addStmt);  \n}  \n}  \n</code></pre>\n"},{"tags":["cocoa","sqlite","exc-bad-access","fmdb"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":975,"score":1,"question_id":2125063,"title":"EXC_BAD_ACCESS in SQLite on Mac OS","body":"<p>I'm pulling and pushing data from an sqlite database. I use the FMDatabase cocoa wrapper.</p>\n\n<p>I'm pulling and pushing data from multiple threads, but I made sure that more then one transactions never happen at the same time. </p>\n\n<p>I get <code>EXC_BAD_ACCESS</code> after a few hundred call at the database but never at the same time. It's also not memory related (I've tried NSZombies and looked at the memory management of parameters).</p>\n\n<p>Here is the stack and the code :</p>\n\n<p><img src=\"http://grab.by/1VwY\" alt=\"alt text\"></p>\n\n<pre><code>FMResultSet* result = [db executeQuery:@\"select latitude, longitude from cache where name = ?\", name];\n[result next];\n\nNSString* latitude = [result stringForColumn:@\"latitude\"];\nNSString* longitude = [result stringForColumn:@\"longitude\"];\n</code></pre>\n\n<p>I've got no idea, does somebody has one?</p>\n"},{"tags":["javascript","ios","sqlite","cordova-2.0.0"],"answer_count":1,"favorite_count":3,"up_vote_count":6,"down_vote_count":0,"view_count":159,"score":6,"question_id":12078526,"title":"iOS - access a single sqlite DB from both JavaScript and FMDB","body":"<p>We've got a problem that only seems to show up on an iOS device, but seems to work fine on the simulator. Here's the problem...</p>\n\n<ul>\n<li>Our iOS app is Hybrid (Cordova) with some views that are entirely native and others that are entirely web. </li>\n<li>we'd like use the same sqlite db from both codebases. </li>\n<li>In the web we are using the WebSQL api (not a cordova plugin), from the Native iOS side we're using FMDB.</li>\n<li>The database is initially created from javascript and is placed in the App's Library Directory \n<ul>\n<li><strong>4.x Dir</strong> <code>&lt;AppDir&gt;/Library/WebKit/Databases/file__0/0000000000000001.db</code></li>\n<li><strong>5.x Dir</strong> <code>&lt;AppDir&gt;/Library/Caches/file__0/0000000000000001.db</code></li>\n</ul></li>\n<li>Whenever the sqlite database is accessed by FMDB, the JS code can no longer run transactions against the database it created.</li>\n</ul>\n\n<p>While there are other similar SO questions out there, <strong>I have yet to see one where the DB was to be accessed by both the web and native.</strong> Based upon the research I've done so far, it seems this is a sandboxing issue that only shows up on the device. Here is the code we are using to open the database.\n</p>\n\n<pre><code>NSArray  *libraryPaths = NSSearchPathForDirectoriesInDomains(NSLibraryDirectory,\n                                                             NSUserDomainMask,\n                                                             YES);\nNSString *libraryDir   = [libraryPaths objectAtIndex:0];\nNSString *databasePath = [libraryDir\n                          stringByAppendingPathComponent:@\"WebKit/Databases/file__0/\"];\n\nNSFileManager *fileManager = [NSFileManager defaultManager];\n\nif (![fileManager fileExistsAtPath:databasePath]) {\n    databasePath = [libraryDir\n                    stringByAppendingPathComponent:@\"Caches/file__0/\"];\n}\n\nNSString *databaseFile = [databasePath\n                          stringByAppendingPathComponent:@\"0000000000000001.db\"];\n\nif (!static_fmdb) {\n    static_fmdb = [FMDatabase databaseWithPath:databaseFile];\n    NSAssert(static_fmdb, @\"Unable to open create FMDatabase\");\n}\nif (![static_fmdb open]) {\n    NSLog(@\"Error in %@: Failed to connect to database!\\n\",\n          NSStringFromSelector(_cmd));\n}\n</code></pre>\n\n<p>Note that after this code runs, subsequent calls to the database from the JS side result in the following error:\n    \"unable to open a transaction to the database\"</p>\n"},{"tags":["android","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":12518653,"title":"SQLite error on insert","body":"<p>I am trying to insert values on an android device into an sqlite database.</p>\n\n<p>However sometimes the following error is thrown:</p>\n\n<pre><code>android.database.sqlite.SQLiteException: near \",\": syntax error: , while compiling: INSERT INTO sensor_event (created_at, updated_at, type, x, y, z, time) VALUES (?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?), (?, ?, ?, ?, ?, ?, ?)\n</code></pre>\n\n<p>Unfortunately I have no clue why the query is not going through. Anyone else?</p>\n\n<p>Cheers,</p>\n\n<p>Gordon</p>\n"},{"tags":["ajax","sqlite","phonegap","jquery-mobile"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":67,"score":0,"question_id":12511010,"title":"update database in phonegap","body":"<p>I'm getting the following error:</p>\n\n<blockquote>\n  <p>Uncaught Error: INVALID_STATE_ERR: DOM Exception 11</p>\n</blockquote>\n\n<p>I get this error message when trying to execute a query.</p>\n\n<p>Did anyone ever get the same problem ?</p>\n\n<pre><code>function populateDB(tx) {\n\n    tx.executeSql('DROP TABLE IF EXISTS ORDERS');\n    tx.executeSql('CREATE TABLE IF NOT EXISTS ORDERS (id INTEGER PRIMARY KEY, client_ID, status)');\n\n    var myurl=\"xml.xml\";\n    $.ajax({\n        type: \"POST\", \n        url: myurl, \n        dataType: \"xml\", \n        success: onSuccess\n    }); \n}\n\nfunction onSuccess(xml) {\n\n    $(xml).find('articles').each(function () {\n        var idord = $(this).attr('id');\n\n        var esql ='INSERT INTO ORDERS (id, client_ID, status) VALUES ('+idord+', 4, \"done\" )';\n        var nameclient = $(this).find('name').text();\n        $('.items').append('&lt;h2&gt;'+ nameclient '&lt;/h2&gt;').appendTo('#xml-data'); \n\n        tx.executeSql(esql) ;\n    });  \n}\n</code></pre>\n"},{"tags":["sqlite","windows-8","winrt-xaml"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":111,"score":1,"question_id":12533873,"title":"Are there any good samples for using Sqlite in WinRT / XAML?","body":"<p>So many people expect there to be a database in Windows 8 XAML development. But there is nothing native. There is, however, Sqlite for WinRT. There aren't, however, any excellent examples. Does anyone know of any excellent examples of using Sqlite in WinRT?</p>\n\n<p>Here's the Sqlite download site: <a href=\"http://www.sqlite.org/download.html\" rel=\"nofollow\">http://www.sqlite.org/download.html</a></p>\n\n<p>I see Tim Heuer's article (http://timheuer.com/blog/archive/2012/05/20/using-sqlite-in-metro-style-app.aspx) but it is from June and deals with pre-Release Windows 8. </p>\n\n<p>I see Erik Jensen's article (http://erikej.blogspot.com/2012/08/getting-started-with-sqlite-in-windows.html) it is excellent, but not really step-by-step.</p>\n\n<p>Would be great to see more use of this technology.</p>\n"},{"tags":["python","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":12533119,"title":"Performance of populating new column in sqlite with python","body":"<p>I'm updating an sqlite database to have a new column <code>bin</code> that is filled with the numbers 0 to 100.  I've written a simple script that illustrates some performance issues I'm having:</p>\n\n<pre><code>import sqlite3\n\nconn = sqlite3.connect('partition_dev.db')\ndb_parts = conn.cursor()\n\ni = 0\nfor row in db_parts.execute('''SELECT * from parts''').fetchall():\n    db_parts.execute('''UPDATE parts set bin=? where entry=?''',(i,str(row[0])))\n    conn.commit()\n    i = i+1\n    print i\n    if i&gt;100:\n        i=0\n</code></pre>\n\n<p>This runs an exeedingly long time for a 65K row database.  I'm new to working with sql, so I assume I'm doing something obviously sub-optimal, but I'm not sure what.  How can I increase the performance of this update?</p>\n"},{"tags":["android","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":153,"score":0,"question_id":8438248,"title":"sqlitegen for data access code generation","body":"<p>I am using sqlitegen(http://code.google.com/p/sqlitegen/) plugin in eclipse for android. The documentation for using it is not so good. I have the following issues:</p>\n\n<p>1) Downloaded the required plugins and put it into my Eclipse/Plugins folder and restarted eclipse.</p>\n\n<p>2) I added the downloaded plugins to my project as referenced libraries. </p>\n\n<p>When I build the project, sqlitegen doesn't generate the .java files for sql data access. Am I missing a step here?</p>\n"},{"tags":["java","android","sqlite","foreign-keys"],"answer_count":6,"favorite_count":23,"up_vote_count":21,"down_vote_count":0,"view_count":16770,"score":21,"question_id":2545558,"title":"Foreign key constraints in Android using SQLite? on Delete cascade","body":"<p>I have two tables: tracks and waypoints, a track can have many waypoints, but a waypoint is assigned to only 1 track. </p>\n\n<p>In the way points table I have a column called \"trackidfk\" which inserts the track_ID once a track is made, however I have not setup Foreign Key constraints on this column.</p>\n\n<p>When I delete a track I want to delete the assigned waypoints, is this possible?. I read about using Triggers but I don't think they are supported in Android.</p>\n\n<p>To create the waypoints table:</p>\n\n<pre><code>public void onCreate(SQLiteDatabase db) {\n    db.execSQL(\"CREATE TABLE \" + TABLE_NAME + \" (\" + _ID\n        + \" INTEGER PRIMARY KEY AUTOINCREMENT, \" + LONGITUDE\n        + \" INTEGER,\" + LATITUDE + \"  INTEGER,\" + TIME + \" INTEGER,\"\n        + TRACK_ID_FK + \" INTEGER );\");\n\n    ...\n}\n</code></pre>\n"},{"tags":["mysql","sql","sqlite"],"answer_count":3,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":65,"score":0,"question_id":12529316,"title":"A complex data not sure how to explain it","body":"<p>Hi I have a table called Users and a table called friends, friends table have two data types UserID and FriendID, (foreign key of both data types to primary key of the Users table), </p>\n\n<p>I need to give an ID and find a list of that persons friends'name, I am not sure if I have designed the tables wrongly or I should rewrite the query. </p>\n\n<p>my query is as following, (so far it just shows the details of first matched person)</p>\n\n<pre><code> SELECT Users.Name \n FROM Users \n WHERE Users.ID = SELECT Friends.UserID \n                  FROM Friends,Users \n                  WHERE Users.ID = (Select Users.ID  \n                                    From Users \n                                    WHERE Users.Username = 'John')\n</code></pre>\n"},{"tags":["osx","sqlite","fmdb"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":12529044,"title":"Load sqlite database using FMDB is not working on Mac OS 10.6","body":"<p>I have a big issue now on Mac OS X</p>\n\n<p>I use FMDB to load a sqlite database(For example: database.sqlite) on Mac OS X. On Mac OS X 10.5 and 10.6, it's not working, but it works on Mac OS X 10.7 and 10.8.</p>\n\n<p>Here is my code</p>\n\n<pre><code>FMDatabase *database = [FMDatabase databaseWithPath:[[NSBundle mainBundle]pathForResource:@\"database\" ofType:@\"sqlite\"]];\nif(database != nil)\n{\nBOOL open = [database open];\nNSLog(@\"open : %d\",open);        \n\n}\n\nif([database open])\n{\nNSString* strQuery = @\"select * from moz_bookmarks\";\nFMResultSet *result = [database executeQuery:strQuery];\nBOOL b = [database traceExecution];\nNSLog(@\"%@\", database.logsErrors);\nwhile ([result next])\n{\nNSLog(@\"result : %@\", result);\nNSString *str =[result stringForColumn:@\"id\"];\nNSLog(@\"str %@\",str);\n}\n}   \n</code></pre>\n\n<p>   \n    </p>\n\n<p>Do you have any ideas for this issue?\nThanks</p>\n"},{"tags":["sqlite","windows-8","microsoft-metro","winrt"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":176,"score":1,"question_id":11988720,"title":"How do i make a join in linq using sqlite-net for Metro WinRT apps?","body":"<p>I've seen that if i want to make a linq query using sqlite-net if i do:</p>\n\n<pre><code>var query = conn.Table&lt;TableName1&gt;().Where(x =&gt; x.Field==\"Val1\");\n</code></pre>\n\n<p>i can apply a where to the select; is it possible to do something similar for more than 1 table, applying a join between TableName1 and TableName2 ? If it is possible, which is the right syntax for the linq query?</p>\n"},{"tags":["sqlite","sqlalchemy","fts3"],"answer_count":1,"favorite_count":1,"up_vote_count":6,"down_vote_count":0,"view_count":235,"score":6,"question_id":3919191,"title":"How do I instruct SQLAlchemy to create SQLite FTS3 tables on create_all()?","body":"<p>I would like SQLAlchemy to create an FTS3 table during <code>.create_all()</code>. What special options do I need to add so it knows to <code>CREATE VIRTUAL TABLE ... USING FTS3(tokenizer=...)</code>?</p>\n"},{"tags":["sql","sqlite","sqlite3"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":41,"score":1,"question_id":12527871,"title":"Storing/Quering multiple value in SQLite","body":"<p>I'm trying to store a blooming season in month for each tree in SQLite3. Currently I had the field \"month\" then I store the month name in the field. For example</p>\n\n<pre><code>Tree Name     Month\n\nTree1         Jan,Feb,Mar\nTree2         Nov,Dec,Jan\nTree3         Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec\nTree4         Mar,Apr,Nov,Dec\nTree5         Jan,Feb,Mar,Apr\n</code></pre>\n\n<p>I'm not sure if this is the best way to store it, Any recommendation is appreciate.</p>\n\n<p>Secondly, I need to perform a query where I enter in the month and it should return me the tree name that match the search criteria. For example</p>\n\n<p>If I search for </p>\n\n<pre><code> \"Jan\" \n</code></pre>\n\n<p>the result should be Tree1,Tree2,Tree3,Tree5</p>\n\n<pre><code> \"Jan,Feb,Mar\"\n</code></pre>\n\n<p>the result should be Tree1,Tree3,Tree5</p>\n\n<pre><code> \"Jan,Feb,Mar,Apr\"\n</code></pre>\n\n<p>the result should be Tree5</p>\n\n<pre><code> \"Sep,Oct,Nov,Dec\"\n</code></pre>\n\n<p>the result should be none</p>\n\n<p>Which SQL query do I have to use in order to obtain the above result?</p>\n\n<p>Thanks</p>\n"},{"tags":["android","database","sqlite","onupdate"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":12527246,"title":"update db while updating apk","body":"<p>In my android application i have created the database which contains some data and it is on the app store.Now i need to change the database according to new requirement. when i update the apk file it wont create the new db again because it is already created. </p>\n\n<p>How can i update the database which is already created on users device? How can i call the onUpgread() method of sqlite db? And is there any way to check it on emulator?<br>\nPlease suggest.Thanks in advance.</p>\n\n<pre><code> @Override\npublic void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n    db.execSQL(\"DROP TABLE IF EXISTS \" +TABLE_NAME );\n\n      onCreate(db);\n\n}\n</code></pre>\n"},{"tags":["asp.net","sqlite","database-connection","bltoolkit"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":12521390,"title":"How to connect SqliteDB using BLToolkit on ASP.NET?","body":"<p>Hi i got an error while connection to my sqlitedb.</p>\n\n<p>I create my sqlitedb using Firefox Sqlite Addon.</p>\n\n<p>MyConn : (webconfig)</p>\n\n<pre><code>    &lt;connectionStrings&gt;\n             &lt;add name=\"TARKMANCAS_CONNECTION\" connectionString=\"Data  Source=C:/TARKMANCAS_DB.sqlite;\"/&gt;\n    &lt;/connectionStrings&gt;\n</code></pre>\n\n<p>MyClass:</p>\n\n<pre><code>public TarkBaseDb()\n        : base(\"TARKMANCAS_CONNECTION\")\n    {\n    }\n\n    // start\n    //\n    public Table&lt;TarkBaseSchema.KadroGrubuCls&gt; KadroGrubu { get { return GetTable&lt;TarkBaseSchema.KadroGrubuCls&gt;(); } }\n</code></pre>\n\n<p>TarkBaseSchema:</p>\n\n<pre><code>    [TableName(\"EGITIM_KADROSU_GRUBU_TAB\")]\n    public class KadroGrubuCls\n    {\n        private TarkBaseDb db = new TarkBaseDb();\n\n        #region Contructors\n\n        public KadroGrubuCls()\n        {\n            using (db)\n            {\n                var qry = from x in db.KadroGrubu\n                          select x;\n                foreach (var rec_ in qry)\n                {\n                    KadroGrubuId = rec_.KadroGrubuId;\n                    KadroGrubu = rec_.KadroGrubu;\n                }\n            }\n        }\n        #endregion\n\n        #region Data Items\n        [MapField(\"KADRO_GRUBU_ID\")]\n        [PrimaryKey, NotNull]\n        public int KadroGrubuId { get; set; }\n        [MapField(\"KADRO_GRUBU\")]\n        public string KadroGrubu { get; set; }\n\n        #endregion\n\n        #region Relations\n        #endregion\n\n        #region Public Methods\n\n        public KadroGrubuCls Get()\n        {\n            return (new KadroGrubuCls());\n        }\n\n        #endregion\n\n    }\n</code></pre>\n\n<p>And try a call:</p>\n\n<pre><code>TarkBaseSchema.KadroGrubuCls _tarkKadro = _tarkKadro.Get();\n</code></pre>\n\n<p>I got error :</p>\n\n<pre><code>  A network-related or instance-specific error occurred while establishing a connection to \nSQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. \n(provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)\n</code></pre>\n"},{"tags":["iphone","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":10758368,"title":"Data not getting inserted into the database on second and third transactions SQLITE IPHONE","body":"<p>Hello Great Programmers. I have run out into a strange problem in my application.. My application is designed to be at user level... Once a user gets into the app, adds the products, deletes if required and updates if any and then sign out... All is working fine but only when the user signs in for the first time...</p>\n\n<p>Mean to say if the user signs in and signs out and then again signs in and tries to add/delete/modify the products the changes are not taking place in the database.. Am really at a fix.. I tried to debug it and am really not finding why its happening so!! Please help me out friends.. </p>\n\n<p>Eager for Replies.. Thanks</p>\n"},{"tags":["javascript","android","sqlite","phonegap"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1218,"score":1,"question_id":6271985,"title":"openDatabase creates error in Android PhoneGap application","body":"<p>I built a basic phone app using HTML5 and JavaScript (including JQTouch), and then used PhoneGap to turn it into an Android app (after many traumas - seems that PhoneGap and Windows computers don't get along too well). </p>\n\n<p>The app works well in Chrome, but on an Android emulator the following error shows up in LogCat:</p>\n\n<pre><code>06-07 21:38:51.711: DEBUG/WebCore(204): Console: ReferenceError: Can't find variable: openDatabase line: 9 source: file:///android_asset/www/handicap.js\n</code></pre>\n\n<p>This refers to the following line in handicap.js:</p>\n\n<pre><code>db = openDatabase('Handicaps', '1.0', 'Handicaps', 65536);\n</code></pre>\n\n<p>The wider context of this piece of code is:</p>\n\n<pre><code>// initialise all important functions\n$(document).ready(function(){\n$('#newrace form').submit(saveRace);\n$('#newrace form').submit(setTitle);\n$('#enterhandicaps form').submit(savePrediction);\n$('#enterhandicaps form').submit(refreshEntries);\n$('#calcraces').click(raceList);\n// create database to hold data on predicted and actual times\ndb = openDatabase('Handicaps', '1.0', 'Handicaps', 65536);\ndb.transaction(\n    function(transaction) {\n        transaction.executeSql(\n            'CREATE TABLE IF NOT EXISTS predictions (id INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,racename TEXT NOT NULL, runner TEXT NOT NULL, prediction INTEGER, start TEXT, finish TEXT, position TEXT);'\n        );\n        transaction.executeSql(\n            'CREATE TABLE IF NOT EXISTS races (id INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,racename TEXT NOT NULL, date TEXT, distance REAL);'\n        );\n        transaction.executeSql(\n            'CREATE TABLE IF NOT EXISTS autocompletion (id INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,runner TEXT NOT NULL, value TEXT,racename TEXT NOT NULL);'\n        );\n    }\n);\n}\n);\n</code></pre>\n\n<p>On looking at other people having similar problems on stackoverflow, I've tried the suggestion of using only Android versions below 2.2 but that has not helped. Any other suggestions? \nCould be something very obvious that I've missed, as I'm completely new to this. \nThe complete code for the app in web browser form is at <a href=\"https://github.com/fhr/Handicap-timer-app\" rel=\"nofollow\">https://github.com/fhr/Handicap-timer-app</a> if that helps. </p>\n"},{"tags":["android","sqlite"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":54,"score":1,"question_id":12424384,"title":"Check for the existence of database in Android","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/4645961/how-to-check-existing-database-before-creating-new-database-on-Android-2-2\">How to check existing database before creating new database on Android 2.2?</a>  </p>\n</blockquote>\n\n\n\n<p>I have an app which check the existence of database in the start up. If not exits create a new one and if there then access the database. Can you please tell me how to check the existence of db(SQlite)?</p>\n"},{"tags":["iphone","ipad","sqlite","xcode4"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":70,"score":0,"question_id":7151232,"title":"how to create category with SQLITE in iphone","body":"<p>i have a sqlite database like this :</p>\n\n<p>table1:</p>\n\n<pre><code>categoryID     name   description\n    1            a         dog\n    1            b          cat\n    2            c          elephant\n    2            d        bird\n</code></pre>\n\n<p>table2:</p>\n\n<pre><code>categoryID      categoryName\n    1               ex1\n    2                ex2\n    3               ex4\n</code></pre>\n\n<p>how to want to create category in first view with categoryID and categoryName ?</p>\n"},{"tags":["sql","sqlite","graph","unique","distinct"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1303,"score":0,"question_id":4651936,"title":"SQL -- Remove duplicate pairs","body":"<p>I'm using an SQLite to store a set of <strong>undirected</strong> edges of a graph using two columns, u and v. For example:</p>\n\n<p>u       v</p>\n\n<p>1       2</p>\n\n<p>3       2</p>\n\n<p>2       1</p>\n\n<p>3       4</p>\n\n<p>I have already been through it with SELECT DISTINCT * FROM edges and removed all duplicate rows.</p>\n\n<p>However, there are still duplicates if we remember these are undirected edges. In the above example, the edge (1,2) appears twice, once as (1,2) and once as (2,1) which are both equivalent.</p>\n\n<p>I wish to remove all such duplicates leaving only one of them, either (1,2) or (2,1) -- it doesn't really matter which.</p>\n\n<p>Any ideas how to achieve this? Thanks!</p>\n"},{"tags":["android","sqlite","android-sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":12518520,"title":"Android Sqlite query about sorting","body":"<p>my query for sorting employee based on dept is this</p>\n\n<pre><code>public Cursor fetchDept(String dept)throws SQLException\n{\nCursor c=mDb.query(DATABASE_TABLE, new String[] {KEY_NAME,KEY_DESGN,KEY_PHONE}, KEY_DEPT + \"=\" ,new String[]{dept}, null, null, null, KEY_DEPT);\nif (c!= null) {\n    c.moveToFirst();\n}\nreturn c;\n</code></pre>\n\n<p>}</p>\n\n<p>i have passed value from activity class to this query like this</p>\n\n<pre><code>   {\n        db.open();\n        Cursor c=db.fetchDept(dept);\n\n        if (c!= null) {\n            c.moveToFirst();\n            do\n            {\n            if(dept.equals(c.getString(3)))\n            {\n\n        Toast.makeText(this,\"found\",Toast.LENGTH_LONG).show();\n        return;\n            }\n            //c.getString(1) +c.getString(2)+ c.getString(4)\n            else\n            {\n                Toast.makeText(this,\"No dept\",Toast.LENGTH_LONG).show();\n                return ;\n            }\n            }while(c.moveToNext());\n        }\n</code></pre>\n\n<p>when running this application gets force close. if any one can help pls do help!\nis the passing argument and calling db.query is correct in the above??</p>\n"},{"tags":["jquery","json","sqlite","import"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":12519244,"title":"Why I receive Uncaught TypeError when I try to import Json to SQLite?","body":"<p>Hi I use the below code in order to read a text file and import its contents in a local SQLite.</p>\n\n<pre><code>function billtxt()\n{\n    var billjson = '{\"posts\" : [', \n        i, \n        line = 0,\n        bill = 0,\n        Amountint,\n        Amountdec;\n\n        jQuery.ajaxSetup({\n                'beforeSend' : function(xhr) {\n                     xhr.overrideMimeType('text/plain; charset=iso-8859-7');\n                },\n        });\n\n        jQuery.get('Bill.txt',function(data){\n            var mybill = [];\n            alert(data.length);\n            line=0;\n            for (i = 1; i &lt;= ((data.length)/156); i += 1) {\n                billjson += '{\"Id\" :' + '\"' + data.substr((line+0), 10).trim() + '\"'  + ',';\n                billjson += '\"Code\" :' + '\"' + data.substr((line+10), 5).trim() + '\"'  +  ',';\n                billjson += '\"Address\" :' + '\"' + data.substr((line+14), 40).trim() + '\"'  +  ',';\n                billjson += '\"Name\" : ' + '\"'  + data.substr((line+54), 50).trim() + '\"'  +  ',';\n                billjson += '\"Description\" : ' + '\"'  + data.substr((line+104), 8).trim() + '\"'  +  ',';\n                billjson += '\"EntrySeason\" : ' + '\"'  + data.substr((line+112), 23).trim() + '\"'  +  ',';\n                billjson += '\"Period\" : ' + '\"'  + data.substr((line+112), 23).trim() + '\"'  +  ',';\n                Amountint = data.substr((line+146), 7).trim();\n                Amountdec = data.substr((line+153), 2).trim();\n                billjson += '\"Revenue\" : ' + '\"'  + Amountint + '.' + Amountdec + '\"'  +  '}';\n                line = i * 156;\n                if (line == data.length)\n                {\n                    billjson += ']';\n                }\n                else \n                {\n                    billjson += ',';\n                }\n            }\n\n            if (line == 0)\n            {\n                billjson += ']';\n            }\n\n\n            billjson += \"}\";\n\n            alert(billjson);\n            var mybilljson = jQuery.parseJSON( billjson );\n            alert(mybilljson.posts.length);\n        for (i = 0; i &lt; (mybilljson.posts.length); i += 1) {\n\n            $.mobile.notesdb.transaction((function(i) {\n                return function(t){\nconsole.log(mybilljson.posts[i].Name);\n                    t.executeSql('INSERT into bill (barcode, buildingcode, buildingaddress, flatname, flatdescription, entryseason, period, amount) VALUES (?,?,?,?,?,?,?,?);',\n                        [mybilljson.posts[i].Id, mybilljson.posts[i].Code, mybilljson.posts[i].Address, mybilljson.posts[i].Name, mybilljson.posts[i].Description, mybilljson.posts[i].EntrySeason, mybilljson.posts[i].Period, mybilljson.posts[i].Revenue]\n                            );\n                }\n            })(i));\n\n    }\n});\n}\n</code></pre>\n\n<p>but i reaceive the below error</p>\n\n<pre><code>Uncaught TypeError: Cannot read property 'Id' of undefined \n</code></pre>\n\n<p>at the below line</p>\n\n<pre><code>[mybilljson.posts[i].Id, mybilljson.posts[i].Code, mybilljson.posts[i].Address, mybilljson.posts[i].Name, mybilljson.posts[i].Description, mybilljson.posts[i].EntrySeason, mybilljson.posts[i].Period, mybilljson.posts[i].Revenue]\n</code></pre>\n\n<p>where am I wrong?</p>\n"},{"tags":["android","sqlite","sql-order-by","coalesce"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":12519985,"title":"SQLite Ordering rules","body":"<p>I have a SQLite database in android with some tables, one of them is this:</p>\n\n<pre><code>trainings (date TEXT, exercise TEXT, repetitions INTEGER, weight REAL)\n</code></pre>\n\n<p>and it has two indexes in weight and repetitions  both are ASC.</p>\n\n<p>This is the thing, In a select statement with order by repetitions I got something like this:</p>\n\n<pre><code>Select * from trainings WHERE exercise='\"+exercise+\"' AND repetitions != '-' AND repetitions != 0 ORDER BY COALESCE( weight, date);\n\n0\n0\n0\n12\n13\n25\n-\n-\n</code></pre>\n\n<p>I want to know if it's possible to put the '-' results at the beggining rather than at the end, because in my app, I treat 0 and '-' as the same thing and I have to get ordering getting this two datas together.</p>\n\n<p>Any suggestions? Thanks in advance</p>\n"},{"tags":["perl","sqlite","sqlite3"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":510,"score":2,"question_id":6652882,"title":"Limits of multithreaded INSERTS in sqlite","body":"<p>my perl script is multi threaded and in each thread i have to write something to a sqlite3 database. But as you might guess, i get a lot of </p>\n\n<blockquote>\n  <p>DBD::SQLite::db do failed: database is locked at script.pl line 264.</p>\n</blockquote>\n\n<p>messages. I read that sqlite3 is able to handle multi threaded situations, even INSERT statements but i think i expect to much when inserting fro 8 threads at the same time.</p>\n\n<p>ok, so its not possible this way but isn't there a possibility to perform a check before inserting to see if the database is locked (or busy) and then wait until is free again?</p>\n\n<p>I really don't want to change to a \"real\" DBMS cause its only a simple script.</p>\n\n<p>Thank you</p>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":6,"down_vote_count":0,"view_count":69,"score":6,"question_id":12511612,"title":"SQLite usage from activity and service","body":"<p>I have created a databaseprovider class which uses single instance of db object. Object is created in main activity and closed onDestroy method. This seems ok (but get some errors such as: db already closed or db is not open on some users devices that I cannot simulate). </p>\n\n<p>I want to add a service to the application for the content download and this service can run with  scheduler which make me think about single instance of db object will not work. Should I use another object for the service, will it result consistency problems? Can you kindly advice what would be the best way?</p>\n\n<h2>Databaseprovider class exm:</h2>\n\n<pre><code>public class DatabaseProvider {\nprivate static DatabaseHelper helperWriter;\npublic static SQLiteDatabase db_global;\npublic DatabaseProvider(Context c) {\n    helperWriter = DatabaseHelper.getHelper(c, true);\n}\n\nprivate static SQLiteDatabase getDB() {     \n\n    if(db_global == null)           \n        db_global = helperWriter.getWritableDatabase();\n    else if(!db_global.isOpen()) {\n        try {\n            db_global.close();\n        }\n        catch(Exception ex) {\n            ex.printStackTrace();\n        }\n        db_global = helperWriter.getWritableDatabase();\n    }\n\n    return db_global;\n}\n\npublic String GetVersion() {\n    SQLiteDatabase db = getDB();\n    Cursor c = db.query(DatabaseHelper.PARAMETER_TABLE_NAME, new String[] {\"VALUE\"}, \"KEY='Version'\", null, null,null,null);\n    String version = \"\";\n    if(c.moveToNext())\n    {\n        version = c.getString(0);           \n    }\n    else\n        version = \"0\";\n    c.close();\n\n    return version;\n}\n\npublic long UpdateVersion(String value) {\n    ContentValues initialValues = new ContentValues();\n    initialValues.put(DatabaseHelper.PARAMETER_COLUMN_VALUE, value);\n    SQLiteDatabase db = getDB();   \n    long r = db.update(DatabaseHelper.PARAMETER_TABLE_NAME, initialValues, \"KEY='Version'\", null);\n    if(r &lt;= 0)\n        r = helperWriter.AddParameter(db, \"Version\", value);\n    //db.close();   \n    return r;\n}   \n\npublic void CloseDB() {\n    if (db_global != null)\n        db_global.close();\n    db_global = null;\n    helperWriter.close();\n}\n }\n</code></pre>\n\n<hr>\n"},{"tags":["database","django","sqlite","database-design","document-oriented-db"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":53,"score":2,"question_id":12518417,"title":"Is there a more efficient way of querying HTML data than in an SQlite database?","body":"<p>Maybe my question will be closed because it is not \"constructive\" enough but anyway... I've already searched for answers but most of them are too general. For my master thesis project I have to crawl lots of (i.e. several thousands) webpages and entirely store them in a database. This is necessary because I have to analyze them in different ways, try out several machine learning algorithms and parse them in different ways. At the moment, I'm using an SQlite database for this purpose, in combination with Django as the preferred web framework.</p>\n\n<p>I've put the entire HTML data of a single webpage into a Django <code>TextField</code>, i.e. for each webpage there is a separate row in the database table and all the webpage's content is stored in a single column of the table. The problem now is that querying and sorting the data and especially iterating over it is very slow. I've crawled around 1000 webpages so far and the database file already is over 2 GB in size. Furthermore, my 4 GB of RAM are filled entirely and my computer (Macbook Pro mid-2009, Core2Duo 2.26 Ghz, 500 GB HDD, OSX 10.8) becomes unresponsive. If I restrict the number of items to be pre-cached, then processing the data becomes even slower because the number of queries increases. Since I have to crawl even more data, my current setup doesn't scale well enough.</p>\n\n<p><strong>My question now is the following:</strong>\nHow can I store my HTML data more efficiently such that querying the data can be done faster? Does it make sense to switch to another RDBMS such as MySQL or PostgreSQL? Or would you recommend a document-oriented database system such as MongoDB? I only have experience with SQlite so far, so I have no idea really what to use. As the deadline for my master thesis is coming nearer, I don't have the time to try out lots of different setups.</p>\n\n<p>In order to help you in helping me, here are some further requirements:</p>\n\n<ul>\n<li>more performance in querying large HTML data compared to SQlite while not eating up all memory of my computer (workload cannot be distributed to other computers)</li>\n<li>more or less good integration with Django</li>\n<li>this is research work only so it will never run in a production environment but only on my computer (maybe also on my Professor's one)</li>\n</ul>\n\n<p>It would be great if you helped me in deciding which direction I should take because I feel somehow lost with this huge amount of possibilities. Thank you very much in advance! :)</p>\n"},{"tags":["jquery","ajax","sqlite","get"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":12518712,"title":"how to import ajax get result to SQLite with jquery","body":"<p>I develop a mobile app and I want to import the contents of a text file inside SQLite db.</p>\n\n<p>I use the below code in order to read text file</p>\n\n<pre><code>function billtxt()\n{\n    var billjson = '{\"posts\" : [', \n        i, \n        line = 0,\n        bill = 0,\n        Amountint,\n        Amountdec;\n\n        jQuery.ajaxSetup({\n                'beforeSend' : function(xhr) {\n                     xhr.overrideMimeType('text/plain; charset=iso-8859-7');\n                },\n        });\n\n        jQuery.get('Bill.txt',function(data){\n            alert(data.length);\n            line=0;\n\n            for (i = 1; i &lt;= ((data.length)/156); i += 1) {\n                billjson += '{\"Id\" :' + '\"' + data.substr((line+0), 10).trim() + '\"'  + ',';\n                billjson += '\"Code\" :' + '\"' + data.substr((line+10), 5).trim() + '\"'  +  ',';\n                billjson += '\"Address\" :' + '\"' + data.substr((line+14), 40).trim() + '\"'  +  ',';\n                billjson += '\"Name\" : ' + '\"'  + data.substr((line+54), 50).trim() + '\"'  +  ',';\n                billjson += '\"Description\" : ' + '\"'  + data.substr((line+104), 8).trim() + '\"'  +  ',';\n                billjson += '\"EntrySeason\" : ' + '\"'  + data.substr((line+112), 23).trim() + '\"'  +  ',';\n                billjson += '\"Period\" : ' + '\"'  + data.substr((line+135), 11).trim() + '\"'  +  ',';\n                Amountint = data.substr((line+146), 7).trim();\n                Amountdec = data.substr((line+153), 2).trim();\n                billjson += '\"Revenue\" : ' + '\"'  + Amountint + '.' + Amountdec + '\"'  +  '}';\n                line = i * 156;\n                if (line == data.length)\n                {\n                    billjson += ']';\n                }\n                else \n                {\n                    billjson += ',';\n                }\n            }\n\n            if (line == 0)\n            {\n                billjson += ']';\n            }\n\n\n            billjson += \"}\";\n            var mybilljson = jQuery.parseJSON( billjson );\n        });\n}\n</code></pre>\n\n<p>I convert the reading to JSON but i thing that this is not the appropriate solution... </p>\n\n<p>What have to do for import the reading to SQLite?</p>\n"},{"tags":["jquery","json","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":99,"score":0,"question_id":12517681,"title":"How to import JSON into SQLite with jquery","body":"<p>I have develop an app in HTML5 and JS (phonegap) and now I have to import a JSON into the local SQLite.\nI have the below code in order to import from external server</p>\n\n<pre><code>        $.ajax({\n        url: 'path_to_my_file',\n        data: {name: 'Chad'},\n        dataType: 'jsonp',\n        success: function(data){\n                var count = data.posts.length;\n                $.each(data.posts, function(i,post){\n                    notesdb.transaction(function(t) {\n                    t.executeSql('INSERT into bill (barcode, buildingcode, buildingaddress, flatname, flatdescription, entryseason, period, amount, pastpayments, todaypayments, receiptno) VALUES (?,?,?,?,?,?,?,?,?,?,?);',\n                        [post.Id, post.Code, post.Address, post.Name, post.Description, post.EntrySeason, post.Period, post.Revenue, post.PastPayments, post.todaypayments, post.receiptno],\n                        function(){ \n                            bill = bill + 1;\n                            $('#mycontent article').html(bill + '/' + data.posts.length + ' &lt;strong&gt;bill&lt;/strong&gt;');\n\n                            if (--count == 0) {\n                                $('#mycontent article').html('&lt;strong&gt;bill - &lt;font color=green&gt;OK&lt;/font&gt;&lt;/strong&gt;');\n                            }\n                        }\n                    );\n                    });\n                });\n            }\n    });\n</code></pre>\n\n<p>How should I convert the code if I have to import a local json var for example</p>\n\n<pre><code>var mybilljson = jQuery.parseJSON( billjson );\n</code></pre>\n\n<p>into the same SQLite?</p>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":12517695,"title":"Search multiple columns in Android SQLite search","body":"<p>I have a cars sqlite database with one table that has 3 columns: year, make and model. With the below query, I can search on a single phrase like \"ford\" and it will display all ford results, or \"1964\" and I'll get all cars from that year. But \"1964 ford\" returns \"no results found\" - or null. How can the query be modified so that I can enter search terms from all 3 columns like \"1964 ford mustang\"? Yes, I know there's no such thing as a 1964 ford mustang, it's 1964 and a half. But there is a row for a 1964 ford mustang in my DB, so let's use \"1966 ford mustang\" as the example.</p>\n\n<pre><code>    public Cursor searchDB(String query) {  \n    return db.query(true, DB_TABLE, new String[] { KEY_ROWID, KEY_YEAR, KEY_MAKE, \n    KEY_MODEL }, KEY_YEAR + \" LIKE\" + \"'%\" + query + \"%' OR \" + KEY_MAKE +  \n    \" LIKE\" + \"'%\" + query + \"%' OR \" + KEY_MODEL + \" LIKE\" + \"'%\" + query + \"%'\",  \n    null, null, null, null, null);  \n}\n</code></pre>\n\n<p>I've tried using AND in place of + but that crashes. I'm using android 2.2.</p>\n"},{"tags":["xcode","sqlite","uitableview","sql-update","uiswipegesturerecognizer"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":65,"score":0,"question_id":12512150,"title":"Update sqlite 3 field value on swipe gesture delete in Xcode","body":"<p>Hy all,\nI have an application that loads data from an sqlite database into a table view.\nFields that shows up in this view are entries having a field set in the sqlite database to a value = YES. So when the application loads, it will automatically checks the database and loads all the fields having the value : Fav = YES. That's why, i need when i swipe to delete, the entry disappears, but in addition i need it to change the value of the field in the appropriate database and set it to Fav = NO. Here is my code snippet and hope someone could help me out!<br>\nFavReal is the class name</p>\n\n<pre><code>- (BOOL)tableView:(UITableView *)tableView canEditRowAtIndexPath:(NSIndexPath *)indexPath {\n    return YES;\n}\n- (void)tableView:(UITableView *)tableView commitEditingStyle:(UITableViewCellEditingStyle)editingStyle forRowAtIndexPath:(NSIndexPath *)indexPath {\n    if(editingStyle == UITableViewCellEditingStyleDelete)\n    {\n\n        @try {\n\n        sqlite3_stmt *compiled_statement10;\n\n        if(sqlite3_open([PathDB UTF8String], &amp;db2) == SQLITE_OK) {\n\n            FavReal *SelectedFav;\n\n            //remove the deleted object from your data source.\n            //If you're data source is an NSMutableArray, do this\n            NSString *formatedSql2 = [NSString stringWithFormat:@\"UPDATE Sheet1 SET Fav = 'NO' WHERE field3 = '%@'\" , SelectedFav.description ];\n            const char *sql = [formatedSql2 UTF8String];\n            int success2 = sqlite3_step(compiled_statement10);\n\n            // sqlite3_reset(compiled_statement1);\n            if (success2 != SQLITE_ERROR) {\n                NSLog(@\"Successfully deleted\");\n                sqlite3_last_insert_rowid(db2);\n            }\n\n\n\n            if (sqlite3_prepare_v2(db2, sql, -1, &amp;compiled_statement10, NULL) != SQLITE_OK) {\n                NSLog(@\"!!!!!!!!!!!!!!!!!!!ERRRRROOOOOOORRRRRRRRR!!!!!!!!!!!!!!!!!!!!!!!!!\");\n                //NSAssert1(0, @\"Error: failed to prepare statement with message '%s'.\", sqlite3_errmsg(database));\n            }\n            int success = sqlite3_step(compiled_statement10);\n\n            // sqlite3_reset(compiled_statement1);\n            if (success != SQLITE_ERROR) {\n                NSLog(@\"Successfully deleted the Favorite item named : %@\",SelectedFav.description);\n                sqlite3_last_insert_rowid(db2);\n\n            }\n\n\n\n            [self.theFav removeObjectAtIndex:indexPath.row];\n            [self.tableView deleteRowsAtIndexPaths:[NSArray arrayWithObject:indexPath] withRowAnimation:UITableViewRowAnimationFade];\n\n        }}\n\n\n\n    @catch (NSException *exception) {\n\n        NSLog(@\"Problem with prepare statement:  %@\", sqlite3_errmsg(db2));\n\n    }\n    @finally {\n        //   sqlite3_finalize(sqlStatement);\n        sqlite3_close(db2);\n\n        return theFav;\n    }\n}\n}\n</code></pre>\n\n<p>Note that this code DID NOT get me where i'm going.</p>\n"},{"tags":["android","sqlite","search","widget","android-actionbar"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":12513884,"title":"How to implement search widget to ActionBar","body":"<p>I want to implement the search widget from the <a href=\"http://developer.android.com/guide/topics/ui/actionbar.html#ActionView\" rel=\"nofollow\">Android Developers</a> (Adding an Action View) to the ActionBar my app.</p>\n\n<p>I already added the search icon and the widget but the logic is still missing. </p>\n\n<p>At the moment I am using a EditText for searching in my SQLite database like this:</p>\n\n<pre><code>private void displayListView() {\n    Cursor cursor = dbHelper.fetchAllProjects();\n        .  \n        .\n        .\n    EditText myFilter = (EditText) findViewById(R.id.myFilter);\n    myFilter.addTextChangedListener(new TextWatcher() {\n\n    public void afterTextChanged(Editable s) {\n    }\n\n    public void beforeTextChanged(CharSequence s, int start, \n        int count, int after) {\n    }\n\n    public void onTextChanged(CharSequence s, int start, \n        int before, int count) {\n        dataAdapter.getFilter().filter(s.toString());\n    }\n    });\n\n    dataAdapter.setFilterQueryProvider(new FilterQueryProvider() {\n    public Cursor runQuery(CharSequence constraint) {\n        return dbHelper.fetchProjectsByName(constraint.toString());\n    }\n    });\n</code></pre>\n\n<p>How can I add this logic to the search widget in the actionbar? </p>\n"},{"tags":["java","android","sql","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":39,"score":1,"question_id":12510959,"title":"sql or sqlite query and getting result in a list","body":"<p>I am new to sql and In my app I am using sqlite DB's and I have trouble in creating a query.</p>\n\n<p>I have a DB with column names to be:</p>\n\n<pre><code>Name1  Name2  Score1  Score2 Winner  Aces1  Aces2\n</code></pre>\n\n<p>Imagine that thse are the stats of a single game, so the same name can be in name 1 or in name 2 in different rows.</p>\n\n<p>I want the following:</p>\n\n<p>a)\nReturn in a list the player names with a descending number of aces.</p>\n\n<p>For example imagine these rows:</p>\n\n<pre><code>Nick George 39  35  Nick  2   4\nJoe  Nick   17  39  Nick  1   0\nGeorge Jorge  11  39  Jorge  3  1 \n</code></pre>\n\n<p>Should give me in a list the following:\n//number or aces</p>\n\n<pre><code>George 7\nNick 2\nJoe 1\nJorge 1\n</code></pre>\n\n<p>b)I want the same with number of wins.</p>\n\n<p>c)and the same avg points.</p>\n\n<p>Can you please give me the query?</p>\n"},{"tags":["objective-c","ios","sqlite","icloud"],"answer_count":0,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":132,"score":3,"question_id":12507411,"title":"iCloud sync with app using sqlite database - IOS","body":"<p>I am building universal app.In my app I am using sq-lite database.I want to sync my local data with iCloud so any other user who install app in iPhone can sync the data to his phone/Ipad.</p>\n\n<p>I did search related to this on many places where I found iCloud sync with code-data but I am using sq-lite.</p>\n\n<p>Is their any way to perform this action.</p>\n\n<p>Thanks in Advance.</p>\n"},{"tags":["android","database","sqlite","upgrade"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":12512100,"title":"Android dealing with database versions regarding updates","body":"<p>Is there any documentation on how to best deal with database upgrades in android?</p>\n\n<p>I am developing an application and have been testing it on my own telephone. All works fine, over the past few deploys I had to add some columns to my table and due to upgrade statements that are executed if the old database version is lesser then a certain database version.</p>\n\n<p>However when I try to run the application on another phone, that gives errors due to the fact that there is no previous version and thus the column isn't added.</p>\n\n<p>Is there any best practice or documentation on how to handle database upgrading and versioning? I tried googling around for specific questions, but much good didn't come out of that.</p>\n\n<p>Here's the relevant code I am using at the moment:</p>\n\n<pre><code>private static final int DATABASE_VERSION = 11;\n\nprivate static class LocalLoginDatabaseHelper extends SQLiteOpenHelper {\n    LocalLoginDatabaseHelper(Context context) {\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\n    }\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        Log.d(TAG,DATABASE_CREATE);\n        db.execSQL(DATABASE_CREATE);\n    }\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n        if(oldVersion &lt; 11) {\n            Log.d(TAG + \"Upgrade\",DATABASE_ALTER);\n            db.execSQL(DATABASE_ALTER);\n        }\n    }\n}\n</code></pre>\n\n<p>Thanks</p>\n"},{"tags":["android","database","sqlite"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":809,"score":-1,"question_id":9811283,"title":"I'm trying to insert data with contentValues to my sqlite database with android","body":"<pre><code>public long insertNewUserData(String name, String address, String email, String password){\n        ContentValues initialValuesOfUserTable = new ContentValues();\n        initialValuesOfUserTable.put(\"Name\",name);\n        initialValuesOfUserTable.put(\"Address\",address);\n        initialValuesOfUserTable.put(\"email\",email);\n        initialValuesOfUserTable.put(\"Password\",password);\n        return myDataBase.insert(\"User\", null, initialValuesOfUserTable);\n\n    }\n</code></pre>\n\n<p>My problem is cant insert data to my sqlite database. It is connected and can get data but cant insert.</p>\n"},{"tags":["wpf","sqlite","sql-server-ce","blob"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":53,"score":1,"question_id":12510521,"title":"WPF app: Is it better to save images on DB or file system?","body":"<p>I have to build a WPF single user application that needs to handle images (about 200-500 kb.) for every record (>10000 records).</p>\n\n<p>Do i better use a blob field in the DB or is it better to save imgs in the file system?</p>\n\n<p>I'm trying to understand whether using Sqlite or SqlCE for database engine, but i've read about limitations and performance problems for both engines, so i think to save images in the file system even if it would be nicer to backup only the DB file to save everything. Is it a good choice?</p>\n"},{"tags":["sqlite","fulltext","fts3"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":12507649,"title":"SQLite fulltext virtual table normally usable?","body":"<p>Even after reading a lot about the fulltext index of SQLite and a question arises that I didn't see answered anywhere:</p>\n\n<p>I already have a table that I want to search with the fulltext index. I would just create an extra virtual table <code>USING FTS3</code> or <code>USING FTS4</code> and then <code>INSERT</code> my data into it.</p>\n\n<p>Does that then use the double storage in total? Can I use such a virtual table just like a normal table and thus preventing storing the data twice?</p>\n\n<p>(I am working with SQLite on Android but this question may apply to usage on any SQLite compatible platform.)</p>\n"},{"tags":["java","android","sqlite"],"answer_count":2,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":702,"score":4,"question_id":8305977,"title":"Android - Sqlite Database file is not deleted automatically while uninstalling an App?","body":"<p>While installing my Application into the Android device, the Database file is storing in the SD card root folder. But it should be placed in the path <code>&lt;SD Card_Root&gt;\\&lt;Project_Name&gt;\\&lt;dbfile&gt;</code>. After, uninstalling an App from the device the database file including with the project folder should also be deleted. So, Please help me to solve the two Problems as mentioned below:</p>\n\n<p><strong>1. After installation of apk file into the device, the database file should be placed in the path <code>&lt;SD Card_Root&gt;\\&lt;Project_Name&gt;\\&lt;dbfile&gt;</code>.\n2. After uninstallation of apk file, the database file including with the root folder should be deleted automatically.</strong></p>\n\n<p>Please help me with your ideas/links. Thanks in Advance.  </p>\n\n<p>Here is my code:</p>\n\n<pre><code>    import java.io.BufferedInputStream;\n    import java.io.ByteArrayOutputStream;\n    import java.io.File;\n    import java.io.FileOutputStream;\n    import java.io.IOException;\n    import java.io.InputStream;\n    import java.io.OutputStream;\n    import java.util.zip.ZipEntry;\n    import java.util.zip.ZipInputStream;\n\n    import android.os.Environment;\n\n    import android.content.Context;\n    import android.database.Cursor;\n    import android.database.SQLException;\n    import android.database.sqlite.SQLiteDatabase;\n    import android.database.sqlite.SQLiteException;\n    import android.database.sqlite.SQLiteOpenHelper;\n\n    public class DataBaseHelper extends SQLiteOpenHelper{\n private static String DB_PATH = Environment.getExternalStorageDirectory().getAbsolutePath() ;\n private static String DB_NAME = \"Database.db\";\n private SQLiteDatabase myDataBase; \n private final Context myContext;  \n\n\n\npublic DataBaseHelper(Context context) {         \n    super(context, DB_NAME, null, 2);\n    this.myContext = context;\n    }   \n public void createDataBase() throws IOException \n {\n    // boolean dbExist = checkDataBase();        \n     DB_PATH = Environment.getExternalStorageDirectory().getAbsolutePath();\n     if (Environment.getExternalStorageState().equals(Environment.MEDIA_MOUNTED)) \n     {\n         File db = new File(DB_PATH, DB_NAME);\n         if(!db.exists())\n         {\n             db.createNewFile();\n             try { \n                  copyFromZipFile(); \n              } catch (IOException e) { \n              throw new Error(\"Error copying database\",e); \n              }\n         }\n\n\n        }        \n }\n\n private void copyFromZipFile() throws IOException{ \n     InputStream is = myContext.getResources().openRawResource(R.raw.database); \n         // Path to the just created empty db \n         File outFile = new File(DB_PATH ,DB_NAME); \n          //Open the empty db as the output stream \n         OutputStream myOutput = new FileOutputStream(outFile.getAbsolutePath()); \n         ZipInputStream zis = new ZipInputStream(new BufferedInputStream(is)); \n          try { \n              ZipEntry ze =  null; \n              while ((ze = zis.getNextEntry()) != null) { \n                  ByteArrayOutputStream baos = new ByteArrayOutputStream(); \n                  byte[] buffer = new byte[24 * 1024]; \n                  int count; \n                  while ((count = zis.read(buffer)) != -1) { \n                      baos.write(buffer, 0, count); \n                      //Log.d(\"\", buffer.toString()); \n                      baos.writeTo(myOutput); \n                      baos.reset();\n                  } \n                  baos.writeTo(myOutput); \n\n\n              } \n          } \n          catch (IOException e) {}\n              zis.close(); \n              myOutput.flush(); \n              myOutput.close(); \n              is.close(); \n\n\n          /*finally { \n              zis.close(); \n              myOutput.flush(); \n              myOutput.close(); \n              is.close(); \n          } */\n        }\n\n\n private boolean checkDataBase(){        \n        SQLiteDatabase checkDB = null;   \n        try{\n            String myPath = DB_PATH +\"\"+ \"/\" + DB_NAME;\n            checkDB = SQLiteDatabase.openDatabase(myPath, null, SQLiteDatabase.OPEN_READONLY);   \n        }catch(SQLiteException e){\n\n            //database does't exist yet.\n\n        }    \n        if(checkDB != null){     \n            checkDB.close();     \n        }    \n        return checkDB != null ? true : false;\n    } \n public void openDataBase() throws SQLException{\n\n        //Open the database\n        String myPath = DB_PATH + \"/\" + DB_NAME;\n        myDataBase = SQLiteDatabase.openDatabase(myPath, null, SQLiteDatabase.OPEN_READWRITE);\n\n    }\n @Override\n    public synchronized void close() {   \n            if(myDataBase != null)\n                myDataBase.close();  \n            super.close();   \n    }\n\n @Override\n    public void onCreate(SQLiteDatabase db) {      \n     String sql = \"create table if not exists info(_id integer primary key autoincrement, Name text not null, firmName text not null);\";\n     db.execSQL(sql);\n     sql = \"create table if not exists Client(_id integer primary key autoincrement, Name text not null, clientName text not null);\";\n     db.execSQL(sql);\n\n    }\n\n  @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {   \n     db.execSQL(\"DROP TABLE IF EXISTS employee\");\n     db.execSQL(\"DROP TABLE IF EXISTS info\");\n     db.execSQL(\"DROP TABLE IF EXISTS Client\");\n     onCreate(db);\n    }\n public void onDestroy()\n { \n     myDataBase.close(); \n     }\n    public Cursor getView(String sql)\n       {\n if(myDataBase != null) {\n     myDataBase.close();\n\n   }\n   openDataBase();\n    Cursor xcur =  myDataBase.rawQuery(sql,null);\n        return xcur; \n\n }\n private void copyDataBase() throws IOException{\n\n        //Open your local db as the input stream\n        InputStream myInput = myContext.getAssets().open(DB_NAME);   \n        // Path to the just created empty db\n        String outFileName = DB_PATH + DB_NAME;  \n        //Open the empty db as the output stream\n        OutputStream myOutput = new FileOutputStream(outFileName);   \n        //transfer bytes from the inputfile to the outputfile\n        byte[] buffer = new byte[1024];\n        int length;\n        while ((length = myInput.read(buffer))&gt;0){\n            myOutput.write(buffer, 0, length);\n        }\n\n        //Close the streams\n        myOutput.flush();\n        myOutput.close();\n        myInput.close();\n\n    }\n</code></pre>\n\n<p>}</p>\n"},{"tags":["android","sql","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":187,"score":0,"question_id":10320724,"title":"Converting SQLite to PDF","body":"<p>I am developing an Android application and got a SQLite database in it, which has quite a lot of rows and columns. Showing those inside the application is no problem, but I want to export the information of the database as a PDF file to upload it to <a href=\"http://en.wikipedia.org/wiki/Dropbox_%28service%29\" rel=\"nofollow\">Dropbox</a> or the <a href=\"http://en.wikipedia.org/wiki/Secure_Digital\" rel=\"nofollow\">SD card</a>. </p>\n\n<p>I found a way to create a PDF file within the application from a bitmap file, but that doesn't help me much. The information of the database can only be seen in the application by scrolling around, as it is to big for the screen. Is there a solution for this problem?</p>\n\n<p>Exporting a screenshot as PDF won't help me much as not the whole database can be seen within one screen.</p>\n"},{"tags":["ruby","sqlite","sqlite3","sqlite3-ruby"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":147,"score":0,"question_id":3399138,"title":"sqlite3-ruby compilation and sqlite3 packaging for a rails app","body":"<p>we are currently trying to package sqlite3 and sqlite3-ruby with an application that will be released as open source (ruby/rails based)\ni am evaluating if it is possible to package sqlite3-ruby for windows/linux and mac.</p>\n\n<p>my thoughts were, to download sqlite3-amalgamation, sqlite3-ruby on all the platforms and then compile on each.\nhere are my questions/ current problems:</p>\n\n<ol>\n<li><p>the docs of sqlite3-ruby ( see <a href=\"http://github.com/luislavena/sqlite3-ruby\" rel=\"nofollow\">http://github.com/luislavena/sqlite3-ruby</a> )\n\"Install SQLite3, enabling option SQLITE_ENABLE_COLUMN_METADATA (see www.sqlite.org/compile.html for details).\"\nwhere do i put this? in the makefile? any pointers or an example would be really helpful!</p></li>\n<li><p>compiling sqlite3-ruby with the current sqlite3\nsqlite3-ruby seems to search for sqlite.h, unfortunately the current sqlite3 seems to only provide \"sqlite3.h\" -- what am i doing wrong here?</p></li>\n</ol>\n\n<p>are my thoughts/steps on compiling sqlite3-ruby wrong, maybe?</p>\n\n<ol>\n<li>download amalgamation from sqlite.org</li>\n<li>compile to a custom dir</li>\n<li>change install.rb (line 11) to \nunless system( \"ruby extconf.rb --with-sqlite-dir=/my/custom_dir\" )</li>\n</ol>\n\n<p>any pointers or help very welcome!</p>\n"},{"tags":["android","database","image","sqlite","path"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":52,"score":1,"question_id":12505557,"title":"how to access other collumns of an android sqlite database when i have info from one column's record","body":"<p>i have an activity where it shows an image from the phone`s sd card, and i have the path of the image that was passed from another activity to the current activity as an intent extra, example: //mnt/sdcard/DCIM/pic05.png</p>\n\n<p>the path is stored in the database under the column named _data and there are other columns for each record that are there, like description and _display_name, how do i access these?</p>\n\n<p>for example i have the path like the one shown above, pic05.png and i want to show the _display_name in a textview for that pic,  that is what i am trying to find out how to do.</p>\n"},{"tags":["android","sqlite","passwords","authorize"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":12503756,"title":"one time activity using sqlite","body":"<p>I understand how to create a one time activity that saves to preferences to make the activity appear only once. But can someone show me how to save the \"first open\" screen to sqlite. I want to prevent users from clearing the data and seeing the screen again.</p>\n\n<p>to clarify</p>\n\n<p>I am looking at a password login tutorial and i want the users to register a password with the app but once the password is set, I want the registration screen removed for security purposes. Can someone please help.</p>\n\n<p>Thanks</p>\n"},{"tags":["sql","sqlite","sqlite3","null"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":49,"score":3,"question_id":12503120,"title":"How to do NULLS LAST in SQLite?","body":"<p>I'd like to sort my result with all NULL columns last (<code>NULLS LAST</code>), as specified in the <a href=\"http://en.wikipedia.org/wiki/Order_by\" rel=\"nofollow\">SQL:2003 extension T611</a>. Sadly, SQLite seems to not support it. Is there a clever workaround?</p>\n"},{"tags":["android","database","sqlite","android-layout"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":12502038,"title":"Data retrival from android database","body":"<p>This is my code for reading the data from my database. Here I'm just receiving the values and printing them using \"Toast\" class.</p>\n\n<pre><code>public void onClickLogin(View btnLogin)\n{\n    String email,password;\n    String[] cols = new String[] {DataBase_Server.EMAIL, DataBase_Server.PASS};\n    EditText edtPassword = (EditText) findViewById(R.id.edtPassword);\n    EditText edtLoginId = (EditText) findViewById(R.id.btnLogin);\n    DataBase_Server database=new DataBase_Server(login.this);\n    SQLiteDatabase db=database.getReadableDatabase();\n    Cursor c=db.query(DataBase_Server.TABLE, null, null, null, null, null, null);\n    //startManagingCursor(c);\n    c.moveToFirst();\n    email=c.getString(c.getColumnIndex(DataBase_Server.EMAIL));\n    password=c.getString(c.getColumnIndex(DataBase_Server.PASS));\n    Toast.makeText(this,email+\" hello \"+password, Toast.LENGTH_SHORT).show();\n}\n</code></pre>\n\n<p>There are no syntax errors in the code but when I'm running my app and click on my login button I get a force close dialog box which ultimately quits my app and in the \"logcat\" I see some exception like \"Unable to open stack file ......access denied\" etc. etc.</p>\n\n<p>logcat:</p>\n\n<pre><code>09-20 01:28:55.524: E/AndroidRuntime(378): java.lang.IllegalStateException: Could not execute method of the activity\n09-20 01:28:55.524: E/AndroidRuntime(378):  at android.view.View$1.onClick(View.java:2031)\n09-20 01:28:55.524: E/AndroidRuntime(378):  at android.view.View.performClick(View.java:2364)\n09-20 01:28:55.564: E/dalvikvm(378): Unable to open stack trace file '/data/anr/traces.txt': Permission denied\n09-20 01:45:58.265: E/AndroidRuntime(408): Uncaught handler: thread main exiting due to uncaught exception\n09-20 01:45:58.295: E/AndroidRuntime(408): java.lang.IllegalStateException: Could not execute method of the activity\n09-20 01:45:58.295: E/AndroidRuntime(408):  at android.view.View$1.onClick(View.java:2031)\n09-20 01:45:58.295: E/AndroidRuntime(408):  at android.view.View.performClick(View.java:2364)\n09-20 01:45:58.295: E/AndroidRuntime(408):  at android.view.View.onTouchEvent(View.java:4179)\n09-20 01:45:58.295: E/AndroidRuntime(408):  at android.widget.TextView.onTouchEvent(TextView.java:6541)\n09-20 01:45:58.295: E/AndroidRuntime(408):  at android.view.View.dispatchTouchEvent(View.java:3709)\n09-20 01:45:58.295: E/AndroidRuntime(408):  at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:884)\n  09-20 01:45:58.295: E/AndroidRuntime(408):    at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:884)\n    09-20 01:45:58.295: E/AndroidRuntime(408):  at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:884)\n     09-20 01:45:58.295: E/AndroidRuntime(408):     at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:884)\n      09-20 01:45:58.295: E/AndroidRuntime(408):    at com.android.internal.policy.impl.PhoneWindow$DecorView.superDispatchTouchEvent(PhoneWindow.java:1659)\n    09-20 01:45:58.295: E/AndroidRuntime(408):  at com.android.internal.policy.impl.PhoneWindow.superDispatchTouchEvent(PhoneWindow.java:1107)\n     09-20 01:45:58.295: E/AndroidRuntime(408):     at android.app.Activity.dispatchTouchEvent(Activity.java:2061)\n      09-20 01:45:58.295: E/AndroidRuntime(408):    at com.android.internal.policy.impl.PhoneWindow$DecorView.dispatchTouchEvent(PhoneWindow.java:1643)\n    09-20 01:45:58.295: E/AndroidRuntime(408):  at android.view.ViewRoot.handleMessage(ViewRoot.java:1691)\n     09-20 01:45:58.295: E/AndroidRuntime(408):     at android.os.Handler.dispatchMessage(Handler.java:99)\n    09-20 01:45:58.295: E/AndroidRuntime(408):  at android.os.Looper.loop(Looper.java:123)\n    09-20 01:45:58.295: E/AndroidRuntime(408):  at android.app.ActivityThread.main(ActivityThread.java:4363)\n   09-20 01:45:58.295: E/AndroidRuntime(408):   at java.lang.reflect.Method.invokeNative(Native Method)\n    09-20 01:45:58.295: E/AndroidRuntime(408):  at java.lang.reflect.Method.invoke(Method.java:521)\n  09-20 01:45:58.295: E/AndroidRuntime(408):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:860)\n  09-20 01:45:58.295: E/AndroidRuntime(408):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:618)\n   09-20 01:45:58.295: E/AndroidRuntime(408):   at  dalvik.system.NativeStart.main(Native Method)\n     09-20 01:45:58.295: E/AndroidRuntime(408): Caused by: java.lang.reflect.InvocationTargetException\n  09-20 01:45:58.295: E/AndroidRuntime(408):    at com.example.curbrain.login.onClickLogin(login.java:36)\n   09-20 01:45:58.295: E/AndroidRuntime(408):   at java.lang.reflect.Method.invokeNative(Native Method)\n  09-20 01:45:58.295: E/AndroidRuntime(408):    at java.lang.reflect.Method.invoke(Method.java:521)\n   09-20 01:45:58.295: E/AndroidRuntime(408):   at android.view.View$1.onClick(View.java:2026)\n     09-20 01:45:58.295: E/AndroidRuntime(408):     ... 21 more\n   09-20 01:45:58.295: E/AndroidRuntime(408): Caused by: java.lang.ClassCastException: android.widget.Button\n   09-20 01:45:58.295: E/AndroidRuntime(408):   ... 25 more\n    09-20 01:45:58.325: E/dalvikvm(408): Unable to open stack trace file '/data/anr/traces.txt': Permission denied\n</code></pre>\n\n<p>XML CODE :</p>\n\n<pre><code>android:onClick=\"onClickLogin\"\n</code></pre>\n"},{"tags":["android","database","sqlite","android-intent"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":12501511,"title":"Read data from a database in an android app","body":"<p>This is my code for reading the data from my database. Here I'm just receiving the values and printing them using \"Toast\" class. </p>\n\n<pre><code>public void OnClickLogin(View btnLogin)\n{\n    String email,password;\n    String[] cols = new String[] {DataBase_Server.EMAIL, DataBase_Server.PASS};\n    EditText edtPassword = (EditText) findViewById(R.id.edtPassword);\n    EditText edtLoginId = (EditText) findViewById(R.id.btnLogin);\n    DataBase_Server database=new DataBase_Server(login.this);\n    SQLiteDatabase db=database.getReadableDatabase();\n    Cursor c=db.query(DataBase_Server.TABLE, null, null, null, null, null, null);\n    //startManagingCursor(c);\n    c.moveToFirst();\n    email=c.getString(c.getColumnIndex(DataBase_Server.EMAIL));\n    password=c.getString(c.getColumnIndex(DataBase_Server.PASS));\n    Toast.makeText(this,email+\" hello \"+password, Toast.LENGTH_SHORT).show();\n}\n</code></pre>\n\n<p>There are no syntax errors in the code but when I'm running my app and click on my login button I get a force close dialog box which ultimately quits my app and in the \"logcat\" I see some exception like \"Unable to open stack file ......access denied\" etc. etc.</p>\n\n<p>logcat:</p>\n\n<p>09-20 00:44:06.755: E/AndroidRuntime(244): Uncaught handler: thread main exiting due to uncaught exception\n09-20 00:44:06.775: E/AndroidRuntime(244): java.lang.IllegalStateException: Could not find a method onClickLogin(View) in the activity\n09-20 00:44:06.805: E/dalvikvm(244): Unable to open stack trace file '/data/anr/traces.txt': Permission denied</p>\n\n<p>logcat</p>\n\n<p>still getting some more error :\nlogcat : </p>\n\n<p>09-20 00:44:06.755: E/AndroidRuntime(244): Uncaught handler: thread main exiting due to uncaught exception\n09-20 00:44:06.775: E/AndroidRuntime(244): java.lang.IllegalStateException: Could not find a method onClickLogin(View) in the activity\n09-20 00:44:06.805: E/dalvikvm(244): Unable to open stack trace file '/data/anr/traces.txt': Permission denied\n09-20 01:22:04.535: E/AndroidRuntime(352): Uncaught handler: thread main exiting due to uncaught exception\n09-20 01:22:04.555: E/AndroidRuntime(352): java.lang.IllegalStateException: Could not execute method of the activity\n09-20 01:22:04.555: E/AndroidRuntime(352):  at android.view.View$1.onClick(View.java:2031)\n09-20 01:22:04.585: E/dalvikvm(352): Unable to open stack trace file '/data/anr/traces.txt': Permission denied</p>\n"},{"tags":["java","android","sqlite","cursor","contactscontract"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":124,"score":1,"question_id":12500244,"title":"Adding 1 digit to every single phone number in Android","body":"<p>I want to create a function to edit every single number in my address book in android, however all the examples I found only edit 1 number of the contacts, so if the contact have more than 1 number they won't be edited.</p>\n\n<p>For example:</p>\n\n<p>Amy has this numbers:</p>\n\n<pre><code>093456432 - cellphone\n2345678 - house\n6789504 - work\n34567832 - other\n</code></pre>\n\n<p>And the app will add 1 more digit for example \"8\" in the second position, so the change will result in something like:</p>\n\n<pre><code>0893456432 - cellphone\n28345678 - house\n68789504 - work\n384567832 - other\n</code></pre>\n\n<p>And this needs to happen for every single contact in my address book.</p>\n\n<p>Already tried with something like this (burnt a number to replace the original number just to test), but only edits the TYPE_HOME which is the phone number, and I wondered how could I do this, and if there is a global TYPE in which I can edit any number of the contact:</p>\n\n<pre><code>private void updateContact(String name, String phone)\n{\n    ContentResolver cr = getContentResolver();\n\n    String where =\n        ContactsContract.Data.DISPLAY_NAME + \" = ? AND \" + ContactsContract.Data.MIMETYPE + \" = ? AND \"\n            + String.valueOf(ContactsContract.CommonDataKinds.Phone.TYPE) + \" = ? \";\n    String[] params =\n        new String[]\n        {\n            name,\n            ContactsContract.CommonDataKinds.Phone.CONTENT_ITEM_TYPE,\n            String.valueOf(ContactsContract.CommonDataKinds.Phone.TYPE_HOME) };\n\n    Cursor phoneCur = managedQuery(ContactsContract.Data.CONTENT_URI, null, where, params, null);\n\n    ArrayList&lt;ContentProviderOperation&gt; ops = new ArrayList&lt;ContentProviderOperation&gt;();\n\n    ops.add(ContentProviderOperation\n        .newUpdate(ContactsContract.Data.CONTENT_URI)\n        .withSelection(where, params)\n        .withValue(ContactsContract.CommonDataKinds.Phone.DATA, phone)\n        .build());\n\n    phoneCur.close();\n\n    try\n    {\n        cr.applyBatch(ContactsContract.AUTHORITY, ops);\n    }\n    catch (RemoteException e)\n    {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n    catch (OperationApplicationException e)\n    {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n\n    // Toast.makeText(NativeContentProvider.this, \"The number of have been updated \" + name+ \" to: \" + phone,\n    // Toast.LENGTH_SHORT).show();\n}\n</code></pre>\n\n<p>Regards.</p>\n"},{"tags":["android","sqlite","android-sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":12500924,"title":"Don't create the second SQLite table","body":"<p>Still I'm pretty new on the Java and Android development. But in this part, I could not find what is wrong. The LogCat return \"no such table: translations\".</p>\n\n<pre><code>package se.maxallan.birdsound;\n\n    import android.content.ContentValues;\n    import android.content.Context;\n    import android.database.Cursor;\n    import android.database.SQLException;\n    import android.database.sqlite.SQLiteDatabase;\n    import android.database.sqlite.SQLiteOpenHelper;\n    import android.util.Log;\n\n    public class SpeciesDbAdapter extends SQLiteOpenHelper{\n    public static final String DB_SPECIE_ID = \"_id\";\n    public static final String DB_SCF_NAME = \"scf_name\";\n\n    public static final String DB_T_LANG = \"lang\";\n    public static final String DB_T_TRANS = \"translated\";\n\n    private static SpeciesDbAdapter mDbHelp;\n    private static SQLiteDatabase mDb;\n\n    private static final String DB_NAME = \"database.db\";\n    private static final String DB_TBL_SPECIES = \"species\";\n    private static final String DB_TBL_TRANSLATIONS = \"translations\";\n    //private static final String DB_TBL_SOUNDS = \"sounds\";\n    private static final int DB_VERSION = 1;\n\n    private final Context mCtx;\n\n    static String createSpecies = \"CREATE TABLE if not exists \"\n    + DB_TBL_SPECIES \n    +\" (\"+DB_SPECIE_ID +\" INTEGER PRIMARY KEY AUTOINCREMENT,\"\n    +DB_SCF_NAME+\");\"; \n\n    static String createTranslations = \"CREATE TABLE if not exists \"\n    + DB_TBL_TRANSLATIONS\n    +\" (tid INTEGER PRIMARY KEY AUTOINCREMENT,\"\n    +DB_SPECIE_ID+\",\"\n    +DB_T_TRANS+\",\"\n    +DB_T_LANG+\");\"; //The error is here?\n\n    public SpeciesDbAdapter(Context context) {\n        super(context, DB_NAME, null, DB_VERSION);\n        this.mCtx = context;\n    }\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        db.execSQL(createSpecies);\n        db.execSQL(createTranslations);\n    }\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n    }\n\n    //Open the database\n    public SpeciesDbAdapter open() throws SQLException {\n        mDbHelp = new SpeciesDbAdapter(mCtx);\n        mDb = mDbHelp.getWritableDatabase();\n        return this;\n    }\n    //Close the connection\n    public void close() {\n        if (mDbHelp != null) {\n            mDbHelp.close();\n        }\n    }\n\n    public void addSpecie(String scf, String translation, String lang){\n        ContentValues specieValues = new ContentValues();\n        ContentValues translationsValues = new ContentValues();\n        specieValues.put(DB_SCF_NAME, scf);\n        int LastInsertedId = (int) mDb.insert(DB_TBL_SPECIES, null, specieValues);\n        translationsValues.put(DB_T_LANG, lang);\n        translationsValues.put(DB_T_TRANS, translation);\n        translationsValues.put(DB_SPECIE_ID, LastInsertedId);\n        mDb.insert(DB_TBL_TRANSLATIONS, null, translationsValues);\n    }\n\n    public Cursor fetchAllSpecies() {\n        Cursor mCursor = mDb.rawQuery(\"select * from \"+ DB_TBL_SPECIES +\" s inner join \"+ DB_TBL_TRANSLATIONS +\" t on s._id=t._id\", null);\n        Log.d(\"Database\", \"Result cursor size \" + mCursor.getCount() );\n        if (mCursor != null) {\n            mCursor.moveToFirst();\n        }\n        return mCursor;\n    }\n    public void insertSomeSpecies() {\n        addSpecie(\"Cygnus olor\", \"Knölsvan\", \"sv\");\n        addSpecie(\"Cygnus cygnus\", \"Sångsvan\", \"sv\");\n    }\n\n    }\n</code></pre>\n\n<p>I think that the error is were I create the table <code>translations</code> - or try to create...</p>\n"},{"tags":["android","sqlite"],"answer_count":4,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":5708,"score":3,"question_id":5243403,"title":"Android: unable to open database file","body":"<p>When I tried to open a sqlite database, it caught exception :</p>\n\n<blockquote>\n  <p>android.database.sqlite.SQLiteException : unable to open databse file.</p>\n</blockquote>\n\n<p>My code is : </p>\n\n<pre><code> final String  DATABASENAME   =    \"MY_DB\"; \n SQLiteDatabase   objDb =  this.openOrCreateDatabase(DATABASENAME, MODE_PRIVATE, null);\n</code></pre>\n\n<h2>Edited</h2>\n\n<p>This is working fine android 2.2.\nBut it caught exception in android 2.1.</p>\n\n<p>Please help me...\nThank you..</p>\n"},{"tags":["sqlite","table","sqlite3","virtual"],"answer_count":2,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":104,"score":2,"question_id":12404446,"title":"Incorrect order of records from virtual table","body":"<p>During testing of our implementation of <code>SQLite Virtual Table</code> mechanism we've encountered an unexpected behavior.\nFor the following <code>virtual table</code> structure:</p>\n\n<pre><code>create table X(ID int, RL real)\n</code></pre>\n\n<p>This query returns all the records in the correct descending order by RL\nfield.</p>\n\n<p><strong>Query 1</strong>:  </p>\n\n<pre><code>select * from VTab t1 left outer join VTab t2 on t1.ID = t2.ID order by t1.RL desc;\n</code></pre>\n\n<p><strong>Execution plan 1</strong>:  </p>\n\n<pre><code>explain query plan select * from VTab t1 left outer join VTab t2 on t1.ID = t2.ID order by t1.RL desc;  \n\n0|0|0| SCAN TABLE VTab AS t1 VIRTUAL TABLE INDEX 0:D1; (~0 rows)\n0|1|1| SCAN TABLE VTab AS t2 VIRTUAL TABLE INDEX 4:C0=0; (~0 rows)\n</code></pre>\n\n<p><code>D1</code> here is a value generated by our <code>xBestIndex</code> method implementation and means <em>descending sorting by the field #1 = RL</em>.\n<code>C0=0</code> here means <em>equal operation for the field #0 = ID</em>.\nThis works as expected.</p>\n\n<p>However, the next query returns rows (the alias of <code>RL</code> field is different) without any sorting.</p>\n\n<p><strong>Query 2</strong>:  </p>\n\n<pre><code>select * from VTab t1 left outer join VTab t2 on t1.ID = t2.ID order by t2.RL desc\n</code></pre>\n\n<p><strong>Execution plan 2</strong>:  </p>\n\n<pre><code>explain query plan select * from VTab t1 left outer join VTab t2 on t1.ID = t2.ID order by t2.RL desc;  \n\n0|0|0| SCAN TABLE VTab AS t1 VIRTUAL TABLE INDEX 0: (~0 rows)\n0|11| SCAN TABLE VTab AS t2 VIRTUAL TABLE INDEX 4:C0=0; (~0 rows)\n</code></pre>\n\n<p>As you can see there is no index mentioned to sort by.\nThe query executed against a real table (having the very same structure as our virtual table) looks as follows:</p>\n\n<p><strong>Query 3</strong>:  </p>\n\n<pre><code>select * from Table1 t1 left outer join Table1 t2 on t1.ID = t2.ID order by t2.RL desc\n</code></pre>\n\n<p><strong>Execution plan 3</strong>:  </p>\n\n<pre><code>explain query plan select * from Table1 t1 left outer join Table1t2 on t1.ID = t2.ID order by t2.RL desc;  \n\n0|0|0| SCAN TABLE Table1 AS t1 (~1000000 rows)\n0|1|0| SEARCH TABLE Table1 AS t2 USING AUTOMATIC COVERING INDEX (ID=?)\n0|1|0| (~7 rows)\n0|0|0| USE TEMP B-TREE FOR ORDER BY\n</code></pre>\n\n<p>As you can see there is sorting using <code>B-tree</code> there.</p>\n\n<p>From our side we examined what we received in <code>sqlite3_index_orderby</code> structures (the part of <code>sqlite3_index_info</code> structure) when they had come to <code>xBestIndex</code> and they didn't contain any information about sorting.\nAlso the <code>orderByConsumed</code> out parameter returns False (as our output is not ordered and we presume that <a href=\"/questions/tagged/sqlite\" class=\"post-tag\" title=\"show questions tagged 'sqlite'\" rel=\"tag\">sqlite</a> itself will order rows).</p>\n\n<p>Is this a bug in <code>SQLite Virtual Table</code> support or we missed something?</p>\n"},{"tags":["sqlite","sqlite3"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":39,"score":1,"question_id":12497439,"title":"Busy on SELECT in SQLite with multiple connections","body":"<p>In my (test) application I have <em>multiple threads</em> where each thread makes <em>multiple <code>SELECT</code> calls one after another</em>. Each thread has its <em>own connection</em> to the (same) SQLite database.</p>\n\n<p>Everything works fine for a couple of calls but then I start getting <code>SQLITE_BUSY</code> errors (\"database is locked\") back from <code>sqlite3_step()</code>.</p>\n\n<p>I know I can circumvent this with <code>sqlite3_busy_timeout()</code> but I want to know why this is happening or whether this is expected behavior. </p>\n\n<p>Please note that I'm <em>only doing read operations</em> (unless <code>SELECT</code> is considered a write operation nowadays), so SQLite should only acquire a shared lock, shouldn't it?</p>\n\n<p>I'm on Windows (7 x64) and running SQLite 3.7.13.</p>\n"},{"tags":["java","sqlite","java-ee","jpa","eclipselink"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":147,"score":0,"question_id":12481700,"title":"JPA 2.0 / EclipseLink and sqlite 3.7.2 - Can't create the tables","body":"<p>I'd like to use JPA 2.0 with EclipseLink (2.4.0) and sqlite 3.7.2 in a simple Java Swing application.</p>\n\n<p>The first thing I have encountered is, that EclipseLink doesn't support sqlite. Here is the output:</p>\n\n<blockquote>\n  <p>[EL Info]: 2012-09-18 18:05:42.246--ServerSession(31125695)--EclipseLink, version: Eclipse Persistence Services - 2.4.0.v20120608-r11652</p>\n  \n  <p>[EL Info]: connection: 2012-09-18 18:05:42.352--Not able to detect platform for vendor name [SQLite3]. Defaulting to [org.eclipse.persistence.platform.database.DatabasePlatform]. The database dialect used may not match with the database you are using. Please explicitly provide a platform using property eclipselink.platform.class.name.</p>\n</blockquote>\n\n<p>However, it seems to me, that the configuration works almost fine.</p>\n\n<p>But when I have a model with related Entities (i.e. @ManyToOne) the tables can't be created automatically.</p>\n\n<blockquote>\n  <p>[EL Warning]: 2012-09-18 18:05:42.629--ServerSession(31125695)--Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.4.0.v20120608-r11652): org.eclipse.persistence.exceptions.DatabaseException\n  Internal Exception: java.sql.SQLException: [SQLITE_ERROR] SQL error or missing database (near \"CONSTRAINT\": syntax error)\n  Error Code: 0</p>\n  \n  <p>Call: ALTER TABLE blub ADD CONSTRAINT FK_blub_customer_id FOREIGN KEY (customer_id) REFERENCES customer (customer_id)</p>\n  \n  <p>Query: DataModifyQuery(sql=\"ALTER TABLE blub ADD CONSTRAINT FK_blub_customer_id FOREIGN KEY (customer_id) REFERENCES customer (customer_id)\")</p>\n</blockquote>\n\n<p>As you can see, the additional creation of foreign key constraints isn't supported by sqlite.</p>\n\n<p>Do you have any idea how to fix the problem?</p>\n\n<p>Best regards</p>\n"},{"tags":["python","sql-server","sqlite","sqlalchemy"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":53,"score":1,"question_id":12494611,"title":"SqlAlchemy: export table to new database","body":"<p>Only recently started using python, and I like it! However, I am stuck with SqlAlchemy.</p>\n\n<p>I am trying to write a script that reads an MS SQL database, query a table (all fields, only a filter on some fields), and write the results to a local SQLite database.</p>\n\n<p>(The object is to write a data adapter: perform some queries on the SQLite database before exporting the results to another database. Writing to temporary table in the target database is also possible.)</p>\n\n<p>I can make a connection and get query results - I can print them so I know that part works. But how can I create a new table based on the structure of the query results from the source SQL Server?</p>\n\n<p>This works:</p>\n\n<pre><code>import sqlalchemy\n\nesd = sqlalchemy.create_engine( 'mssql+pyodbc://username:passwordSservername/dbname' )\nfor row in esd.execute( 'select * from ticket_actions where log_dt &gt; \\'2012-09-01\\''):\n    print( row.eFolderID )\n</code></pre>\n\n<p>This also works:</p>\n\n<pre><code>import pyodbc\ncnxn = pyodbc.connect('DRIVER={SQL Server};SERVER=servername;DATABASE=dbname;UID=username;PWD=password')\ncursor = cnxn.cursor()\nfor row in cursor.execute( 'select * from ticket_actions where log_dt &gt; \\'2012-09-01\\''):\n    print( row.eFolderID )\n</code></pre>\n\n<p>Any ideas on how to create a new table with the same structure as the query has?</p>\n\n<p>Thanks!</p>\n"},{"tags":["android","sqlite"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":42,"score":1,"question_id":12495789,"title":"Automatically starting Service: pass data to Activity","body":"<p>I'm already asked the question: <a href=\"http://stackoverflow.com/questions/12492063/pass-data-from-service-to-activity/12494069#comment16813420_12494069\">Pass data from Service to Activity</a> <br /></p>\n\n<p>How can I put <code>data</code> to SQLite storage <br />\nand then get this value in my Activity? <br />\n(database is already exists).</p>\n"},{"tags":["android","sqlite","mediastore","android-query"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12495624,"title":"Querying MediaStore - SQLiteException","body":"<p>I'm performing a query on the mediastore in an effort to return the number of albums for a particular atist.</p>\n\n<p>The query looks like this:</p>\n\n<pre><code>    public String doQuery(String artistName) {\n\n        String[] proj = new String[] { MediaStore.Audio.Artists._ID,\n                MediaStore.Audio.Artists.NUMBER_OF_ALBUMS,\n                MediaStore.Audio.Artists.ARTIST };\n\n        Uri baseUri = MediaStore.Audio.Artists.EXTERNAL_CONTENT_URI;\n\n        selection = MediaStore.Audio.Artists.ARTIST + \" = \" + artistName;\n        Log.i(TAG, \"Selection artistName = \" + artistName);\n\n        Cursor mCursor = getContentResolver().query(baseUri, proj, selection,\n                null, null);\n\n        mCursor.moveToFirst();\n\n        return\n\n        mCursor.getString(mCursor\n                .getColumnIndex(MediaStore.Audio.Artists.NUMBER_OF_ALBUMS));\n\n    }\n</code></pre>\n\n<p>The artistName is passed in, and the selection is supposed to narrow the cursor down to only that artist. I'm getting the following exception:</p>\n\n<pre><code>09-19 23:13:14.855: E/AndroidRuntime(17911): android.database.sqlite.SQLiteException: near \"Stone\": syntax error (code 1): , while compiling: SELECT _id, number_of_albums, artist FROM artist_info WHERE (artist = Nine Inch Nails)\n</code></pre>\n\n<p>Can someone please tell me what I'm doing wrong?</p>\n"},{"tags":["sqlite","sqlite3"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":12495180,"title":"I lost a table name in my sqlite_sequence table. How do I re-instate it?","body":"<p>It seems that when I revised a column definition (not the primary key column) in a table using the 'Edit Column' command on the Structure page under SQLite Manager, sqlite3 deleted that table name from its sqlite_sequence table. I tried to add it back in manually, but found that the seq number does not get updated on an addition into that lost table.</p>\n\n<p>Does anyone know how to re-instate the lost table name?</p>\n"},{"tags":["iphone","objective-c","ios","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":64,"score":0,"question_id":12493848,"title":"SQLite add or insert value","body":"<p>I have a table with values. I need to add or insert value in it. For example in table exists row(\"exml\") with value: \"123\", and I want to add value \"4567\". After that it must be \"1234567\", if value does not exist it must be \"4567\", please help me..</p>\n"},{"tags":["android","database","json","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":292,"score":1,"question_id":7950086,"title":"Android:Store json parsed data in database","body":"<p>I am making an app in which i have to parse json ( complex json means it contains tree and sub tree and children and so on ) and store data in SQLite Database. I have parsed json and now my problem is to store data in SQLite.Can anyone help me , how to do this. Any help will be appreciated.\nThanks</p>\n"},{"tags":["php","sqlite","iis","localhost","windows-7-x64"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":12492908,"title":"sqlite does not work on localhost in Windows 7 + php","body":"<p>I am having problems using sqlite when running my php-files on the localhost (Windows 7 IIS). I have installed IIS, PHP 5.3, xdebug and enabled sqlite in IIS manager. My IDE is phpStorm. PHP works fine. But after the line</p>\n\n<pre><code>$db = new PDO('sqlite:new.db');\n</code></pre>\n\n<p><code>$db = {PDO} [0]</code>. After that, <code>$db-&gt;query($query, SQLITE_BOTH, $error)</code> gives an empty <code>$error</code>, which is what I can understand. However I do not understand why <code>new PDO</code> does not work and does not return any error either. The database is in the root folder, the very same code works on the internet.</p>\n\n<p>Just to be sure, here is the phpinfo output on sqlite: </p>\n\n<pre><code>PDO support   enabled\nPDO drivers   mysql, sqlite, sqlsrv, sqlite2\n</code></pre>\n\n<p>Any idea what can be wrong?</p>\n"},{"tags":["c#",".net","database","entity-framework","sqlite"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":302,"score":0,"question_id":12350202,"title":"SQLite in VS 2012","body":"<p>Ok, spent too much time banging my head with this :)</p>\n\n<p>I need to persist small (under 1000) collection of items between sessions on windows without using full database server. Items are simple objects with dozen or so string properties.\nDatabase/collection/whatever should be stored in a single file that can be created through code in runtime.</p>\n\n<p>Started with SQL server CE then switched to SQLite but now I'm told Entity is a way to go.\nI don't mind learning Entity, but seems like too much of an overhead for a simple storage.</p>\n\n<p>What should I do? (if anyone still actually codes windows small databases)</p>\n\n<ol>\n<li>Ditch Entity and access SQLite directly through commands.</li>\n<li>Use Entity with SQLite (Would appreciate link on proper way to create databases at runtime tho)</li>\n<li>Ditch the whole concept of database (I put this one in because, before, every book had a chapter on databases, now I don't have a single book that mention it. Also not much new stuff on Internet either, so people might moved on to some other concept)</li>\n</ol>\n\n<p>Thanks.</p>\n"},{"tags":["android","sqlite","insert"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":119,"score":1,"question_id":12361863,"title":"Android: SQLite - insertWithOnConflict","body":"<p>I am calling insertWithOnConflict, using SQLiteDatabase.CONFLICT_IGNORE. However, when a conflict occurs \"-1\" is returned instead of the id of the existing row. How do I correct this?</p>\n\n<p>Table creation:</p>\n\n<p><strong>EDIT :</strong></p>\n\n<pre><code>String CREATE_CATEGORY_TABLE = \"CREATE TABLE \"+TABLE_CATEGORY+\"(\" +\n    BaseColumns._ID+\" INTEGER PRIMARY KEY AUTOINCREMENT, \"+\n    KEY_CATEGORY_NAME+\" TEXT UNIQUE\" +\n    \")\";\ndb.execSQL(CREATE_CATEGORY_TABLE);\n</code></pre>\n\n<p>Insert statement:</p>\n\n<pre><code>ContentValues values = new ContentValues();\nvalues.put(KEY_CATEGORY_NAME, name);\nint catID = (int) db.insertWithOnConflict(TABLE_CATEGORY, null, values, SQLiteDatabase.CONFLICT_IGNORE);\n</code></pre>\n"},{"tags":["android","database","sqlite","store","sd-card"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":118,"score":1,"question_id":12489718,"title":"How can I backup sqlite file in SD Card programmatically?","body":"<p>When you use emulator your sqlite file is stored in a folder near your main application folder and you can download it. But this feature is not accessible in not rooted devices. How can I <strong>backup this existing sqlite file in SD Card programmatically</strong>?</p>\n\n<p>I want to have a button in my application that stores this file in a special path in my SD Card. Is it possible?</p>\n\n<p>Thanks,</p>\n"},{"tags":["android","ios","string","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":68,"score":0,"question_id":12490072,"title":"Can I use an sqlite database created for ios in android?","body":"<p>I would like to access the string-files stored in an sqlite database created for an ios application.\nAny suggested methods to do this? I have searched all over the net but have not found anyone who has done this. \nI know it is possible to convert a plist file to an xml file, but in the future the app I am working on will get all the resources (including strings) from a server.</p>\n\n<p>I hope someone can help with this.</p>\n"},{"tags":["android","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12486493,"title":"SQLite Bad Request Error","body":"<p>I am attempting to import sms messages from a sqlite db into the sms inbox. The db is located on the SD card. I am getting a Bad Request error. The Sql statement is structured correctly. I am not sure what error is. Please help me find where the error is.  </p>\n\n<p>MainActivity snippet:</p>\n\n<pre><code>    private void importSms() {\n    int id = 10;\n    while(id &lt; 10860) {  \n        System.out.println(\"The id is \" + id);\n        String address = null;\n        String body = null;\n        dbHelper.returnAddress(id);\n        dbHelper.returnBody(id);\n        ContentValues values = new ContentValues();\n        values.put(\"address\", address);\n        values.put(\"body\", body);\n        getContentResolver().insert(Uri.parse(\"content://sms/inbox\"), values);\n        Toast.makeText(getApplicationContext(),\"Importing sms number\" + id,Toast.LENGTH_SHORT).show();\n        id = id ++;\n    }\n\n\n    Toast.makeText(getApplicationContext(),\"Finished import\",Toast.LENGTH_LONG).show();\n}\n</code></pre>\n\n<p>DataBaseHelper snippet: (If need I can post the whole class it's not that large)</p>\n\n<pre><code>  public String returnAddress(int id) {\n    System.out.println(\"returnAddress has been called\");\n    openDataBase();\n    SQLiteDatabase db = getReadableDatabase();\n\n                String addressQuery = \"SELECT address FROM sms WHERE _id = \" + id;\n                Cursor ca = db.rawQuery(addressQuery, null);\n                ca.moveToFirst();\n                String address = ca.getString(1);\n                return address;\n\n\n}\npublic String returnBody(int id) {\n    System.out.println(\"returnBody has been called\");\n    openDataBase();\n    SQLiteDatabase db = getReadableDatabase();\n\n\n                String bodyQuery = \"SELECT body FROM sms WHERE _id = \" + id;\n                Cursor cb = db.rawQuery(bodyQuery, null);\n                cb.moveToFirst();\n                String body = cb.getString(2);\n                return  body;\n\n\n}\n</code></pre>\n\n<p>Error Messages:</p>\n\n<pre><code>09-18 19:09:33.466: I/System.out(2729): The id is 10\n 09-18 19:09:33.466: I/System.out(2729): returnAddress has been called\n 09-18 19:09:33.526: E/CursorWindow(2729): Bad request for field slot 0,1. numRows = 1, numColumns = 1\n 09-18 19:09:33.526: D/AndroidRuntime(2729): Shutting down VM\n 09-18 19:09:33.526: W/dalvikvm(2729): threadid=1: thread exiting with uncaught exception (group=0x40015560)\n 09-18 19:09:33.526: E/AndroidRuntime(2729): FATAL EXCEPTION: main\n 09-18 19:09:33.526: E/AndroidRuntime(2729): java.lang.IllegalStateException: get field slot from row 0 col 1 failed\n 09-18 19:09:33.526: E/AndroidRuntime(2729):    at android.database.CursorWindow.getString_native(Native Method)\n 09-18 19:09:33.526: E/AndroidRuntime(2729):    at android.database.CursorWindow.getString(CursorWindow.java:329)\n 09-18 19:09:33.526: E/AndroidRuntime(2729):    at android.database.AbstractWindowedCursor.getString(AbstractWindowedCursor.java:49)\n 09-18 19:09:33.526: E/AndroidRuntime(2729):    at com.mobile.sms.testing.DataBaseHelper.returnAddress(DataBaseHelper.java:64)\n 09-18 19:09:33.526: E/AndroidRuntime(2729):    at com.mobile.sms.testing.MainActivity.importSms(MainActivity.java:53)\n 09-18 19:09:33.526: E/AndroidRuntime(2729):    at com.mobile.sms.testing.MainActivity.access$0(MainActivity.java:47)\n 09-18 19:09:33.526: E/AndroidRuntime(2729):    at com.mobile.sms.testing.MainActivity$1.onClick(MainActivity.java:41)\n 09-18 19:09:33.526: E/AndroidRuntime(2729):    at android.view.View.performClick(View.java:2485)\n 09-18 19:09:33.526: E/AndroidRuntime(2729):    at android.view.View$PerformClick.run(View.java:9080)\n 09-18 19:09:33.526: E/AndroidRuntime(2729):    at android.os.Handler.handleCallback(Handler.java:587)\n 09-18 19:09:33.526: E/AndroidRuntime(2729):    at android.os.Handler.dispatchMessage(Handler.java:92)\n 09-18 19:09:33.526: E/AndroidRuntime(2729):    at android.os.Looper.loop(Looper.java:130)\n 09-18 19:09:33.526: E/AndroidRuntime(2729):    at android.app.ActivityThread.main(ActivityThread.java:3683)\n 09-18 19:09:33.526: E/AndroidRuntime(2729):    at java.lang.reflect.Method.invokeNative(Native Method)\n 09-18 19:09:33.526: E/AndroidRuntime(2729):    at java.lang.reflect.Method.invoke(Method.java:507)\n 09-18 19:09:33.526: E/AndroidRuntime(2729):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)\n 09-18 19:09:33.526: E/AndroidRuntime(2729):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)\n 09-18 19:09:33.526: E/AndroidRuntime(2729):    at dalvik.system.NativeStart.main(Native Method)\n 09-18 19:09:35.676: I/Process(2729): Sending signal. PID: 2729 SIG: 9\n</code></pre>\n"},{"tags":["sqlite","thunderbird","awesome-wm"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":35,"score":1,"question_id":12422187,"title":"thunderbird - number of underad messages, from .sqlite base","body":"<p>I want to make a small plugin for <a href=\"http://en.wikipedia.org/wiki/Awesome_%28window_manager%29\" rel=\"nofollow\">awesome</a> WM that will show a number of unread messages pending in Thunderbird. I want to fetch the number of messages accessing directly Thunderbird <em>sqlite</em> base. The question is: which base, table and fields should I query?</p>\n\n<p>There are at least 15 bases under <code>~/.thunderbird/profile/</code>, including <code>./global-messages-db.sqlite</code>. In this base I tried <code>messageAttributes</code> table, but with no big success. I could not find development documentation describing the attributes...</p>\n\n<p>Any help here?</p>\n"},{"tags":["php","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":45,"score":1,"question_id":12489283,"title":"How to delete the rows from Sqlite Database in php","body":"<p>I am new to PhP. I am trying to delete some rows from my sqlite database, but I can't figure out what is wrong. My code is as below:</p>\n\n<pre><code>&lt;?php\n    $app_name=array(\"TestApp\", \"MyDataBase\");\n    $dir = 'sqlite:/home/ravi/public_html/GcmServer/FavoriteApps.db';\n    $dbh= new PDO($dir) or die(\"cannot open the database\");\n    for($i=0;$i&lt;sizeof($app_name);$i++) {\n        error_log(\"looop start here...............\");\n        error_log(\"FirstAppName \".$app_name[$i]);\n        $result=  $dbh-&gt;Query(\"DELETE FROM favorite_apps WHERE appname = '$app_name[$i]'\") or die( error_log(\"error\".mysql_error() ));\n        error_log(\"looop execute here...............\");\n    }\n?&gt;\n</code></pre>\n\n<p>And my log file is like this:</p>\n\n<pre><code>[Wed Sep 19 11:16:38 2012] [error] [client 127.0.0.1] looop start    here...............\n[Wed Sep 19 11:16:38 2012] [error] [client 127.0.0.1] FirstAppName TestApp\n[Wed Sep 19 11:16:38 2012] [error] [client 127.0.0.1] error\n</code></pre>\n\n<p>and my localhost show 1,<br />\nthanks.</p>\n"}]}
{"total":16516,"page":18,"pagesize":100,"questions":[{"tags":["android","sqlite","syntax","saving","adding"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":204,"score":-2,"question_id":12488718,"title":"android.database.sqlite.SQLiteException: near \" \": syntax error","body":"<p>I'm having a problem while adding records in SQLite.</p>\n\n<p><strong>This is the Error</strong>:</p>\n\n<pre><code>09-18 17:47:47.586: E/AndroidRuntime(1039):\n   java.lang.RuntimeException: Unable to start activity ComponentInfo{com.capstone.pinoygoodies/com.capstone.pinoygoodies.GroceryView}:\n   android.database.sqlite.SQLiteException: near \" \":\n   syntax error:\n   CREATE TABLE tblItem \n                 (_id INTEGER PRIMARY KEY AUTOINCREMENT,\n                  grocery_item TEXT NOT NULL,\n                  grocery_qty TEXT NOT NULL \n</code></pre>\n\n<p><strong>My CREATE TABLE</strong></p>\n\n<pre><code>db.execSQL(\"CREATE TABLE \" + DATABASE_TABLE + \"(\" +\nKEY_ITEMID + \" INTEGER PRIMARY KEY AUTOINCREMENT, \" +\nKEY_ITEM + \" TEXT NOT NULL, \" + \nKEY_QTY + \" TEXT NOT NULL \");\n</code></pre>\n\n<p>Whenever I hit the add button, this error is being triggered.</p>\n"},{"tags":["javascript","android","sqlite","webview"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1068,"score":0,"question_id":8090805,"title":"Can android webview access the Android sqlite database content using JavaScript?","body":"<p>I have a SQLite DB(say, Employees is the DB name) cretaed by my android application. I also have a webview in my application. Is it possible i can access the DB Employees data inside the webview using the javascripts. </p>\n\n<p>Please suggest me a sample where I can proceed to. </p>\n"},{"tags":["ruby-on-rails","sqlite","csv"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":12486068,"title":"uploading csv file to sqlite","body":"<p>I am trying to upload my csv data to my sqlite table, this is my code:</p>\n\n<pre><code>require 'csv'\n\nCSV.open('history.csv', 'r') do |row|\n  HistoryYear.create(:year =&gt; row[1], :first =&gt; row[2], :second =&gt; row[3], :third =&gt; row[4], :regular_season_champ =&gt; row[5])\nend\n</code></pre>\n\n<p>I am receiving an error message, <code>NoMethodError: undefined method '[]' for #&lt;CSV:0x3c1fe18&gt;</code>.  I am a new to Rails and programming in general and cannot seem to find the answer.</p>\n"},{"tags":["android","sqlite","upgrade"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":458,"score":1,"question_id":10664935,"title":"Sqlite database onUpgrade() does not get called","body":"<p>I am working on an android application where i used existing sqlite database in the asset folder. So i actually copy the database from that folder. User can also save their own data(mark any content as favorite).</p>\n\n<p>I uploaded a version in the market. Now i want to add some new data in the database and uploaded a new version. If user update the app from the market i want to keep the user data(from previous version) and add the new data as well. I have done some google and found that on upgrade method should do the trick. But I am changing the DATABASE_VERSION from code but the on upgrade method does not get call. I am wondering i have missed something. Here is my code:</p>\n\n<pre><code>public class DataBaseHelper extends SQLiteOpenHelper {\n\nprivate static String DB_PATH = \"/data/data/riskycoder.login/databases/\";\npublic static String DB_NAME = \"datenbank_EN.sqlite\";\nprivate SQLiteDatabase myDataBase;\nprivate final Context myContext;\nprivate static final int DATABASE_VERSION = 1;\n\n\n\n\n\npublic DataBaseHelper(Context context) {\n    super(context, DB_NAME, null, DATABASE_VERSION);\n    this.myContext = context;\n}\n\npublic void createDataBase() throws IOException {\n    boolean dbExist = checkDataBase();\n    if (dbExist) {\n    } else {\n        this.getWritableDatabase();\n        try {\n            this.close();\n            copyDataBase();\n        } catch (IOException e) {\n            throw new Error(\"Error copying database\");\n        }\n    }\n\n}\n\nprivate boolean checkDataBase() {\n    SQLiteDatabase checkDB = null;\n    try {\n        String myPath = DB_PATH + DB_NAME;\n        checkDB = SQLiteDatabase.openDatabase(myPath, null,SQLiteDatabase.OPEN_READWRITE);\n    } catch (SQLiteException e) {\n    }\n    if (checkDB != null)\n        checkDB.close();\n    return checkDB != null ? true : false;\n}\n\nprivate void copyDataBase() throws IOException {\n\n    InputStream myInput = myContext.getAssets().open(DB_NAME);\n    String outFileName = DB_PATH + DB_NAME;\n    OutputStream myOutput = new FileOutputStream(outFileName);\n    byte[] buffer = new byte[2048];\n    int length;\n    while ((length = myInput.read(buffer)) &gt; 0) {\n        myOutput.write(buffer, 0, length);\n    }\n    myOutput.flush();\n    myOutput.close();\n    myInput.close();\n\n    //myDataBase.setVersion(DATABASE_VERSION);\n}\n\npublic void openDataBase() throws SQLException {\n    String myPath = DB_PATH + DB_NAME;\n    myDataBase = SQLiteDatabase.openDatabase(myPath, null,SQLiteDatabase.OPEN_READWRITE);\n    Log.d(\"Test\", \"Database version: \" +myDataBase.getVersion());\n}\n\n@Override\npublic synchronized void close() {\n    if (myDataBase != null)\n        myDataBase.close();\n    super.close();\n}\n\n\n\n@Override\npublic void onCreate(SQLiteDatabase db) {\n}\n\n@Override\npublic void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n    Log.d(\"Test\", \"in onUpgrade. Old is: \" + oldVersion + \" New is: \" + newVersion);\n\n\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["sql","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":38,"score":1,"question_id":12487495,"title":"Group rows by timestamp and conditionally sum different columns","body":"<p>I'm trying to select some traffic flow data and create sums for the different traffic directions, bucketed in 60 second buckets.  Simplified table is below (timestamp is unix epoch):</p>\n\n<pre><code>Timestamp      Source     Destination    Count\n1              inside     outside          5\n2              inside     outside          6\n3              outside    inside           7\n65             inside     inside           4\n66             inside     outside          6\n72             inside     outside          7\n</code></pre>\n\n<p>Current Query (which does the bucketing, but doesn't have anything about direction)</p>\n\n<pre><code>SELECT sum(count) AS total FROM table GROUP BY round(timestamp/60)\n</code></pre>\n\n<p>This gives me the total count for each 60 second \"bucket\" like</p>\n\n<pre><code>Count\n 18\n 10\n 7\n</code></pre>\n\n<p>Now, where I'm lost  (I can do this in the client code, but I'd kinda like to do it with the SQL if possible). I'd like to have a sum called inbound for every row with inside as source and dest as outside, a sum called outbound for every row with outside in source and inside as dest, and a row called internal where both source and dest are inside.  Still grouped by the 60 second bucket.  i.e. what I want back is:</p>\n\n<pre><code>Inbound  Outbound  Internal\n   7        11        0\n   0         6        4\n   0         7        0\n</code></pre>\n\n<p>My SQL foo is weak, and I really don't know where to start  (I suspect I need a subselect, but I'm not sure how to construct it).</p>\n"},{"tags":["android","database","sqlite","listview"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":126,"score":0,"question_id":12486835,"title":"Get selected ListView Item's ID (data populated with SQLite DB)","body":"<p>I have a database which keeps track of a user's reminder data (reminder name, notes, date, time, etc.). The first column is it's primary key (_ID). The ListView is populated from the database and it shows a simple set of rows with the reminder's name(s), like so:</p>\n\n<hr>\n\n<p>Take out the trash.</p>\n\n<hr>\n\n<p>Walk the dog.</p>\n\n<hr>\n\n<p>Eat lunch.</p>\n\n<hr>\n\n<p>etc.</p>\n\n<hr>\n\n<p>Now my question is, how do I get my app to figure out which specific reminder has been clicked? When a row is clicked, I need to find its primary key (_ID column) from my database and be able to retrieve all the data in that row.</p>\n\n<p>So far, I know that I need to use a onItemClick to detect the click. But how can I get the primary key value (_ID) of the item that has been clicked? My current code looks like this:</p>\n\n<pre><code>final Context context = this;\n\n//DB Connectivity variables.\nprotected RemindersDAO remindersDAO;\nprotected SimpleCursorAdapter remindersCursorAdapter;\npublic ListView viewRemindersListView;\n\n@SuppressWarnings(\"deprecation\")\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_view_local_reminders);\n\n    // Get rid of the app title in the action bar.\n    ActionBar actionBar = getSupportActionBar();\n    actionBar.setDisplayShowTitleEnabled(false);\n\n    viewRemindersListView = (ListView) findViewById(R.id.listview_view_local_reminders);\n\n    remindersDAO = new RemindersDAO(this);\n    Cursor cursor = remindersDAO.all(this);\n\n    remindersCursorAdapter = new SimpleCursorAdapter(this,\n                                     R.xml.view_reminders_item_layout,\n                                     cursor, new String [] { RemindersDAO.NAME },\n                                     new int[] { R.id.view_reminders_item_text } );\n\n    viewRemindersListView.setAdapter(remindersCursorAdapter);\n}\n\n@Override\npublic void onItemClick(AdapterView&lt;?&gt; listView, View view, int position, long arg3) {\n    remindersDAO = new RemindersDAO(this);\n    Cursor cursor = remindersDAO.all(this);\n\n    int idColIndex = cursor.getColumnIndex(RemindersDAO._ID); \n    int rowId = cursor.getInt(idColIndex); \n}\n\n@Override\npublic boolean onCreateOptionsMenu(com.actionbarsherlock.view.Menu menu) {\n    // TODO Auto-generated method stub\n    MenuInflater inflater = getSupportMenuInflater();\n    inflater.inflate(R.menu.activity_view_local_reminders, menu);\n\n    return super.onCreateOptionsMenu(menu);\n}\n\npublic boolean onOptionsItemSelected(MenuItem item) {\n     //Set the classes that are called from each actionbar item.\n     switch (item.getItemId()) {\n         case R.id.local_reminders_actionbar_go_advanced:\n             Intent i=new Intent(this, AdvancedNewReminder.class);\n             startActivity(i);\n             return true;\n         case R.id.local_reminders_actionbar_simple_reminder:\n             Intent k = new Intent(this, QuickNewReminder.class);\n             startActivity(k);\n             return true;\n\n             /* case R.id.local_reminders_actionbar_google_tasks:\n             showGoogleTasksBetaDialog();\n             return true; */\n\n     }\n     return false;\n }\n\n@Override\npublic void onBackPressed() {\n    return;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Thanks for all your help! </p>\n"},{"tags":["sql","qt","sqlite","qt4","qt-creator"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1278,"score":1,"question_id":4611460,"title":"problem using sqlite in QT4.7","body":"<p>I wrote a program using sqlite but when I run it there seems no sqlite support</p>\n\n<p>Here is the information given by the QT creator:\nQSqlDatabase: QSQLITE driver not loaded\nQSqlDatabase: available drivers:</p>\n\n<p>no available drivers!But there are sqlite4.dll,sqlodbc4.dll in the C:\\Qt\\2010.05\\qt\\plugins\\sqldrivers directory why the program cannot detect where the drivers are? Should I recompile the Qt4.7 with -qt-sql-sqlite option? This seems the last resolution which is very time-consuming. Any suggestions? Thanks in advance.</p>\n"},{"tags":["java","android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":12485280,"title":"Database access and battery friendly apps","body":"<p>I'd like to save statistics about the usage of the ad networks in my app. Basically I want to maintain the count of the number of times an ad network is requested, makes an impression, or fails in the request each day.</p>\n\n<p>My initial idea is have an SQLite database with the following columns</p>\n\n<pre><code>[ day , networkId, requests, impressions, fails] \n</code></pre>\n\n<p>But I'm considering the following performance/battery drain possible issue:</p>\n\n<p>Since I use 3 ad network (1 main and 2 as backfill) the worst case is:</p>\n\n<ul>\n<li>Network A requested</li>\n<li>Network A fails</li>\n<li>Network B requested</li>\n<li>Network B fails</li>\n<li>Network C requested</li>\n<li>Network C success.</li>\n</ul>\n\n<p>All within ~4 seconds. If each one of this points make an access to the database for updating the corresponding row, the overhead is significantly? Should I implement some kind of cache in memory and bulk insert the values (seizing also the pair of [request+success] or [request+fail] making a single update?) or can I use directly the database</p>\n"},{"tags":["android","sqlite","uri","android-cursorloader"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":128,"score":2,"question_id":12485448,"title":"CursorLoader, get URI for local database","body":"<p>I'm a newbie android programmer and I recently followed a tutorial which shows how to create a local SQLite database and then access the database by using SQLiteDatabase.rawQuery to return a Cursor. I would like to modify my app to use CursorLoader which is apparently a better way to access the database.\nMy problem is the CursorLoader constructor expects a URI to be given. Do I just input \"file:///[path to db]\"? Seems a bit messy.</p>\n"},{"tags":["sqlite","phonegap","storage","cordova"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":254,"score":1,"question_id":11896939,"title":"Saving coordinates in SQLite","body":"<p>I am developing for Cordova 2.0.0. I am testing my app on android 2.2.\nNow i got the code for getting a users position and then showing it in google maps with a marker. First my retreiving geolocation code and showing it in google maps:</p>\n\n<pre><code>&gt; function onLoad() { document.addEventListener(\"deviceready\",\n&gt; onDeviceReady, false); }\n&gt; \n&gt; function onDeviceReady() {\n&gt; \n&gt; }\n&gt; \n&gt; var onSuccess = function(position) {\n&gt;     var myLat = position.coords.latitude;\n&gt;     var myLong = position.coords.longitude;\n&gt; \n&gt;     \n&gt;     var mapOptions = {\n&gt;         center: new google.maps.LatLng(myLat, myLong),\n&gt;         zoom: 14,\n&gt;         mapTypeId: google.maps.MapTypeId.ROADMAP\n&gt;     };\n&gt; \n&gt; var map = new google.maps.Map(document.getElementById(\"map_canvas\"),\n&gt;                                   mapOptions);\n&gt; \n&gt;     var marker = new google.maps.Marker({\n&gt;                                    position: new google.maps.LatLng(myLat, myLong),\n&gt;                                         map: map,\n&gt;                                         title:\"Hello World!\"\n&gt;                                         });\n&gt; \n&gt; };\n&gt; \n&gt; \n&gt; function onError(error) {\n&gt;     alert('code: '    + error.code    + '\\n' +\n&gt;           'message: ' + error.message + '\\n'); }\n&gt; \n&gt; \n&gt; \n&gt; navigator.geolocation.getCurrentPosition(onSuccess, onError,\n&gt;       {'enableHighAccuracy':true,'timeout':10000});\n</code></pre>\n\n<p>Now the code for my database, i used the example from <a href=\"http://docs.phonegap.com/en/2.0.0/cordova_storage_storage.md.html#Storage\" rel=\"nofollow\">http://docs.phonegap.com/en/2.0.0/cordova_storage_storage.md.html#Storage</a>:  </p>\n\n<pre><code>&gt; &lt;!DOCTYPE html&gt; &lt;html&gt;   &lt;head&gt;\n&gt;     &lt;title&gt;Storage Example&lt;/title&gt;\n&gt;     &lt;script type=\"text/javascript\" src=\"jqtouch/jquery.js\" charset=\"utf-8\"&gt;&lt;/script&gt;\n&gt;     &lt;script type=\"text/javascript\" src=\"jqtouch/jqtouch.js\" charset=\"utf-8\"&gt;&lt;/script&gt;\n&gt;     &lt;script type=\"text/javascript\" charset=\"utf-8\" src=\"cordova-2.0.0.js\"&gt;&lt;/script&gt;\n&gt;     &lt;script type=\"text/javascript\" charset=\"utf-8\"&gt;\n&gt; \n&gt;     // Wait for Cordova to load\n&gt;     //\n&gt;     document.addEventListener(\"deviceready\", onDeviceReady, false);\n&gt; \n&gt;     // Populate the database \n&gt;     //\n&gt;     function populateDB(tx) {\n&gt;         tx.executeSql('DROP TABLE IF EXISTS DEMO');\n&gt;         tx.executeSql('CREATE TABLE IF NOT EXISTS DEMO (id unique, longitude, latitude)');\n&gt;         tx.executeSql('INSERT INTO DEMO (id INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, longitude, latitude);\n&gt;     }\n&gt; \n&gt;     // Query the database\n&gt;     //\n&gt;     function queryDB(tx) {\n&gt;         tx.executeSql('SELECT * FROM DEMO', [], querySuccess, errorCB);\n&gt;     }\n&gt; \n&gt;     // Query the success callback\n&gt;     //\n&gt;     function querySuccess(tx, results) {   console.log(\"Returned rows = \" + results.rows.length);   if (!results.rowsAffected) {\n&gt;     console.log('No rows affected!');\n&gt;     return false;   }   // for an insert statement, this property will return the ID of the last inserted row   console.log(\"Last inserted\n&gt; row ID = \" + results.insertId);\n&gt;     }\n&gt; \n&gt;     // Transaction error callback\n&gt;       function errorCB(err) {\n&gt;        console.log(\"Error processing SQL: \"+err.code);\n&gt;     }\n&gt; \n&gt;     // Transaction success callback\n&gt;    \n&gt;     function successCB() {\n&gt;         var db = window.openDatabase(\"Database\", \"1.0\", \"Cordova Demo\", 200000);\n&gt;         db.transaction(queryDB, errorCB);\n&gt;     }\n&gt; \n&gt;     // Cordova is ready\n&gt;     //    function onDeviceReady() {\n&gt;         var db = window.openDatabase(\"Database\", \"1.0\", \"Cordova Demo\", 200000);\n&gt;         db.transaction(populateDB, errorCB, successCB);\n&gt;     }\n&gt; \n&gt;     &lt;/script&gt;   &lt;/head&gt;   &lt;body&gt;\n&gt;     &lt;h1&gt;Example&lt;/h1&gt;\n&gt;     &lt;p&gt;Database&lt;/p&gt;   &lt;/body&gt; &lt;/html&gt;\n</code></pre>\n\n<p>I am not sure how to put the long/lat values that i will retreive from my GPS (geolocation) in my database.\nAny tutorials, example code or advice is greatly appreciated.</p>\n\n<p>I was thinking a long the lines of something like this:</p>\n\n<pre><code>&gt; //GEOLOCATION \n&gt;     var onSuccess = function(position) {\n&gt;     var myLat = position.coords.latitude;\n&gt;     var myLong = position.coords.longitude;\n&gt;     insertEntry(latitude, longitude);\n&gt;     //MAP\n&gt; \n&gt; \n&gt; function insertEntry(latitude, longitude) {\n&gt;     db.transaction(\n&gt;         function(populateDB) {\n&gt;             tx.executeSql(\n&gt;                 'INSERT INTO entries (latitude, longitude) ' + \n&gt;                     'VALUES (?, ?);',\n&gt;                 [latitude, longitude],\n&gt;                 function(){\n&gt;                    }, \n&gt;                 errorHandler\n&gt;             );\n&gt;         }\n&gt;     );\n</code></pre>\n"},{"tags":["ruby","sqlite","sqlite3"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":10036138,"title":"SQLITE3 strings in where clauses seem confused","body":"<p>I'm wondering if anyone has any clarification on the difference between the following statements using sqlite3 gem with ruby 1.9.x:</p>\n\n<pre><code>@db.execute(\"INSERT INTO table(a,b,c) VALUES (?,?,?)\", \nsome_int, other_int, some_string)\n</code></pre>\n\n<p>and </p>\n\n<pre><code>@db.execute(\"INSERT INTO table(a,b,c) VALUES (#{some_int},\"+ \n+\"#{some_int}, #{some_string})\")\n</code></pre>\n\n<p>My problem is: When I use the first method for insertion, I can't query for the \"c\" column using the following statement: </p>\n\n<pre><code>SELECT * FROM table WHERE c='some magic value'\n</code></pre>\n\n<p>I can use this: </p>\n\n<pre><code>\"SELECT * FROM table WHERE c=?\", \"some magic value\" \n</code></pre>\n\n<p>but what I really want to use is </p>\n\n<pre><code>\"SELECT * FROM table WHERE c IN ('#{options.join(\"','\")}')\" \n</code></pre>\n\n<p>And this doesn't work with the type of inserts.</p>\n\n<p>Does anyone know what the difference is at the database level that is preventing the <code>IN</code> from working properly?</p>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":12482447,"title":"How to navigate to next sqlite table column in android?","body":"<p>I am noob to android and sqlite, in visual basic working with access database you get a active x control or adodc control which helps to navigate through next records . Iam developing a app for android which i need to require to select the next column in press of button click.</p>\n\n<p>ie, \nSql lite database </p>\n\n<p>table1\ncolumn1, column2, column3</p>\n\n<p>the preceding is the structure of table \ni have a text view which displays the column name . if i press the button if column1 is selected the column2 should be displayed.</p>\n\n<p>i have no idea on how to code .</p>\n\n<p>prompt Help is appreciated </p>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":12483132,"title":"cursor not returning column value","body":"<p>I'm getting a NullPointerException with a \"prntln needs a message\" error even though there is data in the cursor. What might I be missing here?</p>\n\n<pre><code> databaseHelper = new DatabaseHelper(this);\n db = databaseHelper.getWritableDatabase();\n\n Cursor c = db.rawQuery(\"SELECT name, group FROM \" +\n             \"groupWorksheet\", null);\n\n if (c != null ) {\n\n if  (c.moveToFirst()) {\n     Log.v(TAG, \"has data\");\n       do {\n            String myName = c.getString(c.getColumnIndex(\"name\"));\n            Log.v(TAG, myName);\n\n       }while (c.moveToNext());\n }\n }else {\n\nLog.v(TAG, \"no data\");\n }\n</code></pre>\n"},{"tags":["android","sqlite","user-defined-functions"],"answer_count":2,"favorite_count":5,"up_vote_count":6,"down_vote_count":0,"view_count":1387,"score":6,"question_id":7867099,"title":"how to create a user defined function in SQLITE?","body":"<p>I am developing an application in android and I need to create a udf in sqlite. Is it possible to create a udf in sqlite? And if yes how to do this?</p>\n"},{"tags":["sqlite","symfony1","doctrine"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":358,"score":1,"question_id":7919199,"title":"Sqlite in-memory configuration on databases.yml","body":"<p>For speeding up functional tests performance, some people suggest to use a sqlite database on the testing environment. I've tried to figure out how to do it but without luck. Here is the configuration which I'm using for the testing environment:</p>\n\n<pre><code>(config/databases.yml)\ntest:\n  doctrine:\n    class:    sfDoctrineDatabase\n    param:\n      dsn:    mysql://user:pass@localhost/database_test\n</code></pre>\n\n<p>I would like to replace mysql by sqlite:in-memory.</p>\n"},{"tags":["cocoa","sqlite","nstask"],"answer_count":1,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":31,"score":1,"question_id":12477707,"title":"How to create a new Database by SQLite programmatically in Cocoa for OSX?","body":"<p>In a program , I need to let user to save data to a SQLite database ( a \"Save as \" Option ).\nI did it by using NSTask for sending a command like: \"sqlite3 ./mydatbase.db\" as a Terminal command  . It works fine on my own Mac, but not on others' without Xcode installed ( As SQLite installs with Xcode ).\nHere is the problem: Is there any way to make a new Database ( not a new Table) programmatically for systems without SQLite ?\nAny answer appreciated.</p>\n"},{"tags":["django","sqlite","unit-testing","couchdb","django-testing"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":12479063,"title":"replacing default sqlite with couchdb database for django test optimization","body":"<p><a href=\"https://docs.djangoproject.com/en/dev/topics/db/multi-db/#topics-db-multi-db-routing\" rel=\"nofollow\">Django allows auto database routing</a>. It is possible to have different databases for test and production. The default for test is sqlite3. Will migrating from <code>sqlite3</code> to <code>couchdb</code> will have any significant time improvement for unittests which take more than 10 mins. to run?</p>\n\n<p>What other if any test db optimization can be done?</p>\n"},{"tags":["android","sqlite","listview","sql-order-by","simplecursoradapter"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":118,"score":0,"question_id":12479813,"title":"Reverse order in ListView using SimpleCursorAdapter and SQLite","body":"<p>I am filling a ListView with data from my SQLite Database using a SimpleCursorAdapter. The data is fine but the latest entry is always inserted at the bottom of the ListView and I want to have it at the top.</p>\n\n<p>I already found this <a href=\"http://stackoverflow.com/questions/5860732/reverse-the-order-of-listview-display\">post</a> but I don`t know how to import this to my project.\nAt the moment my SQL query looks like this:</p>\n\n<pre><code>public Cursor fetchAllProjects() {\n\n  Cursor mCursor = mDb.query(SQLITE_TABLE, new String[] {KEY_ROWID,\n    KEY_ROUTERIP, KEY_PROJECTNAME, KEY_URL, KEY_CALIMERO}, \n    null, null, null, null, null);\n\n  if (mCursor != null) {\n   mCursor.moveToFirst();\n  }\n  return mCursor;\n}\n</code></pre>\n\n<p>What do I have to change to see the ListView in descending order? Or do I have to change something at my SimpleCursorAdapter?</p>\n\n<p>Thanks!</p>\n"},{"tags":["mysql","sql","database","sqlite"],"answer_count":6,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":12479621,"title":"Check whether a column is empty","body":"<p>I need to retrieve columns of a row that one of its data types is empty.\nExtra VARCHAR\nExtra has nothing in it </p>\n\n<p>Show those with empty extra column </p>\n\n<pre><code>  Select * FROM Items WHERE Extra ?????\n</code></pre>\n\n<p>What should be the condition ?</p>\n"},{"tags":["php","sqlite","sqlite3"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":42,"score":0,"question_id":12478462,"title":"SQLite extended insert","body":"<p>This works.</p>\n\n<pre><code>INSERT INTO matrix (id, ref) VALUES (1, 47557);\n</code></pre>\n\n<p>These do not.</p>\n\n<pre><code>INSERT INTO matrix (id, ref) VALUES (1, 47557), (2, 47558), (17, 47573), (18, 47574), (19, 47575);\nINSERT INTO matrix (id, ref) VALUES ((1, 47557), (2, 47558), (17, 47573), (18, 47574), (19, 47575));\n</code></pre>\n\n<p>Is there a way to make an extended SQLite query?</p>\n\n<p>According to this:\n<a href=\"http://www.sqlite.org/lang_insert.html\" rel=\"nofollow\">http://www.sqlite.org/lang_insert.html</a>\nit should work.....</p>\n"},{"tags":["html5","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":89,"score":1,"question_id":12476074,"title":"SQLite Query to get sum_of_fields for every 10mins","body":"<p>Hi i have the following table structure.</p>\n\n<pre><code>RESE_ID DATE_OF_SERVICE TIME_OF_SERVICE NO_OF_ATT_MALE  NO_OF_ATT_FEMALE\n      1     2012-09-18       16:17:52        5                1\n      2     2012-09-18       16:19:22        1                2\n      3     2012-09-18       16:29:12        2                1\n      4     2012-09-18       16:37:22        1                4\n      5     2012-09-18       16:49:02        6                5\n      6     2012-09-18       17:01:52        3                2\n      7     2012-09-18       17:19:52        0                1\n</code></pre>\n\n<p>I just want the sum of (no_of_att_male) for every 10mins for last 1 hr for eg( 16:00 - 17:00 )</p>\n\n<p>like the output shd be</p>\n\n<pre><code>  RESE_ID DATE_OF_SERVICE  NO_OF_ATT_MALE  NO_OF_ATT_FEMALE    TIME_SLOT\n      1     2012-09-18             0                0        16:00 - 16:10   \n      2     2012-09-18             6                3        16:11 - 16:20     \n      3     2012-09-18             2                1        16:21 - 16:30   \n      4     2012-09-18             1                4        16:31 - 16:40    \n      5     2012-09-18             6                5        16:41 - 16:50   \n      6     2012-09-18             0                0        16:51 - 17:00   \n</code></pre>\n\n<p>kindly suggest me a query which will accept in sqlite ( i am using it in HTML5 )</p>\n"},{"tags":["android","sqlite","set","global-variables"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":12476383,"title":"Store Gloabl DataSet in android","body":"<p>I have a video application , many categories and channels , the user have the option to add a video to his favorite  <code>list</code> , i have 14 <code>Fragments</code> that need to know the id's for the add videos , so i display a star beside the video .. these video ids stored in <code>sqlite</code> database , so i need to load them once in <code>Set</code> and keep adding and removing video actually a <code>synchronized</code> <code>Set</code> , where is the best place to load them and make any Application component access them . I know about the Application Object but loading data from database should be away from the UI thread , so i need a thread .but how to make all fragment waits until the thread finish ??? note i dont want use a splash screen , there is a solution using splash screen . any suggestion or if there is another way to do please tell .</p>\n"},{"tags":["sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":36,"score":-2,"question_id":12475732,"title":"How do we insert the date and time in milliseconds in SQLite","body":"<p>How do we insert the date and time in milliseconds in SQLLite. I need the time in the following format: <code>1347965960423</code>.</p>\n\n<pre><code>Insert into testdate values (\"1347965960423\")\n</code></pre>\n"},{"tags":["sqlite","apps"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":12474847,"title":"sqlite in native apps built using native app building kit","body":"<p>Apps.</p>\n\n<p>Our team has been tasked with creating a new app for the company - it will essentially be an offline catalogue.</p>\n\n<p>The app needs to be able to access data offline thus needs to be a native app:\n - ideally using a database (containing 4000 - 5000 entries id's, geolocations, text descriptions of the entry)</p>\n\n<p>However, we have been advised that if we create this app with a sizey sqlite database we may lead into performance issues.</p>\n\n<p>I was just wondering if anyone had created any similar apps and found performance issues on any smartphones. Or is an sqlite database on a smartphone quite responsive?</p>\n"},{"tags":["android","sqlite","listview"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":12473838,"title":"How to augment a list of contacts","body":"<p>My app shows the contact list and I want to show some additional dynamic information for some of the contacts.  Options I've thought of so far include the following.</p>\n\n<ol>\n<li>Create a matrix cursor containing all the contacts plus my additional information.  I don't like this idea as there may be a very large number of contacts.  But it should be fast when it comes to rendering the views.</li>\n<li>When I get the cursor for the contacts also build a hash table with my additional information.  Then pass both to the CursorAdapter and get it to look up in the hash table as it binds views.  I imagine this should be fast enough as hash tables are fast.</li>\n</ol>\n\n<p>I'm leaning towards 2.  Any better ideas?</p>\n"},{"tags":["android","sqlite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":12473409,"title":"Android how to print sqlite into tableview with grid?","body":"<p>hi i have to draw a table like excel cells.\nwith grid lines and header.</p>\n\n<p>can you please give me some advice how to start it?\ni tried it with listview but that not looks like this.</p>\n\n<p>thank you very much!</p>\n\n<p>i have an image what i need:\n<img src=\"http://i.stack.imgur.com/qy12e.png\" alt=\"enter image description here\"></p>\n"},{"tags":["android","database","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":12472538,"title":"How to replace (change) values ​​in cells DB SQLite (Android)?","body":"<p>I have a question - I have finished the database (SQLite), with updates, I analyze the structure and see whether I need to add new data or change the value in existing positions database. So I have a question - is it possible to replace the values ​​in the entire line at once (that is, in all cells (which are the same id) columns), or there is a possibility to replace the values ​​for each column.</p>\n\n<p>I hope for your help.</p>\n"},{"tags":["android","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":12472106,"title":"How to make a  select query using a local variable in SQLite on Android?","body":"<p>I am new to sqlite and android, my question is simple, in visual studio if you want to make a query from local variable it is done by \"'localvariable'\" like wise but how on sqlite is possible?</p>\n\n<p>for eg..</p>\n\n<pre><code>String local;\nlocal = column1;\n</code></pre>\n\n<p>sqlite query</p>\n\n<pre><code>SELECT \"'local'\" FROM table \n</code></pre>\n\n<p>Table structure</p>\n\n<blockquote>\n  <p>table: column1 column2</p>\n</blockquote>\n\n<p>in the above i cannot use the assigned local variable?\nwhat would be the syntax i am not able to figure out.\ni use raw query.</p>\n\n<p>any help is highly appreciated </p>\n"},{"tags":["iphone","objective-c","ios","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12470315,"title":"retrieving two consecutive records from sqlite by passing two values in ios","body":"<p>I am trying to fetch two consecutive records by passing two values,one value for first record and another value for second record.</p>\n\n<p>My table name is Extractor, which contains three columns 1)wordText 2)wordID 3)rowID(primary key)</p>\n\n<p><strong>Questions:</strong> </p>\n\n<p>1)can we write single query to get two consecutive rows by passing parameters?\n2)If above query is possible how we can able to achieve this?</p>\n\n<p><strong>My approach:</strong> so far I tried with below query </p>\n\n<p>SELECT * FROM Extractor where wordText LIKE \"firstWord\"</p>\n\n<p>after fetching all the records using above query  I am again querying for other record, I know this sequential approach is not good one for  fetching few record from 10000 rows.</p>\n"},{"tags":["android","sqlite","listview","call","adapter"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":340,"score":0,"question_id":11591729,"title":"How to call ListView adapter from another activity for refresh - notifyDataSetChanged()","body":"<p>I want to call a listview adapter from another activies after insert record to sqllite db.</p>\n\n<p>I cant call the adapter.notifyDataSetChanged() method. What is the best way to do it.</p>\n\n<pre><code>public void onClick(View v) {\n    TextView item_name;\n    item_name=(TextView) findViewById(R.id.eItemName);         \n    Log.d(\"Insert: \", \"Inserting ..\");\n    db.add_item(new Item(item_name.getText().toString()), getApplicationContext());\n\n    // I want to call the method HERE!!!! \n\n    finish();   \n}\n</code></pre>\n"},{"tags":["java","javascript","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":73,"score":1,"question_id":12466925,"title":"Is there a SQLite query validator lib?","body":"<p>Is there a Java or javascript SQLite query validator library that I could pass a raw query and validate the input. </p>\n"},{"tags":["c#","sqlite","windows-phone-7","windows-phone"],"answer_count":2,"favorite_count":3,"up_vote_count":4,"down_vote_count":0,"view_count":4057,"score":4,"question_id":5594661,"title":"Windows Phone 7: SQLite","body":"<p>I'm trying to get Community.Csharp working with Windows Phone, I've tried using both the version from <a href=\"http://wp7sqlite.codeplex.com/\" rel=\"nofollow\">http://wp7sqlite.codeplex.com/</a> and compiling the main trunk with the WINDOWS_PHONE flag, but when I run the application on the phone I get an error when trying to execute any queries (but not when opening the database; only on queries): \"Unable to open database file\"</p>\n\n<pre><code>_conn = new SqliteConnection(\"Version=3,uri=file:recipes.sqlite\");\n_conn.Open();\ncmd.CommandText = \"SELECT * FROM recipes\";\nSqliteDataReader reader = cmd.ExecuteReader();\n</code></pre>\n\n<p>Interestingly though, I'm using the following to check for the existence of a table and no exceptions are thrown:</p>\n\n<pre><code>cmd.CommandText = \"SELECT * FROM sqlite_master WHERE name='\" + tableName + \"'\";\nSqliteDataReader rdr = cmd.ExecuteReader();\nexists = rdr.Read();\nrdr.Close();\n</code></pre>\n\n<p>I have a Windows app which uses SQLite, so if I could use SQLite as opposed to Sterling DB or something else, that would save huge amounts of time. The problem I'm having currently is that once I open the database and close it, I cannot re-open it.</p>\n"},{"tags":["android","sqlite","data","storage"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":86,"score":1,"question_id":12470443,"title":"When to use Local storage on Android, and which one is recommended?","body":"<p>I am developing an application where I need to handle some data during the Application session. I do NOT need the data after application is killed or user manually logs out of the application. </p>\n\n<p>I am using POJOs to save the data. POJOs are like Accounts, Users, Campuses, etc. I get all these data in the form of JSON from REST API calls.</p>\n\n<p>As I am fairly new Android development,  I am trying to understand which storage approach is recommended in this scenario. (SQLite, SharedPreferences, ApplicationContext, Bundles, ArrayList, Maps, etc)</p>\n\n<p>Performance is important and searches are performed on this data during the user session.</p>\n\n<p>I would need to construct JSON objects often and post back to API.</p>\n\n<p>Any ideas?</p>\n"},{"tags":["java","database","sqlite","classnotfoundexception","sqlitejdbc"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":135,"score":0,"question_id":11761052,"title":"Special character in path to open SQLite database connection","body":"<p>I am trying to get a connection to a SQLite database (using Eclipse on Windows 8). Everything workes fine as long as the path name doesn't contain any special characters (like \"é\"). I tried to convert it to UTF-8 (because I read on <a href=\"http://www.sqlite.org/c3ref/open.html\" rel=\"nofollow\">http://www.sqlite.org/c3ref/open.html</a> that it should be), but it didn't work. I get an \"out of memory\" exception (SQLException) what means that no database file was found.</p>\n\n<p>This is the code summary of what I did:</p>\n\n<pre><code>public static String DB_PATH = \"jdbc:sqlite:\" + System.getProperty(\"user.home\") + \"&lt;Rest of the path&gt;&lt;databasename&gt;.sqlite\";\n\npublic static void main(String[] args) throws ClassNotFoundException\n{\n  // load the sqlite-JDBC driver using the current class loader\n  Class.forName(\"org.sqlite.JDBC\");\n\n Connection connection = null;\n try\n {\n   // create a database connection\n   connection = DriverManager.getConnection(DB_PATH);\n   Statement statement = connection.createStatement();\n   statement.setQueryTimeout(30);  // set timeout to 30 sec.\n\n   // work with the database ...\n   }\n }\n catch(SQLException e)\n {\n   // if the error message is \"out of memory\", \n   // it probably means no database file is found\n   System.err.println(e.getMessage());\n }\n finally\n {\n   // try to disconnect\n   // ...\n}\n</code></pre>\n\n<p>Thanks for your help!</p>\n"},{"tags":["sqlite","odbc","debian"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":78,"score":0,"question_id":12468805,"title":"Why i can't not connect sqlite database with ODBC?","body":"<p>i have installed unixodbc and sqlite odbc</p>\n\n<pre><code>my /etc/odbcinst.ini  setup:\n\n[SQLite]  \nDescription=SQLite ODBC Driver  \n\nDriver=/usr/local/lib/libsqlite3odbc-0.97.so  \nSetup=/usr/local/lib/libsqlite3odbc-0.97.so  \nThreading=2  \n\nmy /etc/odbc.ini  setup:\n\n[mysqlitedb]  \nDescription=My SQLite test database  \nDriver=SQLite \nDatabase=/home/profile.db  \n# optional lock timeout in milliseconds  \nTimeout=2000  \n\n# odbcinst -j  \nunixODBC 2.2.14  \nDRIVERS............: /etc/odbcinst.ini  \nSYSTEM DATA SOURCES: /etc/odbc.ini  \nFILE DATA SOURCES..: /etc/ODBCDataSources  \nUSER DATA SOURCES..: /root/.odbc.ini  \nSQLULEN Size.......: 4  \nSQLLEN Size........: 4  \nSQLSETPOSIROW Size.: 2  \n\n\n\n# odbcinst  -q -s  \n[mysqlitedb]  \n</code></pre>\n\n<p>when i run :<br>\nroot@debian:~# isql mysqlitedb<br>\n[ISQL]ERROR: Could not SQLConnect  </p>\n\n<p>root@debian:~# sqlite3  /home/profile.db<br>\nSQLite version 3.7.13 2012-06-11 02:05:22<br>\nEnter \".help\" for instructions<br>\nEnter SQL statements terminated with a \";\"  </p>\n\n<p>what's the matter?</p>\n"},{"tags":["iphone","sqlite"],"answer_count":6,"favorite_count":12,"up_vote_count":14,"down_vote_count":0,"view_count":3928,"score":14,"question_id":989558,"title":"Best practices for in-app database migration for Sqlite","body":"<p>I am using sqlite for my iphone and I anticipate the database schema might change over time.  What are the gotchas, naming conventions and things to watch out for to do a successful migration each time?</p>\n\n<p>For example, I have thought of appending a version to the database name (e.g. Database_v1).</p>\n"},{"tags":["java","android","sqlite","cursor","android-sqlite"],"answer_count":3,"favorite_count":2,"up_vote_count":0,"down_vote_count":0,"view_count":64,"score":0,"question_id":12466914,"title":"sqlite + listview + new Activity: close() was never explicitly called on database?","body":"<p>I have made an app that has 3 activities.\nIn the fisrt activity(Import) i just import some values to a sqlite database.</p>\n\n<p>This is my DatabaseHelper class:</p>\n\n<pre><code>   public class DatabaseHelper_bp extends SQLiteOpenHelper {\n\n    private static final String DATABASE_NAME = \"bpDB\";\n    private static final int DATABASE_VERSION = 1;\n\n    // Database creation sql statement\n    private static final String DATABASE_CREATE = \"create table bp_import ( _id integer primary key, datetime text not null, systolic text not null, diastolic text not null, pulses text not null, notes text not null);\";\n\n    public DatabaseHelper_bp(Context context) {\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\n    }\n\n    // Method is called during creation of the database\n    @Override\n    public void onCreate(SQLiteDatabase database) {\n        database.execSQL(DATABASE_CREATE);\n    }\n\n    // Method is called during an upgrade of the database,\n    @Override\n    public void onUpgrade(SQLiteDatabase database, int oldVersion,\n            int newVersion) {\n        Log.w(DatabaseHelper_bp.class.getName(),\n                \"Upgrading database from version \" + oldVersion + \" to \"\n                        + newVersion + \", which will destroy all old data\");\n        database.execSQL(\"DROP TABLE IF EXISTS bp_import\");\n        onCreate(database);\n    }\n}\n</code></pre>\n\n<p>And my  DAO class for my measures/values:</p>\n\n<pre><code>    public class BpDAO {\n\n    private DatabaseHelper_bp dbHelper;\n\n    private SQLiteDatabase database;\n    /**\n     * bp table related constants.\n     */\n    public final static String bp_TABLE = \"bp_import\";\n    public final static String bp_ID = \"_id\";\n    public final static String bp_DT = \"datetime\";\n    public final static String bp_SYS = \"systolic\";\n    public final static String bp_DIA = \"diastolic\";\n    public final static String bp_PUL = \"pulses\";\n    public final static String bp_NOT = \"notes\";\n\n    /**\n     * \n     * @param context\n     */\n    public BpDAO(Context context) {\n        dbHelper = new DatabaseHelper_bp(context);\n        database = dbHelper.getWritableDatabase();\n    }\n\n    /**\n     * \\ Creates a new blood pressure measure\n     * \n     * @param datetime\n     * @param systolic\n     * @param diastolic\n     * @param pulses\n     * @param notes\n     * @return\n     */\n    public long importBP(String datetime, String systolic, String diastolic,\n            String pulses, String notes) {\n        ContentValues values = new ContentValues();\n        values.put(bp_DT, datetime);\n        values.put(bp_SYS, systolic);\n        values.put(bp_DIA, diastolic);\n        values.put(bp_PUL, pulses);\n        values.put(bp_NOT, notes);\n        return database.insert(bp_TABLE, null, values);\n    }\n\n    public void close() {\n           database.close();\n    }\n\n    /**\n     * Fetch all bp\n     * \n     * @return\n     */\n    public Cursor fetchAll_bp() {\n        Cursor mCursor = database.query(true, bp_TABLE, new String[] { bp_SYS,\n                bp_DIA, bp_DT, bp_ID }, null, null, null, null, null, null);\n        if (mCursor != null) {\n            mCursor.moveToFirst();\n        }\n        return mCursor;\n    }\n}\n</code></pre>\n\n<p>In the second activity(History) i have a List that is populated by the database,all ok<img src=\"http://i.stack.imgur.com/pMCvZ.png\" alt=\"enter image description here\"></p>\n\n<p>Here is the code of 2 Activity(history):</p>\n\n<pre><code>public class HistoryActivity extends ListActivity {\n\nprivate BpDAO dao;\n\nprivate SimpleCursorAdapter dbAdapter;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    // TODO Auto-generated method stub\n    super.onCreate(savedInstanceState);\n    dao = new BpDAO(this);\n    Cursor bpList = dao.fetchAll_bp();\n    String[] from = new String[] { BpDAO.bp_SYS, BpDAO.bp_DIA, BpDAO.bp_DT };\n    int[] target = new int[] { R.id.bpSysHolder, R.id.bpDiaHolder,\n            R.id.bpDtHolder };\n    dbAdapter = new SimpleCursorAdapter(this, R.layout.history_bp, bpList,\n            from, target);\n    setListAdapter(dbAdapter);\n}\n\n@Override\npublic void onListItemClick(ListView l, View view, int position, long id) {\n    // TODO Auto-generated method stub\n    super.onListItemClick(l, view, position, id);\n    Log.d(\"BPT\", \"Selected bp id =\" + id);\n            // log says that i have selected an item with id : 11 \n\n    Cursor selectedBpDetails = (Cursor) l.getItemAtPosition(position);\n\n    String bp_DT = selectedBpDetails.getString(selectedBpDetails\n            .getColumnIndex(BpDAO.bp_DT));\n    String bp_SYS = selectedBpDetails.getString(selectedBpDetails\n            .getColumnIndex(BpDAO.bp_SYS));\n    String bp_DIA = selectedBpDetails.getString(selectedBpDetails\n            .getColumnIndex(BpDAO.bp_DIA));\n    String bp_PUL = selectedBpDetails.getString(selectedBpDetails\n            .getColumnIndex(BpDAO.bp_PUL));\n    String bp_NOT = selectedBpDetails.getString(selectedBpDetails\n            .getColumnIndex(BpDAO.bp_NOT));\n\n    Log.d(\"BPT\", \"Selected bp details = { date=\" + bp_DT + \", systolic=\"\n            + bp_SYS + \", diastolic=\" + bp_DIA + \", pulses=\" + bp_PUL\n            + \", notes=\" + bp_NOT + \" }\");\n\n    Intent intent = new Intent(HistoryActivity.this, FromHistory.class);\n    intent.putExtra(\"bp_SYS\", bp_SYS);\n    intent.putExtra(\"bp_DIA\", bp_DIA);\n    intent.putExtra(\"bp_DT\", bp_DT);\n    intent.putExtra(\"bp_PUL\", bp_PUL);\n    intent.putExtra(\"bp_NOT\", bp_NOT);\n    startActivity(intent);\n}\n</code></pre>\n\n<p>}</p>\n\n<p>When i click on a list item i start a new activity that i show all the infos of the measure from the database.</p>\n\n<p>But i have in logcat: </p>\n\n<pre><code>1.close() was never explicitly called on database\n2.android.database.sqlite.DatabaseObjectNotClosedException: Application did not close the cursor or database object that was opened here\n3.E/System(561): java.lang.IllegalStateException: Don't have database lock!\n</code></pre>\n\n<p>I have seen some other questions but didn't manage to find how to close it for my situation.</p>\n"},{"tags":["c#","sqlite","system.data.sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":12467594,"title":"Proper way to set up reference to System.Data.Sqlite","body":"<p>My solution contains several projects. One of them (DataBaseProject) is using Sqlite so I've added reference to System.Data.Sqlite and set \"copy local\" to TRUE. DataBaseProject is referenced by MainProject. After build in MainProject bin folder there is only DataBaseProject.dll but missing System.Data.Sqlite.dll. How to set up project, that System.Data.Sqlite.dll would be in bin folder of MainProject?</p>\n"},{"tags":["php","sqlite","symfony1","doctrine","phpunit"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":108,"score":1,"question_id":12464690,"title":"Functional tests with sqlite in memory","body":"<p>I know that already exists some topics about this, but I couldn't get any concrete answer.</p>\n\n<p>I already have in memory database in Units Test with:</p>\n\n<pre><code>Doctrine_Core::createTablesFromModels(sfConfig::get('sf_lib_dir').'/model');\nDoctrine_Core::loadData(sfConfig::get('sf_test_dir').'/phpunit/fixtures');\n</code></pre>\n\n<p>But this doesn't work with functional tests.\nAlways says: <code>no such table: user.</code></p>\n\n<p>But if run the test with this StepUp:</p>\n\n<pre><code>    Doctrine_Core::createTablesFromModels(sfConfig::get('sf_lib_dir').'/model');\n    Doctrine_Core::loadData(sfConfig::get('sf_test_dir').'/phpunit/fixtures');\n    Doctrine_Core::loadData(sfConfig::get('sf_test_dir').'/phpunit/fixtures');\n</code></pre>\n\n<p>Will give an exception: \"Doctrine_Connection_Sqlite_Exception: Integrity constraint violation: 19 column username is not unique\", which makes sense, because the username must be unique and is a proof that is loading the data into the sqlite database in memory.</p>\n\n<p>I suspect that when the browser make a request, it will create a new connection for SQLite database in memory instead of using the current open by CLI.</p>\n"},{"tags":["sqlite","ipc","shared-memory","named-pipes"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":45,"score":2,"question_id":12464755,"title":"sqlite vs shared memory app vs ipc vs?","body":"<p>I'm not even sure of the right terminology, so let me start with my objective: to have a simple app (\"Data Doler\") that does nothing but read a huge hunk of data from a file into memory, and then serve up slices of that data to a single multi-threaded app called \"Data Lapper\", or to multiple instances of Data Lapper.</p>\n\n<p>Data Doler only needs to start up and read the data hunk once, and so I want it to stick around at least until Armageddon.  Data Doler should just sit there idling, waiting for Data Lapper(s) to connect and start requesting data. Data Doler will always run on a multi-core machine with > 50 gigabytes of memory. </p>\n\n<p>The data is static and read only, and it is indexed such that all Data Lapper needs to do is give Data Doler a memory address and it instantly gets back the exact slice of data requested.</p>\n\n<p>Data Doler can be written in any language (C, C++, AtariBasic, etc).</p>\n\n<p>I have the C source code for Data Lapper, so how I connect to Data Doler is entirely open.</p>\n\n<p>I've started to educate myself about SqLite, shared memory apps, named pipes, ipc, etc.  But I'm hoping someone can save me some time by telling me which tree I should be barking up, or whether I'm so clueless about this stuff I'd be better off staying on the porch.</p>\n"},{"tags":["android","query","sqlite","sql-order-by"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":12460931,"title":"Android SQLite ORDER BY not working in query","body":"<p>I have a DB with 6 fields, and I want to do a query ordering it by \"num\"</p>\n\n<pre><code>c=myDbHelper.query(m_db, new String[] {\"_cod\", \"nombre\", \"flag\", \"cod_url\", \"tipo_l_menu\", \"num\"}, null, null, null, null, \"num\");\n</code></pre>\n\n<p>With this I get the query but it is not sorted. What am I doing wrong?</p>\n"},{"tags":["c","multithreading","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":60,"score":0,"question_id":12463262,"title":"Why is sqlite telling me \"out of memory\"?","body":"<p>I'm experimenting with sqlite3. I'm intending to use it in a multithreaded application to tackle all the locking and atomicity of the data shared between threads.  To keep speed up and because I don't need the data saved between program runs, I'm trying to use an in-memory database that will most of the time contain &lt; 100 rows, at worst &lt; 500 rows.</p>\n\n<p>I'm running on Ubuntu 12.04 x64 with libsqlite3 version 3.7.9-2ubuntu1.1.</p>\n\n<p>Here's my code:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;sqlite3.h&gt;\n\nint main(int argc, char *argv[]) {\n    sqlite3 *db;\n    char *zErrMsg = 0;\n    int rc;\n\n    rc = sqlite3_open_v2(\"file::memory:?cache=shared\", &amp;db, SQLITE_OPEN_FULLMUTEX, NULL);\n\n    /* This should never ever happen! */\n    if (rc != SQLITE_OK) {\n        fprintf(stderr, \"Can't open database: %s\\n\", sqlite3_errmsg(db));\n        sqlite3_close(db);\n        return(1);\n    }\n\n    rc = sqlite3_exec(db, \"CREATE TABLE Players (id int, ip varchar(15), x int, y int);\", NULL, NULL, &amp;zErrMsg);\n    if (rc != SQLITE_OK) {\n        fprintf(stderr, \"SQL error: %s\\n\", zErrMsg);\n        sqlite3_free(zErrMsg);\n    }\n\n    sqlite3_close(db);\n    return 0;\n}\n</code></pre>\n\n<p>For the sqlite3_open line, I've tried tons of variations and I have two problems.  When I try these variations, I get an \"Out of memory\" error in the section I ironically commented as \"should never happen\":</p>\n\n<pre><code>rc = sqlite3_open_v2(\"file::memory:?cache=shared\", &amp;db, SQLITE_OPEN_FULLMUTEX, NULL);\nrc = sqlite3_open_v2(\":memory:\", &amp;db, SQLITE_OPEN_FULLMUTEX, NULL);\n</code></pre>\n\n<p>When I try this simpler line, it defies the documentation by making a file on the disk called \"file::memory:?cache=shared\":</p>\n\n<pre><code>rc = sqlite3_open(\"file::memory:?cache=shared\", &amp;db);\n</code></pre>\n\n<p>What on Earth am I doing wrong here?</p>\n"},{"tags":["sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":15,"score":1,"question_id":12464125,"title":"SQLite DB in iOS App and table IDs","body":"<p>I've managed to create a SQLite DB in an iOS App by following some tutorials. I was initially expecting to rely on the primary key. At the time I didn't know it was impossible to drop or make again the primary key in SQLite and now my App is huge and in order for it to work I need the primary key to stay \"ordered\".</p>\n\n<p>I'm developing a task manager as an exercise and I'm loading data directly from the DB to a TableView and when I delete a row I need the primary key index fixed.</p>\n\n<p>Currently this is what happens when I delete a row:</p>\n\n<pre><code>ID TXT STAT\n1 some_text 1\n2 some_text 1\n4 some_text 1\n</code></pre>\n\n<p>As you can see the primary key <code>ID</code> after I deleted the row is jumping a number, how can I make it to 1 2 3 etc... again?</p>\n\n<p>I really don't care if the solutions you present waste to much resources, this is only an exercise and I need it working :D (And I won't make this mistake again!)</p>\n\n<p>Thank you.</p>\n"},{"tags":["iphone","json","sqlite"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":73,"score":1,"question_id":12459617,"title":"Fetch data from JSON server and automatically store in sqlite","body":"<p>I want  to fetch data from JSON and store it automatically to sqlite whatever updated on server automatically updates to database whenever program runs. \nCan anyone help me out in it. And if my question is not sufficient to answer please ask anything required.</p>\n\n<p>Thanks in advance. </p>\n"},{"tags":["javascript","android","sqlite","insert"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":85,"score":0,"question_id":12461316,"title":"Can't insert data to an SQLite DB on Android","body":"<p>I'm trying to make an INSERT into a SQLite database in an android app that I'm developing. \nI have an HTML form with some fields and I'm able to get the info from those fields.\nWhen I try to make the INSERT I get an error: 'Error Processing SQL: undefined'.\nCan anybody help me? I'm kind of a newbie.\nHere's the code I'm using:\nHTML Form</p>\n\n<pre><code>&lt;form name=\"editNoteForm\" id=\"editNoteForm\" method=\"post\" action=\"index.html\"&gt;\n  &lt;label for=\"primeiroNome\"&gt;1&amp;#186; Nome&lt;/label&gt;\n    &lt;input type=\"text\" name=\"primeiroNome\" id=\"primeiroNome\"&gt;\n\n  &lt;label for=\"utlimoNome\"&gt;&amp;Uacute;ltimo Nome&lt;/label&gt;\n    &lt;input type=\"text\" name=\"ultimoNome\" id=\"ultimoNome\"&gt;\n\n  &lt;label for=\"numeroTelefone\"&gt;Telefone&lt;/label&gt;\n    &lt;input type=\"number\" name=\"numeroTelefone\" id=\"numeroTelefone\"&gt;\n\n  &lt;input type=\"submit\" onclick=\"onSubmit();\" id=\"editFormSubmitButton\" value=\"Save Note\"&gt;\n\n&lt;/form&gt;\n</code></pre>\n\n<p>Javascript Code</p>\n\n<pre><code>function onSubmit() {\n         db.transaction(addRowDB, errorCB, successCB);\n         alert('Done');\n    }\n\n    function addRowDB(tx) {\n        var primeiroNome = document.getElementById('primeiroNome').value;\n        var ultimoNome = document.getElementById('ultimoNome').value;\n        var numeroTelefone = document.getElementById('numeroTelefone').value;\n        tx.executeSql('INSERT INTO DEMO (id, nome, ultimo, telefone) VALUES (null, primeiroNome, ultimoNome, numeroTelefone)');\n\n    }\n</code></pre>\n\n<p>Thanks.</p>\n"},{"tags":["mysql","sql","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":12461781,"title":"Weird issue on count and group_by and maybe distinct","body":"<p>Scenario:</p>\n\n<p>I have a table named snippets with 5 rows,\nI have a table named revisions with 15 rows</p>\n\n<p>What I wanted to do was get all snippets, which belongs a <code>user_id</code> on revisions, which includes the <code>snippet_id</code>.</p>\n\n<p>I have the following mysql query:</p>\n\n<pre><code>SELECT DISTINCT * FROM \"snippets\" \nINNER JOIN \"revisions\" \n    ON \"user_id\" = \"1\" \n    AND \"snippet_id\" = \"snippets.id\"\nGROUP BY \"snippets\".\"id\" \nORDER BY \"created_at\"\n</code></pre>\n\n<p>That should display all snippets where <code>revisions.user_id = 1</code>. The problem is, why is my count different? The total results from that query is <strong>5</strong>, but when I do:</p>\n\n<pre><code>SELECT COUNT(distinct snippets.id) FROM \"snippets\" \nINNER JOIN \"revisions\" \n    ON \"user_id\" = \"1\" \n    AND \"snippet_id\" = \"snippets.id\"\nGROUP BY \"snippets\".\"id\";\n</code></pre>\n\n<p>The result is <strong>1 1 1 1 1</strong></p>\n"},{"tags":["c","linux","sqlite","graphic"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":4,"view_count":62,"score":-4,"question_id":12461612,"title":"Graphic programming in C, Linux","body":"<p>I save the data from USB into the database sqlite3 and I want to create a wave of these datas, I prefer to use C in Linux, maybe another language is also ok. Anyone has an idea?</p>\n\n<p>Thanks.</p>\n"},{"tags":["sql","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12439591,"title":"how to optimize sql query with indexes","body":"<p>I have this complicated query and I need to optimize that.\nWithout indexes it takes 20ms, I'tried add some indexes, its better, now I have 4ms.\nBut I dont have any experience. Can you help me to make it even faster?</p>\n\n<pre><code> SELECT COUNT(*) FROM(\n   SELECT user_id FROM times \n      INNER JOIN tags ON times.user_id = tags.tag_id \n      INNER JOIN users ON tags.user_nr = users.nr  \n      WHERE (times.time &lt; 1597313) \n        AND (times.run_id=\"118\") \n        AND (times.user_id != 109330258) \n        AND (times.user_id != 0) \n        AND (times.time != 0 ) \n        AND (times.cell != 1 ) \n        AND (users.category_id=\"4\") \n        GROUP BY user_id HAVING count(*) == 1 \n   UNION  \n   SELECT user_id FROM times \n   INNER JOIN tags ON times.user_id = tags.tag_id \n   INNER JOIN users ON tags.user_nr = users.nr  \n   WHERE (times.run_id=\"118\") \n     AND (times.user_id != 109330258) \n     AND (times.user_id != 0 ) \n     AND (times.time != 0 ) AND (times.cell != 1 ) \n     AND (users.category_id=\"4\") \n     GROUP BY user_id HAVING count(*) &gt; 1\n   )\n</code></pre>\n\n<p>I added 3 indexes.</p>\n\n<ul>\n<li>table tags - tagid </li>\n<li>table times - user_id </li>\n<li>table user - nr</li>\n</ul>\n"},{"tags":["c#","sqlite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":12444407,"title":"sqlite3_exec() won't work (c#, cgi)","body":"<p>Is there a reason why <code>sqlite3_exec()</code> won't work even though all <code>sqlite3_prepare_v2</code> works?</p>\n\n<p>I know the syntax is right</p>\n\n<pre><code>sqlite3_exec(strptr, \"insert into sometable values(0, 1, 2);\", 0,0,0);\n</code></pre>\n\n<p>I just can't find the reason why it fails to execute though <code>SQLITE_OK</code> returns 0 (and if I'm not mistaken, it returns 0 on successful execs).</p>\n\n<p>I've read this question, <a href=\"http://stackoverflow.com/questions/7275503/xcode-update-statement-sqlite-wont-work-for-me\">Xcode: UPDATE statement SQLite won&#39;t work for me</a> , but I didn't know how it worked. Sorry.</p>\n\n<p>When I try running it in the terminal, the exec updates the db, <code>sqlite_exec()==SQLITE_OK</code> too. But it doesn't work on the browser. What may be the problem? </p>\n"},{"tags":["iphone","objective-c","sqlite"],"answer_count":2,"favorite_count":3,"up_vote_count":0,"down_vote_count":1,"view_count":63,"score":-1,"question_id":12384359,"title":"how to create and access sqlite-cursor in objective c?","body":"<p>How do I create a cursor and use it in my iphone application?  </p>\n\n<p>I am getting 10000+ records using <code>select * from tablename</code>.</p>\n\n<p>But I don't want to load all the records at a time... I know that we can use cursor for this.  </p>\n\n<p>I can't able to find any samples related to it.. can any body give some link or sample which  explains how to use cursor in sqlite.</p>\n"},{"tags":["android","sqlite","datetime","android-listview"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":12457926,"title":"Storing/retrieving DateTime","body":"<p>I've an app that is retrieving a date that is stored as a string as a millisecs from 1970, eg  <code>1324657734883</code>. </p>\n\n<p>I have a <code>ListView</code> that displays this date asis. I'd like to display the joda <code>DateTime</code> from this field in the database. My view displays the listview and populates it by using <code>startManagingCursor()</code> so i don't think there is any way of converting the <code>milisec</code> format to a <code>DateTime</code> before it is populated to the <code>listview</code>. </p>\n\n<p>Is there a way around this or do i have to store a DateTime and if so what is the column type i need to declare to store this type of data?</p>\n\n<pre><code>protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    nfcscannerapplication = (NfcScannerApplication) getApplication();\n\n    // setup UI\n    setContentView(R.layout.viewtransactions);\n    setTitle(getCarername() + \" has completed \" + nfcscannerapplication.loginValidate.getNumberOfTransactions() + \" visits today\");\n    //transactionCount = (TextView)findViewById(R.id.textviewtransactionsfordaycount);\n    viewTransactions = (ListView) findViewById(R.id.listviewtransactions);\n\n    //transactionCount.setText(\"You have completed 6 transactions today\");\n\n    // get data\n    cursor = nfcscannerapplication.loginValidate.queryAllFromTransactions();\n    startManagingCursor(cursor);\n\n    // setup adapter and show the data\n\n\n\n\n    String[] from = { \n            LoginValidate.C_NAME, LoginValidate.C_TAG_SCAN_TIME,\n            LoginValidate.C_TAG_SCAN_TIME};\n    int[] to = { R.id.rowcarername, R.id.rowsignedinoutstatus, R.id.rowsenttoserverat };\n\n    adapter = new SimpleCursorAdapter(nfcscannerapplication, R.layout.rowdataactual,\n            cursor, from, to);\n    viewTransactions.setAdapter(adapter);\n\n\n}\n\n}\n</code></pre>\n\n<p>.</p>\n\n<p>[update1]\n    public class ViewTransactions extends NfcBaseActivity{</p>\n\n<pre><code>private static final String TAG = ViewTransactions.class.getSimpleName();\n\nNfcScannerApplication nfcscannerapplication;\nCursor cursor;\nListView viewTransactions;\nSimpleCursorAdapter adapter;\nMyAdapter myAdapter;\n//TextView transactionCount; //now written to status bar\n\n@SuppressWarnings(\"deprecation\")\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    nfcscannerapplication = (NfcScannerApplication) getApplication();\n\n    // setup UI\n    setContentView(R.layout.viewtransactions);\n    setTitle(getCarername() + \" has completed \" + nfcscannerapplication.loginValidate.getNumberOfTransactions() + \" visits today\");\n    //transactionCount = (TextView)findViewById(R.id.textviewtransactionsfordaycount);\n    viewTransactions = (ListView) findViewById(R.id.listviewtransactions);\n\n    //transactionCount.setText(\"You have completed 6 transactions today\");\n\n    // get data\n    cursor = nfcscannerapplication.loginValidate.queryAllFromTransactions();\n    startManagingCursor(cursor);\n\n    // setup adapter and show the data\n\n\n\n\n    String[] from = { \n            LoginValidate.C_NAME, LoginValidate.C_TAG_SCAN_TIME,\n            LoginValidate.C_TAG_SCAN_TIME};\n    int[] to = { R.id.rowcarername, R.id.rowsignedinoutstatus, R.id.rowsenttoserverat };\n\n    myAdapter = new MyAdapter(nfcscannerapplication, R.layout.rowdataactual,\n            cursor, from, to);\n    viewTransactions.setAdapter(adapter);\n\n\n}\n\n\nclass MyAdapter extends SimpleCursorAdapter {\n\n    public MyAdapter(Context context, int layout, Cursor c, String[] from,\n            int[] to) {\n        super(context, layout, c, from, to);\n    }\n\n    @Override\n    public\n    View getView(int position, View convertView, ViewGroup parent) {\n        View v = super.getView(position, convertView, parent);\n        if(v == null)\n            return null;\n\n        Cursor c = (Cursor)getItem(position);\n        String val = c.getString(c.getColumnIndex(LoginValidate.C_TAG_SCAN_TIME));\n        Date dt = new Date(Long.parseLong(val));\n        SimpleDateFormat df = new SimpleDateFormat(\"dd MMMM yyyy\");\n        String res = df.format(dt);\n\n        ((TextView)v.findViewById(R.id.rowsignedinoutstatus)).setText(res);\n        ((TextView)v.findViewById(R.id.rowsenttoserverat)).setText(res);\n\n        return v;\n    }\n}\n\n}\n</code></pre>\n"},{"tags":["android","database","sqlite","listview","sharedpreferences"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":64,"score":1,"question_id":12458563,"title":"How to save project in Android with about 10 variables?","body":"<p>i am new to Android development. I have two activities <strong>A</strong> and <strong>B</strong>. In activity <strong>A</strong> I use a xml parser to gain objects with each about 10 strings included. I want to pass these objects to activity <strong>B</strong> and there should be a listview showing all the objects. Clicking on a object in the listview should show the 10 strings.</p>\n\n<p>I am not sure if I have to use a SQLite database or if I only can use SharedPreferences? \nOr can I even store it on the internal memory? </p>\n\n<p>The objects should be saved even if i kill the app.</p>\n\n<p>Hope someone can give me some hints, thanks!</p>\n"},{"tags":["android","sqlite","google-charts","android-canvas","android-assets"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":12458492,"title":"How to create chart for excel data in android?","body":"<p>Hi I want to create pie chart based on SQLite database table value. I follow this link <a href=\"http://android-coding.blogspot.in/2011/09/generate-3d-pie-chart-using-google.html\" rel=\"nofollow\">http://android-coding.blogspot.in/2011/09/generate-3d-pie-chart-using-google.html</a> and create pie-chart with manual data. But i want to create pis chart in data base values. Otherwise i want to create the same pie chart based on excel sheet values which is stored into asset folder? How can i do this? Can any body help me? Thanks in advance.</p>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":12445658,"title":"App force closing if sqlite record goes above 5","body":"<p>I'm working on a building directory app, and when doing an address reverse lookup, the code will work fine for the first 5 records, but crash with an error of </p>\n\n<blockquote>\n  <p>'android.database.CursorIndexOutOfBoundsException: Index 0 requested,\n  with a size of 0'</p>\n</blockquote>\n\n<p>I've logged the number of records, and the column index. The first 5 records in the table produce the expected results, however, anything above that in the index count, it crashes. </p>\n\n<p>Heres the code for the activity:</p>\n\n<pre><code>public class AddressReverse extends Activity implements TextWatcher \n{\nAutoCompleteTextView actv;\nString address[];\nprivate ArrayList&lt;String&gt; results = new ArrayList&lt;String&gt;();\nprivate SQLiteDatabase db;\n\n@Override\npublic void onCreate(Bundle savedInstanceState)\n{\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.address_reverse);\n\n    DatabaseHelper helper = new DatabaseHelper(this.getApplicationContext());\n    db = helper.getWritableDatabase();\n    Cursor c = db.rawQuery(\"SELECT address FROM buildings\", null);\n\n    if (c!=null)\n    {\n        if (c.moveToFirst())\n        {\n            do\n            {\n                String address = c.getString(c.getColumnIndex(\"address\"));\n                results.add(address);\n                Log.d(\"Cursor count\", c.getCount()+\"\");\n                Log.d(\"Cursor Index\", c.getColumnIndex(\"address\")+\"\");\n            }\n            while (c.moveToNext());\n        }\n        c.close();\n    }\n\n    actv = (AutoCompleteTextView)findViewById(R.id.autoCompleteTextView1);\n    actv.addTextChangedListener(this);\n    actv.setAdapter(new ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_dropdown_item_1line, results));\n\n    actv.setOnItemClickListener(new OnItemClickListener()\n    {\n\n        @Override\n        public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position,\n                long id) {\n            // TODO Auto-generated method stub\n            String address = ((TextView)view).getText().toString();\n            Intent i =new Intent(getApplicationContext(), BuildingDetails.class);\n            i.putExtra(\"building\", address);\n            startActivity(i);\n        }\n\n    });\n\n}\n\n@Override\npublic void afterTextChanged(Editable arg0) {\n    // TODO Auto-generated method stub\n\n}\n\n@Override\npublic void beforeTextChanged(CharSequence s, int start, int count,\n        int after) {\n    // TODO Auto-generated method stub\n\n}\n\n@Override\npublic void onTextChanged(CharSequence s, int start, int before, int count) {\n    // TODO Auto-generated method stub\n\n}}\n</code></pre>\n\n<p>Any thoughts? Thanks</p>\n\n<p>EDIT: Heres a logcat of the crash:</p>\n\n<pre><code>E/AndroidRuntime( 8952): FATAL EXCEPTION: main\nE/AndroidRuntime( 8952): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.dynamite.bible/com.dynamite.bible.BuildingDetails}: android.database.CursorIndexOutOfBoundsException: Index 0 requested, with a size of 0\nE/AndroidRuntime( 8952):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2182)\nE/AndroidRuntime( 8952):    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2207)\nE/AndroidRuntime( 8952):    at android.app.ActivityThread.access$600(ActivityThread.java:139)\nE/AndroidRuntime( 8952):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1205)\nE/AndroidRuntime( 8952):    at android.os.Handler.dispatchMessage(Handler.java:99)\nE/AndroidRuntime( 8952):    at android.os.Looper.loop(Looper.java:137)\nE/AndroidRuntime( 8952):    at android.app.ActivityThread.main(ActivityThread.java:4899)\nE/AndroidRuntime( 8952):    at java.lang.reflect.Method.invokeNative(Native Method)\nE/AndroidRuntime( 8952):    at java.lang.reflect.Method.invoke(Method.java:511)\nE/AndroidRuntime( 8952):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:791)\nE/AndroidRuntime( 8952):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:558)\nE/AndroidRuntime( 8952):    at dalvik.system.NativeStart.main(Native Method)\nE/AndroidRuntime( 8952): Caused by: android.database.CursorIndexOutOfBoundsException: Index 0 requested, with a size of 0\nE/AndroidRuntime( 8952):    at android.database.AbstractCursor.checkPosition(AbstractCursor.java:418)\nE/AndroidRuntime( 8952):    at android.database.AbstractWindowedCursor.checkPosition(AbstractWindowedCursor.java:136)\nE/AndroidRuntime( 8952):    at android.database.AbstractWindowedCursor.getString(AbstractWindowedCursor.java:50)\nE/AndroidRuntime( 8952):    at com.dynamite.bible.BuildingDetails.onCreate(BuildingDetails.java:40)\nE/AndroidRuntime( 8952):    at android.app.Activity.performCreate(Activity.java:5008)\nE/AndroidRuntime( 8952):    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1079)\nE/AndroidRuntime( 8952):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2136)\nE/AndroidRuntime( 8952):    ... 11 more\nW/ActivityManager(  618):   Force finishing activity com.dynamite.bible/.BuildingDetails\nW/ActivityManager(  618):   Force finishing activity com.dynamite.bible/.AddressReverse\n</code></pre>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":12457003,"title":"Exception on row update","body":"<p>I'm getting the exception:</p>\n\n<blockquote>\n  <p>09-17 09:49:05.424: ERROR/Database(5971): Error updating\n  suggest_text_1=Testttttttt suggest_text_2=null using UPDATE\n  FTStitleslist SET suggest_text_1=?, suggest_text_2=? WHERE\n  suggest_text_1=Test 09-17 09:49:05.434: ERROR/AndroidRuntime(5971):\n  FATAL EXCEPTION: main\n          android.database.sqlite.SQLiteException: no such column: Test: , while compiling: UPDATE FTStitleslist SET suggest_text_1=?,\n  suggest_text_2=? WHERE suggest_text_1=Test\n          at android.database.sqlite.SQLiteCompiledSql.native_compile(Native\n  Method)</p>\n</blockquote>\n\n<p>When I execute the method:</p>\n\n<pre><code>public void updateTitle(String oldTitle, String newTitle) {\n            ContentValues newValues = new ContentValues();\n            newValues.put(KEY_WORD, newTitle);\n            newValues.put(KEY_DEFINITION, \"null\");\n\n            getWritableDatabase().update(FTS_VIRTUAL_TABLE, newValues, KEY_WORD + \"=\" + oldTitle, null);\n        }\n</code></pre>\n\n<p>for the db created like:</p>\n\n<pre><code>private static final String FTS_TABLE_CREATE =\n                \"CREATE VIRTUAL TABLE \" + FTS_VIRTUAL_TABLE +\n                        \" USING fts3 (\" +\n                        KEY_WORD + \", \" +\n                        KEY_DEFINITION + \");\";\n</code></pre>\n\n<p>What's wrong?</p>\n"},{"tags":["sqlite","view"],"answer_count":2,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":35,"score":5,"question_id":12435900,"title":"How to add a new column in a View in sqlite?","body":"<p>I have this database in sqlite (table1):</p>\n\n<pre><code>+-----+-------+-------+\n| _id | name  | level |\n+-----+-------+-------+\n| 1   | Mike  | 3     |\n| 2   | John  | 2     |\n| 3   | Bob   | 2     |\n| 4   | David | 1     |\n| 5   | Tom   | 2     |\n+-----+-------+-------+\n</code></pre>\n\n<p>I want to create a view with all elements of level 2 and then to add a new column indicating the order of the row in the new table. That is, I would want this result:</p>\n\n<pre><code>+-------+------+\n| index | name |\n+-------+------+\n| 1     | John |\n| 2     | Bob  |\n| 3     | Tom  |\n+-------+------+\n</code></pre>\n\n<p>I have tried:</p>\n\n<p></p>\n\n<pre><code>CREATE VIEW words AS SELECT _id as index, name FROM table1;\n</code></pre>\n\n<p>But then I get:</p>\n\n<pre><code>+-------+------+\n| index | name |\n+-------+------+\n| 2     | John |\n| 3     | Bob  |\n| 5     | Tom  |\n+-------+------+\n</code></pre>\n\n<p>I suppose it should be something as:</p>\n\n<p></p>\n\n<pre><code>CREATE VIEW words AS SELECT XXXX as index, name FROM table 1;\n</code></pre>\n\n<p>What should I use instead of <strong><code>XXXX</code></strong>?</p>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":12456468,"title":"DatabaseHandler declaration","body":"<p>Is there any difference between these two statements ??</p>\n\n<pre><code>DatabaseHandler db = new DatabaseHandler(this);\nDatabaseHandler dbs ;\n</code></pre>\n"},{"tags":["android","database","sqlite","android-contentprovider"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12453737,"title":"Several Android Content Providers on one database","body":"<p>It is in general possible to have more than one content provider for only one database?</p>\n\n<p>I have the following situation / wish:</p>\n\n<ol>\n<li><p>I have one app with database that stores \"master data\" (such as project definitions and preferences) and \"live data\" (such as working time for this projects).</p></li>\n<li><p>I have internal content provider to read and write data.</p></li>\n</ol>\n\n<p>Now I want two more content provider for external use.</p>\n\n<ol>\n<li><p>One for the access to \"master data\" (must have special permissions for read and write)</p></li>\n<li><p>One for the access to \"live data\" (must have special permissions for read and write, but different to the firs one).</p></li>\n</ol>\n\n<p>Is it possible? And how?</p>\n\n<p>I tried to implement the different providers, but I get al lot of \"Caused by: java.lang.IllegalStateException: database /data/data/package/databases/db.db (conn# 0) already closed\".</p>\n\n<p>I use only the content provider for the database access. Loader for list of data (Spinner, ListViews) and direct content provider access for single rows.</p>\n"},{"tags":["objective-c","ios","sqlite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":12454517,"title":"Sqlite says \"no such table\" but eventually displays the data from the said table","body":"<p>Let me explain the title. I have this code to check if the table already exists:</p>\n\n<pre><code>NSString *checkSql = @\"SELECT * FROM sqlite_master WHERE type='table' AND name='files'\";\nNSArray *checkArray = [sqlite executeQuery:checkSql];\nif ([checkArray count] != 0)\n{\n   //rest of code here...\n   NSLog(@\"Files table exists\");\n}\nelse\n{\n   NSLog(@\"Files table not found\");\n}\n</code></pre>\n\n<p>Now, this will always display <code>Files table exists</code>. However, when I added these codes:</p>\n\n<pre><code>NSArray *selArr = [sqlite executeQuery:[NSString stringWithFormat:@\"SELECT FileID, FileName, FilePath FROM files WHERE UserID=%@\", userId]];\n</code></pre>\n\n<p>This will display this error:<code>SQLite Prepare Failed: no such table: files\n2012-09-17 14:56:35.723 iskoolme[3275:15203]  - Query: SELECT FileID, FileName, FilePath FROM files WHERE UserID=5</code>.</p>\n\n<p>I don't really understand why it happens. It is not really a problem, because it actually displays the data from the database. I am just curious on what could possibly be the reason for the \"error\". </p>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":12454049,"title":"How to replace minimum value with some value in sqlite?","body":"<p>I am developing an android game. im using sqlite database. I have a table in which five score store. i want to calculate min of all score and replace min value with some other value? how can i achieve this?if there are more than one same score which are min i want replace only one?</p>\n"},{"tags":["c","visual-studio-2010","sqlite","debugging","sqlite3"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":97,"score":0,"question_id":12419443,"title":"How to debug SQLite source code with Visual Studio","body":"<p>I would like to debug an instance of a SQLite database created from modified SQLite code. As a user selects some data from the database I'd like to step through the SQLite source code and see what the logic of SQLite is. The purpose for this is I would like to see if I can add a SELECT trigger to the SQLite source code and create a SQLite database with my new type of trigger in it. Currently SQLite only supports triggers on UPDATE, INSERT &amp; DELETE. </p>\n\n<p>So far I've downloaded the \"amalgamation\" SQLite source code from <a href=\"http://www.sqlite.org/index.html\" rel=\"nofollow\">http://www.sqlite.org/index.html</a> and managed to build it in Visual Studio 2010. I have no idea how to debug against it however. I tried creating a test C# web application that used the SQLite project as a project reference - but it won't let me add it as a reference (Throws an error saying \"A reference to 'mySQLiteproj' could not be added\" which is SOOO useful). My current structure is simply an empty C project with the sqlite3.c and sqlite3.h files in it.</p>\n\n<p>The SQLite code is written in C, which I am unfamiliar with, so maybe I'm going completely down the wrong path? I am coming from a C# background so please don't suggest I scrap using Visual Studio and instead use Notepad or some other \"hardcore\" IDE :)</p>\n\n<p>In short: <strong>How do I debug SQLite Source Code?</strong></p>\n\n<p><strong>Edit:</strong> I've added the shell.c file to the project as suggested by Sergey and can now \"sort of\" debug. It will hit breakpoints in shell.c, but not sqlite3.c. I can step into sqlite3.c as a function call from shell.c, but the lines don't seem to match up with what code is running. Half the lines are greyed out (by resharper perhaps?) and there is no auto-watch of variables or highlighting of which line the code is currently breaking on.</p>\n"},{"tags":["sqlite","ios5","core-data","ios-simulator","uimanageddocument"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":76,"score":0,"question_id":12446937,"title":"Preload sqlite database creating by UIManagedDocument, running Ok in iphone simulator, refusing to work in iphone Device","body":"<p>I've been working on this problem for a week, and I googled and searched stack overflow, read about 40 posts, still can't fix my problem. here is what i did: \n1.I wrote a testing app to create the sqlite database, and preload it with data.\n2.I create myApp, and copied the preloaded DB to resource folder.\n3.I wrote the following code to get the DB:</p>\n\n<pre><code>- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions\n{\n    if (!self.myDataBase) {\n        NSURL *url = [self localDocumentsDirectoryURL];\n        url = [url URLByAppendingPathComponent:@\"myDB/\"];\n        self.myDataBase = [[UIManagedDocument alloc] initWithFileURL:url];\n    }\n\n    return YES;\n}\n\n-(NSURL*)localDocumentsDirectoryURL {\n    static NSURL *localDocumentsDirectoryURL = nil;\n    if (localDocumentsDirectoryURL == nil) {\n        NSString *documentsDirectoryPath = [NSSearchPathForDirectoriesInDomains( NSDocumentDirectory,NSUserDomainMask, YES ) objectAtIndex:0];\n        localDocumentsDirectoryURL = [NSURL fileURLWithPath:documentsDirectoryPath];\n    }\n    return localDocumentsDirectoryURL;\n}\n\n- (void)useDocument\n{\n    if (![[NSFileManager defaultManager] fileExistsAtPath:[self.ICCarDataBase.fileURL path]]) \n    {\n        [self.ICCarDataBase saveToURL:self.ICCarDataBase.fileURL forSaveOperation:UIDocumentSaveForCreating completionHandler:^(BOOL success) {}];\n    } \n    else\n    {\n\n        [self.ICCarDataBase openWithCompletionHandler:^(BOOL success) {}];\n    }\n}\n\n- (void) setICCarDataBase:(UIManagedDocument *)carDataBase\n{\n    if (_ICCarDataBase != carDataBase) {\n        _ICCarDataBase = carDataBase;\n        [self useDocument];\n    }\n}\n</code></pre>\n\n<p>Then when I run myApp in Simulator, myApp successfully get the DB data, and when I run it in my iPhone, the myApp can't get the DB data. \nI don't know if the SDK version matters, coz, the simulator is iphone 5.1, and my iPhone is 5.0 (jailbreak). And I don't use any 5.1 specific function in my App. </p>\n\n<p>Some says that you should copy the DataBase to document dir first for it to work, I've tried the solution, still works ok in simulator, but no data in iPhone. Plus, I looked into iphone folders using iTool, myDB folder is already in the document dir.The post suggest the solution is here:<a href=\"http://stackoverflow.com/a/11713120/1421549\">Pre-load core data database in iOS 5 with UIManagedDocument</a></p>\n\n<p>Other says I should use persistentStoreCoordinator directly. But I think UIManagedDocument could work in my situation, since it create a implicit persistentStoreCoordinator itself.</p>\n\n<p>Any suggestion about what's wrong with myApp?</p>\n\n<p>And anyone can tell me why ios wrap the sqlite DB with two layers of folders, and name the actual sqlite db persisentStore?</p>\n"},{"tags":["ios","sqlite","ios5","logging","sqlite3"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":58,"score":1,"question_id":12452536,"title":"Insert a text file containing logs into a SQLite database","body":"<p>I had use a method to redirect all my logs into a text file. The problem is that i do not know how to store the text file into the SQLite database. </p>\n"},{"tags":["android","sqlite","coordinates"],"answer_count":4,"favorite_count":3,"up_vote_count":2,"down_vote_count":0,"view_count":4870,"score":2,"question_id":2034348,"title":"Android sqlite sort on calculated column (co-ordinates distance)","body":"<p>I am using an SQLITE database to store latitudes and longitudes of locations.</p>\n\n<p>I want to be able to sort the results by rough distance from the current location. I already have the current location of the device as a double (lat, lng), the lat and lng in the database are also doubles.</p>\n\n<p>What I want is a query that will create a virtual column that I am able to sort the results by.</p>\n\n<p>I currently use a function to show the distance for a selected record:</p>\n\n<p><code>\nfloat pk = (float) (180/3.14159);<br>\nfloat a1 = (float) (db_lat / pk);<br>\nfloat a2 = (float) (db_lon / pk);<br>\nfloat b1 = (float) (current_lat / pk);<br>\nfloat b2 = (float) (current_lon / pk);<br>\nfloat t1 = FloatMath.cos(a1)*FloatMath.cos(a2)*FloatMath.cos(b1)*FloatMath.cos(b2);<br>\nfloat t2 = FloatMath.cos(a1)*FloatMath.sin(a2)*FloatMath.cos(b1)*FloatMath.sin(b2);<br>\nfloat t3 = FloatMath.sin(a1)*FloatMath.sin(b1);<br>\ndouble tt = Math.acos(t1 + t2 + t3);<br>\ndouble dist = (6366000*tt);\n</code></p>\n\n<p>For example, a MySQL select could be (taken from: www.movable-type.co.uk):</p>\n\n<p><code>\nSelect Lat, Lon, acos(sin($lat)*sin(radians(Lat)) + cos($lat)*cos(radians(Lat))<em>cos(radians(Lon)-$lon))</em>$R As dist\nFrom MyTable\nORDER BY dist DESC\n</code></p>\n\n<p>Currently I select locations using the following:</p>\n\n<p><code>\n    public Cursor locationGetAllRows(long groupid) \n    {\n        try \n        {\n            return db.query(LOCATION_DATABASE_TABLE, new String[] {\n              \"_id\", \"lat\",\"lon\",\"groupid\"},\n              \"groupid=\"+groupid, null, null, null, null);\n        } \n        catch (SQLException e) \n        {\n            Log.e(\"Exception on query: \", e.toString());\n            return null;\n        }\n    }\n</code></p>\n\n<p>OK so is it possible to use the SQLITE database in this way? If not the only option I can think of is to have an extra column, iterate through the rows running the above function on each row and filling out an extra column on the row, then sorting on that column?</p>\n"},{"tags":["iphone","ios","performance","sqlite","core-data"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":66,"score":1,"question_id":12449667,"title":"SQLite core data performance over time","body":"<p>I am using a SQLite backed core data store for an iPhone app I am currently developing.</p>\n\n<p>I was wondering how database maintenance is handled with SQLite on iPhone if at all? Server based RDBMS systems usually require regular defragmentation and statistics updates etc to ensure consistent performance. I'm not sure how this is handled on mobile devices.</p>\n\n<p>How is this handled in iOs and SQLite.? Is there anything that needs to be done on the part of the developer or is it all handled automatically?</p>\n\n<p>My database will contains at most 100,000 records with approximately 500 inserts or deletes a day.</p>\n"},{"tags":["python","sql","performance","sqlite","comparison"],"answer_count":7,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":443,"score":3,"question_id":10445392,"title":"Very slow select query, how can I speed this up?","body":"<p>I asked two related questions ( <a href=\"http://stackoverflow.com/questions/10412604/how-can-i-speed-up-fetching-the-results-after-running-an-sqlite-query\">How can I speed up fetching the results after running an sqlite query?</a> and <a href=\"http://stackoverflow.com/questions/10336492/is-it-normal-that-sqlite-fetchall-is-so-slow\">Is it normal that sqlite.fetchall() is so slow?</a>). I've changed some things around and got some speed-up, but it still takes over an hour for the select statement to finish. </p>\n\n<p>I've got a table <code>feature</code> which contains an <code>rtMin</code>, <code>rtMax</code>, <code>mzMin</code> and <code>mzMax</code> value. These values together are the corners of a rectangle (if you read my old questions, I save these values separatly instead of getting the min() and max() from the <code>convexhull</code> table, works faster). <BR>And I got a table <code>spectrum</code> with an <code>rt</code> and an <code>mz</code> value. I have a table which links features to spectra when the <code>rt</code>and <code>mz</code>value of the spectrum is in the rectangle of the feature. </p>\n\n<p>To do this I use the following sql and python code to retrieve the ids of the spectrum and feature:</p>\n\n<pre><code>self.cursor.execute(\"SELECT spectrum_id, feature_table_id \"+\n                    \"FROM `spectrum` \"+\n                    \"INNER JOIN `feature` \"+\n                    \"ON feature.msrun_msrun_id = spectrum.msrun_msrun_id \"+\n                    \"WHERE spectrum.scan_start_time &gt;= feature.rtMin \"+\n                    \"AND spectrum.scan_start_time &lt;= feature.rtMax \"+\n                    \"AND spectrum.base_peak_mz &gt;= feature.mzMin \"+\n                    \"AND spectrum.base_peak_mz &lt;= feature.mzMax\")        \nspectrumAndFeature_ids = self.cursor.fetchall()\n\nfor spectrumAndFeature_id in spectrumAndFeature_ids:\n        spectrum_has_feature_inputValues = (spectrumAndFeature_id[0], spectrumAndFeature_id[1])\n        self.cursor.execute(\"INSERT INTO `spectrum_has_feature` VALUES (?,?)\",spectrum_has_feature_inputValues)\n</code></pre>\n\n<p>I timed the execute, fetchall and insert times and got the following:</p>\n\n<pre><code>query took: 74.7989799976 seconds\n5888.845541 seconds since fetchall\nreturned a length of: 10822\ninserting all values took: 3.29669690132 seconds\n</code></pre>\n\n<p>So this query takes about one and a half hours, most of that time doing the fetchall(). How can I speed this up? Should I do the <code>rt</code> and <code>mz</code> comparison in python code?</p>\n\n<hr>\n\n<h2>Update:</h2>\n\n<p>To show what indexes I got, here are the create statements for the tables:</p>\n\n<pre><code>CREATE  TABLE IF NOT EXISTS `feature` (\n  `feature_table_id` INT PRIMARY KEY NOT NULL ,\n  `feature_id` VARCHAR(40) NOT NULL ,\n  `intensity` DOUBLE NOT NULL ,\n  `overallquality` DOUBLE NOT NULL ,\n  `charge` INT NOT NULL ,\n  `content` VARCHAR(45) NOT NULL ,\n  `intensity_cutoff` DOUBLE NOT NULL,\n  `mzMin` DOUBLE NULL ,\n  `mzMax` DOUBLE NULL ,\n  `rtMin` DOUBLE NULL ,\n  `rtMax` DOUBLE NULL ,\n  `msrun_msrun_id` INT NOT NULL ,\n  CONSTRAINT `fk_feature_msrun1`\n    FOREIGN KEY (`msrun_msrun_id` )\n    REFERENCES `msrun` (`msrun_id` )\n    ON DELETE NO ACTION\n    ON UPDATE NO ACTION);\n\n  CREATE UNIQUE INDEX `id_UNIQUE` ON `feature` (`feature_table_id` ASC);\n  CREATE INDEX `fk_feature_msrun1` ON `feature` (`msrun_msrun_id` ASC);\n\n\n\nCREATE  TABLE IF NOT EXISTS `spectrum` (\n  `spectrum_id` INT PRIMARY KEY NOT NULL ,\n  `spectrum_index` INT NOT NULL ,\n  `ms_level` INT NOT NULL ,\n  `base_peak_mz` DOUBLE NOT NULL ,\n  `base_peak_intensity` DOUBLE NOT NULL ,\n  `total_ion_current` DOUBLE NOT NULL ,\n  `lowest_observes_mz` DOUBLE NOT NULL ,\n  `highest_observed_mz` DOUBLE NOT NULL ,\n  `scan_start_time` DOUBLE NOT NULL ,\n  `ion_injection_time` DOUBLE,\n  `binary_data_mz` BLOB NOT NULL,\n  `binaray_data_rt` BLOB NOT NULL,\n  `msrun_msrun_id` INT NOT NULL ,\n  CONSTRAINT `fk_spectrum_msrun1`\n    FOREIGN KEY (`msrun_msrun_id` )\n    REFERENCES `msrun` (`msrun_id` )\n    ON DELETE NO ACTION\n    ON UPDATE NO ACTION);\n\n  CREATE INDEX `fk_spectrum_msrun1` ON `spectrum` (`msrun_msrun_id` ASC);\n\n\n\nCREATE  TABLE IF NOT EXISTS `spectrum_has_feature` (\n  `spectrum_spectrum_id` INT NOT NULL ,\n  `feature_feature_table_id` INT NOT NULL ,\n  CONSTRAINT `fk_spectrum_has_feature_spectrum1`\n    FOREIGN KEY (`spectrum_spectrum_id` )\n    REFERENCES `spectrum` (`spectrum_id` )\n    ON DELETE NO ACTION\n    ON UPDATE NO ACTION,\n  CONSTRAINT `fk_spectrum_has_feature_feature1`\n    FOREIGN KEY (`feature_feature_table_id` )\n    REFERENCES `feature` (`feature_table_id` )\n    ON DELETE NO ACTION\n    ON UPDATE NO ACTION);\n\n  CREATE INDEX `fk_spectrum_has_feature_feature1` ON `spectrum_has_feature` (`feature_feature_table_id` ASC);\n  CREATE INDEX `fk_spectrum_has_feature_spectrum1` ON `spectrum_has_feature` (`spectrum_spectrum_id` ASC);\n</code></pre>\n\n<hr>\n\n<h2>update 2:</h2>\n\n<p>I have 20938 spectra, 305742 features and 2 msruns. It results in 10822 matches. </p>\n\n<hr>\n\n<h2>update 3:</h2>\n\n<p>Using a new index (CREATE INDEX <code>fk_spectrum_msrun1_2</code> ON <code>spectrum</code> (<code>msrun_msrun_id</code>, <code>base_peak_mz</code>);) and between saves about 20 seconds:\nquery took: 76.4599349499 seconds\n5864.15418601 seconds since fetchall</p>\n\n<hr>\n\n<h2>Update 4:</h2>\n\n<p>Print from EXPLAIN QUERY PLAN:</p>\n\n<pre><code>(0, 0, 0, u'SCAN TABLE spectrum (~1000000 rows)'), (0, 1, 1, u'SEARCH TABLE feature USING INDEX fk_feature_msrun1 (msrun_msrun_id=?) (~2 rows)') \n</code></pre>\n"},{"tags":["php","sql","database","performance","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":12422389,"title":"Will randomly reading duplicate SQLite files improve read performance?","body":"<p>This is probably common sense but just want to make sure.</p>\n\n<p>As the <a href=\"http://www.sqlite.org/whentouse.html\" rel=\"nofollow\">manual</a> says, SQLite can theoretically cater up to 1,000,000 hits/day. Now if I'm using SQLite only to read data, and if I make 3 copies (for example) of my database file, then read those randomly, will it theoretically increase performance up to 3,000,000 hits or will it gain nothing since it's using the same library/code?</p>\n\n<p>Example:</p>\n\n<pre><code>$choices[1] = 'db1.db';\n$choices[2] = 'db2.db';\n$choices[3] = 'db3.db';\n\n$random = rand(1, 3);\n$db_file = $choices[$random];\n\n$db-&gt;read($db_file);\n</code></pre>\n"},{"tags":["sql","datetime","sqlite"],"answer_count":5,"favorite_count":5,"up_vote_count":8,"down_vote_count":0,"view_count":21073,"score":8,"question_id":1933720,"title":"How do I insert datetime value into a SQLite database?","body":"<p>I am trying to insert a datetime value into a <a href=\"http://en.wikipedia.org/wiki/SQLite\">SQLite</a> database. It seems to be sucsessful but when I try to retrieve the value there is an error:</p>\n\n<blockquote>\n  <p><strong>&lt;Unable to read data></strong></p>\n</blockquote>\n\n<p>The SQL statements are:</p>\n\n<pre><code>    create table myTable (name varchar(25), myDate DATETIME)\n\n    insert into myTable (name,mydate) Values ('fred','jan 1 2009 13:22:15')\n</code></pre>\n"},{"tags":["c#","database","sqlite","system.data.sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":446,"score":1,"question_id":7138449,"title":"In memory database wrapper for system.data.sqlite","body":"<p>I am using system.data.sqlite for in memory testing, and i wanted to know if any of you got a link or knowledge for a open source project that simply create database and tables ?</p>\n\n<p>For example : </p>\n\n<pre><code>InMemoryDB db = new  InMemoryDB();\nTable t = new Table(\"myTable\");\nt.Add(new Coloum(\"Uid\",DbType.VarChar,PrimeryKey = true));\ndb.Add(t);\n</code></pre>\n\n<p>or even a better idea ?</p>\n"},{"tags":["android","sqlite","actionbarsherlock","commonsware","android-cursorloader"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":80,"score":0,"question_id":12448780,"title":"SherlockListFrgament with CommonsWare Loaderex, can't update data","body":"<pre><code>public class NewFriendsListFragment extends SherlockListFragment implements \n LoaderManager.LoaderCallbacks&lt;Cursor&gt; {\n\nint monthchange, daychange;\n\nDialog dialog;\n\nint pos;\n\n\nCheckedTextView ctv_name;\n\nprivate SimpleCursorAdapter mAdapter=null;\n\nprivate SQLiteCursorLoader loader=null;\n\nString mCurFilter;\n\nprivate static Handler responseHandler;\n\n\nboolean loaded=false;\n\n@Override \npublic void onActivityCreated(Bundle savedInstanceState) {\n    super.onActivityCreated(savedInstanceState);\n\n    //some more stuff...\n\n    setHasOptionsMenu(true);\n\n    mAdapter = new FriendListSCA(getSherlockActivity().getApplicationContext(), \n            R.layout.friend_item, null,null, null, null, null, NAME),\n            new String[]{NAME,MONTH,UID}, new int[]{R.id.name,R.id.info,R.id.profile_pic});\n    setListAdapter(mAdapter);\n\n    setListShown(false);\n\n    registerForContextMenu(getListView());\n\n    getLoaderManager().initLoader(0, null, this);\n\n    responseHandler = new Handler() \n    {                               \n      //handler code\n    };     \n}\n\n\n\npublic Loader&lt;Cursor&gt; onCreateLoader(int loaderId, Bundle args) {\n    //loader code\n    return(loader);\n  }\n\n  public void onLoadFinished(Loader&lt;Cursor&gt; loader, Cursor cursor) {\n          mAdapter.changeCursor(cursor);\n\n          // Showin List\n          if (isResumed()) {\n              setListShown(true);\n          } else {\n              setListShownNoAnimation(true);\n          }\n  }\n\n  public void onLoaderReset(Loader&lt;Cursor&gt; loader) {\n    mAdapter.changeCursor(null);\n  }\n\n@Override\npublic boolean onContextItemSelected(android.view.MenuItem item) {\n    AdapterContextMenuInfo info;\n    try {\n        info = (AdapterView.AdapterContextMenuInfo) item.getMenuInfo();\n    } catch (ClassCastException e) {\n        return false;\n    }\n    pos=info.position;\n\n    switch (item.getItemId()) {\n\n    case R.id.edit_item:\n\n            show_dialog();\n\n        return true;\n    }\n    return(super.onOptionsItemSelected(item));\n\n}\n\n@Override \npublic void onListItemClick(ListView l, View v, final int position, long id) {      \n\n            Log.e(\"onListItemClick\",\"Inside onListItemClick\");  \n            ContentValues cv= new ContentValues();\n//MORE CODE\n\n            loader.update(TABLE_NAME_INCLUDE, cv, _ID+\" = ?\", new String[]{Integer.toString(position)});                \n\n}\n\n\n\nprivate class FriendListSCA extends SimpleCursorAdapter\n{\n\npublic FriendListSCA(Context context, int layout, Cursor c,\n        String[] from, int[] to) {\n    super(context, layout, c, from, to,0); \n    setViewBinder(new FriendsListDataViewBinder()); \n}\n\n}\n\npublic class FriendsListDataViewBinder implements SimpleCursorAdapter.ViewBinder \n{ \n//_ID + \",\" + UID+\",\"+NAME+\",\"+MONTH+\",\"+DAY+\",\"+WISH\n@Override \npublic boolean setViewValue(View view, Cursor c, int columnIndex) \n{ \n\n    switch (view.getId())\n    {\n    case R.id.name:\n        CheckedTextView ctv= (CheckedTextView)view;\n        ctv.setText(c.getString(2));\n        if(c.getInt(5)==0 || c.getInt(4)==-1)\n        {\n            ctv.setPaintFlags(ctv.getPaintFlags() | Paint.STRIKE_THRU_TEXT_FLAG);\n            ctv.setChecked(false);\n        }\n        else\n        {\n            ctv.setPaintFlags(ctv.getPaintFlags() &amp; (~ Paint.STRIKE_THRU_TEXT_FLAG));\n            ctv.setChecked(true);\n        }\n\n        return true; \n\n    case R.id.info:\n\n        if(c.getInt(4)!=-1)\n        {\n            ((TextView)view).setText(Utility.MONTH_NAME[c.getInt(3)-1] + \" \" + Integer.toString(c.getInt(4)));\n        }\n        else\n        {\n            ((TextView)view).setText(\"Tap and hold to manually enter\");\n        }\n        return true;\n    case R.id.profile_pic:\n\n        if(!loaded)\n            return true;\n\n        ((ImageView)view).setImageBitmap(Utility.model.getImage(\n                Long.toString( c.getLong(1) ), getURL(c.getLong(1)) ));\n\n        return true;\n    }\n\n  return false; \n}\n}\n\nprivate void show_dialog()\n{\n//DATE PICKER CODE\n\n okay.setOnClickListener(new Button.OnClickListener() {  \n     @Override\n     public void onClick(View v)\n         {\n            ContentValues cv=new ContentValues();\n            cv.put(MONTH, monthchange);\n            cv.put(DAY, daychange);\n            loader.update(TABLE_NAME_INCLUDE, cv, _ID+\" = ?\" , new String[]{Integer.toString(pos)});\n            //getLoaderManager().restartLoader(0, null, NewFriendsListFragment.this);\n//I tried calling restart loader, but nothing, when I checked\n//it turned out the sqlite database wasn't being updated\n\n            responseHandler.sendEmptyMessage(1); //just dismisses dialog\n         }\n      });     \n dialog.show();\n}\n\n\n\n@Override \npublic void onCreateOptionsMenu(Menu menu, MenuInflater inflater) {\n    // Place an action bar item for searching.\n    MenuItem item = menu.add(\"Search\");\n    item.setIcon(android.R.drawable.ic_menu_search);\n    item.setShowAsAction(MenuItem.SHOW_AS_ACTION_ALWAYS);\n    View searchView = SearchViewCompat.newSearchView(getActivity());\n    if (searchView != null) {\n        SearchViewCompat.setOnQueryTextListener(searchView,\n                new OnQueryTextListenerCompat() {\n            @Override\n            public boolean onQueryTextChange(String filtext) {\n                mCurFilter = !TextUtils.isEmpty(filtext) ? filtext : null;\n                getLoaderManager().restartLoader(0, null, NewFriendsListFragment.this);\n                return true;\n            }\n        });\n        item.setActionView(searchView);\n    }\n}\n\n@Override\npublic void onItemClick(AdapterView&lt;?&gt; arg0, View arg1, int arg2, long arg3) {\n    // TODO Auto-generated method stub\n}\n\n}\n</code></pre>\n\n<p>I'm using a SherlockListFragment from the ActionBarSherlock library to display a list using a CommonsWare Loaderex sqlite cursor loader, and evrything seems to work fine, the names and birthdays and profile pics are all displayed fine, but I can't seem to be able to update any of the data in the table using loader.update(...), nothing happens when I call it.\nWhat's wrong?</p>\n"},{"tags":["ios","sqlite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":72,"score":0,"question_id":12447200,"title":"cannot insert value to sqlite DB iOS","body":"<p>Well following this tutorial I have some problems in inserting values to my DB although everything seems to be working fine.</p>\n\n<p>This is my code for inserting entries.</p>\n\n<pre><code>-(void)insertOrder:(MyOrderList*)entry\n{\n    // Create insert statement for the person\n    NSString *insertStatement = [NSString stringWithFormat:@\"INSERT INTO LIST (URL, CODE, EMAIL, FULL) VALUES (\\\"%@\\\", \\\"%@\\\", \\\"%@\\\",\\\"%@\\\")\", entry.db_url, entry.db_code, entry.db_email,entry.db_full];\n    NSLog(@\"SQL INSERTION COMMAND:%@\",insertStatement);\n\n    char *error;\n    if ( sqlite3_exec(databaseHandle, [insertStatement UTF8String], NULL, NULL, &amp;error) == SQLITE_OK)\n    {\n            NSLog(@\"Order inserted.\");\n    }\n    else\n    {\n        NSLog(@\"Error: %s\", error);\n    }\n}\n</code></pre>\n\n<p>And I can see \"Order Inserted\" being printed out.</p>\n\n<p>This is my code for retrieving the list.</p>\n\n<pre><code>-(NSArray*) getList\n{\n    NSMutableArray *persons = [[NSMutableArray alloc]init];\n    NSString *queryStatement = [NSString stringWithFormat:@\"SELECT URL,CODE ,MAIL, FULL FROM LIST\"];\n    sqlite3_stmt *statement;\n    NSLog(@\"Query:%@\",queryStatement);\n    if (sqlite3_prepare_v2(databaseHandle, [queryStatement UTF8String], -1, &amp;statement, NULL) == SQLITE_OK)\n    {\n        // Iterate over all returned rows\n        while (sqlite3_step(statement) == SQLITE_ROW) {\n            NSLog(@\"Url of my List is:%@\",[NSString stringWithUTF8String:(char*)sqlite3_column_text(statement, 0)]);\n\n            MyOrderList *person = [[MyOrderList alloc]initWithUrl:[NSString stringWithUTF8String:(char*)sqlite3_column_text(statement, 0)] andCode:[NSString stringWithUTF8String:(char*)sqlite3_column_text(statement, 1)] andEmail:[NSString stringWithUTF8String:(char*)sqlite3_column_text(statement, 2)] andFull:[NSString stringWithUTF8String:(char*)sqlite3_column_text(statement, 3)]];\n      [persons addObject:person];\n\n            // Release the person because the array takes ownership\n            //[person release];\n\n        }\n        sqlite3_finalize(statement);\n    }\n    //return [persons autorelease];\n    return persons;\n\n}\n</code></pre>\n\n<p>and this is how I use it in my .m file</p>\n\n<pre><code>  DataController *dataController = [[DataController alloc]init];\n                [dataController initDatabase];\n                //[dataController release];\n\n                 MyOrderList *order  = [[MyOrderList alloc] initWithUrl:url_2 andCode:keycode andEmail:mail andFull:full_2 ];\n                [dataController insertOrder:order];\n                //data has been added\n                NSMutableArray* persons = [dataController getList];\n</code></pre>\n\n<p>and I see that persons are 0. </p>\n\n<p>From terminal I see this:</p>\n\n<pre><code>Admins-MacBook-Air:~ admin$ sqlite3 Users/admin/Library/Application\\ Support/iPhone\\ Simulator/5.1/Applications/1A70F53B-133E-46AE-833E-13F205EA96EA/Documents/sqlite.db\nSQLite version 3.7.12 2012-04-03 19:43:07\nEnter \".help\" for instructions\nEnter SQL statements terminated with a \";\"\nsqlite&gt; .schema\nError: unable to open database \"Users/admin/Library/Application Support/iPhone Simulator/5.1/Applications/1A70F53B-133E-46AE-833E-13F205EA96EA/Documents/sqlite.db\": unable to open database file\nAdmins-MacBook-Air:~ admin$\n</code></pre>\n\n<p>it's like my db is not even created.</p>\n\n<p>this is my code for creating the DB.</p>\n\n<pre><code>-(void)initDatabase\n{\n    // Create a string containing the full path to the sqlite.db inside the documents folder\n    NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);\n    NSString *documentsDirectory = [paths objectAtIndex:0];\n    NSString *databasePath = [documentsDirectory stringByAppendingPathComponent:@\"sqlite.db\"];\n    NSLog(@\"Path is:%@\",databasePath);\n\n    // Check to see if the database file already exists\n    bool databaseAlreadyExists = [[NSFileManager defaultManager] fileExistsAtPath:databasePath];\n\n    // Open the database and store the handle as a data member\n    if (sqlite3_open([databasePath UTF8String], &amp;databaseHandle) == SQLITE_OK)\n    {\n        // Create the database if it doesn't yet exists in the file system\n        if (!databaseAlreadyExists)\n        {\n            // Create the PERSON table\n            const char *sqlStatement = \"CREATE TABLE IF NOT EXISTS LIST (ID INTEGER PRIMARY KEY AUTOINCREMENT, URL TEXT, CODE TEXT, EMAIL TEXT, FULL TEXT)\";\n            char *error;\n            if (sqlite3_exec(databaseHandle, sqlStatement, NULL, NULL, &amp;error) == SQLITE_OK)\n            {\n                NSLog(@\"Database and tables created.\");\n            }\n            else\n            {\n                NSLog(@\"Error: %s\", error);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["android","sqlite","cursor"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":12445010,"title":"What is The use of moveToFirst () in SQLite Cursors","body":"<p>I am a programming newbie\nand I found this piece of code in the internet and it works fine</p>\n\n<pre><code>Cursor c=db.query(DataBase.TB_NAME, new String[] {DataBase.KEY_ROWID,DataBase.KEY_RATE}, DataBase.KEY_ROWID+\"= 1\", null, null, null, null);\n        if(c!=null)\n        {\n            c.moveToFirst();\n        }\n</code></pre>\n\n<p>but I am not able to understand the use of the <code>if(c!=null)\n        {\n            c.moveToFirst();\n        }</code>  part , what does it do exactly , and if I remove the <code>if(c!=null) { c.moveToFirst(); }</code> part , the code doesn't work </p>\n\n<p>Thanks In Advance</p>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":12445182,"title":"Sqlite3 sort by alpanumeric","body":"<p>I've a column which is declared as TEXT, on which I want to sort my SELECTion.\nMy query goes like this:</p>\n\n<pre><code>Select * from tableName ... order by ColumnName COLLATE NOCASE \n</code></pre>\n\n<p>I want the sorting to be:</p>\n\n<ol>\n<li>Case insensitive (Im using COLLATE NOCASE)</li>\n<li>Alpha numeric. Current sorting is 1, 2, 11, A. By default order is 1, 11, 2, A.</li>\n</ol>\n\n<p>Independently 2. can be achieved by ORDER BY cast(ColumnName as int) but how to use it along with COLLATE NOCASE?</p>\n"},{"tags":["java","database","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":51,"score":2,"question_id":12443710,"title":"How can I connect to a database on my filesystem using Java","body":"<p>I need to connect to a database on my file system but I have noticed that JDBC is referring to a database in memory, any time I want to check the tables need to write a code to retrieve their data, currently I have a SQLite database. \nI used the following code but even when I enter a correct address it does not connect to my database. </p>\n\n<pre><code>    String sDriver = \"org.sqlite.JDBC\";\n    String Database = \"users/documents/DB.sqlite\";\n    String sJdbc = \"jdbc:sqlite\";\n</code></pre>\n"},{"tags":["android","sqlite","fileoutputstream","bufferedinputstream"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":12277526,"title":"In wich directory is being stored a file when i use \"Activity.openFileOutput(\"myFile\", Context.MODE_PRIVATE);\" to store it?","body":"<p>i have this code to store a remote sqlite .db file with my android app:</p>\n\n<pre><code>public String getRemoteCollection(String url, String dbName){\n    BufferedInputStream in = null;\n    FileOutputStream fout = null;\n    dbName=\"myFile\";\n    try\n    {\n        in = new BufferedInputStream(new URL(url).openStream());\n        fout = SectionManager.instance.activity.openFileOutput(dbName, Context.MODE_PRIVATE);\n\n        byte data[] = new byte[1024];\n        int count;\n        while ((count = in.read(data, 0, 1024)) != -1)\n            fout.write(data, 0, count);\n        if (in != null)\n            in.close();\n        if (fout != null)\n            fout.close();                   \n    }\n    catch(Exception e){e.printStackTrace();}\n    return dbName;\n}\n</code></pre>\n\n<p>Now, i need to open that file with my sqlitemanager, and i have this function, that opens a .db file from assets, but i need to adapt this method to load the file i stored in the previous mentioned method, wich is not stored on assets folder. So i must change this method but i dont know how to do it correctly.</p>\n\n<pre><code>private void generateSQLiteDB(String databaseName) {     // \n        SQLiteDatabase db =  dbHelper.getReadableDatabase(); // by calling this line an empty database will be created into the default system path of this app - we will then overwrite this with the database from the server\n        db.close();\n        OutputStream os = null;\n        InputStream is = null;\n        try{\n            is =  ctx.getAssets().open(databaseName+\".db\");\n            String packageName=SectionManager.instance.activity.getApplicationContext().getPackageName();\n            //os = new FileOutputStream(\"/data/data/com.mobimento.android.caponatelauncher/databases/\"+databaseName+\".db\"); \n            os = new FileOutputStream(\"/data/data/\"+packageName+\"/databases/\"+databaseName+\".db\");  \n            copyFile(os, is);\n        }catch (Exception e) {\n            Log.e(\"DB\", \"Database not found\", e);                          \n        }finally{\n            try{\n                //Close the streams\n                if(os != null)\n                    os.close();\n                if(is != null)\n                    is.close();\n            } catch (IOException e) {Log.e(\"DB\", \"Can't close adapters\");}\n        }\n    }\n</code></pre>\n\n<p>Code examples will be grated</p>\n\n<p>Thanks</p>\n"},{"tags":["java","android","sqlite","listview","cursor"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":94,"score":0,"question_id":12439574,"title":"How to sqlite + listview + onListItemClick start new Activity? read error by Cursor","body":"<p>With the help of this <a href=\"http://www.zoomified.com/articles/android/android-list-of-tutorials.php\" rel=\"nofollow\">tutorial</a> i have made an app that has 3 activities.\nIn the fisrt activity(Import) i just import some values to a sqlite database.</p>\n\n<p>This is my DatabaseHelper class:</p>\n\n<pre><code>   public class DatabaseHelper_bp extends SQLiteOpenHelper {\n\n    private static final String DATABASE_NAME = \"bpDB\";\n    private static final int DATABASE_VERSION = 1;\n\n    // Database creation sql statement\n    private static final String DATABASE_CREATE = \"create table bp_import ( _id integer primary key, datetime text not null, systolic text not null, diastolic text not null, pulses text not null, notes text not null);\";\n\n    public DatabaseHelper_bp(Context context) {\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\n    }\n\n    // Method is called during creation of the database\n    @Override\n    public void onCreate(SQLiteDatabase database) {\n        database.execSQL(DATABASE_CREATE);\n    }\n\n    // Method is called during an upgrade of the database,\n    @Override\n    public void onUpgrade(SQLiteDatabase database, int oldVersion,\n            int newVersion) {\n        Log.w(DatabaseHelper_bp.class.getName(),\n                \"Upgrading database from version \" + oldVersion + \" to \"\n                        + newVersion + \", which will destroy all old data\");\n        database.execSQL(\"DROP TABLE IF EXISTS bp_import\");\n        onCreate(database);\n    }\n}\n</code></pre>\n\n<p>And my  DAO class for my measures/values:</p>\n\n<pre><code>    public class BpDAO {\n\n    private DatabaseHelper_bp dbHelper;\n\n    private SQLiteDatabase database;\n    /**\n     * Movie table related constants.\n     */\n    public final static String bp_TABLE = \"bp_import\";\n    public final static String bp_ID = \"_id\";\n    public final static String bp_DT = \"datetime\";\n    public final static String bp_SYS = \"systolic\";\n    public final static String bp_DIA = \"diastolic\";\n    public final static String bp_PUL = \"pulses\";\n    public final static String bp_NOT = \"notes\";\n\n    /**\n     * \n     * @param context\n     */\n    public BpDAO(Context context) {\n        dbHelper = new DatabaseHelper_bp(context);\n        database = dbHelper.getWritableDatabase();\n    }\n\n    /**\n     * \\ Creates a new blood pressure measure\n     * \n     * @param datetime\n     * @param systolic\n     * @param diastolic\n     * @param pulses\n     * @param notes\n     * @return\n     */\n    public long importBP(String datetime, String systolic, String diastolic,\n            String pulses, String notes) {\n        ContentValues values = new ContentValues();\n        values.put(bp_DT, datetime);\n        values.put(bp_SYS, systolic);\n        values.put(bp_DIA, diastolic);\n        values.put(bp_PUL, pulses);\n        values.put(bp_NOT, notes);\n        return database.insert(bp_TABLE, null, values);\n    }\n\n    /**\n     * Fetch all movies\n     * \n     * @return\n     */\n    public Cursor fetchAll_bp() {\n        Cursor mCursor = database.query(true, bp_TABLE, new String[] { bp_SYS,\n                bp_DIA, bp_DT, bp_ID }, null, null, null, null, null, null);\n        if (mCursor != null) {\n            mCursor.moveToFirst();\n        }\n        return mCursor;\n    }\n}\n</code></pre>\n\n<p>In the second activity(History) i have a List activity with the some values of each row of my database.All work well here.The list is populated by the database,all ok<img src=\"http://i.stack.imgur.com/pMCvZ.png\" alt=\"enter image description here\"></p>\n\n<p>BUT my <strong>problem</strong> is when i try <strong>onListItemClick</strong> to start a new 3 Activity(Detailed Infos) and pass to it all the values of the selected measure (ListItem), <strong>the app force closes</strong>!</p>\n\n<p>Here is the code of 2 Activity(history):</p>\n\n<pre><code>public class HistoryActivity extends ListActivity {\n\nprivate BpDAO dao;\n\nprivate SimpleCursorAdapter dbAdapter;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    // TODO Auto-generated method stub\n    super.onCreate(savedInstanceState);\n    dao = new BpDAO(this);\n    Cursor bpList = dao.fetchAll_bp();\n    String[] from = new String[] { BpDAO.bp_SYS, BpDAO.bp_DIA, BpDAO.bp_DT };\n    int[] target = new int[] { R.id.bpSysHolder, R.id.bpDiaHolder,\n            R.id.bpDtHolder };\n    dbAdapter = new SimpleCursorAdapter(this, R.layout.history_bp, bpList,\n            from, target);\n    setListAdapter(dbAdapter);\n}\n    //above is all good!\n// try to make new activity on click - let's\n// see...down here is the problem!\n@Override\npublic void onListItemClick(ListView l, View view, int position, long id) {\n    // TODO Auto-generated method stub\n    super.onListItemClick(l, view, position, id);\n    Log.d(\"BPT\", \"Selected bp id =\" + id);\n            // log says that i have selected an item with id : 11 \n\n    Cursor selectedBpDetails = (Cursor) l.getItemAtPosition(position);\n\n    String bp_DT = selectedBpDetails.getString(selectedBpDetails\n            .getColumnIndex(BpDAO.bp_DT));\n    String bp_SYS = selectedBpDetails.getString(selectedBpDetails\n            .getColumnIndex(BpDAO.bp_SYS));\n    String bp_DIA = selectedBpDetails.getString(selectedBpDetails\n            .getColumnIndex(BpDAO.bp_DIA));\n    String bp_PUL = selectedBpDetails.getString(selectedBpDetails\n            .getColumnIndex(BpDAO.bp_PUL));\n    String bp_NOT = selectedBpDetails.getString(selectedBpDetails\n            .getColumnIndex(BpDAO.bp_NOT));\n\n    Log.d(\"BPT\", \"Selected bp details = { date=\" + bp_DT + \", systolic=\"\n            + bp_SYS + \", diastolic=\" + bp_DIA + \", pulses=\" + bp_PUL\n            + \", notes=\" + bp_NOT + \" }\");\n\n    Intent intent = new Intent(HistoryActivity.this, FromHistory.class);\n    intent.putExtra(\"bp_SYS\", bp_SYS);\n    intent.putExtra(\"bp_DIA\", bp_DIA);\n    intent.putExtra(\"bp_DT\", bp_DT);\n    intent.putExtra(\"bp_PUL\", bp_PUL);\n    intent.putExtra(\"bp_NOT\", bp_NOT);\n    startActivity(intent);\n}\n// ----------------------------------------------------------------------------\n</code></pre>\n\n<p>}</p>\n\n<p>This is the logcat:</p>\n\n<pre><code>16:50:48.513: D/BPT(562): Selected bp id =11\n16:50:48.513: **E/CursorWindow(562): Failed to read row 1, column -1 from a CursorWindow which has 13 rows, 4 columns.**\n</code></pre>\n"},{"tags":["c#","sql","winforms","sqlite","sql-insert"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":116,"score":1,"question_id":12438563,"title":"SQLite doesn't save data I inserted","body":"<p>I'm messing around with SQL lite and learning it.</p>\n\n<p>I got a table called People, I got some method that connect to the database and do some stuff, like show all the info.</p>\n\n<p>Now I'm trying to insert some data and here it get wierd for me. I have this method:</p>\n\n<pre><code>private void ExecuteQuery(string txtQuery)\n{\n    SetConnection();\n    sql_con.Open();\n    sql_cmd = sql_con.CreateCommand();\n    sql_cmd.CommandText = txtQuery;\n    sql_cmd.ExecuteNonQuery();\n    sql_con.Close();\n}\n</code></pre>\n\n<p>and to see all the data I've got this method:</p>\n\n<pre><code>private void LoadData()\n{\n    SetConnection();\n    sql_con.Open();\n    sql_cmd = sql_con.CreateCommand();\n    string CommandText = \"SELECT * FROM People\";\n    DB = new SQLiteDataAdapter(CommandText, sql_con);\n    DS.Reset();\n    DB.Fill(DS);\n    DT = DS.Tables[0];\n    dataGridView1.DataSource = DT;\n    sql_con.Close();\n}\n</code></pre>\n\n<p>When I inset some data and right afther it I call the <code>LoadData()</code>, I can see all the changes I made.</p>\n\n<p>After I close the program, and then open it agian and call <code>LoadData()</code>, I don't see the new info that I inserted before.</p>\n\n<p>I got some data that I used SQL lite GUI app to insert, and I can see that data every time I call the <code>LoadData()</code> method, but not mine.</p>\n\n<p>Do I need to do somthing else to make sure SQL lite saves all the data?</p>\n\n<p><strong>EDIT: this is how i INSERT the data, mybee the problem is from here?</strong></p>\n\n<pre><code>string insetCommand = \"INSERT INTO People Values(2,'\" + textBox1.Text + \"')\";\n</code></pre>\n\n<p><strong>EDIT2: my connectionString Method</strong></p>\n\n<pre><code>public static string connectionString\n    {\n        get\n        {\n            string database =\n                //AppDomain.CurrentDomain.BaseDirectory + \"..\\\\..\\\\Database\\\\ImageLib.s3db\";\n               AppDomain.CurrentDomain.BaseDirectory + \"\\\\DataBase\\\\myTable2\";\n            string connectionString =\n                @\"Data Source=\" + Path.GetFullPath(database) + \";Version=3;\";\n            return connectionString;\n        }\n    }\n</code></pre>\n"},{"tags":["android","sqlite","data"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":12439359,"title":"Error with dates in sqlite android","body":"<p>I'm trying to run a statement on sqlite database from android...I wish to return some records from a table which lastChagedDate bigger than the date I give.</p>\n\n<p>Let's say I have this:</p>\n\n<pre><code>private String ending_date = \"2012-01-01 08:24:59\";\n\nroadmapSyncStmt = \"SELECT * FROM roadmap WHERE lastChangedDate &gt; '\"+ ending_date +\"'\";\n</code></pre>\n\n<p>The roadmapSyncStmt is the one I will execute on sqlite table full of dates.\nThe statement will look something like:</p>\n\n<pre><code>SELECT * FROM roadmap WHERE lastChangedDate &gt;\"2012-01-01 08:24:59\"\n</code></pre>\n\n<p>And when I run I get this error:</p>\n\n<pre><code>sqlite returned: error code = 1, msg = near \"2012\": syntax error\n</code></pre>\n\n<p>and no data in cursor even though my database contains plenty of data which respects this condition. Does someone know what I do wrong? Thx</p>\n"},{"tags":["sqlite"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":112,"score":3,"question_id":12323040,"title":"SQLite - Get a specific row index for a Sorted/Filtered Query","body":"<p>I'm creating a caching system to take data from an SQLite database table using a sorted/filtered query and display it.  The tables I'm pulling from can be potentially very large and, of course, I need to minimize impact on memory by only retaining a maximum number of rows in memory at any given time.  This is easily done by using <code>LIMIT</code> and <code>OFFSET</code> to load only the records I need and update the cache as needed.  Implementing this is trivial.  The problem I'm having is determining where the insertion index is for a new record inserted into a particular query so I can update my UI appropriately.  Is there an easy way to do this?  So far the ideas I've had are:</p>\n\n<ol>\n<li>Dump the entire cache, re-count the Query results (there's no guarantee the new row will be included), refresh the cache and refresh the entire UI.  I hope it's obvious why that's not really desirable.</li>\n<li>Use my own algorithm to determine whether the new row is included in the current query, if it is included in the current cached results and at what index it should be inserted into if it's within the current cached scope.  The biggest downfall of this approach is it's complexity and the risk that my own sorting/filtering algorithm won't match SQLite's.  </li>\n</ol>\n\n<p>Of course, what I want is to be able to ask SQLite: Given 'Query A' what is the index of 'Row B', without loading the entire query results.  However, so far I haven't been able to find a way to do this.</p>\n\n<p>I don't think it matters but this is all occurring on an iOS device, using the objective-c programming language.</p>\n\n<p><em><strong>More Info</em></strong></p>\n\n<p>The Query and subsequent cache is based off of user input.  Essentially the user can re-sort and filter (or search) to alter the results they're seeing.  My reticence in simply recreating the cache on insertions (and edits, actually) is to provide a 'smoother' UI experience.</p>\n\n<p>I should point out that I'm leaning toward option \"2\" at the moment.  I played around with creating my own caching/indexing system by loading all the records in a table and performing the sort/filter in memory using my own algorithms.  So much of the code needed to determine whether and/or where a particular record is in the cache is already there, so I'm slightly predisposed to use it.  The danger lies in having a cache that doesn't match the underlying query.  If I include a record in the cache that the query wouldn't return, I'll be in trouble and probably crash.</p>\n"},{"tags":["android","sqlite"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":77,"score":0,"question_id":12436596,"title":"How to count number of records in sqlite","body":"<p>I am working on android project. I used sqlite database for it. I have tables in database. I have created databasehelper class. i want to count number of records in particular table. how can i achieve this ? any help will be appreciated?</p>\n"},{"tags":["android","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":88,"score":0,"question_id":11497931,"title":"Android Tools to browse sqlite file for debugging","body":"<p>First of all, I have tried to get the SQLite file from DDMS in Eclipse. However, the data folder is empty.<br>\nThen, I researched on google and I found that this may be my device haven't root.<br>\nIs it true?<br>\nDoes there any other methods that I can debug the SQlite file even if my device do not need to root?</p>\n"},{"tags":["database","ruby-on-rails-3","sqlite","postgresql"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":90,"score":1,"question_id":11290891,"title":"Migrating from sqlite3 to postgresql on Rails 3?","body":"<p>Following the post: <a href=\"http://stackoverflow.com/questions/4248072/how-to-migrate-from-sqlite-to-postgresql-rails\">How to migrate from SQLite to PostgreSQL (Rails)</a></p>\n\n<p>I am running <code>sqlite3 development.sqlite3 .dump | psql mypgdb mypguser</code> in my Rails app and I'm getting this error (same for all models/tables in my app):</p>\n\n<pre><code>ERROR:  current transaction is aborted, commands ignored until end of transaction block\nERROR:  current transaction is aborted, commands ignored until end of transaction block\nERROR:  current transaction is aborted, commands ignored until end of transaction block\nERROR:  current transaction is aborted, commands ignored until end of transaction block\nERROR:  current transaction is aborted, commands ignored until end of transaction block\nERROR:  current transaction is aborted, commands ignored until end of transaction block\nERROR:  current transaction is aborted, commands ignored until end of transaction block\nERROR:  current transaction is aborted, commands ignored until end of transaction block\nERROR:  current transaction is aborted, commands ignored until end of transaction block\nERROR:  current transaction is aborted, commands ignored until end of transaction block\nERROR:  current transaction is aborted, commands ignored until end of transaction block\nERROR:  syntax error at or near \"AUTOINCREMENT\"\nLINE 1: ...E TABLE \"projects\" (\"id\" INTEGER PRIMARY KEY AUTOINCREM...\n</code></pre>\n\n<p>Would appreciate some suggestions/fixed. Thanks!</p>\n"},{"tags":["php","apache","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":145,"score":0,"question_id":12435554,"title":"PHP 5.4.7,Apache,win7,sqlite. Error info: Call to undefined function sqlite_open()","body":"<p>My environment:<br>\nPHP 5.4.7<br>\nApache<br>\nwin7<br>\nDB is sqlite. <br>\nI have already uncomment out below script<br></p>\n\n<pre><code>extension=php_pdo_mysql.dll\nextension=php_pdo_odbc.dll\nextension=php_pdo_pgsql.dll\nextension=php_pdo_sqlite.dll\nextension=php_pgsql.dll\nextension=php_sqlite3.dll\n</code></pre>\n\n<p>But it still shows the Error info: Call to undefined function sqlite_open().<br></p>\n\n<p>below is my php test code.<br>\nAnyone can help me?<br></p>\n\n<pre><code>&lt;?php\nphpinfo();\n$db = sqlite_open('d:/testsqlite');\n$rs = sqlite_query($db, 'select * from testtable');\nprint_r(sqlite_fetch_all($rs));\n</code></pre>\n"},{"tags":["android","sqlite","date"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":12436222,"title":"How select data from SQLite table where date = week of year?","body":"<p>I have table expense:</p>\n\n<pre><code>\"create table \" + Expense.TABLE_NAME + \"(\"\n                + Expense.ID\n                + \" integer primary key autoincrement not null, \"\n                + Expense.CATEGORY_ID + \" integer, \" + Expense.ITEM\n                + \" text, \" + Expense.PRICE + \" real, \" + Expense.DATE\n                + \" date, \" + Expense.TIME + \" time);\";\n</code></pre>\n\n<p>And I want to select <code>Expense.PRICE</code> where <code>Expense.DATE</code> = current day/week/month. \nI tried to do this </p>\n\n<pre><code>cursor = mDB.rawQuery(\"select \" + Expense.PRICE + \" where \"\n                + \" (strftime('%W', \" + Expense.DATE + \"))\" + \"=\" + week,\n                null);\n</code></pre>\n\n<p>where week is <code>week = calendar.get(Calendar.WEEK_OF_YEAR);</code> but it gives an error in cursor:</p>\n\n<pre><code>09-15 09:32:02.647: E/AndroidRuntime(18939): Caused by: java.lang.NullPointerException\n</code></pre>\n\n<p>09-15 09:32:02.647: E/AndroidRuntime(18939):    at com.pllug.summercamp.expensemanager.DataAdapter.getPrice(DataAdapter.java:242)</p>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":145,"score":0,"question_id":7590216,"title":"Strategy for loading SQLite DB's into Android App","body":"<p>I have a SQLite DB with 20,000 records.  I cannot load the DB in the Emulator and it Force Closes on some installed devices.   I can load the full DB on my Test Device (HTC Inspire).   </p>\n\n<p>I have cut down the records to apprx 5,000 records and distribute the app and it installs and runs on the Emulator, other devices and my HTC with no problems.   But I have sacrificed considerable content. </p>\n\n<p>I am looking for a \"strategy\" that will optimize the number of records that can be installed on different devices.  </p>\n\n<p>How would you create and distribute an Android App with a pre-existing database to achieve the greatest number of installed records?  </p>\n\n<p>Is there some magic way to know what the capacity of the device is that will help my situation?</p>\n\n<p>TIA</p>\n"},{"tags":["android","sqlite","delete","where-clause"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12434969,"title":"How can I use \"AND\" and \"OR\" in SQLiteDatabase.delete(…) method?","body":"<p>I am using the following code for deleting some rows from my table in Android:</p>\n\n<pre><code>sqliteDb.delete(\"MYTABLE\", \"Tel\" + \" = ?\", new String[] { \"1\" });\n</code></pre>\n\n<p>How can I call this method for the following 3 Query types?</p>\n\n<pre><code>Delete from MYTABLE where Tel = 1 OR Tel = 2\n\nDelete from MYTABLE where Tel = 1 AND Number = 2\n\nDelete from MYTABLE where Tel = 1 OR Number = 2\n</code></pre>\n"},{"tags":["php","sqlite","ubuntu","sqlite3"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":89,"score":-1,"question_id":12421866,"title":"How to configure sqlite2 & 3 in php 5.3.6 on ubuntu 11.10","body":"<p>How can I configure sqlite2 and sqlite3, both in PHP 5.3.6 on Ubuntu 11.10?</p>\n\n<p>I work on two PHP projects: one uses sqlite2, and another uses sqlite3. I am working on Ubuntu 11.10. My problem is that my sqlite2 code does not run; it gives the error <code>Fatal error: Call to undefined function sqlite_open()</code>. I want to run both code. </p>\n"},{"tags":["python","database","sqlite","sqlite3"],"answer_count":3,"favorite_count":10,"up_vote_count":11,"down_vote_count":1,"view_count":7696,"score":10,"question_id":2887878,"title":"Importing a CSV file into a sqlite3 database table using Python","body":"<p>I have a CSV file and I want to bulk-import this file into my sqlite3 database using Python. the command is \".import .....\". but it seems that it cannot work like this. Can anyone give me an example of how to do it in sqlite3? I am using windows just in case.\nThanks</p>\n"},{"tags":["android","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":47,"score":1,"question_id":12433895,"title":"Sqlite for all mobile?","body":"<p>I am using sqlite with android 2.1 . Now, i was wondering if sqlite works with any mobile with android? , maybe my question is kind of silly, but I just want to be sure that I wont have problems once i finish my app.</p>\n"},{"tags":["sql","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":37,"score":1,"question_id":12433788,"title":"unique values in a column but only unique for each associated foreign key","body":"<p>I apologise for the confusing title but I'm really not sure how to describe this problem in one sentence.</p>\n\n<p>I have an SQLite database for a generalised tipping competition.  For those unfamiliar with the concept, people \"tip\" who they think will win in each match of each round of a sporting competition, and the person with the most correct tips at the end of the competition wins (the prize may be money, pride, etc).  It's very popular in Australia with the AFL.</p>\n\n<p>The basic structure is that users register as an owner, and they can then create as many competitions as they want, and each competition is linked to them with a foreign key.  This is the relevant part of the database schema:</p>\n\n<pre><code>create table owner (\n    owner_id INTEGER NOT NULL,\n    owner_name VARCHAR NOT NULL,\n    owner_nick VARCHAR UNIQUE NOT NULL,\n    owner_email VARCHAR NOT NULL,\n    owner_password VARCHAR NOT NULL,\n    CONSTRAINT owner_pk PRIMARY KEY (owner_id)\n);\n\ncreate table comp (\n    comp_id INTEGER NOT NULL,\n    comp_owner_id INTEGER NOT NULL,\n    comp_name VARCHAR UNIQUE NOT NULL,\n    CONSTRAINT comp_pk PRIMARY KEY (comp_id),\n    CONSTRAINT comp_owner_fk FOREIGN KEY (comp_owner_id) REFERENCES owner (owner_id) NOT DEFERRABLE\n);\n</code></pre>\n\n<p>The gist of the problem is this: I want to enforce a unique constraint on the comp_name field of the comp table (as shown above) because a single owner shouldn't have two or more competitions with the same name.  However, it is entirely possible that two different owners would want two different competitions with the same name (for example, two offices running tipping competitions for the same sporting league).  Is it possible to enforce this using SQL, or do I need to do the enforcement manually elsewhere?</p>\n\n<p>A few notes:</p>\n\n<ul>\n<li>I'm using SQLite 3.6.20, which has proper foreign key constraint enforcement</li>\n<li>The database will never be used in a production level application. It's a private project.</li>\n<li>The database is being used in a web-based PHP application.</li>\n<li>If this cannot be achieved with SQLite, can it be achieved with MySQL?</li>\n</ul>\n\n<p>EDIT: I feel I should point out that I'm aware SQLite has very limited alter table support, and deleting the database and starting over is very much an option.</p>\n"},{"tags":["android","sqlite","android-service","runtime-error"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":59,"score":1,"question_id":12433365,"title":"Error opening database connection from within Android Service","body":"<p>I have to call, from a Service android, a method for opening connection with internal android database (sqlite). I'm using the following code:</p>\n\n<pre><code>public class myService extends Service{\n\npublic void setDB(DB_DatabaseManager db){\n    dbManager = db;\n}\n\npublic DB_DatabaseManager dbManager;\nprivate Timer timer; \n\npublic IBinder onBind(Intent intent){\n    return null;\n}\n\npublic void onCreate(){\n    super.onCreate();\n    Log.i(\"my attempt\",\"service activated\");\n    TimerTask task = new TimerTask(){\n        public void run(){\n            Log.i(\"my attempt\",\"ANDROID SERVICE RUNNING!\");\n            dbManager.open(); // &lt;--this statement generates error!\n                            // --- in this section I start the communication with database\n\n        }\n\n    };\n    timer = new Timer();\n    timer.schedule(task, 0, 20000);\n}\n\npublic void onDestroy(){\n    super.onDestroy();\n    timer.cancel();\n    timer = null;\n    Log.i(\"my attampt\", \"service stopped\");\n}\n</code></pre>\n\n<p>open() is defined as:</p>\n\n<pre><code>    SQLiteDatabase mDb=mDbHelper.getWritableDatabase();\n</code></pre>\n\n<p>For calling the service I use:</p>\n\n<pre><code>    myService serv = new myService();\n    serv.setDB(dbManager); \n    startService(new Intent(this,myService.class));\n</code></pre>\n\n<p>all work fine if I delete the row dbManager.open();\nhowever the method dbManager.open() in other parts of my coode, works good. But in this situation i obtain the following error in logcat:</p>\n\n<pre><code>   09-14 23:44:32.287: E/AndroidRuntime(1115): FATAL EXCEPTION: Timer-0\n   09-14 23:44:32.287: E/AndroidRuntime(1115): java.lang.NullPointerException\n   09-14 23:44:32.287: E/AndroidRuntime(1115):  at host.framework.myService$1.run(myService.java:49)\n   09-14 23:44:32.287: E/AndroidRuntime(1115):  at java.util.Timer$TimerImpl.run(Timer.java:284)\n</code></pre>\n"},{"tags":["sqlite","select"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":28,"score":1,"question_id":12431898,"title":"SQLite Select from one table or from another","body":"<p>I would like to know how to make a single query to select something from one table or from another. For example I have Table A with the aID=2 and Table B with bID=3. So how to make the query to return the id from table A or table B for a given id = 3?</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["objective-c","sqlite","sqlite3","filemanager"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":12432117,"title":"Copying sqlite from app bundle doesn't copy table structure","body":"<p>I am working on an app in which I have a sqlite database in the app bundle that I am trying to copy from the bundle into the documents folder.  This is the code for the copy action:</p>\n\n<pre><code>NSString *defaultDBPath = [[[NSBundle mainBundle] resourcePath] stringByAppendingPathComponent:@\"history.sqlite\"];\n\n    [fileManager copyItemAtPath:defaultDBPath toPath:writableDBPath error:&amp;error];\n</code></pre>\n\n<p>The fileManger is copyItemAtPath is working however it doesn't copy over any of my tables or structure. It just copies a blank database of the same name as the database in the bundle.  Does anyone have a solution to this?</p>\n\n<p>Thanks</p>\n"},{"tags":["android","sqlite","exception","cursor"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":1714,"score":3,"question_id":7245833,"title":"Changing of Cursor in CursorAdapter","body":"<p>I am trying to change <code>Cursor</code> in <code>CursorAdapter</code> this way:</p>\n\n<pre><code>Cursor newCursor = compiledStatement.getCursor();\nstartManagingCursor(newCursor);\nadapter.changeCursor(newCursor);\n</code></pre>\n\n<p>Unfortunatelly I get this exception:</p>\n\n<pre><code>java.lang.IllegalStateException: attempt to re-open an already-closed object:\n     android.database.sqlite.SQLiteQuery\n</code></pre>\n\n<p>According to other topics, it should be possible to change content of CursorAdapter without creating new one.</p>\n"},{"tags":["ruby-on-rails","database","sqlite","postgresql","heroku"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":64,"score":2,"question_id":12415973,"title":"Ruby on Rails: Active Record query fails to execute only when hosted on heroku.","body":"<p>I have a page which simply displays all of the Links in my database sorted by the voteCount. Here is the controller:</p>\n\n<pre><code>class PagesController &lt; ApplicationController\n  def index\n    params[:per_page] ||= 5\n    params[:page]     ||= 1\n\n    @links = Link.order('voteCount DESC').paginate(:page =&gt; params[:page], :per_page =&gt; params[:per_page])\n\n  end\nend\n</code></pre>\n\n<p>I save query the database using the paginate plugin, and prepend it with:</p>\n\n<pre><code>.order('voteCount DESC')\n</code></pre>\n\n<p>When I run this command on my local server, it runs fine. However, as soon as I deploy it to heroku, it fails. This is the output I get when I check the logs/execute it in the console:</p>\n\n<pre><code>Link Load (2.0ms)  SELECT \"links\".* FROM \"links\" ORDER BY voteCount DESC LIMIT 5 OFFSET 0\nActiveRecord::StatementInvalid: PG::Error: ERROR:  column \"votecount\" does not exist\nLINE 1: SELECT  \"links\".* FROM \"links\"  ORDER BY voteCount DESC LIMI...\n                                                 ^\n</code></pre>\n\n<p>I've checked using the console, the voteCount column is definitely there. This might be due to the fact that my local environment runs sqlite3 and heroku makes me use postgres ....</p>\n\n<p>Any help would be really appreciated. Thanks. </p>\n"},{"tags":["ios","database","sqlite","singleton"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":84,"score":0,"question_id":12340942,"title":"iOS: Accessing to sqlite database using singleton or not","body":"<p>I have an app with a simple table stored in a <em>common</em> sqlite database. The app has a <code>mainview</code> and several other views say, <code>view1, view2, ....,viewN</code>. From a <code>mainview</code>, the user go to <code>view1</code> by this code section:</p>\n\n<pre><code>screen.modalTransitionStyle=UIModalTransitionStyleCoverVertical;\n        [self presentModalViewController:screen animated:YES];\n</code></pre>\n\n<p>in <code>view1</code>, the user will access the database, doing something, then update the database, quite <code>view1</code> back to the <code>mainview</code>: </p>\n\n<pre><code>[self dismissModalViewControllerAnimated:YES];\n</code></pre>\n\n<p>The user will do the same thing for the other views, i.e., accessing the database, doing something, updating the database, then back to the <code>mainview</code>.</p>\n\n<p>My question is how should I organize the database in my case, using a singleton to create a common object to open the database at the <code>mainview</code>, then all views will access the database, updating it or each view will open the database, accessing it, then update individually or is there any other efficient way. Thank you</p>\n"},{"tags":["android","database","sqlite","onitemclicklistener"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":67,"score":0,"question_id":12406661,"title":"onListItemClickListener: passing the long id value","body":"<h2>UPDATE</h2>\n\n<p>The original question i asked was about my long id value but because you guys were right in the way u said i had the correct id i removed my error. Thanks for the help. read my answer for more detail.</p>\n\n<p>1) My app uses the local android SQLiteDatabase and has three tables. I have no problems for two of the tables but turns out my third one is presenting some issues because of my column declarations are <code>public static final string COLUMN_NAME = \"name\";</code> ,etc. </p>\n\n<p>My Activities are not extending the ListActivity so that I can have custom lists and listviews for each activity. </p>\n\n<p>I am getting my listview by <code>listview = (ListView) findViewById(R.id.myList);</code> and adding a listener to the listview by <code>listview.setOnItemClickListener(ListListener);</code> Then here is my method for the list listener:</p>\n\n<pre><code> OnItemClickListener ListListener = new OnItemClickListener(){\n\n    public void onItemClick(AdapterView&lt;?&gt; arg0, View v, int position,\n            final long id)\n{\n        AlertDialog.Builder dialog = new AlertDialog.Builder(ExerciseList.this)\n        .setIcon(R.drawable.edit)\n        .setTitle(\"Update Selected Exercise\")\n        .setMessage(\"Would you like to update the current Exercise? Click continue to proceed.\")\n        .setPositiveButton(\"Continue\", new DialogInterface.OnClickListener() {\n\n            public void onClick(DialogInterface arg0, int arg1) {\n\n                final Intent i = new Intent(getBaseContext(), AddExercise.class);\n                i.putExtra(ExerciseDbAdapter.KEY_ROW_ID, id);\n                startActivityForResult(i, EDIT_EXERCISE);\n\n            }\n        })\n        .setNegativeButton(\"Back\", new DialogInterface.OnClickListener() {\n\n            public void onClick(DialogInterface dialog, int which) {\n                dialog.cancel();\n\n            }\n        });\n        dialog.show();  \n    }\n}; \n</code></pre>\n\n<p>This above method is just a working on list item click listener!</p>\n"},{"tags":["vb.net","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":67,"score":0,"question_id":12426482,"title":"SQlite: insufficient parameters supplied to the command","body":"<p>I've been looking at the code below for God knows how long and I can't seem to find what the issue is. Most discussions I've seen on in relation to the stated error indicate that the source is from typos of the parameters. But why lie, I can't see any typo. Can someone tell me where am going wrong?</p>\n\n<pre><code>Dim dt As System.Data.DataTable = New System.Data.DataTable\ndim sqlText as string\nsqlText = \"SELECT id AS privilegeID, \" &amp; _\n\"user_id AS userID, \" &amp; _\n\"module_id AS moduleID, \" &amp; _\n\"can_read AS canRead, \" &amp; _\n\"can_create AS canCreate, \" &amp; _\n\"can_update AS canUpdate, \" &amp; _\n\"can_delete AS canDelete, \" &amp; _\n\"is_deleted AS isDeleted, \" &amp; _\n\"is_active AS isActive \" &amp; _\n\"FROM base_user_privilege \" &amp; _\n\"WHERE \" &amp; _\n\"user_id=@userID AND \" &amp; _\n\"is_deleted=@isDeleted AND \" &amp; _\n\"is_active=@isActive\"\nSetDBCommand(sqlText)\nDBCommand.Parameters.AddWithValue(\"@userID\", userID)\nDBCommand.Parameters.AddWithValue(\"@isDeleted\", IsDeleted)\nDBCommand.Parameters.AddWithValue(\"@isActive\", IsActive)\ndt = DBAction(sqlText, DBActionType.DataTable)\n</code></pre>\n\n<p>The <b>setdbcommand(sqltext)</b> is meant to establish the connection and it works so I don't think the error is there as its working on other select and insert statements.</p>\n\n<p>Please assist.</p>\n\n<p>Thanks.</p>\n\n<p><b>EDITS</B></p>\n\n<p>Here is the setdbcommand:</p>\n\n<pre><code>Public Sub SetDBCommand(ByVal sqlString As String)\n    If DBConnection.State = ConnectionState.Closed Then\n        DBConnection.Open()\n    End If\n    DBCommand = New SQLiteCommand(sqlString, DBConnection)\nEnd Sub\n</code></pre>\n\n<p><b>Works in Reader but not data Table</b></p>\n\n<p>I've realized that with my dataconnection function, the above parameters work when passed via the <b>DataReader</b> but don't work when passed via the <b>DataTable</b> Is there something am missing? Do parameters work with DataTables?</p>\n\n<pre><code>Public Function DBAction(ByVal sqlText As String, ByVal ActionType As DBActionType) As Object\n    DBAction = Nothing\n    Select Case ActionType\n        Case DBActionType.DataReader\n            Return DBCommand.ExecuteReader\n        Case DBActionType.Dataset\n            Dim MyAdpater As New SQLiteDataAdapter(sqlText, DBConnection)\n            Dim myDataSet As New System.Data.DataSet\n            MyAdpater.Fill(myDataSet)\n            Return myDataSet\n        Case DBActionType.DataTable\n            Dim MyAdpater As New SQLiteDataAdapter(sqlText, DBConnection)\n            Dim MyDataTable As New System.Data.DataTable\n            MyAdpater.Fill(MyDataTable)\n            Return MyDataTable\n        Case DBActionType.executeNonQuery\n            DBCommand.ExecuteNonQuery()\n        Case DBActionType.ExecuteScalar\n            Dim ScalarItem As Object = DBCommand.ExecuteScalar\n            Return ScalarItem\n        Case Else\n            Throw New Exception(\"Error in DBACTION\")\n    End Select\nEnd Function\n</code></pre>\n"},{"tags":["iphone","xcode","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":82,"score":1,"question_id":11574158,"title":"Selecting data from data base form two tables in iphone app","body":"<p>i want to select data from the table but those data which has same question id in the questions table and answers table.\nNow it selects all the data from answers the code is shown below</p>\n\n<pre><code>     + (void) getAnswers:(NSString*)dbPath{\n\n     CereniaAppDelegate *appDelegate = (CereniaAppDelegate *)[[UIApplication sharedApplication] delegate];\n\n    if (sqlite3_open([dbPath UTF8String], &amp;database) == SQLITE_OK) {\n\n    const char *sql = \"select *from answers\";\n\n     sqlite3_stmt *selectstmt;\n    if(sqlite3_prepare_v2(database, sql, -1, &amp;selectstmt, NULL) == SQLITE_OK) {\n\n        while(sqlite3_step(selectstmt) == SQLITE_ROW) {\n\n            NSInteger primaryKey = sqlite3_column_int(selectstmt, 0);\n            Answers *coffeeObj = [[Answers alloc] initWithPrimaryKey:primaryKey];\n\n\n            coffeeObj.answer_text = [NSString stringWithUTF8String:(char *)sqlite3_column_text(selectstmt, 3)];\n\n\n\n            NSString*testString=coffeeObj.answer_text;\n\n            NSLog(testString);\n            [appDelegate.answerArray addObject:coffeeObj];\n\n            int mycount=[appDelegate.answerArray count];\n\n            NSLog(@\"This is int of latest %d\",mycount);\n\n\n            [coffeeObj release];\n           }\n           }\n           }\n\n\n     else\n         sqlite3_close(database); //Even though the open call failed, close the database connection to release all the memory.\n         }\n</code></pre>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":35,"score":2,"question_id":12427904,"title":"How can I use the SQLite DB so that it doesn't grow unecessarily","body":"<p>I have a service that creates records in the apps' SQLite DB, processes data, and removes records from the SQLite DB.</p>\n\n<p>I've found that the SQLite DB has grown over time (maybe a week) eventhough the amount of records in it has remained fairly constant.</p>\n\n<p><strong>Question</strong>\nWhat is the best practice to add and remove records without growing the database ?</p>\n\n<p>To insert a record I use:\n<code>result = mDB.insert(table, null, kvpairs);</code></p>\n\n<p>To remove a record I use:\n<code>result = mDB.delete(table, where, null);</code></p>\n\n<p><strong>reference</strong></p>\n\n<p><a href=\"http://developer.android.com/reference/android/database/sqlite/SQLiteDatabase.html#insert%28java.lang.String,%20java.lang.String,%20android.content.ContentValues%29\" rel=\"nofollow\">Android SQLiteDatabase insert</a></p>\n\n<p><a href=\"http://developer.android.com/reference/android/database/sqlite/SQLiteDatabase.html#delete%28java.lang.String,%20java.lang.String,%20java.lang.String%5B%5D%29\" rel=\"nofollow\">Android SQLiteDatabase delete</a></p>\n"}]}
{"total":16516,"page":19,"pagesize":100,"questions":[{"tags":["java","android","sqlite","corruption"],"answer_count":1,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":81,"score":4,"question_id":12418600,"title":"How do you determine if an .sqlite or .sqback is corrupt in Java?","body":"<p>I have been given a directory of directories each containing a collection of .sqlite and .sqback files that I must parse.</p>\n\n<p>The problem is that I believe some of these files to be corrupt when I receive them because I get the error: \nERR: [SQLITE_CORRUPT]  The database disk image is malformed (database disk image is malformed)\non my console when I try to process them. This only happens with some of the files. I have isolated a few and tried running my program on fresh copies of these bad files individually and they cause errors.  Most of the files are fine though :)</p>\n\n<p>I realized that there is a chance that I may indeed be given corrupt files to begin with so I would like a way to determine, prior to trying to parse them, which files are good and which are not.</p>\n\n<p>I am writing in Java. I am only interested in the sqlite and sqback validation as I know my parser works. I am reusing it from a previous project. </p>\n\n<p>Hint? Suggestions? Answers?</p>\n\n<p>Many Thanks for the knowledge transfer. </p>\n"},{"tags":["iphone","ios","sqlite","sdk"],"answer_count":2,"favorite_count":1,"up_vote_count":5,"down_vote_count":0,"view_count":871,"score":5,"question_id":10149368,"title":"How to Display data from SQlite into Table views to iPhone app","body":"<p>I'm working on an iPhone project in Xcode 4.3 with SQlite3, the connection between the SQlite and Xcode is done, now I want to display my data into a table views (three views) and its read only!\nso I have the main table view, select raw --> take to 2nd view and load other data from the DB  select raw --> take to the details view to display long text and image!</p>\n\n<p>please any idea, help or sample that can help me out!</p>\n\n<p>thank you all. </p>\n\n<blockquote>\n  <p>AppDelegate.h</p>\n</blockquote>\n\n<pre><code>#import \"AppDelegate.h\"\n\n#import \"MasterViewController.h\"\n\n@implementation AppDelegate\n\n@synthesize window = _window;\n@synthesize navigationController = _navigationController;\n\n- (void)dealloc\n{\n    [_window release];\n    [_navigationController release];\n    [super dealloc];\n}\n\n- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions\n{\n    self.window = [[[UIWindow alloc] initWithFrame:[[UIScreen mainScreen] bounds]] autorelease];\n    // Override point for customization after application launch.\n\n\n    NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory,    NSUserDomainMask, YES);\n    NSString *documentsDir = [paths objectAtIndex:0];\n\n    NSString *dbPath = [documentsDir stringByAppendingPathComponent:@\"cities.sqlite\"];\n\n    NSFileManager *fileManager = [NSFileManager defaultManager];\n\n    BOOL success = [fileManager fileExistsAtPath:dbPath];\n\n    if (success) {\n\n        NSLog(@\"we have the database\");\n\n    } else {\n\n        NSLog(@\"we have no database\");\n\n        NSString *defaultDBPath = [[[NSBundle mainBundle] resourcePath] stringByAppendingPathComponent:@\"cities.sqlite\"];\n\n\n        BOOL moved = [fileManager copyItemAtPath:defaultDBPath toPath:dbPath error:nil];\n\n        if (moved) {\n            NSLog(@\"database copied\");\n        }\n\n    }\n\n\n    MasterViewController *masterViewController = [[[MasterViewController alloc] initWithNibName:@\"MasterViewController\" bundle:nil] autorelease];\n    self.navigationController = [[[UINavigationController alloc] initWithRootViewController:masterViewController] autorelease];\n    self.window.rootViewController = self.navigationController;\n    [self.window makeKeyAndVisible];\n    return YES;\n}\n</code></pre>\n\n<p>MasterViewController.h</p>\n\n<pre><code>#import &lt;UIKit/UIKit.h&gt;\n#import &lt;sqlite3.h&gt; \n\n\n@class DetailViewController;\n\n@interface MasterViewController : UITableViewController {\n    NSMutableArray *cities;\n}\n\n@property (strong, nonatomic) DetailViewController *detailViewController;\n\n@end\n</code></pre>\n\n<p>MasterViewController.m</p>\n\n<pre><code>- (void)viewDidLoad\n{\n    [super viewDidLoad];\n\n    students = [[NSMutableArray alloc] init];\n    countries = [[NSMutableArray alloc] init];\n\n    // Do any additional setup after loading the view, typically from a nib.\n    self.navigationItem.leftBarButtonItem = self.editButtonItem;\n\n    UIBarButtonItem *addButton = [[[UIBarButtonItem alloc] initWithBarButtonSystemItem:UIBarButtonSystemItemAdd target:self action:@selector(insertNewObject:)] autorelease];\n    self.navigationItem.rightBarButtonItem = addButton;\n\n\n    NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);\n    NSString *documentsDir = [paths objectAtIndex:0];\n    NSString *dbPath = [documentsDir stringByAppendingPathComponent:@\"cities.sqlite\"];\n\n\n    sqlite3 *database;\n\n    if (sqlite3_open([dbPath UTF8String], &amp;database) == SQLITE_OK) {\n\n        const char *sqlStatement = \"select * from cities_info\";\n\n        sqlite3_stmt *compileStatement;\n\n        if (sqlite3_prepare_v2(database, sqlStatement, -1, &amp;compileStatement, NULL) == SQLITE_OK) {\n\n\n            while (sqlite3_step(compileStatement) == SQLITE_ROW) {\n\n                NSLog(@\"one record\");\n\n                NSString *cityName = [NSString stringWithUTF8String:(char *)sqlite3_column_text(compileStatement, 1)];\n\n                [cities addObject:cityName];\n\n            }\n\n            NSLog(@\"cities: %@\",cities);  \n\n        }\n\n\n    } else {\n\n\n        NSLog(@\"error in database\");\n\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>Blockquote</p>\n</blockquote>\n"},{"tags":["sqlite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":12426722,"title":"split the sql query for every 30 minutes","body":"<p><img src=\"http://i.stack.imgur.com/IUxWI.png\" alt=\"enter image description here\"></p>\n\n<p>this picture show the output of values from \"19:03:45\" to \"19:03\". nw can some one help me out by giving solution for display the same output for every 30 minutes. i mean all other values will be depended on thirty minutes interval of this particular field.</p>\n\n<p>Note :- i am using SQLite in Safari browser</p>\n"},{"tags":["android","sql","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":12426433,"title":"Duplicate rows because of null values","body":"<p>I have this query, which gives duplicated data. I know why, but can't find a solution. </p>\n\n<pre><code>\"SELECT events._id, events.cusorabs, events.userID, events.date, events.status,   \nevents.comment, events.type, events.hours, customer.name, absence.name, customer.wbs, \nabsence.code\"+\n\" FROM Events, Customer, Absence\"+\n\" WHERE events.userID = \\\"\"+userID+\"\\\"\"+\n\" AND (events.cusorabs = absence.code OR events.cusorabs = customer.wbs)\"\n</code></pre>\n\n<p>How can i use distinct on \"events.name\" and \"absence.name\"? Their values can become \"null\".</p>\n"},{"tags":["java","android","performance","sqlite","android-contentprovider"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":62,"score":1,"question_id":12415127,"title":"Slow retrieval of data in SQLITE takes a long using ContentProvider","body":"<p>I have an application in Android (running 4.0.3) that stores a lot of data in Table A. Table A resides in SQLite Database. I am using a ContentProvider as an abstraction layer above the database. </p>\n\n<p>Lots of data here means almost 80,000 records per month. Table A is structured like this:</p>\n\n<pre><code>String SQL_CREATE_TABLE = \"CREATE TABLE IF NOT EXISTS \" + TABLE_A + \" ( \" + \n        COLUMN_ID + \" INTEGER PRIMARY KEY NOT NULL\" + \",\" + \n        COLUMN_GROUPNO      + \" INTEGER NOT NULL DEFAULT(0)\" + \",\" + \n        COLUMN_TIMESTAMP    + \" DATETIME UNIQUE NOT NULL\" + \",\" + \n        COLUMN_TAG          + \" TEXT\" + \",\" + \n        COLUMN_VALUE        + \" REAL NOT NULL\" + \",\" + \n        COLUMN_DEVICEID     + \" TEXT NOT NULL\" + \",\" +\n        COLUMN_NEW          + \" NUMERIC NOT NULL DEFAULT(1)\" + \" )\";\n</code></pre>\n\n<p>Here is the index statement:</p>\n\n<pre><code>String SQL_CREATE_INDEX_TIMESTAMP = \"CREATE INDEX IF NOT EXISTS \" + TABLE_A +\n        \"_\" + COLUMN_TIMESTAMP + \" ON \" + TABLE_A + \" (\" +\n        COLUMN_TIMESTAMP + \") \";\n</code></pre>\n\n<p>I have defined the columns as well as the table name as String Constants.</p>\n\n<p>I am already experiencing significant slow down when retrieving this data from Table A. The problem is that when I retrieve data from this table, I first put it in an ArrayList and then I display it. Obviously, this is possibly the wrong way of doing things. I am trying to find a better way to approach this problem using a ContentProvider. But this is not the problem that bothers me.</p>\n\n<p>The problem is for some reason, it takes a lot longer to retrieve data from other tables which have only upto 12 records maximum. I see this delay increase as the number of records in Table A increase. This does not make any sense. I can understand the delay if I retrieve data from Table A, but why the delay in retrieving data from other tables.</p>\n\n<p>To clarify, I do not experience this delay if Table A is empty or has less than 3000 records.</p>\n\n<p>What could be the problem?</p>\n\n<p>EDIT: 09/14/2012 9:53 AM</p>\n\n<p>To clarify, I am using a ContentProvider to manage the database. To query the data, I am using the context.getContentResolver().query method.</p>\n\n<p>My query code in the ContentProvider:</p>\n\n<pre><code>@Override\npublic Cursor query(Uri uri, String[] projection, String selection,\n        String[] selectionArgs, String sortOrder) {\n    final SQLiteQueryBuilder queryBuilder = new SQLiteQueryBuilder();\n    final SQLiteDatabase db = dbHelper.getReadableDatabase();\n\n    String tableName = getTableName(uri);\n\n    queryBuilder.setTables(tableName);\n\n    Cursor cursor = queryBuilder.query(db, projection, selection, selectionArgs, null, null, sortOrder);\n    cursor.setNotificationUri(getContext().getContentResolver(), uri);\n\n    return cursor;\n}\n</code></pre>\n"},{"tags":["android","json","sqlite","parsing"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":67,"score":0,"question_id":12425266,"title":"Compare parsed JSON from pre-populated SQLite DB and update if not similar","body":"<p>I've been stuck at this problem for a while on <code>Android</code>.</p>\n\n<p>Is it possible to compare an <code>SQLite</code> local database from the parsed <code>JSON</code> objects and update the table if it's not similar?</p>\n\n<p>For example, I have a pre-populated <code>SQLite</code> database, and someone updates the server database. So instead of deleting the previous database and repopulating the app's local <code>SQLite</code> database, it'll just do a background <code>JSON</code> parsing and compare the contents of the <code>SQLite</code> database.</p>\n\n<p>If it finds a row that's changed, it'll just pull that <code>JSON</code> object and update its counterpart on the local <code>SQLite</code> database.</p>\n"},{"tags":["ios","sqlite","ios5","ios-simulator","nsfilemanager"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":12418990,"title":"Sqlite file deletes on reset of simulator","body":"<p>I am using sqlite in my IOS project. I am copying the sqlite file from my main bundle to documents directory on launch of the application. It does copy, but suppose if I reset the simulator, the sqlite file from documents directory is also getting deleted, thus all the changes made goes away with it.</p>\n\n<p>Any help would be appreciated.</p>\n"},{"tags":["android","query","sqlite","multipleselection"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":55,"score":1,"question_id":12422977,"title":"Setting multiple Selections args in SQLite database query","body":"<p>How would i go about querying more than one selection arg? For example here is how my database is formatted</p>\n\n<p><img src=\"http://i.stack.imgur.com/zkIBD.png\" alt=\"my database\"></p>\n\n<p>Here is the code i used to search with just one seletion arg:</p>\n\n<pre><code>public Cursor getType(String type) throws SQLException \n{\n    Cursor mCursor =\n            db.query(true, DB_TABLE, new String[] {\n                    KEY_ROWID,\n                    KEY_ALCOHOL, \n                    KEY_TYPE,\n                    KEY_BRAND,\n                    KEY_PRICE\n                    }, \n                    KEY_TYPE + \"=?\", \n                    new String[] { type },\n                    null, \n                    null, \n                    null, \n                    null);\n    if (mCursor != null) {\n        mCursor.moveToFirst();\n    }\n    return mCursor;\n}\n</code></pre>\n\n<p>But this only searches by KEY_TYPE, how would I set it so it searches by KEY_TYPE, KEY_ALCOHOL, and KEY_PRICE?</p>\n"},{"tags":["sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":12421218,"title":"Case insensitive search of in memory sqlite table","body":"<p>I have database phonebook and table contacts, Create statement for table contacts looks like this:\n    CREATE TABLE 'contacts'(\n    'name' text collate nocase,\n    'surname' text collate nocase,\n    'street_name' text collate nocase,\n    'street_number' text collate nocase,\n    'city' text collate nocase,\n    'post' text collate nocase,\n    'post_office_code'text collate nocase,\n    'text_to_publish' text collate nocase,\n    'area_code' text collate nocase,\n    'phone' text collate nocase,\n    'fax' text collate nocase,\n    'email' text collate nocase) </p>\n\n<p>I managed to load it in memory from java code with:\n    \"ATTACH 'phonebook' AS tempInMemoryDb\" and\n    \"CREATE TABLE tempInMemoryTable AS SELECT * FROM 'contacts';\"</p>\n\n<p>But with Create table .. as select .. resultset is copied to new table without declaring columns properties(in my case collate nocase). </p>\n\n<p>What i need is case insensitive search, but with in memory table, so could you please tell me how can i do this?</p>\n"},{"tags":["sqlite","text","fixed-width"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":42,"score":1,"question_id":12423991,"title":"Import fixed-width text file into sqlite","body":"<p>What is a good way to import fixed-width text files into sqlite tables, preferably without using peripheral software?</p>\n\n<p>E.g. specifying the width of each field</p>\n\n<pre><code>Field 1: 10 characters starting with the second character\nField 2: 5  characters starting with the twelfth character\nField 3: 7  characters starting with the eighteenth character\n</code></pre>\n\n<p>The line</p>\n\n<pre><code>AABCDEFGHIJABCDEAABCDEFGA\n</code></pre>\n\n<p>would be imported as:</p>\n\n<pre><code>Field 1     Field 2  Field 3\nABCDEFGHIJ  ABCDE    ABCDEFG\n</code></pre>\n\n<p>Thanks</p>\n"},{"tags":["unit-testing","sqlite","nunit","ioexception"],"answer_count":11,"favorite_count":0,"up_vote_count":6,"down_vote_count":0,"view_count":1633,"score":6,"question_id":374567,"title":"NUnit [TearDown] fails -- what process is accessing my files?","body":"<p><strong>Final Edit:</strong> I found a solution to the problem (at the bottom of the question).</p>\n\n<p>I've got an Nunit problem that's causing me grief. <strong>Edit:</strong> actually it looks more like a SQLite problem, but I'm not 100% certain yet.</p>\n\n<p>My TestFixture has a setup that generates a random filename that's used as a SQLite database in each of my tests.</p>\n\n<pre><code>[Setup]\npublic void Setup()\n{\n    // \"filename\" is a private field in my TestFixture class\n    filename = ...; // generate random filename\n}\n</code></pre>\n\n<p>Each of my tests use this construct in each method that accesses the database:</p>\n\n<pre><code>[Test]\npublic void TestMethod()\n{\n    using (var connection = Connect())\n    {\n        // do database activity using connection\n\n        // I've tried including this line but it doesn't help\n        // and is strictly unnecessary:\n        connection.Close();\n    }\n}\n\nprivate DbConnection Connect()\n{\n    var connection = DbProviderFactories.GetFactory(\"System.Data.SQLite\").CreateConnection();\n    connection.ConnectionString = \"Data Source=\" + filename;\n    connection.Open();\n    return connection;\n}\n</code></pre>\n\n<p>So that one helper method <code>Connect()</code> is used by all the methods. I'm assuming that the <code>using() { }</code> construct is calling <code>Dispose()</code> on the connection at the end of <code>TestMethod()</code> and freeing up the connection to the SQLite database file.</p>\n\n<p>The problem I have is in my [TearDown] method:</p>\n\n<pre><code>    [TearDown]\n    public void Cleanup()\n    {\n        File.Delete(filename); // throws an IOException!\n    }\n</code></pre>\n\n<p>With every test I get an exception:</p>\n\n<pre><code>System.IO.IOException: The process cannot access the file 'testdatabase2008-12-17_1030-04.614065.sqlite' because it is being used by another process.\n</code></pre>\n\n<p>All of the tests fail when they get to the [TearDown], so I end up with a directory full of temporary databse files (one per test, each with a different name) and a whole bunch of failed tests.</p>\n\n<p>What process is accessing the file? I don't get how a second process could be accessing the file. The <code>connection</code> has completely gone out of scope and been Dispose()d by the time I'm trying to delete the file, so it can't be something SQLite related. Can it?</p>\n\n<p>Note that I get the same result if I run all the tests or just a single test.</p>\n\n<p><strong>Update:</strong> So I tried Dispose()ing of my DbCommand objects as well, since I wasn't doing that (I assumed that every other ADO.NET provider that Dispose()ing the DbConnection also Dispose()s any commands on that connection.) So now they look like:</p>\n\n<pre><code>[Test]\npublic void TestMethod()\n{\n    using (var connection = Connect())\n    {\n        using (var command = connection.CreateCommand())\n        {\n        // do database activity using connection\n\n        }\n    }\n}\n</code></pre>\n\n<p>It didn't make any difference -- the File.Delete() line still throws an IOException. :-(</p>\n\n<p>If I remove that one line in [TearDown] then all my tests pass, but I'm left with a whole bunch of temporary database files.</p>\n\n<p><strong>Another Update:</strong>\nThis works just fine:</p>\n\n<pre><code>var filename = \"testfile.sqlite\";\nusing (var connection = BbProviderFactories.GetFactory(\"System.Data.SQLite\").CreateConnection())\n{\n    connection.ConnectionString = \"Data Source=\" + filename;\n    connection.Open();\n    var createCommand = connection.CreateCommand();\n    createCommand.CommandText =\n        \"CREATE TABLE foo (id integer not null primary key autoincrement, bar text not null);\";\n    createCommand.ExecuteNonQuery();\n    var insertCommand = connection.CreateCommand();\n    insertCommand.CommandText = \"INSERT INTO foo (bar) VALUES (@bar)\";\n    insertCommand.Parameters.Add(insertCommand.CreateParameter());\n    insertCommand.Parameters[0].ParameterName = \"@bar\";\n    insertCommand.Parameters[0].Value = \"quux\";\n    insertCommand.ExecuteNonQuery();\n}\nFile.Delete(filename);\n</code></pre>\n\n<p>I don't understand!</p>\n\n<p><strong>Update:</strong> Solution found:</p>\n\n<pre><code>    [TearDown]\n    public void Cleanup()\n    {\n        GC.Collect();\n        File.Delete(filename);\n    }\n</code></pre>\n\n<p>I ran the unit tests through the debugger, and when the <code>[TearDown]</code> method starts there are definitely no references to the SQLite DbConnection around any more. Forcing a GC must clean them up though. There must be a bug in SQLite.</p>\n"},{"tags":["c#","sql","query","sqlite","function"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":143,"score":1,"question_id":12421305,"title":"C# / Sqlite simple way to store query result as variable","body":"<p>I am semi-new to C# but in particular using Sqlite within C#, currently I have a SQlite DB setup fine in terms of it connects with the application well I am running windows form application and I have bound a table within the database to a datagrid view. </p>\n\n<p>This is all fine I have a function setup to run queries where i pass the SQL statement as a string to the function and it runs it as a query.</p>\n\n<p>I was wandering how I do I get a result back from the query I know obviosuly it will be somthing like</p>\n\n<pre><code>private string QueryResult(string query){\n    connect\n    run query\n    read query \n    return result\n}\n</code></pre>\n\n<p>All th examples I have seen use Sqlreader but I can't seem to get it work, I am really used to using PHP with SQL and that seems so much simpler than using it in C# can someone explain or point out somewhere I might be able to find a tutuorial or function that you can run any query in by passing it as a string and getting the result returned pretty simply? The results I need wont be arrays or huge things I am only looking to return 1 word strings or numbers at a time so I don't need anything complicated.</p>\n\n<p>Please help me out I spent about 4 hours reading about this stuff last night and didn't seem to get anywhere. </p>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":53,"score":1,"question_id":11770126,"title":"What files does an Android database create exactly?","body":"<p>In some of my apps I do offer an in-app backup and restore of the Android database. The name of the database file is  set in the SQLiteOpenHelper.</p>\n\n<p>Now I heard that there might be additional files depending on the Android Version and/or the manufactor (e.g. HTC).</p>\n\n<p>What are the names of all these files?</p>\n"},{"tags":["android","sqlite","simplecursoradapter","custom-lists"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":95,"score":0,"question_id":12421316,"title":"Cannot display image on listview using simple cursor adapter","body":"<p>I had populated a listview using simplecursoradapter. However, I want to add images, wherein if the answer is correct it should display check on the right and if null or incorrect it should display an x-mark. It does not display anything but there is no error. Here is my activity code:</p>\n\n<pre><code>public class Results extends ListActivity{\nDBAdapter db = new DBAdapter(this);\nprivate Cursor mCursor;\nImageView iv;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.resultslist);\n\n    db.open();\n    fillData();\n    db.close();\n\n}\nprivate void fillData() {\n\n    mCursor = db.getAllInfo();\n    startManagingCursor(mCursor);\n    String[] from = new String[]{DBAdapter.KEY_QUESTIONS, DBAdapter.KEY_CORRECTANSWERS, DBAdapter.KEY_YOURANSWERS}; \n    int[] to = new int[]{R.id.textViewquestionresults, R.id.textViewcorrectansresults, R.id.textViewyouranswerresults};\n\n    SimpleCursorAdapter c=\n            new SimpleCursorAdapter(this, R.layout.rowresults, mCursor, from, to);\n\n\n        setListAdapter(c);\n\n}\nprivate class c extends SimpleCursorAdapter{\n\n        Context lcontext;\n\n\n    public c(Context context, int layout, Cursor c, String[] from, int[] to) {\n        super(context, layout, c, from, to);\n        lcontext = context;\n\n    }\n    @Override\n    public View getView(final int pos, View v, ViewGroup parent) {\n    v = super.getView(pos, v, parent);\n    final ImageView iv = (ImageView) v.findViewById(R.id.imageViewresults);\n    final TextView tvQuestion = (TextView) v.findViewById(R.id.textViewQuestion);\n    final TextView tvCorrectAns = (TextView) v.findViewById(R.id.textViewcorrectansresults);\n    final TextView tvYourAns = (TextView) v.findViewById(R.id.textViewyouranswerresults);\n     if(tvYourAns.equals(tvCorrectAns)){\n        iv.setImageResource(R.drawable.greencheckmark);\n    }else{\n        iv.setImageResource(R.drawable.redxmark);\n    }\n    return v;\n\n}\n}\n}\n</code></pre>\n"},{"tags":["android","database","json","sqlite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":106,"score":0,"question_id":12421161,"title":"Optimize Android database update (SQLite) from web service","body":"<p>Good day.</p>\n\n<p>I've constructed an app that has an <code>SQLite</code> database that retrieves its contents from a <code>JSON</code> service pre-populated using <code>MySQL</code>. Every day, there is an update, a minor name change or insert, and I'm still unsure on how to implement the local <code>SQLite</code> database update.</p>\n\n<p>So... my problem is, how do I optimize the update of my app's database wherein (if not real-time) it can check for database changes and updates every 2 minutes or so if there is a change, perform a background check for updates and insert (or update) the new content instead of just clearing out the previous local database and repopulate it again.</p>\n\n<p>Thanks in advance. :)   </p>\n"},{"tags":["android","database","sqlite","exception"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":189,"score":0,"question_id":12420688,"title":"Android java.lang.IllegalStateException database already closed","body":"<p>I have a really weird problem that i am not able to reproduce neither on emulator or on any of the tested android devices.</p>\n\n<p>I have a SQlite Database controller that holds all of mine data access functions, in this class i have a simple function to check if a table exists:</p>\n\n<pre><code>public boolean tableExists(String tableName) {   \n  if(db==null || !db.isOpen()) db =  dbhelper.getWritableDatabase();      \n  Cursor cursor = db.rawQuery(\"SELECT name FROM sqlite_master WHERE type='table' AND name='\"+tableName+\"'\", null);\n       if(cursor!=null) {\n           if(cursor.getCount()&gt;0) {\n              cursor.close();\n              return true;\n             }\n            cursor.close();\n          }\n      return false;  \n    }\n</code></pre>\n\n<p>On my application start i create an async task to check for updates and on this process i will check for the existence of a local table in the database. </p>\n\n<p>The error thrown is on the Cursor cursor = db.rawQuery(... line, and the error is:</p>\n\n<p><strong>java.lang.IllegalStateException: database ... db.sqlite already closed</strong></p>\n\n<pre><code>java.lang.RuntimeException: An error occured while executing doInBackground()\n at android.os.AsyncTask$3.done(AsyncTask.java:200)\n at java.util.concurrent.FutureTask$Sync.innerSetException(FutureTask.java:274)\n at java.util.concurrent.FutureTask.setException(FutureTask.java:125)\n at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:308)\n at java.util.concurrent.FutureTask.run(FutureTask.java:138)\n at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1088)\n at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:581)\n at java.lang.Thread.run(Thread.java:1019)\nCaused by: java.lang.IllegalStateException: database /data/data/com.xxx.xxx.xxx.android/databases/db.sqlite already closed\n at android.database.sqlite.SQLiteCompiledSql.&lt;init&gt;(SQLiteCompiledSql.java:59)\n at android.database.sqlite.SQLiteProgram.&lt;init&gt;(SQLiteProgram.java:83)\n at android.database.sqlite.SQLiteQuery.&lt;init&gt;(SQLiteQuery.java:49)\n at android.database.sqlite.SQLiteDirectCursorDriver.query(SQLiteDirectCursorDriver.java:42)\n at android.database.sqlite.SQLiteDatabase.rawQueryWithFactory(SQLiteDatabase.java:1364)\n at android.database.sqlite.SQLiteDatabase.rawQuery(SQLiteDatabase.java:1332)\n at com.xxx.xxx.xxx.utils.SQLiteController.tableExists(SQLiteController.java:1463)\n</code></pre>\n\n<p>I am not able to reproduce this error but according to ACRA this is happening several times in different devices.</p>\n\n<p>Can someone give me a light on this?</p>\n\n<p>Thanks.</p>\n"},{"tags":["sqlite","sqlite3","type-conversion"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":12419693,"title":"Convert integer to text in SQLite's SELECT query?","body":"<p>I would like to create a SELECT query that would return numbers from column in <code>integer</code> format as a <code>text</code> format - can I do it in SQLite?</p>\n"},{"tags":["android","sqlite"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":77,"score":-2,"question_id":12419566,"title":"android.database.CursorIndexOutOfBoundsException: Index 10 requested, with a size of 10","body":"<p>I'm learning android with SQLite operations. The following code causes a <code>CursorIndexOutOfBoundsException</code>, but I don't know why:</p>\n\n<pre><code>for (int i = 0; i &lt; cursor.getCount(); i++) {\n    cursor.move(i);\n    String username = cursor.getString(1);\n    Log.i(\"username\", username);\n}\n</code></pre>\n\n<p>The log and exception:</p>\n\n<pre><code>09-13 12:39:18.317: INFO/row count:(3578): 10\n09-13 12:39:18.317: INFO/username(3578): aaa_0\n09-13 12:39:18.317: INFO/username(3578): aaa_1\n09-13 12:39:18.317: INFO/username(3578): aaa_3\n09-13 12:39:18.317: INFO/username(3578): aaa_6\n09-13 12:39:18.337: ERROR/AndroidRuntime(3578): FATAL EXCEPTION: main\n    java.lang.RuntimeException: \n    Unable to start activity ComponentInfo{com.example/com.example.MyActivity}: \n    android.database.CursorIndexOutOfBoundsException: \n    Index 10 requested, with a size of 10\n</code></pre>\n\n<p>You can see the row count is 10, but it throws exception when getting the 5th row.</p>\n\n<p>The full code is:</p>\n\n<pre><code>import android.app.Activity;\nimport android.database.Cursor;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.os.Bundle;\nimport android.util.Log;\n\npublic class MyActivity extends Activity {\n\n    private SQLiteDatabase db;\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.main);\n\n        createTables();\n        insertData();\n        queryData();\n    }\n\n\n    private void queryData() {\n        Cursor cursor = db.query(\"users\", new String[]{\"_id\", \"username\", \"password\"}, null, null, null, null, null, null);\n        if (cursor.moveToFirst()) {\n            Log.i(\"row count: \", \"\" + cursor.getCount());\n            for (int i = 0; i &lt; cursor.getCount(); i++) {\n                cursor.move(i);\n                String username = cursor.getString(1);\n                Log.i(\"username\", username);\n            }\n        }\n    }\n\n    private void insertData() {\n        for (int i = 0; i &lt; 10; i++) {\n            String sql = \"insert into users(username, password) values('aaa_\" + i + \"','123_\" + i + \"')\";\n            db.execSQL(sql);\n        }\n    }\n\n    private void createTables() {\n        this.deleteDatabase(\"temp.db\");\n        db = this.openOrCreateDatabase(\"temp.db\", MODE_PRIVATE, null);\n        String sql = \"create table users(_id integer primary key autoincrement, username text, password text)\";\n        db.execSQL(sql);\n    }\n\n}\n</code></pre>\n"},{"tags":["mysql","database","sqlite","web","migration"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":49,"score":2,"question_id":12415989,"title":"How to move data from one SQLite to MySQL with different designs?","body":"<p>The problem is:\nI've got a SQLite database which is constantly being updated though a proprietary application.</p>\n\n<p>I'm building an application which uses MySQL and the database design is very different from the one of SQLite.</p>\n\n<p>I then have to copy data from SQLite to MySQL but it should be done very carefully as not everything should be moved, tables and fields have different names and sometimes data from one table goes to two tables (or the opposite).</p>\n\n<p>In short, SQLite should behave as a client to MySQL inserting what is new and updating the old in an automated way. It doesn't need to be updating in real time; every X hours would be enough.</p>\n\n<p>A google search gave me this:\n<a href=\"http://migratedb.sourceforge.net/\" rel=\"nofollow\">http://migratedb.sourceforge.net/</a></p>\n\n<p>And asking a friend I got information about the Multisource plugin (Squirrel SQL) in this page:\n<a href=\"http://squirrel-sql.sourceforge.net/index.php?page=plugins\" rel=\"nofollow\">http://squirrel-sql.sourceforge.net/index.php?page=plugins</a></p>\n\n<p>I would like to know if there is a better way to solve the problem or if I will have to make a custom script myself.</p>\n\n<p>Thank you!</p>\n"},{"tags":["sqlite","system.data.sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":63,"score":0,"question_id":12417222,"title":"System.Data.SQLite in-memory database multi-threading","body":"<p>I am creating a System.Data.SQLite in-memory database using connection string as </p>\n\n<pre><code>\"Data Source=:memory:\", \n</code></pre>\n\n<p>and want to access this database among multi-threads. </p>\n\n<p>Now what I do is to clone the <code>SQLiteConnection</code> object and pass the copy to worker threads. </p>\n\n<p>But I found that different threads actually get individual instances of in-memory database, not a shared one. How can I share one in-memory database among threads? </p>\n\n<p>Thanks!</p>\n"},{"tags":["sql","database","query","sqlite","sqlite3"],"answer_count":3,"favorite_count":1,"up_vote_count":6,"down_vote_count":0,"view_count":1020,"score":6,"question_id":8190541,"title":"Deleting duplicate rows from sqlite database","body":"<p>I have a huge table - 36 million rows - in SQLite3.</p>\n\n<p>In this very large table, there are two columns</p>\n\n<ul>\n<li>hash - text</li>\n<li>d - real</li>\n</ul>\n\n<p>However, some of the rows are duplicates. That is, both hash and d have the same values.</p>\n\n<p>Also, if two hashes are identical, so are the values of d, but two identical ds does not imply two identical hashes</p>\n\n<p>Anyway, I want to delete the duplicate rows. I don't have a primary key column because i'm an idiot. What's the fastest way to do this?</p>\n\n<hr>\n\n<p>EDIT: <code>delete from dist where rowid not in (select max(rowid) from dist group by hash);</code></p>\n\n<p>Appears to do the trick.</p>\n"},{"tags":["iphone","ios","sqlite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":12417035,"title":"Compare value in TextField with one Object property name from Database(Sqlite)","body":"<p>I have one Object Coffee (idCoffee,name), I have also insert lots of values to database with two textfield such as: idTextField and nameTextField. I want to compare again when I give value of name that have in database that mean the same name show me one alert that I want to change another value name. So how can I deal with this problem?  </p>\n"},{"tags":["android","sqlite","insert","constants","data-type-conversion"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":12415728,"title":"Set EditText as a constant n db","body":"<p>Is it possible to take data from a edit text field and insert it into a SQLite db as a constant. I'm am trying to insert data into a SQLite primary key table and need for that data to be a constant for the db to accept it. I can't find any examples that would how me how to accomplish this.</p>\n"},{"tags":["android","sqlite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":12416601,"title":"Listview for sqlite with 2 tables and image","body":"<p>I am about to list view that has its items customized. Each item consists of 2 text views and an image. The 2 text view information are in one table in sqlite and the image in another table. </p>\n\n<p>Given above here is my approach. I would like to see if you agree with my way or there is a way I can do things better</p>\n\n<p>1 - I am not sure should I use cursoradapter or simpleCurserAdapter or extend the cursor one or extend the simple one? Note that 2 tables are used to populate the item</p>\n\n<p>2- I am thinking of storing the image uri (which is the path) on the db and then when populating the list view I would grab this uri and get the bitmap from it </p>\n\n<p>Does this sound right? </p>\n"},{"tags":["c#","performance","sqlite","sql-update"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":12402752,"title":"Different speed SQLITE UPDATE on different PC","body":"<p>I have C# source and am using a Sqlite database. This code runs with different speeds on different machines, and I don't know why.</p>\n\n<pre><code>cmd.CommandText = \"UPDATE question SET count_gen = \" + count_gen.ToString() + \" WHERE question_id = \" + id_q.ToString();\ncmd.ExecuteNonQuery();\n</code></pre>\n\n<p>The DB ~80Mb size, the question tables have 13000 records, and field question_id is indexed.\nSo, I have a 13 second freeze in my program when I do a <code>cmd.ExecuteNonQuery();</code> (I launch  Perfomance Manager in MS Visual Studio 2010 and it has detected this).</p>\n\n<p>I tested my program on other machines, where I have 13 secs, and some PCs have 1 sec. When I use a RAM disc, it takes 1 sec on my machine.</p>\n\n<p>I don't know why on some machines \"UPDATE\" runs so slowly, and others waste 1 sec. I think here deal with the hard disk, but I don't know why.</p>\n\n<p>I used VACUUM in db once to delete free space. So I use indices, vacuum, and I have small db size ~80Mb, and I don't know why on my machine in RAM disk I have 1 sec and on harddisk 13 / on some others machine we have 1 sec on harddisks.</p>\n\n<p>Sorry for my English.</p>\n"},{"tags":["ios","performance","sqlite","core-data"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":67,"score":1,"question_id":12415547,"title":"iOS Large SQLite data set slow performance","body":"<p>I have an application that I am working on for iOS that is to display trails on a map based on the bounding box of the current view.  So as the user moves around the map it will load the appropriate set of trails.  </p>\n\n<p>The SQLite table is LARGE, 260k rows, where each row is a point on a trail.  The table has a primary key (int), latitude (float), longitude (float) and a name (varchar).  The latitude and longitude columns are indexed.  When I query I am looking for where the latitude is between the lower right and upper left latitude and the longitude is between the upper left and lower right longitude.  The query works flawlessly on desktop as well as on the phones as it returns the expected results.  The issue is that on my Mac the query returns instantaniously where as on the phone it may take as little as 4 seconds before returning anything.  The bottle neck does appear to be the database query and I'm starting to think its a limitation of the hardware.</p>\n\n<p>I have tried using CoreData which is where I noticed the issue first.  Then I moved to using FMDB to access the database and am still having issues.</p>\n\n<p>I have done no tweaking to the database or to the connection.</p>\n\n<p>The guts of the queryForTrails method</p>\n\n<pre><code>    if( ![db open] ) {\n        [db release];\n        NSLog(@\"Error opening DB: %@\", dbPath);\n    }\n\n    FMResultSet *trails = [db executeQueryWithFormat:@\"SELECT zname, zlatitude, zlongitude FROM ztrail WHERE ztype = 1 and zlatitude BETWEEN %@ and %@ AND zlongitude BETWEEN %@ and %@ order by zname\", lrLat, ulLat, ulLon,lrLon];\n\n    //Start to load the map with data\n    NSString *lastTrailName=@\"\";\n    int idx = 0;\n    CLLocationCoordinate2D *trailCoords = nil;\n    NSUInteger coordSize = 20;\n\n    trailCoords = malloc(sizeof(CLLocationCoordinate2D)*coordSize);\n    while( [trails next] ) {\n        NSString *trailName = [trails stringForColumnIndex:0];\n        NSString *lat = [trails stringForColumnIndex:1];\n        NSString *lon = [trails stringForColumnIndex:2];\n\n        if( [lastTrailName compare:trailName] != NSOrderedSame ) {\n            if(idx &gt; 0) {\n                [trailLines addObject:[MKPolyline polylineWithCoordinates:trailCoords count:idx]];\n                free(trailCoords);\n                idx = 0;\n                coordSize = 20;\n            }\n            lastTrailName = trailName;\n            trailCoords = malloc(sizeof(CLLocationCoordinate2D)*coordSize);\n        }\n\n        if(idx == coordSize) {\n            coordSize *= 2;\n            trailCoords = realloc(trailCoords, sizeof(CLLocationCoordinate2D) * coordSize);\n        }\n\n        trailCoords[idx++] = CLLocationCoordinate2DMake([lat doubleValue], [lon doubleValue]);\n    }\n\n    //Build the new polyline\n    [trailLines addObject:[MKPolyline polylineWithCoordinates:trailCoords count:idx]];\n    //NSLog(@\"Num Trails: %d\", [trailLines count]);\n    free(trailCoords);\n    //NSLog(@\"Num of Points %d for %@\",idx, lastTrailName);\n\n    if( [trailLines count] &gt; 0 ) {\n        dispatch_async(dispatch_get_main_queue(),^{\n            [mapView addOverlays:trailLines];\n        });\n    }\n</code></pre>\n\n<p>I can provide some NSLog data if needed.  I will also be doing the same application for Android so I'd like to try and work out the performance issues now.</p>\n"},{"tags":["sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":12414493,"title":"SQLLite: How to renumber a auto-increment field?","body":"<p>I have two different CSV files which I have merged and imported into a single table in a SQLite3 database. Each CSV file contained a column called ID. Since, some of the ID's are duplicates (across the CSV files) and this is a primary key field, I need a way to completely  renumber the ID field for each row in the table.</p>\n\n<p>The ID field is also an auto-increment field. </p>\n\n<p>So, what I would like to do is to run a SQL command or some other method where the ID for each row of the table would be reset to ensure uniqueness. For example, the ID field for the first row will be set to 1 the next to 2 and so on. </p>\n\n<p>Note, it is not so important that it begin with 1. Ensuring primary key uniqueness is the goal here. It doesn't matter what number it starts at. There are also no foreign key relations so that is not an issue.</p>\n\n<p>Any suggestions much appreciated. </p>\n"},{"tags":["android","sqlite","android-contentprovider","calllog","ifnull"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":12414175,"title":"Android - Sort calls by cached name if exist (use of ifnull in sqlite)","body":"<p>i would like sort the call logs by cached name. The cached name can be null.\nSo in the case of a null cached name, i would like to have the phone number for an alias.</p>\n\n<p>in sqlite, there is the ifnull() function.\n<a href=\"http://www.sqlite.org/lang_corefunc.html\" rel=\"nofollow\">ifnull details</a></p>\n\n<p>I try : </p>\n\n<pre><code>String[] projections = new String[] { Calls._ID, Calls.NUMBER, Calls.DATE, Calls.TYPE, Calls.DURATION, \"ifnull(\"+Calls.CACHED_NAME+\",\"+Calls.NUMBER+\") as display_name\" };\n\nCursor cursor_call = ctx.getContentResolver().query(URI_CALL_LOGS,\n                    projections,\n                    null,\n                    null,\n                    null);\n</code></pre>\n\n<p>But i have an error with my use of ifnull an i don't find a sample of this function.</p>\n\n<p>java.lang.IllegalArgumentException: Invalid column ifnull(name,number) as display_name</p>\n"},{"tags":["android","sqlite","date"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":12343299,"title":"No results from a query with Date type in SQLite - Java/Android","body":"<p>I perform the following query in a SQLite database:</p>\n\n<pre><code>\" ...WHERE mydate &gt;= '\" + inicialdate + \"' AND mydate &lt;= '\" + finaldate + \"'\";\n</code></pre>\n\n<p><code>mydate</code> is the field in the DataBase, type DATE. <code>inicialdate</code> and <code>finaldate</code> are Strings.</p>\n\n<p>The idea here is to perform a query between two different dates given by the user.\nI use a DataPicker to allow the user input the data.<br>\nSo, I get these dates returned from the DatePicker and put them in the <code>inicialdate</code> and <code>finaldate</code> Strings.</p>\n\n<p>The format of the date I'm putting in the Strings is \"YYYY-MM-DD\".</p>\n\n<p>The query returns something when I just put some value in the <code>finaldate</code> String, but when i put dates in the two Strings, or just in the first one, I receive nothing from the query.</p>\n\n<p>SOLUTION ----------------------------------------------------------------------------------</p>\n\n<p>\" ...WHERE mydate >= '\" + inicialdate + \"' AND mydate &lt;= '\" + finaldate + \"'\";</p>\n\n<p>This piece of query is right. The problem was in my code, with de datapicker.</p>\n\n<p>To perform a query in SQLITE I need to use the format YYYY-MM-DD. \nI was taking the data to perform a query directly from a datapicker, so sometimes it retrieves a data in the format YYYY-M-D. In a datapicker, when a month or day is lower than 10, it just put a single digit to represent the month or day. </p>\n\n<p>Tha solution is just use an if statement to see if the number is lower than 10, then put a \"0\" before the number of the month or the day. </p>\n\n<p>Well, this solved the problem at all</p>\n"},{"tags":["sql","sqlite"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":65,"score":0,"question_id":12406295,"title":"how to query in sqlite for different date format","body":"<p>I am using <code>sqlite</code> for local database in mobile and in my database, I have date field with column name <code>RN_CREATE_DATE</code>. My <code>RN_CREATE_DATE</code> column value is in this format <code>'dd-mm-yy  HH:MM:SS'</code> and I want to fetch data with given date. What will be the exact query for that I tried with below database column and value</p>\n\n<p>**RN_CREATE_DATE</p>\n\n<p>2012-07-27 11:04:34</p>\n\n<p>2012-05-28 10:04:34<br>\n2012-07-22 09:04:34** </p>\n\n<pre><code>SELECT  RN_CREATE_DATE \nFROM DISPOSITION \nWHERE  RN_CREATE_DATE=strftime('%Y', '2012-07-28 12:04:34')\n</code></pre>\n\n<p>but no result found, just help me out with this.</p>\n"},{"tags":["android","database","query","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":12396048,"title":"How to return multiple entries with same value from SQLite","body":"<p><img src=\"http://i.stack.imgur.com/cYeUc.png\" alt=\"My database\"></p>\n\n<p>This is what my database looks like, how would I return all of the rows that have the same string in the KEY_ALCOHOL column? After I get all of the rows, I need to randomly pick one and then display it.</p>\n\n<p>I tried this:\n<strong>DATABASE HELPER .JAVA</strong></p>\n\n<pre><code>public Cursor getAlcohol(String alcohol) throws SQLException \n{\n    Cursor mCursor =\n            myDataBase.query(true, DB_TABLE, new String[] {\n                    KEY_ROWID,\n                    KEY_ALCOHOL, \n                    KEY_TYPE,\n                    KEY_BRAND,\n                    KEY_PRICE\n                    }, \n                    KEY_ALCOHOL + \"=\" + alcohol, \n                    null,\n                    null, \n                    null, \n                    null, \n                    null);\n    if (mCursor != null) {\n        mCursor.moveToFirst();\n    }\n    return mCursor;\n}\n</code></pre>\n\n<p><strong>MAIN ACTIVITY .JAVA</strong></p>\n\n<pre><code>myDbHelper.openDataBase();\n    Cursor c = myDbHelper.getAlcohol(\"Liquor\");\n    if (c.moveToFirst())\n    {\n        do {          \n            DisplayTitle(c);\n        } while (c.moveToNext());\n    }\n    myDbHelper.close();\n\n}\n\npublic void DisplayTitle(Cursor c)\n{\n    Toast.makeText(this, \n            \"id: \" + c.getString(0) + \"\\n\" +\n            \"ALCOHOL: \" + c.getString(1) + \"\\n\" +\n            \"TYPE: \" + c.getString(2) + \"\\n\" +\n            \"BRAND:  \" + c.getString(3) + \"\\n\" +\n            \"PRICE:  \" + c.getString(4),\n            Toast.LENGTH_LONG).show();        \n} \n</code></pre>\n\n<p>I was testing to see if this would simply return all of the rows with \"Liquor\" in the KEY_ALCOHOL column but instead it gave me a null pointer.</p>\n\n<p>EDIT</p>\n\n<p>Got it working!!\nHere is what i came up with and it works!! Let me know if anything is wrong or you see a better way of doing it! Thanks everyone!</p>\n\n<pre><code>myDbHelper.openDataBase();\n     Cursor Test = myDbHelper.getAlcohol(\"Liquor\");\n     int test7 = Test.getCount();\n     test9 = r.nextInt(test7);\n     Cursor c = myDbHelper.getTitle(test9);\n     if (c.moveToFirst())        \n         DisplayTitle(c);\n     else\n         Toast.makeText(this, \"No title found\", \n                Toast.LENGTH_LONG).show();\n    myDbHelper.close();\n</code></pre>\n"},{"tags":["android","sqlite","parcelable"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":923,"score":1,"question_id":8896751,"title":"Android Store a Parcelable Object in SQLite","body":"<p>I need to store an object content in Sqlite.\nI was wondering which was the best way to do it with a serialization of the object or with Parcelable.</p>\n\n<p>Is it possible to store it as Parcelable? How can I do it?</p>\n"},{"tags":["sqlite","index"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":497,"score":2,"question_id":5350794,"title":"How to optimize an SQLite index?","body":"<p>I have a table t1 and two indexes:</p>\n\n<pre><code>create index if not exists timeindex on t1(time, \"Bytes Received\")\ncreate index if not exists filenameindex on t1(filename)\n</code></pre>\n\n<p>The next query executes fast enough:</p>\n\n<pre><code>select \"Bytes Received\" from t1 where time&gt;=\"11:19:31.18\" and time &lt;= \"11:19:36.18\"\n</code></pre>\n\n<p>But when I add an additional condition to WHERE statement the query slows down tremendously</p>\n\n<pre><code>select \"Bytes Received\" \n    from t1 \n    where time&gt;=\"11:19:31.18\" and time &lt;= \"11:19:36.18\"\n    and filename = \"SE12.log\"\n</code></pre>\n\n<p>I've tried to create a new index <code>t1(time, \"Bytes Received\", filename)</code> but execution speed didn't changed. </p>\n\n<p>How should I change the indexes in the table to speed up the query?</p>\n"},{"tags":["c++","c","windows","sqlite","compiler"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":12412047,"title":"c++ setting up for sqlite3","body":"<p>I've downloaded the source code for sqlite3 to start programming with the sqlite3 interface in c++. but I don't know how to get the .lib file for sqlite 3.</p>\n\n<p>I have these files:</p>\n\n<p>sqlite3.c\nshell.c\nsqlite3.h\nsqlite3ext.h</p>\n\n<p>and this is my simple source code:</p>\n\n<pre><code>#include &lt;stdlib.h&gt;\n#include &lt;SQL/sqlite3.h&gt;\n\nusing namespace std;\n\nint main(int argc, char *argv[]){   \n    sqlite3 * db;\n\n    int rc = sqlite3_open(\"file.txt\", &amp;db);\n\n}\n</code></pre>\n\n<p>but i get \"undefined reference to sqlite3_open\"</p>\n\n<p>this is in my makefile:</p>\n\n<pre><code>MY_LIBS = -lsqlite3\nmain:\n    g++ -g main.cpp -o sqliteex\n</code></pre>\n\n<p>which doesn't compile because there is no library named sqlite3.lib</p>\n\n<p>where do I get this file or how do I build it so I can start using sqlite3?</p>\n"},{"tags":["android","multithreading","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":78,"score":0,"question_id":12350582,"title":"How to Execute threads in parallel and insert corresponding data in sqlite database without database lock?","body":"<p>I need to call multiple api's each executing in separate thread and insert the respective data from response to sqlite database without causing locks. Can anyone help me in this regard with a working example that I can refer to.</p>\n"},{"tags":["java","sqlite","jdbc","synchronized"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":124,"score":0,"question_id":12410778,"title":"SQLite out of memory exception","body":"<p>I am getting the \"java.sql.SQLException: [SQLITE_MISUSE]  Library used incorrectly (out of memory)\". I paste the code sample for my database connection object</p>\n\n<pre><code>public class DBhandler {\n   private String DBUrl=\"d:\\\\sqlitedb\\\\somdb.db\";\n   private String driverName=\"org.sqlite.JDBC\";\n   private String jdbc=\"jdbc:sqlite:\";\n   private Connection con=null;\n   private Statement stmnt=null;\n\n  public DBhandler() \n  {\n        try {\n            Class.forName(this.driverName);\n        } catch (ClassNotFoundException e1) {\n            // TODO Auto-generated catch block\n            e1.printStackTrace();\n        }\n\n            try {\n                this.con=DriverManager.getConnection(this.jdbc+this.DBUrl);\n                this.stmnt=con.createStatement();\n            } catch (SQLException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n\n  }\n\n   public CurrentActiveSom getCurrentActiveSom()\n {\n\n     CurrentActiveSom cas=null;\n     String query=\"select * from current_active_som where active=1\"; \n    ResultSet rs=null;\n\n     try {\n        rs=this.stmnt.executeQuery(query);\n    if (rs.next())\n    {\n        cas= new CurrentActiveSom();\n        cas.setMonth(rs.getString(\"month\"));\n        cas.setYear(rs.getString(\"year\"));\n        cas.setIsActive(rs.getInt(\"active\"));\n\n    }\n\n    } catch (SQLException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n\n     finally\n     {\n         try {\n            rs.close();\n            this.stmnt.close();\n             this.con.close();\n        } catch (SQLException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n\n     }\n     return cas;\n }\n\n public CurrentActiveSom getIsDoneSom(String month,String year)\n {\n\n     CurrentActiveSom cas=null;\n     String query=\"select * from current_active_som where month='\"+month+\"' and year='\"+year+\"' and active=0\"; \n\n    ResultSet rs=null;\n\n\n     try {\n\n             rs=this.stmnt.executeQuery(query); //this is exception line\n        }\n\n        if (rs.next())\n        {\n            cas= new CurrentActiveSom();\n            cas.setMonth(rs.getString(\"month\"));\n            cas.setYear(rs.getString(\"year\"));\n            cas.setIsActive(rs.getInt(\"active\"));\n\n        }\n\n\n     } catch (SQLException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n     }\n\n     finally\n     {\n         try {\n            //rs.close(); //if i uncomment this gets null pointer exception \n            this.stmnt.close();\n             this.con.close();\n        } catch (SQLException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n\n     }\n     return cas;\n }\n</code></pre>\n\n<p>The call to these Two methods with same object of DBhandler like </p>\n\n<pre><code> DBhandler db=new DBhandler();\n CurrentActiveSom cas1=db.getCurrentActiveSom();\n CurrentActiveSom cas2=db.getIsDoneSom(String month,String year)\n</code></pre>\n\n<p>then I am getting the above exception , </p>\n\n<p>but if we call thses 2 methods with different object DBhandler like</p>\n\n<pre><code>   DBhandler db1=new DBhandler();\n   DBhandler db2=new DBhandler();\n   CurrentActiveSom cas1=db1.getCurrentActiveSom();\n   CurrentActiveSom cas2=db2.getIsDoneSom(String month,String year)\n</code></pre>\n\n<p>Then code is working fine.</p>\n\n<p>Is this because of sync problem, with connection ? how to resolve this problem?</p>\n"},{"tags":["android","query","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":12408698,"title":"SQLite queries to create a defined Java Object","body":"<p>I have a SQLite table of this tipe</p>\n\n<p>Table <em>Vehicles</em>:</p>\n\n<pre><code>CATEGORY    COUNTRY   ID    NAME          EMAIL\nA           GE         1    BMW           sample1@salple.it\nA           GE         2    Lamborghini   sample2@salple.it\nB           GE         3    BMW           sample3@salple.it\n</code></pre>\n\n<p>I want to select all the entries that have a specified name or a specified category and pass all the parameters how each row in a constructor</p>\n\n<pre><code>Vehicle(String category, String country, int id, String name, String email)\n</code></pre>\n\n<p>I have implemented this adapter using some tutorials:</p>\n\n<pre><code>public class TestAdapter  \n{ \n    protected static final String TAG = \"DataAdapter\"; \n\n    private final Context mContext; \n    private SQLiteDatabase mDb; \n    private DataBaseHelper mDbHelper; \n\n    public TestAdapter(Context context)  \n    { \n        this.mContext = context; \n        mDbHelper = new DataBaseHelper(mContext); \n    } \n\n    public TestAdapter createDatabase() throws SQLException  \n    { \n        try  \n        { \n            mDbHelper.createDataBase(); \n        }  \n        catch (IOException mIOException)  \n        { \n            Log.e(TAG, mIOException.toString() + \"  UnableToCreateDatabase\"); \n            throw new Error(\"UnableToCreateDatabase\"); \n        } \n        return this; \n    } \n\n    public TestAdapter open() throws SQLException  \n    { \n        try  \n        { \n            mDbHelper.openDataBase(); \n            mDbHelper.close(); \n            mDb = mDbHelper.getReadableDatabase(); \n        }  \n        catch (SQLException mSQLException)  \n        { \n            Log.e(TAG, \"open &gt;&gt;\"+ mSQLException.toString()); \n            throw mSQLException; \n        } \n        return this; \n    } \n\n    public void close()  \n    { \n        mDbHelper.close(); \n    } \n\n\n\n    public boolean SaveVehicles(String category , String country, String id, String name, String email) \n    {\n        try\n        {\n            ContentValues cv = new ContentValues();\n            cv.put(\"Category\", category);\n            cv.put(\"Country\", country);\n            cv.put(\"id\", id);\n            cv.put(\"Name\", name);\n            cv.put(\"Email\", email);\n\n            mDb.insert(\"Vehicles\", null, cv);\n\n            Log.d(\"SaveVehicles\", \"informationsaved\");\n            return true;\n\n        }\n        catch(Exception ex)\n        {\n            Log.d(\"SaveVehicles\", ex.toString());\n            return false;\n        }\n    }\n\n\n} \n</code></pre>\n\n<p>But I don't know how I could implement the various get methods that I need, to meet a solution to my problem.</p>\n"},{"tags":["android","database","sqlite","random"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":12408392,"title":"how to pick random a entry from a specific group in a SQLite database","body":"<p>From my SQLite database i pulled all of the entries that have \"Liquor\" in the KEY_ALCOHOL column, how do i go about picking a random entry from the selected group?</p>\n\n<p>Here is how i am getting the group:</p>\n\n<pre><code>public Cursor getAlcohol(String alcohol) throws SQLException \n{\n    Cursor mCursor =\n            myDataBase.query(true, DB_TABLE, new String[] {\n                    KEY_ROWID,\n                    KEY_ALCOHOL, \n                    KEY_TYPE,\n                    KEY_BRAND,\n                    KEY_PRICE\n                    }, \n                    KEY_ALCOHOL + \"=?\", \n                    new String[] { alcohol },\n                    null, \n                    null, \n                    null, \n                    null);\n    if (mCursor != null) {\n        mCursor.moveToFirst();\n    }\n    return mCursor;\n}\n</code></pre>\n\n<p>This returns about 60 different entries and i need to choose just one at random.</p>\n\n<h1>EDIT</h1>\n\n<p>This is the second attempt on the database helper .java</p>\n\n<pre><code>public Cursor getTest(String test) throws SQLException \n{\n    Cursor mCursor =\n            myDataBase.query(true, DB_TABLE, new String[] {\n                    KEY_ROWID,\n                    KEY_ALCOHOL, \n                    KEY_TYPE,\n                    KEY_BRAND,\n                    KEY_PRICE\n                    }, \n                    KEY_ALCOHOL + \"=?\", \n                    new String[] { test },\n                    null, \n                    null, \n                    \"RANDOM()\", \n                    \"LIMIT 1\");\n    return mCursor;\n}\n</code></pre>\n\n<p>This is how i am calling it in the main activity:</p>\n\n<pre><code>myDbHelper.openDataBase();\n    Cursor c = myDbHelper.getTest(\"Liquor\");\n    if (c.moveToFirst())\n    {\n        do {          \n            DisplayTitle(c);\n        } while (c.moveToNext());\n    }\n    myDbHelper.close();\n\n}\n\npublic void DisplayTitle(Cursor c)\n{\n    Toast.makeText(this, \n            \"id: \" + c.getString(0) + \"\\n\" +\n            \"ALCOHOL: \" + c.getString(1) + \"\\n\" +\n            \"TYPE: \" + c.getString(2) + \"\\n\" +\n            \"BRAND:  \" + c.getString(3) + \"\\n\" +\n            \"PRICE:  \" + c.getString(4),\n            Toast.LENGTH_LONG).show();        \n} \n</code></pre>\n"},{"tags":["android","sqlite","android-contentprovider"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":212,"score":1,"question_id":12033234,"title":"Get Calls provider internal structure","body":"<p>I need to get internal structure of Calls provider on different phones(this is mainly because of Samsung devices, which cause problems, i.e. underlying <strong>DB schema</strong>).\nHere's my code:</p>\n\n<pre><code>public class MainActivity extends Activity {\n\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        ............................\n\n        dumpProvider();\n    }\n\n    private void dumpProvider() {\n\n        Cursor cursor = getCallsCursor();\n        try {\n            BufferedWriter writer = getWriter();\n            dumpColumnNames(cursor, writer);\n\n            cursor.moveToFirst();\n            do {\n                dumpRecord(cursor, writer);\n            } while (cursor.moveToNext());\n            writer.close();\n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n            cursor.close();\n        }\n\n    }\n\n    private void dumpRecord(Cursor cursor, BufferedWriter writer) throws IOException {\n        String recordStr = \"\";\n        int columnCount = cursor.getColumnCount();\n        for (int columnIndex = 0; columnIndex &lt; columnCount; columnIndex++) {\n            recordStr += cursor.getString(columnIndex) + \" \";\n        }\n        writer.append(recordStr);\n        writer.newLine();\n    }\n\n    private void dumpColumnNames(Cursor cursor, BufferedWriter writer) throws IOException {\n        String[] columnNames = cursor.getColumnNames();\n        String columnNamesStr = \"\";\n        for (String columnStr : columnNames) {\n            columnNamesStr += columnStr + \" \";\n        }\n        writer.append(columnNamesStr);\n        writer.newLine();\n    }\n\n    private Cursor getCallsCursor() {\n        ContentResolver cr = getContentResolver();\n        Cursor cursor = cr.query(CallLog.Calls.CONTENT_URI, null, null, null, null);\n\n        return cursor;\n    }\n\n    private BufferedWriter getWriter() throws IOException {\n        ......................\n    }\n\n}\n</code></pre>\n\n<p>Runs <strong>well</strong> on my LG, but when running on Samsung S2 I get <strong>exception</strong>:</p>\n\n<pre><code>08-20 09:16:15.860: E/AndroidRuntime(19565): FATAL EXCEPTION: main\n08-20 09:16:15.860: E/AndroidRuntime(19565): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.databasestrucutecollector/com.example.databasestrucutecollector.MainActivity}: android.database.sqlite.SQLiteException: no such column: sdn_alpha_id: , while compiling: SELECT sns_receiver_count, numberlabel, service_type, matched_number, type, contactid, lookup_uri, mime_type, sdn_alpha_id, sp_type, messageid, fname, simnum, lname, sns_pkey, account_id, formatted_number, call_out_duration, number, geocoded_location, account_name, is_read, raw_contact_id, source_data, cdnip_number, state, m_subject, date, real_phone_number, source_package, _id, sns_tid, name, normalized_number, name_reversed, _data, photo_id, logtype, reject_flag, has_content, m_content, country_code, frequent, cityid, bname, countryiso, numbertype, new, duration, cnap_name, address, e164_number, voicemail_uri FROM logs WHERE (logs.logtype=100 OR logs.logtype=110 OR logs.logtype=500 OR logs.logtype=800 OR logs.logtype=900 OR logs.logtype=1000 OR (logs.logtype=200 AND number NOT IN (SELECT number FROM logs WHERE number LIKE '%@%')) OR logs.logtype=300) AND ((((type != '4')))) ORDER BY date DESC\n08-20 09:16:15.860: E/AndroidRuntime(19565):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1967)\n08-20 09:16:15.860: E/AndroidRuntime(19565):    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1992)\n08-20 09:16:15.860: E/AndroidRuntime(19565):    at android.app.ActivityThread.access$600(ActivityThread.java:127)\n08-20 09:16:15.860: E/AndroidRuntime(19565):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1158)\n08-20 09:16:15.860: E/AndroidRuntime(19565):    at android.os.Handler.dispatchMessage(Handler.java:99)\n08-20 09:16:15.860: E/AndroidRuntime(19565):    at android.os.Looper.loop(Looper.java:137)\n08-20 09:16:15.860: E/AndroidRuntime(19565):    at android.app.ActivityThread.main(ActivityThread.java:4511)\n08-20 09:16:15.860: E/AndroidRuntime(19565):    at java.lang.reflect.Method.invokeNative(Native Method)\n08-20 09:16:15.860: E/AndroidRuntime(19565):    at java.lang.reflect.Method.invoke(Method.java:511)\n08-20 09:16:15.860: E/AndroidRuntime(19565):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:980)\n08-20 09:16:15.860: E/AndroidRuntime(19565):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:747)\n08-20 09:16:15.860: E/AndroidRuntime(19565):    at dalvik.system.NativeStart.main(Native Method)\n08-20 09:16:15.860: E/AndroidRuntime(19565): Caused by: android.database.sqlite.SQLiteException: no such column: sdn_alpha_id: , while compiling: SELECT sns_receiver_count, numberlabel, service_type, matched_number, type, contactid, lookup_uri, mime_type, sdn_alpha_id, sp_type, messageid, fname, simnum, lname, sns_pkey, account_id, formatted_number, call_out_duration, number, geocoded_location, account_name, is_read, raw_contact_id, source_data, cdnip_number, state, m_subject, date, real_phone_number, source_package, _id, sns_tid, name, normalized_number, name_reversed, _data, photo_id, logtype, reject_flag, has_content, m_content, country_code, frequent, cityid, bname, countryiso, numbertype, new, duration, cnap_name, address, e164_number, voicemail_uri FROM logs WHERE (logs.logtype=100 OR logs.logtype=110 OR logs.logtype=500 OR logs.logtype=800 OR logs.logtype=900 OR logs.logtype=1000 OR (logs.logtype=200 AND number NOT IN (SELECT number FROM logs WHERE number LIKE '%@%')) OR logs.logtype=300) AND ((((type != '4')))) ORDER BY date DESC\n08-20 09:16:15.860: E/AndroidRuntime(19565):    at android.database.DatabaseUtils.readExceptionFromParcel(DatabaseUtils.java:180)\n08-20 09:16:15.860: E/AndroidRuntime(19565):    at android.database.DatabaseUtils.readExceptionFromParcel(DatabaseUtils.java:136)\n08-20 09:16:15.860: E/AndroidRuntime(19565):    at android.content.ContentProviderProxy.query(ContentProviderNative.java:358)\n08-20 09:16:15.860: E/AndroidRuntime(19565):    at android.content.ContentResolver.query(ContentResolver.java:317)\n08-20 09:16:15.860: E/AndroidRuntime(19565):    at com.example.databasestrucutecollector.MainActivity.getContactsCursor(MainActivity.java:71)\n08-20 09:16:15.860: E/AndroidRuntime(19565):    at com.example.databasestrucutecollector.MainActivity.dumpProvider(MainActivity.java:31)\n08-20 09:16:15.860: E/AndroidRuntime(19565):    at com.example.databasestrucutecollector.MainActivity.onCreate(MainActivity.java:26)\n08-20 09:16:15.860: E/AndroidRuntime(19565):    at android.app.Activity.performCreate(Activity.java:4470)\n08-20 09:16:15.860: E/AndroidRuntime(19565):    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1052)\n08-20 09:16:15.860: E/AndroidRuntime(19565):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1931)\n</code></pre>\n\n<p>Any hints?</p>\n"},{"tags":["android","multithreading","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":1,"view_count":65,"score":2,"question_id":12407433,"title":"Multiple access to SQLite database in Android","body":"<p>What happens if two separated threads on the same android application try to access the same table in SQLite database?\nMay I have conflict?</p>\n"},{"tags":["android","database","sqlite","close"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":62,"score":0,"question_id":12074774,"title":"When should I close my Database on my Login page?","body":"<p><strong>EDIT</strong></p>\n\n<p>First activity opens a database: I used the code</p>\n\n<pre><code>LoginDbAdapter mDbHelper; // as a data member \n</code></pre>\n\n<p>called </p>\n\n<pre><code>// in my onCreate() of my main activity login\n\nmDbHelper = new LoginDbAdapter(this); \n</code></pre>\n\n<p>then in my</p>\n\n<pre><code>public void onResume(){\n    mDbHelper.open(); // opens only when the activity is resumed\n    super.onResume();\n}\n</code></pre>\n\n<p>then I do the same thing above in my second activity to add a user. This worked.</p>\n\n<p>My issue is as follows: \n**How do i open a link to a second table in my database to access</p>\n\n<p>a users information only. And where do i close it. **</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>an alternative way that works much better is initializing my DbAdapter in the onResume and then calling <code>DbAdapter.open();</code> only when i need access to the db and closing it right after the work is done with <code>DbAdapter.close();</code> </p>\n\n<p>note: it is also important to call <code>startManagingCursor(cursor);</code> and <code>stopManagingCursor(cursor);</code></p>\n"},{"tags":["javascript","android","sqlite","phonegap"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":207,"score":0,"question_id":12406940,"title":"mac eclipse android phonegap with sqlite database autoincrement and maxid retreivel","body":"<p>im actually dotnet developer now im starting to develop mobile application using eclipse android and phonegap i have studied these in docs.phonegap.com i find no difficulty in examples ie camera device and accelerometer. I have successfully connected to database now my question is how can i applay autoincrement in create table and retreive ( max id +1) from database the given code is not working\n<br> <strong>my code is</strong>\n<br> <strong>Javascript code#</strong></p>\n\n<pre><code>     function onDeviceReady() {\n            var db = window.openDatabase('dbNexTrainer','1.0', 'NexTrainer',2 * 1024 * 1024);\n            db.transaction(populateDB, errorCB, successCB);\n        }\nfunction populateDB(tx) {\ntx.executeSql('CREATE TABLE IF NOT EXISTS tbl_Excercise  (ExId INTEGER PRIMARY KEY AUTOINCREMENT ,ExName ,ExDescription ,ExPreCondition ,ExImage ,IsActive INTEGER,AddDate DATE)');\ntx.executeSql('Delete from tbl_Excercise');\ntx.executeSql('INSERT INTO tbl_Excercise  VALUES (1,\"Excercise 1\",\"Description 1\",\"Pre Condition 1\",\"image/image1.png\",1,\"12/09/2012 01:00:00\")');\ntx.executeSql('INSERT INTO tbl_Excercise  VALUES (2,\"Excercise 2\",\"Description 2\",\"Pre Condition 2\",\"image/image2.jpg\",1,\"12/09/2012 01:00:00\")');\ntx.executeSql('INSERT INTO tbl_Excercise  VALUES (3,\"Excercise 3\",\"Description 3\",\"Pre Condition 3\",\"image/image3.jpg\",1,\"12/09/2012 01:00:00\")');\ntx.executeSql('INSERT INTO tbl_Excercise  VALUES (4,\"Excercise 4\",\"Description 4\",\"Pre Condition 4\",\"image/image4.jpg\",1,\"12/09/2012 01:00:00\")');\n</code></pre>\n\n<p><br>\nsecond problem how to retrieve max id\n<br> <strong>Javascript Code</strong></p>\n\n<pre><code>   function NewExcercise(){\n     var db = window.openDatabase('dbNexTrainer','1.0', 'NexTrainer',2 * 1024 * 1024);\n          db.transaction(GetNewExId, errorCB);    \n    }\nvar  GetNewExId=function(tx) \n       {\n           var db = window.openDatabase('dbNexTrainer','1.0', 'NexTrainer',2 * 1024 * 1024);\n          var sql = \"SELECT MAX(ExId)+1 as ExId FROM tbl_Excercise\";\n           tx.executeSql(sql, [], ReturnNewId, errorCB); \n           return  window.localStorage.getItem('NewExId') \n      }\n\n      var  ReturnNewId  = function(transaction, results) {\n   try{       \n         var row = results.rows.item(i);          \n         window.localStorage.setItem('NewExId', row['ExId']);            \n    }\n    catch(e){\n    alert(e);\n    }\n    }\n</code></pre>\n"},{"tags":["android","sqlite","autocompletetextview","android-cursoradapter"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":72,"score":0,"question_id":12403114,"title":"CursorAdapter not always working on AutoCompleteTextView","body":"<p>I am having an issue implementing CursorAdapter on an AutoCompleteTextView.</p>\n\n<p>ZipCode : <strong><em>_</em></strong> (&lt;--EditText)<br>\nCity : <strong><em>_</em>___</strong> (&lt;-- AutoCompleteTextView)<br> \nBasically, I want to help the user suggesting available cities for the Zip Code entered.\nMy issue is that the suggestions are not shown (Cursor does not launch query i guess). What i don't understand is why it's working in some cases and not in other ones. I attach the faulty case below.</p>\n\n<p><strong>My Cursor Adapter :</strong></p>\n\n<pre><code>public class SearchCursorAdapter extends CursorAdapter {\n\n    private DataBaseHelper mDbHelper;\n    private String codePostal;\n\n    public SearchCursorAdapter(DataBaseHelper dbHelper, Context context,\n            String codePostal) {\n        // Call the CursorAdapter constructor with a null Cursor.\n        super(context, null, CursorAdapter.FLAG_REGISTER_CONTENT_OBSERVER);\n        mDbHelper = dbHelper;\n        this.codePostal = codePostal;\n    }\n\n    @Override\n    public Cursor runQueryOnBackgroundThread(CharSequence constraint) {\n        if (getFilterQueryProvider() != null) {\n            return getFilterQueryProvider().runQuery(constraint);\n        }\n\n        Cursor cursor = mDbHelper.getStationCursor(constraint.toString(),\n                codePostal);\n        return cursor;\n    }\n\n    @Override\n    public String convertToString(Cursor cursor) {\n        return cursor.getString(1); //second column in select\n    }\n\n    @Override\n    public void bindView(View view, Context context, Cursor cursor) {\n        ((TextView) view).setText(cursor.getString(1)); //second column in select\n    }\n\n    @Override\n    public View newView(Context context, Cursor cursor, ViewGroup parent) {\n        LayoutInflater inflater = (LayoutInflater) context\n                .getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n        View view = inflater.inflate(R.layout.spinner_layout, null);\n        return view;\n    }\n}\n</code></pre>\n\n<p><strong>The select method from db adapter :</strong></p>\n\n<pre><code>public Cursor getStationCursor(String args, String arg2) {\n\n\n\nStringBuffer sqlQuery = new StringBuffer(\"\");\n    Cursor result = null;\n\n    sqlQuery.append(\" SELECT min(_id) as _id, \");\n    sqlQuery.append(CITIES.CITY);\n    sqlQuery.append(\" FROM \");\n    sqlQuery.append(CITIES.TABLE_NAME);\n    sqlQuery.append(\" WHERE \");\n    sqlQuery.append(CITIES.CITY);\n    sqlQuery.append(\" LIKE '\");\n    sqlQuery.append(args);\n    sqlQuery.append(\"%' \");\n    sqlQuery.append(\"AND \");\n    sqlQuery.append(CITIES.CODE_POSTAL);\n    sqlQuery.append(\" LIKE '\");\n    sqlQuery.append(arg2);\n    sqlQuery.append(\"%' \");\n    sqlQuery.append(\" GROUP BY \");\n    sqlQuery.append(CITIES.CITY);\n    sqlQuery.append(\" ORDER BY \");\n    sqlQuery.append(CITIES.CITY);\n    sqlQuery.append(\" LIMIT 10 \");\n\n    if (myDataBase != null) {\n        result = myDataBase.rawQuery(sqlQuery.toString(), null);\n    }\n    if (result != null) {\n        result.moveToFirst();\n    }\n    return result;\n}\n</code></pre>\n\n<p><strong>The code in my activity :</strong></p>\n\n<pre><code>EditText etCodPost;\nAutoCompleteTextView acCity;\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout....);\n    etCodPost = (EditText) ...;\n    acCom = (AutoCompleteTextView) ...;\n    setComAdapter(activity);\n    etCodPost.addTextChangedListener(new TextWatcher() {\n\n            @Override\n            public void onTextChanged(CharSequence s, int start, int before,\n                    int count) {\n            }\n\n            @Override\n            public void beforeTextChanged(CharSequence s, int start, int count,\n                    int after) {\n            }\n\n            @Override\n            public void afterTextChanged(Editable s) {\n                setComAdapter(activity);\n            }\n        });\n}\nprivate void setComAdapter(Activity activity) {\n        SearchCursorAdapter adapt = new SearchCursorAdapter(myDbHelper, activity,\n                 etCodPost.getText().toString());\n\n        acCity.setAdapter(adapt);\n        acCity.setThreshold(3);\n    }\n</code></pre>\n\n<p>Thanks for your replies and sorry for the long post. Any hint would be very appreciated.</p>\n"},{"tags":["c++","visual-studio","sqlite","x64"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12405082,"title":"Precompiled SQLite x64 without .net","body":"<p>I needed SQLite for Win x64 to use in the C++ project in MS VS 2010. And I found <a href=\"http://stackoverflow.com/questions/4315606/precompiled-sqlite-binaries-for-windows-x64\">this post</a> with the link to x64 build, but it needs .net framework. Can I use in the my project? Also, I am about to use automated building on server side in this project, so it can be a problem to meet additional requirements (does it?). </p>\n\n<p>So, does anyone have a link to precompiled SQLite DLL for x64 or I need to build it from sources? Also, if I am wrong about .net version and it is the one I need, let me know, please.</p>\n"},{"tags":["iphone","sqlite","uitableview"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":74,"score":1,"question_id":12403670,"title":"How to improve the performance of an SQLite+UITableView app?","body":"<p>We have an app with sqlite which has morethan 10,000 rows and above 10MB</p>\n\n<p>and in our first view we have two buttons\nclicking on first button will take to another view which has a tableview,\nwe need to show all these 10,000 records in that tableview for searching.</p>\n\n<p>Since we are loading all items at a time, its taking some time to load that view when clicked on button in first view.</p>\n\n<p>is there any option to avoid the delay? like any lazy loading option\nor showing 100-1000 rows first then appending all other rows at bottom.</p>\n\n<p><strong>THIS IS WHAT APPLE HAS WRITTEN:</strong></p>\n\n<p>We found the following issue with the user interface of your app:</p>\n\n<ul>\n<li>Your app responded very slowly. For example, when we tapped the Movies or\nAlbums button, it took 5 seconds.`</li>\n</ul>\n"},{"tags":["django","sqlite"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":24,"score":1,"question_id":12402945,"title":"sqllite read/write queue concern with django","body":"<p>I'm building a website where college students can order delivery food.  One special attribute about our site is that customers have to choose a preset delivery time.  For example we have a drop at 7pm, 10pm, and at midnight.</p>\n\n<p>All the information about the food is static (ie price, description, name), except the quantity remaining for that specific drop time.</p>\n\n<p>Obviously i didn't want to hardcode the HTML for all the food items on my menu page, so i wrote a forloop in the html template. So i need to store the quantity remaining for the specific time somewhere in my model.  the only problem is that I'm scared that if i use the same variable to transport the quantity remaining number to my template, i'll give out wrong information if alot of people are accessing the menu page at the same time.</p>\n\n<p>For example, lets say the 7pm drop has 10 burritos remaining.  And the 10pm drop has 40 burritos.  Is there a chance that if someone has faster internet than the other customer, the wrong quantity remaining will display?</p>\n\n<p>how would you guys go around to solve this problem?\ni basically need a way to tell my template the quantity remaining for that specific time.  and using the solution i have now, doesn't make me feel at ease.  Esp if many people are going to be accessing the site at the same time.</p>\n\n<p>view.py</p>\n\n<pre><code>    orders = OrderItem.objects.filter(date__range=[now - timedelta(hours=20), now]).filter(time=hour)\nsteak_and_egg = 0\nqueso = 0\n\nfor food in orders:\n    if food.product.name == \"Steak and Egg Burrito\":\n        steak_and_egg = steak_and_egg + food.quantity\n    elif food.product.name == \"Queso Burrito\":\n        queso = queso + food.quantity\n\n#if burritos are sold out, then tell template not to display \"buy\" link\nquantity_steak_and_egg = max_cotixan_steak_and_egg - steak_and_egg\nquantity_queso = max_cotixan_queso - queso\n\n#psuedocode\nsteakandegg.quantity_remaining = quantity_steak_and_egg\nqueso.quantity_remaining = quantity_queso\n</code></pre>\n\n<p>HTML:</p>\n\n<pre><code>         {% for item in food %}\n                &lt;div id=\"food_set\"&gt;\n                    &lt;img src=\"{{item.photo_menu.url}}\" alt=\"\" id=\"thumbnail photo\" /&gt;\n                    &lt;div style='overflow:hidden'&gt;                    \n                        &lt;p id=\"food_name\"&gt;{{item.name}}&lt;/p&gt; \n                        &lt;p id=\"price\"&gt;${{item.price}}&lt;/p&gt;\n                    &lt;/div&gt;\n                    &lt;p id=\"food_restaurant\"&gt;By {{item.restaurant}}&lt;/p&gt;\n\n                    &lt;div id=\"food_footer\"&gt;\n                        &lt;img src=\"{{MEDIA_URL}}/images/order_dots.png\" alt=\"\" id=\"order_dots\" /&gt;\n                        &lt;a id =\"order_button\" href=\"{{item.slug}}\"&gt;&lt;/a&gt;\n                        &lt;p id=\"quantity_remaining\"&gt;{{item.quantity_remaining}} left&lt;/p&gt;\n                    &lt;/div&gt;&lt;!-- end food_footer--&gt;\n\n                &lt;/div&gt;&lt;!-- end food_set--&gt;\n</code></pre>\n"},{"tags":["sqlite","microsoft-metro"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":96,"score":2,"question_id":11559705,"title":"Metro8 Sqlite Select query","body":"<p>I'm having problem with an SqLite and metro8 application. How can i execute a query (Select) on the SqLite database?</p>\n\n<p>Insert work fine (its just db.Insert(something)), but have no idea how to select values that where  just inserted.</p>\n\n<p><code>var db1 = new SQLite.SQLiteConnection(dbpath);</code></p>\n\n<p>there is a method called : </p>\n\n<p><code>db1.Execute(TableMapping map, string query, params object[] args)</code></p>\n\n<p>But what are the tablemapping and params arguments in that method?</p>\n\n<p>Thank you for any answer!</p>\n"},{"tags":["database","android","sqlite","download"],"answer_count":4,"favorite_count":29,"up_vote_count":25,"down_vote_count":0,"view_count":12308,"score":25,"question_id":1055188,"title":"Can I download an SQLite db on /sdcard and access it from my Android app?","body":"<p>I already found out that there is no way to bundle files in an .apk and have them on /sdcard, the best option so far being to download the large files upon first run. I came accross a tutorial saying how to bundle an sqlite db with the apk and then copy it so that it can be accessed with SQLiteDatabase (thus doubling the space needed, and not using /sdcard at all).</p>\n\n<p><a href=\"http://developer.android.com/guide/topics/data/data-storage.html#db\" rel=\"nofollow\">http://developer.android.com/guide/topics/data/data-storage.html#db</a> says all databases MUST be in /data/data/package_name/databases. </p>\n\n<p>Is that really so? Is there a way to trick the framework into opening a database that is placed on the /sdcard partition? Is there a way to use another SQLite java wrapper/framework to access such databases?</p>\n\n<p>If the answer to the above is 'No', what other options do I have? My data is very well represented in a relational model, but is just too big, plus, I want to be able to update it without the need to reinstall/upgrade the entire app.</p>\n"},{"tags":["android","sqlite","android-listview"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":71,"score":0,"question_id":12400672,"title":"Cannot display values of sqlite database in descending order","body":"<p>I am trying to display the scores of my quiz app in descending order in a listview. For some reason it does not do that. It shows the scores but not in descending order..Here is my DBAdapter snippet for getting all the info of the score:</p>\n\n<pre><code>public Cursor getAllInfoScores()\n             {\n                return db.query(DATABASE_TABLE_HIGHSCORES, new String[] {ROW_ID, KEY_NAME, KEY_SCORES, KEY_DIFFICULTY},null,null,null,null, \"scores DESC\");\n\n             }\n</code></pre>\n\n<p>I also tried this: </p>\n\n<pre><code> public Cursor getAllInfoScores()\n             {\n                return db.query(DATABASE_TABLE_HIGHSCORES, new String[] {\"_id\", \"name\", \"scores\", \"difficulty\"},null,null,null,null, \"scores DESC\");\n\n             }\n</code></pre>\n\n<p>Here is the activity where I am trying to display it into a list:</p>\n\n<pre><code>public class HighScores extends ListActivity{\n\nDBAdapter db = new DBAdapter(this);\nprivate Cursor mCursor;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.highscores);\n\n    db.open();\n    fillData();\n\n}\n\nprivate void fillData() {\n    mCursor = db.getAllInfoScores();\n    String[] from = new String[]{DBAdapter.KEY_NAME, DBAdapter.KEY_SCORES, DBAdapter.KEY_DIFFICULTY}; \n    int[] to = new int[]{R.id.textViewnamehs, R.id.textViewscorehs, R.id.textViewdiff};\n   SimpleCursorAdapter c = \n            new SimpleCursorAdapter(this, R.layout.highscoresrow, mCursor, from, to);\nsetListAdapter(c);\n\n\n}\n</code></pre>\n\n<p>ERROR:</p>\n\n<pre><code>09-13 15:19:04.533: E/AndroidRuntime(12792): FATAL EXCEPTION: main\n09-13 15:19:04.533: E/AndroidRuntime(12792): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.dtan.mathwiz/com.dtan.mathwiz.HighScores}: android.database.sqlite.SQLiteException: near \"scores\": syntax error: , while compiling: select _id,name,scores,difficulty from highscores orderby scores desc\n09-13 15:19:04.533: E/AndroidRuntime(12792):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1647)\n09-13 15:19:04.533: E/AndroidRuntime(12792):    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1663)\n09-13 15:19:04.533: E/AndroidRuntime(12792):    at android.app.ActivityThread.access$1500(ActivityThread.java:117)\n09-13 15:19:04.533: E/AndroidRuntime(12792):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:931)\n09-13 15:19:04.533: E/AndroidRuntime(12792):    at android.os.Handler.dispatchMessage(Handler.java:99)\n09-13 15:19:04.533: E/AndroidRuntime(12792):    at android.os.Looper.loop(Looper.java:123)\n09-13 15:19:04.533: E/AndroidRuntime(12792):    at android.app.ActivityThread.main(ActivityThread.java:3683)\n09-13 15:19:04.533: E/AndroidRuntime(12792):    at java.lang.reflect.Method.invokeNative(Native Method)\n 09-13 15:19:04.533: E/AndroidRuntime(12792):   at java.lang.reflect.Method.invoke(Method.java:507)\n09-13 15:19:04.533: E/AndroidRuntime(12792):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)\n09-13 15:19:04.533: E/AndroidRuntime(12792):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)\n09-13 15:19:04.533: E/AndroidRuntime(12792):    at dalvik.system.NativeStart.main(Native Method)\n09-13 15:19:04.533: E/AndroidRuntime(12792): Caused by: android.database.sqlite.SQLiteException: near \"scores\": syntax error: , while compiling: select _id,name,scores,difficulty from highscores orderby scores desc\n09-13 15:19:04.533: E/AndroidRuntime(12792):    at android.database.sqlite.SQLiteCompiledSql.native_compile(Native Method)\n09-13 15:19:04.533: E/AndroidRuntime(12792):    at android.database.sqlite.SQLiteCompiledSql.compile(SQLiteCompiledSql.java:92)\n09-13 15:19:04.533: E/AndroidRuntime(12792):    at android.database.sqlite.SQLiteCompiledSql.&lt;init&gt;(SQLiteCompiledSql.java:65)\n09-13 15:19:04.533: E/AndroidRuntime(12792):    at android.database.sqlite.SQLiteProgram.&lt;init&gt;(SQLiteProgram.java:83)\n09-13 15:19:04.533: E/AndroidRuntime(12792):    at android.database.sqlite.SQLiteQuery.&lt;init&gt;(SQLiteQuery.java:49)\n0 9-13 15:19:04.533: E/AndroidRuntime(12792):   at android.database.sqlite.SQLiteDirectCursorDriver.query(SQLiteDirectCursorDriver.java:42)\n09-13 15:19:04.533: E/AndroidRuntime(12792):    at android.database.sqlite.SQLiteDatabase.rawQueryWithFactory(SQLiteDatabase.java:1356)\n09-13 15:19:04.533: E/AndroidRuntime(12792):    at android.database.sqlite.SQLiteDatabase.rawQuery(SQLiteDatabase.java:1324)\n09-13 15:19:04.533: E/AndroidRuntime(12792):    at com.dtan.mathwiz.adapter.DBAdapter.getAllInfoScores(DBAdapter.java:138)\n09-13 15:19:04.533: E/AndroidRuntime(12792):    at com.dtan.mathwiz.HighScores.fillData(HighScores.java:29)\n09-13 15:19:04.533: E/AndroidRuntime(12792):    at com.dtan.mathwiz.HighScores.onCreate(HighScores.java:24)\n09-13 15:19:04.533: E/AndroidRuntime(12792):    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)\n09-13 15:19:04.533: E/AndroidRuntime(12792):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1611)\n09-13 15:19:04.533: E/AndroidRuntime(12792):    ... 11 more\n</code></pre>\n"},{"tags":["javascript","sqlite","storage","firefox-addon-sdk"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":163,"score":1,"question_id":9986740,"title":"How to initialize SQLite file for Firefox add-on?","body":"<ol>\n<li><p>Is it possible for an SQLite data file used by an add-on to be one of the files accessed with data.url()?</p></li>\n<li><p>If so, how does one hand it off to Services.storage.openDatabase()</p></li>\n<li><p>If not, is it possible for certain code (CREATE TABLE IF EXISTS...) to be executed only in a first-time run of an add-on?</p></li>\n</ol>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":4,"view_count":78,"score":-2,"question_id":12401017,"title":"How to connect internal SQLite database in my Android Application?","body":"<p>I need to use internal SQLite DataBase in My Android Application Using Eclipse.i have tried many ways but i cant get the solution.\nThanks in Advance. </p>\n"},{"tags":["java","android","sqlite","datetime"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":67,"score":0,"question_id":12400528,"title":"How to find last / 7 /30 days records of sqlite db when datetime is stored as text?","body":"<p>I have an activity where i save some info to my database.\nI have two textviews one for date (yyyy-MM-dd) and one for time (HH:mm).\nif i save datetime as a TEXT, i can sort then desc properly,but CAN i find with sqlite query last/7/30 days records?An example of this query when are the datetime TEXT?</p>\n"},{"tags":["android","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":99,"score":-2,"question_id":12400333,"title":"How to connect the SQLite database in my Android Application?","body":"<p>I cant able to connect my android App with SQLite DataBase.I have tried many ways ,But i cant get the solution.\nThanks in Advance.</p>\n"},{"tags":["javascript","sqlite","firefox-addon"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":559,"score":0,"question_id":7284442,"title":"How does sqlite work with javascript in Firefox add-on?","body":"<p>How can I use sqlite? What is the command when I want to use this:</p>\n\n<pre><code>SELECT * FROM table\n</code></pre>\n\n<p>? (I mean like PHP I need to use <code>mysql_query(\"SELECT * FROM table\");</code>)</p>\n\n<p>What is the command when I get a table with records and I want to dispart it? (in PHP: <code>mysql_fetch_assoc()</code> or <code>mysql_fetch_array()</code>)</p>\n\n<p>I used <code>SELECT * FROM table</code> in the table var and I dispart it. (The table has these columns: <code>id, name, pass</code>) How can I get the column values?</p>\n\n<p>This is the connection in the Javascript to the database:</p>\n\n<pre><code>Components.utils.import(\"resource://gre/modules/Services.jsm\");\nComponents.utils.import(\"resource://gre/modules/FileUtils.jsm\");\n\nlet file = FileUtils.getFile(\"ProfD\", [\"my_db_file_name.sqlite\"]);\nlet mDBConn = Services.storage.openDatabase(file);\n</code></pre>\n\n<p>How can I create table (if it doesn't exist), how can I <code>SELECT</code>, <code>UPDATE</code>, <code>DELETE</code>, ect. </p>\n\n<p>How can I do this with javascript and sqlite:\nexample (its wrote in php, mysql):</p>\n\n<pre><code>mysql_connect(\"localhost\",\"user\",\"pass\"); // pass if need\nmysql_select_db(\"my_database\");\n\nmysql_query(\"CREATE TABLE `my_database`.`table` (`id` INT NOT NULL AUTO_INCREMENT PRIMARY KEY ,`nev` VARCHAR( 50 ) NOT NULL ,`pass` VARCHAR( 20 ) NOT NULL ,INDEX ( `nev` )) ENGINE = InnoDB HARACTER SET utf8 COLLATE utf8_unicode_ci;\");\n\nmysql_query(\"INSERT INTO table (name,pass) VALUES ('Peter','sdf')\");\n\n$query=mysql_query(\"SELECT * FROM table\");\nwhile($row=mysql_fetch_array($query)){\n    echo $row['name'].' '.$row['pass']; // it write all record, like 'name pass' ('Peter sdf')\n}\n\n$row2=mysql_fetch_assoc(mysql_query(\"SELECT * FROM table WHERE id=1\"));\necho $row2['name'].' '.$row2['pass']; // it write only 'Peter sdf'\n\nmysql_query(\"DELETE FROM table WHERE id=1\");\n\nmysql_query(\"DROP TABLE 'table'\");\n\nmysql_close();\n</code></pre>\n\n<p>How can I do this in javascript with sqlite?</p>\n"},{"tags":["java","android","sqlite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":12398909,"title":"In which cases does getReadableDatabase return null?","body":"<p>I got an error when I use <code>getReadableDatabase()</code> in my android app recently, and it returned null.</p>\n\n<p>My <code>DatabaseHelper</code> is like this:</p>\n\n<pre><code>package com.example.borec;\n\nimport android.content.Context;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.database.sqlite.SQLiteOpenHelper;\nimport android.database.sqlite.SQLiteDatabase.CursorFactory;\n\npublic class DatabaseHelper extends SQLiteOpenHelper {\n\n    private static final int VERSION = 1;\n\n    public DatabaseHelper(Context context, String name, CursorFactory factory,\n            int version) {\n        super(context, name, factory, version);\n    }\n\n    public DatabaseHelper(Context context, String name) {\n        this(context, name, VERSION);\n    }\n\n    public DatabaseHelper(Context context, String name, int version) {\n        this(context, name, null, version);\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        // TODO Auto-generated method stub\n        System.out.println(\"create a Database\");\n        db.execSQL(\"create table users(uid varchar(10),user_name varchar(30))\");\n        db.execSQL(\"create table status(create_at varchar(40),datelong integer,id varchar(10),text varchar(1000),user_name varchar(30),uid varchar(10),annotations varchar(1000))\");\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n        // TODO Auto-generated method stub\n        System.out.println(\"update a Database\");\n    }\n}\n</code></pre>\n\n<p>And I use this helper in a activity:</p>\n\n<pre><code>DatabaseHelper dbHelper = new DatabaseHelper(DataOperatorActivity.this, \"borec\");\ndb = dbHelper.getReadableDatabase();\n</code></pre>\n\n<p>The second statement returns null? Who knows why?</p>\n"},{"tags":["android","query","sqlite"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":24,"score":1,"question_id":12398534,"title":"How to strip away a certain case in a SQLite query","body":"<p>I am having problems figuring this out. This is my query:</p>\n\n<pre><code>SELECT * FROM events WHERE date('2012-9-4') &gt;= start_date AND \ndate('2012-9-4') &lt;= end_date\n</code></pre>\n\n<p>Now as you can see from above, I am only getting the rows that match that day in some way. In my case, any events that are on that day or came from previous days. The problem is, the case where, say, the previous day has an event from 10:00PM to 12:00AM (2012-9-3), shows up on the next day (2012-9-4). So I need to keep the case like that from happening.</p>\n\n<p>This is where I am having trouble. I have no idea how to get it done correctly. I have tried different things, but they all fail. I need a way to make a statement in the where clause only run when the <code>end date &gt; start date</code>, the <code>end date == current day</code>, and the <code>end time == 00:00</code>. Any advice would be greatly apprecited!!</p>\n"},{"tags":["iphone","sqlite","core-data","migration","restore"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":95,"score":0,"question_id":12397877,"title":"How to Restore SQLite Database from Backup after Core Data model has changed (lightweight migration)","body":"<p>I have an core-data app that backs up its sqlite database to Dropbox, and the user can restore it by overwriting their current database if/when they need to.</p>\n\n<p>In the next app release, the core-data model has changed, and the databases for existing users will be automatically updated through the lightweight migration process.</p>\n\n<p>My concern is with the databases that have been backed up already. If a user goes to restore an sqlite database that was backed up before the migration, it will not match the latest model and it will crash the app.</p>\n\n<p>Is there any way that I can update a database during the restore process, to match my core-data model? Either a process that I can run, or some steps that I can take to make sure that the backup is not lost?</p>\n"},{"tags":["sql","c","sqlite","database-design"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":12398431,"title":"How to check if SQLite 3 DB table has schema and if not merge it with new one?","body":"<p>Say we had created simple db table like:</p>\n\n<pre><code>CREATE TABLE IF NOT EXISTS users (email varchar(100) UNIQUE NOT NULL primary key, pass varchar(100))\n</code></pre>\n\n<p>now we want to <code>CREATE TABLE IF NOT EXISTS or merge with previous one</code> that would look like</p>\n\n<pre><code>users (email varchar(100) UNIQUE NOT NULL primary key, name varchar(100))\n</code></pre>\n\n<p>so if table existed we want to remove pass column and add name column.</p>\n\n<p>Is such thing possible via SQL commands and SQLite pragmas or how to do it using C SQLite api?</p>\n"},{"tags":["python","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":60,"score":1,"question_id":12382185,"title":"Python 2.7 problems with sqlite3.Cursor.execute function","body":"<p>I have a really frustrating problem</p>\n\n<p>I have a function that accepts a cursor to a sqlite3.Connection object and then modifies the database</p>\n\n<p>my code is something like this:</p>\n\n<pre><code>#DOES NOT WORK\ndef update(dbc, tableName, value, value2):\n    dbc.execute(\"update ? set MyValue = ? where Something = ?;\",\\\n    [tableName, value, value2])\n\n#WORKS\ndef update2(dbc, tableName value, value2):\n    dbc.execute(\"update {0} set MyValue = {1} where Something = {2};\".format(\n    tableName, value, value2))\n\ndb = sqlite3.connect('data.db')\nc = db.cursor()\nc.execute(\"begin;\")\nupdate(c,\"Something\",\"Something Else\") #FAILS\nupdate2(c,\"Something\",\"Something Else\") #OK\n</code></pre>\n\n<p>I get the error:</p>\n\n<p>sqlite3.OperationalError: near \"?\": syntax error</p>\n\n<p>I have tried commenting out the first execute(\"begin;\") statement because I don't really understand it but I know that it speeds up my code dramatically in other parts instead of having to commit every single input.  Does anyone have a clue why this is happening?</p>\n"},{"tags":["sql","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":49,"score":1,"question_id":12396447,"title":"SQL sub select/for loop in SQLite","body":"<p>I'm pretty average in my sql skills and having trouble finding a definitive answer on google so here goes.</p>\n\n<p>I have a SQLite database with log data from several sources. View1 is a view of all the queries and View2 is a subset of those records. Occasionally when we see a record in one source we'll see a record in another source within a few seconds. So what I'm trying to get is all the records in View2 and the records in View1 that looks something like this:</p>\n\n<pre><code>SELECT * FROM View1 WHERE (View1.ID=View2.ID) OR ((View1.Epoch_Start BETWEEN \nView2.Epoch_Stop AND (View2.Epoch_Stop+5)) AND View1.String LIKE '%string%'\n</code></pre>\n\n<p>I know I could get this accomplished in my perl script but is there a SQL method that would be better?</p>\n"},{"tags":["ios","sqlite","core-data"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":12316722,"title":"Is the performance of CoreData with LIKE much worse than standard SQLite on IOS","body":"<p>I am querying a very simple database of approximately 250,00 english words using NSFetchedResultsController. I construct the following predicate using [NSCompoundPredicate andPredicateWithSubPredicates]:</p>\n\n<pre><code>\"word LIKE '*a*' AND word LIKE '*b*' AND word LIKE '*c*' AND word LIKE '*d*'\"  \n</code></pre>\n\n<p>When I run the query by calling [NSFetchedResultController alloc] initWithFetchRequest:...] it takes about 8 seconds to run.  </p>\n\n<p>I can run the equivalent query on exactly the same database using sqlite3:</p>\n\n<pre><code>\"Select word from words where word LIKE '%a%' AND word LIKE '%b%' ...\"\n</code></pre>\n\n<p>and the cpu time is about .01 seconds.</p>\n\n<p>Is the difference in the use of LIKE or in the use of NSPredicate or in NSFetchedResultsController?  </p>\n\n<p>UPDATE</p>\n\n<p>At the moment, the object model is about as simple as it could be, consisting of a single <em>Word</em> object, with three properties<br>\n    NSString * word<br>\n    NSString * sortedWord<br>\n    NSInteger length.  </p>\n\n<p>Here's a screen grab from Instruments - Time Profiler (I'm not sure of a better way to share data from Instruments) which shows (I think) that the bulk of the time is being spend in  [ _NSPredicateUtiltiesDoRegexForString:Pattern:likeProtect:flags:Context:].</p>\n\n<p><a href=\"http://www.mckaydalton.com/images/instruments.jpg\" rel=\"nofollow\">http://www.mckaydalton.com/images/instruments.jpg</a></p>\n\n<p>In addition, here's the SQLDebug output:</p>\n\n<pre><code>CoreData: sql: SELECT 0, t0.Z_PK, t0.Z_OPT, t0.ZLENGTH, t0.ZSORTEDSTRING, t0.ZWORD FROM ZWORD t0 WHERE ( NSCoreDataLike( t0.ZWORD, ?, 0)  AND  NSCoreDataLike( t0.ZWORD, ?, 0) ) ORDER BY t0.ZWORD  \n</code></pre>\n\n<p>CoreData: annotation: sql connection fetch time: 10.7353s  </p>\n\n<p>CoreData: annotation: total fetch execution time: 10.7439s for 24891 rows.</p>\n\n<p>Here the same select using \"raw\" sqlite3 acting on the same database:</p>\n\n<pre><code>SELECT 0, Z_PK, Z_OPT,ZSORTEDSTRING, ZWORD FROM ZWORD WHERE ZWORD LIKE '%a%' AND ZWORD LIKE '%b%' ORDER BY ZWORD;\n</code></pre>\n\n<p>CPU Time: user 0.377206 sys 0.054738</p>\n\n<p>It would seem to me, therefore, that the NSCoreDataLike is behaving very differently from the \"LIKE\" built in to sqlite.  This is not a major issue as I can just use the C-api to sqlite (although  I would like to keep the project in CoreData as it gets bigger, if possible) or use CONTAINS instead of LIKE (although this will require changing the application logic), but it would be nice to understand what is going on</p>\n"},{"tags":["java","android","sqlite","datetime"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":64,"score":0,"question_id":12394119,"title":"How to android + sqlite + date + time?need date/time operations","body":"<p>I have an activity where i want to to save some measures data into a sqlite database(i will have only insert option).The xml  is:</p>\n\n<p><img src=\"http://i.stack.imgur.com/3yLNf.png\" alt=\"enter image description here\"></p>\n\n<p>date / time is taking value(by date/time dialogs) after the create of this activity,then user can change it if he wants.</p>\n\n<p>I want in another activity to have listview of measures by descending date + time.</p>\n\n<p>I want also to be able to fetch the measures of last 1 / 7 / 30 days.</p>\n\n<p>What is the best way to make the sqlite table?How i should save date + time?together?or not?as TEXT or REAL or INTEGER so that can i easily make the above operations?</p>\n"},{"tags":["android","database","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":82,"score":0,"question_id":12393606,"title":"SQLite Database cannot be opened","body":"<p>I am very new to creating and manipulating databases and I seem to be stuck, my logcat keeps telling me that it cannot open the database? </p>\n\n<blockquote>\n  <p>09-12 13:02:31.823: I/SqliteDatabaseCpp(7213): sqlite returned: error code = 14, msg = cannot open file at line 27701 of [8609a15dfa], db=/data/data/net.learn2develop.Database/databases/database</p>\n</blockquote>\n\n<p>Im guessing it cannot find it but i am usure why. Thanks to many of you on here i have worked my way this far but am still getting stuck, What my code is doing is importing a database i made from the assets folder. Here is my database helper class:</p>\n\n<pre><code>public class DatabaseHelper extends SQLiteOpenHelper {\n\npublic static final String KEY_ROWID = \"_id\";\npublic static final String KEY_ALCOHOL = \"alcohol\";\npublic static final String KEY_TYPE = \"type\";\npublic static final String KEY_BRAND = \"brand\";\npublic static final String KEY_PRICE = \"price\";\nprivate static final String TAG = \"DatabaseHelper\";\n\nprivate static String DB_PATH = \"/data/data/net.learn2develop.Database/databases/\";\n\nprivate static String DB_NAME = \"database\";\nprivate static final String DB_TABLE = \"booze\";\n\nprivate SQLiteDatabase myDataBase; \n\nprivate final Context myContext;\n\n/**\n * Constructor\n * Takes and keeps a reference of the passed context in order to access to the application assets and resources.\n * @param context\n */\npublic DatabaseHelper(Context context) {\n\n    super(context, DB_NAME, null, 1);\n    this.myContext = context;\n\n}\n\n/**\n * Creates a empty database on the system and rewrites it with your own database.\n * */\npublic void createDataBase() throws IOException{\n\n    boolean dbExist = checkDataBase();\n\n    if(dbExist){\n        //do nothing - database already exist\n    }else{\n\n        //By calling this method and empty database will be created into the default system path\n           //of your application so we are gonna be able to overwrite that database with our database.\n        this.getReadableDatabase();\n\n        try {\n\n            copyDataBase();\n\n        } catch (IOException e) {\n\n            throw new Error(\"Error copying database\");\n\n        }\n    }\n\n}\n\n/**\n * Check if the database already exist to avoid re-copying the file each time you open the application.\n * @return true if it exists, false if it doesn't\n */\nprivate boolean checkDataBase(){\n\n    SQLiteDatabase checkDB = null;\n\n    try{\n        String myPath = DB_PATH + DB_NAME;\n        checkDB = SQLiteDatabase.openDatabase(myPath, null, SQLiteDatabase.OPEN_READONLY);\n\n    }catch(SQLiteException e){\n\n        //database does't exist yet.\n\n    }\n\n    if(checkDB != null){\n\n        checkDB.close();\n\n    }\n\n    return checkDB != null ? true : false;\n}\n\n/**\n * Copies your database from your local assets-folder to the just created empty database in the\n * system folder, from where it can be accessed and handled.\n * This is done by transfering bytestream.\n * */\nprivate void copyDataBase() throws IOException{\n\n    //Open your local db as the input stream\n    InputStream myInput = myContext.getAssets().open(DB_NAME);\n\n    // Path to the just created empty db\n    String outFileName = DB_PATH + DB_NAME;\n\n    //Open the empty db as the output stream\n    OutputStream myOutput = new FileOutputStream(outFileName);\n\n    //transfer bytes from the inputfile to the outputfile\n    byte[] buffer = new byte[1024];\n    int length;\n    while ((length = myInput.read(buffer))&gt;0){\n        myOutput.write(buffer, 0, length);\n    }\n\n    //Close the streams\n    myOutput.flush();\n    myOutput.close();\n    myInput.close();\n\n}\n\npublic void openDataBase() throws SQLException{\n\n    //Open the database\n    String myPath = DB_PATH + DB_NAME;\n    myDataBase = SQLiteDatabase.openDatabase(myPath, null, SQLiteDatabase.OPEN_READONLY);\n\n}\n\n@Override\npublic synchronized void close() {\n\n        if(myDataBase != null)\n            myDataBase.close();\n\n        super.close();\n\n}\n\n@Override\npublic void onCreate(SQLiteDatabase myDataBase) {\n\n}\n\n@Override\npublic void onUpgrade(SQLiteDatabase myDataBase, int oldVersion, int newVersion) {\n    Log.w(TAG, \"Upgrading database from version \" + oldVersion \n            + \" to \"\n            + newVersion + \", which will destroy all old data\");\n      myDataBase.execSQL(\"DROP TABLE IF EXISTS titles\");\n      onCreate(myDataBase);\n\n}\n\n//---insert a title into the database---\npublic long insertTitle(String alcohol, String type, String brand, int price) \n{\n    ContentValues initialValues = new ContentValues();\n    initialValues.put(KEY_ALCOHOL, alcohol);\n    initialValues.put(KEY_TYPE, type);\n    initialValues.put(KEY_BRAND, brand);\n    initialValues.put(KEY_PRICE, price);\n    return myDataBase.insert(DB_TABLE, null, initialValues);\n}\n\n//---retrieves a particular title---\npublic Cursor getTitle(long rowId) throws SQLException \n{\n    Cursor mCursor =\n            myDataBase.query(true, DB_TABLE, new String[] {\n                    KEY_ROWID,\n                    KEY_ALCOHOL, \n                    KEY_TYPE,\n                    KEY_BRAND,\n                    KEY_PRICE\n                    }, \n                    KEY_ROWID + \"=\" + rowId, \n                    null,\n                    null, \n                    null, \n                    null, \n                    null);\n    if (mCursor != null) {\n        mCursor.moveToFirst();\n    }\n    return mCursor;\n}\n</code></pre>\n\n<p>Here is what I am calling in my activity as a test to see if i can read the DB:</p>\n\n<pre><code>public class DatabaseActivity extends Activity {\n\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_database);\n    DatabaseHelper myDbHelper = new DatabaseHelper(this);\n\n  //---get a title---\n    myDbHelper.openDataBase();\n    Cursor c = myDbHelper.getTitle(2);\n    if (c.moveToFirst())        \n        DisplayTitle(c);\n    else\n        Toast.makeText(this, \"No title found\", \n                Toast.LENGTH_LONG).show();\n    myDbHelper.close();\n}\n\npublic void DisplayTitle(Cursor c)\n{\n    Toast.makeText(this, \n            \"id: \" + c.getString(0) + \"\\n\" +\n            \"ALCOHOL: \" + c.getString(1) + \"\\n\" +\n            \"TYPE: \" + c.getString(2) + \"\\n\" +\n            \"BRAND:  \" + c.getString(3) + \"\\n\" +\n            \"PRICE:  \" + c.getString(4),\n            Toast.LENGTH_LONG).show();        \n} \n\n}\n</code></pre>\n\n<p>The name of my database i created is just \"database\", the activity is \"DatabaseActivity.java\" and the helper file is \"DatabaseHelper.java\"</p>\n\n<p>Here is what my database looks like\n<img src=\"http://i.stack.imgur.com/y1wnr.png\" alt=\"enter image description here\"></p>\n"},{"tags":["android","database","sqlite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":69,"score":0,"question_id":12392887,"title":"onUpgrade() not working with Android Sqlite database","body":"<p>I have an android project that I have been working on. It has a SQLite database pre-populated and designed in the SQLite Database browser, I save it to the assets folder each time I a set numbers of records in it.</p>\n\n<p>So on initial run it works fine, database is created, the app runs as designed. But when I add to the database by going and adding more records to it and again saving it. I go to my DB helper class increment the DATABASE_VERSION number to 2 so it will or suppose to call my onUpgrade() function and I get the app to force close, it is not calling the onUpgrade function to notice the changes I have made to the database. I receive these errors.</p>\n\n<blockquote>\n  <p>09-12 11:19:33.469: E/AndroidRuntime(20561): FATAL EXCEPTION: main\n  09-12 11:19:33.469: E/AndroidRuntime(20561):\n  java.lang.RuntimeException: Unable to start activity\n  ComponentInfo{com.xtremeware.straighthoodtrivia/com.xtremeware.straighthoodtrivia.HoodQuestionActivity}:\n  java.lang.IndexOutOfBoundsException: Invalid index 0, size is 0 09-12\n  11:19:33.469: E/AndroidRuntime(20561):    at\n  android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1970)\n  09-12 11:19:33.469: E/AndroidRuntime(20561):  at\n  android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1995)\n  09-12 11:19:33.469: E/AndroidRuntime(20561):  at\n  android.app.ActivityThread.access$600(ActivityThread.java:128) 09-12\n  11:19:33.469: E/AndroidRuntime(20561):    at\n  android.app.ActivityThread$H.handleMessage(ActivityThread.java:1161)\n  09-12 11:19:33.469: E/AndroidRuntime(20561):  at\n  android.os.Handler.dispatchMessage(Handler.java:99) 09-12\n  11:19:33.469: E/AndroidRuntime(20561):    at\n  android.os.Looper.loop(Looper.java:137) 09-12 11:19:33.469:\n  E/AndroidRuntime(20561):  at\n  android.app.ActivityThread.main(ActivityThread.java:4514) 09-12\n  11:19:33.469: E/AndroidRuntime(20561):    at\n  java.lang.reflect.Method.invokeNative(Native Method) 09-12\n  11:19:33.469: E/AndroidRuntime(20561):    at\n  java.lang.reflect.Method.invoke(Method.java:511) 09-12 11:19:33.469:\n  E/AndroidRuntime(20561):  at\n  com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:980)\n  09-12 11:19:33.469: E/AndroidRuntime(20561):  at\n  com.android.internal.os.ZygoteInit.main(ZygoteInit.java:747) 09-12\n  11:19:33.469: E/AndroidRuntime(20561):    at\n  dalvik.system.NativeStart.main(Native Method) 09-12 11:19:33.469:\n  E/AndroidRuntime(20561): Caused by:\n  java.lang.IndexOutOfBoundsException: Invalid index 0, size is 0 09-12\n  11:19:33.469: E/AndroidRuntime(20561):    at\n  java.util.ArrayList.throwIndexOutOfBoundsException(ArrayList.java:251)\n  09-12 11:19:33.469: E/AndroidRuntime(20561):  at\n  java.util.ArrayList.get(ArrayList.java:304) 09-12 11:19:33.469:\n  E/AndroidRuntime(20561):  at\n  com.xtremeware.straighthoodtrivia.quiz.GamePlay.getNextQuestion(GamePlay.java:103)\n  09-12 11:19:33.469: E/AndroidRuntime(20561):  at\n  com.xtremeware.straighthoodtrivia.HoodQuestionActivity.onCreate(HoodQuestionActivity.java:53)\n  09-12 11:19:33.469: E/AndroidRuntime(20561):  at\n  android.app.Activity.performCreate(Activity.java:4470) 09-12\n  11:19:33.469: E/AndroidRuntime(20561):    at\n  android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1053)\n  09-12 11:19:33.469: E/AndroidRuntime(20561):  at\n  android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1934)</p>\n</blockquote>\n\n<p>And her is my source code could someone please give me some guidance, as I have been working on this for days. No matter what I do it is not calling the onUpgrade function. I have changed the versions, uninstalled reinstalled you name it. It is something to do with this code. And like I mentioned if I uninstall the app and reinstall it it works fine.</p>\n\n<pre><code>package com.xtremeware.straighthoodtrivia.db;\n\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport android.content.Context;\nimport android.database.Cursor;\nimport android.database.SQLException;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.database.sqlite.SQLiteException;\nimport android.database.sqlite.SQLiteOpenHelper;\nimport android.util.Log;\n\nimport com.xtremeware.straighthoodtrivia.quiz.Question;\n\npublic class DBHelper extends SQLiteOpenHelper\n{   \n// The androis's default system path of the application database.\nprivate static String DB_PATH =     \"/data/data/com.xtremeware.straighthoodtrivia/databases/\";\nprivate static String DB_NAME = \"QuestionsDb\";\nprivate static String DB_TABLE = \"QUESTIONS\";\nprivate SQLiteDatabase myDataBase;\nprivate final Context myContext;\nprivate static final int DATABASE_VERSION = 2;\nprivate static final String TAG = null;\n\n// Constructor\n// Takes and keeps a reference of the passed context in order to access to the \n// applications assets and resources.\n// @ context\n\npublic DBHelper(Context context)\n{\n    super(context, DB_NAME, null, DATABASE_VERSION);\n    this.myContext = context;\n}\n\n// Creates a empty database on the system and rewrites it with my own database\npublic void createDataBase() throws IOException\n{\n    boolean dbExist = checkDataBase();\n    if(dbExist)\n    {\n\n    }\n    else\n    {   // By calling this method an empty database will be created into the default system path\n        // of my application so I am gonna be able to overwrite the database with my database.\n\n        this.getReadableDatabase();\n         try \n         {\n             copyDataBase();\n         }\n         catch (IOException e)\n         {\n             throw new Error(\"Error copying database\");\n         }\n    }\n}\n\n// Check if the database already exists to avoid re-copying the file each time you open the application.\n// @return true if it exists, false if it doesn't\n\nprivate boolean checkDataBase()\n{\n    SQLiteDatabase checkDB = null;\n    try\n    {\n        String myPath = DB_PATH + DB_NAME;\n        checkDB = SQLiteDatabase.openDatabase(myPath, null, SQLiteDatabase.OPEN_READONLY);\n    }\n    catch (SQLiteException e)\n    {\n        // Database doesn't exist yet.\n    }\n    if(checkDB != null)\n    {\n        checkDB.close();\n    }\n\n    return checkDB != null ? true : false;\n}\n\n// Copies the database from your local assets-folder to the just created empty database in \n// the system folder, from where it can be accessed and handled.\n// This is done by transferring bytestreams.\n\nprivate void copyDataBase() throws IOException\n{\n    // Open your local db as the input stream\n    InputStream myInput = myContext.getAssets().open(DB_NAME);\n\n    // Path to the empty db just created\n    String outFileName = DB_PATH + DB_NAME;\n\n    // Open the empty db as the output stream\n    OutputStream myOutput = new FileOutputStream(outFileName);\n\n    // Transfer bytes from the inputfile to the output file\n    byte[] buffer = new byte[1024];\n    int length;\n    while ((length = myInput.read(buffer))&gt;0)\n    {\n        myOutput.write(buffer, 0, length);\n    }\n\n    // Close the streams\n    myOutput.flush();\n    myOutput.close();\n    myInput.close();\n}\n\npublic void openDataBase() throws SQLException\n{\n    // Open the database\n    String myPath = DB_PATH + DB_NAME;\n    myDataBase = SQLiteDatabase.openDatabase(myPath, null, SQLiteDatabase.OPEN_READONLY);\n\n}\n\n@Override\npublic synchronized void close()\n{\n    if(myDataBase != null)\n        myDataBase.close();\n    super.close();\n}\n\n@Override\npublic void onCreate(SQLiteDatabase db)\n{\n\n}\n\n@Override\npublic void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion)\n{\n    Log.w(TAG, \"Upgrading database from version \" + oldVersion + \" to \" + newVersion + \".\");\n\n    if (oldVersion == 1 &amp;&amp; newVersion &gt;= 2){\n        db.execSQL(\"DROP TABLE IF EXISTS \" + DB_TABLE);\n        db.execSQL(\"Create table new_table (...)\");\n        onCreate(db);\n    }       \n\n}\n\n// Add the public methods to access and get content from the database.\n// You could return cursors by doing \"return myDataBase.query(....)\" so\n// it would be easy for you to create adapters for the views.\n\npublic List&lt;Question&gt; getQuestionSet(int difficulty, int numQ)\n{\n    List&lt;Question&gt; questionSet = new ArrayList&lt;Question&gt;();\n    Cursor c = myDataBase.rawQuery(\"SELECT * FROM QUESTIONS WHERE DIFFICULTY=\" + difficulty +\n            \" ORDER BY RANDOM() LIMIT \" + numQ, null);\n    while (c.moveToNext())\n    {\n        // LOG.d(\"QUESTION\", \"Question Found in DB: \" + c.getString(1));\n        Question q = new Question();\n        q.setQuestion(c.getString(1));\n        q.setAnswer(c.getString(2));\n        q.setOption1(c.getString(3));\n        q.setOption2(c.getString(4));\n        q.setOption3(c.getString(5));\n        q.setRating(difficulty);\n        questionSet.add(q);\n    }\n    return questionSet;\n\n}\n\n}\n</code></pre>\n\n<p><strong>Here is my GamePlay Class</strong></p>\n\n<pre><code>package com.xtremeware.straighthoodtrivia.quiz;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\n\n// This class represents the current game being played, tracks \n// the score and player details\n\npublic class GamePlay \n{\nprivate int numRounds;\nprivate int difficulty;\nprivate String playerName;\nprivate int right;\nprivate int wrong;\nprivate int round;\n\nprivate List&lt;Question&gt; questions = new ArrayList&lt;Question&gt;();\n\n\n// Return the playerName\npublic String getPlayerName()\n{\n    return playerName;\n}\n\n// @param playerName the playerName to set\npublic void setPlayerName(String playerName)\n{\n    this.playerName = playerName;\n}\n\n// Return the right \npublic int getRight()\n{\n    return right;\n}\n\n// @param right the right to set\npublic void setRight(int right)\n{\n    this.right = right;\n}\n\n// Return the wrong\npublic int getWrong()\n{\n    return wrong;\n}\n\n// @param wrong the wrong to set\npublic void setWrong(int wrong)\n{\n    this.wrong = wrong;\n}\n\n// Return the round\npublic int getRound()\n{\n    return round;\n}\n\n// @param round the round to set\npublic void setRound(int round)\n{\n    this.round = round;\n}\n\n// @param difficulty the difficulty to set\npublic void setDifficulty(int difficulty)\n{\n    this.difficulty = difficulty;\n}\n\n// @param the difficulty\npublic int getDifficulty()\n{\n    return difficulty;\n}\n\n// @param questions the questions to set\npublic void setQuestions(List&lt;Question&gt; questions)\n{\n    this.questions = questions;\n}\n\n// @param q the question to add\npublic void addQuestions(Question q)\n{\n    this.questions.add(q);\n}\n\n// @return the questions\npublic List&lt;Question&gt; getQuestion()\n{\n    return questions;\n}\n\npublic Question getNextQuestion()\n{\n    // Get the question\n    Question next = questions.get(this.getRound());\n\n    // Update the round number to the next round\n    this.setRound(this.getRound() + 1);\n    return next;\n}\n\n// Method to increment the number of correct answers this game\npublic void incrementRightAnswers()\n{\n    right++;\n}\n\n// Method to increment the number of incorrect answers this game\npublic void incrementWrongAnswers()\n{\n    wrong++;\n}\n\n// @param numRounds the numRounds to set\npublic void setNumRounds(int numRounds) \n{\n    this.numRounds = numRounds;\n}\n\n// @return the numRounds\npublic int getNumRounds()\n{\n    return numRounds;\n}\n\n// Method that checks if the game is over\n// @return boolean\npublic boolean isGameOver()\n{\n    return (getRound() &gt;= getNumRounds());\n}\n\n}\n</code></pre>\n"},{"tags":["android","image","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":296,"score":0,"question_id":9864794,"title":"Android storing image path in to SQLite DB","body":"<p>I'm developing an application that intent to store the data in to a SQLIte database. It's kind of a virtual city guide.<br>\nAs so, i'm storing some text elements on the DB and I'd like to store the path of an image and a video stored in the device in to different columns and tables of the DB.</p>\n\n<p>Kind of:\n_ID INTEGER PRIMARY KEY AUTOINCREMENT (id of the image)\nIMAGE_PATH TEXT UNIQUE (path of the image associated with the ID)</p>\n\n<p>Can anyone give some examples on how can i do this?</p>\n\n<p>Tanks in advance.</p>\n"},{"tags":["r","sqlite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":12377017,"title":"Fetch() hangs in RSQLite for large query","body":"<p>I am using RSQLITE in R to build database and do 'JOIN' operation and extracting the rows using:</p>\n\n<pre><code>    res&lt;-dbSendQuery(con,\" SELECT DISTINCT all_transcript.transcript1 from temp LFET OUTER JOIN....\")\n</code></pre>\n\n<p>There are in total 16 JOIN operations. \nI verify that the command above is working fine as fetch(res) returns 500(default) number of rows. Also, it works for only limited number of rows. But it hangs when I provide fetch(res,n=-1) to extract all the number of lines. Any idea?\nI just gave fetch(res,n=4000) and its not responding.</p>\n\n<p>sessionInfo of the R:</p>\n\n<pre><code>sessionInfo():\nR version 2.14.1 (2011-12-22)\nPlatform: x86_64-unknown-linux-gnu (64-bit)\n\nlocale:\n [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C\n[3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8\n[5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8\n[7] LC_PAPER=C                 LC_NAME=C\n[9] LC_ADDRESS=C               LC_TELEPHONE=C\n[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C\n\nattached base packages:\n[1] stats     graphics  grDevices utils     datasets  methods   base\n\nother attached packages:\n [1] RSQLite_0.11.1 DBI_0.2-5\n</code></pre>\n"},{"tags":["sqlite","sum","where"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":498,"score":0,"question_id":9141593,"title":"How to add a total column in SQLite","body":"<p>I am trying to run some analysis on sales data using SQLite.</p>\n\n<p>At the moment, my table has several columns including a <code>unique transaction ID</code>, <code>product name</code>, <code>quantity of that product</code> and <code>value of that product</code>.  For each transaction, there can be several records, because each distinct type of product in the basket has its own entry.</p>\n\n<p>I would like to add two new columns to the table.  The first one would be a <code>total for each transaction ID</code> which summed up the total quantity of all products in that basket.  </p>\n\n<p>I realize that there would be duplication in the table, as the repeated transaction IDs would all have the total.  The second one would be similar but in value terms.</p>\n\n<p>I unfortunately cannot do this by creating a new table with the values I want calculated in Excel, and then joining it to the original table, because there are too many records for Excel.</p>\n\n<p>Is there a way to get SQL to do the equivalent of a <code>sumif</code> in Excel?</p>\n\n<p>I was thinking something along the lines of:</p>\n\n<pre><code>select sum(qty) where uniqID = ...\n</code></pre>\n\n<p>But I am stumped by how to express that it needs to sum all quantities where the uniqID is the same as the one in that record.</p>\n"},{"tags":["java","sql","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":122,"score":0,"question_id":9236372,"title":"SQL Totals grouped in a single column","body":"<p>I have a SQLite table like that [MainTable]:</p>\n\n<pre><code>Date        | Machine | Product | Scrap\n---------------------------------------\n2012-02-06  | M1      | P1      | 100 \n2012-02-06  | M2      | P1      | 110 \n2012-02-06  | M2      | P2      | 200 \n2012-02-07  | M3      | P3      | 300\n</code></pre>\n\n<p>and I want to get a query that makes an output like that:</p>\n\n<pre><code>Type         | Total         | Scrap\n------------------------------------\nMachine      | M1            | 100\nMachine      | M2            | 310\nMachine      | M3            | 300\nProduct      | P1            | 210\nProduct      | P2            | 200\nProduct      | P3            | 300\nDate         | 2012-02-06    | 410\nDate         | 2012-02-07    | 300\nDate-Machine | 2012-02-06 M2 | 310\n</code></pre>\n\n<p>My problem is that if I use UNION ALL to get the totals, the query lookup in to the [MainTable] a lot of times.\nI want to calculate all the totals in a single lookup to improve the speed using the SQLite query instead of the java code.</p>\n\n<p>I need this only in SQLite, not on another engine.</p>\n"},{"tags":["android","sqlite","exception","locking"],"answer_count":3,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":5308,"score":0,"question_id":7657223,"title":"SQLite exception: Database is locked issue","body":"<p>I'm having an issue with my SQLite database inside an Android app. It seems to happen every so often and I cannot reproduce it, but this is the report the Android Market gives.</p>\n\n<p>Basically I have first a splash screen activity that starts by checking if all the needed data is in the database. If not, it will install the data in a asynchronous thread and close the db connection.</p>\n\n<p>Then and only then can the main activity be started, which also opens and reads/writes the database.</p>\n\n<p>This code is executed from the onCreate method of the splash screen activity:</p>\n\n<pre><code>        dbWord = new WordDBAdapter(this, myUI);\n        dbWord.open();\n        if(dbWord.isDataInstalled())\n        {\n            dbWord.close();\n            databaseInstalled = true;\n            clickToStartView.setText(myUI.PRESS_TO_START);\n            clickToStartView.startAnimation(myBlinkAnim);\n        } else\n        {\n            //If not, try to install in asynchronous thread\n            progressDialog = new ProgressDialog(this);\n            progressDialog.setProgressStyle(ProgressDialog.STYLE_HORIZONTAL);\n            progressDialog.setMessage(myUI.INSTALLING_DB);\n            progressDialog.setCancelable(false);\n            new InstallDBData().execute(\"\");\n        }\n</code></pre>\n\n<p>The code for the asynchronous thread is:</p>\n\n<pre><code>private class InstallDBData extends AsyncTask&lt;String, Integer, Integer&gt;\n{\n\n        @Override\n        protected Integer doInBackground(String... arg0)\n        {\n            progressDialog.setProgress(0);\n            dbWord.installData(0, getApplicationContext());\n            progressDialog.setProgress(20);\n            dbWord.installData(1, getApplicationContext());\n            progressDialog.setProgress(40);\n            dbWord.installData(2, getApplicationContext());\n            progressDialog.setProgress(60);\n            dbWord.installData(3, getApplicationContext());\n            progressDialog.setProgress(80);\n            dbWord.installData(4, getApplicationContext());\n            progressDialog.setProgress(100);\n            return 1;\n        }\n\n        protected void onPreExecute ()\n        {\n            progressDialog.show();\n        }\n\n        protected void onPostExecute(Integer x)\n        {\n            dbWord.close();\n            progressDialog.hide();\n            databaseInstalled = true;\n            clickToStartView.setText(myUI.PRESS_TO_START);\n            clickToStartView.startAnimation(myBlinkAnim);\n        }\n}\n</code></pre>\n\n<p>These are important parts of the WordDBAdapter class, which is also used by the main activity:</p>\n\n<pre><code>public class WordDBAdapter\n{\n    private DatabaseHelper mDbHelper;\n    private SQLiteDatabase mDb;\n\n    public WordDBAdapter open() throws android.database.SQLException\n    {\n        mDbHelper = new DatabaseHelper(mCtx);\n        mDb = mDbHelper.getWritableDatabase();\n        return this;\n    }\n\n    public void close()\n    {\n        mDbHelper.close();\n    }\n\n    ...\n}\n</code></pre>\n\n<p>I'm getting the following exceptions, which are similar but have a different message:</p>\n\n<p>First type of error message:</p>\n\n<pre><code> java.lang.RuntimeException: Unable to start activity ComponentInfo{example.flashcards.medical/com.example.flashcards.common.SplashWindow}: android.database.sqlite.SQLiteException: database is locked: BEGIN EXCLUSIVE;\n at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1830)\n ....\n Caused by: android.database.sqlite.SQLiteException: database is locked: BEGIN EXCLUSIVE;\n at android.database.sqlite.SQLiteDatabase.native_execSQL(Native Method)\n at android.database.sqlite.SQLiteDatabase.execSQL(SQLiteDatabase.java:1870)\n at android.database.sqlite.SQLiteDatabase.beginTransactionWithListener(SQLiteDatabase.java:602)\n</code></pre>\n\n<p>Second type of error message:     </p>\n\n<pre><code> java.lang.RuntimeException: Unable to start activity ComponentInfo{example.flashcards.medical/com.example.flashcards.common.SplashWindow}: android.database.sqlite.SQLiteException: database is locked\n at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1768)\n at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1784)\n ....\n Caused by: android.database.sqlite.SQLiteException: database is locked\n at android.database.sqlite.SQLiteDatabase.native_setLocale(Native Method)\n at android.database.sqlite.SQLiteDatabase.setLocale(SQLiteDatabase.java:1987)\n at android.database.sqlite.SQLiteDatabase.&lt;init&gt;(SQLiteDatabase.java:1855)\n at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:820)\n at android.database.sqlite.SQLiteDatabase.openOrCreateDatabase(SQLiteDatabase.java:854)\n</code></pre>\n\n<p>I would really like to not have to create a ContentProvider, because I believe its overkill if a simpler solution is available. Also, only this application has access to the database.</p>\n\n<p>Any suggestions on how this can be fixed?</p>\n"},{"tags":["android","sqlite","android-listview"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":91,"score":0,"question_id":12392501,"title":"Android: I have to display content from the database in the listview, in which latest data comes on top","body":"<p>I have to implement a listview in which my current data comes on top of the listview. Right now my recent data comes at the bottom and my first data is coming on the top of the listview. I'm attaching my work so far:</p>\n\n<p>SearchActivity.java</p>\n\n<pre><code>public class SearchActivity extends Activity implements OnClickListener,\n    OnItemClickListener {\n\nprivate EditText mHistoryNameEditText;\nprivate Button mInsertButton;\nprivate ListView mHistoryListView;\n\nprivate ListAdapter mHistoryListAdapter;\n\nprivate ArrayList&lt;SearchHistoryDetails&gt; searchArrayList;\n\nprivate ArrayList&lt;SearchHistoryDetails&gt; HistoryObjArrayList;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    mHistoryNameEditText = (EditText) findViewById(R.id.editText1);\n    mInsertButton = (Button) findViewById(R.id.button1);\n    mInsertButton.setOnClickListener(this);\n\n    mHistoryListView = (ListView) findViewById(R.id.names_lsitviews);\n    mHistoryListView.setOnItemClickListener(this);\n\n    searchArrayList = new ArrayList&lt;SearchHistoryDetails&gt;();\n\n    mHistoryListAdapter = new ArrayAdapter&lt;String&gt;(this,\n            android.R.layout.simple_list_item_1, populateList());\n\n    mHistoryListView.setAdapter(mHistoryListAdapter);\n\n    HistoryObjArrayList = new ArrayList&lt;SearchHistoryDetails&gt;();\n}\n\n@Override\npublic void onClick(View v) {\n    if (v.getId() == R.id.button1) {\n        String providedUgraduateName = mHistoryNameEditText.getText()\n                .toString();\n\n        SearchHistoryDetails undergraduateDetailsPojoObj = new SearchHistoryDetails();\n        undergraduateDetailsPojoObj.setuGraduateName(providedUgraduateName);\n\n        HistoryObjArrayList.add(undergraduateDetailsPojoObj);\n\n        insertUndergraduate(undergraduateDetailsPojoObj);\n\n        finish();\n    }\n}\n\npublic void insertUndergraduate(\n        SearchHistoryDetails paraUndergraduateDetailsPojoObj) {\n\n    AndroidOpenDbHelper androidOpenDbHelperObj = new AndroidOpenDbHelper(\n            this);\n\n    SQLiteDatabase sqliteDatabase = androidOpenDbHelperObj\n            .getWritableDatabase();\n\n    ContentValues contentValues = new ContentValues();\n\n    contentValues.put(AndroidOpenDbHelper.COLUMN_NAME_UNDERGRADUATE_NAME,\n            paraUndergraduateDetailsPojoObj.getuGraduateName());\n    long affectedColumnId = sqliteDatabase.insert(\n            AndroidOpenDbHelper.TABLE_NAME_GPA, null, contentValues);\n\n    sqliteDatabase.close();\n    Toast.makeText(this,\n            \"Values inserted column ID is :\" + affectedColumnId,\n            Toast.LENGTH_SHORT).show();\n\n}\n\npublic List&lt;String&gt; populateList() {\n\n    List&lt;String&gt; uGraduateNamesList = new ArrayList&lt;String&gt;();\n\n    AndroidOpenDbHelper openHelperClass = new AndroidOpenDbHelper(this);\n\n    SQLiteDatabase sqliteDatabase = openHelperClass.getReadableDatabase();\n\n    Cursor cursor = sqliteDatabase.query(\n            AndroidOpenDbHelper.TABLE_NAME_GPA, null, null, null, null,\n            null, null);\n\n    startManagingCursor(cursor);\n\n    while (cursor.moveToNext()) {\n\n        String ugName = cursor\n                .getString(cursor\n                        .getColumnIndex(AndroidOpenDbHelper.COLUMN_NAME_UNDERGRADUATE_NAME));\n\n        SearchHistoryDetails ugPojoClass = new SearchHistoryDetails();\n        ugPojoClass.setuGraduateName(ugName);\n\n        searchArrayList.add(ugPojoClass);\n\n        uGraduateNamesList.add(ugName);\n    }\n\n    sqliteDatabase.close();\n\n    return uGraduateNamesList;\n}\n\n@Override\nprotected void onResume() {\n    super.onResume();\n    searchArrayList = new ArrayList&lt;SearchHistoryDetails&gt;();\n    mHistoryListAdapter = new ArrayAdapter&lt;String&gt;(this,\n            android.R.layout.simple_list_item_1, populateList());\n    mHistoryListView.setAdapter(mHistoryListAdapter);\n}\n\n@Override\nprotected void onStart() {\n    super.onStart();\n    searchArrayList = new ArrayList&lt;SearchHistoryDetails&gt;();\n    mHistoryListAdapter = new ArrayAdapter&lt;String&gt;(this,\n            android.R.layout.simple_list_item_1, populateList());\n    mHistoryListView.setAdapter(mHistoryListAdapter);\n}\n\n@Override\npublic void onItemClick(AdapterView&lt;?&gt; arg0, View arg1, int arg2, long arg3) {\n\n    Toast.makeText(getApplicationContext(), \"Clicked on :\" + arg2,\n            Toast.LENGTH_SHORT).show();\n\n    SearchHistoryDetails clickedObject = searchArrayList.get(arg2);\n\n    Bundle dataBundle = new Bundle();\n    dataBundle.putString(\"clickedUgraduateName\",\n            clickedObject.getuGraduateName());\n}}\n</code></pre>\n\n<p>This class helps me in getting the data from the database and populating it on the activity. My creating database class:</p>\n\n<p>AndroidOpenDbHelper.java</p>\n\n<pre><code>public class AndroidOpenDbHelper extends SQLiteOpenHelper {\n\npublic static final String DB_NAME = \"allsearch_history_db\";\npublic static final int DB_VERSION = 1;\n\npublic static final String TABLE_NAME_GPA = \"search_table\";\npublic static final String COLUMN_NAME_UNDERGRADUATE_NAME = \"undergraduate_name_column\";\n\npublic AndroidOpenDbHelper(Context context) {\n    super(context, DB_NAME, null, DB_VERSION);\n}\n\n@Override\npublic void onCreate(SQLiteDatabase db) {\n\n    String sqlQueryToCreateUndergraduateDetailsTable = \"create table if not exists \"\n            + TABLE_NAME_GPA\n            + \" ( \"\n            + BaseColumns._ID\n            + \" integer primary key autoincrement, \"\n            + COLUMN_NAME_UNDERGRADUATE_NAME\n            + \" text not null); \";\n\n    db.execSQL(sqlQueryToCreateUndergraduateDetailsTable);\n}\n\n@Override\npublic void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n    if (oldVersion == 1 &amp;&amp; newVersion == 2) {\n        // Upgrade the database\n    }\n}}\n</code></pre>\n\n<p>This is the class from which I create database and table.</p>\n\n<p>Now, the real deal is that, when I try to populate data from the database it comes as the first one on top and the latest one on down. I want to revert it. Any help will be appreciated in overcoming this problem.</p>\n"},{"tags":["java","sqlite","sqlite3"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":12390087,"title":"Overwriting SQLite database on a shared network folder","body":"<p>I have an SQLite3 database on a shared folder. I want to overwrite the db file from a Java application. Though there is low read and write traffic on this file, I want to ensure that a) the overwrite doesn't corrupt the db file, and b) anyone who might be looking to access the db file will essentially see it locked until the overwrite is complete. My current plan looks something like this...</p>\n\n<pre><code>String query = \"BEGIN EXCLUSIVE TRANSACTION\";\n/* Execute this query*/\nFile sourceFile = new File(LocalPath);\nFile destFile = new File(DbPath);\n\nInputStream inStream = new FileInputStream(sourceFile);\nOutputStream outStream = new FileOutputStream(destFile);\n\nbyte[] buffer = new byte[1024];\n\nint length;\n\nwhile((length = inStream.read(buffer)) &gt; 0) {\n    outStream.write(buffer, 0, length);\n}\n\ninStream.close();\noutStream.close();\n\n/* Now release lock */\n\nquery = \"ROLLBACK TRANSACTION\";\n\n/* Execute query */\n</code></pre>\n\n<p>So reading guidance from SQLite here <a href=\"http://www.sqlite.org/howtocorrupt.html\" rel=\"nofollow\">http://www.sqlite.org/howtocorrupt.html</a>, it would seem this lock would exist in the journal and be updated after copy when I run the rollback transaction. In the meantime, if a client tries to access the Db while I'm copying, I imagine they would just not find the file and my SQLite driver assume the db doesn't exist. Right?</p>\n\n<p>My question is... is it a moot point to place a lock on the db? Is there a better strategy or a way to make the db appear locked rather than missing? Also, am I running a huge risk in DB corruption that makes this unfeasible? One other thought I've had would be to lock the db file, write the new file to a different name, then rename after writing is complete, then release the lock... any thoughts on that?</p>\n\n<p>Not sure if overwriting the DB file is a brilliant idea, but the only feasible thing I can think of for the resources I have at my disposal (running huge transactions on a db in a shared folder over the network is unacceptably slow. I am aware I run higher risk of corruption working with an SQLite db on a shared folder). I am writing updates locally and then letting the user elect to \"commit\" changes and initiate the db file copy. </p>\n\n<p>In addition to answering my questions, any general advice on this case is welcome...</p>\n"},{"tags":["android","query","sqlite","where-clause"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":12387095,"title":"SQLiteDirectCursorDriver usage of SelectionArgs or workaround - using placeholders","body":"<p>I have a rawQuery string running but SQlite throws this warning :</p>\n\n<blockquote>\n  <p>SQLiteDirectCursorDriver(1058): Found SQL string that ends in ;</p>\n</blockquote>\n\n<p>because of quote issues. So I'm trying to use SelectionArgs in a query where I do not have really replacement by values, like this :</p>\n\n<pre><code>String query = \"SELECT Min(?) as oldest, Max(?) as newest, COUNT(?) as nb_data FROM ? WHERE ? BETWEEN (SELECT Min(?) FROM ?) AND (SELECT Max(?) FROM ?)\";\nString[] values = new String[] { TS, TS, col_2, table, TS, TS, table, TS, table };\nCursor mCount = database.rawQuery(query, values);\n</code></pre>\n\n<p>I can't get it working, even using fewer SelectionArgs strings (only on the \"WHERE\" part of the query) as there is not really value replacement requirements but placeholders.</p>\n\n<p>Is there a solution to set this prepared statement (using placeholders rather than using quotes or rewriting the original query) to avoid getting the SQLiteDirectCursorDriver warning ?</p>\n"},{"tags":["sql","sqlite","cross-platform"],"answer_count":2,"favorite_count":1,"up_vote_count":5,"down_vote_count":0,"view_count":178,"score":5,"question_id":4582915,"title":"Is SQLite really cross-platform?","body":"<p>I'm using SQLite to store some data. The primary database is on a NAS (Debian Lenny, 2.6.15, armv4l) since the NAS runs a script which updates the data every day. A typical \"select * from tableX\" looks like this:</p>\n\n<pre><code>2010-12-28|20|62.09|25170.0\n2010-12-28|21|49.28|23305.7\n2010-12-28|22|48.51|22051.1\n2010-12-28|23|47.17|21809.9\n</code></pre>\n\n<p>When I copy the DB to my main computer (Mac OS X) and run the same SQL query, the output is:</p>\n\n<pre><code>2010-12-28|20|1.08115035175016e-160|25170.0\n2010-12-28|21|2.39343503830763e-259|-9.25596535779558e+61\n2010-12-28|22|-1.02951149572792e-86|1.90359837597183e+185\n2010-12-28|23|-1.10707273937033e-234|-2.35343828462275e-185\n</code></pre>\n\n<p>The 3rd and 4th column have the type REAL. Interesting fact: When the numbers are integer (i.e. they end with \".0\"), there is no difference between the two databases. In all other cases, the differences are ... hm ... surprising? I can't seem to find a pattern.</p>\n\n<p>If someone's got a clue - please share!</p>\n\n<p>PS: sqlite3 -version output\n Debian: 3.6.21 (lenny-backports)\n Mac OS X: 3.6.12 (10.6)</p>\n"},{"tags":["r","sqlite","sqldf"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":91,"score":2,"question_id":12391162,"title":"Reading huge csv files into R with sqldf works but sqlite file takes twice the space it should and needs \"vacuuming\"","body":"<p>Reading around, I found out that the best way to read a larger-than-memory csv file is to use <code>read.csv.sql</code> from package <code>sqldf</code>. This function will read the data directly into a sqlite database, and consequently execute a sql statement.</p>\n\n<p>I noticed the following: it seems that the data read into sqlite is stored into a temporary table, so that in order to make it accessible for future use, it needs to be asked so in the sql statement. </p>\n\n<p>As a example, the following code reads some sample data into sqlite:</p>\n\n<pre><code># generate sample data\nsample_data &lt;- data.frame(col1 = sample(letters, 100000, TRUE), col2 = rnorm(100000))\n# save as csv\nwrite.csv(sample_data, \"sample_data.csv\", row.names = FALSE)\n# create a sample sqlite database\nlibrary(sqldf)\nsqldf(\"attach sample_db as new\") \n# read the csv into the database and create a table with its content\nread.csv.sql(\"sample_data.csv\", sql = \"create table data as select * from file\", \n             dbname = \"sample_db\", header = T, row.names = F, sep = \",\")\n</code></pre>\n\n<p>The data can then be accessed with <code>sqldf(\"select * from data limit 5\", dbname = \"sample_db\")</code>.</p>\n\n<p>The problem is the following: the sqlite file takes up twice as much space as it should. My guess is that it contains the data twice: once for the temporary read, and once for the stored table. It is possible to clean up the database with <code>sqldf(\"vacuum\", dbname = \"sample_db\")</code>. This will reclaim the empty space, but it takes a long time, especially when the file is big.</p>\n\n<p>Is there a better solution to this that doesn't create this data duplication in the first time ?</p>\n"},{"tags":["android","sqlite","relational-database","inner-join","multi-table"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":62,"score":2,"question_id":12322850,"title":"Save data in relational table in content provider by inner join","body":"<p>How you can see in image i have a TABLE A, TABLE C e an array list A.</p>\n\n<p>I need to create a relational table (Table B) that have id of Table A (id_A) and id of Table C (id_C). The array list have every id's of table C that I need. So i need a way to save data of table B where 1 id_A respect to N elements of id_C.</p>\n\n<p>I know that i can do with inner joins, but i don't know how start this in content provider. Anyone can give a help, or a example? </p>\n\n<p>Thanks or your time</p>\n\n<p><img src=\"http://i.stack.imgur.com/UDMRG.png\" alt=\"enter image description here\"></p>\n"},{"tags":["sqlite","sqlite3"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":82,"score":0,"question_id":12392117,"title":"How to optimize SQLite indexes for query","body":"<p>I have a SQLite table as</p>\n\n<pre><code>CREATE TABLE T(\n    CategoryCode NVARCHAR(64) NOT NULL,\n    DateTime     DateTime NOT NULL,\n    ItemCode     NVARCHAR(64) NOT NULL,\n    ItemName     NVARCHAR(64) NOT NULL,\n    ItemValue    NUMERIC(28, 4) NOT NULL\n)\n</code></pre>\n\n<p>The question is how to optimize indexes for the following query:</p>\n\n<pre><code>SELECT\n CategoryCode\n,ItemCode\n,ItemName\n,SUM(ItemValue) as TotalValue\nFROM T\nWHERE CategoryCode = 'Code1' \nAND DateTime &lt; '2012-01-04 00:00:00'\nGROUP BY ItemCode\n</code></pre>\n\n<p>Thank you!</p>\n"},{"tags":["python","database","sqlite","escaping"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":12389587,"title":"Escaping dynamic sqlite query?","body":"<p>I'm currently building SQL queries depending on input from the user. An example how this is done can be seen here:</p>\n\n<pre><code>def generate_conditions(table_name,nameValues):\n    sql = u\"\"\n    for field in nameValues:\n        sql += u\" AND {0}.{1}='{2}'\".format(table_name,field,nameValues[field])\n    return sql\n\nsearch_query = u\"SELECT * FROM Enheter e LEFT OUTER JOIN Handelser h ON e.Id == h.Enhet WHERE 1=1\"\n\nif \"Enhet\" in args:\n    search_query += generate_conditions(\"e\",args[\"Enhet\"])\nc.execute(search_query)\n</code></pre>\n\n<p>Since the SQL changes every time I cannot insert the values in the execute call which means that I should escape the strings manually. However, when I search everyone points to execute...</p>\n\n<p>I'm also not that satisfied with how I generate the query, so if someone has any idea for another way that would be great also!</p>\n"},{"tags":["iphone","sqlite","encryption","sqlcipher"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":719,"score":0,"question_id":10107966,"title":"SQLCIPHER sqlite encrypted iphone ios converting un-encrypted database to encrypted database","body":"<p>I know that there are a few postings on this, but just want to make sure there is something that I am not missing / current.</p>\n\n<p>Using sqlcipher, with an unencrypted database, want to encrypt it.  Encrypting a new database is working fine.</p>\n\n<p>Am trying the sqlcipher rekey with an existing database seems NOT to be working (Database remains unencrypted).</p>\n\n<pre><code>       [fmdb open];\n       NSString *sel = @\"SELECT count(*) FROM sqlite_master\";            \n       FMResultSet *fmr = [self executeQuery : fmdb : sel];\n\n        if ( [fmr next] ) // unencrypted\n        {\n            NSLog(@\"Encrypting\");\n            fmdb.key = @\"\";\n            [fmdb rekey : @\"somekey\"];\n        }\n</code></pre>\n\n<p>Otherwise will have to use one of the other PRAGMA methods, etc.</p>\n\n<p>Does rekey only work with databases that are already encrypted?</p>\n\n<p>This is using the FMDatabase Framework, but under the hood in the framework it is doing ...</p>\n\n<pre><code>    - (BOOL)rekey:(NSString*)key {\n    #ifdef SQLITE_HAS_CODEC\n    if (!key) {\n        return NO;\n    }\n\n    int rc = sqlite3_rekey(db, [key UTF8String], (int)strlen([key UTF8String]));\n\n    if (rc != SQLITE_OK) {\n        NSLog(@\"error on rekey: %d\", rc);\n        NSLog(@\"%@\", [self lastErrorMessage]);\n    }\n\n    return (rc == SQLITE_OK);\n    #else\n        return NO;\n    #endif\n   }\n</code></pre>\n\n<p>It does run though the sqlite3_rekey, no errors, but database does not get encrypted.</p>\n"},{"tags":["java","sqlite","ormlite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":326,"score":1,"question_id":8464871,"title":"How to retrieve whole dataset in many-to-many-relationships using ormlite?","body":"<p>I just started using OrmLite so I am playing around with it. I have trouble understanding a few concepts, esp. dealing with many to many relationships.</p>\n\n<p>These are my main tables:</p>\n\n<pre><code>Pc\n    Name\n    Domain\nEthernet\n    IP\n    Gateway\n    Subnet\n    MAC\n</code></pre>\n\n<p>And here the ones ensuring many-to-many-relationship just as in the online-example:</p>\n\n<pre><code>PcEth\n</code></pre>\n\n<p>I populate the Database via:</p>\n\n<pre><code>    PC somePc = new PC(\"randomPc\", \"someDomain\");\n    pcDao.create(somePc);\n\n    Ethernet eth1 = new Ethernet(\"127.255.0.1\", \"255.0.0.0\", \"192.168.1.1\", \"macadress\");\n    Ethernet eth2 = new Ethernet(\"192.168.1.1\", \"255.0.0.0\", \"192.168.1.1\", \"macadress\");\n    ethernetDao.create(eth1);\n    ethernetDao.create(eth2);\n\n    pcEthernetDao.create(new PcEthernet(somePc, eth1));\n</code></pre>\n\n<p>But I am quite unsure how I so I get all the data that belongs to a Pc back. I was kind of expecting the</p>\n\n<pre><code>    PC pc = pcDao.queryForId(1);\n</code></pre>\n\n<p>to automagically retrieve the data of the other tables. Isn't that what an ORM is supposed to do? Having an object so I do not need to care about the underlying database? Yet all I got is indeed just the Pc.object which only has the PC-defined attributes. (On the other hand, it is not <em>that</em> surprising, as I am only dealing on the pcDao.)</p>\n\n<p>Yet how am I supposed to build a query so that I get a \"meta-object\" that contains all the data belonging to a PC? An object that includes the data of the PC, and a list the ethernetDevices belonging to the Pcs (that include their own list of Dns-adresses as well), as well as a list of Software and Operating systems.</p>\n\n<p>Am I now supposed to manually solve the dependencies? Query a Pc, ask the PcEthernet-table to get matching Ids, retrieve the EthernetDevice, and so on?</p>\n\n<p>Or is there a trick I am not quite grasping yet?</p>\n"},{"tags":["android","sqlite","data","offline"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":198,"score":3,"question_id":11557255,"title":"Offline Android application with online syncing","body":"<p>I am developing an Android application that would have an offline data in start and online syncing. That means: user clicks on an item and application reads data for that item from offline (SQLite database or file) and displays that Activity with data (text, picture, movie etc.). At the same time (if online) application goes to webservice in background and downloads data if version of data is newer that version on mobile device, replaces data in background and tells user, that newer data is available (if user is stil on the same item - same Activity). If isn't, application automatickly reads new data the next time user clicks on the same item.</p>\n\n<p>Is it SQLite on the phone the best way for that or file? Can I put SQLite with offline data to expansion file, when uploading .APK to Google Play?</p>\n"},{"tags":["c#","sqlite","ado.net"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":12389815,"title":"SQLite doesn't return what it should return","body":"<p>Everything works fine, except one thing. When i try to pull the username of the one with the highest score, the program fails. </p>\n\n<p>The result that i get is 0 instead of le_user</p>\n\n<p>This is the part of code that act's weird:</p>\n\n<pre><code>string query = \"SELECT * FROM \\\"Highscore_List\\\" ORDER BY Highscore_List.score DESC LIMIT 1\";\nDataTable  recipe = db.GetDataTable(query);\nforeach (DataRow r in recipe.Rows)\n{\n    string old_user = r[\"user_name\"].ToString();\n    int oude_topscore = Convert.ToInt32(r[\"score\"]);\n}\n</code></pre>\n\n<p>And the score is right, just the user name not. And when i leave this part of the query </p>\n\n<pre><code>ORDER BY Highscore_List.score DESC LIMIT 1\n</code></pre>\n\n<p>The result is still the same. So that isn't the problem.</p>\n\n<p>So what am I doing wrong?</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Here is an SQL dump of it:</p>\n\n<pre><code>-- ----------------------------\n-- Table structure for \"main\".\"Highscore_List\"\n-- ----------------------------\nDROP TABLE \"main\".\"Highscore_List\";\nCREATE TABLE \"Highscore_List\" (\n\"id\"  INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,\n\"score\"  INTEGER NOT NULL,\n\"user_name\"  INTEGER NOT NULL\n);\n\n-- ----------------------------\n-- Records of Highscore_List\n-- ----------------------------\nINSERT INTO \"main\".\"Highscore_List\" VALUES (1, 1, 'hui');\nINSERT INTO \"main\".\"Highscore_List\" VALUES (2, 2, 'Onbekend');\nINSERT INTO \"main\".\"Highscore_List\" VALUES (3, 3, 'onbekend_tt');\nINSERT INTO \"main\".\"Highscore_List\" VALUES (4, 2, 'onbekenddd');\nINSERT INTO \"main\".\"Highscore_List\" VALUES (5, 6, 'le_user');\nINSERT INTO \"main\".\"Highscore_List\" VALUES (6, 0, 'Onbekend');\n</code></pre>\n"},{"tags":["c#","entity-framework","sqlite","linq-to-entities"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":134,"score":0,"question_id":11186680,"title":"The member with identity '' does not exist in the metadata collection. Parameter name: identity","body":"<p>I am getting the exception while adding object in database (Sqlite I am currently using).</p>\n\n<p>Exception: The member with identity '' does not exist in the metadata collection. Parameter name: identity</p>\n\n<p>Normally this code works on my local  but I want to  run this project my netbook too but whatever I do I cant find the way  which make it run.</p>\n\n<p>Any help will be greately  appreciated.</p>\n\n<pre><code>   -- Original table schema\n    CREATE TABLE [Content] (\n        [Id] integer PRIMARY KEY AUTOINCREMENT NOT NULL,\n        [Title] text NOT NULL,\n        [Content] text NOT NULL,\n        [PageId] integer NOT NULL,\n        [CreatedAt] datetime,\n        [UpdatedAt] datetime,\n        [CreatedBy] text,\n        [UpdatedBy] text,\n        CONSTRAINT [FK_Content_PageId_Page_Id] FOREIGN KEY ([PageId]) REFERENCES [Page] ([Id])\n    );\n    -- Original table schema\n    CREATE TABLE [Page] (\n        [Id] integer PRIMARY KEY AUTOINCREMENT NOT NULL,\n        [Title] text NOT NULL,\n        [Url] text NOT NULL,\n        [Visibility] bit NOT NULL,\n        [CreatedAt] datetime,\n        [UpdatedAt] datetime,\n        [CreatedBy] text,\n        [UpdatedBy] text\n    );\n\n\n\n    using (var entities = new PageEntities())\n                {\n                    var page = entities.Pages.FirstOrDefault(p =&gt; p.Id == id);\n                    if (page != null)\n                    {\n                        var content = new Content\n                                          {\n                                              Title = model.Title,\n                                              Explanation = model.Explanation,\n                                              CreatedAt = DateTime.Now,\n                                              UpdatedAt = DateTime.Now,\n                                              PageId = page.Id\n                                          };\n                        entities.AddToContents(content);\n                        entities.SaveChanges();\n                        return RedirectToAction(\"PageContent/\" + id, \"Admin\");\n\n\n        }\n</code></pre>\n"},{"tags":["iphone","objective-c","xcode","sqlite","sqlite3"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":12385156,"title":"how to work create virtual table in sqlite and access?","body":"<p>I am working with sqlite in iphone application. what i want to do is like i will get the data from data base using \"select * from tablename\". but i don't want to access all the rows at a time. I know that we can use cursor for this. I know how to write them in MySql procedures. but I want it to be implemented in my app. [Virtual table]http://www.sqlite.org/vtab.html#xconnect here they explained like we have to create  virtual table to use cursor. so if any body worked with this can you explain me how to do that with some coding example...</p>\n"},{"tags":["ruby-on-rails","ruby","sqlite","postgresql","date"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":71,"score":0,"question_id":12386061,"title":"Ruby on Rails: SQLite3 to PostgreSQL null date","body":"<p>I am using a SQLite3 database in development, and now have started to use heroku to host my app. Heroku only supports PostgreSQL which I have modified in my GEM file</p>\n\n<pre><code>group :development, :test do\n gem 'sqlite3'\nend\ngroup :production do\n  gem 'pg'\nend\n</code></pre>\n\n<p>Now, everything is working as it should except when I query a date, I get this error</p>\n\n<pre><code>    ActionView::Template::Error (PG::Error: ERROR:  invalid input syntax for type date: \"\"\n2012-09-12T10:03:03+00:00 app[web.1]: \n2012-09-12T10:03:03+00:00 app[web.1]: LINE 1: ...-12' AND '2012-09-12' OR DATE(start_date) BETWEEN '' AND '')...\n2012-09-12T10:03:03+00:00 app[web.1]:                                                              ^\n2012-09-12T10:03:03+00:00 app[web.1]:     137: &lt;% if @project_search.total_entries &gt; 0 %&gt;\n2012-09-12T10:03:03+00:00 app[web.1]:     136: \n2012-09-12T10:03:03+00:00 app[web.1]: : SELECT COUNT(*) FROM \"projects\"  WHERE (client LIKE '%%' AND industry LIKE '%%' AND role LIKE '%%' AND tech LIKE '%%' AND business_div LIKE '%%' AND project_owner LIKE '%%' AND exception_pm LIKE '%%' AND status LIKE '%%' AND (DATE(start_date) BETWEEN '2011-09-12' AND '2012-09-12' OR DATE(start_date) BETWEEN '' AND '') AND keywords LIKE '%%')):\n2012-09-12T10:03:03+00:00 app[web.1]:     138: &lt;% if @search_performed %&gt;\n2012-09-12T10:03:03+00:00 app[web.1]:     140: &lt;style&gt;\n2012-09-12T10:03:03+00:00 app[web.1]:     139:\n</code></pre>\n\n<p>Here is my project.rb, as I think this is where I need to change something:</p>\n\n<pre><code>class Project &lt; ActiveRecord::Base\n  attr_accessible :edited_first_name, :edited_last_name, :first_name, :last_name, :business_div, :client, :customer_benifits, :edited_date, :end_date, :entry_date, :exception_pm, :financials, :industry, :keywords, :lessons_learned, :project_name, :project_owner, :role, :start_date, :status, :summary, :tech\n\n#validates_presence_of :business_div, :client, :customer_benifits, :end_date, :exception_pm, :financials, :industry, :keywords, :lessons_learned, :project_name, :project_owner, :role, :start_date, :status, :summary, :tech\n\n\n\ndef self.search(search_client, search_industry, search_role, search_tech, search_business_div, search_project_owner, search_exception_pm, search_status, search_start_date_dd, search_start_date_A, search_start_date_B,  search_keywords) \n  return scoped unless search_client.present? || search_industry.present? || search_role.present? || search_tech.present? || search_business_div.present? || search_project_owner.present? || search_exception_pm.present? || search_status.present? || search_start_date_dd.present?  || search_start_date_A.present?  || search_start_date_B.present?  || search_keywords.present?\n\n\ntodays_date = DateTime.now.to_date\n\nif !search_start_date_A.blank? or !search_start_date_B.blank?\n    search_start_date_A = Date.parse(search_start_date_A).strftime(\"%Y-%m-%d\")\n    search_start_date_B = Date.parse(search_start_date_B).strftime(\"%Y-%m-%d\")\n    todays_date = \"\"\n    end\n\nif search_start_date_dd.blank?\n    todays_date = \"\"\nend\n\n\nif (search_start_date_A.blank? or search_start_date_B.blank?) and search_start_date_dd.blank?\n\nwhere(['client LIKE ? AND industry LIKE ? AND role LIKE ? AND tech LIKE ? AND business_div LIKE ? AND project_owner LIKE ? AND exception_pm LIKE ? AND status LIKE ? AND keywords LIKE ?', \n      \"%#{search_client}%\", \"%#{search_industry}%\" , \"%#{search_role}%\" , \"%#{search_tech}%\" , \"%#{search_business_div}%\" , \n      \"%#{search_project_owner}%\" , \"%#{search_exception_pm}%\" , \"%#{search_status}%\", \n       \"%#{search_keywords}%\"\n    ])\n\nelse\n\nwhere(['client LIKE ? AND industry LIKE ? AND role LIKE ? AND tech LIKE ? AND business_div LIKE ? AND project_owner LIKE ? AND exception_pm LIKE ? AND status LIKE ? AND (DATE(start_date) BETWEEN ? AND ? OR DATE(start_date) BETWEEN ? AND ?) AND keywords LIKE ?', \n      \"%#{search_client}%\", \"%#{search_industry}%\" , \"%#{search_role}%\" , \"%#{search_tech}%\" , \"%#{search_business_div}%\" , \n      \"%#{search_project_owner}%\" , \"%#{search_exception_pm}%\" , \"%#{search_status}%\", \n      search_start_date_dd, todays_date , search_start_date_A, search_start_date_B, \"%#{search_keywords}%\"\n    ])\nend\nend\n\n\ndef self.paginated_for_index(projects_per_page, current_page)\n    paginate(:per_page =&gt; projects_per_page, :page =&gt; current_page)\n  end\n\nend\n</code></pre>\n\n<p>It seems SQLite3 could handle '' as an empty date, but PG can't</p>\n\n<p>Does anyone have some solution to this?</p>\n\n<p>I am new to rails so please remember this when answering. Thanks in advance.</p>\n"},{"tags":["sqlite","group-by"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":72,"score":1,"question_id":12385860,"title":"select rowid of certain row when using group by in sqlite","body":"<p>I have a query in SQLite where I group by a certain column and use an aggregate function MAX on another column in the select statement. Now I also want the rowid of the row which holds the value that is displayed by the MAX aggregate. I know that this must be a unique row because of the primary key constraint. I can't figure out how to write the query. See the following example:</p>\n\n<pre><code>create table t1 (c1, c2, constraint t1_pk primary key (c1, c2));\n\ninsert into t1 values ('boys', 1);\ninsert into t1 values ('boys', 2);\ninsert into t1 values ('girls', 1);\ninsert into t1 values ('girls', 2);\n</code></pre>\n\n<p>Now I have the table with the primary constraint over both columns. A SELECT query for the table gives the following output:</p>\n\n<pre><code>sqlite&gt; select rowid, * from t1;\n\nrowid|c1|c2\n1|boys|1\n2|boys|2\n3|girls|1\n4|girls|2\n</code></pre>\n\n<p>Now I want to group by c1 and select the MAX of c2. Then I want the rowid of the row which holds the values displayed now. See the following queries:</p>\n\n<pre><code>sqlite&gt; select rowid, c1, max(c2) from t1 group by c1;\n\nrowid|c1|max(c2)\n2|boys|2\n4|girls|2\n\nsqlite&gt; select rowid, c1, min(c2) from t1 group by c1;\n\nrowid|c1|min(c2)\n2|boys|1\n4|girls|1\n</code></pre>\n\n<p>The second query with the MIN aggregate should return the rowids of the rows holding the MIN values, this is what I want to achieve:</p>\n\n<pre><code>rowid|c1|min(c2)\n1|boys|1\n3|girls|1\n</code></pre>\n\n<p>Now I've tried the following subselect, which doesn't work either because it gives an error:</p>\n\n<pre><code>sqlite&gt; select (select rowid from t1 b where b.c1 = a.c1 and b.c2 = max(a.c2)), a.c1, max(a.c2) from t1 a group by a.c1;\n\nError: misuse of aggregate function max()\n\nsqlite&gt; select (select rowid from t1 b where b.c1 = a.c1 and b.c2 = min(a.c2)), a.c1, min(a.c2) from t1 a group by a.c1;\n\nError: misuse of aggregate function min()\n</code></pre>\n\n<p>The last thing I've tried is a subquery in the FROM clause, which also doesn't work:</p>\n\n<pre><code>sqlite&gt; select\n   ...&gt;         (select rowid from t1 b where b.c1 = c.c1 and b.c2 = c.c2),\n   ...&gt;         c1,\n   ...&gt;         c2\n   ...&gt; from\n   ...&gt;         (select a.c1, max(a.c2) as c2 from t1 a group by a.c1) c;\n\nError: misuse of aggregate: max()\n\nsqlite&gt; select\n   ...&gt;         (select rowid from t1 b where b.c1 = c.c1 and b.c2 = max(c.c2)),\n   ...&gt;         c.c1,\n   ...&gt;         max(c.c2)\n   ...&gt; from\n   ...&gt;         (select a.c1, a.c2 from t1 a group by a.c1) c;\n\nError: misuse of aggregate function max()\n</code></pre>\n\n<p>Is there any solution for my problem? I really don't know what else I could try.</p>\n"},{"tags":["iphone","objective-c","sqlite","csv","mfmailcomposeviewcontroll"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":109,"score":0,"question_id":12385668,"title":"How to export SQLite file into CSV file with table format (excel sheet style)","body":"<p>in iphone app, <strong>I want to export a SQLite database file to CSV file</strong>. (later i attach this file in mail)</p>\n\n<p><strong>that too in a table format ( or exel-sheet format)</strong></p>\n\n<p>I have <strong>tried</strong> the following logic but it is not like a table format and huge differences in column alignments.</p>\n\n<p>storedataBaseArray = [DataBase selectAllFromDB];</p>\n\n<pre><code>  NSString *CSVstring=@\"SNO \\t\\t\\t Index \\t\\t\\t  Definition\\n\" ;\n\n  NSString *CSVPath,*record;;\n\n   NSString  *temporayCSV= @\"\" ;\n\n  for(int i=0;i&lt;storedataBaseArray.count ;i++)\n  {\n\n\n        record = [NSString stringWithFormat:@\"%@, \\t\\t\\t %@, \\t\\t\\t %@, [ [storedContactsArray objectAtIndex:i] objectForKey\"id\"] ,  [ [storedContactsArray objectAtIndex:i] objectForKey\"title\"],  [ [storedContactsArray objectAtIndex:i] objectForKey\"Definition\"]];\n\n   // NSString *role =[storedContactsArray objectAtIndex:i]  ;\n\n    NSLog(@\"%d\",i);\n\n    temporayCSV = [NSString stringWithFormat:@\"%d  %@  \\n \",(i+1),record];\n\n       CSVstring = [CSVstring stringByAppendingFormat:temporayCSV];       \n     NSLog(@\"%@\",CSVstring);\n</code></pre>\n\n<p>}</p>\n\n<pre><code>  CSVPath = [documentsDirectory stringByAppendingPathComponent:[NSString stringWithFormat:@\"%@.csv\", @\"CSV_FormatedTable\"]];\n\n  //add our file to the path\n  [fileManager createFileAtPath:CSVPath contents:[CSVstring dataUsingEncoding:NSUTF8StringEncoding] attributes:nil];\n\n  NSData *rolesCSVData =[NSData dataWithContentsOfFile:CSVPath];\n  [mailpage addAttachmentData:rolesCSVData mimeType:@\"text/csv\" fileName:@\"CSV_FormatedTable.csv\"];\n</code></pre>\n\n<p><strong>DataBase File:</strong></p>\n\n<p><img src=\"http://i.stack.imgur.com/kxlaO.png\" alt=\"enter image description here\"></p>\n\n<p><strong>Required Format:</strong></p>\n\n<p><img src=\"http://i.stack.imgur.com/G3lr8.png\" alt=\"enter image description here\"></p>\n\n<p><strong>My Out Put CSV file:</strong></p>\n\n<p><img src=\"http://i.stack.imgur.com/Bxifu.png\" alt=\"enter image description here\"></p>\n\n<p>Could any one suggest me how to do this</p>\n"},{"tags":["java","sqlite","jdbc"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":71,"score":0,"question_id":12385504,"title":"connect to Sqlite database using java","body":"<p>I need to connect to a Sqlite database, I am using following code but I reckon it connects to a database in memory. how can I connect to a database on my disk.</p>\n\n<pre><code>        String sDriver = \"org.sqlite.JDBC\";\n        String Database = \"NyDatabase.sqlite\";\n        String sJdbc = \"jdbc:sqlite\";\n        String sDbUrl = sJdbc + \":\" + Database;\n        Class.forName(sDriver);\n\n        conn = DriverManager.getConnection(sDbUrl);\n        Statement st = conn.createStatement();\n\n        // result = st.executeQuery(Select).toString();\n        rs = st.executeQuery(Select);\n        while (rs.next()) {\n            for (int i = 1; i &lt;= 4; i++)\n                result[i] = rs.getString(i);\n        }\n        conn.close();\n\n                    } catch (SQLException e) {\n\n                    e.printStackTrace();\n            }\n            catch(Exception e){\n        e.printStackTrace();\n            }\n</code></pre>\n"},{"tags":["ios","database","sqlite","alphabetical"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":12384343,"title":"SQlite alphabetical order","body":"<p>I have an SQlite database with a few categories and each of them have some items inside. Right now the categories are arranged in alphabetical order but I want in the order I put them in the database. Any suggestions? I'm pretty new at this and can't figure it out how to get rid of the alphabetical order.</p>\n"},{"tags":["java","android","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":50,"score":1,"question_id":12384719,"title":"Android SQLite when no result","body":"<p>I'm using the databaseutils to run a SQL query on my database. Basically just a login, however  I want to take the userid of the person who's logged in so i'm selecting that. It works fine if theres a result, but falls over when theres no result. If there a way to set if is set or similar?</p>\n\n<pre><code>    if(String.valueOf(loginCount).equals(\"2\")) {\n\n    File dbfile = new File(Global.StaticDB + \"/Users\" ); \n    SQLiteDatabase db = SQLiteDatabase.openOrCreateDatabase(dbfile, null);\n\n    String loginQueryCheck=(String)DatabaseUtils.stringForQuery(db,\"SELECT UserID from Users where Username like '\" + txtUsername.getText().toString() + \"' AND Password like '\" + txtPassword.getText().toString() + \"'\",null);\n\n    Log.e(\"Login Query:\", loginQueryCheck);\n    db.close();  \n\n    if(loginQueryCheck.length() &gt; 1) {\n        Context context = getApplicationContext();\n    CharSequence text = \"Logged In\";\n    int duration = Toast.LENGTH_SHORT;\n    Toast toast = Toast.makeText(context, text, duration);\n    toast.show();\n    Intent ShowMainPage = new Intent(view.getContext(), MainPage.class);\n    startActivityForResult(ShowMainPage, 0);\n    } else {\n        Context context = getApplicationContext();\n    CharSequence text = \"Login Failed\";\n    int duration = Toast.LENGTH_SHORT;\n    Toast toast = Toast.makeText(context, text, duration);\n    toast.show();\n    }\n    }\n</code></pre>\n"},{"tags":["android","sqlite","full-text-search"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":82,"score":0,"question_id":12384645,"title":"How to custom FTS tokenizer in Android","body":"<p>because sqlite fts default tokenize is 'simple' ,i can change it to 'porter'. but i must support Non-US languages. like Chinese, it can't just split by space or dot.So i want to custom tokenizer. Can somebody give me some advice?\n1.How to regist Tokenizer in Sqlite.\nSELECT fts3_tokenizer(, );\ncause sqlite is system lib in Android , i don't know if i can regist.\n2.Is there a common tokenizer for all language? for my app must i18n. just support Chinese is not useful.</p>\n"},{"tags":["java","android","sqlite","android-textview"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":163,"score":0,"question_id":12382442,"title":"Android: How to display string on textview from console","body":"<p>I'm trying to display string on the textview. I'm succesfully able to print it on the console from database, but I'm not able to figure out how to print all the strings on different different textviews. Here is my code:</p>\n\n<p>MainActivity.java</p>\n\n<pre><code>public class MainActivity extends Activity implements OnClickListener {\n\nEditText search;\nButton insert;\nTextView txt1, txt2, txt3, txt4, txt5;\nDatabaseHandler db;\nList&lt;History&gt; history;\n\n/** Called when the activity is first created. */\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    db = new DatabaseHandler(this);\n\n    search = (EditText) findViewById(R.id.search_word);\n    insert = (Button) findViewById(R.id.insert);\n    txt1 = (TextView) findViewById(R.id.txt1);\n    txt2 = (TextView) findViewById(R.id.txt2);\n    txt3 = (TextView) findViewById(R.id.txt3);\n    txt4 = (TextView) findViewById(R.id.txt4);\n    txt5 = (TextView) findViewById(R.id.txt5);\n\n    insert.setOnClickListener(this);\n\n    history = db.getAllHistory();\n}\n\npublic void onClick(View v) {\n    db.addHistory(new History(search.getText().toString(), null));\n    Toast.makeText(getApplicationContext(),\n            \"Inserted: \" + search.getText().toString(), Toast.LENGTH_LONG)\n            .show();\n}\n\n@Override\nprotected void onStart() {\n    super.onStart();\n    List&lt;History&gt; history = db.getAllHistory();\n    for (History cn : history) {\n        String log = \"Search Strings: \" + cn.getName();\n        Log.d(\"Search Strings: \", log);\n    }\n}\n}\n</code></pre>\n\n<p>This is my activity in which I'm bringing my all database value on onStart() function. Now here I have to set all the data coming from database on the textview. Here is my DabaseHandler class in which I'm taking out each row.</p>\n\n<p>DatabaseHandler.java</p>\n\n<pre><code>public class DatabaseHandler extends SQLiteOpenHelper {\n\nprivate static final int DATABASE_VERSION = 1;\n\nprivate static final String DATABASE_NAME = \"historyManager\";\n\nprivate static final String TABLE_HISTORY = \"histories\";\n\nprivate static final String KEY_NAME = \"history\";\n\npublic DatabaseHandler(Context context) {\n    super(context, DATABASE_NAME, null, DATABASE_VERSION);\n}\n\n@Override\npublic void onCreate(SQLiteDatabase db) {\n    String CREATE_HISTORY_TABLE = \"CREATE TABLE \" + TABLE_HISTORY + \"(\"\n            + KEY_NAME + \" TEXT\" + \")\";\n    db.execSQL(CREATE_HISTORY_TABLE);\n}\n\n@Override\npublic void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n    // Drop older table if existed\n    db.execSQL(\"DROP TABLE IF EXISTS \" + TABLE_HISTORY);\n\n    onCreate(db);\n}\n\nvoid addHistory(History history) {\n    SQLiteDatabase db = this.getWritableDatabase();\n\n    ContentValues values = new ContentValues();\n    values.put(KEY_NAME, history.getName());\n\n    db.insert(TABLE_HISTORY, null, values);\n    db.close();\n}\n\nHistory getHistory(int id) {\n    SQLiteDatabase db = this.getReadableDatabase();\n\n    Cursor cursor = db.query(TABLE_HISTORY, new String[] { KEY_NAME },\n            \"=?\", new String[] { String.valueOf(id) }, null, null, null,\n            null);\n    if (cursor != null)\n        cursor.moveToFirst();\n\n    History history = new History(Integer.parseInt(cursor.getString(0)),\n            cursor.getString(1), cursor.getString(2));\n    return history;\n}\n\npublic List&lt;History&gt; getAllHistory() {\n    List&lt;History&gt; historyList = new ArrayList&lt;History&gt;();\n\n    String selectQuery = \"SELECT  * FROM \" + TABLE_HISTORY;\n\n    SQLiteDatabase db = this.getWritableDatabase();\n    Cursor cursor = db.rawQuery(selectQuery, null);\n\n    if (cursor.moveToFirst()) {\n        do {\n            History contact = new History();\n            contact.setName(cursor.getString(0));\n            historyList.add(contact);\n        } while (cursor.moveToNext());\n    }\n\n    return historyList;\n}\n\npublic int updateHistory(History history) {\n    SQLiteDatabase db = this.getWritableDatabase();\n\n    ContentValues values = new ContentValues();\n    values.put(KEY_NAME, history.getName());\n    return db.update(TABLE_HISTORY, values, KEY_NAME + \" = ?\",\n            new String[] { String.valueOf(history.getName()) });\n}\n\npublic void deleteHistory(History history) {\n    SQLiteDatabase db = this.getWritableDatabase();\n    db.delete(TABLE_HISTORY, KEY_NAME + \" = ?\",\n            new String[] { String.valueOf(history.getName()) });\n    db.close();\n}\n\npublic int getHistoryCount() {\n    String countQuery = \"SELECT  * FROM \" + TABLE_HISTORY;\n    SQLiteDatabase db = this.getReadableDatabase();\n    Cursor cursor = db.rawQuery(countQuery, null);\n    cursor.close();\n\n    return cursor.getCount();\n}\n}\n</code></pre>\n\n<p>Please help in getting data printed on the textview. On the Log.d I can see all my data coming, one after another. But I'm not able to print all the data.</p>\n"},{"tags":["android","sqlite"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":41,"score":1,"question_id":12373039,"title":"check dynamically type's variables android","body":"<p>I have a db, I open it and I extract query I need with a cursor. How can I check if variables I extract is int or string? Because i can't know which table I'm opening, everything is dynamic. So I can't use <code>cursor.getString()</code> or <code>cursor.getInt()</code></p>\n\n<p>EDIT</p>\n\n<p>Sorry for my bad English, I'm italian</p>\n"},{"tags":["sqlite","blackberry"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":52,"score":1,"question_id":12376402,"title":"Blackberry SQLite or XML files for storage?","body":"<p>I've been having nothing but problems with Blackberry development and SQLite for Blackberry in general.</p>\n\n<p>I'm thinking of alternatives for storing data on the device.</p>\n\n<p>First of all the data stored on the device comes from web service calls 99% of the time. The web service response can range from less than 0.5kB up to 10 or maybe even 20 Kb.</p>\n\n<p>A lot of the trouble I've been having revolves around the fact that I use threads to make my web service calls asynchronous, and many conflicts arise between database connections. <a href=\"http://stackoverflow.com/questions/12375065/blackberry-databaseoutofmemoryexception-with-sqlite\">I've also been having trouble</a> with a <code>DatabaseOutOfMemoryException</code>, which I haven't even found in the documentation.</p>\n\n<p>Is storing the web service response in it's raw XML (as an xml or txt file on the device) and just reading it from there everytime I want to load something on the UI a good idea?? Right now I just get the raw XML in a string and parse it (using DocumentBuilder etc...), storing the contents into different tables of my SQLite.</p>\n\n<p>Would doing away with SQLite and using XML exclusively be faster?? Would it be easier?? Would there be conflicts with read/write access to open files? My app has a lot of read/write going on, so I'd like to make it as easy as possible to manage.</p>\n\n<p>Any ideas would be great, thanks!!</p>\n"},{"tags":["android","sqlite","deserialization","gson","ormlite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":73,"score":0,"question_id":12380904,"title":"Gson Slow when using custom deserializer and Saving to ORMLite","body":"<p>I am developing an Android application and am using ORMLite for my local storage. I am using a web app to send information to the mobile app. The Amount of JSON i send is very small but it still takes approximately 10 seconds to deserialize and save to the database. Is this normal or do i have a bottleneck somewhere? </p>\n\n<p>My Gson Builder is</p>\n\n<pre><code>public static Gson getGameEntryGson()\n{\nGsonBuilder gsonBuilder = new GsonBuilder();\ngsonBuilder.registerTypeAdapter(State.class, new JsonDeserializer&lt;State&gt;() {            \n    @Override\n    public State deserialize(JsonElement arg0, Type arg1,\n            JsonDeserializationContext arg2) throws JsonParseException {\n        JsonObject stateObj = arg0.getAsJsonObject();\n        Gson g = new Gson();\n        State state = new State();         \n        List&lt;Cliff&gt; cliffs = new ArrayList&lt;Cliff&gt;();\n        state.setName(stateObj.get(\"name\").toString().replace(\"\\\"\", \"\"));\n        state.setId(stateObj.get(\"stateId\").toString().replace(\"\\\"\", \"\"));          \n        state.setVersion((Long.parseLong((stateObj.get(\"version\").toString()))));\n        DatabaseManager.getInstance().addState(state);\n        cliffs = g.fromJson(stateObj.get(\"cliffs\"),new TypeToken&lt;List&lt;Cliff&gt;&gt;(){}.getType());   \n        if(cliffs!=null)\n        {\n            for(Cliff cf:cliffs)\n            {\n                cf.setState(state);\n                DatabaseManager.getInstance().addCliff(cf);                     \n            }\n        }           \n        return state;\n    }           \n}); \n</code></pre>\n\n<p>My State Object is </p>\n\n<pre><code>@DatabaseTable(tableName = \"states\")\npublic class State {\n@DatabaseField(id=true)\nprivate String stateId;\n@DatabaseField\nprivate String name;\n@DatabaseField\nprivate long version;\n@ForeignCollectionField\nprivate ForeignCollection&lt;Cliff&gt; cliffs;\npublic State(){}\n\n..setters &amp; getters\n</code></pre>\n\n<p>and my Cliff Object is</p>\n\n<pre><code>@DatabaseTable(tableName = \"cliffs\")\npublic class Cliff {\n@DatabaseField(generatedId = true)\nprivate int cliffId;\n@DatabaseField(canBeNull = true)\nprivate String name;\n@DatabaseField(foreign=true,foreignAutoRefresh=true)\nprivate State state;\n\npublic Cliff(){}\n</code></pre>\n\n<p>The json that is sent is in this form</p>\n\n<pre><code>{\"cliffs\":[{\"name\":\"Bristol Falls\"},{\"name\":\"Dorset Quarry\"}],\"na\nme\":\"Vermont\",\"stateId\":\"504d3d0d314d4e8002ba07f8\",\"version\":0}....\n</code></pre>\n\n<p>Any suggestions are greatly appreciated. I doubt that this should be taking up to 10 seconds to complete</p>\n"},{"tags":["android","sqlite","syntax","triggers","primary-key"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":70,"score":0,"question_id":12373898,"title":"SQLIte ROW Limiting","body":"<p>I am trying to limit the number of rows in my SQLite Db to one. I have searched every where for a adequate solution but have not gotten any where. I have received many suggestions ( constraints, triggers, ...etc) but have not really found a solution that is easy to implement with my current skill level. I have decided to try triggers but cannot find where to properly write the code. I have the structure but do not know how to properly format the syntax. my code is below which of course is not working ( compiling errors). Any help instructing how to properly write this code for android would be greatly appreciated. I’ve already been all over the sqlite.org site ( <a href=\"http://www.sqlite.org/lang_createtrigger.html\" rel=\"nofollow\">http://www.sqlite.org/lang_createtrigger.html</a>) </p>\n\n<pre><code> public void onCreate(SQLiteDatabase db) {\n        // TODO Auto-generated method stub      \n\n        String sqlDataStore = \"create table if not exists \" +\n        TABLE_NAME_CREDENTIALS + \" (\"+ BaseColumns._ID + \" integer primary key \" + \" ON CONFLICT FAIL ,\"\n\n                    + COLUMN_NAME_USERNAME + \" TEXT NOT NULL \" + \" UNIQUE,\"\n                    + COLUMN_NAME_PASSWORD + \" TEXT NOT NULL \" + \" UNIQUE);\";\n\n        db.execSQL(CREATE TRIGGER  \" row_limiter \" +  \" BEFORE INSERT \"\n               + \" ON \"\n               + \" TABLE_NAME_CREDENTIALS \" \n               + \" FOR EACH ROW WHEN \" \n               + ( SELECT  + \"_id\" + FROM + \" TABLE_NAME_CREDENTIALS \") &gt; \"1\"\n               +    BEGIN\n                    DELETE  FROM + \"TABLE_NAME_CREDENTIALS\"  +  WHERE  + \"_id \" &gt; \"1\";\n                     END\n\n\n\n        db.execSQL(sqlDataStore);\n    }\n</code></pre>\n\n<p>DB with primary key set to table:</p>\n\n<pre><code>  String sqlDataStore = \"create table if not exists \" +\n                    TABLE_NAME_CREDENTIALS + \" (\"+ BaseColumns._ID + \" NOT NULL,\"\n\n                                + COLUMN_NAME_USERNAME + \" TEXT NOT NULL, \"\n                                + COLUMN_NAME_PASSWORD + \" TEXT NOT NULL, \"\n                                + \" PRIMARY KEY (username, passcode))\";\n</code></pre>\n\n<p>insert:</p>\n\n<pre><code>contentValues.put(LoginDB.COLUMN_NAME_USERNAME, rUsername);\ncontentValues.put(LoginDB.COLUMN_NAME_PASSWORD, rPasscode);\n</code></pre>\n"},{"tags":["android","sqlite","android-cursor"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":143,"score":0,"question_id":12376962,"title":"Android: How to bring cursor arraylist value to the MainActivity for displaying it on TextView","body":"<p>I'm building an app which stores string value from edittext and on button click I store the string into database. Now, onStart() I want to bring all the values into textview. Here is my code:</p>\n\n<p>MainActivity.java</p>\n\n<pre><code>public class MainActivity extends Activity implements OnClickListener {\n\nEditText search;\nButton insert;\nTextView txt1, txt2, txt3, txt4, txt5;\nDatabaseHandler db;\n\n/** Called when the activity is first created. */\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    db = new DatabaseHandler(this);\n\n    search = (EditText) findViewById(R.id.search_word);\n    insert = (Button) findViewById(R.id.insert);\n    txt1 = (TextView) findViewById(R.id.txt1);\n    txt2 = (TextView) findViewById(R.id.txt2);\n    txt3 = (TextView) findViewById(R.id.txt3);\n    txt4 = (TextView) findViewById(R.id.txt4);\n    txt5 = (TextView) findViewById(R.id.txt5);\n\n    insert.setOnClickListener(this);\n\n    List&lt;History&gt; history = db.getAllHistory();\n\n    for (History cn : history) {\n        String log = \"Search String: \" + cn.getName();\n        // Writing Contacts to log\n        Log.d(\"Search String: \", log);\n    }\n}\n\npublic void onClick(View v) {\n    db.addHistory(new History(search.getText().toString(), null));\n    Toast.makeText(getApplicationContext(),\n            \"Inserted: \" + search.getText().toString(), Toast.LENGTH_LONG)\n            .show();\n}\n\n@Override\nprotected void onStart() {\n    // TODO Auto-generated method stub\n    super.onStart();\n    List&lt;History&gt; history = db.getAllHistory();\n\n    for (History cn : history) {\n        String log = cn.getName();\n        // Writing Contacts to log\n        txt1.setText(log);\n\n    }\n}\n}\n</code></pre>\n\n<p>DatabaseHandler.java</p>\n\n<pre><code>public class DatabaseHandler extends SQLiteOpenHelper {\n\n// All Static variables\n// Database Version\nprivate static final int DATABASE_VERSION = 1;\n\n// Database Name\nprivate static final String DATABASE_NAME = \"historyManager\";\n\n// Contacts table name\nprivate static final String TABLE_HISTORY = \"histories\";\n\n// Contacts Table Columns names\nprivate static final String KEY_NAME = \"history\";\n\npublic DatabaseHandler(Context context) {\n    super(context, DATABASE_NAME, null, DATABASE_VERSION);\n}\n\n// Creating Tables\n@Override\npublic void onCreate(SQLiteDatabase db) {\n    String CREATE_HISTORY_TABLE = \"CREATE TABLE \" + TABLE_HISTORY + \"(\"\n            + KEY_NAME + \" TEXT\" + \")\";\n    db.execSQL(CREATE_HISTORY_TABLE);\n}\n\n// Upgrading database\n@Override\npublic void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n    // Drop older table if existed\n    db.execSQL(\"DROP TABLE IF EXISTS \" + TABLE_HISTORY);\n\n    // Create tables again\n    onCreate(db);\n}\n\n/**\n * All CRUD(Create, Read, Update, Delete) Operations\n */\n\n// Adding new contact\nvoid addHistory(History history) {\n    SQLiteDatabase db = this.getWritableDatabase();\n\n    ContentValues values = new ContentValues();\n    values.put(KEY_NAME, history.getName()); // Contact Name\n    // values.put(KEY_PH_NO, history.getPhoneNumber()); // Contact Phone\n\n    // Inserting Row\n    db.insert(TABLE_HISTORY, null, values);\n    db.close(); // Closing database connection\n}\n\n// Getting single contact\nHistory getHistory(int id) {\n    SQLiteDatabase db = this.getReadableDatabase();\n\n    Cursor cursor = db.query(TABLE_HISTORY, new String[] { KEY_NAME },\n            \"=?\", new String[] { String.valueOf(id) }, null, null, null,\n            null);\n    if (cursor != null)\n        cursor.moveToFirst();\n\n    History history = new History(Integer.parseInt(cursor.getString(0)),\n            cursor.getString(1), cursor.getString(2));\n    // return contact\n    return history;\n}\n\n// Getting All Contacts\npublic List&lt;History&gt; getAllHistory() {\n    List&lt;History&gt; historyList = new ArrayList&lt;History&gt;();\n    // Select All Query\n    String selectQuery = \"SELECT  * FROM \" + TABLE_HISTORY;\n\n    SQLiteDatabase db = this.getWritableDatabase();\n    Cursor cursor = db.rawQuery(selectQuery, null);\n\n    ArrayList&lt;String&gt; mArrayList = new ArrayList&lt;String&gt;();\n    cursor.moveToFirst();\n    while (!cursor.isAfterLast()) {\n        mArrayList.add(cursor.getString(cursor\n                .getColumnIndex(DatabaseHandler.KEY_NAME))); // add the item\n\n        System.out.println(\"Array : \" + mArrayList);\n        cursor.moveToNext();\n    }\n    cursor.close();\n\n    return historyList;\n}\n\n// Updating single contact\npublic int updateHistory(History history) {\n    SQLiteDatabase db = this.getWritableDatabase();\n\n    ContentValues values = new ContentValues();\n    values.put(KEY_NAME, history.getName());\n    // values.put(KEY_PH_NO, contact.getPhoneNumber());\n\n    // updating row\n    return db.update(TABLE_HISTORY, values, KEY_NAME + \" = ?\",\n            new String[] { String.valueOf(history.getName()) });\n}\n\n// Deleting single contact\npublic void deleteHistory(History history) {\n    SQLiteDatabase db = this.getWritableDatabase();\n    db.delete(TABLE_HISTORY, KEY_NAME + \" = ?\",\n            new String[] { String.valueOf(history.getName()) });\n    db.close();\n}\n\n// Getting contacts Count\npublic int getHistoryCount() {\n    String countQuery = \"SELECT  * FROM \" + TABLE_HISTORY;\n    SQLiteDatabase db = this.getReadableDatabase();\n    Cursor cursor = db.rawQuery(countQuery, null);\n    cursor.close();\n\n    // return count\n    return cursor.getCount();\n}\n\n}\n</code></pre>\n\n<p>History.java</p>\n\n<pre><code>public class History {\n// private variables\nString _name;\n\n// Empty constructor\npublic History() {\n\n}\n\n// constructor\npublic History(int id, String name, String _phone_number) {\n    this._name = name;\n}\n\n// constructor\npublic History(String name, String _phone_number) {\n    this._name = name;\n}\n\n// getting name\npublic String getName() {\n    return this._name;\n}\n\n// setting name\npublic void setName(String name) {\n    this._name = name;\n}\n}\n</code></pre>\n\n<p>I'm able to store the value and see it in the table and accordingly can print the whole array in the console. Now I have to bring the arraylist to the MainActivity on onStart() and show the values on the textview. Please guide me through this.</p>\n"},{"tags":["c++","sqlite","sqlite3"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":12376427,"title":"SQLite only works in memory and for backups","body":"<p>All of this works great on Windows (exact same code). Not so much on OS X. I'm aware of other issues with iOS and SQLite, but this is just with OS X 10.8 and Xcode 4.4.1.</p>\n\n<p>I've got a SQLite database that will work just fine for in-memory databases, but not when writing out to a file. The strange thing is that I can take the in-memory DB and back it up to a file just fine.</p>\n\n<p>But wait, there's more...</p>\n\n<p>I can create tables on a <em>file DB</em> and they correctly show up when I view them. However, when I try a <code>SELECT name FROM sqlite_master</code>, it returns nothing. If I try to insert or query anything from a table, I get a table not found error. It's like it can't even find what it just did.</p>\n\n<p>For example:</p>\n\n<pre><code>std::string filename = \"test.db\";\nsqlite3* database = nullptr;\nsqlite3_open(filename.c_str(), &amp;database);\n// ...\n// Create tables...works\n// Query from sqlite_master...broken\n</code></pre>\n\n<p>Doing the same thing with <code>:memory:</code> works fine though.</p>\n\n<p>Any ideas?</p>\n"},{"tags":["python","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":32,"score":1,"question_id":12377992,"title":"How do I prevent sqlite from evaluating a string as a math expression?","body":"<p>Simple question that probably has a very simple answer. I am writing date strings of the format \"2012-06-10\" to a TEXT column from a Python script.</p>\n\n<p>e.g.</p>\n\n<pre>\ncur.execute(\"CREATE TABLE tbl(date TEXT, ...)\")\n\ncur.execute('INSERT INTO tbl VALUES(%s)' % (str(date[i])), ...)\n</pre>\n\n<p>The script is actually <em>evaluating</em> the date string, so \"2012-06-10\" gets written into the table as \"1996\". From reading the docs, I'm guessing this has something to do with type affinity, but I can't figure how to override or even why the string would be evaluated.</p>\n"},{"tags":["android","sqlite","insert","error-code"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":12375089,"title":"Get insert error code on sqlite","body":"<p>How can i run a sql statement on a sqlite database (in android) and get the result of the query? I need to know for sure if the query was executed or not.</p>\n\n<p>I came up with :</p>\n\n<pre><code>db.execSQL(sql);\n</code></pre>\n\n<p>but this is a void function.</p>\n\n<p>I get the query_string from a database so i don't know is is a insert or update or delete statement. I know for sure that it will not be a select statement. </p>\n"},{"tags":["android","database","sqlite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":12376266,"title":"Android sql lite database handling through SQLite Database Browser 2.0 b1.exe","body":"<p>I have a database in my android application. I want to add new record in my database through SQLite Database Browser 2.0 b1.exe. I have pull the database from the data->data->{my package}->database. But when i try to add a new record through SQLite Database Browser 2.0 b1.exe i find an error saying \"if the table contain fields declared as NOT NULL please select EDIT->PREFERENCES and adjust the default value for new records to insert an empty string\". I did that accordingly but found the same error again.</p>\n"}]}
{"total":16516,"page":20,"pagesize":100,"questions":[{"tags":["objective-c","ios","sqlite","automatic-ref-counting","va-list"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":319,"score":0,"question_id":11399152,"title":"BWDB SQLite wrapper for iOS ARC issues","body":"<p>I am trying to use Bill Weinman's BWDB wrapper, which can be downloaded here: <a href=\"http://bw.org/iosdata/\" rel=\"nofollow\">http://bw.org/iosdata/</a></p>\n\n<p>I can't convert it to ARC properly, can someone more experienced then i to look at it? Main issue is va_list in insertRow &amp; updateRow methods, idk what to do with it. The rest of the errors are easy to get rid of. </p>\n\n<p>Thanks in advance for any help/advice!</p>\n\n<p>Header file</p>\n\n<pre><code>//  BWDB.h\n//  Created by Bill Weinman on 2010-09-25.\n//  Copyright 2010 The BearHeart Group, LLC. All rights reserved.\n\n#import &lt;Foundation/Foundation.h&gt;\n#import &lt;sqlite3.h&gt;\n\n#define defaultDatabaseFileName @\"bwtest.db\"\n#define BWDB_VERSION @\"1.0.5\"\n\n@interface BWDB : NSObject &lt;NSFastEnumeration&gt; {\n    sqlite3 *database;\n    sqlite3_stmt *statement;\n    NSString *tableName;\n    NSString *databaseFileName;\n    NSFileManager *filemanager;\n\n    // for \"fast enumeration\" (iterator/generator pattern)\n    NSDictionary * enumRows[1]; // enumerated (iterator) object(s) are passed in a C array\n                                // we only ever pass one at a time\n}\n\n@property (nonatomic, retain) NSString *tableName;\n\n// object management\n- (BWDB *) initWithDBFilename: (NSString *) fn;\n- (BWDB *) initWithDBFilename: (NSString *) fn andTableName: (NSString *) tn;\n- (void) openDB;\n- (void) closeDB;\n- (NSString *) getVersion;\n- (NSString *) getDBPath;\n\n// SQL queries\n- (NSNumber *) doQuery:(NSString *) query, ...;\n- (BWDB *) getQuery:(NSString *) query, ...;\n- (void) prepareQuery:(NSString *) query, ...;\n- (id) valueFromQuery:(NSString *) query, ...;\n\n// CRUD methods\n- (NSNumber *) insertRow:(NSDictionary *) record;\n- (void) updateRow:(NSDictionary *) record: (NSNumber *) rowID;\n- (void) deleteRow:(NSNumber *) rowID;\n- (NSDictionary *) getRow: (NSNumber *) rowID;\n- (NSNumber *) countRows;\n\n// Raw results\n- (void) bindSQL:(const char *) cQuery arguments:(va_list)args;\n- (NSDictionary *) getPreparedRow;\n- (id) getPreparedValue;\n\n// Utilities\n- (id) columnValue:(int) columnIndex;\n- (NSNumber *) lastInsertId;\n\n@end\n</code></pre>\n\n<p>Implementation file</p>\n\n<pre><code>//  BWDB.m\n//  Created by Bill Weinman on 2010-09-25.\n//  Copyright 2010 The BearHeart Group, LLC. All rights reserved.\n\n#import \"BWDB.h\"\n\n@implementation BWDB\n\n@synthesize tableName;\n\n#pragma mark -\n#pragma mark Object Management\n\n- (void)dealloc {\n    // NSLog(@\"%s\", __FUNCTION__);\n    [self closeDB];\n    [super dealloc];\n}\n\n// if you're not using the CRUD functions, you don't need a table name\n- (BWDB *) initWithDBFilename:(NSString *)fn {\n    // NSLog(@\"%s\", __FUNCTION__);\n    if ((self = [super init])) {\n        databaseFileName = fn;\n        tableName = nil;\n        [self openDB];\n    }\n    return self;\n}\n\n- (BWDB *) initWithDBFilename: (NSString *) fn andTableName: (NSString *) tn {\n    // NSLog(@\"%s\", __FUNCTION__);\n    if ((self = [super init])) {\n        databaseFileName = fn;\n        tableName = tn;\n        [self openDB];\n    }\n    return self;\n}\n\n- (void) openDB {\n    // NSLog(@\"%s\", __FUNCTION__);\n    if (database) return;\n    filemanager = [[NSFileManager alloc] init];\n    NSString * dbpath = [self getDBPath];\n\n    if (![filemanager fileExistsAtPath:dbpath]) {\n        // try to copy from default, if we have it\n        NSString * defaultDBPath = [[[NSBundle mainBundle] resourcePath] stringByAppendingPathComponent:databaseFileName];\n        if ([filemanager fileExistsAtPath:defaultDBPath]) {\n            // NSLog(@\"copy default DB\");\n            [filemanager copyItemAtPath:defaultDBPath toPath:dbpath error:NULL];\n        }\n    }\n    if (sqlite3_open([dbpath UTF8String], &amp;database) != SQLITE_OK) {\n        NSAssert1(0, @\"Error: initializeDatabase: could not open database (%s)\", sqlite3_errmsg(database));\n    }\n    [filemanager release];\n    filemanager = nil;\n}\n\n- (void) closeDB {\n    // NSLog(@\"%s\", __FUNCTION__);\n    if (database) sqlite3_close(database);\n    if (filemanager) [filemanager release];\n    database = NULL;\n    filemanager = nil;\n}\n\n- (NSString *) getVersion {\n    return BWDB_VERSION;\n}\n\n- (NSString *) getDBPath {\n    // NSLog(@\"%s\", __FUNCTION__);\n    NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);\n    NSString *documentsDirectory = [paths objectAtIndex:0];\n    return [documentsDirectory stringByAppendingPathComponent:databaseFileName];\n}\n\n// iteration in ObjC is called \"fast enumeration\"\n// this is a simple implementation\n- (NSUInteger) countByEnumeratingWithState:(NSFastEnumerationState *)state objects:(id *)stackbuf count:(NSUInteger)len {\n    if (*enumRows = [self getPreparedRow]) {\n        state-&gt;itemsPtr = enumRows;\n        state-&gt;state = 0;   // not used, customarily set to zero\n        state-&gt;mutationsPtr = (unsigned long *) self;   // also not used, required by the interface\n        return 1;\n    } else {\n        return 0;\n    }\n}\n\n#pragma mark -\n#pragma mark SQL Queries\n\n// doQuery:query,...\n// executes a non-select query on the SQLite database\n// uses SQLbind to bind the variadic parameters\n// Return value is the number of affect rows\n- (NSNumber *) doQuery:(NSString *) query, ... {\n    // NSLog(@\"%s: %@\", __FUNCTION__, query);\n    va_list args;\n    va_start(args, query);\n\n    const char *cQuery = [query UTF8String];\n    [self bindSQL:cQuery arguments:args];\n    if (statement == NULL) return [NSNumber numberWithInt:0];\n\n    va_end(args);\n    sqlite3_step(statement);\n    if(sqlite3_finalize(statement) == SQLITE_OK) {\n        return [NSNumber numberWithInt: sqlite3_changes(database)];\n    } else {\n        NSLog(@\"doQuery: sqlite3_finalize failed (%s)\", sqlite3_errmsg(database));\n        return [NSNumber numberWithInt:0];\n    }\n}\n\n// prepareQuery:query,...\n// prepares a select query on the SQLite database\n// uses SQLbind to bind the variadic parameters\n// use getRow or getValue to get results\n- (void) prepareQuery:(NSString *) query, ... {\n    // NSLog(@\"%s: %@\", __FUNCTION__, query);\n    va_list args;\n    va_start(args, query);\n\n    const char *cQuery = [query UTF8String];\n    [self bindSQL:cQuery arguments:args];\n    if (statement == NULL) return;\n    va_end(args);\n}\n\n// prepareQuery:query,...\n// executes a select query on the SQLite database\n// uses SQLbind to bind the variadic parameters\n// Returns NSArray of NSDictionary objects\n- (BWDB *) getQuery:(NSString *) query, ... {\n    // NSLog(@\"%s: %@\", __FUNCTION__, query);\n    va_list args;\n    va_start(args, query);\n\n    const char *cQuery = [query UTF8String];\n    [self bindSQL:cQuery arguments:args];\n    if (statement == NULL) return nil;\n    va_end(args);\n    return self;\n}\n\n- (id) valueFromQuery:(NSString *) query, ... {\n    // NSLog(@\"%s: %@\", __FUNCTION__, query);\n    va_list args;\n    va_start(args, query);\n    const char *cQuery = [query UTF8String];\n    [self bindSQL:cQuery arguments:args];\n    if (statement == NULL) return nil;\n    va_end(args);\n    return [self getPreparedValue];\n}\n\n\n// bindSQL:arguments\n// binds variadic arguments to the SQL query. \n// cQuery is a C string, args is a variadic list of ObjC objects\n// objects in variadic list are tested for type\n// see SQLquery for how to call this\n- (void) bindSQL:(const char *) cQuery arguments:(va_list)args {\n    // NSLog(@\"%s: %s\", __FUNCTION__, cQuery);\n    int param_count;\n\n    // preparing the query here allows SQLite to determine\n    // the number of required parameters\n    if (sqlite3_prepare_v2(database, cQuery, -1, &amp;statement, NULL) != SQLITE_OK) {\n        NSLog(@\"bindSQL: could not prepare statement (%s)\", sqlite3_errmsg(database));\n        statement = NULL;\n        return;\n    }\n\n    if ((param_count = sqlite3_bind_parameter_count(statement))) {\n        for (int i = 0; i &lt; param_count; i++) {\n            id o = va_arg(args, id);\n\n            // determine the type of the argument\n            if (o == nil) {\n                sqlite3_bind_null(statement, i + 1);\n            } else if ([o respondsToSelector:@selector(objCType)]) {\n                if (strchr(\"islISLB\", *[o objCType])) { // integer\n                    sqlite3_bind_int(statement, i + 1, [o intValue]);\n                } else if (strchr(\"fd\", *[o objCType])) {   // double\n                    sqlite3_bind_double(statement, i + 1, [o doubleValue]);\n                } else {    // unhandled types\n                    NSLog(@\"bindSQL: Unhandled objCType: %s\", [o objCType]);\n                    statement = NULL;\n                    return;\n                }\n            } else if ([o respondsToSelector:@selector(UTF8String)]) { // string\n                sqlite3_bind_text(statement, i + 1, [o UTF8String], -1, SQLITE_TRANSIENT);\n            } else {    // unhhandled type\n                NSLog(@\"bindSQL: Unhandled parameter type: %@\", [o class]);\n                statement = NULL;\n                return;\n            }\n        }\n    }\n\n    va_end(args);\n    return;\n}\n\n#pragma mark -\n#pragma mark CRUD Methods\n\n- (NSNumber *) insertRow:(NSDictionary *) record {\n    // NSLog(@\"%s\", __FUNCTION__);\n    int dictSize = [record count];\n\n    // the values array is used as the argument list for bindSQL\n    id keys[dictSize];  // not used, just a side-effect of getObjects:andKeys\n    id values[dictSize];\n    [record getObjects:values andKeys:keys];    // convenient for the C array\n\n    // construct the query\n    NSMutableArray * placeHoldersArray = [NSMutableArray arrayWithCapacity:dictSize];\n    for (int i = 0; i &lt; dictSize; i++)  // array of ? markers for placeholders in query\n        [placeHoldersArray addObject: [NSString stringWithString:@\"?\"]];\n\n    NSString * query = [NSString stringWithFormat:@\"insert into %@ (%@) values (%@)\",\n                        tableName,\n                        [[record allKeys] componentsJoinedByString:@\",\"],\n                        [placeHoldersArray componentsJoinedByString:@\",\"]];\n\n    [self bindSQL:[query UTF8String] arguments:(va_list)values];\n    sqlite3_step(statement);\n    if(sqlite3_finalize(statement) == SQLITE_OK) {\n        return [self lastInsertId];\n    } else {\n        NSLog(@\"doQuery: sqlite3_finalize failed (%s)\", sqlite3_errmsg(database));\n        return [NSNumber numberWithInt:0];\n    }\n}\n\n- (void) updateRow:(NSDictionary *) record:(NSNumber *) rowID {\n    // NSLog(@\"%s\", __FUNCTION__);\n    int dictSize = [record count];\n\n    // the values array is used as the argument list for bindSQL\n    id keys[dictSize];  // not used, just a side-effect of getObjects:andKeys\n    id values[dictSize + 1];\n    [record getObjects:values andKeys:keys];    // convenient for the C array\n    values[dictSize] = rowID;\n\n    NSString * query = [NSString stringWithFormat:@\"update %@ set %@ = ? where id = ?\",\n                        tableName,\n                        [[record allKeys] componentsJoinedByString:@\" = ?, \"]];\n\n    [self bindSQL:[query UTF8String] arguments:(va_list)values];\n    sqlite3_step(statement);\n    sqlite3_finalize(statement);\n}\n\n- (void) deleteRow:(NSNumber *) rowID {\n    // NSLog(@\"%s\", __FUNCTION__);\n\n    NSString * query = [NSString stringWithFormat:@\"delete from %@ where id = ?\", tableName];\n    [self doQuery:query, rowID];\n}\n\n- (NSDictionary *) getRow: (NSNumber *) rowID {\n    NSString * query = [NSString stringWithFormat:@\"select * from %@ where id = ?\", tableName];\n    [self prepareQuery:query, rowID];\n    return [self getPreparedRow];\n}\n\n- (NSNumber *) countRows {\n    return [self valueFromQuery:[NSString stringWithFormat:@\"select count(*) from %@\", tableName]];\n}\n\n#pragma mark -\n#pragma mark Raw results\n\n- (NSDictionary *) getPreparedRow {\n    // NSLog(@\"%s\", __FUNCTION__);\n    int rc = sqlite3_step(statement);\n    if (rc == SQLITE_DONE) {\n        sqlite3_finalize(statement);\n        return nil;\n    } else  if (rc == SQLITE_ROW) {\n        int col_count = sqlite3_column_count(statement);\n        if (col_count &gt;= 1) {\n            NSMutableDictionary * dRow = [NSMutableDictionary dictionaryWithCapacity:1];\n            for(int i = 0; i &lt; col_count; i++) {\n                // can't use NULL with stringWithUTF8String (bw 1.0.5)\n                const char * sqliteColName = sqlite3_column_name(statement, i);\n                if(sqliteColName) {\n                    NSString * columnName = [NSString stringWithUTF8String:sqliteColName];\n                    id o = [self columnValue:i];\n                    if (o != nil) [dRow setObject:o forKey:columnName];\n                    else {\n                        NSLog(@\"getPreparedRow: columnValue returned nil (%s)\", sqlite3_errmsg(database));\n                        return nil;\n                    }\n                } else {\n                    NSLog(@\"getPreparedRow: sqlite3_column_name returned NULL (%s)\", sqlite3_errmsg(database));\n                    return nil;\n                }\n            }\n            return dRow;\n        }\n    } else {    // rc != SQLITE_ROW\n        NSLog(@\"getPreparedRow: could not get row: %s\", sqlite3_errmsg(database));\n        return nil;\n    }\n    return nil;\n}\n\n// returns one value from the first column of the query\n- (id) getPreparedValue {\n    // NSLog(@\"%s\", __FUNCTION__);\n    int rc = sqlite3_step(statement);\n    if (rc == SQLITE_DONE) {\n        sqlite3_finalize(statement);\n        return nil;\n    } else  if (rc == SQLITE_ROW) {\n        int col_count = sqlite3_column_count(statement);\n        if (col_count &lt; 1) return nil;  // shouldn't really ever happen\n        id o = [self columnValue:0];\n        sqlite3_finalize(statement);\n        return o;\n    } else {    // rc == SQLITE_ROW\n        NSLog(@\"valueFromPreparedQuery: could not get row: %s\", sqlite3_errmsg(database));\n        return nil;\n    }\n}\n\n#pragma mark -\n#pragma mark Utility Methods\n\n- (id) columnValue:(int) columnIndex {\n    // NSLog(@\"%s columnIndex: %d\", __FUNCTION__, columnIndex);\n    id o = nil;\n    switch(sqlite3_column_type(statement, columnIndex)) {\n        case SQLITE_INTEGER:\n            o = [NSNumber numberWithInt:sqlite3_column_int(statement, columnIndex)];\n            break;\n        case SQLITE_FLOAT:\n            o = [NSNumber numberWithFloat:sqlite3_column_double(statement, columnIndex)];\n            break;\n        case SQLITE_TEXT:\n            o = [NSString stringWithUTF8String:(const char *) sqlite3_column_text(statement, columnIndex)];\n            break;\n        case SQLITE_BLOB:\n            o = [NSData dataWithBytes:sqlite3_column_blob(statement, columnIndex) length:sqlite3_column_bytes(statement, columnIndex)];\n            break;\n        case SQLITE_NULL:\n            o = [NSNull null];\n            break;\n    }\n    return o;\n}\n\n- (NSNumber *) lastInsertId {\n    return [NSNumber numberWithInt: sqlite3_last_insert_rowid(database)];\n}\n\n@end\n</code></pre>\n"},{"tags":["java","performance","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12373662,"title":"Method querying SQLite database taking forever to finish","body":"<p>I have an SQLite database with a table that has ~90000 row.. Here is the method that is taking too long to finish..  </p>\n\n<pre><code>void intilizeAyaHighlighShapes() {\n        ayaShapes = new ArrayList&lt;ArrayList&lt;AyaShape&gt;&gt;();\n        ArrayList&lt;AyaShape&gt; ayaRowsHighlight = new ArrayList&lt;AyaShape&gt;(); // contains the highligh shapes of a specific aya for all its rows\n\n        int tmpAya = 1, tmpLineMin = 0, tmpLineMax = 0;\n        int maxLeft = 0, maxRight = 0, maxTop = 0, maxBottom = 0;\n\n        SQLiteDatabase db = SQLiteDatabase.openDatabase(Environment.getExternalStorageDirectory() + \"/ayahinfo_800.db\", null, SQLiteDatabase.OPEN_READONLY);\n        Cursor cursor = null;\n\n        while (tmpAya &lt; Database.AyatNumberInSura[suraIndex]) {\n            cursor = db.rawQuery(\"SELECT MIN(line_number) FROM glyphs WHERE(sura_number=\" + Integer.toString(suraIndex + 1) + \" AND ayah_number=\" + Integer.toString(tmpAya) + \")\",\n                    null);\n            cursor.moveToFirst();\n            tmpLineMin = cursor.getInt(0);\n\n            cursor = db.rawQuery(\"SELECT MAX(line_number) FROM glyphs WHERE(sura_number=\" + Integer.toString(suraIndex + 1) + \" AND ayah_number=\" + Integer.toString(tmpAya) + \")\",\n                    null);\n            cursor.moveToFirst();\n            tmpLineMax = cursor.getInt(0);\n\n\n            for (int i = tmpLineMin; i &lt;= tmpLineMax; i++) {\n                cursor = db.rawQuery(\"SELECT MAX(max_x) FROM glyphs WHERE (sura_number=\" + Integer.toString(suraIndex + 1) + \" AND ayah_number=\" + Integer.toString(tmpAya)\n                        + \" AND line_number=\" + Integer.toString(i) + \")\", null);\n                cursor.moveToFirst();\n                maxRight = cursor.getInt(0);\n\n                cursor = db.rawQuery(\"SELECT MIN(min_x) FROM glyphs WHERE (sura_number=\" + Integer.toString(suraIndex + 1) + \" AND ayah_number=\" + Integer.toString(tmpAya)\n                        + \" AND line_number=\" + Integer.toString(i) + \")\", null);\n                cursor.moveToFirst();\n                maxLeft = cursor.getInt(0);\n\n                cursor = db.rawQuery(\"SELECT MAX(max_y) FROM glyphs WHERE (sura_number=\" + Integer.toString(suraIndex + 1) + \" AND ayah_number=\" + Integer.toString(tmpAya)\n                        + \" AND line_number=\" + Integer.toString(i) + \")\", null);\n                cursor.moveToFirst();\n                maxBottom = cursor.getInt(0);\n\n                cursor = db.rawQuery(\"SELECT MIN(min_y) FROM glyphs WHERE (sura_number=\" + Integer.toString(suraIndex + 1) + \" AND ayah_number=\" + Integer.toString(tmpAya)\n                        + \" AND line_number=\" + Integer.toString(i) + \")\", null);\n                cursor.moveToFirst();\n                maxTop = cursor.getInt(0);\n\n\n\n                ayaRowsHighlight.add(new AyaShape(maxLeft, maxRight, maxTop, maxBottom));\n            }\n\n            ayaShapes.add(ayaRowsHighlight);\n            ayaRowsHighlight.clear();\n            tmpAya++;\n\n        }\n\n\n\n\n\n        cursor.close();\n        db.close();\n\n    }\n</code></pre>\n\n<p>What could be the parts of this code that is making it take so long?<br>\nShould I write here the purpose of this code?</p>\n"},{"tags":["sqlite","blackberry"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":39,"score":1,"question_id":12375065,"title":"Blackberry DatabaseOutOfMemoryException with SQLite","body":"<p>I'm getting the following error:</p>\n\n<pre><code>net.rim.device.api.database.DatabaseOutOfMemoryException\n</code></pre>\n\n<p>When trying to update my DB. It seems to happen at random points in the code (of course these are always points where I interact with the DB).</p>\n\n<p>What does this error mean and how can I prevent this from happening??</p>\n\n<p>By the way, I use transactions when using <code>INSERT</code> and <code>UPDATE</code> to speed things up.</p>\n\n<p>Any help at all would be greatly appreciated!</p>\n\n<p>Thanks!!</p>\n"},{"tags":["android","sqlite","concatenation","transpose","delimited"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":51,"score":1,"question_id":12372947,"title":"SQLite Transform Columns to Comma Delimited String","body":"<p>I have a table with rows of data and need to create a comma delimited string for all the rows for a column.  Can this be achieved just using the the SELECT statement in SQLite or I have to get the data into Cursor and build the string by iterating through it?</p>\n\n<p>For Example:</p>\n\n<pre><code>UserId\n1df4181d-6c52-4aa3-926f-2dacb0a68c70\n1df4181d-6c52-4aa3-926f-2dacb0a68c71\n1df4181d-6c52-4aa3-926f-2dacb0a68c72\n1df4181d-6c52-4aa3-926f-2dacb0a68c73\n1df4181d-6c52-4aa3-926f-2dacb0a68c74\n1df4181d-6c52-4aa3-926f-2dacb0a68c75\n</code></pre>\n\n<p>into </p>\n\n<pre><code>1df4181d-6c52-4aa3-926f-2dacb0a68c70,1df4181d-6c52-4aa3-926f-2dacb0a68c71,1df4181d-6c52-4aa3-926f-2dacb0a68c72,1df4181d-6c52-4aa3-926f-2dacb0a68c73,1df4181d-6c52-4aa3-926f-2dacb0a68c74,1df4181d-6c52-4aa3-926f-2dacb0a68c75\n</code></pre>\n\n<p>Any suggestions would be greatly appreciated. </p>\n"},{"tags":["mysql","sql","database","query","sqlite"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":3,"view_count":51,"score":-3,"question_id":12372282,"title":"Don't show duplicated rows SQLITE","body":"<p><strong>I have a query like:</strong>  </p>\n\n<pre><code>SELECT coc.title, inc.name FROM cocktail coc, ingredients inc WHERE coc.id = 1...  \n</code></pre>\n\n<p>This query is just an short example</p>\n\n<p><strong>And the result is:</strong><br>\nTitle: Cuba Libre, Ingredient Name: Cola<br>\nTitle: Cuba Libre, Ingredient Name: Rum<br>\nTitle: Cuba Libre, Ingredient Name: Limette<br>\n<em>I get 3 times the title because this cocktail has 3 incredients.<br>\nIf I use the result set like this I get 3 times the title as the headline.</em></p>\n\n<p><strong>But I want:</strong><br>\nTitle: Cuba Libre, Ingredient Name: Cola<br>\nIngredient Name: Rum<br>\nIngredient Name: Lime<br>\n<em>I would like to have just one time the title and all ingredients in my result set.</em>  </p>\n\n<p>I there any possibility to do this in one query or do I have to execute another request afterwards just for the ingredients?</p>\n"},{"tags":["mysql","sql","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":62,"score":0,"question_id":12345482,"title":"How to write query to retreive last update rows from SQLite/ MySQL?","body":"<p>I have a table <code>chat</code>.<br>\nThe column are <code>\"id\", \"sender\", \"message\", \"time\", \"sender_email\"</code>.\nSome chat history which inserted into <code>chat</code> like:  </p>\n\n<pre><code>1 John hihi 10:45 john@email.com\n2 John hihi 10:46 john@email.com\n3 Peter hihi 10:47 peter@email.com\n4 John hihi 10:48 john@email.com\n5 John hihi 10:49 john@email.com\n6 John hihi 10:50 john@email.com\n7 Mary hihi 10:51 mary@email.com\n8 John hihi 10:52 john@email.com\n9 Peter hihi 10:53 peter@email.com\n10 John hihi 10:54 john@email.com\n</code></pre>\n\n<p>I would like to get the last message from people who appeared in the table.<br>\nIf there is one who appear in the table many time, just get his last message.<br>\nSo the result I would like to get should be:  </p>\n\n<pre><code>10 John hihi 10:54 john@email.com\n9 Peter hihi 10:53 peter@email.com\n7 Mary hihi 10:51 mary@email.com\n</code></pre>\n\n<p>Is it possible to do so??<br>\nSo far, I just write a sql:  </p>\n\n<pre><code>SELECT DISTINCT name from chat ORDER BY id DESC\n</code></pre>\n\n<p>But seems it cannot display what I want.\nAny solution?</p>\n"},{"tags":["android","database","sqlite","android-sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":100,"score":1,"question_id":12371315,"title":"opening a preloaded sqlite db file","body":"<p>I think i'm about ready to jump off a cliff. I've been trying to make preloaded sqlite databases to for bulk inserting purposes. No matter what my db files never open and the app crashes. finally i've tried to use the most idiot-proof method here, and i still come up short: <a href=\"https://github.com/jgilfelt/android-sqlite-asset-helper\" rel=\"nofollow\">https://github.com/jgilfelt/android-sqlite-asset-helper</a></p>\n\n<p>Here's the pertaining logcat:</p>\n\n<pre><code>09-11 13:41:34.359: I/Database(2913): sqlite returned: error code = 14, msg = cannot open file at source line 25467\n09-11 13:41:34.359: E/Database(2913): sqlite3_open_v2(\"/data/data/com.anthonyce.mcathomie/databases/northwind\", &amp;handle, 2, NULL) failed\n09-11 13:41:34.369: W/SQLiteAssetHelper(2913): could not open database northwind - unable to open database file\n09-11 13:41:34.369: W/SQLiteAssetHelper(2913): copying database from assets...\n09-11 13:41:34.369: W/SQLiteAssetHelper(2913): extracting file: 'Northwind-v1.db'...\n09-11 13:41:34.779: W/SQLiteAssetHelper(2913): database copy complete\n09-11 13:41:34.869: I/SQLiteAssetHelper(2913): successfully opened database northwind\n09-11 13:41:34.889: D/AndroidRuntime(2913): Shutting down VM\n09-11 13:41:34.889: W/dalvikvm(2913): threadid=1: thread exiting with uncaught exception (group=0x40015560)\n09-11 13:41:34.910: E/AndroidRuntime(2913): FATAL EXCEPTION: main\n09-11 13:41:34.910: E/AndroidRuntime(2913): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.anthonyce.mcathomie/com.anthonyce.mcathomie.GameActivity}: java.lang.ClassCastException: android.database.sqlite.SQLiteCursor\n09-11 13:41:34.910: E/AndroidRuntime(2913):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1647)\n09-11 13:41:34.910: E/AndroidRuntime(2913):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1663)\n09-11 13:41:34.910: E/AndroidRuntime(2913):     at android.app.ActivityThread.access$1500(ActivityThread.java:117)\n09-11 13:41:34.910: E/AndroidRuntime(2913):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:931)\n09-11 13:41:34.910: E/AndroidRuntime(2913):     at android.os.Handler.dispatchMessage(Handler.java:99)\n09-11 13:41:34.910: E/AndroidRuntime(2913):     at android.os.Looper.loop(Looper.java:123)\n09-11 13:41:34.910: E/AndroidRuntime(2913):     at android.app.ActivityThread.main(ActivityThread.java:3683)\n09-11 13:41:34.910: E/AndroidRuntime(2913):     at java.lang.reflect.Method.invokeNative(Native Method)\n09-11 13:41:34.910: E/AndroidRuntime(2913):     at java.lang.reflect.Method.invoke(Method.java:507)\n09-11 13:41:34.910: E/AndroidRuntime(2913):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)\n09-11 13:41:34.910: E/AndroidRuntime(2913):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)\n09-11 13:41:34.910: E/AndroidRuntime(2913):     at dalvik.system.NativeStart.main(Native Method)\n09-11 13:41:34.910: E/AndroidRuntime(2913): Caused by: java.lang.ClassCastException: android.database.sqlite.SQLiteCursor\n09-11 13:41:34.910: E/AndroidRuntime(2913):     at com.anthonyce.mcathomie.GameActivity.onCreate(GameActivity.java:25)\n09-11 13:41:34.910: E/AndroidRuntime(2913):     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)\n09-11 13:41:34.910: E/AndroidRuntime(2913):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1611)\n09-11 13:41:34.910: E/AndroidRuntime(2913):     ... 11 more\n</code></pre>\n\n<p>The code. i kid you not, I am using the same exact example file. I have been brought to my knees copying the sample step by step and i still get these fustrating errors.</p>\n\n<pre><code>public class McatDatabase extends SQLiteAssetHelper{\n\nprivate static final String DB_NAME = \"northwind\";\nprivate static final int DB_VERSION = 1;\nprivate static final String[] COLUMNS = {\"LastName\"};\nprivate static final String TABLE_NAME = \"Employees\";\n\npublic McatDatabase(Context context) {\n    super(context, DB_NAME, null, DB_VERSION);\n}\n\npublic Cursor getQuestions() {\nSQLiteDatabase db = getReadableDatabase();\nCursor c = db.query(TABLE_NAME, COLUMNS, null, null, null, null, null);\nc.moveToFirst();\nreturn c;\n}\n</code></pre>\n\n<h2>    }</h2>\n\n<p>In another class:</p>\n\n<pre><code>public class GameActivity extends Activity {\n\n    private McatDatabase db;\n    private Cursor thequestions;\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        // TODO Auto-generated method stub\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_game);\n\n        db = new McatDatabase(this);\n        thequestions = db.getQuestions();\n\n        TextView tv = (TextView)findViewById(R.id.TextView1);\n        tv.setText((CharSequence) thequestions);\n        thequestions.close();\n        db.close();\n    }\n\n}\n</code></pre>\n"},{"tags":["python","sqlite","full-text-search","fts3","fts4"],"answer_count":3,"favorite_count":2,"up_vote_count":4,"down_vote_count":0,"view_count":817,"score":4,"question_id":3823659,"title":"How to setup FTS3/FTS4 with python2.7 on Windows","body":"<p>FTS3/FTS4 doesn't work in python by default (up to 2.7). I get the error: <pre>sqlite3.OperationalError: no such module: fts3</pre>\nor</p>\n\n<pre>sqlite3.OperationalError: no such module: fts4</pre>\n\n<p>How can this be resolved?</p>\n"},{"tags":["iphone","objective-c","sqlite","csv"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":95,"score":0,"question_id":12370219,"title":"covert sqlite database in to csv format? and then mail this csv file in iPhone Objective C","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/12345690/how-to-share-all-the-data-i-have-stored-using-sqlite-database-between-two-device\">How to share all the data i have stored using sqlite database between two devices to reuse the data by dumping in another device</a>  </p>\n</blockquote>\n\n\n\n<p>I want to <strong>import a sqlite Database and save it as a CSV file</strong> and <strong><code>then mail this file via email.</code></strong></p>\n\n<p>can i import <strong>sqlite in to csv</strong> format in iphone app programmatically to attach in mail composer</p>\n\n<hr>\n\n<p>i used following functio to get the data base file</p>\n\n<pre><code>+(NSString*)getSqliteDBFile\n{\n      NSString *docsDirectoryPath;\n      NSArray *dirPaths;\n      NSString *databasePath;\n      NSFileManager *fileManager = [NSFileManager defaultManager];\n\n      // Get the documents directory\n      dirPaths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);\n\n      docsDirectoryPath = [dirPaths objectAtIndex:0];\n      NSLog(@\"path :%@\", docsDirectoryPath);\n\n      // Build the path to the database file\n      databasePath = [[NSString alloc] initWithString: [docsDirectoryPath stringByAppendingPathComponent: @\"LeadGenDB.sqlite\"]];\n      NSLog(@\"path :%@\", databasePath);\n\n\n      return databasePath;\n}\n</code></pre>\n\n<p>Now I nees to convert sqlite file to csv file</p>\n"},{"tags":["android","sqlite","dbms"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":119,"score":0,"question_id":12369879,"title":"android dictionary application with offline database","body":"<p>I want to develop an android English dictionary application that uses only an offline database. By that, I mean to say that it doesn't have to be redirected to online dictionary like WordWeb or the like. Does anybody know what should I do to store my words? I'm thinking of using SQLite since it's mobile. But if anyone here already has done or did something what I want to do, can you give me some expert suggestions? </p>\n"},{"tags":["android","database","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":12368072,"title":"table AndroidGameMode has no column named PlayerPoints","body":"<p>In my database i have the table AndroidGameMode but when i try to insert some data into the table i get this error that says that one of my columns doesn't exist</p>\n\n<pre><code>    package com.example.jogodogalo.jogador1;\n\nimport java.util.ArrayList;\n\nimport android.content.ContentValues;\nimport android.content.Context;\nimport android.database.Cursor;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.database.sqlite.SQLiteOpenHelper;\n\npublic class DataBaseHandler extends SQLiteOpenHelper {\n\nprivate static final int DATABASE_VERSION = 1;\n\n    private static final String DATABASE_NAME = \"JogoDoGaloDB\";\n\n    private static final String TABLE_RESULTS = \"AndroidGameMode\";\n\n    private static final String KEY_ID = \"PlayerID\";\n    private static final String KEY_PLAYER = \"PlayerName\";\n    private static final String KEY_WINS = \"PlayerWins\";\n    private static final String KEY_TIES = \"PlayerTies\";\n    private static final String KEY_LOSSES = \"PlayerLosses\";\n    private static final String KEY_POINTS = \"PlayerPoints\";\n\n    public DataBaseHandler(Context context) {\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        String CREATE_RESULTS_TABLE = \"CREATE TABLE \" + TABLE_RESULTS +\"(\"\n                + KEY_ID + \" INTEGER PRIMARY KEY,\"\n                + KEY_PLAYER + \" TEXT,\"\n                + KEY_WINS + \" INTEGER,\"\n                + KEY_TIES + \" INTEGER,\" \n                + KEY_LOSSES + \" INTEGER,\" \n                + KEY_POINTS + \"INTEGER\" + \")\";\n        db.execSQL(CREATE_RESULTS_TABLE);\n    }\n\n        @Override\n        public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n            //\"Mata\" a outra tabela se existir\n            db.execSQL(\"DROP TABLE IF EXISTS \" + TABLE_RESULTS);\n\n            //cria as tabelas de novo\n            onCreate(db);\n        }\n        //podes ir po logcat e marcar aquele erro ? marcar erro?\n\n        public void addResults(Results results){\n            SQLiteDatabase db = this.getWritableDatabase();\n\n            ContentValues values = new ContentValues();\n            values.put(KEY_PLAYER, results.getName());\n            values.put(KEY_WINS, results.getWins());\n            values.put(KEY_TIES, results.getTies());\n            values.put(KEY_LOSSES, results.getLosses());\n            values.put(KEY_POINTS, results.getPoints());\n            //Pede ajuda daquele gajo ok? Dizes que inseres mas nao aparece nada e mostras as funçoes... dizes que nao e preciso nem editar nem apagar ok\n            db.insert(TABLE_RESULTS, null,values);\n            db.close();\n        }\n\n        public float getSumPoints() {\n            float result = 0;\n            SQLiteDatabase db = this.getWritableDatabase();\n\n            Cursor c = db.query(TABLE_RESULTS, \n              new String[] { \"sum(\" + KEY_POINTS + \")\" },\n              null, null, null, null, null);\n            if (c.moveToFirst()) {\n                result = c.getLong(0);\n            }\n            c.close();\n            return result;\n        }\n\n        public Results getResults(int id){\n            SQLiteDatabase db = this.getReadableDatabase();\n\n            Cursor cursor = db.query(TABLE_RESULTS, new String[]{KEY_ID, KEY_PLAYER,\n                    KEY_WINS, KEY_TIES, KEY_LOSSES, KEY_POINTS}, KEY_ID + \"=?\", new String[] {String.valueOf(id)}, \n                null, null, null, null);\n\n            if (cursor != null) cursor.moveToFirst();\n\n            Results Result = new Results(Integer.parseInt(cursor.getString(0)), \n                        cursor.getString(1), \n                        Integer.parseInt(cursor.getString(2)),\n                        Integer.parseInt(cursor.getString(3)),\n                        Integer.parseInt(cursor.getString(4)), \n                        Integer.parseInt(cursor.getString(5)));         \n\n                return Result;\n        }\n\n\n\n        public ArrayList&lt;Results&gt; getAllResults(){\n            ArrayList&lt;Results&gt; ResultsList = new ArrayList&lt;Results&gt;();\n\n            SQLiteDatabase db = this.getWritableDatabase();\n\n            Cursor cursor = db.query(TABLE_RESULTS, null, null, null, null, null, null); \n\n            if(cursor.moveToFirst()){\n                do{\n                    Results Result = new Results();\n                    Result.setID(Integer.parseInt(cursor.getString(0)));\n                    Result.setName(cursor.getString(1));\n                    Result.setWins(Integer.parseInt(cursor.getString(2)));\n                    Result.setTies(Integer.parseInt(cursor.getString(3)));\n                    Result.setLosses(Integer.parseInt(cursor.getString(4)));\n                    Result.setPoints(Integer.parseInt(cursor.getString(5)));\n\n                    ResultsList.add(Result);\n                }while(cursor.moveToNext());\n            }\n            return ResultsList;\n        }\n\n}\n</code></pre>\n\n<p>that is my databaseHandler class</p>\n\n<p>and this one is my ResultsClass</p>\n\n<pre><code>package com.example.jogodogalo.jogador1;\n\npublic class Results {\n\n    int _id;\n    String _name;\n    int _wins;\n    int _ties;\n    int _losses;\n    int _points;\n\n    public Results(){\n\n    }\n\n    public Results (int id, String name, int wins, int ties, int losses, int points){\n        this._id = id;\n        this._name = name;\n        this._wins = wins;\n        this._losses = losses;\n        this._ties = ties;\n        this._points=points;\n    }\n\n    public Results (String name, int wins, int ties, int losses, int points){\n        this._name = name;\n        this._wins = wins;\n        this._ties = ties;\n        this._losses = losses;\n        this._points = points;\n    }\n\n    public Results(int points){\n        this._points = points;\n    }\n\n    public int getID(){\n        return this._id;\n    }\n\n    public void setID(int id){\n        this._id = id;\n    }\n\n    public String getName(){\n        return this._name;\n    }\n\n    public void setName(String name){\n        this._name = name;\n    }\n\n    public int getWins(){\n        return this._wins;\n    }\n\n    public void setWins(int wins){\n        this._wins = wins;\n    }\n\n    public int getTies(){\n        return this._ties;\n    }\n\n    public void setTies(int ties){\n        this._ties = ties;\n    }\n\n    public int getLosses(){\n        return this._losses;\n    }\n\n    public void setLosses(int losses){\n        this._losses = losses;\n    }\n\n    public int getPoints(){\n        return this._points;\n    }\n    //ta mal, quando se faz um set tu nao retornas nada\n    public void setPoints(int points){\n        this._points = points;\n    }\n\n    @Override\n    public String toString() {\n        return this.getName();\n    }\n\n}\n</code></pre>\n\n<p>My insert code </p>\n\n<pre><code> public void onClick(DialogInterface dialog, int whichButton) {             \n\n                    String name = mPlayerName.getText().toString();\n\n                    String win = mPlayerCount.getText().toString();\n                    int wins_jogador1 = Integer.parseInt(win);\n\n                    String ties = mTieCount.getText().toString();\n                    int ties_jogador1 = Integer.parseInt(ties);\n\n                    String losses = mAndroidCount.getText().toString();\n                    int losses_jogador1 = Integer.parseInt(losses);\n\n                    String pontuacao = mPointsCount.getText().toString();\n                    int pontuaçao_jogador1 = Integer.parseInt(pontuacao);\n\n                    if(pontuaçao_jogador1 == 0){\n                        Toast myToast = Toast.makeText(getApplicationContext(), \"Não tem qualquer pontuação. \\nNão é possível guardar.\",\n                                Toast.LENGTH_LONG);\n                    myToast.setGravity(Gravity.CENTER_HORIZONTAL|Gravity.CENTER_VERTICAL, 0, 100);\n                    myToast.setDuration(3000);\n                    myToast.show();\n\n                    }else if(pontuaçao_jogador1 != 0){\n\n                    DataBaseHandler db  = new DataBaseHandler(getApplicationContext());\n                    Results theResultados = new Results(name, wins_jogador1, ties_jogador1, losses_jogador1, pontuaçao_jogador1);\n\n                    db.addResults(theResultados);\n                    //que estranho :S ele teima com o playerPoints nao sei porque diz que a cioluna nao existe\n\n                    Intent intent = new Intent(JogoDoGalo.this, MainMenu.class);\n                    JogoDoGalo.this.startActivity(intent);\n</code></pre>\n"},{"tags":["objective-c","sqlite","boolean"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":42,"score":0,"question_id":12368350,"title":"Bool value '\\x06' instead of default value 'YES'","body":"<p>Execute the Sqlite library am caught a BOOL value as  '\\x06' instead of 'YES' after 4 or 5 steps BOOl value will be '\\0'..what is the problem of this BOOL value? </p>\n\n<pre><code>BOOL success;//success value is '\\x06'\nNSLog(@\"success:%c\",success);\n\n//If the database is present then quit.\nif(success)\n{\n    [self OpenDB:databasePath];\n    return;\n}\n\n//the database does not exists, so we will copy it to the users document directory]\n\n//Copy the database file to the users document directory.\nsuccess = [FileManager copyItemAtPath:dbPath toPath:databasePath error:&amp;error];//  this place success value is '\\0'\n\n//If the above operation is not a success then display a message.\n//Error message can be seen in the debugger's console window.\nif(success)//\n    NSAssert1(0, @\"Failed to copy the database. Error: %@.\", [error localizedDescription]);\n[self OpenDB:databasePath];\n\nAm checking success only....\n</code></pre>\n\n<p>NSLOG output is success: </p>\n"},{"tags":["android","query","sqlite","max"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":85,"score":0,"question_id":12356568,"title":"GET MAX ID ROW OF A TABLE","body":"<p>My question is about how get the max id row of a table... I'm using max function but give me a error</p>\n\n<p><img src=\"http://i.stack.imgur.com/E9JR4.png\" alt=\"enter image description here\"></p>\n\n<p>Here is my code</p>\n\n<pre><code>     public static long getLastIdQuotaAdded(Context context){\n    long id;\n    Cursor cursor;\n    String selection = null;\n    String[] selectionArgs = null;\n\n    selection = \"MAX(\" + C_ID + \")\";\n\n    cursor=context.getContentResolver().query(URI, ALL_COLUMNS, selection, selectionArgs, null);\n    id = cursor.getLong(cursor.getColumnIndex(C_ID));\n    return id;\n}\n</code></pre>\n\n<p>Thank you for yout help... :)</p>\n"},{"tags":["android","performance","query","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":43,"score":1,"question_id":12368381,"title":"Query large table and do logic in code OR do a lot of queries.. Which one is more efficient?","body":"<p>I have a very large table with ~90000 row, each row containing 10 columns.. I need to get some data from the Database.. In the worst case, I need to query 7500 row, but often its around ~4000 rows.. </p>\n\n<p>Each row has a column called \"LineNumber\", and each ~10 rows have the same LineNumber, which starts from 1...<br>\nFor all the rows that have the same LineNumber, I need to get the Lowest and Highest numbers from a column called RATING..</p>\n\n<p>I can get all those ~4000 rows, and then pass on each one of those lines and do some logic to get the highest or lowest..<br>\nOR I can query for each LineNumber I'm interested in and have the query get me the highest and lowest, which will be easier..</p>\n\n<p>Which one of these 2 ways is more efficient?</p>\n"},{"tags":["sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":12367604,"title":"SQLite .tables command - disable column output format","body":"<p>When I execute <code>sqlite database.db .tables</code> command, it returns list of tables in the following format:</p>\n\n<pre><code>table1   table2     table3                \ntable4   table4     table6\n</code></pre>\n\n<p>I would like to switch it to:</p>\n\n<pre><code>table1\ntable2\ntable3\n</code></pre>\n\n<p>How can I change it?</p>\n"},{"tags":["database","sqlite","symfony2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":70,"score":0,"question_id":12367396,"title":"How to configured symfony2 with sqlite","body":"<p>I am working on my test application in symfony2 with sqlite.\n    I have install symfony2 and trying to setup with sqlite, I have create 'data' folder under 'src/test' test namespaces, but when I run command</p>\n\n<blockquote>\n  <p>app/console doctrine:database:create \n      Its giving error :\n      Could not create database for connection named data/ak.db\n      SQLSTATE[HY000] [14] unable to open database file</p>\n</blockquote>\n\n<pre><code>My Parameter.yml settings are :\nparameters:\n    database_driver: pdo_sqlite\n    database_host: localhost\n    database_port: null\n    database_name: ak.db\n    database_user: root\n    database_password: null\n    mailer_transport: smtp\n    mailer_host: localhost\n    mailer_user: null\n    mailer_password: null\n    locale: en\n    secret: b4289c0b750d5c5b573788d79c4e1d130380ff7d\n    database_path: data/ak.db\n\nand config.yml :\n# Doctrine Configuration\ndoctrine:\n    dbal:\n        driver:   %database_driver%\n        host:     %database_host%\n        port:     %database_port%\n        dbname:   %database_name%\n        user:     %database_user%\n        password: %database_password%\n        path:     %database_path%\n        charset:  UTF8\n\nWill you please help me out.\nThanks a ton in advance.\n</code></pre>\n"},{"tags":["java","android","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":12266197,"title":"SQLIte Cursor - finalising on null that has not been deactivated or closed Exception","body":"<p>before you ask I have looked around for a solution to my problem and I can't work it out myself, hence coming to you guys.</p>\n\n<p><strong>THE PROBLEM</strong> </p>\n\n<p>I have an uncaught exception  problem with my cursor and I cannot work it out....</p>\n\n<p><strong>ERROR</strong></p>\n\n<pre><code>09-04 15:48:38.863: I/dalvikvm(1421): Uncaught exception thrown by finalizer (will be discarded):\n09-04 15:48:38.863: I/dalvikvm(1421): Ljava/lang/IllegalStateException;: Finalizing cursor android.database.sqlite.SQLiteCursor@44ef6598 on null that has not been deactivated or closed\n09-04 15:48:38.863: I/dalvikvm(1421):   at android.database.sqlite.SQLiteCursor.finalize(SQLiteCursor.java:596)\n09-04 15:48:38.873: I/dalvikvm(1421):   at dalvik.system.NativeStart.run(Native Method)\n</code></pre>\n\n<p><strong>CODE THAT ITS COMPLAINING ABOUT</strong></p>\n\n<pre><code>public CCTrackLocation getTrackLocationForID(int id) {\n        CCTrackLocation trackLocation = new CCTrackLocation();\n\n        String selectQuery = \"SELECT * FROM \"+TABLE_TRACK_LOCATION+\" WHERE \\\"id\\\" = \"+ String.valueOf(id);\n\n        SQLiteDatabase db = this.getReadableDatabase();\n        Cursor cursor = db.rawQuery(selectQuery,null);\n        if (cursor.moveToFirst()) {\n            do {\n                trackLocation.setID(cursor.getInt(0));\n                trackLocation.segmentID = cursor.getInt(1);\n                trackLocation.timestamp = cursor.getDouble(2);\n                trackLocation.latitude = cursor.getDouble(3);\n                trackLocation.longitude = cursor.getDouble(4);\n                trackLocation.altitude = cursor.getDouble(5);\n                trackLocation.velocity = cursor.getDouble(6);\n                trackLocation.heading = cursor.getDouble(7);\n                trackLocation.haccuracy = cursor.getDouble(8);\n                trackLocation.vaccuracy = cursor.getDouble(9);\n            }while(cursor.moveToNext());\n        }\n\n        cursor.close();\n        db.close();\n\n        return trackLocation;\n    }\n</code></pre>\n\n<p>Any help would be hugely appreciated.</p>\n"},{"tags":["sqlite","insert","replace","index"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":70,"score":0,"question_id":12366632,"title":"SQLite: how does REPLACE INTO determine if a row exists?","body":"<p>I found <a href=\"http://stackoverflow.com/questions/2251699/sqlite-insert-or-replace-into-vs-update-where\">this post</a> explaining the difference between UPDATE and \"INSERT OR REPLACE INTO\". It explains that</p>\n\n<pre><code>INSERT OR REPLACE INTO names (id, name) VALUES (1, \"John\")\n</code></pre>\n\n<p>will insert a new row if no record with id =1 exists, and will replace the row with id = 1 if it does exist. My question is: how does SQLite know or decide that 'id' is the field whose values determine if records already exist or not?</p>\n\n<p>In other words, why wouldn't sqlite search for a record with name = \"John\" and replace the id value? Does this depend on an index that's not being talked about in the above example, or does SQLite give special treatment to fields named 'id' or fields named first in a row of field names?</p>\n"},{"tags":["android","multithreading","sqlite","rotation","android-asynctask"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12358003,"title":"Android: Update the SQLiteOpenHelper's context property after device rotation","body":"<p>I'm trying to put some time-consumed database operations into the background thread with the help of <code>AsyncTask</code>. In order to handle the possible device rotation, I save my <code>AsyncTask</code> instance in <code>onRetainNonConfigurationInstance()</code> and reuse them in <code>onCreate()</code>. So far so good...</p>\n\n<p>However since the Activity is recreated after device rotation, I must update all <code>Activity</code> references in my <code>AsyncTask</code> to the new created one. The problem is that, the <code>SQLiteOpenHelper</code> inside the <code>AsyncTask</code> also has a context instance which is passed through its constructor and I just passed the old <code>Activity</code> instance before, now how can I update it to the new <code>Activity</code>?</p>\n\n<p>I have tested, It seems work even I don't update the context of <code>SQLiteOpenHelper</code>. But I'm still not sure if it is OK.</p>\n\n<p>Thanks</p>\n"},{"tags":["jquery","html5","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":12349647,"title":"How to return total entries found from html5 database?","body":"<p>Hi I am trying to return the length of no. of rows found in the database but i am getting undefined. Is their any other way I can return since I am a bit new to jquery.</p>\n\n<pre><code>var add_access_db = {\"add_access\" : function(id, table)                                             //get id of equipment \n    {    \n            db.transaction(function (tx) { \n\n            tx.executeSql('SELECT * FROM '+ table +' WHERE id=? AND Access=?', [id,\"0\"],            //Check access (table is the table name passed though variable)\n            function (tx, results) {\n            var len = results.rows.length, i;                                                       //Get row length for access\n            return len;\n\n            });\n        });\n    }\n}\n</code></pre>\n\n<p>and i am calling it through</p>\n\n<pre><code>function checkDetails(){\n    var len=add_access_db.add_access(id, table);            //check access\n    alert(len);\n}\n</code></pre>\n\n<p>What am I doing wrong in here? if i insert <code>return</code> at the start of the functions it returns value.</p>\n"},{"tags":["java","android","sqlite","cursor"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":104,"score":0,"question_id":11980099,"title":"Sqllite query returns cursor with 0 rows","body":"<p>I am trying to retrieve data using query from the sqlite database that was previously populated..but for some reason the query returnscursor with no rows..</p>\n\n<p>So here is the portion where I tried to retrieve data:      </p>\n\n<pre><code>        database.open();\n    Cursor cursor = database.getComponentData(\"CONTROLS\", null, null);\n\n    int test = cursor.getCount();//This is the part where i test throught the eclipse debugger whelther there is  any rows return\n    cursor.moveToFirst();\n    while (!cursor.isAfterLast()) {\n\n        get.append(\"Video controls : \"+cursor.getString(1)+\" Audio Controls : \"+cursor.getString(2)+\" Reader controls : \"+cursor.getString(3));\n        cursor.moveToNext();\n    }\n    cursor.close();\n    Cursor cursor1 = database.getComponentData(\"LIST\", new String[]{\"'URL'\"},\"AUDIO\");\n\n    get.append(\"Video list : \");\n        cursor1.moveToFirst();\n    while (!cursor1.isAfterLast()) {\n\n        get.append(\" \"+cursor1.getString(1)+\" \"+cursor1.getString(2)+\" \"+cursor1.getString(3));\n        cursor1.moveToNext();\n\n    }\n    cursor1.close();\n    database.close();\n</code></pre>\n\n<p>And here is the portion in the database adapter where I queried.</p>\n\n<pre><code>public Cursor getComponentData(String whichTable,String[] whichColumn,String whichSection) {\n    Cursor c = null;\n    if(whichSection!=null) \n    {   \n        return database.query(whichTable, whichColumn,\"SECTION = '\"+whichSection+\"'\",null, null, null, null);\n    }\n    else{\n        return database.query(whichTable, whichColumn,null,null, null, null, null);\n    }\n\n}\n</code></pre>\n\n<p>This is the portion where i insert into the database previously:</p>\n\n<pre><code>                 database.open();\n               ContentValues control = new ContentValues();\n               control.put(\"VIDEO_CONTROLS\",video_control);\n               control.put(\"AUDIO_CONTROLS\",audio_control);\n               control.put(\"READER_CONTROLS\",book_control);\n\n               control_long =database.insertNewControl(control);\n\n               ContentValues temp_list = new ContentValues();\n\n                a_p=audio_playlist.split(\",\");\n                v_p=video_playlist.split(\",\");\n                b_p=booklist.split(\",\");\n               for(int i =0;i&lt;a_p.length;i++){\n                   temp_list.put(\"NAME\", \"test\");\n                   temp_list.put(\"URL\", a_p[i]);\n                   temp_list.put(\"SECTION\", \"AUDIO\");\n\n                list_long=   database.insertNewListRow(temp_list);\n\n               }\n               for(int i =0;i&lt;v_p.length;i++){\n                  temp_list.put(\"NAME\", \"test\");\n                   temp_list.put(\"URL\", v_p[i]);\n                   temp_list.put(\"SECTION\", \"VIDEO\");\n                   list_long=    database.insertNewListRow(temp_list);\n\n                   }\n               for(int i =0;i&lt;b_p.length;i++){\n                 temp_list.put(\"NAME\", \"test\");\n                   temp_list.put(\"URL\", b_p[i]);\n                   temp_list.put(\"SECTION\", \"READER\");\n                   list_long=   database.insertNewListRow(temp_list);\n\n                   }\n                database.close();\n</code></pre>\n\n<p>Insert Methods in the Adapter:</p>\n\n<pre><code>    public Long insertNewControl(ContentValues controls_values) {\nreturn database.insert(\"CONTROLS\", null, controls_values);  \n}\npublic Long insertNewListRow(ContentValues list_values){\nreturn database.insert(\"LIST\", null, list_values);  \n}\n</code></pre>\n\n<p>Thanks for reading.</p>\n\n<p><strong>Edit :</strong>\nForgotten to mention this, If i were to query() from the database right after I have inserted these rows, i would be able to get rows out.But I were to query for these rows after I close() and open() again, cursor returns no rows.</p>\n"},{"tags":["android","sqlite","listview","row","sharedpreferences"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":12345562,"title":"listview row loaded with sqlite data as well as data from other strings","body":"<p>I am tring to find the right way to go about doing this.   I'm new to programing and have spent countless hours on trying to figure this out.     I have a listview and am tring to populate each row with information from my sqlite database as well as from a sharedpreferences database. Basicly, I need information from both databases going into the same row.   Curently I have it setup to get info from sqlite but I can't figure out how to get other data into the row also.   Thank you for any feedback and insight!  </p>\n\n<pre><code> public class carsetup extends Activity {\n\n\n    someData = getSharedPreferences(counter, 0);\nString dataReturned2 = someData.getString(\"sharedString\", \"Number\");\n\n\nsomeData = getSharedPreferences(odometer, 0);\nString dataReturned3 = someData.getString(\"codometer\", \"Number2\");\n\n    w = Integer.parseInt(dataReturned2);\n\n  g = Integer.parseInt(dataReturned3);\n\n  long m = realtime;\n  int l = (int) m;\n\n  int frealtime = l/10000;\n\n  int ght = 8640/w;\n\n  int k = frealtime/ght;\n\n  int fred = g+k;\n\n\n\n\n    ListContent = (ListView)findViewById(R.id.listView1);\n\n    mySQLiteAdapter = new SQLiteAdapter(this);\n    mySQLiteAdapter.openToWrite();\n\n\n\n    cursor = mySQLiteAdapter.queueAll();\n    String[] from = new String[]{SQLiteAdapter.KEY_I, SQLiteAdapter.KEY_CONTENT1, SQLiteAdapter.KEY_CONTENT2 , SQLiteAdapter.KEY_CONTENT3};\n    int[] to = new int[]{R.id.id, R.id.text1, R.id.text3, R.id.button1};\n    cursorAdapter =\n        new SimpleCursorAdapter(this, R.layout.item, cursor, from, to);\n\n\n\n\n    ListContent.setAdapter(cursorAdapter);\n</code></pre>\n"},{"tags":["sqlite","powershell","powershell-ise"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":12358966,"title":"How to run shells like SQLite from PowerShell ISE?","body":"<p>I want to do some things with sqlite3.exe, the sqlite3 command line shell. After navigating to the directory in PowerShell ISE, I run the program with <code>.\\sqlite3.exe</code> and get the expected output from SQLite:</p>\n\n<pre><code>___________________________________________________________\nPS [path]\\SQLite shell&gt; .\\sqlite3.exe\nSQLite version 3.7.14 2012-09-03 15:42:36\nEnter \".help\" for instructions\nEnter SQL statements terminated with a \";\"\n</code></pre>\n\n<p>However, if I try typing <code>.help</code> after this, or any other command for that matter, nothing happens and the bottom taskbar says \"Already running a command. Please wait.\". Of course, there is nothing to wait for, because clearly sqlite3.exe is waiting for input from <em>me</em>.</p>\n\n<p>I cannot get PowerShell ISE to respond to any further commands after this point unless I quit SQLite with Ctrl+Break.</p>\n\n<p>What is wrong?</p>\n"},{"tags":["iphone","objective-c","sqlite","uiimageview","retrieve"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":562,"score":-1,"question_id":9258864,"title":"Store Images in SQLite database and retrieve in ios5","body":"<p>I am using SQLite 3.0 and iOS5.</p>\n\n<p>Now I want to store images in vrchar2 datatype in database and retrieve it in my iPhone's view.</p>\n\n<p>I have used images stored in BLOB data type and through NSDATA I have retrieved it..Nut now I want to retrieve it in ImageView ..</p>\n\n<p>How can I use it?</p>\n"},{"tags":["mysql","sql","sqlite","sqlite3"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":36,"score":1,"question_id":12360474,"title":"How to find the maximum number of entries in a table that have a column that satisfies a certain condition?","body":"<p>I'm not entirely sure how to phrase this question simply, so I will be taking suggestions to rename my question. I apologize in advance for how idiotic this question might seem, but I'm having one of those brain-fart moments where I just can't wrap my head around it.\nThe table I have in mind is created by:</p>\n\n<pre><code>CREATE TABLE STRUCTURES (X INT(4),Z INT(4),TYPE CHAR(1),SEED_ID BIGINT);\n</code></pre>\n\n<p>The question is, how do I find the maximum amount of entries for which TYPE='V' and SEED_ID is the same? Let's call this number MAX_TYPE_V.</p>\n\n<p>To clarify, I'm using the query:</p>\n\n<pre><code>SELECT SEED_ID \nFROM STRUCTURES \nWHERE TYPE='V' \nGROUP BY SEED_ID \nHAVING COUNT(SEED_ID)=MAX_TYPE_V;\n</code></pre>\n\n<p>but I don't know how to find MAX_TYPE_V to plug into aforementioned query, so my workaround is to try the query for MAX_TYPE_V from 1 to 2^31-1 until the query fails for some number i, which means that i-1 is my maximum, but this is very time-consuming and quite stupid, frankly.\nI'm using SQLite3, so any answers should probably tackle MySQL syntax.</p>\n"},{"tags":["python","linux","sqlite","ubuntu"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":55,"score":1,"question_id":12360279,"title":"sqlite3 command line tools don't work in Ubuntu","body":"<p>Trying to set up some basic data I/O scripts in python that read and write from a local sqlite db. I'd like to use the command line to verify that my scripts work as expected, but they don't pick up on any of the databases or tables I'm creating.</p>\n\n<p>My first script writes some data from a dict into the table, and the second script reads it and prints it.</p>\n\n<p>Write:</p>\n\n<pre># first part of script creates a dict called 'totals'\n\nimport sqlite3 as lite\n\ncon = lite.connect('test.db')\n\nwith con:\n    cur = con.cursor()\n\n    cur.execute(\"DROP TABLE IF EXISTS testtbl\")    \n\n    cur.execute(\"CREATE TABLE testtbl(Date TEXT PRIMARY KEY, Count INT, AverageServerTime REAL, TotalServerTime REAL, AverageClientTime REAL, TotalClientTime REAL)\")\n    cur.execute('INSERT INTO testtbl VALUES(\"2012-09-08\", %s, %s, %s, %s, %s)' % (float(totals['count()']), float(totals['serverTime/count()']), float(totals['serverTime']), float(totals['totalLoadTime/count()']), float(totals['totalLoadTime'])))\n</pre>\n\n<p>Read:</p>\n\n<pre>\nimport sqlite3 as lite\n\ncon = lite.connect('test.db')\n\nwith con:    \n\n    cur = con.cursor()    \n    cur.execute(\"SELECT * FROM testtbl\")\n\n    rows = cur.fetchall()\n\n    for row in rows:\n        print row\n</pre>\n\n<p>These scripts are separate and both work fine. However, if I navigate to the directory in the command line and activate sqlite3, nothing further works. I've tried '.databases', '.tables', '.schema' commands and can't get it to respond to this particular db. I can create dbs within the command line and view them, but not the ones created by my script. How do I link these up?</p>\n\n<p>Running stock Ubuntu 12.04, Python 2.7.3, SQLite 3.7.9. I also installed libsqlite3-dev but that hasn't helped.</p>\n"},{"tags":["sql","sqlite","join"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":60,"score":2,"question_id":12358046,"title":"Is there a more efficient way to write this SQL Query to remove the distinct?","body":"<p>I'm trying to select items from table A where the equivalent items in table B exist for a given constraint. There is one row per id in table A but many rows per table A row.</p>\n\n<pre><code>select distinct A.id \nfrom A inner join B on B.a_id = A.id \nwhere B.x &gt;= 5 and B.x &lt;= 10;\n</code></pre>\n\n<p>I wonder if there's a SQL join clause that I can use to ensure that I only get one row per table A row.</p>\n\n<p>As I understand it, the query will find the constraint, perform an inner join and then perform distinct on this. If this is correct, and there's a better way to instruct the database to only take distinct rows from A, I'd like to know. I'm sure there are plenty of ways that the query could be interpreted and executed within the constraints of the semantics of the query. I can't claim to understand the <code>explain</code> output.</p>\n\n<p>Is there a way to simplify this? I'm constrained to SQLite if that makes any difference.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>The constraint clause has two constraints, defined at query-time which I have now added. I tried to keep the question as simple as possible, but have added the extra clause for completeness in response to a comment.</p>\n"},{"tags":["python","sqlite","pysqlite"],"answer_count":7,"favorite_count":1,"up_vote_count":5,"down_vote_count":0,"view_count":5327,"score":5,"question_id":2740806,"title":"Python SQLite: database is locked","body":"<p>I'm trying this code:</p>\n\n<pre><code>import sqlite\n\nconnection = sqlite.connect('cache.db')\ncur = connection.cursor()\ncur.execute('''create table item\n  (id integer primary key, itemno text unique,\n        scancode text, descr text, price real)''')\n\nconnection.commit()\ncur.close()\n</code></pre>\n\n<p>I'm catching this exception:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"cache_storage.py\", line 7, in &lt;module&gt;\n    scancode text, descr text, price real)''')\n  File \"/usr/lib/python2.6/dist-packages/sqlite/main.py\", line 237, in execute\n    self.con._begin()\n  File \"/usr/lib/python2.6/dist-packages/sqlite/main.py\", line 503, in _begin\n    self.db.execute(\"BEGIN\")\n_sqlite.OperationalError: database is locked\n</code></pre>\n\n<p>Permissions for cache.db are ok. Any ideas?</p>\n"},{"tags":["linux","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":60,"score":0,"question_id":12275872,"title":"Copy SQLite database to another path","body":"<p>I am creating a sqlite database in temp folder. Now I want to copy that file to another folder. Is there any sqlite command to rename the sqlite database file?</p>\n\n<p>I tried using rename function in c++ but it returns error 18. Error no 18 means: \"The directory containing the name newname must be on the same file system as the file (as indicated by the name oldname)\".</p>\n\n<p>Can someone suggest a better way to do this.</p>\n"},{"tags":["java","android","sqlite","jdbc","android-emulator"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":69,"score":0,"question_id":6168129,"title":"android database error","body":"<p>I have created android database by SQLiteBrowser program and then import it. When i run my code it gives an unexpected error. İ have made</p>\n\n<ol>\n<li>I  open android sdk and avg meneger and lunch the emulator. </li>\n<li><p>Then I import my database into /data/data/mypackage path.</p>\n\n<p>As I read, I have to import it /data/data/mypackage/databases. But when I open the path mypackage, I can see only lib folder. So I added into /data/data/mypackage.</p></li>\n<li><p>my code part is </p>\n\n<pre><code>private static String dbName = \"mobileGuideDatabase.db\";                \nprivate static String dbPath = \"/data/data/de.Guide\" + dbName;\n\nSQLiteDatabase checkDB = null;\n\ntry {\n  checkDB = db.openDatabase(dbPath, null, SQLiteDatabase.OPEN_READONLY);\n} catch (SQLiteException ex) {\n  throw ex;\n}\n</code></pre></li>\n</ol>\n\n<p>So what is wrong with this section? </p>\n"},{"tags":["android","sqlite","jdbc"],"answer_count":1,"favorite_count":1,"up_vote_count":6,"down_vote_count":0,"view_count":224,"score":6,"question_id":9717269,"title":"Connection with Sqlite in android through Servlet","body":"<p>I am trying to do a database connectivity in my android emulator,\nthe problem is i am doing a servlet program that includes sqlite connectivity in it,\nbut when i download the war file and run it from the jetty server,\nI am getting the following error:\n\"<strong>org.sqlite.jdbc \njava.lang.classnotfound exeption</strong>\"</p>\n\n<p>I have been trying for days but could'nt get this database connectivity from my android emulator working, Could someone please help me,\nHere is my code,    </p>\n\n<pre><code>        Class.forName(\"org.sqlite.JDBC\");\n            Connection conn=DriverManager.getConnection(\"jdbc:sqlite:webapps/DbTes/TestData.db\");\n        Statement stat=conn.createStatement();\n        stat.executeUpdate(\"drop table if exists tbl_countries;\");\n        stat.executeUpdate(\"create table tbl_countries (id INTEGER PRIMARY KEY AUTOINCREMENT, country_name TEXT);\");\n        PreparedStatement prep = conn.prepareStatement(\"insert into tbl_countries(country_name) values (?);\");\n        prep.setString(1, \"a\");\n\n        prep.addBatch();\n        prep.setString(1, \"b\");\n        prep.addBatch();\n        prep.setString(1, \"c\");\n        prep.addBatch();\n            conn.setAutoCommit(false);\n        prep.executeBatch();\n        conn.setAutoCommit(true);\"\n</code></pre>\n\n<p>Thanks...</p>\n"},{"tags":["iphone","ios","sqlite","core-data"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":12353681,"title":"Offline storage for PDF iOS application","body":"<p>I like to provide an offline storage option to my current PDF reader application. I just like to know what are the best possible ways to store an PDF offline for persistent storage. I am planning to use CoreData but I don't know it will be overkill for my project or not. Can someone please help me to find quick way for persistent storage. </p>\n"},{"tags":["android","sqlite"],"answer_count":2,"favorite_count":2,"up_vote_count":0,"down_vote_count":0,"view_count":3219,"score":0,"question_id":6341977,"title":"Convert Drawable to BLOB Datatype sqlite","body":"<blockquote>\n  <p>hello expert,<br>\n  here<br>\n  public Drawable icon;\\something value are in this field<br>\n  now i am crating a database in sqlite manager.i want to store icon into database.problem is another field are shown correctly and i take \"icon\" field with datatype BLOB but it display empty, nothing into DB. so can you help me image with DB  </p>\n</blockquote>\n\n<pre><code>public void prettyPrint() {\npublic String appname = \"asd\";\npublic String pname = \"asd\";\npublic String versionName = \"asd\";\npublic int versionCode = 0;\npublic Drawable icon=\"android.im....\";\nInsall_app_db i1 = new Insall_app_db();\ni1.createDatabse(\"appInfo3\", getBaseContext());\ni1.createTable(\"off_appinfo4\", getBaseContext()); i1.insertDataUser(\"off_appinfo4\",  appid ,appname,pname, versionName, versionCode, icon, x);\n}\n\n\npackage com.AppInfo;\n\nimport java.sql.Blob;\nimport java.text.SimpleDateFormat;\nimport java.util.ArrayList;\nimport java.util.Date;\n\nimport android.R.drawable;\nimport android.content.Context;\nimport android.database.Cursor;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.graphics.drawable.Drawable;\n\npublic class Insall_app_db {\n\n\nSQLiteDatabase sampleDB = null;\nString PhoneNumber;\nString UserId;\nCursor c;\nArrayList ar=new ArrayList();\npublic void createDatabse(String DbName,Context context)\n{\nsampleDB =  context.openOrCreateDatabase(DbName,     \n    context.MODE_WORLD_READABLE,null);\n\n}\n\npublic void createTable(String Tablename,Context context)\n{\n    sampleDB.execSQL(\"CREATE TABLE IF NOT EXISTS \" +\n            Tablename +\n            \"(app_id INT,app_name VARCHAR(255),pname VARCHAR(255),version_name  VARCHAR(25),versionCode  INT,icon BLOB,date DATE);\");\n\n}\npublic void DeleteTable(String Tablename,Context context)\n{\n    sampleDB.execSQL(\"DROP TABLE off_appinfo4\");\n\n}\n\npublic void insertDataUser(String tableName,int app_id,String app_name,String pname,String version_name,int versionCode,String d,long date1)\n{\n\n     sampleDB.execSQL(\"INSERT INTO \" +\n             tableName +\n             \" Values (\"+app_id+\",'\"+app_name+\"','\"+pname+\"','\"+version_name+\"','\"+versionCode+\"','\"+d+\"',\"+date1+\");\");\n\n\n}\n\npublic String GetUserData(Context context,String tablename)\n{\n            c = sampleDB.rawQuery(\"SELECT User_Id FROM \" +\n                tablename +\n                \"\", null);\n\n            if(c!=null)\n            {\n                if(c.moveToFirst())\n                {\n                    do\n                    {\n                        UserId=c.getString(c.getColumnIndex(\"User_Id\"));\n\n                    }while(c.moveToNext());\n\n\n\n                    }   \n\n                }       \n\n            return UserId;\n}\n\npublic void close()\n{\n    sampleDB.close();\n\n}\n\n\n\n\n}\n</code></pre>\n"},{"tags":["android","sqlite","android-arrayadapter"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":81,"score":0,"question_id":12351198,"title":"SQLite database adapter","body":"<p>I'm working on news android app if I'm on line I get the news in <strong>rss</strong> flux and I have an <code>RSSItemAdapter</code> </p>\n\n<p>with this code : </p>\n\n<pre><code>class RSSItemAdapter extends ArrayAdapter&lt;RSSItem&gt; {\n\n    private final Context context;\n    final Comment  comment = null;\n    private CommentsDataSource datasource;\n\n    public RSSItemAdapter(Context context, int textViewResourceId, List&lt;RSSItem&gt; items) {\n        super(context, textViewResourceId, items);\n        this.context = context;\n    }\n\n    @Override\n    public View getView(int position, View convertView, ViewGroup parent) {\n        View v = convertView;\n        if (v == null) {\n            LayoutInflater vi = (LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n            v = vi.inflate(R.layout.rssitem, null);\n        }\n        final RSSItem item = getItem(position);\n        TextView tv = (TextView) v.findViewById(R.id.title);\n        // tv.setText(\"&lt;a href=\"+'\"'+item.getUrl()+'\"'+\"&gt;\"+item.getTitle()+\"&lt;/a&gt;\");\n\n        // tv.setText(Html.fromHtml(\"&lt;a href=\\\"http://www.google.com\\\"&gt;\"+item.getTitle()+\"&lt;/a&gt;\"));\n        tv.setText(item.getTitle());\n        //tv.setMovementMethod(LinkMovementMethod.getInstance());\n\n        TextView tv1 = (TextView) v.findViewById(R.id.description);\n        tv1.setText(item.getDescription());\n\n        TextView tv2 = (TextView) v.findViewById(R.id.pubdate);\n\n        Date date = item.getPubDate();  \n        Format formatter = new SimpleDateFormat(\"EEE, dd MMM yyyy HH:mm:ss zzz\");\n        String s = formatter.format(date);\n\n        tv2.setText(s);\n\n        TextView tv3 = (TextView) v.findViewById(R.id.lien);\n        tv3.setText(item.getUrl());\n\n        ImageView iv = (ImageView) v.findViewById(R.id.img);\n        try {\n            iv.setImageDrawable(drawable_from_url(item.getImageUrl(), item.getImageTitle()));\n\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        return v;\n    }\n\n    Drawable drawable_from_url(String url, String src_name) throws java.net.MalformedURLException, java.io.IOException \n    {\n        return Drawable.createFromStream(((java.io.InputStream)\n        new java.net.URL(url).getContent()), src_name);\n    }\n\n}\n</code></pre>\n\n<p>after in the main class i call it like that :</p>\n\n<pre><code>if(isOnline()) { \n    ListView rssItemList = (ListView) findViewById(R.id.rssListview);\n    FeedSource feedSource = new HttpFeedSource();\n    RSSItemAdapter adapter = new RSSItemAdapter(this, R.layout.rssitem, feedSource.getFeed());\n    rssItemList.setAdapter(adapter);\n} \n</code></pre>\n\n<p>so how can i get the date stored on my sqlite and print it with adapter like this ???</p>\n"},{"tags":["sql","sqlite","greendao"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":12352337,"title":"GreenDao deleting a row in a junction table","body":"<p>I have a junction table | USER_ID | ORDER_ID |\nnow, when I'm trying to delete a row in the table I'm getting \n<code>does not have a single-column primary key</code> error.</p>\n\n<p>Now of course both of the table's columns are FK, and I can't add a PK column in it because it's a junction table.</p>\n\n<p>I'm using :</p>\n\n<pre><code>userJoinOrdersDao.delete(userOrderObj);\n</code></pre>\n\n<p>Does anyone see my mistake?</p>\n"},{"tags":["sqlite","peewee"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":12213062,"title":"@commit_on_success and save()","body":"<p>I'm questioning myself regarding the new peewee's feature: <code>commit_on_success</code> decorator.</p>\n\n<ol>\n<li><p>How is determined if the function is \"success\"?</p></li>\n<li><p>If I use this decorator, do I need to call <code>save()</code> on my altered objects?</p></li>\n</ol>\n\n<p>From what I tried, I think that #2 is YES, but I just want to be sure as I don't find a clear answer to those two questions in peewee's documentation.</p>\n"},{"tags":["database","actionscript-3","flex","sqlite","table"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":74,"score":0,"question_id":12350419,"title":"How to access sqlite in Flex","body":"<p>I have a Sqlite database file from my client, It has different tables in it, and I can also see data in these tables from different sqlite viewers.\nThis database file is not created in Flex. Its extention is sqlite (fileName.sqlite).</p>\n\n<p>But when I try to access these tables through qurey from Flex(action script), it gives error:3115 Table not found, Even name of table is 100% correct as in database.</p>\n\n<p>Sqlite Files created in flex are accessible in flex, but I have to use that sqlite file which was not created in flex.</p>\n\n<p>Can any body please tell me how can we use sqlite database files in FLEX?</p>\n\n<p>////////////////////////////////////////////////\nBelow is my code here.</p>\n\n<pre><code>private var _sqlconnection:SQLConnection\n    private var getPageFromAyatStatement:SQLStatement;\n    public function connect():void { \n        _sqlconnection =new SQLConnection();\n        _sqlconnection.addEventListener(SQLEvent.OPEN,onOpenDB);\n        _sqlconnection.addEventListener(SQLErrorEvent.ERROR,handlerSqlOpenError);\n        var dbFile:File = File.applicationStorageDirectory.resolvePath(\"abc.sqlite\");\n        _sqlconnection.openAsync(dbFile); \n    }\n\n    private function onOpenDB(e:SQLEvent):void {\n        getPageFromAyat();\n    }\n\n\n    private function getPageFromAyat():void {\n        getPageFromAyatStatement = new SQLStatement;\n        getPageFromAyatStatement.sqlConnection =_sqlconnection;\n        var sql:String = \"SELECT * FROM Ayat\"\n        getPageFromAyatStatement.text=sql;\n        getPageFromAyatStatement.addEventListener(SQLEvent.RESULT,ayatStatementResult);\n        getPageFromAyatStatement.addEventListener(SQLErrorEvent.ERROR,selectDbPathError);\n        getPageFromAyatStatement.execute();\n    }\n    private function ayatStatementResult(event:SQLEvent):void {\n        var sqlResult:SQLResult = getPageFromAyatStatement.getResult();\n        if(sqlResult.data != null)\n        {\n            trace(sqlResult.toString())\n        }\n    }\n    private function selectDbPathError(event:SQLErrorEvent):void  { \n    }\n\n    private function handlerSqlOpenError(e:SQLErrorEvent):void {\n    }\n</code></pre>\n\n<p>It open database file correctly and even also run getPageFromAyatStatement correctly but show error 'no such table: Ayat'\nBut I can see all the data in Ayat table from sqlite viewer.\nThanks;\n-Murtaza</p>\n"},{"tags":["android","mysql","sqlite","xml-parsing"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":1331,"score":0,"question_id":5675380,"title":"how to store parsed xml file to a sqlite database in Android?","body":"<p>i am making a project in that i required synchronize data between server mysql data and local sqlite data...\nWith the help oh php i have created mysql data XML file.... so now i know the parsing of xml data but how can i store it in sqlite(local) database ??</p>\n\n<p>Please help me i ll appreciate your help ...</p>\n"},{"tags":["android","sqlite","table"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":236,"score":0,"question_id":11995548,"title":"SQLite multiple tables","body":"<p>What I'm looking to do is create a sqlite db in android that has multiple tables (I know how to do this). What I would like to do is have one class (Activity) that creates each table, opens and closes the db. Then for each table create a class for it to use for my insert, delete and select statements. I'm confused how to do this as I can't seem to find any examples.</p>\n\n<p>What I currently have is a a class for each table that creates the table, opens, inserts and deletes but once my app creates one table the app wont create the other. Could someone please advise me if what I want to do is A. possible and B. good practice.</p>\n\n<p>Or should I just put all my SQL into one class?</p>\n\n<p>Many thanks.</p>\n"},{"tags":["flex","sqlite","mobile"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":12345579,"title":"Flex mobile SQLite select command with error no such column","body":"<p>I'm programming an application in Flex Mobile. I have executed a SELECT command which returned an error that I can't understand.</p>\n\n<p>My table called user which includes 3 columns: userid, username and password.</p>\n\n<p>My command: \"SELECT * FROM user WHERE username=:usrn AND password=:pwd\"\nI inserted the values of the two parameters into the SQLStatement.</p>\n\n<p>When I executed the command, it always returns \"No such column: password\", I verified by a sqlite viewer software but the column exists. I have tested the connection and there's no error at all.</p>\n\n<p>I really don't know why it fires this error?</p>\n\n<p>Could you pls help me to figure it out?</p>\n\n<p>This is the portion of code for my SQL queries</p>\n\n<pre><code>protected function onLoginClick():void\n{\n    // TODO Auto-generated method stub\n    sqlConnection = new SQLConnection();\n    sqlConnection.addEventListener(SQLErrorEvent.ERROR, onSQLError);\n    if(db.exists) \n    { \n        sqlConnection.addEventListener(SQLEvent.OPEN, onOpenDb);\n    } else {\n        infor.text = \"Database does not exist\";\n    }\n    sqlConnection.openAsync(db);\n}\n\n\nprivate function onOpenDb(e:SQLEvent):void\n{\n    infor.text = \"Database connected at: \"+db.nativePath;\n    sqlStatement = new SQLStatement();\n    sqlStatement.sqlConnection = sqlConnection;\n    sqlStatement.text = \"SELECT * FROM user WHERE username=@username AND password=@password\"; \n    sqlStatement.parameters[\"@username\"]= userName.text;\n    sqlStatement.parameters[\"@password\"]=passWord.text;\n    sqlStatement.addEventListener(SQLEvent.RESULT, onLoginVerification);\n    sqlStatement.addEventListener(SQLErrorEvent.ERROR, onSQLError);\n    sqlStatement.execute();\n}\n</code></pre>\n\n<p>Best regards, LE Hai Binh</p>\n"},{"tags":["android","sqlite","table","relational-database","inner-join"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":60,"score":0,"question_id":12349018,"title":"Join two SQLite tables in android application","body":"<p>I need to join two tables into a relational table. I know that i can do this with inner join but i don't know how to start.</p>\n\n<h2>TABLE_SOCIO</h2>\n\n<p>-id</p>\n\n<p>-name</p>\n\n<p>-phone</p>\n\n<p>-email</p>\n\n<h2>TABLE QUOTA</h2>\n\n<p>-id</p>\n\n<p>-name</p>\n\n<p>-description</p>\n\n<p>-value</p>\n\n<p>Now i need to join this two in on unic table by the id's of each.</p>\n\n<h2>RELATIONAL TABLE</h2>\n\n<p>-id_Quota</p>\n\n<p>-id_Socio</p>\n\n<p>I have 1 id_Quota to n id's_Socio. It's a relation 1-n. I have an array list with the set od id_Socio that i need to save in relational table with only one id_Quota.</p>\n\n<p>Any ideias? How i can start with inner join? Foreign key it's need?\nAny example?</p>\n\n<p>Thank you for your help</p>\n"},{"tags":["sqlite","sqlite3","sinatra","datamapper"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":181,"score":2,"question_id":11608870,"title":"Rack::Lint::LintError: Status must be >=100 seen as integer","body":"<p>I am using the DataMapper gem with Sinatra and followed the tutorial here:\n<a href=\"http://net.tutsplus.com/tutorials/ruby/ruby-for-newbies-working-with-datamapper/\" rel=\"nofollow\">http://net.tutsplus.com/tutorials/ruby/ruby-for-newbies-working-with-datamapper/</a></p>\n\n<p>I am connecting to the database and migrating as such:</p>\n\n<pre><code>DataMapper.setup :default, \"sqlite://#{Dir.pwd}/ex2.db\"\nDataMapper.auto_migrate!\n</code></pre>\n\n<p>My data model:</p>\n\n<pre><code>class User\n    include DataMapper::Resource\n\n    property :id       , Serial\n    property :username , String\n    property :email    , String\nend\n</code></pre>\n\n<p>I am executing using this command:</p>\n\n<pre><code>rackup config.ru\n</code></pre>\n\n<p>However, when I get to this line:</p>\n\n<pre><code>User.create username: \"JoeSchmo\", email: \"joe@schmo.com\"\n</code></pre>\n\n<p>I receive the error:</p>\n\n<pre><code>Rack::Lint::LintError: Status must be &gt;=100 seen as integer\n</code></pre>\n\n<p>Any idea why this is happening?</p>\n"},{"tags":["android","sqlite"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":371,"score":2,"question_id":8707731,"title":"How to Share Sqlite Between Two Application?","body":"<p>I have one Sqlite Database file. I want to share my sqlite database between two different android application. Is possible to do such ? if so the what necessary steps I should try ?</p>\n"},{"tags":["android","sqlite","listview","exception","cursor"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":73,"score":0,"question_id":12317956,"title":"Using SimpleCursorTreeAdapter for ExpandableList gives error \"Failed to read row 0, column -1\". Can't find the bug","body":"<p>I want to get data from a SQLite db and populate my ExpandableListView via a SimpleCursorTreeAdapter, but it fails somewehere. I really can't find what's wrong, don't even know where the exception is happening...</p>\n\n<p>MyExpandableListAdapter:</p>\n\n<pre><code>private class MyExpandableListAdapter extends SimpleCursorTreeAdapter\n    {       \n\n        public MyExpandableListAdapter(Context context, Cursor cursor,\n                int groupLayout, String[] groupFrom, int[] groupTo,\n                int childLayout, String[] childFrom, int[] childTo) {\n            super(context, cursor, groupLayout, groupFrom, groupTo, childLayout, childFrom,\n                    childTo);\n            // TODO Auto-generated constructor stub\n        }\n\n        @Override\n        protected Cursor getChildrenCursor(Cursor groupCursor) {\n            Log.d(\"Calling getChildrenCursor()\",\"OK\");\n            Cursor childrenCursor = dbAdapter.getTrackedValuesByDate(groupCursor.getString(groupCursor.getColumnIndex(DbAdapter.KEY_VALUE_DATE)));\n            Log.d(\"getChildrenCursor()\", DatabaseUtils.dumpCursorToString(childrenCursor));\n            startManagingCursor(childrenCursor);\n\n            return childrenCursor;\n        }       \n    }\n</code></pre>\n\n<p>Here's the relevant part in my activity to set the ListAdapter:</p>\n\n<pre><code>private void fillData()\n    {\n        Cursor dateCursor = dbAdapter.getAllDates();\n        startManagingCursor(dateCursor);\n        Log.d(\"fillData()\", DatabaseUtils.dumpCursorToString(dateCursor));\n        MyExpandableListAdapter myAdapter = new MyExpandableListAdapter(this, \n        dateCursor, \n        R.layout.expandablelist_header_date, \n        new String[] {DbAdapter.KEY_VALUE_DATE},    \n        new int[]{R.id.expandablelist_header_date},             \n        R.layout.listview_tracked_values, \n        new String[] {DbAdapter.KEY_INDICATOR_NAME, DbAdapter.KEY_INDICATOR_UNIT, DbAdapter.KEY_VALUE_VALUE},\n        new int[]{R.id.list_trackedvalue_indicatorname, R.id.list_trackedvalue_unit, R.id.list_trackedvalue_value });\n\n        Log.d(\"fillData()\", \"Creation successful\");     \n        this.expandableList.setAdapter(myAdapter);\n        Log.d(\"fillData()\", \"Adapter set\");\n    }\n</code></pre>\n\n<p>Here are the two used functions of my dbAdapter:</p>\n\n<pre><code>public Cursor getTrackedValuesByDate(String dateString)\n    {\n        Cursor cursor = this.db.rawQuery(\"select * from \"+DB_INDICATORS_TABLE+\" i,\"+ DB_VALUES_TABLE+\" v where i.\"\n        + KEY_INDICATOR_ROWID+\"=v.\"+KEY_VALUE_INDICATOR_ID+\" and v.\"+KEY_VALUE_DATE+\"='\"+dateString+\"'\", null);\n\n        if(cursor!=null)\n            cursor.moveToFirst();\n\n        Log.d(\"getTrackedValuesByDate()\", DatabaseUtils.dumpCursorToString(cursor));\n        return cursor;\n    }\n\n    public Cursor getAllDates()\n    {\n        Cursor c = this.db.rawQuery(\"Select distinct \"+KEY_VALUE_DATE+\" from \"+DB_VALUES_TABLE, null);\n        if(c!=null)\n            c.moveToFirst();\n\n        Log.d(\"getAllDates()\", DatabaseUtils.dumpCursorToString(c));\n        return c;\n    }\n</code></pre>\n\n<p>And finally the output of LogCat:</p>\n\n<pre><code>09-07 12:05:06.912: D/fillData()(1317): &gt;&gt;&gt;&gt;&gt; Dumping cursor android.database.sqlite.SQLiteCursor@41219990\n09-07 12:05:06.912: D/fillData()(1317): 0 {\n09-07 12:05:06.912: D/fillData()(1317):    trackDate=07.09.2012\n09-07 12:05:06.912: D/fillData()(1317): }\n09-07 12:05:06.912: D/fillData()(1317): 1 {\n09-07 12:05:06.912: D/fillData()(1317):    trackDate=08.08.2012\n09-07 12:05:06.912: D/fillData()(1317): }\n09-07 12:05:06.912: D/fillData()(1317): &lt;&lt;&lt;&lt;&lt;\n09-07 12:05:06.952: D/fillData()(1317): Creation successful\n09-07 12:05:06.952: D/fillData()(1317): Adapter set\n09-07 12:05:07.012: E/CursorWindow(1317): Failed to read row 0, column -1 from a CursorWindow which has 2 rows, 1 columns.\n09-07 12:05:07.012: D/AndroidRuntime(1317): Shutting down VM\n09-07 12:05:07.048: W/dalvikvm(1317): threadid=1: thread exiting with uncaught exception (group=0x40a13300)\n09-07 12:05:07.145: E/AndroidRuntime(1317): FATAL EXCEPTION: main\n09-07 12:05:07.145: E/AndroidRuntime(1317): java.lang.IllegalStateException: Couldn't read row 0, col -1 from CursorWindow.  Make sure the Cursor is initialized correctly before accessing data from it.\n09-07 12:05:07.145: E/AndroidRuntime(1317):     at android.database.CursorWindow.nativeGetLong(Native Method)\n09-07 12:05:07.145: E/AndroidRuntime(1317):     at android.database.CursorWindow.getLong(CursorWindow.java:507)\n09-07 12:05:07.145: E/AndroidRuntime(1317):     at android.database.AbstractWindowedCursor.getLong(AbstractWindowedCursor.java:75)\n09-07 12:05:07.145: E/AndroidRuntime(1317):     at android.widget.CursorTreeAdapter$MyCursorHelper.getId(CursorTreeAdapter.java:436)\n09-07 12:05:07.145: E/AndroidRuntime(1317):     at android.widget.CursorTreeAdapter.getGroupId(CursorTreeAdapter.java:191)\n09-07 12:05:07.145: E/AndroidRuntime(1317):     at android.widget.ExpandableListConnector.getItemId(ExpandableListConnector.java:422)\n09-07 12:05:07.145: E/AndroidRuntime(1317):     at android.widget.AbsListView.obtainView(AbsListView.java:2288)\n09-07 12:05:07.145: E/AndroidRuntime(1317):     at android.widget.ListView.measureHeightOfChildren(ListView.java:1244)\n09-07 12:05:07.145: E/AndroidRuntime(1317):     at android.widget.ListView.onMeasure(ListView.java:1156)\n09-07 12:05:07.145: E/AndroidRuntime(1317):     at android.view.View.measure(View.java:15172)\n09-07 12:05:07.145: E/AndroidRuntime(1317):     at android.widget.RelativeLayout.measureChild(RelativeLayout.java:602)\n09-07 12:05:07.145: E/AndroidRuntime(1317):     at android.widget.RelativeLayout.onMeasure(RelativeLayout.java:415)\n09-07 12:05:07.145: E/AndroidRuntime(1317):     at android.view.View.measure(View.java:15172)\n09-07 12:05:07.145: E/AndroidRuntime(1317):     at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:4814)\n09-07 12:05:07.145: E/AndroidRuntime(1317):     at android.widget.FrameLayout.onMeasure(FrameLayout.java:310)\n09-07 12:05:07.145: E/AndroidRuntime(1317):     at android.view.View.measure(View.java:15172)\n</code></pre>\n\n<p>As you can see, my last debug.log is that the Adapter is set to the ListView, but then\nit's finnito...\nI don't even get a log message that the overriden function getChildrenCursor(Cursor groupCursor) is ever called, so the error happens I don't know where...</p>\n\n<p>Help, I'm going mad on this...</p>\n"},{"tags":["c++","c","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":81,"score":0,"question_id":8700733,"title":"why define \"SQLITE_EXTERN extern\"","body":"<p>In sqlite's source code, you can see following define:</p>\n\n<pre><code>/*\n** Add the ability to override 'extern'\n*/\n#ifndef SQLITE_EXTERN\n# define SQLITE_EXTERN extern\n#endif\n</code></pre>\n\n<p>I am not quite sure in what case we might want to override \"extern\", do you have any idea?</p>\n"},{"tags":["query","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":12346909,"title":"CREATE TABLE query crashes","body":"<p>I want to create a table with 2 number fields that are both unique.. Here is the query I tried:</p>\n\n<pre><code>CREATE TABLE Favorite {\nIndexx INTEGER,\nNumberr INTEGER,\nUNIQUE(Indexx,Numberr)\n}\n</code></pre>\n\n<p>But it crashes.. Why is this?</p>\n"},{"tags":["android","sqlite","fts4"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12317326,"title":"no such module: fts4aux- Error while querying sqlite virtual table created using fts4aux","body":"<p>I am trying to collect the words and built a set from fts4aux table to feed a AutocCompleteTextView. But having issues accessing the virtual table created using fts4aux</p>\n\n<p>I have a virtual table 'ProductVirtual'. </p>\n\n<pre><code>CREATE VIRTUAL TABLE ProductVirtual USING fts4(name, company)\n</code></pre>\n\n<p>From this i have created a fts4aux table called 'product_terms'.</p>\n\n<pre><code>CREATE VIRTUAL TABLE product_terms USING fts4aux(ProductVirtual)\n</code></pre>\n\n<p>Here is my query </p>\n\n<blockquote>\n  <p>select term from product_terms</p>\n</blockquote>\n\n<p>When i run this query against the sqlite db from a db console, i am able to retrieve the result.</p>\n\n<p>But when i use the same query from my android app it throws the following error</p>\n\n<blockquote>\n  <p>I/SqliteDatabaseCpp(26555): sqlite returned: error code = 1, msg = no\n  such module:  fts4aux,\n  db=/data/data/com.product/databases/product_device.db</p>\n</blockquote>\n\n<p>At the same time i am able to query the fts4 virtual table from the android app \nwithout problem. So, i am sure fts4 is enabled.</p>\n\n<p>But only problem is using the 'fts4aux' table. How do i overcome this? Do i have \nto enable 'fts4aux' separately somewhere? </p>\n\n<p>please post your thoughts. thanks!</p>\n"},{"tags":["iphone","objective-c","ipad","sqlite","mfmailcomposer"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":12345690,"title":"How to share all the data i have stored using sqlite database between two devices to reuse the data by dumping in another device","body":"<p>I have implemented an app in <strong>iPhone, (Objective-c)</strong></p>\n\n<p>in that i have used <strong><code>SQLITE</code></strong> for data base.</p>\n\n<p>Now i need to share the data.</p>\n\n<p><strong>Share Data:</strong></p>\n\n<ol>\n<li>I need to send data trough mail.</li>\n<li>In that i attach my data base file (may be in csv format?)</li>\n<li>To re use my data in other's application by dump the data..</li>\n</ol>\n\n<p>Any useful replies, thanks in advance</p>\n"},{"tags":["mysql","sqlite","phpmyadmin","migration","mysql-error-1064"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":218,"score":1,"question_id":9300174,"title":"SQLite to MySQL strange error #1064","body":"<p>I'm converting a SQLite database to MySQL so I can import it to PHPMyAdmin. \nThis should be straightforward. I exported it to a dump, changed the autoincrements and changed all double quotes to backticks. This is what the start of the resulting file looks like:</p>\n\n<pre><code>DROP TABLE IF EXISTS `chars`;\nCREATE TABLE chars(\n                            charid INTEGER PRIMARY KEY AUTO_INCREMENT,\n                            character TEXT\n                    );\nINSERT INTO `chars` VALUES(3,'a');\nINSERT INTO `chars` VALUES(4,'b');\n</code></pre>\n\n<p>...\nWhen trying to import to PHPMyAdmin it throws this error. </p>\n\n<blockquote>\n<pre><code>Error\nSQL query:\n\nCREATE TABLE chars(\n\ncharid INTEGER PRIMARY KEY AUTO_INCREMENT ,\nCHARACTER TEXT\n);\n\nMySQL said: \n\n#1064 - You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'character TEXT\n                    )' at line 3\n</code></pre>\n</blockquote>\n\n<p>Is there too much space after the indented line? I left the \"format\" option as \"SQL\", left SQL compatibility mode as NONE and left \"Do not use AUTO_INCREMENT for zero values\" ticked. \nIts going to be used in a django web app. </p>\n"},{"tags":["sqlite","date","datetime","sqlite3"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":91,"score":1,"question_id":12336565,"title":"How to convert string date into date format in sqlite","body":"<p>I need to find the average age  but my DOB is stored in the format Month,day,year(eg:-May,2,1986) in my sqlite database .</p>\n\n<p>How can i convert from May,2,1986 into date format to find the age?</p>\n\n<p>Regards\nNikil</p>\n"},{"tags":["android","database","sqlite"],"answer_count":1,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":137,"score":3,"question_id":9923063,"title":"Unable to collect data from a .db file of SQLite in Android","body":"<p>I am building an application in Android. I have used <strong>SQLite Database Browser 2.0</strong> to create my database file and kept it in the <strong>assets</strong> folder.</p>\n\n<p><a href=\"http://www.mediafire.com/?ceq7lpzyd4tyy79\" rel=\"nofollow\">Here is my project</a></p>\n\n<p>I already created the database using code. I also visited <a href=\"http://www.reigndesign.com/blog/using-your-own-sqlite-database-in-android-applications/\" rel=\"nofollow\">this link</a>.</p>\n\n<p>How do I get the error list?</p>\n\n<p>The error list:</p>\n\n<pre><code>03-29 14:56:05.308: E/Database(332): sqlite3_open_v2(\"/data/data/com.crews.sampledatabaseproto.activity/databases/food_joint_db.db\", &amp;handle, 1, NULL) failed\n03-29 14:56:05.427: W/dalvikvm(332): threadid=1: thread exiting with uncaught exception (group=0x40015560)\n03-29 14:56:05.437: E/AndroidRuntime(332): FATAL EXCEPTION: main\n03-29 14:56:05.437: E/AndroidRuntime(332): java.lang.Error: Error copying database\n03-29 14:56:05.437: E/AndroidRuntime(332):  at com.crews.sampledatabaseproto.activity.DataBaseHelper.createDataBase(DataBaseHelper.java:48)\n03-29 14:56:05.437: E/AndroidRuntime(332):  at com.crews.sampledatabaseproto.activity.SampleDatabaseProtoActivity.onCreate(SampleDatabaseProtoActivity.java:19)\n03-29 14:56:05.437: E/AndroidRuntime(332):  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)\n03-29 14:56:05.437: E/AndroidRuntime(332):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1611)\n03-29 14:56:05.437: E/AndroidRuntime(332):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1663)\n03-29 14:56:05.437: E/AndroidRuntime(332):  at android.app.ActivityThread.access$1500(ActivityThread.java:117)\n03-29 14:56:05.437: E/AndroidRuntime(332):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:931)\n03-29 14:56:05.437: E/AndroidRuntime(332):  at android.os.Handler.dispatchMessage(Handler.java:99)\n03-29 14:56:05.437: E/AndroidRuntime(332):  at android.os.Looper.loop(Looper.java:123)\n03-29 14:56:05.437: E/AndroidRuntime(332):  at android.app.ActivityThread.main(ActivityThread.java:3683)\n03-29 14:56:05.437: E/AndroidRuntime(332):  at java.lang.reflect.Method.invokeNative(Native Method)\n03-29 14:56:05.437: E/AndroidRuntime(332):  at java.lang.reflect.Method.invoke(Method.java:507)\n03-29 14:56:05.437: E/AndroidRuntime(332):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)\n03-29 14:56:05.437: E/AndroidRuntime(332):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)\n03-29 14:56:05.437: E/AndroidRuntime(332):  at dalvik.system.NativeStart.main(Native Method)\n</code></pre>\n"},{"tags":["android","sqlite","parsing","pdf","text"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":36,"score":1,"question_id":12344405,"title":"Android Best way to access data and if so how to populate the Sqlite database","body":"<p>So, I have data contained in a table of 3 columns with a few hundred rows in PDFs which will get updated quarterly at this time I don't know if they can be presented to me in any other form.  I using the ZXing barcode scanner to check against this data to see if the scanned UPC is within it to let the user know if it is an authorized item.  I assume I have to save the PDF as Text and then somehow import this information into a SQLite DB and that way I can give the user all the information contained in that row and then from there I can use this information to allow the app to do other things.  Unfortunately, when the PDF is saved as text it just separates everything by spaces, so I don't see an easy way to import these into the DB and have them separated into the appropriate columns.  Would I need to manually go in and add delimiters and then parse the data to load it into the DB?  Or am I looking in the completely wrong way or making any sense at all? </p>\n\n<p>I need this be flexible for updating which is why I think using SQLite DB is the best method and hoping that I can create the DB at install of the app, so it is only populated the one time until I release the update with the new data.</p>\n\n<p>Thanks in advance for help, I think I am close just trying to get pointed in the right direction.</p>\n"},{"tags":["sqlite","unicode","python-3.x"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":62,"score":1,"question_id":12342889,"title":"using Python3 and sqlite3 with complex unicode strings","body":"<p>I have to store complex unicode strings like \"ʘ̃\" (<a href=\"http://en.wikipedia.org/wiki/Nasal_clicks\" rel=\"nofollow\">an IPA symbol</a>) in a database. These strings involve peculiar characters, like k͡p with unusual diacritics. \nI decided to use sqlite3 and wrote the following lines in order to create my database :</p>\n\n<pre><code>import sqlite3\nconn = sqlite3.connect('/tmp/example.db')\nc = conn.cursor()\nc.execute('create table mytable (mystring unicode)')\nc.execute(\"insert into mytable values ('ʘ̃ʘ͡qʘ͡qʼ)\")\n</code></pre>\n\n<p>Then I read 'mytable' with these instructions :</p>\n\n<pre><code>c.execute('select * from mytable order by trans')\nfor row in c:\n    print(c)\n</code></pre>\n\n<p>But I get only an ill-formed string with missing characters while the most simple characters in my string remain. The same code works perfectly well with usual characters (like é, â, ö, ...). This code comes from <a href=\"http://docs.python.org/py3k/library/sqlite3.html\" rel=\"nofollow\">the Python 3.2.3 documentation</a>. Is sqlite3 not able to store ANY unicode character ?</p>\n\n<p>Any help would be greatly appreciated !</p>\n\n<p>PS : my file uses utf-8 encoding :</p>\n\n<pre><code># -*- coding: utf-8 -*-\n</code></pre>\n"},{"tags":["android","database","query","sqlite","maximum"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":12341124,"title":"Failing to query the maximum number in database table","body":"<p>I am trying, unsucessfully, to query my database to find the maximum 'area number', in my areas table for a certain inspection, so that I can set the text in a form to the next area number.</p>\n\n<p>The database table consists of four columns; _id, inpsection_link, area_number, area-reference.</p>\n\n<p>I have created the following in my database helper class (using this post as a guide: <a href=\"http://stackoverflow.com/questions/10600670/sqlitedatabase-query-method\">SQLIteDatabase.query method</a>):</p>\n\n<pre><code> public int selectMaxAreaNumber (long inspectionId) {\n    String inspectionIdString = String.valueOf(inspectionId);\n    String[] tableColumns = new String[] { \n            AREA_NUMBER, \n            \"(SELECT max(\" + AREA_NUMBER + \") FROM \" + AREAS_TABLE + \") AS max\" \n        }; \n    String whereClause = INSPECTION_LINK + \" = ?\";\n    String[] whereArgs = new String[] {\n            inspectionIdString          \n        };\n    Cursor c = rmDb.query(AREAS_TABLE, tableColumns, whereClause, whereArgs, \n            null, null, null);\n    int maxAreaNumber = c.getColumnIndex(\"max\");\n    return maxAreaNumber;\n}\n</code></pre>\n\n<p>Which I then call in the areaEdit class as follows:</p>\n\n<pre><code>protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    rmDbHelper = new RMDbAdapter(this);\n    rmDbHelper.open();\n    Intent i = getIntent();\n    inspectionId = i.getLongExtra(\"Intent_InspectionID\", -1);\n    areaId = i.getLongExtra(\"Intent_AreaID\", -1);\n    if (areaId == -1) {\n        nextAreaNumber = rmDbHelper.selectMaxAreaNumber(inspectionId) + 1;\n        Toast.makeText(getApplicationContext(), String.valueOf(nextAreaNumber), \n                Toast.LENGTH_LONG).show();  \n    }\n    setContentView(R.layout.edit_area);\n    setUpViews();\n    populateFields();\n    setTextChangedListeners();\n}\n</code></pre>\n\n<p>However, it just returns 1 everytime (even if there are numbers higher than that stored in the database).</p>\n\n<p>Confused.com!!  Any help much appreciated. </p>\n"},{"tags":["android","sqlite","search","data-retrieval"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":5,"view_count":65,"score":-4,"question_id":12339914,"title":"Read data from sqlite","body":"<p>My app need to search a data from sqlite. Like the date in field DATESTARt, then compare it to the current date then it will alert if the date is equals to the current date.</p>\n\n<p>Help me please.</p>\n"},{"tags":["sqlite","sqlite3","cgi"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":12341613,"title":"SQLite CGI Programming (SQLITE_CANTOPEN)","body":"<p>When I am trying to use sqlite3_exec to insert new data into the database, it returns error 14 (SQLITE_CANTOPEN). But when I am using sqlite3_prepare_v2 to select, it works fine. Is there an issue with permissions? How to fix it?</p>\n\n<pre><code>sprintf(temp, \"INSERT INTO owned (pid, oname, okey, ohp, oatt, odef) VALUES (%d, %c%s%c, %c%s%c, %d, %d, %d);\", pid, 34, poname, 34, 34, passkey, 34, sqlite3_column_int(res3,0), sqlite3_column_int(res3,1), sqlite3_column_int(res3,2));\n\nerror = sqlite3_exec(conn, temp, 0, 0, 0);\n</code></pre>\n"},{"tags":["mysql","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":12339933,"title":"Converting MySQL database dump into SQLite - INSERT syntax","body":"<p>I'm trying to adapt my database dump into SQLite format, using the following command:\n<code>cat db.sql | sqlite3 sqlite.db</code></p>\n\n<p>I get the following error:\n<code>Error: near line 82: near \",\": syntax error</code>\n, where line 82 stands for:\n<code>INSERT INTO files (file_id,file_name) VALUES</code> (the insert data in the following format <code>(31, 'file_name.pdf'),</code> come after that in the following lines).</p>\n\n<p>According to <a href=\"http://souptonuts.sourceforge.net/readme_sqlite_tutorial.html\" rel=\"nofollow\">this tutorial</a> it is correct SQLite syntax for INSERT. What am I doing wrong?</p>\n"},{"tags":["sqlite","listview","android-layout"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":12336300,"title":"Blank ListView with multi-table SQLite database","body":"<p>I'm trying to populate a ListView with data from a relational database.  What I am trying to accomplish is to show each nurse in NURSE_TABLE, and the room numbers that have been assigned to that nurse.  What I'm getting as a result is the layout showing the two buttons, and an empty ListView.  </p>\n\n<p>The code to create the database is:</p>\n\n<pre><code>public void onCreate(SQLiteDatabase db) {\n// create NURSE_TABLE\ndb.execSQL(\"CREATE TABLE \" + NURSE_TABLE + \" (\" + KEY_NURSE_ROWID\n        + \" INTEGER PRIMARY KEY AUTOINCREMENT, \" +          KEY_LNAME\n        + \" TEXT NOT NULL, \" + KEY_FNAME + \" TEXT NOT NULL, \"\n        + KEY_MI + \" TEXT, \" + KEY_EMAIL + \" TEXT NOT NULL, \"\n        + KEY_PHONE_PRIMARY + \" TEXT NOT NULL, \"\n        + KEY_PHONE_SECONDARY + \" TEXT, \" + KEY_FTE\n        + \" TEXT NOT NULL, \" + KEY_DUTY_STATUS + \" TEXT NOT NULL);\");\n\n// create ROOM_TABLE\ndb.execSQL(\"CREATE TABLE \" + ROOM_TABLE + \" (\" + KEY_ROOM_ROWID\n        + \" INTEGER PRIMARY KEY AUTOINCREMENT, \" + KEY_TYPE_PATIENT\n        + \" TEXT, \" + KEY_OCCUPIED + \" TEXT NOT NULL, \"\n        + KEY_ROOM_NUMBER + \" TEXT NOT NULL, \"\n        + KEY_ASSIGNED_NURSE + \" INTEGER, \" \n        + \" FOREIGN KEY (\" + KEY_ASSIGNED_NURSE + \") REFERENCES \" \n        + NURSE_TABLE + \" (\" + KEY_NURSE_ROWID + \"));\");\n    } // onCreate\n</code></pre>\n\n<p>The code for the activity is:</p>\n\n<pre><code>public void displayNurseRoster(){\n\n    ListView listView = (ListView) findViewById(R.id.list);\n\n    // int variables filled with NURSE_TABLE data\n    int[] to_nurseTable = new int[] {\n\n            // int list for data from NURSE_TABLE fields\n            R.id.rosterDutyStatus,\n            R.id.rosterListLname, \n            R.id.rosterListFname, \n            R.id.rosterListMI, \n            R.id.rosterListID,\n\n            // int list for data from ROOM_ROWID fields\n            R.id.firstAssignment,\n            R.id.secondAssignment,\n            R.id.thirdAssignment,\n            R.id.fourthAssignment,\n            R.id.fifthAssignment,\n            R.id.sixthAssignment };\n\n    // String array holding data fields from NURSE_TABLE \n    String[] from_nurseTable = new String [] {\n\n            // fields from NURSE_TABLE\n            DbCommunicator.KEY_DUTY_STATUS,\n            DbCommunicator.KEY_LNAME, \n            DbCommunicator.KEY_FNAME, \n            DbCommunicator.KEY_MI,\n            DbCommunicator.KEY_NURSE_ROWID,\n            DbCommunicator.KEY_ROOM_NUMBER}; \n\n    // instantiate instance of DbCommunicator object\n    rosterView = new DbCommunicator(this);\n\n    // open instance\n    rosterView.open();\n\n    // get &amp; manage cursor for NURSE_TABLE data\n    Cursor nurseTableCursor = rosterView.getNurseRosterCursor(this);\n    startManagingCursor(nurseTableCursor);\n\n    // instantiate cursor adaptor\n    ListAdapter nurseTableAdapter = new SimpleCursorAdapter(this,\n    R.layout.nurse_list, nurseTableCursor, from_nurseTable, to_nurseTable);\n\n    nurseTableCursor.moveToNext();\n\n    // set adapter to listView\n    listView.setAdapter(nurseTableAdapter);\n}// displayNurseRoster()\n</code></pre>\n\n<p>The code to generate the Cursor looks like this:</p>\n\n<pre><code>public Cursor getNurseRosterCursor (Context context) {\n\n    SQLiteQueryBuilder nurseQueryBuilder = new SQLiteQueryBuilder();\n    nurseQueryBuilder.setTables(\"NURSE_TABLE, ROOM_TABLE\"); \n\n    String[] returnedColumns = new String[] {\n            \"Nurse_Table._id\", \n            \"Nurse_Table._dutyStatus\",\n            \"Nurse_Table._lName\",\n            \"Nurse_Table._FName\",\n            \"Nurse_Table._mi\",\n            \"Room_Table._id\",\n            \"Room_Table._roomNumber\"};\n\n    Cursor nurseCursor = nurseQueryBuilder.query(sqldb, returnedColumns,\n            null, null, null, null, null);\n\n    return nurseCursor;\n}\n</code></pre>\n\n<p>And finally my layout looks like this:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nandroid:layout_width=\"fill_parent\"\nandroid:layout_height=\"wrap_content\"\nandroid:background=\"#81BEF7\"\nandroid:orientation=\"vertical\" &gt;\n\n&lt;Button\n    android:id=\"@+id/btnAddNurseToRoster\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:text=\"@string/add\" \n    android:focusable=\"true\"/&gt;\n\n&lt;Button\n    android:id=\"@+id/btnRemoveNurseFromRoster\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_alignTop=\"@+id/btnAddNurseToRoster\"\n    android:layout_toRightOf=\"@+id/btnAddNurseToRoster\"\n    android:text=\"@string/delete\" \n    android:focusable=\"true\"/&gt;\n\n&lt;ListView\n    android:id=\"@+id/list\"\n    android:layout_width=\"fill_parent\"\n    android:layout_height=\"fill_parent\"\n    android:layout_below=\"@+id/btnAddNurseToRoster\"\n    android:textColor=\"#FFFFFF\"\n    android:textStyle=\"bold\"/&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>When I initially started, I was just populating the ListView with data from Nurses Table, which worked great, but have had a helluva time since I started trying to get the two tables to work together.</p>\n\n<p>Any help / direction would be highly appreciated.</p>\n"},{"tags":["sqlite","foreign-keys"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":37,"score":1,"question_id":12339959,"title":"SQLITE and foreign key","body":"<p>I am looking at some database tables which are defined like this:</p>\n\n<p>This is the first table-</p>\n\n<pre><code>CREATE TABLE Point \n(\n\n    Position integer unique not null,  \n    Name text not null,                \n);\n</code></pre>\n\n<p>And second table is like this:</p>\n\n<pre><code>CREATE TABLE namesPerPoint \n(\n\n    PointKey integer not null,            -- unique ROWID in points table\n    name text unique not null\n);\n</code></pre>\n\n<p>Now, my question is how will sqlite db know that PointKey references  rowid in Positions table. Its just mentioned here in comment, for user convenience. If I myself have to do it, I will do using FOREIGN KEY constraint.\nSo, is this syntax correct? But this is a part of big successfully running system and all tables are defined like this only. So, I am assuming I am missing something.</p>\n\n<p>Thanks</p>\n"},{"tags":["sql","database","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":52,"score":3,"question_id":12339362,"title":"Adding string comparison where clause to inner join takes huge performance hit with SQLite","body":"<p>I'm playing around with Philadelphia transit data and I have an sqlite database storing the gtfs data. I have this query looking for departure times at a particular stop:</p>\n\n<pre><code>SELECT \"stop_time\".departure_time FROM \"stop_time\"\n INNER JOIN \"trip\" ON \"trip\".trip_id = \"stop_time\".trip_id \n\n WHERE \n\n (trip.route_id = '10726' ) \n -- AND (trip.service_id = '1') \n AND (stop_time.stop_id = '220') \n AND (time( stop_time.departure_time ) &gt; time('08:30:45')) \n AND (time( stop_time.departure_time ) &lt; time('09:30:45'));\n</code></pre>\n\n<p>The clause to match service_id to 1 is currently commented out.  If I run the query as it is now, without matching service_id, it takes 2 seconds.  If I uncomment the service_id clause, it'll take 30.  I'm clueless as to why since I'm already looking into the trip table for the route_id.  </p>\n\n<p>Any thoughts?</p>\n"},{"tags":["android","sqlite","sql-order-by"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":12339121,"title":"Multiple OrderBy in SQLiteDatabase.Query Method","body":"<p>I am using the query method of <code>SQLiteDatabase</code>. I need help with the <em>orderBy</em> parameter of this method. </p>\n\n<p><code>Cursor cursor = sqLiteDatabase.query(tableName, tableColumns, whereClause, whereArgs, groupBy, having, orderBy);</code></p>\n\n<pre><code>public Cursor getAllCustomexp(int TID) throws SQLException \n{\n    Cursor mCursor =\n            db.query(false, CEXP_TABLE, new String[] {KEY_CEID, FLD_CETID, FLD_CEEID, FLD_CEMID,\n            FLD_CEAMT, FLD_CESEL}, FLD_CETID + \" = \" + TID, null,\n            null, null, FLD_CEEID, null);\n    if (mCursor != null) {\n        mCursor.moveToFirst();\n    }\n    return mCursor;\n}\n</code></pre>\n\n<p>Question 1:\nIn the above query the result set will be sorted by <code>FLD_CEEID</code> in ascending or descending order ?</p>\n\n<p>Question 2:\nIf I need to order the result set first by <code>FLD_CEEID</code> and then by <code>FLD_CEMID</code> how should i construct the order by parameter of this query.</p>\n\n<p>Is it possible to do multiple order by using this method?</p>\n"},{"tags":["android","sqlite","root","runas"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":86,"score":1,"question_id":12338956,"title":"How can I read my db files on my device, without using a computer","body":"<p>I am just starting out developing on android and currently only code directly on my devices (both galaxy nexus and nexus 7) using the amazing app AIDE.</p>\n\n<p>Looking on here there are lots of answers for pulling the DB onto your computer using adb, but I'm not using a computer.</p>\n\n<p>I am seeing answers on building the app in debuggable mode and using 'run-as' but I get a no permission error. I don't have root and am not totally averse to putting it on but want to make sure there are no non-root ways to do this.</p>\n\n<p>I'm trying the run-as stuff using connectbot.</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["java","android","xml","sqlite","healthvault"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":96,"score":0,"question_id":12338678,"title":"Android - Sqlite or Xml?","body":"<p>I am working on an android app that takes measures from an activity like </p>\n\n<p><code>date + time + int1 + int2 + int3 + string</code>.</p>\n\n<p>I want to save those measures and then :</p>\n\n<p>1) activity to show them in a list sorted by date + time and show only</p>\n\n<pre><code> date + time + int1 + int 2\n</code></pre>\n\n<p>and when i click on to show all the fields in a new activity or a toast or a dialog</p>\n\n<p>2) activity to be able to send the last day/ last 7 days / last 30 days records attached to an email</p>\n\n<p>3) activity to draw 2-3 charts like pie chart/other using the records</p>\n\n<p>4) i want to be able to send these records to Microsoft Healthsvault(it needs them at specific xml pattern)</p>\n\n<p>Now i don't know how to go on.Should i use xml to save these records or sqlite.Which is better with what i want to do like charts etc\nIf i save them in a sqlite db can i easily export data to an xml file?or should i use only xml.It is convenient xml for the things i want to make?</p>\n"},{"tags":["android","sqlite","listview","simplecursoradapter","custom-adapter"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":261,"score":-1,"question_id":10257570,"title":"Listview Custom Adapter","body":"<p>I'm using SimpleCursorAdapter to retrieve data from a SQLite database and using a custom layout and a listview to display two strings from the database. Now I have two questions:</p>\n\n<ol>\n<li><p>Do I have to create a custom adapter if I want to display a star in specific rows based on a specific criteria? I have the image already set to invisible in my custom layout and want to set it to visible based on some conditions on the row data itself. I implemented all the tabs as well as the favorites tab and all works properly, I just needed the star icon. I face this problem also with putting the recipe image to a specific rows.</p></li>\n<li><p>What is the best way to get images dynamically in listviews? I've followed the lazy image tutorial, but I didn't know how to implement it using the CustomCursorAdapter because it was implemented using the baseadapter. What are some links to a lazyloading images with simplecursor tutorials?</p></li>\n</ol>\n\n<p>&nbsp;</p>\n\n<pre><code>public class AlternateRowCursorAdapter extends SimpleCursorAdapter{\n    int layoutn;\n    Cursor mCursor;\n    String[] fromn;\n    int[] ton;\n\n    LayoutInflater mInflater;\n\n    private int[] colors = new int[] { Color.parseColor(\"#000000\"), Color.parseColor(\"#303030\") };\n\n    public AlternateRowCursorAdapter(Context context, int layout, Cursor c, String[] from, int[] to) {\n        super(context, R.layout.listtype, c, from, to);\n        this.mCursor = c;\n    }\n\n    /**\n     * Display rows in alternating colors\n     */\n    @Override\n    public View getView(int position, View convertView, ViewGroup parent) {\n\n        View view = super.getView(position, convertView, parent);\n\n        ImageView star = (ImageView)view.findViewById(R.id.favoritesicon); // The star I want to show\n\n        if (mCursor.getString(8) == \"YES\") // shows if the item is in favorites\n        {\n            star.setVisibility(view.VISIBLE);\n        }\n\n        int colorPos = position % colors.length;\n        view.setBackgroundColor(colors[colorPos]);\n\n        return view;\n    }\n}\n</code></pre>\n"},{"tags":["sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":12334803,"title":"sqlite and hebrew variations","body":"<p>SELECT * FROM table WHERE word = \"רֵאשִׁית\" \nwould return results that contain given word, but same words ( בְּרֵאשִׁית \n ,בראשית\n ,רֵאשִׁית) that are written using different hebrew variants are ignored. </p>\n\n<p>Is there a way to ignore the difference between the variants in order to have them all in the result returned? </p>\n"},{"tags":["android","sqlite","cursor"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":90,"score":0,"question_id":12337715,"title":"Android Sqlite Database read exception with Cursor Window","body":"<p>I am reading data from sqLite by select query, execyted by rawQuery. But it throws exception.</p>\n\n<p>Log file is :</p>\n\n<pre><code>E/CursorWindow(9621): Failed to read row 4, column 3 from a CursorWindow which has 30 rows, 3 columns.\nD/dalvikvm(9621):   JDWP invocation returning with exceptObj=0x41377f80 (Ljava/lang/IllegalStateException;)\nE/CursorWindow(9621): Failed to read row 4, column 5 from a CursorWindow which has 30 rows, 3 columns.\nD/dalvikvm(9621):   JDWP invocation returning with exceptObj=0x413781a0 (Ljava/lang/IllegalStateException;)\nE/CursorWindow(9621): Failed to read row 4, column 3 from a CursorWindow which has 30 rows, 3 columns.\nD/dalvikvm(9621):   JDWP invocation returning with exceptObj=0x413783c0 (Ljava/lang/IllegalStateException;)\nE/CursorWindow(9621): Failed to read row 4, column 7 from a CursorWindow which has 30 rows, 3 columns.\nD/dalvikvm(9621):   JDWP invocation returning with exceptObj=0x413785e0 (Ljava/lang/IllegalStateException;)\n</code></pre>\n\n<p>My table has 3 column and 30 rows. It does not cause crash of the application and datas are returned perfectly.</p>\n"},{"tags":["android","database","sqlite","size"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":30,"score":1,"question_id":12337612,"title":"Why does the SQLiteDatabase's getMaximumSize() method return 1 TB?","body":"<p>I'm trying to create a simple database program for Android so I decided to check the file limit by using database.getMaximumSize() and it returns a huge number of bytes which, converted, result in 1 terabyte.</p>\n\n<p>Assuming that someone actually has 1 TB of space on a current phone (just roll with it) would a database that big really be possible on a portable (Android) device or is this getMaximumSize() method return something different than what I'm thinking?</p>\n\n<p>I'm asking this because if the getMaximumSize() doesn't return the actual maximum size, and the size is much smaller like 1 mb or so, I would have to put restrictions on my app so users don't go over the limit and end up with force closes or something. </p>\n"},{"tags":["c#","sqlite","ado.net","sqlite3","parameter-passing"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":111,"score":1,"question_id":12295035,"title":"Connect to SQLite using C#","body":"<p>I got the following error:</p>\n\n<blockquote>\n  <p>Input string was not in a correct format</p>\n</blockquote>\n\n<p>Can anyone help to me? Here is my input parameters and method:</p>\n\n<pre><code>public void insertSQL(Dictionary&lt;string,object&gt; objects, string dbConnectionString)\n{\n    openConnection(dbConnectionString);\n\n    SQLiteCommand command = new SQLiteCommand(sqliteCon);\n    command.CommandText = \"INSERT INTO AppUser VALUES(@name, @surname)\", objects, \"Data Source=sample.s3db\"\n    command.CommandType = CommandType.Text;\n\n    foreach (var param in objects)\n    {\n        command.Parameters.Add(new SQLiteParameter(param.Key,SqlDbType.NVarChar){ Value =  (String)param.Value} );\n        Console.WriteLine(command.Parameters.Count);\n    }\n    command.ExecuteNonQuery();     \n    closeConnection();\n}\n</code></pre>\n"},{"tags":["sql","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":148,"score":5,"question_id":10178838,"title":"Order By: Returning unLIKE before LIKE?","body":"<p>This should be an easy one, but I am having a moment. Why does ORDER BY with LIKE sort the matching results as a higher value than the non-matching? To get the results I expect I have to mix ASC and DESC on what is otherwise the same data:</p>\n\n<pre><code>create table foo (name text);\nselect name from foo order by name like 'm%' desc, name;\n</code></pre>\n"},{"tags":["android","sqlite","internet","updates","news"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":77,"score":1,"question_id":12324462,"title":"create news application android with updates","body":"<p>I'm a beginner and I'm trying to make an android application which displays the latest news\noff of my web site, I’m confused specifically about these two things?</p>\n\n<p>1.How exactly can I get the news from my web site every time the\n    phone is connected to internet automatically? </p>\n\n<p>2.How am i going to store this information and subsequently use it for updates on the device?</p>\n\n<p>I found this code from google, am i headed in the right direction?:</p>\n\n<pre><code>    public abstract class BaseFeedParser implements FeedParser {\n\n    // names of the XML tags\n    static final String PUB_DATE = \"pubDate\";\n    static final  String DESCRIPTION = \"description\";\n    static final  String LINK = \"link\";\n    static final  String TITLE = \"title\";\n    static final  String ITEM = \"item\";\n\n    final URL feedUrl;\n\n    protected BaseFeedParser(String feedUrl){\n        try {\n            this.feedUrl = new URL(feedUrl);\n        } catch (MalformedURLException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    protected InputStream getInputStream() {\n        try {\n            return feedUrl.openConnection().getInputStream();\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":72,"score":1,"question_id":12330297,"title":"Android - Sqlite Query with unique and foreign key constraint","body":"<p>I have two tables named <code>x</code> and <code>y</code>.</p>\n\n<p><code>x</code> table has two columns say <code>_id</code> and <code>name</code>.</p>\n\n<p><code>_id</code> would be primary key, <code>name</code> would be a unique constraint.</p>\n\n<p>I'm not familiar with sqlite queries. Should the query be written like this?</p>\n\n<pre><code> CREATE TABLE IF NOT EXISTS x (\n    _id integer primary key autoincrement, \n    name text, \n    unique(name));\n</code></pre>\n\n<p><code>y</code> table has three  columns <code>_id</code>, <code>xid</code>, and <code>address</code>.</p>\n\n<p><code>_id</code> would be the primary key, <code>xid</code> would be a foreign key, <code>address</code> would be a unique key constraint.</p>\n\n<pre><code>CREATE TABLE IF NOT EXISTS y (\n    _id integer primary key autoincrement, \n    address text, \n    xid references x(_id), \n    unique(address));\n</code></pre>\n\n<p>If I'm missing or not defining anything correctly, please, correct me.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":12333405,"title":"Android SQLite Query Not Working","body":"<p>I'm trying to search data on database based on 2 conditions (entryId=rowId &amp; category=cat_id) like below</p>\n\n<pre><code>Cursor mCursor = db.query(true, \"favorite\", new String[] {\"_id\", \"entry\"}, \"entryId=\"+ rowId + \"&amp; category=\"+cat_id, null, null, null, null, null);\n</code></pre>\n\n<p>Its not working. But when I try to do it using only one condition like below then it works well. </p>\n\n<pre><code>Cursor mCursor = db.query(true, \"favorite\", new String[] {\"_id\", \"entry\"}, \"entryId=\"+ rowId, null, null, null, null, null);\n</code></pre>\n\n<p>Can you help me telling how can I run this query with multiple conditions?</p>\n"},{"tags":["android","database","sqlite","android-contentprovider","android-cursor"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":77,"score":0,"question_id":12332455,"title":"IllegalStateException: Invalid tables when trying to query database with ContentProvider","body":"<p>I am getting the below error when attempting to query my database with my custom <code>ContentProvider</code> shown below.</p>\n\n<p>I have confirmed the table exists with the correct name and it is still not working.</p>\n\n<p>I was able to get it to work with a raw query, but i want to us the <code>ContentProvider</code> pattern for practice.</p>\n\n<p>Thanks, let me know if you need more information.</p>\n\n<hr>\n\n<p><strong>SQLiteOpenHelper</strong></p>\n\n<pre><code>public class DatabaseHelper extends SQLiteOpenHelper {\n\n    private static final String TAG = DatabaseHelper.class.getSimpleName();\n\n    private static final String DB_PATH = \n            \"/data/data/ashton.android.personal.worktc/databases/\";\n\n    private static final String DB_NAME = \"worktc.db\";\n\n    private static final int DB_VERSION = 1;\n\n    private SQLiteDatabase myDatabase;\n\n    private final Context context;\n\n    public DatabaseHelper(Context context) {\n        super(context, DB_NAME, null, DB_VERSION);\n        this.context = context;\n    }\n\n    /**\n     * Creates a empty database on the system and rewrites it with your own database.\n     * */\n    public void createDataBase() throws IOException {\n\n        boolean dbExist = this.checkDataBase();\n\n        if (dbExist) {\n            //do nothing - database already exist\n        } else {\n\n            Log.e(TAG, \"Database does not exist when trying to create it.\");\n\n            //By calling this method and empty database will be created into the default system path\n            //of your application so we are gonna be able to overwrite that database with our database.\n            this.getReadableDatabase();\n            this.close();\n\n            try {\n\n                this.copyDataBase();\n\n                Log.e(TAG, \"createDatabase database created\");\n\n            } catch (IOException e) {\n\n                throw new Error(\"Error copying database\");\n\n            }\n        }\n\n    }\n\n    /**\n     * Check if the database already exist to avoid re-copying the file each time you open the application.\n     * @return true if it exists, false if it doesn't\n     */\n    private boolean checkDataBase(){\n\n        File dbFile = new File(DB_PATH + DB_NAME);\n        return dbFile.exists();\n\n    }\n\n    /**\n     * Copies your database from your local assets-folder to the just created empty database in the\n     * system folder, from where it can be accessed and handled.\n     * This is done by transfering bytestream.\n     * */\n    private void copyDataBase() throws IOException{\n\n        //Open your local db as the input stream\n        InputStream myInput = this.context.getAssets().open(DB_NAME);\n\n        //Open the empty db as the output stream\n        OutputStream myOutput = new FileOutputStream(DB_PATH + DB_NAME);\n\n        //transfer bytes from the inputfile to the outputfile\n        byte[] buffer = new byte[1024];\n        int length;\n        while ((length = myInput.read(buffer))&gt;0){\n            myOutput.write(buffer, 0, length);\n        }\n\n        //Close the streams\n        myOutput.flush();\n        myOutput.close();\n        myInput.close();\n\n    }\n\n    public boolean openDataBase() throws SQLException {\n\n        //Open the database\n        String myPath = DB_PATH + DB_NAME;\n        this.myDatabase = SQLiteDatabase.openDatabase(myPath, null, SQLiteDatabase.CREATE_IF_NECESSARY);\n        return this.myDatabase != null;\n    }\n\n    @Override\n    public synchronized void close() {\n\n        if(this.myDatabase != null)\n            this.myDatabase.close();\n\n        super.close();\n\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        // TODO Auto-generated method stub\n\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n        // TODO Auto-generated method stub\n\n    }\n}\n</code></pre>\n\n<hr>\n\n<p><strong>ContentProvider</strong></p>\n\n<pre><code>public class WorkTCContentProvider extends ContentProvider {\n\n    private static final String TAG = WorkTCContentProvider.class.getSimpleName();\n\n    public static final String AUTHORITY = \n            \"ashton.android.personal.worktc.database\";\n\n    private static final UriMatcher sURIMatcher = new UriMatcher(UriMatcher.NO_MATCH);\n    static {\n        sURIMatcher.addURI(\n                AUTHORITY, \n                ProfessionTable.TABLE_NAME, \n                ProfessionTable.PROFESSIONS);\n\n        sURIMatcher.addURI(\n                AUTHORITY, \n                ProfessionTable.TABLE_NAME + \"/#\", \n                ProfessionTable.PROFESSIONS_ID);\n    }\n\n    private DatabaseHelper database;\n\n    @Override\n    public int delete(Uri uri, String selection, String[] selectionArgs) {\n        // TODO Auto-generated method stub\n        return 0;\n    }\n\n    @Override\n    public String getType(Uri uri) {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public Uri insert(Uri uri, ContentValues values) {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public boolean onCreate() {\n\n        Log.d(TAG, \"before database creation\");\n\n        this.database = new DatabaseHelper(getContext());\n        try {\n            this.database.createDataBase();\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        this.database.openDataBase();\n        this.database.close();\n\n        Log.d(TAG, \"after database creation\");\n\n//      this.database.getWritableDatabase().execSQL( \"pragma foreign_keys = on;\" );\n\n        return false;\n    }\n\n    @Override\n    public Cursor query(Uri uri, String[] projection, String selection,\n            String[] selectionArgs, String sortOrder) {\n\n        SQLiteQueryBuilder queryBuilder = new SQLiteQueryBuilder();\n\n        switch (sURIMatcher.match(uri)) {\n        case ProfessionTable.PROFESSIONS:\n\n            /*\n             * Dont do anything, just do the normal query.\n             */\n\n            break;\n\n        case ProfessionTable.PROFESSIONS_ID:\n\n            queryBuilder.appendWhere(ProfessionTable._ID + \"=\" + uri.getLastPathSegment());\n\n            break;\n\n        default:\n            throw new IllegalArgumentException(\"Unknown URI: \" + uri);\n        }\n\n        SQLiteDatabase db = this.database.getReadableDatabase();\n\n        Cursor cursor = queryBuilder.query(\n                db, \n                projection, \n                selection, \n                selectionArgs, \n                null, \n                null, \n                sortOrder);\n\n        cursor.setNotificationUri(WorkTCApp.getContext().getContentResolver(), uri);\n\n        return cursor;\n    }\n\n    @Override\n    public int update(Uri uri, ContentValues values, String selection,\n            String[] selectionArgs) {\n        // TODO Auto-generated method stub\n        return 0;\n    }\n}\n</code></pre>\n\n<hr>\n\n<p><strong>ProfessionTable</strong></p>\n\n<pre><code>public final class ProfessionTable implements BaseColumns {\n\n    public static final String TABLE_NAME = \"Professions\";\n\n    public static final Uri URI = \n            Uri.parse(\"content://\" + WorkTCContentProvider.AUTHORITY + \"/\" + TABLE_NAME);\n\n    public static final int PROFESSIONS = 10;\n\n    public static final int PROFESSIONS_ID = 11;\n\n    public static final String NAME = \"name\";\n\n    public static final String ICON = \"icon\";\n\n    private ProfessionTable() {}\n}\n</code></pre>\n\n<hr>\n\n<p><strong>Error</strong></p>\n\n<pre><code>09-08 11:16:18.285: E/AndroidRuntime(11651): FATAL EXCEPTION: main\n09-08 11:16:18.285: E/AndroidRuntime(11651): java.lang.RuntimeException: Unable to start activity ComponentInfo{ashton.android.personal.worktc/ashton.android.personal.worktc.controllers.WorkActivity}: java.lang.IllegalStateException: Invalid tables\n09-08 11:16:18.285: E/AndroidRuntime(11651):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1651)\n09-08 11:16:18.285: E/AndroidRuntime(11651):    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1667)\n09-08 11:16:18.285: E/AndroidRuntime(11651):    at android.app.ActivityThread.access$1500(ActivityThread.java:117)\n09-08 11:16:18.285: E/AndroidRuntime(11651):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:935)\n09-08 11:16:18.285: E/AndroidRuntime(11651):    at android.os.Handler.dispatchMessage(Handler.java:99)\n09-08 11:16:18.285: E/AndroidRuntime(11651):    at android.os.Looper.loop(Looper.java:130)\n09-08 11:16:18.285: E/AndroidRuntime(11651):    at android.app.ActivityThread.main(ActivityThread.java:3687)\n09-08 11:16:18.285: E/AndroidRuntime(11651):    at java.lang.reflect.Method.invokeNative(Native Method)\n09-08 11:16:18.285: E/AndroidRuntime(11651):    at java.lang.reflect.Method.invoke(Method.java:507)\n09-08 11:16:18.285: E/AndroidRuntime(11651):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:842)\n09-08 11:16:18.285: E/AndroidRuntime(11651):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:600)\n09-08 11:16:18.285: E/AndroidRuntime(11651):    at dalvik.system.NativeStart.main(Native Method)\n09-08 11:16:18.285: E/AndroidRuntime(11651): Caused by: java.lang.IllegalStateException: Invalid tables\n09-08 11:16:18.285: E/AndroidRuntime(11651):    at android.database.sqlite.SQLiteDatabase.findEditTable(SQLiteDatabase.java:1127)\n09-08 11:16:18.285: E/AndroidRuntime(11651):    at android.database.sqlite.SQLiteQueryBuilder.query(SQLiteQueryBuilder.java:330)\n09-08 11:16:18.285: E/AndroidRuntime(11651):    at android.database.sqlite.SQLiteQueryBuilder.query(SQLiteQueryBuilder.java:280)\n09-08 11:16:18.285: E/AndroidRuntime(11651):    at ashton.android.personal.worktc.database.worktcContentProvider.query(worktcContentProvider.java:104)\n09-08 11:16:18.285: E/AndroidRuntime(11651):    at android.content.ContentProvider$Transport.query(ContentProvider.java:187)\n09-08 11:16:18.285: E/AndroidRuntime(11651):    at android.content.ContentResolver.query(ContentResolver.java:267)\n09-08 11:16:18.285: E/AndroidRuntime(11651):    at ashton.android.personal.worktc.views.WorkView.onFinishInflate(WorkView.java:96)\n09-08 11:16:18.285: E/AndroidRuntime(11651):    at android.view.LayoutInflater.rInflate(LayoutInflater.java:631)\n09-08 11:16:18.285: E/AndroidRuntime(11651):    at android.view.LayoutInflater.inflate(LayoutInflater.java:408)\n09-08 11:16:18.285: E/AndroidRuntime(11651):    at android.view.LayoutInflater.inflate(LayoutInflater.java:320)\n09-08 11:16:18.285: E/AndroidRuntime(11651):    at android.view.LayoutInflater.inflate(LayoutInflater.java:276)\n09-08 11:16:18.285: E/AndroidRuntime(11651):    at android.view.View.inflate(View.java:8884)\n09-08 11:16:18.285: E/AndroidRuntime(11651):    at ashton.android.personal.worktc.controllers.WorkActivity.onCreate(WorkActivity.java:30)\n09-08 11:16:18.285: E/AndroidRuntime(11651):    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)\n09-08 11:16:18.285: E/AndroidRuntime(11651):    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1615)\n09-08 11:16:18.285: E/AndroidRuntime(11651):    ... 11 more\n</code></pre>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":115,"score":0,"question_id":12331459,"title":"Android SQLite database not updating using pre populated sqlite database have to unstall and reinstall","body":"<p>Here is my question. I have a app I have uploaded to the Google play store. The app works fine until it gets to the part where I added new records to my database for a level I created in a pre-populated sqlite database, when I get to this particular level it crashes. Like the new information was not created. the code is below. I have read that I need to create a version variable and increment it, in the onupgrade() method. but I am new to this sqlite learning. If I create a version variable will the code keep track of it?, do I have to rename the database with a version number, please help.</p>\n\n<p>I have tried following the following this example <a href=\"http://stackoverflow.com/questions/9727137/updating-sqlite-database-android\">here</a>, and it seems to be what I am looking for, but my question is looking at that the example is the versioning all done within code or do I have to append a version number to my *.db file.</p>\n\n<pre><code>package com.xtremeware.straighthoodtrivia.db;\n\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport android.content.Context;\nimport android.database.Cursor;\nimport android.database.SQLException;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.database.sqlite.SQLiteException;\nimport android.database.sqlite.SQLiteOpenHelper;\n\nimport com.xtremeware.straighthoodtrivia.quiz.Question;\n\npublic class DBHelper extends SQLiteOpenHelper\n{   \n// The androids's default system path of the application database.\nprivate static String DB_PATH = \"/data/data/com.xtremeware.straighthoodtrivia    /databases/\";\nprivate static String DB_NAME = \"QuestionsDb\";\nprivate SQLiteDatabase myDataBase;\nprivate final Context myContext;\n\n// Constructor\n// Takes and keeps a reference of the passed context in order to access to the \n// applications assets and resources.\n// @ context\n\npublic DBHelper(Context context)\n{\n    super(context, DB_NAME, null, 1);\n    this.myContext = context;\n}\n\n// Creates a empty database on the system and rewrites it with my own database\npublic void createDataBase() throws IOException\n{\n    boolean dbExist = checkDataBase();\n    if(!dbExist)\n    {\n        // By calling this method an empty database will be created into the default system path\n        // of my application so I am gonna be able to overwrite the database with my database.\n        this.getReadableDatabase();\n         try \n         {\n             copyDataBase();\n         }\n         catch (IOException e)\n         {\n             throw new Error(\"Error copying database\");\n         }\n    }\n}\n\n// Check if the database already exists to avoid re-copying the file each time you open the application.\n// @return true if it exists, false if it doesn't\n\nprivate boolean checkDataBase()\n{\n    SQLiteDatabase checkDB = null;\n    try\n    {\n        String myPath = DB_PATH + DB_NAME;\n        checkDB = SQLiteDatabase.openDatabase(myPath, null, SQLiteDatabase.OPEN_READONLY);\n    }\n    catch (SQLiteException e)\n    {\n        // Database doesn't exist yet.\n    }\n    if(checkDB != null)\n    {\n        checkDB.close();\n    }\n\n    return checkDB != null ? true : false;\n}\n\n// Copies the database from your local assets-folder to the just created empty database in \n// the system folder, from where it can be accessed and handled.\n// This is done by transferring bytestreams.\n\nprivate void copyDataBase() throws IOException\n{\n    // Open your local db as the input stream\n    InputStream myInput = myContext.getAssets().open(DB_NAME);\n\n    // Path to the empty db just created\n    String outFileName = DB_PATH + DB_NAME;\n\n    // Open the empty db as the output stream\n    OutputStream myOutput = new FileOutputStream(outFileName);\n\n    // Transfer bytes from the inputfile to the output file\n    byte[] buffer = new byte[1024];\n    int length;\n    while ((length = myInput.read(buffer))&gt;0)\n    {\n        myOutput.write(buffer, 0, length);\n    }\n\n    // Close the streams\n    myOutput.flush();\n    myOutput.close();\n    myInput.close();\n}\n\npublic void openDataBase() throws SQLException\n{\n    // Open the database\n    String myPath = DB_PATH + DB_NAME;\n    myDataBase = SQLiteDatabase.openDatabase(myPath, null, SQLiteDatabase.OPEN_READONLY);\n\n}\n\n@Override\npublic synchronized void close()\n{\n    if(myDataBase != null)\n        myDataBase.close();\n    super.close();\n}\n\n@Override\npublic void onCreate(SQLiteDatabase db)\n{\n}\n\n@Override\npublic void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion)\n{\n}\n</code></pre>\n"},{"tags":["php","sqlite","oop","database-design","orm"],"answer_count":4,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":56,"score":4,"question_id":12332240,"title":"Table structure, one-field-per-row VS all-data-in-one","body":"<p>A question about table structure.</p>\n\n<p>Here is a small scenario to introduce the question:\nImagine you want to store objects of a class (let A) in a table.</p>\n\n<p>You have two possible table structure to do so:</p>\n\n<pre><code>Structure A: \"one field per row\":\nid (int),\nname (text),\ncredit (int),\nbirthday (date).\n\nStructure B: \"all data in one row\":\nid (int),\ndata (bigtext).\n</code></pre>\n\n<p>Consider the following:</p>\n\n<ul>\n<li>You will NEVER execute requests filtering/sorting the fields name/credit/birthday</li>\n<li>Before editing a field, you want to load the object</li>\n<li>Fields name/credit/birthday have no options/modifiers (keys/unique/...)</li>\n</ul>\n\n<p><strong>What is the difference between theses two table structure ?</strong></p>\n\n<p>.</p>\n\n<p>Concretely, I'm doing a PHP/SQLITE app that - at one point - needs to store objects in database. I'd like to be able to easily add db-stored-class without having to edit my db scheme each time  I do so. Using \"structure B\" would allow me to do so.\nIt may look dirty and yea you've probably be teached that you need to have nicely typed rows.. but why not ?</p>\n\n<p>Isn't the main advantage of \"structure A\" only the effectiveness of select filters and updates ?</p>\n"},{"tags":["sqlite","sequel"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":74,"score":0,"question_id":12330597,"title":"Sequel - Group by a Date Column by Month","body":"<p>I have a table with a date column where date is stored in this format -</p>\n\n<pre><code>2012-08-01 16:39:17.601455+0530\n</code></pre>\n\n<p>How do I 'group' or 'group_and_count' on this column by 'month'?</p>\n"},{"tags":["android","query","sqlite","cursor"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":69,"score":0,"question_id":12330928,"title":"where \"not null\" clause in sqlite android","body":"<p>I want to retrieve notes from database where notes are (not null), I wrote the following code:</p>\n\n<pre><code>public Cursor getmynotesss(int id){\n    Cursor mCursor = database.query(true, NOTES_TABLE, new String[] {\n            NOTE_TEXT, PAGE_NO,BOOK_ID},BOOK_ID + \"=? AND \"+NOTE_TEXT+\" IS NOT NULL OR \"+NOTE_TEXT+\" != ''\" ,\n            new String[] { String.valueOf(id) }, null, null, null, null);\n\n    if (mCursor != null) {\n        mCursor.moveToFirst();\n    }\n    return mCursor;\n}\n</code></pre>\n\n<p>but it still gives me the null notes. \nwhat is the wrong in my code?</p>\n"},{"tags":["sqlite","greendao"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":12330432,"title":"GreenDao library(SQL) Self table Many-To-Many","body":"<p>I'm trying to build self many to many relation for USER table to itself - USER table.\nThe idea is that each user might have some friends users and vice versa.</p>\n\n<p>I'm doing it with a junction function but then when I'm trying to compile it I'm getting the exception:</p>\n\n<p>Exception in thread \"main\" java.lang.RuntimeException: Duplicate name for ToOne 'User' from UsersJoinFollowedUsers to User</p>\n\n<pre><code>at de.greenrobot.daogenerator.Entity.init3rdPassRelations(Entity.java:559)\n\nat de.greenrobot.daogenerator.Entity.init3ndPass(Entity.java:550)\n\nat de.greenrobot.daogenerator.Schema.init3ndPass(Schema.java:185)\n\nat de.greenrobot.daogenerator.DaoGenerator.generateAll(DaoGenerator.java:94)\n\nat de.greenrobot.daogenerator.DaoGenerator.generateAll(DaoGenerator.java:79)\n\nat de.greenrobot.daogenerator.gentest.CodeGenerator.main(CodeGenerator.java:84)\n</code></pre>\n\n<p>It happens because the junction function points twice to the same entity - USER:</p>\n\n<p>USER TABLE |    JUNCTION_TABLE | USER TABLE</p>\n\n<p>left relation: USER -> JUNCTION -> USER</p>\n\n<p>right relation: USER&lt;- JUNCTION &lt;- USER</p>\n\n<p>So I'm guessing that the question is how to create this kind of self Many-To-Many in GreenDao.</p>\n\n<p>PS - I saw in the website some minimal turorial about TreeEntity, but it minimal and TreeEntity doesn't exist at all so I think it was a wording mistake.</p>\n\n<p>Thanks</p>\n"},{"tags":["android","database","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":12317280,"title":"Unable to upgrade database","body":"<p>below is my database code, and I am trying to upgrade it by changing the version number but\nthe when I run the table is not recreating or altering... anything wrong in the code plz help</p>\n\n<pre><code>public class DBHelper extends SQLiteOpenHelper {\n    public static final int db_version = 1;\n    private static final String CL_CITY = null;\n    public static final String COL_NAME = \"pName\";\n    //private static final String TABLE_NAME = CL_CITY;\n    public static String TAG = DBHelper.class.getName();\n    public static String DB_PATH = \"data/data/org.clock/database/\";\n    private static String STATUS= \"STATUS\";\n    private static String dbName = \"clock.db\";\n    private static final String STRING_ALTER = \"ALTER TABLE \"+CL_CITY+\" ADD \"+STATUS+\" STATUS\";\n\n\n    protected SQLiteDatabase dataBase;\n    protected Context context;\n    //private Context context;\n    private static SQLiteDatabase checkDB = null;\n    public DBHelper(Context context, String dbName) {\n        super(context, dbName, null, 34);\n        //this.dbName = dbName;\n        this.context = context;\n    }\n\n    public void createDb() throws IOException {\n        boolean dbExist = checkDataBase();\n        Log.d(TAG, \"DBChecking............ dbExist : \" + dbExist);\n        if (!dbExist) {\n            this.getReadableDatabase();\n            try {\n                copyDataBase();\n            } catch (IOException e) {\n                Log.d(TAG, \"Error cloneing database\" + e);\n            }\n        }\n    }\n\n    private boolean checkDataBase() {\n\n        try {\n            if(checkDB == null){\n                String path = DB_PATH + dbName;\n                Log.d(TAG, \"checkDataBase path=\" + path);\n                checkDB = SQLiteDatabase.openDatabase(path, null, SQLiteDatabase.OPEN_READONLY);\n            }\n        } catch (SQLiteException e) {\n            Log.e(TAG, \"DBChecking............ \", e);\n        }\n        /*if (checkDB != null) {\n            checkDB.close();\n        }*/\n        return checkDB != null ? true : false;\n    }\n\n    private void copyDataBase() throws IOException {\n        Log.i(TAG, \"copyDataBase database...\");\n        File file = new File(DB_PATH);\n        Log.i(TAG, \"cloneDataBase file=\" + file);\n        file.mkdirs();\n        InputStream dbInput = context.getAssets().open(dbName);\n        String outPutFile = DB_PATH + dbName;\n        Log.i(TAG, \"copyDataBase outPutFile=\" + outPutFile);\n        OutputStream dbOutPut = new FileOutputStream(outPutFile);\n        byte[] buffer = new byte[1024];\n        Log.i(TAG, \"copyDataBase buffer=\" + buffer);\n        int length;\n        while ((length = dbInput.read(buffer)) &gt; 0) {\n            dbOutPut.write(buffer, 0, length);\n        }\n        dbOutPut.flush();\n        dbOutPut.close();\n        dbInput.close();\n    }\n\n    public void openDb() throws SQLException {\n        String dbPath = DB_PATH + dbName;\n        dataBase = SQLiteDatabase.openDatabase(dbPath, null,\n                SQLiteDatabase.OPEN_READWRITE);\n    }\n\n    @Override\n    public synchronized void close() {\n        if (dataBase != null)\n            dataBase.close();\n        super.close();\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n\nif (newVersion &gt; oldVersion){\n\n    //db.execSQL(\"CREATE TABLE \"+\"staff\"+\" (_id INTEGER PRIMARY KEY AUTOINCREMENT, \"\n          // +COL_NAME+\" TEXT);\");\n\n           db.execSQL(\"STRING_ALTER \");\n\n    }\n    }}\n</code></pre>\n"},{"tags":["android","sqlite","webview"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":1,"view_count":29,"score":0,"question_id":12330025,"title":"SQLiteDiskIOException: error code 10: disk I/O error on Web view","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/7009699/sqlitediskioexception-error-code-10-disk-i-o-error\">SQLiteDiskIOException: error code 10: disk I/O error</a>  </p>\n</blockquote>\n\n\n\n<p>I am getting the following error while opening a web view. I cant figure-out why its happening. Any suggestion?</p>\n\n<p>Log Cat:</p>\n\n<pre><code>    09-08 16:09:35.520: E/AndroidRuntime(21712): FATAL EXCEPTION: Thread-24\n09-08 16:09:35.520: E/AndroidRuntime(21712): android.database.sqlite.SQLiteDiskIOException: error code 10: disk I/O error\n09-08 16:09:35.520: E/AndroidRuntime(21712):    at android.database.sqlite.SQLiteStatement.native_1x1_long(Native Method)\n09-08 16:09:35.520: E/AndroidRuntime(21712):    at android.database.sqlite.SQLiteStatement.simpleQueryForLong(SQLiteStatement.java:131)\n09-08 16:09:35.520: E/AndroidRuntime(21712):    at android.database.DatabaseUtils.longForQuery(DatabaseUtils.java:714)\n09-08 16:09:35.520: E/AndroidRuntime(21712):    at android.database.DatabaseUtils.longForQuery(DatabaseUtils.java:702)\n09-08 16:09:35.520: E/AndroidRuntime(21712):    at android.database.sqlite.SQLiteDatabase.getVersion(SQLiteDatabase.java:1209)\n09-08 16:09:35.520: E/AndroidRuntime(21712):    at android.webkit.WebViewDatabase.initDatabase(WebViewDatabase.java:236)\n09-08 16:09:35.520: E/AndroidRuntime(21712):    at android.webkit.WebViewDatabase.init(WebViewDatabase.java:206)\n09-08 16:09:35.520: E/AndroidRuntime(21712):    at android.webkit.WebViewDatabase.access$000(WebViewDatabase.java:38)\n09-08 16:09:35.520: E/AndroidRuntime(21712):    at android.webkit.WebViewDatabase$1.run(WebViewDatabase.java:187)\n09-08 16:09:35.520: W/ActivityManager(142):   Force finishing activity palmagent.Ticor.Two/.HtmlViewer\n09-08 16:09:35.540: W/ActivityManager(142):   Force finishing activity palmagent.Ticor.Two/.RentvsBuyResult\n09-08 16:09:35.650: E/hwcomposer(86): assign_rotate_buffer: no free slots!\n</code></pre>\n"},{"tags":["sqlite","phonegap","datajs"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":99,"score":0,"question_id":12326336,"title":"Get data from OData with datajs and save to sqlite in phonegap","body":"<p>I am developing an app in phonegap which get data from OData with datajs and save it to sqlite. datajs works fine, but when I try to save data to sqlite I get the error <strong>\" E/Web Console(11533): Uncaught Error: INVALID_STATE_ERR: DOM Exception 11 at file:///android_asset/www/js/core/Sincronizacion.js:19\"</strong></p>\n\n<p>This is the code:</p>\n\n<pre><code>function SincronizarClientes()  // This function runs after a button click\n{\n    var db = window.openDatabase(\"TestDb\", \"1.0\", \"TestDb - 1\", 2000000);\n    db.transaction(ActualizarClientes, FalloSincronizacion, OkSincronizacion);  \n}  \n\n\nfunction ActualizarClientes(tx)\n{\n\n    OData.read(\"http://192.168.0.4:30003/TeyunaServices.svc/Clientes?$filter=EQUIPO eq 'T1' and startswith(NOM_UCLIENTE, 'MIGUEL') eq true\",\n    function (data, request) {\n        var html = \"\", sql = \"\";\n        for (var i = 0; i &lt; data.results.length; i++) {\n            html += \"&lt;div&gt;\" + data.results[i].NOM_UCLIENTE + \"&lt;/div&gt;\";\n            sql = \"INSERT OR REPLACE INTO Clientes (Cod_UCliente, Nom_UCliente, Fecha_Actualizacion) VALUES ('\" + data.results[i].COD_UCLIENTE + \n                          \"','\" + data.results[i].NOM_UCLIENTE + \"', datetime())\";\n            //sql = \"INSERT OR REPLACE INTO Clientes (Cod_UCliente, Nom_UCliente, Fecha_Actualizacion) VALUES ('00012125', 'PEDRO PEREZ PINTO', datetime())\";              \n            tx.executeSql(sql);  //This is line 19\n            alert(sql);\n        }\n        document.getElementById(\"mainContent\").innerHTML = sql;\n\n        alert(\"Los clientes se actualizaron correctamente!\");\n    },  function(err) {\n            alert(\"Error occurred \" + err.message);\n        }\n    );   \n}\n\n// Transaction error callback\n//    \nfunction FalloSincronizacion(tx, err) {\n    alert(\"Error actualizando los clientes: \" + err);\n}\n\n// Transaction success callback\n//\nfunction OkSincronizacion() {\n\n}\n</code></pre>\n"},{"tags":["sqlite","import"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":12328756,"title":"Importing Excel file to SQLite (using SQLite Admin Tool)","body":"<p>Excel file is not able to import to SQLite. How to import Excel file to SQLite (using SQLite Admin Tool) without any code?</p>\n"},{"tags":["android","database","eclipse","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":87,"score":-1,"question_id":11055796,"title":"Why won't be SQLite Database update? Adding a Column","body":"<p>I have tried looking though several of the already asked question about this topic but I still can not get my file to work. I think maybe some direct direct help might be just what i need, so I humbly ask the community for help. Thank you for your time</p>\n\n<pre><code>public class RemindersDbAdapter {\n\n//\n// Database Related Constants\n//\nprivate static final String DATABASE_NAME = \"data\";\nprivate static final String DATABASE_TABLE = \"reminders\";\nprivate static final int DATABASE_VERSION = 3;\n\npublic static final String KEY_TITLE = \"title\";\npublic static final String KEY_CUSTOMER = \"body\";\npublic static final String KEY_DATE_TIME = \"reminder_date_time\";\npublic static final String KEY_END_TIME = \"reminder_end_time\";\npublic static final String KEY_ROWID = \"_id\";\n\n\nprivate static final String TAG = \"ReminderDbAdapter\";\nprivate DatabaseHelper mDbHelper;\nprivate static SQLiteDatabase mDb;\n\n/**\n * Database creation SQL statement\n */\nprivate static final String DATABASE_CREATE =\n        \"create table \" + DATABASE_TABLE + \" (\"\n                + KEY_ROWID + \" integer primary key autoincrement, \"\n                + KEY_TITLE + \" text not null, \" \n                + KEY_CUSTOMER + \" text not null, \" \n                + KEY_DATE_TIME + \" text not null);\" ;\n\n\n\nprivate final Context mCtx;\n\nprivate static class DatabaseHelper extends SQLiteOpenHelper \n{\n\n    DatabaseHelper(Context context) \n    {\n\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) \n    {\n        db.execSQL(DATABASE_CREATE);\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion)\n    {\n        Log.w(TAG, \"Upgrading database from version \" + oldVersion + \" to \"\n                + newVersion + \", which will destroy all old data\");\n        db.execSQL(\"DROP TABLE IF EXISTS \" + DATABASE_TABLE);\n\n        //Adding a Column \n     // If you need to add a column\n        if (newVersion &gt; oldVersion) \n        {\n            //example I tried pulling from the internet\n            db.execSQL(\n                \"ALTER TABLE foo ADD COLUMN new_column INTEGER DEFAULT 0\");\n        }\n\n        onCreate(db);\n    }\n}\n</code></pre>\n"},{"tags":["sql","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":12329003,"title":"SQLite - Returning column total w/all rows","body":"<p>I have the following SQLite table:</p>\n\n<pre><code>transaction_amount     transaction_date\n50                     09/06/2012\n50                     09/06/2012\n75                     09/07/2012\n</code></pre>\n\n<p>I wish to get the total amount for the column, transaction_amount. If I write my SQL query like this:</p>\n\n<pre><code>SELECT transaction_amount,transaction_date, SUM(transaction_amount) AS \nTotal FROM prepaid_tbl WHERE playerID = 17 ORDER BY id DESC\n</code></pre>\n\n<p>I get the following result:</p>\n\n<pre><code> transaction_amount     transaction_date  Total\n 75                     09/07/2012        175\n</code></pre>\n\n<p>I need all three rows returned along with the total. So, if I write the SQL Statement like this:</p>\n\n<pre><code>SELECT transaction_amount,transaction_date,(SELECT SUM(transaction_amount) \nFROM prepaid_tbl WHERE playerID = 17)Total FROM prepaid_tbl WHERE \nplayerID = 17 ORDER BY id DESC\n</code></pre>\n\n<p>I now get the results I am looking for:</p>\n\n<pre><code>transaction_amount     transaction_date    Total\n50                     09/06/2012          175\n50                     09/06/2012          175\n75                     09/07/2012          175\n</code></pre>\n\n<p>So, my simple question is this the best method/practice for getting my desired results. I am not an SQL expert by any means, so I am still  uncertain as to why the first method isn't returning the results I want. Any insight is certainly appreciated.</p>\n\n<p>Thanks, in advance.</p>\n"},{"tags":["sqlite","triggers"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":12326757,"title":"SQLite Alter Trigger","body":"<p>I am new to SQLite and am trying to find the best way to alter a trigger Is it possible to alter a SQLite trigger or do I need to drop it and recreate it?</p>\n"},{"tags":["objective-c","cocoa","sqlite","touch","fmdb"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1461,"score":1,"question_id":4338834,"title":"Error for open connect of database with FMDB","body":"<p>When I'm going to open connect with database, console says: \"error opening!: 14\".\nI included \"mybase.sqlite\" on folder Resources of my project and I'm using the FMDB framework.</p>\n\n<p>For open connect I'm using this code:</p>\n\n<pre><code> NSAutoreleasePool * pool = [[NSAutoreleasePool alloc] init];    \n    FMDatabase* db = [FMDatabase databaseWithPath:@\"/mybase.sqlite\"];\n    if (![db open]) {\n        NSLog(@\"Não abriu o banco de dados.\");\n        [pool release];\n        return 0;\n    }\n</code></pre>\n\n<p>In AppDelegate, I included this code:</p>\n\n<pre><code>- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary\n*)launchOptions {    \n\n    // Override point for customization after application launch.  HomeViewController *homeVC = [[HomeViewController alloc] init];  navigationController = [[UINavigationController alloc] initWithRootViewController:homeVC];    [self createEditableCopyOfDatabaseIfNeeded];  [window addSubview:navigationController.view];\n    [window makeKeyAndVisible]; \n    return YES; }\n\n- (void)createEditableCopyOfDatabaseIfNeeded{  BOOL success;  NSFileManager\n*fileManager = [NSFileManager defaultManager];  NSError *error;  NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);  NSString\n*documentsDirectory = [paths objectAtIndex:0];  NSString\n*writableDBPath = [documentsDirectory stringByAppendingPathComponent:@\"mybase.sqlite\"];  success = [fileManager fileExistsAtPath:writableDBPath];  NSLog(@\"Success %d\", success);  if (success) return;    NSString\n*defaultDBPath = [[[NSBundle mainBundle] resourcePath] stringByAppendingPathComponent:@\"mybase.sqlite\"];  success = [fileManager copyItemAtPath:defaultDBPath toPath:writableDBPath error:&amp;error];  if (!success) {   NSAssert1(0, @\"Failed to create writable database file with message '%@'.\", [error localizedDescription]);  }  }\n</code></pre>\n"},{"tags":["android","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":12324413,"title":"Executing 120k queries in android","body":"<p>I am doing some sort of benchmark for sqlite android. If I were to pre-load total of 120k before executing, will most device have enough memory? While the queries are executing, there are also other threads that are going on so memory might be the problem. How can I make use of the onLowMemory() method? There doesn't seem to be much examples on using that method. Thanks for any advice.</p>\n"},{"tags":[".net","sqlite","ado.net"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":137,"score":0,"question_id":11894941,"title":"SQLite: How do I connect to an in-memory, shared cache database?","body":"<p>I'm trying out the in-memory shared cache feature of SQLite 3.7.13, via the ADO.NET provider.\nThe following connect string works, but yields a non-shared-cache db:</p>\n\n<pre><code>Data Source=:memory:\n</code></pre>\n\n<p>When I try any of these:</p>\n\n<pre><code>Data Source=:memory:?cache=shared\nData Source=file::memory:?cache=shared\nData Source=file:x?mode=memory&amp;cache=shared\n</code></pre>\n\n<p>I get the following <code>ArgumentException</code> when opening a connection:</p>\n\n<pre><code>Invalid ConnectionString format for parameter \"Data Source\"\n</code></pre>\n\n<p>What should the connect string look like for SQLite in-memory shared-cache databases?</p>\n"},{"tags":["javascript","jquery","sqlite","loops"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":12323086,"title":"javascript executesql inside another executesql","body":"<p>Hi I want to create a var that will contain the entryseason data from bill table and amount from billpayments table as follows:</p>\n\n<p>entryseason a amount a\nentryseason b amount b\nentryseason c amount c</p>\n\n<p>In order to do this i write the follwowing code</p>\n\n<pre><code>function printfunction(receiptno){\nalert(receiptno);\nvar print_entryseason = '';\nvar myamount = '';\n\n    $.mobile.notesdb.transaction(function(t) {\n        t.executeSql('SELECT barcode, buildingcode, buildingaddress, flatname, flatdescription, entryseason, period, amount, pastpayments, todaypayments, receiptno FROM bill WHERE receiptno = ?',\n        [receiptno],\n        function(t, resultprint) {\n            var i,\n                j,\n\n                len = resultprint.rows.length,\n                row = 0,\n                row1 = 0;\n\n            for (i = 0; i &lt; len; i += 1) {\n                row = resultprint.rows.item(i);\n                print_entryseason = print_entryseason + \" \"+ row.entryseason;\n                    t.executeSql('SELECT barcode, amount, receiptno FROM billpayments WHERE barcode = ? AND receiptno = ?',\n                    [row.barcode, receiptno],\n                    function(t, resultamount) {\n                        row1 = resultamount.rows.item(0);\n                        myamount = row1.amount;\n                        alert(myamount);\n                        print_entryseason = print_entryseason + \" \"+ row.entryseason + \" \" + row1.amount;\n                    });\n                alert(print_entryseason);\n            }\n\n        })\n    });\n}\n</code></pre>\n\n<p>but I receive in alert entryseason a entryseason b entryseason c and in alert myamount amount a and at the next loop amount and so on...</p>\n\n<p>Please advice</p>\n"},{"tags":["c#","sqlite",".net-3.5","sqlite3"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":192,"score":1,"question_id":9945423,"title":"SQLite date comparison on non-valid Timestring formats","body":"<p>I want to get entries from a SQLite database by date.</p>\n\n<p>SQLite valid timestring formats are listed <a href=\"http://www.sqlite.org/cvstrac/wiki?p=DateAndTimeFunctions\" rel=\"nofollow\">here</a> as:</p>\n\n<pre><code>YYYY-MM-DD\nYYYY-MM-DD HH:MM\nYYYY-MM-DD HH:MM:SS\nYYYY-MM-DD HH:MM:SS.SSS\nYYYY-MM-DDTHH:MM\nYYYY-MM-DDTHH:MM:SS\nYYYY-MM-DDTHH:MM:SS.SSS\nHH:MM\nHH:MM:SS\nHH:MM:SS.SSS\nnow\nDDDD.DDDD \n</code></pre>\n\n<p>I have another format in the database that is <code>D/M/YYYY</code></p>\n\n<p>Is there a way to compare dates in this database (and select entries accordingly) without having to select, parse and compare all the <code>DateTime</code> objects from all rows in the table?</p>\n"},{"tags":["android","database","sqlite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":63,"score":0,"question_id":12306957,"title":"Data won't save to SQL database, getting error \"close() was never explicitly called on database\"","body":"<p>I have a save button in the activity where the user enters data which does this:</p>\n\n<pre><code>String subjectName = etName.getText().toString();\nString subjectColour = etColour.getText().toString();\n\nSQLDatabase entrySubject = new SQLDatabase(AddSubject.this);\nentrySubject.open();\nentrySubject.createSubjectEntry(subjectName, subjectColour);\nentrySubject.close();\n</code></pre>\n\n<p>Which refers to this SQL database class:</p>\n\n<pre><code>package com.***.schooltimetable;\n\nimport android.content.ContentValues;\nimport android.content.Context;\nimport android.database.Cursor;\nimport android.database.SQLException;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.database.sqlite.SQLiteOpenHelper;\n\npublic class SQLDatabase {\n\npublic static final String KEY_SUBJECTS_ROWID = \"_id\";\npublic static final String KEY_SUBJECTNAME = \"name\";\npublic static final String KEY_COLOUR = \"colour\";\n\nprivate static final String DATABASE_NAME = \"Database\";\nprivate static final String DATABASE_TABLE_SUBJECTS = \"tSubjects\";\nprivate static final int DATABASE_VERSION = 1;\n\nprivate DbHelper ourHelper;\nprivate final Context ourContext;\nprivate SQLiteDatabase ourDatabase;\n\nprivate static class DbHelper extends SQLiteOpenHelper {\n\n    public DbHelper(Context context) {\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\n        // TODO Auto-generated constructor stub\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        // TODO Auto-generated method stub\n        db.execSQL(\"CREATE TABLE \" + DATABASE_TABLE_SUBJECTS + \" (\"\n                + KEY_SUBJECTS_ROWID\n                + \" INTEGER PRIMARY KEY AUTOINCREMENT, \" + KEY_SUBJECTNAME\n                + \" TEXT NOT NULL, \" + KEY_COLOUR + \" TEXT NOT NULL);\");\n\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n        // TODO Auto-generated method stub\n        db.execSQL(\"DROP TABLE IF EXISTS \" + DATABASE_TABLE_SUBJECTS);\n        onCreate(db);\n    }\n\n}\n\npublic SQLDatabase(Context c) {\n    ourContext = c;\n}\n\npublic SQLDatabase open() throws SQLException {\n    ourHelper = new DbHelper(ourContext);\n    ourDatabase = ourHelper.getWritableDatabase();\n    return this;\n}\n\npublic void close() {\n    ourHelper.close();\n}\n\npublic long createSubjectEntry(String subjectName, String subjectColour) {\n    // TODO Auto-generated method stub\n    ContentValues cv = new ContentValues();\n    cv.put(KEY_SUBJECTNAME, subjectName);\n    cv.put(KEY_COLOUR, subjectColour);\n    return ourDatabase.insert(DATABASE_TABLE_SUBJECTS, null, cv);\n}\n\npublic String[][] getSubjects() {\n    // TODO Auto-generated method stub\n    String[] Columns = new String[] { KEY_SUBJECTNAME, KEY_COLOUR };\n    Cursor c = ourDatabase.query(DATABASE_TABLE_SUBJECTS, Columns, null, null, null, null, null);\n    String[][] Result = new String[1][];\n\n    // int iRow = c.getColumnIndex(KEY_LESSONS_ROWID);\n    int iName = c.getColumnIndex(KEY_SUBJECTNAME);\n    int iColour = c.getColumnIndex(KEY_COLOUR);\n\n    for (c.moveToFirst(); !c.isAfterLast(); c.moveToNext()) {\n        Result[0][c.getPosition()] = c.getString(iName);\n        Result[1][c.getPosition()] = c.getString(iColour);\n\n        Settings.subjectCount = c.getPosition();\n        TimetableEntry.subjectCount = c.getPosition();\n    }\n    return Result;\n}\n</code></pre>\n\n<p>This class has other variables and other variations of the same methods for multiple tables in the database, i've cut out the irrelevant ones. I'm not sure what I need to close and where, I've got the entrySubject.close() in my activity. I used the methods for the database from <a href=\"http://www.youtube.com/watch?v=1JyC_xv20yE&amp;feature=bf_next&amp;list=EC2F07DBCDCC01493A\" rel=\"nofollow\">the NewBoston tutorials</a>.</p>\n\n<p>Can anyone see what I've done wrong, or where my problem is? Thanks.</p>\n"},{"tags":["ios","sqlite","core-data"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":12322371,"title":"Questions about CoreData and pre-populated models","body":"<p>To pre-populate CoreData in my app upon first launch, I have included a PreModel.sqlite file that was previously created by the app from data that it downloaded from a web service, which includes images.</p>\n\n<p>To populate the model, I do this:</p>\n\n<pre><code>- (NSPersistentStoreCoordinator *)persistentStoreCoordinator\n{    \n    if (_persistentStoreCoordinator != nil) {\n        return _persistentStoreCoordinator;\n    }\n\n    NSLog(@\"creating new store\");\n\n    NSURL *storeURL = [[self applicationDocumentsDirectory] URLByAppendingPathComponent:@\"PreModel.sqlite\"];\n\n    if(![[NSFileManager defaultManager] fileExistsAtPath:[storeURL path]]) {\n\n        NSString *sqlitePath = [[NSBundle mainBundle] pathForResource:@\"PreModel\" ofType:@\"sqlite\"];\n        if (sqlitePath) {\n            NSError *error = nil;\n            [[NSFileManager defaultManager] copyItemAtPath:sqlitePath toPath:[storeURL path] error:&amp;error];\n            if (error) {\n                NSLog(@\"Error copying sqlite database: %@\", [error localizedDescription]);\n            }\n        }\n    }     \n\n    NSError *error = nil;\n    _persistentStoreCoordinator = [[NSPersistentStoreCoordinator alloc] initWithManagedObjectModel:[self managedObjectModel]];\n    if (![_persistentStoreCoordinator addPersistentStoreWithType:NSSQLiteStoreType configuration:nil URL:storeURL options:nil error:&amp;error]) {\n\n        NSLog(@\"Unresolved error %@, %@\", error, [error userInfo]);\n        abort();\n    }   \n\n    return _persistentStoreCoordinator;\n}\n</code></pre>\n\n<p>It seems to work. But I have 2 questions:</p>\n\n<ol>\n<li>If the sqlite file is just a database file and does not actually contain any images, how is the app finding and loading the images on first launch?</li>\n<li>Even on subsequent runs of the app I see \"creating new store\" logged every time. Why is <code>_persistentStoreCoordinator</code> always nil? I am clearly setting it in the code.</li>\n</ol>\n"},{"tags":["sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12313664,"title":"SQLite : Hyphens getting replaced with â€“","body":"<p>I am inserting values like <code>CC1 - MasterCard 3456</code> into my SQLite database (using phonegap).\nBut somehow the inserted values look like <code>CC1 â€“ MasterCard 3456</code></p>\n\n<p>The hyphen <code>-</code> seems to be getting replaced with <code>â€“</code></p>\n\n<p>Whats the deal?</p>\n"},{"tags":["sql","database","query","sqlite","sql-update"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":2061,"score":1,"question_id":6099570,"title":"Sql query for updating database if value is not null?","body":"<p>I am having a table which has about 17 fields. I need to perform frequent updates in this table. But the issue is <strong>each time I may be updating only a few fields</strong>. Whats the best way to write a query for updating in such a scenario? I am looking for an option in which the <em>value gets updated only if it is not null</em>.</p>\n\n<p>For example I have four fields in database Say A,B,C,D.\nUser updates the value of say D. All other values remains the same. So I want an update query which updates only the value of D keeping the others unaltered.\n SO if i put a,b and c as null and d with the value supplied by user I want to write an update query which only updates the value of d as a,b and c is null.\nIs it something achievable? </p>\n\n<p>I am using SQLite database.</p>\n\n<p>Could someone please throw some light into it?\nThanks.</p>\n"},{"tags":["ios","sqlite","core-data"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":94,"score":1,"question_id":12311772,"title":"Core data with existing sqlite db","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/4131227/migrate-normal-sqlite3-database-to-core-data\">Migrate normal sqlite3 database to core data?</a>  </p>\n</blockquote>\n\n\n\n<p>Is it possible to load an existing sqlite db into core data? I'm facing troubles, Actually in the core data sample I found that it contains a db which is with z prefix to table name, and other attributes. What's the significance of that z? Also I saw in this blog <a href=\"http://ablogontech.wordpress.com/2009/07/13/using-a-pre-populated-sqlite-database-with-core-data-on-iphone-os-3-0/\" rel=\"nofollow\">http://ablogontech.wordpress.com/2009/07/13/using-a-pre-populated-sqlite-database-with-core-data-on-iphone-os-3-0/</a> to create a db using core data and load it which is a work around but not the proper method to load data to core data. I need to do lot of updates and queries on the table, please suggest whether to use sqlite directly or core data? If its core data, please suggest the best way to import existing sqlite file to core data</p>\n"},{"tags":["android","sqlite","mobile-development","calls","calllog"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":42,"score":-2,"question_id":12319112,"title":"Is it possible to edit CallLog (logs.db) via SQLite queries on Android?","body":"<p>As i mentioned in title, I wonder if it is possible to edit logs.db database which contain Calls and Messages via SQLite queries. I am interested in using collumn which is used by messages (m_content) to be used by calls. Default value for calls is Null, whilst for messages it is message text. I need to add some text to calls.</p>\n"},{"tags":["android","sqlite","crash","sharedpreferences","terminate"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":56,"score":-2,"question_id":12317651,"title":"How to clean data if Application crashes or is manual terminated?","body":"<p>when i was implementing last activity, a doubt came. My app stores and get some value from DB and SharedPreferences, so, is it possible to clean theme if my App crashes or is terminated ?</p>\n\n<p>With terminated i mean like someone who goes in \"Device Settings\" and manually terminates my App (or in other way). Maybe by a background check service ?</p>\n\n<p>Thx in advance</p>\n"},{"tags":["android","database","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":12317224,"title":"android: Database write access throwing exception","body":"<p>I am using the following code to insert an item in database. But each time i am getting the Exception. The HistoryItem has members: sectorCount=int; link=String; currentlyDownloadedBytes=long;</p>\n\n<p><b>Inside Activity</b>:</p>\n\n<pre><code>DatabaseHelper helper=new DatabaseHelper(getApplicationContext());\nhelper.checkAndInserItem(new HistoryItem(\"http://dummy.com/dummy.jpg\",4,2212),1000);\n</code></pre>\n\n<p><b>Inside DatabaseHelper</b>:</p>\n\n<pre><code>@Override\npublic void onCreate(SQLiteDatabase db) {\n    String CREATE_CONTACTS_TABLE = \"CREATE TABLE \" + TABLE_DOWNLOAD_ITEMS + \"(\"\n            + KEY_URL + \" TEXT PRIMARY KEY,\" + KEY_NUMBER_OF_SECTORS_USED + \" INTEGER,\"\n            + KEY_CURRENTLY_DOWNLOADED_BYTES + \" TEXT\"+\")\";\n    db.execSQL(CREATE_CONTACTS_TABLE);\n}\n\n\n\npublic void checkAndAddItem(HistoryItem item,int maxNumberOfItemsAllowedInDb) {\n   SQLiteDatabase db = this.getWritableDatabase();\n   ContentValues values = new ContentValues();\n   values.put(KEY_URL, item.link); //item.link is a string\n   values.put(KEY_NUMBER_OF_SECTORS_USED, item.sectorCount); //item.sectorCount is an Integer\n   values.put(KEY_CURRENTLY_DOWNLOADED_BYTES, \"\"+ item.currentlyDownloadedBytes );//item.currentlyDownloadedBytes is a long\n\n   String selectQuery = \"SELECT * FROM \" + TABLE_DOWNLOAD_ITEMS;\n\n\n   Cursor cursor = db.rawQuery(selectQuery, null);\n   int k=cursor.getCount();\n   if(k&lt;maxNumberOfItemsAllowedInDb)\n     db.insert(TABLE_DOWNLOAD_ITEMS, null, values);\n   else\n   {\n     if(cursor.moveToLast()) {\n          dummy=cursor.getString(0) ;\n          db.delete(TABLE_DOWNLOAD_ITEMS, KEY_URL + \" = ?\",\n                new String[] { dummy });\n          db.insert(TABLE_DOWNLOAD_ITEMS, null, values);\n          }  \n     }\ncursor.close();\ndb.close(); \n</code></pre>\n\n<p>}</p>\n\n<p><b>In logcat:</b></p>\n\n<pre><code>09-07 16:47:43.532: E/SQLiteDatabase(14450): Error inserting currentlyDownloadedBytes=2212 numberOfSectorsUsed=4 url=http://dummy.com/dummy.jpg&lt;\n09-07 16:47:43.532: E/SQLiteDatabase(14450): android.database.sqlite.SQLiteConstraintException: error code 19: constraint failed\n09-07 16:47:43.532: E/SQLiteDatabase(14450):    at android.database.sqlite.SQLiteStatement.native_executeInsert(Native Method)\n09-07 16:47:43.532: E/SQLiteDatabase(14450):    at android.database.sqlite.SQLiteStatement.executeInsert(SQLiteStatement.java:113)\n09-07 16:47:43.532: E/SQLiteDatabase(14450):    at android.database.sqlite.SQLiteDatabase.insertWithOnConflict(SQLiteDatabase.java:1839)\n09-07 16:47:43.532: E/SQLiteDatabase(14450):    at android.database.sqlite.SQLiteDatabase.insert(SQLiteDatabase.java:1712)\n09-07 16:47:43.532: E/SQLiteDatabase(14450):    at com.rahul.SpeedyDownload.lib.DownloadDatabaseHelper.checkAndAddItem(DownloadDatabaseHelper. java:73)\n09-07 16:47:43.532: E/SQLiteDatabase(14450):    at com.rahul.SpeedyDownload.lib.MultiConnectionDownloader$SectionDownloader.run(MultiConnectionDownloader.java:216)\n09-07 16:47:43.532: E/SQLiteDatabase(14450):    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:442)\n09-07 16:47:43.532: E/SQLiteDatabase(14450):    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:305)\n09-07 16:47:43.532: E/SQLiteDatabase(14450):    at java.util.concurrent.FutureTask.run(FutureTask.java:137)\n09-07 16:47:43.532: E/SQLiteDatabase(14450):    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1076)\n09-07 16:47:43.532: E/SQLiteDatabase(14450):    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:569)\n09-07 16:47:43.532: E/SQLiteDatabase(14450):    at java.lang.Thread.run(Thread.java:856)\n</code></pre>\n"},{"tags":["android","database","sqlite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":12313554,"title":"Android, How to manage opening/closing database connection when we have multiple tables?","body":"<p>I am looking for best approach to handling database connection. I have designed my application base on following method and works fine. However, sometimes application crashes especially on old model devices. Please look at my following method. </p>\n\n<p>I have a <code>DatabaseHelper</code> class which all of tables will be created here. This class is like this:</p>\n\n<pre><code>public class DatabaseHelper extends SQLiteOpenHelper {\npublic DatabaseHelper(Context context) {\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\n\n        Log.i(TAG, \"Object created.\");\n    }\n\n@Override\n    public void onCreate(SQLiteDatabase db) {\n        db.execSQL(CRT_TBL_1);\n        db.execSQL(CRT_TBL_2);\n        db.execSQL(CRT_TBL_3);\n        db.execSQL(CRT_TBL_4);\n        db.execSQL(CRT_TBL_5);\n        db.execSQL(CRT_TBL_6);\n        db.execSQL(CRT_TBL_7);\n        db.execSQL(CRT_TBL_8);\n    }\n\n@Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n        Log.w(DatabaseHelper.class.getName(), \"Upgrading database from version \" + oldVersion + \" to \" + newVersion + \", which will destroy all old data.\");\n\n        onCreate(db);\n    }\n}\n</code></pre>\n\n<p>As you have seen, I have 8 tables which provides data for 8 different activities. Implementation of handler class for one activity is like following code. </p>\n\n<pre><code>public class DatabaseHandler_1 {\n\n    private final String TAG = \"DatabaseHandler_1 \";\n\n    private DatabaseHelper dbHelper;\n    private SQLiteDatabase database;\n\n    public DatabaseHandler_1 (Context context) {\n        dbHelper = new DatabaseHelper(context);\n\n        Log.i(TAG, \"Object created.\");\n    }\n\n    public void open() throws SQLException {\n        database = dbHelper.getWritableDatabase();\n    }\n\n    public void close() {\n        dbHelper.close();\n    }\n\n// ... Other methods insert, update, query, ...\n}\n</code></pre>\n\n<p>Finally, based on required information one or some of them will be used in each activity.</p>\n\n<pre><code>public class Activity_1 {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        Log.i(TAG, \"Try to create activity...\");\n\n        // Creating Database/Table\n        dbHandler_1 = new DatabaseHandler_1 (this);\n        dbHandler_1 .open();\n        dbHandler_2 = new DatabaseHandler_2 (this);\n        dbHandler_2 .open();\n        dbHandler_3 = new DatabaseHandler_3 (this);\n        dbHandler_3 .open();\n    }\n\n     @Override\n     protected void onDestroy() {\n        super.onDestroy();\n\n        // Closing database\n        dbRecipesHandler.close();\n        dbFavoritsHandler.close();\n        dbShoppingHandler.close();\n     }\n\n        // Other methods for displaying data...\n}\n</code></pre>\n\n<p>When crashes happens logcat shows the connection is close while my application tries to query in database. I think scenario is like this:\nUser opens 1'st activity then he goes to second activity and then he goes to third activity. Now, if user clicks on back button third activity will be closed and onDestroy() method of this activity closes database connection. Because, second activity is still in memory, activity assumes that the connection is still open and when it wants to query into database, crash happens.</p>\n\n<p>Logcat shows a message like this: Database connection is close. You wanted to query...</p>\n\n<p>One solution is instead of letting Android OS handles database connection, we manually open connection and use it the manually close it.\nSecond solution is in Handler class manually open and close connection for each method.</p>\n\n<p>What is you suggestion? did you have any experience about it?\nAny suggestion would be appreciated.</p>\n"},{"tags":["android","sql","query","sqlite","delete"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":90,"score":0,"question_id":11900479,"title":"SQLite delete syntax error","body":"<p>This line, <code>mDatabase.execSQL(sql);</code>, gives me the following error:</p>\n\n<pre><code>{ sqlite returned: error code = 1, msg = near \"*\": syntax error }\n  for Delete * from table_name Query\n</code></pre>\n\n<p>My SQL query is : <code>DELETE * FROM table_name</code></p>\n\n<p>How can I solve this?</p>\n"}]}
