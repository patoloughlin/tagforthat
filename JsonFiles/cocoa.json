{"count":21848,"tag":"cocoa","questions":[{"tags":["iphone","cocoa","interface-builder"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":562,"score":1,"question_id":4117509,"title":"How in Interface Builder can you select a rectangular group of items when they're on top of a background item?","body":"<p>I've had this problem several times now, and never found a satisfactory solution:   If I want to move a group of items with a view all together in Interface Builder, and these items are all on top of a larger background item, I can't put a selection rectangle around the items in the view because any click and drag in the view initiates a move of the background item.   In other words, every pixel in the area I'm interested in (and nearby) has a \"hand\" mouse pointer, no \"arrow\" pointer is available so I can't drag out a rectangle selection box.</p>\n\n<p>cmd-clicking individual items  to build up the group only works when they are separate, and only when there are a few of them.  Sometimes I want to select a \"pile\" of items all on top of each other.</p>\n\n<p>Is there some way to \"select for moving\" by clicking in the .xib item list?   Double clicking a single item selects it for moving in the view, but I have't found a way to add to the \"select for moving\" selection this way.</p>\n\n<p>So far the best way I've found is temporarily moving the background out of the way and then putting it back but this is unsatisfactory, and wouldn't work with a more complex background arrangement.</p>\n\n<p>How have others done this?</p>\n"},{"tags":["objective-c","cocoa","nsnotificationcenter","nsnotification","nsevent"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":7,"score":0,"question_id":13280387,"title":"Is there a way to recognise from which application NSNotification / NSEvent came?","body":"<p>I have started listening to global <code>keyDown</code> events. Is there a way to get information from which application that event came?</p>\n\n<p>A handler receives <code>NSNotification</code> instance and <code>NSEvent</code> is part of it. Can I somehow extract that information from those objects?</p>\n\n<p>Listening snippet:</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>[NSEvent addGlobalMonitorForEventsMatchingMask:NSKeyDownMask handler:^(NSEvent *event){\n    NSLog(@\"global keyDown %@\", event);\n    [[NSNotificationCenter defaultCenter] postNotificationName:kKeyPressed\n                                                        object:event];\n\n}];\n</code></pre>\n\n<p>Observer:</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>[[NSNotificationCenter defaultCenter] addObserver:self\n                                         selector:@selector(keyEventHandler:)\n                                             name:kKeyPressed\n                                           object:nil];\n</code></pre>\n"},{"tags":["objective-c","cocoa","nsdata"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13280781,"title":"How to check if NSData has a multimedia content?","body":"<p>I have a NSData object, obtained from a URL request.Now I don't know how to read it.<br>\nHowever in my application I don't know if the data contains a video or not, so I would know:  </p>\n\n<ol>\n<li>How to know if NSData has some video inside it?</li>\n<li>How to interpret the data, reading it byte per byte?</li>\n</ol>\n"},{"tags":["cocoa","asynchronous","nsimage"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":133,"score":0,"question_id":7305570,"title":"Asynchronous images loading from the web in Cocoa","body":"<p>I am looking for a way to easyly load images from the web in Cocoa (for mac, not iOS)</p>\n\n<p>Any pointer?</p>\n\n<p>Thanks</p>\n"},{"tags":["cocoa","idioms"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":181,"score":2,"question_id":3470550,"title":"Is returning nil from a [[class alloc] init] considered good practice?","body":"<p>And is it a common idiom in Objective-C.</p>\n\n<p>I've only seen this used on [[NSImage alloc] initWithContentsOfFile: str] and it always make me think there is a memory leak, because i called alloc and the mantra is:\n\"Call alloc and you must call release\" - unless its one of the cases where you don't need to.</p>\n"},{"tags":["objective-c","cocoa","nsurlconnection","osx-mountain-lion","xcode4.5"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13280615,"title":"EXC_BAD_ACCESS after executing an asynchronous URL request","body":"<p>I am trying to execute an asynchronous URL request:  </p>\n\n<pre><code>    NSURLRequest* request=[NSURLRequest requestWithURL: [NSURL URLWithString: @\"http://www.youtube.com/\"]];\n    NSOperation* operation=[NSOperation new];\n    NSOperationQueue* queue=[NSOperationQueue new];\n    [operation setCompletionBlock: ^()\n     {\n     }];\n    [queue addOperation: operation];\n    [NSURLConnection sendAsynchronousRequest: request queue: queue completionHandler: ^(NSURLResponse* response, NSData* data, NSError* error)\n    {\n        NSLog(@\"%@\",[data bytes]);\n    }];\n</code></pre>\n\n<p>So I just need the data contained in the URL.But after few seconds (probably in the time that the newly created thread loads the data) the application crashes:  </p>\n\n<pre><code>thread 6 : EXC_BAD_ACCESS (code=13, address=0x0)\n</code></pre>\n\n<p>The exact point is objc_msgSend_vtable5, in the NSLog line, when I try to print data bytes.\nPS: I'm using ARC.</p>\n"},{"tags":["iphone","objective-c","ios","cocoa-touch","cocoa"],"answer_count":3,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":193,"score":4,"question_id":8528738,"title":"Is it generally bad practice to have many \"initWith\" parameters?","body":"<p>Say for instance I have an implementation of a UIView. The UIView contains a two labels, an image and a frame.</p>\n\n<p>My \"init\" method ends up looking like:</p>\n\n<pre><code>- (id)initWithFrameAndLabelArrayAndImage:(CGRect)frame:(NSArray *)labelArray:(UIImage *)image;\n</code></pre>\n\n<p>Is that considered bad practice? Is it better to have a simple \"initWithFrame\" method and have the other label and picture as @properties?</p>\n"},{"tags":["cocoa","nsattributedstring"],"answer_count":2,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":884,"score":4,"question_id":2194860,"title":"How to create a subscript with NSAttributedString","body":"<p>I see for NSAttributedString has a specific attribute for superscript, but I can't find one for subscript. What is the general practice for using NSAttributedString to create a subscript character?</p>\n\n<p>Example: H2O</p>\n"},{"tags":["python","objective-c","cocoa"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":9,"score":1,"question_id":13279277,"title":"Apple Mail.app set HTML signature with plugin","body":"<p>I've created a Mail.app plugin with Python to set a custom signature pulled from a remote server by swizzling the setSignature: method in ComposeBackEnd. As per the class dump below, I can set a plain text signature by using setSignatureContents: and this is functional. </p>\n\n<pre><code>@interface Signature : NSObject &lt;NSCopying&gt;\n{\n    NSString *_uniqueId;\n    NSString *_name;\n    NSData *_webArchiveData;\n    BOOL _isRich;\n    BOOL _isSavedAsRich;\n    BOOL _isDirty;\n    MFSyncedFile *_syncedFile;\n}\n\n- (id)syncedFile;\n- (id)signaturePath;\n- (unsigned long long)hash;\n- (BOOL)isEqual:(id)arg1;\n- (BOOL)isRich;\n- (void)setIsRich:(BOOL)arg1;\n- (void)setWebArchive:(id)arg1;\n- (id)webArchive;\n- (id)webArchiveData;\n.....\n- (void)setSignatureContents:(id)arg1;\n- (id)signatureContents;\n- (void)setSignatureName:(id)arg1;\n- (id)signatureName;\n\n@end\n</code></pre>\n\n<p>However when I attempt to set an HTML signature using setWebArchive: (which should take an NSData object):</p>\n\n<pre><code>signature.setWebArchive_(NSData.dataWithContentsOfURL_(NSURL.URLWithString_('http://...')))\n</code></pre>\n\n<p>I get the following error:</p>\n\n<pre><code>11/7/12 11:07:38.858 AM Mail[8820]: -[NSConcreteData data]: unrecognized selector sent to instance 0x7ffc2386bc00\n</code></pre>\n\n<p>(The remote file is already in the correct format)</p>\n\n<p>Is there any way to make this work? Thanks in advance.</p>\n\n<hr>\n\n<p>EDIT - tried this (returns WebArchive object which should respond to <code>-[data]</code>):</p>\n\n<pre><code>wds = WebDataSource.alloc().initWithRequest_(NSURLRequest.requestWithURL_(NSURL.URLWithString_('http://...')))\n        webarchive = wds.webArchive\n        signature.setWebArchive_(webarchive)\n</code></pre>\n\n<p>result:</p>\n\n<pre><code>11/7/12 3:26:59.173 PM Mail[16814]: An uncaught exception was raised\n11/7/12 3:26:59.173 PM Mail[16814]: Class OC_PythonObject: no such selector: data\n</code></pre>\n"},{"tags":["objective-c","osx","cocoa","networking","core-foundation"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":8,"score":0,"question_id":13279220,"title":"How do I get the currently connected network interface name using Cocoa or Foundation?","body":"<p>I need to know the network interface name of the currently connected network interface, as in <strong>en0</strong>, <strong>lo0</strong> and so on.</p>\n\n<p>Is there a Cocoa/Foundation function that is going to give me this information?</p>\n"},{"tags":["objective-c","ios","cocoa-touch","cocoa","uiimagepickercontroller"],"answer_count":4,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":903,"score":2,"question_id":7651632,"title":"How to speed up saving a UIImagePickerController image from the camera to the filesystem via UIImagePNGRepresentation()?","body":"<p>I'm making an applications that let users take a photo and show them both in thumbnail and photo viewer. \nI have NSManagedObject class called photo and photo has a method that takes UIImage and converts it to PNG using UIImagePNGRepresentation() and saves it to filesystem.\nAfter this operation, resize the image to thumbnail size and save it.</p>\n\n<p>The problem here is UIImagePNGRepresentation() and conversion of image size seems to be really slow and I don't know if this is a right way to do it. </p>\n\n<p>Tell me if anyone know the best way to accomplish what I want to do. </p>\n\n<p>Thank you in advance.</p>\n"},{"tags":["objective-c","osx","cocoa"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":5,"score":0,"question_id":13279643,"title":"Windows Open on Space","body":"<p>Is there any way to find out how many windows from any application are currently active on the space ?\nMaybe by using notifications with running applications or a script bridge ?\nActually, it would also be interesting to know what application have a windows open.</p>\n"},{"tags":["xcode","osx","cocoa","xcode4","webkit"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12922734,"title":"Getting the current URL and title from WebView","body":"<p>I am trying to get the current URL and title from the WebView. I've used this for the URL</p>\n\n<pre><code>- (void)webView:(WebView *)sender didStartProvisionalLoadForFrame:(WebFrame *)frame\n{\n    // Only report feedback for the main frame.\n    if (frame == [sender mainFrame]){\n        NSString *url = [[[[frame provisionalDataSource] request] URL] absoluteString];\n        [addressBar setStringValue:url];\n    }\n}\n</code></pre>\n\n<p>and this for the title:</p>\n\n<pre><code>- (void)webView:(WebView *)sender didReceiveTitle:(NSString *)title forFrame:(WebFrame *)frame\n{\n    // Report feedback only for the main frame.\n    if (frame == [sender mainFrame]){\n        [[sender window] setTitle:title];\n    }\n}\n</code></pre>\n\n<p>This code comes straight from Apple's WebKit Objective-C Programming Guide. I only slightly modified the URL method to the addressBar instead of textField. But it doesn't work. The addressBar field is never populated with the URL of the page and the window title doesn't update ether. Everything is connected correctly in interface builder. Why won't it work?</p>\n"},{"tags":["xcode","cocoa","version"],"answer_count":3,"favorite_count":13,"up_vote_count":18,"down_vote_count":0,"view_count":1573,"score":18,"question_id":9258344,"title":"Xcode: Better way of incrementing build number?","body":"<p>I have been using a shell script as part of my Xcode build process to increment the build number within the <em>plist</em> file, however it's making Xcode 4.2.1 crash frequently (with an error about the target not belonging to a project; I'm guessing the changing of the <em>plist</em> file is confusing Xcode in some way).</p>\n\n<p>The shell script did this so that the build number is only incremented by <code>agvtool</code> when a file is newer than the <em>plist</em> file (so just building didn't increment the value):</p>\n\n<pre><code>if [ -n \\\"`find ProjDir -newer ProjDir/Project-Info.plist`\\\" ]; then agvtool -noscm next-version -all; else echo \\\"Version not incremented\\\"; fi\n</code></pre>\n\n<p>Is there a way to increment the build number (in the <em>plist</em> file, or anywhere else) that doesn't break Xcode?</p>\n\n<p><strong>EDIT</strong>: Here is my final solution, based on the suggestion of @Monolo.  I created the following script in <code>${PROJECT_DIR}/tools</code> (sibling to the <code>.xcodeproj</code> directory):</p>\n\n<pre><code>#!/bin/sh\n\nif [ $# -ne 1 ]; then\n    echo usage: $0 plist-file\n    exit 1\nfi\n\nplist=\"$1\"\ndir=\"$(dirname \"$plist\")\"\n\n# Only increment the build number if source files have changed\nif [ -n \"$(find \"$dir\" \\! -path \"*xcuserdata*\" \\! -path \"*.git\" -newer \"$plist\")\" ]; then\n    buildnum=$(/usr/libexec/Plistbuddy -c \"Print CFBundleVersion\" \"$plist\")\n    if [ -z \"$buildnum\" ]; then\n        echo \"No build number in $plist\"\n        exit 2\n    fi\n    buildnum=$(expr $buildnum + 1)\n    /usr/libexec/Plistbuddy -c \"Set CFBundleVersion $buildnum\" \"$plist\"\n    echo \"Incremented build number to $buildnum\"\nelse\n    echo \"Not incrementing build number as source files have not changed\"\nfi\n</code></pre>\n\n<p><strong>EDIT 2</strong>: I have modified the script to incorporate @Milliways suggestion.</p>\n\n<p>I then invoked the script from Xcode target 'Build Phases' section:\n<img src=\"http://i.stack.imgur.com/Q2j7c.png\" alt=\"Xcode build phases screenshot\"></p>\n\n<p><strong>EDIT 3</strong>: As per @massimobio's answer, you'll need to add quotes around the plist argument if it contains spaces.</p>\n"},{"tags":["objective-c","osx","cocoa","networking","nsurlconnection"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":62,"score":1,"question_id":13276195,"title":"Mac OSX - how can I grab proxy configuration using Cocoa or even pure C functions?","body":"<p>I have noticed that my app doesn't use the proxy settings available for the machine (I'm using the <a href=\"http://www.charlesproxy.com/\" rel=\"nofollow\">Charles proxy</a> to test proxy configuration). One piece of the app that makes calls using NSURLConnection correctly uses and makes requests using the proxy, the other piece of the app (that is a MonoMac app, running on Mono, obviously) does not.</p>\n\n<p>It keeps making requests as if there is no proxy configured. Is there a function or object I can use to grab the same proxy configuration NSURLConnection is using?</p>\n"},{"tags":["cocoa","ios","bluetooth","touch","printing"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1705,"score":0,"question_id":3787048,"title":"Printing to a bluetooth printer using iPhone","body":"<p>I wasn't able to find a clean answer on this, is there or is there not a way to connect my iPhone to a bluetooth printer to execute some printing tasks?\nI'm developing the app myself, so what framework could possibly do this? i read that Apple's External Accessory Framework handles bluetooth communication, but is it possible to print using that framework?</p>\n\n<p>Thanks!</p>\n"},{"tags":["cocoa","keyboard-shortcuts","nsmenuitem"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":125,"score":1,"question_id":11155239,"title":"NSMenuItem KeyEquivalent \" \"(space) bug","body":"<p>I want to set key equivalent \" \"(space) without any modifiers for NSMenuItem (in App Main Menu).</p>\n\n<p>As follows from documentation:</p>\n\n<blockquote>\n  <p>For example, in an application that plays media, the Play command may be mapped to just “ ” (space), without the command key. You can do this with the following code: </p>\n  \n  <p>[menuItem setKeyEquivalent:@\" \"];</p>\n  \n  <p>[menuItem setKeyEquivalentModifierMask:0];</p>\n</blockquote>\n\n<p>Key Equivalent sets successfully, but it don't work. When I press \"Space\" key without modifiers nothing happens, but it's works when i press \"Space\" with \"Fn\" modifier key.</p>\n\n<p>I need to use \"Space\" without modifiers. Any help please!</p>\n"},{"tags":["objective-c","cocoa","document"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":23,"score":1,"question_id":13275051,"title":"How to write/save pure plain text files in a document based application?","body":"<p>In a document based application I am able to save/read from a file, but the problem comes when I have to read from a pure plain text file.<br>\nI have only a string to read/write, so that's the code:  </p>\n\n<pre><code>- (NSData *)dataOfType:(NSString *)typeName error:(NSError **)outError\n{\n    code=[codeView string];\n    return [NSKeyedArchiver archivedDataWithRootObject: code];\n}\n\n- (BOOL)readFromData:(NSData *)data ofType:(NSString *)typeName error:(NSError **)outError\n{\n    code=[NSKeyedUnarchiver unarchiveObjectWithData: data];\n    return YES;\n}\n</code></pre>\n\n<p>The problem is that saving a NSData may produce a file like this one:  </p>\n\n<pre><code>bplist00‘X$versionX$objectsY$archiverT$top�Ü†£\nU$null“ \nV$classYNS.stringÄP“Z$classnameX$classes_NSMutableString£XNSStringXNSObject_NSKeyedArchiver—TrootÄ#-27;AFMWYZ_jsÖâíõ≠∞µ����������������������������∑\n</code></pre>\n\n<p>Unreadable for humans, and unreadable for other applications like text edit.I need to be able to read and save plain text files, in my plist file I already tried to achieve this by changing the document type name to public.text.<br>\nHow do I save/read a pure string, encoded in UTF-8?</p>\n"},{"tags":["objective-c","osx","cocoa","nstableview"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":23,"score":1,"question_id":13277659,"title":"How to get a cell value from NSTableView in Cocoa?","body":"<p>I have probably a dumb question, but Im pretty new to Cocoa, so I don't feel bad asking it :) </p>\n\n<p>I have a tableview filled with some numeric values. What I need is that when the user clicks on a particular cell some action happens involving this cell value.</p>\n\n<p>For example: table has values from 1 to 10, user clicks on a value and the square of this value appears somewhere on the window. (user clicks on 3 and 9 appears somewhere next to the table)</p>\n\n<p>I will really appreciate any help! </p>\n\n<p>Thank you! </p>\n"},{"tags":["cocoa","core-graphics","nstextfield","nstextfieldcell"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":11,"score":0,"question_id":13277593,"title":"NSTextField Inner Shadow","body":"<p>I am trying to get a inner shadow on a label in my Mac app.</p>\n\n<p>I am trying to match the Photoshop design my designer sent over.\nThe look I am trying to match is:\n<img src=\"http://i.stack.imgur.com/VcjQc.png\" alt=\"Photoshop Design\"></p>\n\n<p>The way this is being done in Photoshop is by setting an inner shadow with the following settings:\n<img src=\"http://i.stack.imgur.com/UH07s.png\" alt=\"Photoshop Settings\"></p>\n\n<p>I have seen several different solutions for this type of thing here on other sites, but none of them work right.</p>\n\n<p>For example everyone says to use:</p>\n\n<pre><code>[[myNSTextField cell] setBackgroundStyle:NSBackgroundStyleRaised];\n</code></pre>\n\n<p>I have found lots of stuff about doing an inner shadow on a NSBezierPath or similar but not with a label.</p>\n\n<p>This answer to a question says to use the above setBackgroundStyle and then says to </p>\n\n<blockquote>\n  <p>Your gradient background then could be reached for example by using a custom view with a NSGradient</p>\n</blockquote>\n\n<p>But where does this view go?\nThe link the answer references talks about doing a inner shadow on a window again, not text.</p>\n\n<p>Can anyone help me out with this?</p>\n\n<p>Thanks</p>\n"},{"tags":["ios","cocoa-touch","cocoa","nsnotificationcenter"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":67,"score":1,"question_id":13271388,"title":"How to retrieve all NSNotificationCenter observers?","body":"<p>I'd like to retrieve a list of observers (objects and selectors) for a given notification name. I know there's no official API for that. I also know I could <a href=\"http://stackoverflow.com/q/10346700/235297\">subclass NSNotificationCenter</a> to accomplish this. Sometimes however this is not a viable option because NSNotificationCenter usage is spread all over the code or even binary frameworks.</p>\n\n<p>So I'm looking for an unofficial/private way to do this. (Since it's about debugging only, that's fine.)</p>\n"},{"tags":["objective-c","ios","cocoa","nsstring","nsdictionary"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":36,"score":1,"question_id":13276052,"title":"How can I convert the values is an NSDictionary into an NSString?","body":"<p>I have a method in <em>Objective-c</em> that takes in an <code>NSDictionary</code> and returns the values as a space-separated <code>NSString</code>. This application is cross-platform, and as such I cannot use fast enumeration. This is what I have so far, followed by the output (which shows that the String is never created):</p>\n\n<pre><code>-(NSString *)stringValuesFromDict:(NSDictionary *map)\n{\n    NSArray *values = [map allValues];\n    NSString *params = [NSString string];\n    NSLog(@\"values length: %d\", [values count]);\n    NSLog(@\"values = %@\", [values description]);\n    for (int i = 0; i &lt; [values count]; i++)\n    {\n        [params stringByAppendingString:[values objectAtIndex:i]];\n        [params stringByAppendingString:@\" \"];\n    }\n    NSLog(@\"params = %@\", params);\n    return params;\n}\n</code></pre>\n\n<p>The <code>NSDictionary</code>:</p>\n\n<pre><code>{\"arg1\"=\"monkey\"}\n</code></pre>\n\n<p>The output:</p>\n\n<pre><code>values length: 1\nvalues = (\n    monkey\n)\nparams = \n</code></pre>\n\n<p>What am I doing wrong? How can I get <code>params</code> to be set to <code>monkey</code>?</p>\n"},{"tags":["objective-c","osx","cocoa","image-generation"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13259954,"title":"Image generator ( generateCGImagesAsynchronouslyForTimes method) doesn't give live results","body":"<p>Pretty new to cocoa development and really stuck with probably a fundamental problem.</p>\n\n<p>So in short, my app UI looks like a simple window with a nsslider at the bottom. What I need is to generate N images and place them, onto N nsviews in my app window. </p>\n\n<p>What it does so far:</p>\n\n<ul>\n<li>I'm clicking on the slider (holding it) and dragging it. While I'm dragging it nothing happens to my views (pictures are not generated). When I release the slider the pictures got generated and my view get filled with them.</li>\n</ul>\n\n<p>What I want:\n- I need the views to be filled with pictures as I'm moving the slider. </p>\n\n<p><strong>I figured out the little check box on the NSSlider properties, which is continuous, and I'm using it, but my image generator still doesn't do anything until I release the slider.</strong> </p>\n\n<p>Here is my code:</p>\n\n<pre><code>// slider move action\n- (IBAction)sliderMove:(id)sender\n{   \n    [self generateProcess:[_slider floatValue];\n}\n\n// generation process\n- (void) generateProcess:(Float64) startPoint\n{\n    // create an array of times for frames to display\n    NSMutableArray *stops = [[NSMutableArray alloc] init];\n\n    for (int j = 0; j &lt; _numOfFramesToDisplay; j++)\n    {\n        CMTime time = CMTimeMakeWithSeconds(startPoint, 60000);\n\n        [stops addObject:[NSValue valueWithCMTime:time]];\n        _currentPosition = initialTime;   // set the current position to the last frame displayed\n        startPoint+=0.04; // the step between frames is 0.04sec\n    }\n\n    __block CMTime lastTime = CMTimeMake(-1, 1);\n    __block int count = 0;\n    [_imageGenerator generateCGImagesAsynchronouslyForTimes:stops\n                                          completionHandler:^(CMTime requestedTime, CGImageRef image, CMTime actualTime,AVAssetImageGeneratorResult result, NSError *error)\n     {\n         if (result == AVAssetImageGeneratorSucceeded)\n         {\n             if (CMTimeCompare(actualTime, lastTime) != 0)\n             {\n                 NSLog(@\"new frame found\");\n                 lastTime = actualTime;\n             }\n             else\n             {\n                 NSLog(@\"skipping\");\n                 return;\n             }\n\n             // place the image onto the view\n             NSRect rect = CGRectMake((count+0.5) * 110, 500, 100, 100);\n\n             NSImageView *iView = [[NSImageView alloc] initWithFrame:rect];\n\n             [iView setImageScaling:NSScaleToFit];\n             NSImage *myImage = [[NSImage alloc] initWithCGImage:image size:(NSSize){50.0,50.0}];\n             [iView setImage:myImage];\n             [self.windowForSheet.contentView addSubview: iView];\n             [_viewsToRemove addObject:iView];\n         }\n\n         if (result == AVAssetImageGeneratorFailed)\n         {\n             NSLog(@\"Failed with error: %@\", [error localizedDescription]);\n         }\n         if (result == AVAssetImageGeneratorCancelled)\n         {\n             NSLog(@\"Canceled\");\n         }\n         count++;\n     }];\n}\n</code></pre>\n\n<p>}</p>\n\n<p>If you have any thoughts or ideas, please share with me, I will really appreciate it!</p>\n\n<p>Thank you</p>\n"},{"tags":["objective-c","xcode","cocoa","core-data","nspersistentdocument"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":34,"score":2,"question_id":13223381,"title":"Coredata & NSPersistentDocument: Sum of column numbers crash","body":"<p>I have a problem with a @sum binding of a column in my program:</p>\n\n<p>I'm doing a Coredata, NSPersistentDocument based program. I'm doing mostly everything from IB, the creation of the data model, NSArrayController and NSTableView... </p>\n\n<p>I have just 1 entity with 62 attributes (61 NSString and 1 NSNumber). I import a CSV file with 12722 records. Import works well, can save to xml, binary, sqlite... I've double checked that the overall process works perfect. Can save/load. Everything is there.</p>\n\n<p>The problem that I have: I've created a label that I BIND to @sum of the column with the NSNumber property. This is how I did </p>\n\n<pre><code>&gt;     label-&gt;Bindings Inspector-&gt;Value\n&gt;      Bind to: My_Entity_NSArrayController\n&gt;       Controller Key: selection\n&gt;       Model Key Path: @sum.myNumericAttribute\n</code></pre>\n\n<p>When I run the program, click on Import, Select ALL the rows, the @sum works well. It's fast, however and here is the first problem: once I save the file (tried all... binary/xml/sqlite) and later <strong>load it and try to Select ALL again, the program crash without error</strong>.</p>\n\n<p>Tried through \"Profile\"->Allocations. I noticed: </p>\n\n<ul>\n<li>I don't have memory leaks </li>\n<li>When loading from disk and then select all: Goes extremelly slow. After 5 minutes didn't yet finished (I stopped it) and I saw +45MB of CFNumber (Live Bytes) and >1.500.00#Overall. So, something is wrong here, as I'm talking about 12722 rows/registers of type Interger32.</li>\n</ul>\n\n<p>The second problem is the same but reproduced from a different angle. Instead of using \"selection\" I've tried to use \"arrangedObjects\".\nIn this case the problem appears even while importing from CSV, it goes extremely slow and it finally crash. Trying to open an already created file also crash. </p>\n\n<p>This is how I did label->Bindings Inspector->Value</p>\n\n<pre><code>&gt;    label-&gt;Bindings Inspector-&gt;Value\n&gt;      Bind to: My_Entity_NSArrayController\n&gt;       Controller Key: arrangedObjects\n&gt;       Model Key Path: @sum.myNumericAttribute\n</code></pre>\n\n<p>Can you please help me with some light on what to look for or ideas that can help me find where the problem is?. </p>\n\n<p>Thanks a lot. </p>\n\n<p>Luis</p>\n"},{"tags":["objective-c","c","cocoa","xcode4.5","unistd.h"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":13269528,"title":"Compile file from inside the application with execl","body":"<p>I'm trying to compile a file from my application,with this action:  </p>\n\n<pre><code>- (IBAction)build:(id)sender\n{\n    pid_t pid=fork();\n    int status;\n    if(!pid)\n    {\n        execl(\"/Developer/usr/bin/gcc\",\"-o main ~/main.c\");\n        exit(0);\n    }\n    waitpid(pid, &amp;status, 0);\n}\n</code></pre>\n\n<p>The file main.c in my home directory is not compiled (I don't find the executable).<br>\nAnd I would know:<br>\n1)How to pass arguments to gcc? I am passing ~/main.c, but I would like to pass the filename with full path of my document.How do I get the NSDocument's filename?<br>\n2)How do I get the console output?I also need to print the gcc output, how to do this?</p>\n\n<p>Edit: I modified the code to compile the file saved from the application:  </p>\n\n<pre><code>- (IBAction)build:(id)sender\n{\n    NSTask *task = [[NSTask alloc] init];\n    [task setLaunchPath:@\"/Developer/usr/bin/gcc\"];\n    [task setArguments: @[@\"-o\",@\"main\",[self fileURL]] ];\n    NSPipe *pipe = [NSPipe pipe];\n    [task setStandardOutput:pipe];\n    NSFileHandle *file = [pipe fileHandleForReading];\n    [task launch];\n    NSData *data = [file readDataToEndOfFile];\n    NSString *output = [[NSString alloc] initWithData:data\n                                             encoding:NSUTF8StringEncoding];\n    NSLog (@\"gcc output:\\n%@\", output);\n}\n</code></pre>\n\n<p>But whenever the build method gets executed that's what I get:  </p>\n\n<pre><code>2012-11-07 19:04:30.636 Coder[1856:303] -[NSURL fileSystemRepresentation]: unrecognized selector sent to instance 0x100154c40\n2012-11-07 19:04:30.638 Coder[1856:303] -[NSURL fileSystemRepresentation]: unrecognized selector sent to instance 0x100154c40\n2012-11-07 19:04:30.642 Coder[1856:303] (\n    0   CoreFoundation                      0x00007fff95b060a6 __exceptionPreprocess + 198\n    1   libobjc.A.dylib                     0x00007fff909793f0 objc_exception_throw + 43\n    2   CoreFoundation                      0x00007fff95b9c6ea -[NSObject(NSObject) doesNotRecognizeSelector:] + 186\n    3   CoreFoundation                      0x00007fff95af45ce ___forwarding___ + 414\n    4   CoreFoundation                      0x00007fff95af43b8 _CF_forwarding_prep_0 + 232\n    5   Foundation                          0x00007fff8cbf8e67 -[NSConcreteTask launchWithDictionary:] + 814\n    6   Coder                               0x0000000100001734 -[Document build:] + 452\n    7   AppKit                              0x00007fff8d266a59 -[NSApplication sendAction:to:from:] + 342\n    8   AppKit                              0x00007fff8d2668b7 -[NSControl sendAction:to:] + 85\n    9   AppKit                              0x00007fff8d2667eb -[NSCell _sendActionFrom:] + 138\n    10  AppKit                              0x00007fff8d264cd3 -[NSCell trackMouse:inRect:ofView:untilMouseUp:] + 1855\n    11  AppKit                              0x00007fff8d264521 -[NSButtonCell trackMouse:inRect:ofView:untilMouseUp:] + 504\n    12  AppKit                              0x00007fff8d263c9c -[NSControl mouseDown:] + 820\n    13  AppKit                              0x00007fff8d25b60e -[NSWindow sendEvent:] + 6853\n    14  AppKit                              0x00007fff8d257744 -[NSApplication sendEvent:] + 5761\n    15  AppKit                              0x00007fff8d16d2fa -[NSApplication run] + 636\n    16  AppKit                              0x00007fff8d111cb6 NSApplicationMain + 869\n    17  Coder                               0x00000001000011a2 main + 34\n    18  libdyld.dylib                       0x00007fff93a577e1 start + 0\n    19  ???                                 0x0000000000000003 0x0 + 3\n)\n</code></pre>\n\n<p>trojanfoe code was working, but with this modification it doesn't work.</p>\n"},{"tags":["objective-c","xcode","osx","cocoa"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13274955,"title":"Changing reference to different object without changing initially referenced object?","body":"<p>I'm currently trying to write an XML-parser with the help of NSXMLParser. It's supposed generate an array of NSMutableDictionaries.</p>\n\n<p>Making nested tags into nested dictionaries is really giving my brain a hard time. I might also note that I am very new to the language and this somewhat of an exercise for me.</p>\n\n<h1>My actual question is:</h1>\n\n<p>Say I have an NSMutableArray called <code>xmlArray</code>. This is the array that in the end should contain all elements including sub-elements of the xml-file – as an array of nested arrays and dictionaries.</p>\n\n<p>Now I might have another variable called <code>currentArray</code> that references a specific sub-array of <code>xmlArray</code>.</p>\n\n<p>This might look something like this:</p>\n\n<pre><code>currentArray = [xmlArray objectAtIndex: 3];\n</code></pre>\n\n<p>Now I might want to reference a different part of <code>xmlArray</code> using <code>currentArray</code>.</p>\n\n<p>So what happens if I then do this:</p>\n\n<pre><code>currentArray = [xmlArray objectAtIndex: 5];\n</code></pre>\n\n<p>Isn't this the same as saying:</p>\n\n<pre><code>[xmlArray objectAtIndex: 3] = [xmlArray objectAtIndex: 5];\n</code></pre>\n\n<p><strong>Am I switching my reference to a different object (<code>[xmlArray objectAtIndex: 5]</code>) or am I changing the initially referenced object (<code>[xmlArray objectAtIndex: 3]</code>)?</strong></p>\n\n<p><strong>How can I change the reference to a different object without changing the initially referenced object?</strong></p>\n\n<p>I'm aware that this is probably a really nooby question, I still hope someone might want to help. :) Thank you!!! :)</p>\n"},{"tags":["objective-c","xcode","osx","cocoa","nscursor"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13274975,"title":"How can i set the Mac Colorful Loading Cursor to an NSImageView?","body":"<p>I know how to set a NSCursor when the mouse enters the NSImageView, but I can't find a way to set this particular cursor:<br><img src=\"http://i.stack.imgur.com/ZbtcJ.gif\" alt=\"enter image description here\"></p>\n\n<p>How can I set this one?</p>\n"},{"tags":["xcode","cocoa-touch","cocoa","interface-builder","warnings"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1396,"score":1,"question_id":8597189,"title":"Xcode stupid warning: View is clipping its content","body":"<p><br>\nI get this stupid warning in Xcode 4</p>\n\n<pre><code>Clipped Content\nView is clipping its content\n</code></pre>\n\n<p>if I create an unbordered bevel button with an image bigger then the button himself.<br>\nWhy? How can i suppress it?</p>\n"},{"tags":["xcode","cocoa","saving"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":3,"score":0,"question_id":13274569,"title":"Document based application, how to saving calculations in NSTextField","body":"<p>I made an application that is not document based, now I've converted to a document-based application, but I noticed that the calculations are not saved in their TextFields.\nI wish that when the document is saved and reopened the application show me the results made ​​before saving and quit in their TextFields.\nHow do I add this feature?</p>\n"},{"tags":["objective-c","osx","cocoa"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":7,"score":0,"question_id":13268533,"title":"- (void)flagsChanged is not called for webview","body":"<p>I have created an editable WebView, and I am trying to write some code in</p>\n\n<pre><code>- (void)flagsChanged:(NSEvent *)theEvent  \n</code></pre>\n\n<p>to detect, if the user presses the option key. </p>\n\n<p>But if I type anything this method is not called. What might cause this problem and how can I solve it?</p>\n"},{"tags":["cocoa","nswindow"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":11,"score":0,"question_id":13256150,"title":"windowWillResize moves the origin of the window","body":"<p>I'm currently using windowWillResize to control the aspect ratio of one of my windows with relation to one of its views. Everything seems to work fine, except that resizing the window also moves it vertically, just slightly, each time it's resized. Using setContentAspectRatio doesn't produce this, but that's not an option for me, because I have other views in the window.</p>\n\n<p>Any ideas on why the window may be moving, and more importantly, if it's preventable? Here's the code:</p>\n\n<pre><code>- (NSSize)windowWillResize:(NSWindow *)sender toSize:(NSSize)frameSize\n{\n    NSRect windowFrame = [self.window frame];\n    NSRect viewRect = [self.screen convertRect:[self.screen bounds] toView: nil];\n    NSRect contentRect = [self.window contentRectForFrameRect:windowFrame];\n\n    float marginY = viewRect.origin.y + windowFrame.size.height - contentRect.size.height;\n    float marginX = contentRect.size.width - viewRect.size.width;\n\n    frameSize.height = (frameSize.width - marginX) * HEIGHT_DEFAULT / WIDTH_DEFAULT + marginY;\n\n    return frameSize;\n}\n</code></pre>\n"},{"tags":["cocoa","nstableview"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":25,"score":1,"question_id":13262061,"title":"View-Based NSTableView","body":"<p>I have been beating my head against the wall trying to come up with an understanding of tableView:heightOfRow: and I guess I need help. I want to do dynamic row heights for a textView inside the row, and cannot seem to get a handle on the approach. I've read everything I can find, which really isn't much. I can get the rows to size like I want using this method, but only if the table is resized. Rows that are not in view won't be sized right until they are visible and the table is resized. </p>\n\n<p>I've added the tableView:didAddRowView:forRow method and using the same basic idea it ends up squishing the row size to a single line. Doesn't work the same as tableView:heightOfRow: at all, even though it's the same code. I'm guessing that the tableView:didAddRowView:forRow method setting the textView bounds is somehow getting scaled.</p>\n\n<p>Here's my (hopefully relevant) code:</p>\n\n<pre><code>- (CGFloat)tableView:(NSTableView *)tv heightOfRow:(NSInteger)row {\n    if (tv == dataTableView) {\n        NSInteger valueCol = [tv columnWithIdentifier:@\"value\"];\n        NSTableCellView *valueView = [tv viewAtColumn:valueCol row:row makeIfNecessary:NO];\n\n        if (valueView) {\n            // Working on the interesting column and this row is visible\n            NSRect bounds = [[valueView textField] bounds];\n            id value = [[valueView textField] stringValue];\n\n            NSFont *fieldFont = [[valueView textField] font];\n            CGFloat adjustedHeight = [value heightForWidth:bounds.size.width font:fieldFont];\n            CGFloat rowHeight = [tv rowHeight];\n            if (adjustedHeight &lt;= rowHeight) adjustedHeight = rowHeight;\n\n            return adjustedHeight;\n        }\n    }\n    return [tv rowHeight];\n}\n\n\n- (void)tableView:(NSTableView *)tv didAddRowView:(NSTableRowView *)rowView forRow:(NSInteger)row {\n    if (tv == dataTableView) {\n        NSInteger valueCol = [tv columnWithIdentifier:@\"value\"];\n        NSTableCellView *colView = [rowView viewAtColumn:valueCol];\n        NSRect textFieldViewBounds = [[colView textField] bounds];\n        NSTextField *colTextField = [colView textField];\n        NSFont *colFont = [colTextField font];\n        id value = [colTextField stringValue];\n        CGFloat newHeight = [value heightForWidth:textFieldViewBounds.size.width font:colFont];\n        NSSize colViewSize = colView.bounds.size;\n        colViewSize.height = newHeight;\n        textFieldViewBounds.size.height = newHeight;\n        [colTextField setBounds:textFieldViewBounds];\n    }\n}\n</code></pre>\n\n<p>UPDATE: new code is working better, but still has glitches on initial load and sometimes on scroll:</p>\n\n<ul>\n<li><p>(CGFloat)tableView:(NSTableView *)tv heightOfRow:(NSInteger)row {\nif (tv == dataTableView) {\n    NSInteger valueCol = [tv columnWithIdentifier:@\"value\"];\n    NSTableCellView *valueView = [tv viewAtColumn:valueCol row:row makeIfNecessary:NO];</p>\n\n<pre><code>if (valueView) {\n    // Working on the interesting column\n    NSRect bounds = [[valueView textField] bounds];\n    id value = [[valueView textField] stringValue];\n\n    NSFont *fieldFont = [[valueView textField] font];\n    CGFloat adjustedHeight = [value heightForWidth:bounds.size.width font:fieldFont];\n    CGFloat rowHeight = [tv rowHeight];\n    if (adjustedHeight &lt;= rowHeight) adjustedHeight = rowHeight;\n\n    return adjustedHeight;\n}\n</code></pre>\n\n<p>}\nreturn [tv rowHeight];\n}</p></li>\n<li><p>(void) tableView:(NSTableView *)tv didAddRowView:(NSTableRowView *)rowView forRow:(NSInteger)row {\nif (tv == dataTableView) {\n    [dataTableView noteHeightOfRowsWithIndexesChanged:[NSIndexSet indexSetWithIndexesInRange:NSMakeRange(row, 1)]];\n}\n}</p></li>\n</ul>\n"},{"tags":["objective-c","xcode","cocoa","nsview","nsimageview"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":11,"score":0,"question_id":13273162,"title":"Is there a method to know when a tooltip will appear on a NSImageView?","body":"<p>I'd like to know if there's a method that get's called before a tooltip is displayed. I can't find it anywhere.</p>\n"},{"tags":["ios","facebook","cocoa","facebook-apps"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":10,"score":1,"question_id":13271997,"title":"Is there a good tutorial for implementing a facebook login into an ios app using storyboards?","body":"<p>hey guys i am trying to implement a facbook login into an ios app using storyboards.\nThe official facebook tutorial for authentication just uses xib files.\nThere is an example app out there which is using storyboards, but it is to complex to understand imao.\n<a href=\"https://github.com/fbsamples/ios-social-cafe\" rel=\"nofollow\">over here --> </a></p>\n\n<p>Is there a complete step by step guide for implementing a facebook login using storyboards out there ?</p>\n"},{"tags":["cocoa","interface-builder","views","draw"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13264624,"title":"draw separately in 2 custom views in one class","body":"<p>In IB, put 2 custom views into one window. I don't see any way to give them separate names. In Inspector-Info I had to use the same name, the class name, for both of them in the drop-down menu.  I tried   </p>\n\n<pre><code>DrawRect:  NSRect bounds = [self bounds];       \n[[NSColor greenColor] set]; \n[NSBezierPath fillRect:bounds];\n</code></pre>\n\n<p>which filled both custom views with green. But I would like to fill, draw, etc. independently in each custom view.  How can I address each view separately? Multiple custom views, later. Or does Cocoa require only one view per class?</p>\n\n<p>This is probably trivial, but Google and the similar questions list here didn't come up with anything close. There's a lot of about multiple view controllers, but I don't need to switch views.</p>\n"},{"tags":["objective-c","xcode","cocoa"],"answer_count":2,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":60,"score":3,"question_id":13255106,"title":"Is there a way to generate a compiler warning when a specific property is accessed?","body":"<p>The example is that I would like to generate a warning each time the property <code>-[UIViewController navigationController]</code> is accessed.</p>\n\n<p>For the curious, the reason is that I am using a custom Navigation Controller, and would like to be warned when I (or other developers on the project) attempt to access this property.</p>\n"},{"tags":["objective-c","osx","image","cocoa","interface-builder"],"answer_count":4,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":261,"score":3,"question_id":11200992,"title":"Images in NSButton and NSImageView Blurred","body":"<p>I am completely stumped here; I have a series of small images I'm tinkering with and making into buttons:</p>\n\n<p><img src=\"http://i.stack.imgur.com/q7mst.png\" alt=\"enter image description here\"></p>\n\n<p>And as you can see they are all decently crisp and sharp, and retain this when I open the png files in Preview and what not. </p>\n\n<p>However, when I use them in <code>NSButtons</code> and <code>NSImageViews</code> in Interface Builder, setting Scaling to None:</p>\n\n<p><img src=\"http://i.stack.imgur.com/qg8c1.png\" alt=\"enter image description here\"></p>\n\n<p>The images become horribly blurred. What am I doing wrong? I don't know where to start and what to try; should I go back to the icons and try to make them pixel perfect? Does it have to do with anti-aliasing or something along those lines?</p>\n\n<hr>\n\n<p><strong>EDIT:</strong>\nFor some reason, it seems as if the NSButtons and NSImageViews are loading the high resolution versions of the images, even though I'm on a normal display, which can be identified by a slight light blue stroke I added to them. For some reason, Quartz Debug does not identify these as high resolution images and there's no red tint. Removing references to the @2x images does fix the problem... but...</p>\n"},{"tags":["osx","cocoa","app-store","sandbox","appstore-sandbox"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13230540,"title":"Console not showing Mac OS app sandbox violations in Apple's Quick Start","body":"<p>I'm stepping through <a href=\"http://developer.apple.com/library/mac/#documentation/Security/Conceptual/AppSandboxDesignGuide/AppSandboxQuickStart/AppSandboxQuickStart.html\" rel=\"nofollow\">this Apple tutorial</a> for enabling sandboxing. I've successfully worked through the sections, creating the Xcode project, enabling app sandbox, creating a certificate, specifying the code signing identity and confirming that the app is sandboxed.</p>\n\n<p>When I then try and diagnose the intentional violation, nothing appears in Console like the guide describes. Enable App Sandboxing is ticked but nothing underneath it is (e.g. Allow Outgoing Connections). The entitlements file suggests sandboxing is enabled, the app isn't showing the Apple website and Activity Monitor says the app is sandboxed.</p>\n\n<p>I'm using <code>Console.app</code>, looking at All Messages (as described in the <strong>To diagnose an App Sandbox violation</strong> section of the tutorial). I'm expecting to see messages from <code>sandboxd</code>, but don't see anything related to sandboxing. The application itself behaves exactly as described in the tutorial, showing the Apple website when not sandboxed, and then not showing it when sandboxed.</p>\n\n<p>I'm on Mac OS 10.8.2, Xcode 4.5.1. What am I missing?</p>\n"},{"tags":["objective-c","cocoa","nil"],"answer_count":3,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":372,"score":1,"question_id":5914845,"title":"Sending isEqual: to nil always returns NO","body":"<p>If you send isEqual: to an object that happens to be nil, you always get NO back. </p>\n\n<p>Is this the expected behavior?  To be a feature instead of a bug, I would expect it to return YES if the other object is also nil, and NO otherwise? Semantically this seems the correct behavior.</p>\n\n<p>In case my expectations are incorrect, what the recommended proceedure? Check for nil before sending isEqual: (and friends)?</p>\n"},{"tags":["objective-c","osx","cocoa","appkit","smooth-scrolling"],"answer_count":1,"favorite_count":1,"up_vote_count":13,"down_vote_count":1,"view_count":575,"score":12,"question_id":9116701,"title":"NSTextView, appending text and smooth scrolling","body":"<p>I am trying to implement smooth scrolling in a chat history view I implemented, however if the content I append is big enough the smooth scroll will only scroll for a few lines.</p>\n\n<p>My first guess was that the view did not redraw itself yet.. not the case, even when forcing immediate drawing with -display it still breaks.</p>\n\n<pre><code>- (void)scrollAnimated:(BOOL)animated\n{\n    if( animated )\n    {\n        NSClipView *clipView = [[_chatHistoryView enclosingScrollView] contentView];\n\n        [NSAnimationContext beginGrouping];\n        [[NSAnimationContext currentContext] setDuration:0.100f];\n        NSPoint constrainedPoint = [clipView constrainScrollPoint:NSMakePoint(0, CGFLOAT_MAX)];\n        [[clipView animator] setBoundsOrigin:constrainedPoint];\n        [NSAnimationContext endGrouping];\n    }\n    else\n    {\n        NSRange range;\n        range.location = [[_chatHistoryView textStorage] length];\n        range.length = 1;\n        [_chatHistoryView scrollRangeToVisible:range];\n    }\n}\n</code></pre>\n\n<p>What am I doing wrong?</p>\n"},{"tags":["cocoa","cursor","nsbutton"],"answer_count":4,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":1404,"score":2,"question_id":2925580,"title":"Cocoa: change cursor when it's over an NSButton","body":"<p>How can I change the cursor when it's over an NSButton?</p>\n"},{"tags":["osx","cocoa","spotlight","nsmetadataquery"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":7,"score":0,"question_id":13266439,"title":"How to group the results from NSMetadataQuery","body":"<p>I am performing a query (NSMetadataQuery) on the local data as spotlight performs and sorting the results as per modification date of the files, everything is working fine till this point.\nBUT i am not able to understand how can we group the results, for example i want applications in one group, documents in other and images in images group (similar to what spotlight does), \ncan anyone suggest how to do it.</p>\n"},{"tags":["objective-c","cocoa","nsoutlineview","nsbuttoncell","nscontrol"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":27,"score":1,"question_id":13245348,"title":"How to get title of NSButtonCell in delegate method of NSOutlineView","body":"<p>I am using <code>NSButtonCell</code> subclass to display checkbox , image and label in same cell.  Now i want to edit label in outlineView on double click or on enter key.<br>\n<code>NSButtonCell</code> subclass:</p>\n\n<pre><code>- (void)dealloc {\n    [image release];\n    image = nil;\n    [super dealloc];\n}\n\n-(id)copyWithZone:(NSZone *)zone {\n    ImageAndTextAndCheckBox *cell = (ImageAndTextAndCheckBox *)[super copyWithZone:zone];\n    cell-&gt;image = [image retain];\n    return cell;\n}\n\n- (void)setImage:(NSImage *)anImage {\n    if (anImage != image) {\n        [image release];\n        image = [anImage retain];\n        [image setSize:NSMakeSize(kIconImageSize, kIconImageSize)];\n    }\n}\n\n- (NSImage *)image {\n    return image;\n}\n\n\n#define KNImageAndTextButtonCellPadding 5 // Distance between the end of the image and the start of the text.\n\n- (void)drawWithFrame:(NSRect)cellFrame inView:(NSView *)controlView {\n    // Draw the original button first, then the image.\n    //shift check box to right\n    NSRect newCellFrame = cellFrame;\n    newCellFrame.origin.x =  newCellFrame.origin.x + 5;\n    cellFrame = newCellFrame;\n\n    [super drawWithFrame:cellFrame inView:controlView];\n\n    if (image != nil) {\n\n        NSRect imageFrame;\n\n        NSSize imageSize = [image size];\n        NSDivideRect(cellFrame, &amp;imageFrame, &amp;cellFrame, KNImageAndTextButtonCellPadding + imageSize.width, NSMinXEdge);\n\n        imageFrame.origin.x += imageFrame.size.width;\n        imageFrame.size = imageSize;\n\n        if ([controlView isFlipped]) {\n            imageFrame.origin.y += ceil((cellFrame.size.height + imageFrame.size.height) / 2);\n        } else {\n            imageFrame.origin.y += ceil((cellFrame.size.height - imageFrame.size.height) / 2);\n        }\n\n        BOOL oldFlipped = [image isFlipped];\n        [image setFlipped:![controlView isFlipped]];\n        [image compositeToPoint:imageFrame.origin operation:NSCompositeSourceOver];\n        [image setFlipped:oldFlipped];\n\n    }   \n}\n\n\n-(BOOL)trackMouse:(NSEvent *)theEvent inRect:(NSRect)cellFrame ofView:(NSView *)controlView untilMouseUp:(BOOL)untilMouseUp {\n\n    // Make sure that the mouse only gets tracked if it is clicked on the check box, otherwise \n    // the row will be checked/unchecked whenever the user clicks on any part of the cell (which is bad).\n    if ([theEvent clickCount] &gt; 1)\n    {\n        NSLog(@\"do double-click action\" );\n    }\n    else\n    {\n         NSLog(@\"do single-click action\" );\n    }\n    NSPoint event_location = [theEvent locationInWindow];\n    NSPoint localPoint = [controlView convertPoint:event_location fromView:nil];\n    //shift check box mouse event to right\n    NSRect newCellFrame = cellFrame;\n    newCellFrame.origin.x =  newCellFrame.origin.x + 5;\n    cellFrame = newCellFrame;\n    if (localPoint.x &lt;= cellFrame.origin.x + 16) {\n        return [super trackMouse:theEvent inRect:cellFrame ofView:controlView untilMouseUp:untilMouseUp];\n    } else {\n        return NO;\n    }\n}\n\n-(NSRect)drawTitle:(NSAttributedString *)title withFrame:(NSRect)frame inView:(NSView *)controlView {\n\n    // Adjust the rect so we don't interfere with the image's location\n\n    if (image != nil) {\n        //NSLog(@\"orig %f %f %f %f\", frame.size.width,frame.size.height,frame.origin.x,frame.origin.y);\n        NSRect newFrame = NSOffsetRect(frame, [[self image] size].width + KNImageAndTextButtonCellPadding, 0);\n        newFrame.size.width -= ([[self image] size].width + KNImageAndTextButtonCellPadding);\n        //NSLog(@\"drawTitle %f %f %f %f\", newFrame.size.width,newFrame.size.height,newFrame.origin.x,newFrame.origin.y);\n        return [super drawTitle:title withFrame:newFrame inView:controlView];\n\n    } else {\n        return [super drawTitle:title withFrame:frame inView:controlView];\n    }\n\n}\n- (void)editWithFrame:(NSRect)aRect inView:(NSView *)controlView editor:(NSText *)textObj delegate:(id)anObject event:(NSEvent *)theEvent {\n    NSLog(@\"%@\", anObject);\n\n\n//  id node = [anObject itemAtRow: [anObject selectedRow]];\n//  int length = [[node relativePath] length];\n    NSRect newFrame = NSOffsetRect(aRect,  KNImageAndTextButtonCellPadding+kIconImageSize+ 16, 0);\n    newFrame.size.width -= (KNImageAndTextButtonCellPadding+kIconImageSize+ 16);\n    [super editWithFrame:newFrame inView:controlView editor:textObj delegate:anObject event:theEvent];\n}  \n</code></pre>\n\n<p>I am getting always 1 (boolean value) in </p>\n\n<pre><code>- (void)outlineView:(NSOutlineView *)ov     \n     setObjectValue:(id)obj \n     forTableColumn:(NSTableColumn *)tableColumn \n             byItem:(id)item  \n</code></pre>\n\n<p><code>NSOutlineView</code> delegate method.(because of NSButtonCell) but i want to edit label.  </p>\n\n<ol>\n<li>How can i edit label?</li>\n<li>How to handle double click ?  </li>\n<li>Before pressing enter key:<br>\n<img src=\"http://i.stack.imgur.com/oFFxp.png\" alt=\"enter image description here\"> </li>\n</ol>\n\n<p>After<br>\n<img src=\"http://i.stack.imgur.com/ZK7ox.png\" alt=\"enter image description here\">\nHow to change color text? its displaying white color.   </p>\n\n<p>it should be like  <img src=\"http://i.stack.imgur.com/juA2C.png\" alt=\"enter image description here\"> (with checkbox)  </p>\n\n<p>Can anyone please help me out?</p>\n"},{"tags":["osx","cocoa","layout"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":10,"score":1,"question_id":13247512,"title":"Cocoa layout OSX (WebView - fill the space on the left + TextView - sidebar on the right with fixed width) how?","body":"<p>i have spent hours and hours googling and trying to figure out how to make the layout work as described in the question.\nI have put the WebView control inside the Window so it can fill the space, that is fairly easy and everything is working like a charm. On the right side, though, I would like to have a sidebar - which is basically a TextView with fixed with (I can toogle visibility of this).</p>\n\n<p>Strange thing is, that if I put those Views next to each other (WebView on the left) and I am resizing the window, the web view is just keeping the size and TextView is being resized.\nWhen I put the TextView on the left, again the TextView is being resized and the WebView is keeping the size, but I want TextView to keep its width and the WebView to resize.\nAm I missing something? Probably yes..</p>\n"},{"tags":["objective-c","cocoa","nsdictionary","nspredicate"],"answer_count":5,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":65,"score":5,"question_id":13250575,"title":"Objective-C - Filter array of NSDictionarys and NSDictionarys","body":"<p>Sorry for the title, didn't know how to put it better.<br>\nI have an array which consists of several <strong>NSDictionaries</strong> with the keys:</p>\n\n<ul>\n<li><code>NSString *name</code></li>\n<li><code>NSString *ID</code></li>\n<li><code>NSDictionary *phoneNumbersDict</code></li>\n</ul>\n\n<p>Now I want to filter this array to find the one which has the <code>phoneNumbersDict</code> key <code>@\"keyIAmLookingFor\"</code> and the value <code>@\"valueIAmLookingFor\"</code>.</p>\n\n<pre><code>NSMutableArray *addressBookPhoneIndividuals = [NSMutableArray array];\nfor (int i = 0; i &lt; x; i++) {\n    [addressBookPhoneIndividuals addObject:@{\n        @\"name\" : @\"...\",\n        @\"ID\" : @\"...\",\n        @\"phoneNumbers\" : @{...}\n    }];\n}\n</code></pre>\n"},{"tags":["objective-c","osx","cocoa","nsbutton","nsalert"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":28,"score":1,"question_id":13259823,"title":"How to get focus ring off an NSAlert button?","body":"<p>Is there any way that you can take away the focus ring of the NSAlert button. Here is what I mean: </p>\n\n<p><img src=\"http://i.stack.imgur.com/XaRBc.png\" alt=\"Focus ring annoyingly appears on NSAlert button\"></p>\n\n<p>Here is my code:</p>\n\n<pre><code>[NSApp activateIgnoringOtherApps:YES];\nNSAlert *alert = [[[NSAlert alloc] init] autorelease];\n[alert addButtonWithTitle:@\"Quit\"];\n[alert addButtonWithTitle:@\"Cancel\"];\n[alert setMessageText:@\"Warning!\"];\n[alert setInformativeText:@\"How do you solve this question?\"];\n[alert setAlertStyle:NSWarningAlertStyle];\n[alert beginSheetModalForWindow:nil modalDelegate:self didEndSelector:@selector(someMethodDidEnd:returnCode:contextInfo:) contextInfo:nil];\n</code></pre>\n"},{"tags":["objective-c","cocoa","osx","nsstatusitem"],"answer_count":4,"favorite_count":8,"up_vote_count":7,"down_vote_count":0,"view_count":1643,"score":7,"question_id":1301701,"title":"How to get the on-screen location of an NSStatusItem","body":"<p>I have a question about the <code>NSStatusItem</code> for cocoa in mac osx. If you look at the mac app called snippets (see the movie at <a href=\"http://snippetsapp.com/\" rel=\"nofollow\">http://snippetsapp.com/</a>). you will see that once you clicked your statusbar icon that a perfectly aligned view / panel or maybe even windows appears just below the icon.</p>\n\n<p>My question is ... How to calculate the position to where to place your <code>NSWindow</code> just like this app does?</p>\n\n<p>I have tried the following:</p>\n\n<ol>\n<li>Subclass <code>NSMenu</code></li>\n<li>Set the view popery for the first item of the menu (Worked but enough)</li>\n<li>Using addSubview instead of icon to <code>NSStatusItem</code> this worked but could not get higher then 20px </li>\n</ol>\n"},{"tags":["cocoa","checkbox","startup","items"],"answer_count":4,"favorite_count":3,"up_vote_count":1,"down_vote_count":0,"view_count":1414,"score":1,"question_id":623371,"title":"Add app to the \"Startup Items\"","body":"<p>Some applications have a check button for \"start at login\"...  </p>\n\n<p><img src=\"http://b2.s3.p.quickshareit.com/files/growlstartup49525.png\" alt=\"Start on login\" /></p>\n\n<p>How would you implement this?</p>\n"},{"tags":["cocoa"],"answer_count":2,"favorite_count":1,"up_vote_count":5,"down_vote_count":0,"view_count":631,"score":5,"question_id":5512295,"title":"NSString boundingRectWithSize slightly underestimating the correct width - why?","body":"<p>I'm creating a class that displays a window with some text, a \"Don't show again\" checkbox and a button. In order to be reusable, the class resizes the window as needed to fit the text.</p>\n\n<p>However, there is some slight imprecision in the calculations - if I don't add 5 pixels to the width some strings are truncated. (The last word is simply removed.)</p>\n\n<p>Here's what I have:</p>\n\n<pre><code>// NSTextField *textLabel;\n// NSString *text;\nNSDictionary *stringAttributes = [NSDictionary dictionaryWithObject: [textLabel font] forKey: NSFontAttributeName];\nNSRect textFrame = [text boundingRectWithSize:NSMakeSize(textLabel.frame.size.width, (unsigned int)-1)\n                                      options:(NSStringDrawingDisableScreenFontSubstitution | NSStringDrawingUsesLineFragmentOrigin | NSStringDrawingUsesFontLeading)\n                                   attributes:stringAttributes];\ntextFrame.size.width += 5;\n</code></pre>\n\n<p>I temporarily set the label's background color to yellow to make the debugging easier, and it clearly expands to <em>almost</em> fit that last word. 4 pixels extra is enough on that test string.<br>\nDo note that not all strings fail without these added pixels.</p>\n\n<p>There are two reasons that I care:<br>\n1) I want to learn why it's slightly wrong, and more importantly<br>\n2) I'm figuring that by changing the width after the calculation, the wrapping can theoretically change and leave the otherwise last line unused, creating extra empty space below the text.</p>\n"},{"tags":["objective-c","osx","cocoa","cocos2d-iphone","cocos2d"],"answer_count":0,"favorite_count":3,"up_vote_count":0,"down_vote_count":0,"view_count":133,"score":0,"question_id":9453984,"title":"Editable NSTextField on Mac in Cocos2d project","body":"<p>I'm trying to display editable NSTextField on Mac in Cocos2d project. I run all my test code directly from AppDelegate to make test simple and eliminate all side effects. The code bellow shows red window with nice edit field. The trouble is that the field looks like without focus (text selection is gray) and is not editable (no cursor and no reaction to key strokes). I can change the text selection with mouse but that is all.</p>\n\n<p>Any hint to what's wrong?</p>\n\n<pre><code>- (void)applicationDidFinishLaunching:(NSNotification *)aNotification\n{\n    CCDirectorMac *director = (CCDirectorMac*) [CCDirector sharedDirector];\n    [glView_ setFrameSize:NSMakeSize(1024,768)]; \n    [director setOpenGLView:glView_];\n    [director setResizeMode:kCCDirectorResize_AutoScale];\n    [glView_ setFrameSize:NSMakeSize(window_.frame.size.width,window_.frame.size.height-20)]; \n    [window_ setContentAspectRatio:NSMakeSize(1024,768)];\n    [window_ setAcceptsMouseMovedEvents:NO];\n\n    [self addOverlayWindow];\n\n    //[director runWithScene:[MCGameScene scene]/*[HelloWorldLayer scene]*/];\n}\n\n- (void) addOverlayWindow;\n{\n    NSRect windowRect = [[window_ contentView] frame] ;\n    NSWindow* uiWindow  = [[NSWindow alloc]  initWithContentRect:windowRect\n                                     styleMask:NSBorderlessWindowMask\n                                       backing:NSBackingStoreBuffered defer:YES];\n    [uiWindow setBackgroundColor: [NSColor redColor/*clearColor*/]];\n    [uiWindow setOpaque:NO];\n\n    NSView* uiView = [[[NSView alloc] initWithFrame:NSMakeRect(0, 0, windowRect.size.width, windowRect.size.height)] autorelease];\n    [uiView translateOriginToPoint:NSMakePoint(100, uiView.bounds.size.height/2)];\n    uiView.wantsLayer   = YES;\n\n    [uiWindow setContentView:uiView];\n\n    NSTextField *textField;\n    textField = [[NSTextField alloc] initWithFrame:NSMakeRect(0, 0, 800, 80)];\n    [textField setFont:[NSFont fontWithName:@\"Helvetica Bold\" size:60]];\n    [textField setStringValue:@\"My XXXXXXXXX Label\"];\n    [textField setBezeled:YES];\n    [textField setDrawsBackground:YES];\n    [textField setEditable:YES];\n    [textField setSelectable:YES];\n    [textField setEnabled:YES];\n\n    [uiView addSubview:textField];\n\n    // None of these combinations works...\n    //    [textField becomeFirstResponder];\n    //    [uiWindow setInitialFirstResponder:textField];\n//    [uiWindow makeFirstResponder:textField];\n    //[window_ makeFirstResponder:textField];\n      [window_ setInitialFirstResponder:textField];\n//    [uiView setInitialFirstResponder:textField];\n    //    [uiView makeFirstResponder:textField];\n\n    [window_ addChildWindow:uiWindow ordered:NSWindowAbove];\n}\n</code></pre>\n\n<p>Thanks in advance for your help,\n--Josef</p>\n"},{"tags":["osx","cocoa","fsevents"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":9,"score":1,"question_id":13261361,"title":"OSX FSEvent API and tracking multiple rename events","body":"<p>There is a <a href=\"http://stackoverflow.com/questions/7300998/tracking-file-renaming-deleting-with-fsevents-on-lion\">discussion</a> that contiguous <em>FSEventStreamEventId</em> can be used to detect the old and new names for <em>kFSEventStreamEventFlagItemRenamed</em> events.  This does appear to work in my testing of a basic rename case.  However, this seems to break down in the following scenario:</p>\n\n<ul>\n<li>Monitor directory <strong>test_dir</strong> for events</li>\n<li>File <strong>A</strong> exists in <strong>test_dir</strong></li>\n<li>From a bash terminal issue the command <strong>mv A B;touch C;mv C A</strong> in *test_dir*</li>\n</ul>\n\n<p>This results in the events:</p>\n\n<pre><code>2012-11-06 18:13:01.246 test[45080:1603] event [60095818] [10800] [/Users/tim/test_dir/B]\n2012-11-06 18:13:01.248 test[45080:1603] event [60095824] [10900] [/Users/tim/test_dir/C]\n2012-11-06 18:13:01.253 test[45080:1603] event [60095825] [10800] [/Users/tim/test_dir/A]\n</code></pre>\n\n<p>The event bits 0x10800 = \"File Renamed\" and 0x10900 = \"File Created/Renamed\"</p>\n\n<p>(from FSEvents.h)</p>\n\n<pre><code>kFSEventStreamEventFlagItemCreated = 0x00000100\nkFSEventStreamEventFlagItemRenamed = 0x00000800\nkFSEventStreamEventFlagItemIsFile = 0x00010000\n</code></pre>\n\n<p>It appears that the fact that <strong>A</strong> was renamed to <strong>B</strong> is lost in this scenario.</p>\n\n<p>I would expect to have seen an event like 60095817 10800 for A.</p>\n\n<p>Can anyone confirm this behavior and if so does anyone have any ideas on how to handle this limitation without having to maintain a separate representation of the directory contents and rescan/compare the entire directory?</p>\n\n<p>I am testing on OS X 10.8.2.</p>\n\n<p>EDIT: Just found another <a href=\"http://stackoverflow.com/questions/8314348/cocoa-fsevents-kfseventstreamcreateflagfileevents-flag-and-renamed-events\">discussion</a> that indicates this may be a more general issue with multiple renames.</p>\n"},{"tags":["cocoa","cgimage","cgimageref"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13259835,"title":"How to overlay one CGImage over another","body":"<p>I wish to overlay one CGImage over another.</p>\n\n<p>As an example the first CGImage is 1024x768 and want to overlay a second 100x100 CGImage at a given location.</p>\n\n<p>I have seen how to do this using NSImage but don't really want to convert my CGImages to NSImage's then do overlay then convert the result back to CGImage. I have also seen iOS versions of the code, but unsure how to go about it on Mac?</p>\n"},{"tags":["iphone","objective-c","ios","ipad","cocoa"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13260491,"title":"Parsing Intuit XML response in iOS","body":"<p>I'm trying to parse a REST response which is in XML. The interesting thing about the response is that multiple nodes have the same name. I'm looking for a simple way to parse this data in iOS. Here's a sample:</p>\n\n<pre><code>&lt;Report name=\"BalanceSheet\"&gt;\n&lt;ColDesc&gt;&lt;ColTitle&gt;AccountType&lt;/ColTitle&gt;&lt;ColType&gt;ids_String&lt;/ColType&gt;&lt;/ColDesc&gt;\n&lt;ColDesc&gt;&lt;ColTitle&gt;Amount&lt;/ColTitle&gt;&lt;ColType&gt;ids_Amount&lt;/ColType&gt;&lt;/ColDesc&gt;\n&lt;Data&gt;\n&lt;DataRow&gt;\n&lt;ColData&gt;Checking/Savings&lt;/ColData&gt;\n&lt;ColData&gt;12345345&lt;/ColData&gt;\n&lt;/DataRow&gt;\n&lt;DataRow&gt;\n&lt;ColData&gt;Accounts Receivable&lt;/ColData&gt;\n&lt;ColData&gt;674532&lt;/ColData&gt;\n&lt;/DataRow&gt;\n&lt;DataRow&gt;\n&lt;ColData&gt;Other Current Assets&lt;/ColData&gt;\n&lt;ColData&gt;423546&lt;/ColData&gt;\n&lt;/DataRow&gt;\n&lt;DataRow&gt;\n&lt;ColData&gt;Fixed Assets&lt;/ColData&gt;\n&lt;ColData&gt;63545534&lt;/ColData&gt;\n&lt;/DataRow&gt;\n&lt;DataRow&gt;\n&lt;ColData&gt;Other Assets&lt;/ColData&gt;\n&lt;ColData&gt;325465&lt;/ColData&gt;\n&lt;/DataRow&gt;\n&lt;DataRow&gt;\n&lt;ColData&gt;Accounts Payable&lt;/ColData&gt;\n&lt;ColData&gt;653653&lt;/ColData&gt;\n&lt;/DataRow&gt;\n&lt;DataRow&gt;\n&lt;ColData&gt;Other Current Liabilities&lt;/ColData&gt;\n&lt;ColData&gt;910596.75&lt;/ColData&gt;\n&lt;/DataRow&gt;\n&lt;DataRow&gt;\n&lt;ColData&gt;Long Term Liabilities&lt;/ColData&gt;\n&lt;ColData&gt;553797.26&lt;/ColData&gt;\n&lt;/DataRow&gt;\n&lt;DataRow&gt;\n&lt;ColData&gt;Equity&lt;/ColData&gt;\n&lt;ColData&gt;45363&lt;/ColData&gt;\n&lt;/DataRow&gt;\n&lt;/Data&gt;\n&lt;/Report&gt;\n</code></pre>\n\n<p>I have tried using the SMXMLDocument parser as well as tried to convert it to a NSDictionary using XMLReader. The way the XML is structured is just confusing.</p>\n\n<p>Any suggestions?</p>\n"},{"tags":["objective-c","cocoa","button","menu"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13260689,"title":"How do I create a button that displays a menu when clicked?","body":"<p>How can I create a <code>NSPopupButton</code> that shows a regular button with an image in it (always stays this way), and then when this button is clicked, a menu gets displayed underneath the button?</p>\n\n<p>I'd like to do this through Xcode Interface Builder as much as possible.</p>\n"},{"tags":["objective-c","cocoa","cocoa-bindings"],"answer_count":4,"favorite_count":20,"up_vote_count":23,"down_vote_count":0,"view_count":3370,"score":23,"question_id":1169097,"title":"Can you manually implement Cocoa bindings?","body":"<p>I've had a crack at implementing bindings for my own NSView subclass. It works, but there are problems with retain cycles when binding to File's Owner from a nib file. After reading into it a little, I discovered that Apple had the same problem a few years back but have fixed it with some magic undocumented class (NSAutounbinder).</p>\n\n<p>There is a lengthy discussion of the retain cycle problem here <a href=\"http://www.cocoabuilder.com/archive/message/cocoa/2004/6/12/109600\" rel=\"nofollow\">http://www.cocoabuilder.com/archive/message/cocoa/2004/6/12/109600</a> . The workaround is to to unbind all bindings before the window controller is <strong>released</strong>, not before it is <strong>deallocated</strong>, in a place like windowWillClose:. This seems like an unnecessary hack to me.</p>\n\n<p>My question is this: Is there any way to make custom bindings that work as well as the ones made by Apple, without using undocumented features? Am I going about this the wrong way?</p>\n\n<p><hr /></p>\n\n<p>UPDATE 2: I have found a solution that allows manually implemented bindings to work exactly like Apple's bindings. It takes advantage of the undocumented NSAutounbinder class, without actually using undocumented features. I will post the solution later today.</p>\n\n<p><hr /></p>\n\n<p>UPDATE: <strong>I've tried using <code>exposeBinding:</code>, and it doesn't seem to make any difference</strong>. However, the <code>NSObject</code> implementation of <code>bind:toObject:withKeyPath:options:</code> half works. It propogates changes from bindee to binder (i.e. from model/controller to view), but doesn't work the opposite way. Also, although the bindee is obviously being observed, <code>observeValueForKeyPath:ofObject:change:context:</code> is never triggered.</p>\n\n<p>Example project here: <a href=\"http://www.tomdalling.com/wp-content/BindingsTest.zip\" rel=\"nofollow\">http://www.tomdalling.com/wp-content/BindingsTest.zip</a></p>\n\n<p>Apple's documentation indicates that you do, in fact, have to override <code>bind:toObject:withKeyPath:options:</code> to implement manual bindings. See here: <a href=\"http://developer.apple.com/documentation/Cocoa/Conceptual/CocoaBindings/Concepts/HowDoBindingsWork.html\" rel=\"nofollow\">http://developer.apple.com/documentation/Cocoa/Conceptual/CocoaBindings/Concepts/HowDoBindingsWork.html</a></p>\n\n<p><hr /></p>\n\n<p>SIDE NOTE: I've investigated how the undocumented NSAutounbinder works, and here's what I know. </p>\n\n<p>When a binding is created to an NSWindowController, the bound object is actually an NSAutounbinder that is acquired from the NSWindowController with -[NSWindowController _autounbinder]. NSAutounbinder is a non-retaining proxy for the NSWindowController object. It is non-retaining to avoid the retain cycle problem.</p>\n\n<p>When -[NSWindowController release] is called and retainCount == 1, The NSAutounbinder unbinds all bindings to itself. This ensures that there are no dangling pointers to the object before it is deallocated.</p>\n"},{"tags":["xcode","cocoa","osx-mountain-lion","finder"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13259941,"title":"\"Virtual Files\" in OSX Finder that only appear when my Application runs, possible?","body":"<p>is there a way to \"hook\" into the OSX Finder to perform the following:</p>\n\n<p>When my Application starts, the User sees a Folder in his Finder which is created by my application. Inside this Folder the User sees Files from several Folders...a unified view to several Files in several Folders that the User specified in my Application. \nSo, in this \"Unified Folder\" are not the real Files, they are still in there original Folder but the User sees them in this one Folder as if there were all his real Files in this new Folder. So there is no copying or moving involved.</p>\n\n<p>To be honest, I've no Idea if it's possible and what I should looking for inside the Cocoa SDK. Maybe there is an API for the Finder itself or some other way?!</p>\n\n<p>Regards</p>\n\n<p>twickl </p>\n"},{"tags":["objective-c","cocoa","fullscreen","osx-lion"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":347,"score":0,"question_id":7227152,"title":"Set NSWindow location/size on launch and Lion fullscreen resume = bad layout","body":"<p>I've created an application which initially stores and restores window size and location in the app delegate's applicationWillFinishLaunching: or applicationDidFinishLaunching.</p>\n\n<p>Later I have replaces it with calling [NSWindow setFrameUsingName:] and such to store and load window location and size.</p>\n\n<p>Both storing and loading works just fine (with custom code and with setFrameUsingName)</p>\n\n<p>But now the problem: when I have enabled Fullscreen mode on the application and logout with the option \"restore windows\". It will launch the application in the separate window to become fullscreen but then my code is called again to set the window size: in effect displaying a small window in the big fullscreen screen.</p>\n\n<p>It seems the lifecycle almost ends with the windowDidEnterFullScreen: call.\nThe applicationWillFinishLaunching: is called way before the window is put in full screen and the NSWindow's styleMask doesn't show fullscreen there yet.</p>\n\n<p>Anyone able to help me?</p>\n"},{"tags":["objective-c","facebook","osx","cocoa","acaccount"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13258922,"title":"How to access the user's facebook account? OSX Mountain Lion","body":"<p>I'm using the code from WWDC to access the user's facebook account:</p>\n\n<pre><code>self.accountStore = [[ACAccountStore alloc] init];\nACAccountType *facebookAccountType = [self.accountStore\n                                      accountTypeWithAccountTypeIdentifier:ACAccountTypeIdentifierFacebook];\n[self.accountStore requestAccessToAccountsWithType:facebookAccountType\n                             withCompletionHandler:^(BOOL granted, NSError *e) {\n                                 if (granted) {\n                                     NSArray *accounts = [self.accountStore\n                                                          accountsWithAccountType:facebookAccountType];\n                                     self.facebookAccount = [accounts lastObject];\n                                 } else {\n                                     // Fail gracefully...\n                                 }\n                             }];\n</code></pre>\n\n<p>but it gives me error on the <code>requestAccessToAccountsWithType:withCompletionHandler:</code>.<br><img src=\"http://i.stack.imgur.com/1edtb.png\" alt=\"enter image description here\"><br>\nHow can I access the user's facebook account?</p>\n"},{"tags":["objective-c","xcode","cocoa","nsstring","const"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":32,"score":1,"question_id":13259170,"title":"Renaming NSString constants","body":"<p>I use a lot of <code>NSString</code> constants like:</p>\n\n<pre><code>static NSString * const REAColorPlaybackBackgroundKey = @\"REAColorPlaybackBackgroundKey\";\nstatic NSString * const REAColorPlaybackForegroundKey = @\"REAColorPlaybackForegroundKey\";\n</code></pre>\n\n<p>There's unnecessary duplicity and no easy way to rename them. Xcode's <em>Refactor</em> command doesn't work here and <em>Edit All in Scope</em> can't handle it either. Is there a smarter way how to define <code>NSString</code> constants?</p>\n"},{"tags":["osx","cocoa"],"answer_count":3,"favorite_count":0,"up_vote_count":15,"down_vote_count":1,"view_count":6776,"score":14,"question_id":985177,"title":"How to get value from NSTextField?","body":"<p>I'm a beginner, thank you very much.</p>\n"},{"tags":["objective-c","osx","cocoa","nsurl","nsfilemanager"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13256809,"title":"NSURL bookmark lookup failing","body":"<p>I'm trying to store bookmark references to a collection of <code>NSURL</code>s, but <code>bookmarkDataWithContentsOfURL</code> seems to be failing every time, even for files that I have permission to access. My app is not (yet) sandboxed, so that is not the problem.</p>\n\n<p>I am reading these files in other ways (both via C-based and Cocoa APIs) with no problems.</p>\n\n<p>I am iterating over a directory and trying to read the bookmark data like so:</p>\n\n<pre><code>NSArray * contents = [[NSFileManager defaultManager] \n    contentsOfDirectoryAtURL:directoryURL \n    includingPropertiesForKeys:keys options:0 error:&amp;error];\n\nfor (NSURL * url in contents)\n{\n    NSData * bookmarkData = [NSURL bookmarkDataWithContentsOfURL:url error:&amp;error];\n\n    if (error)\n    {\n        NSLog(@\"Error finding bookmark for %@: %@\", url, error);\n    }\n}\n</code></pre>\n\n<p>For all regular files, I am getting the following error:</p>\n\n<pre><code>Error finding bookmark for file://localhost/Users/mspong/foo/bar.pdf: \nError Domain=NSCocoaErrorDomain Code=256 \"The file couldn’t be opened.\"\n</code></pre>\n\n<p>For all directories, I am getting:</p>\n\n<pre><code>Error finding bookmark for file://localhost/Users/mspong/foo/: \nError Domain=NSPOSIXErrorDomain Code=21 \"The operation couldn’t be completed. Is a directory\"\n</code></pre>\n\n<p>Why am I getting this error for files that I certainly have permission to open? And does the second error mean that bookmarks are not available for directories? Is there any alternative way to save a persistent identifier for a directory that survives renames/moves?</p>\n"},{"tags":["objective-c","cocoa","webview","focus"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13258587,"title":"How do you prevent a webView from claiming focus from a search field. Objc-C, Cocoa","body":"<p>I have an app that has a webView. It has a toolbar that contains a searchfield. This search field automatically searches while you type. (In this case it searches Wikipedia). However, if you type something that Wikipedia doesn't know about. Wikipedia will take you to the \"Advanced Search\" Page.</p>\n\n<p>However, this page automatically steels focus from my search field. Thereby disrupting the user's typing. How do I make it so my webView NEVER steels focus? This is on Cocoa, not Cocoa Touch.</p>\n"},{"tags":["objective-c","cocoa","gui","layout"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13257840,"title":"Layout management in Cocoa","body":"<p>I can't find comprehensive article about layout management in Cocoa. What are the possible layouts, are they even exists in Cocoa. How to deal with expansion/stretching components like  <code>NSViews</code> on the dynamically size changing container?</p>\n\n<p>I've created two separate <code>NSView</code>'s with different content and sizes. These views are swapped  onto one of the <code>NSSplitView</code> pane using <code>animator</code>(one or the second). The problem is that these views are not expanded to the NSSplitView's pane size when user is changing the divider position. They are fixed size.</p>\n"},{"tags":["cocoa","interface-builder","nsview","appkit","nsviewcontroller"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":9,"score":1,"question_id":13257501,"title":"Composing NSViews using Interface Builder only","body":"<p>I have some custom views that I want to reuse throughout my application.</p>\n\n<p>I create a new Objective C class in XCode and set the type to 'NSViewController'. I check the box to create .xib file for the user interface. I can go ahead and construct my reusable view.</p>\n\n<p>Now I want to add my reusable view into my MainWindow.xib. Is there a way to approach this using only Interface Builder (no code)?</p>\n\n<p>I see I can add a 'Custom View' proxy into my MainWindow.xib. But it is still necessary to load my reusable view in code, and then swap it out for my custom view proxy at run time, e.g. (pseudo code)</p>\n\n<pre><code>UIView *myReusableView = [[[NSBundle mainBundle] loadNibNamed:@\"ReusableView\" owner:self options:nil] objectAtIndex:0]\n[self.window.contentView replaceSubview:myCustomView with:myReusableView];\n</code></pre>\n\n<p>Every approach that I try, I always end up having to do some work in code. Is it not possible to compose custom NSViews (from .xib files) using Interface Builder alone? For example, this is possible in Windows Forms where one can compose custom User Controls using only the designer.</p>\n"},{"tags":["ios","xcode","cocoa","compiler"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13255645,"title":"Use pragma ifdef to conditionally compile the same protocol header for both mac and ios?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/3181321/which-conditional-compile-to-use-to-switch-between-mac-and-iphone-specific-code\">Which conditional compile to use to switch between Mac and iPhone specific code?</a>  </p>\n</blockquote>\n\n\n\n<p>I've defined a protocol which should work just fine on both Mac and iOS.  However, one of the methods of the protocol would better return a specific class of object (rather than just 'id'), but the class is not a foundation class and thus varies on the two platforms (for example, UIButton and NSButton).</p>\n\n<p>How can I use a pragma mark like <code>#ifdef TARGET_OS_IPHONE</code> to include the same protocol header in two libraries, one built for iOS and one for Mac?</p>\n\n<p>Here is my actual protocol and my (broken) attempt at conditional compilation</p>\n\n<pre><code>#import &lt;Foundation/Foundation.h&gt;\n\n@protocol SharedAppDelegate &lt;NSObject&gt;\n\n#ifdef TARGET_OS_IPHONE\n@protocol UIApplicationDelegate;\n+ (NSObject&lt;UIApplicationDelegate&gt; *)sharedAppDelegate;\n#else\n@protocol NSApplicationDelegate;\n+ (NSObject&lt;NSApplicationDelegate&gt; *)sharedAppDelegate;\n#endif\n\n@end\n</code></pre>\n\n<p>One thing I know off the bat is that the target does not include the simulator, but I cannot find a solid example of one target which covers Mac and another all iOS incarnations.</p>\n"},{"tags":["objective-c","ios","xcode","cocoa-touch","cocoa"],"answer_count":2,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":64,"score":5,"question_id":13249728,"title":"Do NSURLConnections belong in my model or controller?","body":"<p>Say I'm using a <strong>JSON</strong> or <strong>XML</strong> API to get data about my projects from a URL using an asyncronous NSURLConnection, parsing that into an <strong>NSMutableArray</strong> and then populating an <strong>NSTableView</strong>.</p>\n\n<p>I have a model: <strong>Project</strong> \nI have a controller: <strong>TableViewController</strong> (acting as table data source and delegate)</p>\n\n<p>Where should I put the code that starts the request and parses the result into a <strong>NSMutableArray</strong>.</p>\n\n<p>Should I have:</p>\n\n<p>1:</p>\n\n<p>A method inside Project called <code>-(NSMutableArray* ) getAllProjects</code> and call this from my Controller.</p>\n\n<p>Or 2:</p>\n\n<p>Should I enumerate an <strong>NSMutableArray</strong> of <strong>Project*</strong> objects, called for instance <strong>ProjectsArray*</strong> inside my Controller; each time calling <code>[[Project alloc] init]</code>?</p>\n\n<p>Option 1 makes much more sense to me because I might want to get all the projects from multiple controllers and this would save repeating code, I only need to call a public method inside my Project model. In this case would I be doing lots of <code>[[self alloc] init]</code> statements? Is this ok? Also my model would need to be an <strong>NSURLConnection</strong> delegate. Is this correct?</p>\n"},{"tags":["objective-c","cocoa","cocoa-touch","xcode","nslog"],"answer_count":9,"favorite_count":224,"up_vote_count":193,"down_vote_count":1,"view_count":63637,"score":192,"question_id":969130,"title":"How to print out the method name and line number and conditionally disable NSLog?","body":"<p>I'm doing a presentation on debugging in Xcode and would like to get more information on using NSLog efficiently. I'd like to know if there are any tips and tricks to using NSLog which you guys have picked up.</p>\n\n<p>For example,</p>\n\n<ul>\n<li>is there a way to easily NSLog the current method's name / line number?</li>\n<li>is there a way to \"disable\" all NSLogs easily before compiling for release code?</li>\n</ul>\n\n<p>Any other tips would be appreciated. </p>\n\n<p>Thanks.</p>\n"},{"tags":["objective-c","osx","cocoa","apple"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":244,"score":1,"question_id":9716385,"title":"Popup menu implementation from NSButton","body":"<p>How should I go about it?</p>\n\n<p>I was thinking about...</p>\n\n<pre><code>[NSMenu popUpContextMenu:menu withEvent:event forView:(NSButton *)sender];\n</code></pre>\n"},{"tags":["objective-c","osx","cocoa","nswindow"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":13221732,"title":"Blank pixels left when NSWindow with opaque set to NO","body":"<p>I have a NSWindow where I set opaque attribute to <code>NO</code>. The problem is that when I put any view inside that window it's corners has <em>blank</em> pixels.</p>\n\n<p>Everything works well when opaque attribue is left with <code>YES</code> value, however, window's corners are not rounded anymore. See picture:</p>\n\n<p><img src=\"https://dl.dropbox.com/u/2374938/artifacts.png\" width=\"400\"></p>\n\n<p>I've created repository with simple example project at bitbucket: <a href=\"https://bitbucket.org/lukaszb/animationartifacts\" rel=\"nofollow\">https://bitbucket.org/lukaszb/animationartifacts</a></p>\n\n<p>Is there a way I can fix this (remain window's corners rounded and blank pixels not appearing)? Or should I try another solution (without <code>setOapque:NO</code> at <code>NSWindow</code> subclass)?</p>\n"},{"tags":["cocoa","nstableview"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13244427,"title":"programmatically using NSTableView","body":"<p>I need to create/use a NSTableView programmatically. From the documentation, it seems that I would implement the NSTableViewDataSource protocol. But the function <code>tableView:objectValueForTableColumn:row:</code> suggest (because of the row index) that I would have to manually take care of the sorting. Is that right? Also, as this is called on every redisplay, that might be slow because I am using Python and it would mean a Python call for every row/column.</p>\n\n<p>I wonder wether it make sense to use Cocoa binding and wether that would be more simple. In any case, I would have to do that programmatically and I am a bit stumbled about how to that. From other examples, I guess I would create a NSArrayController and bind it all together somehow.</p>\n\n<p>Also, I want to have it working on older MacOSX, so I guess I have to use the cell-based NSTableView, whatever that means.</p>\n\n<p>The data source will be static and is not editable, i.e. I can just provide a NSArray with the data.</p>\n"},{"tags":["objective-c","osx","cocoa","file","file-in-use"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":170,"score":2,"question_id":8645831,"title":"Detect file in use by other process","body":"<p>On windows and such I used to use a trick to find out of a file is currently in use (written specifically). </p>\n\n<p>I use to open the file for writing and if it failed most likey another process is busy accessing it. </p>\n\n<p>Sadly these trick (using C OPEN with exclusive lock for writing) doesn't work on my Mac. While my curl in a terminal is still writing my -fileBusy() check fails. </p>\n\n<p>fcnt call on the fd with F_GETLK doesn't reveal any locking as well. </p>\n\n<p>Is there any chance for me to detect if a file is in use by another process?</p>\n\n<p>Ps> listening for fsevents can't be done because my app launches after the is created by the other app / process. </p>\n"},{"tags":["cocoa","uitableviewcell","uibutton","reordering"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":9,"score":0,"question_id":13251618,"title":"How to add an image in UITableView's content view while we reodering cells?","body":"<p>I have a tableview where I provide the option to reoder the cells. But, I don't want to show the delete icon when the user doing rearranging cells. So I did like <a href=\"http://stackoverflow.com/questions/6116618/how-can-i-make-a-cell-movable-but-not-deletable-in-a-uitableview\">this</a> to remove the delete button.</p>\n\n<p>In normal mode..</p>\n\n<p><img src=\"http://i.stack.imgur.com/1zIEG.png\" alt=\"enter image description here\"></p>\n\n<p>After edit mode (That is, non deletable but rearrangable mode)..</p>\n\n<p><img src=\"http://i.stack.imgur.com/Y9YHq.png\" alt=\"enter image description here\"></p>\n\n<p>Here, two things are happening. One is the accessoryview of each cell has a image(that represents rearrangement). Second thing is, all strings are moved some points from the left screen. This gap is actually for the deletion symbol. Since I hide the delete button, an empty space appears.</p>\n\n<p>Ok, here is the problem comes. I now want to add some custom button with an image in each cell's content view.</p>\n\n<p>So, I added the following code in my <code>tableView: cellForRowAtIndexPath:</code></p>\n\n<pre><code>if (isEditable)\n{\n    selectionButton = [UIButton buttonWithType:UIButtonTypeCustom];\n\n    UIImage *img = [UIImage imageNamed:@\"blue_button.png\"];\n\n    selectionButton.frame = CGRectMake(-25, 10, img.size.width, img.size.height);\n\n    [selectionButton setBackgroundImage:img forState:UIControlStateNormal];\n\n    [selectionButton addTarget:self action:@selector(buttonClickAction:) forControlEvents:UIControlEventTouchUpInside];\n\n    [cell.contentView addSubview:selectionButton];\n}\n</code></pre>\n\n<p>The blue button was 24*24 pixels.</p>\n\n<p><strong>The reason why I used -25 as \"x\" value:</strong></p>\n\n<p>If I give a positive value or zero, the button will overlapped with cell text. Below image represents when the x value is 0.</p>\n\n<p><img src=\"http://i.stack.imgur.com/VOG1b.png\" alt=\"enter image description here\"></p>\n\n<p>But for x=-25,</p>\n\n<p><img src=\"http://i.stack.imgur.com/2rF0V.png\" alt=\"enter image description here\"></p>\n\n<p><strong>What I need:</strong></p>\n\n<p>Since I added the button with negative x value, the whole image width (24 pixels) will be hiden in the x value (25 pixels). So the button action <code>buttonClickAction:</code> was not called. I want to change the image when the user tapping on it(switching between selected/unselected mode). </p>\n\n<p>Is there any way to call the button's action method? Or should I create a custom cell?</p>\n\n<p>Just confused..</p>\n"},{"tags":["iphone","objective-c","ios","ipad","cocoa"],"answer_count":6,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":56,"score":1,"question_id":13199101,"title":"Setting a flag in compiler for NSLog not to show","body":"<p>Is there any particular flag which can be set to not display NSLog output in either debug or release?</p>\n\n<p>Thanks.</p>\n"},{"tags":["cocoa","appkit"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":12790307,"title":"Example of custom NSSharingService window","body":"<p>It seems to be possible to customize the NSWindow used by an NSSharingService.  Does anybody know of any examples where this has been done?  </p>\n"},{"tags":["objective-c","xcode","osx","cocoa","control"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":26,"score":0,"question_id":13250175,"title":"Adding Custom Objects in Xcode 4","body":"<p>OK, this is the question :</p>\n\n<ul>\n<li>We all know <code>Object Library</code>, with all the controls in it</li>\n<li>How could I add a custom object into that list? (e.g. Under \"Custom Objects\")</li>\n</ul>\n\n<p>I've read the following, but I still can't get it to work (Xcode 4.2 on Snow Leopard) :</p>\n\n<blockquote>\n  <p><strong>Adding Custom Objects to the Library</strong></p>\n  \n  <p>Although you normally drag items out of the Library window and into\n  your user interface, you can also drag your custom configurations of\n  those objects back into the Library window. Doing this lets you\n  retrieve those custom objects later without having to reconfigure\n  them.</p>\n  \n  <p>To add a custom object to the library, do the following:</p>\n  \n  <ol>\n  <li><p>In your window, configure the object as you would like it.</p></li>\n  <li><p>Press and hold the Option key and drag the object to the Library window.</p></li>\n  <li><p>In the organization pane of the Library window, drop the object on the Custom Objects group or on a custom group you created. Interface\n  Builder prompts you for information about the dropped object.</p></li>\n  <li><p>Fill in the information about your object and press OK.</p></li>\n  </ol>\n  \n  <p>You can use this technique to drag one object or a group of objects.\n  When dragging more than one object, the entire group becomes a single\n  item in the Library window. Dragging that item back out of the library\n  creates all of the original objects.</p>\n  \n  <p>The items you add to the library persist between Interface Builder\n  sessions so that you can use them over and over again. To remove a\n  custom item from the Library window, do the following:</p>\n  \n  <ol>\n  <li><p>Select the Custom Objects group in the library to see the items in that group.</p></li>\n  <li><p>Select your custom item.</p></li>\n  <li><p>Press the Delete key.</p></li>\n  </ol>\n  \n  <p>You must remove custom items from the Custom Objects group in order to\n  remove them from the Library window. Removing items from your custom\n  group folders removes them from the group but not the library.</p>\n  \n  <p>In addition to adding custom configurations of objects to the library,\n  you can also add entirely new objects to the library through an\n  Interface Builder plug-in. Plug-ins are typically used in situations\n  where you want to be able to configure and edit the attributes of your\n  custom classes. For more information, see “Using Plug-ins to Integrate\n  New Objects into the Library.”</p>\n</blockquote>\n\n<p>Any ideas?</p>\n"},{"tags":["cocoa","retina-display","appkit"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":39,"score":1,"question_id":13248344,"title":"How can a Mac app be so retina unfriendly","body":"<p>To my knowledge, the windows, labels, ... etc. are automatically retina-fied when they run on the new MacBooks with Retina Displays. That's the case with most of the apps I have (third party apps I didn't develop). However...</p>\n\n<p>There is this specific app (Yummy ftp), that just looks miserable on the retina. Every single \"thing\" within the window is non-retina-fied. Even the window's toolbar.</p>\n\n<p>In a counter example, many other apps just got automatically retina-fied (except raster images, CoreGraphics/CoreAnimation stuff, ...etc).</p>\n\n<p><strong>Showcase:</strong></p>\n\n<p>I did not scale these images. I am just screen capturing, cropping, and uploading.</p>\n\n<p><img src=\"http://i.stack.imgur.com/QBQru.png\" alt=\"Yummy FTP non retinified\"></p>\n\n<p><img src=\"http://i.stack.imgur.com/co9PW.png\" alt=\"Daisy Disk retina-fied\"></p>\n\n<p>As a cocoa developer, I would like to know the cause of such misbehavior, and how to avoid it.</p>\n"},{"tags":["osx","cocoa","skype"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12701405,"title":"cocoa - Import skype.framework has an error","body":"<p>I have an issue when import skype.framework to mac app.\nThis is the error</p>\n\n<pre><code>\"_OBJC_CLASS_$_SkypeAPI\", referenced from:\n     objc-class-ref in AppDelegate.o\nld: symbol(s) not found for architecture x86_64\n</code></pre>\n\n<p>Although, I have added the skype.framework.</p>\n"},{"tags":["objective-c","osx","cocoa","core-data"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":13170712,"title":"EXC_BAD_ACCESS error when using Core Data when changing attribute value","body":"<p>Im pretty new to Core Data programming and Cocoa in general, so no wonder I'm having troubles :)</p>\n\n<p>So here is my managedObjectModel method:</p>\n\n<pre><code>- (NSManagedObjectModel *)managedObjectModel\n{\n    if (managedObjectModel != nil)\n    {\n        return managedObjectModel;\n    }\n    NSString *modelPath = [[NSBundle mainBundle] pathForResource:@\"Model\" ofType:@\"momd\"];\n    NSURL *modelURL = [NSURL fileURLWithPath:modelPath];\n\n    NSAssert(modelURL != nil,@\"modelURL == nil\");\n    managedObjectModel = [[NSManagedObjectModel alloc] initWithContentsOfURL:modelURL];\n    return managedObjectModel;\n}\n</code></pre>\n\n<p>Here is the part of the code that crashes:</p>\n\n<pre><code>NSManagedObjectModel *mom = [self managedObjectModel];\n\nmanagedObjectModel = mom;\n\nif (applicationLogDirectory() == nil)\n{\n    NSLog(@\"Could not find application logs directory\\nExiting...\");\n    exit(1);\n}\n\nNSManagedObjectContext *moc = [self managedObjectContext];\nNSProcessInfo *processInfo = [NSProcessInfo processInfo];\n\nNSEntityDescription *newShotEntity = [[mom entitiesByName] objectForKey:@\"Entity\"];\n\nEntity *shEnt = [[Entity alloc] initWithEntity:newShotEntity insertIntoManagedObjectContext:moc];\n\n\nshEnt.pid = [processInfo processIdentifier]; // EXC_BAD_ACCESS (code=1, address=0x28ae) here !!!\n\nNSError *error;\n\nif (![moc save: &amp;error])\n{\n   NSLog(@\"Error while saving\\n%@\",\n        ([error localizedDescription] != nil) ? [error localizedDescription] : @\"Unknown Error\");\n        exit(1);\n}\n</code></pre>\n\n<p>Im really confused why I'm having this error, since when I hardcoded the Data Model instead of using .xcdatamodeld file it was working just fine! </p>\n\n<p>Any kind of help is really appreciated!</p>\n\n<p>EDIT 1: since I'm having all those questions asked I want to make everything clear, sorry for not providing all this before.</p>\n\n<pre><code>    // Entity.h\n\n    #import &lt;CoreData/CoreData.h&gt;\n\n    @interface Entity : NSManagedObject\n\n    @property (strong) NSDate *date;\n    @property (assign) NSInteger pid;\n\n    @end\n\n   //Entity.m\n\n   #import \"Entity.h\"\n\n   @interface Entity ()\n   @property (strong) NSDate *primitiveDate;\n   @end\n\n   @implementation Entity\n\n  @dynamic date,primitiveDate,pid;\n\n\n  - (void) awakeFromInsert\n  {\n    [super awakeFromInsert];\n    self.primitiveDate = [NSDate date];\n  }\n\n\n  - (void)setNilValueForKey:(NSString *)key\n  {\n    if ([key isEqualToString:@\"pid\"]) {\n        self.pid = 0;\n    }\n    else {\n        [super setNilValueForKey:key];\n    }\n\n  }\n  @end\n</code></pre>\n"},{"tags":["c#","objective-c","cocoa","mono","monomac"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":51,"score":2,"question_id":13216971,"title":"How to implement Cocoa copyWithZone on derived object in MonoMac C#?","body":"<p>I'm currently porting a small Winforms-based .NET application to use a native Mac front-end with MonoMac.  The application has a TreeControl with icons and text, which does not exist out of the box in Cocoa.</p>\n\n<p>So far, I've ported almost all of the ImageAndTextCell code in Apple's DragNDrop example: <a href=\"https://developer.apple.com/library/mac/#samplecode/DragNDropOutlineView/Listings/ImageAndTextCell_m.html#//apple_ref/doc/uid/DTS40008831-ImageAndTextCell_m-DontLinkElementID_6\" rel=\"nofollow\">https://developer.apple.com/library/mac/#samplecode/DragNDropOutlineView/Listings/ImageAndTextCell_m.html#//apple_ref/doc/uid/DTS40008831-ImageAndTextCell_m-DontLinkElementID_6</a>, which is assigned to an NSOutlineView as a custom cell.</p>\n\n<p>It seems to be working almost perfectly, except that I have not figured out how to properly port the <code>copyWithZone</code> method.  Unfortunately, this means the internal copies that NSOutlineView is making do not have the image field, and it leads to the images briefly vanishing during expand and collapse operations.  The objective-c code in question is:</p>\n\n<pre><code>- (id)copyWithZone:(NSZone *)zone {\n    ImageAndTextCell *cell = (ImageAndTextCell *)[super copyWithZone:zone];\n    // The image ivar will be directly copied; we need to retain or copy it.\n    cell-&gt;image = [image retain];\n    return cell;\n}\n</code></pre>\n\n<p>The first line is what's tripping me up, as MonoMac does not expose a copyWithZone method, and I don't know how to otherwise call it.</p>\n\n<p><strong>Update</strong></p>\n\n<p>Based on current answers and additional research and testing, I've come up with a variety of models for copying an object.</p>\n\n<pre><code>static List&lt;ImageAndTextCell&gt; _refPool = new List&lt;ImageAndTextCell&gt;();\n\n// Method 1\n\nstatic IntPtr selRetain = Selector.GetHandle (\"retain\");\n\n[Export(\"copyWithZone:\")]\npublic virtual NSObject CopyWithZone(IntPtr zone) {\n    ImageAndTextCell cell = new ImageAndTextCell() {\n        Title = Title,\n        Image = Image,\n    };\n\n    Messaging.void_objc_msgSend (cell.Handle, selRetain);\n\n    return cell;\n}\n\n// Method 2\n\n[Export(\"copyWithZone:\")]\npublic virtual NSObject CopyWithZone(IntPtr zone) {\n    ImageAndTextCell cell = new ImageAndTextCell() {\n        Title = Title,\n        Image = Image,\n    };\n\n    _refPool.Add(cell);\n\n    return cell;\n}\n\n[Export(\"dealloc\")]\npublic void Dealloc ()\n{\n    _refPool.Remove(this);\n    this.Dispose();\n}\n\n// Method 3\n\nstatic IntPtr selRetain = Selector.GetHandle (\"retain\");\n\n[Export(\"copyWithZone:\")]\npublic virtual NSObject CopyWithZone(IntPtr zone) {\n    ImageAndTextCell cell = new ImageAndTextCell() {\n        Title = Title,\n        Image = Image,\n    };\n\n    _refPool.Add(cell);\n    Messaging.void_objc_msgSend (cell.Handle, selRetain);\n\n    return cell;\n}\n\n// Method 4\n\nstatic IntPtr selRetain = Selector.GetHandle (\"retain\");\nstatic IntPtr selRetainCount = Selector.GetHandle(\"retainCount\");\n\n[Export(\"copyWithZone:\")]\npublic virtual NSObject CopyWithZone (IntPtr zone)\n{\n    ImageAndTextCell cell = new ImageAndTextCell () {\n        Title = Title,\n        Image = Image,\n    };\n\n    _refPool.Add (cell);\n    Messaging.void_objc_msgSend (cell.Handle, selRetain);\n\n    return cell;\n}\n\npublic void PeriodicCleanup ()\n{\n    List&lt;ImageAndTextCell&gt; markedForDelete = new List&lt;ImageAndTextCell&gt; ();\n\n    foreach (ImageAndTextCell cell in _refPool) {\n        uint count = Messaging.UInt32_objc_msgSend (cell.Handle, selRetainCount);\n        if (count == 1)\n            markedForDelete.Add (cell);\n    }\n\n    foreach (ImageAndTextCell cell in markedForDelete) {\n        _refPool.Remove (cell);\n        cell.Dispose ();\n    }\n}\n\n// Method 5\n\nstatic IntPtr selCopyWithZone = Selector.GetHandle(\"copyWithZone:\");\n\n[Export(\"copyWithZone:\")]\npublic virtual NSObject CopyWithZone(IntPtr zone) {\n    IntPtr copyHandle = Messaging.IntPtr_objc_msgSendSuper_IntPtr(SuperHandle, selCopyWithZone, zone);\n    ImageAndTextCell cell = new ImageAndTextCell(copyHandle) {\n        Image = Image,\n    };\n\n    _refPool.Add(cell);\n\n    return cell;\n}\n</code></pre>\n\n<p><strong>Method 1:</strong> Increases the retain count of the unmanaged object.  The unmanaged object will persist persist forever (I think? dealloc never called), and the managed object will be harvested early.  Seems to be lose-lose all-around, but runs in practice.</p>\n\n<p><strong>Method 2:</strong> Saves a reference of the managed object.  The unmanaged object is left alone, and dealloc appears to be invoked at a reasonable time by the caller.  At this point the managed object is released and disposed.  This seems reasonable, but on the downside the base type's dealloc won't be run (I think?)</p>\n\n<p><strong>Method 3:</strong> Increases the retain count and saves a reference.  Unmanaged and managed objects leak forever.</p>\n\n<p><strong>Method 4:</strong> Extends Method 3 by adding a cleanup function that is run periodically (e.g. during Init of each new ImageAndTextCell object).  The cleanup function checks the retain counts of the stored objects.  A retain count of 1 means the caller has released it, so we should as well.  Should eliminate leaking in theory.</p>\n\n<p><strong>Method 5:</strong> Attempt to invoke the copyWithZone method on the base type, and then construct a new ImageAndTextView object with the resulting handle.  Seems to do the right thing (the base data is cloned).  Internally, NSObject bumps the retain count on objects constructed like this, so we also use the PeriodicCleanup function to release these objects when they're no longer used.</p>\n\n<p>Based on the above, I believe Method 5 is the best approach since it should be the only one that results in a truly correct copy of the base type data, but I don't know if the approach is inherently dangerous (I am also making some assumptions about the underlying implementation of NSObject).  So far nothing bad has happened \"yet\", but if anyone is able to vet my analysis then I would be more confident going forward.</p>\n"},{"tags":["cocoa","cocoa-bindings","key-value-coding"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":24,"score":1,"question_id":13235524,"title":"How to be notified of changes to an NSMutableArray bound to an NSArrayController?","body":"<p>I have an NSArrayController who's content array is bound to File's Owner (my window controller) with the model key path is set to chartData.events chartData is a subclass of NSObject and events is a synthesized NSMutableArray property.</p>\n\n<p>chartData needs to know when the NSArrayController adds and removes event objects to the events property.  I thought I should do this by implementing the mutable indexed accessors.  I put this into my chartData class implementation:</p>\n\n<pre><code>- (void)insertObject:(TNLEvent *)event inEventsAtIndex:(NSUInteger)index {\n    [self.events insertObject:event atIndex:index];\n    return;\n}\n\n- (void)insertEvents:(NSArray *)eventArray atIndexes:(NSIndexSet *)indexes {\n    [self.events insertObjects:eventArray atIndexes:indexes];\n    return;\n}\n</code></pre>\n\n<p>But neither of those methods are called when the NSArrayController's add: message is sent. I assume that the key path that is used by the NSArrayController does not map to those methods, or else they are not key-value compliant.  How can I know when objects are added to or removed from <code>events</code>?</p>\n\n<p>UPDATE:\nI overrode the synthesized accessor <code>setEvents</code> and found out that the array controller uses this method every time is adds an object to the array that it controls.  Thus, the mutable indexed accessors are never even used.  This doesn't help me though because I still won't know which object has been added.</p>\n"},{"tags":["ios","cocoa","amazon-s3","sync","fsevents"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13244867,"title":"Drop box like app in IOS","body":"<p>I am planning to develop a drop box like app in ios. I need to back up pics, video and music. Also I need to constantly monitor them, and if some change happens I need to update in cloud. </p>\n\n<p>Should I go with FSEvents to achieve this in IOS. I had already implemented a OS x app, where I was using FSEvent methodology.</p>\n\n<p>ANy suggestions? Thanks in advance!</p>\n"},{"tags":["osx","cocoa","menubar","nsmenu"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":72,"score":0,"question_id":11264824,"title":"NSController with own xib file but no view","body":"<p>I'm creating a MenuBar-Application with a couple of popup-windows, a NSMenu and some regular windows for settings and stuff like that.\nI created a NSController to hold all my StatusBar stuff together and notify the popup to open and close.\nThe popup has it's own PopupWindowController and xib file wich works like a charm. But i can't get it to work with the NSMenu (in my case it's subclassed as RightClickMenu)</p>\n\n<p>In IB i created an other .xib called StatusBarController.xib (with StatusBarController as the file's owner) with the menu and linked it to the outlet.\n...</p>\n\n<pre><code>@class RightClickMenu;\n@interface StatusBarController : NSController &lt;NSMenuDelegate&gt; {\n    IBOutlet RightClickMenu *rightClickMenu;\n}\n@property (nonatomic, retain) RightClickMenu *rightClickMenu;\n...\n</code></pre>\n\n<p>My AppDelegate has a IBOutlet StatusBarController property and a the main .xib which is linked to the NScontroller object.</p>\n\n<pre><code>@class StatusBarController;\n@interface MyAppDelegate : NSObject &lt;NSApplicationDelegate&gt; {\n    IBOutlet StatusBarController *statusBarController;\n...\n</code></pre>\n\n<p>Hope you can help...</p>\n\n<p>cheers</p>\n"},{"tags":["c++","osx","cocoa","url","carbon"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13243248,"title":"open url mac osx c++","body":"<p>How do I hit a url in C++, there are a ton of examples for Objective-C, but my application doesn't use objective-c and starts with main() and is all c/c++.  I was using URLSimpleDownload but it isn't working anymore (returns -50).  I don't want to open a webpage or browser, I simply need to hit a url from c/c++.</p>\n"},{"tags":["objective-c","osx","cocoa","automator"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13151790,"title":"How to get AMPathPopUpButton value?","body":"<p>I'm making an app that needs to present the user with a way to choose an output directory. At present, I've got an AMPathPopUpButton in my view, which looks great. But, no matter what I try, I can't get the path from it.</p>\n\n<p>What I've tried so far:</p>\n\n<ol>\n<li>Binding the AMPathPopUpButton's path value to an object controller using the controller key \"selection\" and the model key path savePath, which shows the message \"Xcode cannot resolve the entered keypath, even though the key is added to the object controller. The object controller is then bound to a dictionary in an instance of the class in which I need to use the value. The dictionary is initialized in <code>-(void)awakeFromNib</code>.\n<ul>\n<li>Result: null value returned from <code>[filePathDict objectForKey:@\"savePath\"]</code></li>\n</ul></li>\n<li>Binding the AMPathPopUpButton's path value straight to a string in an instance of the class, which is also initialized in <code>-(void)awakeFromNib</code>.\n<ul>\n<li>Result: the app spits out <code>-[AMPathPopUpButton hasVariableForm]: unrecognized selector sent to instance 0x10050e1b0</code> on startup and crashes.</li>\n</ul></li>\n<li>Connecting the AMPathPopUpButton to an instance of the class with an outlet\n<ul>\n<li>Result: There is no definition of AMPathPopUpButton anywhere in Automator.framework, so I get the error <code>Unknown type name 'AMPathPopUpButton'</code></li>\n</ul></li>\n</ol>\n\n<p>I've got no idea what to try next. I'm sure the fact that I can't get the bindings working is something fundamental (I haven't used bindings before except together with the Shared User Defaults Controller, and then only for a textfield and a color well :p)</p>\n\n<p>Does anyone know what I'm doing wrong?</p>\n"},{"tags":["xcode","osx","cocoa","xib"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13182942,"title":"View is moved up when using vertical autoresize","body":"<p>In my custom drawn window I have a NSTextView under which I'd like to have NSScrollView separated by empty space. That's how I've set it up in xib.</p>\n\n<p>\nIn interface builder it looks fine, with nice space between the two of them\n<img src=\"http://i.stack.imgur.com/ICNWf.png\"/>\n</p>\n\n<p>\nBut when I run the program, the scroll view gets moves upwards, actually covering the text view:\n<img src=\"http://i.stack.imgur.com/0UZmT.png\"/>\n</p>\n\n<p>But when I disable vertical autoresize of the scroll view, everything is working as it should.</p>\n\n<p>text view and scroll view are under NSView so they are siblings to each other.</p>\n"},{"tags":["objective-c","osx","cocoa","menu","nsstatusitem"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":10,"score":0,"question_id":13241687,"title":"Detect when NSStatusItem is clicked if it has a menu?","body":"<p>I have a <code>NSStatusItem</code> that has a drop down menu when clicked:</p>\n\n<p><code>[statusItem setMenu:statusMenu];</code></p>\n\n<p>Since I'm using a menu, this code will not detect when the status item gets clicked:</p>\n\n<p><code>[statusItem setAction:@selector(isClicked:)];</code></p>\n\n<p>How can I use a menu but at the same time know then the status item is clicked?</p>\n"},{"tags":["objective-c","cocoa","nsview","nsbutton","nspopupbutton"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":27,"score":1,"question_id":13222205,"title":"How to change the background color of an NSPopupButton?","body":"<p>I am trying to tackle a problem which sounds pretty simple: changing the background color of an NSPopupButton. </p>\n\n<p>Interface Builder only allows changing the style to a pre-defined one and doesn't allow changing the background color. Also, setting up an <code>IBOutlet</code> didn't help since <code>NSPopupButton</code> doesn't have a <code>setBackgroundColor</code> method.</p>\n\n<p>I also tried subclassing <code>NSPopupButton</code> to override the <code>drawRect</code> method. Here's what I have tried:</p>\n\n<pre><code>- (void)drawRect:(NSRect)dirtyRect\n{\n    [[NSColor redColor] setFill];\n    NSRectFill(dirtyRect);\n}\n</code></pre>\n\n<p>This draws a red rectangle over the <code>NSPopupButton</code> rather than setting it as a background color.</p>\n\n<p>Any ideas on how to go about solving this?</p>\n"},{"tags":["xcode","osx","cocoa","sorting"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":282,"score":0,"question_id":10167452,"title":"How to sort a view based table?","body":"<p>I've a cell-based table bound via an array controller to a core data entity with a date field, and a column displaying the date, all created in InterfaceBuilder without any coding. I can click on the column header to get the data sorted by date, without any coding or even any further binding. How can I get this behaviour for a view-based table? Have I got to resort to some coding?</p>\n\n<p>The date is displayed in a text field bound to the Table Cell View with key objectValue.date.</p>\n"},{"tags":["objective-c","xcode","cocoa","nstableview"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13239067,"title":"disable the reordering of rows in a NSTableView","body":"<p>I need to disable the reordering of rows in a NSTableView so that when I open the application data of the NSTableView are in the same order in which I created them.</p>\n"},{"tags":["objective-c","cocoa","audio","record","capture"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13239699,"title":"Record sound of one application","body":"<p>I want to develop an application for Mac OS X to record audio from one application.</p>\n\n<p>I played around with Soundflower, but it only grabs the full system audio.<br>\nI know that I have to use a HAL plug-in. This plug-in is loaded from an application that uses Core Audio and then I can communicate with the plug-in to grab the audio.</p>\n\n<p>My question is: How does such a plug-in look like? Are there examples on the internet? I have not found anything about this topic.</p>\n"},{"tags":["ios","cocoa","uitextview"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13238514,"title":"UITextView intercept mailto links","body":"<p>I've found several places showing how to subclass UIApplication.openURL which is called when a user taps a hyperlink in a UITextView.  However, I'm finding that this is not called when they tap a mailto link, and I only need to override mailto links.  My app includes an email client, and since Apple will not allow me to make my app the \"default\" email client, I at least want mailto links inside my own program to use my app for sending email.</p>\n\n<p>I first tried using a UIWebView instead, which did allow me to do this, however that had some display issues (I'm just displaying plain-text and it doesn't look/work as nice as the UITextView for that).</p>\n\n<p>I have also tried overriding UIApplication.canShowURL but it is never called, not even for http: links.  I've tried subclassing and also \"Swizzling\", both give same results.</p>\n"},{"tags":["cocoa","nstextfield","nstextfieldcell"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13238238,"title":"NSTextField: how do I add a search icon as in other apps?","body":"<p>How can I add a search icon on the left in a NSTextField? You can see the same in many other applications.</p>\n"},{"tags":["objective-c","cocoa","gui"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13235866,"title":"Proper place to put NSTextField drawing code?","body":"<p>I am working on creating some custom Cocoa components. Currently I'm trying to figure out how to draw custom NSTextFields. </p>\n\n<p>I have overridden the drawRect method on my subclass but when i start typing, i get a double rectangle like this <a href=\"http://imgur.com/a/LpUMy\" rel=\"nofollow\">http://imgur.com/a/LpUMy</a>.</p>\n\n<p>Here is my drawRect method</p>\n\n<pre><code>- (void)drawRect:(NSRect)dirtyRect\n{\n    [NSGraphicsContext saveGraphicsState];\n    [[NSBezierPath bezierPathWithRoundedRect:dirtyRect xRadius:5.0f yRadius:5.0f] setClip];\n    [[NSColor grayColor] setFill];\n    NSRectFillUsingOperation(dirtyRect, NSCompositeSourceOver);\n    [NSGraphicsContext restoreGraphicsState];\n\n    [NSGraphicsContext saveGraphicsState];\n    NSRect rect = NSInsetRect(dirtyRect, 1.0f, 1.0f);\n    [[NSBezierPath bezierPathWithRoundedRect:rect xRadius:5.0f yRadius:5.0f] setClip];\n    [[NSColor whiteColor] setFill];\n    NSRectFillUsingOperation(rect, NSCompositeSourceOver);\n    [NSGraphicsContext restoreGraphicsState];\n}\n</code></pre>\n\n<p>UPDATE:</p>\n\n<p>I moved my drawing code into a NSTextFieldCell subclass as so</p>\n\n<pre><code>- (void)drawWithFrame:(NSRect)frame inView:(NSView *)controlView {\n    [NSGraphicsContext saveGraphicsState];\n    [[NSBezierPath bezierPathWithRoundedRect:frame xRadius:5.0f yRadius:5.0f] setClip];\n    [[NSColor grayColor] setFill];\n    NSRectFillUsingOperation(frame, NSCompositeSourceOver);\n    [NSGraphicsContext restoreGraphicsState];\n\n    [NSGraphicsContext saveGraphicsState];\n    [[NSBezierPath bezierPathWithRoundedRect:NSInsetRect(frame, 1.0f, 1.0f) xRadius:3.0f yRadius:3.0f] setClip];\n    [[NSColor whiteColor] setFill];\n    NSRectFillUsingOperation(frame, NSCompositeSourceOver);\n    [NSGraphicsContext restoreGraphicsState];\n}\n</code></pre>\n\n<p>But as soon as you are done editing it draws over the text, even though the cursor is still there? Any suggestions? I've tried drawing the title but it still happens.</p>\n\n<p>Thanks for your help.</p>\n\n<p>Answer:</p>\n\n<p><a href=\"http://stackoverflow.com/questions/5041349/nscell-custom-highlight\">NSCell Custom Highlight</a></p>\n\n<p>By calling super drawInteriorWithFrame:inView I was able to stop the weird text disappearing issues.</p>\n"},{"tags":["cocoa","autoresizingmask","nssplitview","autolayout"],"answer_count":6,"favorite_count":5,"up_vote_count":7,"down_vote_count":0,"view_count":1045,"score":7,"question_id":11262080,"title":"NSSplitView and autolayout","body":"<p>How should I use auto layout constrains inside <code>NSSplitView</code> subview?</p>\n\n<p>My <code>NSSplitView</code> subview has 3 subview: <code>topPane</code>, <code>tableContainer</code> and <code>bottomPane</code> and I set the constrains like this:</p>\n\n<pre><code>NSDictionary* views = NSDictionaryOfVariableBindings(topPane, tableContainer, bottomPane);\n\nfor (NSView* view in [views allValues]) {\n    [view setTranslatesAutoresizingMaskIntoConstraints:NO];\n}\n\n[myView addConstraints:[NSLayoutConstraint constraintsWithVisualFormat:@\"V:|[topPane(34)][tableContainer][bottomPane(24)]|\"\n                                                               options:0 \n                                                               metrics:nil \n                                                                 views:views]];\n\n[mySplitView addSubview:myView];\n</code></pre>\n\n<p>And got this in console:</p>\n\n<pre><code>Unable to simultaneously satisfy constraints:\n(\n    \"&lt;NSLayoutConstraint:0x7fd6c4b1f770 V:[NSScrollView:0x7fd6c4b234c0]-(0)-[CPane:0x7fd6c4b2fd10]&gt;\",\n    \"&lt;NSLayoutConstraint:0x7fd6c4b30910 V:[CPane:0x7fd6c4b2f870(34)]&gt;\",\n    \"&lt;NSLayoutConstraint:0x7fd6c4b30770 V:|-(0)-[CPane:0x7fd6c4b2f870]   (Names: '|':NSView:0x7fd6c4b22e50 )&gt;\",\n    \"&lt;NSLayoutConstraint:0x7fd6c4b212f0 V:[CPane:0x7fd6c4b2fd10]-(0)-|   (Names: '|':NSView:0x7fd6c4b22e50 )&gt;\",\n    \"&lt;NSLayoutConstraint:0x7fd6c4b2f910 V:[CPane:0x7fd6c4b2f870]-(0)-[NSScrollView:0x7fd6c4b234c0]&gt;\",\n    \"&lt;NSLayoutConstraint:0x7fd6c4b21290 V:[CPane:0x7fd6c4b2fd10(24)]&gt;\",\n    \"&lt;NSAutoresizingMaskLayoutConstraint:0x7fd6c3630430 h=--&amp; v=--&amp; V:[NSView:0x7fd6c4b22e50(0)]&gt;\"\n)\n\nWill attempt to recover by breaking constraint \n&lt;NSLayoutConstraint:0x7fd6c4b1f770 V:[NSScrollView:0x7fd6c4b234c0]-(0)-[CPane:0x7fd6c4b2fd10]&gt;\n</code></pre>\n\n<p>I think <code>&lt;NSAutoresizingMaskLayoutConstraint:0x7fd6c3630430 h=--&amp; v=--&amp; V:[NSView:0x7fd6c4b22e50(0)]&gt;</code> causes this, but I can't reset autoresizing mask, because <code>NSSplitView</code> sets it.</p>\n\n<p>What is best way to use auto layout inside split view? And is there any way to handle min/max size of split view subview with auto layout without <code>NSSplitViewDelegate</code>?</p>\n"},{"tags":["iphone","objective-c","ios","cocoa"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":73,"score":1,"question_id":13237225,"title":"Initializing Variables in ARC mode","body":"<p>I have started converting my projects to work under ARC and I was wondering how the following would behave. </p>\n\n<p>As I understand the following line would cause a memory leak under the manual memory management rules. </p>\n\n<pre><code>self.array = [[NSArray alloc] init];\n</code></pre>\n\n<p>and it is recommended to use an autorelease object such as ,</p>\n\n<pre><code>  self.array = [NSArray array] or\n  array = [[NSArray alloc] init]; \n</code></pre>\n\n<ol>\n<li><p>Therefore, does the ARC mode cause a memory leak from the following line as well? </p>\n\n<p><code>self.array = [[NSArray alloc] init];</code></p></li>\n<li><p>When we are directly assigning to the array(?) as follows without using the generated setter could this cause premature release of the array ?</p>\n\n<p><code>array = [[NSArray alloc] init];</code></p></li>\n</ol>\n\n<p>Please consider array as an instance variable. </p>\n"},{"tags":["objective-c","osx","cocoa","visualization","nssound"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13235763,"title":"NSSound + Visualization?","body":"<p>OK, here's my question - and an ambitious one as well, I admit :</p>\n\n<ul>\n<li><p>Let's say I'm loading my audio file into an <strong><code>NSSound</code> object</strong> (or in any other possible way, that we can \"play\" some audio).</p></li>\n<li><p>How could I also create some <strong>visualization</strong> (based on the <em>real-time sound</em> - when playing), like most media players allow?</p></li>\n</ul>\n\n<p>Is using OpenGL the only way around this? And if so, how? Is there any example for that sort of thing, anywhere? </p>\n\n<p>Any help on that would be greatly appreciated! :-)</p>\n\n<hr>\n\n<p><em><strong>UPDATE :</strong> That's <a href=\"http://www.okado.no/posts/how-to-use-itunes-music-visualizers-in-coco/index.html\" rel=\"nofollow\">what I've found so far</a>. Looks promising and it works. However, I'm still open to ideas (for something more... custom, maybe?)</em></p>\n"},{"tags":["iphone","ios","xcode","ipad","cocoa"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":43,"score":1,"question_id":13235268,"title":"How to monitor how much memory my App is consuming?","body":"<p>From time to time, different Apps I am developing close itself, I'm assuming it is because of memory usage that the IOS kills once it is to high. </p>\n\n<p>Even if it is not because of memory I will like to find out how much memory my app is consuming every step of the way.</p>\n\n<p><strong>Update</strong>:\nThanks guys, I understand Instruments purpose, but my Idea was to monitor memory while I am using the app not connected to the computer. For instance, something like placing a UILabel Text content with the current memory consumption.</p>\n\n<p>Any directions?</p>\n"},{"tags":["objective-c","ios","cocoa-touch","cocoa","abaddressbook"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13234128,"title":"Objective-C – ABMultiValueRef get type (ABAddressBook)","body":"<p>I'm trying to figure out what kind (home, mobile, fax and so on) of phone number but I can't figure out how to do it with the <code>ABMultiValueRef</code>. I can get the types by doing:</p>\n\n<pre><code>CFStringRef cfLabel = ABMultiValueCopyLabelAtIndex(multiValueRef, i);\n\nNSString *label = (__bridge NSString*) cfLabel;\n\nNSLog(@\"%@\", label); // prints i.e \"_$!&lt;Mobile&gt;!$_\"\n\nCFRelease(cfLabel);\n</code></pre>\n\n<p>So while it prints <code>_$!&lt;Mobile&gt;!$_</code> I can do some IF-logic to check if the label equals <code>_$!&lt;Mobile&gt;!$_</code> but what about in the future if Apple decides to change the value of the Mobile label? For me it would feel so much better to have a constant I can check against. But I can't find any to use?</p>\n"},{"tags":["xml","cocoa","file","nsxmlparser","local"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":138,"score":0,"question_id":10706325,"title":"iOS Modify local XML file","body":"<p>I'm using NSXMLParser to parse a local XML file on my iPad. Now I want to modify the file. I want to put some lines at the almost end of it.</p>\n\n<p>This is what my file looks like:</p>\n\n<pre><code>&lt;dict&gt;\n    &lt;element att1=\"atribute\" att2=\"atribute\" att3=\"atribute\" att4=\"atribute\" /&gt;\n    &lt;element att1=\"atribute\" att2=\"atribute\" att3=\"atribute\" att4=\"atribute\" /&gt;\n    &lt;element att1=\"atribute\" att2=\"atribute\" att3=\"atribute\" att4=\"atribute\" /&gt;\n    &lt;element att1=\"atribute\" att2=\"atribute\" att3=\"atribute\" att4=\"atribute\" /&gt;\n&lt;/dict&gt;\n</code></pre>\n\n<p>How could I solve this? I tried to load a dictionary or array \"with contents of file...\" but it always returned (null) in the log.</p>\n\n<p>Any ideas?</p>\n"},{"tags":["iphone","objective-c","cocoa","core-data"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":11,"score":0,"question_id":13233420,"title":"What's \"updating max pk for entityID\" in core data","body":"<p>I was wondering what does <code>updating max pk for EntityID = 6 with old = 4 and new = 5</code> stand for in the console? I think that causes a bug in my app.</p>\n"},{"tags":["cocoa","cgpath","nsbezierpath"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":189,"score":1,"question_id":11401681,"title":"How to get the path Quartz is using to stroke a NSBezierPath","body":"<p><img src=\"http://i.stack.imgur.com/e8lNF.png\" alt=\"A dashed line\"></p>\n\n<p>I'm using this code to stroke a NSBezierPath with a wide, dashed, black line.</p>\n\n<p>(<code>c</code> and <code>strForBezier</code> are defined somewhere else)</p>\n\n<pre><code>NSGlyph glyph;\nfor(n = 0; n &lt; len; n++) {\n    glyph = [font glyphWithName: [strForBezier substringWithRange:NSMakeRange(n, 1)]];\n    [path appendBezierPathWithGlyph: glyph inFont: font];\n}\n\nCGFloat pattern2[4]; pattern2[0]=5*c; pattern2[1]=2*c; pattern2[2]=2*c; pattern2[3]=2*c;\n[path setLineDash:pattern2 count:4 phase:0];\n\n[path setLineWidth:c];\n[path stroke];\n[[NSColor blueColor] set ];\n[path fill];\n</code></pre>\n\n<p>How can I get the black NSBezierPath ?  I'm making the assumption that a NSBezierPath is built and filled to stroke the initial curve.</p>\n"},{"tags":["objective-c","ios","cocoa-touch","cocoa"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13218590,"title":"Removing presenting view from Modal View","body":"<p>I have a view hierarchy like this:\nMainView -> SubView (PresentingView) -> ModalViewc (all subclasses of UIViewController)</p>\n\n<p>By clicking a button in the ModalView I want to remove both the ModalView and the PresentingView so I can return to the MainView which will then present ModalViewX:</p>\n\n<p>MainView -> ModalViewX (all subclasses of UIViewController)</p>\n\n<pre><code>[[self presentingViewController] removeFromParentViewController];\n</code></pre>\n\n<p>The above code simply dismisses the ModalView but the PresentingView remains. </p>\n\n<p>My final goal is to have the ModalView button perform some concluding logic before returning to the MainView. Clicking the button would basically do the following actions:</p>\n\n<ol>\n<li>Concluding logic</li>\n<li>Remove self(ModalView) and PresentingView (bonuspoints if I can animate the removal)</li>\n<li>Tell MainView to present ModalViewX\n(maybe I will have to call step 3 in the ModalView -> viewDidUnload method somehow)</li>\n</ol>\n\n<p>Suggestions for how to do this?</p>\n"},{"tags":["cocoa","nstableview","nsview","autoresize"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":1094,"score":2,"question_id":3367729,"title":"Automatic NSView resizing","body":"<p>I'm doing something with cocoa which I think is a bit complicate for a beginner like me. I tried a few things, but I admit I need some theory first, because I would like to understand exactly the meaning of this concepts.</p>\n\n<p>I see that every NSView and every class that subclasses it has one thing called <code>frame</code>, and one called <code>bounds</code>. They both have a size with width and height and an origin. </p>\n\n<p>I have an NSView with an NSTableView inside of it. \nI have the size of a row from the table view, and I would like to set the height of both NSView and NSTableView equal to <code>rows*rowSize</code>, in a way that the group NSView+subviews is automatically resized when an object is added or removed to and from the data source of the Table View.</p>\n\n<p>I made some experiments, but I did end a bit confused about frame, bounds, sizes and so on. I don't know what I should change and how.</p>\n\n<p>Can you please give me an hint about what bounds and frame basically are, and how can I achieve that magic resizing?</p>\n\n<p>Thank you for your replies in advance. Best regards,</p>\n\n<p>—Albé</p>\n"},{"tags":["ipad","cocoa","mvc","scene"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":11,"score":0,"question_id":13229990,"title":"Cocoa: scene vs. view","body":"<p>Noob question here. I think I get the basics of the three basic Model-View-Controller elements. Sort of. But what is a scene? I know iPad can have more than one scene per screen, and iPhone/iPod can have just one. But how does a scene relate to a view?  </p>\n\n<p>If I'm getting it horribly wrong, please be kind :)</p>\n"},{"tags":["iphone","cocoa","uinavigationbar","uisegmentedcontrol"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":2815,"score":1,"question_id":875025,"title":"Disabling UINavigationItem custom right view?","body":"<p>I create a custom right view as follows:</p>\n\n<pre><code>// Build the Segmented Control\nNSArray *segmentTextContent = [NSArray arrayWithObjects:[UIImage imageNamed:@\"arrow-dice.png\"], [UIImage imageNamed:@\"arrow-up.png\"], [UIImage imageNamed:@\"arrow-down.png\"], nil];\nUISegmentedControl *segmentedControl = [[UISegmentedControl alloc] initWithItems:segmentTextContent];\n\n// Customize the Segmented Control\nsegmentedControl.momentary = YES;\nsegmentedControl.segmentedControlStyle = UISegmentedControlStyleBar;\n[segmentedControl addTarget:self action:@selector(segmentChanged:) forControlEvents:UIControlEventValueChanged];\n</code></pre>\n\n<p>Then I add it to my navigation bar as follows:</p>\n\n<pre><code>// Add the control to the navigation bar right item\nUIBarButtonItem *segmentItem = [[UIBarButtonItem alloc] initWithCustomView:segmentedControl];\n[segmentedControl release];\nself.navigationItem.rightBarButtonItem = segmentItem;\nself.navigationItem.rightBarButtonItem.title = @\"\";\n[segmentItem release];\n</code></pre>\n\n<p>I can hide it as follows:</p>\n\n<pre><code>self.navigationItem.rightBarButtonItem.customView.hidden = NO;\n</code></pre>\n\n<p>QUESTION\n...but how can I disable all (or better, a specific element) of the segmented control?</p>\n\n<p>The following does not work.</p>\n\n<pre><code>self.navigationItem.rightBarButtonItem.enabled = NO;\n</code></pre>\n\n<p>Any ideas appreciated...</p>\n\n<p>Thanks,<br />\nmatt</p>\n"},{"tags":["objective-c","osx","cocoa","nsimage"],"answer_count":3,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":123,"score":4,"question_id":11876963,"title":"Get the correct image width and height of an NSImage","body":"<p>I use the code below to get the width and height of a NSImage:</p>\n\n<pre><code>NSImage *image = [[[NSImage alloc] initWithContentsOfFile:[NSString stringWithFormat:s]] autorelease];\nimageWidth=[image size].width;\nimageHeight=[image size].height;\nNSLog(@\"%f:%f\",imageWidth,imageHeight);\n</code></pre>\n\n<p>But sometime <code>imageWidth</code>, <code>imageHeight</code> does not return the correct value. For example when I read an image, the EXIF info displays:</p>\n\n<pre><code>PixelXDimension = 2272;\nPixelYDimension = 1704;\n</code></pre>\n\n<p>But imageWidth, imageHeight outputs</p>\n\n<pre><code>521:390 \n</code></pre>\n\n<p>I welcome any comment.</p>\n"},{"tags":["objective-c","ios","cocoa","ipc"],"answer_count":1,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":99,"score":3,"question_id":13211979,"title":"How to receive notifications posted via CPDistributedNotificationCenter","body":"<p>The private <code>AppSupport</code> framework on iOS has a class called <code>CPDistributedNotificationCenter</code> which appears to support a subset of the functionality provided by <code>NSDistributedNotificationCenter</code> on OS X.</p>\n\n<p>I'm attempting to use this class to post notifications from a background daemon such that multiple clients in other processes can receive these notifications and act on them. I realize there are other options, including <code>CPDistributedMessagingCenter</code> or <code>CFMessagePort</code>, low level mach ports or even darwin's <code>notify_post</code>. I'd prefer it if the daemon had no knowledge of the clients however, and I'd like to be able to pass data along with the notification, and <code>notify_post</code> does not allow this.</p>\n\n<p>Currently, this is what I am doing in the daemon:</p>\n\n<pre><code>CPDistributedNotificationCenter* center;\ncenter = [CPDistributedNotificationCenter centerNamed:@\"com.yfrancis.notiftest\"];\n[center runServer];\n[center postNotificationName:@\"hello\"];\n</code></pre>\n\n<p>And in the client:</p>\n\n<pre><code>CPDistributedNotificationCenter* center;\ncenter = [CPDistributedNotificationCenter centerNamed:@\"com.yfrancis.notiftest\"];\n[center startDeliveringNotificationsToMainThread];\n\nNSNotificationCenter* nc = [NSNotificationCenter defaultCenter];\n[nc addObserver:[Listener new] \n       selector:@selector(gotNotification:)\n           name:@\"hello\"\n         object:nil];\n</code></pre>\n\n<p>where <code>Listener</code> is a simple class that implements a single method <code>gotNotification:</code> </p>\n\n<p>Unfortunately, the client never receives the 'hello' notification. If I replace the <code>name</code> argument in the <code>addObserver</code> call with <code>nil</code> I can see every notification delivered to the client's notification center, but 'hello' is not one of them.</p>\n\n<p>I got the inspiration for my code by looking at a disassembly of <code>SpringBoard</code> and <code>CPDistributedNotificationCenter</code>. Notifications appear to be delivered via <code>CPDistributedNotificationCenter</code>'s <code>deliverNotification:userInfo:</code> which acts as a shim for <code>NSNotificationCenter</code>'s <code>postNotificationName:object:userInfo:</code>.</p>\n\n<p>What am I missing here?</p>\n"},{"tags":["objective-c","ios","cocoa"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13226756,"title":"How to find 32bit CRC for a file in objective C","body":"<p>I want to find out CRC for a bin file in my iOS application. Is there already a function which will accept filename as input and return 32 bit CRC value? Please share me if any code available. Thanks in Advance.</p>\n"},{"tags":["objective-c","cocoa","object","text","nsstring"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":43,"score":1,"question_id":13226255,"title":"objective-c creating an object from a text file","body":"<p>I just succeeded to load a file:</p>\n\n<p>Let's say it has this at the moment:</p>\n\n<p>Map1</p>\n\n<p>Map2</p>\n\n<p>Here is the code for getting the string:</p>\n\n<pre><code>NSURL *fileURL=[NSURL fileURLWithPath:@\"/Users/Maze.txt\"];\n\nNSString *contents =[NSString stringWithContentsOfURL:fileURL encoding:NSUTF8StringEncoding error:nil];\nNSArray *lines = [[NSArray alloc]init];\nlines= [contents componentsSeparatedByString:@\"\\n\"];\nfor (NSString *s in lines){\n    NSLog(@\"The content is: %@ \\n\", s);\n}\n</code></pre>\n\n<p>However, I just wanna ask, how can I create an object based on those string?\nLet's say I already have a map class, and I want to create an object based on the data on that text file, so now I will have 2 objects, Map1 and Map2.. Is it possible to use the NSString as an object name?</p>\n\n<p>Thanks..</p>\n"},{"tags":["cocoa","quartz-graphics","bezier"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":7,"score":0,"question_id":13226843,"title":"How to draw Bézier curves with Quartz with a quality equivalent to the default implementation?","body":"<p>I am  drawing Bézier curves with my own code. Basically, I am computing a large number of points which I join with a CGPath. But even with the same line width, I can't achieve the same quality as the default implementation. The edge of the stroke is a bit blurry due to anti-aliasing. The stroke is not bad looking, but I notice that on Apple rendering, the anti-aliasing looks different; the width of the antialiasing zone (where the pixels are neither of the color of the stroke, nor the the color of the background) is lesser.</p>\n\n<p>Spying a little with Instruments shows that UIBezierPath's stroke spends some time in libRIP, but I can't find what it is exactly.</p>\n"},{"tags":["iphone","objective-c","ios","performance","cocoa"],"answer_count":1,"favorite_count":2,"up_vote_count":5,"down_vote_count":0,"view_count":109,"score":5,"question_id":12998733,"title":"Benchmarking performance using Instruments","body":"<p>I am looking for some advice on how to use Instruments' Time Profiler to enhance a specific operation. I have a paging scroll view that loads its content on demand. As a new page is scrolled to, another is loaded two pages to the right. This happens when the current page is scrolled 50% of screen, and on slower devices the loading is enough of a bottle neck that it interrupts the smoothness of the scroll. The scroll feels like it pauses very briefly at the 50% pint and then jumps back into action.</p>\n\n<p>I should note that there is no network component to my application, so the bottle neck is not while data is fetched - it is all in the loading of the new view.</p>\n\n<p>As I work on improving this, I need to benchmark the transition so I can evaluate the effect of my enhancements. Having watched the WWDC sessions, I understand the basics of the time profiler but I'm not confident I am looking at the right thing.</p>\n\n<p>I am running the instrument and then executing the scroll. I see the expected spike in CPU activity. I am then selecting the spike and looking at the symbol names. As you can see below, when I hide system libraries and show Obj-C I am dealing a brief 90% spike with 81.0 ms of running time.</p>\n\n<p><img src=\"http://i.stack.imgur.com/MSdQT.png\" alt=\"enter image description here\"></p>\n\n<p>My confusion comes when I drill down to my code. I find that one of the largest contributors (23 ms) is a small routine that just uses <code>sortedArrayUsingDescriptors</code>. Not much I can do about that one. Other times the root cause will me using CGRectInset - a few more milliseconds. I guess I expected to see more related to image use or something like that.</p>\n\n<p>I guess I don't know if I'm benchmarking the right things. Am I really meant to try and reduce my 6ms operations down to 5ms and expect to see a difference? Am I looking at the right tools to diagnose my problem?</p>\n\n<p>Any tips or instructions on what to measure and where to focus my efforts would be really valued.</p>\n"},{"tags":["xcode","cocoa","nsview","osx-lion","nswindow"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":423,"score":0,"question_id":7543684,"title":"mouseMoved not called","body":"<p>I have a subclassed <code>NSView</code> which is part of a .xib-file of a subclassed <code>NSDocument</code>, which gets alive by the default behaviour of <code>NSDocumentController</code>'s <code>openDocument:</code> method. In this subclassed <code>NSView</code> I have implemented the methods <code>awakeFromNib</code>, in which the view's <code>NSWindow</code> <code>setAcceptsMouseMovedEvents:YES</code> method is called, and <code>acceptsFirstMouse:</code>, which returns <code>YES</code>. But my <code>mouseMoved:</code> method implementation of my subclassed <code>NSView</code> doesn't get called when I move the mouse over it. What might be the problem?</p>\n"},{"tags":["iphone","objective-c","cocoa"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":30,"score":1,"question_id":13225112,"title":"Setting UIWebView delegate property to nil","body":"<p>According to <a href=\"http://developer.apple.com/library/ios/#documentation/uikit/reference/UIWebViewDelegate_Protocol/Reference/Reference.html\" rel=\"nofollow\">documentation</a>, UIWebView delegate property needs to be set to nil before disposing of the UIWebView instance.</p>\n\n<p>My question is : If the UIWebView is setup in IB with its delegate points to the file owner which is a viewController.  And the UIWebView and its superview is never disposed of during the course of execution, does the delegate need to be set to nil ? </p>\n\n<p>Am asking this because it seems difficult to get a reference to UIWebView.</p>\n\n<p>Hope somebody knowledgeable could give some hints.  </p>\n\n<p>(non-arc setup)</p>\n"},{"tags":["osx","cocoa","nstextfield"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13224403,"title":"sizeThatFits equivalent for NSTextField","body":"<p>On iOS, UIView has sizeThatFits, that works like sizeToFit but returns the size without actually performing the resize. NSTextField only has sizeToFit. Is there an equivalent to get the size without actually performing the resize with NSTextField?</p>\n"},{"tags":["iphone","ios","xcode","ipad","cocoa"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":13223710,"title":"NSTimer not working calling UIButton setHidden:YES/NO","body":"<p>I can't understand why this doesn't work. I'm trying to display lblstatus when the timer cycle is hit:</p>\n\n<pre><code>-(void) viewDidAppear:(BOOL)animated\n{\n        [NSTimer scheduledTimerWithTimeInterval:1\n                                         target:self\n                                       selector:@selector(TimeForPictureCycle)\n                                       userInfo:nil\n                                        repeats:NO];\n}\n\n-(void)TimeForPictureCycle\n{\n    while(YES)\n    {\n        [lblStatus setHidden:NO];\n        sleep(2);\n        [lblStatus setHidden:YES];\n        sleep(3);\n    }\n}\n</code></pre>\n"},{"tags":["iphone","objective-c","cocoa","cocoa-touch","core-data"],"answer_count":5,"favorite_count":28,"up_vote_count":39,"down_vote_count":0,"view_count":3972,"score":39,"question_id":1624297,"title":"Best way to implement Enums with Core Data","body":"<p>What is the best way to bind Core Data entities to enum values so that I am able to assign a type property to the entity? In other words, I have an entity called <code>Item</code> with an <code>itemType</code> property that I want to be bound to an enum, what is the best way of going about this.</p>\n"},{"tags":["objective-c","cocoa","nsview","nstextfield","nssearchfield"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":27,"score":2,"question_id":13220567,"title":"Setting background color in drawRect of NSSearchField subclass","body":"<p>I have a custom subclass of <code>NSSearchField</code> that I would like to set the background color of.</p>\n\n<pre><code>@interface CustomNSSearchField : NSSearchField\n@end\n</code></pre>\n\n<p>So far, I have tried:</p>\n\n<p><strong>Attempt #1</strong></p>\n\n<pre><code>@implementation CustomNSSearchField\n\n- (void)drawRect:(NSRect)rect\n{\n    [super drawRect:rect];\n\n    [self setDrawsBackground:YES];\n    [self setBackgroundColor:[NSColor redColor]];\n}\n</code></pre>\n\n<p>which resulted in no visual changes at all:</p>\n\n<p><img src=\"http://i.stack.imgur.com/I8DMb.png\" alt=\"attempt 1\"></p>\n\n<p>I then followed the suggestions <a href=\"http://stackoverflow.com/questions/2962790/best-way-to-change-the-background-color-for-an-nsview\">here</a> and also tried:</p>\n\n<p><strong>Attempt #2</strong></p>\n\n<pre><code>- (void)drawRect:(NSRect)rect\n{\n    [super drawRect:rect];\n\n    [[NSColor redColor] setFill];\n    NSRectFill(rect);\n}\n</code></pre>\n\n<p>Which results in this: </p>\n\n<p><img src=\"http://i.stack.imgur.com/Tl4I9.png\" alt=\"attempt 2\"></p>\n\n<p>How do I set the background color <em>inside</em> the bounds and behind the text of the search field?</p>\n"},{"tags":["cocoa","core-data","key-value-observing"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":27,"score":1,"question_id":13220123,"title":"Core Data: observing nested properties","body":"<p>I have an entity Category in my Core Data model. Category has a to-many relation to Article. Article has a property read, which is a boolean.</p>\n\n<p>I want to observe the number of unread articles (so I can display it in the title).</p>\n\n<p>A first approach would be something like:</p>\n\n<pre><code>    [self.category addObserver:self forKeyPath:@\"articles.@sum.read\" options:NSKeyValueObservingOptionNew context:nil];\n</code></pre>\n\n<p>But this doesn't work. I can observe the articles collection to see if something is added, and observe all of the elements individually. I can get this working, but I wonder if there is an easier way. Any hints?</p>\n\n<p>(This might be a duplicate of <a href=\"http://stackoverflow.com/questions/5691621/using-kvo-to-observe-changes-to-a-property-on-an-object-inside-a-collection-in-o\">Using KVO to observe changes to a property on an object inside a collection in Objective-C</a>, but I still think there should be a better way).</p>\n"},{"tags":["iphone","performance","cocoa","uiview","uiviewcontroller"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13221005,"title":"Forcing a controller's view into memory","body":"<p>To address some performance issues, I started recycling some view controllers. However, the performance benefit of re-using a recycled controller's view is only present if that view has been drawn. If, for, example, I want to pre-populate the recycle queue with a controller but never place its view on screen, I get no such benefit.</p>\n\n<p>How can I force the controller's view to be 'pre-rendered' and added to my queue such that when it is recycled I receive the performance benefit I am seeing from my other recycled controllers? I know that a controllers's view is created when first needed, but even adding the view and immediately removing it (before the parent view is displayed) doesn't seem to do it.</p>\n"},{"tags":["osx","cocoa","proxy","passwords","osx-mountain-lion"],"answer_count":2,"favorite_count":4,"up_vote_count":10,"down_vote_count":1,"view_count":1070,"score":9,"question_id":11819336,"title":"Prevent networksetup from asking password","body":"<p>I have a little app that I use to change proxies on my Mac. It uses the <code>networksetup</code> command to set the proxy settings, and that worked fine on Lion. On Mountain Lion though, it asks the admin password every single time I change the proxy settings. </p>\n\n<blockquote>\n  <p>networksetup is trying to modify the system network configuration. Type your password to allow this.</p>\n</blockquote>\n\n<p>Is there any way to prevent this from happening? Or is there a better way to change the proxy settings in Cocoa? On Lion the system remembered when I put the password in, so I had to authenticate only after reboots.</p>\n\n<p>I also noticed that in Chrome, the Proxy Switchy plugin suffers from the same behaviour. It says </p>\n\n<blockquote>\n  <p>scutil is trying to modify the system network configuration. Type your password to allow this.</p>\n</blockquote>\n"},{"tags":["objective-c","ios","cocoa","uiscrollview","paging"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":30,"score":2,"question_id":13218732,"title":"Scrolling when UIScrollView inside UIScrollView","body":"<p>I want to put a second UIScrollView inside of the first page of another UIScrollView.\nTo scroll to page 2 of the first UIScrollView I now have to swipe right above oder below the second UIScrollView. Is there a way to ignore a right swipe while being on page 3 of the second UIScrollView so I can scroll to page 2 of the first UIScrollView? Hope you understand my problem :/</p>\n\n<p><img src=\"http://i.stack.imgur.com/312FY.png\" alt=\"UIScrollView inside of UIScrollView\"></p>\n"},{"tags":["objective-c","osx","cocoa"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13212241,"title":"Given a webView, how to change the URL in a different class file?","body":"<p>I'm using Macgap: <a href=\"https://github.com/maccman/macgap/issues/34\" rel=\"nofollow\">https://github.com/maccman/macgap/issues/34</a></p>\n\n<p>In the Notice.m class would the ability to change the webview's URL. I'm trying the following but getting errors: </p>\n\n<pre><code>[self.contentView.webView setMainFrameURL:[self.url @\"https://google.com\"]];\n</code></pre>\n\n<p>Suggestions to point me in the right direction? Thanks</p>\n"},{"tags":["iphone","cocoa","cocoa-touch"],"answer_count":4,"favorite_count":14,"up_vote_count":8,"down_vote_count":0,"view_count":12085,"score":8,"question_id":691761,"title":"Create a cookie for NSURLRequest?","body":"<p>I'm trying to send an authentication string via cookie in a NSMutableURLRequest. I'm trying to create the NSHTTPCookie through</p>\n\n<pre><code> +(id)cookieWithProperties:(NSDictionary *)properties\n</code></pre>\n\n<p>But nowhere have I been able to find how to specify the properties other than the simple key-value pair I have for authentication. When I only use my key-value pair, nil is returned.</p>\n\n<p>Any examples, documentation, or thoughts on this would be greatly appreciated. </p>\n"},{"tags":["iphone","ios","xcode","ipad","cocoa"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":58,"score":1,"question_id":13216418,"title":"performSelectorInBackground not working when App is minimized","body":"<p>I'm trying to keep the App running on task in background even if the User minimized and started working in other stuff on the ios device, but my method is hit only when the App is active on the screen. Am I missing something obvious here?</p>\n\n<pre><code>-(void) viewDidAppear:(BOOL)animated\n{\n  [self performSelectorInBackground:@selector(RunMethodEvenWhenMinimized) withObject:nil];\n}\n\n-(void)RunMethodEvenWhenMinimized\n{\n    while(YES)\n    {\n        //My Code\n        sleep(10);\n    }\n}\n</code></pre>\n"},{"tags":["iphone","ios","cocoa","uinavigationbar","uisearchbar"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13216580,"title":"UISerachBar in UINavigationBar issue","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/2813118/prevent-a-uisearchdisplaycontroller-from-hiding-the-navigation-bar\">Prevent a UISearchDisplayController from hiding the navigation bar</a>  </p>\n</blockquote>\n\n\n\n<p>I want to add the searchbar in the left part of my navbar, and it looks fine.\n<img src=\"http://i.stack.imgur.com/hzqV9.png\" alt=\"enter image description here\"></p>\n\n<p>But when i touch it and it becomes active, keyboard appears, but the whole view begins to go up and the the searchbar dissapeares.</p>\n\n<p><img src=\"http://i.stack.imgur.com/QkJcs.png\" alt=\"enter image description here\"></p>\n\n<p><img src=\"http://i.stack.imgur.com/T2wUM.png\" alt=\"enter image description here\"></p>\n\n<p>Here's my code for adding the bar. I just don't see wgy it could happen like this.</p>\n\n<pre><code>UISearchBar *searchBar = [[UISearchBar alloc]initWithFrame:CGRectMake(30, 0, 130, 44)];\n //Some customization code\n[self.navigationController.navigationBar addSubview:searchBar];\n</code></pre>\n"},{"tags":["iphone","objective-c","cocoa","cocoa-touch"],"answer_count":5,"favorite_count":0,"up_vote_count":9,"down_vote_count":1,"view_count":15227,"score":8,"question_id":1602572,"title":"How to create an Array of Strings in Objective c for iphone","body":"<p>I'm trying to create an array of strings that can be randomized and limited to a certain x number of strings.</p>\n\n<p>If the array could be randomized I could pick the first x strings and that would work fine.</p>\n\n<p>I'm trying to use code like this currently</p>\n\n<pre><code>NSString *statements[9];\nstatements[0] = @\"hello\";\n</code></pre>\n\n<p>This seems to work but the array seems to be full of rubbish data.</p>\n\n<p>Can someone help me in the right direction. (is the memory allocation being done in the wrong way?</p>\n\n<p>Thanks</p>\n"},{"tags":["osx","cocoa","yahoo","weather","yahoo-weather-api"],"answer_count":1,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":580,"score":3,"question_id":7890656,"title":"Parse Yahoo Weather RSS Feed","body":"<p>I need to parse the Yahoo Weather RSS feed for a place, like <a href=\"http://weather.yahooapis.com/forecastrss?w=44418&amp;u=c\" rel=\"nofollow\">http://weather.yahooapis.com/forecastrss?w=44418&amp;u=c</a> for example, to get the high, low, current temperature and the weather image eg. sun and clouds image, for the current day.</p>\n\n<p>I'd like to do this in Cocoa (Mac).</p>\n\n<p>Any help would be appreciated, thanks!</p>\n"},{"tags":["iphone","objective-c","ios","cocoa","avfoundation"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":92,"score":2,"question_id":13106486,"title":"How to save photos taken using AVFoundation to Photo Album?","body":"<p>AVFoundation is just great for those who want to get hands dirty, but there still a lot of basic stuff not easy to figure like how to save the pictures taken from device to Photo Album</p>\n\n<p>Any ideas?</p>\n"},{"tags":["cocoa","core-data","nspredicate"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":1050,"score":3,"question_id":7209941,"title":"NSPredicate with boolean is not comparing a boolean to NO","body":"<p>I'm using CoreData and my entity has a boolean property called \"isReward\".</p>\n\n<p>I'm trying to fetch the entity and filter out all results where isReward == YES. </p>\n\n<p><code>isReward != YES</code> does not work. </p>\n\n<p><code>isReward == NO</code> does not work. </p>\n\n<p><code>NSPredicate predicateWithFormat:\"isReward != %@\", [NSNumber numberWithBool:YES]]</code> does not work</p>\n\n<p><code>isReward == Nil</code> works.</p>\n\n<p>What gives?</p>\n"},{"tags":["objective-c","cocoa-touch","cocoa","core-data"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":60,"score":0,"question_id":13204649,"title":"Core Data - NSDate property changing while in the persistent store","body":"<p>I'm developing a calendar app which saves and displays various shift rotations. I've been banging by head against the wall the last few days after recent unexplained errors that strangely coincided with an X-Code update to ver. 4.5.2. I couldn't find any similar issues anywhere on Google or Stackoveflow.</p>\n\n<p>The shift rotations are set and saved by the user. The process of creating a shift rotation involves presenting a user with a range of dates, and the user associating each date with a particular shift.</p>\n\n<p>I'm using Core Data with a sqlite store to manage the saved data. The object graph for the above elements involve  several \"Shift\" NSManagedObject entities which contain the details of a shift, such as title, start and end times, and most importantly a date which allows the shift rotation to be displayed later. The \"Shift\" entities are kept together by another NSManagedObject called \"ShiftRotation\" which has a many-to-one relationship to the \"Shifts\".</p>\n\n<p>My app was working properly until recently, when I made few changes to how I was using these \"Shift\" objects.</p>\n\n<p>My problem is this. The user associates a \"Shift\" to a date. The date is stored inside a \"date\" property within the \"Shift\" NSManagedObject. The context is saved. When I access the \"Shift\" later, without making any changes, the date that was assigned to the \"Shift\" appears changed.</p>\n\n<p>I went through my code line by line and added numerous NSLogs to see where or why it's changing, with no results. I noticed that there is no change to the date immediately before AND after I save the context within the class where the save is occurring. There's also no change when I access it from the main Calendar screen. However when I later retrieve the \"Shifts\" from another screen where I manage all shift rotations, they appear to have changed.</p>\n\n<p>The date change is approximately 31 to 32 days in the future. I can't help but wonder if this is a bug in Core Data or I'm a missing something.</p>\n\n<p>Any explanation or reason why accessing a date from a sqlite persistent store causes a significant and unpredictable date change?</p>\n\n<p><strong>Update:</strong> I tried to further narrow down what was happening and where it was happening by using NSNotificationCenter.</p>\n\n<p>I'm using iOS 6.</p>\n\n<p>I registered the root view controller to observe any changes to the managed object context. Particularly any changes to the Objects (i.e. NSManagedObjectContextObjectDidChange).</p>\n\n<p>After I updated the properties of the \"Shift\" NSManagedObject I receive a notification indicating that the \"Shift\" object was updated. Here's some code and logs.</p>\n\n<p>This is where the \"Shift\" entity is created and given a date:</p>\n\n<pre><code>- (NSMutableArray *)arrayWithDateStartingAtDate:(NSDate *)anyDate forNumberOfDays:(NSUInteger)days;\n{\n    NSCalendar *gregorian = [[NSCalendar alloc] initWithCalendarIdentifier:NSGregorianCalendar];\n    NSMutableArray *monthArray = [[NSMutableArray alloc] init];\n    NSDateComponents *comps = [[NSDateComponents alloc] init];\n    NSDate *tempDate;\n\n    NSManagedObjectContext *moc = [[CSEventStore sharedStore] managedObjectContext];\n\n    for (NSUInteger i = 0; i &lt; days; i++) {\n        [comps setDay:i];\n        tempDate = [gregorian dateByAddingComponents:comps toDate:anyDate options:0];\n        Shift *shiftRDO = [Shift initShiftEntityRDOWithDate:tempDate InContext:moc];\n        [shiftRDO setShiftRotation:_shiftRotation];\n\n        NSMutableDictionary *dateDict = [NSMutableDictionary dictionaryWithObjectsAndKeys:tempDate, @\"date\", shiftRDO, @\"shift\", nil];\n        [monthArray addObject:dateDict];\n    }\n\n    return monthArray;\n}\n</code></pre>\n\n<p>This is where the call is made to update it:</p>\n\n<pre><code>[shiftEntity updateWithShiftType:_selectedShiftType inContext:context];\n</code></pre>\n\n<p>Which calls the method:</p>\n\n<pre><code>- (void)updateWithShiftType:(ShiftType *)shiftType inContext:(NSManagedObjectContext *)context\n{\n    self.title = [NSString stringWithFormat:@\"%@\",shiftType.title];\n    self.symbol = [NSString stringWithFormat:@\"%@\",shiftType.symbol];\n    self.startTime = [shiftType.startTime dateByAddingTimeInterval:0];\n    self.endTime = [shiftType.endTime dateByAddingTimeInterval:0];\n    self.splitStartTime = [shiftType.splitStartTime dateByAddingTimeInterval:0];\n    self.splitEndTime = [shiftType.splitEndTime dateByAddingTimeInterval:0];\n    self.isWorkday = [shiftType.isWorkday copy];\n    self.isTimeOff = [shiftType.isTimeOff copy];\n    self.typeID = [shiftType typeID];\n}\n</code></pre>\n\n<p>After the above code executes, the first notification is posted in the log:</p>\n\n<pre><code>&lt;Shift: 0x8140b70&gt; (entity: Shift; id: 0x81409e0 &lt;x-coredata:///Shift/tE59A199A-444E-4079-BD8C-0D3E734607783&gt; ; data: {\ndate = \"2012-10-29 04:00:00 +0000\";\nendTime = \"2012-11-02 19:35:38 +0000\";\nisTimeOff = 0;\nisWorkday = 1;\nshiftRotation = \"0x81406a0 &lt;x-coredata:///ShiftRotation/tE59A199A-444E-4079-BD8C-0D3E734607782&gt;\";\nsplitEndTime = nil;\nsplitStartTime = nil;\nstartTime = \"2012-11-02 09:35:34 +0000\";\nsymbol = none;\ntitle = Days;\ntypeID = \"991ACC8C-ECE0-4555-9002-7AC233F26CBF\";\n</code></pre>\n\n<p>The \"<strong>date</strong>\" property does have the proper assigned date.</p>\n\n<p>Now as soon as I save the context with the following method:</p>\n\n<pre><code>- (BOOL)saveContext\n{\n    NSError *error = nil;\n    if (__managedObjectContext) {\n        if ([__managedObjectContext hasChanges] &amp;&amp; ![__managedObjectContext save:&amp;error]) {\n            NSLog(@\"Unresolved error %@, %@\", error, [error userInfo]);\n\n            // More details on error\n            NSArray* detailedErrors = [error userInfo][NSDetailedErrorsKey];\n            if(detailedErrors != nil &amp;&amp; [detailedErrors count] &gt; 0) {\n                for(NSError* detailedError in detailedErrors) {\n                    NSLog(@\"  DetailedError: %@\", [detailedError userInfo]);\n                }\n            }\n            else {\n                NSLog(@\"  %@\", [error userInfo]);\n            }\n\n            return NO;\n            abort();\n        }\n    }\n    return YES;\n}\n</code></pre>\n\n<p>I receive a second notification of a change with the following log:</p>\n\n<pre><code>    &lt;Shift: 0x8140b70&gt; (entity: Shift; id: 0x82c9dd0 &lt;x-coredata://7CE834F9-5056-457A-BB2C-B8BA638086F1/Shift/p23&gt; ; data: {\n    date = \"2012-12-02 05:00:00 +0000\";\n    endTime = \"2012-11-02 19:35:38 +0000\";\n    isTimeOff = 0;\n    isWorkday = 1;\n    shiftRotation = \"0x8260dc0 &lt;x-coredata://7CE834F9-5056-457A-BB2C-B8BA638086F1/ShiftRotation/p11&gt;\";\n    splitEndTime = nil;\n    splitStartTime = nil;\n    startTime = \"2012-11-02 09:35:34 +0000\";\n    symbol = none;\n    title = Days;\n    typeID = \"991ACC8C-ECE0-4555-9002-7AC233F26CBF\";\n}),\n</code></pre>\n\n<p>As you notice, the \"<strong>date</strong>\" changed to 2012-12-02, just by saving.</p>\n\n<p><strong>Update:</strong> I was finally able to track the cause of the unexplained change. It seems that I was inadvertently changing the \"date\" property after I was saving the context somewhere else in my code. Perhaps that would have not happened if I had followed carmin's convention (I would have given +1 if I had the reputation). The value was not changing in the Persistent store after all.</p>\n\n<p>Perhaps sharing how I tracked down this bug might benefit anyone else that might have similar problems, not necessarily related to Core Data. </p>\n\n<p>I used Key Value Observing, to observe the \"date\" property. I began observing immediately after creating the \"Shift\" entity:</p>\n\n<pre><code>[_shiftEntity addObserver:self forKeyPath:@\"date\" options:NSKeyValueObservingOptionNew context:NULL];\n</code></pre>\n\n<p>...and stopped observing after a point in my code where the change had already occurred:</p>\n\n<pre><code>[_shiftEntity removeObserver:self forKeyPath:@\"date\" context:NULL];\n</code></pre>\n\n<p>I then implemented the KVO method:</p>\n\n<pre><code>- (void)observeValueForKeyPath:(NSString *)keyPath ofObject:(id)object change:(NSDictionary *)change context:(void *)context\n{\n    NSLog(@\"Object being observed: %@\", [object description]);\n    NSLog(@\"Value changed to: %@\", change[NSKeyValueChangeNewKey]);\n}\n</code></pre>\n\n<p>I placed a break point at the above method. When the change occurred, it stopped at this point, and told me what had change. Most importantly, when the code stopped executing, I looked at the call stack, and traced my way back through the path that the code took that caused the change. I was able to find exactly where my code was making the change.</p>\n\n<p>I don't have much knowledge using KVO but this experience showed me its usefulness even for debugging purposes.</p>\n"},{"tags":["iphone","ios","xcode","ipad","cocoa"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":63,"score":1,"question_id":13213177,"title":"4 Storyboards for IPhone4-IPhone5 and IPad-IPadMini?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/12696242/how-to-switch-to-different-storyboard-for-iphone-5\">How to switch to different Storyboard for iPhone 5?</a>  </p>\n</blockquote>\n\n\n\n<p>Dealing with dimensions on XCode is a nightmare, I was wondering if I can create one storyboard for different IPhone/IPad devices instead of trying to figure out in the code</p>\n"},{"tags":["cocoa"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13213397,"title":"Resources for Cocoa programming Frameworks/libraries/UI","body":"<p>I'm starting to teach myself some Cocoa programming, and i would like to know if there is any good ressource for common UI Styles. E.g. I really like the \"stacked view\" style from Twitter/Spotify and i would like to know if there is an community or blog which keeps track of libraries or other frameworks (not only for UI). </p>\n\n<p>(this is actually a starting point: <a href=\"http://www.cocoacontrols.com/posts/how-to-build-the-twitter-ipad-user-experience\" rel=\"nofollow\">How to Build the Twitter iPad User Experience for the twitter UI</a>)</p>\n\n<p>thanks a lot!</p>\n"},{"tags":["osx","cocoa","drawrect","nscolor"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13213057,"title":"OSX Cocoa: Error in resetting colors in two drawRect method implementations","body":"<p>I have a Table subclass of NSView which contains several blocks of the Block subclass of NSView. This is the code for Table's drawRect: method:</p>\n\n<pre><code>- (void)drawRect:(NSRect)dirtyRect\n{\n    [NSGraphicsContext saveGraphicsState];\n    [[[NSColor whiteColor] colorWithAlphaComponent:0.6] set];\n    [NSBezierPath fillRect:dirtyRect];\n    [NSGraphicsContext restoreGraphicsState];\n}\n</code></pre>\n\n<p>And this the code of Block's drawRect: method:</p>\n\n<pre><code>-(void)drawRect:(NSRect)dirtyRect\n{\n    [NSGraphicsContext saveGraphicsState];\n    [color set];\n    [NSBezierPath fillRect:dirtyRect];\n    [NSGraphicsContext restoreGraphicsState];\n}\n</code></pre>\n\n<p>where \"color\" is set to [[NSColor whiteColor] colorWithAlphaComponent:0].</p>\n\n<p>But I don't understand why, when I run the application, evenrything's fine, but each time I click on a Block this gets filled with the classic gray initial background on Mac OS X... can anybody help? I would be very greatful, thanks. </p>\n"},{"tags":["objective-c","osx","cocoa","icloud","nsdocument"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13212337,"title":"Include iCloud on save dialog box in mac app","body":"<p>I have implemented the <code>iCloud</code> support on my Mac document-based app. \n<code>NSDocument</code> subclass can handle open e save file on local storage and <code>iCloud</code>.\nBut, I can upload my files on <code>iCloud</code> only dragging it on the Open-New File Panel.\nWhen the app prompt the user the location to save the file, <code>iCloud</code> is not on the list.\nIsn't it supported by default like in TextEdit? I have to implement with my own code?</p>\n\n<p>Image here:</p>\n\n<p><img src=\"http://i.stack.imgur.com/LxFga.png\" alt=\"Screenshot\"> </p>\n"},{"tags":["objective-c","xcode","cocoa"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13205558,"title":"Why is this NSPanel released with \"close\" button?","body":"<p>My NSPanel in IB has \"release when closed\" unchecked.</p>\n\n<p>\"Visible at Launch\" is also unchecked.</p>\n\n<p>I fade the NSPanel in with the following (activated by dragToButton) and it works fine</p>\n\n<pre><code>- (IBAction)dragToFile:(id)sender\n\n{        \n\n    DragImageView *accessory = [[[DragImageView alloc] initWithFrame:NSMakeRect(0,0,71,63)] autorelease];\n    [accessory setMainContentFolder:self.mainInstallFolder];\n\n    [self.dragToFile setFloatingPanel:YES];\n    [self.dragToFile makeKeyWindow];\n\n    [dragImage setMainContentFolder:self.mainInstallFolder];\n    NSRect frame = dragToFile.frame;\n    NSRect mainFrame = self.window.frame;\n    frame.origin.x = mainFrame.origin.x + 550;\n    frame.origin.y = mainFrame.origin.y + 360;\n    [dragToFile setFrame:frame display:NO];\n\n    //set fade anim params\n    NSDictionary *fadeInDict = [NSDictionary dictionaryWithObjectsAndKeys:\n                                 dragToFile, NSViewAnimationTargetKey,\n                                 NSViewAnimationFadeInEffect, NSViewAnimationEffectKey,\n                                 nil];\n    //create fade instance\n    NSViewAnimation *fadeIn = [[NSViewAnimation alloc] initWithViewAnimations:[NSArray arrayWithObjects: fadeInDict, nil]];\n\n    [fadeIn startAnimation];\n    [fadeIn release];\n</code></pre>\n\n<p>But if I close the window on the window's toolbar it triggers the following from a windowWillClose notification </p>\n\n<pre><code>- (void) dragToFileWindowDidClose:(id)sender\n{\n    [dragToFile setAlphaValue:0.0]; //make nspanel 0 alpha so it can fade in again\n    [dragtoButton setState:NSOffState];\n\n}\n</code></pre>\n\n<p>The window closes but completely disappears and doesn't come back on the next dragToButton click. </p>\n\n<p>The NSPanel has the following property</p>\n\n<p><code>@property (retain) IBOutlet NSPanel *dragToFile;</code></p>\n\n<p>So I'm pretty sure that the window is getting released, but I dont know why because I deselected that option.</p>\n"},{"tags":["cocoa","core-data","concurrency","magicalrecord"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13211753,"title":"Design strategy to save in the background with MagicalRecord","body":"<p>Recently I started a new app requiring just one store (no document based app). For some time I was quite happy thinking I could finally get rid of throwing around the NSManagedObjectContext... until I wanted to save in the background :-(</p>\n\n<p>Now I am confused about my own code. For example:</p>\n\n<pre><code>- (void)awakeFromInsert\n{\n    [super awakeFromInsert];\n    [self resetCard];\n    self.creationDate = TODAY;\n    self.dictionary = [Dictionary activeDictionary];\n    NSNotificationCenter *center = [NSNotificationCenter defaultCenter];\n    [center postNotificationName:NOTE_NEWCARD object:self];    \n}\n</code></pre>\n\n<p>[Dictionary activeDictionary] is a NSManagedObject static function returning a pointer to a NSManagedObject created in the main thread. That will cause a cross/context error during the background save. Because my program always read from the same store, I thought I could avoid writing this:</p>\n\n<pre><code>[Dictionary activeDictionaryWithContext:...]\n</code></pre>\n\n<p>I suppose that with MagicalRecord, as long as I work always with the same backend is is possible to avoid passing the context pointer. Which function should I use to get that context?</p>\n\n<pre><code>[NSManagedObjectContext MR_defaultContext]\n[NSManagedObjectContext MR_context]\n[NSManagedObjectContext MR_contextForCurrentThread]\n</code></pre>\n\n<p>In the example the object sends itself within a notification, something almost granted to cause more conflicts.</p>\n\n<ul>\n<li>In the case of the notification should I always send only the objectID?</li>\n</ul>\n\n<p>It seems to me that my objects should issue side effect operations/notifications only if they are running in the main context. However some of those side operations change my object graph creating new instances of other entities. </p>\n\n<ul>\n<li><p>Can I safely omit the two problematic function calls I have mentioned if I save with  [MagicalRecord MR_saveAll] ? </p></li>\n<li><p>Should I assume that the objects of the new background saving context will be an exact copy of the ones in my main thread without calling those extra functions?</p></li>\n</ul>\n\n<p>Now I am having problems because I never expected awakeFromInsert to run several times for the same object of the same store. I was thinking about something like this:</p>\n\n<pre><code>- (void)awakeFromInsert\n{\n    [super awakeFromInsert];\n    if ([self managedObjectContext] == [NSManagedObjectContext MR_defaultContext]) {\n        [self resetCard];\n        self.creationDate = TODAY;\n        self.dictionary = [Dictionary activeDictionary];\n        NSNotificationCenter *center = [NSNotificationCenter defaultCenter];\n        [center postNotificationName:NOTE_NEWCARD object:self];    \n    }\n}\n</code></pre>\n\n<p>That should make my awakeFromInsert code run only once, but not in the background saving context. I am concerned about losing information if I do so</p>\n"},{"tags":["objective-c","cocoa"],"answer_count":3,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":13210680,"title":"How can I invoke a method as soon as a bool flag changes?","body":"<p>I want to perform <code>[document doSomething]</code> as soon as <code>[document isBusy]</code> is false. What is the best way to do it? I tried it with a while-loop but that delays the following code, which is not what I want.</p>\n"},{"tags":["objective-c","cocoa","concurrency","menu","status"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13211095,"title":"NSMenu is blocking main thread","body":"<p>My <code>NSMenu</code> opens underneath a <code>NSStatusItem</code>, but it's blocking the main thread! How can I stop the menu from blocking the main thread?</p>\n"},{"tags":["osx","cocoa","nsview"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13208661,"title":"NSView Autosize (Vertically)","body":"<p>Is it possible to have an NSView autosize (vertically) to fit its contents? The contents are just two NSTextFields, one (on top of the view) that's always the same height and the other (near the bottom of the view) that's of a variable height.</p>\n\n<p>Something that could make it more difficult is that the NSView is an NSCollectionViewItem's view.</p>\n"},{"tags":["objective-c","multithreading","cocoa","concurrency"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13210130,"title":"Put object and delegate on a separate thread (concurrency)","body":"<p>I would like to <strong>set a</strong> <code>NSSpeechRecognizer</code> <strong>delegate to run on a separate thread</strong> from the main thread. In the delegate, I want to be able to call a function on the main thread when needed.</p>\n\n<p>How do I accomplish this?</p>\n\n<p><strong>EDIT</strong>\nI have tried this (I kept the actual delegate method on the main thread):</p>\n\n<pre><code>-(void)speechRecognizer:(NSSpeechRecognizer *)sender didRecognizeCommand:(id)aCmd {\n    [self performSelectorInBackground:@selector(testtherun:) withObject:aCmd];\n}\n\n-(void)testtherun:(id)aCmd{\n   //accomplish tasks\n}\n</code></pre>\n\n<p>But what I really need is for the entire method to be on a separate thread, not just the code within the method. How do I do so?</p>\n"},{"tags":["objective-c","cocoa","64bit","string-formatting","llvm"],"answer_count":3,"favorite_count":2,"up_vote_count":5,"down_vote_count":0,"view_count":3494,"score":5,"question_id":4998722,"title":"Why does only NSLog warn me about using the %lu string format specifier for NSUInteger?","body":"<p>For some reason, I get a compilation error when I try to do the following:</p>\n\n<pre><code>NSLog(@\"row: %lu\", indexPath.row);\n</code></pre>\n\n<p>where <code>row</code> is of type <code>NSUInteger</code>. The error I get is</p>\n\n<blockquote>\n  <p>Conversion specifies type 'unsigned long' but the argument has type 'NSUInteger' (aka 'unsigned int')</p>\n</blockquote>\n\n<p>I can do the following with no compilation errors:</p>\n\n<pre><code>NSString * string = [NSString stringWithFormat:@\"row: %lu\", indexPath.row];\n</code></pre>\n\n<p>I'm using the exact same format string and substitution argument in both cases, but why does <code>NSLog</code> freak out while <code>-stringWithFormat:</code> seems to be perfectly content? My compiler is LLVM 1.6.</p>\n"},{"tags":["xcode","cocoa","ios5","core-image"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":1642,"score":3,"question_id":10030631,"title":"What is the best Core Image filter to produce black and white effects?","body":"<p>I am using Core Image and would like to produce a black and white effect on the chosen image. </p>\n\n<p>Ideally I would like to have access to the same sort of options that are available on Photoshop i.e. Reds, Cyan, Greens, Blues and Magenta. The goal being to create different types of the black and white effect.</p>\n\n<p>Does anyone know what filter would be best to manipulate these sort of options? If not does anyone know of a good approach to creating the black and white effect using other filters?</p>\n\n<p>Thanks</p>\n\n<p>Oliver</p>\n"},{"tags":["objective-c","cocoa","thread-safety","applescript"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":85,"score":1,"question_id":12195203,"title":"NSAppleScript and unresponsive interface - Objective-C","body":"<p>I want to run some lines of applescript code from within my application. The standard way is to use the NSAppleScript class. However, because that code might take a few minutes to complete, I have to use a separate thread or the interface will stop. The big problem is, as it says <a href=\"https://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/Multithreading/ThreadSafetySummary/ThreadSafetySummary.html\" rel=\"nofollow\">here</a>, the NSAppleScript class can ONLY be run on the main thread.</p>\n\n<p>So, if I run the code on a separate thread, my app crashes; If I run it on the main thread, it stops. Any ideas?</p>\n\n<p>Also, I considered using NSTask and the osascript command, but I saw somewhere (can't find the link) that osascript doesn't support user input such as dialog boxes and stuff. I'm not sure if that's true, but if it is then osascript is not a solution.</p>\n"},{"tags":["objective-c","osx","cocoa"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":13195910,"title":"Custom Swipe Gestures","body":"<p>Is it somehow possible to add a 3-finger swipe gesture on a system scale, like a hotkey ?\nYes, just like the notification center gesture, only from the other side. (sandboxed)</p>\n\n<p>Maybe by using a Desktop-size overlay window that is transparent and captures swipe gestures ?</p>\n"},{"tags":["osx","cocoa","mono","gtk"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13208936,"title":"Mono-Gtk move window to active desktop/ make overlay?","body":"<p>How can I move a window to the active desktop? \nOr even better, create an overlay that appears on screen no matter what.\nI have little to no experience using Gtk, but I'm just making a small app to help me switch between my mac and my pc at work. Any help would be appreciated. :)</p>\n\n<p>EDIT: would this task be more suitable for Cocoa ?</p>\n"},{"tags":["objective-c","xcode","osx","cocoa"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":44,"score":1,"question_id":13199627,"title":"INAppStoreWindow Toolbar","body":"<p>I was wondering how I could add a toolbar in the titlebar using <a href=\"https://github.com/indragiek/INAppStoreWindow\" rel=\"nofollow\" title=\"INAppStoreWindow on GitHub\">INAppStoreWindow</a>. I succesfully added InAppStoreWindow in my application but I was thinking how to add a toolbar like the 'AppStore.app' in the center of my titlebar using INAppStoreWindow.</p>\n\n<p>Nowhere on the internet nor stackoverflow has a similer topic about this toolbar inside this INAppStoreWindow method. I hope somebody could tell me if this is possible and how as I can't find any examples.</p>\n"},{"tags":["cocoa","osx","webview"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":3954,"score":1,"question_id":2093229,"title":"Cocoa webView to display a web page","body":"<p>I am trying to develop an export aperture plugin, I have designed some views/windows and everything runs smoothly, but trying to now add a webView on one of the window, and cannot make it to display the linked url (hard typed in the code).</p>\n\n<p>Is webView not supported because I'm running it within aperture? anyone having problem with this?</p>\n\n<p>I'm not getting any errors, and used the webView object in the simplest way as possible.</p>\n\n<p>The code to load the web page on webView:</p>\n\n<pre><code>[[webView mainFrame] loadRequest:[NSURLRequest requestWithURL:[NSURL URLWithString:@\"http://www.google.com\"]]];\n</code></pre>\n"},{"tags":["objective-c","cocoa","core-data","cocoa-bindings","key-value-observing"],"answer_count":1,"favorite_count":3,"up_vote_count":6,"down_vote_count":0,"view_count":398,"score":6,"question_id":6195412,"title":"Observing dependent keys across a to-many relationship","body":"<p>I have a Core Data entity, \"bid\", which has a relationship to many \"items\", called \"itemLink\".</p>\n\n<p>in IB, I have a text field bound to \"total\", and that almost works.</p>\n\n<p>In \"bid.m\" I have:</p>\n\n<pre><code>- (NSDecimalNumber *)total\n{\n    return [self valueForKeyPath:@\"itemLink.@sum.price\"];\n}\n</code></pre>\n\n<p>I also have: </p>\n\n<pre><code>+ (NSSet *)keyPathsForValuesAffectingTotal { \n    return [NSSet setWithObjects:@\"itemLink\", nil]; \n\n}\n</code></pre>\n\n<p>When adding or deleting an item, \"total\" updates as expected. But if you change an \"item\" within the set of itemLink, the total is not getting refreshed. How do you get KVO to see when a related object in the linked NSSet has changed?</p>\n\n<p>Thanks</p>\n"},{"tags":["cocoa","optimization","graphics","nswindow","throttling"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":29,"score":1,"question_id":13206358,"title":"Slow NSWindow image drawing during live resize","body":"<p>I have a simple test Cocoa application, running under XCode 4.5 on OS X 10.7.5. The application contains a single NSWindow. The content view of the window is a custom view, whose drawRect method generates an image (very quickly) and draws it in the view using CGContextDrawImage. No scaling or any other manipulation.</p>\n\n<p>I've been timing the drawing using UpTime() calls. The drawing operation is initially fairly fast, about 5 msec. However, during live resize, CGContextDrawImage takes about an even second (something like 1020 msec) before it returns. I tried it on a slow computer running 10.7.5, a fast one running 10.6.8, with small and large windows, with or without the cursor showing; always the same result. Actual CPU usage during drawing is quite low. It feels as if the system throttles the redraw during live resize, and at no other time.</p>\n\n<p>If I just fill the rect with a solid color I don't get this effect.</p>\n\n<p>Any idea what's going on?</p>\n"},{"tags":["objective-c","cocoa-touch","cocoa"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":33,"score":1,"question_id":13205561,"title":"Nesting statements rather than creating new single-use objects?","body":"<p>Newb question here. </p>\n\n<p>Why would I do this:</p>\n\n<pre><code>    NSPredicate *pred = [NSPredicate predicateWithFormat:@\"(lineNum = %d)\", i];\n    [request setPredicate:pred];\n</code></pre>\n\n<p>When I could just do this?</p>\n\n<pre><code>    [request setPredicate:[NSPredicate predicateWithFormat:@\"(lineNum = %d)\", i]];\n</code></pre>\n\n<p>Every textbook code example I find uses the first method, but as far as I can see the second method will basically do the same thing and just looks neater. \"pred\" is only called once so why create it as an object? </p>\n"},{"tags":["objective-c","osx","cocoa","nswindow"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13205239,"title":"How to open the app if minimized/hidden?","body":"<p>On a notification click I would like to focus/open the app if minimized. My class:</p>\n\n<p><strong>Notice.m</strong></p>\n\n<pre><code>- (void) userNotificationCenter:(NSUserNotificationCenter *)center didActivateNotification:(NSUserNotification *)notification\n{\n    NSLog(@\"Notification - Clicked\");\n\n    // Focus the App\n    [[NSApp mainWindow] makeKeyAndOrderFront:self];\n\n}\n</code></pre>\n\n<p>I'm not getting any errors but the window when minimized is not opening. Ideas? Thanks</p>\n"},{"tags":["objective-c","c","cocoa","nsstring","nsinteger"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":13204875,"title":"How do you check if an NSInteger is greater than another NSinteger?","body":"<p>I'm trying to write code that detects if an integer is greater than another integer. Is this possible?</p>\n\n<p>Here is what i've done so far.</p>\n\n<pre><code>if (NumCorrect &gt;&gt; NumWrong) {\n    btnCool.title = @\"Awww\";\n}\n\nelse {\n    btnCool.title = @\"Cool!\";\n}\n</code></pre>\n\n<p>All its doing is going to the else</p>\n\n<p><strong>EDIT:</strong></p>\n\n<pre><code>NSString *numCorrect = [NSString stringWithFormat:@\"%d\",NumCorrect];\nNSString *numWrong = [NSString stringWithFormat:@\"%d\", NumWrong];\nlblWrong.text = numWrong;\nlblCorrect.text = numCorrect;\nif (NumCorrect &gt; NumWrong) { \n    btnCool.title = @\"Awww\"; \n} else { \n    btnCool.title = @\"Cool!\"; \n}\n</code></pre>\n"},{"tags":["cocoa","osx-mountain-lion"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13204921,"title":"Is there any way to detect supported options in SDK","body":"<p>“<strong>Using SDK-Based Development</strong>” explains how to use weakly linked classes, methods, and functions ...</p>\n\n<p>I have used this e.g.</p>\n\n<pre><code>if ([NSByteCountFormatter class]) {\n    ...\n}\n</code></pre>\n\n<p>Is there any way to detect supported options e.g.</p>\n\n<pre><code>NSRegularExpressionSearch\nThe search string is treated as an ICU-compatible regular expression.\nIf set, no other options can apply except NSCaseInsensitiveSearch and NSAnchoredSearch.\nYou can use this option only with the rangeOfString:... methods and stringByReplacingOccurrencesOfString:withString:options:range:.\n\nAvailable in OS X v10.7 and later.\n</code></pre>\n"},{"tags":["objective-c","cocoa","automatic-ref-counting","objective-c-blocks","weak-references"],"answer_count":4,"favorite_count":8,"up_vote_count":4,"down_vote_count":0,"view_count":792,"score":4,"question_id":10892361,"title":"Generic typeof for weak self references","body":"<p>I am trying to figure out a way to use <code>typeof</code> to create a weak reference to <code>self</code> for use in blocks to avoid retain cycles.</p>\n\n<p>When I first read about this it seems that the convention was to use <code>__block typeof(self) bself = self;</code>, which compiles but using <code>__block</code> to avoid retain cycles doesn't work anymore and <code>__weak</code> should be used instead.</p>\n\n<p>However <code>__weak typeof(self) bself = self;</code> results in an error:</p>\n\n<p><strong>The type 'typeof (self)' (aka 'TUAccountsViewController *const __strong') already has retainment attributes set on it</strong></p>\n\n<p>Is there a way to use <code>typeof</code> or another call to generically create a weak reference to <code>self</code>?</p>\n"},{"tags":["objective-c","ios","osx","cocoa"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13204746,"title":"didActivateNotification is not responding to NSUserNotification","body":"<p>I'm working to get osx native notifications working. I'm able to create a notification but not get the didActivateNotification working. I want didActivateNotification to allow me to focus the window and remove the notification from the notification center.</p>\n\n<p>Here is my code: <code>notice.m</code></p>\n\n<pre><code>#import \"Notice.h\"\n\n@implementation Notice\n\n- (void) notify:(NSDictionary *)message {\n\n    NSLog(@\"Notification - Show it\");\n\n    NSUserNotification *notification = [[NSUserNotification alloc] init];\n    [notification setTitle:[message valueForKey:@\"title\"]];\n    [notification setInformativeText:[message valueForKey:@\"content\"]];\n    [notification setDeliveryDate:[NSDate dateWithTimeInterval:0 sinceDate:[NSDate date]]];\n    [notification setSoundName:NSUserNotificationDefaultSoundName];\n    NSUserNotificationCenter *center = [NSUserNotificationCenter defaultUserNotificationCenter];\n    [center scheduleNotification:notification];\n}\n\n- (void) userNotificationCenter:(NSUserNotificationCenter *)center didActivateNotification:(NSUserNotification *)notification\n{\n\n    NSLog(@\"Notification - Clicked\");\n\n    notification=nil;\n    [center removeDeliveredNotification: notification];\n}\n</code></pre>\n\n<p>This is firing properly: </p>\n\n<pre><code>NSLog(@\"Notification - Show it\");\n</code></pre>\n\n<p>But this is not: </p>\n\n<pre><code>NSLog(@\"Notification - Clicked\");\n</code></pre>\n\n<p>Any suggestions? Thanks</p>\n"},{"tags":["objective-c","osx","cocoa","nsusernotification"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":61,"score":1,"question_id":13186320,"title":"NSUserNotification - How open the app when clicked","body":"<p>I'm using NSUserNotification to display notifications. This is working fine. The problem is that when you click on a notification:</p>\n\n<ol>\n<li>The apps notifications are not removed from the notification center.</li>\n<li>The app (when minimized) does not open.</li>\n</ol>\n\n<p>Anyone familiar with the NSUserNotification who can offer some pointers?</p>\n\n<p><strong>notice.m</strong></p>\n\n<pre><code>#import \"Notice.h\"\n\n@implementation Notice\n\n- (void) notify:(NSDictionary *)message {\n\n    NSLog(@\"Notification - Show it\");\n\n    NSUserNotification *notification = [[NSUserNotification alloc] init];\n    [notification setTitle:[message valueForKey:@\"title\"]];\n    [notification setInformativeText:[message valueForKey:@\"content\"]];\n    [notification setDeliveryDate:[NSDate dateWithTimeInterval:0 sinceDate:[NSDate date]]];\n    [notification setSoundName:NSUserNotificationDefaultSoundName];\n    NSUserNotificationCenter *center = [NSUserNotificationCenter defaultUserNotificationCenter];\n    [center scheduleNotification:notification];\n}\n\n- (void) userNotificationCenter:(NSUserNotificationCenter *)center didActivateNotification:(NSUserNotification *)notification\n{\n\n    NSLog(@\"Notification - Clicked\");\n\n    notification=nil;\n    [center removeDeliveredNotification: notification];\n}\n\n\n\n\n\n\n\n#pragma mark WebScripting Protocol\n\n+ (BOOL) isSelectorExcludedFromWebScript:(SEL)selector\n{\n    if (selector == @selector(notify:))\n        return NO;\n\n    return YES;\n}\n\n+ (NSString*) webScriptNameForSelector:(SEL)selector\n{\n    id  result = nil;\n\n    if (selector == @selector(notify:)) {\n        result = @\"notify\";\n    }\n\n    return result;\n}\n\n// right now exclude all properties (eg keys)\n+ (BOOL) isKeyExcludedFromWebScript:(const char*)name\n{\n    return YES;\n}\n\n@end\n</code></pre>\n\n<p>Thank you</p>\n"},{"tags":["ios","cocoa","vpn"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":209,"score":1,"question_id":10296520,"title":"Forcing an \"On demand\" VPN in iOS?","body":"<ol>\n<li>Is it possible to force a vpn connection always and not an \"on demand\"</li>\n<li>also on demand requires domains to be added in the configuration file..what if the domains keep changing? why is it designed this way i.e. only for some domains? what if i need a vpn for all domains and dont want to add list of several available domains like .ru, .in?\nAny help would be appreciable..</li>\n</ol>\n"},{"tags":["objective-c","osx","cocoa","hide","nsscrollview"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13203472,"title":"how to hide NSScrollView Scroller?","body":"<p>i am creating all the scrollviews on runtime and i want to hide NSScrollView scrollers i am not saying [self setHasVerticalScroller:NO]; however </p>\n\n<blockquote>\n<pre><code>[self setHasVerticalScroller:YES];\n[[self verticalScroller] setHidden:YES];\n</code></pre>\n</blockquote>\n\n<p>does not work but there is a option on interface builder if you put scroller on design time. check out the image below. </p>\n\n<p><img src=\"http://i.stack.imgur.com/PHxJl.png\" alt=\"enter image description here\"></p>\n"},{"tags":["objective-c","ios","cocoa","switch-statement"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":13203081,"title":"Objective-C (iOS/Cocoa): expand first letter into day of week","body":"<p>I have a coded string \"m8\" or \"w12\" and I'd like to expand them into a day object \"monday\" or \"wednesday\" and a time object \"8:00\" or \"12:00\". The time I can handle but having trouble finding a trivial way (that can be used in a block) to turn an 'm' into 'Monday' in Objective-C (iOS)... </p>\n\n<p>I had initially thought of getting the first letter (always just one letter then 1 or 2 numerals. Thursdays are 'h'. and Sat &amp; Sun not applicable).</p>\n\n<pre><code>[codedString substringToIndex:1]  // returns 'm' or 'w', etc... \n</code></pre>\n\n<p>and then using a <code>switch</code> statement to set another variable to 'monday' or 'tuesday' and then something similar for the numbers. But, then I remembered you cannot <code>switch</code> on an <code>NSString</code>. So how does one go about something like this in Objective-C? </p>\n\n<p>Brain hurts switching back &amp; forth between Objective-C &amp; Ruby so I know I'm missing something obvious...</p>\n"},{"tags":["objective-c","xcode","osx","cocoa"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":912,"score":2,"question_id":8244953,"title":"Xcode successfully builds my target, but does not run the product","body":"<p>I've installed Xcode 4.2.1 on Mac OS X Lion.\nWhen I create a new (Mac OS X Cocoa) project and I click \"Run\", Xcode says build succeeded, but doesn't run the project. No errors, but no application either.\nWhen I do exactly the same thing on another Mac (but with OS X Snow Leopard and Xcode 4.0.1 installed), the created app starts bouncing in the dock and shows an empty window, like I would expect.\nWhen I look in the Console, there seems to be nothing strange going on.\nI tried reinstalling Xcode, deleting everything related to Xcode, but still no luck.\nAnyone got an idea what could be the problem?</p>\n\n<p>(I tried running an existing project which used to work, but that didn't show anything either)</p>\n"},{"tags":["ios","cocoa","avfoundation","avaudioplayer","music-player"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13201545,"title":"Trouble playing music with AVAudioPlayer iOS","body":"<p>I'm having issue playing an audio file (mp3) that I have saved in the documents folder of my app's sandbox. In my header file I have #import  The method that is suppose to actually play the file as follows:</p>\n\n<pre><code>- (IBAction)playSong:(id)sender\n{\nNSLog(@\"Attempting to play song now...\");\n\n// I'm sure that the path for songInDocuments is correct because I used fileManager to verify\n\n// songInDocuments is /path/to/file.mp3 \n// I hope that saying the file with mp3 as a part of its filename doesn't contribute to my problem \nplayer = [[AVAudioPlayer alloc] initWithContentsOfURL:[NSURL URLWithString:songInDocuments] error:NULL];\nplayer.delegate = self;\nplayer.numberOfLoops = -1;\n[player play];\n\n\n}\n</code></pre>\n"},{"tags":["objective-c","cocoa","nsprogressindicator"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":485,"score":2,"question_id":2714951,"title":"What causes a white border to be applied to an NSProgressIndicator displayed in the system menu?","body":"<p>This is what happens when I create an NSProgressIndicator and <a href=\"http://stackoverflow.com/questions/2710031/how-do-i-use-an-indeterminate-status-indicator-as-the-image-for-an-nsstatusitem\">use <code>NSStatusItem</code>'s <code>-setView:</code> method</a> to display it in the menubar area while I'm performing an action:</p>\n\n<p><img src=\"http://cl.ly/l9R/content\" alt=\"Example of messed up NSProgressIndicator\"></p>\n\n<p>What causes this border to be displayed, and how can I remove it? The intended result is that the control be transparent.</p>\n\n<p>Here's the code I'm using:</p>\n\n<pre><code>NSProgressIndicator *progressIndicator = [[NSProgressIndicator alloc] init];\n\n[progressIndicator setBezeled: NO];\n[progressIndicator setStyle: NSProgressIndicatorSpinningStyle];\n[progressIndicator setControlSize: NSSmallControlSize];\n[progressIndicator sizeToFit];\n[progressIndicator startAnimation: self];\n[statusItem setView: progressIndicator]; // statusItem is an NSStatusItem instance\n...\n[statusItem setView: nil];\n[progressIndicator stopAnimation: self];\n[progressIndicator release];\n</code></pre>\n"},{"tags":["objective-c","cocoa","core-data"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":156,"score":3,"question_id":980260,"title":"Possible core-data bug: attributes named 'updated' don't work correctly?","body":"<p>I have a Core Data entity called <code>Post</code>. One of it's attributes is called <code>updated</code> and it is a date. The stored XML looks like this:</p>\n\n<pre><code>&lt;attribute name=\"updated\" type=\"date\"&gt;266164481.00000000000000000000&lt;/attribute&gt;\n</code></pre>\n\n<p>From this I concluded that the data is being stored correctly. When I read the data back the returned value is a <code>NSCFNumber</code>, not an <code>NSDate</code>.</p>\n\n<p>However, when I changed the name from <code>updated</code> to <code>pubDate</code> it worked properly. <code>updated</code> isn't declared in the headers for <code>NSManagedObject</code> or <code>NSObject</code>, so I guess it must be a private method.</p>\n\n<p>Has anyone else experienced this? Should I report it to Apple?</p>\n\n<p>I figured this out after a few hours of head scratching/foul mouth anger.</p>\n"},{"tags":["iphone","ios","xcode","cocoa"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":52,"score":1,"question_id":13200594,"title":"How to retrive unique identification from iphone/ipad?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/11689702/ios-hardware-parameters-for-unique-id-generation\">iOS hardware parameters for unique id generation</a>  </p>\n</blockquote>\n\n\n\n<p>I need to identify uniquely the IOS device instead of requiring sign-up in order to uniquely identify the consumers of my app, this data will be send to our servers by consuming WCF service actions.</p>\n\n<p>How can I identify that?</p>\n\n<p>PS. IP is not an option</p>\n"},{"tags":["cocoa","nstableview"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":371,"score":1,"question_id":2769964,"title":"How do I edit a row in NSTableView to allow deleting the data in that row and replacing with new data?","body":"<p>I'm building a to-do-list application and I want to be able to edit the entries in the table and replace them with new entries. I'm close to being able to do what I want but not quit. Here is my code so far:</p>\n\n<pre><code>/*\n IBOutlet NSTextField *textField;\n IBOutlet NSTabView *tableView;\n IBOutlet NSButton *button;\n NSMutableArray *myArray;\n */\n\n#import \"AppController.h\"\n\n\n@implementation AppController\n\n\n-(IBAction)addNewItem:(id)sender\n{\n\n    [myArray addObject:[textField stringValue]];\n    [tableView reloadData];     \n}\n\n- (int)numberOfRowsInTableView:(NSTableView *)aTableView\n{\n    return [myArray count];\n}\n\n- (id)tableView:(NSTableView *)aTableView\nobjectValueForTableColumn:(NSTableColumn *)aTableColumn\n            row:(int)rowIndex\n{\n\n    return [myArray objectAtIndex:rowIndex];\n}\n\n- (id)init\n{\n    [super init];\n    myArray = [[NSMutableArray alloc] init];\n    return self;\n}\n-(IBAction)removeItem:(id)sender\n{\n\n    NSLog(@\"This is the index of the selected row: %d\",[tableView selectedRow]);\n    NSLog(@\"the clicked row is %d\",[tableView clickedRow]);\n    [myArray replaceObjectAtIndex:[tableView selectedRow] withObject:[textField stringValue]];\n    [myArray addObject:[textField stringValue]];\n    //[tableView reloadData];\n}\n\n@end\n</code></pre>\n"},{"tags":["cocoa","apple","osx-lion","audiounit"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":5,"score":0,"question_id":13199727,"title":"error in auval i do not understand","body":"<h2>i am validating an audio unit in auval (apple's audiounitvalidationtool), it returns:</h2>\n\n<h2>AU VALIDATION SUCCEEDED.</h2>\n\n<p>but i get a leak and i do not understand how to fix this ... can anyone be so kind and may explain me what could cause such an output and what a fix would look alike ?</p>\n\n<p>VERIFYING CUSTOM UI\nobjc[27641]: Object 0x7ffc12937aa0 of class __NSCFString autoreleased with no pool in place - just leaking - break on objc_autoreleaseNoPool() to debug\nCocoa Views Available: 1</p>\n\n<p>thank you so much for your time and help,\nbzt</p>\n"},{"tags":["osx","cocoa","bind","nstableview","nsarraycontroller"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13193253,"title":"how to rebind nstableview IN COCOA","body":"<p>I have a NSTableView and a NSArrayController for the NSTableView.</p>\n\n<p>there is only one column in the table,\"name\" </p>\n\n<p>at first, user open one file, in the arrayController will be @[@{@\"name\":@\"1\"},@{@\"name\":@\"2\"}] </p>\n\n<p>after sometime, the user opened another file, now the content of array controller should be @[@{@\"name\":@\"x\"},@{@\"name\":@\"y\"},@{@\"name\":@\"z\"}].</p>\n\n<p>how can I bind the new data to the NSTableView,(not add)?</p>\n"},{"tags":["objective-c","osx","cocoa","nspasteboard","iphoto"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13197533,"title":"Accept drag'n'drop from iPhoto or Aperture","body":"<p>I've created an app, containing an ImageView subclass which accepts drag'n'dropping files/folders directly from Finder.</p>\n\n<p>The thing is I'm now trying to make it accept photos, either from iPhoto or Aperture, as well.</p>\n\n<p>Which <code>PboardType</code>s should I register for?</p>\n\n<p>All I'm currently doing is :</p>\n\n<pre><code>    [self registerForDraggedTypes:\n     [NSArray arrayWithObjects:NSFilenamesPboardType, nil]];\n</code></pre>\n\n<p>Any ideas?</p>\n"},{"tags":["iphone","objective-c","cocoa","nsxmlparser"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":2939,"score":1,"question_id":1719119,"title":"NSXMLParser chokes on ampersand &","body":"<p>I'm parsing some HTML with NSXMLParser and it hits a parser error anytime it encounters an ampersand. I could filter out ampersands before I parse it, but I'd rather parse everything that's there. </p>\n\n<p>It's giving me error 68, NSXMLParserNAMERequiredError: Name is required.</p>\n\n<p>My best guess is that it's a character set issue. I'm a little fuzzy on the world of character sets, so I'm thinking my ignorance is biting me in the ass.\nThe source HTML uses charset iso-8859-1, so I'm using this code to initialize the Parser:</p>\n\n<pre><code>NSString *dataString = [[[NSString alloc] initWithData:data encoding:NSISOLatin1StringEncoding] autorelease];\nNSData *dataEncoded = [[dataString dataUsingEncoding:NSUTF8StringEncoding allowLossyConversion:YES] autorelease];\nNSXMLParser *theParser = [[NSXMLParser alloc] initWithData:dataEncoded];\n</code></pre>\n\n<p>Any ideas?</p>\n"},{"tags":["objective-c","osx","cocoa"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":56,"score":1,"question_id":13187881,"title":"NSString drawAtPoint text not showing up","body":"<p>Inside my application I'm programmatically constructing a <code>NSImage</code> object that I set as the applications dock Icon. I want to add some text to the icon and have been attempting to use <code>NSString drawAtPoint: withAttributes</code> but it doesn't seem to be working. I've confirmed using log messages that the string is getting constructed properly.</p>\n\n<p>I can't seem to figure out what I'm missing, doing wrong. Any help would be greatly appreciated.</p>\n\n<p>Here is the function I've written to draw to the <code>NSImage</code></p>\n\n<pre><code>-(void) drawStringToImage:(NSString*) str{\n\n    [theIcon lockFocus];\n\n    NSLog([@\"Drawing String: \" stringByAppendingString:str]);\n   //  [NSDictionary dictionaryWithObjectsAndKeys:font, NSFontAttributeName, nil];\n    [str drawAtPoint:NSMakePoint(5,500) withAttributes:nil];\n\n    [theIcon unlockFocus];\n}\n</code></pre>\n"},{"tags":["objective-c","osx","cocoa","drawing","nsimage"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13196824,"title":"Adding an image border","body":"<p>OK, this is what I'm trying to do :</p>\n\n<ul>\n<li>Get an <code>NSImage</code> containing, let's say a photo (1000+ x 1000+ dimensions).</li>\n<li>Get another <code>NSImage</code> containing just a tranparent background and a simple black border (500x500).</li>\n<li>\"Combine\" the 2 images, so that the resulting image is the photo with a border.</li>\n</ul>\n\n<p>This is what I've achieved so far :</p>\n\n<pre><code>NSImage* resultImage = [[[self drop] image] copy];\n[resultImage lockFocus];\n\nNSRect newRect = NSMakeRect(0, 0, [[[self drop] image] size].width, [[[self drop] image] size].height);\n\n[[[self drop2] image] drawInRect:newRect  \n                        fromRect:NSZeroRect \n                       operation:NSCompositeSourceOver \n                        fraction:1.0];\n\n[resultImage unlockFocus];\n\n[[self drop] setImage:resultImage];\n</code></pre>\n\n<p>Where <code>[self drop]</code> is an ImageWell containing the photo, and <code>[self drop2]</code> an ImageWell containing the border.</p>\n\n<p>The thing is that it IS working. However, <strong>the resulting image is - quite obviously - showing a somewhat \"stretched\" border.</strong> </p>\n\n<p><img src=\"http://i.stack.imgur.com/oGj7Y.jpg\" alt=\"Image with Border\"></p>\n\n<p>How could I resolve that? Given that the original photo should be of ANY dimensions, how could I make it to use a border (of some fixed dimensions) and still avoid stretching?</p>\n"},{"tags":["osx","cocoa","dylib"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":15,"score":-3,"question_id":13196404,"title":"Embeding icon in dyLib and use it in cocoa","body":"<p>I have an dyLib, with some dialogs in it. I want to use icon image in dialogs. But for some reasons I dont want to make a framework.\nIs there any way to embed my icon in dyLib and then, use it in cocoa dialog?\nHow to load it in cocoa?</p>\n"},{"tags":["cocoa","draggable","move","drop","nstextfield"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":12,"score":0,"question_id":13196416,"title":"Draggable NSTextField in Cocoa","body":"<p>I am developing an application to print Invoices. I write the following code to make the NSTextFields Draggable and match with Invoice-fields. It Works, but when a resize the window, the NSTextField, return to initial position. What can i do?</p>\n\n<pre><code>@interface DragTextField : NSTextField &lt;NSWindowDelegate&gt;\n@property (readwrite) NSPoint location;\n@end\n\n\n@implementation DragTextField\n@synthesize location;\n\n- (id)initWithFrame:(NSRect)frame\n{\n    self = [super initWithFrame:frame];\n    if (self) {\n    }\n\n    return self;\n}\n\n- (void)drawRect:(NSRect)dirtyRect\n{\n    [super drawRect:dirtyRect];\n\n}\n\n- (BOOL) acceptsFirstMouse:(NSEvent *)theEvent\n{\n    return YES;\n}\n\n- (void)mouseDown:(NSEvent *)theEvent\n{\n    location = [theEvent locationInWindow];\n    self.location = [[self superview] convertPoint:[theEvent locationInWindow] fromView:nil];\n}\n\n- (void)mouseDragged:(NSEvent *)theEvent\n{\n\n    NSPoint newDragLocation = [[self superview] convertPoint:[theEvent locationInWindow] fromView:nil];\n    NSPoint thisOrigin = [self frame].origin;\n    thisOrigin.x += (-self.location.x + newDragLocation.x);\n    thisOrigin.y += (-self.location.y + newDragLocation.y);\n    [self setFrameOrigin:thisOrigin];\n    self.location = newDragLocation;\n}\n\n- (void)mouseUp:(NSEvent *)theEvent {\n\n    [self setNeedsDisplay:YES];\n}\n</code></pre>\n"},{"tags":["ios","osx","cocoa-touch","cocoa","error-handling"],"answer_count":4,"favorite_count":2,"up_vote_count":16,"down_vote_count":0,"view_count":6320,"score":16,"question_id":2196869,"title":"How do you convert an IPhone OSStatus code to something useful?","body":"<p>I am getting more than a little sick of this iphone sdk and it's documentation...</p>\n\n<p>I am calling AudioConverterNew</p>\n\n<p>in the documentation under Returns: it says \"returns a status code\"\n...\nreally...</p>\n\n<p>so far, through playing around with the parameters I have only been able to get two different errors neither of which are listed at the bottom of the Audio Converter reference.</p>\n\n<p>they are 'mrep' and '?tmf' (casting the OSStatus to a char array) but the specific codes aren't really the point.</p>\n\n<p>as far as I can tell, random error codes are defined in random files, so you can't just search one file, I can't find a help document that just lets you search for an error code to get more info, and from what I can tell, in OSX you can use GetMacOSStatusErrorString() to convert an error to something useful, but there is no iphone equivalent?</p>\n\n<p>any help would be greatly appreciated.</p>\n\n<p>EDIT:</p>\n\n<p>ok, so casting them gives them in reverse (something I checked for 'mrep' but was not there either way round) , fmt? is in the list for the Audio Converter api, and is pretty self explanatory if a bit vague, but fair enough, still 'perm' isn't there (although it might be something to do with the simulator not supporting aac decoding) and my general question still stands.</p>\n"},{"tags":["osx","cocoa","nspredicate","spotlight","nsmetadataquery"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":25,"score":2,"question_id":13193690,"title":"Search string predicate","body":"<p>I am trying to create a search query using NSMetaDataQuery and deploying a predicate as below :</p>\n\n<pre><code>NSString * format = @\"kMDItemDisplayName like[cd] %@\";\nNSPredicate * compPred = [NSPredicate predicateWithFormat:format,[NSString stringWithFormat:@\"%@*\",self.searchString]];\n</code></pre>\n\n<p>The issue i am facing is :</p>\n\n<p>Suppose i have application by name : Google Chrome.</p>\n\n<p>If i search  for \"google\" as search string, i am able to get the result i.e \"Google Chrome\", but if i am searching for \"chrome\", i am not able to search \"Google Chrome\".</p>\n\n<p>Similarly if search string is \"Suhail\", display result is \"Suhail hates no one \",\nbut if search string is \"hates\", result dosent show anything.</p>\n\n<p>One more case:\nsuppose file name is \"faMee\".</p>\n\n<p>I search for \"amee\", result is nothing.\nI search for \"mee\", result is nothing, but in spotlight is i search for \"mee\" it displays me the file \"faMee\".</p>\n\n<p>Any suggestions please.</p>\n"},{"tags":["cocoa-touch","cocoa","objective-c-blocks"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13194613,"title":"Is it necessary to use weak references to self always inside blocks..?","body":"<p>I am getting confused with use of self inside blocks, I go through some of Apple's documents but still cannot find the right answer.</p>\n\n<p>Some people always say use weak self inside blocks, but some say use weak self in blocks that are copied, not neassary to use always.</p>\n\n<p>Sample 1:</p>\n\n<pre><code>self.handler = ^(id response, NSError *error)\n{\n    self.newresponse = response; //use weak self here\n};  \n</code></pre>\n\n<p>Sample 2:</p>\n\n<p>Using weak self;</p>\n\n<pre><code>__weak myViewController *weakSelf = self;\n\n[UIView animateWithDuration:interval delay:0.0 options:curve animations:^\n{\n    [weakSelf.view.superview setTransform:CGAffineTransformMakeTranslation(0, -106)];\n    //in above is it use of weak is neassary \n}\ncompletion:^(BOOL finished)\n{\n\n}];\n</code></pre>\n\n<p>Without weak self;</p>\n\n<pre><code>__weak myViewController *weakSelf = self;\n\n[UIView animateWithDuration:interval delay:0.0 options:curve animations:^\n{\n    [myViewController.view.superview setTransform:CGAffineTransformMakeTranslation(0, -106)];\n\n}\ncompletion:^(BOOL finished)\n{\n\n}];\n</code></pre>\n\n<p>In the above samples, which are correct…?\n**I am using ARC</p>\n"},{"tags":["cocoa-touch","cocoa","frameworks","bundle","libraries"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13191045,"title":"Understanding bundles frameworks and libraries","body":"<p>I'm developing ios B2B app and I have  several questions regarding app modularization.</p>\n\n<p>Firstly i need to understand main difference between bundles and frameworks. When to use bundles and when frameworks.</p>\n\n<p>Another question is. Is it possible for bundle to contain a .framework inside in it and vice versa.</p>\n\n<p>Is it possible to create a plugins for ios app and load them dynamically, if yes then what it should be? bundle framework or library?</p>\n\n<p>Is it possible for library to contain a resource files ? </p>\n\n<p>Is it possible to create a resource bundle and dynamic library and then load them dynamically at runtime.</p>\n"},{"tags":["cocoa","xcode4","frameworks"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":73,"score":1,"question_id":10873259,"title":"EDMessage.framework error","body":"<p>I linked my MacOS project to the EDMessage.framework. Now I get this error:</p>\n\n<pre><code>Apple Mach-O Linker (Id) Error:\n\nin /Users/.../EDMessage 17/EDCommon.framework/EDCommon, truncated fat file. Slice from 847872 to 1189136 is past end of file with length 1048576 for architecture x86_64\n</code></pre>\n\n<p>Any idea how to resolve this?</p>\n\n<p>(I using Xcode 4.3.2)</p>\n"},{"tags":["objective-c","cocoa","nsview","nswindow"],"answer_count":5,"favorite_count":2,"up_vote_count":5,"down_vote_count":0,"view_count":2464,"score":5,"question_id":5446928,"title":"Get ALL views and subview of NSWindow","body":"<p>Is there a way I can get ALL the views and subviews and subviews of these subviews (you get the idea...) of an NSWindow?</p>\n\n<p>Thanks.</p>\n"},{"tags":["objective-c","cocoa-touch","cocoa","core-data"],"answer_count":2,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":118,"score":4,"question_id":11486900,"title":"NSOperationQueue designated thread","body":"<p>I want to use an <code>NSOperationQueue</code> to dispatch CoreData operations. However, operation queue behavior is not always the same (e.g. it dispatches using <code>libdispatch</code> on iOS 4.0/OS 10.6 which uses thread pools) and a queue might not always use the same thread (as <code>NSManagedObjectContext</code> requires).</p>\n\n<p>Can I force a serial <code>NSOperationQueue</code> to execute on a single thread?\nOr do I have to create my own simple queuing mechanism for that?</p>\n"},{"tags":["iphone","ios","xcode","cocoa"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":26,"score":2,"question_id":13191941,"title":"Storyboard weird controller view frame origins","body":"<p>I have ran into a weird issue with Xcode-s storyboards.</p>\n\n<p>I have a good amount of view controllers in my board, and for some reason all of their view's origins are not 0. All of x origins are 160 and y origins are 240.</p>\n\n<p><img src=\"http://i.stack.imgur.com/urgeX.png\" alt=\"This is one of the view controller's view\"></p>\n\n<p>All of the views look like they are still on top-left..</p>\n\n<p>Weird thing also is that most of the view controller's subviews seem to have wrong coordinates as well.</p>\n\n<p><img src=\"http://i.stack.imgur.com/ubfhw.png\" alt=\"This is a top view subview\"></p>\n\n<p>Does anyone know what might be the issue here?</p>\n"},{"tags":["objective-c","ios","cocoa","nsthread","foundation"],"answer_count":2,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":52,"score":4,"question_id":13190260,"title":"Using _cmd to perform method on main thread in objective c","body":"<p>I came across this <code>_cmd</code> trick:</p>\n\n<pre><code>-(void)methodToBeRunOnMainThreadWithObj:(id)object {\n    if (![NSThread isMainThread) {\n        [self performSelectorOnMainThread:_cmd withObject:object]\n    } else {\n        // ... method body\n    }\n}\n</code></pre>\n\n<p>Is this a reliable way to ensure a method is performed on the main thread?</p>\n"},{"tags":["cocoa","mvc","architecture"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":13,"score":1,"question_id":13190025,"title":"Coordination between classes in Cocoa","body":"<p>I have a program with a lot of controllers which need to co - ordinate with each other . I'm confused about which mechanism to use . What are the pro and con of using :</p>\n\n<ul>\n<li>Delegate</li>\n<li>Bindings</li>\n<li>Notifications</li>\n<li>Key Value observing</li>\n</ul>\n\n<p>Specifically is there any problem with using notifications all over place ? I'm planning to do that as it allows a class to just put out some information and not bother about anything else.</p>\n"},{"tags":["objective-c","cocoa","cocoa-bindings","key-value-observing","nstextfield"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":58,"score":1,"question_id":13170217,"title":"Use KVO for NSTextFields that are bound together","body":"<p>I'm having trouble getting KVO working with text fields that are bound together in a Cocoa app. I have gotten this to work when setting strings in NSTextFields with buttons but it is not working with bindings. As always, any help from Stack Overflow would be greatly appreciated.</p>\n\n<p>Purpose of my code is to:</p>\n\n<ul>\n<li><p>bind several text fields together</p></li>\n<li><p>when a number is input in one field, have the other fields automatically update</p></li>\n<li><p>observe the changes in the text fields</p></li>\n</ul>\n\n<p>Here's my code for MainClass which is an NSObject subclass:</p>\n\n<pre><code>#import \"MainClass.h\"\n\n@interface MainClass ()\n\n@property (weak) IBOutlet NSTextField *fieldA;\n@property (weak) IBOutlet NSTextField *fieldB;\n@property (weak) IBOutlet NSTextField *fieldC;\n\n@property double numA, numB, numC;\n\n@end\n\n@implementation MainClass\n\nstatic int MainClassKVOContext = 0;\n\n- (void)awakeFromNib {\n    [self.fieldA addObserver:self forKeyPath:@\"numA\" options:0 context:&amp;MainClassKVOContext];\n    [self.fieldB addObserver:self forKeyPath:@\"numB\" options:0 context:&amp;MainClassKVOContext];\n    [self.fieldC addObserver:self forKeyPath:@\"numC\" options:0 context:&amp;MainClassKVOContext];\n}\n\n- (void)observeValueForKeyPath:(NSString *)keyPath ofObject:(id)object change:(NSDictionary *)change context:(void *)context {\n    if (context != &amp;MainClassKVOContext) {\n        [super observeValueForKeyPath:keyPath ofObject:object change:change context:context];\n        return;\n    }\n\n    if (object == self.fieldA) {\n        if ([keyPath isEqualToString:@\"numA\"]) {\n            NSLog(@\"fieldA length = %ld\", [_fieldA.stringValue length]);\n        }\n    }\n\n    if (object == self.fieldB) {\n        if ([keyPath isEqualToString:@\"numB\"]) {\n            NSLog(@\"fieldB length = %ld\", [_fieldB.stringValue length]);\n        }\n    }\n\n    if (object == self.fieldC) {\n        if ([keyPath isEqualToString:@\"numC\"]) {\n            NSLog(@\"fieldC length = %ld\", [_fieldC.stringValue length]);\n        }\n    }\n}\n\n+ (NSSet *)keyPathsForValuesAffectingNumB {\n    return [NSSet setWithObject:@\"numA\"];\n}\n\n+ (NSSet *)keyPathsForValuesAffectingNumC {\n    return [NSSet setWithObject:@\"numA\"];\n}\n\n- (void)setNumB:(double)theNumB {\n    [self setNumA:theNumB * 1000];\n}\n\n- (double)numB {\n    return [self numA] / 1000;\n}\n\n- (void)setNumC:(double)theNumC {\n    [self setNumA:theNumC * 1000000];\n}\n\n- (double)numC {\n    return [self numA] / 1000000;\n}\n\n- (void)setNilValueForKey:(NSString*)key {\n    if ([key isEqualToString:@\"numA\"]) return [self setNumA: 0];\n    if ([key isEqualToString:@\"numB\"]) return [self setNumB: 0];\n    if ([key isEqualToString:@\"numC\"]) return [self setNumC: 0];\n    [super setNilValueForKey:key];\n}\n\n@end\n</code></pre>\n\n<p>And here is the binding for one of the text fields:\n<img src=\"http://i.stack.imgur.com/XCeO7.png\" alt=\"enter image description here\"></p>\n"},{"tags":["cocoa"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":36,"score":2,"question_id":13171431,"title":"why does the number of bytes of an image changes when I use UIImageJPEGRepresentation method?","body":"<p>I am trying to send an image file from client(Mac) to server(UNIX) using sockets. I am using a image file which is 10.2 KB size and having a 16 KB size on disk. When i am converting this image into NSData and sequentially into bytes, using the method UIImageJPEGRepresentation(image, 1.0), the no of bytes that are being transferred to the server is around 55 KB. At the same time, if i am using 0.95 as the compressionQuality, the size drops to 22 KB.\nThe funniest part is, for a smaller image of around 3400 bytes (4 KB on disk), the image is getting transferred only when i give the compressionQuality as 1.0 (sending 9300 bytes)and not getting transferred when giving 0.75 and this is exactly opposite case with the larger file which gets transferred at 0.75 and not at 1.0</p>\n\n<p>Any help is appreciated and Thanks in advance </p>\n\n<p>I have been using UIImageJPEGRepresentation for converting the image into NSData and intern getting bytes from that image and sending it through socket. Is this not the right way to send an Image file? If not, kindly guide me in the right path.</p>\n"},{"tags":["osx","cocoa","nstableview","nstablecellview"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":9,"score":0,"question_id":13188681,"title":"Table cell's selection tint is showing behind the cell view","body":"<p>Working on a OSX project. It has been found that when a cell is selected in a NSTableView , the selection highlight is drawn behind the cell view. Why this could be happening?, How can be fix it?</p>\n"},{"tags":["cocoa","layer","drawrect","nsimage","nsbezierpath"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13188139,"title":"Advice for image overlay","body":"<p>I'm looking for some advice on how to proceed.</p>\n\n<p>I'm working on a cocoa program (Objective-C) where I want to be able to draw over top of a bitmap image, defining areas that I can use to get information from the underlying image.</p>\n\n<p>As an example, I'd like to create a box (or oval) and be able to get the average pixel value from the underlying image.  Ultimately I want to designate a number of such regions where I am sampling the underlying image to provide various statistics.</p>\n\n<p>Currently I'm using an NSImage class to draw my image but I'm not sure how to go about drawing an NSBezierPath over that image.  Would I be better off using something other than NSImage?</p>\n\n<p>Do I simply override the NSImage drawRect method so that it draws a series of NSBezierPath objects?</p>\n\n<p>I would like to be able to save these outlined regions as a layer so that they are available in the future.</p>\n"},{"tags":["objective-c","cocoa","nsstring","nsrange"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":25,"score":1,"question_id":13187644,"title":"How do you read a string until a chosen string is found?","body":"<p>I have a string, NewString, that I want to only display text before the characters \"Choices:\". I only want to display the text <em>before</em> those characters. I tried this but obivously it didnt work. Any suggestions?</p>\n\n<pre><code>NewString = [NewString substringWithRange:NSMakeRange(0, @\"Chocies:\"];\n</code></pre>\n"},{"tags":["objective-c","cocoa","nstableview","nstablecolumn"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":287,"score":0,"question_id":7129942,"title":"How to set second column text of NSTableView?","body":"<p>I've encountered a problem while creating an NSTableView with 2 columns.</p>\n\n<p>How do you set the value of the a row's corresponding column?\nI would like to have <code>colText</code> to be in the row's column, but it seems nearly impossible to achieve.</p>\n\n<p>Here's the code:</p>\n\n<pre><code> - (id)tableView:(NSTableView *)aTableView objectValueForTableColumn:(NSTableColumn *)aTableColumn row:(int)rowIndex {\n    uint32_t size = *((uint32_t *)[[itemSizes objectAtIndex:rowIndex] bytes]);\n    NSString *colText = [NSString stringWithFormat:@\"%d bytes\", size];\n\n    return [objNames objectAtIndex:rowIndex];\n}\n</code></pre>\n\n<p>I would like <code>[objNames objectAtIndex:rowIndex]</code> to be in the left column, which it is, and <code>colText</code> on the right?</p>\n\n<p>I'm a bit stuck.</p>\n\n<p>Any help appreciated.</p>\n"},{"tags":["iphone","objective-c","ios","cocoa"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":151,"score":3,"question_id":9579295,"title":"NSString stringWithString VS @\"string\"","body":"<p>I was just curious, is there any difference between the following two codes?</p>\n\n<p>NSString *aString = [NSString stringWithString:@\"a string\"];</p>\n\n<p>NSString *aString = @\"a string\";</p>\n\n<p>I wonder what exactly is going on when you do the latter way.</p>\n"},{"tags":["cocoa","core-data","magicalrecord"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13181662,"title":"MagicalRecord in a static library: how do I load the data model?","body":"<p>I'm trying to use MagicalRecord with a data model in a static library.\nWhen I just call</p>\n\n<pre><code>[MagicalRecord setupCoreDataStackWithAutoMigratingSqliteStoreNamed:@\"db.sqlite\"];\n</code></pre>\n\n<p>in the library, it doesn't seem to load the data model. A call to </p>\n\n<pre><code>[TheObject MR_createEntity];\n</code></pre>\n\n<p>will throw an exception:</p>\n\n<pre><code>could not locate an entity named 'TheObject' in this model.'\n</code></pre>\n\n<p>How do I load the model I want to use? \nAn overview of the project layout:</p>\n\n<p><img src=\"http://i.stack.imgur.com/YP0vb.png\" alt=\"project layout\"></p>\n\n<p>I figure MR tries to load the model from the main bundle by default?</p>\n\n<pre><code>[MagicalRecord setDefaultModelNamed:@\"TheModel.xcdatamodeld\"];\n</code></pre>\n\n<p>will also not find it.\nAnd if I try to copy the library's model resource file into the main project, Xcode complains by crashing.</p>\n"},{"tags":["osx","cocoa","accessibility","accessibility-api"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":53,"score":0,"question_id":13006500,"title":"Enable access for assistive devices programmatically","body":"<p>I want to enable access for assistive devices programmatically. </p>\n\n<p>Have another way to do this that not use </p>\n\n<pre><code>NSURL *prefPaneURL = [NSURL fileURLWithPath:[[paths objectAtIndex:0] stringByAppendingPathComponent:@\"UniversalAccessPref.prefPane\"]];\n            [[NSWorkspace sharedWorkspace] openURL:prefPaneURL];\n</code></pre>\n\n<p>to open System Preferences?</p>\n"},{"tags":["cocoa","foundation","objective-c-runtime","dynamic-allocation","static-allocation"],"answer_count":3,"favorite_count":1,"up_vote_count":7,"down_vote_count":0,"view_count":466,"score":7,"question_id":5844284,"title":"Why do Objective-C objects have to be dynamically allocated?","body":"<p>Why do Objective-c objects have to be dynamically allocated? Why do I have to make it a pointer to an object, unlike in C++ I can create them on stack?\nThanks.</p>\n"},{"tags":["c#","osx","cocoa","mono","monomac"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13185389,"title":"Print line numbers on MonoMac application stack traces","body":"<p>I have a MonoMac application and would like to see what line caused the exception. All my stack traces are like this:</p>\n\n<pre><code>[ERROR] FATAL UNHANDLED EXCEPTION: System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation. ---&gt; System.Exception: I am going to crash now.\n  atSync.MacConfiguration..ctor (System.String destinationPath, IDatabasePathGenerator pathGenerator) [0x00000] in &lt;filename unknown&gt;:0 \n  at Sync.MacConfiguration..ctor () [0x00000] in &lt;filename unknown&gt;:0 \n  at (wrapper managed-to-native) System.Reflection.MonoCMethod:InternalInvoke (System.Reflection.MonoCMethod,object,object[],System.Exception&amp;)\n  at System.Reflection.MonoCMethod.Invoke (System.Object obj, BindingFlags invokeAttr, System.Reflection.Binder binder, System.Object[] parameters, System.Globalization.CultureInfo culture) [0x00000] in &lt;filename unknown&gt;:0 \n  --- End of inner exception stack trace ---\nat System.Reflection.MonoCMethod.Invoke (object,System.Reflection.BindingFlags,System.Reflection.Binder,object[],System.Globalization.CultureInfo) &lt;0x001f3&gt;\nat System.Reflection.MonoCMethod.Invoke (System.Reflection.BindingFlags,System.Reflection.Binder,object[],System.Globalization.CultureInfo) &lt;0x00024&gt;\nat System.Reflection.ConstructorInfo.Invoke (object[]) &lt;0x00042&gt;\nat System.Activator.CreateInstance (System.Type,bool) &lt;0x001d3&gt;\nat System.Activator.CreateInstance (System.Type) &lt;0x00013&gt;\nat Sync.ConfigurationSection.get_Configuration () &lt;0x00043&gt;\nat Sync.Configuration.LoadFromXML (string) &lt;0x000cf&gt;\nat Sync.Configuration.get_Default () &lt;0x0005f&gt;\nat Sync.Mac.AppDelegate..ctor () &lt;0x00037&gt;\nat (wrapper dynamic-method) object.905edfe4-e0b5-4f92-955e-4e10c991fb3a (intptr,MonoMac.ObjCRuntime.Selector) &lt;0x00057&gt;\nat (wrapper native-to-managed) object.905edfe4-e0b5-4f92-955e-4e10c991fb3a (intptr,MonoMac.ObjCRuntime.Selector) &lt;0x0006f&gt;\nat (wrapper managed-to-native) MonoMac.AppKit.NSApplication.NSApplicationMain (int,string[]) &lt;0x00003&gt;\nat MonoMac.AppKit.NSApplication.Main (string[]) &lt;0x0003f&gt;\nat Sync.Mac.MainClass.Main (string[]) &lt;0x000e7&gt;\n</code></pre>\n\n<p>I have tried copying the <code>.mdb</code> files to the <code>Contents/MonoBundle</code> folder, but I still don't see line numbers on my stack traces.</p>\n\n<p>Any hints on how to solve this?</p>\n"},{"tags":["cocoa","core-data","fault"],"answer_count":3,"favorite_count":4,"up_vote_count":10,"down_vote_count":0,"view_count":788,"score":10,"question_id":8637444,"title":"Core Data -existingObjectWithID:error: causes error 133000","body":"<p>My app uses Core Data (with some help of Magical Record) and is rather heavily multithreaded using <code>NSOperation</code>.</p>\n\n<p>Of course I am very careful to only pass around <code>NSManagedObjectID</code> between threads/operations.</p>\n\n<p>Now, to get back to the corresponding managed object in an operation, I use <code>-existingObjectWithID:error:</code> thus:</p>\n\n<pre><code>Collection *owner = (Collection *)[localContext existingObjectWithID:self.containerId error:&amp;error];\n</code></pre>\n\n<p>But what I get back is nil and <code>error</code> says this is an error #13300: <code>NSManagedObjectReferentialIntegrityError</code>.</p>\n\n<p>Here is what the documentation says about this error:</p>\n\n<pre><code>NSManagedObjectReferentialIntegrityError\nError code to denote an attempt to fire a fault pointing to an object that does not exist.\nThe store is accessible, but the object corresponding to the fault cannot be found.\n</code></pre>\n\n<p>Which is not true in my case: that object exists. Indeed, If I iterate through all instances of that <code>Collection</code> entity with an <code>NSFetchRequest</code>, I find it among them, and its <code>NSManagedObjectID</code> is exactly the one I passed to <code>-existingObjectWithID:error:</code>.</p>\n\n<p>Moreover, if I use <code>-objectWithID:</code> instead, I get a correct object back just fine.</p>\n\n<p>So there is something I'm missing. Here are a few additional observations/questions:</p>\n\n<ul>\n<li>\"an object that does not exist\": what it the meaning of \"exist\" in that sentence? \"exist\" where? It definitely \"exists\" in my Core Data store at that point.</li>\n<li>\"the object corresponding to the fault cannot be found\": what it the meaning of \"found\" in that sentence? \"found\" where? It definitely \"be found\" in my Core Data store at that point.</li>\n</ul>\n\n<p>So maybe I am missing something regarding what <code>existingObjectWithID:error:</code> does? The documentation says:</p>\n\n<pre><code>If there is a managed object with the given ID already registered in the context, that object is returned directly; otherwise the corresponding object is faulted into the context.\n[...]\nUnlike objectWithID:, this method never returns a fault.\n</code></pre>\n\n<p>This doesn't help my issue. I don't mind getting my object fully faulted, and not a fault. In fact, any fault within it will fire on the next code line when I access the object properties.</p>\n\n<ul>\n<li>What would be a realistic scenario leading to an <code>NSManagedObjectReferentialIntegrityError</code>?</li>\n</ul>\n\n<p>Thanks for any enlightenment.</p>\n"},{"tags":["objective-c","cocoa","screenshot"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13185615,"title":"Cocoa OSX magnifying glass effect","body":"<p>I am working on an application that requires careful onscreen positioning of elements -- I was wondering if it's possible to read the pixels on the screen as they would appear if the elements that are being moved did not exist? (IE, I have some icons that move around, and I want to see what the pixel values are behind those icons)</p>\n\n<p>And, continuing form that, what would be the best way to turn around and display those pixels in an NSView drawRect override (presumably scaled up so that the user can see them with more ease)</p>\n\n<p>If possible, I would like to keep the pixels sharp -- no blurring between the pixels when they get zoomed, but if this is a requirement of any technique you may know, do not hesitate to share</p>\n"},{"tags":["cocoa","binding","nsbutton","nscollectionview"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":6,"score":0,"question_id":13184012,"title":"How to set the action of a NSButton in a binding scenario?","body":"<p>I have a button that is inside a view repeated inside a NSCollectionView. I can bind the title of the button to one of the properties in my model class but I want to wire the selector of the button to one of the selectors in my model class. Obviously, the button must send the message to the model object associated with the corresponding collection view item.\nI managed to bind the target for the button but how to set the selector? I want to do that in Interface Builder if possible...</p>\n"},{"tags":["objective-c","xcode","cocoa","storyboard","viewcontroller"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13183413,"title":"Open ViewController right after viewDidLoad without .xib file","body":"<p>I'm working with Storyboards so as far as I know I have not xib files. What I want to do is: when the app launches, I want to check if anything has been written to the db in the past and, if not, open a view, which is not the standard view. (Because if the db is not empty, a other view should be opened as it is standard view.)</p>\n\n<p>What I've tried so far: (in viewDidLoad / viewDidAppear)</p>\n\n<pre><code>ViewController *vs = [Viewcontroller new];\n[self presentViewController:vs animated:YES completion:nil];\n</code></pre>\n\n<p>This leads to a black screen. Nothings happens, it just stays black.\nNext I tried to perform a segue but this results in a view opening itself again and again.</p>\n\n<p>Is there a common / standard way to do this?</p>\n\n<p>Thank you very much!</p>\n"},{"tags":["objective-c","cocoa","nsarraycontroller"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":26,"score":1,"question_id":13181387,"title":"NSArrayController why this doesn't work?","body":"<p>I am trying to write a routine that imports from a tab-delimited file hundreds of customers records into a NSArrayController.</p>\n\n<p>This is my initial code:</p>\n\n<pre><code>NSString *stringFromFile = [NSString stringWithContentsOfFile:[fileURL path]\n                                encoding:NSUTF8StringEncoding error:&amp;error];\nNSArray *paragraphsArray = [stringFromFile componentsSeparatedByString:@\"\\r\"];\nNSMutableDictionary *destDict = [[NSMutableDictionary alloc] init];\n\nint i;\nfor (i = 0; i &lt;= [paragraphsArray count]-1; i++) {\n    NSString *currentParagraph = [paragraphsArray objectAtIndex:i];\n    if ([currentParagraph length ] &gt; 4) {\n        NSArray *elementsArray = [currentParagraph componentsSeparatedByString:@\"\\t\"];\n        if ([elementsArray count] &gt; 0) {\n            currentSerial++;\n            [destDict setObject:[NSString stringWithFormat:@\"%ld\",currentSerial]\n                         forKey:@\"idSerial\"];\n            [destDict setObject:[elementsArray objectAtIndex:1]\n                         forKey:@\"destRazaoSocial\"];\n            [destDict setObject:[elementsArray objectAtIndex:2]\n                         forKey:@\"destLogradouro\"];\n            [destDict setObject:[elementsArray objectAtIndex:3]\n                         forKey:@\"destLogradouroNro\"];\n            /// repeat this for every field...\n            //Add the record:\n            [destArrayController addObject:destDict];\n        }\n    }\n}\n</code></pre>\n\n<p>This code causes the records to be inserted wrongly, if I have 4 records in an example, the four records inserted will have the same content as the last record.</p>\n\n<p>But if I change the code to this, allocing destDict and trashing it on every loop, it works:</p>\n\n<pre><code>NSString *stringFromFile = [NSString stringWithContentsOfFile:[fileURL path]\n                                   encoding:NSUTF8StringEncoding error:&amp;error];\nNSArray *paragraphsArray = [stringFromFile componentsSeparatedByString:@\"\\r\"];\nint i;\nfor (i = 0; i &lt;= [paragraphsArray count]-1; i++) {\n    NSString *currentParagraph = [paragraphsArray objectAtIndex:i];\n    if ([currentParagraph length ] &gt; 4) {\n        NSArray *elementsArray = [currentParagraph componentsSeparatedByString:@\"\\t\"];\n        if ([elementsArray count] &gt; 0) {\n            NSMutableDictionary *destDict = [[NSMutableDictionary alloc] init];\n            currentSerial++;\n            [destDict setObject:[NSString stringWithFormat:@\"%ld\",currentSerial]\n                         forKey:@\"idSerial\"];\n            [destDict setObject:[elementsArray objectAtIndex:1]\n                         forKey:@\"destRazaoSocial\"];\n            [destDict setObject:[elementsArray objectAtIndex:2]\n                         forKey:@\"destLogradouro\"];\n            [destDict setObject:[elementsArray objectAtIndex:3]\n                         forKey:@\"destLogradouroNro\"];\n            /// repeat this for every field...\n            //Add the record:\n            [destArrayController addObject:destDict];\n            [destDict release];\n        }\n    }\n}\n</code></pre>\n\n<p>This works, but it doesn't look elegant to me.\nWould you be so kind to show me the correct way to do this?</p>\n"},{"tags":["iphone","objective-c","cocoa","cocos2d"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":1076,"score":2,"question_id":692609,"title":"Cocos 2d & CGPoint confusion in Landscape Mode","body":"<p>all, me again with another noob Cocos2d iphone question. </p>\n\n<p>I've set my Director to Landscape, but when I was looking at the coordinates of the 'Touch Event' it was still picking them up as though the screen was portrait. So they were basically reversed. </p>\n\n<pre><code>x = 100, y = 50\n</code></pre>\n\n<p>should have been </p>\n\n<pre><code>x = 50, y = 100\n</code></pre>\n\n<p>No biggie, it was easily fixed by creating a new CGPoint and swapping the values around. However, it feels like there should be some neater way to do this. But I've not been able to find any reference to it. Is this the only way to do it or is there something built into Cocoa Touch or Cocos2d to fix this.</p>\n\n<p>off topic: My God, iPhone is such a nice platform to develop for. And Obj-C is as cool as a cucumber. Sorry I just had to get that out of my system, non of my friends are programmers. They don't understand the pain of Internet explorer.</p>\n"},{"tags":["iphone","cocoa","osx","video-streaming"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":685,"score":1,"question_id":2663608,"title":"Open source Mac video streaming server solutions?","body":"<p>In my application, I want to stream videos shot on an iPhone, *.movie files, from a server running on a Mac desktop to an iPhone or iPad client.  What are some possible open source servers that do this that are small enough to be shipped or embedded with a downloadable Mac app?  There is a product StreamToMe by Matt Gallagher that does this.  I noticed a lot of open source alternatives like ffmpeg, VideoLan, and the like but I not sure which one would be good for the Mac.</p>\n"},{"tags":["cocoa","osx"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":172,"score":3,"question_id":6288772,"title":"How to emulate the cmd-shift-4 screen capture interface?","body":"<p>I am building an OSX app and would like to capture a portion of the screen with a similar interface as the cmd-shift-4 UX, IE initiating the action:</p>\n\n<ol>\n<li>presents a mouse cursor</li>\n<li>mouseDown and drag, mouseUp captures the screen coordinates while drawing a translucent overlay to denote the area being captured</li>\n</ol>\n\n<p>I've found a good starting point in <a href=\"http://code.google.com/p/captureme/\" rel=\"nofollow\">http://code.google.com/p/captureme/</a> which presents an NSPanel and captures the area within the panel. However I'd like do a bit better and emulate the cmd-shift-4 interface.</p>\n\n<p>I can't find if something like this is built in (or if there's an existing solution). I suppose the straight forward way is to use an NSResponder and replace the cursor on mouseDown, then on a mouse drag event draw a translucent rectangle between the mouseDown point and the current cursor location. Let me know if my thinking is along the correct lines.</p>\n\n<p>Thanks!</p>\n"},{"tags":["cocoa","nswindow","spaces","apple-expose"],"answer_count":1,"favorite_count":3,"up_vote_count":14,"down_vote_count":0,"view_count":227,"score":14,"question_id":8285137,"title":"NSWindow with NSWindowCollectionBehaviorStationary is visible on the Dashboard. Is this a bug?","body":"<p>I'm trying to get my <code>NSWindow</code> to:</p>\n\n<ol>\n<li>Be visible on all Spaces</li>\n<li>Be visible when showing the Desktop (by pressing <code>F11</code>) </li>\n<li>Not be visible in Mission Control/Expose</li>\n</ol>\n\n<p>The following does exactly that, but with a side effect:</p>\n\n<pre><code>[self setCollectionBehavior: NSWindowCollectionBehaviorCanJoinAllSpaces\n                            | NSWindowCollectionBehaviorStationary ];\n</code></pre>\n\n<p>When switching to the Dashboard on Mac OS X Lion, the window remains visible alone with Dashboard items for a second, then it is hidden.</p>\n\n<p>Is this expected behavior or a bug? Users of my app find it confusing to see the window on the Dashboard before they disappear. I would have expected them to only show on Spaces and not the Dashboard.</p>\n"},{"tags":["objective-c","cocoa","core-graphics"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":99,"score":3,"question_id":12825343,"title":"Gap between clipping regions","body":"<p>I'm drawing a lot of trapezoids filled with a NSGradient. I expect them to join seamlessly, which is not the case. In this case, I would prefer to use clipping instead of explicitly filling a NSBezierPath with a gradient.</p>\n\n<p><img src=\"http://i.stack.imgur.com/J9Uoe.png\" alt=\"Gap between two clipped regions\"></p>\n\n<p>Here is  the incriminated code:</p>\n\n<pre><code>-(void)drawRect:(NSRect)dirtyRect {\n    [[NSColor blackColor]set];\n    NSRectFill(self.bounds);\n\n    NSPoint v0 =  NSMakePoint(100,100);\n    NSPoint v1 =  NSMakePoint(200,100);\n    NSPoint v2 =  NSMakePoint(100,200);\n    NSPoint v3 =  NSMakePoint(200,200);\n    NSPoint v4 = NSMakePoint(150, 150);\n\n    NSBezierPath * triangle0 = [NSBezierPath bezierPath];\n    [triangle0 moveToPoint:v0];\n    [triangle0 lineToPoint:v1];\n    [triangle0 lineToPoint:v2];\n    [triangle0 closePath];\n\n    NSBezierPath * triangle1 = [NSBezierPath bezierPath];\n    [triangle1 moveToPoint:v1];\n    [triangle1 lineToPoint:v2];\n    [triangle1 lineToPoint:v3];\n    [triangle1 closePath];\n\n    NSGradient * gradient = [[NSGradient alloc] initWithColorsAndLocations:[NSColor whiteColor],0.0,[NSColor orangeColor],1.0,nil];\n\n    [NSGraphicsContext saveGraphicsState];\n    [triangle0 addClip];\n    [gradient drawFromPoint:v0 toPoint:v4 options:NSGradientDrawsAfterEndingLocation|NSGradientDrawsBeforeStartingLocation];\n     //   [gradient drawFromPoint:v0 toPoint:v4 options:0];\n\n    [NSGraphicsContext restoreGraphicsState];\n\n    [NSGraphicsContext saveGraphicsState];\n    [triangle1 addClip];\n    [gradient drawFromPoint:v3 toPoint:v4 options:NSGradientDrawsAfterEndingLocation|NSGradientDrawsBeforeStartingLocation];\n\n    //[gradient drawFromPoint:v3 toPoint:v4 options:0];\n\n    [NSGraphicsContext restoreGraphicsState];\n</code></pre>\n\n<p>What should  I do to avoid the gap between the two triangles ?</p>\n\n<p>Edit:\nHere is an attempt to go around this problem by explicitely filling NSBezierPath.</p>\n\n<pre><code>-(void)drawRect:(NSRect)dirtyRect {\n[[NSColor blackColor]set];\nNSRectFill([self bounds]);\n\nCGContextRef c = [[NSGraphicsContext currentContext] graphicsPort];\nCGContextTranslateCTM(c, 0.5, 0.5);\n\nNSPoint v0 =  NSMakePoint(100,100);\nNSPoint v1 =  NSMakePoint(200,100);\nNSPoint v2 =  NSMakePoint(100,200);\nNSPoint v3 =  NSMakePoint(200,200);\n\nNSBezierPath * triangle0 = [NSBezierPath bezierPath];\n[triangle0 moveToPoint:v0];\n[triangle0 lineToPoint:v1];\n[triangle0 lineToPoint:v2];\n[triangle0 closePath];\n\nNSBezierPath * triangle1 = [NSBezierPath bezierPath];\n[triangle1 moveToPoint:v1];\n[triangle1 lineToPoint:v2];\n[triangle1 lineToPoint:v3];\n[triangle1 closePath];\n\n[[NSColor whiteColor]set];\n\nNSGradient * gradient = [[NSGradient alloc] initWithColorsAndLocations:[NSColor whiteColor],0.0,[NSColor orangeColor],1.0,nil];\n[gradient drawInBezierPath:triangle0 angle:45];\n[gradient drawInBezierPath:triangle1 angle:45+180];\n\nNSBezierPath  * seam = [ NSBezierPath bezierPath]; [seam moveToPoint:v1]; [seam lineToPoint:v2];\n[[NSColor orangeColor]set]; [seam stroke];\n\nNSGradient * gradient2 = [[NSGradient alloc] initWithColorsAndLocations:[NSColor whiteColor],0.0,[NSColor orangeColor],0.5,[NSColor whiteColor],1.0,nil];\nNSBezierPath * squarePath = [NSBezierPath bezierPath];\n[squarePath moveToPoint:v0];\n[squarePath lineToPoint:v1];\n[squarePath lineToPoint:v3];\n[squarePath lineToPoint:v2];\n[squarePath closePath];\nCGContextTranslateCTM(c, 200, 0);\n[gradient2 drawInBezierPath:squarePath angle:45];\n}\n</code></pre>\n\n<p><img src=\"http://i.stack.imgur.com/fh57e.png\" alt=\"A seam between the two paths\"></p>\n\n<p>On the left, two triangles filled with the same NSGradient. \nOn the right, a square filled with an NSGradient, the goal I'm trying to reach. \nThe seam is an attempt to hide the black line between the two NSBezierPath, but it doesn't really work. In this case, it is barely visible, but it will be visible if I draw a large amount of such triangles.</p>\n\n<p><strong>Edit for Rengers answer:</strong></p>\n\n<p>Here is how it looks without antialiasing:</p>\n\n<p><img src=\"http://i.stack.imgur.com/AAKRW.png\" alt=\"No antialiasing, but the problem has moved\"></p>\n\n<p>Technically, this is the good answer, but now the problem is that, unsurprisingly, the edge of the polygon are not longer antialiased. Any idea how I could remove the gap between the clipping regions, without losing the antialiasing on the edges ?</p>\n"},{"tags":["objective-c","osx","cocoa","avfoundation","osx-mountain-lion"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13172096,"title":"Why does Cocoa view order overlaying behave strangely with AVCaptureVideoPreviewLayer in OSX?","body":"<p>I have a view controller controlling a main view with to sibling subviews. One is a view I call overlayView that has some buttons and labels and things from IB. The other is one called captureLayer that I programmatically add to hold an AVCaptureVideoPreviewLayer from a webcam. For some reason I can't get the overlay layer to show on top of the preview layer.</p>\n\n<p>This doesn't work:</p>\n\n<pre><code>capturePreviewLayer = [[AVCaptureVideoPreviewLayer alloc] initWithSession:captureSession];\n[self setCaptureView:[[NSView alloc] initWithFrame:[[self view] bounds]]];\n// I know the order here is important and I think this is right\n[[self captureView] setLayer:capturePreviewLayer];\n[[self captureView] setWantsLayer:YES];\n[[self view] addSubview:[self captureView] positioned:NSWindowBelow relativeTo:[self overlayView]];\n[captureSession startRunning];\n</code></pre>\n\n<p>But I found out that putting the capturePreviewLayer in the main view, so the overlayView is a child instead of sibling to its view, does work:</p>\n\n<pre><code>capturePreviewLayer = [[AVCaptureVideoPreviewLayer alloc] initWithSession:captureSession];\n[[self view] setLayer:capturePreviewLayer];\n[[self view] setWantsLayer:YES];\n[captureSession startRunning];\n</code></pre>\n\n<p>Any idea why? I've even done a very analogous thing using UIViews in iOS and didn't see anything weird like this.</p>\n"},{"tags":["objective-c","cocoa"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":17,"score":1,"question_id":13179627,"title":"Using libqrencode library","body":"<p>I loaded libqrencode library in my cocoa project but not sure how to use it exactly, i have a text feild that you type in it a text once done you click a button and i log that text with NSLog, now i want to encode that text to be able to use it later and generate a qrcode out of it so in the manual its saying to use this format</p>\n\n<pre><code>QRcode* QRcode_encodeString (const char * string,\n                int version,\n                QRecLevel level,\n                QRencodeMode hint,\n                int casesensitive \n)\n</code></pre>\n\n<p>am not sure how to use that in my method to log the resutls as well</p>\n\n<pre><code>- (IBAction)GenerateCode:(id)sender {\n\nNSString *urlText = [[NSString alloc] initWithFormat:@\"%@\", [_urlField stringValue]];\n\nNSLog(@\"The url is %@\", urlText); \n\n}\n</code></pre>\n\n<p>am kind of new to the whole obj c and cocoa so please bare with me if my question is a bit silly ...</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["cocoa","app-store","code-signing","helpers","monomac"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":53,"score":1,"question_id":13173206,"title":"Mac app store helper tool Sandboxing","body":"<p>My app consist of two executables</p>\n\n<ul>\n<li>the main app executable</li>\n<li>small console app to process some files, this executable is on Resources folder (no root privileges required)</li>\n</ul>\n\n<p>The thing is that I don't know how to submit this app to appstore, I get the following response from apple</p>\n\n<blockquote>\n  <p>Invalid Signature - the main app bundle appname at path appname.app is signed but the signature is invalid. The following error(s) were reported from codesign:\n  a sealed resource is missing or invalid\n  In architecture: i386</p>\n</blockquote>\n\n<p>If I remove helper app, it bypasses this error, but app won't work at all. Anyone knows a good way or example on how to embed a helper app and sign it corectly to appstore??</p>\n\n<p>Apple docs are not clear on this.</p>\n"},{"tags":["cocoa","core-data","xcode4.2","icloud"],"answer_count":2,"favorite_count":1,"up_vote_count":5,"down_vote_count":0,"view_count":1885,"score":5,"question_id":7768528,"title":"I'm not getting the NSPersistentStoreDidImportUbiquitousContentChangesNotification (with code sample)","body":"<p>I'm trying to learn how to use iCloud with coredata. My target is to sync a single database file on mac/ios. Both my mac and iOS apps seem to be updating iCloud as I can see it under System Preferences->iCloud->Manage ... There's an app named Unknown which everytime I change something on the ios/mac app is getting bigger and bigger. So that makes me think The apps are storing changes to the cloud. The problem is, I'm not getting the <code>NSPersistentStoreDidImportUbiquitousContentChangesNotification</code> when i change something on the other platform.</p>\n\n<p>There's my code (mac app):</p>\n\n<pre><code>- (void)persistentStoreDidImportUbiquitousContentChangesNotification:(NSNotification *)notif\n{\n    NSLog(@\"%@\", notif);\n}\n\n- (NSURL *)applicationFilesDirectory\n{\n    NSString *identifier = [[[NSBundle mainBundle] infoDictionary] objectForKey:@\"CFBundleIdentifier\"];\n    NSFileManager *fileManager = [NSFileManager defaultManager];\n    NSURL *libraryURL = [[[fileManager URLsForDirectory:NSLibraryDirectory inDomains:NSUserDomainMask] lastObject] URLByAppendingPathComponent:identifier];\n\n    if(![fileManager fileExistsAtPath:[libraryURL path]])\n    {\n        [fileManager createDirectoryAtPath:[libraryURL path] withIntermediateDirectories:YES attributes:nil error:nil];\n    }\n\n    return libraryURL;\n}\n\n- (NSManagedObjectModel *)managedObjectModel\n{\n    if (__managedObjectModel)\n    {\n        return __managedObjectModel;\n    }\n\n    NSURL *modelURL = [[NSBundle mainBundle] URLForResource:@\"MyApp\" withExtension:@\"momd\"];\n    __managedObjectModel = [[NSManagedObjectModel alloc] initWithContentsOfURL:modelURL];    \n    return __managedObjectModel;\n}\n\n- (NSPersistentStoreCoordinator *)persistentStoreCoordinator\n{\n    if (__persistentStoreCoordinator)\n    {\n        return __persistentStoreCoordinator;\n    }\n\n    NSManagedObjectModel *mom = [self managedObjectModel];\n    if (!mom)\n    {\n        NSLog(@\"%@:%@ No model to generate a store from\", [self class], NSStringFromSelector(_cmd));\n        return nil;\n    }\n\n    NSFileManager *fileManager = [NSFileManager defaultManager];\n    NSURL *applicationFilesDirectory = [self applicationFilesDirectory];\n    NSError *error = nil;\n\n    NSDictionary *properties = [applicationFilesDirectory resourceValuesForKeys:[NSArray arrayWithObject:NSURLIsDirectoryKey] error:&amp;error];\n\n    if (!properties)\n    {\n        BOOL ok = NO;\n        if ([error code] == NSFileReadNoSuchFileError)\n        {\n            ok = [fileManager createDirectoryAtPath:[applicationFilesDirectory path] withIntermediateDirectories:YES attributes:nil error:&amp;error];\n        }\n        if (!ok)\n        {\n            [[NSApplication sharedApplication] presentError:error];\n            return nil;\n        }\n    }\n    else\n    {\n        if ([[properties objectForKey:NSURLIsDirectoryKey] boolValue] != YES)\n        {\n            NSString *failureDescription = [NSString stringWithFormat:@\"Expected a folder to store application data, found a file (%@).\", [applicationFilesDirectory path]]; \n\n            NSMutableDictionary *dict = [NSMutableDictionary dictionary];\n            [dict setValue:failureDescription forKey:NSLocalizedDescriptionKey];\n            error = [NSError errorWithDomain:@\"YOUR_ERROR_DOMAIN\" code:101 userInfo:dict];\n\n            [[NSApplication sharedApplication] presentError:error];\n            return nil;\n        }\n    }\n\n    NSString *appBundleID = [[NSBundle mainBundle] bundleIdentifier];\n    NSURL *storeURL = [applicationFilesDirectory URLByAppendingPathComponent:@\"MyApp.sqlite\"];\n    NSURL *cloudURL = [[fileManager URLForUbiquityContainerIdentifier:nil] URLByAppendingPathComponent:@\"Database\"];\n\n    NSPersistentStoreCoordinator *coordinator = [[[NSPersistentStoreCoordinator alloc] initWithManagedObjectModel:mom] autorelease];\n    NSDictionary *optionsDict = [NSDictionary dictionaryWithObjectsAndKeys:appBundleID, NSPersistentStoreUbiquitousContentNameKey, cloudURL, NSPersistentStoreUbiquitousContentURLKey, [NSNumber numberWithBool:YES], NSMigratePersistentStoresAutomaticallyOption, [NSNumber numberWithBool:YES], NSInferMappingModelAutomaticallyOption,nil];\n    if (![coordinator addPersistentStoreWithType:NSSQLiteStoreType configuration:nil URL:storeURL options:optionsDict error:&amp;error])\n    {\n        [[NSApplication sharedApplication] presentError:error];\n        return nil;\n    }\n    __persistentStoreCoordinator = [coordinator retain];\n\n    return __persistentStoreCoordinator;\n}\n\n- (NSManagedObjectContext *)managedObjectContext\n{\n    if (__managedObjectContext)\n    {\n        return __managedObjectContext;\n    }\n\n    NSPersistentStoreCoordinator *coordinator = [self persistentStoreCoordinator];\n    if (!coordinator)\n    {\n        NSMutableDictionary *dict = [NSMutableDictionary dictionary];\n        [dict setValue:@\"Failed to initialize the store\" forKey:NSLocalizedDescriptionKey];\n        [dict setValue:@\"There was an error building up the data file.\" forKey:NSLocalizedFailureReasonErrorKey];\n        NSError *error = [NSError errorWithDomain:@\"YOUR_ERROR_DOMAIN\" code:9999 userInfo:dict];\n        [[NSApplication sharedApplication] presentError:error];\n        return nil;\n    }\n    __managedObjectContext = [[NSManagedObjectContext alloc] init];\n    [__managedObjectContext setPersistentStoreCoordinator:coordinator];\n\n    [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(persistentStoreDidImportUbiquitousContentChangesNotification:) name:NSPersistentStoreDidImportUbiquitousContentChangesNotification object:coordinator];\n\n    return __managedObjectContext;\n}\n</code></pre>\n"},{"tags":["objective-c","cocoa","ios6","orientation"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":13178872,"title":"How to set up page orientation in iOS 6?","body":"<p>By default I locked my app orientation to portrait in the appDelegate.</p>\n\n<p><strong>Here is the code</strong></p>\n\n<pre><code>- (NSUInteger)application:(UIApplication*)application supportedInterfaceOrientationsForWindow:(UIWindow*)window { return UIInterfaceOrientationMaskPortrait; }\n</code></pre>\n\n<p>I want only one specific page in my app to allow landscape. What I'm doing in this page is, I'm calling a youtube video url. </p>\n\n<p><strong>Here is the code that I pass youtube url and the frame size</strong></p>\n\n<pre><code>- (void)embedYouTube:(NSString *)urlString frame:(CGRect)frame {\nNSString *embedHTML = @\"\\\n&lt;html&gt;&lt;head&gt;\\\n&lt;style type=\\\"text/css\\\"&gt;\\\nbody {\\\nbackground-color: transparent;\\\ncolor: white;\\\n}\\\n&lt;/style&gt;\\\n&lt;/head&gt;&lt;body style=\\\"margin:0\\\"&gt;\\\n&lt;embed id=\\\"yt\\\" src=\\\"%@\\\" type=\\\"application/x-shockwave-flash\\\" \\\nwidth=\\\"%0.0f\\\" height=\\\"%0.0f\\\"&gt;&lt;/embed&gt;\\\n&lt;/body&gt;&lt;/html&gt;\";\nNSString *youtubeLink = [NSString stringWithFormat:embedHTML, urlString, frame.size.width, frame.size.height];\n[youtube loadHTMLString:youtubeLink baseURL:nil] ; // youtube is a webView }\n</code></pre>\n\n<p>I have a webView called youtube on my viewController. I don't want to do the landscape orientation on my viewController. But once I click on the play I want to play the video in landscape mode. I check out on the xcode output while it plays, it showing MPAVController. How can I make only this to be landscape mode?</p>\n"},{"tags":["objective-c","cocoa","webkit"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":174,"score":2,"question_id":5642386,"title":"Show contents of a zip file in a WebView","body":"<p>I want to have a WebView that displays some static files from the application bundle. Since I have a large number of small files, I'd like to pack them all into a compressed archive so the application doesn't take up too much space. What's the best way to make this happen?</p>\n"},{"tags":["objective-c","osx","cocoa"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":44,"score":1,"question_id":13011838,"title":"controlTextDidChange with 2 nstextfields - call different selectors","body":"<p>cocoa newbie here</p>\n\n<p>i have 2 nstextfields connected with controlTextDidChange.\nit works fine.</p>\n\n<pre><code>- (void)controlTextDidChange:(NSNotification *)anotif{\n    [self eval];\n}\n</code></pre>\n\n<p>when either of the textfields change eval is called.</p>\n\n<p>what i want to do is check the textfield that changed and if it's the first one call eval1,\nif it's the second call eval2.</p>\n\n<p>how can i do this?</p>\n"},{"tags":["objective-c","ios","cocoa","core-graphics","cgcontext"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13178109,"title":"Core Graphics clipping not working","body":"<p>I have this code to color an area between an inside and outside boundary. </p>\n\n<pre><code>CGContextSaveGState(context);\nCGContextAddRect(context, self.bounds);\nCGContextAddPath(context, inlinePath);\nCGContextEOClip(context);\nCGContextAddPath(context, outlinePath);\nCGContextClip(context);\nCGContextSetFillColorWithColor(context, _myColor.CGColor);\nCGContextFillRect(context, self.bounds);\nCGContextRestoreGState(context);\n</code></pre>\n\n<p>This is part of a local routine <code>drawChartInContext:</code>.<br>\nIt works great when I generate an image like this:</p>\n\n<pre><code>UIGraphicsBeginImageContextWithOptions(self.frame.size, NO, 2.0);\n[self drawChartInContext:UIGraphicsGetCurrentContext()]; \nUIImage* image = UIGraphicsGetImageFromCurrentImageContext();\nUIGraphicsEndImageContext();\n</code></pre>\n\n<p>But when I call it from <code>drawRect</code> I just get the whole <code>outlinePath</code> area filled with <code>_myColor</code>. </p>\n\n<pre><code>- (void)drawRect:(CGRect)rect\n{\n    CGContextRef context = UIGraphicsGetCurrentContext();\n    [self drawChartInContext:context];\n}\n</code></pre>\n\n<p>What could be wrong?</p>\n"},{"tags":["cocoa","nsarray","cocoa-bindings"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":1882,"score":1,"question_id":2309831,"title":"Binding an NSTableView to an NSMutableArray","body":"<p>I'm learning Cocoa, and I've got a problem: I would like to bind the content of an NSMutableArray to an NSTableView, with bindings. I read many documentations about them, but I can't manage to make them work (nothing is displayed in my table).</p>\n\n<p>Here are the facts: </p>\n\n<p>I created a simple model, called <code>MTMTask</code> which contains 2 properties, <code>priority</code> and <code>text</code>:</p>\n\n<p>MTMTask.h</p>\n\n<pre><code>@interface MTMTask : NSObject {\n NSString *priority;\n NSString *text;\n}\n\n@property(copy) NSString* priority;\n@property(copy) NSString* text;\n\n- (id) initWithPriority :(NSString*)newPriority andText:(NSString*)newText;\n\n@end\n</code></pre>\n\n<p>MTMTask.m</p>\n\n<pre><code>#import \"MTMTask.h\"\n\n@implementation MTMTask\n\n@synthesize text, priority;\n\n- (id) initWithPriority:(NSString *)newPriority andText:(NSString *)newText {\n if (self = [super init]) {\n  priority = newPriority;\n  text = newText;\n  return self;\n }\n return nil;\n}\n\n@end\n</code></pre>\n\n<p>Then I've created the MTMTaskController :</p>\n\n<p>MTMTaskController.h</p>\n\n<pre><code>#import &lt;Cocoa/Cocoa.h&gt;\n#import \"MTMTask.h\"\n\n@interface MTMTaskController : NSObject {\n NSMutableArray *_tasksList;\n}\n\n- (NSMutableArray *) tasksList; \n\n@end\n</code></pre>\n\n<p>MTMTaskController.m</p>\n\n<pre><code>#import \"MTMTaskController.h\"\n\n@implementation MTMTaskController\n\n- (void) awakeFromNib\n{ \n MTMTask *task1 = [[MTMTask alloc] initWithPriority:@\"high\" andText:@\"Feed the hungry cat\"];\n MTMTask *task2 = [[MTMTask alloc] initWithPriority:@\"low\" andText:@\"Visit my family\"];\n\n _tasksList = [[NSMutableArray alloc] initWithObjects:task1, task2, nil];\n}\n\n- (NSMutableArray*) tasksList\n{\n return _tasksList;\n}\n\n@end\n</code></pre>\n\n<p>And finally I edited the MainMenu.xib: I added a <code>NSObject</code> and set its class to <code>MTMTaskController</code>. Then I added an NSArrayController, called <code>TasksListController</code>, with its content outlet bound to <code>MTMTaskController.tasksList</code>. I also set its mode to <code>Class</code> and class name <code>MTMTask</code>. I bound the <code>value</code> outlet of two columns of an <code>NSTableView</code> to <code>TasksListController</code> text and priority.</p>\n\n<p>But when I run the program, well, it's not really a success: nothing shows up in the table.</p>\n\n<p>Have you got an idea concerning my problem? I think I'm missing something but I can't figure what.</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["objective-c","ios","cocoa","networking","afnetworking"],"answer_count":2,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":309,"score":3,"question_id":9713923,"title":"AFNetworking Overload a Post Parameter","body":"<p>I am migrating from ASIHTTPRequest to AFNetworking and have run into an issue.</p>\n\n<p>I am trying to hit an API with a request that overloads the post parameter.  I was previously using ASIFormDataRequest for this and used this code to update 3 ids at the same time.</p>\n\n<pre><code>// ASIHTTPRequestCode\n[request addPostValue:@\"value1\" forKey:@\"id\"];\n[request addPostValue:@\"value2\" forKey:@\"id\"];\n[request addPostValue:@\"value3\" forKey:@\"id\"];\n</code></pre>\n\n<p>Since AFNetworking uses an NSDictionary to store key value pairs, it doesn't seem straight forward how to do this.  Any ideas?</p>\n"},{"tags":["objective-c","ios","cocoa","preprocessor"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":53,"score":1,"question_id":13173534,"title":"Objective-c macro for class message","body":"<p>I have a dictionary with color settings and tried this:</p>\n\n<pre><code>#define ColorWithString( x) [UIColor #x]\n\nNSDictionary *settings = @{@\"color\" : @\"whiteColor\"};\nUIColor *color = ColorWithString(settings[@\"color\"]);\n</code></pre>\n\n<p>I get an error <code>Expected identifier</code>.</p>\n\n<p>I know there are some subtleties with string preprocessing. Maybe it is not even possible to send a dynamic message to a class. Any suggestions to make this work?</p>\n"},{"tags":["objective-c","cocoa","core-data","cocoa-bindings"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13163905,"title":"NSArrayController and CoreData: controlling all the entities of a relationship of a specific parent entity","body":"<p>Please excuse me if this is a stupid question, but I'm just getting into CoreData and the combination of NSArrayControllers and CoreData relationships is making my head fizz.</p>\n\n<p>I have a relatively simple data model - i have Sensor entities, which have to-many relationships to SensorMeasurements.</p>\n\n<p>I would like to set-up an arrayController for each sensor that keeps track of its measurements.</p>\n\n<p>So far I've done this by fetching all the sensors, enumerating through them and creating a new arrayController for each one, setting its entity to 'SensorMeasurement' and making sure that it gets the right sensorMeasurements by using a predicate like so:</p>\n\n<pre><code>NSPredicate *predicate = [NSPredicate predicateWithFormat:@\"sensor.name == %@\", [sensor name]];\n</code></pre>\n\n<p>However, this seems overly elaborate to me, especially since I plan to narrow down the content of the arrayController in future with another dynamic predicate.</p>\n\n<p>I'm sure that I'm missing a much simpler way of doing it - can I make an arrayController and just point the sensor's 'measurements' relationship property at it somehow?</p>\n\n<p>Is there a better way of doing what I have done?</p>\n"},{"tags":["objective-c","osx","cocoa"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":65,"score":2,"question_id":13119644,"title":"How can I get the preffered languages for a specific user on MacOS?","body":"<p>I'm developing an application for Mac OS which is used by network administrator to prompt the interactive user to select actions he wants to perform after some software deployment(actions such as restart now, restart later etc.). The dialog will be started remotely from root account(through SSH connection).\nI have a xml file with localization information from which I want to initialize the dialog GUI and for this I need the top most preferred language of the user but </p>\n\n<pre><code>[[NSUserDefaults standardUserDefaults] objectForKey:@\"AppleLanguages\"]\n</code></pre>\n\n<p>returns </p>\n\n<blockquote>\n  <p>(es, en, de) when the app is started from interactive user</p>\n</blockquote>\n\n<p>and</p>\n\n<blockquote>\n  <p>(en) when is started remotely from root account</p>\n</blockquote>\n\n<p>For getting name of the user I am using bash command 'stat -f\\%Su /dev/console' but I can't find how to get preferences for this specific user.</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["cocoa","osx","ui-automation"],"answer_count":3,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":1344,"score":2,"question_id":6120406,"title":"Tool for automated UI testing for Mac OS X (Cocoa) apps","body":"<p>Is there any open-source free tool for automated UI testing for Mac OS X (Cocoa) apps?\nSo far I've seen commercial tools such as [Squish] and [EggPlant]. The only free tools I've read about are using <a href=\"http://developer.apple.com/library/ios/#documentation/DeveloperTools/Reference/UIAutomationRef/Introduction/Introduction.html#//apple_ref/doc/uid/TP40009771-CH1-SW1\" rel=\"nofollow\">UIAutomation</a> or <a href=\"http://developer.apple.com/library/mac/#documentation/AppleApplications/Conceptual/AutomatorConcepts/Automator.html\" rel=\"nofollow\">Automator</a>.\nDoes anyone have any experience with these tools? any other options I should consider?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["objective-c","cocoa","osx","gui","nstableview"],"answer_count":3,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":1608,"score":2,"question_id":4674163,"title":"NSTableColumn size to fit contents","body":"<p>I am developing in and against Mac OS X 10.6 (Snow Leopard). When I double-click between two of my NSTableView's column headers, the column on the left autosizes, like you would expect.</p>\n\n<p>I want to provide this in a context menu as well, but it seems there is no publicly accessible function to do this. I've Googled, and looked at the documentation for NSTableView, NSTableHeaderView, and NSTableColumn, but found nothing. I find it hard to believe they wouldn't expose something so useful when they obviously have the code written to do it.</p>\n\n<p>I saw the <code>-[NSTableColumn sizeToFit]</code> method, but that only takes the header's size into account. I would also settle for sending the double-click event to the NSTableHeaderView, but couldn't figure out how to do that, either.</p>\n\n<p><strong>Update</strong> - I realized it's important to mention I have an NSArrayController (subclass) providing the data to my table, so I don't have an <code>NSTableViewDataSource</code> on which I could call <code>-[tableView: objectValueForTableColumn: row:]</code>. That is the crux of the problem: each column is bound to a keypath of the array controller and that's how it gets its data, so it can't loop through its contents.</p>\n"},{"tags":["osx","cocoa","webview","textfield","keystrokes"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13170154,"title":"Cocoa webview textfield not accepting keystrokes","body":"<p>I am a newbie in OSx development.</p>\n\n<p>I have a Cocoa application which uses a Webview. Everything is working fine, except for the textfield in the webview. I know how to enable keystrokes in NSTextField, but not the ones in the Webview. I've been searching the web all day, but with no luck. \nI badly need some help on how to enable the keystrokes to implement keyboard shortcut keys.</p>\n\n<p>Example:</p>\n\n<p>copy -> command + c</p>\n\n<p>paste -> command + v</p>\n\n<p>cut -> command + x</p>\n\n<p>Any help would be very much appreciated.</p>\n"},{"tags":["objective-c","osx","cocoa"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13152714,"title":"Rounded corners and gradients in NSTextView","body":"<p>I'm using NSAttributedString inside a NSTextView to highlight certain areas within the text. I  found it easy to change the background color and the text color, but I don't even know where to start on drawing more sophisticated things like rounded corners or background gradients, or borders.</p>\n\n<p>Here's a picture of what I'm trying to achieve:</p>\n\n<p><img src=\"http://i.stack.imgur.com/HvbSs.png\" alt=\"highlighted text mockup\"></p>\n\n<p>This is totally doable in a web view, but that seems like overkill for just a few extra graphic flourishes.</p>\n"},{"tags":["iphone","objective-c","ios","cocoa","scrollview"],"answer_count":7,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":115,"score":0,"question_id":13161666,"title":"How do I scroll the UIScrollView when the keyboard appears?","body":"<p>I'm having trouble with my code. I'm trying to move the UIscrollview when I'm editing an UItextfield that should be hidden by the keyboard pop.</p>\n\n<p>I'm moving the main frame right now because I don't know how to 'scroll up' in the code.\nSo, I did a little bit of code, it's working fine but when I edit an UItextfield and I switch to another UItextfield without pressing on the 'return' button the main view goes waaayyyyy to far up.</p>\n\n<p>I did an NSLog() with my variables size, distance and textFieldRect.origin.y as you can see below. When I put two UITextField at the same place (y origin) and I do this particular 'switch' (wihtout pressing return) , I get the same numbers, whereas my code worked fine for the first UITextField editing but not for the second editing.</p>\n\n<p>Check this out:</p>\n\n<pre><code>- (void)textFieldDidBeginEditing:(UITextField *)textField {\n{\n    int size;\n    CGRect textFieldRect = [self.view.window convertRect:textField.bounds fromView:textField];\n    size = textFieldRect.origin.y + textFieldRect.size.height;\n    if (change == FALSE)\n    {\n        size = size - distance;\n    }\n    if (size &lt; PORTRAIT_KEYBOARD_HEIGHT)\n    {\n        distance = 0;\n    }\n    else if (size &gt; PORTRAIT_KEYBOARD_HEIGHT)\n    {\n        distance = size - PORTRAIT_KEYBOARD_HEIGHT + 5; // +5 px for more visibility\n    }\n    NSLog(@\"origin %f\", textFieldRect.origin.y);\n    NSLog(@\"size %d\", size);\n    NSLog(@\"distance %d\", distance);\n    CGRect viewFrame = self.view.frame;\n    viewFrame.origin.y -= distance;\n    [UIView beginAnimations:nil context:NULL];\n    [UIView setAnimationBeginsFromCurrentState:YES];\n    [UIView setAnimationDuration:KEYBOARD_ANIMATION_DURATION];\n    [self.view setFrame:viewFrame];\n    [UIView commitAnimations];\n    change = FALSE;\n}\n\n- (void)textFieldDidEndEditing:(UITextField *)textField\n{\n    change = TRUE;\n    CGRect viewFrame = self.view.frame;\n    viewFrame.origin.y += distance;\n    [UIView beginAnimations:nil context:NULL];\n    [UIView setAnimationBeginsFromCurrentState:YES];\n    [UIView setAnimationDuration:KEYBOARD_ANIMATION_DURATION];\n    [self.view setFrame:viewFrame];\n    [UIView commitAnimations];\n}\n</code></pre>\n\n<p>Any ideas ?</p>\n"},{"tags":["ios","cocoa","safari","webkit"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13170999,"title":"iOS Browser Programming Technology","body":"<p>Except Safari, Most of the iOS browsers like dolphin, chrome, mercury,opera etc. do not use standard cocoa objects and have a very different UI than standard elements . Does anybody know what technology these browsers use? Any help would be appreciable</p>\n"},{"tags":["cocoa","nsoutlineview","nsscrollview"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":6,"score":0,"question_id":13171108,"title":"NSScrollView edge insets","body":"<p>I intend to use NSOutlineView in NSScrollView that will not fit snugly to top and bottom edges because I need insert a shadow(overlapping gradient) on top and bottom scroll edges. Outline view should can be scrolled beneath the top shadow of the vertical and above bottom shadow. How that can achieved?\nBig thanks!</p>\n"},{"tags":["objective-c","xcode","osx","cocoa","interface-builder"],"answer_count":2,"favorite_count":0,"up_vote_count":7,"down_vote_count":2,"view_count":700,"score":5,"question_id":8080173,"title":"What is can draw concurrently interface builder?","body":"<p>I have never used Can draw concurrently option mentioned in iterface builder. See image below: </p>\n\n<p><img src=\"http://i.stack.imgur.com/UbSLX.png\" alt=\"enter image description here\"></p>\n\n<p>Can someone explain me its use and purpose?</p>\n"},{"tags":["objective-c","ios","cocoa","foundation","nscopying"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":104,"score":0,"question_id":12048931,"title":"What is the difference between \"-copy\" and \"-copyWithZone:\"?","body":"<p>I know that copy creates an immutable copy of an object but i just want to know hos copywithzone works and what is the basic difference between copy and copywithzone</p>\n"},{"tags":["objective-c","cocoa","cocoa-touch"],"answer_count":12,"favorite_count":18,"up_vote_count":9,"down_vote_count":0,"view_count":880,"score":9,"question_id":1734386,"title":"What are common Cocoa pitfalls?","body":"<p>Triggered by Mike Ash’s newest article <a href=\"http://www.mikeash.com/?page=pyblog/friday-qa-2009-11-13-dangerous-cocoa-calls.html\" rel=\"nofollow\">“Dangerous Cocoa Calls”</a> from his great Friday Q&amp;A series, I want to know which are the things in Cocoa that made your code stumble. Mike has compiled a great list of evil API uses that are mostly about thread and exception safety. I’m sure that there are more hidden pitfalls that Cocoa programmers should be aware of.</p>\n\n<p>To make it clear: I’m not looking for obvious programming errors, like not retaining an instance variable or sending unknown selectors to objects. I’m looking for recurring patterns that do not do what is expected. I want to find the parts of the Cocoa API where usage seems to be clear but has hidden traps.</p>\n"},{"tags":["objective-c","facebook","osx","cocoa"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":20,"score":-2,"question_id":13170091,"title":"Facebook Login Mac Cocoa","body":"<p>I want to build Mac cocoa application login facebook, but I don't know the SDK for cocoa and the process of login. Please guide me this stuff. I'm new with cocoa. thank</p>\n"},{"tags":["cocoa","user-interface","toolbar","osx-mountain-lion","nsbundle"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13169492,"title":"10.8 standard share icon - where to get it?","body":"<p>I would like to add a \"share\" button in my Mac app, like Safari and other apps have in OS X 10.8.</p>\n\n<p>Is it possible to get this icon programmatically from another bundle on runtime? Or should I make a copy of it and include it in my app bundle?</p>\n"},{"tags":["cocoa","selection","nsarraycontroller","selectedindex","nscollectionviewitem"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13169699,"title":"NSArrayController selectedIndex is always zero","body":"<p>I have a NSArrayController bound to an array in one of my objects. I have a object inheriting from NSObject which is added to the nib file containing the NSArrayController. That object has a property called textureAtlas of type TextureAtlas (a type defined by myself). The type TextureAtlas defines a NSMutableArray property called textures.I am bounding to this texture array (so the path is something like 'textureAtlas.textures').</p>\n\n<p>My problem is that whenever I select a new texture in the NSCollectionView, the other controls that are bound to some properties in the selection of the array controller doesnt change. In fact, the selectedIndex property of the NSArrayController is always zero. However, whenever I dynamically add a texture to my atlas, the texture is added correctly in the collection view. I can select textures in the Collection View (the selection border is drawn correctly around the last selected texture). Its just selectedIndex that does not change.\nWhat am I be missing?</p>\n"},{"tags":["objective-c","xcode","cocoa","hotkey","ddhotkey"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13169366,"title":"Arc Restrictions and Semantic issues using DDHotKey","body":"<p>I'm trying to use DDHotKey for global hotkeys in a program I'm writing, however I can't get the program to compile because DDHotKeyCenter.m has errors.</p>\n\n<p>The errors are below...\n<img src=\"http://i.stack.imgur.com/s8lhM.png\" alt=\"errors\"></p>\n\n<p>I'm assuming this has something to do with my project settings, because the DDHotKey demo compiles and runs fine.</p>\n\n<p>I've tried disabling arc, converting to arc, both with no success.</p>\n\n<p>I'm still new to Cocoa, so I don't have any other ideas as to what could be causing this.</p>\n\n<p>Any help is appreciated.</p>\n\n<p>Edit:\nErrors when Arc is disabled...\n<img src=\"http://i.stack.imgur.com/b2QPU.png\" alt=\"more errors\"></p>\n"},{"tags":["cocoa","modal","objective-c-2.0","sheet"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":119,"score":0,"question_id":9298873,"title":"Modal Sheets & Modal Return Values","body":"<p>I'm running an alert dialog as a sheet. The problem is, I only want to continue program execution when the sheet gets an answer. So I added default modal code from Apple : </p>\n\n<pre><code>NSModalSession session = [NSApp beginModalSessionForWindow:aWindow];\nfor (;;)\n    if ([NSApp runModalSession:session] != NSRunContinuesResponse)\n        break;\n[NSApp endModalSession:session];\n</code></pre>\n\n<p>This made my code very clean, but there is one problem : if I do this, the sheet won't get in front of the menu bar anymore (I was using <code>NSStatusWindowLevel</code> to get that effect). </p>\n\n<p>Has anyone a solution for this? I want to avoid did-end-selectors since they make code very messy. Thanks!</p>\n"},{"tags":["objective-c","osx","cocoa","transparent","nswindow"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":197,"score":2,"question_id":9519009,"title":"Transparent NSWindow but with standard border and shadow","body":"<p>I want to have a more or less standard NSWindow with a toolbar and all that, but I want the content view to be transparent so that I can see through it. At the same time I want to keep the light gray outline of the window and also it's shadow. BUT I want to avoid the \"inner\" shadow I get from the toolbar inside the content view area.</p>\n\n<p>What I have tried so far is just to set the window background color to a semi transparent color and also set opaque to NO. The problem is that the window border fades away with the alpha of the background itself, and the more transparency I have on the background, the more the shadow of the toolbar shows up within the content view.</p>\n\n<p>Generally, the window shadow and border changes depending on the transparency of the content view, which I totally understand. But I want a behavior where it keeps the border and shadow just as if it was a completely opaque window, and then I want the content view area to be transparent.</p>\n\n<p>I am not sure what I need to do conceptually to make it work. Maybe I have to draw the window border myself, maybe not. Maybe I need to draw the shadow myself, or maybe not.</p>\n\n<p>Is there anyone that know how to build this? I don't need exact code details, but rather what parts I need to do custom.. </p>\n\n<p>I appreciate any input!</p>\n"},{"tags":["objective-c","osx","cocoa","abaddressbook"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":1,"view_count":36,"score":-1,"question_id":13157288,"title":"How to fetch Address book person's online/off-line status through objective c on MAC","body":"<p>I need  to fetch 'Address book person's online/off-line status' through objective C on Mac.</p>\n\n<p>I need 'iChat service' whatever Address book has used to fetch online status of a Person.\nCan anyone help me how can I get this though code.</p>\n\n<p>Thanks in Advance.</p>\n"},{"tags":["objective-c","performance","cocoa","exception","error-handling"],"answer_count":2,"favorite_count":0,"up_vote_count":8,"down_vote_count":0,"view_count":162,"score":8,"question_id":3683439,"title":"What is the cost of using exceptions in Objective-C?","body":"<p>I mean in the current implementation of clang or the gcc version.</p>\n\n<p>C++ and Java guys always tell me that exceptions do not cost any performance unless they are thrown. Is the same true for Objective-C? </p>\n"},{"tags":["objective-c","osx","cocoa","osx-lion","retina-display"],"answer_count":3,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":1077,"score":3,"question_id":11067066,"title":"Mac OS X: Best way to do runtime check for retina display?","body":"<p>Given a Cocoa application which runs on Mac OS X 10.7 and later:</p>\n\n<p>What is the best way to check, at runtime, if your app is currently running on a Mac with at least one retina display attached?</p>\n\n<p>If checking for this sort of thing is just really wrong-headed, I fully welcome a well-reasoned explanation of why (and I will up-vote such answers if they are good).</p>\n\n<p>But I'd still like to know :).</p>\n\n<p>It seems likely you could just do a check specifically for the new Mac Book Pro \"Retina\" hardware (the only Mac which currently has a retina display), but I'd really prefer a more general/generic/future-proof way to check than this.</p>\n\n<p>Ideally, I'd like to know how to detect the retina display, not the specific Mac model which currently happens to ship with a retina display.</p>\n"},{"tags":["cocoa","youtube","video-streaming","youtube-api","web-scraping"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":13162855,"title":"Native (non-webview) streaming from YouTube?","body":"<p>I see a lot of applications in the Mac App store, such as <a href=\"http://flavio.tordini.org/minitube\" rel=\"nofollow\">MiniTube</a> and <a href=\"http://cloudplay.fm\" rel=\"nofollow\">CloudPlay</a>, which appear to stream high quality video directly from YouTube, without using any sort of embedded player.</p>\n\n<p>However, I don't see any means of doing this through the documented API. Is their scraping (e.g. <a href=\"http://gitorious.org/minitube/minitube/blobs/master/src/video.cpp\" rel=\"nofollow\">http://gitorious.org/minitube/minitube/blobs/master/src/video.cpp</a>) illegal/against the TOS, or merely undocumented and unsupported? Is there a better way of doing it?</p>\n\n<p>(In particular, the so-called \"chromeless\" iframe player actually has a significant amount of chrome/user interaction, which is more suitable for a website than for a native application.)</p>\n\n<p>EDIT:  I suppose my question is primarily for the official YouTube developer support: is scraping the page for the stream against the TOS? If it is, why are these apps allowed to remain on the app store, and if it isn't, what is the best way of doing so?</p>\n"},{"tags":["objective-c","osx","cocoa"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":26,"score":1,"question_id":13165424,"title":"Guides or samples for NSRuleEditor?","body":"<p><code>NSRuleEditor</code> looks like a pretty powerful class, given the fact that stuff like iTunes Smart Playlists are using it.</p>\n\n<p>But is there <strong>any</strong> kind of documentation apart form the reference?</p>\n\n<p>Some kind of sample code or guide would be nice but it doesn't look like ADC has anything to offer.. as of now <code>NSRuleEditor</code> seems to be the least documented control in Cocoa!</p>\n"},{"tags":["objective-c","cocoa","class","window","nswindowcontroller"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13163904,"title":"Detect when window is closed?","body":"<p>One of my classes allocates a custom <code>NSWindowController</code>, how can my class know when the window gets closed?</p>\n\n<pre><code>CustomNSWindowController *wc = [[CustomNSWindowController alloc] init];\n[wc showWindow:self];\n//how to detect when window is closed?\n</code></pre>\n\n<p>What I'm trying to do is have the original class (the one that allocates the custom window controller) know when the window is closed so that I can set wc = nil when the window is no longer needed :)</p>\n"},{"tags":["objective-c","osx","cocoa","border","nsimage"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13164008,"title":"Add Border/Frame to an NSImage","body":"<p>OK, here's what I want to do :</p>\n\n<ul>\n<li>get an image into an <code>NSImage</code></li>\n<li>apply to it various types of borders or frames (even create a polaroid-like effect) - even rounded corners would probably fit this type of thing</li>\n</ul>\n\n<p>What I've done so far is almost 100%-oriented to playing with masks. I've even created an <code>NSImage</code> category for that purpose :</p>\n\n<pre><code>- (NSImage*)imageWithMask:(NSImage*)maskImage\n{\n\n    CGImageSourceRef maskSource;\n\n    maskSource = CGImageSourceCreateWithData((CFDataRef)[maskImage TIFFRepresentation], NULL);\n    CGImageRef maskRef =  CGImageSourceCreateImageAtIndex(maskSource, 0, NULL);\n\n    CGImageSourceRef Source;\n\n    Source = CGImageSourceCreateWithData((CFDataRef)[self TIFFRepresentation], NULL);\n    CGImageRef Ref =  CGImageSourceCreateImageAtIndex(Source, 0, NULL);\n\n    CGImageRef mask = CGImageMaskCreate(CGImageGetWidth(maskRef),\n                                        CGImageGetHeight(maskRef),\n                                        CGImageGetBitsPerComponent(maskRef),\n                                        CGImageGetBitsPerPixel(maskRef),\n                                        CGImageGetBytesPerRow(maskRef),\n                                        CGImageGetDataProvider(maskRef), NULL, false);\n\n    CGImageRef masked = CGImageCreateWithMask(Ref, mask);\n\n    NSImage* ima = [[NSImage alloc] initWithCGImage:masked size:[self size]];\n\n    return ima;\n}\n</code></pre>\n\n<p>In a few words, I've played with different masks and keep checking the result.</p>\n\n<p>However, it still doesn't strike as <em>right</em>.</p>\n\n<p>How would <strong>you</strong> go about that?</p>\n"},{"tags":["osx","cocoa","nstableview","spotlight"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":38,"score":1,"question_id":13117982,"title":"Creating grouped table view","body":"<p>Can anyone let me know what the procedure is to create the grouped <code>NSTableView</code> similar to the Spotlight results.   </p>\n\n<p><img src=\"http://i.stack.imgur.com/cSsHd.png\" alt=\"enter image description here\"></p>\n"},{"tags":["cocoa","nsdata","audiotoolbox","nsfilewrapper","extaudiofile"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":20,"score":2,"question_id":13162451,"title":"Using AudioToolBox to save Wave file to NSFileWrapper","body":"<p>I've used ExtAudioFileCreateWithURL and ExtAudioFileWrite from the AudioToolBox framework to save my samples to a file.  But now I need to save it to an NSFileWrapper since I'm now using NSDocument:  </p>\n\n<pre><code>- (NSFileWrapper *)fileWrapperOfType:(NSString *)typeName error:(NSError **)outError \n</code></pre>\n\n<p>Is there any way to use the ExtAudioFileXXX functions with an NSMutableData object so I can use NSFileWrapper <code>initRegularFileWithContents:(NSData*)contents</code> method?  </p>\n\n<p>Stripped down code for saving to file (which works):</p>\n\n<pre><code>AudioStreamBasicDescription file_desc;\nFillOutASBDForLPCM(file_desc, _sample_rate, _channel_count, 32, 32, true, false);\nOSStatus rv = ExtAudioFileCreateWithURL(url, kAudioFileWAVEType, &amp;file_desc, NULL, kAudioFileFlags_EraseFile, &amp;fout);\nif (rv == noErr){\n    int buff_size = sizeof(AudioBufferList) + sizeof(AudioBuffer);\n    AudioBufferList* bufferList = (AudioBufferList*)malloc(buff_size);\n    bufferList-&gt;mNumberBuffers = 1;\n    bufferList-&gt;mBuffers[0].mData = _samples;\n    bufferList-&gt;mBuffers[0].mNumberChannels = _channel_count;\n    bufferList-&gt;mBuffers[0].mDataByteSize = _channel_count * _frame_count * sizeof(float);\n    ExtAudioFileWrite(fout, _frame_count, bufferList);\n    free(bufferList);\n    ExtAudioFileDispose(fout);\n}\n</code></pre>\n"},{"tags":["osx","cocoa","daemon","packagemaker"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13162168,"title":"Installing a daemon for Mac OS X","body":"<p>I created a daemon for running into Mac OS X platform. I made an installer using PackageMaker and the Daemon is installed without problems. It seems that after the installation has finished, I need to reboot the system in order to have the daemon running. I am wondering if I can load and start the Daemon without forcing the reboot?... I have some ideas about it but not sure if is the right way, for example:</p>\n\n<ol>\n<li><p>Using a shell script that invoke the command: $sudo launchctl load /Library/LaunchDaemons/myService.plist</p></li>\n<li><p>Using ServiceManagement.framework to manage privilege escalation on the application that will be using the Daemon while is running so the App can if necessary install and load de service. I have to say that the work of the service is required only when a Cocoa App is active.</p></li>\n</ol>\n\n<p>If any better idea please let me know it people. :D</p>\n"},{"tags":["iphone","objective-c","xcode","osx","cocoa"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":25,"score":2,"question_id":13136050,"title":"How to get the selected index of my tabbarcontroller inside the related viewcontroller?","body":"<p>Hey Guys i want to get the selected index of my <code>UITabbarController</code> inside the related <code>UIViewControllers</code>.\nI tried to get the <code>parentViewController</code> with <code>[self parentViewController];</code> But it seems , this isnt the right way, because the controller i get back does not no a method like <code>selectedIndex</code> or so. Any suggestions ?</p>\n"},{"tags":["iphone","ios","ipad","cocoa","uitoolbar"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13155244,"title":"How to add scrolling for buttons on UIToolbar?","body":"<p>How to add scrolling for <code>UIBarButtonItem</code> buttons on <code>UIToolbar</code> (to place many buttons on the toolbar)?</p>\n\n<pre><code>buttonDone = [[UIBarButtonItem alloc] initWithBarButtonSystemItem:UIBarButtonSystemItemDone target:self action:@selector(buttonDoneDown)];\nNSArray *itemsArray = [NSArray arrayWithObjects:buttonDone, nil];\n[toolbar setItems:itemsArray];\n</code></pre>\n\n<p>Thanks a lot for the help!</p>\n"},{"tags":["cocoa","core-data","nstableview"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":35,"score":-1,"question_id":13129107,"title":"NSTableview and calculation of attributes","body":"<p>Can anyone please help me with the following problem?</p>\n\n<p>I'm creating an application which holds the entity, called a salt.\nThis entity has some attributes like milligram and millmolar (concentrations).</p>\n\n<p>They can be calculated by this formula milligram/molar mass (constant) = millimolar.\nI have a tableview which has the colums for these attributes, and I would like the application to calculate one, if the other is filled in, or changed.</p>\n\n<p>I'm trying to use <code>- (void)tableViewSelectionDidChange:(NSNotification *)aNotification</code> but I can't seem to make it work.</p>\n"},{"tags":["objective-c","cocoa","core-data","osx-mountain-lion","xcode4.5"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":13160225,"title":"Cannot create BOOL from object","body":"<p>I am following the guide cocoa programming for mac os x, 4th edition.In the 32th chapter I messed up the code, and I didn't backup it, so I had to download the solutions from big nerd ranch.<br>\nThe project is about core data relashionships, there is a class Employee and a class Department.  </p>\n\n<p>Employee.h :  </p>\n\n<pre><code>#import &lt;Foundation/Foundation.h&gt;\n#import &lt;CoreData/CoreData.h&gt;\n\n@class Department;\n\n@interface Employee : NSManagedObject\n\n@property (nonatomic, copy) NSString * firstName;\n@property (nonatomic, copy) NSString * lastName;\n@property (nonatomic, retain) Department *department;\n@property (nonatomic, readonly) NSString *fullName;\n\n@end\n</code></pre>\n\n<p>Employee.m :  </p>\n\n<pre><code>#import \"Employee.h\"\n#import \"Department.h\"\n\n\n@implementation Employee\n\n@dynamic firstName;\n@dynamic lastName;\n@dynamic department;\n\n+ (NSSet *)keyPathsForValuesAffectingFullName\n{\n    return [NSSet setWithObjects:@\"firstName\", @\"lastName\", nil];\n}\n\n- (NSString *)fullName\n{\n    NSString *first = [self firstName];\n    NSString *last = [self lastName];\n    if (!first)\n        return last;\n    if (!last)\n        return first;\n    return [NSString stringWithFormat:@\"%@ %@\", first, last];\n}\n\n@end\n</code></pre>\n\n<p>Department.h :  </p>\n\n<pre><code>#import &lt;Foundation/Foundation.h&gt;\n#import &lt;CoreData/CoreData.h&gt;\n\n\n@interface Department : NSManagedObject\n\n@property (nonatomic, retain) NSString * deptName;\n@property (nonatomic, retain) NSSet *employees;\n@property (nonatomic, retain) NSManagedObject *manager;\n@end\n\n@interface Department (CoreDataGeneratedAccessors)\n\n- (void)addEmployeesObject:(NSManagedObject *)value;\n- (void)removeEmployeesObject:(NSManagedObject *)value;\n- (void)addEmployees:(NSSet *)values;\n- (void)removeEmployees:(NSSet *)values;\n\n@end\n</code></pre>\n\n<p>Department.m : </p>\n\n<pre><code>#import \"Department.h\"\n#import \"Employee.h\"\n\n@implementation Department\n\n@dynamic deptName;\n@dynamic employees;\n@dynamic manager;\n\n- (void)addEmployeesObject:(Employee *)value\n{\n    NSLog(@\"Dept %@ adding employee %@\",\n          [self deptName], [value fullName]);\n    NSSet *s = [NSSet setWithObject:value];\n    [self willChangeValueForKey:@\"employees\"\n                withSetMutation:NSKeyValueUnionSetMutation\n                   usingObjects:s];\n    [[self primitiveValueForKey:@\"employees\"] addObject:value];\n    [self didChangeValueForKey:@\"employees\"\n               withSetMutation:NSKeyValueUnionSetMutation\n                  usingObjects:s];\n}\n\n- (void)removeEmployeesObject:(Employee *)value\n{\n    NSLog(@\"Dept %@ removing employee %@\",\n          [self deptName], [value fullName]);\n    Employee *manager = (Employee *)[self manager];\n    if (manager == value) {\n        [self setManager:nil];\n    }\n    NSSet *s = [NSSet setWithObject:value];\n    [self willChangeValueForKey:@\"employees\"\n                withSetMutation:NSKeyValueMinusSetMutation\n                   usingObjects:s];\n    [[self primitiveValueForKey:@\"employees\"] removeObject:value];\n    [self didChangeValueForKey:@\"employees\"\n               withSetMutation:NSKeyValueMinusSetMutation\n                  usingObjects:s];\n}\n\n\n@end\n</code></pre>\n\n<p>I have those core data relashionships and entities:  </p>\n\n<p><img src=\"http://i.stack.imgur.com/7clvM.png\" alt=\"Department\"></p>\n\n<p><img src=\"http://i.stack.imgur.com/iOWwd.png\" alt=\"Employee\"></p>\n\n<p>I also use some array controllers to bind the core data values to some outlets.<br>\nThe full project can be found <a href=\"http://www.bignerdranch.com/book/cocoa_programming_for_mac_os_x_th_edition_\" rel=\"nofollow\">here</a>., 32th chapter (it's identical to mine) in \"download solutions\".\nTell me if you need more code to understand this error:  </p>\n\n<pre><code>2012-10-31 15:27:43.977 Departments[1229:303] Cannot create BOOL from object (\n) of class _NSControllerArrayProxy\n2012-10-31 15:27:43.989 Departments[1229:303] Cannot create BOOL from object (\n) of class _NSControllerArrayProxy\n</code></pre>\n\n<p>Seems like posting a whole project is not recommended, but I could do so if you say it's ok.  </p>\n\n<p>PS: I' using the code downloaded from solutions, it's the same but it doesn't work, maybe because I have a higher version of xcode.</p>\n"},{"tags":["objective-c","ios","xcode","cocoa","uitableview"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":64,"score":0,"question_id":13156668,"title":"TableView NSInternalInconsistencyException","body":"<p>Update: It seems like I managed to identify the cell, so the original problem is solved. But now, with the same code snipped, I get the following error:</p>\n\n<pre><code>2012-10-31 15:21:41.857 Laktase[22658:11603] -[NSManagedObject isEqualToString:]: unrecognized selector sent to instance 0x74a5a30\n2012-10-31 15:21:41.858 Laktase[22658:11603] *** Terminating app due to uncaught exception 'NSInvalidArgumentException', reason: '-[NSManagedObject isEqualToString:]: unrecognized selector sent to instance 0x74a5a30'\n*** First throw call stack:\n(0x1f9f012 0x13dce7e 0x202a4bd 0x1f8ebbc 0x1f8e94e 0x1714af 0x171674 0x4430 0xd2f4b 0xd301f 0xbb80b 0xcc19b 0x6892d 0x13f06b0 0x259bfc0 0x259033c 0x259beaf 0x1078cd 0x501a6 0x4ecbf 0x4ebd9 0x4de34 0x4dc6e 0x4ea29 0x51922 0xfbfec 0x48bc4 0x48dbf 0x48f55 0x51f67 0x15fcc 0x16fab 0x28315 0x2924b 0x1acf8 0x1efadf9 0x1efaad0 0x1f14bf5 0x1f14962 0x1f45bb6 0x1f44f44 0x1f44e1b 0x167da 0x1865c 0x268d 0x25b5 0x1)\nlibc++abi.dylib: terminate called throwing an exception\n(lldb) \n</code></pre>\n\n<p>// End of Update</p>\n\n<p>I'm trying to query a database and then list the results in a table for the first time. </p>\n\n<p>When I change the numberOfRowsInSection from 0 to [matchingData count], the app crashes with a NSInternalInconsistencyException error. matchingData is an array with the results from core data. I just can't figure out why [matchingData count] doesn't work.</p>\n\n<p>Here's my code:</p>\n\n<pre><code>- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section\n{\n    NSEntityDescription *entity = [NSEntityDescription entityForName:@\"Tablette\" inManagedObjectContext:context];\n    NSFetchRequest *request = [NSFetchRequest new];\n    [request setEntity:entity];\n    NSPredicate *predicate = [NSPredicate predicateWithFormat:@\"dosis &gt;= 0\"]; // @\"ANY Tablette.dosis like '1'\"];\n    [request setPredicate:predicate];\n    NSError *error;\n    NSArray *matchingData = [context executeFetchRequest:request error:&amp;error];\n    return [matchingData count];\n}\n\n- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath\n{\nstatic NSString *CellIdentifier = @\"Cell\";\nUITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier forIndexPath:indexPath];\n\n// Configure the cell...\n\n\nNSEntityDescription *entity = [NSEntityDescription entityForName:@\"Tablette\" inManagedObjectContext:context];\nNSFetchRequest *request = [NSFetchRequest new];\n[request setEntity:entity];\nNSPredicate *predicate = [NSPredicate predicateWithFormat:@\"dosis &gt;= 1\"];\n[request setPredicate:predicate];\nNSError *error;\nNSArray *matchingData = [context executeFetchRequest:request error:&amp;error];\n\ncell.textLabel.text = [matchingData objectAtIndex:indexPath.row];\n\nreturn cell;\n}\n</code></pre>\n\n<p>Here is the exception:</p>\n\n<pre><code>2012-10-31 12:10:38.995 Laktase[21797:11603] *** Assertion failure in -[UITableView dequeueReusableCellWithIdentifier:forIndexPath:], /SourceCache/UIKit_Sim/UIKit-2372/UITableView.m:4460\n2012-10-31 12:10:38.996 Laktase[21797:11603] *** Terminating app due to uncaught exception 'NSInternalInconsistencyException', reason: 'unable to dequeue a cell with identifier Cell - must register a nib or a class for the identifier or connect a prototype cell in a storyboard'\n*** First throw call stack:\n(0x1f9f012 0x13dce7e 0x1f9ee78 0xb66f35 0xc9d14 0x4078 0xd2f4b 0xd301f 0xbb80b 0xcc19b 0x6892d 0x13f06b0 0x259bfc0 0x259033c 0x259beaf 0x1078cd 0x501a6 0x4ecbf 0x4ebd9 0x4de34 0x4dc6e 0x4ea29 0x51922 0xfbfec 0x48bc4 0x48dbf 0x48f55 0x51f67 0x15fcc 0x16fab 0x28315 0x2924b 0x1acf8 0x1efadf9 0x1efaad0 0x1f14bf5 0x1f14962 0x1f45bb6 0x1f44f44 0x1f44e1b 0x167da 0x1865c 0x249d 0x23c5 0x1)\nlibc++abi.dylib: terminate called throwing an exception\n(lldb) \n</code></pre>\n\n<p>Thank you very much.</p>\n"},{"tags":["objective-c","cocoa","file","size"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13160101,"title":"Check if file is empty","body":"<p>I'm sure there's a simple way of doing this, but I don't remember any.</p>\n\n<p>How can I check if a certain file is empty with Objective-C? Preferably without loading its contents (just in case the file isn't empty).</p>\n\n<p>I thought about <code>[[NSData dataWithContentsOfFile: PATH] length]</code> but that loads the entire file just to know how big it is. Isn't there a more efficient way?</p>\n"},{"tags":["objective-c","osx","cocoa","nspanel"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13159763,"title":"Custom Window Style in Cocoa","body":"<p><strong>OK, this is what I'm trying to do :</strong></p>\n\n<ul>\n<li>I have a custom <code>NSPanel</code> subclass</li>\n<li>I want the <code>NSPanel</code> to be borderless (NO title - I'm drawing a titlebar myself) AND resizeable</li>\n</ul>\n\n<p><strong>The thing is that :</strong></p>\n\n<ul>\n<li>once I set the <code>styleMask</code> to <code>NSResizableWindowMask</code>, the default title bar appears as well.</li>\n<li>once I set the <code>styleMask</code> to <code>NSBorderlessWindowMask</code>, the default title bar disappears (that's good), but the window loses its resizing ability.</li>\n</ul>\n\n<p><strong>This is my Code :</strong></p>\n\n<pre><code>- (id)initWithContentRect:(NSRect)contentRect styleMask:(NSUInteger)windowStyle backing:(NSBackingStoreType)bufferingType defer:(BOOL)deferCreation\n{\n    if ((self = [super initWithContentRect:contentRect styleMask:NSTitledWindowMask backing:bufferingType defer:deferCreation])) {\n        [self setOpaque:NO];\n        [self setBackgroundColor:[NSColor clearColor]];\n        [self setMovableByWindowBackground:YES];\n        [self setLevel:NSFloatingWindowLevel];\n        //[self setStyleMask:[self styleMask]&amp;~NSTitledWindowMask];\n    }\n    return self;\n}\n</code></pre>\n\n<p>As you may see from the commented-out code, I've tried using any possible combination of bit operations with the mask so that I combine what I need.</p>\n\n<p>Any ideas??</p>\n"},{"tags":["objective-c","osx","cocoa","hud"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":8,"score":0,"question_id":13158858,"title":"Resizeable Custom NSPanel","body":"<p>OK, here's my situation :</p>\n\n<ul>\n<li>I'm trying a HUD-like custom-controls collection, <a href=\"https://github.com/indragiek/SNRHUDKit\" rel=\"nofollow\">SNRHUDKit</a>.</li>\n<li>I'm specifically using <code>SNRHUDWindow</code> as my main window class</li>\n<li>No matter what, although it actually works, I can't get the <code>NSWindow</code> (or <code>NSPanel</code> - doesn't make much difference) to resize, when the user drags its lower-right corner.</li>\n</ul>\n\n<p>The code for <code>SNRHUDWindow</code> is :</p>\n\n<pre><code>//\n//  SNRHUDWindow.m\n//  SNRHUDKit\n//\n//  Created by Indragie Karunaratne on 12-01-22.\n//  Copyright (c) 2012 indragie.com. All rights reserved.\n//\n\n#import \"SNRHUDWindow.h\"\n#import \"NSBezierPath+MCAdditions.h\"\n\n#define SNRWindowTitlebarHeight         22.f\n#define SNRWindowBorderColor            [NSColor blackColor]\n#define SNRWindowTopColor               [NSColor colorWithDeviceWhite:0.240 alpha:0.960]\n#define SNRWindowBottomColor            [NSColor colorWithDeviceWhite:0.150 alpha:0.960]\n#define SNRWindowHighlightColor         [NSColor colorWithDeviceWhite:1.000 alpha:0.200]\n#define SNRWindowCornerRadius           5.f\n\n#define SNRWindowTitleFont              [NSFont systemFontOfSize:11.f]\n#define SNRWindowTitleColor             [NSColor colorWithDeviceWhite:0.700 alpha:1.000]\n#define SNRWindowTitleShadowOffset      NSMakeSize(0.f, 1.f)\n#define SNRWindowTitleShadowBlurRadius  1.f\n#define SNRWindowTitleShadowColor       [NSColor blackColor]\n\n#define SNRWindowButtonSize             NSMakeSize(18.f, 18.f)\n#define SNRWindowButtonEdgeMargin       5.f\n#define SNRWindowButtonBorderColor      [NSColor colorWithDeviceWhite:0.040 alpha:1.000]\n#define SNRWindowButtonGradientBottomColor  [NSColor colorWithDeviceWhite:0.070 alpha:1.000]\n#define SNRWindowButtonGradientTopColor     [NSColor colorWithDeviceWhite:0.220 alpha:1.000]\n#define SNRWindowButtonDropShadowColor  [NSColor colorWithDeviceWhite:1.000 alpha:0.100]\n#define SNRWindowButtonCrossColor       [NSColor colorWithDeviceWhite:0.450 alpha:1.000]\n#define SNRWindowButtonCrossInset       1.f\n#define SNRWindowButtonHighlightOverlayColor [NSColor colorWithDeviceWhite:0.000 alpha:0.300]\n#define SNRWindowButtonInnerShadowColor [NSColor colorWithDeviceWhite:1.000 alpha:0.100]\n#define SNRWindowButtonInnerShadowOffset NSMakeSize(0.f, 0.f)\n#define SNRWindowButtonInnerShadowBlurRadius    1.f\n\n@interface SNRHUDWindowButtonCell : NSButtonCell\n@end\n\n@interface SNRHUDWindowFrameView : NSView\n- (void)snr_drawTitleInRect:(NSRect)rect;\n@end\n\n@implementation SNRHUDWindow {\n    NSView *__customContentView;\n}\n\n- (id)initWithContentRect:(NSRect)contentRect styleMask:(NSUInteger)windowStyle backing:(NSBackingStoreType)bufferingType defer:(BOOL)deferCreation\n{\n    if ((self = [super initWithContentRect:contentRect styleMask:NSBorderlessWindowMask backing:bufferingType defer:deferCreation])) {\n        [self setOpaque:NO];\n        [self setBackgroundColor:[NSColor clearColor]];\n        [self setMovableByWindowBackground:YES];\n        [self setLevel:NSFloatingWindowLevel];\n    }\n    return self;\n}\n\n- (NSRect)contentRectForFrameRect:(NSRect)windowFrame\n{\n    windowFrame.origin = NSZeroPoint;\n    windowFrame.size.height -= SNRWindowTitlebarHeight;\n    return windowFrame;\n}\n\n+ (NSRect)frameRectForContentRect:(NSRect)windowContentRect\n                        styleMask:(NSUInteger)windowStyle\n{\n    windowContentRect.size.height += SNRWindowTitlebarHeight;\n    return windowContentRect;\n}\n\n- (NSRect)frameRectForContentRect:(NSRect)windowContent\n{\n    windowContent.size.height += SNRWindowTitlebarHeight;\n    return windowContent;\n}\n\n- (void)setContentView:(NSView *)aView\n{\n    if ([__customContentView isEqualTo:aView]) {\n        return;\n    }\n    NSRect bounds = [self frame];\n    bounds.origin = NSZeroPoint;\n    SNRHUDWindowFrameView *frameView = [super contentView];\n    if (!frameView) {\n        frameView = [[SNRHUDWindowFrameView alloc] initWithFrame:bounds];\n        NSSize buttonSize = SNRWindowButtonSize;\n        NSRect buttonRect = NSMakeRect(SNRWindowButtonEdgeMargin, NSMaxY(frameView.bounds) -(SNRWindowButtonEdgeMargin + buttonSize.height), buttonSize.width, buttonSize.height);\n        NSButton *closeButton = [[NSButton alloc] initWithFrame:buttonRect];\n        [closeButton setCell:[[SNRHUDWindowButtonCell alloc] init]];\n        [closeButton setButtonType:NSMomentaryChangeButton];\n        [closeButton setTarget:self];\n        [closeButton setAction:@selector(close)];\n        [closeButton setAutoresizingMask:NSViewMaxXMargin | NSViewMinYMargin];\n        [frameView addSubview:closeButton];\n        [super setContentView:frameView];\n    }\n    if (__customContentView) {\n        [__customContentView removeFromSuperview];\n    }\n    __customContentView = aView;\n    [__customContentView setFrame:[self contentRectForFrameRect:bounds]];\n    [__customContentView setAutoresizingMask:NSViewWidthSizable | NSViewHeightSizable];\n    [frameView addSubview:__customContentView];\n}\n\n- (NSView *)contentView\n{\n    return __customContentView;\n}\n\n- (void)setTitle:(NSString *)aString\n{\n    [super setTitle:aString];\n    [[super contentView] setNeedsDisplay:YES];\n}\n\n- (BOOL)canBecomeKeyWindow\n{\n    return YES;\n}\n@end\n\n@implementation SNRHUDWindowFrameView\n\n- (void)drawRect:(NSRect)dirtyRect\n{\n    NSRect drawingRect = NSInsetRect(self.bounds, 0.5f, 0.5f);\n    NSBezierPath *path = [NSBezierPath bezierPathWithRoundedRect:drawingRect xRadius:SNRWindowCornerRadius yRadius:SNRWindowCornerRadius];\n    [NSGraphicsContext saveGraphicsState];\n    [path addClip];\n    // Fill in the title bar with a gradient background\n    NSRect titleBarRect = NSMakeRect(0.f, NSMaxY(self.bounds) - SNRWindowTitlebarHeight, self.bounds.size.width, SNRWindowTitlebarHeight);\n    NSGradient *titlebarGradient = [[NSGradient alloc] initWithStartingColor:SNRWindowBottomColor endingColor:SNRWindowTopColor];\n    [titlebarGradient drawInRect:titleBarRect angle:90.f];\n    // Draw the window title\n    [self snr_drawTitleInRect:titleBarRect];\n    // Rest of the window has a solid fill\n    NSRect bottomRect = NSMakeRect(0.f, 0.f, self.bounds.size.width, self.bounds.size.height - SNRWindowTitlebarHeight);\n    [SNRWindowBottomColor set];\n    [NSBezierPath fillRect:bottomRect];\n    // Draw the highlight line around the top edge of the window\n    // Outset the width of the rectangle by 0.5px so that the highlight \"bleeds\" around the rounded corners\n    // Outset the height by 1px so that the line is drawn right below the border\n    NSRect highlightRect = NSInsetRect(drawingRect, 0.f, 0.5f);\n    // Make the height of the highlight rect something bigger than the bounds so that it won't show up on the bottom\n    highlightRect.size.height += 50.f;\n    highlightRect.origin.y -= 50.f;\n    NSBezierPath *highlightPath = [NSBezierPath bezierPathWithRoundedRect:highlightRect xRadius:SNRWindowCornerRadius yRadius:SNRWindowCornerRadius];\n    [SNRWindowHighlightColor set];\n    [highlightPath stroke];\n    [NSGraphicsContext restoreGraphicsState];\n    [SNRWindowBorderColor set];\n    [path stroke];\n}\n\n- (void)snr_drawTitleInRect:(NSRect)titleBarRect\n{\n    NSString *title = [[self window] title];\n    if (!title) { return; }\n    NSShadow *shadow = [NSShadow new];\n    [shadow setShadowColor:SNRWindowTitleShadowColor];\n    [shadow setShadowOffset:SNRWindowTitleShadowOffset];\n    [shadow setShadowBlurRadius:SNRWindowTitleShadowBlurRadius];\n    NSMutableParagraphStyle *style = [NSMutableParagraphStyle new];\n    [style setAlignment:NSCenterTextAlignment];\n    NSDictionary *attributes = [NSDictionary dictionaryWithObjectsAndKeys:SNRWindowTitleColor, NSForegroundColorAttributeName, SNRWindowTitleFont, NSFontAttributeName, shadow, NSShadowAttributeName, style, NSParagraphStyleAttributeName, nil];\n    NSAttributedString *attrTitle = [[NSAttributedString alloc] initWithString:title attributes:attributes];\n    NSSize titleSize = attrTitle.size;\n    NSRect titleRect = NSMakeRect(0.f, NSMidY(titleBarRect) - (titleSize.height / 2.f), titleBarRect.size.width, titleSize.height);\n    [attrTitle drawInRect:NSIntegralRect(titleRect)];\n}\n@end\n\n@implementation SNRHUDWindowButtonCell\n\n- (void)drawWithFrame:(NSRect)cellFrame inView:(NSView *)controlView\n{\n    NSRect drawingRect = NSInsetRect(cellFrame, 1.5f, 1.5f);\n    drawingRect.origin.y = 0.5f;\n    NSRect dropShadowRect = drawingRect;\n    dropShadowRect.origin.y += 1.f;\n    // Draw the drop shadow so that the bottom edge peeks through\n    NSBezierPath *dropShadow = [NSBezierPath bezierPathWithOvalInRect:dropShadowRect];\n    [SNRWindowButtonDropShadowColor set];\n    [dropShadow stroke];\n    // Draw the main circle w/ gradient &amp; border on top of it\n    NSBezierPath *circle = [NSBezierPath bezierPathWithOvalInRect:drawingRect];\n    NSGradient *gradient = [[NSGradient alloc] initWithStartingColor:SNRWindowButtonGradientBottomColor endingColor:SNRWindowButtonGradientTopColor];\n    [gradient drawInBezierPath:circle angle:270.f];\n    [SNRWindowButtonBorderColor set];\n    [circle stroke];\n    // Draw the cross\n    NSBezierPath *cross = [NSBezierPath bezierPath];\n    CGFloat boxDimension = floor(drawingRect.size.width * cos(45.f)) - SNRWindowButtonCrossInset;\n    CGFloat origin = round((drawingRect.size.width - boxDimension) / 2.f);\n    NSRect boxRect = NSMakeRect(1.f + origin, origin, boxDimension, boxDimension);\n    NSPoint bottomLeft = NSMakePoint(boxRect.origin.x, NSMaxY(boxRect));\n    NSPoint topRight = NSMakePoint(NSMaxX(boxRect), boxRect.origin.y);\n    NSPoint bottomRight = NSMakePoint(topRight.x, bottomLeft.y);\n    NSPoint topLeft = NSMakePoint(bottomLeft.x, topRight.y);\n    [cross moveToPoint:bottomLeft];\n    [cross lineToPoint:topRight];\n    [cross moveToPoint:bottomRight];\n    [cross lineToPoint:topLeft];\n    [SNRWindowButtonCrossColor set];\n    [cross setLineWidth:2.f];\n    [cross stroke];\n    // Draw the inner shadow\n    NSShadow *shadow = [[NSShadow alloc] init];\n    [shadow setShadowColor:SNRWindowButtonInnerShadowColor];\n    [shadow setShadowBlurRadius:SNRWindowButtonInnerShadowBlurRadius];\n    [shadow setShadowOffset:SNRWindowButtonInnerShadowOffset];\n    NSRect shadowRect = drawingRect;\n    shadowRect.size.height = origin;\n    [NSGraphicsContext saveGraphicsState];\n    [NSBezierPath clipRect:shadowRect];\n    [circle fillWithInnerShadow:shadow];\n    [NSGraphicsContext restoreGraphicsState];\n    if ([self isHighlighted]) {\n        [SNRWindowButtonHighlightOverlayColor set];\n        [circle fill];\n    }\n}\n\n@end\n</code></pre>\n\n<p>Any ideas what could be responsible for the <code>NSPanel</code> losing its resizing ability?</p>\n"},{"tags":["iphone","ios","cocoa","core-animation"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":23,"score":1,"question_id":13158796,"title":"What triggers offscreen rendering in iOS?","body":"<p>Excactly what things triggers offscreen rendering in iOS?</p>\n\n<p>I want a list with as many examples as possible. Or a list of best practice.</p>\n"},{"tags":["objective-c","cocoa"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":11,"score":0,"question_id":13157995,"title":"Why delegate methods of NSPageController not called?","body":"<p>I am creating an <code>NSPagecontroller</code> in custom mode without using nib, but the delegate methods are not getting called:</p>\n\n<pre><code>- (NSString *)pageController:(NSPageController *)pageController identifierForObject:(id)object\n- (NSViewController *)pageController:(NSPageController *)pageController viewControllerForIdentifier:(NSString *)identifier\n</code></pre>\n\n<p>Also, how to add <code>NSPageController</code> to <code>NSWindow.</code> I am not able to set the <code>contentView</code>.\nI am getting this error:</p>\n\n<pre><code>Could not connect the action orderFrontStandardAboutPanel: to target of class NSPageController\n</code></pre>\n"},{"tags":["iphone","ios","cocoa","app-store"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":1,"view_count":35,"score":-1,"question_id":13157792,"title":"how to create a ad hoc distribution file?","body":"<p>I only have the UDID of the device and I want to create a ad hoc distribution file. I have a developer account on apple. So help me on this:-   </p>\n\n<ol>\n<li>Do I need a iOS device to create a app file? if no, then how can I\ndo that?</li>\n<li>Can I use my clients UDID for provision file without connecting to\nmy machine?</li>\n<li>The procedure of creating a provision file.</li>\n</ol>\n"},{"tags":["ios","cocoa","newsstand-kit"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":6,"score":0,"question_id":13156895,"title":"How to test a newsstand new issue?","body":"<p>And I have a newsstand app in appstore, and Now I want to add the function of adding new issue with Newsstand, and then my newsstand icon will be changed to a new screenshot with [new] ribben , but I didn't find some test Environment of Newsstand adding new issue, someone can give me some advice , thank you very much!</p>\n"},{"tags":["objective-c","osx","cocoa","popover","nsdatepicker"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13156716,"title":"NSDatePicker graphical representation in popover when changing date","body":"<p>Is it possible for NSDatePicker natively enable functionality to show graphical implementation in popover when changing date? Such functionality now exists in OS X Calendar and Reminders.</p>\n\n<p>Or I need to implement such functionality by myself? If so, maybe there are such third party implementations?</p>\n"},{"tags":["objective-c","cocoa","email","applescript"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":79,"score":0,"question_id":12782972,"title":"Objective-C: Send email automatically (AppleScript)","body":"<p>I use this code to send an automated error message when something goes wrong, and it works fine, but it behaves a bit funny. I got the code from <a href=\"http://stackoverflow.com/questions/5461648/send-email-from-cocoa\">this SO question</a>.</p>\n\n<pre><code>- (void)sendEmailWithMail:(NSString *) toAddress withSubject:(NSString *) subject Attachments:(NSArray *) attachments { \nNSString *bodyText = @\"Your body text \\n\\r\";    \nNSString *emailString = [NSString stringWithFormat:@\"\\\n                         tell application \\\"Mail\\\"\\n\\\n                         set newMessage to make new outgoing message with properties {subject:\\\"%@\\\", content:\\\"%@\\\" &amp; return} \\n\\\n                         tell newMessage\\n\\\n                         set visible to false\\n\\\n                         set sender to \\\"%@\\\"\\n\\\n                         make new to recipient at end of to recipients with properties {name:\\\"%@\\\", address:\\\"%@\\\"}\\n\\\n                         tell content\\n\\\n                         \",subject, bodyText, @\"McAlarm alert\", @\"McAlarm User\", toAddress ];\n\n//add attachments to script\nfor (NSString *alarmPhoto in attachments) {\n    emailString = [emailString stringByAppendingFormat:@\"make new attachment with properties {file name:\\\"%@\\\"} at after the last paragraph\\n\\\n                   \",alarmPhoto];\n\n}\n//finish script\nemailString = [emailString stringByAppendingFormat:@\"\\\n               end tell\\n\\\n               send\\n\\\n               end tell\\n\\\n               end tell\"];\n\n\n\n//NSLog(@\"%@\",emailString);\nNSAppleScript *emailScript = [[NSAppleScript alloc] initWithSource:emailString];\n[emailScript executeAndReturnError:nil];\n[emailScript release];\n\n/* send the message */\nNSLog(@\"Message passed to Mail\");\n}\n</code></pre>\n\n<p>It composes and sends a new message with the subject and body specified but it leaves the composed message open and i have to manually close the composed message as well as Mail itself.</p>\n\n<p>Any ideas on how to tell Mail to close the mail and itself automatically?</p>\n"},{"tags":["objective-c","cocoa","xcode","osx"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":1047,"score":3,"question_id":1084891,"title":"Putting an NSPopUpButton in an NSToolbar","body":"<p>Having wrestled with <code>NSPopUpButton</code> in a previous question <a href=\"http://stackoverflow.com/questions/737809/nspopupbutton-bindings-and-a-shortening-lifespan\" title=\"here\">here</a> I am now trying to place a <code>NSPopUpButton</code> inside an <code>NSToolbar</code>. Essentially I want to create something similar to what XCode has by default on the left hand side of it's toolbar. E.g. a pop up button with an action button next to it.</p>\n\n<p>I have seen a method that show's a programmatic way of creating an <code>NSPopUpButton</code> and then adding it to an <code>NSToolbar</code>, but then I can't work out how to do all the Binding stuff that was so handy last time.</p>\n\n<p>Interface Builder hasn't been very helpful, so any help gratefully received.</p>\n\n<p>P.S. Could I solve this by creating a custom view (containing an <code>NSPopUpButton</code> with the usual bindings) and then adding the custom view to the toolbar?</p>\n"},{"tags":["cocoa","parsing","date"],"answer_count":5,"favorite_count":6,"up_vote_count":11,"down_vote_count":0,"view_count":6022,"score":11,"question_id":399527,"title":"Parsing unsupported date formats in via Cocoa's NSDate","body":"<p>With the Cocoa framework how can I parse @\"2008-12-29T00:27:42-08:00\" into an NSDate object? The standard <code>-dateWithString:</code> doesn't like it.</p>\n"},{"tags":["iphone","objective-c","ios","cocoa"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":13154729,"title":"Can I change contents of UIView dynamically?","body":"<p>I Want to change contents of UIView dynamically without using removeFromSuperView and addSubview.the codes is an image of what I want to do.</p>\n\n<pre><code>int screenWidth = [[UIScreen mainScreen] bounds].size.width;\nint screenHeight = [[UIScreen mainScreen]bounds].size.height;\nUIView *currentView = [[UIView alloc]initWithFrame:CGRectMake(0,0,screenWidth,screenHeight)];\nUIView *nextView = [[UIView alloc]initWithFrame:CGRectMake(0,0,screenWidth,screenHeight)];\n\n[self.view addSubview:currentView];\n\ncurrentView = nextView;\n\n//when this code run,appearing currentView swap nextView.\n[self.view reload];\n</code></pre>\n"},{"tags":["cocoa","nsview","autoresizingmask"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":9,"score":0,"question_id":13154732,"title":"Autoresizing adjacent views","body":"<p>I have two views in a cocoa application , A and B : <br></p>\n\n<blockquote>\n  <p>|----------------|<br>\n  |-------A-------|<br>\n  |----------------|</p>\n  \n  <p>|----------------|<br>\n  |-------B-------|<br>\n  |----------------|</p>\n</blockquote>\n\n<p>When the window is resized B sticks to the bottom of the window while A sticks to the top . B 's height is fixed . A's height is flexible . I want A to grow vertically downwards into the void left by B when the window is resized . But I cant seem to accomplish this using Autoresizing masks since they operate with respect to the superview . What happens is that A grows but not enough that its bottom is still touching the top of B.  Are there any methods or views I can use to accomplish this ?</p>\n"},{"tags":["objective-c","cocoa","nswindow","nsimage"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":13138072,"title":"Using NSImage as patterned/repeated background in NSWindow","body":"<p>I want to display NSImage as repeated background in NSWindow. I am using <a href=\"http://stackoverflow.com/questions/5435560\">this</a> code:</p>\n\n<pre><code>_window.backgroundColor = [NSColor colorWithPatternImage:[NSImage imageNamed:@\"image.png\"]];\n</code></pre>\n\n<p>The problem arises on resizing, because only the new area (at the bottom and the right) of the window is redisplayed and the background origin is in the bottom-left corner. That results in image gliching:\n<img src=\"http://s8.postimage.org/hi84i62gl/Screen_Shot_2012_10_31_at_11_14_42_AM.png\" alt=\"window example\"></p>\n\n<p>Current workaround is to redisplay window on resize:</p>\n\n<pre><code>_window.delegate = self;\n...\n- (void)windowDidResize:(NSNotification *)notification {\n  [_window display];\n}\n</code></pre>\n\n<p>My questions are:</p>\n\n<ol>\n<li>Is there a way to automatically display all background on resizing (i.e. without usign <code>windowDidResize:</code>)?</li>\n<li>Can background origin be changed to upper-left correr (so that new area on resizing will seamlessly continue existing one)?</li>\n</ol>\n"},{"tags":["objective-c","xcode","silverlight","cocoa"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13154071,"title":"How integrate silverlight 5 in application MAC","body":"<p>I have a problem with <code>Silverlight</code>.  </p>\n\n<p>I created an application (with <code>Xcode</code>, <code>Obj-c</code>). It contains a WebBrowser to execute a Website that requires <code>Silverlight</code>.</p>\n\n<p>But, <code>Silverlight</code> is very slow on <code>OSX</code>. And for my users is a big problem, because the purpose of this is the speed and NOT a slowness. </p>\n\n<p>So I search a solution to accelerate <code>silverlight</code> on my application. Is it possible?<br>\nI thought to integrate the <code>SDK Silverlight</code> in my application, but after?</p>\n"},{"tags":["objective-c","cocoa","push","ssl-certificate","provisioning"],"answer_count":0,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":21,"score":3,"question_id":13153916,"title":"push ssl certificate missing private key in keychain","body":"<p>I'm updating some apps on the app store in order to integrate Push notification and I have problems with the push ssl certificates.</p>\n\n<p>When I created the apps without push, I used wildcard App ID like <code>myradio.*</code> and then I created new explicit App ID corresponding to the bundle ID of the app like <code>myradio.radioname</code>.</p>\n\n<p>I had configured push with certificates, but not used it on the moment, and now that I need to use these App IDs, when I install the Development and Production Push SSL Certificates, they are missing private key in the Keychain.\nMaybe it's because I revoked my Development certificate. But for some apps all works fine.</p>\n\n<p>It is impossible to create another App ID with the same suffix, and it is impossible to use the existing, so have you any idea on how to update my apps ?</p>\n"},{"tags":["objective-c","cocoa","nsdocument"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":359,"score":2,"question_id":6164893,"title":"Sharing NSDocument subclass between multiple NSWindowControllers","body":"<p>I have a application that isn't currently a document-based application (because I thought it would be more trouble than its worth). However I've been thinking it may possibly be worth it now, but there is one issue I haven't worked out yet. Sharing NSDocument subclasses between multiple windows.</p>\n\n<p>So do subclasses of NSDocument have to be tied to a single NSWindowController, or can I share these between multiple windows? The reason I ask is my applications files are likely to up 100MiB (or larger) and its also likely that a user will open the same file in more than one window. Also these files take a relatively long time to process, so allowing multiple windows access to the same NSDocument would be excellent. Also, the files are updated very quickly with lots of data, so synchronizing multiple instances of the same document would use a lot of CPU time.</p>\n\n<p>Has anybody done this, or can it even be done with a Document-based application? Any advice on this topic is greatly appreciated.</p>\n"},{"tags":["objective-c","cocoa","shortcut","recorder","mac-frameworks"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":567,"score":2,"question_id":6226585,"title":"Obj-C/Cocoa: Use of Shortcut Recorder Framework, how?","body":"<p>to capture keystrokes for registering global hotkeys i want to use the shortcut recorder. but i can't get it to work. here is what i have done so far:</p>\n\n<ul>\n<li>checked out the current version from the svn</li>\n<li>installed xcode 3 because my xcode 4 wouldn't build, then built it with xcode 3</li>\n<li>in xcode 4, i added the shortcutrecorder.framework in the build-directory to my application, dragged/copied the SRRecorderControl.h to my application directory and inserted</li>\n</ul>\n\n<p><code>#import \"SRRecorderControl.h\"</code></p>\n\n<p>to my AppDelegate.h</p>\n\n<p>when i build and run, it fails and says images not found. i know that there are images in the shortcut recorder main directory, but i dont know where to put these. and: how do i add the special shortcut recorder textfield to my main window?</p>\n"},{"tags":["xcode","cocoa","shortcut","hotkey"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":296,"score":1,"question_id":5841938,"title":"Shortcut Recorder","body":"<p>i wanted to implement the shortcut recorder but i cant get this working, because their wiki isnt really helpful.</p>\n\n<p>I asked me whether some of you would know a full-featured tutorial or someone could write here a tutorial on how to implement the shortcut recorder on a mac application.</p>\n\n<p>What i did so far is i installed the shortcut recorder plugin added the gui elements to my .xib and i imported all the classes from Shortcut recorder into my project. What are the next steps i need to do ?</p>\n\n<p>Thanks</p>\n"},{"tags":["objective-c","cocoa","nstextfield","nscontrol"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":13130613,"title":"ControlTextDidChange not working for setting string of NSTextField","body":"<p>I'm trying to find a method that monitors the text of NSTextField for changes. I tried the delegate method of <code>-(void)controlTextDidChange:(NSNotification *)obj</code> but it only works when the user types into the text field. If the text field string is programmatically set, such as with a button, the <code>controlTextDidChange</code> doesn't work.</p>\n\n<p>Is there a method or another approach that I can use to monitor the contents of a NSTextField for changes?</p>\n\n<p>My ButtonText class (set as delegate for the NSTextField):</p>\n\n<pre><code>#import \"ButtonText.h\"\n\n@interface ButtonText ()\n\n@property (weak) IBOutlet NSTextField *buttonField;\n\n@end\n\n@implementation ButtonText\n\n- (IBAction)buttonTextA:(id)sender {\n    [_buttonField setStringValue:@\"text A here\"];\n}\n\n- (IBAction)buttonTextB:(id)sender {\n    [_buttonField setStringValue:@\"and text B stuff\"];\n}\n\n- (void)controlTextDidChange:(NSNotification *)obj {\n    NSLog(@\"controlTextDidChange: %@\", _buttonField.stringValue);\n}\n\n@end\n</code></pre>\n\n<p>The XIB showing the buttons and text field:\n<img src=\"http://i.stack.imgur.com/ZJpFG.png\" alt=\"enter image description here\"></p>\n"},{"tags":["objective-c","osx","cocoa","textfield","keyboard-events"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":78,"score":1,"question_id":13109815,"title":"How to write on a focused NSTextfield (outside my App) after a Global Monitor for an Event is triggered?","body":"<p>I'm creating an OSX App that listens for global events (key down), using </p>\n\n<pre><code>[NSEvent addGlobalMonitorForEventsMatchingMask:NSKeyDownMask handler:^(NSEvent *event){       \n     //execute this code when keys are pressed\n}];\n</code></pre>\n\n<p>and I want to perform something like this, for example:<br>\nI'm on safari (or any other app), typing on a textfield, and I press the keys 'hhh'. My App receives a notification that those keys were pressed and it writes 'Hello' on the textfield that I was typing on.\n<br><br>So, how do i know that the keys 'hhh' were pressed by the user while typing on a textfield and how can i write, programmaticaly, 'hello' to that textfield? Thanks\n<br><br></p>\n"},{"tags":["objective-c","cocoa","design","software-engineering","osx-mountain-lion"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13142253,"title":"How to design a scheduler class","body":"<p>I have a class Notification (from NSObject) that contains information like the title, the text and the date.I also have a class that inherits from NSWindowController, that should sisplay the notification with a NSPanel.<br>\nNow I need to implement a class that does the following:  </p>\n\n<ol>\n<li>Allows to add notifications;</li>\n<li>Allows to edit notifications;</li>\n<li>For each notification it reads the date and sets a NSTimer that when reaches zero displays the panel.</li>\n</ol>\n\n<p>I already tried an approach, but it seems to be not so robust, because I am not able to edit timers, I have to invalidate them all and re-created all the timers from scratch.<br>\nThis is the code:  </p>\n\n<pre><code>#import &lt;Foundation/Foundation.h&gt;\n#import \"NotificationPanelController.h\"\n#import \"Notification.h\"\n\n@interface Scheduler : NSObject\n\n@property (nonatomic) NSMutableArray* notifications;\n@property (nonatomic) NSMutableArray* controllers;\n@property (nonatomic) NSMutableArray* timers;\n\n- (void) setTimers;\n\n@end\n\n\n#import \"Scheduler.h\"\n\n@implementation Scheduler\n\n@synthesize notifications, controllers, timers;\n\n- (id) init\n{\n    self=[super init];\n    if(self)\n    {\n        controllers=[[NSMutableArray alloc]init];\n        timers=[[NSMutableArray alloc]init];\n    }\n    return self;\n}\n\n- (void) showNotification: (Notification*) notification\n{\n    NotificationPanelController* controller=[[NotificationPanelController alloc]init];\n    [controller setNotification: notification];\n    [controller showWindow: self];\n    [controllers addObject: controller];\n}\n\n- (void) setTimers\n{\n    for(NSTimer* timer in timers)\n    {\n        [timer invalidate];\n    }\n    [timers removeAllObjects];\n    for(Notification* n in notifications)\n    {\n        NSMethodSignature* signature=[Scheduler instanceMethodSignatureForSelector: @selector(showNotification:)];\n        NSInvocation* invocation=[NSInvocation invocationWithMethodSignature: signature];\n        NSTimer* timer;\n        void* argument=(__bridge void*) n;\n        [invocation setTarget: self];\n        [invocation setSelector: @selector(showNotification:)];\n        [invocation setArgument: &amp;argument atIndex: 2];\n        timer=[NSTimer scheduledTimerWithTimeInterval: [[n date] timeIntervalSinceNow] invocation: invocation repeats: NO];\n        [timers addObject: timer];\n    }\n}\n\n@end\n</code></pre>\n\n<p>Please don't focus on the Notification and NotificationPanelController class, the code is not important.I just would know from any software engineer how to design this class better: I have an array of timers, an array of notifications and an array of controllers, but if I edit any notification some timer could change (the date could change), so I am not able to control this class well.I would know a better design.</p>\n"},{"tags":["java","osx","cocoa"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":78,"score":1,"question_id":12452637,"title":"Does Oracle's Java 7 for Mac OS X have com.apple.eawt.CocoaComponent or similar?","body":"<p>Apple's Java, which is on version 6 on my machine, has a class <code>com.apple.eawt.CocoaComponent</code> for connecting AWT/Swing apps to Cocoa components.  An example use: displaying the UI of an AudioUnit (which is a Cocoa view) in a Java app.  I'd like to use Java 7, but I can't find this class in it.  Anyone know if it's there, somewhere?  Or if there is an alternative?</p>\n"},{"tags":["objective-c","multithreading","osx","cocoa","grand-central-dispatch"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":13148684,"title":"Deadlock using dispatch_semaphore_t in a concurrent queue","body":"<p>I am developing a MacOS X application which runs a large number of background jobs, using GCD. The background jobs use CLucene to index documents, and access Core Data on a child context.</p>\n\n<p>These jobs are all spawned in short order (using dispatch_async on a queue created with DISPATCH_QUEUE_CONCURRENT), but only 4 do actual work at once. This is accomplished using a dispatch_semaphore_t, by waiting on it when a job begins and releasing it when the job completes.</p>\n\n<p>I'm seeing a very strange, reliably reproducible deadlock when:</p>\n\n<ol>\n<li>Background jobs are still running</li>\n<li>The user switches focus to another application, and then back</li>\n</ol>\n\n<p>NSWindow is apparently deadlocking trying to send a notification while displaying the menu bar. This is the stack trace of the main thread when this happens:</p>\n\n<pre><code>\n#0  0x00007fff870ae6c2 in semaphore_wait_trap ()\n#1  0x00007fff8b1bf486 in _dispatch_semaphore_wait_slow ()\n#2  0x00007fff8b69c12b in -[_NSDNXPCConnection sendMessage:waitForAck:] ()\n#3  0x00007fff8b57ced5 in _CFXNotificationPost ()\n#4  0x00007fff8b58bbf3 in CFNotificationCenterPostNotification ()\n#5  0x00007fff902ae174 in HIS_XPC_CFNotificationCenterPostNotification ()\n#6  0x00007fff8bd3612a in BroadcastToolboxMessage ()\n#7  0x00007fff8bd6d063 in MenuBarInstance::Show(MenuBarAnimationStyle, unsigned char, unsigned char, unsigned char) ()\n#8  0x00007fff8bd98144 in SetMenuBarObscured ()\n#9  0x00007fff8bd97e0f in HIApplication::HandleActivated(OpaqueEventRef*, unsigned char, OpaqueWindowPtr*) ()\n#10 0x00007fff8bd95407 in HIApplication::EventObserver(unsigned int, OpaqueEventRef*, void*) ()\n#11 0x00007fff8bd636e0 in _NotifyEventLoopObservers ()\n#12 0x00007fff898dc018 in -[NSWindow sendEvent:] ()\n#13 0x00007fff898d8744 in -[NSApplication sendEvent:] ()\n#14 0x00007fff897ee2fa in -[NSApplication run] ()\n#15 0x00007fff89792cb6 in NSApplicationMain ()\n#16 0x0000000100001e52 in main at /Users/mspong/dev/Indx/Indx/Indx/main.m:13\n#17 0x00007fff86b7b7e1 in start ()\n\n</code></pre>\n\n<p>All running background jobs finish their work, but no further jobs get access to the aforementioned semaphore. Every thread is stuck on semaphore_wait_trap.</p>\n\n<p>I can't imagine what I could possibly be doing to (apparently) cause unrelated semaphores (both mine and Apple's) to get stuck. Can anybody offer some advice on how to investigate this further?</p>\n"},{"tags":["osx","cocoa","finder"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":189,"score":2,"question_id":10751199,"title":"How to get Finder sidebar favorites content cocoa?","body":"<p>I need to get paths of objects displayed in Favorites section of Finder Sidebar (for current user). How can I achieve this?</p>\n"},{"tags":["objective-c","cocoa","nswindow"],"answer_count":6,"favorite_count":5,"up_vote_count":10,"down_vote_count":0,"view_count":5947,"score":10,"question_id":2018147,"title":"Hide NSWindow title bar","body":"<p>Is there a way to hide the titlebar in an NSWindow? I don't want to have to completely write a new custom window. I can't use NSBorderlessWindowMask because I have a bottom bar on my window, and using NSBorderlessWindowMask makes that disappear. I also tried using setContentBorderThickness:forEdge: with NSMaxYEdge and setting it to 0, that didn't work either.</p>\n\n<p>Any help is appreciated</p>\n"},{"tags":["objective-c","xcode","osx","cocoa","nswindow"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":13145239,"title":"How to make a NSWindow like this one from Tweetbot?","body":"<p>I'd like to make a <code>NSWindow</code> like this one. How can i do it?<br>\nSorry if this is an noobie question but i'm figuring it out.\n<img src=\"http://i.stack.imgur.com/Lx1Zb.jpg\" alt=\"enter image description here\"></p>\n"},{"tags":["iphone","objective-c","cocoa","datetime","formatting"],"answer_count":4,"favorite_count":2,"up_vote_count":5,"down_vote_count":0,"view_count":2125,"score":5,"question_id":1245319,"title":"How I can set a date string from twitter to a NSDATE","body":"<p>The date you get back from twitter is in this format <code>Fri Aug 07 12:40:04 +0000 2009</code>. I am able to assign the value to a NSDate without issue. However, when I attempt to use NSDateFormatter, I get a nil returned to me. What am I missing?</p>\n\n<pre><code>\tNSDate *createdAt = [messageData objectForKey:@\"created_at\"];\n\tNSDateFormatter *format = [[NSDateFormatter alloc] init];\n\t[format setDateFormat:@\"M/d/yy HH:mm\"];\n\n\tNSString *dateString = [format stringFromDate:createdAt];\n\n\n\tlabel.text = dateString;\n</code></pre>\n"},{"tags":["osx","cocoa"],"answer_count":6,"favorite_count":2,"up_vote_count":6,"down_vote_count":0,"view_count":1877,"score":6,"question_id":7520615,"title":"How to convert an NSData into an NSString Hex string?","body":"<p>When I call <code>-description</code> on an <code>NSData</code> object, I see a pretty Hex string of the <code>NSData</code> object's bytes like:</p>\n\n<pre><code>&lt;f6e7cd28 0fc5b5d4 88f8394b af216506 bc1bba86 4d5b483d&gt;\n</code></pre>\n\n<p>I'd like to get this representation of the data (minus the lt/gt quotes) into an in-memory <code>NSString</code> so I can work with it..  I'd prefer not to call <code>-[NSData description]</code> and then just trim the lt/gt quotes (because I assume that is not a guaranteed aspect of <code>NSData</code>'s public interface and is subject change in the future).  </p>\n\n<p>What's the simplest way to get this representation of an <code>NSData</code> object into an <code>NSString</code> object (other than calling <code>-description</code>)?</p>\n"},{"tags":["objective-c","xcode","osx","cocoa"],"answer_count":2,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":37,"score":3,"question_id":13142803,"title":"Window ordering and XIB","body":"<p>I am setting my first steps in OSX development and I've run into some problems. I have quite some experience with iOS development but the window system for OSX programs is something else.</p>\n\n<p>I am making a client for a social network like twitter and need 2 seperate window controller for first starting the app, one if you are logged in to show your timeline and one for logging in, if you are not yet logged in. In the info.plist you need to give it a main.xib. For this I made an empty xib which I hide, the second the app starts. This is not really a good solutions IMO, what is a better solution for this? I want to keep the windows seperate from the appdelegate because that way I can keep my code seperated. </p>\n\n<p>This gives me a problem, when I open my 'second' window to login it shows up but isn't active. I have tried all the things like, orderFront:, activateIgnoringOtherApps:, makeKeyAndOrderFront: &amp; more. But this all doesn't work..</p>\n\n<p>So: First off, is there a better way to handle the main.xib that is needed in the info.plist and if not, is there a way around the focus problem?\nI'm working om osx 10.7</p>\n"},{"tags":["objective-c","cocoa","speech-recognition"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":13127281,"title":"Setting first responder","body":"<p>My <code>NSSpeechRecognizer</code> will not receive commands when I have a <code>NSMenu</code> open for my app. Apparently, the menu takes precedence. How do I make the speech recognizer take precedence over the menu (so that it detects speech)? I think what I need is a \"first responder\" change.</p>\n\n<p><strong>Update</strong></p>\n\n<p>I've come to the conclusion that the problem, in the end, is not a first responder issue but rather that the NSMenu is blocking the main thread. See <a href=\"http://stackoverflow.com/questions/13094198/status-item-blocking-the-main-thread-nsmenu-blocking-nsspeechrecognizer-from-de\">Status Item blocking the main thread (NSMenu blocking NSSpeechRecognizer from detecting sound)</a> Thank you for the help!</p>\n"},{"tags":["java","xcode","cocoa","gui"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":291,"score":1,"question_id":7907918,"title":"How do you make a Java app with a Cocoa UI?","body":"<p>I have to use a Java API for a project, but since I'm not a fan of Java UIs and I have a Mac, I want to build a native Cocoa application around the Java code. I know Xcode used to provide direct support for this sort of thing, but since it no longer does, what's the best way to do this?\nIf it matters, I have Xcode 3.2.5 under Mac OS 10.6.8.</p>\n"},{"tags":["objective-c","xcode","cocoa","nswindow"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":32,"score":1,"question_id":13124055,"title":"Overriding NSWindowController","body":"<p>Got a small question, i'm busy creating an OSX application. In my first view (appdelegate) i got a login screen, but after the users logged in i want (flip the logincontroller (main.xib) to remove the login screen and open a new NSWindowcontroller.</p>\n\n<p>What is the best way to do that? I tried;</p>\n\n<pre><code>    Second = [[SecondController alloc] initWithWindowNibName:@\"SecondController\"];\n\n[[Second window] makeFirstResponder:nil];\n</code></pre>\n\n<p>But now the second controller appears but the first controller stays. In iOS development i'm doing (want the same thing but than for OSX)</p>\n\n<pre><code>CategoriesViewController *tableController = [CategoriesViewController alloc];\n\n    tableController.managedObjectContext = [self managedObjectContext];\n\n    self.navigationController = [[UINavigationController alloc] initWithRootViewController:tableController];\n</code></pre>\n"},{"tags":["cocoa","core-text"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13126363,"title":"Setting default font & size while loading HTML into NSTextView","body":"<p>I'm loading a simple HTML into NSTextView. I have already set the font attributes for NSTextView but the loading of HTML ignore these fonts and defaults always to 'Times-Roman 12 size'. Currently I'm enumerating through the attributes and setting the font size. But it seems expensive to do this just for changing the size. Is this the only way to do it? Is there a better way?</p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;p&gt;This is just a &lt;b&gt;title&lt;/b&gt;&lt;/p&gt;\n</code></pre>\n\n<p>Loading HTML into NSTextView &amp; subsequent change of fontsize:</p>\n\n<pre><code>    NSData *valueInDataFormat = [bodyContent dataUsingEncoding:NSUTF8StringEncoding];\n    NSAttributedString *textToBeInserted = [[NSAttributedString alloc] initWithHTML:valueInDataFormat documentAttributes:nil];\n\n    NSDictionary *rtfTextAttributes = [self defaultTextAttributesFor:RTFText];\n    //inserttext mimic what user do; so it takes the typingattributes\n    //ref: http://www.cocoabuilder.com/archive/cocoa/113938-setting-default-font-of-an-nstextview.html#114071\n    [entryContent setString:@\"\"];\n    [entryContent setTypingAttributes:rtfTextAttributes];\n    [entryContent insertText:textToBeInserted];\n\n    //now change font size\n            NSTextStorage *content = [entryContent textStorage];\n            [content beginEditing];\n            NSRange totalRange = NSMakeRange (0, content.length);\n\n            [content enumerateAttributesInRange: totalRange\n                                                 options: 0\n                                              usingBlock: ^(NSDictionary *attributes, NSRange range, BOOL *stop) {\n                                                  NSLog (@\"range: %@  attributes: %@\",\n                                                         NSStringFromRange(range), attributes);\n\n                                                  NSFont *font = [attributes objectForKey:NSFontAttributeName];\n                                                  if (font){\n                                                      [content removeAttribute:NSFontAttributeName range:range];\n                                                      font = [[NSFontManager sharedFontManager] convertFont:font toSize:[font pointSize] + 3];\n                                                      [content addAttribute:NSFontAttributeName value:font range:range];\n                                                  }\n                                              }];\n            [content endEditing];\n            [entryContent didChangeText];\n</code></pre>\n"},{"tags":["cocoa","system-preferences"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":8,"score":1,"question_id":13142480,"title":"How to programmatically enable a Service?","body":"<p>I have an application that provides a service to modify text that is currently selected. However, it has to be first enabled by the user through the Keyboard Shortcuts section of System Preferences.</p>\n\n<p>Is there a way for me to enable it for the user?</p>\n"},{"tags":["cocoa","service"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":9,"score":0,"question_id":13142379,"title":"How to use Services without opening the Application?","body":"<p>I have a cocoa application providing a service which modifies text. Each time I use the service, an instance of my application opens up. So if I use it ten times, then ten instances of my application pop up in the dock, which gets very annoying.</p>\n\n<p>How do I make my application provide the service without itself opening? Or if it has to be opened, how do I ensure that only one instance of it is opened?</p>\n\n<p>I have [NSApp setServicesProvider: someObject] in ApplicationDidFinishLaunching, which might be the problem.</p>\n"},{"tags":["objective-c","cocoa","nsuserdefaults","osx-mountain-lion","xcode4.5"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":75,"score":0,"question_id":13126891,"title":"NSUserDefaults unable to save and read my custom objects","body":"<p>I have a class Notification that implements the NSCoding protocol.<br>\nI have an array of notifications.I am trying to save the notifications with NSUserDefaults.In my app delegate notifications is a NSMutableArray that contains the Notification objects.That's my app delegate:    </p>\n\n<pre><code>+ (void) initialize\n{\n    NSUserDefaults* defaults=[NSUserDefaults standardUserDefaults];\n    [defaults registerDefaults: [NSDictionary dictionaryWithObject: [NSKeyedArchiver archivedDataWithRootObject: [NSArray array]] forKey: @\"notificationsData\"]];\n}\n\n\n- (id) init\n{\n    self=[super init];\n    if(self)\n    {\n        NSUserDefaults* defaults=[NSUserDefaults standardUserDefaults];\n        NSData* notificationsData=[defaults objectForKey: @\"notificationsData\"];\n        notifications= [[NSKeyedUnarchiver unarchiveObjectWithData: notificationsData]mutableCopy];\n    }\n    return self;\n}\n\n- (void) applicationWillTerminate:(NSNotification *)notification\n{\n    NSUserDefaults* defaults=[NSUserDefaults standardUserDefaults];\n    NSData* notificationsData=[NSKeyedArchiver archivedDataWithRootObject: notifications];\n    [defaults setObject: notificationsData forKey: @\"notificationsData\"];\n}\n</code></pre>\n\n<p>In the Notification class text and title are of type NSString (both readwrite), and date is of type NSDate (also this has readwrite property).This is how I implement the NSCoding protocol:  </p>\n\n<pre><code>- (void) encodeWithCoder:(NSCoder *)aCoder\n{\n    [aCoder encodeObject: date forKey: @\"date\"];\n    [aCoder encodeObject: title forKey: @\"title\"];\n    [aCoder encodeObject: text forKey: @\"text\"];\n}\n\n- (id) initWithCoder:(NSCoder *)aDecoder\n{\n    self=[super init];\n    if(self)\n    {\n        date=[aDecoder decodeObjectForKey: @\"data\"];\n        title=[aDecoder decodeObjectForKey: @\"title\"];\n        text=[aDecoder decodeObjectForKey: @\"text\"];\n    }\n    return self;\n}\n</code></pre>\n\n<p>So I have these problems:  </p>\n\n<ol>\n<li>When the application terminates I get EXC_BAD_ACCESS in the\nNotification class, when I try to encode text with NSKeyedArchiver;</li>\n<li>The notifications aren't saved and the array is always long zero\nwhen the application starts.</li>\n</ol>\n\n<p>Update: With more debug I discovered where the application crashes.There is more code to see (I'm using a table view to display the data):  </p>\n\n<pre><code>- (NSInteger) numberOfRowsInTableView:(NSTableView *)tableView\n{\n    return [notifications count];\n}\n\n- (id) tableView:(NSTableView *)tableView objectValueForTableColumn:(NSTableColumn *)tableColumn row:(NSInteger)row\n{\n    // Debug\n    id obj=[[notifications objectAtIndex: row] valueForKey: [tableColumn identifier]];\n    Class class=[obj class];\n    // What you see above is just for debug purposes\n    return [[notifications objectAtIndex: row] valueForKey: [tableColumn identifier]];\n}\n\n- (void) tableViewSelectionDidChange:(NSNotification *)notification\n{\n    NSInteger row=[tableView selectedRow];\n    if(row &gt;= 0 &amp;&amp; row&lt; [notifications count])\n        [removeButton setEnabled: YES];\n    else\n        [removeButton setEnabled: NO];\n}\n</code></pre>\n\n<p>The last method called is this:  </p>\n\n<pre><code>- (id) tableView:(NSTableView *)tableView objectValueForTableColumn:(NSTableColumn *)tableColumn row:(NSInteger)row;\n</code></pre>\n\n<p>Probably the problem is that the data is somehow corrupted and the value returned by this method is not valid.Anyway the app doesn't crash in this method, but after this method.<br>\nIf I load two objects from user defaults, only one object gets loaded before crashing (so the method gets called once).<br>\nHowever I'm still unable to get the real reason of the crash.</p>\n\n<p>More code:</p>\n\n<pre><code>- (IBAction) addNotification :(id)sender\n{\n    Notification* notification=[[Notification alloc]init];\n    [notification setDate: [datePicker dateValue]];\n    [notification setText: [textView string]];\n    [notifications addObject: notification];\n    [tableView reloadData];\n}\n\n- (IBAction)removeNotification:(id)sender\n{\n    [notifications removeObjectAtIndex: [tableView selectedRow]];\n    [tableView reloadData];\n}\n</code></pre>\n\n<p>addNotification and removeNotification are both triggered by buttons.</p>\n\n<p>EDIT: I discovered that I wasn't using ARC, but even if I turn it on the app crashes.</p>\n"},{"tags":["osx","cocoa","save","appstore-sandbox"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":32,"score":1,"question_id":13139587,"title":"Permissions error when saving file (sandbox)","body":"<p>I'm trying to save a file to a path, in a sandboxed application [OS X], but so far am getting an error almost every time I try to save. The error is..</p>\n\n<pre><code>Error saving: Error Domain=NSCocoaErrorDomain Code=513 \"You don’t have permission to save the file “test.txt” in the folder “Testing”.\" UserInfo=0x1001f5e70 {NSFilePath=/Users/Seb/Desktop/Testing/test.txt, NSUnderlyingError=0x1001f5d70 \"The operation couldn’t be completed. Operation not permitted\"}\n</code></pre>\n\n<p>I have set \"User Selected File\" of my entitlements to \"Read/Write Access\".</p>\n\n<p>My code..</p>\n\n<pre><code>NSString *saveLoc = [NSString stringWithFormat:@\"%@/%@.txt\",[[NSURL URLWithString:[[NSUserDefaults standardUserDefaults] valueForKey:@\"saveURL\"]] path],self.theWindow.title];\nNSURL *saveURL = [NSURL fileURLWithPath:saveLoc];\n\nNSLog(@\"Saving to: %@\",saveLoc);\n\nNSError *err = nil;\n[self.textView.string writeToURL:saveURL atomically:YES encoding:NSUTF8StringEncoding error:&amp;err];\n\nif (err) {\n    NSLog(@\"Error saving: %@\",err);\n    [[NSAlert alertWithError:err] beginSheetModalForWindow:self.theWindow\n                                                       modalDelegate:nil\n                                                      didEndSelector:NULL\n                                                         contextInfo:nil];\n}\n</code></pre>\n\n<p>What am I doing wrong? How can I save the file?</p>\n\n<p>Thanks.</p>\n"},{"tags":["objective-c","cocoa","nsoperation","nsoperationqueue"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":28,"score":1,"question_id":13132099,"title":"Ending a modal run loop from an NSOperation","body":"<p>I'm performing a lengthy operation when my application starts up. I'm using a modal NSWindow to display my progress bar and messages throughout the operation.</p>\n\n<p>What I want to accomplish is when the operation is done running, close the window automatically, and end the modal run loop and get on with the rest of the program. I've tried three different methods in my window controller:</p>\n\n<p><strong>Method 1:</strong></p>\n\n<pre><code>- (void)windowDidLoad\n{\n    // self.op is an initialized NSOperationQueue set before this method is called\n    [self.op addOperationWithBlock:^{\n        [self performMigration]; // The method that does all the background work (works fine)\n        [NSApp stopModal];\n        [[NSOperationQueue mainQueue] addOperationWithBlock:^{\n            [self close];\n        }];\n    }];\n}\n</code></pre>\n\n<p>Result: The window stays on the screen until I move the mouse (or perform an 'event' of some sort) and then things continue like expected.</p>\n\n<p><strong>Method 2:</strong></p>\n\n<pre><code>- (void)windowDidLoad\n{\n    [self.op addOperationWithBlock:^{\n        [self performMigration];\n        [NSApp stopModal];\n        [self close];\n    }];\n}\n</code></pre>\n\n<p>Result: The window closes, but the main run loop doesn't continue until a move the mouse (like above).</p>\n\n<p><strong>Method 3:</strong></p>\n\n<pre><code>- (void)windowDidLoad\n{\n    // Get the thread of the modal loop\n    self.callbackThread = [NSThread currentThread];\n    [self.op addOperationWithBlock:^{\n        [self performMigration];\n        [self performSelector:@selector(callback) onThread:self.callbackThread withObject:nil waitUntilDone:NO];\n    }];\n}\n\n- (void)callback\n{\n    [NSApp stopModal];\n    [self close];\n}\n</code></pre>\n\n<p>Same result as #2.  I'm assuming (based on spending all day on this) that the modal run loop wants to be stopped during event handling (like pushing a Close button).</p>\n\n<p>Is there something obvious that I'm missing to accomplish this seemly simple task?  Thanks!</p>\n"},{"tags":["osx","cocoa","appkit"],"answer_count":1,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":25,"score":4,"question_id":13140113,"title":"Picker like custom control for OS X?","body":"<p>Is there a <a href=\"http://en.wikipedia.org/wiki/Open-source_software\" rel=\"nofollow\">OSS</a> custom control or source code sample for doing something like the iOS Picker controls on Mac OS X (the spinning barrel thingie)?</p>\n\n<p><img src=\"http://i.stack.imgur.com/PVCXX.png\" alt=\"enter image description here\"></p>\n\n<p>A bit of research on the web and sites like <a href=\"http://www.cocoacontrols.com\" rel=\"nofollow\">http://www.cocoacontrols.com</a> didn't turn up anything..</p>\n\n<p>I realize that the paradigm will be awkward for many scenarios however it'll be ideal in terms of screen estate (and design) for the casual app I'm working on.</p>\n\n<p>Any hints appreciated.</p>\n"},{"tags":["ios","cocoa","avfoundation","nsurlprotocol"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":68,"score":1,"question_id":12963606,"title":"Using AVURLAsset on a custom NSURLProtocol","body":"<p>I have written a custom NSURLProtocol (called \"memory:\") that allows me to fetch stored NSData items from a NSDictionary based on a name.  For example, this code registers the NSURLProtocol class and adds some data:</p>\n\n<pre><code>[VPMemoryURLProtocol register];\n[VPMemoryURLProtocol addData:data withName:@\"video\"];\n</code></pre>\n\n<p>This allows me to refer to the NSData via a url like \"memory://video\".</p>\n\n<p>Below is my custom NSURLProtocol implementation:</p>\n\n<pre><code>NSMutableDictionary* gMemoryMap = nil;\n\n\n\n@implementation VPMemoryURLProtocol\n{\n}\n\n+ (void)register\n{\n    static BOOL inited = NO;\n    if (!inited)\n    {\n        [NSURLProtocol registerClass:[VPMemoryURLProtocol class]];\n        inited = YES;\n    }\n}\n\n+ (void)addData:(NSData *)data withName:(NSString *)name\n{\n    if (!gMemoryMap)\n    {\n        gMemoryMap = [NSMutableDictionary new];\n    }\n\n    gMemoryMap[name] = data;\n}\n\n+ (BOOL)canInitWithRequest:(NSURLRequest *)request\n{\n    NSLog(@\"URL: %@, Scheme: %@\",\n          [[request URL] absoluteString],\n          [[request URL] scheme]);\n\n    NSString* theScheme = [[request URL] scheme];\n    return [theScheme caseInsensitiveCompare:@\"memory\"] == NSOrderedSame;\n}\n\n+ (NSURLRequest *)canonicalRequestForRequest:(NSURLRequest *)request\n{\n    return request;\n}\n\n- (void)startLoading\n{\n    NSString* name = [[self.request URL] path];\n    NSData* data = gMemoryMap[name];\n\n    NSURLResponse* response = [[NSURLResponse alloc] initWithURL:[self.request URL]                                                                \n                                                        MIMEType:@\"video/mp4\"\n                                           expectedContentLength:-1\n                                                textEncodingName:nil];\n\n    id&lt;NSURLProtocolClient&gt; client = [self client];\n    [client URLProtocol:self didReceiveResponse:response              \n                             cacheStoragePolicy:NSURLCacheStorageNotAllowed];\n    [client URLProtocol:self didLoadData:data];\n    [client URLProtocolDidFinishLoading:self];\n}\n\n- (void)stopLoading\n{\n\n}\n</code></pre>\n\n<p>I am not sure whether this code works or not but that is not what I have a problem with.  Despite registering the custom protocol, canInitWithRequest: is never called when I try to use the URL in this code:</p>\n\n<pre><code>NSURL* url = [NSURL URLWithString:@\"memory://video\"];\nAVURLAsset* asset = [[AVURLAsset alloc] initWithURL:url options:nil];\n\nAVAssetImageGenerator* imageGen = [AVAssetImageGenerator assetImageGeneratorWithAsset:asset];\nCMTime time = CMTimeMakeWithSeconds(0, 600);\nNSError* error;\nCMTime actualTime;\n\nCGImageRef image = [imageGen copyCGImageAtTime:time\n                                    actualTime:&amp;actualTime\n                                         error:&amp;error];\n\nUIImage* uiImage = [UIImage imageWithCGImage:image];\nCGImageRelease(image);\n</code></pre>\n\n<p>image is always nil if I use \"memory://video\" but works fine if I use \"file:///...\".  What am I missing?  Why isn't canInitWithRequest not being called?  Does AVFoundation only support specific URL protocols and not custom ones?</p>\n\n<p>Thanks</p>\n"},{"tags":["objective-c","osx","cocoa","apple","overlay"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13131990,"title":"Overlay Window in Mac","body":"<p>I found an overlay window example at <a href=\"http://developer.apple.com/library/mac/#samplecode/FunkyOverlayWindow/Introduction/Intro.html\" rel=\"nofollow\">developer.apple.com</a>. It works perfectly but I also want to overlay my program's window on other full screen application's windows.</p>\n\n<p>Is there any way to perform this function?</p>\n"},{"tags":["cocoa","core-animation","calayer"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13135114,"title":"CALayer resizing with flexible width, left margin and right margin","body":"<p>I added a sublayer to an existing layer and set its autoresizing mask to the following:</p>\n\n<pre><code>sublayer.autoresizingMask = kCALayerWidthSizable | kCALayerMaxXMargin | kCALayerMinXMargin;\n</code></pre>\n\n<p>Resizing works OK when making the layer bigger -- but making it smaller never changes the width.<br>\nThis picture illustrates the problem:</p>\n\n<p><img src=\"http://i.stack.imgur.com/lhCU9.png\" alt=\"Demonstration of the problem\"></p>\n\n<p>Anybody seen this before? How to achieve what's in point 4 in the picture? Thanks!</p>\n"},{"tags":["objective-c","cocoa"],"answer_count":3,"favorite_count":2,"up_vote_count":4,"down_vote_count":0,"view_count":2308,"score":4,"question_id":1097115,"title":"Bottom bar in NSWindow","body":"<p>I am developing an app in Cocoa. I need to show a progress at the bottom bar of window. But I am searching for a solution to put a bottom bar in a <code>NSWindow</code>. </p>\n\n<p>Looking forward for a solution.</p>\n"},{"tags":["objective-c","osx","cocoa","nstableview"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13138211,"title":"Adding footer in NSTableView","body":"<p>I'm developing a Cocoa application for Mac. In the application, I have to add a footer to a table for adding and deleting rows like in the attached image:</p>\n\n<p><img src=\"http://i.stack.imgur.com/3jITx.png\" alt=\"enter image description here\"></p>\n\n<p>Is there any default controls present for such type of footer view?\nIf there is no such default control, I have to use the image.</p>\n"},{"tags":["objective-c","cocoa","video","slideshow"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":21,"score":1,"question_id":13139494,"title":"Create slideshow-type video using Cocoa/Objective-C","body":"<p>OK, here's what I'm trying to do :</p>\n\n<ul>\n<li>Get some images</li>\n<li>Put one after the other (using some fixed intervals)</li>\n<li>Export the result as a video (the format does not matter)</li>\n</ul>\n\n<p>Any ideas on how I would go about it? Any reference to point me to would be more than welcome...</p>\n"},{"tags":["c++","objective-c","cocoa","mp3","id3"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":29,"score":-1,"question_id":13138543,"title":"way to get data without metadata(ID3) from mp3","body":"<p>Is there any way to get data removed metadata(for example, ID3) from mp3 file with Objective-C, C++, or C?</p>\n\n<p>there are similar function in <a href=\"http://php.net/manual/en/function.id3-remove-tag.php\" rel=\"nofollow\">PHP</a>.</p>\n"},{"tags":["cocoa","nsuserdefaults","autolayout"],"answer_count":3,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":303,"score":0,"question_id":11721656,"title":"How to set NSConstraintBasedLayoutVisualizeMutuallyExclusiveConstraints?","body":"<p>I am getting the following message from Cocoa Auto Layout mechanism:</p>\n\n<blockquote>\n  <p>Set the NSUserDefault NSConstraintBasedLayoutVisualizeMutuallyExclusiveConstraints to YES to have -[NSWindow visualizeConstraints:] automatically called when this happens.</p>\n</blockquote>\n\n<p>But I don't know how to \"Set the NSUserDefault NSConstraintBasedLayoutVisualizeMutuallyExclusiveConstraints to YES\".</p>\n\n<p>Can anybody explains where should I set this and how?</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["objective-c","osx","cocoa","apple"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":179,"score":0,"question_id":7446961,"title":"Programmatically hide all other active applications Cocoa","body":"<p>I am trying to make a OS X application that automatically hides \"⌘H, not minimize\" all other applications when it is launched, and I can't seem to get it to work. This is what I have for accomplishing this so far...</p>\n\n<pre><code>    - (void) awakeFromNib:(NSString *)bundleID\n{\n    [[NSWorkspace sharedWorkspace]\n     launchAppWithBundleIdentifier:@\"com.Developer.myApp\"\n     options:NSWorkspaceLaunchAndHideOthers\n     additionalEventParamDescriptor:NULL\n     launchIdentifier:nil];\n}\n</code></pre>\n\n<p>Any guidance or pointers would be greatly appreciated, thank you in advance!</p>\n"},{"tags":["objective-c","ios","cocoa","core-animation"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":57,"score":2,"question_id":13135096,"title":"Why should I use the block-based animation rather than begin/end animation?","body":"<p>As you know, Apple encourages us to use a new method called block-based animation about animation over iOS 4.0.</p>\n\n<p>I really wonder what block-based animation is better than begin/end style animation.<br>\n&nbsp; &nbsp; performance?<br>\n&nbsp; &nbsp; concurrency?<br>\n&nbsp; &nbsp; coding efficiency and convenience?</p>\n"},{"tags":["iphone","ios","xcode","ipad","cocoa"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":24,"score":-1,"question_id":13136489,"title":"Import a complete photo gallery at once?","body":"<p>Is it possible to import an entire photo gallery of an iPhone/iPad into a self written application? I find it quite time consuming, having to select every picture individually before being able to import them into another app.</p>\n\n<p>If so what are my next words/api/libraries to search for?</p>\n"},{"tags":["cocoa","osx-lion","nsmenuitem","nsmenu","nspopupbutton"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":9,"score":0,"question_id":13134933,"title":"NSPopupButton doesn't show list when being inside a nsmenuitem","body":"<p>I'm a beginner at Cocoa.</p>\n\n<p>I'm writing a status bar application. Inside the NSMenu, the first menuitem's view is a custom view, which containing a nspopupbutton. The pop up button is bound to an array controller.</p>\n\n<p>The problem is that when the popup button is placed in a window, it works fine, but when I move it into the custom view, the list doesn't show up when being clicked. </p>\n\n<p>I wonder if there is any conflict between the main NSMenu and the menu of NSPopUpButton.</p>\n\n<p><img src=\"http://i.stack.imgur.com/jyu7H.png\" alt=\"The custom view\"></p>\n"},{"tags":["objective-c","ios","osx","cocoa-touch","cocoa"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13133989,"title":"Porting an iOS board game to Mac, the missing parts","body":"<p>I am going to port a chess game from iPad to the Mac desktop. AFAIK, the Mac SDK does not come with UIKit. I'd like to know whether the following features are available in the Mac SDK? If no, what the alternatives?</p>\n\n<ul>\n<li>UIViewController</li>\n<li>UIView block-based animations</li>\n<li>UIImageView</li>\n<li>UIGestureRecognizers</li>\n<li>NSTimer</li>\n<li>NSOperationQueue</li>\n</ul>\n\n<p>Is <a href=\"http://chameleonproject.org/\" rel=\"nofollow\">chameleon</a> an option?</p>\n"},{"tags":["objective-c","osx","cocoa","apple"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":64,"score":1,"question_id":12433018,"title":"How to check scrolling direction of OSX with cocoa APIs","body":"<p>I can't find out if scrolling is set to reverse mode or not currently.. and I want to show that setting and also use this for sliders and stuff.</p>\n\n<p>I know I can check just check the plist :</p>\n\n<pre><code>dict = open(\"/Library/Preferences/.GlobalPreferences.plist\");\n=&gt; dict.objectForKey(\"com.apple.swipescrolldirection\");\n</code></pre>\n\n<hr>\n\n<p>I am looking for any API here!?</p>\n"},{"tags":["objective-c","cocoa","applescript","appstore-sandbox","applescript-objc"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":13128364,"title":"Is there a way using AppleScript to click osx menu items without accessing \"System Events\"?","body":"<p>I use code like this to do some menu clicks automatically instead of doing them myself every time again:</p>\n\n<pre><code>tell application \"System Events\" to tell process \"myApp\"\n   click something and so on\nend tell\n</code></pre>\n\n<p>Now, to make this work in the osx lion sandbox, my entitlements file looks like this (done a lot of research to figure this out):</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE plist PUBLIC \"-//Apple//DTD PLIST 1.0//EN\" \"http://www.apple.com/DTDs/PropertyList-1.0.dtd\"&gt;\n&lt;plist version=\"1.0\"&gt;\n    &lt;dict&gt;\n        &lt;key&gt;com.apple.security.app-sandbox&lt;/key&gt;\n        &lt;true/&gt;\n        &lt;key&gt;com.apple.security.temporary-exception.apple-events&lt;/key&gt;\n        &lt;array&gt;\n            &lt;string&gt;com.apple.systemevents&lt;/string&gt;\n            &lt;string&gt;com.apple.iphonesimulator&lt;/string&gt;\n        &lt;/array&gt;\n    &lt;/dict&gt;\n&lt;/plist&gt;\n</code></pre>\n\n<p>And now, as god wants, apple rejects this app because I am accessing <code>com.apple.systemevents</code>. Is there any way to workaround using <code>System Events</code> to click specified menu items in the menu of a specified app?</p>\n"},{"tags":["android","cocoa"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":12145343,"title":"The child(wySprite, x) is already attached to another parent(wySprite, xx), skip addChild","body":"<p>Hi I am using Wiengine for making my game and I am getting this error\nThe child(wySprite, x) is already attached to another parent(wySprite, xx), skip addChild</p>\n\n<p>Can any one let me know how this error can be resolved</p>\n"},{"tags":["cocoa","email","scripting-bridge"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":77,"score":0,"question_id":11927800,"title":"create mail with script bridge","body":"<p>I am trying to create a new email using the cocoa scripting bridge,but can not seem to get it to work.I have so far:</p>\n\n<pre><code>MailApplication *mail = [SBApplication applicationWithBundleIdentifier:@\"com.apple.Mail\"];\nMailOutgoingMessage *emailMessage = [[[[mail classForScriptingClass:@\"outgoing message\"]     alloc] initWithProperties:[NSDictionary dictionaryWithObjectsAndKeys: [saveFileName substringToIndex:[saveFileName length]-4], @\"subject\", @\"something about app.\", @\"content\", nil]] autorelease];\n// add the object to the mail app \n[[mail outgoingMessages] addObject: emailMessage];\nemailMessage.visible = YES;\n\nif ( [FileFullName length] &gt; 0 ) {\n\n    MailAttachment *theAttachment = \n    [[[mail classForScriptingClass:@\"attachment\"] alloc]\n     initWithProperties:[NSDictionary dictionaryWithObjectsAndKeys:\n                         FileFullName, @\"fileName\",nil]];\n    // add it to the list of attachments \n    [[emailMessage.content attachments] addObject: theAttachment];\n    [theAttachment release];\n}\n</code></pre>\n\n<p>When I try and set the visible property,I got the error message:</p>\n\n<pre><code>-[SBProxyByClass setVisible:]: object has not been added to a container yet; selector not recognized [self = 0x7fd4fae3cc90]\n</code></pre>\n\n<p>This issue appeared when I added the sandbox for app.\nCan anyone point the correct direction?</p>\n"},{"tags":["iphone","cocoa","cocoa-touch","core-graphics"],"answer_count":3,"favorite_count":4,"up_vote_count":7,"down_vote_count":0,"view_count":2789,"score":7,"question_id":1021801,"title":"CGPathRef intersection","body":"<p>Is there a way to find out whether two CGPathRefs are intersected or not. In my case all the CGPaths are having closePath. </p>\n\n<p>For example, I am having two paths. One path is the rectangle which is rotated with some angle and the other path is curved path. Two paths origin will be changing frequently. At some point they may intersect. I want to know when they are intersected. Please let me know if you have any solution.</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["objective-c","cocoa","directory"],"answer_count":3,"favorite_count":7,"up_vote_count":11,"down_vote_count":1,"view_count":8891,"score":10,"question_id":5138822,"title":"Create folder/directory in Objective-C/cocoa","body":"<p>I have this code for creating a folder/directory in Objective-C/cocoa.</p>\n\n<pre><code>if(![fileManager fileExistsAtPath:directory isDirectory:&amp;isDir])\n        if(![fileManager createDirectoryAtPath:directory attributes:nil])\n            NSLog(@\"Error: Create folder failed %@\", directory);\n</code></pre>\n\n<p>It works fine, but I got <code>creatDirectoryAtPath:attributes is deprecated</code> warning message.\nWhat's the newest way of making a directory builder in Cocoa/Objective-c?</p>\n\n<h2>SOLVED</h2>\n\n<pre><code>NSFileManager *fileManager= [NSFileManager defaultManager]; \nif(![fileManager fileExistsAtPath:directory isDirectory:&amp;isDir])\n    if(![fileManager createDirectoryAtPath:directory withIntermediateDirectories:YES attributes:nil error:NULL])\n        NSLog(@\"Error: Create folder failed %@\", directory);\n</code></pre>\n"},{"tags":["objective-c","cocoa","sandbox"],"answer_count":2,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":584,"score":3,"question_id":7287060,"title":"Sandboxing my App with Scripting Bridge to send email","body":"<p>I'm using a scripting bridge for sending mails from my Mac App. Now I need to sandbox the app and sending mails is not longer working while sandboxing is enabled.</p>\n\n<p>Does anybody know how to fix that?</p>\n\n<p>Thanks,\nAndreas</p>\n\n<p>Code: \n`    </p>\n\n<pre><code>/* create a Scripting Bridge object for talking to the Mail application */\n    MailApplication *mail = [SBApplication applicationWithBundleIdentifier:@\"com.apple.Mail\"];\n\n\n/* create a new outgoing message object */\nMailOutgoingMessage *emailMessage =\n[[[mail classForScriptingClass:@\"outgoing message\"] alloc]\n initWithProperties:\n [NSDictionary dictionaryWithObjectsAndKeys:\n  [self.subjectField stringValue], @\"subject\",\n  [[self.messageContent textStorage] string], @\"content\",\n  nil]];\n\n/* add the object to the mail app  */\n[[mail outgoingMessages] addObject: emailMessage];\n...\n</code></pre>\n\n<p>`</p>\n"},{"tags":["iphone","ios","cocoa","core-animation","drawrect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13128043,"title":"Constant animation in IOS","body":"<p>I have a graph which is 10 times the width of the iphone screen. I want to scroll it automatically a fixed number of points (for instance 0.01) every 0.2 seconds. I want the animation to stop when a user presses a pause button and to pick up from last position when he taps resume button.</p>\n\n<p>Is it something that can be achieved with Core Animation? Or is it something that you need to do manually using drawRect?</p>\n"},{"tags":["iphone","cocoa","uitextfield"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":13128157,"title":"UItextView Delegate methods not called inside subview","body":"<p>In brief:</p>\n\n<p>In ClassA_VC I do:</p>\n\n<pre><code>ClassB_VC *classB_VC=[ClassB_VC alloc]initWithNibName:@\"ClassB_VC\" bundle:nil];\n[self.view addSubview:classB_VC.view];\n</code></pre>\n\n<p>Then in ClassB_VC I have an UITextField. I set the delegate connection between textfield and File's owner in IB, I added  in @interface declaration and I wrote the protocol methods (textFieldDidEndEditing, textFieldDidBeginEditing, etc...) as usual.</p>\n\n<p>This should work but I got an Exception when I touch the textfield. It seems textfield is not reaching its delegate.</p>\n\n<p>However, if I present the view using presentModalViewController, everything works fine. I'd prefer not having to do it so because these views are into a tabViewController and I'd like not hiding the tabBar when showing.</p>\n\n<p>I hope you understand what I'm trying to say. My english is not very good.</p>\n"},{"tags":["objective-c","osx","cocoa"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":12920490,"title":"Asset loading failing (Cocoa for OS X)","body":"<p>I'm very new to mac development and I have a hard time understanding how all this Cocoa stuff works.</p>\n\n<p>Right now I'm working on getting still images from a video file and in order to do so, I need to load my video file (asset).</p>\n\n<pre><code>NSURL *url = [[NSURL alloc]initWithString:@\"/Users/EVG/Desktop/myfile.mp4\"];\n\nAVURLAsset *myAsset = [[AVURLAsset alloc] initWithURL:url options:nil];\n\nNSArray *keys = @[@\"tracks\"];\n\n[myAsset loadValuesAsynchronouslyForKeys:keys completionHandler:^()\n {\n     NSError *error = nil;\n     AVKeyValueStatus tracksStatus = [myAsset statusOfValueForKey:@\"tracks\" error:&amp;error];\n\n     if ( tracksStatus == AVKeyValueStatusFailed ||\n         tracksStatus == AVKeyValueStatusCancelled )\n     {\n         NSLog(@\"Failed with error: %@\", [error localizedDescription]);\n     }\n }];\n</code></pre>\n\n<p>After this code is executed I'm getting the following message:</p>\n\n<p>NSView Controller[644:4413] Failed with error: The operation could not be completed</p>\n\n<p>Does anyone know how to solve this problem I'm having?</p>\n\n<p>Thank you!!!</p>\n"},{"tags":["objective-c","osx","cocoa"],"answer_count":3,"favorite_count":3,"up_vote_count":19,"down_vote_count":0,"view_count":345,"score":19,"question_id":12683225,"title":"OSX: How to detect if Mission Control is running?","body":"<p>When Mission Control runs, it prevents applications from receiving keyboard and mouse events. It also leaves the last application running thinking that it still has focus. This is a problem for me because I don't receive keyUp or mouseUp events if I start Mission Control with a mouse button or a key held down and my application will behave as if that mouse button or key is held down. </p>\n\n<p>I would like a way to either read both keyboard and mouse events even when Mission Control is active, or a way of detecting that Mission Control is active. Ideally, I would like to be able to do the latter since I effectively can't use my application when Mission Control is running.</p>\n\n<p>I've tried a couple of things with no luck:</p>\n\n<ol>\n<li>Use addGlobalMonitorForEventsMatchingMask to register a global monitor for keyboard and mouse events. This captures mouse events (but not keyboard events, although the <a href=\"http://developer.apple.com/library/mac/#DOCUMENTATION/Cocoa/Reference/ApplicationKit/Classes/NSEvent_Class/Reference/Reference.html#//apple_ref/c/econst/NSLeftMouseUp\">documentation</a> says keyDown events should be sent to the global monitor) when I switch to another application, but Mission Control doesn't seem to let events propagate to global monitors.</li>\n<li>Check <code>[[NSRunningApplication currentApplication] {isActive, ownsMenuBar}]</code>.\nApparently, my application is active even though it's not receiving events!</li>\n<li>Check <code>[NSApp keyWindow] != nil</code>.\nApparently, one of my windows should be receiving key events. None of them are.</li>\n<li>Check if Mission Control is one of the running applications returned by <code>[NSWorkspace runningApplications]</code>. Mission Control does not show up in this list when it's running.</li>\n</ol>\n\n<p>Thanks in advance!</p>\n"},{"tags":["regex","cocoa","nsstring","pattern-matching"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":708,"score":0,"question_id":3058799,"title":"NSString simple pattern matching","body":"<p>Mac OS 10.6, Cocoa project, 10.4 compatibility required.</p>\n\n<p>(Please note: my knowledge of regex is quite slight)</p>\n\n<p>I need to parse  NSStrings, for matching cases where the string contains an embedded tag, where the tag format is:</p>\n\n<p>[xxxx] </p>\n\n<p>Where xxxx are random characters.</p>\n\n<p>e.g. \"The quick brown [foxy] fox likes sox\".   </p>\n\n<p>In the above case, I need to grab the string \"foxy\". (Or nil if no tag is found.)</p>\n\n<p>Each string will only have one tag, and the tag can appear anywhere within the string, or may not appear at all.</p>\n\n<p>Could someone please help with a way to do that, preferably without having to include another library such as RegexKit.  Thank you for any help.</p>\n"},{"tags":["cocoa","phone","telephony","modem","caller"],"answer_count":4,"favorite_count":2,"up_vote_count":4,"down_vote_count":0,"view_count":402,"score":4,"question_id":1891122,"title":"How can I read Caller ID information in a Cocoa app?","body":"<p>Specifically, I have the Apple USB modem that says it supports Caller ID and I want my app to be able to know when a call comes in and whose calling.  In the future I may add dialer capabilities, etc., but cart-before-the-horse.  Caller ID is stop-one!</p>\n\n<p>That said, I can't believe this has proven sooo ellusive to find even a single example of ANYWHERE (I have googled the CRAP out of this!) but can anyone show me how to do basic Caller ID detection in a Mac app?  I'd prefer Cocoa but will be willing to go Carbon if I must.</p>\n\n<p>Now I'm not looking for a full-on telephony API example although again, I'll go that route if I have to, but I can't even find that!  Found this all over the place on the Windows side of things, but can't find a damn thing on Mac!</p>\n\n<p>HELP!</p>\n"},{"tags":["xcode","osx","cocoa","icons","iconutil"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":558,"score":1,"question_id":12306223,"title":"How to manually create icns files using iconutil?","body":"<p>When I'm validating my app I get this error: </p>\n\n<blockquote>\n  <p>the application bundle does not contain an icon in ICNS format, containing both a <code>512x512</code> and a <code>512x512@2x</code> image.</p>\n</blockquote>\n\n<p>I use to make the icns icons with <a href=\"http://www.img2icnsapp.com/\" rel=\"nofollow\">Img2icns</a> app and till today it always worked good. But now I'm getting that error and there's no way to make it work. I tryed to put two PNG files togheter (<code>512x512</code> and <code>1024x1024</code>) in <a href=\"http://www.img2icnsapp.com/\" rel=\"nofollow\">Img2icns</a> but I always get the error. I also tryed to follow instructions on OS X Human Interface Guideline of Apple but when I try to make the icon sets I get this terminal error: </p>\n\n<blockquote>\n  <p>-bash: syntax error near unexpected token 'newline'</p>\n</blockquote>\n\n<p>I am not very good with terminal command and so maybe I'm doing something wrong. I wrote:</p>\n\n<pre><code>iconutil -c icns &lt;/Users/myname/SDK Mac Apps/MyApp/grafica/icon.iconset&gt;\n</code></pre>\n\n<p>If anyone could help it would be very much appreciated. Thanks, Massy.</p>\n"},{"tags":["cocoa","nstableview","nsoutlineview","autolayout"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":12237707,"title":"How to set NSOutlineView to consider minimal content's widths with autolayout?","body":"<p>I have <code>NSSplitView</code> with <code>NScrollView</code> inside it and view-based <code>NSOutlineView</code> inside <code>NSScrollView</code>, it has e.g. one column. My outline view must be scrollable vertically only and it must consider minimal width of column content to fit it. I think they must return <code>-(NSSize)fittingSize</code> with values <code>{minColumnWidth, 0}</code>, but it returns {0,0}. How can I do that? </p>\n"},{"tags":["iphone","objective-c","cocoa","abaddressbook"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":125,"score":0,"question_id":8366537,"title":"How to set hidden label and value with AddressBook Framework in cocoa?","body":"<p>I know how to add a label&amp;value into a local contact,just like this:\n    CFErrorRef error;</p>\n\n<pre><code>ABMultiValueRef ref = ABRecordCopyValue(self.record, kABPersonPhoneProperty);\nABMutableMultiValueRef copyOfRef = ABMultiValueCreateMutableCopy(ref);\n\nABMultiValueAddValueAndLabel(copyOfRef, (CFStringRef)account, kABPersonPhoneMobileLabel, NULL);\nABRecordSetValue(self.record, kABPersonPhoneProperty, copyOfRef, &amp;error);\n\nECP4iPhoneAppDelegate *appDelegate = (ECP4iPhoneAppDelegate *) [[UIApplication sharedApplication] delegate];\nABAddressBookSave([appDelegate.gLABAddressBook addressBook], &amp;error);\n\nCFRelease(copyOfRef);\nCFRelease(ref);\n</code></pre>\n\n<p>But how could I add a <strong>hidden label</strong> and value into a local contact?Because I wanna use some properties in my own app,thx</p>\n"},{"tags":["cocoa","string","cfstring"],"answer_count":6,"favorite_count":19,"up_vote_count":63,"down_vote_count":0,"view_count":33639,"score":63,"question_id":640367,"title":"How to convert CFStringRef to NSString?","body":"<pre><code>NSString *aNSString;\nCFStringRef aCFString;\naCFString = CFStringCreateWithCString(NULL, [aNSString UTF8String], NSUTF8StringEncoding);\naCFString = CFXMLCreateStringByUnescapingEntities(NULL, aCFString, NULL);\n</code></pre>\n\n<p>How can I get a new <code>NSString</code> from <code>aCFString</code>?</p>\n"},{"tags":["osx","cocoa","nsview","mousedown"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13111317,"title":"OSX: Programmatically added subviews not responding to mouse down events","body":"<p>I have 3 subclasses: a Block class, a Row class and a Table class. All are subclasses of NSView. I have a Table added with IB which programmatically displays 8 rows, each of which displays 8 blocks. I overrode the mouseDown: method in Block to change the background color to red, but it doesn't work. Still if I add a block directly on top of the Table with IB it does work so I can't understand why it won't work in the first case.</p>\n\n<p>Here's the implementation code for Block and Row (Table's implementation works the same way as Row's):</p>\n\n<pre><code>//block.m\n\n- (void)drawRect:(NSRect)dirtyRect\n{\n    [color set];\n    [NSBezierPath fillRect:dirtyRect];\n}\n\n-(void)mouseDown:(NSEvent *)theEvent\n{\n    color = [NSColor redColor];\n    checked = YES;\n    [self setNeedsDisplay:YES];\n}\n\n//row.m\n\n- (void)drawRect:(NSRect)dirtyRect\n{\n\n    [[NSColor blueColor] set];\n    [NSBezierPath fillRect:dirtyRect];\n    int x;\n    for(x=0; x&lt;8; x++){\n    int margin = x*2;\n    NSRect rect = NSMakeRect(0, 50*x+margin, 50, 50);\n    Block *block = [[Block alloc] initWithFrame:rect];\n    [self addSubview:block];\n    }\n}\n</code></pre>\n"},{"tags":["cocoa","binding","nib","nsarraycontroller","nscollectionview"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13124752,"title":"Multiple entities in in NSCollectionView","body":"<p>In the past I have used an NSCollectionView in the UI to allow the user to add and remove text fields that represent the values of a to-many relationship. i.e.:</p>\n\n<p>For product 'A', multiple 'Key Features' are added and removed use a collection view bound to an NSArrayController of 'KeyFeatures'.</p>\n\n<p>What I am trying to do now is something similar except key features also has a 'Version' that represents say for instance the version of Windows the feature is part of...</p>\n\n<p>So product 'A', 'Key feature 1' may have a version 'Vista', 'Key Feature 2' may have a version 'XP' and so on. Entity 'Product' has a to-many relationship with Entity 'KeyFeature' and 'KeyFeature' has a to-one relationship with Entity 'Version'.</p>\n\n<p>The problem arises in that the CollectionView is bound to the 'KeyFeatures' array controller (using the Collection View Item) but when I want to display a popup button with the available versions for the user to select from for each key feature, it can't be bound to a Versions NSArrayController as it appears that the CollectionView can only be bound to the values of a single NSArrayController. If I bind the pop up button directly to the Version NSArrayController, bypassing the Collection View Item, it displays the values in the popup button but the KeyFeature doesn't pick up the user's selection.</p>\n\n<p>Does anyone know if something like this is possible using a CollectionView? And if not if they know of any alternatives?  </p>\n"},{"tags":["ios","facebook","cocoa","fbconnect","sharekit"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13122106,"title":"ShareKit -facebook error - links must have 'href' and 'text' attributes","body":"<p>I get the following error in a WebView:</p>\n\n<p>Title: </p>\n\n<blockquote>\n  <p><strong>Post to Wall</strong></p>\n</blockquote>\n\n<p>Body:</p>\n\n<blockquote>\n  <p><strong>action links must have string 'href' and 'text' attributes\"</strong></p>\n</blockquote>\n\n<p>Other buttons(navigation):</p>\n\n<blockquote>\n  <p><strong>Okay</strong></p>\n</blockquote>\n\n<p>Context:\nShareKit build 134529c, FBConnect plugged in.\nI'm trying to post a url (http://www.google.com) to my wall.</p>\n\n<p>The authentification is ok, the url is not nil.. I guess I should add those attributes somewhere, but I would prefer not to modify the FBConnect classes. Any ideas?</p>\n"},{"tags":["objective-c","cocoa","core-graphics","nsbezierpath"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13120159,"title":"Stripped stroke on NSBezierPath","body":"<p>I am trying to draw a simple diagram.  I have squares that are connected by lines.  The lines are drawn with <code>NSBezierPath</code>'s.  I am using a random color for the lines so I can follow them.  My problem is that the lines change color.</p>\n\n<p>The output - </p>\n\n<p><img src=\"http://i.stack.imgur.com/6WXe2.png\" alt=\"enter image description here\"></p>\n\n<p>Code - I removed the lines that draw the squares so it only draws the lines:</p>\n\n<pre><code>- (void)drawRect:(NSRect)dirtyRect\n{\n    // Drawing code here.\n    [[NSColor whiteColor] setFill];\n    NSRectFill(dirtyRect);\n\n    CGFloat height = 70.0f;\n    CGFloat yOffset = 20.0f;\n\n    NSRect rect = NSMakeRect(50.0f, 50.0f, 200.0f, height);\n\n    NSEnumerator *reverseEnumerator = [steps reverseObjectEnumerator];\n\n    NSMutableDictionary *rectsByStep = [NSMutableDictionary dictionaryWithCapacity:10];\n\n    for( WFGJobStep *step in reverseEnumerator )\n    {\n        [[NSColor redColor] setFill];\n\n\n        [rectsByStep setObject:[NSValue valueWithRect:rect] forKey:[NSNumber numberWithInteger:step.step]];\n\n        rect.origin.y += height + yOffset;\n\n    }\n\n    reverseEnumerator = [steps reverseObjectEnumerator];\n    for( WFGJobStep *step in reverseEnumerator )\n    {\n        NSRect stepRect = [[rectsByStep objectForKey:[NSNumber numberWithInteger:step.step]] rectValue];\n        NSPoint startPoint = NSMakePoint( stepRect.origin.x + stepRect.size.width, stepRect.origin.y);\n\n        //  draw lines\n        for( NSNumber *stepNumber in step.nextSteps )\n        {\n\n        //\n        //\n        //  Line drawing code here\n        //\n        //\n\n            NSBezierPath * path = [NSBezierPath bezierPath];\n            [path setLineWidth: 4];\n\n            NSRect targetStepRect = [[rectsByStep objectForKey:stepNumber] rectValue];\n            NSPoint endPoint = NSMakePoint( targetStepRect.origin.x + targetStepRect.size.width, targetStepRect.origin.y + targetStepRect.size.height);\n\n            [path moveToPoint:startPoint];\n\n            CGFloat controlX = ( startPoint.y - endPoint.y ) * .2 + stepRect.origin.x + stepRect.size.width + 20;\n\n            [path curveToPoint:endPoint controlPoint1:NSMakePoint(controlX, startPoint.y) controlPoint2:NSMakePoint(controlX, endPoint.y)];\n\n            NSRect square = NSMakeRect( endPoint.x, endPoint.y, 9, 9 );\n            [path appendBezierPathWithOvalInRect: square];\n\n            [[self randomColor] set];\n            [path stroke];\n        }\n    }\n}\n\n- (NSColor *)randomColor {\n    float c[4];\n\n    c[0] = (arc4random() / RAND_MAX) * 1;\n    c[1] = (arc4random() / RAND_MAX) * 1;\n    c[2] = (arc4random() / RAND_MAX) * 1;\n    c[3] = 1.0f;\n\n    return [NSColor colorWithDeviceRed:c[0] green:c[1] blue:c[2] alpha:c[3]];\n}\n</code></pre>\n"},{"tags":["objective-c","osx","cocoa","file-type","uti"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":6,"score":0,"question_id":13123975,"title":"Custom file type bundle saving as public.folder","body":"<p>I am in the process of creating a custom file type.  I have created the Document Type and an Export Type for it, too.</p>\n\n<p>Here is my document type declaration in my info plist:</p>\n\n<pre><code>&lt;key&gt;CFBundleDocumentTypes&lt;/key&gt;\n&lt;array&gt;\n    &lt;dict&gt;\n        &lt;key&gt;CFBundleTypeExtensions&lt;/key&gt;\n        &lt;array&gt;\n            &lt;string&gt;mydoc&lt;/string&gt;\n        &lt;/array&gt;\n        &lt;key&gt;CFBundleTypeIconFile&lt;/key&gt;\n        &lt;string&gt;MyDocument.icns&lt;/string&gt;\n        &lt;key&gt;CFBundleTypeName&lt;/key&gt;\n        &lt;string&gt;MyDocument&lt;/string&gt;\n        &lt;key&gt;CFBundleTypeRole&lt;/key&gt;\n        &lt;string&gt;Editor&lt;/string&gt;\n        &lt;key&gt;LSItemContentTypes&lt;/key&gt;\n        &lt;array&gt;\n            &lt;string&gt;com.mycompany.doctype&lt;/string&gt;\n        &lt;/array&gt;\n        &lt;key&gt;NSDocumentClass&lt;/key&gt;\n        &lt;string&gt;MyDocument&lt;/string&gt;\n    &lt;/dict&gt;\n&lt;/array&gt;\n</code></pre>\n\n<p>And here is my export type:</p>\n\n<pre><code>&lt;key&gt;UTExportedTypeDeclarations&lt;/key&gt;\n&lt;array&gt;\n    &lt;dict&gt;\n        &lt;key&gt;UTTypeConformsTo&lt;/key&gt;\n        &lt;array&gt;\n            &lt;string&gt;com.apple.package&lt;/string&gt;\n        &lt;/array&gt;\n        &lt;key&gt;UTTypeDescription&lt;/key&gt;\n        &lt;string&gt;MyDocument&lt;/string&gt;\n        &lt;key&gt;UTTypeIconFile&lt;/key&gt;\n        &lt;string&gt;MyDocument.icns&lt;/string&gt;\n        &lt;key&gt;UTTypeIdentifier&lt;/key&gt;\n        &lt;string&gt;com.mycompany.doctype&lt;/string&gt;\n        &lt;key&gt;UTTypeTagSpecification&lt;/key&gt;\n        &lt;dict&gt;\n            &lt;key&gt;com.apple.nspboard-type&lt;/key&gt;\n            &lt;array/&gt;\n            &lt;key&gt;com.apple.ostype&lt;/key&gt;\n            &lt;array&gt;\n                &lt;string&gt;com.mycompany.doctype&lt;/string&gt;\n            &lt;/array&gt;\n            &lt;key&gt;public.filename-extension&lt;/key&gt;\n            &lt;array&gt;\n                &lt;string&gt;mydoc&lt;/string&gt;\n            &lt;/array&gt;\n        &lt;/dict&gt;\n    &lt;/dict&gt;\n&lt;/array&gt;\n</code></pre>\n\n<p>Whenever I save this document, i run mdls on the file.  It is of type public.folder and ignores the other data I've given it.</p>\n\n<p>I have tried every permutation of any option I can think of.  I have no idea why this is happening, and it's driving me bonkers.  Has anyone encountered this before?</p>\n"},{"tags":["objective-c","osx","cocoa","coremidi","nsslider"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":45,"score":2,"question_id":12930024,"title":"Best strategy to handle incoming midi signal from MIDIReadProc in cocoa","body":"<p>I have to move some <code>NSSlider</code> by hardware midi controller, I have programmed a midi learn procedure to assign hardware cursor to <code>NSSlider</code>(sub class of), and up there it's all right. Inside <code>MIDIReadProc</code>, I handle moving <code>NSSlider</code> wich depends from incoming control and value, but now when I move hardware cursor, Sliders can be move one for time, it is like moving cursor stop the others.</p>\n\n<p>My question is, what is best strategy to handle cursor moving concurrently ?\n1 . Should I have to handle with a separated thread ?\n2 . Should I have one <code>FIFO</code> data structure of <code>MIDIPacket</code> and processing that out of <code>MIDIReadProc</code>(with some concurrency separated process) ?</p>\n\n<p>I'm sorry for my english.\nThanks for attention.</p>\n\n<p>a.</p>\n"},{"tags":["objective-c","cocoa","nstextfield","nsnumberformatter"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":13115119,"title":"Connect an NSNumberFormatter to NSTextfield","body":"<p>I am trying to connect an NSNumberFormatter to an NSTextfield using the formatter outlet of an NSTextField (shown in image below). My formatter subclass is as follows:</p>\n\n<pre><code>#import &lt;Foundation/Foundation.h&gt;\n\n@interface FieldFormatter : NSNumberFormatter\n\n@end\n\n#import \"FieldFormatter.h\"\n\n@implementation FieldFormatter\n\n- (NSNumberFormatterBehavior)formatterBehavior {\n    return NSNumberFormatterBehavior10_4;\n}\n\n- (NSNumberFormatterStyle)numberStyle {\n    return NSNumberFormatterDecimalStyle;\n}\n\n@end\n</code></pre>\n\n<p><img src=\"http://i.stack.imgur.com/jP4hu.png\" alt=\"enter image description here\"></p>\n\n<p>I get no errors when I run the program but the formatter is not working as it should. When I type a decimal into the text field it rounds up, i.e. 13.8 becomes 14. I can't input decimals at all into the text field.</p>\n\n<p>I can get this to work correctly when using an <code>NSTextField with NSNumberFormatter</code> in Interface Builder. But I would prefer to do this through code so I can have more control over the format.</p>\n\n<p>So what I'm trying to do is this - \nSubclass NSNumberFormatter, connect the formatter to text fields in the XIB, then after the user inputs a number into a text field that number is formatted.</p>\n\n<p>Any suggestions would be helpful.</p>\n"},{"tags":["objective-c","ipad","cocoa","three20","mailcore"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13122387,"title":"Addition of mailcore as static library for archive","body":"<p>I have added mailcore in iOS appliction, but that mailcore is compiled fine in Debugging mode but on archiving it forms .xcarchieve file and .ipa option is dissabled. So I tried to add the static libraries by seprate building of mailcore and drag and drop the lib like libmailcore.a,libssl.a, libsasl2.a, libcrypto.a etc into Xcode project and delete the mailcore project from it. But after addition I get the errors..</p>\n\n<pre><code>Undefined symbols for architecture i386:\n  \"_OBJC_CLASS_$_CTCoreAccount\", referenced from:\n      objc-class-ref in AttachmentDownloader.o\n      objc-class-ref in ImapSync.o\n  \"_OBJC_CLASS_$_CTCoreFolder\", referenced from:\n      objc-class-ref in AttachmentDownloader.o\n  \"_IfTrue_RaiseException\", referenced from:\n      -[ImapFolderWorker fetchFrom:to:seqDelta:syncingNew:progressOffset:progressTotal:alreadySynced:] in ImapFolderWorker.o\n  \"_MailCoreEnableLogging\", referenced from:\n      -[ImapSync run] in ImapSync.o\n  \"_MailCoreDisableLogging\", referenced from:\n      -[ImapSync run] in ImapSync.o\n  \"_mailstream_network_delay\", referenced from:\n      -[ImapSync run] in ImapSync.o\n  \"_mailmessage_resolve_single_fields\", referenced from:\n      -[CTCoreMessage(CTCoreMessageReMail) messageId] in CTCoreMessage+ReMail.o\n  \"_OBJC_CLASS_$_CTCoreMessage\", referenced from:\n      l_OBJC_$_CATEGORY_CTCoreMessage_$_CTCoreMessageReMail in CTCoreMessage+ReMail.o\n  \"_OBJC_IVAR_$_CTCoreMessage.myFields\", referenced from:\n      -[CTCoreMessage(CTCoreMessageReMail) libetpanDateTime] in CTCoreMessage+ReMail.o\n      -[CTCoreMessage(CTCoreMessageReMail) senderDate] in CTCoreMessage+ReMail.o\nld: symbol(s) not found for architecture i386\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\n</code></pre>\n\n<p>Please tell, Weather I am following the right procedure of addition of the mailcore as a static liberary in the application or is there any other procedure for building the archive of the application.</p>\n"},{"tags":["cocoa-touch","cocoa","core-image","cifilter"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":9,"score":0,"question_id":13122269,"title":"CIContext returns a nil CGImageRef when using a CIRandomGenerator filter","body":"<p>I'm trying to get the output of the CoreImage CIRandomGenerator filter, with the following code:</p>\n\n<pre><code>CIContext *context = [CIContext contextWithOptions:nil];\n\nCIFilter *randomNoise = [CIFilter filterWithName:@\"CIRandomGenerator\"];\n[randomNoise setDefaults];\n\nCIImage *output = randomNoise.outputImage;\n\n// This returns nil\nCGImageRef ref = [context createCGImage:output\n                               fromRect:output.extent];\nself.photoView.image = [UIImage imageWithCGImage:ref];\nCGImageRelease(ref);\n</code></pre>\n\n<p>However, the createCGImage:fromRect: always returns a nil CGImageRef. </p>\n\n<p>What am I doing wrong?</p>\n"},{"tags":["ios","cocoa"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":8,"score":0,"question_id":13122169,"title":"UISearchDisplayController not animating properly","body":"<p>I have a standard UITableViewController inside a UINavigationController. I want to add a UISearchDisplayController BUT I am making programmatically, no xib.</p>\n\n<p>I add the search bar to the table header, when focus goes to the UISearchBar, I am expecting the navigation bar to get animated away etc as is the standard. But this doesn't happen, and the search bar continues to scroll with the table, and the navigation bar remains. Am I missing something to make the animation happen when doing it without a xib?</p>\n\n<pre><code>- (void)viewDidLoad\n{\n    [super viewDidLoad];\n\n    UISearchBar *searchBar = [[UISearchBar alloc] initWithFrame:CGRectZero];\n    [searchBar sizeToFit];\n    searchBar.delegate = self;\n    self.tableView.tableHeaderView = searchBar;\n    UISearchDisplayController *searchDisplayController = [[UISearchDisplayController alloc] initWithSearchBar:searchBar\n                                                                                     contentsController:self];\n\n    searchDisplayController.delegate = self;\n    searchDisplayController.searchResultsDelegate = self;\n    searchDisplayController.searchResultsDataSource = self;\n}\n</code></pre>\n"},{"tags":["cocoa","xpc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":68,"score":0,"question_id":12764519,"title":"NSXPCConnection or XPCKit","body":"<p>There are two choices (or at least I know two) for implementing XPC client and service for Mac. NSXPCConnection which is introduced in 10.8 and <a href=\"https://github.com/amazingsyco/XPCKit\" rel=\"nofollow\">XPCKit</a>. What should I use to implement helper app that resides in menu bar and uses XPC to read data from the main app.</p>\n\n<p>The main difference I see is that <code>XPCKit</code> will work in 10.7 Lion while <code>NSXPCConnection</code> is available only in 10.8 Mountain Lion. What else should I take into consideration when choosing between them. I'd be grateful for the responses from the developers who used both.</p>\n\n<p>P.S. My app still works in 10.7, however from my previous experience it's not a problem to require the latest version of OS X in 2-3 months after release.</p>\n"},{"tags":["objective-c","osx","cocoa","properties"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":13099611,"title":"Unable to access App Delegate property","body":"<p>I'm trying to access a property in my app delegate from another class (something I thought would be rather simply) but I'm having troubles in doing so.  My files currently look like this:</p>\n\n<p><strong>LTAppDelegate.h</strong></p>\n\n<pre><code>#import &lt;Cocoa/Cocoa.h&gt;\n#import \"Subject.h\"\n\n@interface LTAppDelegate : NSObject &lt;NSApplicationDelegate, NSOutlineViewDelegate, NSOutlineViewDataSource, NSMenuDelegate&gt; {\n\n}\n\n@property Subject *selectedSubject;\n\n@end\n</code></pre>\n\n<p><strong>LTAppDelegate.m</strong></p>\n\n<pre><code>@synthesize selectedSubject;\n</code></pre>\n\n<p>The value for selectedSubject is then set inside <code>applicationDidFinishLaunching</code>in LTAppDelegate.m.  Now I'm wanting to get access to this from another class that I have, which is called LTTableViewController and is setup like so:</p>\n\n<p><strong>LTTableViewController.h</strong></p>\n\n<pre><code>#import &lt;Foundation/Foundation.h&gt;\n#import \"LTAppDelegate.h\"\n#import \"Subject.h\"\n#import \"Note.h\"\n\n@interface LTTableViewController : NSObject{\n    NSMutableArray *notesArray;\n    LTAppDelegate *appDelegate;\n    Subject *s;\n}\n\n-(IBAction)currentSubjectDetails:(id)sender;\n\n@end\n</code></pre>\n\n<p><strong>LTTableViewController.m</strong></p>\n\n<pre><code>#import \"LTTableViewController.h\"\n\n@implementation LTTableViewController\n\n- (id)init\n{\n    self = [super init];\n    if (self) {\n        appDelegate = ((LTAppDelegate *)[[NSApplication sharedApplication] delegate]);\n\n        s = [appDelegate selectedSubject];\n        NSLog(@\"Test Subject: %@\", [s title]);\n\n    }\n    return self;\n}\n\n-(IBAction)currentSubjectDetails:(id)sender{\n    NSLog(@\"Selected Subject: %@\", [s title]);\n</code></pre>\n\n<p>}</p>\n\n<p>After inserting various NSLog() messages it would appear that the init method of LTTableViewController is called before <code>applicationDidFinishLaunching</code>is called in LTAppDelegate.  Based on that it makes sense that the \"Test Subject\" NSLog() in LTTableViewController.m init displays null; however, the 'currentSubjectDetails' method is linked to a button on the interface and when that is pressed after the app is finished loading, the NSLog() message still returns null.</p>\n\n<p>Is there anything obvious I'm missing here.  I feel like I'm being a little stupid and missing something really basic.</p>\n"},{"tags":["iphone","objective-c","xcode","cocoa"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":13120298,"title":"How to stop moving the image in objective c?","body":"<p>I have done a coding to check whether the image crossed particular area or not,</p>\n\n<pre><code>-(void)touchesMoved:(NSSet *)touches withEvent:(UIEvent *)event {\n\nCGPoint loc=[touch locationInView:self.view];\n\nif (touch.view==img2Obj) {\n    NSLog(@\"image2\");\n    img2Obj.center=loc;\n\n    currentx1=img2Obj.frame.origin.x;\n    currenty1=img2Obj.frame.origin.y;\n    //NSLog(@\"top left corner x and y is %.1f and %.1f\",img2Obj.frame.origin.x,img2Obj.frame.origin.y);\n    [self isImg1InPos];\n\n}}\n-(void)isImg1InPos {\n\nint dx,dy;\n\ndx=currentx1-x1;\ndy=currenty1-y1;\nif (abs(dx)&lt;5 &amp;&amp; abs(dx)&lt;5) {\n    NSLog(@\"Image must stop moving after this!!!\");\n    [img2Obj setUserInteractionEnabled:FALSE];\n}\n//NSLog(@\"unsigned int is %d\",abs(dx));\n\n}\n</code></pre>\n\n<p>I want the image to stop moving when when it passes the condition.</p>\n\n<pre><code>[img2Obj setUserInteractionEnabled:FALSE];\n</code></pre>\n\n<p>But its not working, can anyone tell me how to solve this problem</p>\n\n<p>Many thanks in advance</p>\n"},{"tags":["cocoa","resize","nsscrollview","autolayout"],"answer_count":1,"favorite_count":3,"up_vote_count":3,"down_vote_count":0,"view_count":670,"score":3,"question_id":10805890,"title":"Automatically grow document view of NSScrollView using auto layout?","body":"<p>Is there a simple way to get an <code>NSScrollView</code> to adapt to its document view changing size when using autolayout (the Lion feature)?</p>\n\n<p>I have tried to call both <code>setNeedsUpdateConstraints:</code> and <code>setNeedsLayout:</code> on the document view, the clip view and the scroll view, without any results. </p>\n\n<p><code>fittingSize</code> of the document view reports the correct size.</p>\n\n<p>An <code>NSPopover</code> in conjunction with an <code>NSViewController</code> handles this nicely, with the popover growing and shrinking as needed, and I was hoping to get a similar simple and robust behaviour with the scroll view. I have checked the documentation for scroll views, but they don't seem to be updated to use <code>autolayout</code>.</p>\n\n<p><em>Edited to clarify:</em></p>\n\n<p>The problem I experience is that the document view, which holds subviews, is not re-sized when the subviews change their size, even if they call <code>invalidateIntrinsicContentSize</code>. The contents of the document view are hence clipped to the original size of the document view as they grow. The document view is created in a nib and set as the scroll view's document view in an <code>awakeFromBib</code> method.</p>\n\n<p>What I hoped to obtain was that the document view frame would automatically be adjusted to when its <code>fittingSize</code> changes, and the scrollbars updated accordingly. </p>\n\n<p><code>NSPopover</code> does something similar - provided that the subviews of the content controller's view have the constraints set right and various content hugging values are high enough (higher than the hidden popover window's hight constraint priority, for one).</p>\n"},{"tags":["cocoa","osx","sockets","ipc"],"answer_count":4,"favorite_count":1,"up_vote_count":3,"down_vote_count":1,"view_count":1130,"score":2,"question_id":989346,"title":"UNIX Domain Sockets and Cocoa","body":"<p>I want to implement IPC in a Cocoa application using UNIX domain sockets, with  which I have no experience. I found Apple's <a href=\"http://developer.apple.com/SampleCode/CFLocalServer/index.html\" rel=\"nofollow\">CFLocalServer</a> example project, but it's written in C and looks, well, fairly complicated (and yes, I have read most of it).</p>\n\n<p>Are the techniques demonstrated in CFLocalServer still state-of-the-art, or is there a way to implement UNIX domain sockets in Objective-C with Cocoa/Foundation? </p>\n\n<p>I'm playing with <code>NSSocketPort</code>s and <code>NSFileHandle</code>s (which provide a healthy amount of abstraction, which is great for this project) and found some very-related code in <a href=\"http://www.macdevcenter.com/pub/a/mac/2003/05/13/cocoa.html\" rel=\"nofollow\">Mike Bean's Networking in Cocoa</a>, but haven't been able to Make It All Work yet.</p>\n\n<p>Anyone done this before?</p>\n"},{"tags":["c#",".net","objective-c","cocoa","realbasic"],"answer_count":19,"favorite_count":12,"up_vote_count":13,"down_vote_count":0,"view_count":4926,"score":13,"question_id":252514,"title":"Create a cross platform Windows, Mac OS X application","body":"<p>I would like to build an application that runs on both Windows and Mac OS X. I would also\nlike it to leverage the best of what the platform it runs on has to offer with regards to Frameworks, API's etc. Is there a way to do this without having to write Objective-C code and then C# code? I've been thinking of C++ as an alternative but I was wondering if there was anything else out there. The app will be GUI based (though I don't know exactly what it will do yet)</p>\n\n<p>-G.</p>\n"},{"tags":["cocoa","autolayout","nslayoutconstraint"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":456,"score":0,"question_id":11244643,"title":"How to resize two subviews based on priorities using Cocoa Autolayout?","body":"<p>I am playing with Autolayout in Cocoa and some things are not clear for me.</p>\n\n<p>I have 2 views on a window. The width of each view is 1/2 width of the parent window.</p>\n\n<pre><code>|           |           |\n|           |           |\n|   View1   |   View2   |\n|           |           |\n|           |           |\n</code></pre>\n\n<p>If I resize a window I want the View2 to resize first.</p>\n\n<pre><code>|           |     |\n|           |     |\n|   View1   |View2|\n|           |     |\n|           |     |\n</code></pre>\n\n<p>When View2 reaches its minimal size I want View1 to be resized to its minimal size.</p>\n\n<pre><code>|     |     |\n|     |     |\n|View1|View2|\n|     |     |\n|     |     |\n</code></pre>\n\n<p>How can I do that?</p>\n"},{"tags":["objective-c","osx","cocoa","nsfilemanager"],"answer_count":3,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":92,"score":2,"question_id":11737819,"title":"How to check whether a file is locked in Cocoa?","body":"<p>Is there any API to check whether a file is a locked? I am not able to find any API in the <code>NSFileManager</code> class.Let me know if there is any API to check the lock of the file.</p>\n\n<p>I found the following link related to file lock</p>\n\n<p><a href=\"http://lists.apple.com/archives/cocoa-dev/2006/Nov/msg01399.html\" rel=\"nofollow\">http://lists.apple.com/archives/cocoa-dev/2006/Nov/msg01399.html</a></p>\n\n<p>I can  invoke  – isWritableFileAtPath: on file. Is there any other way to find whether a file is locked?</p>\n"},{"tags":["cocoa","calayer","nstextview","nsscrollview"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":9,"score":0,"question_id":13119448,"title":"CALayer, NSTextView and scaling","body":"<p>In my app I want to provide text scaling in layer backed NSTextView like Apple's TextEdit. I use analogue of it's <a href=\"https://developer.apple.com/library/mac/#samplecode/TextEdit/Listings/ScalingScrollView_m.html#//apple_ref/doc/uid/DTS40011741-ScalingScrollView_m-DontLinkElementID_29\" rel=\"nofollow\">ScalingScrollView</a>. Also I need to create some CALayer overlays on <code>self.window.contentView</code>. All is ok until I make <code>[self.window.contentView setWantsLayer:YES]</code>.</p>\n\n<p>Before <code>[setWantsLayer:YES]</code></p>\n\n<p><img src=\"http://i.stack.imgur.com/kvFYX.png\" alt=\"enter image description here\"></p>\n\n<p>After <code>[setWantsLayer:YES]</code></p>\n\n<p><img src=\"http://i.stack.imgur.com/gxIa8.png\" alt=\"enter image description here\"></p>\n\n<p>I haven't any ideas how to fix this problem.</p>\n"},{"tags":["osx","cocoa","nsoperation","nsoperationqueue"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":446,"score":1,"question_id":6102204,"title":"main in my NSOperation subclass not being called","body":"<p>I subclassed NSOperation and implemented the main method. When I added it to an NSOperationQueue, it was not being called. I compared it to sample code and sample projects that <em>do</em>\nwork and could not see what the problem was. Does anyone have any experience with this problem and what causes it, please?</p>\n\n<p>After going crazy trying to find the problem, I decided to start over from scratch, rebuild my class and test it at each step. In the header, I declared it a subclass of NSOperation. In the implementation file, I implemented main and only put a couple of lines: <code>sleep(3)</code>; <code>NSLog..;</code>. All good. Each step worked as I started to add properties, even declared delegate, etc.</p>\n\n<p>Finally, in the main, I put code to use NSDirectoryEnumerator.  Suddenly, main was not being called at all.  Not only that, when I took that code back out, it still does not work!!  I tried restarting XCode 4, restarting my machine (not that I know why these might help, but I'm running out of ideas) but all to no avail.</p>\n\n<p>Any clues at all would be most appreciated. Thanks.</p>\n\n<hr>\n\n<p>Update: I started over (again!) from scratch but this time I assembled the parts in a different order... and now it works!  However, in case there is something that I'm doing wrong anyway and I've just been lucky this time round, here is the @interface section as @Andrew suggested:</p>\n\n<pre><code>@class ScanOperation;\n\n@protocol ScanOperationDelegate \n-(void)fileFound:(ScanOperation *)operation;\n-(void)finishedScanOperation:(ScanOperation *)operation;\n@end\n\n#import &lt;Foundation/Foundation.h&gt;\n\n@interface ScanOperation : NSOperation {\n@private\n    NSObject &lt;ScanOperationDelegate&gt; *delegate;\n    NSURL *rootUrl;\n    int totCount, dirCount, filCount, errCount;\n    NSTimeInterval elapsed;\n}\n- (id)initWithScanRootUrl:(NSURL *)startAtUrl;\n\n@property (readwrite, assign) NSObject &lt;ScanOperationDelegate&gt; *delegate;\n@property (readonly) int totCount, dirCount, filCount, errCount;\n@property (readonly) NSTimeInterval elapsed;\n@end\n</code></pre>\n"},{"tags":["iphone","objective-c","ios","cocoa"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":35,"score":2,"question_id":13117775,"title":"How to add multiple Controllers that are same instance to my tabBarController?","body":"<p>I want to add multiple Controllers that are same instance to my tabBarController.but I can't.the added controllers of array treated as a one controller. How I should do ??and What is the best way??this is my code.</p>\n\n<pre><code>RootViewController *rootViewController = [[[RootViewController alloc]init]autorelease];\ntabBarController = [[[UITabBarController alloc]init]autorelease];\n[tabBarController setDelegate:self];\n[tabBarController setViewControllers:[NSArray arrayWithObjects:rootViewController,rootViewController,rootViewController,rootViewController,rootViewController,nil] animated:NO];\n</code></pre>\n"},{"tags":["xcode","cocoa","sparrow-framework"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":299,"score":2,"question_id":5415057,"title":"Sparrow-Framework duplicate symbol error","body":"<p>I am need of some assistance with sparrow framework(http://www.sparrow-framework.org/)/xcode 4/ and my project. I am Getting the following error:</p>\n\n<pre><code>Ld /Users/alex/Library/Developer/Xcode/DerivedData/iDoubtIt-civshevejenwbzfqnllzztidnmzi/Build/Products/Debug-iphonesimulator/iDoubtIt.app/iDoubtIt normal i386\n    cd /Users/alex/Dropbox/iDoubtIt/iDoubtIt-Sparrow\n    setenv MACOSX_DEPLOYMENT_TARGET 10.6\n    setenv PATH \"/Developer/Platforms/iPhoneSimulator.platform/Developer/usr/bin:/Developer/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/usr/X11/bin:/opt/local/bin:/usr/local/git/bin\"\n    /Developer/Platforms/iPhoneSimulator.platform/Developer/usr/bin/gcc-4.2 -arch i386 -isysroot /Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator4.3.sdk -L/Users/alex/Library/Developer/Xcode/DerivedData/iDoubtIt-civshevejenwbzfqnllzztidnmzi/Build/Products/Debug-iphonesimulator -F/Users/alex/Library/Developer/Xcode/DerivedData/iDoubtIt-civshevejenwbzfqnllzztidnmzi/Build/Products/Debug-iphonesimulator -filelist /Users/alex/Library/Developer/Xcode/DerivedData/iDoubtIt-civshevejenwbzfqnllzztidnmzi/Build/Intermediates/iDoubtIt.build/Debug-iphonesimulator/iDoubtIt.build/Objects-normal/i386/iDoubtIt.LinkFileList -mmacosx-version-min=10.6 -ObjC -all_load -Xlinker -objc_abi_version -Xlinker 2 /Users/alex/Library/Developer/Xcode/DerivedData/iDoubtIt-civshevejenwbzfqnllzztidnmzi/Build/Products/Debug-iphonesimulator/libSparrow.a -framework Foundation -framework UIKit -framework CoreGraphics -framework OpenGLES -framework QuartzCore -framework AVFoundation -framework AudioToolbox -framework OpenAL -o /Users/alex/Library/Developer/Xcode/DerivedData/iDoubtIt-civshevejenwbzfqnllzztidnmzi/Build/Products/Debug-iphonesimulator/iDoubtIt.app/iDoubtIt\n\nld: duplicate symbol _OBJC_IVAR_$_AIPlayer.hand in /Users/alex/Library/Developer/Xcode/DerivedData/iDoubtIt-civshevejenwbzfqnllzztidnmzi/Build/Intermediates/iDoubtIt.build/Debug-iphonesimulator/iDoubtIt.build/Objects-normal/i386/Game.o and /Users/alex/Library/Developer/Xcode/DerivedData/iDoubtIt-civshevejenwbzfqnllzztidnmzi/Build/Intermediates/iDoubtIt.build/Debug-iphonesimulator/iDoubtIt.build/Objects-normal/i386/ApplicationDelegate.o for architecture i386\ncollect2: ld returned 1 exit status\nCommand /Developer/Platforms/iPhoneSimulator.platform/Developer/usr/bin/gcc-4.2 failed with exit code 1\n</code></pre>\n\n<p>Thanks in advance.</p>\n"},{"tags":["cocoa","colors","window","close","minimize"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13114929,"title":"How to change the style of the window close/minimize/resize buttons in Cocoa?","body":"<p>In a standard Cocoa window, is it possible to change the colors of the close, minimize, and resize window buttons from the textured, glossy, gumdrop style to a simple red, yellow, and green color with no gradient/gloss?</p>\n"},{"tags":["cocoa","facebook-graph-api"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":354,"score":0,"question_id":5774123,"title":"PHFacebook Framework: How to write something to facebook?","body":"<p>while looking for a Cocoa Facebook Framework that works with OSX I found PHFacebook.</p>\n\n<p><a href=\"http://developer.casgrain.com/?p=107\" rel=\"nofollow\">http://developer.casgrain.com/?p=107</a></p>\n\n<p>It's really nice and works well but the sample app is only able to read from Facebook. Can someone please explain to me how I can write something to facebook using PHFacebook? On the Developers homepage someone asked the same Question and the developer answered:</p>\n\n<p>\"I’m sure it’s possible, I just never tried. Did you add the “write” property to the request? Maybe that’s all you’re missing. The sample app only has “read”.\"</p>\n\n<p>But I can't find any \"read\" property in the code. Can someone please give me a hint?</p>\n\n<p>Thank you so much!</p>\n\n<p>CaptnCrash</p>\n"},{"tags":["objective-c","cocoa","data-structures","sorting","nsset"],"answer_count":5,"favorite_count":5,"up_vote_count":24,"down_vote_count":0,"view_count":13826,"score":24,"question_id":1066829,"title":"What is the most efficient way to sort an NSSet?","body":"<p>What's the most efficient way to sort objects in an NSSet/NSMutableSet based on a property of the objects in the set? Right now the way I am doing it is by iterating through each object, add them to a NSMutableArray, and sort that array with NSSortDescriptor.</p>\n"},{"tags":["android","eclipse","cocoa"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":100,"score":0,"question_id":13102355,"title":"Failed to instantiate com.android.menubar.internal.MenuBarEnhancerCocoa:","body":"<p>I've been trying for an hour to resolve this. There's one item on Stack Overflow under this subject, but not any real help. I have a new install of the Android SDK, with Eclipse, all current as of this date, with all SDK items installed dating back to v 2.2, all tools, all extras, etc. I'm on a Mac, 10.6.8. Was hoping to begin my first project but can't get past the initial activation of the SDK manager. Despite everything I've attempted as a fix, I'm continuing to get this error in the console:</p>\n\n<blockquote>\n  <p>Failed to instantiate com.android.menubar.internal.MenuBarEnhancerCocoa: java.lang.ClassNotFoundException: com.android.menubar.internal.MenuBarEnhancerCocoa.</p>\n</blockquote>\n\n<p>If anyone has any suggestions on a remedy, I'd greatly appreciate a hand.</p>\n"},{"tags":["cocoa","interface-builder","nstableview","xib","nib"],"answer_count":2,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":218,"score":3,"question_id":10887670,"title":"NSTableView makeViewWithIdentifier across nibs","body":"<p>I have a similar question to <a href=\"http://stackoverflow.com/questions/8262136/cocoa-view-based-nstableview-using-one-cell-in-multiple-tables\">Cocoa - View-Based NSTableView, using one cell in multiple tables</a>, amplified by\n<a href=\"https://developer.apple.com/library/mac/documentation/Cocoa/Reference/ApplicationKit/Classes/nstableview_Class/Reference/Reference.html#//apple_ref/occ/instm/NSTableView/makeViewWithIdentifier%3aowner%3a\" rel=\"nofollow\">Apple's own docs</a> for <code>makeViewWithIdentifier:owner:</code></p>\n\n<blockquote>\n  <p>\"Typically identifier is associated with an external NIB in Interface Builder and the table view will automatically instantiate the NIB with the provided owner.\"</p>\n</blockquote>\n\n<p>This seems to imply that you should be able to store the <code>NSTableCellView</code> in a separate nib from the nib containing the <code>NSTableView</code>. However, in my experimenting, I have only ever been able to obtain cells which are contained within the tableview I'm calling this on. I.e., if I cut and paste my cell into a new .xib file, the tableview can no longer find it. What am I doing wrong, or is this actually impossible and I am somehow misreading Apple's docs?</p>\n"},{"tags":["objective-c","cocoa","concurrency","grand-central-dispatch"],"answer_count":2,"favorite_count":9,"up_vote_count":4,"down_vote_count":0,"view_count":3354,"score":4,"question_id":5059975,"title":"GCD Poor Performance","body":"<p>As you may remember, I am trying to use GCD to speed up some of my code, namely a collision detection and resolution engine.  However, I am clearly doing something wrong because all of my GCD code is significantly slower and less consistent than my serial code (between 1.4x and 10x slower).  Allow me to give you an example: I am iterating over an array in a bubble-sort fashion to determine all possible collisions among objects in that array:</p>\n\n<pre><code>- (double) detectCollisionsInArray:(NSArray*)objects\n{   \n    int count = [objects count];\n    if (count &gt; 0)\n    {       \n        double time = CFAbsoluteTimeGetCurrent();\n        for (int i = 0; i &lt; count; i++)\n        {\n            for (int j = i + 1; j &lt; count; j++)\n            {\n                /** LOTS AND LOTS OF WORK FOR EACH OBJECT **/\n            }\n        }\n\n        return CFAbsoluteTimeGetCurrent() - time;\n    }\n\n    return 0;\n}\n</code></pre>\n\n<p>Pretty straightforward, and it seems to perform well given the constraints of the problem.  However, I would like to take advantage of the fact that the state of each object is not modified in the code section and use GCD to parallelize this work.  To do this I am trying something like this:</p>\n\n<pre><code>- (double) detectCollisionsInArray:(NSArray*)objects\n{   \n    int count = [objects count];\n    if (count &gt; 0)\n    {\n        NSOperationQueue* opQueue = [[NSOperationQueue alloc] init];\n        NSBlockOperation* blockOperation = nil;\n\n        double time = CFAbsoluteTimeGetCurrent();\n        for (int i = 0; i &lt; count; i++)\n        {\n            for (int j = i + 1; j &lt; count; j++)\n            {\n                void (^workBlock) (void) = ^() \n                {\n                    /** LOTS AND LOTS OF WORK FOR EACH OBJECT **/\n                };\n\n                if (!blockOperation)\n                {\n                    blockOperation = [NSBlockOperation blockOperationWithBlock:b];\n                }\n                else\n                {\n                    [blockOperation addExecutionBlock:workBlock];\n                }\n            }\n        }\n\n        [opQueue addOperation:blockOperation];\n        [opQueue autorelease];\n\n        return CFAbsoluteTimeGetCurrent() - time;\n    }\n\n    return 0;\n}\n</code></pre>\n\n<p>Can anyone help to put me on the right track and perhaps provide a link to a good GCD tutorial?  I have looked over several GCD tutorials and scoured all of the documentation and I still feel that my grasp on the subject is tenuous at best.  Thanks!</p>\n"},{"tags":["objective-c","c","osx","cocoa","memory"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":376,"score":1,"question_id":12277492,"title":"Programmatically free up system memory using Objective-C","body":"<p>So, this is what I'm trying to do :</p>\n\n<ul>\n<li>Free up system memory (inactive memory), in the same fashion the <code>purge</code> command does, though programmatically.</li>\n</ul>\n\n<p>I've tried the code here (which its author claims it works), but all it does is to cause Mac OS X to freeze :</p>\n\n<pre><code>void\nfree_up_memory()\n{\n    int c;\n    char *p, *q;\n\n    for(c = 0; c &lt; 2048; c++)\n    {\n        if(!(p = malloc(1024 * 1024)))\n        {\n\n            return;\n        }\n        for(q = p; q &lt; p + (1024 * 1024); q += 4096)\n        {\n            *q = 1;\n        }\n\n    }\n}\n</code></pre>\n\n<p>Any ideas?</p>\n"},{"tags":["objective-c","cocoa","nstask","nsfilehandle"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":45,"score":1,"question_id":13109049,"title":"Terminating NSTask with NSFileHandle set for standard output","body":"<p>I have a batch of code that creates and runs an <code>NSTask</code> instance. Before running I set, for the standard output of the task, a <code>NSFileHandle</code> witch writes directly to a file I have created.</p>\n\n<p>Sometimes the NSTask is terminated by code (by sending the <code>terminate</code> command) before it completes, sometimes it completes without any outside termination.</p>\n\n<p>When the NSTask completes successfully, the file that I had setup to have the output written to is exaclty as it should be: full of text. However, when I terminate the task in my code, the file has <em>nothing</em>, even though I know for a fact that the NSTask is generating output.</p>\n\n<p>Here's my code:</p>\n\n<pre><code>// Create task\ntask = [NSTask new];\n[task setLaunchPath: @\"...\"];\n[task setArguments: [NSArray arrayWithObjects: ..., nil]];\n\n// Create output file\nNSString* path = @\"...\";\n[[NSFileManager defaultManager] createFileAtPath: path contents: nil attributes: nil];\n\n// Create output file handle\nNSFileHandle* outputFile = [NSFileHandle fileHandleForWritingAtPath: path];\n[task setStandardOutput: outputFile];\n\n[task launch];\n// Etc...\n</code></pre>\n\n<p>I thought that this method would write data to a file as it is generated by the command. And if that's true, then even when the command is forcefully terminated the file should have some info. So why doesn't it?</p>\n\n<p>Just in case I'm mistaken and this doesn't save the output as it is generated, can you point me to a method that does that?</p>\n"},{"tags":["osx","cocoa","avfoundation"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":97,"score":2,"question_id":12654783,"title":"AV Foundation: Difference between currentItem being ready to play, and -[AVPlayer readyForDisplay] property?","body":"<p>I'm running into a weird situation with my video player, the core code of which hasn't changed much from what worked in an earlier app I made. Here's the problem: I'm inserting a \"_loadingLayer\" (a CATextLayer that says the video is loading), and then observing the AVPlayer's currentItem's status property to figure out when to remove the \"_loadingLayer\" and replace it with my actual \"_playerLayer\". Here's my KVO code for that:</p>\n\n<pre><code>-(void)observeValueForKeyPath:(NSString *)keyPath ofObject:(id)object change:(NSDictionary *)change context:(void *)context {\n\nif ((object == _playerLayer) &amp;&amp; (_playerLayer.player.currentItem.status == AVPlayerItemStatusReadyToPlay)) {\n\n    [CATransaction setAnimationDuration:1.8];\n\n    _loadingLayer.opaque = NO;\n\n    if (_playerLayer.readyForDisplay) {\n\n        NSLog(@\"Should be ready now.\");\n\n    }\n\n    [self addPlayerLayerToLayerTree];\n\n}\n\n}\n</code></pre>\n\n<p>My problem is that the video is starting, but only the audio is playing -- the layer stays black. When I inserted the NSLog statement above, I found out why: Apparently although the currentItem's status is \"AVPlayerItemStatusReadyToPlay\", the player layer isn't actually readyForDisplay. This makes no sense to me -- it seems counterintuitive. Can someone please give me some guidance on this?</p>\n\n<p>I was able to verify that _playerLayer is being added to the layer tree by setting its background color to red.</p>\n\n<p>One other weird thing that I think might be related.... I've been seeing these messages in the debugger console:</p>\n\n<p>PSsetwindowlevel, error setting window level (1000)\nCGSSetIgnoresCycle: error 1000 setting or clearing window tags</p>\n\n<p>Thanks in advance. This is a crosspost from the Apple Dev Forums.</p>\n"},{"tags":["cocoa","opengl"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":62,"score":1,"question_id":13107393,"title":"My triangle doesn't render when I use OpenGL Core Profile 3.2","body":"<p>I have a Cocoa (OSX) project that is currently very simple, I'm just trying to grasp the general concepts behind using OpenGL. I was able to get a triangle to display in my view, but when I went to write my vertex shaders and fragment shaders, I realized I was running the legacy OpenGL core profile. So I switched to the OpenGL 3.2 profile by setting the properties in the pixel format of the view in question before generating the context, but now the triangle doesn't render, even without my vertex or fragment shaders.</p>\n\n<p>I have a controller class for the view that's instantiated in the nib. On <code>-awakeFromNib</code> it sets up the pixel format and the context:</p>\n\n<pre><code>NSOpenGLPixelFormatAttribute attr[] =\n{\n    NSOpenGLPFAOpenGLProfile, NSOpenGLProfileVersion3_2Core,\n    0\n};\nNSOpenGLPixelFormat *glPixForm = [[NSOpenGLPixelFormat alloc] initWithAttributes:attr];\n[self.mainView setPixelFormat:glPixForm];\nself.glContext = [self.mainView openGLContext];\n</code></pre>\n\n<p>Then I generate the VAO:</p>\n\n<pre><code>glGenVertexArrays(1, &amp;vertexArrayID);\nglBindVertexArray(vertexArrayID);\n</code></pre>\n\n<p>Then the VBO:</p>\n\n<pre><code>glGenBuffers(1, &amp;buffer);\nglBindBuffer(GL_ARRAY_BUFFER, buffer);\nglBufferData(GL_ARRAY_BUFFER, sizeof(g_vertex_buffer_data), g_vertex_buffer_data, GL_STATIC_DRAW);\n</code></pre>\n\n<p><code>g_vertex_buffer_data</code>, the actual data for that buffer is defined as follows:</p>\n\n<pre><code>static const GLfloat g_vertex_buffer_data[] = {\n    -1.0f, -1.0f, 0.0f,\n    1.0f, -1.0f, 0.0f,\n    0.0f, 1.0f, 0.0f,\n};\n</code></pre>\n\n<p>Here's the code for actually drawing:</p>\n\n<pre><code>[_glContext setView:self.mainView];\n[_glContext makeCurrentContext];\nglViewport(0, 0, [self.mainView frame].size.width, [self.mainView frame].size.height);\n\nglEnableVertexAttribArray(0);\nglBindBuffer(GL_ARRAY_BUFFER, self.vertexBuffer);\nglVertexAttribPointer(\n                      0,\n                      3,\n                      GL_FLOAT,\n                      GL_FALSE,\n                      0,\n                      (void*)0\n                      );\nglClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);\n\nglDrawArrays(GL_TRIANGLES, 0, 3); // Starting from vertex 0; 3 vertices total -&gt; 1 triangle\nglDisableVertexAttribArray(0);\nglFlush();\n</code></pre>\n\n<p>This code draws the triangle fine if I comment out the <code>NSOpenGLPFAOpenGLProfile, NSOpenGLProfileVersion3_2Core,</code> in the <code>NSOpenGLPixelFormatAttribute</code> array, but as soon as I enable OpenGL Core Profile 3.2, it just displays black. Can anyone tell me what I'm doing wrong here?</p>\n\n<p>EDIT: This issue still happens whether I turn my vertex and fragment shaders on or not, but here are my shaders in case it is helpful:</p>\n\n<p>Vertex shader:</p>\n\n<pre><code>#version 150\n\nin vec3 position;\n\nvoid main() {\n    gl_Position.xyz = position;\n}\n</code></pre>\n\n<p>Fragment shader:</p>\n\n<pre><code>#version 150\n\nout vec3 color;\n\nvoid main() {\n    color = vec3(1,0,0);\n}\n</code></pre>\n\n<p>And right before linking the program, I make this call to bind the attribute location:</p>\n\n<pre><code>glBindAttribLocation(programID, 0, \"position\");\n</code></pre>\n\n<p>EDIT 2:</p>\n\n<p>I don't know if this helps at all, but I just stepped through my program, running <code>glGetError()</code> and it looks like everything is fine until I actually call <code>glDrawArrays()</code>, then it returns <code>GL_INVALID_OPERATION</code>. I'm trying to figure out why this could be occurring, but still having no luck.</p>\n"},{"tags":["objective-c","cocoa","init"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13080950,"title":"cocoa class init doesn't run","body":"<p>In a simple test app, it starts and puts up a window but never reaches the init in a class. Debugger Console sits with: <code>Running… (gdb)</code> </p>\n\n<p>I have nothing in <code>UntitledAppDelegate.m</code> or .h</p>\n\n<p>In an NSObject class \"untitled\" <code>init</code> is declared in untitled.h, and in untitled.m I have </p>\n\n<pre><code> @implementation untitled\n   - (id)init {\n\n    if (self = [super init])\n    { \n       int i=1;\n       i=i++;\n       NSLog(@\"%i here\",i);\n    }\n\n    return self;\n  }\n\n @end\n</code></pre>\n\n<p>Breakpoints in UntitledAppDelegate.m show that it reaches the last  }.</p>\n\n<p>Xcode is set for 3.2, OSX 10.6, and garbage collection.</p>\n\n<p>There are no errors or warnings; it runs.,</p>\n\n<p>Why doesn't init run, and how do I fix it?</p>\n"},{"tags":["iphone","objective-c","cocoa","xcode","pointers"],"answer_count":9,"favorite_count":28,"up_vote_count":32,"down_vote_count":0,"view_count":2486,"score":32,"question_id":2189212,"title":"Why [object doSomething] and not [*object doSomething]?","body":"<p>In Objective-C, why [object doSomething]? Wouldn't it be [*object doSomething] since you're calling a method on the object, which means you should dereference the pointer?</p>\n"},{"tags":["objective-c","osx","cocoa","window","nsrunningapplication"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":28,"score":1,"question_id":13110110,"title":"Retrieve information about Single Windows of an Running Application in NSRunningApplication","body":"<p>Im writing an iPad app that should be able to manipuliate single windows of an mac applications eg. close them, minimize them, et cetera. I got all the network stuff working but im having trouble with retrieving information from my mac.</p>\n\n<p>I can get Application information with the NSWorkspace and NSRunningApplication classes. But how do i get specific information about the open windows an Application has. How can i find out how many windows for example my finder or firefox has open and how can i manipulate them separately. \nI havent found a way to get information about specific windows from an application in the API.</p>\n\n<p>I would be very thankful if anybody had some suggestions on how to get that information. \nThanks in advance, Damir</p>\n"},{"tags":["cocoa","modal","nsdocument","nserror"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13109635,"title":"Calling presentError:modalForWindow in NSDocument multiple times show only first error","body":"<p>i wrote an document based application and i need to manage errors.</p>\n\n<p>I call presentError:modalForWindow:delegate:didPresentSelector:contextInfo: of NSDocument when i need to show these errors.</p>\n\n<p>That works fine but sometime i got two errors one after the other and so presentError:modalForWindow:... is called again before the first error is shown, and in this case presentError:modalForWindow:... shows the first error but not the second error when i close the first error window.</p>\n\n<p>If i use presentError: instead presentError:modalForWindow:..., that works fine, the first error is shown and when i close the first error window, the second error is shown also.</p>\n\n<p>Can somebody tell me if there is a way to achieve this with presentError:modalForWindow:... ?</p>\n\n<p>For the moment, i save errors in an array and i use a flag to know if an error is currently shown and i wait that error window is closed before showing the next error, that works fine in a test project but i can't use this way in my real application.</p>\n"},{"tags":["cocoa","nstextfield","nsbutton"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":29,"score":2,"question_id":13106963,"title":"Problems with key-bindings for NSButtons","body":"<p>I have a layout with several NSButton object, and a NSTextField where the text is only selectable. The other NSButton objects have key-bindings associated, and this works perfectly until I select some text in the textfield. From there on the key bindings for the other buttons in the layout do not work anymore. </p>\n\n<p>I have looked at different solutions, like trying to set SetSelectable:NO and YES, but it seems like the text field keeps its focus and receives all the keystrokes even if it's not editable. </p>\n\n<p>I want the text in the textfield to be selectable, but if one of the other buttons is clicked, the textfield should stop receiving key-events. </p>\n\n<p>Any ideas? </p>\n\n<hr>\n\n<p>I Found a solution to this. </p>\n\n<p>At Macrumors: \n<a href=\"http://forums.macrumors.com/showthread.php?t=852807\" rel=\"nofollow\">http://forums.macrumors.com/showthread.php?t=852807</a></p>\n\n<p>I found a method, for checking if a textfield has focus: </p>\n\n<pre><code>- (BOOL)isTextFieldInFocus:(NSTextField *)textField {\nBOOL inFocus = NO;\n\ninFocus = ([[[textField window] firstResponder] isKindOfClass:[NSTextView class]]\n           &amp;&amp; [[textField window] fieldEditor:NO forObject:nil]!=nil\n           &amp;&amp; [textField isEqualTo:(id)[(NSTextView *)[[textField window] firstResponder]delegate]]);\n\nreturn inFocus;\n}\n</code></pre>\n\n<p>Then in the Update method that is executed on all the NSButtons, I wrote: </p>\n\n<pre><code>if ([self isTextFieldInFocus:display]) {\n    [display setHidden:YES];\n    [display setHidden:NO];\n}\n</code></pre>\n\n<p>where display, is the name of the NSTextField outlet. </p>\n\n<p>Now, when I select some text, and then press one of the buttons, the key-bindings on the NSButtons are back in place working. This allows the user to select and copy text, but then he has to push one button to enter keystrokes, and this I think is OK. </p>\n"},{"tags":["objective-c","ios","cocoa-touch","cocoa","ios6"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":33,"score":-3,"question_id":13099117,"title":"Get Bluetooth ID for iPhone objective c","body":"<p>I want to get bluetooth IP from iPhone in my app.\nso will be my app approve or reject on app store? \nis there any private api for it?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["ios","cocoa","facebook-graph-api","ios5","facebook-ios-sdk"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":259,"score":0,"question_id":12412155,"title":"Check if logged in on ios facebook sdk 3.0","body":"<p>I am using iOS facebook SDK 3.0. How can i check if the user is already logged in?</p>\n\n<p>I tried the line below but it does not work properly. It <strong>sometimes</strong> returns NO although I am logged in. Any suggestions?</p>\n\n<pre><code>if (FBSession.activeSession.isOpen == YES)\n{\n  // post to wall else login\n}\n</code></pre>\n\n<p><strong>-- EDIT --</strong></p>\n\n<p>this is how I open my Facebook session:</p>\n\n<pre><code>NSArray *permissions = [[NSArray alloc] initWithObjects:\n                        @\"user_likes\", \n                        @\"read_stream\",\n                        @\"publish_actions\",\n                        nil];\nreturn [FBSession openActiveSessionWithPermissions:permissions\n                                      allowLoginUI:allowLoginUI\n                                 completionHandler:^(FBSession *session,\n                                                     FBSessionState state,\n                                                     NSError *error) {\n                                     [self sessionStateChanged:session\n                                                         state:state\n                                                         error:error];\n                                 }];\n</code></pre>\n\n<p>The first time it needs login and so it works. If i try this while I am already logged in the FBSession.activeSession.isOpen returns NO.</p>\n"},{"tags":["objective-c","cocoa","nstoolbar","nstoolbaritem"],"answer_count":6,"favorite_count":4,"up_vote_count":9,"down_vote_count":0,"view_count":798,"score":9,"question_id":6169255,"title":"Is it possible to draw in the label area of NSToolbar?","body":"<p>I have a <code>NSToolbarItem</code> that uses a view similar to the Xcode status view. It currently has no label, but I can't figure out a way to draw into the area where the item label would normally be drawn. I would like the view to extend into that area just as the Xcode status view does. I know the very bottom portion of pixels of <code>NSToolbar</code> is out of bounds, but I have seen other applications draw into the label area. Any ideas?</p>\n\n<p>Edit: For clarification, this is the status view I'm referring to in Xcode:</p>\n\n<p><img src=\"http://imgur.com/v8Psg.png\" alt=\"\"></p>\n\n<p>I want the bounds of my view to extend past the label area of the toolbar just as the view in Xcode does.</p>\n"},{"tags":["objective-c","cocoa","cocoa-touch","macros"],"answer_count":7,"favorite_count":0,"up_vote_count":3,"down_vote_count":1,"view_count":2254,"score":2,"question_id":1793882,"title":"How to make a macro that can take a string?","body":"<p>I'm trying to do something really trivial: A macro that takes an string and prints that to NSLog.</p>\n\n<p>Like this:</p>\n\n<pre><code>#define PRINTTHIS(text) \\\n    NSLog(@\"text\");\n</code></pre>\n\n<p>However, when I try to pass a string to this guy I end up getting \"text\" printed to the console. Aren't all variables replaced on a string-level inside the macro? How to do that right?</p>\n"},{"tags":["objective-c","cocoa","grand-central-dispatch"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":13106426,"title":"What signature should I use for asynchronous method?","body":"<p>Sometimes Cocoa allows a user to pass either NSOperationQueue or dispath_queue_t to the async method:</p>\n\n<pre><code>+[NSURLConnection sendAsynchronousRequest:queue:completionHandler:]\n-[AVPlayer addBoundaryTimeObserverForTimes:queue:usingBlock:]\n-[NSNotificationCenter addObserverForName:object:queue:usingBlock:]\n</code></pre>\n\n<p>Sometime doesn't:</p>\n\n<pre><code>-[NSDocument continueActivityUsingBlock:]\n-[NSSavePanel beginWithCompletionHandler:]\n-[GKAchievementDescription loadImageWithCompletionHandler:]\n</code></pre>\n\n<p>To me, passing a queue to the method looks ambiguous, because you can always catch desired queue when you create a block. E.g.:</p>\n\n<pre><code>NSOperationQueue *q = …;\n[aDocument continueActivityUsingBlock:^{\n    [q addOperationWithBlock:^{\n        // Do actual work here.\n    }];\n}];\n</code></pre>\n\n<p>Maybe I'm missing something and passing queues makes sense?</p>\n"},{"tags":["iphone","ios","xcode","ipad","cocoa"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":42,"score":1,"question_id":13106174,"title":"Taking picture by pressing button, without camera display","body":"<p>Do I have the option of taking picture without having camera display, I just want a button called \"Take Picture\" and a label that will changed to \"taken\" when the image the button is pressed and image saved on users album.</p>\n\n<p>everything I find out there is assuming the user wants the camera display</p>\n"},{"tags":["objective-c","cocoa","nsalert"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13103832,"title":"Have NSRunAlertPanel show an alert on any space? - Objective-C/10.7+","body":"<p>I'm working on an app that is marked as LSUIElement and its main window is a NSPanel 'attached' to the status bar. Sometimes I need to display a normal alert panel (either by using NSRunAlertPanel or NSAlert). However, it's very important that the panel is always shown on the space the user is currently on (otherwise the user might not see it immediately and it's important that he does).</p>\n\n<p>The problem is that alerts are always shown on the space where the user last interacted with the application's windows, NOT on the current space. So, for example, if on space number 1 I open and close my app's NSPanel, then I move to space number 2 and some time later my app shows an alert, that alert will be shown on space number 1, not 2. And thus I (or the general user) won't see the alert until I decide to switch to the first space.</p>\n\n<p>Is there any way to change this behavior (= to make an alert always show on the current space)?</p>\n"},{"tags":["cocoa","aac","audioqueueservices","audioqueue"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":559,"score":3,"question_id":4665554,"title":"Audio Queue Services recording to .mp4 file, that cannot be play. And Magic Cookie issue","body":"<p>I am a newbie Mac programmer just for 3 months. I got a Audio Queue Services problem, hope anyone can help me.</p>\n\n<p>I using Audio Queue Services API created a recording program, and output AAC format data. It's seems good, everything work fine. </p>\n\n<p>Until I get to use the <strong><a href=\"http://code.google.com/p/mp4v2/\" rel=\"nofollow\">MP4V2</a></strong> Library(an open source library) to output a .mp4 file, the problem is occur.</p>\n\n<p>Problem 1: </p>\n\n<blockquote>\n  <p>I use <strong>magic cookie</strong> as a AAC header\n  to input to MP4V2 library function\n  <strong>MP4WriteSample()</strong>. Inside the .mp4 file has data, but the\n  player(ex:Quicktime) <strong>can't</strong> recognized\n  the .mp4 file, it can't play the audio data.</p>\n</blockquote>\n\n<hr>\n\n<p>Problem 2:</p>\n\n<p>I set my audio queue basic descriptions format in following :</p>\n\n<pre><code>    aqData.mDataFormat.mSampleRate = 44100.0;\n    aqData.mDataFormat.mFormatID = kAudioFormatMPEG4AAC;  // AAC codec.\n    aqData.mDataFormat.mChannelsPerFrame = 2;\n    aqData.mDataFormat.mFramesPerPacket = 1024;\n</code></pre>\n\n<p>and use AudioQueueGetProperty() to get magic cookie.</p>\n\n<p>Than I print out my <strong>magic cookie</strong> contants, like that:</p>\n\n<pre><code>    &lt;03808080 22000000 04808080 14401500 18000001 f4000001 f4000580 80800212 10068080 800102&gt;\n</code></pre>\n\n<p>total 39 Bytes.</p>\n\n<blockquote>\n  <p>What exactly it mean? </p>\n  \n  <p>What the 39 Bytes each represented mean? </p>\n  \n  <p>Can it convert to AAC header?</p>\n</blockquote>\n\n<p><em>Reference :</em> </p>\n\n<p><em><a href=\"http://developer.apple.com/library/mac/#documentation/MusicAudio/Conceptual/AudioQueueProgrammingGuide/AQRecord/RecordingAudio.html#//apple_ref/doc/uid/TP40005343-CH4-SW1\" rel=\"nofollow\">Set a Magic Cookie for an Audio File</a></em></p>\n\n<p><em><a href=\"http://developer.apple.com/library/mac/#documentation/MusicAudio/Conceptual/AudioQueueProgrammingGuide/AQPlayback/PlayingAudio.html#//apple_ref/doc/uid/TP40005343-CH3-SW1\" rel=\"nofollow\">Set a Magic Cookie for a Playback Audio Queue</a></em></p>\n\n<p><em><a href=\"http://stackoverflow.com/questions/4189292/coreaudio-how-to-determine-the-end-of-the-playing-aac-file\">CoreAudio - how to determine the end of the playing aac file</a></em></p>\n\n<hr>\n\n<p>Thanks a lot.</p>\n\n<p>Ryan</p>\n"},{"tags":["java","android","iphone","cocoa"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13105120,"title":"Android post variables to drupal","body":"<p>Hi I'm writing an app for both iOS and Android to interface with a druapl site. I'm trying to allow users to login to the website and then save the data from successful logins in the preferences of the app. Below I was able to successfully do what I wanted in Cocoa but I have been unable to get it to work in Java. Both code snippets are below. Any help with the java would be greatly appreciated.</p>\n\n<p>I'm just not getting any response at all from the java the response comes back as an empty string when it should be a long JSON response.</p>\n\n<p><strong>Cocoa Login (Working)</strong></p>\n\n<pre><code>NSURL *url = [NSURL URLWithString:@\"http://examplesite/api/rest/user/login\"];\nNSMutableURLRequest *request = [NSMutableURLRequest requestWithURL:url];\n[request setHTTPMethod:@\"POST\"];\n[request setValue:@\"application/x-www-form-urlencoded\" forHTTPHeaderField:@\"Content-Type\"];\n[request setValue:@\"application/json\" forHTTPHeaderField:@\"Accept\"];\nNSData *requestBody = [[NSString stringWithFormat:@\"username=%@&amp;password=%@\",[userField text],[passField text]] dataUsingEncoding:NSUTF8StringEncoding];\n[request setHTTPBody:requestBody];\nNSURLResponse *response = NULL;\nNSError *requestError = NULL;\nNSData *responseData = [NSURLConnection sendSynchronousRequest:request returningResponse:&amp;response error:&amp;requestError];\nNSString *responseString = [[[NSString alloc] initWithData:responseData encoding:NSUTF8StringEncoding] autorelease];\n</code></pre>\n\n<p><strong>Java Login (Not Working)</strong></p>\n\n<pre><code>class loginTask extends AsyncTask&lt;Void, Void, Void&gt; {   \n    HttpResponse response;\n    public loginTask() {\n\n    }\n\n    @Override\n    protected Void doInBackground(Void... arg0) {\n        HttpClient client = new DefaultHttpClient();  \n        HttpPost post = new HttpPost(\"http://examplesite/api/rest/user/login\");\n        try {\n            post.setHeader(\"Accept\", \"application/json\");\n            post.setHeader(\"Content-Type\", \"application/x-www-form-urlencoded\");\n            List&lt;NameValuePair&gt; formparams = new ArrayList&lt;NameValuePair&gt;();\n            formparams.add(new BasicNameValuePair(\"username\", \"admin\"));\n            formparams.add(new BasicNameValuePair(\"password\", \"password\"));\n            post.setEntity(new UrlEncodedFormEntity (formparams));\n            response = client.execute(post);  \n        } catch (ClientProtocolException e) {\n\n        } catch (IOException e) {\n\n        }\n        return null;\n    }\n    @Override \n    protected void onPostExecute(Void unused) {\n        //TODO finish the activity\n        try {\n            Toast.makeText(Login.this, EntityUtils.toString(response.getEntity(), \"UTF-8\"), Toast.LENGTH_SHORT).show();\n        } catch (ParseException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }       \n}\n</code></pre>\n"},{"tags":["cocoa","application","document"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":134,"score":0,"question_id":2256796,"title":"Cancel Cocoa Doc Based app Save method?","body":"<p>How can I cancel the automatic display of the Save Panel when closing windows in a doc based Cocoa app?</p>\n\n<p>Thanks</p>\n\n<p>Paul</p>\n"},{"tags":["objective-c","osx","cocoa","webview","webkit"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":95,"score":2,"question_id":12984436,"title":"How to change WebView's webpage position? OSX","body":"<p>Let's say I have a WebView that loads up twitter.com.<br>\nHere's what appears in my WebView:\n<img src=\"http://i.stack.imgur.com/Ec1b9.png\" alt=\"enter image description here\"></p>\n\n<p>And here's what I want to show:\n<img src=\"http://i.stack.imgur.com/JtiCy.png\" alt=\"enter image description here\"></p>\n\n<p>How can I change the default Upper Left Corner position of website on the WebView to display another position of the same website?</p>\n"},{"tags":["objective-c","cocoa","binding","key-value-observing"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":627,"score":0,"question_id":8829942,"title":"Why is this code not KVO-Compliant?","body":"<p>I have a <code>NSViewController</code> subclass with a convenience method to return the window controller like this</p>\n\n<pre><code>@interface ILViewController : NSViewController\n\n- (ILWindowController *)windowController;\n\n@end\n\n@implementation ILViewController\n\n- (NSWindowController *)windowController {\n    return self.view.window.windowController;\n}\n\n- (void)setView:(NSView *)view {\n    [self willChangeValueForKey:@\"windowController\"];\n    [super setView:view];\n    [self didChangeValueForKey:@\"windowController\"];\n}\n\n@end\n</code></pre>\n\n<p>The window controller has a <code>NSString *</code> property named <code>mainStatus</code> which I'm trying to bind to through the view controller. However, I am getting this error at run time. </p>\n\n<pre><code>Cannot update for observer &lt;NSAutounbinderObservance 0x1005cf990&gt; for the key path \n\"windowController.mainStatus\" from &lt;ILViewController 0x1001976b0&gt;, most likely because\nthe value for the key \"windowController\" has changed without an appropriate KVO\nnotification being sent. Check the KVO-compliance of the ILViewController class.\n</code></pre>\n\n<p>Why is this happening? I have appropriately sent the KVO notifications. </p>\n\n<p>The following code, which uses an ivar and is actually NOT KVO compliant turns out to NOT result in any error....</p>\n\n<pre><code>@interface ILViewController : NSViewController {\n    ILWindowController *_windowController;\n}\n\n- (ILWindowController *)windowController;\n\n@end\n\n@implementation ILViewController\n\n- (NSWindowController *)windowController {\n    return _windowController;\n}\n\n- (void)setView:(NSView *)view {\n    [super setView:view];\n    _windowController = view.window.windowController;\n}\n\n@end\n</code></pre>\n\n<p>This is confusing the heck out of me... Can someone see why the first implementation is not KVO compliant?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Got it, if the view is added to window after it is set for the ViewController then the view's window is indeed changed without appropriate KVO notification. However, when I try to observe the view's window's window controller, I'm getting errors like this</p>\n\n<pre><code>KVO autonotifying only supports -set&lt;Key&gt;: methods that return void. Autonotifying \nwill not be done for invocations of -[NSView _setWindow:].\nCannot remove an observer &lt;NSKeyValueObservance 0x102e17880&gt; for the key path\n\"window.windowController.mainStatus\" from &lt;NSView 0x102e13ec0&gt;, most likely because\nthe value for the key \"window\" has changed without an appropriate KVO notification\n being sent. Check the KVO-compliance of the NSView class.\n</code></pre>\n\n<p>So if you can't observe a view's window, surely there's gotta be some way to be notified when the view's window changes. Does anyone know how?</p>\n\n<p>Also, these still doesn't explain why the second version of the code that uses an iVar without KVO notification actually work. </p>\n"},{"tags":["cocoa","icons","xcode4.4"],"answer_count":7,"favorite_count":12,"up_vote_count":22,"down_vote_count":0,"view_count":5268,"score":22,"question_id":11660736,"title":"Xcode 4.4 removed Icon Composer in Developer Tools","body":"<p>So I just upgraded to the latest and greatest Xcode 4.4 but can't find Icon Composer. It was in the Open Developer Tool menu item in Xcode 4.3 but now I can't find it anywhere.</p>\n\n<p>Did Apple forget to include it? How do I create icons without it?</p>\n\n<p>I also tried using iconutil in Terminal but I'm getting an error that 1024x1024 is not supported. I am running OSX 10.7.4.</p>\n"},{"tags":["cocoa","nstableview"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":424,"score":0,"question_id":4803973,"title":"NSTableView rounded corners","body":"<p>For drawing rounded corners in the NSTableView subclass I override the drawRect method</p>\n\n<pre><code>- (void)drawRect:(NSRect)rect{\n    NSBezierPath* path = [NSBezierPath bezierPathWithRoundedRect:rect cornerRadius:7.0f];\n    [path addClip];\n    [super drawRect:selfRect];\n}\n</code></pre>\n\n<p>This works as long as the content of the table view is not too big and not showing the scrollers. But when the content gets bigger, the scrollers of the NSScrollView are displayed and the rounded edges disappear.</p>\n\n<p>Any hints for this?</p>\n"},{"tags":["cocoa","qt","open-source","libraries","differences"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":18,"score":1,"question_id":13102665,"title":"Difference between Qt mac open source and qt mac cocoa libraries","body":"<p>What is the difference between qt mac open source and qt mac cocoa libraries?</p>\n\n<p>I found on <a href=\"http://releases.qt-project.org/qt4/source/\" rel=\"nofollow\">http://releases.qt-project.org/qt4/source/</a> these dmg files and i don't know what's the difference between them:</p>\n\n<p><code>qt-mac-cocoa-opensource-4.6.4-debug-libs.dmg</code> and <code>qt-mac-opensource-4.6.4-debug-libs.dmg</code></p>\n\n<p><code>qt-mac-cocoa-opensource-4.6.4.dmg</code> and <code>qt-mac-opensource-4.6.4.dmg</code></p>\n"},{"tags":["python","cocoa","osx","service"],"answer_count":4,"favorite_count":2,"up_vote_count":7,"down_vote_count":0,"view_count":844,"score":7,"question_id":5527899,"title":"Can you create an Mac OS X Service with Python? How?","body":"<p>Can you create an Mac OS X Service with Python? How ?</p>\n\n<p>What I want to do is to know hook my Python-fu to the service system provided by Mac OS X.\nAnyone knows how? If yes any working code snippet? Will work only on text or also on a given mimetype - defined object?</p>\n\n<p><img src=\"http://i.stack.imgur.com/jAVpE.png\" alt=\"Service Popup\"></p>\n"},{"tags":["ios","cocoa"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13101644,"title":"Writing a unicode character with NSString","body":"<p>I'm using the symbol font Symbolicons instead of images in a new project. However, it seems that any code over 4 characters can't be set using NSString.</p>\n\n<p>Example:</p>\n\n<pre><code>self.saveDealButton.titleLabel.font = [UIFont fontWithName:@\"SS Symbolicons\" size:31.0f];\n[self.saveDealButton setTitle:@\"\\u1F4E5\" forState:UIControlStateNormal];\n</code></pre>\n\n<p>Will not work, however:</p>\n\n<pre><code>self.shareButton.titleLabel.font = [UIFont fontWithName:@\"SS Symbolicons\" size:31.0f];\n[self.shareButton setTitle:@\"\\uF601\" forState:UIControlStateNormal];\n</code></pre>\n\n<p>Works fine. How can I get NSString to recognize the extra bit?</p>\n"},{"tags":["cocoa","nstokenfield"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":55,"score":1,"question_id":12711825,"title":"NSTokenField's tokenField:completionsForSubstring:indexOfToken:indexOfSelectedItem: indexOfToken always zero","body":"<p>I've tried a simple first example of NSTokenField with a document-based ARC-using application, making my Document class an NSTokenFieldDelegate. It works but for one thing: the delegate method tokenField:completionsForSubstring:indexOfToken:indexOfSelectedItem: never sees anything but 0 for indexOfToken, even when I successfully edit a token which isn't the first in the string of tokens. I'm using XCode 4.5 on OS X 10.8.2 with the 10.8 framework.</p>\n\n<p>Question: why always 0? I expect it to be the index of the token in the indirectly-seen array of tokens 0 .. n - 1 in the field being edited by the user.</p>\n\n<p>To reproduce, start a project as above and add the text below, then use the XIB editor and drag an NSTokenField onto the document window, set the token field as the document's tokenField and make the document instance the delegate of the token field.</p>\n\n<p><strong>Document.h</strong>:</p>\n\n<pre><code>#import &lt;Cocoa/Cocoa.h&gt;\n\n@interface Document : NSDocument &lt;NSTokenFieldDelegate&gt;\n{\n    IBOutlet NSTokenField *tokenField;  // of (Token *).\n    NSMutableDictionary *tokens;        // of (Token *).\n}\n@end\n</code></pre>\n\n<p><strong>Token.h</strong>:</p>\n\n<pre><code>#import &lt;Foundation/Foundation.h&gt;\n\n@interface Token : NSObject\n@property (strong, nonatomic) NSString *spelling;\n- (id)initWithSpelling:(NSString *)s;\n@end\n</code></pre>\n\n<p><strong>Token.m</strong>:</p>\n\n<pre><code>#import \"Token.h\"\n\n@implementation Token\n@synthesize spelling;\n\n- (id)initWithSpelling:(NSString *)s\n{\n    self = [super init];\n    if (self)\n        spelling = s;\n    return self;\n}\n\n@end\n</code></pre>\n\n<p><strong>Document.m</strong>:</p>\n\n<pre><code>#import \"Document.h\"\n#import \"Token.h\"\n\n@implementation Document\n\n- (id)init\n{\n    self = [super init];\n    if (self) {\n        tokens = [NSMutableDictionary dictionary];\n    }\n    return self;\n}\n\n...\n\n#pragma mark NSTokenFieldDelegate methods\n\n- (NSArray *)tokenField:(NSTokenField *)tokenField\ncompletionsForSubstring:(NSString *)substring\n           indexOfToken:(NSInteger)tokenIndex\n    indexOfSelectedItem:(NSInteger *)selectedIndex\n{\n    NSLog(@\"tokenField:completionsForSubstring:\\\"%@\\\" indexOfToken:%ld indexOfSelectedItem:\",\n          substring, tokenIndex);\n    NSMutableArray *result = [NSMutableArray array];\n    for (NSString *key in tokens) {\n        //NSLog(@\"match? \\\"%@\\\"\", key);\n        if ([key hasPrefix:substring])\n            [result addObject:key];\n    }\n    return result;\n}\n\n- (id)tokenField:(NSTokenField *)tokenField representedObjectForEditingString:(NSString *)editingString\n{\n    NSLog(@\"tokenField:representedObjectForEditingString:\\\"%@\\\"\", editingString);\n    Token *token;\n    if ((token = [tokens objectForKey:editingString]) == nil) {\n        token = [[Token alloc] initWithSpelling:editingString];\n        [tokens setObject:token forKey:editingString];\n        //NSLog(@\"token %@\", [token description]);\n        NSLog(@\"tokens %@\", [tokens description]);\n    }\n    return token;\n}\n\n- (NSString *)tokenField:(NSTokenField *)tokenField displayStringForRepresentedObject:(id)representedObject\n{\n    NSString *spelling = [representedObject spelling];\n    NSLog(@\"tokenField:displayStringForRepresentedObject: = \\\"%@\\\"\", spelling);\n    return spelling;\n}\n\n@end\n</code></pre>\n\n<p>Entry of tokens is terminated with a newline or comma character. </p>\n"},{"tags":["osx","cocoa","core-graphics","private","hacking"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":35,"score":1,"question_id":13100589,"title":"How to zoom the screen programmatically with private coregraphic methods (how to find function arguments)","body":"<p>as you may know Mac OS X has a pretty nice screen zooming functionality built in, which can be enabled in System Preferences => Universal Access.</p>\n\n<p>Now I'm trying to trigger this screen zooming programatically. I can do it by sending keyboard shortcuts, but it's not as fluid as it could be. So I did some research on how the system does this.</p>\n\n<p>There seem to be a few private core graphics methods that can do what I want but I'm unable to find what arguments they take.</p>\n\n<p>These are the functions I have found:</p>\n\n<ul>\n<li>CGSZoomPoint</li>\n<li>CGSUnzoomPoint</li>\n<li>CGSGetZoomParameters</li>\n<li>CGSSetZoomParameters</li>\n<li>CGSIsZoomed</li>\n</ul>\n\n<p>Some people already reverse engineered some of the private methods of the core graphics framework and created headers for them. (see e.g. <a href=\"http://pwproject.googlecode.com/svn/trunk/Mac%20OS%20X/Vector%20Grab/\" rel=\"nofollow\">http://pwproject.googlecode.com/svn/trunk/Mac%20OS%20X/Vector%20Grab/</a> ) \nUnfortunately the methods I seem to need are missing. (CGSIsZoomed, is actually included</p>\n\n<pre><code>CG_EXTERN CGError CGSIsZoomed(CGSConnectionID cid, bool *outIsZoomed); \n</code></pre>\n\n<p>)</p>\n\n<p>I have also found an app which seems to be able to zoom the screen and this seems to be the relevant disassembly, but I don't know much about assembly, thus I can't read it ;-( </p>\n\n<pre><code>0000000100015c21    callq   0x10002c212 ; symbol stub for: _CGEventCreate\n0000000100015c26    movq    %rax,%rbx\n0000000100015c29    movq    %rbx,%rdi\n0000000100015c2c    callq   0x10002c22a ; symbol stub for: _CGEventGetLocation\n0000000100015c31    movsd   %xmm0,0xffffff48(%rbp)\n0000000100015c39    movsd   %xmm1,0xffffff58(%rbp)\n0000000100015c41    movsd   %xmm0,0xa8(%rbp)\n0000000100015c46    movsd   %xmm1,0xb0(%rbp)\n0000000100015c4b    movq    %rbx,%rdi\n0000000100015c4e    callq   0x10002c362 ; symbol stub for: _CFRelease\n0000000100015c5a    jle 0x100015d01\n0000000100015c60    movq    0x00098a71(%rip),%rax\n0000000100015c67    movq    0x18(%rax),%rcx\n0000000100015c6b    movq    %rcx,0x18(%rsp)\n0000000100015c70    movq    0x10(%rax),%rcx\n0000000100015c74    movq    %rcx,0x10(%rsp)\n0000000100015c79    movq    (%rax),%rcx\n0000000100015c7c    movq    0x08(%rax),%rax\n0000000100015c80    movq    %rax,0x08(%rsp)\n0000000100015c85    movq    %rcx,(%rsp)\n0000000100015c89    movsd   0xffffff48(%rbp),%xmm0\n0000000100015c91    movsd   0xffffff58(%rbp),%xmm1\n0000000100015c99    callq   0x10002c266 ; symbol stub for: _CGRectContainsPoint\n0000000100015c9e    cmpl    $0x02,0x00098a43(%rip)\n0000000100015ca5    jl  0x100015d01\n0000000100015ca7    movl    $0x    00000001,%r15d\n0000000100015cad    movl    $0x00000020,%ebx\n0000000100015cb2    movsd   0xa8(%rbp),%xmm0\n0000000100015cb7    movsd   0xb0(%rbp),%xmm1\n0000000100015cbc    movq    0x00098a15(%rip),%rax\n0000000100015cc3    movq    0x18(%rax,%rbx),%rcx\n0000000100015cc8    movq    %rcx,0x18(%rsp)\n0000000100015ccd    movq    0x10(%rax,%rbx),%rcx\n0000000100015cd2    movq    %rcx,0x10(%rsp)\n0000000100015cd7    movq    (%rax,%rbx),%rcx\n0000000100015cdb    movq    0x08(%rax,%rbx),%rax\n0000000100015ce0    movq    %rax,0x08(%rsp)\n0000000100015ce5    movq    %rcx,(%rsp)\n0000000100015ce9    callq   0x10002c266 ; symbol stub for: _CGRectContainsPoint\n0000000100015cee    addq    $0x20,%rbx\n0000000100015cf2    incq    %r15\n0000000100015cf5    movslq  0x000989ec(%rip),%rax\n0000000100015cfc    cmpq    %rax,%r15\n0000000100015cff    jl  0x100015cb2\n0000000100015d01    movsd   0xc0(%rbp),%xmm0\n0000000100015d06    movsd   %xmm0,0xffffff58(%rbp)\n0000000100015d0e    leaq    0xa8(%rbp),%rsi\n0000000100015d12    leaq    0x98(%rbp),%rdx\n0000000100015d16    movl    %r14d,%edi\n0000000100015d19    callq   0x10002c296 ; symbol stub for: _CGSZoomPoint\n0000000100015d1e    movsd   0xffffff58(%rbp),%xmm2\n0000000100015d26    testl   %eax,%eax\n0000000100015d28    jne 0x100015d99\n0000000100015d2a    movapd  %xmm2,%xmm0\n0000000100015d2e    mulsd   0xffffff60(%rbp),%xmm0\n0000000100015d36    addsd   0x98(%rbp),%xmm0\n0000000100015d3b    movsd   0x00017255(%rip),%xmm1\n0000000100015d43    ucomisd %xmm0,%xmm1\n0000000100015d47    ja  0x100015d78\n0000000100015d49    ucomisd 0x0001749f(%rip),%xmm0\n0000000100015d51    ja  0x100015d78\n0000000100015d53    mulsd   0xffffff50(%rbp),%xmm2\n0000000100015d5b    addsd   0xa0(%rbp),%xmm2\n0000000100015d60    movsd   0x00017230(%rip),%xmm0\n0000000100015d68    ucomisd %xmm2,%xmm0\n0000000100015d6c    ja  0x100015d78\n0000000100015d6e    ucomisd 0x00017482(%rip),%xmm2\n0000000100015d76    jbe 0x100015d99\n0000000100015d78    movzbl  0xbf(%rbp),%edx\n0000000100015d7c    andl    $0x01,%edx\n0000000100015d7f    movsd   0xc0(%rbp),%xmm0\n0000000100015d84    leaq    0xc8(%rbp),%rsi\n0000000100015d88    movl    %r14d,%edi\n0000000100015d8b    movl    $0x    00000001,%ecx\n0000000100015d90    xorpd   %xmm1,%xmm1\n0000000100015d94    callq   0x10002c290 ; symbol stub for: _CGSSetZoomParameters\n0000000100015d99    movsd   0xffffff70(%rbp),%xmm1\n0000000100015da1    addsd   0xffffff50(%rbp),%xmm1\n0000000100015da9    movsd   0xffffff68(%rbp),%xmm0\n0000000100015db1    addsd   0xffffff60(%rbp),%xmm0\n0000000100015db9    movb    0x000988f1(%rip),%al\n0000000100015dbf    xorl    %edi,%edi\n0000000100015dc1    cmpb    $0x01,%al\n0000000100015dc3    jne 0x100015dde\n0000000100015dc5    movl    $0x    00000006,%esi\n0000000100015dca    xorl    %edx,%edx\n</code></pre>\n\n<p>If anyone has any idea how to use those private functions you'd make my week :-)</p>\n\n<p>Best,\nThomas</p>\n"},{"tags":["osx","cocoa","file-upload","file-system"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":22,"score":1,"question_id":13096806,"title":"Why doesn't a file transfer fail when the file is deleted?","body":"<p>I need to upload files to my server. I use the <code>ASIHTTPRequest</code> to do this job. But if I just add the upload job to the <code>ASINetworkQueue</code> and immediately delete the source file, the upload job can still completes successfully.</p>\n\n<p>I thought the job would fail because I deleted the file. Can somebody explain the reason it still succeeds, even though the file was deleted?</p>\n"},{"tags":["objective-c","xcode","osx","cocoa","osx-mountain-lion"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":52,"score":1,"question_id":13096812,"title":"About Box Contents","body":"<p>I came across this About dialog of the Sparrow Mail app. Is this possible 'out of the box' within the AppDelegate or is this a real 'window' I will have to develop so I can replace the default Apple generated one with the credits?</p>\n\n<p><img src=\"http://i.stack.imgur.com/hb5g6.png\" alt=\"enter image description here\"></p>\n"},{"tags":["osx","cocoa","encryption"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":96,"score":1,"question_id":11718509,"title":"File Encryption in XCode","body":"<p>I am new to Mac development.\nIn my project i need to encrypt files.\nCan anybody suggest me the most preferred library in mac environment.\nPlease help me with sample if possible.</p>\n\n<p>I am developing a cocoa application.</p>\n"},{"tags":["xcode","cocoa","count","nsmutablearray"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13099254,"title":"NSMutableArray row count remains at 0","body":"<p>My initialisation method initialises two objects and then uses them to populate an instance of <code>NSMutableArray</code>. However, in a later method when I am creating my <code>NSTableView</code> and need to extract the row count, <code>return self.nameArray.count</code> is returning 0.</p>\n\n<p>I have stepped through my code to ensure initialisation occurs before the count is called, and it is, therefore I have no idea why the count is not reflecting properly. Even if I replace the count with an integer, '3' for example, my console still gives me a reading of 0 for the row count.</p>\n\n<p>Why would this be?</p>\n\n<p>.m</p>\n\n<pre><code>#import \"RLTAppDelegate.h\"\n#import \"RLTPerson.h\"\n\n\n@implementation RLTAppDelegate\n\n- (void)applicationDidFinishLaunching:(NSNotification *)aNotification\n{\n\n}\n\n- (id) init {\n\n    RLTPerson *aPerson = [[RLTPerson alloc] init];\n    RLTPerson *bPerson = [[RLTPerson alloc] init];\n\n    self = [super init];\n\n    if (self) {\n        self.nameArray = [[NSMutableArray alloc] initWithObjects:aPerson, bPerson, nil];\n        NSLog(@\"%@ %@\", aPerson, bPerson);\n    }\n\n    return self;\n}\n\n- (NSInteger)numberOfRowsInTableView:(NSTableView *)tableView {\n\n    return self.nameArray.count;\n}\n\n- (NSView *)tableView:(NSTableView *)tableView\n   viewForTableColumn:(NSTableColumn *)tableColumn\n                  row:(NSInteger)row {\n\n    NSTextField *result = [tableView makeViewWithIdentifier:@\"name\" owner:self];\n\n    result.stringValue = [self.nameArray objectAtIndex:row];\n\n    return result;\n}\n\n@end\n</code></pre>\n\n<p>.h</p>\n\n<pre><code>#import &lt;Cocoa/Cocoa.h&gt;\n@class RLTPerson;\n\n@interface RLTAppDelegate : NSObject &lt;NSApplicationDelegate, NSTableViewDataSource, NSTableViewDelegate&gt;\n\n@property (assign) IBOutlet NSWindow *window;\n@property (weak) IBOutlet NSTableView *tableView;\n@property (strong) NSMutableArray *nameArray;\n\n@end\n</code></pre>\n"},{"tags":["objective-c","cocoa-touch","cocoa","nsstring"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13095706,"title":"How to replace occurrence of \\xa0 character in NSString","body":"<p>I have already looked at <a href=\"http://stackoverflow.com/questions/12643955/how-to-replace-xa0-characters-in-an-nsstring\">this question</a> but there was no solution.\nHere is the problem.</p>\n\n<pre><code>po [myNumberFormatter stringFromNumber:myNumber]\n</code></pre>\n\n<p>Output--> (id) $4 = 1.500,00</p>\n\n<pre><code>p (char) [(NSString *)[myNumberFormatter stringFromNumber:myNumber] characterAtIndex:1]\n</code></pre>\n\n<p>Output--> (char) $5 = '\\xa0'</p>\n\n<pre><code>po [(NSString *)[myNumberFormatter stringFromNumber:myNumber] stringByReplacingOccurrencesOfString:@\"\\xa0\" withString:@\" \"]\n</code></pre>\n\n<p>Output--> (id) $6 = 1.500,00</p>\n\n<p>One thing to note though is that on the screen, the value <strong>1.500,00</strong> looks like <strong>1 500,00</strong>.\nBut is there any way to convert the '\\xa0' character to a @\" \" within the string?</p>\n\n<p>This following solution already works, but it has the problem of converting everything not included into a blank character.</p>\n\n<pre><code>po [(NSString *)[myNumberFormatter stringFromNumber:myNumber] stringByReplacingSequenceOfCharactersInSet:(NSCharacterSet *)[[NSCharacterSet characterSetWithCharactersInString:@\"0123456789,.\"] invertedSet] with:@\" \"]\n</code></pre>\n\n<p><strong>Edit</strong> --------------</p>\n\n<p>I've tried the answer below and i thought it was wrong becuase</p>\n\n<pre><code>po [(NSString *)[numberFormatter stringFromNumber:theNumber] stringByReplacingOccurrencesOfString:@\"\\u00a0\" withString:@\" \"] \n</code></pre>\n\n<p>still produced the same result (the \\xa0 char was still not removed).  But when I did not place it in the debugger, but instead placed it in a NSString within the code, the correct answer was stored and the \\xa0 character was removed. Guess I should not depend on debugger log alone.</p>\n"},{"tags":["c++","objective-c","algorithm","cocoa"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":91,"score":0,"question_id":13098182,"title":"Objective-C vs C++ for applied math algorithms","body":"<p>I'm an engineering student and I have a couple classes about different complex math problems and how to solve them exactly and numerically (approximation) using various algorithms. We have focused more on the actual math and the ideas of the solutions than implementations of them. The most of these that I have seen are written in C++. For some reason I don't really like C++ and I have fallen completely in love with Objective-C. (I own an apple computer)</p>\n\n<p>Is it to much of a difference in efficiency between these to languages? I'm not planning on solving 40.000x40.000 navier-stokes equation systems, just some little/little-medium instances of practical problems. Most off the problems of interest are <strong>P</strong>-problems and for the <strong>NP-Hard</strong> good heuristics would be fine.</p>\n\n<p>I am obligated to learn yet another programming language, or should I just go with Objective-C, a language that I'm very familiar with nowadays.</p>\n"},{"tags":["cocoa","cocoa-touch","xcode"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":1009,"score":2,"question_id":905169,"title":"How to connect a view to the graphic context?","body":"<p>I am a complete newbie to XCode, so I have been climbing the Quartz2D learning curve.  I understand that a view's drawRect method is called whenever a refresh of the view's graphics is needed, and that the setNeedsDisplay method activates a redrawing. </p>\n\n<p>But what I can't find is a clear explanation of the relationship between the graphics context and a specific view.  The graphics context itself is apparently not an instance variable of the view, so if I want to modify a view, and I create a complex path using the CGContext... methods, what code is needed to marry that graphics context to the view I wish to alter?</p>\n\n<p>Thanks in advance for any guidance on this question.</p>\n\n<p>jrdoner</p>\n"},{"tags":["objective-c","json","cocoa","http","nsstring"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":13095755,"title":"Parse json response in object c from http get request","body":"<p>i'm trying to parse the response i get from a http get request in object c, i have do this:</p>\n\n<pre><code>    NSString *returnValue = [[NSString alloc] initWithData:oRespondeData encoding:NSUTF8StringEncoding];\n    SBJsonParser *jParser = [[SBJsonParser alloc] init];\n    NSDictionary *JSONresponse = [jParser objectWithString:returnValue];\n</code></pre>\n\n<p>then i search for a specific key:</p>\n\n<pre><code>NSArray *jSon1 = [JSONresponse objectForKey:@\"links\"];\n</code></pre>\n\n<p>and in the array there is only one element, and if i log it i have this:</p>\n\n<pre><code>NSLog(@\"%@\",[jSon1 objectAtIndex:0]);\n</code></pre>\n\n<p>log:</p>\n\n<pre><code>(\n\"Video.720p.X264-..\",\n\"\",\n\"http://video/dl/Video.720p.X264-..\"\n)\n</code></pre>\n\n<p>how i can get the url with http? i have tried everything, i have also tried to trim the string to delete the whitespaces, but seems that it's not a nsstring because i receive </p>\n\n<pre><code>[__NSArrayM stringByTrimmingCharactersInSet:]: unrecognized selector sent to instance\n</code></pre>\n\n<p>how i can do?</p>\n"},{"tags":["iphone","objective-c","cocoa-touch","osx","cocoa"],"answer_count":4,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":1395,"score":2,"question_id":8772468,"title":"Get firstresponder in Objective C","body":"<p>I am having trouble trying to figure out which <code>UITextField</code> is the current First Responder. </p>\n\n<p>What I am trying to do is a set a boolean value if the user clicks in a particular <code>UITextField</code>. So to do that I need to be able to tell if this particular text field has become the first responder.</p>\n\n<p>I know how to set the first responder but just not sure how to tell if a field has actually become the first responder. </p>\n"},{"tags":["iphone","cocoa"],"answer_count":3,"favorite_count":2,"up_vote_count":11,"down_vote_count":0,"view_count":2980,"score":11,"question_id":3020922,"title":"Is there any way to hide \"-\" (Delete) button while editing UITableView","body":"<p>On my iphone app, I have a UITableView in edit mode, where user is allowed only to reorder the rows no delete permission is given. </p>\n\n<p>So is there any way where I can hide \"-\" red button from TableView. Please let me know. </p>\n\n<p>Thanks</p>\n"},{"tags":["cocoa"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":8,"score":0,"question_id":13095168,"title":"PDF buttons icons are scaled differently on retina display","body":"<p>As recommended, I used PDF images for some of my button icons with the expectation that they would look nice on retina displays. They are nice and smooth, but they're also scaled a bit smaller than on a regular display.</p>\n\n<p>Example:</p>\n\n<p><img src=\"http://dl.dropbox.com/u/10822169/Screen%20Shot%202012-10-12%20at%203.20.53%20PM.png\" alt=\"example\"></p>\n\n<p>The left and middle icons are mine, and the right one is NSPathTemplate.</p>\n\n<p>My PDFs (generated by Inkscape) are here:\n<a href=\"https://github.com/Uncommon/Xit/blob/master/Xit/images/historyTemplate.pdf\" rel=\"nofollow\">https://github.com/Uncommon/Xit/blob/master/Xit/images/historyTemplate.pdf</a>\nhttps://github.com/Uncommon/Xit/blob/master/Xit/images/stageTemplate.pdf</p>\n\n<p>Is there a problem with Inkscape's output? Do I need to change my button settings, or reprocess the PDFs somehow? Will I have to use @2x raster images instead?</p>\n"},{"tags":["objective-c","osx","cocoa","text-to-speech"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":113,"score":1,"question_id":8520662,"title":"A possible bug in NSSpeechSynthesizer?","body":"<p>I am writing an OS X application which uses <code>NSSpeechSynthesizer</code> to read text to the user and highlights the word it is reading in the text field (<code>NSTextView</code>). This is done by implementing the <code>speechSynthesizer:willSpeakWord:ofString:</code> method of the <code>NSSpeechSynthesizerDelegate</code> protocol. This method provides the range (<code>NSRange</code>) of the word it is about to speak which I forward to the setSelectedRange method of my <code>NSTextView</code>.</p>\n\n<p>All is well until I stop the reading with the <code>stopSpeaking</code> method. If I set it to read again after this, the ranges provided by <code>speechSynthesizer:willSpeakWord:ofString:</code> seem to be out of sync. It seems that it hesitates calling <code>speechSynthesizer:willSpeakWord:ofString:</code> for a few seconds resulting in the ranges being somewhat behind the speech when it finally does.</p>\n\n<p>I have written a simple application illustrating the issue, which can be found here:\n<a href=\"http://dl.dropbox.com/u/12516679/SpeechTest.zip\" rel=\"nofollow\">http://dl.dropbox.com/u/12516679/SpeechTest.zip</a></p>\n\n<p>I hope that someone will look at this code (it really is simple) and either confirm that this indeed seems to be a bug, or (hopefully) tell me what I am doing wrong.</p>\n\n<p><strong>- UPDATE -</strong></p>\n\n<p>It turns out that the problem occurs with non-english voices. I was originally using Ida, which is a Danish voice. I have now tested it with many different voices and I can confirm that it works well with all English voices. However it fell out of sync with Danish, Swedish, Norwegian and Dutch. It probably affects other languages as well, but these are the ones I have tested so far.</p>\n"},{"tags":["cocoa","nsdictionary"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13090843,"title":"Cocoa - Verify if a key exist on a NSDictionary","body":"<p>How do I verify if a key exists on a NSDictionary?</p>\n\n<p>I know how to verify if it has some content, but I want to very if it is there, because it's dynamic and I have to prevent it. Like in some cases it could happen to have a key with the \"name\" and is value, but in another cases it could happen that this pair of value don't exists.</p>\n"},{"tags":["objective-c","cocoa-touch","cocoa","key-value-observing","key-value-coding"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":34,"score":1,"question_id":13090825,"title":"Finding if a class is key-value-compliant for a given key","body":"<p>Is there a method to find out if a class is key-value-compliant for a given key?</p>\n"},{"tags":["osx","cocoa","osx-lion","fullscreen","osx-mountain-lion"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":622,"score":1,"question_id":9884901,"title":"Exclusive Full-screen OS X Mountain Lion (Impossible?)","body":"<h1>Exclusive Full-screen OS X Mountain Lion (Impossible?)</h1>\n\n<ul>\n<li><p>iPad and iPhone Apps are always full-screen.</p></li>\n<li><p>Is this possible with OS X Mountain Lion?</p></li>\n<li><p>Kiosk mode is <em>very intriguing</em>, but <strong>isn't a good citizen</strong>. (Doesn't support Spaces/Mission Control)</p></li>\n</ul>\n\n<hr>\n\n<p><strong>Think of Safari in Mountain Lion.</strong></p>\n\n<ul>\n<li><p>Beautiful. </p></li>\n<li><p>Windowed or full-screen. </p></li>\n<li>Works well with Mission Control.</li>\n</ul>\n\n<hr>\n\n<p>The real question might be: </p>\n\n<ul>\n<li><p>(OS X) Is it possible to kill the concept of windows? (Similar to lack of windows in iOS)</p></li>\n<li><p><strong>Full-screen</strong> without ability to be <strong>windowed</strong>.</p></li>\n</ul>\n"},{"tags":["objective-c","ios","cocoa","nscache"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":29,"score":1,"question_id":13089452,"title":"NSCache: Always getting \"not key value coding-compliant\" when trying to access cached item","body":"<p>I'm attempting to use NSCache to store PNGs as NSData.  Whenever I try to get one back out of the cache, whether the cache is empty or not, I get:</p>\n\n<p>2012-10-26 09:49:28.860 SledMap[55917:11503] <em>*</em> Terminating app due to uncaught exception 'NSUnknownKeyException', reason: '[ valueForUndefinedKey:]: this class is not key value coding-compliant for the key 0_0_5.'</p>\n\n<p>If I leave the code exactly as is, but change NSCache to NSMutableDictionary, it works fine.</p>\n\n<p>I declare my cache:</p>\n\n<pre><code>@property (nonatomic, strong) NSCache *tileCache;\n</code></pre>\n\n<p>Allocate it (in viewDidLoad):</p>\n\n<pre><code>self.tileCache = [[NSCache alloc] init];\nself.tileCache.delegate = self;\n</code></pre>\n\n<p>Add something to the cache:</p>\n\n<pre><code>NSString *key = [NSString stringWithFormat:@\"%i_%i_%i\",x,y,endLevel];\nNSData *pngData = [NSData dataWithData:UIImagePNGRepresentation(image)];\n[self.tileCache setObject:pngData forKey:key];\n</code></pre>\n\n<p>And then when I get it back out, I get the above error.</p>\n\n<pre><code>NSString *key = [NSString stringWithFormat:@\"%i_%i_%i\",x,y,endLevel];\nNSData *tile = [self.tileCache valueForKey:key];  //This is the line it crashes on\n</code></pre>\n\n<p>If it was empty, I would expect it to just return nil, which is what happens when I make self.tileCache an NSMutableDictionary instead of an NSCache.  Also, in the debug area, it says:</p>\n\n<pre><code>tile = NSData * 0x0134dc59 &lt;Variable is not NSData&gt;\n</code></pre>\n\n<p>If I pass in an NSString, it does the same and says variable is not NSString.</p>\n\n<p>Also, I can hard code <code>key</code> to be \"A\" and try to access it again as \"A\" with the same results.</p>\n\n<p>Any ideas?</p>\n"},{"tags":["objective-c","ios","regex","cocoa","nsregularexpression"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":58,"score":3,"question_id":13092498,"title":"Objective-C NSRegularExpressions, finding first occurrence of numbers in a string","body":"<p>I'm pretty green at regex with Objective-C. I'm having some difficulty with it.</p>\n\n<pre><code>NSRegularExpression *regex = [NSRegularExpression regularExpressionWithPattern:@\"\\\\b([1-9]+)\\\\b\" options:NSRegularExpressionCaseInsensitive error:&amp;regError];\nif (regError) {\n    NSLog(@\"%@\",regError.localizedDescription);\n}\n__block NSString *foundModel = nil;\n[regex enumerateMatchesInString:self.model options:kNilOptions range:NSMakeRange(0, [self.model length]) usingBlock:^(NSTextCheckingResult *match, NSMatchingFlags flags, BOOL *stop) {\n    foundModel = [self.model substringWithRange:[match rangeAtIndex:0]];\n    *stop = YES;\n}];\n</code></pre>\n\n<p>All I'm looking to do is take a string like</p>\n\n<pre><code>150A\n</code></pre>\n\n<p>And get</p>\n\n<pre><code>150\n</code></pre>\n"},{"tags":["objective-c","cocoa","cocoa-touch","nsstring"],"answer_count":6,"favorite_count":4,"up_vote_count":2,"down_vote_count":0,"view_count":13323,"score":2,"question_id":1138759,"title":"Convert first number in an NSString into an Integer?","body":"<p>I have an NSString like so:</p>\n\n<pre><code>@\"200hello\"\n</code></pre>\n\n<p>or </p>\n\n<pre><code>@\"0 something\"\n</code></pre>\n\n<p>What I would like to be able to do is take the first occuring number in the NSString and convert it into an int. </p>\n\n<p>So that @\"200hello\" would become int = 200.</p>\n\n<p>and @\"0 something\" would become int = 0.</p>\n"},{"tags":["objective-c","cocoa","nsview","nsresponder"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":235,"score":0,"question_id":7019796,"title":"mouseMoved not called when over the View","body":"<p>I have subclass of NSView which implements mouseMoved.</p>\n\n<p>However when I move my mouse over the view the mouseMoved never gets called. Why?</p>\n\n<p>I am on OS X Lion.</p>\n\n<p>Thanks,\nVance</p>\n"},{"tags":["objective-c","cocoa","nsapplication"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":202,"score":1,"question_id":6078332,"title":"How do I initialize a window in Objective-C?","body":"<p>For a Mac graphics application (not iPhone), I need something like a main method in Java, the first method that gets a program going. I've been looking at things like NSViewController and NSWindow object. I've looked around but can't find an answer to this seemingly easy question anywhere. (I am very new at this by the way) </p>\n\n<p>Thanks</p>\n"},{"tags":["xcode","cocoa","uinavigationcontroller","navigation","segue"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13091836,"title":"Cocoa - Make a global navigation","body":"<p>I want to make a fixed menu with 3 buttons, and no matter what, when the user tap on a button, he goes to the correspondent page. The problem is that I don't want to have 10 segues pointing to a viewcontroller. The storyboard gets really confusing.</p>\n\n<p>What's the best way to do that?</p>\n"},{"tags":["cocoa","properties","key-value-observing"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13078585,"title":"Two way binding when setter is overriden","body":"<p>I have an NSTextField bound to some object \"zoom\" property.</p>\n\n<p>In this object's class implementation, I have the following</p>\n\n<pre><code>- (void)setZoom:(CGFloat)zoom\n{\n    _zoom = MAX(0, MIN(10, zoom));\n}\n</code></pre>\n\n<p>If I write \"-5\" in the textfield, <code>setZoom:</code> will be called with \"-5\" as argument and _zoom will be set to 0.</p>\n\n<p>Then problem is that the textfield is not updating itself and it shows \"-5\" instead of re-reading the property value it has just set.</p>\n\n<p>If I do <code>myObject.zoom = -5;</code> in code, the text field will display 0 correctly.</p>\n\n<p>I tried to wrap _zoom =... inside willChangeValueForKey/didChangeValueForKey calls but it didn't change anything.</p>\n"},{"tags":["cocoa","nstableview"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13076847,"title":"View based NSTableView viewForTableColumn:row not called","body":"<p>I've got a View-based <code>NSTableView</code> which is configured in IB to be View based. Its column identifier is set, too. As are its <code>dataSource</code> and <code>delegate</code> set, to the same object, which claims to conform to both in the public header. I've verified these are set after the tableView awakes from its nib.</p>\n\n<p>As per the docs, I've implemented <code>-numberOfSectionsInTableView:</code> and it gets called and returns a non-zero number.</p>\n\n<p>However, <code>-tableView:viewForTableColumn:row:</code>, much to my chagrin, does not, and I can't figure out why not.</p>\n\n<p>Does anyone know why this might happen? I'm running on Mountain Lion and my deployment target is also set to be Mountain Lion.</p>\n"},{"tags":["objective-c","xcode","cocoa","pdf","pdfkit"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":266,"score":1,"question_id":11197627,"title":"Cocoa PDFView only displays PDF on resize","body":"<p>How does one get a PDFView to display a PDF without having to resize the window or doing a \nscroll to force a redraw.</p>\n\n<p>It's as if a <code>setNeedsDisplay</code> needs to be done, yet that has no effect.</p>\n\n<p>I've the simplest app I can think of to display a PDF using a PDFView.</p>\n\n<p>Basically create a new app in Xcode and change the code to be:</p>\n\n<pre><code>// AppDelegate.h\n#import &lt;Cocoa/Cocoa.h&gt;\n#import &lt;Quartz/Quartz.h&gt;\n@interface AppDelegate : NSObject &lt;NSApplicationDelegate&gt;\n@property (assign) IBOutlet NSWindow *window;\n@property (assign) IBOutlet PDFView *pdfView;\n@end\n</code></pre>\n\n<p>and</p>\n\n<pre><code>// AppDelegate.m\n#import \"AppDelegate.h\"\n@implementation AppDelegate\n@synthesize window = _window;\n@synthesize pdfView = _pdfView;\n\n- (void)applicationDidFinishLaunching:(NSNotification *)aNotification\n{\n    NSURL *pdfURL = [[NSBundle mainBundle] URLForResource:@\"TestPage\" withExtension:@\"pdf\"];\n    PDFDocument *document = [[PDFDocument alloc] initWithURL: pdfURL];     \n    self.pdfView.document = document;\n}\n@end\n</code></pre>\n\n<p>I've noticed the same behaviour in the Apple code example <a href=\"http://developer.apple.com/library/mac/#samplecode/PDFKitLinker2/Introduction/Intro.html\" rel=\"nofollow\">PDFKitLinker2</a> where one has to either scroll over the PDF or resize the window to get the PDF to display.</p>\n\n<p>Granted I'm new to the world of Cocoa development but I've searched and found no really small examples that show how to display a PDF. What I've produced would seem to be correct yet I have doubts given that even <strong>PDFKitLinker2</strong> doesn't seem to be correct.</p>\n\n<p>I've created a Git repo of an <a href=\"https://bitbucket.org/sotapme/pdfview_open\" rel=\"nofollow\">Xcode project that demonstrates the issue</a> for those that have time to help and/or comment.</p>\n\n<pre><code>git clone git@bitbucket.org:sotapme/pdfview_open.git\n</code></pre>\n\n<p>Using Xcode Version 4.3.3 (4E3002) - Latest Lion.</p>\n\n<p>Thanks in advance for any help.</p>\n\n<hr>\n\n<h2>A Solution that works.</h2>\n\n<hr>\n\n<p>I found a solution whereby if I create a sub class of PDFView with an empty implementation and then add that as a custom view and wire it up my existing <code>IBOutlet</code> it works.</p>\n\n<p>Makes no sense at all to me :(</p>\n\n<pre><code>//DPPDFView.h\n#import &lt;Quartz/Quartz.h&gt;\n@interface DPPDFView : PDFView\n@end\n</code></pre>\n\n<p>and</p>\n\n<pre><code>//DPPDFView.m\n#import \"DPPDFView.h\"\n@implementation DPPDFView\n@end\n</code></pre>\n\n<p>Apple's docs do say:</p>\n\n<blockquote>\n  <p>PDFView may be the only class you need to deal with for adding PDF functionality to your application. It lets you display PDF data and allows users to select content, navigate through a document, set zoom level, and copy textual content to the Pasteboard. PDFView also keeps track of page history.</p>\n  \n  <p>You can subclass PDFView to create a custom PDF viewer.</p>\n</blockquote>\n\n<p><em>I leave this question and self answer for those that may pass by with similar questions, hoping that it will be a dim beacon of light for them; Also hoping someone with more Cocoa wisdom will point out the error in my thinking.</em></p>\n"},{"tags":["facebook","cocoa","twitter","sharing"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":10,"score":0,"question_id":13090045,"title":"How to capture NSSharingService close event","body":"<p>When using the NSSharingService popup, searching for a solution to know when the NSSharingService is closed when canceling the action.\nIf the popup is closed when posting (button Post on NSSharingServiceNamePostOnFacebook or Tweet on NSSharingServiceNamePostOnTwitter) you can use the delegate:</p>\n\n<pre><code>- (void)sharingService:(NSSharingService *)sharingService didShareItems:(NSArray *)items\n</code></pre>\n\n<p>or the will share items one:</p>\n\n<pre><code>- (void)sharingService:(NSSharingService *)sharingService willShareItems:(NSArray *)items\n</code></pre>\n\n<p>but how to know when is being closed using the Close button ?</p>\n"},{"tags":["osx","cocoa"],"answer_count":2,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":60,"score":3,"question_id":12993892,"title":"Expire a Mac OSX App within a certain timeframe and ask the user to update","body":"<p>What's the recommended way to expire a beta Mac OSX app within a certain timeframe (i.e., 14 days) and then ask the user to update (in Cocoa)?</p>\n\n<p>Do I just do date calculations every time the user launches the app?  Also, is there a way to enable to updating using the Sparkle framework if the timeframe has expired?</p>\n\n<p>Thanks</p>\n"},{"tags":["xcode","cocoa","interface-builder"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":122,"score":1,"question_id":10476768,"title":"Can't find Cell Based view in Xcode 4","body":"<p>I'm working through Cocoa Programming, in chapter 8 it says \"Use the Attributes Inspector to make sure that the table view’s Content Mode is set to Cell Based\" - although there doesn't appear to be any option to do that. I continued with the chapter but when I run the application at the end I can't add things to the table view. I think the cell based option may be the culprit. Any ideas of how I can fix this?</p>\n"},{"tags":["objective-c","xcode","osx","cocoa","nswindow"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13053227,"title":"Centred resizing with NSWindow","body":"<p>I have a NSWindow which is placed at the position of a NSStatusItem.\nThe window can change it's size using it's own method <code>setSize:</code>, which just get's the right frame for the window like this:</p>\n\n<pre><code>- (NSRect)frameForSize:(NSSize)size {\n    NSRect newFrame = self.frame;\n    newFrame.origin.x += (newFrame.size.width - size.width) / 2;\n    newFrame.origin.y += (newFrame.size.height - size.height);\n    newFrame.size = size;\n\n    return newFrame;\n}\n</code></pre>\n\n<p>This allows the window to stay centred, if the width is changed.\nI can easily call this using code, but when I the user resizes it using the edges of the window, setFrame:display: is called directly. \nThere is a delegate method <code>windowDidResize:notification:</code>, but if I set the frame there it get's set twice and it lags.</p>\n\n<p>Is there an event that is being called before the window is actually resized?\nIf not, how should I do this?</p>\n"},{"tags":["ios","cocoa","uiviewcontroller","uitabbarcontroller"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":31,"score":1,"question_id":13086630,"title":"Greedy UITabBarController?","body":"<p>I'm making a custom UIViewController which holds to sub view controllers. They are put inside the main view controller this way:</p>\n\n<pre><code>- (void) setHeaderViewController:(UIViewController *)vc\n{\n    [self setViewController:vc isHeader:YES];\n    _headerViewController = vc;\n}\n\n- (void) setDetailViewController:(UIViewController *)vc\n{\n    [self setViewController:vc isHeader:NO];\n    _detailViewController = vc;\n}\n\n- (void) setViewController:(UIViewController*) viewController isHeader:(BOOL)isHeader\n{\n    UIViewController* viewControllerRef = ((isHeader) ? _headerViewController : _detailViewController);\n\n    if(viewControllerRef == viewController)\n         return;\n\n    const CGSize selfSize = self.view.frame.size;\n\n    CGRect viewFrame;\n\n    if (isHeader)\n    {\n        viewFrame = CGRectMake(0, 0, selfSize.width, 150);\n    }\n    else\n    {\n        viewFrame = CGRectMake(0, 150, selfSize.width, selfSize.height-150);\n    }\n\n    UIView* viewControllerView = viewController.view;\n\n    [viewControllerView setFrame:viewFrame];\n    [viewControllerView setAutoresizingMask:(UIViewAutoresizingFlexibleWidth | UIViewAutoresizingFlexibleHeight | ((isHeader) ? UIViewAutoresizingFlexibleBottomMargin : UIViewAutoresizingFlexibleTopMargin))];\n\n    [self.view addSubview:viewControllerView];\n}\n</code></pre>\n\n<p>If I put two UIViewControllers inside of each sub view controller slot, the sizes defined in the method is respected. However, when putting a UITabBarController, it gets greedy and occupies the whole space:</p>\n\n<pre><code>UIViewController *vc = [[WIFCustomerDetailHeaderViewController alloc] initWithNibName:@\"WIFCustomerDetailHeaderViewController\" bundle:nil];\n[self setHeaderViewController:vc];\n\nUIViewController *vc1 = [[UIViewController alloc] init];\nvc1.title = @\"Personal Data\";\nvc1.tabBarItem = [[UITabBarItem alloc] initWithTitle:@\"Personal Data\" image:nil tag:0];\nvc1.view.backgroundColor = [UIColor redColor];\nvc1.view.frame = CGRectMake(0,400,100,100);\n\nUIViewController *vc2 = [[UIViewController alloc] init];\nvc2.title = @\"Diagnosis\";\nvc2.tabBarItem = [[UITabBarItem alloc] initWithTitle:@\"Diagnosis\" image:nil tag:0];\nvc2.view.backgroundColor = [UIColor purpleColor];\nvc2.view.frame = CGRectMake(0,500,50,50);\n\nNSArray *tabs = [[NSArray alloc] initWithObjects:vc1, vc2, nil];\n\nWIFCustomerDetailTabViewController *tvc = [[WIFCustomerDetailTabViewController alloc] init];\n[tvc setViewControllers:tabs];\n\n[self setDetailViewController:tvc];\n</code></pre>\n\n<p>Does anyone knows what can be happening here? I can't find the cause... </p>\n\n<p>Images below..</p>\n\n<p><img src=\"http://i.stack.imgur.com/f7sdH.png\" alt=\"Two sub view controllers\">\n<img src=\"http://i.stack.imgur.com/8t7gN.png\" alt=\"enter image description here\"></p>\n"},{"tags":["objective-c","xcode","osx","cocoa"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":165,"score":0,"question_id":8870957,"title":"Set logo for Mac application","body":"<p>I am an iOS developer and did my first Cocoa Mac application using Xcode 4.2, I set the Logo image in the xcode itself and property list, but the application logo still has its default logo (the white sheet with two pens), how can I set Logo for my application?</p>\n"},{"tags":["osx","cocoa","nssegmentedcontrol"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13085651,"title":"Keyboard Shortcuts for NSSegmentedControl Button in COCOA Mac Application","body":"<p>In my COCOA Mac Application, there is one NSSegmentedControl Button for Queue ON/OFF functionality. Now I need to provide keyboard shortcut for the same. For example,  for Queue ON if already it was Off and vice versa.</p>\n\n<p>Is anyone did this type of functionality?</p>\n\n<p>Thanks and Regards,\nBarun </p>\n"},{"tags":["objective-c","cocoa"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":18,"score":-2,"question_id":13085175,"title":"Faster approach to load data in NSTableView from a file?","body":"<p>In my application I am reading data from a text file and displaying it in NSTableView. There are 6 columns in my tableview. My problem is when the records in file are more it takes too long to read and display the data. e.g. It takes around 1 min to read and display 70,000 records from the file. I am using NSArrayController to update my NSTableView. Please suggest some solution to make my application faster. Should I read and display only that much data that is visible to the user (like in iphone but i dont know how is it done OSX?) and update my view on scrolling?</p>\n\n<p>Thanks &amp; Regards\nAbhijeet</p>\n"},{"tags":["objective-c","xcode","osx","cocoa","nsbutton"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":12436327,"title":"NSButton NSTrackingArea - tracking doesn't work","body":"<p>I'm trying to complete button highlighted on mouse over event. So I subclassed <code>NSButton</code>, where is put <code>NSTrackingArea</code> and methods <code>- (void)mouseEntered:(NSEvent *)event</code> and\n <code>- (void)updateTrackingAreas</code>.</p>\n\n<p>Creation of the button looks so (it's in loop so I use array to collect): </p>\n\n<pre><code>        CalendarTile *button = [[CalendarTile alloc] init];\n\n        [button setFrame:CGRectMake(point_x, point_y, button_frame_width, button_frame_height)];\n        [button setBordered:NO];\n        [button setBezelStyle:NSRegularSquareBezelStyle];\n        [button setButtonType:NSMomentaryChangeButton];\n        [button setFont:[NSFont fontWithName:@\"Avenir Next\" size:40]];\n        [button setAlignment:NSCenterTextAlignment];\n\n        [button setTitle:[NSString stringWithFormat:@\"%i\", i]];\n        [button setTextColor:[NSColor colorWithCalibratedRed:(float)62/255 green:(float)62/255 blue:(float)62/255 alpha:1.0]];\n\n        [arrayWithButtons addObject:button];\n\n        ...\n\n        for (CalendarTile *btn in arrayWithButton) {\n        [self addSubview:btn];\n        }\n</code></pre>\n\n<p>And this is a subclass - CalendarTile.m:</p>\n\n<pre><code>@implementation CalendarTile\n- (void)updateTrackingAreas\n{\n    [super updateTrackingAreas];\n\n    if (trackingArea)\n    {\n        [self removeTrackingArea:trackingArea];\n    }\n\n    NSTrackingAreaOptions options = NSTrackingInVisibleRect | NSTrackingMouseEnteredAndExited | NSTrackingActiveInKeyWindow;\n    trackingArea = [[NSTrackingArea alloc] initWithRect:NSZeroRect options:options owner:self userInfo:nil];\n    [self addTrackingArea:trackingArea];\n}\n\n- (void)mouseEntered:(NSEvent *)event\n{\n    [self setImage:[NSImage imageNamed:@\"highlight.png\"]];\n    NSLog(@\"HIGHLIGHT\");\n}\n</code></pre>\n\n<p>It should say in logs \"HIGHLIGHT\" when I have mouse over - it sadly doesn't.</p>\n\n<p>Could you help me? What do I wrong?</p>\n"},{"tags":["objective-c","cocoa","nsbutton"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":48,"score":1,"question_id":12981988,"title":"NSButton not responding to performSelector:","body":"<p>So I have a button that is attached to an action called writeToFile: </p>\n\n<p>The action opens an NSPanel and allows the user to enter the name of the file they want to write to their desktop. </p>\n\n<p>The problem I am having is I can't update the user and let them know that the write was successful before the NSPanel closes. </p>\n\n<p>So I put a label or NSTextField because I am talking about a mac app inside the NSPanel and the NSTextField updates and tells the user that the write was a success. </p>\n\n<p>I change the button title that is attached to the action writeToFile: to \"close\" and I am trying to change the method the button actually calls by using performSelector: </p>\n\n<p>However, I keep getting an \"Unrecognized selector\" </p>\n\n<p>Here is some code, any and all help is greatly appreciated: </p>\n\n<pre><code>- (void) closePanel {\n       [theSheet close];\n}\n\n- (IBAction) writeToFile: (id)sender\n{\n\n    if ([_nameOfFile.stringValue length] &gt; 0) {\n\n        NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDesktopDirectory, NSUserDomainMask, YES);\n        NSString *path = [[paths objectAtIndex:0]stringByAppendingPathComponent:_nameOfFile.stringValue];\n        NSString *string = _inputTextView.string;\n        BOOL OK = [string writeToFile:path\n                       atomically:YES\n                         encoding:NSUTF8StringEncoding\n                            error:NULL];\n\n        if (OK) {\n\n            _statusField.stringValue = @\"File written to desktop\";\n            _writeButton.title = @\"close\";\n            [_writeButton performSelector:@selector(closePanel)];\n\n        } else {\n\n            _statusField.stringValue = @\"Sorry, something went wrong :(\";\n\n        }\n\n    } else {\n\n        _statusField.stringValue = @\"Please name the file first!\";\n\n    }\n}\n</code></pre>\n"},{"tags":["iphone","objective-c","cocoa"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13083524,"title":"When accessing view,Using a tag faster than using a variable?","body":"<p>which is faster ??</p>\n\n<pre><code>@interface ViewController : UIViewController\n{\n\nUIView *myView;\n\n}\n\n@end\n\n@implementation ViewController\n\n - (void)myInit(){\n\nUIView *view = [[UIView alloc]init];\n\nmyView = view;\n\nview.tag = 1;\n\n}\n\n- (void)viewDidLoad(){\n[self myInit];\n\n[self.view addSubview:myView];//accessing by variable\n\n//OR\n\n[self.view addSubView:[self.view viewWithTag:1];//accessing by tag\n\n}\n\n@end\n</code></pre>\n"},{"tags":["cocoa","nstextview"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":20,"score":1,"question_id":13084005,"title":"Vertical line in NSTextView","body":"<p>I want to create a rich text editor like the one that is used in Mail.app. The NSTextView basically supports everything that I need, except one thing. I can't figure out how to create vertical lines like Mail.app does for quoted text.</p>\n\n<p>For reference, this is a screenshot of a threaded discussion that illustrates what I am talking about:</p>\n\n<p><img src=\"http://i.stack.imgur.com/Ds2rU.png\" alt=\"Threaded discussion in Mail.app\"></p>\n\n<p>I'm referring to does two vertical lines on the left side of the image. Any pointers would be greatly appreciated.</p>\n"},{"tags":["objective-c","cocoa","finder","nsworkspace"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":19,"score":1,"question_id":13082348,"title":"NSWorkspace selectFile:inFileViewerRootedAtPath: does not work the first time it is called","body":"<p>I have a sandboxed Cocoa app. I noticed that when I call <code>[[NSWorkspace sharedWorkspace] selectFile:path inFileViewerRootedAtPath:path]</code> no Finder window opens the first time is called. Finder.app is brought to the foreground (menu bar changes to Finder), but otherwise nothing happens.</p>\n\n<p>When I bring my app back to the front and again have it select a file in Finder, the Finder window opens with the file selected as expected. I tried this with <code>@\"\"</code> as second argument, same thing.</p>\n\n<p>When a Finder window is open already, everything works as expected.</p>\n\n<p>Has anybody else seen this problem? Workaround is to immediately call <code>selectFile:...</code> twice, but that doesn't seem right.</p>\n\n<p>Edit: not related to sandboxing. Same issue without sandbox.</p>\n"},{"tags":["osx","cocoa","avfoundation","avassetwriter","avassetexportsession"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13081864,"title":"AVAssetWriter: Using an alternate encoding","body":"<p>I have written an application to step through (and alter) each frame of a video using AVFramework's AVAssetReader and AVAssetWriter. It works great, but I need to be able to encode the video to MPEG4. \nIs there a way to change the output encoding for AVAssetWriter to something other then H264?\nIf not, is there a way I can use AVAssetExportSession with AVAssetWriter (without writing to a temporary file)?</p>\n\n<p>Is there a better way to be doing this all together?</p>\n\n<p>The application needs to read a source video, process every frame and write out to either H264 or MPEG4. (OSX)</p>\n"},{"tags":["objective-c","cocoa","osx"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":586,"score":2,"question_id":4986920,"title":"Tabs style in the Cocoa","body":"<p>I'm new in the Cocoa programming and now I'm designing an application with several tabs. Unfortunately I don't like the style of the standard tabs view, however I was lucky to find something with tabs style I'm looking for. Screenshot can be found here:\n<a href=\"http://investoscope.com/images/scr1.png\" rel=\"nofollow\">http://investoscope.com/images/scr1.png</a>\nAnd the question is how to implement (where to start) tabs as in the picture from the link. (I mean tabs at the bottom of the picture (Summary, Holidays, Realized, etc.))</p>\n\n<p>Thanks in advance.</p>\n\n<p>Best Regards,\nKrokodylowy </p>\n"},{"tags":["objective-c","sql","cocoa","core-data"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":13078342,"title":"Fetching all Core Data subentities","body":"<p>Suppose I have a Song entity and Genre entity in Core Data. Genres have many Songs.</p>\n\n<p>I want to perform a fetch request to fetch all songs' genres. This implies genres would show up multiple times. Or, in SQL terms,</p>\n\n<pre><code>select G.*\n  from Songs S\n       join Genres G on G.id = S.genre_id\n</code></pre>\n\n<p>I realise the SQL equivalent is a bit of a stretch since I don't need foreign/primary keys. The goal is the same. It seems simple, but I couldn't find an answer in my research that quite fit my problem.</p>\n\n<p>My ultimate goal is to aggregate genres and count them, <a href=\"http://stackoverflow.com/a/10842113/260460\">like in this post</a>. Again, in SQL terms:</p>\n\n<pre><code>select G.name, count(*)\n  from Songs S\n       join Genres G on G.id = S.genre_id\n group by G.name\n</code></pre>\n\n<p>I'm hoping that with the understanding from this question, I can add the code from the link to get what I want. Feel free to tell me it won't work if CD just doesn't work that way.</p>\n"},{"tags":["objective-c","osx","cocoa","opengl","quartz"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":48,"score":-1,"question_id":13079244,"title":"General approach for an Mac OSX drawing app (with obj-c)","body":"<p>I am planning to make a simple OSX drawing/painting app in objective-c/cocoa and thinking that the best approach is to (in a nutshell) use quartz in an NSView sub-class.</p>\n\n<p>Question: should I look into using OPEN GL or will Quartz do the trick?  Will using OPEN GL mean a big performance advantage?</p>\n\n<p>The app would be very basic and should (for example) be able to:</p>\n\n<p>-paint in color\n-paint with bitmap textures\n-use gradient fills\n-programmatic paint brushes</p>\n"},{"tags":["objective-c","osx","cocoa"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":15,"score":1,"question_id":13079851,"title":"Prevent other windows from receiving focus in Cocoa","body":"<p>How can I prevent other windows within my application from receiving focus?  I want to bring a loading window to the front and let it do its thing, but I don't want the user to be able to interact with the other windows in the app.</p>\n\n<p>I could simply hide the other windows in the app, but that feels kind of jarring for users to have their windows just suddenly disappear.  At the same time, I can't let the user continue interacting with the other windows during a load since the load will be updating data on every window (synchronization problems would occur).  I can add additional locking mechanisms, but I'd rather not if it is as simple as forcing a single window to stay on top and remain in focus.</p>\n\n<p>Thanks!</p>\n"},{"tags":["objective-c","cocoa","nsmenu"],"answer_count":2,"favorite_count":0,"up_vote_count":9,"down_vote_count":0,"view_count":404,"score":9,"question_id":5762306,"title":"Is there a way to control the NSMenuItem item that is initially highlighted when opening a menu?","body":"<p>I'm working on the details of a symbols pop up button, similar to what Xcode 3 at the top of its editor window.</p>\n\n<p>My controller object is the delegate of the <code>NSMenu</code> that is shown when the <code>NSPopUpButton</code> is shown. I implement the two methods <code>numberOfItemsInMenu:</code> and <code>menu:updateItem:atIndex:shouldCancel:</code> to populate the menu right before it's about to be displayed.</p>\n\n<p>However, the title and image of the selected <code>NSMenuItem</code> have to change each time the user changes the selection in the editor <code>NSTextView</code>, or makes changes to the text; just as is the case with Xcode.</p>\n\n<p>The problem I'm having is when the user goes to click on the <code>NSPopUpButton</code> to display the <code>NSMenu</code>, the selected <code>NSMenuItem</code> and the item that should be selected do not match up, since the menu doesn't have the proper number of items yet.</p>\n\n<p>I'm wondering if there is a way to control which <code>NSMenuItem</code> is initially highlighted and tracked when the user clicks to open the menu. As it stands, the first item it always highlighted and tracked or, if the user had previously selected a item, that item is highlighted and tracked.</p>\n\n<p>I tried explaining as best I could, but here is a image illustrating my problem:</p>\n\n<p><img src=\"http://i.stack.imgur.com/CFEL2.png\" alt=\"http://imgur.com/izGvh\"></p>\n\n<p>I want the highlighted item to be the same as the selected item when the user opens the menu. Any ideas?</p>\n"},{"tags":["objective-c","cocoa","osx","nsdate","nstimer"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":1455,"score":3,"question_id":6752234,"title":"NSTimer not firing","body":"<p>I have an NSTimer that I init with this code:</p>\n\n<pre><code>testTimer = [[NSTimer alloc] initWithFireDate:[new objectAtIndex:0] interval:0.0 target:self selector:@selector(works:) userInfo:nil repeats:NO];\n</code></pre>\n\n<p><code>[new objectAtIndex:0]</code> is an NSDate in the past.</p>\n\n<p>When I start up the app, the timer is getting created, with a fireDate of immediately (since the date is in the past), however it never calls my works method. (<code>-(void)works:(id)sender\n</code>)</p>\n\n<p>Anybody know why this is happening?</p>\n"},{"tags":["objective-c","osx","cocoa"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":13077172,"title":"How to prevent rounding up float numbers in Objective-C?","body":"<p>Maybe this is a dumb question, but I really can't get it. For some reason float values in my program get rounded up during the assignment statement.</p>\n\n<p>Here is the code:</p>\n\n<pre><code>Float64 time,test;\n\nfor( Shot *sh in _arrayOfShots)\n{\n    time = sh.bFrameTime; \n    // right here time variable gets value rounded up to 2 decimal places\n    // for example: if sh.bFrameTime = 81.919998 =&gt; time = 81.92\n\n    NSNumber *num = [NSNumber numberWithFloat:time];\n\n    test = [num floatValue];\n\n    [edgeTime addObject:num];\n}\n\n// this is my Shot object structure\n\n@interface Shot : NSObject\n{\n    int bFrame;\n    int eFrame;\n\n     Float64 bFrameTime;\n}\n</code></pre>\n\n<p>If anyone knows how to deal with this, please give me hint!</p>\n\n<p>Thank you!</p>\n"},{"tags":["objective-c","cocoa","scope"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":90,"score":-1,"question_id":13077388,"title":"\"this.x = x\" equivalent in objective C?","body":"<p>Here is an example constructor in Java:</p>\n\n<pre><code>public Board(int row, int column)\n{\n    this.row = row;\n    this.column = column;\n}\n\n...\n\nint row;\nint column;\n</code></pre>\n\n<p>and here is my method in Objective C I am trying to do the same thing:</p>\n\n<pre><code>- (void) setSquares: (int) row:(int) column\n{\n    self.row = row; // &lt;-- Error\n    self.column = column;// &lt;-- Error\n}\n\n...\n\nint row;\nint column;\n</code></pre>\n\n<p>As you can see I get 2 errors because the compiler thinks I am trying to access 2 properties, one called row and one called column. I know this is how you are suppose to access properties but how are you suppose to 'change the scope' so that I can set the local variables to the parameters of the method? How do I do this in Objective C?</p>\n"},{"tags":["objective-c","cocoa"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":92,"score":0,"question_id":4102976,"title":"Reduce inner margins of the tokens of NSTokenField","body":"<p>I feel the tokens in NSTokenField have way too much inner margins, i.e. i believe the two semicircles (on the each side) should be closer to the text. The default setting wastes way too much space.</p>\n\n<p>How do I reduce these margins, and make the tokens more compact?</p>\n"},{"tags":["objective-c","cocoa","appkit","autolayout"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":165,"score":0,"question_id":12191634,"title":"Trouble with autolayout on NSScrollView's document view","body":"<p>I'm trying to find the best way to use Lion's autolayout to make this simple window containing a scrollable view with a centered image and a border around it. See my awesome ascii art:</p>\n\n<pre><code>+==============+\n|             ||\n|    XXXXXX   ||\n|    XXXXXX   ||\n|    XXXXXX   ||\n|              |\n+--------------+\n</code></pre>\n\n<p>The NSScrollView's document view is a flipped NSView subclass that draws a background pattern, and inside that I add an image that the user chooses (ie. indeterminate size). When adding the image view, I give it constraints to center it in the document view. The document view itself is given constraints saying it wants to be slightly larger than the loaded image. What I'm wanting is the obvious behavior: on loading an image larger than the scollview, the scrollers become active, on resizing the window the scrollers activate / deactivate normally.</p>\n\n<p>However, when loading a large image I'm seeing is the document view expanding all right, but the scroll view &amp; window expand with it! After that point the window doesn't permitting resizing any smaller. Obviously I'm not doing it right, but I can't see why.</p>\n\n<p>I tried changing the priority of the constraints of the document view, anything above NSLayoutPriorityWindowSizeStayPut and the window expands as above (makes sense I guess), but anything lower and the document view never resizes, resizing the window smaller works but the scrollers aren't enabled.</p>\n\n<p>Does anyone know if there are other priorities I need to set elsewhere, or additional constraints I need, or a different approach altogether .. should I instead be setting the document view's \"intrinsic size\"? Also pointers to any autolayout open source / sample code I haven't seen yet would be cool.</p>\n"},{"tags":["cocoa","command-line","appkit","foundation"],"answer_count":3,"favorite_count":2,"up_vote_count":5,"down_vote_count":0,"view_count":178,"score":5,"question_id":12852784,"title":"Command Line Tool interact with Cocoa app","body":"<p>I have a Cocoa Document-Based Application (text editor) and I want to be able to interact with it from the command line.</p>\n\n<p>For example, I'd like to set it as the editor for typing git/svn commit messages on the command line.</p>\n\n<p>Assuming I create a Command Line Tool using Foundation, what is the best way for my command line tool to communicate with the GUI application?</p>\n\n<p>Obviously I can use standard open events to have my app open a specific file, but I also need the command line app to wait until the GUI app has finished with the document (user closes the editor window) before exiting (similar to <code>mate -w file.txt</code> in TextMate's command line tool, or the equivalent in various other mac text editors).</p>\n\n<p>TextMate 2 <a href=\"https://github.com/textmate/textmate/blob/master/Applications/mate/src/mate.cc\">uses a socket file</a>. Is this the best approach? If possible I'd like to use something higher level, perhaps <code>NSDistributedNotificationCenter</code>.</p>\n"},{"tags":["objective-c","xcode","cocoa","uiscrollview","uiimageview"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":86,"score":1,"question_id":13038279,"title":"Xcode: How to click image on UIScrollView","body":"<p>I am trying to make UIScrollView with list of images that will switch to different one after click. The case is to simulate selecting an image.</p>\n\n<p>I have tried to use UIButton instead of UIImage and it was very easy to switch image, but I was not able to scroll them when I clicked right on button. It was scrolling only when I clicked between buttons.</p>\n\n<p>Than I tried to use UIImages and it was easy to scroll, but I was not able to switch image after clicking.</p>\n\n<p>I dig a little and found following post: <a href=\"http://stackoverflow.com/questions/2432176/xcode-how-to-change-image-on-touching-at-an-image-same-position\">Xcode: How to change Image on Touching at an Image (same Position)?</a></p>\n\n<p>It seems to be the thing I need, but I am doing something wrong.</p>\n\n<p>My code:</p>\n\n<pre><code>//TouchSimpleView.h\n#import &lt;UIKit/UIKit.h&gt;\n\n@interface TouchSimpleView : UIImageView {\n    id delegate;\n}\n@property (retain) id delegate;\n@end\n\n@interface NSObject (TouchSimpleView)\n-(void)didTouchView:(UIView *) aView;\n@end\n\n\n//  TouchSimpleView.m\n#import \"TouchSimpleView.h\"\n@implementation TouchSimpleView\n@synthesize delegate;\n\n- (id)initWithFrame:(CGRect)frame\n{\n    self = [super initWithFrame:frame];\n    if (self) {\n        // Initialization code\n    }\n    return self;\n}\n\n- (void) touchesBegan:(NSSet *)touches withEvent:(UIEvent *)event {\n    NSLog(@\"touchesBagan\");\n    if(delegate != nil &amp;&amp; [delegate respondsToSelector:@selector(didTouchView:)]) {\n        [delegate didTouchView:self];\n    }\n    [super touchesBegan:touches withEvent:event];\n}\n@end\n</code></pre>\n\n<p>I am using above like that:</p>\n\n<pre><code>//  ViewController.h\n#import &lt;UIKit/UIKit.h&gt;\n#import \"TouchSimpleView.h\"\n\n@interface ViewController : UIViewController {\n    TouchSimpleView *touchView;\n    UIImageView *bankImageView;\n}\n\n@property (nonatomic, retain) TouchSimpleView *touchView;\n@property (nonatomic, retain) UIImageView *bankImageView;\n@end\n\n\n//  ViewController.m\n#import \"ViewController.h\"\n\n@interface ViewController ()\n@end\n\n@implementation ViewController\n@synthesize touchView;\n@synthesize bankImageView;\n\n- (void)viewDidLoad\n{\n    [super viewDidLoad];\n    // Do any additional setup after loading the view, typically from a nib.\n\n    touchView = [[TouchSimpleView alloc] initWithFrame:CGRectMake(0, 0, 100, 100)];\n    touchView.delegate = self;\n    [self.view addSubview:touchView];\n\n    bankImageView = [[UIImageView alloc] initWithFrame:touchView.frame];\n    bankImageView.image = [UIImage imageNamed:@\"1.jpg\"];\n    [touchView addSubview: bankImageView];\n}\n\n- (void)didTouchView:(UIView *)aView {\n    NSLog(@\"view touched; changing image\");\n}\n\n@end\n</code></pre>\n\n<p>There is no UIScrollView that I mentioned on the beginning but I would like to make this simple example working and than add touchView to the UIScrollView.</p>\n\n<p>I am very beginner in iOS programming.\nPlease advise.</p>\n"},{"tags":["objective-c","cocoa","header-files"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13074416,"title":"Compiler won't recognize my custom class","body":"<p>Here is my header file for Board:</p>\n\n<pre><code>#import \"Game.h\"\n#import &lt;Foundation/Foundation.h&gt;\n\n@interface Board : UIView\n{\n    enum Piece;\n}\n\n- (void) setGame: (Game*) theGame; //&lt;-- this is where the error is\ntypedef enum {X, O, NONE} Piece;\n- (float)getSection;\n@end\n</code></pre>\n\n<p>The compiler says \"Expected a type\" and has (Game*) underlined. What is the problem here?</p>\n\n<hr>\n\n<p>Game.h:</p>\n\n<pre><code>#import &lt;Foundation/Foundation.h&gt;\n#import \"Board.h\"\n\n@interface Game : UIViewController\n\n- (void)boardwasTapped:(int) row:(int) column;\n\n@end\n</code></pre>\n"},{"tags":["objective-c","cocoa","events"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":28,"score":1,"question_id":13073328,"title":"Cocoa detecting key held down","body":"<p>In Cocoa there is an overridable function for keyDown and keyUp but no keyHeld? Does it have a function or is there a way to check the keystate as in Win32?</p>\n\n<p>This may be a stupid question but my experience in limited and I come from a Win32 background.</p>\n\n<p>Thanks for your time</p>\n"},{"tags":["cocoa","core-animation"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":1815,"score":3,"question_id":3647914,"title":"Calling setNeedsDisplay:YES on layer-hosting view does not redraw the view","body":"<p>I have a layer-hosting view set up like this in a custom <code>NSView</code> subclass:</p>\n\n<pre><code>[self setLayer:rootLayer];\n[self setWantsLayer:YES];\n</code></pre>\n\n<p>I add all the sublayers to the layer tree after I called <code>setNeedsDisplay</code> on each sublayer. Each layer's content is provided by a <code>drawLayer:inContext</code> method of my layer's delegate.</p>\n\n<p>Here is my problem:</p>\n\n<p>After initializing my view the view gets draw correctly. However, when the model has changed and I call <code>[myCustomView setNeedsDisplay:YES];</code> from my view controller the <code>drawLayer:inContext</code> is not called.</p>\n\n<p>I am confused now how to update the view:</p>\n\n<ul>\n<li>Do I have to call the <code>setNeedsDisplay</code> method on each CALayer in the layer tree?</li>\n<li>Should not the call of <code>setNeedsDisplay:YES</code> on the layer-hosting view itself trigger the redraw of the whole layer tree?</li>\n</ul>\n\n<p>Thanks for your help.</p>\n\n<p><strong>Edit</strong></p>\n\n<p>I have found something in the NSView Class reference</p>\n\n<blockquote>\n  <p>A layer-backed view is a view that is backed by a Core Animation layer. Any drawing done by the view is the cached in the backing layer. You configured a layer-backed view by simply invoking setWantsLayer: with a value of YES. The view class will automatically create the a backing layer for you, and you use the view class’s drawing mechanisms. When using layer-backed views you should never interact directly with the layer.</p>\n  \n  <p>A layer-hosting view is a view that contains a Core Animation layer that you intend to manipulate directly. You create a layer-hosting view by instantiating an instance of a Core Animation layer class and setting that layer using the view’s setLayer: method. After doing so, you then invoke setWantsLayer: with a value of YES. When using a layer-hosting view you should not rely on the view for drawing, nor should you add subviews to the layer-hosting view.</p>\n</blockquote>\n\n<p><a href=\"http://developer.apple.com/mac/library/documentation/Cocoa/Reference/ApplicationKit/Classes/NSView_Class/Reference/NSView.html\" rel=\"nofollow\">link to documentation</a></p>\n\n<p>In my case I have a layer-hosting view. So does that indeed mean that I have to trigger the redraw manually? Should I implement a pseudo drawRect method in the custom NSView to call the appropriate setNeedsDisplay on the CALayers that changed?</p>\n"},{"tags":["objective-c","cocoa","osx"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":339,"score":2,"question_id":3804630,"title":"Populate NSForm with NSComboBoxes","body":"<p>So I have a task of reading from an xml file which contains a description of what form fields and comboboxes should exist in a dialog. I started by using NSForm and addentry to add the form fields, but then found out NSMatrix may be required to add combobox cells dynamically.</p>\n\n<p>So my questions are:</p>\n\n<p>1) Since NSForm inherits from NSMatrix can I add combobox cells to NSForm after I add the text fields.</p>\n\n<p>2) If I have to use NSMatrix, does anyone have any good sample code they can point me to or write which adds a text field, and combobox to it at runtime and then resizes the NSMatrix to fit its contents. A lot of books just describe what NSMatrix is, and show how to populare it using interface builder. </p>\n"},{"tags":["objective-c","ios","cocoa","mobile"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":290,"score":2,"question_id":7723909,"title":"Cocoa: Subclassing NSProgressIndicator on Lion","body":"<p>I have a problem that is driving me crazy. I want to subclass <code>NSProgressIndicator</code> in its \"Bar\" form to change the color of the progress bar based on a couple of logic states. For that i basically override the <code>-drawRect:</code> as usual. However a very strange thing happens on Lion. Even if my <code>-drawRec</code>t just calls the superclass' implementation via <code>[super drawRect:]</code> and does nothing else at all the whole progress bar will be displayed using the style that was used <em>before</em> Lion. If you remember, with Lion the progress bar style has changes to a more flat and sleek look from the prior glassy one. </p>\n\n<p>Again, just overriding <code>-drawRect</code> to do nothing but to call the superclass' implementation changes the style of the progress bar to Leopard's. Does anyone have a slightest idea of what is going on and how i can fix this?</p>\n"},{"tags":["objective-c","xcode","osx","cocoa","nsstatusitem"],"answer_count":1,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":129,"score":4,"question_id":12447232,"title":"Graphics error with NSStatusItem","body":"<p>My application uses NSStatusItem to be visible to the user. \nSo I set 'Application is agent (UIElement)' to YES, which basically hides the menu bar of the application, and hides the icon from the dock.\nNow, I didn't delete the menu bar, so I can still react to shortcuts like cmd+W to close the preference window, or cmd+q to quit the application. The problem is, that anytime I use such a command, the menubar get's messed up. \nI've noticed that other Apps which run in the background, like Growl 2, have the same issue.</p>\n\n<p><img src=\"http://i.stack.imgur.com/zl0LZ.png\" alt=\"Menubar graphics error\"></p>\n\n<p>I have no idea how to fix this. \nHopefully someone of you can help me</p>\n\n<p>I'm running Mountain Lion.</p>\n\n<p>thanks!</p>\n\n<p><strong>HINT</strong></p>\n\n<p>It probably has something to do with the 10.8 SKD. I have never noticed this issue before in any application. </p>\n"},{"tags":["cocoa","data","nstableview","nstablecolumn"],"answer_count":2,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":3642,"score":1,"question_id":2204572,"title":"NSTableView with multiple columns","body":"<p>What is an easy way to set up my NSTableView with multiple columns to only display certain data in one column.  I have the IBOutlets set up, but I don't know where to go from there.</p>\n"},{"tags":["cocoa","core-data","nspredicate","nsfetchrequest"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13070319,"title":"Fetch core data object where to-many relationship contains all objects in a set","body":"<p>What I'm looking for is a succinct way to fetch a core-data object that is identified uniquely by its relationships. e.g., given the data model:</p>\n\n<p><img src=\"http://i.stack.imgur.com/Qa11K.png\" alt=\"enter image description here\"></p>\n\n<p>... and given a set of <code>NSManagedObject</code> nodes, I'd like to fetch a triangle, or at least know if a TriangleEntity exists like so:</p>\n\n<pre><code>NSSet *nodeSet = // a set of 3 NSManagedObject*s\nNSFetchRequest *request = [[NSFetchRequest alloc] initWithEntityName:@\"TriangleEntity\"];\nNSPredicate *predicate = [NSPredicate predicateWithFormat:@\"corners CONTAINS ALL %@\", nodeSet]; \n</code></pre>\n\n<p>I don't think that <code>CONTAINS ALL</code> is proper syntax -- And I know that I could just unpack the NSSet and fetch </p>\n\n<pre><code>@\"corners CONTAINS %@ AND corners CONTAINS %@ AND corners CONTAINS %@\", setObj1, setObj2, setObj3\n</code></pre>\n\n<p>... but that seems silly. Is there a more elegant solution?</p>\n"},{"tags":["c++","objective-c","xcode","cocoa"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":13070328,"title":"Is there a simple way to add a C++ object to an existing Objective-C Cocoa application","body":"<p>I'm struggling to figure out how to add a C++ class to a Cocoa application I'm writing.</p>\n\n<p>I understand that by default Cocoa applications are compiled as Objective-C, and that Objective-C is a superset of C not C++.  </p>\n\n<p>I've tried setting the file types on my Objective-C classes to <code>Objective-C++ Source</code> and renaming them as <code>.mm</code> files but I'm still getting errors for my C++ class declaration.</p>\n\n<p>Is there a simple/straightforward way to include existing c++ sources in a cocoa project? Or is should I just re-write my C++ objects in objective-c?</p>\n\n<p><strong>Update</strong>:</p>\n\n<p>Ok it turns out that I was sort of wrong.  When I tried to compile the project using Objective-C I was getting the errors:</p>\n\n<blockquote>\n  <p>Unknown type name class did you mean Class</p>\n</blockquote>\n\n<p>Then when I change the Cocoa sources to Objective-C I'm getting a completely different error.  So this issue is resolved.</p>\n"},{"tags":["osx","cocoa","carbon"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":49,"score":2,"question_id":13070605,"title":"How to wait for a Mac OS X application to fully activate","body":"<p>My application is a debugger and I need to frequently switch the active process between a target application and my debugger application as the user steps from one line to another within their code.  I am currently using the <code>SetFrontProcessWithOptions(…, kSetFrontProcessFrontWindowOnly)</code> call to accomplish this.</p>\n\n<p>The problem I have is that the <code>SetFrontProcessWithOptions()</code> call returns before the application is fully activated.  <code>SetFrontProcessWithOptions()</code> returns when the process becomes the active process, but before its main window has been brought forward and made active.  If I call SetFrontProcess again too quickly to reactivate my debugger application, Mac OS X gets confused and the layering of windows becomes muddled.  Visually, the wrong window appears to be active and keyboard and menu focus is directed to what appears to be an inactive window.</p>\n\n<p>I have tried using <code>GetFrontProcess()</code> after calling <code>SetFrontProcessWithOptions()</code> to poll, but <code>GetFrontProcess()</code> immediately returns the PSN that my code has activated with <code>SetFrontProcessWithOptions()</code> even though that process's windows are not yet fully activated.</p>\n\n<p>Does anyone know of a way to determine when an application has become fully active with its main window ready to receive keyboard input?</p>\n"},{"tags":["ios","cocoa","testing","tdd","storyboard"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":37,"score":2,"question_id":13068890,"title":"Do storyboards scale well with unit testing?","body":"<p>I am giving a serious look to a new iOS project with Storyboards, and although it seems attractive, I am  concerned about how it will impact my unit tests.</p>\n\n<p>Normally I load my nibs and perform some mixture of integration/functional/unit tests. However with storyboards everything is in one file and I am concerned about the cost of loading and unloading the whole thing during the setUp and tearDown of every single test.</p>\n\n<p>For those of you with TDD experience and Storyboards on large projects. Have you noticed any downside, testing related, when using storyboards?</p>\n\n<p>I am concerned about the performance and keeping my unit tests fast. Maybe there are other issues I have not noticed yet. I would prefer to hear first hand stories from out there.</p>\n"},{"tags":["objective-c","xcode","osx","cocoa"],"answer_count":9,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":1938,"score":4,"question_id":11596776,"title":"create 1024*1024 icns","body":"<p>I try to create the icns file for new app store standard.\nBut I could not find out any tool can create 1024*1024 icns on market.</p>\n\n<p>Even using icon composer, it only supports 512*512 maximum.\nI am using osx 10.6.8</p>\n\n<p>Welcome any comment</p>\n"},{"tags":["objective-c","xcode","osx","cocoa","osx-lion"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":188,"score":2,"question_id":10733228,"title":"Native OSX Lion resize cursor for custom NSWindow or NSView","body":"<p>If we use NSTrackingArea for some specified region then we can implement such method to change the default cursor:</p>\n\n<pre><code>-(void)cursorUpdate:(NSEvent *)theEvent {\n    [[NSCursor resizeLeftCursor] set];\n}\n</code></pre>\n\n<p>I implementing custom resize for NSWindow, which uses NSBorderlessWindowMask. And want to use native Lion's two arrows cursors. But such type of cursors not exist in <a href=\"https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/ApplicationKit/Classes/nscursor_Class/Reference/Reference.html\" rel=\"nofollow\">NSCursor API</a>. Can I get such native cursors somehow from code? Or maybe I must redraw them by hand (not good idea)?</p>\n"},{"tags":["cocoa","autologin","nsapplication","nsworkspace"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":27,"score":1,"question_id":13064679,"title":"NSWorkspace launchApplication:showIcon:autolaunch: - how to check autolaunch flag?","body":"<p>I have implemented a login item as I was recommended in this <a href=\"http://stackoverflow.com/questions/11536477/mac-os-x-start-on-launch-while-in-app-store\">post</a>. In the helper app I launch the main app using <code>NSWorkspace</code> method <code>launchApplication:showIcon:autolaunch:</code>, sending <code>YES</code> to autolaunch parameter.</p>\n\n<p>The problem is in following: I need to check if the applications was autolaunched not to show start tooltip. The only variant I found is <code>[[NSUserDefaults standardUserDefaults] boolForKey:@\"autolaunch\"]</code>, and it returns <code>NO</code> always.</p>\n\n<p>The problem could be solved using launch arguments - but sandbox, unfortunately, cuts them too.</p>\n\n<p>Is there something I missed?</p>\n"},{"tags":["cocoa","tcp","cocoaasyncsocket"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":69,"score":2,"question_id":13063321,"title":"TCP data before session closing","body":"<p>Is there anyway that will allow to get all data sent via tcp before the session gets closed?\nWhat I am getting is I have to close the session from server only after that data is received, and moreover I have to manually pass EOL or carriage-return or \"\\n\" or  \"\\r\".</p>\n\n<p>Any help and suggestions is appreciated.</p>\n"},{"tags":["osx","cocoa","apple","osx-mountain-lion","nstextview"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":217,"score":1,"question_id":7198432,"title":"NSTextFinder action on NSTextView","body":"<p>I'm trying to capture all the <code>NSTextFinderClient</code> calls on my custom <code>NSTextView</code> subclass. </p>\n\n<p>The show action is called on my <code>-(void)performTextFinderAction:(id)sender</code> override, but for find next, find previous, etc. it's not called.</p>\n\n<p>Any ideas?</p>\n\n<p>Thanks!</p>\n\n<p><em>Edit:</em></p>\n\n<p>If you create a new project and drag an <code>NSTextView</code> from interface builder, command-g and command-shift-g (find next and find previous) don't work when the find bar is first responder.  </p>\n\n<p>Why is this? </p>\n\n<p>I need a custom subclass of <code>NSTextView</code> to respond to the find bar for every event.</p>\n"},{"tags":["objective-c","ios","cocoa-touch","cocoa","properties"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":98,"score":0,"question_id":13058823,"title":"Objective C - Using property get accessor vs directly using iVar","body":"<p>I was wondering what exactly are the differences between using the (get) accessor for reading the value of property and directly using the iVar?</p>\n\n<p>Say I have a class which declares a property:</p>\n\n<pre><code>@interface Foo : NSObject\n\n@property (strong) NSString *someString;\n\n@end\n</code></pre>\n\n<p>And in the implementation I'm using it. Are there any differences between the following two lines:</p>\n\n<pre><code>someLabel.text = self.someString;\n\nsomeLabel.text = _someString;\n</code></pre>\n\n<p>For set accessors it's clear. Afaik for strong properties the accessor takes care of retain and release (an interesting 'side question' would be if ARC changes that, i.e. does setting the iVar directly [assuming it's not an __weak iVar] also retain and release correctly using ARC), also KVO requires the use of accessors to work properly etc. But what about getters?</p>\n\n<p>And if there's no difference, is there one way considered best practice?</p>\n\n<p>Thx</p>\n"},{"tags":["objective-c","cocoa","nstableview","nstablecolumn","nstablecellview"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":65,"score":0,"question_id":13023365,"title":"NSArrayController populates NSTableView but doesn't set the cell title","body":"<p>I have a two column NSTableView that I want to populate with entries grabbed from a CSV file. Everything works fine except the title of each of the table cells isn't set.</p>\n\n<p>Here's the function that is called for each row in the NSArray</p>\n\n<pre><code>- (void)populateTable:(NSString *)fname :(NSString *)lname {\n    NSMutableDictionary *value = [[NSMutableDictionary alloc] init];\n    [value setObject:[NSString stringWithFormat:@\"%@\", fname] forKey:@\"first_name\"];\n    [value setObject:[NSString stringWithFormat:@\"%@\", lname] forKey:@\"last_name\"];\n\n    [arrayController addObject:value];\n    [value release];\n    [fname_list reloadData];\n    [lname_list reloadData];\n}\n</code></pre>\n\n<p>The value of the \"last name\" column is bound to the Array Controller <strong>arrangedObjects.last_name</strong> and both \"first_name\" and \"last_name\" are listed as keys in the <strong>Array Controller > Object Controller > Keys</strong> list</p>\n\n<p>The proper amount of table cells are created (3 entries in the CSV file = 3 rows in each column), but the title of each of the cells isn't set (either to \"first_name\" or \"last_name\" depending on the column); the title of the cells just remains \"Table View Cell\"</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>After using navinsillu's changes I end up with the following function:</p>\n\n<pre><code>- (void)populateTable:(id)sender :(NSString *)fname :(NSString *)lname {\n    [arrayController insert:sender];\n    [[[self arrayController] selection] setValue:fname forKeyPath:@\"first_name\"];\n    [[[self arrayController] selection] setValue:lname forKeyPath:@\"last_name\"];\n\n    [fname_list reloadData];\n    [lname_list reloadData];\n}\n</code></pre>\n\n<p>And in my header I have</p>\n\n<pre><code>@property (retain,nonatomic,readwrite) IBOutlet NSArrayController *arrayController;\n</code></pre>\n\n<p>But I still get the same results: 3 rows/cells in each table column, all titled \"Table View Cell\"</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>After some inspection I noticed that the <code>Model Key Path</code> under the <code>Value</code> bind for the table columns doesn't have any entries. When I type in <strong>first_name</strong> or <strong>last_name</strong> it says <strong>No completions found</strong> even though the keys are listed in the <code>Keys</code> list in the array controller. Unfortunately I have no idea as to why it isn't finding the keys.</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>Odd. I tried deleting and adding the table view and array controllers but that didn't work. However, creating a new project and doing the exact same things produces the expected results.</p>\n"},{"tags":["osx","cocoa","nsview"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13058575,"title":"Change NSView hierarchy inside a contentView","body":"<p>I have 4 NSViews (A,B,C,D) inside a NSWindow contentView, one over another (like a stack of NSViews). I added the views using IB and connected them with a File Owner. Every view has a NSViewController. I want to order the views in this way |A|B|C|D|. But after loading all the views this is what I have: |A|B|D|C|. I want to reorder NSView C in its rightful place.</p>\n\n<p>I tried using addSubview:positioned:relativeTo:\n    [[self.window contentView] addSubview:viewC positioned: NSWindowBelow relativeTo:viewD];</p>\n\n<p>But now the NSView never shows. </p>\n\n<p>How do I change viewC order?</p>\n\n<p>Thanks!</p>\n"},{"tags":["objective-c","cocoa","osx-lion","nstableview"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":495,"score":2,"question_id":9463871,"title":"Change selection color on view-based NSTableView","body":"<p>Standard highlighting color in OS X applications is blue.</p>\n\n<p>Is it possible to change it to another color, e.g. gray?</p>\n\n<p>Note that I am using the new view-based <code>NSTableView</code> available starting from OS X 10.7.</p>\n"},{"tags":["cocoa","checkbox","tableview"],"answer_count":3,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":8164,"score":1,"question_id":1021346,"title":"CheckBox in tableview","body":"<p>I am facing trouble in putting check boxes into a table view. I am posting a part of my code here.</p>\n\n<pre><code>- (NSCell *)tableView:(NSTableView *)tableView dataCellForTableColumn:(NSTableColumn *)tableColumn row:(NSInteger)row\n{\n    NSButtonCell *cell=[[NSButtonCell alloc] init];\n    NSString *strDisplayPlaylistName;\n    strDisplayPlaylistName=[playListNameArray objectAtIndex:row];\n    [cell setTitle:strDisplayPlaylistName];\n    [cell setAllowsMixedState:YES];\n    [cell setButtonType:NSSwitchButton];\n    return cell; \n}\n\n\n- (void)tableView:(NSTableView *)aTableView setObjectValue:(id)anObject forTableColumn:(NSTableColumn *)aTableColumn row:(NSInteger)rowIndex {          \n    NSCell *aCell = [aTableColumn dataCellForRow:rowIndex];\n    [aCell setNextState];\n    //NSCell *aCell=[aAddedCells objectAtIndex:rowIndex];\n    //[aCell setNextState];\n}\n</code></pre>\n\n<p>I got the checkboxes inside the tableview. But the problem is that I can't  uncheck the buttons. Is there anything more to do. I am new to cocoa programming.</p>\n"},{"tags":["objective-c","osx","cocoa","nsimageview"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":63,"score":1,"question_id":13038786,"title":"NSImageView is not deallocated using ARC","body":"<p>Im pretty new to Cocoa development, and I probably do not clearly understand how ARC works. </p>\n\n<p>My problem is that when I'm using NSImageView it is not getting deallocated as I want so the program is leaking memory.</p>\n\n<pre><code>__block CMTime lastTime = CMTimeMake(-1, 1);\n__block int count = 0;\n[_imageGenerator generateCGImagesAsynchronouslyForTimes:stops\n                                      completionHandler:^(CMTime requestedTime, CGImageRef image, CMTime actualTime,\n                                                                AVAssetImageGeneratorResult result, NSError *error)\n     {\n         if (result == AVAssetImageGeneratorSucceeded)\n         {\n             if (CMTimeCompare(actualTime, lastTime) != 0)\n             {\n                 NSLog(@\"new frame found\");\n                 lastTime = actualTime;\n             }\n             else\n             {\n                 NSLog(@\"skipping\");\n                 return;\n             }\n\n             // place the image onto the view\n             NSRect rect = CGRectMake((count+0.5) * 110, 100, 100, 100);\n\n             // the problem is here!!! ImageView object gets allocated, but never released by the program even though I'm using ARC \n\n             NSImageView *imgV = [[NSImageView alloc] initWithFrame:rect];\n\n             [imgV setImageScaling:NSScaleToFit];\n             NSImage *myImage = [[NSImage alloc] initWithCGImage:image size:(NSSize){50.0,50.0}];\n             [imgV setImage:myImage];\n             [self.window.contentView addSubview: imgV];\n         }\n\n         if (result == AVAssetImageGeneratorFailed)\n         {\n             NSLog(@\"Failed with error: %@\", [error localizedDescription]);\n         }\n         if (result == AVAssetImageGeneratorCancelled)\n         {\n             NSLog(@\"Canceled\");\n         }\n         count++;\n     }];\n</code></pre>\n\n<p>Therefore, when I'm returning to this block again t generate new images and display them, everything works perfect except that my program memory use increases by the number of views got created.</p>\n\n<p>If anyone can help me with this I would really appreciate it! Thank you!</p>\n"},{"tags":["objective-c","ruby","osx","cocoa"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":39,"score":-1,"question_id":13060105,"title":"Embedding ruby in Mac app","body":"<p>I need to embed Ruby 1.9.3 in my mac app. A lot of mac have  ruby 1.8 already installed on them and I can't use that. I found some solutions for python, but none for ruby. What are my options? Thanks.</p>\n"},{"tags":["objective-c","multithreading","cocoa","serial-port","usb"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":54,"score":2,"question_id":13059726,"title":"High CPU consumption and latency while reading serial data","body":"<p>I have two functions in my software that cause important latency problems. The software is written in Objective-C. I receive serial data from an usb device and my goal is to encapsulate them and then to send them to another object which will process the data.</p>\n\n<p>This section of the program causes large cpu and latency issues and I don't know how to solve this at all.  The device only sends data when its state changes, thus when lots of changes occur well everything becomes laggy..</p>\n\n<pre><code>- (void)getSerialData {\n    dispatch_queue_t queue = dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0);\n    dispatch_async(queue, ^{\n    [self getSerialDataLoop];\n    });\n}\n\n- (void)getSerialDataLoop {\n\nreadThreadRunning = YES;\n\nchar byte_buffer[2]; // buffer for holding incoming data\nint numBytes=0; // number of bytes read during read\nNSString *text;\n\n// this will loop untilthe serial port closes\nwhile(TRUE) {\n    // read() blocks until some data is available or the port is closed\n    numBytes = (int)read(serialFileDescriptor, byte_buffer, 1); // read up to the size of the buffer\n\n    if(numBytes&gt;0) {\n        ///text = [NSString stringWithCString:byte_buffer encoding:NSSymbolStringEncoding];\n        if(![text isEqualToString:@\"\"]){\n            text = [NSString stringWithUTF8String:byte_buffer];\n            [self performSelectorOnMainThread:@selector(processNSStringData:) withObject:text waitUntilDone:YES];\n        }\n    } else {\n        break; // Stop the thread if there is an error\n    }\n\n}\n// make sure the serial port is closed\nif (serialFileDescriptor != -1) {\n    close(serialFileDescriptor);\n    serialFileDescriptor = -1;\n}\n\n// mark that the thread has quit\nreadThreadRunning = FALSE;\n}\n</code></pre>\n\n<p>Do you have any ideas or pointers?</p>\n"},{"tags":["xcode","osx","cocoa"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":29,"score":1,"question_id":13057678,"title":"Simulate run on older OS X version","body":"<p>How can simulate a run on a older OS X version ? </p>\n\n<p>Right now my app works on 10.7 and 10.8 but I want to make it compatible with 10.6. Since I'm using some new apis I'm still compiling with the 10.8 base SDK, I can only change the deployment target. </p>\n\n<p>So on my OS X 10.8, how can I simulate a run on OS X 10.6 ? (If it's possible) </p>\n\n<p>Thanks </p>\n"},{"tags":["ios","cocoa","speech-recognition"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":93,"score":1,"question_id":12762252,"title":"Detect No Speech in SKRecognizer","body":"<p>I'm using Nuance's SpeechKit (specifically the SKRecognizer class) in order to detect speech from the user when they click a button.  However, if they don't speak anything within a pre-determined amount of time (3 seconds or so), I want to cancel the recording session.  Passing \"SKShortEndOfSpeechDetection\" in the init function doesn't appear to do the trick, it will only stop the recording when the user has already spoken something.  Is there some other way to accomplish this?</p>\n"},{"tags":["ios","cocoa","ios6","passbook"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":13057307,"title":"Passbook passURL not opening the right pass when passes are grouped","body":"<p>I have an issue with passbook when trying to open a Pass's passURL as follows:</p>\n\n<pre><code>PKPass *pass = .....\n[[UIApplication sharedApplication] openURL:[pass passURL]];\n</code></pre>\n\n<p>Now this works fine in most cases, but when there are many passes in my passbook, sometimes my passes get grouped like so, and have to be swiped through:</p>\n\n<p><img src=\"http://i.stack.imgur.com/x4Dm3.png\" alt=\"passes are grouped and need to be swiped through; see the UIPageControl on the bottom?\"></p>\n\n<p>The issue here is that when the passes become grouped in this way, the bit of code I supplied above just opens the group with ANY of the passes in the group on top, not necessarily the one that was supplied in the passURL.</p>\n\n<p>Now here are the things I tested and now know:</p>\n\n<ul>\n<li>the passes have DIFFERENT pass URL's</li>\n<li>the passes are grouped based on a bunch of criteria; I've had passes from the same organization not be grouped, but sometimes be grouped. Same with styles (coupon, event ticket, etc.)</li>\n</ul>\n\n<p>I looked through Apple's dev forums but saw no mention of this bug (if it indeed is a bug and not my error). I was wondering if anyone else saw it and whether they found some workaround or could reveal my mistake.</p>\n\n<p>Thanks,</p>\n"},{"tags":["osx","cocoa","xib"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":71,"score":1,"question_id":13043220,"title":"In default Xcode OS X application template, is File's Owner == NSApplication?","body":"<p>I come from an iPhone application development background. I am trying to understand how the application initialization phase works in an OS X application. The one thing I find puzzling is that when you initially created an application in Xcode 4.5.1 it gives you a single XIB file with both a <code>File's Owner</code> object and an <code>Application</code> object.</p>\n\n<p>Both seems to have the similar if not same set of outlets and interfaces. So I was wondering:</p>\n\n<ul>\n<li>Are they pointing to the same object?</li>\n<li>What <em>exactly</em> happens with this XIB and <code>NSApplication</code> instances during <code>NSApplicationMain()</code>?</li>\n<li>What becomes the <code>File's Owner</code> of this XIB's contents?</li>\n<li>What is the difference between connecting an outlet to one and not the other?</li>\n</ul>\n"},{"tags":["cocoa","uitableview","nsstring"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13056165,"title":"Are there any elegant techniques to get a tableView's sections and rows into a flat string?","body":"<p>I need to get the contents of a UITableView's section titles and cell label text into a string so I can send it via a MFMailComposeVC.</p>\n\n<p>Since I typically over-think and over-code, and I figure I wasn't the first to want this, I thought I would consult SO before wasting an hour or two of my afternoon.</p>\n\n<p>Are any free, cheap, and/or elegant techniques to get the contents of a UITableView into a string?</p>\n\n<p>Edit: Oh, and I'm using core data and a fetchResultsViewController too if that helps...</p>\n"},{"tags":["iphone","objective-c","ios","ipad","cocoa"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":13055998,"title":"Best way to remove all the Viewcontroller from navigation controller stack","body":"<p>I have some view controller's within the navigation controller stack, hence I want to remove all the view controllers except for parent controller. What is the best way to remove all the view controllers in navigation controller?</p>\n\n<p>Thanks.</p>\n"},{"tags":["ios","cocoa"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13055683,"title":"Opening an NSStream on NSDefaultRunLoopMode is safe?","body":"<p>I would like have some insight on the RunLoop. As per the <a href=\"http://developer.apple.com/library/ios/#documentation/cocoa/Conceptual/Streams/Articles/ReadingInputStreams.html\" rel=\"nofollow\">apple</a></p>\n\n<pre><code>- (void)setUpStreamForFile:(NSString *)path {\n// iStream is NSInputStream instance variable\niStream = [[NSInputStream alloc] initWithFileAtPath:path];\n[iStream setDelegate:self];\n[iStream scheduleInRunLoop:[NSRunLoop currentRunLoop]\n    forMode:NSDefaultRunLoopMode];\n[iStream open];\n}\n\n- (void)stream:(NSStream *)stream handleEvent:(NSStreamEvent)eventCode {\nswitch(eventCode) {\n    case NSStreamEventHasBytesAvailable:\n    {\n        if(!_data) {\n            _data = [[NSMutableData data] retain];\n        }\n        uint8_t buf[1024];\n        unsigned int len = 0;\n        len = [(NSInputStream *)stream read:buf maxLength:1024];\n        if(len) {\n            [_data appendBytes:(const void *)buf length:len];\n            // bytesRead is an instance variable of type NSNumber.\n            [bytesRead setIntValue:[bytesRead intValue]+len];\n        } else {\n            NSLog(@\"no buffer!\");\n        }\n        break;\n    }\n</code></pre>\n\n<p>code pasted above is opening input and output streams on the mainRunLoops with Mode DefaultRunLoop. As per my understanding running it on defaultMode it'll be receiving and processing all kinds of activities like user touch events, perform-after, delegates from asynchronous operations, KVO etc. on the same. Now my question is isn't it better if it could have been started on a different thread (quite possible I'm not getting something here after all its from Apple but please guide me here)?</p>\n\n<blockquote>\n  <p>-MANN</p>\n</blockquote>\n"},{"tags":["objective-c","cocoa","memory","garbage-collection"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":145,"score":0,"question_id":2565764,"title":"Do I need getters and setters if i'm depending on garbage collection in objective-c","body":"<p>New to Cocoa and Objective-c.</p>\n\n<p>Do I need getters and setters if I'm depending on garbage collection?</p>\n\n<p>For example is it safe to just modify instance variables directly without the dot syntax?</p>\n\n<p>And in the dealloc method can I sent them to nil instead of release (or do I even have to release them)?</p>\n"},{"tags":["c++","cocoa","osx","keyboard","carbon"],"answer_count":1,"favorite_count":4,"up_vote_count":7,"down_vote_count":0,"view_count":4590,"score":7,"question_id":2379867,"title":"Simulating key press events in Mac OS X","body":"<p>I'm writing an app where I need to simulate key press events on a Mac, given a code that represents each key. It seems I need to use the <code>CGEventCreateKeyboardEvent</code> function to create the event. The problem is that this function needs a Mac keycode, and what I have is a code that represents the specific key. So, for example, I receive:</p>\n\n<p><code>KEY_CODE_SHIFT</code> or <code>KEY_CODE_A</code> - these are both numeric constants defined somewhere.</p>\n\n<p>I need to take these constants and turn them into <code>CGKeyCode</code> values.</p>\n\n<p>My current attempt uses code similar to <a href=\"http://stackoverflow.com/questions/1918841/how-to-convert-ascii-character-to-cgkeycode\">this SO question</a>. The problem is that it only works for printable characters. If all else fails, I'm not above hard coding the conversion, but that would mean that I'd need a table of possible CGKeyCode values, which I have not yet been able to find. </p>\n\n<p>Any ideas?</p>\n"},{"tags":["objective-c","cocoa"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":38,"score":-1,"question_id":13054361,"title":"Concatenate strings on Objective C","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/510269/how-do-i-concatenate-strings-in-objective-c\">How do I concatenate strings in Objective-C?</a>  </p>\n</blockquote>\n\n\n\n<p>Hello everyone I am new to Objc, I want to concatenate strings of the Integer value with string value.\nHere is my code:</p>\n\n<pre><code>[runtime setText:[NSString stringWithFormat:@\"%@\",self.movie.runtime]];\n</code></pre>\n\n<p>The result will be: 120</p>\n\n<p>The result that I wish to concatenate string is: 120 Minutes.</p>\n\n<p>Please share me about this.\nThanks</p>\n"},{"tags":["cocoa","nsmenu"],"answer_count":1,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":154,"score":3,"question_id":9683192,"title":"Custom NSMenu like view not displaying selectedMenuItemColor correctly","body":"<p>I wrote my own NSMenu like class to show dynamic search results below a <code>NSSearchField</code> in a borderless NSWindow.  It's working well but doesn't draw the magic <code>selectedMenuItemColor</code> correctly if I add some padding to the top of the subview.  I put a 5 pixel padding at the top of container view to mimic NSMenu and when I do it blue selected gradient looks off.  A picture &amp; code should make this clear:</p>\n\n<p><img src=\"http://i.stack.imgur.com/V40Vh.png\" alt=\"enter image description here\"></p>\n\n<p>Here is my drawRect code inside my item view (remember this is just a regular NSView): </p>\n\n<pre><code>-(void) drawRect:(NSRect)dirtyRect {\n    CGRect b = self.bounds;\n    if (selected) {\n\n        [NSGraphicsContext saveGraphicsState];\n\n        [[NSColor selectedMenuItemColor] set];\n        NSRectFill( b );\n\n        [NSGraphicsContext restoreGraphicsState];\n        if (textField) {\n            textField.textColor = [NSColor selectedMenuItemTextColor];\n        }\n    } else {\n        [[NSColor clearColor] set];\n       NSRectFillUsingOperation(b, NSCompositeSourceOver);\n        if (textField) {\n            textField.textColor = [NSColor blackColor];\n        }\n    }\n}\n</code></pre>\n"},{"tags":["cocoa","nstextfield","nsrect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13052078,"title":"cocoa - add NSTextfield to NSRect","body":"<p>I'm confused as to why the code below isn't working, what I would like to achieve is to have a NSTextfield in a NSRect but I'm not sure if it's possible and if it is how to do it, I tried the code below but it's not working...</p>\n\n<pre><code>NSRect city_label = NSMakeRect(20, 20, 7, 7);\n\nNSTextField *label = [[NSTextField alloc] initWithFrame:city_label];\n\nlabel.stringValue = @\"Contents of NSTextfield\";\n</code></pre>\n\n<p>The NSRect gets drawn in an NSView</p>\n\n<p>Anyone any ideas?</p>\n"},{"tags":["osx","cocoa","nsview","nstextview","autolayout"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":146,"score":0,"question_id":9692850,"title":"NSTextField not contained by the NSView on resize","body":"<p>This is probably an elementary view setup issue so bare with me.</p>\n\n<p>I have an NSTextView that I put on top of NSView. (NSView->NSTextView)</p>\n\n<p><img src=\"http://i.stack.imgur.com/DtQGh.png\" alt=\"enter image description here\"></p>\n\n<p>When I move the window around, the label stays put (in the middle of the view), but when I resize the view, the label goes away.</p>\n\n<p><img src=\"http://i.stack.imgur.com/u8cig.png\" alt=\"enter image description here\"></p>\n\n<p>What's the right way to make sure the label ALWAYS stays centered where I put it?  I also tried putting it inside another custom NSView (NSView->NSView->NSTextField), but it doesn't stay centered.</p>\n\n<p>For what it's worth I'm using auto layout in Xcode 4:</p>\n\n<p><img src=\"http://i.stack.imgur.com/J8DSC.png\" alt=\"enter image description here\"></p>\n\n<p>Thanks in advance</p>\n"},{"tags":["objective-c","cocoa","resize","autolayout","nslayoutconstraint"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":13051617,"title":"How to resize a parent view based on the size of subviews layouted with Autolayout","body":"<p>I am preparing a custom view which looks similar to the example shown in the screenshot. I add all user interface components (labels, text fields, radio buttons, ..) at runtime. To position the elements I use <a href=\"http://developer.apple.com/library/mac/#releasenotes/UserExperience/RNAutomaticLayout/_index.html#//apple_ref/doc/uid/TP40010631\" rel=\"nofollow\">Autolayout</a> constraints. This part works fine so far.</p>\n\n<p><img src=\"http://i.stack.imgur.com/irIgg.png\" alt=\"Custom View\"></p>\n\n<p>The number of elements varies from context to context. I wonder how I could use Autolayout constraints to <strong>dynamically resize the parent view</strong> (most likely the height of the view). The view constraints therefore should consider the height and margins defined for the currently attached subviews.</p>\n"},{"tags":["objective-c","cocoa-touch","cocoa","oop"],"answer_count":5,"favorite_count":1,"up_vote_count":6,"down_vote_count":0,"view_count":5069,"score":6,"question_id":5588799,"title":"Objective-C: How do you access parent properties from subclasses?","body":"<p>If I have this class defined, how do I access the <code>someObject</code> property in subclasses without compiler errors?</p>\n\n<pre><code>@interface MyBaseClass\n  // someObject property not declared here because I want it to be scoped \n  // protected. Only this class instance and subclass instances should be\n  // able to see the someObject property.\n@end\n\n// This is a private interface extension...properties declared here\n// won't be visible to subclasses. However, I don't see any way to \n// declare protected properties...\n@interface MyBaseClass (private)\n   @property (nonatomic, readwrite, retain) NSObject *someObject;\n@end\n</code></pre>\n\n<p>\n\n<pre><code>@interface MySubclass : MyBaseClass \n@end\n\n@implementation MySubclass\n\n- (id) init {\n    // Try to do something with the super classes' someObject property. \n    // Always throws compile errors.\n\n    // Semantic Issue: Property 'someObject' not found \n    // object of type 'MySubclass *'\n    self.someObject = nil; \n\n}\n@end\n</code></pre>\n\n<p><br><br>\nI'm obviously not understanding how inheritance works in objective-c. Could someone enlighten me?</p>\n"},{"tags":["mysql","osx","cocoa","database-connection"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13050133,"title":"Connecting MySQL database to Mac app","body":"<p>The question is pretty simple, however it seems like there's a million variations on the answer, therefore although this question has definitely been asked before, I'd like to ask it again in the hope that an up-to-date answer can be sought.</p>\n\n<p>Basically I'm creating a Mac app and part of it will be powered by data that I have in a remote MySQL database as part of my site. My question is this: what is the best way of connecting to that database so that the data can be used in my app?</p>\n\n<p>I have read many answers that suggest using a web service to convert the database to JSON or equivalent and then converting that into objects that can be used via Core Data is the best way, however the data that I want is 'dumb', i.e. I won't be changing or manipulating it in anyway, therefore I think Core Data is potentially overkill for what I need.</p>\n\n<p>Are there any other more straightforward ways of achieving this task?</p>\n"},{"tags":["cocoa","uti"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13046730,"title":"Does Cocoa (AppKit) provide constants for standard UTIs?","body":"<p>Just wondering if Cocoa provides constants for standard UTIs? At the moment I'm using Pboard types defined in NSPasteboard.h, but they're marked as slated for deprecation in the comments. Are there constants I should be using for UTIs instead, or do I just hardcode the NSString values in my app?</p>\n"},{"tags":["cocoa","menubar","nsdocument"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":29,"score":2,"question_id":13048528,"title":"Different menubar in document based apps","body":"<p>I've a cocoa app based on NSDocument, I've two types of document.\nEvery document type has its own menu items, all items are defined in mainmenu.xib.\nAs defined in Apple UI guidelines the menu items irrelevant for a doc type are shown grayed.</p>\n\n<p>I have too much menu items so I want to show only relevant items per doc type, another problem is created by the key bindings, for doc type A a particular key binding is associated to a menu item but for doc type B the same key bindind is associated to another menu item but this isn't possible because XCode detects the same key is already used and it removes (correctly) from previous item definition.</p>\n\n<p>I want to create a menu similar to XCode's 'Editor' menu, it shows some items when focus is on a text window and a totally different item set when focus is on a IB file.</p>\n\n<p>Are there best practices? For example splitting menus.\nHow can I easily create a menu similar to XCode's 'Editor' menu?\nWhich API cocoa gives us to do it?</p>\n"},{"tags":["xcode","osx","cocoa"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":90,"score":0,"question_id":12948539,"title":"Cocoa - go to foreground/background programmatically","body":"<p>I have an application with LSUIElement set to 1. It has a built-in editor, so I want the application to appear in Cmd+Tab cycle when the editor is open.</p>\n\n<pre><code>    -(void)stepIntoForeground\n    {\n        if (NSAppKitVersionNumber &lt; NSAppKitVersionNumber10_7) return;\n        if (counter == 0) {\n            ProcessSerialNumber psn = {0, kCurrentProcess};\n            OSStatus osstatus = TransformProcessType(&amp;psn, kProcessTransformToForegroundApplication);\n            if (osstatus == 0) {\n                ++counter;\n            } else {\n                //...\n            }\n        }\n    }\n    -(void)stepIntoBackground\n    {\n        if (NSAppKitVersionNumber &lt; NSAppKitVersionNumber10_7) return;\n        if (counter == 0) return;\n\n        if (counter == 1) {\n            ProcessSerialNumber psn = {0, kCurrentProcess};\n            OSStatus osstatus = TransformProcessType(&amp;psn, kProcessTransformToUIElementApplication);\n            if (osstatus == 0) {\n                --counter;\n            } else {\n                //..\n            }\n        }\n    }\n</code></pre>\n\n<p>The problems are:</p>\n\n<ul>\n<li>there's also a Dock icon (not a big deal);</li>\n<li>there's also Menu, that is not a big deal too, but they appear not always.</li>\n</ul>\n\n<p>Is there any way to disable menu at all or to make it appear always in foreground? Thanks in advance.</p>\n"},{"tags":["objective-c","xml","cocoa","xcode","osx"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":422,"score":0,"question_id":4945087,"title":"How do I load an XML document into an NSTableView?","body":"<p>Hi could anyone point me in the right direction with a tutorial, guide or sample code, thanks, Sami.</p>\n"},{"tags":["iphone","objective-c","xcode","cocoa-touch","cocoa"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":2,"view_count":1427,"score":0,"question_id":9253280,"title":"Space between UITableView Cells","body":"<p>I have a UITableView which contains x amount of cells. However, I want to have 20 px distance between each cell. My tableview only contains one section.</p>\n\n<p>I have googled around and searched the forum, but I couldn't find anything that works for my purpose. </p>\n\n<p>Is it possible to set content offset to the cell, or the imageview inside the cell?</p>\n\n<p>Can someone please help me?</p>\n"},{"tags":["objective-c","cocoa","applescript","appleevents"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":70,"score":0,"question_id":13002810,"title":"Cocoa and AppleScript / Apple Events","body":"<p>I'm using Cocoa’s <code>[[NSWorkspace sharedWorkspace] launchApplicationAtURL…</code> with the <code>NSWorkspaceLaunchNewInstance</code> option to spawn new instances of an AppleScriptable application (Adobe Acrobat), and I want to be able to trigger different Apple Events (do script, quit, save etc…) for each instance.</p>\n\n<p>So far I’ve tried to AppleScript ”System Events” and <code>tell</code> commands based on a new process’ id but for some reason the commands aren't executed by the target process. </p>\n\n<p>I'm getting the process id as <code>[NSRunningApplication processIdentifier]</code> and use that to compile an applescript by <code>[[[NSAppleScript alloc] initWithSource: AppleScript] executeAndReturnError: nil]</code>. The string representation of the AppleScript is something like the following:</p>\n\n<pre><code>tell application \"System Events\"\n  tell (process id [insert process id here]) to do script \"this.preflight(Preflight.getProfileByName('Magazine Ads'),false,false);\"\nend tell\n</code></pre>\n\n<p>I'm suspecting that the <code>processIdentifier</code> returned by <code>NSRunningApplication</code> is different from the process id used by ”System Events”, but I'm stuck and don't know where to look to get any further. I need a pointers on how to trigger AppleScriptable methods of specific application process from Cocoa, given that </p>\n\n<ul>\n<li>there can be several instances of the same application running and</li>\n<li>each process that I want to communicate with will be created within the scope of my code</li>\n</ul>\n\n<p>(Running new processes of Adobe Acrobat is necessary to allow the user to do other work while a preflight is running.)</p>\n\n<hr>\n\n<p>Edit: The process id returned by cocoa and AppleScript are different:</p>\n\n<pre><code>tell application \"System Events\" to set process_id to id of every process whose name contains \"AdobeAcrobat\"\n</code></pre>\n\n<p>returned {5584211,…}, while at the same time</p>\n\n<pre><code>[NSRunningApplication processIdentifier]\n</code></pre>\n\n<p>returned 8722 </p>\n\n<hr>\n\n<p>Edit 2: The AppleEvent object does make it possible to address a process with a certain process id but I haven't been able to figure out how to apply it to an AppleScript object.</p>\n\n<pre><code>pid_t process_id = …; \nNSAppleEventDescriptor* appleevent = [[NSAppleEventDescriptor alloc] initWithDescriptorType:typeKernelProcessID bytes:&amp;process_id length:sizeof(pid)];\n</code></pre>\n\n<p>I still haven't figured out how <code>NSAppleEventDescriptor</code> be used to access AppleScriptable methods of a process with the given <code>process_id</code>. Any pointers to resources and possibly an example of this would be a perfectly answer to my question.</p>\n"},{"tags":["objective-c","cocoa","osx","subclass","nsview"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":2377,"score":2,"question_id":4635442,"title":"Subclassing NSView to have a transparent background","body":"<p>I am creating an app where I need to have a transparent NSView with a transparent PNG image inside. The problem is, the NSView I'm drawing has a gray background on it. I have it subclassed (as TransparentRectangleView) but don't know what to put in drawRect to make it transparent.</p>\n\n<p>I have already overridden the isOpaque method to return NO but it doesn't seem to help...</p>\n\n<p>Alternatively, is there already a subclassed NSView that is similar to the iPhone's UIImageView (as long as I can add subviews inside, I need to add some text inside).</p>\n"},{"tags":["iphone","cocoa","cocoa-touch","core-graphics","nslog"],"answer_count":5,"favorite_count":12,"up_vote_count":25,"down_vote_count":0,"view_count":11729,"score":25,"question_id":1476532,"title":"NSLog with CGPoint data","body":"<p>I have a CGPoint called point that is being assigned a touch:</p>\n\n<pre><code>UITouch *touch = [touches anyObject];\n\nCGPoint point = [touch locationInView:self];\n</code></pre>\n\n<p>I want to get the x coordinate value into my console log:</p>\n\n<pre><code>NSLog(@\"x: %s\", point.x);\n</code></pre>\n\n<p>When I use this, log output for this is:</p>\n\n<p>x: (null)</p>\n\n<p>I have verified that point is not null when this is called using the debugger and variable watch.</p>\n\n<p>Any help appreciated,</p>\n\n<p>Thanks // :)</p>\n"},{"tags":["osx","cocoa","resize"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13042518,"title":"cocoa - How to resize one direction","body":"<p>I want to resize the window just one direction like <a href=\"http://i.imgur.com/nA0Q8.png\" rel=\"nofollow\">image</a> when mouse moves at bottom right corner. </p>\n\n<p>The window will resize when user move following this direction. </p>\n\n<p>If user pull following vertical/horizontal, the window will not resize.</p>\n\n<p>Have any ways to do this?</p>\n"},{"tags":["osx","cocoa","nsmenu"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13016541,"title":"Cocoa - Assign onClick event to NSMenu","body":"<p>I want my status menu to call a function when it is clicked. What's the method that would let me assign that action? Something like this below but for the menu itself.</p>\n\n<p><code>NSMenuItem* item = [[NSMenuItem alloc] initWithTitle:@\"Title\" action:@selector(doX) keyEquivalent:@\"\"];</code></p>\n"},{"tags":["ios","cocoa"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":82,"score":0,"question_id":13040356,"title":"IOS slide menu like facebook and path 2.0 that works with storyboard","body":"<p>I try looking everywhere for opensource but couldn't find a cocoa control that has the following combination.</p>\n\n<ol>\n<li>Slide Menu </li>\n<li>Story Board.</li>\n<li>Navigation controller.</li>\n<li>TabBar controller.</li>\n</ol>\n\n<p>I found one open source control that works with 1,2,3 but doesn't work with uitabbarcontroller.\n<a href=\"http://www.cocoacontrols.com/platforms/ios/controls/saslidemenu\" rel=\"nofollow\">http://www.cocoacontrols.com/platforms/ios/controls/saslidemenu</a></p>\n"},{"tags":["xcode","cocoa"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":27,"score":1,"question_id":13040652,"title":"std::terminate undefined in Cocoa App","body":"<p>I have a Cocoa app that compiles and links fine. I've since broken out some of the code into a static library and then have gone back and tried to link that libMyLib.a library to my original program.</p>\n\n<p>I now get a linker error</p>\n\n<pre><code>Undefined symbols for architecture x86_64:\n  \"std::terminate()\", referenced from:\n</code></pre>\n\n<p>referencing one of the source modules that use to live in my main project, but now lives in the library.</p>\n\n<p>I've tried to go back and match up each compiler and linker setting to see which one is different, but I just can't seem to nail it down. My hunch is that I'm linking with a C STD and need a C++ STD, but everything is using the C99 compiler with standard libs.</p>\n\n<p>Any ideas?</p>\n\n<p>Thanks!</p>\n"},{"tags":["osx","cocoa","nsview","appkit"],"answer_count":0,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":62,"score":4,"question_id":13040782,"title":"Resizing an NSView mid-animation","body":"<p>I have a normal NSView that is resizable by dragging the window edges.  </p>\n\n<p>If the view is resized during an [NSView animator] animation, it continues to animate to the final size of the original animation, but does not take into account the new window size.</p>\n\n<p><a href=\"http://supercrazyawesome.com/jump/ResizingViewAnimation.zip\" rel=\"nofollow\">Here is a simple example project.</a> Double click to begin the animation, then resize the window before it finishes.</p>\n\n<p>What is the best way to make the animation take account of the new frame size?</p>\n"},{"tags":["objective-c","ios","cocoa","nsstring"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":59,"score":2,"question_id":13039917,"title":"Is (string.length, 0) is a valid range for string?","body":"<p><code>NSString</code> methods like <code>-substringWithRange:</code> and <code>-rangeOfString:options:range:</code> state that:</p>\n\n<blockquote>\n  <p>Important: Raises an NSRangeException if any part of aRange lies\n  beyond the end of the string.</p>\n</blockquote>\n\n<p>It seems to me that range (string.length, 0) is <em>beyond</em> the end of string. However, <code>[string substringWithRange:NSMakeRange(string.length, 0)]</code> does not raise <code>NSRangeException</code> but returns an empty string. So I'm uncertain whether (string.length, 0) is a valid range.</p>\n\n<p>In comparison, both <code>[string substringWithRange:NSMakeRange(string.length + 1, 0)]</code> and <code>[string substringWithRange:NSMakeRange(string.length, 1)]</code> will raise NSRangeException. But they are very clearly beyond the end while (string.length, 0) seems a critical point.</p>\n"},{"tags":["cocoa","nsrect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13039263,"title":"cocoa - draw image in NSRect","body":"<p>I'm having difficulties drawing an image in an NSRect, the code below creates an NSRect at the desired position and also puts an image in. The problem is that the image is a circle with a transparent areas and these get filled in black, so instead of having a circle I have a black square with the circle img in it...</p>\n\n<pre><code>- (void)drawRect:(NSRect)dirtyRect{\n\nNSImage *bg = [NSImage imageNamed:@\"citydot_c1.png\"];\nNSRect city = NSMakeRect(10, 10, 8, 8);\n[bg drawInRect:city fromRect:NSZeroRect operation:NSCompositeSourceAtop fraction:1.0f];\n\nNSFrameRect(city);\n}\n</code></pre>\n\n<p>So basically, I need a way to remove the background color of a NSRect, I think...</p>\n\n<p>Anyone got any ideas?</p>\n"},{"tags":["iphone","ios","xcode","cocoa"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":50,"score":1,"question_id":13038019,"title":"fetching email addresses ios device","body":"<p>I would like to fetch all email addresses that are stored on the device. I can fetch  addresses from contacts (using AddressBook framework) but the device stores more. I can create a new email on the device and I got some kind of completition when entering the email address (when connected to the web I can get even more, so basically some of them are downloaded dynamically and some of them are stored locally). </p>\n\n<p>Is there an api to fetch all those email addresses? Or maybe the only emails I can get are those from contact book?</p>\n"},{"tags":["cocoa","cocoa-bindings"],"answer_count":1,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":951,"score":3,"question_id":1514276,"title":"Binding to a NSViewController's representedObject","body":"<p>(Abstract: bindings work in code, but not in IB)</p>\n\n<p>I have a window managed by a NSWindowController. To the left of the window is a source view. To the right is a table view showing the elements of the currently selected source.</p>\n\n<p>I have set up a NSTreeController within my window XIB. I want its contents to be used for the source view. It's selection will drive the table view.</p>\n\n<p>I am trying to split this up using NSViewControllers. One view controller will load a NIB containing the source view. Another view controller will load the table view.</p>\n\n<p>Seeing that I need access to the NSTreeController within the source view controller, I have set it to be the view controller's representedObject. (Actually for this setup to be done by the time awakeFromNib is called on the view controller, I have turned representedObject into an IBOutlet).</p>\n\n<p>All works fine when I wire my source view up in code:</p>\n\n<pre><code>[outlineView bind:@\"content\"\n\t\t toObject:sources\n\t  withKeyPath:@\"arrangedObjects\"\n\t\t  options:nil];\n[outlineView bind:@\"selectionIndexPaths\"\n\t\t toObject:sources\n\t  withKeyPath:@\"selectionIndexPaths\"\n\t\t  options:nil];\n[[outlineView tableColumnWithIdentifier:@\"Title\"] bind:@\"value\"\n\t\t\t\t\t\t\t\t\t\t\t  toObject:sources\n\t\t\t\t\t\t\t\t\t\t   withKeyPath:@\"arrangedObjects.title\"\n\t\t\t\t\t\t\t\t\t\t\t   options:nil];\n</code></pre>\n\n<p>I am however unable to reproduce this using Interface Builder. Thing is, here the \"controller key\" textfield is grayed out. Thus I bind column's \"value\" to the file owner using a model keyPath of \"representedObject.arrangedObjects.title\". This does not show the desired behavior. Actually an exception is thrown: <code>-[NSProxy doesNotRecognizeSelector:_mutatingNodes] called!</code></p>\n\n<p>How can I use representedObject in IB?\nCan I create a controller in IB which acts as proxy to representedObject?\nCould I set-up a tree controller in the source view XIB which during NIB loading gets swapped out for the representedObject?</p>\n"},{"tags":["objective-c","ios","cocoa-touch","cocoa","ocunit"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13034279,"title":"How to access NSDocumentDirectory in unit tests (OCUnit)","body":"<p>I'm trying to run my app in OCUnit environment. It uses a sqlite database and I'm having it in the app's documents folder. </p>\n\n<p>However when running from the tests, the path for the database is set to:</p>\n\n<pre><code>~/Library/Application Support/iPhone Simulator/6.0/Documents/Test.sqlite\n</code></pre>\n\n<p>While the same code gives me a path of </p>\n\n<pre><code>~/Library/Application Support/iPhone Simulator/6.0/Applications/34536EFB-005A-44A1-AD99-07D6B9F6888B/Documents/Test.sqlite\n</code></pre>\n\n<p>when I run it on the simulator. </p>\n\n<p>How can I use NSDocumentDirectory in my tests and get what I need? </p>\n"},{"tags":["ios","cocoa","posix","avfoundation","pipe"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13018316,"title":"Reading an AV asset from a pipe","body":"<p>I am trying to coax AV Foundation to read from a mp4 file in memory (without using the intermediate write-to-disk solution).  I tried my own custom URL protocol and that failed since AV Foundation doesn't really use the URL loading system.  My next solution was to try to construct a POSIX pipe and have the AV Foundation layer load an asset from a named pipe file (i.e. from url \"file:///path/path/.../path/mp4file.pipe\") that was created with mkfifo().  This worked when trying to read the file via the usual fopen() calls but failed (with a crash) with the AVURLAsset initWithURL: call.</p>\n\n<p>As anyone managed to get the AVFoundation to read from a pipe, or more generally, got the AVFoundation to work with mp4 files in memory?</p>\n\n<p>Thanks.</p>\n"},{"tags":["objective-c","ios","cocoa","core-data","nssortdescriptor"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":38,"score":1,"question_id":13034831,"title":"Multiple relationships between the same NSManagedObjects","body":"<p>An <code>Author</code> has multiple <code>Books</code>, both of which are <code>NSManagedObjects</code> modeled as a one-to-many relationship using Core Data. 20% of the time I just need to know how many books an author has written, so I check <code>author.books</code>.</p>\n\n<p>40% of the time I need this data by order of date published, and 40% of the time I need it ordered by title. Multiple classes will want to access these ordered lists.</p>\n\n<p><strong>Question 1</strong></p>\n\n<p>Is it reasonable to add two additional methods to <code>Author : NSManagedObject</code>? Since I need to request them from multiple places, it seems smarter than sorting the NSSet each time in the class making the request. I.e:</p>\n\n<pre><code>@property NSSet *books; //core data generated - just returns the unordered set\n- (NSArray *)booksByDate //applies an NSSortDescriptor to self.books, returns an NSArray\n- (NSArray *)booksByTitle //applies an NSSortDescriptor to self.books, returns an NSArray\n</code></pre>\n\n<p><strong>Question 2</strong></p>\n\n<p>Using the <code>NSSortDescriptor</code> has proven expensive, with an impact on UI performance. Ideally, I would like to try using the new(ish) <code>NSOrderedSet</code> to model the relationship as ordered, to see if there is a performance benefit. But I can't really pick which way to order the relationship, since whichever I choose (by date or by title) will be non-optimal 40&amp; of the time. Not to mention that I may want to add more sorted variants later.</p>\n\n<p>Is there some way I can have the best of both worlds, and store the relationship 3 times in my Core Data model? Once for the unordered relationship (<code>NSSet</code>), and once each for the ordered relationships (<code>NSOrderedSet</code>). I would only consider this if keeping all three properties in line with each other could be automatic - perhaps by tweaking how the <code>NSManagedObject</code> add/deletes/updates its Books. For example, I would like to somehow customize <code>author.addBook</code> to also insert the same book (in the correct location) into <code>author.booksByDate</code> and <code>author.booksByTitle</code>. And probably hide the </p>\n\n<p>Is something like this possible? Advised? Remember, my main goal is to speed up retrieval of the ordered lists - I am willing to sacrifice write times for inserts/updates/deletes.</p>\n"},{"tags":["objective-c","cocoa"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13034110,"title":"Expected method to read dictionary element not found","body":"<p>I was updating my mac app to start using arc and modern obj-c syntax through xcode just to test it our, but one i finish the obj-c syntax i started getting this error when i build the project.</p>\n\n<p><strong>Expected method to read dictionary element not found on object of type 'NSMutableData *'</strong></p>\n\n<pre><code>-(void) finishedCall:(id)data {\n\n     NSString *responseString = [[NSString alloc] initWithData:data encoding:NSUTF8StringEncoding];\n\n     receivedData = [responseString JSONValue];\n\n    NSLog(@\"receivedData--&gt;%@\",receivedData);\n\n    NSString *serailizeString = receivedData[@\"profile_image_url\"];  // &lt;-- Error comes up here\n\n    NSLog (@\"Serialize Value : %@\",serailizeString);\n\n     [qrcodeMainPage genQR:serailizeString];\n\n}\n</code></pre>\n\n<p>Any suggestions on where to begin?</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["cocoa","nsview","drawrect","autolayout"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":13029052,"title":"Autolayout constraints do no work for NSView composition with drawRect:","body":"<p>I am trying to apply <a href=\"http://developer.apple.com/library/mac/#releasenotes/UserExperience/RNAutomaticLayout/_index.html#//apple_ref/doc/uid/TP40010631\" rel=\"nofollow\">Autolayout</a> constraints to a custom button which inherits from <code>NSView</code>. The button is rather complex and can be used as radio button for example. The user interface is composed in <code>drawRect:</code> as you can guess from the following code excerpt.</p>\n\n<pre><code>@interface CustomButton : NSView\n</code></pre>\n\n<p>...</p>\n\n<pre><code>- (void)drawRect:(NSRect)dirtyRect {\n    // ...\n    if (self.hasImage) {\n        // ...\n        if (self.hasTitle) {\n            // ...\n            [image drawInRect:imgRect\n                     fromRect:NSZeroRect\n                    operation:NSCompositeSourceOver\n                     fraction:fraction\n                    alignment:Alignment_LEFT];\n        } else {\n            [image drawInRect:imgRect\n                     fromRect:NSZeroRect\n                    operation:NSCompositeSourceOver\n                     fraction:fraction\n                    alignment:Alignment_CENTER];\n        }\n    }\n    if (self.hasTitle) {\n        // ...\n        [self.textRenderer drawText:m_title\n                         inRect:textRect\n                      withState:state\n                    controlView:self];\n    }\n}\n</code></pre>\n\n<p>I successfully configured a custom text field which derives from NSView. The difference is that the text field uses <code>addSubView:</code> to compose its user interface components.  </p>\n\n<p>I wonder if it still possible to use Autolayout constraints to position the user interface components. In the moment no component shows up. I have the feeling that it does not work because I draw those \"subviews\".</p>\n"},{"tags":["objective-c","ios","cocoa","uigesturerecognizer","gesture"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":60,"score":1,"question_id":13034312,"title":"Custom discrete gesture recognizers able to send several discrete actions and respond to requireGestureRecognizerToFail requirements","body":"<p>I have encountered some problems with custom gesture recognition. I am trying to do something that is slightly different from the general use-case of the UIGestureRecognizer implementation.</p>\n\n<h2>More specifically</h2>\n\n<ul>\n<li>I have discrete gestures, but I want them to send several messages at specific points during the gesture (eg. I have a \"loops\" gesture, and I want to send a <code>newLoopRecognized</code> message each time there is a new loop, and a <code>allLoopsRecognized</code> message at the end of the gesture)</li>\n<li>I want to be able to \"reset\" the gesture state after some messages, but to allow the gesture recognizer to still receive events (and not have to remove all touches, &amp; start the gesture all over: each time I send the <code>newLoopRecognized</code> message, I want to be able to draw new loops without lifting my finger and starting again, which is not possible if I switch to the <code>GestureRecognized</code> state)</li>\n<li>I want to have several gestures that can require other gesture recognizers to fail</li>\n</ul>\n\n<p>What I understand is that when you are drawing a continuous gesture, the action message will be sent to the target object <strong>at a regular interval</strong>, and not necessarily each time you change your state from <code>StateChanged</code> to <code>StateChanged</code> again?</p>\n\n<p>Thus this wouldn't work in my case, since I want to send events only at some specific event (the start of a new loop).</p>\n\n<p>Also, if I used the continuous gesture approach, I wouldn't be able to do reset my state between each successive loop by:</p>\n\n<pre><code>...\nif( new_loop_detected )\n{\n    self.state = UIGestureRecognizerStateChanged;\n    [self reset];\n}\n...\n</code></pre>\n\n<p>since this would preclude me from extracting the state of the loop (for instance velocity &amp; amplitude) in the <code>newLoopRecognized</code> message because they are reset before the message is sent.</p>\n\n<p>I could use a convoluted approach such as copying all my state variables in another variable that I would use in the <code>newLoopRecognized</code> message, but this would be messy.</p>\n\n<p>I could simply send my notification messages in the code, such as :</p>\n\n<pre><code>...\nif( new_loop_detected )\n{\n    [self performSelector:actionOnNewLoopRecognized onTarget:target];\n}\n...\n</code></pre>\n\n<p>but this would fire those message events even if I set <code>requireGestureRecognizerToFail</code> on another gesture recognizer to allow this one to make detections, and the other had not yet had time to fail or be recognized.</p>\n\n<h2>Possible design</h2>\n\n<p>If there is no easy way to implement my design with the regular UIGestureRecognizer implementation, I would probably have to extend the discrete gesture states</p>\n\n<pre><code>StatePossible -&gt; StateRecognizing -&gt; StateRecognized\n</code></pre>\n\n<p>where transitionning to StateRecognizing would:</p>\n\n<ul>\n<li>send the correct action message (for instance I have an additional state variable that I set to <code>MessageIsOnNewLoopRecognized</code> or <code>MessageIsOnAllLoopsRecognized</code>) and call reset on the gesture recognizer</li>\n<li>preclude gesture recognizers that require this gesture recognizer to fail to make a detection</li>\n</ul>\n\n<h2>Question</h2>\n\n<p>Is there a way to use the regular UIGestureRecognizer subclassing to do what I want, or should I reimplement the whole gesture recognition framework? Are there suitable examples of such implementations, or do you have an idea what would be the proper design? If I were to reimplement the complete gesture framework, I'd like it to be backward-compatible with regular gestures to allow me to use the iOS gestures without reimplementing them.</p>\n"},{"tags":["objective-c","osx","cocoa","operating-system"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":38,"score":1,"question_id":13031897,"title":"Simple OS X viewController","body":"<p>I'm been an iphone developer for a couple of years and trying to learn mac os x programming. </p>\n\n<p>The app is very simple. The flow is like the Finder app. A NSTableView on the left, and a \"body\" view to the right, which will load in different view controllers after the cell have been selected in the tableView. </p>\n\n<p>So I have a main view, and in it, two NSView.</p>\n\n<p>I'm trying to figure out how to load the different viewcontroller in the right view after a cell has been selected in the left view. </p>\n\n<p>I've created AppController.h class that controlls the mainview. </p>\n\n<p>My first thought was to make the AppController a singleton and have the left view call a method in that class. Something like this: </p>\n\n<pre><code>- (void)changeViewControllerInRightView:(int)whichView; \n</code></pre>\n\n<p>But since I'm building the app in interface builder, and put the AppController as a NSObject, I'm not quite sure how to work it out with the singleton. </p>\n\n<p>What is the flow to do this? </p>\n\n<p>Thanks in advance</p>\n"},{"tags":["osx","cocoa","forward-declaration"],"answer_count":3,"favorite_count":2,"up_vote_count":18,"down_vote_count":0,"view_count":2970,"score":18,"question_id":6654526,"title":"Semantic warning on xcode 4","body":"<p>I'm getting a semantic warning on Xcode 4 :\n<strong>*Declaration of 'struct sockaddr_in' will not be visible outside of this function*</strong>\nthe struct seems to be declared in netinet/in.h </p>\n\n<p>The warning is getting marked on Reachability.h, its a class that I downloaded from Apple examples.</p>\n\n<pre><code>#import &lt;Foundation/Foundation.h&gt;\n#import &lt;SystemConfiguration/SystemConfiguration.h&gt;\n\ntypedef enum {\n    NotReachable = 0,\n    ReachableViaWiFi,\n    ReachableViaWWAN\n} NetworkStatus;\n#define kReachabilityChangedNotification @\"kNetworkReachabilityChangedNotification\"\n\n@interface Reachability: NSObject\n{\n    BOOL localWiFiRef;\n    SCNetworkReachabilityRef reachabilityRef;\n}\n\n//reachabilityWithHostName- Use to check the reachability of a particular host name. \n+ (Reachability*) reachabilityWithHostName: (NSString*) hostName;\n\n//reachabilityWithAddress- Use to check the reachability of a particular IP address. \n+ (Reachability*) reachabilityWithAddress: (const struct sockaddr_in*) hostAddress;\n\n//reachabilityForInternetConnection- checks whether the default route is available.  \n//  Should be used by applications that do not connect to a particular host\n+ (Reachability*) reachabilityForInternetConnection;\n\n//reachabilityForLocalWiFi- checks whether a local wifi connection is available.\n+ (Reachability*) reachabilityForLocalWiFi;\n\n//Start listening for reachability notifications on the current run loop\n- (BOOL) startNotifier;\n- (void) stopNotifier;\n\n- (NetworkStatus) currentReachabilityStatus;\n//WWAN may be available, but not active until a connection has been established.\n//WiFi may require a connection for VPN on Demand.\n- (BOOL) connectionRequired;\n@end\n</code></pre>\n\n<p>I don't understand the warning, can someone explain it to me?\nThank you.</p>\n"},{"tags":["objective-c","osx","cocoa"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":48,"score":1,"question_id":13030694,"title":"Add to Login Item - SandBox-friendly solution","body":"<p>OK, here's my situation :</p>\n\n<ul>\n<li>I'm having several apps (Status bar apps, actually), having to start at login (if user wishes so)</li>\n<li>I've been using Uli Kuster's <a href=\"https://github.com/uliwitness/UliKit\" rel=\"nofollow\">LoginItem</a> code, which worked flawlessly</li>\n<li>As per latest Apple guidelines, all newly-submitted apps HAVE TO be sandboxed.</li>\n</ul>\n\n<p>The issue :</p>\n\n<ul>\n<li><code>UKLoginItem</code> and SandBox don't work together. So, I'm looking for an alternative (and acceptable) way to do the very same thing.</li>\n</ul>\n\n<p>Any ideas? Any reference to point me to?</p>\n"},{"tags":["iphone","ios","xcode","cocoa"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":95,"score":0,"question_id":12709857,"title":"How to make my interface orientation automatically rotate to portrait?","body":"<p>I'm trying to get one of my xib file to rotate to portrait as if it were the default in the first place. </p>\n\n<p>I have made my app to support only landscape orientations. In the plist I have set \"Initial interface orientation to Landscape (right home button)\" because of majority of the app runs on landscape mode.</p>\n\n<p>The code I place in my implementation files are :</p>\n\n<pre><code>- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation {\n// Return YES for supported orientations\n\nreturn interfaceOrientation == UIInterfaceOrientationLandscapeLeft || interfaceOrientation == UIInterfaceOrientationLandscapeRight;\n</code></pre>\n\n<p>}</p>\n\n<p>Now when changing to the view controller that requires the interface to be in portrait mode I have placed this code on the xib file's implementation file to make it go into portrait mode and support portrait mode alone. So that even if the device is lying in landscape mode it would still run the view in portrait mode.</p>\n\n<pre><code>- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation {\n// Return YES for supported orientations\n\nreturn interfaceOrientation == UIInterfaceOrientationPortrait || interfaceOrientation == UIInterfaceOrientationPortrait;\n</code></pre>\n\n<p>}</p>\n\n<p>Although this does not seem to work. It just remains in landscape mode and squeezes the image view and other objects I have placed in the xib file. How do I get the xib to rotate to portrait mode? Thanks.</p>\n"},{"tags":["cocoa","monitoring","kqueue","file-monitoring"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":276,"score":0,"question_id":7095282,"title":"File monitor stop after save file","body":"<p>I'm trying to monitor the edition of a single file using <code>kqueue</code> through a wrapper called UKKQueue available <a href=\"https://github.com/uliwitness/UliKit\" rel=\"nofollow\">here</a>. This wrapper is very simple, here is the test code I'm using:</p>\n\n<pre><code>@implementation FileMonitorTestAppDelegate\n\n@synthesize window;\n\n- (void)applicationDidFinishLaunching:(NSNotification *)aNotification\n{\n    fileWatcher = [[UKKQueue alloc] init];\n    [fileWatcher addPath:@\"/Users/bruno/Desktop/SyncTestLog\"];\n    [fileWatcher setDelegate:self];\n}\n\n- (void)dealloc {\n    [fileWatcher release];\n}\n\n-(void) watcher: (id&lt;UKFileWatcher&gt;)kq receivedNotification: (NSString*)nm forPath: (NSString*)fpath {\n    NSLog(@\"UKFileWatcher: %@ - notification: %@ - filePath: %@\", kq, nm, fpath);\n}\n\n@end\n</code></pre>\n\n<p>The file at <code>/Users/bruno/Desktop/SyncTestLog</code> is a plain text file. When I edit it using <code>nano</code> from the terminal the output shows as expected:</p>\n\n<pre><code>2011-08-17 11:46:27.316 FileMonitorTest[1235:707] UKFileWatcher: &lt;UKKQueue: 0x100117da0&gt; - notification: UKKQueueFileWrittenToNotification - filePath: /Users/bruno/Desktop/SyncTestLog\n2011-08-17 11:46:27.317 FileMonitorTest[1235:707] UKFileWatcher: &lt;UKKQueue: 0x100117da0&gt; - notification: UKKQueueFileSizeIncreasedNotification - filePath: /Users/bruno/Desktop/SyncTestLog\n2011-08-17 11:46:27.751 FileMonitorTest[1235:707] UKFileWatcher: &lt;UKKQueue: 0x100117da0&gt; - notification: UKKQueueFileAttributesChangedNotification - filePath: /Users/bruno/Desktop/SyncTestLog\n</code></pre>\n\n<p>Now, when I edit it using TextEdit or TextWrangler the monitoring stop reporting changes after the first time I save the file. Heres is the last events reported:</p>\n\n<pre><code>2011-08-17 10:57:45.792 FileMonitorTest[897:707] UKFileWatcher: &lt;UKKQueue: 0x10035ae10&gt; - notification: UKKQueueFileAttributesChangedNotification - filePath: /Users/bruno/Desktop/SyncTestLog\n2011-08-17 10:57:46.463 FileMonitorTest[897:707] UKFileWatcher: &lt;UKKQueue: 0x10035ae10&gt; - notification: UKKQueueFileAttributesChangedNotification - filePath: /Users/bruno/Desktop/SyncTestLog\n2011-08-17 10:57:54.043 FileMonitorTest[897:707] UKFileWatcher: &lt;UKKQueue: 0x10035ae10&gt; - notification: UKKQueueFileDeletedNotification - filePath: /Users/bruno/Desktop/SyncTestLog\n</code></pre>\n\n<p>As far as I understand the UKKQueue gets a unix-like file descriptor with <a href=\"http://developer.apple.com/library/mac/#documentation/Darwin/Reference/ManPages/man2/open.2.html\" rel=\"nofollow\">open()</a> using the flag <code>O_EVTONLY</code>. For some reason the TextEdit (and TextWrangler) generate this <code>UKKQueueFileDeletedNotification</code> notification when save the file.</p>\n\n<p>What I need is keep listening for changes in the file \"for ever\". I suppose that I can re create the monitor when the <code>UKKQueueFileDeletedNotification</code> arrives but I'm looking for something more clean.</p>\n\n<p>Thanks</p>\n\n<p><em>Edit:</em>\nI'm just found the in the <a href=\"http://code.google.com/p/google-toolbox-for-mac/\" rel=\"nofollow\">Google Toolbox For Mac</a> a class called <a href=\"http://code.google.com/p/google-toolbox-for-mac/source/browse/trunk/Foundation/GTMFileSystemKQueue.h\" rel=\"nofollow\">GTMFileSystemKQueue</a> that's solve my problem. Still no answer for my question.</p>\n"},{"tags":["iphone","objective-c","cocoa","cocoa-touch"],"answer_count":3,"favorite_count":7,"up_vote_count":3,"down_vote_count":0,"view_count":2707,"score":3,"question_id":1978621,"title":"NSOperation and NSOperationQueue callback","body":"<p>I have a class.  Inside this class I pass an NSOperation into the NSOperationQueue that lives in my global variables.</p>\n\n<p>Now my NSOperation is finished.  I just want to know that it is finished in my class and to have the operation pass data to that class.  How is this typically done?</p>\n"},{"tags":["xcode","cocoa","command-line","video-processing"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":98,"score":1,"question_id":12857597,"title":"Video to image sequence with Handbrake CLI","body":"<p>I'm trying to create a Mac App for internal use, that grabs a movie file specified by the user, converts it to a specific format and saves every frame as an image on the hard drive.\nI've got the converting part done, using the awesome Handbrake CLI.</p>\n\n<p>Now I'm trying to find a way to save each frame as an image, but I can't find a way of doing it.</p>\n\n<p>It seems ffmpeg has a command to extract frames into images. The following pulls a single frame five seconds in: </p>\n\n<pre><code>ffmpeg -i \"infile.mp4\" -r 1 -ss 00:00:05 -t 00:00:01 -vframes 1 -f image2 -y \"image.jpg\"\n</code></pre>\n\n<p><strong>However, I'd rather use QTKit or the Handbrake CLI</strong>, so I won't have to add both ffmpeg and Handbrake to the app.</p>\n\n<p>Any ideas would be much appreciated!</p>\n"},{"tags":["iphone","ios","ipad","cocoa","internationalization"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":77,"score":1,"question_id":12993159,"title":"App with different functionality based on the user's country","body":"<p>I need to develop an application that will behave differently depending on the user's country. Let's say, if the user is in France, some functionality would be available. But, if the user were from India, he would be able to acces a different set of functionality.</p>\n\n<p>If it were only language based restrictions, I could switch functionality using NSLocale class methods. But my functionality is really dependent on the user's country because of licensing and legal reasons.</p>\n\n<p>What are the best practices for dealing with this situation?</p>\n"},{"tags":["ios","cocoa","uiwebview","progress-bar","nsurlconnection"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":91,"score":0,"question_id":13028478,"title":"Progress bar in UIWebView","body":"<p>How to determine progress in <code>UIWebView?</code>\nFew Observations:\n1. To determine the progress of downloaded content, we need to make a <code>NSURLConnection</code> object and fetch data twice: one with the <code>UIWebView</code> and the other with <code>NSURLConnection</code>\n2. If we just fetch data once using <code>NSURLConnection</code> and load the webview with that data text/html then that data renders poorly</p>\n\n<p>Difficulties:\na) As fetching data twice can largely slow down the process, is it feasible (appstore safe?) to use private api's like the one given here: <a href=\"https://github.com/petr-inmite/imtwebview\" rel=\"nofollow\">https://github.com/petr-inmite/imtwebview</a></p>\n\n<p>b) If we cannot, then how we may display a progress bar?</p>\n\n<p>c) Also will downloading the data asynchronously using <code>NSURLConnection</code> mirror the progress of <code>UIWebView</code> loading? How bad the performance of fetching data twice would be?</p>\n\n<p>There are some browsers like safari, dolphin which are displaying progress bar...any ideas on how to do this???</p>\n"},{"tags":["osx","cocoa","nsdocument","nsfilewrapper"],"answer_count":0,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":87,"score":3,"question_id":12911438,"title":"NSFileWrapper returns nil, sometimes","body":"<p>I'm using <code>NSFileWrapper</code> for my package document. Sometimes, when I request the data of a file inside the package I get <code>nil</code>.</p>\n\n<p>This is how I query the data of a file inside the package:</p>\n\n<pre><code>- (NSData*) dataOfFile(NSString*)filename {\n    NSFileWrapper *fileWrapper = [self.documentFileWrapper.fileWrappers objectForKey:filename];\n    return fileWrapper.regularFileContents; // This returns nil sometimes. Why?\n}\n</code></pre>\n\n<p>This method eventually starts returning nil for some files (not all). Sadly, I haven't managed to reproduce the problem consistently.</p>\n\n<p>In case it helps, this is how I open the package:</p>\n\n<pre><code>- (BOOL) readFromFileWrapper:(NSFileWrapper *)fileWrapper ofType:(NSString *)typeName error:(NSError *__autoreleasing *)outError {\n    self.documentFileWrapper = fileWrapper;\n    return YES;\n}\n</code></pre>\n\n<p>This is how I update the data of a file inside the package:</p>\n\n<pre><code>- (void) updateFile:(NSString*)filename withData:(NSData*)data {\n    SBFileWrapper *fileWrapper = [self.documentFileWrapper.fileWrappers objectForKey:filename];\n    if (fileWrapper) {\n        [self.documentFileWrapper removeFileWrapper:fileWrapper];\n    }\n    NSFileWrapper *fileWrapper = [[SBFileWrapper alloc] initRegularFileWithContents:data ];\n    fileWrapper.preferredFilename = filename;\n    [self.documentFileWrapper addFileWrapper:fileWrapper];\n}\n</code></pre>\n\n<p>This is how I save the package:</p>\n\n<pre><code>- (NSFileWrapper*) fileWrapperOfType:(NSString *)typeName error:(NSError *__autoreleasing *)outError {\n    return self.documentFileWrapper;\n}\n</code></pre>\n\n<p>Why can this be happening? Is there a way to prevent it?</p>\n\n<p>The documentation of <a href=\"https://developer.apple.com/library/mac/documentation/Cocoa/Reference/ApplicationKit/Classes/NSFileWrapper_Class/Reference/Reference.html#//apple_ref/occ/instm/NSFileWrapper/regularFileContents\" rel=\"nofollow\"><code>regularFileContents</code></a> appears to talk about this problem:</p>\n\n<blockquote>\n  <p>This method may return nil if the user modifies the file after you\n  call readFromURL:options:error: or initWithURL:options:error: but\n  before NSFileWrapper has read the contents of the file. Use the\n  NSFileWrapperReadingImmediate reading option to reduce the likelihood\n  of that problem.</p>\n</blockquote>\n\n<p>But I don't understand what has to be changed in the code above to prevent this situation.</p>\n\n<h1>Failed Experiments</h1>\n\n<p>I tried saving the document if <code>regularFileContents</code> return nil but it still returns nil afterwards. Like this:</p>\n\n<pre><code>- (NSData*) dataOfFile(NSString*)filename {\n    NSFileWrapper *fileWrapper = [self.documentFileWrapper.fileWrappers objectForKey:filename];\n    NSData *data = fileWrapper.regularFileContents;\n    if (!data) {\n            [self saveDocument:nil];\n            fileWrapper = [self.documentFileWrapper.fileWrappers objectForKey:filename];\n            data = fileWrapper.regularFileContents;\n    }\n    return data;\n}\n</code></pre>\n"},{"tags":["objective-c","cocoa","xcode","osx","email"],"answer_count":3,"favorite_count":2,"up_vote_count":4,"down_vote_count":0,"view_count":2070,"score":4,"question_id":5461648,"title":"Send email from Cocoa","body":"<p>How can I send an email from a Cocoa app without using any email clients ? I have NSURL but it opens up an email client. I would like to send the email without this happening.</p>\n"},{"tags":["ios","cocoa","interface-builder","xib","iboutlet"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":13025366,"title":"Loading custom class UIView from NIB (IBOutlets nil)","body":"<p>I'm trying to modularize a complex UI in several xib's. </p>\n\n<p>I want to programaticly load each additional xib from file.</p>\n\n<p>The xib has controls which are connected to the custom view code.</p>\n\n<p>Then I try to load the xib the following way inside the main view controller:</p>\n\n<pre><code>WIFClientData *clientDataView;\n\nNSArray* nibViews = [[NSBundle mainBundle] loadNibNamed:@\"WIFClientData\" owner:self options: nil];\n\nclientDataView = [nibViews objectAtIndex:0];\n[clientDataView configure];\n</code></pre>\n\n<p>The problem is that when I try to configure the view:</p>\n\n<pre><code>-(void)configure\n{\n    self.name.label.text = @\"Name\";\n    self.mobile.label.text = @\"Mobile\";\n}\n</code></pre>\n\n<p>name and mobile are nil</p>\n\n<p>I currently don't have File's owner connect, or set to any custom class. I only have the view which is layed in the xib, set to the custom class.</p>\n\n<p>I have been reading a lot of things regarding to this but haven't found the answer yet.</p>\n\n<p>Can someone help me?</p>\n\n<p>Nuno</p>\n"},{"tags":["objective-c","osx","cocoa","numbers","nsnumberformatter"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":48,"score":1,"question_id":13011595,"title":"How to avoid grouping separator in NSNumberFormater until 5 digits","body":"<p>I have an application that needs to display metric units in millimeters and based on the research that I have done (e.g. <a href=\"http://physics.nist.gov/cuu/pdf/sp811.pdf\" rel=\"nofollow\">http://physics.nist.gov/cuu/pdf/sp811.pdf</a>), it is recommended that you don't add grouping separators until you have 5 digits. Is this possible with NSNumberFormatter? I know I could test the value and enable/disable grouping based on its size but I would rather use the appropriate configuration for the NSNumberFormatter if it exists.  (BTW, I am on Mac OS X)  So for example:</p>\n\n<p>3456 should be shown as 3456 mm</p>\n\n<p>10234 should be shown as 10,234 mm (assuming comma is the grouping separator)</p>\n\n<p>I have read the Apple docs and didn't see anything.  I experimented with different searches to find the answer on Stackoverflow but couldn't find a similar question.</p>\n\n<p>Here is how I am currently setting up my NSNumberFormatter:</p>\n\n<pre><code>if (numberFormatter == nil) {\n    numberFormatter = [[NSNumberFormatter alloc] init];\n    [numberFormatter setRoundingMode:NSNumberFormatterRoundHalfUp];\n    [numberFormatter setNumberStyle:NSNumberFormatterDecimalStyle];\n    [numberFormatter setLocale:[NSLocale currentLocale]];\n    [numberFormatter setMinimumFractionDigits:0];\n    [numberFormatter setMaximumFractionDigits:2];\n}\n\nNSNumber *numberInMM = [NSNumber numberWithFloat:fLenInMMs];\nNSString *numberStr = [numberFormatter stringFromNumber:numberInMM];\nnumberStr = [numberStr stringByAppendingString:@\" mm\"];\n</code></pre>\n"},{"tags":["objective-c","cocoa","nstableview"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":3272,"score":1,"question_id":1293935,"title":"NSTableView selection & highlights","body":"<p>I have a NSTableView as a very central part of my Application and want it to integrate more with the rest of it. It has only one column (it's a list) and I draw all Cells (normal NSTextFieldCells) myself.</p>\n\n<p>The first problem is the highlighting. I draw the highlight myself and want to get rid of the blue background. I now fill the whole cell with the original background color to hide the blue background, but this looks bad when dragging the cell around. I tried overriding <code>highlight:withFrame:inView:</code> and <code>highlightColorWithFrame:inView:</code> of NSCell but nothing happened. How can I disable automatic highlighting?</p>\n\n<p>I also want all rows/cells to be deselected when I click somewhere outside my NSTableView. Since the background / highlight of the selected cell turns gray there must be an event for this, but I can't find it. I let my cells expand on a double click and may need to undo this. So getting rid of the gray highlight is not enough.</p>\n\n<p><strong>EDIT:</strong> I add a subview to the NSTableView when a cell gets double clicked and then <code>resignFirstResponder</code> of the NSTableView gets called. I tried this:</p>\n\n<pre><code>- (BOOL)resignFirstResponder\n{\n    if (![[self subviews] containsObject:[[self window] firstResponder]])\n    {\n    \t[self deselectAll:self];\n    \t...\n    }\n\n    return YES;\n}\n</code></pre>\n\n<p>Besides that it's not working I would need to implement this method for all objects in the view hierarchy. Is there an other solution to find out when the first responder leaves a certain view hierarchy?</p>\n"},{"tags":["objective-c","cocoa","nstextfield"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":13012385,"title":"NSTextField: end editing when user clicks outside of the text field","body":"<p>I have an <code>NSTextField</code> that I'm setting editable depending on a user action. I'd like to end editing when the user clicks anywhere outside of the text field inside the window.</p>\n\n<p>Seems simple, but I could not get this to work. I implemented <code>controlTextDidEndEditing</code> and <code>textDidEndEditing</code>, but no luck, especially when I click on a user interface element that does not accept the first responder status.</p>\n"},{"tags":["ios","cocoa"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":40,"score":1,"question_id":13021273,"title":"Image display options for IOS app","body":"<p>I am working on an IOS app that will display images uploaded by user from my website.</p>\n\n<p>What is the best practices on re-sizing the images on mobile or server?</p>\n\n<p>Option A - Resize thumbnail, desired size and stored it on a cloud server, Amazon S3 for example which host images for iphoneretina_ImgA, Iphone_ImgA, Ipad_ImgA, IphoneThumbnail_ImageA.</p>\n\n<p>Option B - Resize to thumbnail, desired size on the device. </p>\n\n<p>What is the best approach on displaying server image to iphone/ipad devices?</p>\n"},{"tags":["objective-c","multithreading","cocoa","nsoperation"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":411,"score":2,"question_id":4812173,"title":"Why NSOperation uses 100% CPU cycle when not doing anything?","body":"<p>I just ran into a weird behaviour with NSOperation that I fixed but do not understand. </p>\n\n<p>I subclassed NSOperation by following the documentation. When I use the main method below, the application will use 100% or more of the CPU time.</p>\n\n<pre><code>-(void)main \n{\n    @try \n    {\n        NSAutoreleasePool* pool = [[NSAutoreleasePool alloc] init];\n\n        //Cycle forever until told to cancel\n        while (![self isCancelled])\n        {\n\n        }\n\n        [pool release];\n    }\n    @catch(...) \n    {\n        // Do not rethrow exceptions.\n    }\n\n    //Finish executing\n    [self completeOperation]; //Send notificatios using KVO\n}\n</code></pre>\n\n<p>Conversely when I use the following main method, the application uses 3% of the CPU time.</p>\n\n<pre><code>-(void)main \n{\n    @try \n    {\n        NSAutoreleasePool* pool = [[NSAutoreleasePool alloc] init];\n\n        //Create the initial delayed timers\n        NSTimer *startUpTimer = [NSTimer scheduledTimerWithTimeInterval:1 target:self selector:@selector(timerFireMethod:) userInfo:nil repeats:YES];\n\n        NSRunLoop *runLoop = [NSRunLoop currentRunLoop];\n        [runLoop addTimer:startUpTimer forMode:NSRunLoopCommonModes];\n        [runLoop run];\n\n        //Cycle forever until told to cancel\n        while (![self isCancelled])\n        {\n\n        }\n\n        [pool release];\n    }\n    @catch(...) \n    {\n        // Do not rethrow exceptions.\n    }\n\n    //Finish executing\n    [self completeOperation]; //Send notificatios using KVO\n}\n</code></pre>\n\n<p>This strange behaviour appears to be attributed to the timer. If the timer is asked to not repeat itself, the application uses 100% CPU time, but if the timer is asked to repeat itself, then the CPU usage is normal.</p>\n\n<p>It appears that when nothing is running on the thread, the CPU usage is really high (I would assume it would be the opposite). Any suggestions on why this is the case? </p>\n\n<p>Thanks. </p>\n"},{"tags":["iphone","objective-c","ios","cocoa","bluetooth"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":64,"score":1,"question_id":13022769,"title":"Can I measure bluetooth signal strength in IOS?","body":"<p>I was wondering can I measure the signal strength of bluetooth devices within range of my iphone. Basically what I want to do is scan for a list of devices within range, and then see which one has the highest signal strength. Is it possible in IOS and how would I do it if so?  </p>\n"},{"tags":["objective-c","ios","cocoa"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13022515,"title":"Why velocityInView method always returns a zero point?","body":"<p>Here is my view hierarchy from base to top:</p>\n\n<ul>\n<li><p>rootview</p></li>\n<li><p>pieChart view</p></li>\n<li><p>host view</p></li>\n</ul>\n\n<p>And I added a subclass of UIPanGestureRecognizer on the host view.</p>\n\n<p>When I called: </p>\n\n<pre><code> CGPoint endPoint = [self velocityInView:self.hostView];\n</code></pre>\n\n<p>in </p>\n\n<pre><code>- (void)touchesEnded:(NSSet *)touches withEvent:(UIEvent *)event; \n</code></pre>\n\n<p>the returned endPoint is always a zero point.</p>\n\n<p>Why cannot I get the correct velocity?</p>\n"},{"tags":["php","cocoa-touch","cocoa","aes","unpack"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":51,"score":2,"question_id":13000843,"title":"Retrieve IV from RNCryptor AES 256 header in PHP","body":"<p>Using the latest source of RNCryptor and attempting to send the encrypted data to a PHP script.</p>\n\n<p>RNCryptor packages the IV into the header section which is prepended onto the actual encrypted data.</p>\n\n<pre><code>- (NSData *)header\n{\n  uint8_t header[2] = {kRNCryptorFileVersion, self.options};\n  NSMutableData *headerData = [NSMutableData dataWithBytes:header length:sizeof(header)];\n  if (self.options &amp; kRNCryptorOptionHasPassword) {\n    [headerData appendData:self.encryptionSalt]; // 8 bytes\n    [headerData appendData:self.HMACSalt]; // 8 bytes\n  }\n  [headerData appendData:self.IV]; // BlockSizeAES128\n  return headerData;\n}\n</code></pre>\n\n<p>I am new to working with binary data in PHP, am I correct with using the following unpack function?</p>\n\n<pre><code>&lt;?\n$baseEncodedString = \"...\";\n$data = mb_convert_encoding($baseEncodedString, \"UTF-8\", \"BASE64\" );\n$array = unpack(\"Cversion/Coptions/C8salt/C8hmac/C16iv/C*aes\", $data);\nprint_r($array);\n?&gt;\n</code></pre>\n\n<p>NOTE: The encrypted data is Base64 encoded from cocoa before transmission.</p>\n\n<p>The above PHP script returns data such as...</p>\n\n<blockquote>\n  <p>Array ( [version] => 1 [options] => 1 [salt1] => 109 [salt2] => 195\n  [salt3] => 185 [salt4] => 71 [salt5] => 130 [salt6] => 209 [salt7] =>\n  230 [salt8] => 25 [hmac1] => 8 [hmac2] => 152 [hmac3] => 188 [hmac4]\n  => 135 [hmac5] => 117 [hmac6] => 169 [hmac7] => 25 [hmac8] => 228 [iv1] => 43 [iv2] => 220 [iv3] => 80 [iv4] => 102 [iv5] => 142 [iv6]\n  => 144 [iv7] => 172 [iv8] => 104 [iv9] => 216 [iv10] => 45 [iv11] => 155 [iv12] => 117 [iv13] => 188 [iv14] => 67 [iv15] => 24 [iv16] =>\n  191 [aes1] => 122 [aes2] => 227 [aes3] => 45 [aes4] => 194 [aes5] =>\n  57 [aes6] => 123 [aes7] => 28 [aes8] => 130 [aes9] => 110 [aes10] =>\n  122 [aes11] => 97 [aes12] => 118 [aes13] => 214 [aes14] => 117 [aes15]\n  => 56 [aes16] => 168 [aes17] => 54 [aes18] => 198 [aes19] => 113 [aes20] => 120 [aes21] => 138 [aes22] => 67 [aes23] => 223 [aes24] =>\n  200 [aes25] => 11 [aes26] => 109 [aes27] => 177 [aes28] => 167 [aes29]\n  => 103 [aes30] => 139 [aes31] => 243 [aes32] => 199 [aes33] => 214 [aes34] => 214 [aes35] => 241 [aes36] => 199 [aes37] => 173 [aes38] =>\n  219 [aes39] => 71 [aes40] => 97 [aes41] => 32 [aes42] => 27 [aes43] =>\n  248 [aes44] => 175 [aes45] => 203 [aes46] => 123 [aes47] => 21 )</p>\n</blockquote>\n\n<p>How am I able to use this in the PHP MCrypt functions?</p>\n\n<p>Thanks.</p>\n\n<hr>\n\n<p><strong>EDIT</strong></p>\n\n<p>In response to drew010's answer I have updated my PHP script to the following...</p>\n\n<pre><code>&lt;?\nfunction pbkdf2($algorithm, $password, $salt, $count, $key_length, $raw_output = false)\n{\n    $algorithm = strtolower($algorithm);\n    if(!in_array($algorithm, hash_algos(), true))\n        die('PBKDF2 ERROR: Invalid hash algorithm.');\n    if($count &lt;= 0 || $key_length &lt;= 0)\n        die('PBKDF2 ERROR: Invalid parameters.');\n\n    $hash_length = strlen(hash($algorithm, \"\", true));\n    $block_count = ceil($key_length / $hash_length);\n\n    $output = \"\";\n    for($i = 1; $i &lt;= $block_count; $i++) {\n        // $i encoded as 4 bytes, big endian.\n        $last = $salt . pack(\"N\", $i);\n        // first iteration\n        $last = $xorsum = hash_hmac($algorithm, $last, $password, true);\n        // perform the other $count - 1 iterations\n        for ($j = 1; $j &lt; $count; $j++) {\n            $xorsum ^= ($last = hash_hmac($algorithm, $last, $password, true));\n        }\n        $output .= $xorsum;\n    }\n\n    if($raw_output)\n        return substr($output, 0, $key_length);\n    else\n        return bin2hex(substr($output, 0, $key_length));\n}\n\n$base = $_GET['base'];\n$data = mb_convert_encoding($base, \"UTF-8\", \"BASE64\" );\n//$data = base64_decode($base);\n\n$header = array();\n$header['ver'] = substr($data, 0, 1);\n$header['options'] = substr($data, 1, 1);\n$header['salt'] = substr($data, 2, 8);\n$header['hmac'] = substr($data, 10, 8);\n$header['iv'] = substr($data, 18, 16);\n$data = substr($data, 34);\n\n$td = mcrypt_module_open(MCRYPT_RIJNDAEL_128, '', MCRYPT_MODE_CBC, '');\nmcrypt_generic_init($td, pbkdf2('SHA256', 'password', $header['salt'], 10000, 16), $header['iv']);\n\n//$decrypted = mcrypt_decrypt('rijndael-256','password',$data,'',$header['iv']);\n$decrypted = mdecrypt_generic($td, $data);\necho $decrypted;\n?&gt;\n</code></pre>\n\n<p>How ever I am still getting scrambled text.</p>\n\n<blockquote>\n  <p>U¸¦uÀ­ˆÆ&amp;bŸ8:f`ôShŽºÃ~:¾ÉöÁß=Ç®nqäà€•Æ‹ò</p>\n</blockquote>\n\n<p>I looked back at RNCryptor and used the following values for the PHP script</p>\n\n<pre><code>static const RNCryptorSettings kRNCryptorAES256Settings = {\n    .algorithm = kCCAlgorithmAES128,\n    .blockSize = kCCBlockSizeAES128,\n    .IVSize = kCCBlockSizeAES128,\n    .options = kCCOptionPKCS7Padding,\n    .HMACAlgorithm = kCCHmacAlgSHA256,\n    .HMACLength = CC_SHA256_DIGEST_LENGTH,\n\n    .keySettings = {\n        .keySize = kCCKeySizeAES256,\n        .saltSize = 8,\n        .PBKDFAlgorithm = kCCPBKDF2,\n        .PRF = kCCPRFHmacAlgSHA1,\n        .rounds = 10000\n    },\n\n    .HMACKeySettings = {\n        .keySize = kCCKeySizeAES256,\n        .saltSize = 8,\n        .PBKDFAlgorithm = kCCPBKDF2,\n        .PRF = kCCPRFHmacAlgSHA1,\n        .rounds = 10000\n    }\n};\n</code></pre>\n\n<p>This function I believe produces the key?</p>\n\n<pre><code>+ (NSData *)keyForPassword:(NSString *)password salt:(NSData *)salt settings:(RNCryptorKeyDerivationSettings)keySettings\n{\n  NSMutableData *derivedKey = [NSMutableData dataWithLength:keySettings.keySize];\n\n  int result = CCKeyDerivationPBKDF(keySettings.PBKDFAlgorithm,         // algorithm\n                                    password.UTF8String,                // password\n                                    password.length,                    // passwordLength\n                                    salt.bytes,                         // salt\n                                    salt.length,                        // saltLen\n                                    keySettings.PRF,                    // PRF\n                                    keySettings.rounds,                 // rounds\n                                    derivedKey.mutableBytes,            // derivedKey\n                                    derivedKey.length);                 // derivedKeyLen\n\n  // Do not log password here\n  // TODO: Is is safe to assert here? We read salt from a file (but salt.length is internal).\n  NSAssert(result == kCCSuccess, @\"Unable to create AES key for password: %d\", result);\n\n  return derivedKey;\n}\n</code></pre>\n\n<p>Thanks again.</p>\n\n<p>Is MCRYPT_RIJNDAEL_128 correct? Even though RNCryptor settings suggest its using 256 the actually algorithm is 128 and the IV size relates to the 128 block size. I have read somewhere to force PHP to use the 16 byte IV you must use MCRYPT_RIJNDAEL_128 then to have 256 feed it a 32 byte key.</p>\n"},{"tags":["objective-c","cocoa","nsview","nsimage"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":13016173,"title":"cocoa - draw image in NSView","body":"<p>I'm having difficulties understanding why the below code doesn't work, what I wont to achieve is a image being displayed in the top left corner of an NSView, but nothing is showing...</p>\n\n<pre><code>NSImage *map0 = [NSImage imageNamed:@\"map0.png\"];\nNSRect rect = NSMakeRect(0, 0, 400, 400);\n[map0 drawInRect:rect fromRect:NSZeroRect operation:NSCompositeSourceAtop fraction:1.0f];\n[map drawRect:rect];\n</code></pre>\n\n<p><strong>EDIT:</strong></p>\n\n<p>map is the NSView into which I would like to draw the image into</p>\n"},{"tags":["cocoa","nscell","nstokenfield","nssearchfield","nstokenfieldcell"],"answer_count":0,"favorite_count":2,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13021946,"title":"Make NSSearchField use NSTokenFieldCell?","body":"<p>I'm trying to emulate the tokenized search feature of Mail.app and Finder.app on 10.7+ where there is what looks to be an NSSearchField with a search magnifying glass icon on the left and cancel (x) button on the right, but also includes tokens inside the search field.</p>\n\n<p><img src=\"http://i.stack.imgur.com/SdwVD.png\" alt=\"NSSearchField with tokens\"></p>\n\n<p>Is there any way to make NSSearchField use an NSTokenFieldCell instead of an NSSearchFieldCell?  I've tried calling <code>-setCell:</code> on the NSSearchField instance, which works and appears to swap out the cell as evidenced by calling <code>po [searchField cell]</code> in the debugger, but the drawing of the search field breaks and no text field is drawn.</p>\n\n<p>Am I approaching this in the right way or is there a better way to do it? Thanks!</p>\n"},{"tags":["cocoa","addressbook","appkit"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":96,"score":0,"question_id":10851522,"title":"List of kAB*** properties?","body":"<p>The AddressBook framework has a list of constants, like <code>kABFirstNameProperty</code>. I'm wondering if there's a list of those that I could display in a user interface, other than having to \"replicate\" this myself?</p>\n"},{"tags":["cocoa","core-data","nsmanagedobject"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13020703,"title":"Which piece of data uniquely identifies an NSManagedObject?","body":"<p>I have printed out one of my <code>NSManagedObject</code>. I guess the <code>p457</code> part of the string uniquely identifies it. Am I right?</p>\n\n<pre><code>(Variable *) $1 = 0x0a22b870 &lt;Variable: 0xa22b870&gt; (entity: Variable; id: 0xa22b860 &lt;x-coredata://5CC4CBDE-EB20-483E-AAF2-28BCDB584B4C/Variable/p457&gt; ; data: {\n    calcArgPrefix = nil;\n    calcArgValue = nil;\n</code></pre>\n"},{"tags":["xcode","cocoa","static-libraries","phash"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13020896,"title":"Linking Static Library in xcode","body":"<p>I have spent all day attempting to get pHash working in an OS X app using Xcode 4.5. First step was to built a phash static library (libphash.a) using homebrew. Several of the dependencies were outdated in the formula, but after overcoming that I got the library to compile. Next was getting cimg.h (c++) to compile in the objective-c project. Now everything compiles, until I try to actually use methods in the static library. I get a whole mess of linking errors</p>\n\n<pre><code>   Ld /Users/Stephen/Library/Developer/Xcode/DerivedData/Memoir-cgxrzpayzfsgwbadqblulfvmqbfa/Build/Products/Debug/Memoir.app/Contents/MacOS/Memoir normal x86_64\n    cd /Users/Stephen/Documents/Code/Work/Veri/veri-memories-osx\n    setenv MACOSX_DEPLOYMENT_TARGET 10.6\n    /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang++ -arch x86_64 -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.7.sdk -L/Users/Stephen/Library/Developer/Xcode/DerivedData/Memoir-cgxrzpayzfsgwbadqblulfvmqbfa/Build/Products/Debug -L/Users/Stephen/Documents/Code/Work/Veri/veri-memories-osx/Libraries/Collections-5c83f3f -L/Users/Stephen/Documents/Code/Work/Veri/veri-memories-osx/Libraries -L/Users/Stephen/Documents/Code/Work/Veri/veri-memories-osx/Libraries/pHash -F/Users/Stephen/Library/Developer/Xcode/DerivedData/Memoir-cgxrzpayzfsgwbadqblulfvmqbfa/Build/Products/Debug -F/Users/Stephen/Documents/Code/Work/Veri/veri-memories-osx/Libraries/Sparkle -filelist /Users/Stephen/Library/Developer/Xcode/DerivedData/Memoir-cgxrzpayzfsgwbadqblulfvmqbfa/Build/Intermediates/Memoir.build/Debug/Memoir.build/Objects-normal/x86_64/Memoir.LinkFileList -mmacosx-version-min=10.6 -force_load /Users/Stephen/Documents/Code/Work/Veri/veri-memories-osx/Libraries/pHash/libpHash.a -fobjc-arc -fobjc-link-runtime -lz -framework Cocoa -framework AppKit -framework CoreServices -framework Foundation -framework Security -framework SystemConfiguration -framework Sparkle /Users/Stephen/Documents/Code/Work/Veri/veri-memories-osx/Libraries/pHash/libpHash.a -o /Users/Stephen/Library/Developer/Xcode/DerivedData/Memoir-cgxrzpayzfsgwbadqblulfvmqbfa/Build/Products/Debug/Memoir.app/Contents/MacOS/Memoir\n\nUndefined symbols for architecture x86_64:\n  \"_av_close_input_file\", referenced from:\n      vfinfo_close(vf_info*) in libpHash.a(cimgffmpeg.o)\n      ReadFrames(vf_info*, cimg_library::CImgList&lt;unsigned char&gt;*, unsigned int, unsigned int) in libpHash.a(cimgffmpeg.o)\n      NextFrames(vf_info*, cimg_library::CImgList&lt;unsigned char&gt;*) in libpHash.a(cimgffmpeg.o)\n      GetNumberStreams(char const*) in libpHash.a(cimgffmpeg.o)\n      GetNumberVideoFrames(char const*) in libpHash.a(cimgffmpeg.o)\n      fps(char const*) in libpHash.a(cimgffmpeg.o)\n  \"_av_find_stream_info\", referenced from:\n      ReadFrames(vf_info*, cimg_library::CImgList&lt;unsigned char&gt;*, unsigned int, unsigned int) in libpHash.a(cimgffmpeg.o)\n      NextFrames(vf_info*, cimg_library::CImgList&lt;unsigned char&gt;*) in libpHash.a(cimgffmpeg.o)\n      GetNumberStreams(char const*) in libpHash.a(cimgffmpeg.o)\n      GetNumberVideoFrames(char const*) in libpHash.a(cimgffmpeg.o)\n      fps(char const*) in libpHash.a(cimgffmpeg.o)\n</code></pre>\n\n<p>It looks like it is not actually linking to the library. I checked to make sure its a 64 bit library and it seems to be:</p>\n\n<pre><code>    Stephen-Bradleys-iMac:pHash Stephen$ lipo -info libpHash.a\ninput file libpHash.a is not a fat file\nNon-fat file: libpHash.a is architecture: x86_64\n</code></pre>\n\n<p>I tried force loading the library with the following linker flag:</p>\n\n<pre><code>-force_load $(PROJECT_DIR)/Libraries/pHash/libpHash.a\n</code></pre>\n\n<p>That did not work either. I am at a loss on how to get this to work. I must be missing something.</p>\n"},{"tags":["html","xcode","osx","cocoa","apple-help"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13020893,"title":"Mac app help book - where to start?","body":"<p>I'm about to make an apple help book for my app.\nI already wrote a significant part of the text in Pages and now I have a few questions about best practices regarding the task of creating a help book from the text I have:</p>\n\n<ol>\n<li>Where to put the html project files (html, images, etc.) relative to the source?</li>\n<li>Should I add the html project files (html, images, etc.) to the Xcode project?</li>\n<li>Should I add the html project files (html, images, etc.) to the source control?</li>\n<li>How to separate content (text) from design?</li>\n<li>How to supply both web-access and help-book access (so people can search in Google and get to the help online)</li>\n</ol>\n"},{"tags":["osx","cocoa"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13020786,"title":"Responding to OS X service on a non-main thread","body":"<p>I am working on an application that registers a service that replaces a text selection. The twist is I want to allow the user to interact with the UI after invoking the service before returning the modified text to the calling application.</p>\n\n<p>So e.g: select text and invoke service in TextEdit -> play with it in my app -> return modified text to TextEdit</p>\n\n<p>In order for the UI to be responsive during the processing of the service, the service method needs to be called on a secondary thread, but I can't figure out how to that. No matter how I register the service the method always is called on the main thread. For example even if I call one of the following on a separate thread:</p>\n\n<pre><code>[NSApp setServicesProvider:serviceProvider];\n\nNSRegisterServicesProvider(serviceProvider, @\"AppName\");\n</code></pre>\n\n<p>Just for fun I was able to build a proof of concept Automator workflow that does this:</p>\n\n<p><img src=\"http://i.stack.imgur.com/myyAb.png\" alt=\"Automator screenshot\"></p>\n"},{"tags":["objective-c","ios","performance","cocoa","core-data"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13020684,"title":"Persisting a subset of Core Data objects","body":"<p>This is a little strange, but I want to store an array of <code>NSManagedObjects</code> outside of Core Data. </p>\n\n<p>Core Data is managing all of my model's properties and relationships. One such relationship is to all of an <code>Author</code>'s <code>Books</code>. Sometimes it is useful to know that same list in a certain order, so I have added <code>booksByDate</code> (for example) to the <code>NSManagedObject</code> Author.</p>\n\n<p>Because the sort descriptor proved expensive, I implemented a cache, using an iVar on <code>Author</code>. This helped a lot with some laggy UI issues I was experiencing. But the cache was only useful after it was first loaded, so when my application launches, I now go and tell each <code>Author</code> to cache its <code>booksByDate</code>. This adds a few seconds to my launch time, but drastically speeds up the performance once the app is running.</p>\n\n<p>I would like to reduce that launch time. One area I am experimenting with is somehow storing each <code>Author</code>'s cached <code>booksByDate</code>. At launch, instead of telling each <code>Author</code> to generate its cache using the expensive sort descriptor, I could just pass out each stored cache to it's correct <code>Author</code>.</p>\n\n<p>How might I store these caches so they persist between executions? </p>\n"},{"tags":["iphone","objective-c","ios","cocoa"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":205,"score":3,"question_id":8551857,"title":"Generate objective c classes from XSD scheme like JaxB in Java?","body":"<p>I need to create iOS application which reads its configuration from local xml file.\nDoes iOS developers has similar framework to do it like JAXB in Java?\n(JAXB generates Java classes from XSD scheme)</p>\n"},{"tags":["c#","objective-c","osx","cocoa","monomac"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":52,"score":1,"question_id":12990556,"title":"How to insert a carriage return in a NSTextField with MonoMac upon pressing the return key?","body":"<p>After reading <a href=\"http://stackoverflow.com/questions/6117032/anyway-to-make-a-wrapping-nstextfield-write-a-carriage-return-upon-pressing-re\">this question</a> together with <a href=\"http://stackoverflow.com/a/6118518/107625\">this accepted answer</a>, I tried to implement the given Objective-C solution with MonoMac in C#:</p>\n\n<pre><code>- (BOOL)control:(NSControl*)control\n    textView:(NSTextView*)textView\n    doCommandBySelector:(SEL)commandSelector\n{\n    BOOL result = NO;\n\n    if (commandSelector == @selector(insertNewline:))\n    {\n        // new line action:\n        // always insert a line-break character and don’t cause the receiver\n        // to end editing\n        [textView insertNewlineIgnoringFieldEditor:self]; \n        result = YES;\n    }\n\n    return result;\n}\n</code></pre>\n\n<p>I managed to assign a delegate to my text box and override the <code>DoCommandBySelector</code> method. What I did not manage is to translate the line</p>\n\n<pre><code>if (commandSelector == @selector(insertNewline:))\n</code></pre>\n\n<p>and the line</p>\n\n<pre><code>[textView insertNewlineIgnoringFieldEditor:self]; \n</code></pre>\n\n<p>into a C# equivalent, even after doing hours of try-and-error, together with lots of those \"Google searches\", everyone is talking about.</p>\n\n<p><strong>So my question is:</strong></p>\n\n<p>How to translate the above two lines into a working MonoMac C# code?</p>\n"},{"tags":["silverlight","cocoa","webkit","webview","32bit-64bit"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":192,"score":0,"question_id":8120863,"title":"Loading a Silverlight website in a WebFrame when built for 32-bit Intel Architecture","body":"<p>I am using a <code>WebFrame</code> to load a request to a website that is running Microsoft SilverLight.  When I build my application using the 64-bit Intel architecture (x86_64), it runs fine.  However, because I must use a third party library built for 32-bit Intel, I must build my application using that architecture.  When I do that, I get the following error message</p>\n\n<pre><code>&lt;Error&gt;: clip: empty path.\n</code></pre>\n\n<p>prior to a second call to</p>\n\n<pre><code>- (void) webView:(WebView *)sender didFinishLoadForFrame:(WebFrame *)frame\n</code></pre>\n\n<p>and my application eventually crashes or hangs.</p>\n\n<p>Has anyone experienced this problem and know what the issue may be?  Is there some reason why this only happens when building for the 32-bit Intel architecture?</p>\n\n<p>For what it's worth, here is a stack trace of the crash:</p>\n\n<pre><code>Exception Type:  EXC_BAD_ACCESS (SIGBUS)\nException Codes: KERN_PROTECTION_FAILURE at 0x000000007cabac94\n\nVM Regions Near 0x7cabac94:\n  MALLOC_TINY            000000007c800000-000000007ca00000 [ 2048K] rw-/rwx SM=PRV  \n--&gt; MALLOC_TINY            000000007ca00000-000000007cb00000 [ 1024K] rw-/rwx SM=COW  \n   MALLOC_TINY            000000007cb00000-000000007cc00000 [ 1024K] rw-/rwx SM=PRV  \n\nApplication Specific Information:\nobjc[44662]: garbage collection is OFF\n\nThread 0 Crashed:: Dispatch queue: com.apple.main-thread\n0   ???                             0x7cabac94 0 + 2091625620\n1   com.microsoft.net.coreclr       0x0aaea95e GetCLRRuntimeHost + 220078\n2   com.microsoft.net.coreclr       0x0aa2c23e MetaDataGetDispenser + 1383214\n3   com.microsoft.net.coreclr       0x0ad799e3 PAL_InitializeCoreCLR + 57795\n4   com.microsoft.net.coreclr       0x0aa2b1c5 MetaDataGetDispenser + 1378997\n5   com.microsoft.net.coreclr       0x0aa2b49f MetaDataGetDispenser + 1379727\n6   com.microsoft.net.coreclr       0x0aa2b60b MetaDataGetDispenser + 1380091\n7   com.microsoft.net.coreclr       0x0aab3630 MetaDataGetDispenser + 1937184\n8   com.microsoft.net.coreclr       0x0aab4f67 GetCLRRuntimeHost + 439\n9   com.microsoft.SilverlightPlugin 0x09499a57 UI_GetSaveFileName + 37895\n10  com.microsoft.SilverlightPlugin 0x093e5858 ippiDCTQuantInv8x8LS_JPEG_16s8u_C1R_SSE +    4824\n11  com.microsoft.SilverlightPlugin 0x08cb7dc1 main + 769249\n12  com.microsoft.SilverlightPlugin 0x09480ad7 LocalMessageReceive + 308343\n13  com.microsoft.SilverlightPlugin 0x092789a1 PopupRoot_GetOpenPopups + 427361\n14  com.microsoft.SilverlightPlugin 0x09273a65 PopupRoot_GetOpenPopups + 407077\n15  com.microsoft.SilverlightPlugin 0x0925d8a6 PopupRoot_GetOpenPopups + 316518\n16  com.microsoft.SilverlightPlugin 0x0925db19 PopupRoot_GetOpenPopups + 317145\n17  com.apple.CoreFoundation        0x9c8667be    __CFRUNLOOP_IS_CALLING_OUT_TO_AN_OBSERVER_CALLBACK_FUNCTION__ + 30\n18  com.apple.CoreFoundation        0x9c8666fd __CFRunLoopDoObservers + 413\n19  com.apple.CoreFoundation        0x9c838917 CFRunLoopRunSpecific + 375\n20  com.apple.CoreFoundation        0x9c838798 CFRunLoopRunInMode + 120\n21  com.apple.HIToolbox             0x97b91a7f RunCurrentEventLoopInMode + 318\n22  com.apple.HIToolbox             0x97b98d9b ReceiveNextEventCommon + 381\n23  com.apple.HIToolbox             0x97b98c0a BlockUntilNextEventMatchingListInMode + 88\n24  com.apple.AppKit                0x9b358040 _DPSNextEvent + 678\n25  com.apple.AppKit                0x9b3578ab -[NSApplication nextEventMatchingMask:untilDate:inMode:dequeue:] + 113\n26  com.apple.AppKit                0x9b353c22 -[NSApplication run] + 911\n27  com.apple.AppKit                0x9b5e818a NSApplicationMain + 1054\n28  com.Vigience.TestBrowser        0x0009be09 start + 53\n</code></pre>\n"},{"tags":["objective-c","ios","cocoa","core-data","nsmanagedobject"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":68,"score":2,"question_id":13016624,"title":"Fetched Property in Core Data","body":"<p>In my core data model, a <code>Person</code> has one or more <code>Cars</code>, specified by the unordered to-many relationship 'Cars'. Frequently, I need to retrieve a Person's cars ordered by <code>datePurchased</code>, or by <code>dateLastUsed</code>.</p>\n\n<p>Until now, I have been adding my own method to <code>Person</code> for <code>carsByDatePurchased</code>. This uses a sort descriptor to sort the NSSet <code>cars</code> and return an NSArray.</p>\n\n<p>Could/should I instead use a Fetched Property for this? I am experiencing some performance overhead using the sort descriptor every time I need the cars in a certain order, even going so far as implementing my own caching of <code>carsByDatePurchased</code>. It looks like the fetched property is cached for me - is that correct? </p>\n\n<p>What are the limitations of a fetched property vs my own implementation?</p>\n\n<p>And crucially, does the fetched property's value persist between executions? If I update the fetched property and save my context, is the value stored for the next time I launch the application?</p>\n"},{"tags":["iphone","objective-c","cocoa","ios","localization"],"answer_count":1,"favorite_count":2,"up_vote_count":5,"down_vote_count":0,"view_count":1374,"score":5,"question_id":4505635,"title":"How do I load the proper localized file?","body":"<p>I've got a plist which I localized. How do I load the plist properly?</p>\n\n<p>Right now, I'm using this code:</p>\n\n<pre><code>NSArray *numbersArray = [[NSArray alloc] initWithContentsOfFile:\n      [[NSBundle mainBundle] pathForResource:@\"Numbers\" ofType:@\"plist\"]];\n</code></pre>\n\n<p>What do I need to change my code to in order to load the localized plist?</p>\n"},{"tags":["objective-c","xcode","osx","cocoa"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":363,"score":0,"question_id":13013657,"title":"how to handle the event at a mac os view or it's subview been focused?","body":"<p>I create a windows has a <code>NSSplitview</code>. It has two subview, as viewA and viewB, and they has some subviews. If the  viewA or its subview get focus, set the window's title as viewA's stringValue, and viewB as so on.</p>\n\n<p>How can I do it? I try to rewrite the view's </p>\n\n<blockquote>\n  <p>become/access/reignFirstResponser</p>\n</blockquote>\n\n<p>for viewA/B or their subView (a <code>NSTableView</code>) but is failed.</p>\n\n<p>e, I try to a again what override the becomeFirstresponse at the tablview as </p>\n\n<pre><code>BOOL ret = [super becomeFirstResponder];\n[NSApp sendAction:@selector(requestString:) to:Nil from:self.window.windowController];\nreturn ret;\n</code></pre>\n\n<p>It works! But with coding, new subviews while appended. So I need some way with more smart and clear.</p>\n\n<p>I got it! In the window delegate, I implement the windowDidUpdate as:</p>\n\n<pre><code>- (void)windowDidUpdate:(NSNotification *)notification {\n[NSApp sendAction:@selector(requestString:) to:Nil from:self.window.windowController];\n</code></pre>\n\n<p>}</p>\n\n<p>The -(IBAction)requestString:(id)sender method is the viewA/B's Controller method.</p>\n"},{"tags":["osx","cocoa","nsdate","nsdateformatter"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":27,"score":1,"question_id":13015367,"title":"NSDateFormatter return blank for minute if == 0","body":"<p>The code:</p>\n\n<pre><code>NSDateFormatter *formatter = [[NSDateFormatter alloc] init];\n[formatter setDateFormat:@\"m\"];\nNSLog(@\"%@\", [formatter stringFromDate:myDate]);\n</code></pre>\n\n<p>outputs: <code>0</code> if <code>myDate</code> has its minute value to <code>0</code>.</p>\n\n<p>This is normal, but <strong>how do I make it output a blank value</strong> instead of <code>0</code> if the minute is set to <code>0</code>?</p>\n"},{"tags":["objective-c","cocoa","multithreading"],"answer_count":4,"favorite_count":2,"up_vote_count":4,"down_vote_count":7,"view_count":9948,"score":-3,"question_id":925468,"title":"Threading in Objective-C","body":"<p>is there Thread in Objective c.\nif there how it is declare and use.</p>\n\n<p>if anybody know using multithreading in Objective -c ..pls share with me ..</p>\n\n<p>thanks and regards .. by raju..</p>\n"},{"tags":["xcode","osx","cocoa"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":63,"score":1,"question_id":12988626,"title":"Cocoa: prevent window from leaving the screen","body":"<p>I'm (re-)writing a small app to control a USB device. I would like the window of that app to be always entirely visible. So when you move around the window, it stops moving when the bottom hits the bottom of the screen or one of the sides hits the side of the screen. </p>\n\n<p>Is this at all possible?</p>\n"},{"tags":["cocoa","webview","sandbox","npapi","appstore-sandbox"],"answer_count":0,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":72,"score":3,"question_id":13013997,"title":"bundled NPAPI plugin in sandboxed cocoa app","body":"<p>I'm working on a cocoa app using Xcode 4.5.1. My app uses a webview and bundles a plugin to use with that webview.</p>\n\n<p>When I'm compiling my code and running my app, it works fine, and the plugin is loaded and used in the webview.</p>\n\n<p>However, if I enable the sandbox environment for my app, it stops working. The plugin is not loaded.</p>\n\n<p>When running out of sandbox, I get this log from my plugin:</p>\n\n<pre><code>10/22/12 4:40:54.041 PM WebKitPluginHost[43018]: Instantiating Plugin\n</code></pre>\n\n<p>When running in the sandbox, I don't get anything from my plugin, but the webview does show a blank box where my plugin view should be. It does not show a Missing plugin message as it would if the plugin was not here.</p>\n\n<p>I tried to add this to the entitlements of my app:</p>\n\n<pre><code>com.apple.WebKit.PluginAgent\n</code></pre>\n\n<p>as a string to the </p>\n\n<pre><code>com.apple.security.temporary-exception.mach-lookup.global-name array\n</code></pre>\n\n<p>but with no luck.</p>\n\n<p>Do you know how I can debug this?</p>\n"},{"tags":["cocoa","core-animation","calayer"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":13011527,"title":"How to animate a png sequence with core animation in cocoa (not touch)","body":"<p>I would like to animate a png sequence in a NSImageView, but I cannot make it work. It just does not want to show any animation. Any suggestion?</p>\n\n<p>This is my code:</p>\n\n<pre><code>- (void) imageAnimation {\n  NSMutableArray *iconImages = [[NSMutableArray alloc] init];\n  for (int i=0; i&lt;=159; i++) {\n    NSString *imagePath = [NSString stringWithFormat:@\"%@_%05d\",@\"clear\",i];\n    [iconImages addObject:(id)[NSImage imageNamed:imagePath]];\n    //NSImage *iconImage = [NSImage imageNamed:imagePath];\n    //[iconImages addObject:(__bridge id)CGImageCreateWithNSImage(iconImage)];\n  }\n\n\n  CALayer *layer = [CALayer layer];\n  CAKeyframeAnimation *animation = [CAKeyframeAnimation animationWithKeyPath:@\"contents\"];\n  [animation setCalculationMode:kCAAnimationDiscrete];\n  [animation setDuration:10.0f];\n  [animation setRepeatCount:HUGE_VALF];\n  [animation setValues:iconImages];\n\n  [layer setFrame:NSMakeRect(0, 0, 104, 104)];\n  layer.bounds = NSMakeRect(0, 0, 104, 104);\n  [layer addAnimation:animation forKey:@\"contents\"];\n\n  //Add to the NSImageView layer\n  [iconV.layer addSublayer:layer];\n}\n</code></pre>\n"},{"tags":["objective-c","osx","cocoa","trackpad"],"answer_count":2,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":64,"score":3,"question_id":12197820,"title":"setAcceptsTouchEvents only works fine after a gesture on trackpad","body":"<p>I'm trying to use <code>setAcceptsTouchEvents:YES</code> to recognise custom touch events on the trackpad. Simply touching the trackpad nothing happens on the <code>touchesBeganWithEvent</code>. But if I do a gesture on the trackpad like pinching or scrolling the <code>touchesBeganWithEvent</code> starts to work properly. After one of that gestures, even if I simply touch the trackpad the <code>touchesBeganWithEvent</code> works. But I need to use <code>touchesBeganWithEvent</code> with simple touches without need to do a gesture before. The way it is seems like I have to do a gesture to initialize the <code>setAcceptsTouchEvents:YES</code>. What am I doing wrong?</p>\n\n<p>P.S.: The <code>setAcceptsTouchEvents:YES</code> is in <code>initWithFrame</code>, and I can see that it is executed when the application starts.</p>\n"},{"tags":["objective-c","cocoa","xcode4","cocoa-bindings"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13012123,"title":"MainMenu.xib not displaying on Mac","body":"<p>I am using Xcode 4 on Lion 10.7, I modified the main menu xib to add a status menu. I then renammed the project but now the status menu is showing but I lost the menu bar (the horizontal bar next to the apple icon that has preferences option). I created a new application menu then tried to copy paste to the MainMenu.xib but still now displaying, any ideas?Thanks</p>\n"},{"tags":["objective-c","cocoa","file","inode"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13011946,"title":"Is NSFileWrapper a proxy for an inode or a specific path entry or something different?","body":"<p>Usually file handling frameworks offer features based on file-paths.\nBut <code>NSFileWrapper</code> doesn't look like a proxy for a specific file-path. Recently, I learned concept of Unix file-system's <code>inode</code>, and I think this is kind of that. But it still looks a differently. </p>\n\n<p>Can I treat <code>NSFileWrapper</code> as proxy for <code>inode</code>? Or what is a concept of the <code>NSFileWrapper</code>?</p>\n"},{"tags":["iphone","objective-c","ios","cocoa-touch","cocoa"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":63,"score":0,"question_id":13010635,"title":"UIImagePickerController check if user edited the image","body":"<p>I am using a <code>UIImagePickerController</code> with the property <code>allowsEditing</code> set to <code>YES</code>.</p>\n\n<p>When the user finish picking an image I want to know if the user edited the image he selected or not (e.g. if he scaled the image). This method: </p>\n\n<pre><code>UIImage *editedImage = [info objectForKey:@\"UIImagePickerControllerEditedImage\"];\n</code></pre>\n\n<p>returns always an object even if the user left the picture as it was. Is there any way to check if the user edited the image? For example can i check if the <code>UIImagePickerControllerEditedImage</code> and <code>UIImagePickerControllerOriginalImage</code> are different somehow?</p>\n"},{"tags":["objective-c","xcode","osx","cocoa","static-libraries"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":13011540,"title":"Create and use static library on OS X","body":"<p>OK, I'm trying to create a Cocoa Library (static) and use, but I keep getting errors.</p>\n\n<p>I created a super-basic static Library (<code>TSXLib</code>) with just one additional class in it.</p>\n\n<pre><code>#import &lt;Foundation/Foundation.h&gt;\n\n@interface ClassOne : NSObject\n\n- (void)doIt;\n\n@end\n</code></pre>\n\n<hr>\n\n<pre><code>#import \"ClassOne.h\"\n\n@implementation ClassOne\n\n- (void)doIt\n{\n    NSLog(@\"Oops... I did it again!\");\n}\n\n@end\n</code></pre>\n\n<p>Then, I set the <strong>Dynamic Library Install Name</strong> (in Build Settings) to :</p>\n\n<pre><code>@executable_path/../Frameworks/libTSXLib.a\n</code></pre>\n\n<p>Now in my Test Project :</p>\n\n<ul>\n<li>I drag'n'drop the <code>libTSXLib.a</code> file (and copied it to target)</li>\n<li>Added a Build Phase (Copy Files) where I'm copying the <code>libTSXLib.a</code> to <code>Frameworks</code></li>\n<li>I'm then going to my <code>AppDelegate.m</code> and try importing my library's class</li>\n<li>At <code>#import &lt;ClassOne.h&gt;</code>, the compiler throws an error that it can't find the class</li>\n</ul>\n\n<hr>\n\n<p>Any ideas?</p>\n\n<hr>\n\n<p><strong>NOTE :</strong> <em>I'm actually quite confused regarding libraries, frameworks, etc (that's why I tend to avoid them as much as possible). All I'm trying to do is pack some of classes/functions so that I can easily re-use them in different projects. Whether it is a framework, or a library, I really don't care. What I need is that : pack and re-use my code. (the ability to block anyone from seeing/using what's in, when bundled, would be a Plus)</em></p>\n"},{"tags":["objective-c","osx","cocoa","compression","nsimage"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":37,"score":1,"question_id":13010951,"title":"Image Compression libraries for Objective-C","body":"<p>OK, this is what I need :</p>\n\n<ul>\n<li><strong>Lossy</strong> and/or <strong>Lossless</strong> compression <em>(all options are going to be considered, although Lossless compression will be favoured)</em></li>\n<li><strong>PNG</strong> and <strong>JPG</strong> files support</li>\n<li><strong>Cocoa-friendly</strong> code and easy integration</li>\n</ul>\n\n<hr>\n\n<p>I've used <strong><a href=\"http://optipng.sourceforge.net/\" rel=\"nofollow\">OptiPNG</a></strong> in the past but I'm currently looking for an alternative.</p>\n\n<p>Any suggestions?</p>\n"},{"tags":["objective-c","cocoa","size","nstextfield","nsfont"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":13010264,"title":"Change NSTextField's height according to Font/Size","body":"<p><strong>Ok, here's my situation :</strong></p>\n\n<ul>\n<li>I've got an <code>NSTextField</code>, set up as <strong>Multi-line Text Label</strong></li>\n<li>The <code>NSTextField</code> is supposed to be holding just ONE line of text (even if it's a multi-line one)</li>\n<li>The <code>NSTextField</code> has a <strong>fixed height</strong>.</li>\n<li>The <strong>Font</strong> and <strong>Font Size</strong> are changed by the user</li>\n</ul>\n\n<p><strong>The issue :</strong></p>\n\n<ul>\n<li>Depending on the font used, and size, <strong>the bottom part of the text goes missing</strong> (as it goes beyond the <code>NSTextField</code>'s boundaries</li>\n</ul>\n\n<p><strong>What I want :</strong></p>\n\n<ul>\n<li>Get the <strong>Text height</strong>, based on selection (Font &amp; Font Size) and set the <code>NSTextField</code>'s height accordingly.</li>\n</ul>\n\n<hr>\n\n<p>I know it may sound complicated, but I also know it CAN be done.</p>\n\n<p>Any ideas? Any reference to point me to?</p>\n"},{"tags":["objective-c","cocoa"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":153,"score":1,"question_id":9338924,"title":"Data Formatters temporarily Unavailable, will re-try after a continue","body":"<p>I am working on Objective C to develop an app in I Pad. When I run the program its getting executed in Simulator of IPad. When I do the same connecting the device then I am facing an Error as GDB:Data Formatters temporarily unavailable,will re-try after a 'continue'.\nSomeone guide how to solve this issue.</p>\n\n<p>Regards,\nVani.</p>\n"},{"tags":["c","osx","cocoa","posix"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":64,"score":2,"question_id":13007082,"title":"Does the POSIX API in OS X need more authority than Cocoa","body":"<p>In OS X:</p>\n\n<p>I use the Cocoa API to create a directory on user's Desktop, it works fine.\nBut, If I use the POSIX function </p>\n\n<pre><code>int mkdir(const char *path, mode_t mode);\n</code></pre>\n\n<p>to create a directory on user's Desktop, it always failed and returned <code>-1</code>.\nBut I tested <code>mkdir()</code> in the app domain directory, and it worked.\nSo, do I need more authority when I call a non-Cocoa API in OS X?</p>\n\n<p>To explain why I need to call the POSIX API:</p>\n\n<p>I want to create some special directories with attributes, that I searched to use <a href=\"https://developer.apple.com/library/mac/#documentation/Darwin/Reference/ManPages/man2/setxattr.2.html\" rel=\"nofollow\">setxattr</a>() which will add all the attributes I want, but I can't find a Cocoa way to use <code>setxattr()</code>, is there a corresponding class, method or function in the Cocoa API?</p>\n"},{"tags":["objective-c","cocoa","enums"],"answer_count":1,"favorite_count":2,"up_vote_count":9,"down_vote_count":0,"view_count":1951,"score":9,"question_id":3524362,"title":"How to use enums with bit flags","body":"<p>I have an enum declaration using bit flags and I cant exactly figure out on how to use this.</p>\n\n<pre><code>enum \n{\n  kWhite   = 0,\n  kBlue    = 1 &lt;&lt; 0,\n  kRed     = 1 &lt;&lt; 1,\n  kYellow  = 1 &lt;&lt; 2,\n  kBrown   = 1 &lt;&lt; 3,\n};\ntypedef char ColorType;\n</code></pre>\n\n<p>I suppose to store multiple colors in one <code>colorType</code> I should <code>OR</code> the bits together?</p>\n\n<pre><code>ColorType pinkColor = kWhite | kRed;\n</code></pre>\n\n<p>But suppose I would want to check if <code>pinkColor</code> contains <code>kRed</code>, how would I do this?</p>\n\n<p>Anyone care to give me an example using the provided <code>ColorType</code> example ?</p>\n"},{"tags":["cocoa","osx","opengl"],"answer_count":2,"favorite_count":2,"up_vote_count":5,"down_vote_count":0,"view_count":315,"score":5,"question_id":5523777,"title":"OpenGL on Mac operation","body":"<p>This is really architecture question or 'how does it work' question than a problem to solve.</p>\n\n<p>Apple documentation claims that CGL is lowest level api for managing OpenGL contexts, yet is lacks functionality that allows to connect a context to a window.\nAGL and Cocoa can bind a context to a window without a problem though, so the question is - how do they do that if they are built upon CGL?</p>\n\n<p>The obvious way appears to be that they use CGL to render to offscreen memory and are then capable of compositing this somehow. If this is so, how does that happen?</p>\n"},{"tags":["objective-c","cocoa","objective-c-blocks"],"answer_count":4,"favorite_count":1,"up_vote_count":9,"down_vote_count":0,"view_count":660,"score":9,"question_id":4731940,"title":"Is it possible to create a category of the \"Block\" object in Objective-C","body":"<p>I would like to add functions by creating a category for Objective-C Blocks.</p>\n\n<pre><code>__block int (^aBlock)(int) = ^int( int n ){\n    if( n &lt;= 1 ) return n;\n    return aBlock( n - 1 ) + aBlock( n - 2 );\n};\n</code></pre>\n\n<p>Instead of just allowing the normal <code>[aBlock copy]</code>, <code>[aBlock retain]</code>, <code>[aBlock release]</code>, <code>[aBlock autorelease]</code>. I could do thing like:</p>\n\n<pre><code>[aBlock mapTo:anArray];\n</code></pre>\n\n<p>Possible Category</p>\n\n<pre><code>@interface UnknownBlockClass (map)\n\n- (NSArray *)mapTo:(NSArray *)array_;\n\n@end\n</code></pre>\n"},{"tags":["objective-c","cocoa","keyboard-shortcuts"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":65,"score":0,"question_id":12999427,"title":"Perform keyboard shortcut progammatically - Objective-C","body":"<p>I'm searching for a way to progammatically perform a keyboard shortcut, just as if the user had clicked the keys himself. That shortcut, however, is chosen by the user with a custom control called <a href=\"http://wafflesoftware.net/shortcut/\" rel=\"nofollow\">ShortcutRecorder</a>.</p>\n\n<p>Is there any way to take the info given by ShortcutRecorder (basically the key code and the flags, I think) and perform that shortcut?</p>\n\n<p>Thanks</p>\n"},{"tags":["ipad","cocoa","ios6"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13005759,"title":"UIStatusBarStyleTranslucent disables fast app switching cache screen for iPad in iOS 6","body":"<p>In converting my app to iOS 6, I noticed that the fast app switching cache screen was no longer appearing; the default splash screen was appearing instead, even though the app was still in memory.</p>\n\n<p>I had also noticed that for the first time my app's translucent status bar was working on the iPad where previously it only worked on the iPhone.</p>\n\n<p>I just discovered that switching the UIStatusBarStyle key in my info.plist to UIStatusBarStyleBlackOpaque from UIStatusBarStyleTranslucent fixes the problem of the fast app switching cache screen.</p>\n\n<p>I also tried setting the status bar to opaque in the info.plist file, but then programmatically switching it to translucent using [[UIApplication sharedApplication] setStatusBarStyle:], however this generates an error on the iPad: \"UIStatusBarStyleBlackTranslucent is not available on this device.\"; even though clearly it is available on that device.</p>\n\n<p>I've also noticed that no matter what device you are using if you set the info.plist status bar style to translucent, the status bar will start out opaque until you do the first screen rotation.</p>\n\n<p>If I set the info.plist status bar style to opaque I'm now losing the transparency on the iPhone which still and always has worked with the transparent status bar.  However, I was able to work around this problem by adding UIStatusBarStyle~iphone and UIStatusBarStyle~ipod keys set to translucent in my info.plist file.</p>\n\n<ol>\n<li>How do I get fast app switching to work with my info.plist set to translucent?</li>\n<li>How do I programmatically switch the status bar to translucent on the iPad during runtime?</li>\n<li>How do I get the status bar to start out translucent when first launched for both the iPhone and iPad?</li>\n</ol>\n"},{"tags":["objective-c","cocoa","textfield"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":103,"score":0,"question_id":12420937,"title":"Set cursor focus on TextField when form load in Objective C","body":"<p>I have 3 textfields (Username, Password, Confirm Password). When form load I want to set cursor on textfield Username. Please give me some advice. Thank in advance.</p>\n"},{"tags":["objective-c","cocoa"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":93,"score":0,"question_id":12975558,"title":"How can I handle this in cocoa? Retrieve an entry from a plist file?","body":"<p>I have this small excel file given by a brazilian government authority, it contains records for each city in Brazil, a ZIP Code range for each city and its \"city code\" .</p>\n\n<p>I need to retrieve for a given city its \"city code\".</p>\n\n<p>I imagine the best way would be to parse a given zip code for the city and return its \"city code\", based on the first two columns that display the zip code range.</p>\n\n<p>I am confident that using AppleScript I can compile a plist file for the given Excel file. But can someone point me for a few lines of objectiveC code to retrieve the given entry from a plist file once I parse the ZIP code?</p>\n\n<p>Please see excel file at <a href=\"http://www.idanfe.com/dl/codes.xls.zip\" rel=\"nofollow\">http://www.idanfe.com/dl/codes.xls.zip</a></p>\n\n<p>Thanks.</p>\n\n<p>I have uploaded a sample plist file to <a href=\"http://www.idanfe.com/dl/cityCodes.plist\" rel=\"nofollow\">http://www.idanfe.com/dl/cityCodes.plist</a></p>\n\n<p>Further explanation:</p>\n\n<p>I will parse a ZIP CODE value like: 01123010 which is in the range of 01001000 and 05895490, so my routines should return me City Code = 3550308 and City Name = São Paulo.</p>\n\n<p>I have no idea how to achieve this, I might have built the sample plist wrong.</p>\n\n<p>I am confident I can build a plist file using AppleScript, reading from the Excel sheet.</p>\n\n<p>But retrieving the City code for a given ZIP CODE range is a puzzle.</p>\n\n<p>+++ EDIT: +++</p>\n\n<p>I think I have solved it, but it looks kind of clumsy, as almost everything I write.</p>\n\n<p>This AppleScript reads the Excel sheet and writes the plist file : <a href=\"http://www.idanfe.com/dl/creating.scpt.zip\" rel=\"nofollow\">http://www.idanfe.com/dl/creating.scpt.zip</a></p>\n\n<p>Here you find the 1 MB plist file: <a href=\"http://www.idanfe.com/dl/cityCodes.plist.zip\" rel=\"nofollow\">http://www.idanfe.com/dl/cityCodes.plist.zip</a></p>\n\n<p>This is the code I wrote to get the City Code I need:</p>\n\n<pre><code>NSString *zipCodeString;\nzipCodeString = @\"99990000\";\n\nNSString* plistPath = [[NSBundle mainBundle] pathForResource:@\"cityCodes\" ofType:@\"plist\"];\nNSDictionary *cityCodes_dictionary = [NSDictionary dictionaryWithContentsOfFile:plistPath];\nNSArray *allKeys = [cityCodes_dictionary allKeys];\n\nint i = 0;\nfor (i = 0 ; i &lt;= [allKeys count]; i++) {\n    NSString *someKey = [allKeys objectAtIndex:i];\n    NSRange range08 = NSMakeRange (0, 8);\n    NSRange range88 = NSMakeRange (8, 8);\n    NSString *startZipCode = [someKey substringWithRange:range08];\n    NSString *finalZipCode = [someKey substringWithRange:range88];\n    int startZipCodeInt = [startZipCode intValue];\n    int finalZipCodeInt = [finalZipCode intValue];\n\n    if(startZipCodeInt &lt;= [zipCodeString intValue] &amp;&amp; finalZipCodeInt &gt;= [zipCodeString intValue]){\n        NSLog(@\"we found a winner\");\n        NSString *cityCode = [NSString stringWithFormat: @\"%@\",[[cityCodes_dictionary objectForKey:someKey]objectForKey:@\"City Code\"]];\n\n        [cityCodeIBGEField setStringValue:cityCode];\n        NSLog(@\"cityCode = %@\",cityCode);\n        break;\n    } else {\n       // NSLog(@\"no winners\");\n    }\n}\n</code></pre>\n\n<p>Basically I append the start zipCode and finalZip Code into one string of 16 digits, so I create one single record in the plist file.</p>\n\n<p>Then when searching for the City Code I break the long key (2 zip codes) in 2 (back to normal zipCode) and search to see which record fits the given zipCode I need a cityCode for.</p>\n\n<p>Some how it doesn't look the best for me, but for my own surprise the code is very fast, although in a loop.</p>\n\n<p>I would appreciate comments...</p>\n\n<p>Thanks,</p>\n"},{"tags":["objective-c","multithreading","osx","cocoa","nsthread"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13004605,"title":"Threading and Object Lifetimes with ARC","body":"<p>As I understand ARC, without a strong reference to an object, it is fair game to be collected (since its reference count is 0).</p>\n\n<p>If, in a method in class A, I do this:</p>\n\n<pre><code>ClassB* b = [[ClassB alloc] init];\n[b doStuff];\n</code></pre>\n\n<p>And in doStuff, I do this:</p>\n\n<pre><code>NSThread* t = [[NSThread alloc] initWithTarget:self selector:@selector(theThread) object:nil];\n[t start];\n</code></pre>\n\n<p>The reference count of <code>b</code> appears to be 0 since it went out of scope after the method in class A finishes.  However, a thread is currently 'running' in ClassB and will need local resources.</p>\n\n<p>What is the behavior here?  Or perhaps, what should the behavior here be to make sure that <code>b</code> stays around until the thread is all finished?</p>\n\n<p>Thanks!</p>\n"},{"tags":["osx","cocoa","icons","icon-composer"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13004657,"title":"Icon composer stuffing up small images","body":"<p>For some reason, Icon Composer doesn't like my 32x and 64x icons.</p>\n\n<p><img src=\"http://i.stack.imgur.com/uPX8P.png\" alt=\"Icon not working\"></p>\n\n<p>They look fine as PNGs, but when put into Icon Composer and turned into a .ICNS file, the small images look stretched (the I is usually in the center).</p>\n\n<p><img src=\"http://i.stack.imgur.com/oh2BP.png\" alt=\"Icon fine as PNG\"></p>\n\n<p>Does anyone know what I can do?</p>\n"},{"tags":["image","cocoa","drag","ikimagebrowserview"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":12931641,"title":"how to change IKImageBroswerView dragging image","body":"<p>I'm working on a program on Mac_OS 10.6 and later. The program language I'm using is Objc.</p>\n\n<p>And I wonder what can I do to change the dragging image for an IKImageBrowserView? Is there any methods or delegates to change the default dragging image?</p>\n\n<p>Thanks~</p>\n\n<p>Sorry for my english.</p>\n"},{"tags":["osx","cocoa"],"answer_count":3,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":331,"score":2,"question_id":10734349,"title":"Simulate keypress for system wide hotkeys","body":"<p>I need to simulate keystrokes in OSX. Here's how I do it:</p>\n\n<pre><code>-(void)execute {\n    CGEventSourceRef sourceRef =\n    CGEventSourceCreate(kCGEventSourceStateHIDSystemState);\n\n    CGEventRef keyPress = CGEventCreateKeyboardEvent (sourceRef, (CGKeyCode)keyCode, true);\n    CGEventRef keyUnpress = CGEventCreateKeyboardEvent (sourceRef, (CGKeyCode)keyCode, false);\n\n    CGEventSetFlags(keyPress, modifierFlags);\n    CGEventPost(kCGHIDEventTap, keyPress);\n\n    //unpressing the acualkey\n    CGEventPost(kCGHIDEventTap, keyUnpress);\n\n    CFRelease(keyPress);\n    CFRelease(keyUnpress);\n    CFRelease(sourceRef);\n}\n</code></pre>\n\n<p>It works fine for every hotkey or simple keystrokes in any app, but doesn't work for system wide shortcuts, for example <kbd>option + space</kbd> to launch Spotlight or <kbd>cmd + shift + 4</kbd> to make a screenshot or <kbd>ctrl + `</kbd> to open iTerm2 window.</p>\n\n<p>I tried to change event's source and the location at which to post event, doesn't help. Any ideas?</p>\n"},{"tags":["objective-c","cocoa","osx"],"answer_count":4,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":1027,"score":1,"question_id":2778855,"title":"How can I conditionally color files and folders in the OS X Finder?","body":"<p>I want to color badge files and folders based on the some condition in finder, what is the approach to achieve this in Mac OS X 10.6</p>\n\n<p>I have checked this question: This only talk about the context menu in finder\n<a href=\"http://stackoverflow.com/questions/1651075/finder-plugin-in-snow-leopard\">http://stackoverflow.com/questions/1651075/finder-plugin-in-snow-leopard</a></p>\n\n<p>I have even checked: <a href=\"http://scplugin.tigris.org/\" rel=\"nofollow\">http://scplugin.tigris.org/</a> even they don't do color badging in 10.6 which is pending task.</p>\n\n<p>Thanks in advance for your all help</p>\n"},{"tags":["objective-c","osx","cocoa","ikimageview"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":334,"score":2,"question_id":9952236,"title":"IKImageView Causes App to Crash","body":"<p>I am new to ObjC. Thanks in advance for your help and patience!</p>\n\n<p>I'm trying to add an image to a window in my app (This is OSX, not iOS). I added an Image View (IKImageView) via interface builder to the window. I then added my image to the XCode Project and assigned it to the view. </p>\n\n<p>When I try to compile the app it crashes with the error: \"cannot decode object of class (IKImageView)\".</p>\n\n<p>The moment I delete the IKImageView it compiles just fine. </p>\n\n<p>My initial thought was that I wasn't importing the required file, but this appears to be a subclass of NSView, so that shouldn't be the problem. </p>\n\n<p>Any thoughts as to what I'm doing wrong?</p>\n"},{"tags":["osx","cocoa"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":66,"score":0,"question_id":13003177,"title":"Good open source Mac OSX App for code study?","body":"<p>I'm rewriting my Mac OSX App (which is full of spaghetti code), but before I do so, I'd like to take some time and study an existing Mac OSX App.</p>\n\n<p>Is there something good available on github.com or elsewhere where I can learn good coding conventions?</p>\n\n<p>Specifically I'm looking for Mac app that makes use for CoreData, NSOutlineView, Bindings, etc.</p>\n\n<p>Thanks</p>\n"},{"tags":["cocoa","resize"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":12576708,"title":"Frames and Bounds (resizing) - Cocoa","body":"<p>I'm having resizing issues, and I think it's because I don't really know enough about frames and bounds.</p>\n\n<p>I have a custom view within a scroll view, which fills the window. When I resize the window, I want the custom view to stay where it is, slowly getting covered/uncovered by the window in the place that the mouse is dragging. </p>\n\n<p>What really happens is the custom view stays anchored to  the lower left corner of the scroll view, so that if I make the window shorter, the custom view slides up to keep its lower left corner touching the scroll views corner. </p>\n\n<p>How do I resize the window without moving a particular view?</p>\n"},{"tags":["objective-c","osx","cocoa","applescript","nsuserdefaults"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":57,"score":1,"question_id":13002415,"title":"Programmatically move Mac menu bar between displays","body":"<p>I'm looking for a way to programmatically move the menu bar on a multi-display setup from one display to another.  Ideally I would do this in Objective C, but I'm open to shell scripts, AppleScript, etc.</p>\n\n<p>In Objective C, I can get a pointer to the screen with the menu bar by using <code>[[NSScreen screens] objectAtIndex: 0]</code>.  However, I obviously cannot write to that array.</p>\n\n<p>Is there an NSUserDefaults preference I can switch?  I ran <code>defaults read &gt; defaults.txt</code> in Terminal to try to find the correct one, but it's like finding a needle in a haystack :)</p>\n"},{"tags":["objective-c","ios","cocoa","core-data","category"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":67,"score":1,"question_id":12999778,"title":"Core Data, iVars and Categories","body":"<p>One of my core data subclasses has an <code>NSSet</code> of <code>items</code>. It is often (but not always, so no <code>NSOrderedSet</code>) useful to instead retrieve an ordered <code>NSArray</code>, so I added <code>orderedItems</code> to the class, which sorts them.</p>\n\n<p>I then ran into performance issues so decided to try caching the <code>orderedItems</code>. My plan is to use an iVar, <code>_cachedOrderedItems</code> in the class, which I will return if it is not null.</p>\n\n<p>The snag comes with my use of categories. I read some good advice about putting all of my custom code in a category so that I can re-generate the core data class if necessary and not lose all my customizations. One of those customizations is the <code>orderedItems</code> method.</p>\n\n<p>It seems I can not declare an iVar in the category itself. And if I try to put it in the core data class instead, I can not access it in the category.</p>\n\n<p>Do I need to move my custom code back into the core data class? Or am I missing something?</p>\n\n<p>I have also heard about Mogenerator, and would consider learning to use this if it would help.</p>\n"},{"tags":["objective-c","cocoa","gui","appkit","nsbutton"],"answer_count":1,"favorite_count":1,"up_vote_count":3,"down_vote_count":1,"view_count":113,"score":2,"question_id":12936024,"title":"How find out if I'm an NSButton with buttonType NSSwitchButton?","body":"<p>I'm subclassing NSButtonCell to customize the drawing (customizable theme). I'd like to customize the way checkboxes and radio buttons are drawn.</p>\n\n<p>Does anyone know how to detect whether a button is a checkbox or radio button?</p>\n\n<p>There is only -setButtonType:, no getter, and neither -showsStateBy nor -highlightsBy seem to give any unique return values for checkboxes that don't also apply to regular push buttons with images and alternate images.</p>\n\n<p>So far I've found two (not very pretty) workarounds, but they're the kind of thing that'd probably get the app rejected from MAS:</p>\n\n<ol>\n<li><p>Use [self valueForKey: @\"buttonType\"]. This works, but since the method is not in the headers, I presume this is something Apple wouldn't want me to do.</p></li>\n<li><p>Override -setButtonType: and -initWithCoder: to keep track of the button type when it is set manually or from the XIB. Trouble here is the XIB case, because the keys used to save the button type to disk are undocumented. So again, I'd be using private API.</p></li>\n</ol>\n\n<p>I'd really like this to be a straight drop-in replacement for NSButtonCell instead of forcing client code to use a separate ULIThemeSwitchButtonCell class for checkboxes and a third one for radio buttons.</p>\n"},{"tags":["objective-c","cocoa","nsobject"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":85,"score":0,"question_id":12996197,"title":"Does Apple Provide default implementation of isEqual:","body":"<p>In C there is a default implementation of equality operator. Go through all the member and verify that they satisfy the equality operator. The default is somewhat stupid because if an object contains pointer then the equality operator of the member would be performed on the pointer.</p>\n\n<p>Still, it's good enough for my purpose.</p>\n\n<p>So does it? </p>\n\n<p>Or are we expected to implement isEqual and the corresponding hash for everytime we create a custom object that may we want to use isequal for.</p>\n\n<p>It seems to me the \"default\" implementation is to simply compare the pointer of the object and not it's member. Am I correct here? It's even worse than C++ standard comparison. That's what I want to verify.</p>\n\n<p>It seems to me if our class is the immediate children of NSObject then isEqual will simply call it's parent's isEqual and that simply compare pointers.</p>\n\n<p>Am I correct here? I am just wanting to make sure of that.</p>\n"},{"tags":["cocoa","catiledlayer"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":12979325,"title":"CATiledLayer artifacts at high scale","body":"<p>I am using CATiledLayer to draw map tiles and when zooming it, I start to see some artifacts, which I guess, are caused by precision problem.</p>\n\n<p>I scale my CATiledLayer up to 2^18 (262'144x), the artifacts start to appear at about 15'000x</p>\n\n<p>I thought CoreAnimation would be smart enough to handle those large scales, but apparently not.</p>\n\n<p>Before I start writing my tile engine implementation from scratch to handle this, I was wondering if you had any suggestion.</p>\n\n<p>This is how I setup my layer:</p>\n\n<pre><code>self.tiledLayer.tileSize = CGSizeMake(256, 256);\nself.tiledLayer.levelsOfDetail = 1;\nself.tiledLayer.levelsOfDetailBias = 10000;\n</code></pre>\n\n<p>My example, drawing code is really simple:</p>\n\n<pre><code>- (void)drawLayer:(CATiledLayer *)layer inContext:(CGContextRef)context\n{\n    CGRect rect = CGContextGetClipBoundingBox(context);\n    CGContextSetFillColorWithColor(context, [NSColor colorWithCalibratedRed:((CGFloat)rand() / (CGFloat)RAND_MAX) green:((CGFloat)rand() / (CGFloat)RAND_MAX) blue:0 alpha:1].CGColor);\n    CGContextFillRect(context, rect);\n}\n</code></pre>\n\n<p>This is how I set the scale on the layer:</p>\n\n<pre><code>CGAffineTransform t = CGAffineTransformIdentity;\n\nCGFloat scale = pow(2, self.zoomLevel); // self.zoomLevel ranges from 0 to 18\nt = CGAffineTransformScale(t, scale, scale);\n\nNSLog(@\"%g\", scale);\n\nself.tiledLayer.affineTransform = t;\n</code></pre>\n\n<p><strong>NOTE:</strong> I discovered that the artifacts appears only \"far from the origin\" of the layer. If I look the tiles near the origin, they are not deformed, if I look far from the origin (screenshot if from the center) it get worse.</p>\n\n<p>Here is an example of the artifacts I see:</p>\n\n<p><img src=\"http://i.stack.imgur.com/WxJpy.png\" alt=\"artefacts\"></p>\n"},{"tags":["iphone","cocoa","memory-management","nsnotifications"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":1901,"score":3,"question_id":948401,"title":"Do I need to autorelease an object before sending it to NotificationCenter as a userdata?","body":"<p>I need to post a notification using <code>postNotificationName:object:userInfo:</code> method, and I'm passing a custom class <code>FileItem</code> in as <code>userInfo</code> so I can obtain it on the other end.  Should I use <code>autorelease</code> like this</p>\n\n<pre><code>FileItem *item = [[[FileItem alloc] init] autorelease];\n[[NSNotificationCenter defaultCenter] postNotificationName:@\"dataReceived\" object:self userInfo:item];\n[item release];\n</code></pre>\n\n<p>or can I just <code>alloc</code> and then <code>release</code> the object immediately after passing it to the default notification center?</p>\n\n<pre><code>FileItem *item = [[FileItem alloc] init];\n[[NSNotificationCenter defaultCenter] postNotificationName:@\"dataReceived\" object:self userInfo:item];\n[item release];\n</code></pre>\n\n<p>I'm trying to get convention here as I assume that whenever I pass an object as parameter in a message to another object, the receiving object would do a retain if it needs to, and that I can safely release the said parameter?</p>\n"},{"tags":["objective-c","xcode","osx","cocoa","webview"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12998385,"title":"How to force a WebView to show FB Authorization Dialogs? Cocoa","body":"<p>Normally when u click on a \"sign up with Facebook\" button on a web browser a new tab will popup. But when you try to do the same thing on a <code>WebView</code> it doesn't do anything it stays on the same website. How can i force a <code>WebView</code> to show the dialog?</p>\n"},{"tags":["php","objective-c","xcode","osx","cocoa"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":77,"score":0,"question_id":12997902,"title":"PHP API for Objective C","body":"<p>I'm programming an app that allows users uploading files to Amazon S3.\nI would like to make a web application, as well as a Mac OS X app.\nEventually later also an iPhone app.</p>\n\n<p>So far, I used the Amazon S3 API to upload the files, but after thinking a little about it, it's pretty stupid to implement the Amazon S3 and DynamoDB API in every application.\nManaging it would be a pain in the butt.</p>\n\n<p>So I would make my own api on my server, that allows authenticating, uploading &amp; downloading files, as well as listing files etc.</p>\n\n<p>I have a few questions about this. </p>\n\n<ol>\n<li><p>How would I be able to make a secure authentication?\nthe users are stored with DynamoDB. The validation probably has to be handled using PHP.</p></li>\n<li><p>How would I make secure sessions?</p></li>\n<li><p>How can I make file uploading, downloading and so on.</p></li>\n<li><p>How can you respond to the client?</p></li>\n</ol>\n\n<p>I'm not experienced in networking a lot.\nTherefore, I would be grateful if you could provide info, references, of even code.</p>\n"},{"tags":["cocoa","nstableview","nsarraycontroller"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":12997527,"title":"Enable multiple selection of rows in NStableview","body":"<p>I created a small application that is based on the structure of <a href=\"https://developer.apple.com/cocoa/coredatatutorial/index.html\" rel=\"nofollow\">this example</a> application.\nBut now I need you to select multiple rows in tableview, I tried to find a solution but did not succeed. Could you tell me how should I do? Keep in mind that I am no expert. Thank you in advance.</p>\n"},{"tags":["osx","cocoa"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":2,"view_count":77,"score":0,"question_id":12997482,"title":"How do I get a path to a file?","body":"<p>I want to open a database.sqlite3. Firstly, I need to get a path.  But I don't know how to get this path. </p>\n\n<p>I need a relative path.</p>\n\n<p><img src=\"http://i.stack.imgur.com/igpsy.png\" alt=\"enter image description here\"> </p>\n\n<p><em><strong>EDIT:</em></strong> I don't want to use NSBundle. It get a very long path. </p>\n\n<p>I want to use /Users/Voloda2/Projects/facebook/database.sqlite3   Is it possible to get a relative path?</p>\n\n<p><em><strong>EDIT2:</em></strong> I often change my database. I use Navicat for this operation. If I use NSBundle I have one problem. git did't indexed my database because it didn't lies in project folder. Thus I need to lay my database to project folder.</p>\n\n<p>straight path is /Users/Voloda2/Projects/facebook/database.sqlite3 </p>\n\n<p>relative path something like this  ../database.sqlite3</p>\n\n<p>Relative path is a path relative to project folder. \nIs it possible to get a relative path? May be it didn't possible.</p>\n"},{"tags":["objective-c","xcode","osx","cocoa","nscursor"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":38,"score":1,"question_id":12949985,"title":"NSWindow attached to cursor","body":"<p>I would like to make a custom panel, that shows a zoom at the current cursor-location.\nLike for example 'Sip' does.\nI have searched the web for examples, but didn't find anything specific. </p>\n\n<p>I found <code>NSEvent</code>'s <code>addGlobalMonitorForEventsMatchingMask:handler:</code> and <code>addLocalMonitorForEventsMatchingMask:handler:</code> methods.\nNow I could just set the frame origin of the window.\nBut I'm not sure if that's really the right solution.</p>\n\n<p>Is there a better way to do this?\nCould anyone point me into some sample-code?</p>\n"},{"tags":["objective-c","cocoa","appkit","document-based"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":49,"score":1,"question_id":12997679,"title":"Open untitled file in Document-based app","body":"<p>I want my app to open new untitled document every time it starts. It worked in 10.6 but now I upgraded to 10.8 and when I close the window with <code>cmd+w</code> and then restart the application it wont open any windows.</p>\n\n<p>Please, how to make it open a new window every time the app starts, regardless of how it exited previously?</p>\n\n<p>I tried to return <code>YES</code> in both <code>applicationShouldOpenUntitledFile:</code> and <code>applicationOpenUntitledFile:</code> of the app delegate without luck.</p>\n"},{"tags":["cocoa","thumbnails","ikimagebrowserview","ikimagekit"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":12997979,"title":"Rounded-corners for thumbnails in IKImageBrowserView","body":"<p>How to make IKImageBrowserView to display thumbnails with rounded corners?</p>\n"},{"tags":["cocoa","xcode4","xcode4.2","cocoa-bindings","quartz-composer"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":306,"score":0,"question_id":9348046,"title":"Quartz Composer \"Binding Controls to Input Ports\" in Xcode 4.x","body":"<p>I am trying to follow \"Binding Controls to Input Ports\" of <a href=\"https://developer.apple.com/library/mac/#documentation/GraphicsImaging/Conceptual/QuartzComposer/qc_play_ib_input/qc_play_ib_input.html\" rel=\"nofollow\">Quartz Composer Programming Guide</a>.</p>\n\n<p>The document says :</p>\n\n<blockquote>\n  <p>5.Click “Bind to” and then choose Patch Controller in the “Bind to” popup menu.</p>\n  \n  <p>6.Enter patch in the Controller Key text field.</p>\n  \n  <p>7.Enter text.value in the Model Key Path text field.</p>\n</blockquote>\n\n<p>In my project of Xcode (4.2 &amp;) 4.3, the Controller Key text field is disabled. The Model Key Path text field requires an object of QCPatch class, which I don't think I have a clue.</p>\n\n<p>Should I install Xcode 3.x and handle this &amp; convert to 4.x? Any advice ?</p>\n"},{"tags":["objective-c","osx","cocoa","video","avfoundation"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":12997445,"title":"What exactly does AVFoundation's AVAssetWriterInput expectsMediaDataInRealTime property do?","body":"<p>I am working on an app that reads media data from disk, converts it into the appropriate pixel format and then passes it off to AVAssetWriter for compression and writing to disk. I am doing my own reading an interleaving and not using AVAssetReader. My reader ensures that exactly one frame's worth of video data and one frame's worth of audio data are presented in a serial fashion. The problem I am having is if I don't set the expectsMediaDataInRealTime property to <strong>YES</strong>, the video asset writer will always return <strong>NO</strong> for isReadyForMoreMediaData after exactly 30 frames. If I stop writing before 30 frames, it works fine and the output file is valid. However, if I set expectsMediaDataInRealTime to YES, it works perfectly for the entire duration, which can be several thousand frames. After starting a transcode operation with expectsMediaDataInRealTime set to YES, I watched the app's memory usage over the course of compressing a very long video and there wasn't any unreasonable memory usage nor any memory leaks. And the resulting MOV file did appear to be written fairly normal, e.g. the audio data was interleaved with the video data as one would expect.</p>\n\n<p>So, why would I ever set expectsMediaDataInRealTime to NO if there is no apparent downside to setting it to YES? Does this only apply when using an Apple API to read data (using AVAssetReader)? The documentation says that this property controls writing \"media data in an ideal interleaving pattern for efficiency in storage and playback,\" but when expectsMediaDataInRealTime is set to YES, isReadyForMoreMediaData never returns NO and the file appears to be written perfectly. So, if the AVAssetWriter can do this when this property set to YES, why can't it do it when set to NO? The source is exactly the same.</p>\n\n<p>What, exactly, does this property do other than \"ensure that the value of readyForMoreMediaData is calculated appropriately\" (which means absolutely nothing to me)?</p>\n"},{"tags":["objective-c","multithreading","cocoa","memory-management","grand-central-dispatch"],"answer_count":2,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":1589,"score":4,"question_id":4983729,"title":"Multithreading and autorelease pool","body":"<p>As I'm mastering my skills with multithreading with GCD, I've come across some question. Suppose you have the following method:</p>\n\n<pre><code>    - (void)method {\n    NSString *string= [NSString string]; //will be autoreleased\n\n    dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{\n\n    //very very lengthy operation...\n\n    NSLog(@\"%@\", string); //is it safe?\n    });\n}\n</code></pre>\n\n<p>I'm wondering if this is correct, because I think I should have retained string before the block execution: in fact I fear that the event loop finishes and sends <code>string</code> an autorelease message before using <code>string</code> in the block. That would crash the program.</p>\n\n<p>Am I right? Should I send a retain and a release message to <code>string</code> or this is the correct implementation?\nThanks in advance!</p>\n"},{"tags":["objective-c","osx","cocoa","resize","nswindow"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":12981823,"title":"NSWindow resizing","body":"<p>Hello I was wondering if anyone knew of a method or way that you stop the user resizing your window for a Cocoa / Mac OS X application. </p>\n\n<p>If this is not not possible how would you go about resizing the window uniformally.</p>\n"},{"tags":["objective-c","osx","cocoa"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":1,"view_count":69,"score":0,"question_id":12995953,"title":"Force Internal Speakers Even If Headphones Are Plugged In","body":"<p>I'm trying to find a way of forcing sound to be routed through internal speakers of a computer—even if headphones are plugged in.</p>\n\n<p>I've been working with <code>AudioToolbox/AudioServices.h</code>, but so far I've only been able to adjust the volume of current active output device.</p>\n\n<p>Even if I can't route sound to a different device, is there a way to adjust the volume of a non-active output device? For example, I'd like to edit the volume of the internal speakers while headphones are plugged in.</p>\n\n<p>Just for clarification, I'm trying to achieve this in OS X, not iOS.</p>\n"},{"tags":["objective-c","cocoa","draw","nsimage"],"answer_count":2,"favorite_count":14,"up_vote_count":7,"down_vote_count":0,"view_count":1256,"score":7,"question_id":7137705,"title":"How to draw a NSImage like images in NSButtons (with a deepness)?","body":"<p>Is there any way to draw an NSImage like images in NSButtons or other cocoa interface elements?</p>\n\n<p>Here are examples:\n<img src=\"http://i.stack.imgur.com/lrWpR.png\" alt=\"enter image description here\">\n<img src=\"http://i.stack.imgur.com/580vf.png\" alt=\"enter image description here\"></p>\n\n<p>Apple uses pdf's with black icons:\n<img src=\"http://i.stack.imgur.com/nYdK0.png\" alt=\"enter image description here\"></p>\n"},{"tags":["iphone","cocoa-touch","cocoa","ios4","core-graphics"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":814,"score":0,"question_id":7301718,"title":"Problem with CGImageDestination and file naming","body":"<p>I am capturing images from the camera, using AVCapture as I have need of speed and the standard kit stuff is way too slow.\nI have problem whereby the file that is being output (an animated GIF) is having it's file name mangles by the CGImageDestination functions...</p>\n\n<p>When I output the NSURL (cast to a CFURLRef) to the log I get the path/filename I intended:</p>\n\n<pre><code>2011-09-04 20:40:25.914 Mover[3558:707] Path as string:.../Documents/91B2C5E8-F925-47F3-B539-15185F640828-3558-000003327A227485.gif\n</code></pre>\n\n<p>However, once the file is created and saved it actually lists the filename as this:</p>\n\n<pre><code>2011-09-04 20:40:25.960 Mover[3558:707] file: .91B2C5E8-F925-47F3-B539-15185F640828-3558-000003327A227485.gif-TtNT\n</code></pre>\n\n<p>See the difference? the period at the start and the 4 character suffix?\nWhats really wierd is that it doesn't <em>always</em> do it, about 40% of the time it works OK. However it's preventing the code working further down the line where I'm listing them with previews in a table view.</p>\n\n<p>Does anyone know why and how to stop it doing this?</p>\n\n<p>Here's the code:</p>\n\n<pre><code>- (void)exportAnimatedGif{\n\nNSString *guidPath = [[NSProcessInfo processInfo] globallyUniqueString];\nNSString *tmpPath = [[NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES) lastObject] stringByAppendingPathComponent:guidPath];\nNSString *path = [tmpPath stringByAppendingPathExtension:@\"gif\"];\nNSLog(@\"Path as string:%@\", path);\nCGImageDestinationRef destination = CGImageDestinationCreateWithURL((CFURLRef)[NSURL fileURLWithPath:path], kUTTypeGIF, [captureArray count], NULL);\n\nNSDictionary *frameProperties = [NSDictionary dictionaryWithObject:[NSDictionary dictionaryWithObject:[NSNumber numberWithFloat:testDisplay3.displayValue]                                   forKey:(NSString *)kCGImagePropertyGIFDelayTime]\n                                                            forKey:(NSString *)kCGImagePropertyGIFDictionary];\nNSDictionary *gifProperties = [NSDictionary dictionaryWithObject:\n                               [NSDictionary dictionaryWithObjectsAndKeys:\n                                [NSNumber numberWithInt:2], (NSString *)kCGImagePropertyGIFLoopCount, \n                                [NSNumber numberWithFloat:testDisplay3.displayValue], (NSString*)kCGImagePropertyGIFDelayTime, \n                                [NSNumber numberWithFloat:testDisplay3.displayValue], (NSString*)kCGImagePropertyGIFUnclampedDelayTime,\n                                nil]\n                                                          forKey:(NSString *)kCGImagePropertyGIFDictionary];\nfor (int ii = 0; ii &lt; [captureArray count]; ii++) \n{\n    UIImage *tmpImg = [[UIImage alloc] init];\n    tmpImg = [captureArray objectAtIndex:ii];\n    CGImageDestinationAddImage(destination, tmpImg.CGImage, (CFDictionaryRef)frameProperties);\n}\nCGImageDestinationSetProperties(destination, (CFDictionaryRef)gifProperties);\nCGImageDestinationFinalize(destination);\nCFRelease(destination);\n\n//TEST OUTPUT GENERATED FILES\nNSArray *contents = [[NSFileManager defaultManager] contentsOfDirectoryAtPath:[NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES) lastObject] error:nil];\nfor (int xx = 0; xx &lt; [contents count]; xx++) \n{\n    NSLog(@\"file: %@\", [contents objectAtIndex:xx]);\n}\n//END TEST CODE\n[captureArray removeAllObjects];\n}\n</code></pre>\n"},{"tags":["objective-c","cocoa","twui"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":199,"score":0,"question_id":6955519,"title":"How to make a string clickable using Twui?","body":"<p>I have a project base on twitter's <a href=\"https://github.com/twitter/twui\" rel=\"nofollow\">twui framework</a>.I'm trying  to made a string clickable just like </p>\n\n<pre><code>[s addAttribute:NSLinkAttributeName value:@\"http://apple.com/\" range:attrRange];\n</code></pre>\n\n<p>in NSMutableAttributedString, or performing a selector when clicked.</p>\n\n<p>TUITextRender can draw a NSAttributedString, but \"NSLinkAttributeName\" doesn't work.</p>\n\n<p>I can't find any method or delegate to solve this in TUITextView too.</p>\n\n<p>How can I done this with twui?</p>\n"},{"tags":["objective-c","multithreading","cocoa","concurrency","grand-central-dispatch"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":265,"score":3,"question_id":8454137,"title":"NSInvocationOperation and NSOperationQueue concurrency","body":"<p>I am using <code>NSInvocationOperation</code> with <code>NSOperationQueue</code> developing in iOS5.\nAccording to apple documentation on <strong>invocation objects</strong>:</p>\n\n<blockquote>\n  <p>The NSInvocationOperation class is a concrete subclass of\n  NSOperation... This class implements a <strong>non-concurrent</strong> operation.</p>\n</blockquote>\n\n<p>Ok, so my <code>NSInvocationOperation</code> object executes synchronously? (correct me here) Apple's docs also says on operation queue objects:</p>\n\n<blockquote>\n  <p>In iOS, operation queues do not use Grand Central Dispatch to execute\n  operations. They create separate threads for non-concurrent operations\n  and launch concurrent operations from the current thread.</p>\n</blockquote>\n\n<p>I am using the <code>NSInvocationObject</code>, which is a non-concurrent object, and adding it to to the operation queue like so:</p>\n\n<pre><code>[operationQueue addOperation:operation];\n</code></pre>\n\n<p>so my question is: 1) Since the operation queue will be spawning a separate thread to execute the NSInvocationObject as it says in the docs, will it be run asynchronously instead of synchronously?</p>\n\n<p><strong>[UPDATE - in response to Dani's answer below. Taken from an <a href=\"https://developer.apple.com/cocoa/managingconcurrency.html\" rel=\"nofollow\">Apple link</a>.</strong></p>\n\n<blockquote>\n  <p>NSOperation and NSOperationQueue</p>\n  \n  <p>There are a number of different ways that you can use NSOperation, but\n  the most common is to write a custom subclass and override one method:\n  main. The main method gets called to perform the operation when the\n  NSOperationQueue schedules it to run. NSOperation classes written in\n  this way are known as non-concurrent operations, because the developer\n  is not responsible for spawning threads—multi-threading is all handled\n  by the super class. <strong>(Don’t be confused by the terminology: just\n  because an operation is non-concurrent, does not mean it cannot be\n  executed concurrently, it simply means that you don't have to handle\n  the concurrency yourself.)</strong></p>\n  \n  <p>If you need more control over threading and the run-time environment\n  of your operations, you can make use of concurrent operations. To do\n  this, you subclass NSOperation and override the start method. In the\n  start method, you can spawn threads and setup the environment before\n  calling the main method. You are also required to maintain the state\n  of the NSOperation by setting properties like isExecuting and\n  isFinished. In short, concurrent operations give you a lot more\n  control, but also demand more effort—for most tasks non-concurrent\n  operations suffice.</p>\n</blockquote>\n"},{"tags":["objective-c","osx","cocoa"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":90,"score":2,"question_id":12991323,"title":"Cocoa code for launching an app with parameters","body":"<p>I want a Cocoa equivalent of the command line tool <code>open(1)</code>, especially for the usage in this form:</p>\n\n<pre><code>open -a &lt;SomeApplication&gt; &lt;SomeFile&gt; --args &lt;Arg1&gt; &lt;Arg2&gt; ...\n</code></pre>\n\n<p>Take QuickTime as an example. The following command line will open a file using QuickTime, and the arguments can control if QuickTime plays the file on startup.</p>\n\n<pre><code>open -a \"QuickTime Player\" a.mp4 --args -MGPlayMovieOnOpen 0 # or 1\n</code></pre>\n\n<p>I have read <a href=\"http://stackoverflow.com/questions/5048677/launching-an-mac-app-with-objective-c-cocoa\">Launching an Mac App with Objective-C/Cocoa</a>. <a href=\"http://stackoverflow.com/a/5048968/711135\">prosseek's answer</a>, which I think is equivalent to <code>open -a &lt;App&gt; &lt;File&gt;</code>, works well when I do not specify any argument. <a href=\"http://stackoverflow.com/a/5048975/711135\">ughoavgfhw's answer</a>, which I think is equivalent to <code>open -a &lt;App&gt; --args &lt;Arg1&gt; &lt;Arg2&gt; ...</code>, works well when I do not specify any file to open. But neither can specify a filename and arguments at the same time.</p>\n\n<p>I have also tried to append the filename to the argument list, which is the common way used by unix programs. It seems that some applications can accept it, but some cannot. QuickTime prompts an error saying it cannot open the file. I am using the following code.</p>\n\n<pre><code>NSWorkspace *workspace = [NSWorkspace sharedWorkspace];\nNSURL *url = [NSURL fileURLWithPath:[workspace fullPathForApplication:@\"QuickTime Player\"]];\nNSArray *arguments = [NSArray arrayWithObjects:@\"-MGPlayMovieOnOpen\", @\"0\", @\"a.mp4\", nil];\n[workspace launchApplicationAtURL:url options:0 configuration:[NSDictionary dictionaryWithObject:arguments forKey:NSWorkspaceLaunchConfigurationArguments] error:nil];\n// open -a \"QuickTime Player\" --args -MGPlayMovieOnOpen 0 a.mp4\n</code></pre>\n\n<p>It seems that the mechanism in opening files differs from usual arguments. Can anyone explain the internals of <code>open(1)</code>, or just give me a solution? Thanks.</p>\n"},{"tags":["objective-c","cocoa","nstableview"],"answer_count":4,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":484,"score":1,"question_id":7533682,"title":"NSTableView only displaying \"Table View Cell\"","body":"<p>I have a NSTableView with the delegate and datasource pointing to my controller. I have tried implementing the</p>\n\n<pre><code>- (id)tableView:(NSTableView *)aTableView objectValueForTableColumn:(NSTableColumn *)aTableColumn row:(NSInteger)rowIndex\n</code></pre>\n\n<p>Method, but no matter what I return, the table always shows \"Table View Cell\" in the data. Any ideas of what I could be doing wrong? Attached are two pics showing that I have the delegates set properly (it also shows the proper number of rows).</p>\n\n<p><img src=\"http://i.stack.imgur.com/JD7NR.png\" alt=\"What the table shows\">\n<img src=\"http://i.stack.imgur.com/YKYS8.png\" alt=\"enter image description here\"></p>\n\n<p>Note that I have also just tried returning <code>@\"Hello World\"</code> for everything, but I get the same result.</p>\n"},{"tags":["iphone","cocoa","core-animation"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":2605,"score":1,"question_id":1435094,"title":"How to remove animation (CABasicAnimation)?","body":"<p>I want to remove an animation (CABasicAnimation) before it has completed.</p>\n\n<p>For example:</p>\n\n<p>In my code, I start a needle animating from a rotation value of 0 to a target value of 5.  How do I stop the animation when the needle reaches a rotation value of 3?</p>\n\n<pre><code>CALayer* layer = someView.layer;\nCABasicAnimation* animation;\nanimation = [CABasicAnimation animationWithKeyPath:@\"transform.rotation.z\"];\nanimation.fromValue = [NSNumber numberWithFloat:0];\nanimation.toValue = [NSNumber numberWithFloat:5];\nanimation.duration = 1.0;\nanimation.cumulative = YES;\nanimation.repeatCount = 1;\nanimation.removedOnCompletion = NO;\nanimation.fillMode = kCAFillModeForwards;\n[layer addAnimation:rotationAnimation forKey:@\"transform.rotation.z\"];\n</code></pre>\n"},{"tags":["ios","cocoa","cgaffinetransform","cgrect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":12993464,"title":"How to get CGRect that exactly represents the views bounds and transformation?","body":"<p>How can I get the transformed rect of an UIView, including translations and scaling made in the .transform property? I tried to do it this way:</p>\n\n<pre><code>CGRect transformed = CGRectApplyAffineTransform(theview.frame, theview.transform);\n</code></pre>\n\n<p>Doesn't work!?</p>\n"},{"tags":["cocoa","animation","webview","scrolling","osx-lion"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":300,"score":0,"question_id":10558942,"title":"Disable scrolling animation in a WebView in Mac OS X Lion?","body":"<p>How do you disable the animation that occurs when you use the arrow keys to navigate within a WebView in Mac OS X Lion?</p>\n\n<p>The behavior I'm trying to change appears to be the default for WebViews on Mac OS X Lion. If you load a document into a WebView, set the insertion point, and then use the Up Arrow and Down Arrow keys to navigate, scrolling is not instantaneous — there's an animation (the view visibly scrolls up or down).</p>\n\n<p>Here's an Xcode project you can use to see this behavior (just run the application, set the insertion point within the document, and then use the Up Arrow and Down Arrow keys to navigate such that the view scrolls):\n<a href=\"http://dl.dropbox.com/u/78928597/WebViewTest.zip\" rel=\"nofollow\">http://dl.dropbox.com/u/78928597/WebViewTest.zip</a></p>\n\n<p>The behavior I'm trying to achieve is what happens in Safari. If you open an html document whose <code>contenteditable</code> attribute is set to <code>true</code> in Safari, you can set the insertion point within the document, and then navigate by using the Up Arrow and Down Arrow keys. When you navigate in this way, scrolling is not animated. The view scrolls instantaneously.</p>\n\n<p>Here is an html document you can use to see this behavior:\n<a href=\"http://dl.dropbox.com/u/78928597/WebViewTest.html\" rel=\"nofollow\">http://dl.dropbox.com/u/78928597/WebViewTest.html</a></p>\n\n<p>Since Safari uses a WebView, and it scrolls instantaneously, it seems like there should be a way to change the scrolling behavior of any WebView, but I've had no luck in finding it.</p>\n\n<p>Note that you need to set the insertion point before you navigate with the arrow keys, otherwise you'll see different behavior.</p>\n"},{"tags":["cocoa","delegates","protocols","datasource"],"answer_count":3,"favorite_count":3,"up_vote_count":11,"down_vote_count":0,"view_count":6035,"score":11,"question_id":2232147,"title":"What's the difference between data source and delegate?","body":"<p>I have a fundamental question related to Cocoa frameworks design patterns.</p>\n\n<p>What's the difference between delegate and data source?</p>\n\n<p>Both of them could use @protocols declaration, but some classes or frameworks are using delegate, and some others are using data source.</p>\n\n<p>All I can understand from UI/NSTableView is the delegate respond to UI-related events, while the data source is purely related to the data. But, I don't know any data source implementations outside the UI classes of Cocoa.</p>\n\n<p>Note:\nThe delegate I mentioned in this question is not always related to UI events.\nThe data source question has been answered.</p>\n"},{"tags":["osx","cocoa","automatic-ref-counting","nsnotificationcenter","weak-references"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":42,"score":1,"question_id":12757930,"title":"No longer necessary to remove notification observers in Cocoa?","body":"<p>In this <a href=\"http://cocoasamurai.blogspot.com.es/2010/12/objective-c-memory-management-garbage.html\" rel=\"nofollow\">post</a> about Garbage Collection the author states:</p>\n\n<blockquote>\n  <p>in Mac OS X 10.6 and later NSNotificationCenter is weak referenced so\n  you no longer need do to the following in your code</p>\n\n<pre><code>[[NSNotificationCenter defaultCenter] removeObserver:self\n      name:kObservationName\n      object:nil];\n</code></pre>\n</blockquote>\n\n<p>Is this officially documented somewhere? The documentation of <a href=\"https://developer.apple.com/library/mac/documentation/Cocoa/Reference/Foundation/Classes/NSNotificationCenter_Class/Reference/Reference.html#//apple_ref/occ/instm/NSNotificationCenter/removeObserver%3a\" rel=\"nofollow\"><code>removeObserver:</code></a> still says:</p>\n\n<blockquote>\n  <p>Be sure to invoke this method (or removeObserver:name:object:) before\n  notificationObserver or any object specified in\n  addObserver:selector:name:object: is deallocated.</p>\n</blockquote>\n"},{"tags":["cocoa","core-animation","avplayer","nstextview","avplayerlayer"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":12712315,"title":"Scaling a layer backed NSTextView","body":"<p>I want to overlay editable and scalable text on an AVPlayerLayer. NSTextView seems a perfect candidate for this since it implements all the standard goodies like spell check, selections etc.</p>\n\n<p>Because AVPlayerLayer is a CAlayer I have to make the NSTextView layer backed as well to get correct zPosition ordering. So far so good.</p>\n\n<p>The problem lies in the scaling. The NSTextView should scale up and down with the AVPlayerLayer so it looks like the text is embedded in the video. I tried scaling with <code>scaleUnitSquareToSize:</code>, but this doesn't play well with layer backed NSTextViews.</p>\n\n<p>Scaling the font size itself was another option I tried, but this doesn't guarantee the exact same text layout. Nor was using NSAffineTransforms in a NSTextView subclass, because the caret doesn't scale.</p>\n\n<p>Putting the text view in a sibling NSView doesn't make a difference because I still have to make the NSTextView or it's superview layer backed to get correct z order.</p>\n\n<p>Is there any other way to scale a layer backed NSTextView, or am I on a dead end road and should I pursue another option?</p>\n\n<p><strong>UPDATE:</strong> Coming back to the problem I'm thinking of using a CALayer and replacing it with an NSTextView when editing. In the meantime, suggestions are still very much appreciated!</p>\n"},{"tags":["objective-c","osx","cocoa","cursor"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12989605,"title":"How do I change my cursor on the whole screen? (not only current view/window)","body":"<p>I'm currently learning objective c and I'm trying to write some simple apps to help me learn. Right now, I'm trying to make an app that lets me measure a certain area anywhere on the screen. (similar to this: <a href=\"https://addons.mozilla.org/de/firefox/addon/measureit/\" rel=\"nofollow\">https://addons.mozilla.org/de/firefox/addon/measureit/</a>)</p>\n\n<p>For that to work, I need to know how I can change my cursor anywhere on the screen, Not only within a certain window (I already got that to work).</p>\n\n<p>Currently I have a class called \"MyCustomView\" that is assigned to my main window view. I implemented the resetCursorRects-method like this:</p>\n\n<pre><code>- (void) resetCursorRects {\n    [super resetCursorRects];\n\n    NSCursor *myCursor = [NSCursor crosshairCursor];\n    CGRect screenRect = [[NSScreen mainScreen] frame];\n    [self addCursorRect:screenRect cursor:myCursor];\n}\n</code></pre>\n\n<p>It successfully changes my cursor to crosshair, but only within the current window. I want my cursor to change for all of the screen. How can I accomplish this?</p>\n\n<p>Thank you for your help, guys!</p>\n"},{"tags":["osx","cocoa","webview","nsfontmanager","nscolorpanel"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":19,"score":1,"question_id":12757820,"title":"WebView as responder","body":"<p>I would like to receive the <a href=\"https://developer.apple.com/library/mac/documentation/Cocoa/Reference/ApplicationKit/Classes/NSFontManager_Class/Reference/Reference.html#//apple_ref/occ/instm/NSObject/changeFont%3a\" rel=\"nofollow\"><code>changeFont:</code></a> and <a href=\"https://developer.apple.com/library/mac/documentation/Cocoa/Reference/ApplicationKit/Classes/NSColorPanel_Class/Reference/Reference.html#//apple_ref/occ/instm/NSObject/changeColor%3a\" rel=\"nofollow\"><code>changeColor:</code></a> messages in a <code>WebView</code> subclass. </p>\n\n<p>According to the documentation, these methods are sent by <code>NSFontManager</code> and <code>NSColorPanel</code> respectively to responders.</p>\n\n<p>Yet, they never get called in my <code>WebView</code> subclass. Is this the expected behavior? If not, what am I doing wrong?</p>\n"},{"tags":["cocoa","webview","scrolling"],"answer_count":3,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":1123,"score":4,"question_id":3561535,"title":"Cocoa WebView scrollbars won't disappear","body":"<p>I load the webview and set allowsScrolling to NO, but webview still shows scroll bars... Banging your head on your computer hurts a lot more now that MacBooks have sharp metal edges.</p>\n\n<p>My code:</p>\n\n<pre><code>- (void)applicationDidFinishLaunching:(NSNotification *)aNotification {\n    // Insert code here to initialize your application\n    NSString *webFolder = @\"file:///&lt;WebFolderPath&gt;\";\n    [[[productWeb mainFrame] frameView] setAllowsScrolling:NO];\n    [productWeb setFrameLoadDelegate:self];\n    [[productWeb mainFrame] loadRequest:[NSURLRequest requestWithURL:[NSURL URLWithString:[webFolder stringByAppendingString:@\"webpage.html\"]]]];\n}\n</code></pre>\n\n<p>I even setup the frame loading delegate to report about the scrolling status:</p>\n\n<pre><code>- (void)webView:(WebView *)sender didFinishLoadForFrame:(WebFrame *)frame\n{\n    NSLog(@\"Scrolling %@\",[[frame frameView] allowsScrolling] ? @\"Allowed\" : @\"Not Allowed\");\n    [[frame frameView] setAllowsScrolling:NO];\n    NSLog(@\"Scrolling %@\",[[frame frameView] allowsScrolling] ? @\"Allowed\" : @\"Not Allowed\");\n}\n</code></pre>\n\n<p>Which still gives me the unhappy:</p>\n\n<pre><code>2010-08-24 15:20:09.102 myApp[30437:a0f] Scrolling Allowed\n2010-08-24 15:20:09.104 myApp[30437:a0f] Scrolling Not Allowed\n</code></pre>\n\n<p>And yet the scrollbars continue to show!  Hopefully, it is something stupid I'm doing as I don't want to get any more blood on my laptop.</p>\n"},{"tags":["objective-c","osx","cocoa","nstableview","nstableviewcell"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12989700,"title":"Custom NSTableCellView labels not changing text color when selected","body":"<p>I have a custom <code>NSTableCellView</code> with 3 textfields, 1 that came along and 2 others that i created myself. Here's the problem:<br>\n<img src=\"http://i.stack.imgur.com/bQeDx.png\" alt=\"enter image description here\"></p>\n\n<p>The textfields' text color stays the same even when i click on the row. I've tried to implement a code i found out by googling but it doesn't work. My Custom NSTableCellView code is:</p>\n\n<pre><code>- (void)drawRect:(NSRect)dirtyRect{\n    NSColor *color = [NSColor colorWithCalibratedRed:(26/255.0) green:(26/255.0) blue:(26/255.0) alpha:1.0];\n    [self.textField setTextColor:color];\n\n    color = [NSColor colorWithCalibratedRed:(102/255.0) green:(102/255.0) blue:(102/255.0) alpha:1.0];\n    [_lbl1 setTextColor:color];\n    [_lbl2 setTextColor:color];\n}\n\n- (void)setBackgroundStyle:(NSBackgroundStyle)backgroundStyle {\n    NSColor *color = (backgroundStyle == NSBackgroundStyleDark) ? [NSColor windowBackgroundColor] : [NSColor controlShadowColor];\n    self.textField.textColor = color;\n    self.lbl1.textColor = color;\n    self.lbl2.textColor = color;\n    [super setBackgroundStyle:backgroundStyle];\n}\n</code></pre>\n\n<p>What can i do to make the labels' text color white when the user clicks on them?</p>\n"},{"tags":["osx","cocoa","password-protection","amazon-dynamodb"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":12974258,"title":"Password validation in Mac OS X app","body":"<p>I'm using DynamoDB to save my users and their passwords.\nNow I currently make a request to get the user and his password from the database and I check on the clients side if the password was correct.\nI've thought some more about it and you could probably see the password with a network-sniffer. But when I make a server-side validation, I would still have to upload the password to the server, so same effect.</p>\n\n<p>I also thought about one-way hashes, which apparently aren't safe either.</p>\n\n<p>Isn't there a better way to authenticate.\nIn my app, safety is an important aspect.\nCan anyone help me?</p>\n"},{"tags":["cocoa","navigation","nsbutton","nsviewcontroller"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":74,"score":0,"question_id":12823365,"title":"NSButton Doesn't Respond to Click When Putting inside M3NavigationView","body":"<p>I'm using <a href=\"http://stackoverflow.com/questions/3837556/navigation-application-in-mac\">M3NavigationView</a> to do view navigations, but there I got a problem when push one view inside(some animation happens here),  A button doesn't responds to mouse click most of the time, I'll have to click it twice, </p>\n\n<p><img src=\"http://i.stack.imgur.com/MQRgZ.png\" alt=\"screen shot\"></p>\n\n<p>I <strong>clicked</strong> <em>once</em> on the button, and it seems the mouse up event doesn't happen. I have to click the button again to trigger my action.</p>\n\n<p>After more testing today, I found the button inside works normally after it is displayed for 2 seconds. more weird.</p>\n\n<p>Is there anyone knows that going on here? </p>\n"},{"tags":["cocoa","webkit"],"answer_count":1,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":401,"score":3,"question_id":4601671,"title":"How to I highlight search results in a webview like Safari and NSTextView showFindIndicatorForRange:","body":"<p>In Safari, and in an NSTextView on OSX, search results can be highlighted with a bright yellow box that has a little animated pop.  Is there any way to do this in a webview without coding it all myself?</p>\n"},{"tags":["cocoa"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":112,"score":0,"question_id":7680135,"title":"Updating a text field from the URL from WebKit","body":"<p>First off let me say that I am VERY new to COCOA but I am learning.  I have a simple web browser built.  It loads a default page, takes URLs from a text field, even has google search.  The problem I'm running in to is updating the textfeild with the current URL.  I have the code as follows...</p>\n\n<p>In the .h is...</p>\n\n<pre><code>#import &lt;Cocoa/Cocoa.h&gt;\n#import &lt;WebKit/WebKit.h&gt;\n\n@interface MustangAppDelegate : NSObject &lt;NSApplicationDelegate&gt; {\n    NSWindow *window;\n    NSTextField *googleSearch;\n    WebView *webView;\n    NSTextField *addressBar;\n}\n\n@property (assign) IBOutlet NSWindow *window;\n@property (nonatomic, retain) IBOutlet NSTextField *googleSearch;\n@property (nonatomic, retain) IBOutlet WebView *webView;\n@property (nonatomic, retain) IBOutlet NSTextField *addressBar;\n\n- (IBAction)googleSearch:(id)sender;\n- (IBAction)homeAction:(id)sender;\n- (IBAction)addressBar:(id)sender;\n@end\n</code></pre>\n\n<p>In the .m I have a bunch so I'll put in what I think is relevant here...</p>\n\n<pre><code>#import \"MustangAppDelegate.h\"\n\n@implementation MustangAppDelegate\n\n@synthesize window;\n@synthesize googleSearch;\n@synthesize webView;\n@synthesize addressBar;\n\n- (void)webView:(WebView *)sender didStartProvisionalLoadForFrame:(WebFrame *)frame {\n    NSURLRequest *currentRequest = [webView request];\n    NSURL *currentURL = [currentRequest URL];\n    addressBar.stringValue = currentURL.absoluteString;\n}\n</code></pre>\n\n<p>The code for the above method never get's called.  Like I said, I'm very new to OBC &amp; Cocoa but have been programming in things like Perl for many years.  Seems like I'm missing some connectivity because I get a warning with the above code that states WebView may not respond to the request.  I dug around to find that code but it still seems like I'm missing something...</p>\n\n<p>Thanks\nMike</p>\n"},{"tags":["iphone","objective-c","cocoa","frameworks","precompile"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":63,"score":0,"question_id":12462632,"title":"Check if a framework is linked at precompile","body":"<p>Is there a precompiler directive that checks if a framework is linked in an Obj-C/Cocoa project?</p>\n\n<p>For example, I have a class of useful categories with some MapKit categories. However, if MapKit is not linked to the framework, then those categories will not compile.</p>\n\n<p>Is there anything like:</p>\n\n<pre><code>#ifdef MAPKIT\n....\n// Only compiles if MapKit framework is linked to the current project\n....\n#endif\n</code></pre>\n"},{"tags":["osx","cocoa","icloud","iphoto"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":12986275,"title":"Publish photos to iCloud Photo Stream from Cocoa on OS X","body":"<p>I am writing an OS X app and would like to publish photos to the iCloud photo stream? Seems easy to do this in ios but can't find any information for OSX. Any ideas?</p>\n\n<p>The closest I have gotten is setting up a folder action on a folder <a href=\"https://discussions.apple.com/thread/3764541?start=0&amp;tstart=0\" rel=\"nofollow\">https://discussions.apple.com/thread/3764541?start=0&amp;tstart=0</a> I create which auto import the photos into iPhoto. Seems like a very ugly hack and there must be a better way. I've also reviewed this: <a href=\"http://www.macworld.com/article/1139658/iphotoimport.html\" rel=\"nofollow\">http://www.macworld.com/article/1139658/iphotoimport.html</a> but iphoto needs to be running and the pictures don't actually import until iPhoto is in the foreground.</p>\n\n<p>I thought about publishing to iCloud but I don't think the pictures I copy to my sandbox would make it to the photo stream. Would they?</p>\n\n<p>Any help would be appreciated.</p>\n"},{"tags":["cocoa","nsarray","nsset"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":12985666,"title":"Troubles using NONE when filtering an NSArray with an NSSet","body":"<p>I'm trying to filter an NSArray by excluding the elements that are in an NSSet. I'm doing something like this:</p>\n\n<pre><code>    NSMutableArray* a = [NSMutableArray arrayWithObjects:@\"1\", @\"2\", @\"3\", nil];\n    NSSet* set = [NSSet setWithObjects:@\"2\", nil];\n    NSPredicate *predicate = [NSPredicate predicateWithFormat:@\"NONE SELF IN %@\", set];\n    NSArray* b = [a filteredArrayUsingPredicate:predicate];\n</code></pre>\n\n<p>However, this code throws an exception:</p>\n\n<blockquote>\n  <p>Terminating app due to uncaught exception 'NSInvalidArgumentException', reason: 'The left hand side for an ALL or ANY operator must be either an NSArray or an NSSet</p>\n</blockquote>\n\n<p>What is that I'm doing wrong?</p>\n"},{"tags":["objective-c","c","cocoa","opengl","cgcontextref"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":102,"score":3,"question_id":12822736,"title":"CGContextRef as OpenGL Context","body":"<p>Normally, I would just use NSOpenGLContext, but in this case I <em>have</em> to have a CGContextRef as the OpenGL context in order to support some other frameworks I am using. My question is: can this be done?</p>\n\n<p>I cannot afford to use glReadPixels() to fill the context because it is <em>way</em> to slow for this. I have to render on the entire screen (1440 x 900) at least 32 times per second, so the performance is a very big concern for me. Is there a way to make OpenGL draw into the CGContextRef efficiently, or do I need some kind of workaround?</p>\n"},{"tags":["iphone","objective-c","ios","cocoa-touch","cocoa"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":12984908,"title":"Timing for add Notification observer in UIViewController subclass","body":"<p>I'm fairly new to Cocoa Touch. Right now I'm trying to subclass UIViewController to provide my custom view. Since I intend to save the content of a UITextField (passcodeField) using NSUserDefaults, I want to be notified whenever the UITextField changes its value. </p>\n\n<p>I've read somewhere that in order to do that I should add the view controller to be an observer of the UITextFieldTextDidChangeNotification notification. However I'm just not sure when to do that. I've considered several options. </p>\n\n<ol>\n<li><p>In the <code>-loadView</code> method. However, since I'm loading my view using a XIB, I think i shouldn't mess with this method and should instead leave it as-is. (Am I correct on this point, BTW? )</p></li>\n<li><p>In the <code>-viewWillAppear</code> method. But this method may be called multiple times because the view may be moved out and into the screen without being destroyed and recreated. (Am I correct? ) This will not do any harm to the program but sure doesn't seem like the correct way. </p></li>\n<li><p>In the initializer of the UIViewController. If I want to add the notification there I must reference the UITextField. By doing this I essentially cause the view to created before it is really needed. Also I think I read somewhere that if the system runs low on memory the offscreen views may be destroyed. Thus I may lose the notification observing if such thing happens, right? </p></li>\n</ol>\n\n<p>So I'm totally confused right now. Could you guys give me some advice of where to put it? Thanks so much! </p>\n"},{"tags":["ios","cocoa","game-center","gamekit"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":250,"score":1,"question_id":8858806,"title":"Application icon badge clears briefly, but the badge number returns within seconds in GameKit Turn-Based app","body":"<p>I would like to clear the application icon badge each time the user opens the app.  In my app, I clear the badge with the following code:</p>\n\n<pre><code>[UIApplication sharedApplication].applicationIconBadgeNumber = 0;\n[[UIApplication sharedApplication] cancelAllLocalNotifications];\n</code></pre>\n\n<p>I put this code in both <code>- (void) applicationDidFinishLaunching:(UIApplication*)application</code> and <code>-(void) applicationWillEnterForeground:(UIApplication*)application</code>.  I've also registered for remote notifications in <code>- (void) applicationDidFinishLaunching:(UIApplication*)application</code> before running the above code to clear the badge.</p>\n\n<pre><code>[[UIApplication sharedApplication] registerForRemoteNotificationTypes:(UIRemoteNotificationTypeAlert | UIRemoteNotificationTypeBadge)];\n</code></pre>\n\n<p>If I launch the app, then return to the Home screen, I see that the app's badge has been cleared, but it returns within a second or two to the exact same value it was before it was cleared.</p>\n\n<p>I am not using Local or Push notifications myself, but rather GameKit is using them because it's a Turn-Based match.  When certain events happen (such as it becomes the local player's turn in  a match), a push notification is sent to their device.</p>\n\n<p>What could I be doing wrong?</p>\n"},{"tags":["c","cocoa","opengl","viewport","projection-matrix"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":66,"score":0,"question_id":12982691,"title":"OpenGL matrix issue","body":"<p>I have an NSOpenGLView setup and working great, but I need to draw a rectangle that <em>always</em> completely fills the view and is not clipped (does that make sense?). I have a view that is always going to be 1100x850 pixels in size. Basically, what I am trying to do is find a way to ensure that a y value of 0.4 is always going to draw the object at the very top of the view, -0.4 at the bottom, ect. I do also need it to have some sense of perspective though, so I cannot do <code>glOrtho</code></p>\n\n<p>Is there a way to do this?</p>\n\n<p>If I did not explain it well, here is what I mean:</p>\n\n<pre><code>---------\n|   |   |\n|   |   |\n---------\n</code></pre>\n\n<ul>\n<li><p>That center line always has an x value of 0.0.</p></li>\n<li><p>The left line has an x value of -0.55, the right has a value of 0.55</p></li>\n<li><p>The top line has a y value of 0.4, the bottom has a value of -0.4</p></li>\n</ul>\n\n<p>So, I need a rectangle with the following vertices to completely fill, but not leave, the screen:</p>\n\n<pre><code>{\n  -0.55,  0.40, 0.00,\n   0.55,  0.40, 0.00,\n   0.55, -0.40, 0.00,\n  -0.55, -0.40, 0.00,\n}\n</code></pre>\n"},{"tags":["cocoa","core-image","osx-mountain-lion","quartz-core","ciimage"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":139,"score":0,"question_id":11689233,"title":"CIImage drawing EXC_BAD_ACCESS","body":"<p>So, I have a <code>CIImage</code> that I'm attempting to draw in an <code>NSView</code>'s <code>-drawRect</code> method.</p>\n\n<p>This is the line of code that I call to draw the image:</p>\n\n<pre><code>[outputCoreImage drawInRect: [self bounds]\n                   fromRect: originalBounds\n                  operation: NSCompositeSourceOver\n                   fraction: 1];\n</code></pre>\n\n<p><code>outputCoreImage</code>, <code>originalBounds</code>, and <code>[self bounds]</code> are all non-<code>nil</code>, and indeed are their respective expected values. On Lion (OS X 10.7), this worked fine, however on Mountain Lion (OS X 10.8) I receive an <code>EXC_BAD_ACCESS</code> on this line. If I walk up the stack, I find that the internal function call that breaks is on <code>CGLGetPixelFormat</code>.</p>\n\n<pre><code>frame #0: 0x00007fff99c3b26d OpenGL`CGLGetPixelFormat + 27\nframe #1: 0x00007fff8fa98978 CoreImage`-[CIOpenGLContextImpl createAccelContext] + 335\nframe #2: 0x00007fff8fa98d30 CoreImage`-[CIOpenGLContextImpl updateContext] + 111\nframe #3: 0x00007fff8fa9a865 CoreImage`-[CIOpenGLContextImpl _lockfeContext] + 25\nframe #4: 0x00007fff8fa7e4ac CoreImage`-[CIContextImpl setObject:forKey:] + 120\nframe #5: 0x00007fff8fa9881c CoreImage`-[CIOpenGLContextImpl setObject:forKey:] + 259\nframe #6: 0x00007fff90db93e3 libCGXCoreImage.A.dylib`cgxcoreimage_instance_render + 1477\nframe #7: 0x00007fff97074ac6 CoreGraphics`CGSCoreImageInstanceRender + 32\nframe #8: 0x00007fff947c89cc libRIP.A.dylib`ripc_AcquireCoreImage + 1344\nframe #9: 0x00007fff947b8a00 libRIP.A.dylib`ripc_DrawShading + 9680\nframe #10: 0x00007fff96cb2b2b CoreGraphics`CGContextDrawShading + 51\nframe #11: 0x00007fff8fa78237 CoreImage`-[CICGContextImpl render:] + 918\nframe #12: 0x00007fff8fa7d76a CoreImage`-[CIContext drawImage:inRect:fromRect:] + 1855\nframe #13: 0x00007fff9897b8f3 AppKit`-[CIImage(NSAppKitAdditions) drawInRect:fromRect:operation:fraction:] + 243\n</code></pre>\n\n<p>I have zombies, guard malloc, and log exceptions all turned on, and none of them return any useful information.</p>\n\n<p><strong>Other OpenGL Testing:</strong></p>\n\n<p>I added this chunk:</p>\n\n<pre><code>CIImage *anImage  = [[CIImage alloc] init];\n[[[self window] contentView] lockFocus];\n{\n    [anImage drawInRect: [[self window] frame]\n               fromRect: [[self window] frame]\n              operation: NSCompositeSourceOver\n               fraction: 1];\n}\n[[[self window] contentView] unlockFocus];\n</code></pre>\n\n<p>to the <code>-windowDidLoad</code> method of my <code>NSWindowController</code>. It runs without issue.</p>\n\n<p>I added this chunk:</p>\n\n<pre><code>NSData *data = [NSData dataWithContentsOfURL: [NSURL URLWithString: @\"http://cache.virtualtourist.com/14/684723-Red_Square_Moscow.jpg\"]];\n\nCIImage *anImage  = [[CIImage alloc] initWithData: data];\n[self lockFocus];\n{\n    [anImage drawInRect: [self bounds]\n               fromRect: [anImage extent]\n              operation: NSCompositeSourceOver\n               fraction: 1];\n}\n[self unlockFocus];\n</code></pre>\n\n<p>to another <code>NSView</code>'s <code>-drawRect</code>. I received the same error on <code>CGLGetPixelFormat</code>.</p>\n\n<p><strong>Radar:</strong></p>\n\n<p>The folks over at #macdev seem to believe that this is in an OS issue, and I'm not inclined to disagree. I've filed a radar (rdar://11980704) explaining the problem and linking back to this question.</p>\n\n<p><strong>Workaround:</strong></p>\n\n<pre><code>CGContextRef contextReference = [[NSGraphicsContext currentContext] graphicsPort];\nCIContext *coreImageContext = [CIContext contextWithCGContext: contextReference\n                                                      options: @{kCIContextUseSoftwareRenderer : @YES}];\n\n[coreImageContext drawImage: outputCoreImage\n                     inRect: [self bounds]\n                   fromRect: originalBounds];\n</code></pre>\n\n<p>It looks like forcing the image to draw using the software renderer \"solves\" the problem. It's a bit blurry and slow, but it doesn't crash.</p>\n"},{"tags":["objective-c","osx","cocoa"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":74,"score":-3,"question_id":12873616,"title":"Programmatically create a layer such as Dashboard in Mac OS X","body":"<ul>\n<li>I want to <strong>programmatically</strong> (using Cocoa) create my own graphical \"layer\" inside Mountain Lion (something like Dashboard)</li>\n<li>I want to be able to draw on it</li>\n</ul>\n\n<p>Is it possible?\nAny helpful resources?</p>\n"},{"tags":["iphone","objective-c","cocoa","core-foundation"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":760,"score":1,"question_id":5491916,"title":"NSString Encoding problem","body":"<p>My code</p>\n\n<pre><code>char* tmp = \"abc \\x80 dfg\";\nNSString* name = [[NSString alloc] initWithUTF8String:tmp]; \n</code></pre>\n\n<p>It returns <code>name</code> as <code>nil</code>. I understand <code>-initWithUTF8String:</code> method doesn't like my  extended-ascii \\x80 (euro sign). I tried to play with <code>-initWithCString:</code> with all encoding possible. Nothing works. </p>\n\n<p>Interestingly Apple sample code below works properly</p>\n\n<pre><code> [NSString stringWithUTF8String:\"Long \\xe2\\x80\\x94   dash\"];\n</code></pre>\n\n<p>I can't figure out how to use their approach. Any help would be much appreciated. </p>\n"},{"tags":["osx","cocoa","mouseevent","global"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":12983006,"title":"Global mouse event handling similar to MacOsX' build in screenshot functionality","body":"<p>I know there are several questions on Stackoverflow regarding global mouse events in MacOsX and I've spent the last hours searching for one that helped me out.</p>\n\n<p><strong>What I want to create is a functionality that works almost like the build in screenshot functionality of OsX. <em>(Shift+CMD+4)</em></strong></p>\n\n<p>I want to <strong>press a Shortcut</strong> and <strong>activate the mouse listener</strong> with it. Then the <strong>mouseDown event should return one coordinate</strong> and the <strong>mouseRelease event another one</strong>. I then want to make a CGRect from them and the <strong>eventlistener should be deactivated</strong>.</p>\n\n<p>All the codesamples I found give me mouseEvents in a NSView or NSWindow but not global or they give me the location of the mouse coordinate but I've to poll it by myself with a NSTimer. Neither of those is what I need.</p>\n\n<p>As I said: I've spent several hours searching. I've read through many questionthreads and the Apple guide for Cocoa event handling but none of the answers really helped me out. </p>\n\n<p>Thanks for your time!</p>\n"},{"tags":["iphone","ios","cocoa","uiscrollview"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":63,"score":2,"question_id":12981201,"title":"Keep subviews of UIScrollView from resizing?","body":"<p>I have a UIScrollView, with several levels of subviews of the view returned by viewForZoomingInScrollView. During zooming, I want some of those subviews to resize, and others to not resize. No matter what I try, all subviews resize. On the superview of the subviews I want to not resize, I've set autoResizesSubviews = NO, and also tried contentMode = UIViewContentModeCenter. I've also tried setting the autoresizingMask for all views involved to UIViewAutoresizingNone. Any thoughts? I can't restructure the hierarchy of subviews.</p>\n"},{"tags":["objective-c","osx","cocoa","quartz-graphics","core-foundation"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":29,"score":1,"question_id":12980818,"title":"Get name of (external) display","body":"<p>I'm trying to get the name of the connected external display with Cocoa or CoreFoundation. With \"name\" I mean that string that appears in the title bar of the System Preferences window when editing Display preferences.</p>\n\n<p>I couldn't find any API for that in <a href=\"https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/ApplicationKit/Classes/NSScreen_Class/Reference/Reference.html\" rel=\"nofollow\"><code>NSScreen</code></a> or in the <a href=\"https://developer.apple.com/library/mac/#documentation/graphicsimaging/reference/Quartz_Services_Ref/Reference/reference.html\" rel=\"nofollow\">Quartz Display Services</a>.</p>\n\n<p>But there has to be a way, because if I access the color space of the display like this:</p>\n\n<pre><code>CGColorSpaceRef colorSpace = CGDisplayCopyColorSpace(displayID);\n</code></pre>\n\n<p>and I log the color space's description I get:</p>\n\n<pre><code>&lt;CGColorSpace 0x100113c20&gt;\n(kCGColorSpaceICCBased; kCGColorSpaceModelRGB; DELL 2408WFP)\n</code></pre>\n\n<p><img src=\"http://i.stack.imgur.com/674BA.png\" alt=\"enter image description here\"></p>\n"},{"tags":["xcode","osx","cocoa","qtkit"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":12980799,"title":"QTKit Occasionally Crashes When Looking For Devices","body":"<p>I'm not sure if its just my machine or anyone else having this problem with QTKit. These two methods will occasionally crash. Is there a solution or work around to this?</p>\n\n<pre><code>[QTCaptureDevice defaultInputDeviceWithMediaType:QTMediaTypeSound]\n[QTCaptureDevice inputDevicesWithMediaType:QTMediaTypeSound]\n</code></pre>\n\n<p>malloc: <strong>* error for object 0x75703e67: pointer being freed was not allocated\n*</strong> set a breakpoint in malloc_error_break to debug</p>\n"},{"tags":["python","cocoa","itunes","scripting-bridge"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":58,"score":1,"question_id":12971306,"title":"How to add a track to an iTunes playlist using Python and Scripting Bridge","body":"<p>I learned how to create a playlist in a previous question, but now I can't figure out how to add tracks to it.  Right now I have:</p>\n\n<pre><code>tracks.sort(key=lambda tup: tup[0])\ni = 0\nfor trackList in generatePlaylists(tracks,10):\n    i += 1\n    playlistname = str(i)\n    p = {'name': playlistname}\n    playlist = iTunes.classForScriptingClass_(\"playlist\").alloc().initWithProperties_(p)\n    iTunes.sources()[0].playlists().insertObject_atIndex_(playlist, 0)\n\n    # Find the playlist I just made\n    for playlist in iTunes.sources()[0].playlists():\n        if playlist.name() == playlistname:\n            newPlaylist = playlist\n\n    # Add the tracks to it\n    for track in trackList:\n        print track[1].name()\n        iTunes.add_to_(track[1],newPlaylist)\n</code></pre>\n\n<p>My tracks are in a list of tuples <code>tracks</code>, where the first element of the tuple is a score and the second is the actual track object.  <code>generatePlaylists</code> is an iterator which splits all library tracks into 10 lists.    </p>\n\n<p>The above code runs without error, but in iTunes the playlists are empty.  </p>\n"},{"tags":["osx","cocoa","sandboxing"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":33,"score":1,"question_id":12826091,"title":"What is the encoding for URL bookmarks stored as NSData?","body":"<p>What is the best way to get the path from the NSData bookmark object, if the bookmark will not resolve?  </p>\n\n<p>Normally, you just resolve the bookmark, you get a URL, and off you go.  But if the bookmark is to an NFS mount that is not currently present, it won't resolve.  So now I have an NSData pointing somewhere that won't resolve, but I don't know where it points.  </p>\n\n<p>Here is the code block I have that loads the bookmarks, tries to resolve them, and attempts to decode the NSData if the resolve fails, but I can't figure out the encoding - is this even possible?  </p>\n\n<pre><code>NSError* error = [[NSError alloc] init];\nNSURL* resolvedURL = [NSURL URLByResolvingBookmarkData:bookmarkData \n                                               options:NSURLBookmarkResolutionWithSecurityScope | NSURLBookmarkResolutionWithoutUI \n                                         relativeToURL:nil \n                                   bookmarkDataIsStale:NULL \n                                                 error:&amp;error];\nif (resolvedURL) {\n    // do some stuff\n    ...\n} else {\n    NSString* msg  = [NSString stringWithFormat:@\"Error Resolving Bookmark: %@\", error];\n    NSLog(msg);\n    // the below certainly doesn't get me a path from the bookmark, any idea what will?\n    // NSString* path = [[NSString alloc] initWithData:bookmarkData encoding:NSUTF32StringEncoding];\n}\n</code></pre>\n"},{"tags":["python","cocoa","itunes","scripting-bridge"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":12964766,"title":"Create playlist in iTunes with Python and Scripting Bridge","body":"<p>How do you create a playlist using Python and Scripting Bridge?</p>\n\n<p>So far I have :</p>\n\n<pre><code>from Foundation import *\nfrom ScriptingBridge import *\n\niTunes = SBApplication.applicationWithBundleIdentifier_(\"com.apple.iTunes\")\nnewPlaylist = iTunes.iTunesPlaylist()\n</code></pre>\n\n<p>This obviously doesn't work.  </p>\n\n<p>I've seen things for Ruby and Objective C, but I don't really understand the language.</p>\n"},{"tags":["cocoa","command-line","sandbox"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":62,"score":1,"question_id":12959958,"title":"How to sandbox a command line tool?","body":"<p>I've a simple unix tool made by me that launches the main cocoa app from a shell.</p>\n\n<p>I need to sandbox it but when I run it, it crashes with error \"Illegal instruction: 4\", on console.app I can see the following error message</p>\n\n<blockquote>\n  <p>Sandbox creation failed: Container object initialization failed: NIL\n  container info object with no error description for visdiff</p>\n</blockquote>\n\n<p>The file is correctly signed with codesign.</p>\n\n<p>I've read the post <a href=\"http://stackoverflow.com/questions/11821632/mac-os-app-sandbox-with-command-line-tool\">Mac OS app, sandbox with command line tool?</a> but it doesn't help</p>\n"},{"tags":["objective-c","cocoa","osx"],"answer_count":10,"favorite_count":14,"up_vote_count":37,"down_vote_count":0,"view_count":10739,"score":37,"question_id":156395,"title":"Sending a message to nil?","body":"<p>As a Java developer who is reading Apple's Objective-C 2.0 documentation: I wonder as to what <em>sending a message to nil</em> means - let alone how it is actually useful.  Taking an excerpt from the documentation:</p>\n\n<blockquote>\n  <p>There are several patterns in Cocoa\n  that take advantage of this fact. The\n  value returned from a message to nil\n  may also be valid:</p>\n  \n  <ul>\n  <li>If the method returns an object, any pointer type, any integer scalar\n  of size less than or equal to\n  sizeof(void*), a float, a double, a\n  long double, or a long long, then a\n  message sent to nil returns 0.</li>\n  <li>If the method returns a struct, as defined by the Mac OS X ABI Function\n  Call Guide to be returned in\n  registers, then a message sent to nil\n  returns 0.0 for every field in the\n  data structure. Other struct data\n  types will not be filled with zeros.</li>\n  <li>If the method returns anything other than the aforementioned value\n  types the return value of a message\n  sent to nil is undefined.</li>\n  </ul>\n</blockquote>\n\n<p>Has Java rendered my brain incapable of grokking the explanation above?  Or is there something that I am missing that would make this as clear as glass?</p>\n\n<p>Note: Yes, I do get the idea of messages/receivers in Objective-C, I am simply confused about a receiver that happens to be nil.</p>\n"},{"tags":["objective-c","cocoa","nsstring"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":95,"score":3,"question_id":12977024,"title":"Confused by NSString immutability","body":"<p>I am an Objective-C newbie. I am struggling with the twin concepts of mutability/immutability.\nI am ploughing through a book called Programming in Objective-C 4th Edition. Chapter 15 talks about the <code>NSString</code> class which is stated to be immutable. The book then provides examples which seem to contradict that e.g.:</p>\n\n<pre><code>NSString *str1 = @\"this is string A\";\nNSString *str2 = @\"this is string B\";\n\nstr2 = [str1 stringByAppendingString:str2];\n\nNSString *res; \n\nres = [str1 substringToIndex:3];\nres = [str1 substringFromIndex:5];\nres = [[str1 substringFromIndex:8]substringToIndex:6];\nres = [str1 substringWithRange:NSMakeRange(8, 6)];\n</code></pre>\n\n<p>So even though 'res' is a pointer to an immutable object, its value has changed several times, so how can this be called immutable? I guess I am completely missing the point. Any advice, gratefully received.</p>\n"},{"tags":["objective-c","cocoa","cell","nstableview","nstextfield"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":12932381,"title":"Click under NSTextField","body":"<p>I'm trying to customize a NSTableView, in order to do that, I've implemented the following method:</p>\n\n<pre><code>-(NSView *)tableView:(NSTableView *)tableView viewForTableColumn:(NSTableColumn *)tableColumn row:(NSInteger)row{\n\n    NSImageView *cellImage = [[NSImageView alloc] initWithFrame:NSMakeRect(0, 0, 229, 51)];\n    cellImage.image = [[NSImage alloc] initByReferencingFile:[[NSBundle mainBundle] pathForImageResource:@\"list_cell_secetion_background.png\"]];\n\n    NSView *view = [[NSView alloc] initWithFrame:NSMakeRect(0, 0, 229, 51)];\n\n    NSTextField *textField = [[NSTextField alloc] initWithFrame:NSMakeRect(20, 10, 150, 30)];\n    [textField setStringValue:[[_objects objectAtIndex:row] description]];\n    [textField setBezeled:NO];\n    [textField setDrawsBackground:NO];\n    [textField setEditable:NO];\n    [textField setSelectable:NO];\n\n    if(row == selectedCell) [view addSubview:cellImage];\n\n    [view addSubview:textField];\n\n    return view;\n}\n</code></pre>\n\n<p>So it works fine, until you click where the label is. Then it doesn't occurs anything.\nI would like to click everywhere in the cell, getting selected correctly.</p>\n"},{"tags":["osx","cocoa","nsmetadataquery"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":12976362,"title":"Search scope of NSMetadataQuery","body":"<p>Is there any way of excluding the /Users/username/Library (which is hidden by default) from the search scope of NSMetadataQuery.</p>\n"},{"tags":["osx","cocoa","nsopenpanel"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":58,"score":1,"question_id":12940613,"title":"Add checkbox to NSOpenPanel","body":"<p>I would like to add a checkbox to <code>NSOpenPanel</code>, and then query its state when receiving the selected files. How can I do this?</p>\n\n<p>Additionally, it would be desirable to be able to enable or disable the checkbox based on the current file selection.</p>\n"},{"tags":["objective-c","cocoa"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":49,"score":2,"question_id":12973999,"title":"Is there an equivalent to C++'s class-scoped enum?","body":"<p>In C++ I might do the following in a header:</p>\n\n<pre><code>cClass {\n  enum eList { FIRST, SECOND };\n}\n</code></pre>\n\n<p>... and this in some other class:</p>\n\n<pre><code>cClass::eList ListValue = GetListValue();\nif(ListValue == cClass::FIRST) {\n  ...\n}\n</code></pre>\n\n<p>Is there an equivalent either using straight Objective-C language features or some trickery in Cocoa which would allow similarly <strong>scoped</strong> <code>enum</code>s?</p>\n"},{"tags":["iphone","objective-c","cocoa","nsstring"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":2590,"score":0,"question_id":3838734,"title":"How to cut out parts of NSString?","body":"<pre><code>@\"/News/some news text/\" \n@\"/News/some other news text/\" \n@\"/About/Some about text/\" \n@\"/Abcdefg/Some abcdefg text/some more abcdefg text\"\n</code></pre>\n\n<p>How do I cut out the first part of the strings, so that I end up with the following strings?</p>\n\n<pre><code>@\"/News/\"\n@\"/News/\"\n@\"/About/\"\n@\"/Abcdefg/\"\n</code></pre>\n"},{"tags":["objective-c","cocoa","shuffle"],"answer_count":6,"favorite_count":46,"up_vote_count":56,"down_vote_count":0,"view_count":22669,"score":56,"question_id":56648,"title":"What's the Best Way to Shuffle an NSMutableArray?","body":"<p>If you have an <code>NSMutableArray</code>, how do you shuffle the elements randomly?</p>\n\n<p>(I have my own answer for this, which is posted below, but I'm new to Cocoa and I'm interested to know if there is a better way.)</p>\n"},{"tags":["objective-c","osx","cocoa","load","save"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":68,"score":0,"question_id":12972955,"title":"Objective-C save and load files","body":"<p>Hello I am trying to load data from a file</p>\n\n<p>This function save the data to a file in documents folder</p>\n\n<pre><code>- (IBAction)saveUser:(id)sender{\n   NSString *name = [nameField stringValue];\n   NSString *weight = [weightField stringValue];\n   NSDate *date = [datePick dateValue];\n\n   NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);\n   NSString *documentsDirectory = [paths objectAtIndex:0];\n\n   NSMutableDictionary *dict = [[NSMutableDictionary alloc] init];\n   [dict setValue:[nameField stringValue] forKey:@\"name\"];\n   [dict setValue:[weightField stringValue] forKey:@\"weight\"];\n   [dict setValue:date forKey:@\"date\"];\n   [dict writeToFile:name atomically:YES];\n}\n</code></pre>\n\n<p>However when I try to load the file and get the data from it I cant, could someone tell me how this is done done.</p>\n\n<hr>\n\n<p>Edit to show loadFunction</p>\n\n<pre><code>-(IBAction)loadUser:(id)sender{\n NSString *weight = [weightField stringValue];\n NSDate *date = [datePick dateValue];\n\nNSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);\nNSString *documentsDirectory = [paths objectAtIndex:0];\nNSString *loadPath = [documentsDirectory stringByAppendingPathComponent:name];\n\nNSMutableDictionary *savedData = [[NSMutableDictionary alloc] initWithContentsOfFile: name]; \n NSLog(@\"%@\", weight);\n}\n</code></pre>\n"},{"tags":["iphone","objective-c","cocoa","osx","nsthread"],"answer_count":3,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":1881,"score":4,"question_id":6120614,"title":"passing primitives throught performSelectorOnMainThread","body":"<p>Ok, so say i have a second thread running, but it wants to manipulate something on the main thread, like a <code>UI</code> item.</p>\n\n<pre><code>-(void)backgroundThread\n{\n    [myButton performSelectorOnMainThread:@selector(setEnabled:) withObject:(BOOL)YES waitUntilDone:YES];\n     // right here, how could i pass this BOOL to the function\n}\n</code></pre>\n\n<p>I've tried using <code>NSNumber</code>'s <code>numberWithBOOL</code>, but the <code>NSButton</code> doesn't accept it.</p>\n"},{"tags":["objective-c","cocoa","nstableview","nsoutlineview"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":11581316,"title":"How to create right click Menu in NSOutlineView?","body":"<p>I am new to this technology , I want to display different <em>Context Menu</em> on <code>Right click</code> of <em>Parent Node</em> and <em>Child Node</em>..</p>\n"},{"tags":["cocoa","mvc"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":31,"score":1,"question_id":12970735,"title":"MVC theory/Cocoa: where to create model?","body":"<p>I have an AppDelegate, an NSWindowController and some Views. What is the best place to define <code>DataModel * data;</code>, initialize <code>[[data alloc] initWithSomething]</code> etc.?</p>\n\n<p>I suppose it must be done in WindowController (.h and .m), since model must be handled by the main controller. Am I right? I've got a small doubt about keeping a pointer to Model in AppDelegate...</p>\n\n<p>Sorry if my terminology is not MVC-correct, I'm just studying...</p>\n"},{"tags":["objective-c","cocoa","nstableview"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":12963170,"title":"Stop NSTableView beep when using type-select","body":"<p>How can I disable the System Beep sound when the user uses type select on an NSTableView that does not match a row or causes an error?  The use case for the app means the user would quite often mistype and as such the beep becomes annoying very quickly.</p>\n\n<p>I was told to look at subclassing (NSTableView) and overriding KeyDown but I am not sure what I need to do next.</p>\n"},{"tags":["objective-c","xcode","osx","cocoa","nsmetadataquery"],"answer_count":1,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":59,"score":4,"question_id":12708104,"title":"How to limit NSMetadataQuery search results","body":"<p>I am performing spotlight like search using NSMetadataQuery, the problem i am facing is that i am not able to restrict NSMetadataQuery from searching the particular hidden folder like /Users/username/Library (as library is hidden folder).</p>\n\n<p>Any help would be appreciated. </p>\n"},{"tags":["objective-c","xcode","osx","cocoa","osx-mountain-lion"],"answer_count":7,"favorite_count":1,"up_vote_count":5,"down_vote_count":0,"view_count":688,"score":5,"question_id":11055146,"title":"How to know what Mac OS the app is running on?","body":"<p>I've seen in some projects something like:</p>\n\n<pre><code>#if .....\n    code...\n#endif\n</code></pre>\n\n<p>but i can't find it now...<br>\nLet's say, for example, if the app is running on 10.8 the app does 1 thing, if not the app does other thing.\nWhats to code to check if it's running on 10.8?\n<br>Thanks.</p>\n"},{"tags":["osx","cocoa","nstimer","nsviewcontroller","nstabview"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":3,"view_count":49,"score":-2,"question_id":12968786,"title":"Cocoa App. (MAC) is very slow","body":"<p>I am using a timer based application, where i am running 3 timers continuously in main run loop, so that the timer will continuously runs in case of any UI updates. But after some time (Approx 1 hour), my application hangs, not event the buttons etc are pressed.It tooks at least 10-15 seconds to respond.</p>\n\n<p>I want to know what are the lagging causes in MAC cocoa application. I am working on a timer based app. so i need multiple timers to run. I invalidates also, when of no use. But it still didn't helps me out.</p>\n\n<p>Please guide for any performance debug too for mac, so that i can check where my code is creating issue etc?</p>\n\n<p>Code:</p>\n\n<pre><code>NSRunLoop *runloop = [NSRunLoop currentRunLoop]; \nupdateServerTimeTimer = [NSTimer timerWithTimeInterval:1.0 \n                                                target:self\n                                              selector:@selector(updateServerTime)\n                                              userInfo:nil \n                                               repeats:YES]; \n[runloop addTimer:updateServerTimeTimer forMode:NSRunLoopCommonModes];\n</code></pre>\n"},{"tags":["xcode","osx","cocoa"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":12962015,"title":"How to drag image into Mac app?","body":"<p>I'm building a Mac app. I want to be able to drag an image into my app and then press a button to resize the image into a smaller dimension. Then, I will export the image back to the original folder it came from. (Similar to the app Prepo)</p>\n"},{"tags":["objective-c","osx","cocoa"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":12966941,"title":"OS X: Get mouse button position of button greater then the three standard buttons","body":"<p>Is there an easy way to find out if a button on a multi-button mouse (has more then three buttons) is clicked?</p>\n\n<p>e.g. the fifth button on a five button mouse.</p>\n\n<p>I know it is possible, because apps like USB Overdrive and Smart Scroll do it...</p>\n"},{"tags":["cocoa","animation","nstoolbar","nstoolbaritem"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":12174472,"title":"how to implement the NSToolbarItem Animation like evernote","body":"<p>I want to implement an animation which is like the sync animation of evernote app on Max OS X.</p>\n\n<p>The button looks like:\n<img src=\"http://i.stack.imgur.com/uETff.png\" alt=\"enter image description here\"></p>\n\n<p>When the animation runs, only is the white arrow rotating.</p>\n\n<p>I tried to use <code>Core Animation</code>, and the steps are following:</p>\n\n<p>1 I dragged a <Code>NSButton</code> to the tool bar and set it to an outlet aBtn. I set the blue blackground image  to the aBtn.</p>\n\n<p>2 I created a <code>CALayer</code> instance variable aLayer and add it to the aBtn. So it can look like the button above.</p>\n\n<p>3 when aBtn was clicked, I add the rotation animation the aLayer. It run perfectly well.</p>\n\n<p>The problem is when I want to customize the tool bar, the aBtn shown in the tool bar palette didn't have the aLayer and only had the blue background image. </p>\n\n<p>Then I tried to find the event or notification for the showing or closing of the tool bar palette. As a result I can reset the image of the aBtn before the tool bar palette was shown or hidden.However, I couldn't be notified when the tool bar palette was closed.</p>\n\n<p>Could any one give any suggestion?</p>\n\n<p>If you have good idea about how to implement this animation, please let me know.</p>\n\n<p>Thanks!</p>\n"},{"tags":["osx","cocoa"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":299,"score":0,"question_id":7599168,"title":"Flipped NSView mouse coordinates","body":"<p>I have a subclass of NSView that re-implements a number of the mouse event functions. For instance in mouseDown to get the point from the NSEvent I use:</p>\n\n<pre><code>NSEvent *theEvent; // &lt;- argument to function\n\nNSPoint p = [theEvent locationInWindow];\np = [self convertPoint:p fromView:nil];\n</code></pre>\n\n<p>However the coordinates seem to be flipped, (0, 0) is in the bottom left of the window?</p>\n\n<p>EDIT: I have already overridden the isFlipped method to return TRUE, but it has only affected drawing. Sorry, can't believe I forgot to put that straight away.</p>\n"},{"tags":["cocoa","nswindow","nspanel","responder-chain"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":12965798,"title":"Prevent Escape key from closing an NSPanel with a close box","body":"<p>Does anyone know the best way to prevent an escape key from closing an NSPanel when it's the key window? My panel is a child window and I want it to behave a little more like semi-permanent part of the window, more like a drawer, and for the text controls in it I want to have the Escape key cancel editing.</p>\n\n<p>I override the NSPanel and can catch keyDown:. Thinking I just needed to bypass NSPanel's special case for Escape, I tried forwarding the call to NSWindow's keyDown: instead of super,  but same result. Was that even reasonable to try?</p>\n\n<p>Today I finally found more about windows and the Escape key in the Cocoa documentation ... in NSResponder class reference under cancelOperation: where it says \"the window sends a default action message of cancelOperation: to the first responder and from there the message travels up the responder chain\". I'm thinking that I need to make keyDown: in my NSPanel subclass do that.</p>\n\n<p>My knowledge of in's &amp; out's of the responder chain is shameful considering that I've been doing OS X work for as long as I have. I'm thinking my panel's keyDown: should just do this:</p>\n\n<pre><code>[self.firstResponder cancelOperation:self]\n</code></pre>\n\n<p>I would think this would let my text field handle the escape how it normally expects, and maybe no text field was first responder, the call would dead end. However, I tried it and the panel simply closes just like before. Does anyone know what's wrong with my attempt and what I should try instead?</p>\n"},{"tags":["javascript","objective-c","cocoa","firefox-addon"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":358,"score":0,"question_id":1791062,"title":"How to create a Firefox add-on using Objective-C on Mac OS X?","body":"<p>More precisely my goal is to create an add-on (or plug-in?) which is able to communicate with my main Cocoa application using something like the <code>NSDistributedNotificationCenter</code>. I need to be able to inject JavaScript code into the current webpage and get return values from the JS calls when my add-on receives the request to do so by my main application. Then I need to pass the return values back to my main application for processing.</p>\n\n<p>Alternatively if there is a simple way to call JS in the active Firefox webpage and get return values that would also do the job.</p>\n\n<p>If you want more info on why I want to do this, you can look at my other question: <a href=\"http://stackoverflow.com/questions/1711342/how-to-send-javascript-code-to-ie-using-c-net-3-5-run-it-then-get-a-string\">http://stackoverflow.com/questions/1711342/how-to-send-javascript-code-to-ie-using-c-net-3-5-run-it-then-get-a-string</a></p>\n\n<p>Note that I'm not only interested in knowing how to make a Firefox add-on but also in everything I talked about above. For example, how to inject JS into the active webpage, etc.</p>\n\n<p>I'd like guidance on what technologies to use, tutorials and sample code if possible. The best would be a sample Xcode project but I'm not counting on this :P</p>\n\n<p>Thanks in advance!</p>\n\n<p>N.B: I'm working on 10.4.</p>\n"},{"tags":["objective-c","cocoa","nspredicateeditor"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":72,"score":1,"question_id":10072076,"title":"NSPredicateEditor not resizes NSTextField","body":"<p>Is there a workable way to make <code>NSPredicateEditor</code> resize <code>NSTextField</code>?</p>\n\n<p>All I got is to subclass <code>NSPredicateEditorRowTemplate</code> and write in my class the following function:</p>\n\n<pre><code>- (void)setTextFieldFrameWithPredicateEditor:(NSPredicateEditor *)predicateEditor{\n    NSArray *arr = [self templateViews];\n    NSView *view = [arr lastObject];\n    NSSize needSize = NSMakeSize(NSMaxX(predicateEditor.frame), 17);\n    [view setFrameSize:needSize];\n}\n</code></pre>\n\n<p>There is no effect from setting anchors(margins) by <code>[view setAutoresizingMask:(NSViewMaxXMargin | NSViewWidthSizable)]</code></p>\n\n<p>I call this function every time the show NSPredicateEditor by pressing a button, and every time in function <code>-(IBAction)predicateEditorChanged:(NSPredicateEditor *)sender</code>. It seems working correctly, but when many times I change the settings NSPredicateEditor at some time resizing starts to work not correct.</p>\n\n<p>Any help please.</p>\n"},{"tags":["objective-c","cocoa"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":12951998,"title":"Try to create NSString from bytes. It always returns an empty string","body":"<p>I am trying to create a string from bytes a received via network. The NSString I het is always an empty one.</p>\n\n<pre><code>if (stringLength &gt; 0) {\n        NSData *bytes = [[NSData alloc] initWithBytes:data+1 length:stringLength];\n        result = [[NSString alloc] initWithData:bytes encoding:NSUTF8StringEncoding];\n        //result = [[NSString alloc] initWithBytes:data+1 length:stringLength encoding:NSASCIIStringEncoding];\n    }\n</code></pre>\n\n<p>As I said I get an empty NSString. The string is a base64 encoded value so it should be valid utf-8 since it only contains ascii symbols.</p>\n"},{"tags":["objective-c","ios","cocoa"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":62,"score":1,"question_id":12963287,"title":"NSMutableDictionary setObjetct forKey id NSString","body":"<p>Frankly, it is rather a detail question. \nApples documentation of NSMutableDictionary <a href=\"https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/Foundation/Classes/NSMutableDictionary_Class/Reference/Reference.html\" rel=\"nofollow\">https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/Foundation/Classes/NSMutableDictionary_Class/Reference/Reference.html</a> states: </p>\n\n<pre><code>setObject:forKey:\nAdds a given key-value pair to the dictionary.\n- (void)setObject:(id)anObject forKey:(id)aKey\n</code></pre>\n\n<p>According to that the parameter <code>forKey</code> accepts any object. However, when I try to pass an NSNumber <code>Incompatible pointer types sending 'NSNumber *' to parameter of type 'NSString *'</code>\nAparently some NSString only is accepted as key. </p>\n\n<p>For the time beeing I will convert my number to a string. In the end it is just a key. But does anybody know who is right? The documentation or the compiler? </p>\n"},{"tags":["java","objective-c","cocoa","delegates","listener"],"answer_count":4,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":1164,"score":5,"question_id":6102812,"title":"Objective-C delegates vs Java listeners","body":"<p>I've read a bunch of articles and readings on Objective-C delegates, trying to understand them.  Coming from Java, they seem very much like Java listeners.  For example, let's say I had a button in Java.  When the button is pushed, I want something to happen.  My code might look something like this:</p>\n\n<pre><code>ButtonListener myButtonListener = new ButtonListener();    \nsomeButton.addActionListener(myButtonListener);\n...\n\nclass ButtonListener implements ActionListener\n{\n   public void actionPerformed(ActionEvent e)\n   {\n\n    }\n}\n</code></pre>\n\n<p>Something like that.  In objective-c it seems that I would do something along the lines of calling a setDelegate method for my button and passing it the \"listener\" as a delegate.  The actual button class would then probably check if that delegate responded to some selector (ie. actionPerformed).  If I'm thinking about this the right way, it does seem like delegates are just like listeners.  Is that correct?  Are there any major differences?</p>\n\n<p>Thanks!</p>\n"},{"tags":["objective-c","osx","cocoa","nsuserdefaults","cocoa-bindings"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":50,"score":1,"question_id":12922161,"title":"NSUserDefault Registered defaults initial display in NSMenuItem bindings","body":"<p>What is the order of operations you need to execute in order for NSMenuItem(s) that are bound to NSUserDefault keys to display the registered default values?</p>\n\n<p>I am registering the default values, but my NSMenuItems are not showing up with the default's that I registered when I launch my app.</p>\n"},{"tags":["objective-c","c","cocoa-touch","cocoa"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":86,"score":0,"question_id":12960552,"title":"How to use pure C files in an objective-c project?","body":"<p>Simple question:</p>\n\n<p>I have created a bunch of C helper routines and am trying to include them in a project. I had assumed something like the following would be ok.</p>\n\n<p>MyFuncs.h</p>\n\n<pre><code>typedef struct\n{\n    float n;\n} MyStruct;\n\nfloat Operation(MyStruct ms);\n</code></pre>\n\n<p>MyFuncs.m</p>\n\n<pre><code>#import \"MyFuncs.h\"\n\nfloat Operation(MyStruct ms)\n{\n    return ms.n * ms.n;\n}\n</code></pre>\n\n<p>However, I'm getting a linker error \"Undefined symbols for architecture i386\" and \"Operation(MyStruct) referenced from x\"</p>\n\n<p>Is there some other way that header/implemenation C files need to be set-up to work?</p>\n\n<p>Note: This is for an iOS project using Xcode 4.5.</p>\n"},{"tags":["objective-c","cocoa","nsstring","nsarray"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":46,"score":-1,"question_id":12960364,"title":"Comparing an NSArray of NSStrings with another NSArray of NSStrings","body":"<p>I have two <code>NSArray</code>s each containing <code>NSString</code>s. I need to test whether the two arrays are equal. In this instance, equality means not that the arrays contain the same objects, but that each object returns true for <code>isEqualToString</code> when compared its counterpart. The arrays are also not equal if one contains more items than the other, or the order of the items is different.</p>\n\n<p>Can I assume <code>isEqualToArray</code> won't help me here?</p>\n\n<p>Similarly, I don't see an approach using <code>NSSet</code> that would fulfill all of the criteria.</p>\n\n<p>How might I test the equality of these two arrays?</p>\n"},{"tags":["cocoa"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":375,"score":-1,"question_id":9559422,"title":"NSAlert Close Alert Programmatically when using beginSheetModalForWindow:","body":"<p>I'm trying to close a modal alert sheet programmatically when called like this:</p>\n\n<pre><code>[alert beginSheetModalForWindow:contacts modalDelegate:self didEndSelector:@selector(myAlertEnded:code:context:) contextInfo:NULL];\n</code></pre>\n"},{"tags":["iphone","objective-c","cocoa","cocoa-touch"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":6177,"score":0,"question_id":695843,"title":"NSString Compare Not Working in Objective-C","body":"<p>Following is Objective-C code where I'm trying to do a compare between two NSString values, however it throws a runtime error. Here's the code:</p>\n\n<pre><code>NSDictionary *innerContent=[JSONResponseDict valueForKey:@\"JSONRESPONSE\"];\nNSString *authFlag = [innerContent valueForKey:@\"authenticationFlag\"];\n\nNSLog(@\"authFlag = %@\",authFlag);\n\nUIAlertView *alert = [[UIAlertView alloc]\n                      initWithTitle:nil\n                      message: [NSString stringWithFormat:@\"authenticationFlag = %@\",authFlag]\n                      delegate:self\n                      cancelButtonTitle:@\"OK\"\n                      otherButtonTitles:nil];\n[alert show];\n[alert release];\n\n// This block is problematic\nif ( [authFlag isEqualToString:@\"1\"]){\n    NSLog(@\"Logged in\");\n    self.view = homeView;\n} else {\n    NSLog(@\"Not logged in\");\n}\n</code></pre>\n\n<p>Note that the NSString authFlag has been tested as indeed having a valid string value. authFlag either has a value of \"1\" or \"0\" (it's gotten from a response to a JSON call using json-framework). </p>\n\n<p>Here's the runtime error:</p>\n\n<pre><code>[Session started at 2009-03-29 19:21:00 -0700.]\n2009-03-29 19:21:11.186 taggle[4144:20b] userEmail=user@domain.com&amp;password=opensesame\n2009-03-29 19:21:11.653 taggle[4144:20b] authFlag = 1\n2009-03-29 19:21:11.655 taggle[4144:20b] *** -[NSCFBoolean isEqualToString:]:       unrecognized selector sent to instance 0xa089c400\n2009-03-29 19:21:11.661 taggle[4144:20b] *** Terminating app due to uncaught exception 'NSInvalidArgumentException', reason: '*** -[NSCFBoolean isEqualToString:]: unrecognized selector sent to instance 0xa089c400'\n</code></pre>\n"},{"tags":["cocoa","nsview","nib"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":251,"score":3,"question_id":8613306,"title":"Cocoa: Adding a subview to a view from a different class and nib","body":"<p>If i have two nibs with several views, is there a way for me to use the addSubview: method between them? What I would like to do is take a view from one of the nibs and tell it to add a subview that would be a view in the other nib file.</p>\n\n<p>The reason I have them in separate nibs is because the subview from the second nib will be added several times, using the same template but different parameters.</p>\n"},{"tags":["objective-c","cocoa","mobile","calayer"],"answer_count":1,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":230,"score":4,"question_id":6241023,"title":"CAOpenGLLayer has clipped image","body":"<p>I am struggling with CAOpenGLLayer.</p>\n\n<p>My problem is, when I resize window smaller than initial size, internal image is clipped (top or right part is gone). I have tried to adjust glViewport() or glOrtho(), but it does not work. Please give me advise.</p>\n\n<pre><code>#import &lt;Cocoa/Cocoa.h&gt;\n#import \"MyOpenGLLayer.h\"\n\n@interface CALayerTestAppDelegate : NSObject &lt;NSApplicationDelegate&gt; {\n    NSWindow *window;\n}\n@property (assign) IBOutlet NSWindow *window;\n@end\n\n@implementation CALayerTestAppDelegate\n@synthesize window;\n- (void)applicationDidFinishLaunching:(NSNotification *)aNotification\n{\n    [[window contentView] setWantsLayer:YES];\n    CALayer *contentLayer = [[window contentView] layer];\n    MyOpenGLLayer *layer = [MyOpenGLLayer layer];\n    [contentLayer addSublayer:layer];\n\n    layer.contentsGravity = kCAGravityCenter;\n    layer.bounds = contentLayer.bounds;\n    layer.frame = contentLayer.frame;\n    layer.autoresizingMask = kCALayerWidthSizable | kCALayerHeightSizable;\n    layer.asynchronous = YES;\n}\n@end\n</code></pre>\n\n<p>With following CAOpenGLLayer subclass:</p>\n\n<pre><code>@interface MyOpenGLLayer : CAOpenGLLayer \n@end\n\n@implementation MyOpenGLLayer\n- (void)drawInCGLContext:(CGLContextObj)glContext \n         pixelFormat:(CGLPixelFormatObj)pixelFormat \n        forLayerTime:(CFTimeInterval)timeInterval \n         displayTime:(const CVTimeStamp *)timeStamp {\nNSRect bounds = NSRectFromCGRect([self bounds]);\nGLfloat minX, minY, maxX, maxY;        \nminX = NSMinX(bounds);\nminY = NSMinY(bounds);\nmaxX = NSMaxX(bounds);\nmaxY = NSMaxY(bounds);\n\nglMatrixMode(GL_MODELVIEW);\nglLoadIdentity();\nglMatrixMode(GL_PROJECTION);\nglLoadIdentity();\n\nglViewport(minX, minY, maxX, maxY);\nglOrtho(minX, maxX, minY, maxY, -1.0, 1.0);\n\nglClearColor(0.0, 0.5, 0.5, 1.0);         \nglClear(GL_COLOR_BUFFER_BIT);\n\nconst size_t unit = 40;\nfor (int x = 0; x&lt;[self bounds].size.width; x+=unit) \n    for (int y = 0; y&lt;[self bounds].size.height; y+=unit)\n        if ((x + y)/unit &amp; 1) \n            glRectd(x, y, x+unit, y+unit);\nglFlush();\n\n[super drawInCGLContext:glContext pixelFormat:pixelFormat \n           forLayerTime:timeInterval displayTime:timeStamp];\n}\n@end\n</code></pre>\n"},{"tags":["objective-c","cocoa","ios","caching"],"answer_count":2,"favorite_count":12,"up_vote_count":31,"down_vote_count":0,"view_count":7340,"score":31,"question_id":5755902,"title":"How to use NSCache","body":"<p>Can someone give an example on how to use NSCache to cache a string? \nOr anyone has a link to a good explanation? I can't seem to find any..</p>\n"},{"tags":["cocoa","osx-snow-leopard","arc4random"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":102,"score":1,"question_id":8044332,"title":"cocoa arc4random OS X 10.6","body":"<p>I have created a simple Custom View Application for Lion. Now a friend tested it using Snow Leopard and couldn't launch it. Sadly I don't have the Exception. The only thing I know is, that it's about the function-call of arc4random, which is not available in her version.\nI actually can't imagine, that such an essential function was introduced in Lion (yeah, im rather new to cocoa...), so do you guys have any idea, what that could be about?\nI'll try to get the Exception Details, but I am pretty much under time pressure...</p>\n"},{"tags":["cocoa","nstableview","nstablecellview"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":12578679,"title":"change image background color when click a tableCellView","body":"<p>I implement a bubble chat view using method NSDrawNinePartImage in a custom view called BubbleChatImageView. A NSTextField which is a subview of BubbleChatImageView to display chat record. What I need to do is after I click BubbleChatImageView, it change its background color to blue and the color of text to white like table selection. </p>\n\n<p>How to do it?</p>\n"},{"tags":["iphone","objective-c","cocoa","interface-builder"],"answer_count":6,"favorite_count":4,"up_vote_count":13,"down_vote_count":0,"view_count":46334,"score":13,"question_id":888668,"title":"Get text of button from IBAction - iPhone","body":"<p>When an IBAction is called:</p>\n\n<pre><code>-(IBAction) onClick1: (id) sender;\n</code></pre>\n\n<p>What is passed in the sender?  Since it's hooked up through the IB, I'm not really sure.  My question is how to get the text of the button to be the passed object (NSString most likely) so that I could call it inside the action implementation.</p>\n\n<pre><code>-(IBAction) onClick1: (id) sender {\n  NSLog(@\"User clicked %@\", sender);\n  // Do something here with the variable 'sender'\n}\n</code></pre>\n"},{"tags":["objective-c","cocoa"],"answer_count":3,"favorite_count":1,"up_vote_count":3,"down_vote_count":3,"view_count":2555,"score":0,"question_id":915206,"title":"Can I write to XML file in an Objective-C application?  ","body":"<p>I want to write some data in XML file. I can read in XML file but how can I write this?</p>\n"},{"tags":["objective-c","cocoa"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":32,"score":1,"question_id":12910386,"title":"Splitting a Controller into Categories for purpose of simplicity","body":"<p>I'm working on an <code>NSWindowController</code>, which is quickly starting to grow large. One of the nice things about the controller I'm working on, however, is that it's fairly sectional - parts of it could be separated logically.</p>\n\n<p>I would like to split this Controller into categories, to make it easier to find things. What is the general consensus regarding using a category for this purpose? Is there one? Are there examples of Apple actually using similar patterns?</p>\n"},{"tags":["objective-c","cocoa","color-picker","nscolor"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":12947335,"title":"How to get Color Grid (Same as text Edit in MAC) using cocoa","body":"<p>I dont want to use Color well to select color in my application . i want to use color grid same as text edit have for color selection.  Any suggestions on to solve this issue would be appreciated.</p>\n"},{"tags":["osx","cocoa","cgaffinetransform"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":32,"score":1,"question_id":12952727,"title":"CGAffineTransform from NSString","body":"<p>How can I obtain a <code>CGAffineTransform</code> from a <code>NSString</code> in Cocoa?</p>\n\n<p>On iOS there is <code>CGAffineTransformFromString</code>.</p>\n"},{"tags":["objective-c","cocoa","nstableview","nsview","nsoutlineview"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":22,"score":1,"question_id":11927297,"title":"How to use Two NSOutlineview in one view?","body":"<p>How to use Two NSOutlineview in one view ?\n if i am using rowAtpoint() method in one NSoutlineview i m getting proper result, but on another NSoutlineview which is in same view not giving proper result</p>\n"},{"tags":["iphone","cocoa","cocoa-touch","osx","nsstring"],"answer_count":4,"favorite_count":4,"up_vote_count":6,"down_vote_count":0,"view_count":3964,"score":6,"question_id":2579544,"title":"NSString's stringByAppendingPathComponent: removes a '/' in http://","body":"<p>I've been modifying some code to work between Mac OS X and iPhone OS.</p>\n\n<p>I came across some code that was using <code>NSURL</code>'s <code>URLByAppendingPathComponent:</code> (added in 10.6), which as some may know, isn't available in the iPhone SDK.</p>\n\n<p>My solution to make this code work between OS's is to use</p>\n\n<pre><code>NSString *urlString = [myURL absoluteString];\nurlString = [urlString stringByAppendingPathComponent:@\"helloworld\"];\nmyURL = [NSURL urlWithString:urlString];\n</code></pre>\n\n<p>The problem with this is that <code>NSString</code>'s <code>stringByAppendingPathComponent:</code> seems to remove one of the /'s from the http:// part of the URL.</p>\n\n<p>Is this intended behaviour or a bug?</p>\n\n<hr>\n\n<h2>Edit</h2>\n\n<p>Ok, So I was a bit too quick in asking the question above. I re-read the documentation and it <strong>does</strong> say: </p>\n\n<blockquote>\n  <p>Note that this method only works with file paths (not, for example, string representations of URLs)</p>\n</blockquote>\n\n<p>However, it doesn't give any pointers in the right direction for what to do if you need to append a path component to a URL on the iPhone...</p>\n\n<p>I could always just do it manually, adding a /if necessary and the extra string, but I was looking to keep it as close to the original Mac OS X code as possible...</p>\n"},{"tags":["cocoa","nstextview","appkit","nsattributedstring"],"answer_count":3,"favorite_count":3,"up_vote_count":3,"down_vote_count":0,"view_count":3161,"score":3,"question_id":2282629,"title":"How to get height for NSAttributedString at a fixed width","body":"<p>I want to do some drawing of NSAttributedStrings in fixed-width boxes, but am having trouble calculating the right height they'll take up when drawn. So far, I've tried:</p>\n\n<ol>\n<li><p>Calling <code>- (NSSize) size</code>, but the results are useless (for this purpose), as they'll give whatever width the string desires.</p></li>\n<li><p>Calling <code>- (void)drawWithRect:(NSRect)rect options:(NSStringDrawingOptions)options</code> with a rect shaped to the width I want and <code>NSStringDrawingUsesLineFragmentOrigin</code> in the options, exactly as I'm using in my drawing. The results are ... difficult to understand; certainly not what I'm looking for. (As is pointed out in a number of places, including <A HREF=\"http://lists.apple.com/archives/cocoa-dev/2006/Apr/msg01540.html\" rel=\"nofollow\">this</a> Cocoa-Dev thread).</p></li>\n<li><p>Creating a temporary NSTextView and doing:<br>\n<code>[[tmpView textStorage] setAttributedString:aString];<br>\n[tmpView setHorizontallyResizable:NO];<br>\n[tmpView sizeToFit]; </code><br>\nWhen I query the frame of tmpView, the width is still as desired, and the height is often correct ... until I get to longer strings, when it's often half the size that's required. (There doesn't seem to be a max size being hit: one frame will be 273.0 high (about 300 too short), the other will be 478.0 (only 60-ish too short)).</p></li>\n</ol>\n\n<p>I'd appreciate any pointers, if anyone else has managed this.</p>\n"},{"tags":["osx","cocoa"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":12952257,"title":"How to add Cocoa controls inside an NSTextField?","body":"<p>In the OS X System Preferences, there is a pane:</p>\n\n<p><img src=\"http://i.stack.imgur.com/T7uCB.png\" alt=\"System preferences pane\"></p>\n\n<p>The blue labels are draggable, and even accept mouse clicks to display a menu.</p>\n\n<p>What is the nature of these labels?</p>\n"},{"tags":["objective-c","xcode","osx","cocoa","crash-reports"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":75,"score":0,"question_id":12898783,"title":"Stack overflow in release binary but not in Xcode-Debugger","body":"<p>My (Cocoa)-App runs perfectly fine when I start it from within Xcode. However when I archive / release it, that version will crash. The error reporter that pops open says: </p>\n\n<pre><code>[...]    \nCrashed Thread:  0  Dispatch queue: com.apple.main-thread\n\nException Type:  EXC_CRASH (SIGABRT)\nException Codes: 0x0000000000000000, 0x0000000000000000\n\nApplication Specific Information:\n[9082] stack overflow\n\nThread 0 Crashed:: Dispatch queue: com.apple.main-thread\n0   libsystem_kernel.dylib          0x00007fff944a7212 __pthread_kill + 10\n1   libsystem_c.dylib               0x00007fff9290caf4 pthread_kill + 90\n2   libsystem_c.dylib               0x00007fff92950e9e __abort + 159\n3   libsystem_c.dylib               0x00007fff92951d17 __stack_chk_fail + 195\n[...] \n</code></pre>\n\n<p>While it also gives me the line of code where execution stopped, this really does not help me as the exact same code path is executed in debug mode (but succeedes). </p>\n\n<p>So I'm wondering: might it actually be that the stack sizes are different for a release and a debug version? And how big is the stack after all on a Mac (64 bit / Mountain Lion)? I'm not aware of putting insanely much data on the stack...</p>\n\n<p>If I have too much data on the stack, what patterns would I need to avoid to reduce my stack load? </p>\n\n<p><strong>[Update]</strong></p>\n\n<p>ok, I got my App running by adding the <code>-fno-stack-protector</code> flag. (BTW: I'm compiling with LLVM)</p>\n\n<p>Before that, I stepped through the crashing code line by line and found the following bahaviour which I don't understand:\nthe method <code>foo(x)</code> calls <code>bacon(x)</code>. <code>x</code> is 8 and is handed from <code>foo</code> to <code>bacon</code> without modification. Yet when I step into <code>bacon(x)</code>, <code>x</code> suddenly is 4295939448 (each time). If I set <code>-fno-stack-protector</code> the value is correct.</p>\n\n<p>To my naive eyes, this looks as if the stack-protector sets the magic value 4295939448 somewhere in the stack and makes it read-only. And while my functions put their parameters on the stack, at some point parameter <code>x</code> happens to be put on that magic address and thus cannot be written (subsequent parameters seem to be written correctly). In my case <code>x</code> is a buffer length parameter, which naturally leads to a buffer-overflow and crash.</p>\n\n<p>Does somebody have a deeper understanding of the stack-protector? Why is this happening? And in what cases is it safe and legal to disable the stack-protector and in what cases is it dangerous?</p>\n\n<p><strong>[Update 2: Original Code]</strong></p>\n\n<p>This method calls the other <code>Decrypt</code> below. stIVLen at that point is 8</p>\n\n<pre><code>BOOL CEracomSE::Decrypt(\nPBYTE pMsg, size_t stLen,\nconst CSK* pKey /* = NULL */,\nPBYTE pIV /* = NULL */, size_t stIVLen /* = 0 */,\nFBM fbm /* = FBM_CBC */,\nPADDING padding /* = NO_PADDING */\n)\n{\n    //stIVLen == 8\n    return Decrypt( (uint64_t)0, pMsg, stLen, pKey, pIV, stIVLen, fbm, padding ); \n}\n</code></pre>\n\n<p>When <code>Decrypt</code> is called stIVLen is 4295939448, the other parameter are still correct</p>\n\n<pre><code>BOOL CEracomSE::Decrypt(\n    uint64_t qwOffset, \n    PBYTE pMsg, size_t stLen,\n    const CSK* pKey /* = NULL */,\n    PBYTE pIV /* = NULL */, size_t stIVLen /* = 0 */,\n    FBM fbm /* = FBM_CBC */,\n    PADDING padding /* = NO_PADDING */\n    )\n{\n    //stIVLen now is 4295939448\n    BYTE a_iv[16] = {0};\n    size_t a_iv_len;\n    BYTE a_key[32] = {0};\n    size_t a_key_len = 0;\n    size_t nBytes;\n    size_t nDataOffset;\n    size_t nRemainingData = stLen;\n    bool ret;\n    //[...]\n}\n</code></pre>\n"},{"tags":["cocoa","menu","nsmenuitem"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":12950151,"title":"Mac app, menuitem to bring main window to front grayed out on close/minimize","body":"<p>I'm trying to add a menu item to show the main window. It's enabled when the window has not been minimized or closed (yellow - and red x buttons), but when it has, the menu item is grayed out. That is of course useless and silly. :)</p>\n\n<p>Another menu item, File/Page Setup... is NOT grayed out in the same way (on minimize/close). I have found no differences in IB between this menu item and the one I created, except the title. Both are connected to First Responder selectors (runPageLayout: for page setup, and showWindow: for mine), both have keyboard shortcuts, and both are enabled.</p>\n\n<p>Likewise, the parent menu items are identical, except for the title.</p>\n\n<p>How do I make sure this Show Main Window menu item is available when the user has pressed the red x or the yellow - button?</p>\n\n<p><strong>Edit:</strong>\nI made the menu items not gray out by unchecking Auto Enables Items for the parent menu item.</p>\n\n<p>That made this method in the standard NSDocument class for the application be called:</p>\n\n<pre><code>- (IBAction)clickMinimizeButton:(id)sender {\n    NSWindow *ww=[[NSApplication sharedApplication] mainWindow];\n    NSLog(@\"%@\",ww);\n}\n</code></pre>\n\n<p>And ww is a valid object.</p>\n\n<p>The problem is, I can't restore the window from minimized/closed, because the method <em>isn't</em> called when it is.</p>\n\n<p>How do I make this method be called when the window is minimized/closed? I want to simply do the opposite of the minimize or close click.</p>\n\n<p>There's only one window in the app, and clicking the dock icon again does show the window, but Apple requires a menu item to do the exact same thing.</p>\n\n<p>It would seem I have to connect the menu item to a custom, created by me, application method (certainly no application method restores all windows, for example), but I don't know where to declare it, since I'm not as experienced with Cocoa as I am with Cocoa Touch.</p>\n\n<p><strong>Edit 2:</strong>\nGoing from the above, I created a method in the application delegate and connected it to the menu item. This gets the method called even when minimized, but I don't know the correct code to restore the main window. This desperate try of course only activates the app that is already active, not the window that is minimized.</p>\n\n<pre><code>NSApplication *theapp=[NSApplication sharedApplication];\n[theapp activateIgnoringOtherApps:YES];\n</code></pre>\n\n<p>So this is all that is left now. How to emulate the standard \"Bring All to Front\" menu item in a default application? I will have a look at some standard windowed Mac app from Apple. </p>\n\n<p><strong>Edit 3:</strong>\nI created a standard Cocoa Application, and it too grays out all menu items in the Window menu when the window is minimized. But the default NSDocument is automatically added below these, and is not grayed out. I will be happy with such a solution.</p>\n\n<p>For some reason, in my Window menu, my NSDocument does <strong>not</strong> automatically appear. The Info.plists are identical (apart from pointing to differently named NSDocument classes, of course).</p>\n\n<p>How do I </p>\n\n<p>a) programmatically add the document to that menu,</p>\n\n<p>b) get the Window menu to automatically add it as it does in the standard application, or</p>\n\n<p>c) replace my \"damaged\" Window menu (if that is the case) with a Window menu from my standard app that behaves as expected?</p>\n"},{"tags":["ios","ipad","cocoa","uiview","uiviewcontroller"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":12951915,"title":"How to improve user experience when loading a large UIImage?","body":"<p>I am using a large picture (2000x2000, 500kb) as a background image for most of the View Controllers in my iPad app.</p>\n\n<p>The problem is that the app seems to freeze on the parent ViewController while loading the child ViewController with such an image for the first time (later it's faster due to caching I assume).</p>\n\n<p>I would load it in a separate thread, and show some indicator while it's loading, however I know that all UI related operations should be done on the main thread.</p>\n\n<p>Is there a way how I could improve the user experience, so the app does not seem to freeze for approx. 2sec? (tiling the image is not an option in my case)</p>\n"},{"tags":["iphone","objective-c","cocoa","cocoa-touch","iphone-sdk-3.0"],"answer_count":6,"favorite_count":2,"up_vote_count":5,"down_vote_count":0,"view_count":6925,"score":5,"question_id":2474314,"title":"Problem dismissing multiple modal view controllers","body":"<p>I am having trouble getting my modal view controllers to display properly. I <strong>have a parent view controller that is the delegate for modal view A</strong>. In modal view A I am presenting modal view B, and having the delegate dimiss modal view A.</p>\n\n<p>When modal view B appears it seems to display but the screen dims, and the UI locks up, but the app doesn't crash. I set animation settings to NO and I am still getting the same issue.</p>\n\n<p>Order of events:</p>\n\n<ol>\n<li>Parent View show Modal View A</li>\n<li>Modal View A shows Modal View B in Modal View A controller</li>\n<li>Parent View dismisses Modal View A in Modal View A controller via delegation</li>\n<li>This is where my UI hangs, I can see Modal View B but can't click on it, or do anything</li>\n</ol>\n"},{"tags":["objective-c","cocoa","nsmenuitem","nsmenu"],"answer_count":2,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":276,"score":3,"question_id":5292876,"title":"Modify NSMenu structure on each open?","body":"<p>I need to be able to dynamically modify an NSMenu hierarchy each time it is shown (add/remove items etc).  For example:</p>\n\n<ol>\n<li>user starts a tracking session on a main menu and selects a submenu</li>\n<li>detect submenu is about to open and run code to modify it</li>\n<li>keep tracking , user tracks over the same submenu again: goto 2</li>\n</ol>\n\n<p>So to do this I have an object implementing the <em>NSMenuDelegate</em> protocol.  The method <em>menuNeedsUpdate</em> works the first time (2), but does not work for 2nd time the submenu is opened. (Only called once per tracking session)</p>\n\n<p>The method <em>menuWillOpen</em> is called each time, but has docs have the following warning which seems to disqualify using this approach:</p>\n\n<blockquote>\n  <p>Do not modify the structure of the\n  menu or the menu items during this\n  method.</p>\n</blockquote>\n\n<p>Is there any way to accomplish this ?</p>\n"},{"tags":["xcode","cocoa","localization","storyboard"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":123,"score":0,"question_id":12950798,"title":"New Xcode localization workflow using single storyboard","body":"<p>Maybe this is a hot question, but I had a strange issue (or more probably it's me :) ). I'm trying to use the new localization workflo in XCode 4.5. The procedure I'm using is the following:</p>\n\n<ol>\n<li>Create a project</li>\n<li>Localize MainStoryboard with the base language. </li>\n<li>Add new language.</li>\n</ol>\n\n<p>So now I have three folders, for example:</p>\n\n<ol>\n<li>base.lproj</li>\n<li>en.lproj</li>\n<li>it.lprj</li>\n</ol>\n\n<p>I have MainStoryboard.strings in en.lproj and it.lproj.</p>\n\n<p>This is cool... </p>\n\n<p>I noticed that .strings files are not auto filled while I'm modifying the layout (add, remove buttons, labels etc.). </p>\n\n<p>I noticed that the .strings files are filled just when I localize the storyboard. To add new changes I need to remove localization and re-localize. </p>\n\n<p>Doing so I loose my previous changes, i.e. I need to translate all the strings again. </p>\n\n<p>What is wrong in my procedure? </p>\n\n<p>I alos tried using a .sh in the Build Phases section, that auto-update .strings files, but the problem is the same, each time the files are update I loose my translations... (this sounds logic). </p>\n\n<p>Thanks</p>\n"},{"tags":["objective-c","osx","cocoa","nsstatusitem","nsstatusbar"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":71,"score":3,"question_id":12669557,"title":"Mac System Status Bar Focus","body":"<p>I've added a menu to my systemStatusBar by this code:</p>\n\n<pre><code>statusItem = [[[NSStatusBar systemStatusBar] statusItemWithLength:NSVariableStatusItemLength] retain];\n</code></pre>\n\n<p>And then set its properties. The only different it has with other status items (Volume, DateTime, Wi-Fi, BatteryIndicator, ...) is that if I select it and press left or right direction buttons on keyboard I can't navigate to other Items and like wise if I select another status item and press direction keys it will not select my status item and instead it jumps to another statusItem. I was wondering is there a way to fix this issue or is it standard for non OS statusItems?</p>\n"},{"tags":["cocoa","objective-c-category"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12947803,"title":"Is there anything opposite to category of cocoa?","body":"<p>Is there anyway that I can remove a method that is added in category?\nI dont want to subclass or comment that category?\nKindly tell me what will happen if I create a category use it and later on I want not to use it anymore. \nI am new to cocoa, so any help and suggestions please....</p>\n"},{"tags":["objective-c","xcode","image","cocoa","transparent"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":12945829,"title":"A Transparent window without the things inside being transparent","body":"<p>I have been looking all over the internet to find out how to make a window where the window itself isn't there its just a image or a button, for example a free floating image not attached to any windows. I did find the apple roundTransparentWindow page, but it is a bit confusing and really all I would like to know is a image or bu</p>\n"},{"tags":["objective-c","cocoa"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":12948121,"title":"Using Italic string as NSMenuItem's Title","body":"<p>Is there any way, that I can display the <strong>title</strong> of an <strong>NSMenuItem</strong> in <em>italics</em></p>\n"},{"tags":["objective-c","cocoa","app-store","kill","appstore-sandbox"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":12749141,"title":"'Kill'ing an app, from a sandboxed app?","body":"<p>OK, it's as simple as it sounds :</p>\n\n<ul>\n<li>I've got a fully-working app</li>\n<li>I'm trying to 'sandbox' it, as per App Store's current guidelines.</li>\n</ul>\n\n<p>The thing is :</p>\n\n<ul>\n<li>The app is executing in the background (as an <code>NSTask</code>), the <code>/bin/kill</code> command, and when I'm trying to execute it (WITH the sandbox entitlements enabled), I'm getting the following error :</li>\n</ul>\n\n<blockquote>\n  <p>kill: 1298: Operation not permitted</p>\n</blockquote>\n\n<p>Pretty obvious. However, is there ANY way this could be <strong>bypassed</strong> in a Sandbox-compliant app?</p>\n\n<hr>\n\n<p><strong>Hint :</strong> my goal is to be able to kill <code>app B</code>, from <code>app A</code> : is there any other way?</p>\n"},{"tags":["objective-c","xcode","cocoa"],"answer_count":1,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":184,"score":4,"question_id":9969924,"title":"Holes in NSView or NSWindow","body":"<p>IS it possible to cut out parts of a NSWindow or an NSView and make them see through?  I have an NSWindow with an NSView and I want to either:</p>\n\n<p>A) make a hole in the NSWindow to be able to see through it or </p>\n\n<p>B) set my NSWindow background to have a clear color and then make an NSView on top and set a certain part of my NSViews opacity to be able to see through to the desktop.</p>\n\n<p>This is the effect I am trying to create:</p>\n\n<p><img src=\"http://i.stack.imgur.com/R7FEg.png\" alt=\"enter image description here\"></p>\n"},{"tags":["osx","cocoa","sandbox"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":76,"score":3,"question_id":12177948,"title":"How do I detect if my app is sandboxed?","body":"<p>I have an application that is targeted to run in both sandboxed and non-sandboxed MacOS. If a user upgrades from MacOS 10.6 to a later OS I need the user to re-pick folders so I can bookmark them with secure bookmarks.</p>\n\n<p>How do I detect that my application is on an OS that supports sandboxing?</p>\n"},{"tags":["cocoa","drawing","line","nsview"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":831,"score":0,"question_id":5919102,"title":"What's the preferred/recommended way to draw a line in NSView-drawRect: method?","body":"<p>I couldn't found any line drawing primitive in Cocoa at NSView level. The only thing I've been found is <code>NSBezierPath</code>. Is this a preferred way? Or is there another way which I couldn't discovered?</p>\n"},{"tags":["osx","cocoa","quicktime","qtkit"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":18,"score":1,"question_id":12946789,"title":"preview image is not correctly showing the exact frame image after saving the QTMovie to a file in mac os x","body":"<p>i found the strange behaviour while save the QTMovie to a file in a hard drive..(example:Desktop)... it shows the different frame image than the start time frame image as a preview in the desktop..... but if i open the saved QTMovie in a \"Quick Time Player\" it shows the correct frame image at the start time...</p>\n\n<p>i suspect that it might be bug in cocoa ...</p>\n\n<p>here is my code snippet for trim the original movie and save the trimmed movie to a different file:</p>\n\n<pre><code>QTMovie *newmovie;\nNSError *error = nil;\n\nnewmovie = [[QTMovie alloc] initToWritableData:[NSMutableData data] error:&amp;error];\n\n[newmovie setAttribute:[NSNumber numberWithBool:YES] forKey:QTMovieEditableAttribute];\n\nQTTime starttime = QTMakeTimeWithTimeInterval(videostarttime);\nQTTime duration = QTMakeTimeWithTimeInterval(currentclipduration);\n\n\nQTTimeRange range = QTMakeTimeRange(starttime, duration);\n[newmovie insertSegmentOfMovie:mvmovie timeRange:range atTime:QTZeroTime];\n\n\nNSDictionary *dictionary = [NSDictionary \n                        dictionaryWithObjects:\n                        [NSArray arrayWithObjects:\n                         [NSNumber numberWithBool:YES],\n                         [NSNumber numberWithBool:YES],\n                         [NSNumber numberWithLong:kQTFileTypeMP4],  // TODO - allow to select the codec\n                         nil]\n                        forKeys:\n                        [NSArray arrayWithObjects:\n                         QTMovieFlatten, QTMovieExport, QTMovieExportType, nil]];\n\n\n\n\nNSString *fileextn,*underscore,*combinedstring;\n\nclipcount++;\n\n\n\n\nNSString *intString = [NSString stringWithFormat:@\"%d\", clipcount];\nfileextn = @\".MP4 \";\nunderscore = @\"_\";\nintString = [intString stringByAppendingString:fileextn];\n\n\ncombinedstring = [underscore stringByAppendingString:intString];\n\nNSString* filename ;\n\nfilename = [curFileName stringValue].stringByDeletingPathExtension;\n\nfilename = [filename stringByAppendingString:combinedstring];\n\nNSString *result = [[NSHomeDirectory() stringByAppendingPathComponent:@\"Desktop\"] stringByAppendingPathComponent:filename];\n\n\n\n[newmovie writeToFile:result withAttributes:dictionary];\n\n[newmovie release];\n</code></pre>\n\n<p>can anyone please help me to fix this problem?....i dont know what i did wrong... execpt the \"preview frame image of the saved QTMovie file all are working as per the expectation...</p>\n\n<p>Thanks &amp; Regards,\nMuthu</p>\n"},{"tags":["objective-c","cocoa","checkbox","interface-builder","boolean"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":67,"score":1,"question_id":12946464,"title":"Set value of BOOL with checkbox at application startup?","body":"<p>Still pretty new to ObjectiveC and Cocoa here. Hopefully the answer to this question is straight forward but not painfully obvious.</p>\n\n<p>I've got a simple application that uses a couple text fields to setup a couple of strings that are searched for a string in a third text field and the result is displayed in a label. For this exercise I'm using the <code>-rangeOfString</code> method of <code>NSString</code>. To make things more fun I decided to add a checkbox to do case sensitive searches.</p>\n\n<p>That all works great except one thing: The state of the checkbox and the BOOL it \"controls\" are out of sync when the application starts. In IB the checkbox state is set to on. The target of the checkbox's action is a method <code>-(IBAction)checkboxChange</code> which evaluates the checkbox state and sets a BOOL accordingly. The BOOL is created with a value of NO.</p>\n\n<p>Currently I've got a line of code in <code>-awakeFromNib</code> that sets the BOOL to YES. What I'm after is a way to have the checkbox send it's action when the application is loaded so the BOOL is set consistent with the checkbox state. I thought I could use <code>-applicationDidFinishLoading</code> in AppDelegate but I don't know how I'd refer to the checkbox there. I also thought I could set the value of the BOOL in that method but even though I've imported the .h file where the BOOL is defined XCode complains the identifier is undefined.</p>\n\n<p>And should it be relevant, all my code is in a class named AppController and I'm not using the default AppDelegate at all.</p>\n\n<p>Thanks for reading and for your suggestions / answers!</p>\n"},{"tags":["objective-c","cocoa","oop","categories"],"answer_count":6,"favorite_count":0,"up_vote_count":7,"down_vote_count":0,"view_count":5313,"score":7,"question_id":4146183,"title":"Instance Variables for Objective C Categories","body":"<p>I have a situation where it seems like I need to add instance variables to a category, but I know from Apple's docs that I can't do that. So I'm wondering what the best alternative or workaround is.</p>\n\n<p>What I want to do is add a category that adds functionality to UIViewControllers. I would find it useful in all my different UIViewControllers, no matter what specific UIViewController subclass they extend, so I think a category is the best solution. To implement this functionality, I need several different methods, and I need to track data in between them, so that's what led me to wanting to create instance methods.</p>\n\n<p>In case it's helpful, here's what I specifically want to do. I want to make it easier to track when the software keyboard hides and shows, so that I can resize content in my view. I've found that the only way to do it reliably is to put code in four different UIViewController methods, and track extra data in instance variables. So those methods and instance variables are what I'd like to put into a category, so I don't have to copy-paste them each time I need to handle the software keyboard. (If there's a simpler solution for this exact problem, that's fine too--but I would still like to know the answer to category instance variables for future reference!)</p>\n"},{"tags":["cocoa"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":216,"score":2,"question_id":2994859,"title":"How to implement NSTableView class using (MVC) archiciture?","body":"<p>I want to implement MVC architicture in my project. So I have to implement NSObject class for NSTableView.But some delegate method is not called. How to implement this class? Please help me for this issue.</p>\n"},{"tags":["objective-c","xcode","cocoa","api","documentation"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":12944863,"title":"Is there documentation for Apple's Objective C/Cocoa API directly accessible through XCode?","body":"<p>I can't find a way to mouse over or right click Objects and their members and get more information on them than the members they contain (for objects) or the arguments they take (for methods). </p>\n\n<p>Coming from a java background whenever I have a question about anything in Sun's Java API, whether it be an object (like File, or SwingWorker), or a method (like substring(), or readLine()), I can access their documentation in-line with either a ctrl-space or right click in either netbeans or eclipse. </p>\n\n<p>Is there some way to do this in Xcode for Apple's Objective-C/Cocoa API? </p>\n\n<p>Thanks in advance</p>\n"},{"tags":["cocoa","xcode4","interface-builder","nswindow"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":12945455,"title":"Height constraint prevents resizing of NSWindow","body":"<p>I'm trying to get the hang of NSViewConstraints. I like them a lot; they make a lot more sense to me than the previous system.</p>\n\n<p>I have a window, a 22 pixel-tall subview spanning the top of it, and a tabless, borderless NSTabView beneath it. The goal is to have the top subview never resize its height.</p>\n\n<p>Without any constraints, auto formatting takes care of most of the work. The only trouble is resizing the window causes the upper subview to change its height. My seemingly logical response was to pin the height at 22. I left margin constraints alone, since the NSTabView was already handling resizing well.</p>\n\n<p>By pinning the height of the upper subview, the window now refuses to resize vertically! I don't see any documentation anywhere saying this is expected or the logic behind it. I've messed with various constraint configurations to overcome it but nothing works.</p>\n\n<p>Two questions:</p>\n\n<ol>\n<li>Why is pinning the height of one subview freezing window height resizing? What is Xcode's logic?</li>\n<li>What constraint setup will achieve the desired positioning?</li>\n</ol>\n"},{"tags":["cocoa","osx","osx-snow-leopard","deprecated","uti"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":265,"score":1,"question_id":1413136,"title":"pboard types will be deprecated","body":"<p>According to NSPasteboard.h (line 294 in the standard Snow Leopard copy of the Xcode SDK) it states:</p>\n\n<pre><code>/* Use of pboard types should be replaced with use of UTIs.\nPboard types will be deprecated in a future release. */\n</code></pre>\n\n<p>I've tried finding samples of using UTIs as a replacement for pboard types but I can't find anything anywhere that demonstrates how to do this.</p>\n\n<p>Does anyone have any sample code showing how to replace pboard types with UTIs?</p>\n\n<p>Thanks</p>\n"},{"tags":["osx","cocoa","scaling","quicktime","qtkit"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":12922155,"title":"Scaling a QTMovie before appending","body":"<p>Using the <code>QTKit</code> framework, I'm developing a little app.</p>\n\n<p>In the app, I'm trying to append a movie after a other movie, which in essence is already working (most of the time), but I'm having a little trouble with the appended movie. The movie is which I'm appending to is quite big, like 1920x1080, and the appended movie is usually much smaller, but I never know what size it exactly is. The appended movie sort of stays its own size in the previous 1920x1080 frame, as seen here: <img src=\"http://i.stack.imgur.com/lbFuR.png\" alt=\"enter image description here\"></p>\n\n<p>Is there anyone familiar with this? Is there a way I can scale the movie which I need to append to, to the size of the appended movie? There is no reference of such a thing in the documentation.</p>\n\n<p>This is are some relevant methods: \n`QTMovie *segmentTwo = [QTMovie movieWithURL:finishedMovie  error:nil];\n            QTTimeRange range = { .time = QTZeroTime, .duration = [segmentTwo duration] };</p>\n\n<pre><code>        [segmentTwo setSelection:range];\n        [leader appendSelectionFromMovie:segmentTwo];\n\n        while([[leader attributeForKey:QTMovieLoadStateAttribute] longValue] != 100000L)\n        {\n            //wait until QTMovieLoadStateComplete\n        }\n\n        NSDictionary *exportAttributes = [NSDictionary dictionaryWithObjectsAndKeys:\n                                          [NSNumber numberWithBool:YES], QTMovieExport,\n                                          [NSNumber numberWithLong:kQTFileTypeMovie], QTMovieExportType, nil];\n\n        NSString *outputFile = [NSString stringWithFormat:@\"%@.mov\", onderwerp];\n        NSString *filepath = [[@\"~/Desktop\" stringByExpandingTildeInPath] stringByAppendingFormat:@\"/%@\", outputFile];\n        BOOL succes = [leader writeToFile:filepath withAttributes:exportAttributes error:&amp;theError];\n</code></pre>\n\n<p>Leader is initialized like this:</p>\n\n<pre><code>NSDictionary *movieAttributes = [NSDictionary dictionaryWithObjectsAndKeys:path, QTMovieFileNameAttribute, [NSNumber numberWithBool:YES], QTMovieEditableAttribute,  nil];\n\nleader = [QTMovie movieWithAttributes: movieAttributes  error:&amp;error];\n</code></pre>\n"},{"tags":["objective-c","cocoa","sqlite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":12942627,"title":"Cocoa sqlite db file","body":"<p>I'm having a bit of trouble understanding why the below code is not working:</p>\n\n<pre><code>sqlite3_stmt *statement5;\n\nNSString *databasePath2 = @\"default-gameData.db\";\nNSInteger speed_int = 0;\n\nconst char *dbPath2 = [databasePath2 UTF8String];\n\nif(sqlite3_open(dbPath2, &amp;db)==SQLITE_OK){\n    NSString *getspeeds = @\"SELECT * FROM planeInfo\";\n    NSLog(@\"%@\",getspeeds);\n    const char *getspeed_stmt = [getspeeds UTF8String];\n\n    if(sqlite3_prepare_v2(db, getspeed_stmt, -1, &amp;statement5, nil)==SQLITE_OK){\n\n        NSLog(@\"%d\",sqlite3_step(statement5));\n\n        NSString *org_plane_info_id = [[NSString alloc] init];\n\n        while(sqlite3_step(statement5) == SQLITE_ROW){\n            if((const char*)sqlite3_column_text(statement5, 1)==NULL){\n                org_plane_info_id = @\"no\";\n            }\n            else{\n                org_plane_info_id = [[NSString alloc] initWithUTF8String:(const char*)sqlite3_column_text(statement5, 1)];\n            }\n            NSLog(@\"%@\",org_plane_info_id);\n            if(org_plane_info_id==plane_info_id){\n                NSString *speed = [[NSString alloc] initWithUTF8String:(const char*)sqlite3_column_text(statement5, 2)];\n                NSLog(@\"%@\",speed);\n                speed_int = [speed integerValue];\n\n                return speed_int;\n            }\n        }\n    }\n}\nif(speed_int==0){\n    return 0;\n}\nsqlite3_close(db);\n</code></pre>\n\n<p>I've found the source of the problem being the database path, the file is stored where the .h and .m files are so I think that's where I am going wrong, but what do I have to do to get that to work?</p>\n"},{"tags":["osx","cocoa","document-based","multi-window"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":12942273,"title":"Cocoa Multi window application save state","body":"<p>I am having a little trouble with Cocoa multi window application.</p>\n\n<p>I am not writing a data aware application, this is just a test. I have written a few full single window applications.</p>\n\n<p>I don't use core data or anything.  All every window does is to set small text, kind of like stickies.</p>\n\n<p>My trouble is how do I save state, that is, save the text in every window on app exit (and periodically), and how do I restore that window when the app starts again.</p>\n\n<p>Only examples I can find are Core Data one's.</p>\n\n<p>Each MYDocument class has 2 properties, one string which I store UUID and one NSTextField. I have tried many things, but I just can't wrap my head around the save and the reload on start.</p>\n\n<p>Hope someone can give me hand. This application is just an empty shell from a document based template, and MYDocuments class has the two properties. I set the uuid and the textfield is connected.</p>\n\n<p>I don't want to use save panels or anything like that. When you close a window, that window and file is gone for ever, but it has to be able to save and restore on app start and exit.</p>\n"},{"tags":["objective-c","cocoa"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":50,"score":1,"question_id":12941081,"title":"Getting the current year","body":"<p>Just out of curiosity (as this was the first time I've ever needed to calculate it in Cocoa) -<br>\n<strong>Is this <em>really</em> the most concise way to calculate the current year?</strong>  </p>\n\n<pre><code>int thisYear = [[[NSCalendar currentCalendar] \n                components:NSYearCalendarUnit fromDate:[NSDate date]] \n               year];\n</code></pre>\n\n<p>Seems pretty clumsy..</p>\n"},{"tags":["osx","cocoa","sdl","32bit-64bit"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":21,"score":1,"question_id":12940844,"title":"Same code, Same SDK, Same LIBSDL version, Same GCC version with different results (PPC vs Intel)","body":"<p>I have compiled BlueMSX for a Powerbook G4 using Leopard just fine using 10.5 and 10.4 SDKs. Then, I took the same source code and makefile and tried the same on an Intel Mac running Lion. Only adjusted the makefile to point to the new SDK and everything went fine again. But, when running the emulator all colors were completely wrong and also sound was corrupted.</p>\n\n<p>My only suspicious is that there might be a difference with some data type sizes from 32 to 64 bits on SDL. Is there something like that?</p>\n"},{"tags":["c++","objective-c","cocoa","osx","appkit"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":135,"score":2,"question_id":4107580,"title":"How to display a window within a plugin when the pluggable Cocoa app only exposes a C++ API?","body":"<p>I am developing a plugin for FileMaker Pro 11 Advanced on Mac using its C++ plugin API. I want to show an <code>NSWindow</code> on screen that is loaded via an XIB file, but I am unable to get the window to display without setting the \"Visible at Launch\" property of the window to YES in the XIB file.</p>\n\n<p>I am trying:</p>\n\n<pre><code>[window makeKeyAndOrderFront:NSApp];\n</code></pre>\n\n<p>The problem is, this does not make the window appear on screen. I have also tried:</p>\n\n<pre><code>[window makeKeyAndOrderFront:windowController];\n</code></pre>\n\n<p>and:</p>\n\n<pre><code>[window makeKeyAndOrderFront:window];\n</code></pre>\n\n<p>and:</p>\n\n<pre><code>[window makeKeyAndOrderFront:nil];\n</code></pre>\n\n<p>I am very new to Objective-C and Cocoa, so I am still learning basic stuff about creating GUIs on a Mac. However, I am not sure that my window controller, my window, or even <code>NSApp</code> are \"hooked into\" FileMaker Pro;  i.e. I don't know if my <code>NSApp</code> is the same as FileMaker's <code>NSApp</code>. Is this a dumb question?</p>\n\n<p>How does <code>NSWindowController</code> successfully display the window on screen when \"Visible at Launch\" is set to YES? I don't want to continue using that property just to get my window on screen!</p>\n"},{"tags":["osx","cocoa","appkit","nscombobox"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":100,"score":3,"question_id":8440785,"title":"Hide/disable NSComboBox button","body":"<p>Is there a way to hide the pop-up button of an NSComboBox? I can't find anything in the documentation for NSComboBox or NSComboBoxCell. There is a <code>setButtonBordered:</code> method on NSComboBox, but this just changes to an alterate button style.</p>\n\n<p>If I can't hide it, can I at least disable it?</p>\n"},{"tags":["objective-c","osx","cocoa","nsview"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12925287,"title":"How to display multiple images in Cocoa for OSX?","body":"<p>What I'm trying to achieve sounds pretty simple: regular simple window with a text field, view ,and a button.</p>\n\n<p>In the field I'm placing the number (32 for example) and after I hit the button my view should be filled with 32 images. Don't really know how to accomplish this since I'm pretty new to Cocoa development. </p>\n\n<p>So far I was just able to hardcode three NSViews and display 3 images at a time...which is not really what I want. So if anyone have any thoughts or hints I would totally appreciate it!</p>\n\n<p>Thank you </p>\n"},{"tags":["objective-c","cocoa","fonts","appkit"],"answer_count":2,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":182,"score":4,"question_id":9568163,"title":"Xcode-style font picker","body":"<p>I'd like to add a font picker in my app. Xcode's Interface Builder has a great implementation which is used in Xcode's own preferences' window too.</p>\n\n<p>It's the one with a little 'T' button (seemingly) inside the font name text field itself.</p>\n\n<p>Is this a standard cocoa implementation?</p>\n"},{"tags":["objective-c","cocoa"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":78,"score":2,"question_id":12938577,"title":"Why do some Objective-C file names have a minus or plus sign in their name","body":"<p>In a library I want to add to my project, there is a file called NSString-Base64Extensions.h (with NSString-Base64Extensions.m) and one called NSString+PECrypt.h (with NSString+PECrypt.m).</p>\n\n<p>What does this signify?</p>\n"},{"tags":["objective-c","cocoa","nstableview","nsprogressindicator","nstablecellview"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":62,"score":0,"question_id":12357063,"title":"NSProgressIndicator in NSTableCellView","body":"<p>I have an NSTableCellView subclass that contains an NSProgressIndicator.</p>\n\n<p>I have it all updating and animating properly, however it remains greyed out. I suspect this is a view loop issue. </p>\n\n<p>Any thoughts?</p>\n"},{"tags":["objective-c","xcode","cocoa","nsnotificationcenter"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":53,"score":1,"question_id":12932713,"title":"EXC_BAD_ACCESS after NSWindowWillCloseNotification removes window from Array","body":"<p>Say I have a menu button called 'Create window' that creates a new window:</p>\n\n<pre><code>MyWindowClass * window = [MyWindowClass new];\n</code></pre>\n\n<p>In order to retain it, I add it to a mutable array (declared and synthesised as _articleArray = [NSMutableArray new];)</p>\n\n<pre><code>[_articleArray addObject:window]\n</code></pre>\n\n<p>This works great. If I include: </p>\n\n<pre><code>NSLog(@\"Windows in mem: %lu\",_articleArray.count);\n</code></pre>\n\n<p>The number increments each time that I click the button and another window appears on the screen.</p>\n\n<p>Now, if I attach a selector to this 'create window' function to identify when the window closes:</p>\n\n<pre><code>[[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(windowClosed:) name:NSWindowWillCloseNotification object:window];\n</code></pre>\n\n<p>This creates an error:</p>\n\n<pre><code>-(void) windowClosed:(NSNotification*)notification {\n    [_articleArray removeObject:[notification object]];\n    NSLog(@\"Windows in mem: %lu\",_articleArray.count);\n</code></pre>\n\n<p>The NSLog decrements when I close a window as expected, but as soon as the function ends, it throws an EXC_BAD_ACCESS error (code 13, address=0,0)</p>\n\n<pre><code>0x7fff97878710:  movq   24(%rax), %rax\n</code></pre>\n\n<p>I am very confused. The number decrements, so I can only think that the function is working. So what is happening here?</p>\n\n<p>EDIT: (lldb) thread backtrace</p>\n\n<pre><code>* thread #1: tid = 0x1c07, 0x00007fff97878710 libobjc.A.dylib`objc_msgSend_vtable13 + 16, stop reason = EXC_BAD_ACCESS (code=13, address=0x0)\nframe #0: 0x00007fff97878710 libobjc.A.dylib`objc_msgSend_vtable13 + 16\nframe #1: 0x00007fff97571503 Foundation`__NSFireTimer + 80\nframe #2: 0x00007fff993a6da4 CoreFoundation`__CFRUNLOOP_IS_CALLING_OUT_TO_A_TIMER_CALLBACK_FUNCTION__ + 20\nframe #3: 0x00007fff993a68bd CoreFoundation`__CFRunLoopDoTimer + 557\nframe #4: 0x00007fff9938c099 CoreFoundation`__CFRunLoopRun + 1513\nframe #5: 0x00007fff9938b6b2 CoreFoundation`CFRunLoopRunSpecific + 290\nframe #6: 0x00007fff8df260a4 HIToolbox`RunCurrentEventLoopInMode + 209\nframe #7: 0x00007fff8df25e42 HIToolbox`ReceiveNextEventCommon + 356\nframe #8: 0x00007fff8df25cd3 HIToolbox`BlockUntilNextEventMatchingListInMode + 62\nframe #9: 0x00007fff92ce3613 AppKit`_DPSNextEvent + 685\nframe #10: 0x00007fff92ce2ed2 AppKit`-[NSApplication nextEventMatchingMask:untilDate:inMode:dequeue:] + 128\nframe #11: 0x00007fff92cda283 AppKit`-[NSApplication run] + 517\nframe #12: 0x00007fff92c7ecb6 AppKit`NSApplicationMain + 869\nframe #13: 0x0000000100006942 myApp`main + 34 at main.m:13\nframe #14: 0x00007fff9094f7e1 libdyld.dylib`start + 1\n</code></pre>\n"},{"tags":["cocoa","appstore-sandbox"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":87,"score":3,"question_id":12850786,"title":"Mac OS App: How to resolve alias and read original file within sandbox","body":"<p>My mac os app get a NSURL of alias by user interaction (drag &amp; drop), so the app have the permission to read the alias file, but it doesn't have permission to read the origianl file within app sandbox (Mac OS X 10.7/8).</p>\n\n<p>I resolve the alias by  </p>\n\n<pre><code>NSData* bookmark = [NSURL bookmarkDataWithContentsOfURL:aliasURL error:nil];\norigURL = [NSURL URLByResolvingBookmarkData:bookmark\n                                    options:NSURLBookmarkResolutionWithoutUI\n                              relativeToURL:nil\n                        bookmarkDataIsStale:nil\n                                      error:&amp;error];\n</code></pre>\n\n<p>When I try to read origURL file, I get the error: <code>The file couldn’t be opened because you don’t have permission to view it</code>. </p>\n\n<p>I aslo tried call the <code>start/stopAccessingSecurityScopedResource</code> on the origURL but no help. </p>\n\n<p>I also tried resolving bookmark data with <code>NSURLBookmarkResolutionWithSecurityScope</code> option, but get <code>\"The file couldn’t be opened because it isn’t in the correct format.\"</code> error from URLByResolvingBookmarkData method.</p>\n\n<p>So, How do it? Thanks.</p>\n"},{"tags":["cocoa","mac-app-store","appstore-sandbox"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":10517280,"title":"Are apps that bypass the System Print Dialog allowed in the Mac App Store?","body":"<p>Is it allowed (also considering sandboxing) to have your app bypass the system print dialog and directly talk to the printer when you want to publish it through the Mac App Store?</p>\n\n<p>I know that you should use the system print dialog wherever possible. This is a for a special app with special color management requirements, though.</p>\n"},{"tags":["cocoa","nstextview","foundation"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":12743927,"title":"Making selected text bold in an NSTextView","body":"<p>I'm using the following code to make selected text bold in an NSTextView</p>\n\n<pre><code>  [self.textView.attributedString addAttribute:NSFontAttributeName value:[NSFont boldSystemFontOfSize:12] range:self.textView.selectedRange];\n</code></pre>\n\n<p>Where self.textView is an outlet to an NSTextView . Xcode gives a warning that addAttribute may not work as the property is of type NSAttributedString and not NSMutableAttributedString.The code works but is it wrong to do it this way ? If so what is the proper way ? </p>\n\n<p>UPDATE : <br/>\nI found another way of doing this : <br/></p>\n\n<pre><code>NSMutableAttributedString *textFieldText = [self.textView.attributedString mutableCopy];\n[textFieldText addAttribute:NSFontAttributeName value:[NSFont boldSystemFontOfSize:12] range:self.textView.selectedRange];\n[self.textView.textStorage setAttributedString:textFieldText];\n</code></pre>\n\n<p>Since both methods work , I'd like to know which is better.</p>\n"},{"tags":["objective-c","cocoa","nstableview"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":160,"score":1,"question_id":10202813,"title":"Get button's row in view based table","body":"<p>How do you get the row for a button in a view based table when you click the button? The row is not selected when the button is clicked, but I found that if you log sender.superview.superview in the button's action method, I get: NSTableRowView: 0x1001b3a90 - row: 2. So, the row is there in the log, but I don't know how to get at it programmatically. I have the button's action method in a subclass of NSTableCellView.</p>\n"},{"tags":["cocoa","drawing","subclass","nsbuttoncell"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":854,"score":1,"question_id":6398989,"title":"NSButtonCell subclass' button type not working","body":"<p><br>\nI subclassed the NSButtonCell class to give a different look to my button. I have the drawing code working fine. It's a rounded button filled with CGGradients to look like the iTunes playback controls. They are not completely the same, but they resemble enough to me.</p>\n\n<p>Now my problem is the button type. I set the button type in the <code>-[PlayerButtonCell initImageCell:]</code> but I'm not getting it working to only draw the pushed in look when the button is pressed. I present you a piece of my code:</p>\n\n<pre><code>//\n//  PlayerButtonCell.m\n//  DownTube\n//\n\n#import \"PlayerButtonCell.h\"\n\n@implementation PlayerButtonCell\n/* MARK: Init */\n- (id)initImageCell:(NSImage *)image {\n    self = [super initImageCell:image];\n    if(self != nil) {\n        [self setImage:image];\n        [self setButtonType:NSMomentaryPushInButton];\n    }\n    return self;\n}\n\n- (void)drawWithFrame:(NSRect)cellFrame inView:(NSView *)controlView {\n    NSImage *myImage;\n    NSBezierPath *myPath;\n    NSRect myFrame;\n    NSInteger myState;\n\n    myFrame = NSInsetRect(cellFrame , STROKE_WIDTH / 2.0 , STROKE_WIDTH / 2.0);\n    myImage = [self image];\n    myState = [self state];\n\n    NSLog(@\"%d\", [self buttonType]);\n\n    /* Create bezier path */\n    {\n        myPath = [NSBezierPath bezierPathWithOvalInRect:myFrame];\n    }\n\n    /* Fill with background color */\n    {\n        /* Fill code here */\n    }\n\n\n    /* Draw gradient if on */\n    if(myState == NSOffState) {\n        /* Code to draw the button when it's not pushed in */\n\n    } else {\n        /* Code to draw the button when it IS pressed */\n    }\n\n    /* Stroke */\n    {\n        /* Code to stroke the bezier path's edge. */\n    }\n}\n@end\n</code></pre>\n\n<p>As you can see, I check the pushed in status by the <code>[NSButtonCell state]</code> method. But the button cell <b>acts like a check box, as in <code>NSSwitchButton</code></b>. This, I do not want. I want it to momentary light.</p>\n\n<p>Hope someone can help me,<br>\nief2</p>\n\n<p>EDIT:\nI create a button with this code of it is of any use:</p>\n\n<pre><code>- (NSButton *)makeRefreshButton {\n    NSButton *myButton;\n    NSRect myFrame;\n    NSImage *myIcon;\n    PlayerButtonCell *myCell;\n\n    myIcon = [NSImage imageNamed:kPlayerViewRefreshIconName];\n    myCell = [[PlayerButtonCell alloc] initImageCell:myIcon];\n\n    myFrame.origin = NSMakePoint(CONTENT_PADDING , CONTENT_PADDING);\n    myFrame.size = CONTROL_PLAYBACK_SIZE;\n\n    myButton = [[NSButton alloc] initWithFrame:myFrame];\n    [myButton setCell:myCell];\n    [myButton setButtonType:NSMomentaryPushInButton];\n\n    [myCell release];\n\n    return [myButton autorelease];\n}\n</code></pre>\n"},{"tags":["objective-c","xcode","osx","cocoa","interface-builder"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":29,"score":0,"question_id":12934297,"title":"How delete column delimeter in cocoa application?","body":"<p>I`m newbie in Mac OS X programming. Im trying to set columns number to one, but column delimeter in my interface is still there. How can i delete it ?\n<img src=\"http://i.stack.imgur.com/ai6KP.png\" alt=\"Setting columns in Interface Builder\"></p>\n"},{"tags":["objective-c","osx","cocoa","video","mov"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":12935427,"title":"Export frames to video on mac","body":"<p>I managed capturing video frames from a video card using Black Magic SDK.\nI can store the video frames.</p>\n\n<p>What I dont know how is it possible to export (render) a video file from captured frames.\nI would like to create a .mov video from them and store it on HDD.</p>\n\n<p>Thanks for any advice.</p>\n"},{"tags":["objective-c","osx","cocoa"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":12932180,"title":"Restore a NSView previously removed","body":"<p>I have a <code>NSWindowController</code> which contains the root view. The root view has 4 <code>NSButtons</code>, some text and images. Each button is bound to a <code>NSViewController</code>. When I click on one of the buttons, the root view is removed and the view bound to the <code>NSViewController</code> (let's call it the subview) is displayed. In the subview, there is a <code>NSButton</code> which sends a notification to the window controller to restore the root view. Here is my code (I removed most of useless part)</p>\n\n<ul>\n<li><p>WindowController.h</p>\n\n<pre><code>@interface MainWindowController : NSWindowController {\n\nIBOutlet NSView*    myTargetView; // bound to the whole view of the window\nNSView*             viewRoot;\nNSViewController*   myCurrentViewController;\n}\n\n- (IBAction)buttonClicked:(id)sender; // Not shown in the implementation\n- (void)changeViewController:(NSInteger)buttonTag;\n- (void)restoreRootView;\n\n@end\n</code></pre></li>\n<li><p>WindowController.m</p>\n\n<pre><code>- initWithPath:(NSString *)newPath\n{\n  return [super initWithWindowNibName:@\"MainWindow\"];\n}\n\n- (void)windowDidLoad {\n\n   vwRoot = [[[[self window] contentView] subviews] objectAtIndex:0];\n\n    // set up notification observer, will call restoreRootView when receiving notification from NSViewController object\n}\n\n- (void)changeViewController:(NSInteger)buttonTag\n{\n\n  [vwRoot retain];\n\n  [vwRoot removeFromSuperview];\n\n\n  if (myCurrentViewController != nil)\n  [myCurrentViewController release];\n\n switch (buttonTag)\n\n       {\n        case kView1:\n          {\n               View1Controller * viewOneController = [[View1Controller alloc]         initWithNibName:kViewOneTile bundle:nil];\n\n        if (viewOneController != nil) {\n\n               myCurrentViewController = viewOneController;\n            }\n\n        break;\n      }\n\n      case kView2:\n       {\n\n           // and so on...  \n\n       }\n   }\n\n\n   [myTargetView addSubview: [myCurrentViewController view]];\n\n   [[myCurrentViewController view] setFrame: [myTargetView bounds]];\n\n }\n\n\n- (void)restoreRootView {\n\n\n   [[myCurrentViewController view] removeFromSuperview];\n\n    [myTargetView addSubview:vwRoot];\n\n   [[vwRoot setFrame:[myTargetView bounds]];\n }\n</code></pre></li>\n</ul>\n\n<p>Unfortunately, when <code>restoreRootView</code> is called, the <code>NSViewController</code>'s view is removed, but the root view is not displayed.</p>\n"},{"tags":["php","mysql","objective-c","cocoa","nsstringencoding"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":12927168,"title":"MySQL to PHP to NSData to NSString - Where has my UTF8 encoding gone wrong?","body":"<p>I'm trying to write a simple PHP web service as a bridge between a MySQL database on my web server and an Objective-C Cocoa desktop app. Every link in the chain is working in UTF-8, as best as I can tell, but I can't seem to get the non-standard characters to display in Cocoa; instead, my interface elements show only the escapes.</p>\n\n<p>I'm open to any solution that lets me fix this problem at any stage; I'm writing the PHP and the Obj-C side, so I should be able to deal with problems on the server side or on the client side. I just don't know which mole to whack at this point.</p>\n\n<p><strong>The Database</strong></p>\n\n<p>The information is coming from a table in a MySQL database; the database collation and each field are set to utf_general_ci.</p>\n\n<p><strong>PDO</strong></p>\n\n<p>My PHP web service fetches the data using PDO:</p>\n\n<pre><code>    $pdo = new PDO('mysql:host=mysql.hostname.com;dbname=tst_data_model', 'user', 'password', array(PDO::MYSQL_ATTR_INIT_COMMAND =&gt; \"SET NAMES utf8\"));\nif ($pdo) {} else {die();}\n\n$stmt = $pdo-&gt;prepare(\"SELECT * FROM team\");\n$stmt-&gt;execute();\n</code></pre>\n\n<p><strong>PHP</strong></p>\n\n<p>I then echo the data:</p>\n\n<pre><code>header('Content-Type: text/html; charset=utf-8'); \necho(\"&lt;TEAM&gt;\\r\");\necho(\"&lt;team_id&gt;{$row['team_id']}&lt;/team_id&gt;\\r\");\necho(\"&lt;name_full_native&gt;{$row['name_full_native']}&lt;/name_full_native&gt;\\r\");\necho(\"&lt;name_short_native&gt;{$row['name_short_native']}&lt;/name_short_native&gt;\\r\");\necho(\"&lt;name_full_english&gt;{$row['name_full_english']}&lt;/name_full_english&gt;\\r\");\necho(\"&lt;name_short_english&gt;{$row['name_short_english']}&lt;/name_short_english&gt;\\r\");\necho(\"&lt;/TEAM&gt;\\r\\r\");\n</code></pre>\n\n<p><strong>NSDATA</strong></p>\n\n<p>The desktop app fetches this data using NSURLConnection:</p>\n\n<pre><code>NSData* returnValue = [NSURLConnection sendSynchronousRequest:teamArrayRequest returningResponse:NULL error:NULL];\n</code></pre>\n\n<p><strong>NSString</strong></p>\n\n<p>Finally, I pull the string out of the data, specifying UTF8 string encoding:</p>\n\n<pre><code>NSString* rVString = [[NSString alloc] initWithData:returnValue encoding:NSUTF8StringEncoding];\n</code></pre>\n\n<p>When I view this string in the debugger, or send it to an NSTextView, all I see are \\u escapes:</p>\n\n<blockquote>\n  <p>Borussia M\\U00f6nchengladbach</p>\n  \n  <p>Quer\\U00e9taro</p>\n  \n  <p>Real Espa\\U00f1a</p>\n</blockquote>\n\n<p>Am I missing something? Where are these escapes coming from?</p>\n"},{"tags":["objective-c","cocoa","interface-builder","nstableview"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":29,"score":1,"question_id":12934400,"title":"Get row of NSPopUpButton in view based NSTableView","body":"<p>I have a view based table view with one row containing NSPopupButtons. When the user changes the popUpButton I need to get get the table row in which this popUpButton is contained.</p>\n\n<p>I first expected to get the row with </p>\n\n<pre><code>NSInteger clickedRow = [tableView rowForView: ((NSPopUpButton*) sender)];\n</code></pre>\n\n<p>But the sender of the action always is a <code>NSMenuItem</code> object not the <code>NSPopUpButton</code>. <code>NSMenuItem</code> however is not a view so I cannot use <code>rowForView</code> with that.</p>\n\n<p>Currently my IBAction looks like this:</p>\n\n<pre><code>- (IBAction)changedPopUp:(id)sender {\n    NSMenuItem* selectedMenuItem = ((NSMenuItem*) sender);\n    NSPopUpButton* popupButton = (NSPopUpButton*)[selectedMenuItem view];\n    NSInteger clickedRow = [tableView rowForView:popupButton];\n    //[...]\n}\n</code></pre>\n\n<p>But the view property is not set automatically and I find it quite inconvenient to set it manually for every NSMenuItem.</p>\n\n<p>Is there no easy way to get the table row?</p>\n"},{"tags":["cocoa","nsurlconnection"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":557,"score":2,"question_id":1775903,"title":"How do I distinguish between NSURLConnections in delegate methods?","body":"<p>I'm writing a RSS feeder and using the NSXMLParser to parse an XML page for me.\nEverything works well.</p>\n\n<p>This is the code that handles the asynchronously connection:</p>\n\n<pre><code>static NSString *feedURLString = @\"http://www.example.com/data.xml\";\nNSURLRequest *request = [NSURLRequest requestWithURL:[NSURL URLWithString:feedURLString]];\nfeed = [[[NSURLConnection alloc] initWithRequest:request delegate:self] autorelease];\n</code></pre>\n\n<p>Now i'm trying to add another website to be parsed using the same code above, but i need to do different action, on a different URL</p>\n\n<p>I'm implementing the delegate function:</p>\n\n<pre><code>- (void)connection:(NSURLConnection *)connection didReceiveData:(NSData *)data {\n</code></pre>\n\n<p>The problem is i can't figure out which website was called, i only got the data.</p>\n\n<p>How can i figure out which URL the connection is resolved to?</p>\n\n<p>For example in the :</p>\n\n<pre><code>- (void)connection:(NSURLConnection *)connection didReceiveResponse:(NSURLResponse *)response {\n</code></pre>\n\n<p>I can check the <code>NSString</code> in <code>NSURL URL</code> that comes from the <code>NSURLResponse</code> but in the above function I can't.</p>\n"},{"tags":["objective-c","cocoa","nscollectionview"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":12933600,"title":"A few issues with NSCollectionView","body":"<p>OK, I'm nowhere near a guru with <code>NSCollectionView</code>s, but - after a lot of struggling - I've managed to get it working. However, I still can't get a few things :</p>\n\n<ul>\n<li><p>I'm setting 1 row + 10 columns for the <code>NSCollectionView</code>. However, when the current layout doesn't fit the 10 columns, the extra items are moved to the row below. How could I do it so that it just displays a scroll bar instead?</p></li>\n<li><p>How can I select items in the <code>NSCollectionView</code>? I've set it to <code>selectable</code> (as <a href=\"http://cocoadev.com/wiki/NSCollectionView\" rel=\"nofollow\">someone suggested</a>), but nothing happened.</p></li>\n</ul>\n\n<p>Any help would be greatly appreciated!</p>\n"},{"tags":["iphone","objective-c","ios","xcode","cocoa"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12932386,"title":"Run ibaction when pickerview item is selected","body":"<p>I'm working in xcode 4 and have some issues with my picker view. I wan't to go to an other view when the selected object of the pickerview equals \"European Sights\" </p>\n\n<p>This is the action that i want to run:</p>\n\n<pre><code>-(IBAction)switchviewMainToQuiz:(id)sender {\n\n\n    if([arrayPickerView objectAtIndex:1] == @\"European Sights\"){\n\n        ViewControllerQuiz *quizView = [[ViewControllerQuiz alloc] initWithNibName:nil bundle:nil];\n\n        [self presentModalViewController:quizView animated:YES];\n\n    }\n    else{\n        lblPickerView.text = @\"werkt niet\";\n    }\n}\n</code></pre>\n\n<p>This is the rest of the code (pickerview code):</p>\n\n<pre><code>- (void)viewDidLoad\n{\n    [super viewDidLoad];\n\n    // Do any additional setup after loading the view, typically from a nib.\n\n    //Put strings in the PickerView and show in label what's selected\n    arrayPickerView = [[NSMutableArray alloc] init];\n    [arrayPickerView addObject:@\"European Sights\"];\n    [arrayPickerView addObject:@\"Flags of the world\"];\n    [arrayPickerView addObject:@\"Something2\"];\n    [arrayPickerView addObject:@\"Something3\"];\n    [arrayPickerView addObject:@\"Something4\"];\n\n    [pickerView selectRow:1 inComponent:0 animated:NO];\n    lblPickerView.text= [arrayPickerView objectAtIndex:[pickerView selectedRowInComponent:0]];\n\n\n}\n\n- (NSInteger)numberOfComponentsInPickerView:(UIPickerView *)pickerView;\n{\n    return 1;\n}\n\n- (void)pickerView:(UIPickerView *)pickerView didSelectRow:(NSInteger)row inComponent:(NSInteger)component\n{\n    lblPickerView.text=    [arrayPickerView objectAtIndex:row];\n}\n\n- (NSInteger)pickerView:(UIPickerView *)pickerView numberOfRowsInComponent:(NSInteger)component;\n{\n    return [arrayPickerView count];\n}\n\n- (NSString *)pickerView:(UIPickerView *)pickerView titleForRow:(NSInteger)row forComponent:(NSInteger)component;\n{\n    return [arrayPickerView objectAtIndex:row];\n\n\n}\n</code></pre>\n\n<p>The picker works and shows the selected item in the label. Someone can help me out?\nThank You</p>\n"},{"tags":["objective-c","xcode","osx","cocoa"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":12931941,"title":"How to use the Colors window in my OS X app?","body":"<p>I'm writing an app, where I'd like to change the fill color of a rectangle by setting new color in the Colors window:</p>\n\n<p><img src=\"http://f.cl.ly/items/2y1b0J2U3B2b1O2E2G2b/Screen%20Shot%202012-10-17%20at%203.31.56%20PM.png\"></p>\n\n<p>When my app is running, I can show this window by pressing ⌘⇧C. I want to connect that window with my ViewController, get the new color that user selected, and use it as the fill color for my NSRect in the <code>drawRect:</code> method.</p>\n\n<p>How can I set and get colors from the Colors window? </p>\n\n<p>Thanks.</p>\n"},{"tags":["objective-c","cocoa","webview"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":590,"score":3,"question_id":7041040,"title":"Get the current URL of Cocoa's WebView","body":"<p>Im new to Cocoa.</p>\n\n<p>I'm trying to extract the URL of the currently loaded webpage in my WebView object.\nI use this WebView to show a login screen and after logging in I have to get some parts of the URL.</p>\n\n<p>I have already tried</p>\n\n<pre><code>[[[[frame provisionalDataSource] request] URL] absoluteString];\n</code></pre>\n\n<p>but this one only works one time, when called while loading. If the loading is complete it returns \"(null)\". The problem is, that it seems like the URL changes while loading the page so i get the wrong URL.</p>\n\n<p>Does anybody know how to get the URL at any time I want?</p>\n\n<p>Thanks</p>\n"},{"tags":["iphone","objective-c","ios","cocoa-touch","cocoa"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":97,"score":1,"question_id":12926544,"title":"Best practice regarding accessing instance properties in Objective-C?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/4142177/difference-between-self-ivar-and-ivar\">Difference between self.ivar and ivar?</a>  </p>\n</blockquote>\n\n\n\n<p>I wonder, if I define an instance variable as property in Obj-C, for example, </p>\n\n<pre><code>@property (copy) NSString *str; \n</code></pre>\n\n<p>and </p>\n\n<pre><code>@synthesize str = _str; \n</code></pre>\n\n<p>should I access it within the instance methods by</p>\n\n<pre><code>_str = @\"ABC\";\n</code></pre>\n\n<p>or should I use the accessor, that is</p>\n\n<pre><code>[self setStr:@\"ABC\"];\n</code></pre>\n\n<p>Is there any general guideline regarding this? </p>\n\n<p>Thanks very much! </p>\n"},{"tags":["iphone","cocoa","cocoa-touch","nsdictionary"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":282,"score":0,"question_id":3748939,"title":"Problem in copying data of one NSDictionary to another","body":"<p>Hello i am having problem in copying data from one NSDictionary to another i used the</p>\n\n<pre><code>[dicForFoodproduct_fromWeb initWithDictionary:dictforfoodproduct];\n</code></pre>\n\n<p>Here it terminates and says \"unrecognized selecter sent to the instance...\" I am getting 5 key values in <code>dictForFoodProduct</code> but am unable to copy that key values into <code>dicForFoodProduct_fromWeb</code>.</p>\n"},{"tags":["objective-c","cocoa","html-parsing"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":42,"score":-1,"question_id":12925410,"title":"html parsing with Objective-C-HMTL-Parser in xcode","body":"<p>I just starting write iOS application (this is my home work) and I does not so good in Objective C, maybe someone could help me.</p>\n\n<p>I have HTML file from this <a href=\"http://www.emhi.ee/index.php?ide=14\" rel=\"nofollow\">http://www.emhi.ee/index.php?ide=14</a></p>\n\n<p>in my application I should use only this table, which consist of 4 day forecast. I tried to use this <a href=\"https://github.com/zootreeves/Objective-C-HMTL-Parser\" rel=\"nofollow\">parser</a></p>\n\n<p>but I really did not understand how I can do my task with it.\nI hope someone could show or explain how do this.</p>\n\n<p>Best wishes, Victoria</p>\n"},{"tags":["objective-c","cocoa"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":2247,"score":0,"question_id":3783748,"title":"How to obtain current timezone in objective c","body":"<p>I need to get time zone for the current location such as -5 or +3 and so on. I am unable to do so. I am using datecomponents:</p>\n\n<pre><code>// Turn the date into Integers\nNSInteger year = [dateComponents year];\nNSInteger month = [dateComponents month];\nNSInteger day = [dateComponents day];\n</code></pre>\n"},{"tags":["objective-c","cocoa","xcode","vim"],"answer_count":3,"favorite_count":1,"up_vote_count":9,"down_vote_count":0,"view_count":1400,"score":9,"question_id":4865552,"title":"What's the best way to use vim for Cocoa development?","body":"<p>First time poster, long time reader. I searched and found no questions that answered this question. If I missed a thread somewhere I apologize.</p>\n\n<p>I've been looking at doing some serious Cocoa development for a few years now. Even attended WWDC back about 5 years ago. With the App Stores making things easier for distribution I figured now is about as good of a time as any.</p>\n\n<p>There's also been a fair amount of discussion regarding Vim lately and how it can increase productivity once you get a good handle on it. So I've purchased a couple books on Vim and bookmarked a dozen or two websites that I've seen lately.</p>\n\n<p>My question is what plugins or whatever could I use with Vim to make developing with Cocoa/ObjC better? </p>\n\n<p>I'm familiar with the <a href=\"http://www.vim.org/scripts/script.php?script_id=2674\">Cocoa.vim</a> plugin, but looking at the site there it hasn't been actively worked on for around 10 months. Before I get used to the features in that plugin I'd rather look at alternatives that have seen more development (if there are any).</p>\n\n<p>That said, I'm interested in any and all tips regarding Vim and Cocoa/ObjC. Any easy ways to integrate them? I know you can set MacVim as the default editor in Xcode. What else might someone be able to do? Doing a Command-R to build&amp;run would be great (Cocoa.vim claims to do this), but again, lack of development makes me cautious. </p>\n\n<p>Thanks,\ngks</p>\n"},{"tags":["objective-c","cocoa","xcode","clang"],"answer_count":6,"favorite_count":1,"up_vote_count":9,"down_vote_count":0,"view_count":3393,"score":9,"question_id":1902021,"title":"Suppressing \"'…' is deprecated\" when using respondsToSelector","body":"<p>I'm supporting 10.4+ by picking the most-current API at runtime:</p>\n\n<pre><code>if ([fileManager respondsToSelector:@selector(removeItemAtPath:error:)])\n    [fileManager removeItemAtPath:downloadDir error:NULL];\nelse\n    [fileManager removeFileAtPath:downloadDir handler:nil];\n</code></pre>\n\n<p>In this case, 10.5 and up will use <code>removeItemAtPath:error:</code> and 10.4 will use <code>removeFileAtPath:handler:</code>. Great, but I still get compiler warnings for the old methods:</p>\n\n<pre><code>warning: 'removeFileAtPath:handler:' is deprecated [-Wdeprecated-declarations]\n</code></pre>\n\n<p>Is there a syntax of <code>if([… respondsToSelector:@selector(…)]){ … } else { … }</code> that hints the compiler (Clang) to not warn on that line?</p>\n\n<p>If not, is there a way to tag that line to be ignored for <code>-Wdeprecated-declarations</code>?</p>\n\n<p><hr></p>\n\n<p>After seeing some of the answers, let me clarify that confusing the compiler into not knowing what I'm doing is not a valid solution.</p>\n"},{"tags":["objective-c","cocoa","nsarray","objective-c-literals"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":12920031,"title":"What is the meaning of @[object1, object2]?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/11759708/what-kind-of-object-does-obj1-obj2-create\">What kind of object does @[obj1, obj2] create?</a>  </p>\n</blockquote>\n\n\n\n<p>Looking at the Master-Detail Template in Xcode, in the App Delegate the <code>SplitViewController</code>'s view controllers are set like so:</p>\n\n<pre><code>self.splitViewController.viewControllers = @[masterNavigationController, detailNavigationController];\n</code></pre>\n\n<p>I don't know what the purpose of the @ sign is before the square brackets. Is this just how <code>NSArray</code>s are made when not using <code>[NSArray arrayWithObjects:]</code>?</p>\n"},{"tags":["objective-c","osx","cocoa","design-patterns","grand-central-dispatch"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":85,"score":0,"question_id":12896191,"title":"Grand Central Dispatch delayed execution design pattern","body":"<p>I am writing an application with a plugin system. Plugins must work on the main thread (this is not part of the question, I'm not looking for a bunch of answers that say I should remove this requirement).</p>\n\n<p>Plugins get initialised asynchronously so the UI doesn't hang for a few seconds on launch, but other code immediately starts to interact with the plugins after launch. This obviously needs to be delayed until the plugins have finished loading.</p>\n\n<p>Here is what I've got so far...</p>\n\n<pre><code>// Create operation queue\ndispatch_queue_t queue = dispatch_queue_create(...);\ndispatch_suspend(queue);\n\n// Load the plugins\ndispatch_group_t group = dispatch_group_create();\nfor each plugin {\n    dispatch_group_async(group, dispatch_get_main_queue(), ^{\n        load...\n    });\n}\ndispatch_group_notify(group, dispatch_get_main_queue(), ^{\n    dispatch_resume(queue);\n});\n\n// Add operations that interact with the plugins\ndispatch_async(queue, ^{\n    dispatch_async(dispatch_get_main_queue(), ^{\n        operation...\n    });\n});\n</code></pre>\n\n<p>This will mean that any operations submitted won't start until the plugins have finished loading, however, any new operations will go through two queues before actually being processed. Is this a large overhead? Would it be worth queueing to begin with, and then swapping out method implementations when ready for one that doesn't bother queueing? This would be more tricky to do and I don't know if it would be worth it.</p>\n\n<p>Finally, is there a better design pattern for this type of problem? Perhaps I should be using NSOperations and NSOperationQueues with dependencies? Or would they have a higher overhead than basic GCD operations?</p>\n"},{"tags":["osx","cocoa"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12891970,"title":"Background app and NSTextField in NSWindow","body":"<p>I hide the dock icon of my Cocoa app with</p>\n\n<pre><code>ProcessSerialNumber psn = { 0, kCurrentProcess };\nTransformProcessType(&amp;psn, kProcessTransformToBackgroundApplication);\n</code></pre>\n\n<p>My code loads a NIB file and displays the window of that NIB (<code>makeKeyAndOrderFront:</code>) when the user clicks on a statusbar menu item. The window contains a NSTextField.</p>\n\n<p>I am not able to enter text into this text field. It seems that the window is not activated correctly.</p>\n\n<p>When not hiding the dock icon with the code mentioned above, text input works fine.</p>\n\n<p>What may be the problem?</p>\n"},{"tags":["objective-c","cocoa","viewdidload","nsimageview"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":5,"view_count":50,"score":-5,"question_id":12920147,"title":"viewdidload() not working objective c","body":"<p>Hello I am trying to use viewDidLoad() to load an image into the the imageView at the app launch, however it is not working for me</p>\n\n<pre><code>NSURL *lURL = nil;\nNSData *lData = nil;\nNSImage *lImage = nil;\n-(void) viewDidLoad{\n    lURL = [[NSURL alloc] initWithString:@\"urltoimage\"];\n    lData = [lURL resourceDataUsingCache:YES];\n    lImage = [[NSImage allocWithZone:[self zone]] initWithData:lData];\n    [imageView setImage:lImage];\n}\n</code></pre>\n\n<p>Can I anyone see where Im wrong and let me know where I have gone wrong</p>\n\n<p>Any help appreciated</p>\n"},{"tags":["osx","cocoa","mvc"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":67,"score":0,"question_id":12903586,"title":"Questions regarding MVC design architecture of a Cocoa app","body":"<ul>\n<li>My goal </li>\n</ul>\n\n<p>Make an app with one window. The root view of the window will be a couple of images with 4 buttons. Each of these 4 buttons will display a different (main) view. Each main view will display other (sub)views and each main and sub views should be capable of \"going back\" to the root view.</p>\n\n<ul>\n<li><p>What I have done (it is based on Apple's ViewController project)</p>\n\n<ul>\n<li><p>I created 1 <code>NSWindowController</code> and 4 <code>NSViewController</code> with their respected XIB files. </p></li>\n<li><p>The AppDelegate alloc/init an <code>NSWindowController</code> object with the nib containing the window and the root view, then calls <code>showWindow</code> method on it.</p></li>\n<li>My subclass of <code>NSWindowController</code> has two ivars: one <code>NSView</code> representing the root view  bound in IB, and one <code>NSViewController</code> representing the current view controller.</li>\n<li>I bound the 4 buttons to the method which changes the view depending on the button tag.</li>\n</ul></li>\n</ul>\n\n<p>Here is how Apple's ViewController project implements it <a href=\"http://pastie.org/private/zmqpzgnudgovagwigal8dq\" rel=\"nofollow\">http://pastie.org/private/zmqpzgnudgovagwigal8dq</a></p>\n\n<p>Nonetheless, this doesn't work for me, it just add the view on top of the root view.</p>\n\n<p>As you see, I'm a bit lost, feel free to share your ideas!</p>\n"},{"tags":["cocoa","resize","nstextfield"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":12705316,"title":"How to resize NSTextField dynamically?","body":"<p>I want an NSTextField to get bigger as the user types, and smaller as backspace is pressed etc.</p>\n\n<p>The only thing I've found is [textField sizeToFit] but that doesn't run dynamically, it's just a one off resizing. Is there a property or something I need to set?</p>\n\n<p>p.s. I only need it to resize horizontally (single line text).</p>\n"},{"tags":["cocoa","kill","sigkill","nsworkspace","appleevents"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":12919389,"title":"How to force kill another application in cocoa Mac OS X 10.5","body":"<p>I've this task, from my application i need to <strong>kill</strong> another my application, the problem is that the <strong>other application has a Termination <em>Confirm Dialog</em></strong> (there is no critical data to save, only confirmation of user intent to quit).</p>\n\n<ul>\n<li><p>On 10.6+ you will use:</p>\n\n<pre><code>bool TerminatedAtLeastOne = false;\n\n// For OS X &gt;= 10.6 NSWorkspace has the nifty runningApplications-method.\nif ([NSRunningApplication respondsToSelector:@selector(runningApplicationsWithBundleIdentifier:)]) {\n    for (NSRunningApplication *app in [NSRunningApplication runningApplicationsWithBundleIdentifier:@\"com.company.applicationName\"]) {\n        [app forceTerminate];\n        TerminatedAtLeastOne = true;\n    }\n    return TerminatedAtLeastOne;\n}\n</code></pre></li>\n<li><p>but on &lt;10.6 this commonly used Apple Event:</p>\n\n<pre><code>// If that didn‘t work either... then try using the apple event method, also works for OS X &lt; 10.6.\nAppleEvent event = {typeNull, nil};\nconst char *bundleIDString = \"com.company.applicationName\";\n\nOSStatus result = AEBuildAppleEvent(kCoreEventClass, kAEQuitApplication, typeApplicationBundleID, bundleIDString, strlen(bundleIDString), kAutoGenerateReturnID, kAnyTransactionID, &amp;event, NULL, \"\");\n\nif (result == noErr) {\n    result = AESendMessage(&amp;event, NULL, kAENoReply|kAEAlwaysInteract, kAEDefaultTimeout);\n    AEDisposeDesc(&amp;event);\n}\nreturn result == noErr;\n</code></pre>\n\n<p>can't Force Quit!!!</p></li>\n</ul>\n\n<p>So what can you use?</p>\n"},{"tags":["osx","cocoa","nstextview"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":70,"score":0,"question_id":10547975,"title":"What's the differences between GlyphRange and CharacterRange in NSTextView?","body":"<p>What's the differences between GlyphRange and CharacterRange in NSTextView?</p>\n\n<pre><code>- (NSRectArray)rectArrayForCharacterRange:(NSRange)charRange withinSelectedCharacterRange:(NSRange)selCharRange inTextContainer:(NSTextContainer *)container rectCount:(NSUInteger *)rectCount;\n- (NSRectArray)rectArrayForGlyphRange:(NSRange)glyphRange withinSelectedGlyphRange:(NSRange)selGlyphRange inTextContainer:(NSTextContainer *)container rectCount:(NSUInteger *)rectCount;\n</code></pre>\n\n<p>I think the glyph and char always have same range. \nIn usage I think glyphRange and charRange are same, because when I use the two method, I give charRange and glyphRange a same range value, the output NSRectArray is the same. </p>\n\n<p>Am I misunderstanding? </p>\n"},{"tags":["iphone","objective-c","cocoa"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12918536,"title":"EXC_BAD_ACCESS when strugling with UITableViewController","body":"<p>I have a problem while struggling with a TableViewController.\nIt displays the first rows of my collection, but when I want to scroll down I have a</p>\n\n<pre><code>EXC_BAD_ACCESS (code=2, address=0x47)\n</code></pre>\n\n<p>error. Sometimes it's code 1 too.</p>\n\n<p>Here is my code :</p>\n\n<pre><code>- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath\n{\n    static NSString *CellIdentifier = @\"ContactCell\";\n    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];\n    if (cell == nil) {\n        cell = [[[UITableViewCell alloc] initWithStyle:UITableViewCellStyleSubtitle reuseIdentifier:CellIdentifier] autorelease];\n    }\n\n    Contact* contact = (Contact*)[_dataCollection objectAtIndex:indexPath.row];\n\n    cell.textLabel.textColor = [UIColor whiteColor];\n    if ([contact nom] != NULL)\n        cell.textLabel.text = [contact nom];\n    else\n        cell.textLabel.text = @\"Void\";\n    cell.detailTextLabel.textColor = [UIColor redColor];\n    if ([contact prenom] != NULL)\n        cell.detailTextLabel.text = [contact prenom];\n    else\n        cell.detailTextLabel.text = @\"Void\";\n    cell.imageView.image = [UIImage imageNamed:@\"user.png\"];\n\n    return cell;\n}\n</code></pre>\n\n<p>And here is my declaration of the Contact class :</p>\n\n<pre><code>@interface Contact : NSObject\n\n@property (copy, nonatomic)NSString *nom;\n@property (copy, nonatomic)NSString *prenom;\n@end\n</code></pre>\n\n<p>It seems that there is a problem accessing \"nom\" and \"prenom\", but I don't know what I did wrong ...</p>\n\n<p>If someone can help me please ! Thank you :)</p>\n"},{"tags":["objective-c","xcode","cocoa","nsimage","nsimageview"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12917654,"title":"NSImage at app start","body":"<p>I have an image view object.  I can get it to load images when a buttun is pressed but I want to know if there is a way to get it to load at the start of the app.</p>\n\n<p>The code im using is </p>\n\n<pre><code>NSURL *lURL = nil;\nNSData *lData = nil;\nNSImage *lImage = nil;\nlData = [lURL resourceDataUsingCache:YES];\nlImage = [[NSImage allocWithZone:[self zone]] initWithData:lData];\nlURL = [[NSURL alloc] initWithString:@\"urltoimage\"];\n[imageView setImage:lImage];\n</code></pre>\n\n<p>any help is appreciated</p>\n"},{"tags":["osx","cocoa","directory","media","nsopenpanel"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":12917076,"title":"Changing the default directory of a NSOpenPanel to the \"Media\" directory","body":"<p>I'm developing a simple app for some students. In the app, a student has to select a video which they made in iMovie. I've already set up a NSOpenPanel for this, but I would like it to default to the movies directory, but not the <code>~/Movies</code> directory, I'm aiming for the movies \"directory\" underneath the media title in Finder. It is a pretty handy directory, because the students will be able to import videos directly from iMovie, instead of having to export and search for them. (Believe me, they screw this up all the time). </p>\n\n<p>For extra clarity, this is a screenshot of the folder as seen in the open sheet: \n<img src=\"http://i.stack.imgur.com/ZgXO3.png\" alt=\"enter image description here\"></p>\n\n<p>(My computer is in dutch, hence the name \"Films\" instead of \"Movies\")</p>\n"},{"tags":["objective-c","osx","cocoa","core-data"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":2,"view_count":83,"score":-1,"question_id":12911525,"title":"Learning Core Data on Mac","body":"<p>Where could I find a core data course that is at the same time <em>A</em>) to the point, and <em>B</em>) extensive enough to feel confident after finishing it?</p>\n\n<p>There are several places to look, for example an earlier <a href=\"http://stackoverflow.com/questions/4768369/core-data-tutorials\" title=\"question\">question</a> here on SO, the apple developer info, and short descriptions in several books on Cocoa / OSX. I would like something a bit more extensive than <a href=\"http://cocoadevcentral.com/articles/000086.php\" rel=\"nofollow\">http://cocoadevcentral.com/articles/000086.php</a>, but more to the point than the Core Data book from Marcus Zarra.</p>\n\n<p><strong>It would be great if people would post their favorite core data learning source</strong>, especially when the relation with bindings is discussed. In any case, please do write down if the source relates to Mac/Cocoa or iOS! </p>\n\n<p>EDIT: Other links that I found:</p>\n\n<ul>\n<li>Cocoa Dev Central, \"Build a Core Data App\": <a href=\"http://cocoadevcentral.com/articles/000085.php\" rel=\"nofollow\">http://cocoadevcentral.com/articles/000085.php</a>, a bit dated but interesting nonetheless.</li>\n<li>TheMikeSwan multi-part \"expenses app\" blog: <a href=\"http://www.themikeswan.com/blog/?p=81\" rel=\"nofollow\">http://www.themikeswan.com/blog/?p=81</a></li>\n</ul>\n"},{"tags":["cocoa","osx","xib"],"answer_count":2,"favorite_count":6,"up_vote_count":8,"down_vote_count":0,"view_count":4031,"score":8,"question_id":5547741,"title":"How to open a new window on button click in Cocoa Mac Application?","body":"<p>I want to know how to open a new window on button click in Cocoa Mac Programming. Help me. I am doing a mac application which needs to open a new mac window on particular button click.</p>\n"},{"tags":["iphone","objective-c","ios","xcode","cocoa"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":70,"score":2,"question_id":12915250,"title":"Retain cycle in completion block","body":"<p>In my class i have created this method.</p>\n\n<pre><code>-(void) refreshDatasourceWithSuccess:(CreateDataSourceSuccessBlock) successBlock \n                         failure:(CreateDataSourceFailureBlock) failureBlock;\n</code></pre>\n\n<p>Then I call it like this:</p>\n\n<pre><code>[self refreshDatasourceWithSuccess:^(NSArray* array){\n    //Success block \n    [self setDataSource:array];\n    [self.tableView reloadData];\n\n} failure:^(NSError* error){\n    // failure block \n    [self showConnnectionError];\n}];\n</code></pre>\n\n<p>Is this a retain cycle because I reference <code>self</code> inside the completion block? \n(I do not get any warning)</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>IN Another class in this case I get a warning for retain cycles</p>\n\n<pre><code>typedef void (^SetFavoriteCompletionBlock)(NSError*);\n\n-(void)setFavoriteFriend:(BOOL)pSetFavorite\n          completion:(SetFavoriteCompletionBlock)completionBlock\n{\n   //....\n   completionBlock(error);\n}\n</code></pre>\n\n<p>And then in this call I get the warning</p>\n\n<pre><code>[self setFavoriteFriend:setFavorite \n             completion:^(NSError *error){\n                 [self.tableView reloadData];\n             }];\n</code></pre>\n"},{"tags":["objective-c","cocoa","decimal"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":12910252,"title":"objective c and cocoa convert decimal feet to feet and inches?","body":"<p>How would I convert something like 5.5 into 5 foot 6 inches.  I am doing this in xcode using objective c and xcode.</p>\n\n<p>Any help appreciated</p>\n"},{"tags":["objective-c","cocoa","nsview"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":32,"score":1,"question_id":12914350,"title":"mouseDragged not called outside NSView's frame","body":"<p>I'm struggling to understand why mouseDragged is getting called for one of my NSView subclasses but not for the other when the mouse is positioned outside the view.</p>\n\n<p>Subclass 1 is programatically added to an NSWindow, which is then added as a child window to the main app window. When the mouse is clicked inside the view and dragged, mouseDragged continues to get called even when the mouse goes outside the view's frame. This is what I want to happen.</p>\n\n<p>Subclass 2 is assigned in the XIB file to a custom view object in the main window of the app. In this case, the mouseDragged event only fires when the mouse remains inside the view.</p>\n\n<p>Anything obvious I'm missing?</p>\n"},{"tags":["objective-c","cocoa","nsurl","pasteboard"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":12914305,"title":"Cocoa: Drag and Drop files with new Pasteboard API","body":"<p>I am implementing drag and drop in an app and have gone around in circles a few times with the new Pasteboard API – the documentation seems like it could use some work.</p>\n\n<p>I understand registering my view for dragging and dropping – and the delegates to implement this.</p>\n\n<p>I'm getting a grasp of reading and writing the pasteboard using the API. </p>\n\n<p>It's connecting the two together that has had me stumped. I was trying to figure out what 'Types' of data to register for with the new Standard Types introduced for 10.6. It appears in the documentation that NSURLPboardType is part of the list of 'Types' to be deprecated some time in the future, but now I'm thinking it might not be deprecated at all, but the documentation is simply recommending to use the writeObjects: method instead now...</p>\n\n<p>Can anyone confirm I'm understanding this correctly? NSURLPboardType isn't being deprecated, just it's usage is changed (to support multiple URLs)</p>\n\n<p>If this is the case I think the documentation is pretty misleading. By not including it with the list of 'Types for Standard Data (OS X v10.6 and later)' it makes it appear that at some point in the future it will no longer be supported...</p>\n\n<p>Thanks for any help. </p>\n"},{"tags":["objective-c","osx","cocoa","file"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":58,"score":2,"question_id":12913078,"title":"Save files avoiding duplicate filenames and overwriting","body":"<p><strong>So, here's my situation :</strong></p>\n\n<ul>\n<li>I've got an application prompting the user to select a folder to save his files</li>\n<li>Now let's say his files are : <code>a.png</code>, <code>b.png</code>, <code>c.png</code></li>\n</ul>\n\n<p><strong>What I want is :</strong></p>\n\n<ul>\n<li>if file - let's say - <code>a.png</code> already exists in the selected folder, <strong>DON'T</strong> overwrite it. Instead create a file with name <code>a (1).png</code>. If a file <code>a (1).png</code> already exists, then name it like <code>a (2).png</code>, and so on - pretty much like OS X does when copy-pasting files with the same name.</li>\n</ul>\n\n<p>This is how I'm currently doing it - but it still doesn't strike me ok :</p>\n\n<pre><code>NSString* target = [self getTargetPathForFile:filename path:folder];\n\nNSString* fname = [target lastPathComponent];\n\nwhile ([[NSFileManager defaultManager] fileExistsAtPath: [folder stringByAppendingPathComponent:fname]])\n{\n    //NSLog(@\"FNAME : %@\",fname);\n\n    if ([self str:fname containsString:@\").\" options:nil])\n    {\n        NSArray* a = [fname componentsSeparatedByString:@\"(\"];\n        NSArray* b = [[a objectAtIndex:1] componentsSeparatedByString:@\")\"];\n\n        fname = [NSString stringWithFormat:@\"%@(%d)%@\",[a objectAtIndex:0],[[b objectAtIndex:0] intValue]+1,[b objectAtIndex:1]];\n    }\n    else\n    {\n        fname = [NSString stringWithFormat:@\"%@ (1).%@\",[fname stringByDeletingPathExtension],[fname pathExtension]];\n    }\n\n    //NSLog(@\"Setting filename to :: %@\",fname);\n}\ntarget = [folder stringByAppendingPathComponent:fname];\n</code></pre>\n\n<p>Any ideas how to go about this? Is there any Cocoa-friendly (or built-in) method for this?</p>\n"},{"tags":["objective-c","cocoa","nscursor"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":118,"score":0,"question_id":11287523,"title":"NSCursor always resets to Arrow","body":"<p>Why can't I get the cursor to stay put for the duration of my mouse drag?  As soon as I start dragging, it reverts to \"Arrow\" (even though I set it as open hand in the app delegate after launch).</p>\n\n<pre><code>- (void)mouseDown:(NSEvent *)event\n{\n   [[NSCursor closedHandCursor] push];\n}\n\n- (void)mouseUp:(NSEvent *)event\n{\n   [NSCursor pop];\n}\n</code></pre>\n"},{"tags":["cocoa","nstextview","nslayoutmanager"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":11845760,"title":"NSTextView horizontal line like Notes app","body":"<p>I am now stuck, how can I achieve the following using an <code>NSTextView</code>?\nThis seems quite a difficult thing unless my idea is completely wrong. I cannot use a background image with a line because the offset when scrolling with elasticity needs to be taken into consideration.</p>\n\n<p>I am really looking all the solutions out there but none so far is as solid as the note app does.</p>\n\n<p>Now I am looking around the <code>NSLayoutManager</code> and trying to get the rect of the glyphs and draw the line below the text, which seems to be a workable solution but I am seeking for a more efficient way.</p>\n\n<p><img src=\"http://i.stack.imgur.com/Gsinc.png\" alt=\"notes\"></p>\n"},{"tags":["objective-c","cocoa","cocoa-touch","xcode"],"answer_count":5,"favorite_count":5,"up_vote_count":7,"down_vote_count":0,"view_count":2801,"score":7,"question_id":2092005,"title":"When to use static string vs. #define","body":"<p>I am a little confused as to when it's best to use:</p>\n\n<pre><code>static NSString *AppQuitGracefullyKey = @\"AppQuitGracefully\";\n</code></pre>\n\n<p>instead of</p>\n\n<pre><code>#define AppQuitGracefullyKey    @\"AppQuitGracefully\"\n</code></pre>\n\n<p>I've seen questions like this for C or C++, and I think what's different here is that this is specifically for Objective C, utilizing an object, and on a device like the iPhone, there may be stack, code space or memory issues that I don't yet grasp.</p>\n\n<p>One usage would be:</p>\n\n<pre><code>appQuitGracefully =  [[NSUserDefaults standardUserDefaults] integerForKey: AppQuitGracefullyKey];\n</code></pre>\n\n<p>Or it is just a matter of style?</p>\n\n<p>Thanks.</p>\n"},{"tags":["osx","cocoa","retina-display","magnification"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":12908559,"title":"How to tell Apple that my Cocoa app is not ready for high resolution?","body":"<p>Apple says that either <strong>user</strong> or <strong>OS X</strong> may decide to launch a Cocoa app in magnified mode instead of framework-scaled mode:</p>\n\n<blockquote>\n  <p>All apps that are not Cocoa apps run in magnified mode. However, a Cocoa app can also run in magnified mode if:</p>\n  \n  <ul>\n  <li><p>The user sets the option to open the app in low resolution (see Figure 1-7).</p></li>\n  <li><p>The app is known to have significant issues when running in framework-scaled mode, so the system makes an exception and instead\n  runs the app in magnified mode.</p></li>\n  </ul>\n</blockquote>\n\n<p>(<a href=\"http://developer.apple.com/library/mac/documentation/GraphicsAnimation/Conceptual/HighResolutionOSX/Explained/Explained.html#//apple_ref/doc/uid/TP40012302-CH4-SW10\" rel=\"nofollow\" title=\"Magnified Mode Accommodates Apps That Aren’t Yet Ready for High Resolution\">see link</a>)</p>\n\n<p>But how the <strong>app developer</strong> can launch it magnified? Or, how to force OS X to do it?</p>\n"},{"tags":["objective-c","cocoa","core-data"],"answer_count":5,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":1620,"score":1,"question_id":4768369,"title":"Core Data tutorials","body":"<p>Is there any good Core Data tutorials out there for mac/cocoa(not iphone)? </p>\n"},{"tags":["cocoa","nsdate","nsdatepicker"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":31,"score":1,"question_id":12791985,"title":"Cocoa: Working with NSDates in a time-and-timezone-independent way?","body":"<p>I'm working on an application that uses a lot of dates, but that doesn't rely on times at all. I'd like to store them internally as NSDates so that I can use NSDatePicker controls, built-in date functions, etc.</p>\n\n<p>However, I keep tripping over the fact that NSDates insist on storing a time as well as a date. Many of the date initialization functions append either the current time or an arbitrary time. I've written my code to wipe out the times on all dates by setting the time components to 0 - but even so, time zone issues screw up some of the comparisons (e.g., comparing the current date to a specific date produces the wrong answer if the current date in the local time zone is different than the date in GMT).</p>\n\n<p>Surely there's a better way to tackle this problem...?</p>\n"},{"tags":["cocoa","nstimer"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":12907514,"title":"Multiple NSTimers slows down the Application","body":"<p>I am using multiple NStimers into my cocoa (MAC) application and i have added all of them in NSRunLoopCommonModes separately like below:</p>\n\n<p>NSRunLoop *runloop = [NSRunLoop currentRunLoop];</p>\n\n<pre><code> updateServerTimeTimer = [NSTimer scheduledTimerWithTimeInterval:1.0 target:self selector:@selector(updateServerTime) userInfo:nil repeats:YES];\n\n [runloop addTimer:updateServerTimeTimer forMode:NSRunLoopCommonModes];\n</code></pre>\n\n<p>But after some time, my app. gets hung and also UI responds late. It is also slowing down my MAC, Can anyone provide a better approach to use multiple timers continuously within an application</p>\n"},{"tags":["objective-c","osx","cocoa"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":60,"score":1,"question_id":12894141,"title":"cocoa and objective c save, edit and load files","body":"<p>hello I am trying to create a text file that will then store some data</p>\n\n<pre><code>- (IBAction)saveUser:(id)sender{\n   NSString *name = [nameField stringValue];\n   NSString *weight = [weightField stringValue];\n   NSDate *date = [datePick dateValue];\n\n}\n</code></pre>\n\n<p>I want to be able to create a file that stores the following information and uses the name field as the name of the file.  I also want to be able to load the file and read that data from it </p>\n\n<p>Any help is appreciated \nThanking You</p>\n"},{"tags":["iphone","objective-c","ios","ipad","cocoa"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":85,"score":0,"question_id":12897686,"title":"Objective C Converting NSString to UTF8 with padding","body":"<p>I am implementing AES decoder, for creating IV and key, the algorithm is such that</p>\n\n<p>IV Key's 16 bytes：the first 16 bytes of ProductID.getBytes(\"UTF-8\")                 </p>\n\n<pre><code>            （If there are no enough bytes,      \n\n            make up to 16 bytes at right by 0x32)   \n</code></pre>\n\n<p>and my code for padding</p>\n\n<pre><code>- (char*)paddedStringFromString:(NSString *)string withLength:(NSUInteger)length{\n    const char *stringC = [string UTF8String];\n    char * output;\n    output = malloc(length+1);\n    for (NSInteger i = 0; i &lt; length; i++) {\n        if (i &lt; string.length) output[i] = stringC[i];\n        else output[i] = 0x32;\n    }\n    return output;\n}\n</code></pre>\n\n<p>But I am not getting the right result. Is my approach for padding is right. Please help</p>\n"},{"tags":["objective-c","osx","cocoa","nstextfield"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":12906394,"title":"Commit NSTextField changes before saving","body":"<p>I have an <code>NSDocument</code> app and I would like to have a <code>NSTextField</code> to commit the current changes to the model every time the user save (through cmd+s for example).</p>\n\n<p>I don't use binding and at the moment the changes are pushed to the model in the <code>-controlTextDidEndEditing:</code> method. Calling the <code>[window makeFirstResponder:nil]</code> does push the changes to the model but also causes the control to lose focus which is not really a reasonable behaviour.</p>\n\n<p>Googling around I have seen that several people suggested to use the <code>-commitEditing</code> method but it only applies to bindings, am I wrong?</p>\n"},{"tags":["cocoa","cocoapods"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":100,"score":2,"question_id":11638711,"title":"'pod install' doesn't update an existing pod","body":"<p>I am trying to update my pod using 'pod install' and finding that it doesn't update properly unless I delete the original pod. Is there some extra step required or is there a common mistake that makes updates fail?</p>\n"},{"tags":["cocoa","animation","core-animation","nsview","nsstatusitem"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":92,"score":0,"question_id":12834092,"title":"Animating a NSStatusItem","body":"<p>I have a custom view in an NSStatusItem object.\nThis view displays icons. It's also able to show a progress, but you have to call <code>[self.statusitemview setProgressValue:theValue];</code>\nI have a set of icons, and it chooses the right one using this value.</p>\n\n<p>This seems very jerky, because the executed process doesn't send updates all the time.\nSo I would like to animate this. </p>\n\n<p>I would like to call the animation like you can with other cocoa-controls:\n[[self.statusItemView animator] setProgressValue:value];</p>\n\n<p>If that's at all possible</p>\n\n<p>What is the proper way to do this?\nI wouldn't want to use an NSTimer.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>The images are drawn using the drawRect: method</p>\n\n<p>Here's the code:</p>\n\n<pre><code>- (void)drawRect:(NSRect)dirtyRect\n{\n    if (self.isHighlighted) {\n        [self.statusItem drawStatusBarBackgroundInRect:self.bounds withHighlight:YES];\n    }\n\n    [self drawIcon];\n}\n\n- (void)drawIcon {\n    if (!self.showsProgress) {\n        [self drawIconWithName:@\"statusItem\"];\n    } else {\n        [self drawProgressIcon];\n    }\n}\n\n- (void)drawProgressIcon {\n    NSString *pushed = (self.isHighlighted)?@\"-pushed\":@\"\";\n    int iconValue = ((self.progressValue / (float)kStatusItemViewMaxValue) * kStatusItemViewProgressStates);\n    [self drawIconWithName:[NSString stringWithFormat:@\"statusItem%@-%d\", pushed, iconValue]];\n}\n\n- (void)drawIconWithName:(NSString *)iconName {\n    if (self.isHighlighted &amp;&amp; !self.showsProgress) iconName = [iconName stringByAppendingString:@\"-pushed\"];\n    NSImage *icon = [NSImage imageNamed:iconName];\n    NSRect drawingRect = NSCenterRect(self.bounds, icon);\n\n    [icon drawInRect:drawingRect fromRect:NSZeroRect operation:NSCompositeSourceOver fraction:1.0 respectFlipped:YES hints:nil];\n}\n\n\n- (void)setProgressValue:(int)progressValue {\n    if (progressValue &gt; kStatusItemViewMaxValue || progressValue &lt; 0) {\n        @throw [NSException exceptionWithName:@\"Invalid Progress Value\"\n                                       reason:[NSString stringWithFormat:@\"The value %d id invalid. Range {0 - %d}\", progressValue, kStatusItemViewMaxValue]\n                                     userInfo:nil];\n    }\n\n    _progressValue = progressValue;\n    [self setNeedsDisplay:YES];\n}\n\n- (void)setShowsProgress:(BOOL)showsProgress {\n    if (!showsProgress) self.progressValue = 0;\n    _showsProgress = showsProgress;\n\n    [self setNeedsDisplay:YES];\n}\n</code></pre>\n\n<p>It has to be possible somehow.\nSince standard controls from Apple are drawn using the drawRect:, but have smooth animations...</p>\n"},{"tags":["cocoa","osx"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":556,"score":0,"question_id":4087328,"title":"How to find the residing directory of a OS X application package - programmatically","body":"<p>I have a OS X application as a .app package which can reside in any\narbitrary location in the filesystem. Is there a way to find the\ncurrent path of the package programmatically from with.</p>\n\n<h1>NOTE</h1>\n\n<p>getcwd() doesn't work since the current directory of all packages opened\nis via click-open or using the open command is \"/\" . If i invoke the executable \nfrom myapp.app/Contents/MacOS , the directory is shown correctly.\nIt is a cocoa application.</p>\n\n<p>Any clues?</p>\n"},{"tags":["iphone","objective-c","ios","ipad","cocoa"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":88,"score":0,"question_id":12904998,"title":"UILabel not updating connected with IBOutlet","body":"<p>I am trying to update the UILabel of IBOutlet, however for some reason the content is not getting updated. Initially, the content is getting loaded from the model, which performs jsonResponse in async. However, I have set a delegate once the content is there to update the layout for which I am calling setNeedsDisplay. </p>\n\n<p>Any help here would be appreciated.</p>\n\n<p>Thanks.</p>\n\n<p>The code below:</p>\n\n<pre><code>@interface pd ()\n\n@property (nonatomic,retain) NSDictionary *pD;\n@property (nonatomic, retain) pd_model *pdModel;\n\n@end\n\n@implementation pd\n\n@synthesize pD = _pD, pdModel;\n\n- (id)initWithNibName:(NSString *)nibNameOrNil bundle:(NSBundle *)nibBundleOrNil :(NSDictionary*)pD {\n\n    self = [super initWithNibName:nibNameOrNil bundle:nibBundleOrNil];\n\n    if (self) {\n        // Custom initialization\n        self.productDetails = [[NSDictionary alloc] initWithDictionary:pD];\n        self.pdModel = [[ProductDetails_Model alloc] init:pD];\n        self.pdModel.delegate = self;\n        NSLog(@\"%@\",[self.pD description]);\n    }\n    return self;\n}\n\n- (void)viewDidLoad\n{\n    [super viewDidLoad];\n    scrollView = [[UIScrollView alloc] initWithFrame:CGRectMake(0, 0, 320, 480)];\n    [scrollView setBackgroundColor:[UIColor clearColor]];\n    [self.view addSubview:scrollView];\n    scrollView.showsHorizontalScrollIndicator = YES;\n    scrollView.scrollEnabled = YES;\n\n    // Do any additional setup after loading the view from its nib.\n\n    productRecCarousel = [[iCarousel alloc] initWithFrame:CGRectMake(0.0f, scrollView.contentSize.height, 320.0f, 100.0)];\n    productRecCarousel.delegate = self;\n\n    [scrollView addSubview:productRecCarousel];\n\n    [self addProductDescription];\n    NSLog(@\"%@\",[self.pdModel responseCode]);\n    [soldBy setText:[self.pdModel responseCode]];\n    //[soldBy setText:@\"1\"];\n\n}\n\n- (void)viewDidUnload\n{\n    [super viewDidUnload];\n    // Release any retained subviews of the main view.\n    // e.g. self.myOutlet = nil;\n}\n\n- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation\n{\n    return (interfaceOrientation == UIInterfaceOrientationPortrait);\n}\n\n#pragma mark\n#pragma mark CarouselDelegate methods\n- (NSUInteger)numberOfItemsInCarousel:(iCarousel *)carousel {\n\n    return 1;\n}\n\n- (NSUInteger)numberOfPlaceholdersInCarousel:(iCarousel *)carousel {\n\n    return 1;\n}\n\n- (UIView*)carousel:(iCarousel *)carousel viewForItemAtIndex:(NSUInteger)index reusingView:(UIView *)view {\n\n    return [[UIView alloc] init];\n}\n\n- (CGFloat)carouselItemWidth:(iCarousel *)carousel {\n    //usually this should be slightly wider than the item views\n    return 150;\n}\n\n- (CATransform3D)carousel:(iCarousel *)_carousel transformForItemView:(UIView *)view withOffset:(CGFloat)offset {\n    //implement 'flip3D' style carousel\n\n    //set opacity based on distance from camera\n    view.alpha = 1.0 - fminf(fmaxf(offset, 0.0), 1.0);\n\n    //do 3d transform\n    CATransform3D transform = CATransform3DIdentity;\n    transform.m34 = _carousel.perspective;\n    transform = CATransform3DRotate(transform, M_PI / 8.0, 0, 1.0, 0);\n    return CATransform3DTranslate(transform, 0.0, 0.0, offset * _carousel.itemWidth);\n}\n\n- (void)addProductDescription {\n\n    NSLog(@\"%f\",addProductDetails.frame.size.height);\n    addProductDetails.frame = CGRectMake(0.0f, productRecCarousel.frame.size.height, addProductDetails.frame.size.width, addProductDetails.frame.size.height);\n    [scrollView addSubview:addProductDetails];\n\n\n}\n\n- (void)updateTheLayout {\n\n    //[self.view setNeedsDisplay];\n   //This is where I get the delegate called once the model is being updated. I tried scrollView and self.view setNeedsDisplay and setNeedsLayout but the IBoutlet never gets updated which is in \"ViewDidLoad as assigned as\" : [soldBy setText:[self.pdModel responseCode]];\n\n}\n</code></pre>\n\n<p>Thanks.</p>\n"},{"tags":["xcode","cocoa","opengl"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":12888741,"title":"Enabling depth testing when using CAOpenGLLayer","body":"<p>If one is using a subclass of <code>NSOpenGLView</code> then one enables depth testing by selecting a 16/24/32 bit buffer from the attributes menu in Xcode, and then adding </p>\n\n<pre><code>glEnable(GL_DEPTH_TEST);\nglClear(GL_DEPTH_BUFFER_BIT);\n</code></pre>\n\n<p>to the <code>drawRect</code> method. \n However, in the application I'm creating I'm rendering OpenGL content via the <code>drawInCGLContext</code> method of a <code>CAOpenGLLayer</code> which is contained within a subclass of <code>NSView</code>. This means that it is no longer possible to create a depth buffer via the inspector. Does anyone know how I can achieve this in such a situation?</p>\n"},{"tags":["objective-c","xcode","osx","cocoa"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12900572,"title":"How to use the default color picker in NSToolbar?","body":"<p>I'm learning Cocoa. And this is my simple OS X app: <a href=\"http://cl.ly/KB77\" rel=\"nofollow\">http://cl.ly/KB77</a></p>\n\n<p>It contains a custom view, where the white rect is drown, a toolbar, and a slider. I want to change the rect's fill color by clicking on the 'Colors' item in the toolbar and choosing new color in the color palette.</p>\n\n<p>How can I get the new color from the palette? I know it has the \"NSToolbarShowColorsItem\" identifier, but don't know how to use it.</p>\n\n<p>Can you please help me? Thanks.</p>\n"},{"tags":["objective-c","cocoa","jpeg","nsimage"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":63,"score":0,"question_id":12500694,"title":"How do I get compression factor of JPEG image in Cocoa?","body":"<p>OSX app reads JPEG images, does some processing and intends to save images with compression factor of original images.</p>\n\n<p>I stumbled with getting compression factor of original images. NSImage class doesn't have nothing similar.</p>\n\n<p>NSBitmapImageRep class has convenient method:</p>\n\n<pre>- (void)getCompression:(NSTIFFCompression *)compressionfactor:(float *)factor</pre>\n\n<p>But if I get NSBitmapImageRep from NSData read with dataWithContentsOfFile, I get zero compressionfactor.</p>\n\n<p>Any ideas, how do I get compression factor of JPEG image in Cocoa?</p>\n"},{"tags":["osx","cocoa"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":12897214,"title":"Transform LSUIElement to foreground application","body":"<p>I have an app which must run all the time (if the user agree whit this).</p>\n\n<p>When the user quit the app, I transform the foreground app into a LSUIElement (the app only has a menu bar icon, the dock icon and the menu disappear).</p>\n\n<p>I have an options in the menu item which works ok and transform the LSUIElement into a foreground app (I use the functions <code>[NSApp setActivationPolicy:NSApplicationActivationPolicyRegular]</code> and <code>[NSApp activateIgnoringOtherApps:YES]</code>).</p>\n\n<p>My problem appear when the user double click on the app. I use again the <code>[NSApp setActivationPolicy:NSApplicationActivationPolicyRegular]</code> in the delegate method <code>applicationWillUnhide:(NSNotification *)notification</code>, and all works well except the menu which doesn't appear. If I go to another app, and then I came back the menu appear. I try different methods but I wasn't able to find a good one.</p>\n\n<p>I want to know is a delegate method which is called when the user double clicks on the app, or what is the function from <code>NSApplication</code> which is called in that moment, because I think using the <code>setActivationPolicy:</code> in the <code>applicationWillUnhide</code> function is to late.</p>\n"},{"tags":["objective-c","cocoa","nsview"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":37,"score":1,"question_id":12898175,"title":"Position View within Container programmatically","body":"<p>OK, so this is my situation :</p>\n\n<ul>\n<li>I've got a View (an <code>NSBox</code> actually) with variable bounds (I'm changing them programmatically)</li>\n<li>Within the <code>NSBox</code> we've got another view (an <code>NSTextField</code>).</li>\n</ul>\n\n<p>What I want to do is to be able to position the subview, relatively to the superview, programmatically. </p>\n\n<p><strong>E.g. :</strong></p>\n\n<ul>\n<li>Center</li>\n<li>Top Left</li>\n<li>Top Right</li>\n<li>Bottom Left</li>\n<li>Bottom Right</li>\n</ul>\n\n<p>Is there any Cocoa-friendly way this could be achieved?</p>\n\n<p>Any ideas?</p>\n"},{"tags":["cocoa","osx-lion","accessibility"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":12815675,"title":"focus on accessible UI element in cocoa programmatically","body":"<p>I have a toolbar with a button and an NSView with a titled box. When the window opens and Voice Over is on, I want the focus to be on the titled box. Currently it's on the toolbar button, because it's probably higher in accessibility hierarchy. What should I do to have a focus on the box, instead on button?</p>\n\n<p>Thanks</p>\n"},{"tags":["objective-c","osx","cocoa"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1036,"score":0,"question_id":7753262,"title":"How to convert wchar_t to NSString?","body":"<p>I have wchar_t buffer [100] . Sometimes it needed for Unicode letters, sometimes is not.</p>\n\n<p>I need to convert it to NSString.</p>\n\n<p>I'm using  <code>NSString *str = [NSString string:(char *)buffer];</code> to conver it. </p>\n\n<p>When I'm trying to NSLog my NSString, sometimes it getting right result, but sometimes is not.</p>\n\n<p>Did I miss something?</p>\n\n<p>Thanks!</p>\n"},{"tags":["objective-c","osx","cocoa","nswindow","nswindowrestoration"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":98,"score":0,"question_id":12779681,"title":"NSWindow restorable not always working","body":"<p>I have checked the restorable option on my NSWindow\nWhen I move my application and change its size and close/reopen my application it sets the window size and position to the last size and position</p>\n\n<p>but this doesn't happen on every computer where i test it. it only happens to a few computers</p>\n\n<p>they don't have special settings regarding the resume.</p>\n\n<p>Does anybody have any experience with this?</p>\n"},{"tags":["cocoa","osx-lion","nsdocument","nsapplication-delegate"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":12893911,"title":"Waiting for completion handler when opening NSDocuments","body":"<p>I am implemented NSApplicationDelegate's application:openFile: as:</p>\n\n<pre><code>-(BOOL) application:(NSApplication*) sender openFile:(NSString*)path\n{\n  NSDocumentController* dc = [NSDocumentController sharedDocumentController];\n  id doc = [dc openDocumentWithContentsOfURL:[NSURL URLWithString:path]\n                                 display:YES error:nil];\n  return (doc != nil);\n}\n</code></pre>\n\n<p>but openDocumentWithContentsOfURL is deprecated (a warning from the compiler).</p>\n\n<p>Is it possible to replace it with the new alternative (openDocumentWithContentsOfURL:display:completionHandler:) and wait for the completion handler so I can return a value indicating if the document is not nil?</p>\n"},{"tags":["ios","cocoa","range","uislider"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":78,"score":1,"question_id":12883597,"title":"Select a range in UISlider","body":"<p>i asked me whether it is possible if i can create a uislider who has 2 handles to select a range. Just like here: </p>\n\n<p><img src=\"http://i.stack.imgur.com/2RZUQ.png\" alt=\"enter image description here\"></p>\n\n<p>The problem i am facing is that i dont want to use a custom UIControl Subclass. I need a UISlider subclass or a other solution for this problem, because a lot of the code is based on UISlider specific propertys etc. So is there any possibility to achieve this ?</p>\n"},{"tags":["objective-c","cocoa","crash-reports","nsopenpanel"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":97,"score":2,"question_id":12886639,"title":"NSOpenPanel crashing?","body":"<p>I've got into some serious trouble and it seems like the culprit is... an <code>NSOpenPanel</code>.</p>\n\n<p><strong>My Code is something like :</strong></p>\n\n<pre><code>NSOpenPanel *openPanel  = [NSOpenPanel openPanel];\n[openPanel setCanChooseFiles:NO];\n[openPanel setCanChooseDirectories:YES];\n\n[openPanel setPrompt:@\"Save Here\"];\n\n[openPanel beginSheetModalForWindow:[self thePanel] completionHandler:^(NSInteger result) {\nif (result == NSFileHandlingPanelOKButton) {\n        // DO SOMETHING WITH SELECTION\n    }\n    else {\n        //[openPanel close];\n    }\n}];\n</code></pre>\n\n<p>And here comes the issue (actually, it has NEVER happened to me (under 10.6.8 and 10.8.20), but I have received numerous crash reports from user (almost exclusive running 10.6)).</p>\n\n<p><strong>Here's the crash report :</strong></p>\n\n<pre><code>Process:         MY_APP_NAME + [1330]\nPath:            /Users/Kellys/Desktop/MY_APP_NAME +.app/Contents/MacOS/MY_APP_NAME +\nIdentifier:      uk.co.insili.MY_APP_NAME\nVersion:         1.0 (1)\nCode Type:       X86-64 (Native)\nParent Process:  launchd [112]\n\nDate/Time:       2012-10-14 15:51:41.911 -0500\nOS Version:      Mac OS X 10.6.8 (10K549)\nReport Version:  6\n\nInterval Since Last Report:          2449375 sec\nCrashes Since Last Report:           10\nPer-App Interval Since Last Report:  3037 sec\nPer-App Crashes Since Last Report:   10\nAnonymous UUID:                      AE022341-E3DA-4AF1-9BAD-F960E79D80DF\n\nException Type:  EXC_BAD_ACCESS (SIGSEGV)\nException Codes: KERN_INVALID_ADDRESS at 0x0000000000000030\nCrashed Thread:  0  Dispatch queue: com.apple.main-thread\n\nApplication Specific Information:\nobjc[1330]: garbage collection is ON\n\nThread 0 Crashed:  Dispatch queue: com.apple.main-thread\n0   com.apple.AppKit                0x00007fff83b669de -[NSImage _allocAuxiliaryStorage] + 158\n1   com.apple.AppKit                0x00007fff83ceaf05 -[NSImage copyWithZone:] + 66\n2   com.apple.AppKit                0x00007fff83fd543c -[NSNavView _setupNormalFileListModeControl] + 154\n3   com.apple.AppKit                0x00007fff83fd5f32 -[NSNavView awakeFromNib] + 204\n4   com.apple.CoreFoundation        0x00007fff835909fd -[NSSet makeObjectsPerformSelector:] + 205\n5   com.apple.AppKit                0x00007fff83b6185b -[NSIBObjectData nibInstantiateWithOwner:topLevelObjects:] + 1445\n6   com.apple.AppKit                0x00007fff83c08d14 -[NSNib instantiateNibWithExternalNameTable:] + 564\n7   com.apple.AppKit                0x00007fff83c08a92 -[NSNib instantiateNibWithOwner:topLevelObjects:] + 233\n8   com.apple.AppKit                0x00007fff83fd6b07 +[NSNavView navView] + 109\n9   com.apple.AppKit                0x00007fff84044062 -[NSSavePanel(NSSavePanelLayout) _initContentView] + 1230\n10  com.apple.AppKit                0x00007fff8403d60b -[NSSavePanel initWithContentRect:styleMask:backing:defer:] + 367\n11  com.apple.AppKit                0x00007fff84041af5 +[NSSavePanel _crunchyRawUnbonedPanel] + 198\n12  uk.co.insili.MY_APP_NAME        0x0000000100002d5f 0x100000000 + 11615\n13  com.apple.AppKit                0x00007fff83cf2eda -[NSApplication sendAction:to:from:] + 95\n14  com.apple.AppKit                0x00007fff83cf2e39 -[NSControl sendAction:to:] + 94\n15  com.apple.AppKit                0x00007fff83d7e84b -[NSCell trackMouse:inRect:ofView:untilMouseUp:] + 1715\n16  com.apple.AppKit                0x00007fff83daf37a -[NSButtonCell trackMouse:inRect:ofView:untilMouseUp:] + 555\n17  com.apple.AppKit                0x00007fff83d7d2f5 -[NSControl mouseDown:] + 624\n18  com.apple.AppKit                0x00007fff83c973a7 -[NSWindow sendEvent:] + 5409\n19  com.apple.AppKit                0x00007fff83bccafa -[NSApplication sendEvent:] + 4719\n20  com.apple.AppKit                0x00007fff83b636de -[NSApplication run] + 474\n21  com.apple.AppKit                0x00007fff83b5c3b0 NSApplicationMain + 364\n22  uk.co.insili.MY_APP_NAME        0x0000000100001404 0x100000000 + 5124\n\nThread 1:  Dispatch queue: com.apple.libdispatch-manager\n0   libSystem.B.dylib               0x00007fff81749c0a kevent + 10\n1   libSystem.B.dylib               0x00007fff8174badd _dispatch_mgr_invoke + 154\n2   libSystem.B.dylib               0x00007fff8174b7b4 _dispatch_queue_invoke + 185\n3   libSystem.B.dylib               0x00007fff8174b2de _dispatch_worker_thread2 + 252\n4   libSystem.B.dylib               0x00007fff8174ac08 _pthread_wqthread + 353\n5   libSystem.B.dylib               0x00007fff8174aaa5 start_wqthread + 13\n\nThread 2:\n0   libSystem.B.dylib               0x00007fff8174aa2a __workq_kernreturn + 10\n1   libSystem.B.dylib               0x00007fff8174ae3c _pthread_wqthread + 917\n2   libSystem.B.dylib               0x00007fff8174aaa5 start_wqthread + 13\n\nThread 3:\n0   libSystem.B.dylib               0x00007fff81730d7a mach_msg_trap + 10\n1   libSystem.B.dylib               0x00007fff817313ed mach_msg + 59\n2   com.apple.CoreFoundation        0x00007fff8357d902 __CFRunLoopRun + 1698\n3   com.apple.CoreFoundation        0x00007fff8357cd8f CFRunLoopRunSpecific + 575\n4   com.apple.CoreFoundation        0x00007fff8357cb16 CFRunLoopRun + 70\n5   com.apple.DesktopServices       0x00007fff861c8326 TSystemNotificationTask::SystemNotificationTaskProc(void*) + 514\n6   ...ple.CoreServices.CarbonCore  0x00007fff898940d1 PrivateMPEntryPoint + 63\n7   libSystem.B.dylib               0x00007fff81769fd6 _pthread_start + 331\n8   libSystem.B.dylib               0x00007fff81769e89 thread_start + 13\n\nThread 4:\n0   libSystem.B.dylib               0x00007fff8174aa2a __workq_kernreturn + 10\n1   libSystem.B.dylib               0x00007fff8174ae3c _pthread_wqthread + 917\n2   libSystem.B.dylib               0x00007fff8174aaa5 start_wqthread + 13\n\nThread 5:\n0   libSystem.B.dylib               0x00007fff8174aa2a __workq_kernreturn + 10\n1   libSystem.B.dylib               0x00007fff8174ae3c _pthread_wqthread + 917\n2   libSystem.B.dylib               0x00007fff8174aaa5 start_wqthread + 13\n\nThread 6:\n0   libSystem.B.dylib               0x00007fff8174aa2a __workq_kernreturn + 10\n1   libSystem.B.dylib               0x00007fff8174ae3c _pthread_wqthread + 917\n2   libSystem.B.dylib               0x00007fff8174aaa5 start_wqthread + 13\n\nThread 7:\n0   libSystem.B.dylib               0x00007fff8174aa2a __workq_kernreturn + 10\n1   libSystem.B.dylib               0x00007fff8174ae3c _pthread_wqthread + 917\n2   libSystem.B.dylib               0x00007fff8174aaa5 start_wqthread + 13\n\nThread 0 crashed with X86 Thread State (64-bit):\n  rax: 0x3ff0000000000000  rbx: 0x000000010016e970  rcx: 0x00007fff7028d650  rdx: 0x0000000000000018\n  rdi: 0x0000000000000000  rsi: 0x0000000000000008  rbp: 0x00007fff5fbfe7f0  rsp: 0x00007fff5fbfe7d0\n   r8: 0x0000000000000001   r9: 0x000000010016ea30  r10: 0x0000000000000000  r11: 0x0000000000000007\n  r12: 0x0000000000000000  r13: 0x0000000000000008  r14: 0x00000002000bc5a0  r15: 0x0000000200044800\n  rip: 0x00007fff83b669de  rfl: 0x0000000000010206  cr2: 0x0000000000000030\n\nBinary Images:\n       0x100000000 -        0x10000efff +uk.co.insili.MY_APP_NAME 1.0 (1) &lt;D849E4F3-593B-3E81-BF47-7E77A1A060FF&gt; /Users/Kellys/Desktop/MY_APP_NAME +.app/Contents/MacOS/MY_APP_NAME +\n    0x7fff5fc00000 -     0x7fff5fc3bdef  dyld 132.1 (???) &lt;B536F2F1-9DF1-3B6C-1C2C-9075EA219A06&gt; /usr/lib/dyld\n    0x7fff8008f000 -     0x7fff8008fff7  com.apple.Accelerate.vecLib 3.6 (vecLib 3.6) &lt;DA9BFF01-40DF-EBD5-ABB7-787DAF2D77CF&gt; /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/vecLib\n    0x7fff8031a000 -     0x7fff80439fe7  libcrypto.0.9.8.dylib 0.9.8 (compatibility 0.9.8) &lt;14115D29-432B-CF02-6B24-A60CC533A09E&gt; /usr/lib/libcrypto.0.9.8.dylib\n    0x7fff80bcf000 -     0x7fff80c5bfef  SecurityFoundation ??? (???) &lt;6860DE26-0D42-D1E8-CD7C-5B42D78C1E1D&gt; /System/Library/Frameworks/SecurityFoundation.framework/Versions/A/SecurityFoundation\n    0x7fff80c5c000 -     0x7fff80c70ff7  com.apple.speech.synthesis.framework 3.10.35 (3.10.35) &lt;621B7415-A0B9-07A7-F313-36BEEDD7B132&gt; /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/SpeechSynthesis.framework/Versions/A/SpeechSynthesis\n    0x7fff80d1c000 -     0x7fff80e5afff  com.apple.CoreData 102.1 (251) &lt;32233D4D-00B7-CE14-C881-6BF19FD05A03&gt; /System/Library/Frameworks/CoreData.framework/Versions/A/CoreData\n    0x7fff80e90000 -     0x7fff8122dfe7  com.apple.QuartzCore 1.6.3 (227.37) &lt;16DFF6CD-EA58-CE62-A1D7-5F6CE3D066DD&gt; /System/Library/Frameworks/QuartzCore.framework/Versions/A/QuartzCore\n    0x7fff8122e000 -     0x7fff81277fef  libGLU.dylib ??? (???) &lt;B0F4CA55-445F-E901-0FCF-47B3B4BAE6E2&gt; /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGLU.dylib\n    0x7fff81730000 -     0x7fff818f1fef  libSystem.B.dylib 125.2.11 (compatibility 1.0.0) &lt;9AB4F1D1-89DC-0E8A-DC8E-A4FE4D69DB69&gt; /usr/lib/libSystem.B.dylib\n    0x7fff8192c000 -     0x7fff819a9fef  libstdc++.6.dylib 7.9.0 (compatibility 7.0.0) &lt;35ECA411-2C08-FD7D-11B1-1B7A04921A5C&gt; /usr/lib/libstdc++.6.dylib\n    0x7fff82a15000 -     0x7fff82a1bfff  libCGXCoreImage.A.dylib 545.0.0 (compatibility 64.0.0) &lt;D2F8C7E3-CBA1-2E66-1376-04AA839DABBB&gt; /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/CoreGraphics.framework/Versions/A/Resources/libCGXCoreImage.A.dylib\n    0x7fff82a2e000 -     0x7fff82adefff  edu.mit.Kerberos 6.5.11 (6.5.11) &lt;085D80F5-C9DC-E252-C21B-03295E660C91&gt; /System/Library/Frameworks/Kerberos.framework/Versions/A/Kerberos\n    0x7fff82ee6000 -     0x7fff82f07fff  libresolv.9.dylib 41.1.0 (compatibility 1.0.0) &lt;9410EC7F-4D24-6740-AFEE-90405750FAD7&gt; /usr/lib/libresolv.9.dylib\n    0x7fff82f46000 -     0x7fff82f55fff  com.apple.NetFS 3.2.2 (3.2.2) &lt;7CCBD70E-BF31-A7A7-DB98-230687773145&gt; /System/Library/Frameworks/NetFS.framework/Versions/A/NetFS\n    0x7fff82f56000 -     0x7fff831dfff7  com.apple.security 6.1.2 (55002) &lt;772E1B13-8271-02F8-B1FE-023592A7AED7&gt; /System/Library/Frameworks/Security.framework/Versions/A/Security\n    0x7fff8325e000 -     0x7fff83281fff  com.apple.opencl 12.3.6 (12.3.6) &lt;42FA5783-EB80-1168-4015-B8C68F55842F&gt; /System/Library/Frameworks/OpenCL.framework/Versions/A/OpenCL\n    0x7fff83282000 -     0x7fff8339cfff  libGLProgrammability.dylib ??? (???) &lt;D1650AED-02EF-EFB3-100E-064C7F018745&gt; /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGLProgrammability.dylib\n    0x7fff8339d000 -     0x7fff833dbfe7  libFontRegistry.dylib ??? (???) &lt;395D7C0D-36B5-B353-0DC8-51ABC0B1C030&gt; /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ATS.framework/Versions/A/Resources/libFontRegistry.dylib\n    0x7fff833dc000 -     0x7fff83428fff  libauto.dylib ??? (???) &lt;F7221B46-DC4F-3153-CE61-7F52C8C293CF&gt; /usr/lib/libauto.dylib\n    0x7fff83429000 -     0x7fff83442fff  com.apple.CFOpenDirectory 10.6 (10.6) &lt;CCF79716-7CC6-2520-C6EB-A4F56AD0A207&gt; /System/Library/Frameworks/OpenDirectory.framework/Versions/A/Frameworks/CFOpenDirectory.framework/Versions/A/CFOpenDirectory\n    0x7fff83443000 -     0x7fff834e3fff  com.apple.LaunchServices 362.3 (362.3) &lt;B90B7C31-FEF8-3C26-BFB3-D8A48BD2C0DA&gt; /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/LaunchServices.framework/Versions/A/LaunchServices\n    0x7fff834e4000 -     0x7fff834f6fe7  libsasl2.2.dylib 3.15.0 (compatibility 3.0.0) &lt;76B83C8D-8EFE-4467-0F75-275648AFED97&gt; /usr/lib/libsasl2.2.dylib\n    0x7fff8352f000 -     0x7fff83530fff  liblangid.dylib ??? (???) &lt;EA4D1607-2BD5-2EE2-2A3B-632EEE5A444D&gt; /usr/lib/liblangid.dylib\n    0x7fff83531000 -     0x7fff836a8fe7  com.apple.CoreFoundation 6.6.6 (550.44) &lt;BB4E5158-E47A-39D3-2561-96CB49FA82D4&gt; /System/Library/Frameworks/CoreFoundation.framework/Versions/A/CoreFoundation\n    0x7fff837af000 -     0x7fff837b4fff  libGIF.dylib ??? (???) &lt;5B2AF093-1E28-F0CF-2C13-BA9AB4E2E177&gt; /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/Versions/A/Resources/libGIF.dylib\n    0x7fff837b5000 -     0x7fff837bafff  libGFXShared.dylib ??? (???) &lt;6BBC351E-40B3-F4EB-2F35-05BDE52AF87E&gt; /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGFXShared.dylib\n    0x7fff837bb000 -     0x7fff837bbff7  com.apple.ApplicationServices 38 (38) &lt;10A0B9E9-4988-03D4-FC56-DDE231A02C63&gt; /System/Library/Frameworks/ApplicationServices.framework/Versions/A/ApplicationServices\n    0x7fff837f7000 -     0x7fff838cbfe7  com.apple.CFNetwork 454.12.4 (454.12.4) &lt;C83E2BA1-1818-B3E8-5334-860AD21D1C80&gt; /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/CFNetwork.framework/Versions/A/CFNetwork\n    0x7fff8393c000 -     0x7fff83940ff7  libCGXType.A.dylib 545.0.0 (compatibility 64.0.0) &lt;DB710299-B4D9-3714-66F7-5D2964DE585B&gt; /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/CoreGraphics.framework/Versions/A/Resources/libCGXType.A.dylib\n    0x7fff83941000 -     0x7fff83997fe7  libTIFF.dylib ??? (???) &lt;9BC0CAD5-47F2-9B4F-0C10-D50A7A27F461&gt; /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/Versions/A/Resources/libTIFF.dylib\n    0x7fff83998000 -     0x7fff839c9fff  libGLImage.dylib ??? (???) &lt;562565E1-AA65-FE96-13FF-437410C886D0&gt; /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGLImage.dylib\n    0x7fff83b5a000 -     0x7fff84554ff7  com.apple.AppKit 6.6.8 (1038.36) &lt;4CFBE04C-8FB3-B0EA-8DDB-7E7D10E9D251&gt; /System/Library/Frameworks/AppKit.framework/Versions/C/AppKit\n    0x7fff84555000 -     0x7fff845e5fff  com.apple.SearchKit 1.3.0 (1.3.0) &lt;4175DC31-1506-228A-08FD-C704AC9DF642&gt; /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/SearchKit.framework/Versions/A/SearchKit\n    0x7fff845e6000 -     0x7fff8466bff7  com.apple.print.framework.PrintCore 6.3 (312.7) &lt;CDFE82DD-D811-A091-179F-6E76069B432D&gt; /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/PrintCore.framework/Versions/A/PrintCore\n    0x7fff84725000 -     0x7fff847a4fe7  com.apple.audio.CoreAudio 3.2.6 (3.2.6) &lt;79E256EB-43F1-C7AA-6436-124A4FFB02D0&gt; /System/Library/Frameworks/CoreAudio.framework/Versions/A/CoreAudio\n    0x7fff847a5000 -     0x7fff84805fe7  com.apple.framework.IOKit 2.0 (???) &lt;4F071EF0-8260-01E9-C641-830E582FA416&gt; /System/Library/Frameworks/IOKit.framework/Versions/A/IOKit\n    0x7fff84806000 -     0x7fff84813fe7  libCSync.A.dylib 545.0.0 (compatibility 64.0.0) &lt;1C35FA50-9C70-48DC-9E8D-2054F7A266B1&gt; /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/CoreGraphics.framework/Versions/A/Resources/libCSync.A.dylib\n    0x7fff84814000 -     0x7fff8482afef  libbsm.0.dylib ??? (???) &lt;42D3023A-A1F7-4121-6417-FCC6B51B3E90&gt; /usr/lib/libbsm.0.dylib\n    0x7fff84898000 -     0x7fff84932fff  com.apple.ApplicationServices.ATS 275.19 (???) &lt;2DE8987F-4563-4D8E-45C3-2F6F786E120D&gt; /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ATS.framework/Versions/A/ATS\n    0x7fff8498d000 -     0x7fff84a4afff  com.apple.CoreServices.OSServices 359.2 (359.2) &lt;BBB8888E-18DE-5D09-3C3A-F4C029EC7886&gt; /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/OSServices.framework/Versions/A/OSServices\n    0x7fff84a67000 -     0x7fff84b9cfff  com.apple.audio.toolbox.AudioToolbox 1.6.7 (1.6.7) &lt;F4814A13-E557-59AF-30FF-E62929367933&gt; /System/Library/Frameworks/AudioToolbox.framework/Versions/A/AudioToolbox\n    0x7fff84b9d000 -     0x7fff84bbefe7  libPng.dylib ??? (???) &lt;14F055F9-D7B2-27B2-E2CF-F0A222BFF14D&gt; /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/Versions/A/Resources/libPng.dylib\n    0x7fff84bbf000 -     0x7fff84bbfff7  com.apple.Accelerate 1.6 (Accelerate 1.6) &lt;2BB7D669-4B40-6A52-ADBD-DA4DB3BC0B1B&gt; /System/Library/Frameworks/Accelerate.framework/Versions/A/Accelerate\n    0x7fff84bd4000 -     0x7fff84c3efe7  libvMisc.dylib 268.0.1 (compatibility 1.0.0) &lt;75A8D840-4ACE-6560-0889-2AFB6BE08E59&gt; /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libvMisc.dylib\n    0x7fff84c3f000 -     0x7fff85086fef  com.apple.RawCamera.bundle 3.7.1 (570) &lt;5AFA87CA-DC3D-F84E-7EA1-6EABA8807766&gt; /System/Library/CoreServices/RawCamera.bundle/Contents/MacOS/RawCamera\n    0x7fff8527c000 -     0x7fff8529cfff  com.apple.DirectoryService.Framework 3.6 (621.15) &lt;9AD2A133-4275-5666-CE69-98FDF9A38B7A&gt; /System/Library/Frameworks/DirectoryService.framework/Versions/A/DirectoryService\n    0x7fff852e7000 -     0x7fff853a0fff  libsqlite3.dylib 9.6.0 (compatibility 9.0.0) &lt;2C5ED312-E646-9ADE-73A9-6199A2A43150&gt; /usr/lib/libsqlite3.dylib\n    0x7fff856cd000 -     0x7fff8588bfff  libicucore.A.dylib 40.0.0 (compatibility 1.0.0) &lt;0B4ABA92-C1F0-4548-A157-0CFD65561DA5&gt; /usr/lib/libicucore.A.dylib\n    0x7fff858c6000 -     0x7fff858f1ff7  libxslt.1.dylib 3.24.0 (compatibility 3.0.0) &lt;3630A97F-55C1-3F34-CA63-3847653C9645&gt; /usr/lib/libxslt.1.dylib\n    0x7fff858f2000 -     0x7fff85925ff7  libTrueTypeScaler.dylib ??? (???) &lt;B7BA8104-FA18-39A2-56E1-922EE7A660AC&gt; /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ATS.framework/Versions/A/Resources/libTrueTypeScaler.dylib\n    0x7fff859ac000 -     0x7fff85c2efff  com.apple.Foundation 6.6.8 (751.63) &lt;E10E4DB4-9D5E-54A8-3FB6-2A82426066E4&gt; /System/Library/Frameworks/Foundation.framework/Versions/C/Foundation\n    0x7fff85fe6000 -     0x7fff8600efff  com.apple.DictionaryServices 1.1.2 (1.1.2) &lt;E9269069-93FA-2B71-F9BA-FDDD23C4A65E&gt; /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/DictionaryServices.framework/Versions/A/DictionaryServices\n    0x7fff8600f000 -     0x7fff860c5ff7  libobjc.A.dylib 227.0.0 (compatibility 1.0.0) &lt;03140531-3B2D-1EBA-DA7F-E12CC8F63969&gt; /usr/lib/libobjc.A.dylib\n    0x7fff860c6000 -     0x7fff860d1ff7  com.apple.speech.recognition.framework 3.11.1 (3.11.1) &lt;F0DDF27E-DB55-07CE-E548-C62095BE8167&gt; /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/SpeechRecognition.framework/Versions/A/SpeechRecognition\n    0x7fff860d2000 -     0x7fff86150ff7  com.apple.CoreText 151.13 (???) &lt;5C6214AD-D683-80A8-86EB-328C99B75322&gt; /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/CoreText.framework/Versions/A/CoreText\n    0x7fff861c6000 -     0x7fff862abfef  com.apple.DesktopServices 1.5.11 (1.5.11) &lt;39FAA3D2-6863-B5AB-AED9-92D878EA2438&gt; /System/Library/PrivateFrameworks/DesktopServicesPriv.framework/Versions/A/DesktopServicesPriv\n    0x7fff862ac000 -     0x7fff862efff7  libRIP.A.dylib 545.0.0 (compatibility 64.0.0) &lt;5FF3D7FD-84D8-C5FA-D640-90BB82EC651D&gt; /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/CoreGraphics.framework/Versions/A/Resources/libRIP.A.dylib\n    0x7fff863a6000 -     0x7fff863adfff  com.apple.OpenDirectory 10.6 (10.6) &lt;4200CFB0-DBA1-62B8-7C7C-91446D89551F&gt; /System/Library/Frameworks/OpenDirectory.framework/Versions/A/OpenDirectory\n    0x7fff86564000 -     0x7fff86641fff  com.apple.vImage 4.1 (4.1) &lt;C3F44AA9-6F71-0684-2686-D3BBC903F020&gt; /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vImage.framework/Versions/A/vImage\n    0x7fff86642000 -     0x7fff86758ff7  libxml2.2.dylib 10.3.0 (compatibility 10.0.0) &lt;3814FCF9-92B9-A6AB-E76A-F7021894AA3F&gt; /usr/lib/libxml2.2.dylib\n    0x7fff867a5000 -     0x7fff867bbfe7  com.apple.MultitouchSupport.framework 207.11 (207.11) &lt;8233CE71-6F8D-8B3C-A0E1-E123F6406163&gt; /System/Library/PrivateFrameworks/MultitouchSupport.framework/Versions/A/MultitouchSupport\n    0x7fff867be000 -     0x7fff86808ff7  com.apple.Metadata 10.6.3 (507.15) &lt;DE238BE4-5E22-C4D5-CF5C-3D50FDEE4701&gt; /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/Metadata.framework/Versions/A/Metadata\n    0x7fff86809000 -     0x7fff869c8fff  com.apple.ImageIO.framework 3.0.6 (3.0.6) &lt;2C39859A-043D-0EB0-D412-EC2B5714B869&gt; /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/Versions/A/ImageIO\n    0x7fff869c9000 -     0x7fff86a0afff  com.apple.SystemConfiguration 1.10.8 (1.10.2) &lt;78D48D27-A9C4-62CA-2803-D0BBED82855A&gt; /System/Library/Frameworks/SystemConfiguration.framework/Versions/A/SystemConfiguration\n    0x7fff86ae6000 -     0x7fff86b0bff7  com.apple.CoreVideo 1.6.2 (45.6) &lt;E138C8E7-3CB6-55A9-0A2C-B73FE63EA288&gt; /System/Library/Frameworks/CoreVideo.framework/Versions/A/CoreVideo\n    0x7fff86b3c000 -     0x7fff86b3efff  libRadiance.dylib ??? (???) &lt;61631C08-60CC-D122-4832-EA59824E0025&gt; /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/Versions/A/Resources/libRadiance.dylib\n    0x7fff86bcd000 -     0x7fff86bdbff7  libkxld.dylib ??? (???) &lt;8145A534-95CC-9F3C-B78B-AC9898F38C6F&gt; /usr/lib/system/libkxld.dylib\n    0x7fff86bdc000 -     0x7fff86bebfef  com.apple.opengl 1.6.14 (1.6.14) &lt;ECAE2D12-5BE3-46E7-6EE5-563B80B32A3E&gt; /System/Library/Frameworks/OpenGL.framework/Versions/A/OpenGL\n    0x7fff86c5e000 -     0x7fff86d13fe7  com.apple.ink.framework 1.3.3 (107) &lt;FFC46EE0-3544-A459-2AB9-94778A75E3D4&gt; /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/Ink.framework/Versions/A/Ink\n    0x7fff86d14000 -     0x7fff86d63ff7  com.apple.DirectoryService.PasswordServerFramework 6.1 (6.1) &lt;01B370FB-D524-F660-3826-E85B7F0D85CD&gt; /System/Library/PrivateFrameworks/PasswordServer.framework/Versions/A/PasswordServer\n    0x7fff86d64000 -     0x7fff86d9ffff  com.apple.AE 496.5 (496.5) &lt;208DF391-4DE6-81ED-C697-14A2930D1BC6&gt; /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/AE.framework/Versions/A/AE\n    0x7fff86da0000 -     0x7fff86db1ff7  libz.1.dylib 1.2.3 (compatibility 1.0.0) &lt;FB5EE53A-0534-0FFA-B2ED-486609433717&gt; /usr/lib/libz.1.dylib\n    0x7fff86db2000 -     0x7fff86df9ff7  com.apple.coreui 2 (114) &lt;D7645B59-0431-6283-7322-957D944DAB21&gt; /System/Library/PrivateFrameworks/CoreUI.framework/Versions/A/CoreUI\n    0x7fff86dfa000 -     0x7fff87604fe7  libBLAS.dylib 219.0.0 (compatibility 1.0.0) &lt;FC941ECB-71D0-FAE3-DCBF-C5A619E594B8&gt; /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libBLAS.dylib\n    0x7fff87605000 -     0x7fff87605ff7  com.apple.Cocoa 6.6 (???) &lt;68B0BE46-6E24-C96F-B341-054CF9E8F3B6&gt; /System/Library/Frameworks/Cocoa.framework/Versions/A/Cocoa\n    0x7fff87606000 -     0x7fff8765bff7  com.apple.framework.familycontrols 2.0.2 (2020) &lt;F09541B6-5E28-1C01-C1AE-F6A2508670C7&gt; /System/Library/PrivateFrameworks/FamilyControls.framework/Versions/A/FamilyControls\n    0x7fff8765c000 -     0x7fff87a9ffef  libLAPACK.dylib 219.0.0 (compatibility 1.0.0) &lt;0CC61C98-FF51-67B3-F3D8-C5E430C201A9&gt; /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libLAPACK.dylib\n    0x7fff87aa0000 -     0x7fff87aa6ff7  com.apple.CommerceCore 1.0 (9.1) &lt;3691E9BA-BCF4-98C7-EFEC-78DA6825004E&gt; /System/Library/PrivateFrameworks/CommerceKit.framework/Versions/A/Frameworks/CommerceCore.framework/Versions/A/CommerceCore\n    0x7fff87ab5000 -     0x7fff87ab8ff7  libCoreVMClient.dylib ??? (???) &lt;75819794-3B7A-8944-D004-7EA6DD7CE836&gt; /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libCoreVMClient.dylib\n    0x7fff87ecd000 -     0x7fff87f07fff  libcups.2.dylib 2.8.0 (compatibility 2.0.0) &lt;4F2A4397-89BD-DEAC-4971-EE838FFA0964&gt; /usr/lib/libcups.2.dylib\n    0x7fff87f21000 -     0x7fff87fe3fe7  libFontParser.dylib ??? (???) &lt;EF06F16C-0CC9-B4CA-7BD9-0A97FA967340&gt; /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ATS.framework/Versions/A/Resources/libFontParser.dylib\n    0x7fff8816b000 -     0x7fff8816bff7  com.apple.CoreServices 44 (44) &lt;DC7400FB-851E-7B8A-5BF6-6F50094302FB&gt; /System/Library/Frameworks/CoreServices.framework/Versions/A/CoreServices\n    0x7fff8816c000 -     0x7fff8846afff  com.apple.HIToolbox 1.6.5 (???) &lt;AD1C18F6-51CB-7E39-35DD-F16B1EB978A8&gt; /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/HIToolbox.framework/Versions/A/HIToolbox\n    0x7fff894d2000 -     0x7fff89593fef  com.apple.ColorSync 4.6.8 (4.6.8) &lt;7DF1D175-6451-51A2-DBBF-40FCA78C0D2C&gt; /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ColorSync.framework/Versions/A/ColorSync\n    0x7fff897b8000 -     0x7fff897b9ff7  com.apple.TrustEvaluationAgent 1.1 (1) &lt;74800EE8-C14C-18C9-C208-20BBDB982D40&gt; /System/Library/PrivateFrameworks/TrustEvaluationAgent.framework/Versions/A/TrustEvaluationAgent\n    0x7fff897ba000 -     0x7fff897baff7  com.apple.vecLib 3.6 (vecLib 3.6) &lt;08D3D45D-908B-B86A-00BA-0F978D2702A7&gt; /System/Library/Frameworks/vecLib.framework/Versions/A/vecLib\n    0x7fff8980b000 -     0x7fff89811ff7  com.apple.DiskArbitration 2.3 (2.3) &lt;857F6E43-1EF4-7D53-351B-10DE0A8F992A&gt; /System/Library/Frameworks/DiskArbitration.framework/Versions/A/DiskArbitration\n    0x7fff89812000 -     0x7fff89865ff7  com.apple.HIServices 1.8.3 (???) &lt;F6E0C7A7-C11D-0096-4DDA-2C77793AA6CD&gt; /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/HIServices.framework/Versions/A/HIServices\n    0x7fff8988d000 -     0x7fff89bc1fef  com.apple.CoreServices.CarbonCore 861.39 (861.39) &lt;1386A24D-DD15-5903-057E-4A224FAF580B&gt; /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/CarbonCore.framework/Versions/A/CarbonCore\n    0x7fff89bec000 -     0x7fff89bf0ff7  libmathCommon.A.dylib 315.0.0 (compatibility 1.0.0) &lt;95718673-FEEE-B6ED-B127-BCDBDB60D4E5&gt; /usr/lib/system/libmathCommon.A.dylib\n    0x7fff89bfa000 -     0x7fff89c0efff  libGL.dylib ??? (???) &lt;2ECE3B0F-39E1-3938-BF27-7205C6D0358B&gt; /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib\n    0x7fff89c0f000 -     0x7fff89c50fef  com.apple.QD 3.36 (???) &lt;5DC41E81-32C9-65B2-5528-B33E934D5BB4&gt; /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/QD.framework/Versions/A/QD\n    0x7fff89c51000 -     0x7fff8a34dff7  com.apple.CoreGraphics 1.545.0 (???) &lt;58D597B1-EB3B-710E-0B8C-EC114D54E11B&gt; /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/CoreGraphics.framework/Versions/A/CoreGraphics\n    0x7fff8a34e000 -     0x7fff8a354ff7  IOSurface ??? (???) &lt;04EDCEDE-E36F-15F8-DC67-E61E149D2C9A&gt; /System/Library/Frameworks/IOSurface.framework/Versions/A/IOSurface\n    0x7fff8a604000 -     0x7fff8a62bff7  libJPEG.dylib ??? (???) &lt;472D4A31-C1F3-57FD-6453-6621C48B95BF&gt; /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/Versions/A/Resources/libJPEG.dylib\n    0x7fff8a62c000 -     0x7fff8a641ff7  com.apple.LangAnalysis 1.6.6 (1.6.6) &lt;DC999B32-BF41-94C8-0583-27D9AB463E8B&gt; /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/LangAnalysis.framework/Versions/A/LangAnalysis\n    0x7fff8a6c9000 -     0x7fff8a6caff7  com.apple.audio.units.AudioUnit 1.6.7 (1.6.7) &lt;49B723D1-85F8-F86C-2331-F586C56D68AF&gt; /System/Library/Frameworks/AudioUnit.framework/Versions/A/AudioUnit\n    0x7fff8a764000 -     0x7fff8a7acff7  libvDSP.dylib 268.0.1 (compatibility 1.0.0) &lt;170DE04F-89AB-E295-0880-D69CAFBD7979&gt; /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libvDSP.dylib\n    0x7fffffe00000 -     0x7fffffe01fff  libSystem.B.dylib ??? (???) &lt;9AB4F1D1-89DC-0E8A-DC8E-A4FE4D69DB69&gt; /usr/lib/libSystem.B.dylib\n\nModel: iMac5,1, BootROM IM51.0090.B09, 2 processors, Intel Core 2 Duo, 2.16 GHz, 2 GB, SMC 1.9f4\nGraphics: ATI Radeon X1600, ATY,RadeonX1600, PCIe, 256 MB\nMemory Module: global_name\nAirPort: spairport_wireless_card_type_airport_extreme (0x14E4, 0x87), Broadcom BCM43xx 1.0 (5.10.131.42.4)\nBluetooth: Version 2.4.5f3, 2 service, 19 devices, 1 incoming serial ports\nNetwork Service: Built-in Ethernet, Ethernet, en0\nNetwork Service: AirPort, AirPort, en1\nSerial ATA Device: ST3250824AS  Q, 232.89 GB\nParallel ATA Device: MATSHITADVD-R   UJ-85J\nUSB Device: Built-in iSight, 0x05ac  (Apple Inc.), 0x8501, 0xfd400000 / 2\nUSB Device: Dell USB Optical Mouse, 0x413c  (Dell Inc.), 0x3012, 0x1d100000 / 2\nUSB Device: Bluetooth USB Host Controller, 0x05ac  (Apple Inc.), 0x8206, 0x7d100000 / 2\nUSB Device: IR Receiver, 0x05ac  (Apple Inc.), 0x8240, 0x7d200000 / 3\n</code></pre>\n\n<p>Please, help! :-)</p>\n\n<hr>\n\n<p><strong>HINT :</strong> (if it matters at all) <code>[self thePanel]</code> (the window on which the <code>NSOpenPanel</code> appears as an alert sheet) is a HUD window, and not a \"regular\" one.</p>\n"},{"tags":["objective-c","xcode","cocoa","appkit"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":64,"score":0,"question_id":12888917,"title":"Event Handling Without Subclassing","body":"<p>I've recently watched some Lynda tutorials on how to program in Objective C and Cocoa. Coming from a PHP and C# background, one thing caught my attention - event handling. As I was watching the tutorials, the mentor was going through subclassing in order to attach to events.</p>\n\n<p>He eventually discussed creating delegates and attaching to the events that way - better, but still not near as easy as C#. However, I later found out that not everything has a delegate, which makes things even <em>more</em> difficult.</p>\n\n<p>I've been searching the Internet for a way to handle events without making a subclass so that I don't end up with this application that has an enormous amount of files, but to no avail.</p>\n\n<p>I'm specifically trying to attach to a mouseLeave or mouseOut event for a NSSlider object so that I can hide a label once it's finished sliding.</p>\n\n<p>Is there some way I can attach to the event without doing any subclassing, or is creating subclass after subclass something that I should just get used to?</p>\n"},{"tags":["iphone","ios","xml","cocoa","xmpp"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":52,"score":-2,"question_id":12318388,"title":"how to make call on xmpp","body":"<p>I have to use XMPP for processing below request. </p>\n\n<pre><code>    &lt;query xmlns='http://rappidcars.co.uk/protocol/venue#search'&gt;\n    &lt;location&gt;\n    &lt;lat&gt;52.397476&lt;/lat&gt;\n    &lt;lon&gt;-1.530039&lt;/lon&gt;\n    &lt;/location&gt;\n    &lt;set xmlns='http://jabber.org/protocol/rsm'&gt;\n    &lt;index&gt;0&lt;/index&gt;\n    &lt;max&gt;10&lt;/max&gt;\n    &lt;/set&gt;\n    &lt;/query&gt;\n</code></pre>\n\n<p>Need to implement this in iOS. tried <a href=\"https://github.com/robbiehanson/XMPPFramework\" rel=\"nofollow\">https://github.com/robbiehanson/XMPPFramework</a>. But not solved. Don't know how to do this?</p>\n"},{"tags":["cocoa","interface-builder"],"answer_count":3,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":1188,"score":3,"question_id":1260272,"title":"Cocoa Interface Builder's 'Attributes Inspector' like window","body":"<p>I'm making a Cocoa application, and I would like a panel like the 'Attributes Inspector' in Interface Builder. So with big tabs on the top and collapsable/expandable groups. Does anyone know how I can do this?</p>\n\n<p>This is an image of the Attributes Inspector:</p>\n\n<p><img src=\"http://developer.apple.com/documentation/DeveloperTools/Conceptual/XcodeQuickTour/Art/hello_win_attributes.jpg\" alt=\"Attributes Inspector\"></p>\n\n<p>So I actually want to make a window like the one shown in the image above.</p>\n"},{"tags":["cocoa","osx"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":377,"score":1,"question_id":5729363,"title":"Default Save location of document in Cocoa document based application","body":"<p>I have created a Cocoa document based picture drawing application. I want that the default location of a new document created using my app in Save/Save As dialog should be in ~/Pictures/MyAppName/ directory.</p>\n\n<p>How can I achieve this?</p>\n\n<p>I tried more or less what Ole suggested below, but it doesn't work. Here is my implementation of prepareSavePanel. What am I doing wrong?</p>\n\n<pre><code>- (BOOL)prepareSavePanel:(NSSavePanel *)savePanel\n{\n    if ([self fileURL] == nil) {\n        //new, not saved yet\n        [savePanel setExtensionHidden:NO];\n\n        //set default save location        \n        NSArray *paths = NSSearchPathForDirectoriesInDomains(NSPicturesDirectory, NSUserDomainMask, YES);\n\n        if ([paths count] &gt; 0) {\n            NSString *userPicturesPath = [paths objectAtIndex:0];\n            NSString *myDirPath = [userPicturesPath stringByAppendingPathComponent:@\"MyAppName\"];\n\n\n            //create directory is it doesn't already exist\n            NSFileManager *fileManager = [NSFileManager defaultManager];\n            BOOL isDir;\n            BOOL useMyAppDir = NO;\n            if([fileManager fileExistsAtPath:myDirPath isDirectory:&amp;isDir]){\n                if (isDir) {\n                    useMyAppDir = YES;\n                }\n            } else {\n                //create the directory\n                if([fileManager createDirectoryAtPath:myDirPath withIntermediateDirectories:YES attributes:nil error:nil]){\n                    useMyAppDir = YES;\n                }\n            }\n\n            if (useMyAppDir) {\n                NSURL * myAppDirectoryURL = [NSURL URLWithString:myDirPath];\n                [savePanel setDirectoryURL:myAppDirectoryURL];\n            }\n        }\n    } else {\n        [savePanel setExtensionHidden:[self fileNameExtensionWasHiddenInLastRunSavePanel]];\n    }\n\n    return YES;\n}\n</code></pre>\n"},{"tags":["objective-c","xcode","cocoa","nswindow","nspanel"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":12883894,"title":"Is it possible to have focus on an NSPanel without losing focus of other background windows?","body":"<p>I have a custom NSPanel: <a href=\"http://cl.ly/K8SY\" rel=\"nofollow\">http://cl.ly/K8SY</a></p>\n\n<p>I have it set to NSPopUpMenuWindowLevel, the level at which I want it to stay as. An example is the spotlight menu, when you click on it any other focus in the windows in the background remains yet you can still type into the search field. </p>\n\n<p>I open it with:</p>\n\n<pre><code>[window orderFront:nil]\n</code></pre>\n\n<p>but this doesn't focus on the window as well as the background.</p>\n\n<p>Is it possible to achieve this? If so, how?</p>\n"},{"tags":["iphone","cocoa","cocoa-touch"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1279,"score":0,"question_id":558626,"title":"UINavigationController on top of a modal view","body":"<p>I have a modal view controller that I put onto screen using <code>presentModalViewController:animated</code>. This particular view controller, an instance of <code>UIViewController</code>, has a <code>UITableView</code> and cells with further <code>detailAccessory</code> options. Clicking on a date row should allow a controller with <code>UIDatePicker</code> to populate on the screen. The problem is this:</p>\n\n<ol>\n<li>You cannot put two modal views onto screen at once.</li>\n<li>Because of constraint #1, I have to use <code>UINavigationController</code> and <code>pushViewController:animated:</code>. What this does is push my controller with a <code>UIDatePicker</code> on top of the stack, but physically BELOW my modal view controller.</li>\n</ol>\n\n<p>Does this imply that my modal view controller needs its own <code>UINavigationController</code>? What's the best bet to go about this?</p>\n"},{"tags":["iphone","cocoa","image","colors","core-graphics"],"answer_count":2,"favorite_count":6,"up_vote_count":13,"down_vote_count":0,"view_count":6206,"score":13,"question_id":560254,"title":"kCGColorSpaceGenericRGB is deprecated on iPhone?","body":"<p>I'm trying to get bitmap context with the following code:</p>\n\n<pre><code>GContextRef MyCreateBitmapContext (int pixelsWide, int pixelsHigh)\n{\n    CGContextRef    context = NULL;\n    CGColorSpaceRef colorSpace;\n    void *          bitmapData;\n    int             bitmapByteCount;\n    int             bitmapBytesPerRow;\n\n    bitmapBytesPerRow   = (pixelsWide * 4);                          // 1\n    bitmapByteCount     = (bitmapBytesPerRow * pixelsHigh);\n\n    colorSpace = CGColorSpaceCreateWithName(kCGColorSpaceGenericRGB);// 2\n    bitmapData = malloc( bitmapByteCount );                          // 3\n    if (bitmapData == NULL)\n    {\n        fprintf (stderr, \"Memory not allocated!\");\n        return NULL;\n    }\n\n    context = CGBitmapContextCreate (bitmapData,                     // 4\n                                    pixelsWide,\n                                    pixelsHigh,\n                                    8,      // bits per component\n                                    bitmapBytesPerRow,\n                                    colorSpace,\n                                    kCGImageAlphaPremultipliedLast);\n    if (context== NULL)\n    {\n        free (bitmapData);                                          // 5\n        fprintf (stderr, \"Context not created!\");\n        return NULL;\n    }\n\n    CGColorSpaceRelease( colorSpace );                              // 6\n    return context;                                                 // 7\n}\n</code></pre>\n\n<p>A warning says:<code>'kCGColorSpaceGenericRGB' is deprecated.</code></p>\n\n<p>Does this mean that <code>colorSpace</code> is unchangeable?  If that is true, we'll be unable to change the color data of any images using <code>colorSpace</code>. And how to process image then?</p>\n"},{"tags":["iphone","objective-c","cocoa","cocoa-touch"],"answer_count":2,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":10577,"score":3,"question_id":572132,"title":"NSDate and NSDateFormatter issues","body":"<p>I'm having slight difficulty in understanding why the following code is crashing an app of mine:</p>\n\n<pre><code>NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];\n[dateFormatter setDateFormat:@\"MMMM d, yyyy\"];\nNSDate *date = [dateFormatter dateFromString:cDate];\ndatePicker.date = date;\nNSString *dateStr = [dateFormatter stringFromDate:date]; \n[dateLabel setText:dateStr];\n[dateFormatter release];\n</code></pre>\n\n<p>If I comment the above out, app is fine. Also if I change the date format to the following no crash happens:</p>\n\n<pre><code>[dateFormatter setDateFormat:@\"yyyy-MM-dd\"];\n</code></pre>\n\n<p>In my <code>UIDatePicker</code> delegate, I have repeated code that looks like the following (and works great):</p>\n\n<pre><code>-(IBAction)datePickerValueChanged:(id)sender \n{\n    NSDate *date = [datePicker date];       \n    NSDateFormatter *dateFormatter = [[[NSDateFormatter alloc] init] autorelease];\n    [dateFormatter setDateFormat:@\"MMMM d, yyyy\"];\n    NSString *dateStr = [dateFormatter stringFromDate:date]; \n    [dateLabel setText:dateStr]; \n}\n</code></pre>\n\n<p>The error I get is the following:</p>\n\n<pre><code>*** Assertion failure in -[UIDatePickerView _updateBitsForDate:andReload:animateIfNeeded:], /SourceCache/UIKit/UIKit-747.38/UIDatePicker.m:892\n\n*** Terminating app due to uncaught exception 'NSInternalInconsistencyException', reason: 'Invalid parameter not satisfying: date'\n</code></pre>\n"},{"tags":["cocoa-touch","cocoa","uiviewcontroller"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":12883993,"title":"Where to code the placement and configuration of subviews in a UIView belonging to a UIViewController","body":"<p>It just occurred to me that I may not be doing this right.  I've been told a couple of times that the <code>viewDidLoad</code> method  is called upon the first reference to <code>self.view</code>. Therefore, the following code</p>\n\n<pre><code>- (id)initWithFrame:(CGRect)frame{\nself = [super initWithNibName:nil bundle:nil];\nif (self) {\n\n    self.view.frame = frame;\n\n    }\n    return self;\n}\n</code></pre>\n\n<p>has the frame assignment done after <code>viewDidLoad</code> is executed.</p>\n\n<p>Therefore, any reference to self.view.frame inside <code>viewDidLoad</code> is not going to refer to the correct frame.</p>\n\n<p>More importantly, if I am using autoresizingMask (struts and springs) for the subviews inside the main view (self.view), any proportional spacing is going to be based on the wrong initial proportions. The documentation on autoresizingMask states:</p>\n\n<blockquote>\n  <p>When more than one option along the same axis is set, the default behavior is to distribute the size difference proportionally among the flexible portions. </p>\n</blockquote>\n\n<p>What is the right way to configure the view of a UIViewController? Is it as simple as configuring and adding subviews in the <code>viewWillAppear</code> or <code>viewDidAppear</code> methods?</p>\n"},{"tags":["osx","cocoa","autocomplete","background","code-snippets"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":12883555,"title":"What API to use in Mac to make snippet expansion","body":"<p>I am trying to write an app which will be similar to TextExpander and DashExpander.\nI want to autoreplace some text i type, want to know which API.</p>\n\n<p>Main API's needed for</p>\n\n<ul>\n<li>detect snippet in other application while typing</li>\n<li>replace with complete snippet code</li>\n</ul>\n\n<p>I am not sure where to begin on API's, i have good experience with iOS development, new to Mac.</p>\n\n<p>I searched for Demo Monkey, other samples. there seems to be too many. Can someone please point me towards some TOPIC names or DEMO code which will help in creating this.</p>\n"},{"tags":["iphone","cocoa","typescript"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":75,"score":1,"question_id":12882590,"title":"What is the UTI for typescript .ts files?","body":"<p>Is there any place where I can find the official <a href=\"http://en.wikipedia.org/wiki/Uniform_Type_Identifier\" rel=\"nofollow\">UTI</a> string for the typescript files?</p>\n\n<p>I need it to add it to my Info.plist in my Cocoa/Cocoa-touch App I know I could easily add <code>com.microsoft.typescript</code> but I would rather add the official UTI for it :)</p>\n\n<p>Any help is highly appreciated</p>\n\n<p>PS: This is a <a href=\"http://developer.apple.com/library/ios/#documentation/Miscellaneous/Reference/UTIRef/Articles/System-DeclaredUniformTypeIdentifiers.html%23//apple_ref/doc/uid/TP40009259-SW1\" rel=\"nofollow\">list of some UTI</a>s declared in the system</p>\n"},{"tags":["iphone","objective-c","cocoa","cocoa-touch"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":1053,"score":3,"question_id":490148,"title":"How can I use OCMock objects with code that calls isKindOfClass?","body":"<p>I'd like to test some code with OCMock. </p>\n\n<p>The innards of the code are calling <code>[NSObject isKindOfClass]</code> on the mock object I'm providing to the code, like so:</p>\n\n<pre><code>if ([object isKindOfClass:[FancyClass class]]) { ...}\n</code></pre>\n\n<p>However, when I provide an OCMockObject-based mock created like this:</p>\n\n<pre><code>mock = [OCMockObject mockForClass:[FancyClass class]];\n</code></pre>\n\n<p>it appears that it does not pass the <code>isKindOfClass</code> test.</p>\n\n<p>Any suggestions?</p>\n"},{"tags":["objective-c","cocoa","asyncsocket"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":49,"score":0,"question_id":12875353,"title":"AsyncSocket doesn't work for me","body":"<p>I'll start by saying i did look and searched everywhere before asking here\nI'm trying to write a simple app for iphone the simply connect to an IP and port via telnet,\nI tried everything i'm new to  obj-c (in java it took me four min),\nI don't want to use threads but i heard that asyncsoket is pretty good.. well i don't know why but when I try:</p>\n\n<pre><code>AsyncSocket * socket = [[AsyncSocket alloc] initwithDelegate:self];\n</code></pre>\n\n<pre class=\"lang-none prettyprint-override\"><code>[socket connectToHost:@\"localhost\" onPort:444 error:&amp;err]\n</code></pre>\n\n<p>(which is a server that works)\nits simply not connecting...</p>\n\n<p>All I need is to connect to a socket write and read data...<br>\nIs there any simple code example (no threading, no runloop) that I can use as a base?</p>\n"},{"tags":["objective-c","osx","cocoa","crash-reports"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":115,"score":0,"question_id":12878966,"title":"Having trouble with a Crash Report - EXC_BAD_ACCESS","body":"<p>OK, SO I've received a crash report for one of my apps, but I swear I'm 100% confused.</p>\n\n<p>This is what the \"core\" part of it looks like :</p>\n\n<pre><code>Crashed Thread:  0  Dispatch queue: com.apple.main-thread\n\nException Type:  EXC_BAD_ACCESS (SIGSEGV)\nException Codes: KERN_INVALID_ADDRESS at 0x0000000000000000\n\nVM Regions Near 0:\n--&gt; \n    __TEXT                 0000000100000000-0000000100015000 [   84K] r-x/rwx SM=COW  /Applications/MY_APP/Contents/MacOS/MY_APP\n\nApplication Specific Information:\nobjc[337]: garbage collection is ON\n\nThread 0 Crashed:: Dispatch queue: com.apple.main-thread\n0   libsystem_c.dylib               0x00007fff90128650 strlen + 16\n1   MY_BUNDLE_ID                    0x0000000100008f12 0x100000000 + 36626\n2   MY_BUNDLE_ID                    0x000000010000b435 0x100000000 + 46133\n3   MY_BUNDLE_ID                    0x0000000100003c90 0x100000000 + 15504\n4   com.apple.CoreFoundation        0x00007fff9065147a _CFXNotificationPost + 2554\n5   com.apple.Foundation            0x00007fff8e5fe846 -[NSNotificationCenter postNotificationName:object:userInfo:] + 64\n6   com.apple.AppKit                0x00007fff9a7894a7 -[NSTableView textDidChange:] + 377\n7   com.apple.CoreFoundation        0x00007fff9065147a _CFXNotificationPost + 2554\n8   com.apple.Foundation            0x00007fff8e5fe846 -[NSNotificationCenter postNotificationName:object:userInfo:] + 64\n9   com.apple.AppKit                0x00007fff9a15c260 -[NSTextView(NSSharing) didChangeText] + 339\n10  com.apple.AppKit                0x00007fff9a7f8381 _NSDoUserReplaceForCharRange + 390\n11  com.apple.AppKit                0x00007fff9a7f85b1 _NSDoUserDeleteForCharRange + 38\n12  com.apple.AppKit                0x00007fff9a7e1e72 -[NSTextView(NSKeyBindingCommands) deleteBackward:] + 440\n13  com.apple.AppKit                0x00007fff9a18a1cc -[NSResponder doCommandBySelector:] + 75\n14  com.apple.AppKit                0x00007fff9a18a02e -[NSTextView doCommandBySelector:] + 197\n15  com.apple.AppKit                0x00007fff9a20cf4e -[NSKeyBindingManager(NSKeyBindingManager_MultiClients) interpretEventAsCommand:forClient:] + 2200\n16  com.apple.AppKit                0x00007fff9a20c3bb -[NSTextInputContext handleEvent:] + 939\n17  com.apple.AppKit                0x00007fff9a20bf87 -[NSView interpretKeyEvents:] + 183\n18  com.apple.AppKit                0x00007fff9a158f67 -[NSTextView keyDown:] + 723\n19  com.apple.AppKit                0x00007fff9a374120 -[NSWindow sendEvent:] + 9687\n20  com.apple.AppKit                0x00007fff9a36f744 -[NSApplication sendEvent:] + 5761\n21  com.apple.AppKit                0x00007fff9a2852fa -[NSApplication run] + 636\n22  com.apple.AppKit                0x00007fff9a229cb6 NSApplicationMain + 869\n23  MY_BUNDLE_ID                        0x0000000100002014 0x100000000 + 8212\n</code></pre>\n\n<p>Do you have any idea what might be going wrong? \nOr could you just point me to the right direction?</p>\n\n<hr>\n\n<p><strong>As an aside :</strong></p>\n\n<p>Could anyone guide me how to make e.g. <code>0x00007fff90128650</code> more... meaningful and make it (in some future crash report) also show the name of the function?</p>\n"},{"tags":["objective-c","cocoa","concurrency"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":12881916,"title":"Writing a cocoa networking library should I care about concurrency?","body":"<p>I am preparing to write a networking library which implements a certain networking protocol. I link against cocoa so I will use NsStream to communicate with the server (TCP).</p>\n\n<p>NSStream's delegate methods are dependent on a run loop.</p>\n\n<p>Is it the library user's responsibility to set up a run loop or mine? If the 2nd answer should I create my run loop on a secondary thread then? </p>\n"},{"tags":["objective-c","cocoa","nsxml","nsxmldocument"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":12881086,"title":"How to remove error in opening xml file in Cocoa","body":"<p>To start with Cocoa xml read write coding I have created a sample application, where I am able to write into XML file but getting some errors in reading. Below is the code for that.</p>\n\n<pre><code>NSXMLElement * root = [[NSXMLElement alloc ] initWithName:@\"Book\"]\nNSXMLDocument * xmlDoc = [[NSXMLDocument alloc ] initWithRootElement: root ];\n[root addChild:[NSXMLElement elementWithName: @\"Name\" stringValue:@\"book name\"]];\n[root addChild:[NSXMLElement elementWithName:@\"Author\" stringValue:@\"bool author\"]];\n NSData * xmlData = [xmlDoc XMLDataWithOptions:NSXMLNodePrettyPrint];\n[xmlData writeToFile:[@\"~/Desktop/book.xml\" stringByExpandingTildeInPath ]\n atomically:YES];\n[xmlDoc release ];\n</code></pre>\n\n<p>This works fine and book.xml is created.\nBut when tried to read this file, I am facing issues in opening this file.\nHere is the code for that.</p>\n\n<pre><code>NSString *strValue = [@\"~/Desktop/book.xml\" stringByExpandingTildeInPath];\nNSURL * strUrl = [NSURL URLWithString:strValue];\nNSError * err = nil;\nNSXMLDocument  * xmlDoc = [[NSXMLDocument alloc] initWithContentsOfURL:strUrl    \noptions:NSXMLDocumentTidyXML error:&amp;err];\nNSXMLNode * rootNode = [xmlDoc rootElement ];\n[xmlDoc release ];\n</code></pre>\n\n<p>value of xmlDoc is nil.</p>\n\n<p>Your answers will be highly appreciated.</p>\n\n<p>Thanks,\nTausif.</p>\n"},{"tags":["objective-c","cocoa","interface-builder","nstextfield"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":89,"score":1,"question_id":12863058,"title":"How to change the text Color within the drawRect of a custom NSTextfield","body":"<p>I use a own class OMNTextfield subclass of NSTextfield to display text and animate the text if the text lenght is greater than the control width. </p>\n\n<p>The text is animated like song title in iTunes. It work like a charm !</p>\n\n<p>Now i want to change the text's color and the text alignment. I've search for a while setTextcolor, setAlignment, viewWillDraw, cellClass, ... but nothing work => My text is still black !</p>\n\n<p><a href=\"http://dl.free.fr/lp39qvEqE\" rel=\"nofollow\">You can find the complete code here (Xcode project)</a></p>\n\n<p>My question : How to change the text color/alignment in a NSTextfield subclass ?</p>\n\n<p>Acoording <a href=\"http://stackoverflow.com/questions/3065676/subclassing-an-nstextfield\">to this post</a> the code bellow should work but it doesn't !</p>\n\n<pre><code>-(void)viewWillDraw { // or whatever is the Appkit equivalent\n      [super setTextColor:[NSColor redColor]];\n}\n</code></pre>\n\n<p>Complete code :</p>\n\n<pre><code>//\n//  OMNTextField.h\n\n\n#import &lt;Cocoa/Cocoa.h&gt;\n\n@interface OMNTextField : NSTextField {\n    NSTimer * scroller;\n    NSPoint point;\n    NSString * text;\n    NSTimeInterval speed;\n    CGFloat stringWidth;\n}\n\n- (void) setText:(NSString *)newText;\n\n@property (nonatomic, copy) NSString * text;\n@property (nonatomic) NSTimeInterval speed;\n\n@end\n\n//\n//  OMNTextField.m\n\n#import \"OMNTextField.h\"\n\n@implementation OMNTextField\n\n@synthesize text;\n@synthesize speed;\n\n\n- (void) dealloc {\n    [text release];\n    [scroller invalidate];\n    [super dealloc];\n}\n\n- (void) setText:(NSString *)newText {\n    NSLog(@\"[%@ %@] *** \", NSStringFromClass([self class]), NSStringFromSelector(_cmd));\n    [text release];\n    text = [newText copy];\n    point = NSZeroPoint;\n\n    stringWidth = [newText sizeWithAttributes:nil].width;\n\n    if (scroller == nil &amp;&amp; speed &gt; 0 &amp;&amp; text != nil) {\n        scroller = [NSTimer scheduledTimerWithTimeInterval:speed target:self selector:@selector(moveText:) userInfo:nil repeats:YES];\n    }\n}\n\n- (void) setSpeed:(NSTimeInterval)newSpeed {\n    if (newSpeed != speed) {\n        speed = newSpeed;\n\n        [scroller invalidate];\n        if (speed &gt; 0 &amp;&amp; text != nil) {\n            scroller = [NSTimer scheduledTimerWithTimeInterval:speed target:self selector:@selector(moveText:) userInfo:nil repeats:YES];\n        }\n    }\n}\n\n-(void)viewWillDraw {\n    [super setTextColor:[NSColor yellowColor]];\n}\n\n\n- (void) moveText:(NSTimer *)timer {\n    if (stringWidth &gt;= self.frame.size.width)\n        point.x = point.x - 1.0f;\n\n    [self setNeedsDisplay:YES];\n}\n\n- (void)drawRect:(NSRect)dirtyRect {\n    CGFloat max;\n\n    if (stringWidth &gt;= dirtyRect.size.width)\n        max = stringWidth;\n    else\n        max = dirtyRect.size.width;\n\n    if (point.x + stringWidth &lt; 0) {\n        point.x += max ;\n    }\n\n    [text drawAtPoint:point withAttributes:nil];\n\n    if (point.x &lt; 0) {\n        NSPoint otherPoint = point;\n        otherPoint.x += max;\n        [text drawAtPoint:otherPoint withAttributes:nil];\n    }\n\n}\n\n@end\n//\n//  AppDelegate.h\n\n#import &lt;Cocoa/Cocoa.h&gt;\n#import \"OMNTextField.h\"\n\n@interface AppDelegate : NSObject &lt;NSApplicationDelegate&gt;\n{\n}\n\n\n@property (assign) IBOutlet OMNTextField *label2;\n@property (assign) IBOutlet OMNTextField *label3;\n@property (assign) IBOutlet NSWindow *window;\n@property (assign) IBOutlet NSView *view;\n\n@end\n\n//\n//  AppDelegate.m\n\n\n#import \"AppDelegate.h\"\n\n@implementation AppDelegate\n\n- (void)dealloc\n{\n    [super dealloc];\n}\n\n- (void)applicationDidFinishLaunching:(NSNotification *)aNotification\n{\n\n    [self.label2 setText:@\"Too shoort no need to move\"];\n    [self.label2 setSpeed:0.05];\n\n\n    [self.label3 setText:@\"Text Lenght &gt; TextField.width =&gt; Automatically animate text to show all\"];\n    [self.label3 setSpeed:0.05];\n}\n\n@end\n</code></pre>\n\n<p>PS: My code is based on Dave Delong code : <a href=\"http://stackoverflow.com/questions/3232801/itunes-song-title-scrolling-in-cocoa\">iTunes Song Title Scrolling in Cocoa</a> </p>\n"},{"tags":["xcode","osx","cocoa","interface-builder","nsimageview"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":12881236,"title":"Aligning NSImageView so that it fills in bottom side of NSWindow","body":"<p>I'm a total absolute NOOB in Mac Apps so be gentle ;). Read some documentations, and jumped right in. Still continue to read but I can't figure out how to align/resize the NSImageView to the NSWindow it is in (after user resize the window).</p>\n\n<p>For example, this is default run state (the NSImageView is the big rect with a border at the bottom):\n<img src=\"http://i.stack.imgur.com/Sza1z.png\" alt=\"enter image description here\"></p>\n\n<p>Then, if I resize the window, the NSImageView's height kinda stays as before,\nbut the width kinda follows the window (but I don't know how I accomplished that).\nSee here:\n<img src=\"http://i.stack.imgur.com/g3gSv.png\" alt=\"enter image description here\"></p>\n\n<p>Thanks for reading. Please help.</p>\n"},{"tags":["osx","cocoa","splash-screen","nswindowcontroller"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":12881013,"title":"OS X [NSTimer scheduledTimerWithTimeInterval...] function in windowDidLoad not working","body":"<p>I am a iOS developer and going to develop an OS X application.\nHowever they are so different from each other.</p>\n\n<p>I want to add a splash screen at the application startup.</p>\n\n<pre><code>- (void) applicationDidFinishLaunching:(NSNotification *)aNotification {\n\n // Hide main window\n [self.window orderOut:nil];\n\n SplashWindowController *splashWindowController = [[SplashWindowController alloc] initWithWindowNibName:@\"SplashWindowController\"];\n\n [NSApp runModalForWindow:splashWindowController.window];\n [splashWindowController release];\n\n // Show main window\n ...\n</code></pre>\n\n<p>And here is \"SplashWindowController.m\"</p>\n\n<pre><code>- (void)windowDidLoad {\n  [super windowDidLoad];\n\n  [NSTimer scheduledTimerWithTimeInterval:2.0 target:self selector:@selector(hideSplash) userInfo:nil repeats:NO];\n}\n\n- (void)hideSplash {\n  [NSApp endSheet:self.window];\n  [self.window orderOut:nil];\n}\n</code></pre>\n\n<p>I can see the appeared splash, but hideSplash funtion is never called.\nWhat's the reason?</p>\n"},{"tags":["cocoa","interface-builder","nssplitview","autolayout"],"answer_count":1,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":313,"score":2,"question_id":11737981,"title":"NSTableHeaderView prevents auto layout from resizing scroll view in a split view","body":"<p>The question: Why having a header view prevents scroll view from being resized by auto layout?</p>\n\n<p>I'm trying to embed my custom view in a scroll view, which in turn is enclosed in a split view. I've created the following view hierarchy using Interface Builder in Xcode 4.5 DP 4, but the same problem seems to happen also in Xcode 4.4.</p>\n\n<pre><code>NSWindow\n  NSView (content view of the window)\n    NSSplitView\n      NSView (split view panel)\n      NSView (split view panel)\n        NSScrollView\n          TestView (my custom view)\n</code></pre>\n\n<p>Now, if TestView provides a NSTableHeaderView (via -headerView) property the split view divider cannot be dragged all the way to bottom (or right) to hide the TestView but stops to the boundary of the initial width or height of the TestView. If the -headerView property returns nil, the divider can be dragged freely.</p>\n\n<p>This can be reproduced every time, just by creating a fresh Cocoa application project, adding the views and running the project. The steps:</p>\n\n<ol>\n<li>Create a new Cocoa Application project</li>\n<li>Create TestView class with headerView property which returns a NSTableHeaderView instance.</li>\n<li>Edit MainMenu.xib and add a split view</li>\n<li>Add custom view and make it TestView</li>\n<li>Choose Editor -> Embed in -> Scroll view</li>\n<li>Run the project</li>\n</ol>\n\n<p>(No constraints or other Interface Builder menus touched)</p>\n\n<p>TestView.m:</p>\n\n<pre><code>@implementation TestView {\n    NSTableHeaderView *_header;\n}\n\n- (NSTableHeaderView *)headerView\n{\n    if (!_header) {\n        _header = [[NSTableHeaderView alloc]\n                   initWithFrame:NSMakeRect(0.0, 0.0, 100.0, 17.0)];\n    }\n\n    return _header;\n}\n\n@end\n</code></pre>\n\n<p>Any pointers, what should I do to get the split view divider moving again?</p>\n"},{"tags":["objective-c","cocoa","nstableview"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":44,"score":-1,"question_id":12879300,"title":"Make NSTableView NOT edittable","body":"<p><strong>OK, so here's my situation :</strong></p>\n\n<ul>\n<li>I've got an <code>NSTableView</code>.</li>\n<li>Its columns are bound to an <code>NSArrayController</code>.</li>\n<li>... which in turn is bound to an <code>NSMutableArray</code>.</li>\n</ul>\n\n<p><strong>However :</strong></p>\n\n<ul>\n<li>When the user click in any of the cells, he's allowed to edit their content.</li>\n<li>We DON'T want that.</li>\n</ul>\n\n<p>How should I do it, so that no table cells are editable?</p>\n"},{"tags":["objective-c","cocoa","nsstream","nsnetservice"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":102,"score":0,"question_id":12854283,"title":"NSStream - The operation couldn’t be completed. Connection refused","body":"<p>I am trying to couple 2 devices with NSNetService - <em>Device A</em> publishes the service and <em>Device B</em> can browse it and establish a connection. Yesterday I noticed a pretty nasty issue though. </p>\n\n<p>First time I start the service on <em>Device A</em> and try to open the input/output streams everything works as intended. If I then quit the app on <em>Device A</em> and re-open it, the service gets created ( because netServiceDidPublish gets called ) but when I try opening the streams again I get the following <strong>Error Domain=NSPOSIXErrorDomain Code=61 \"The operation couldn’t be completed. Connection refused</strong>. I can then wait a little bit and try opening the app again and streams get opened again as intended.</p>\n\n<p>I thought it had to do with the fact that I am not closing the streams when I am quitting my app. That's why I tried closing the streams in <code>-(void)applicationWillTerminate</code>. The method responsible for closing gets called but the next time I start the app I get the same error messages.</p>\n\n<p>I doodled with CocoaEcho sample code provided by Apple and I can't find any major difference. Or I might be wrong.</p>\n\n<p>Worth mentioning that I created a singleton class for the service publishing. I don't think this should matter but one can never know. Below you can find some of the code I am using for service publishing, stream opening and stream closing. </p>\n\n<p><strong>Open service:</strong></p>\n\n<pre><code>-(void)startServiceWithName:(NSString*)name withType:(NSString*)type {\n\n    // init the socket\n    if(_socket) {\n\n        // socket initialized\n        addr = (struct sockaddr*)[[_socket address] bytes];\n\n        if (addr-&gt;sa_family==AF_INET) {\n            // IPV4\n            port = ntohs( ((struct sockaddr_in *)addr)-&gt;sin_port );\n        }\n\n        if (addr-&gt;sa_family==AF_INET6) {\n            // IPV6\n            port = ntohs( ((struct sockaddr_in6 *)addr)-&gt;sin6_port );\n        }\n\n\n    } else {\n\n        // socket nil\n        _socket = nil;\n        NSLog(@\"Socket init failed. Can't handle\");\n\n    }\n\n    // init the service\n    if(_socket) {\n\n        // we have a socket\n        _service = [[NSNetService alloc] initWithDomain:@\"local.\"\n                                                   type:type\n                                                   name:name\n                                                   port:port];\n\n        if (_service) {\n\n            [_service setDelegate:self];\n            [_service publish];\n\n        }\n\n    }\n\n}\n</code></pre>\n\n<p><strong>Service Did Publish:</strong></p>\n\n<pre><code>-(void)netServiceDidPublish:(NSNetService *)sender {\n\n    NSLog(@\"Service published on port %li\", [sender port]);\n\n    if(![self openStreams]) {\n        NSLog(@\"Could not open streams\");\n    }\n\n}\n</code></pre>\n\n<p><strong>Open streams</strong></p>\n\n<pre><code>-(BOOL)openStreams {\n\n    NSInputStream *is;\n    NSOutputStream *os;\n\n    if ([_service getInputStream:&amp;is outputStream:&amp;os]) {\n\n        _inputStream = is;\n        _outputStream = os;\n\n        [_inputStream setDelegate:self];\n        [_outputStream setDelegate:self];\n        [_inputStream scheduleInRunLoop:[NSRunLoop currentRunLoop] forMode:NSDefaultRunLoopMode];\n        [_outputStream scheduleInRunLoop:[NSRunLoop currentRunLoop] forMode:NSDefaultRunLoopMode];\n        [_inputStream open];\n        [_outputStream open];\n\n        return YES;\n    }\n\n    return NO;\n}\n</code></pre>\n\n<p><strong>Close streams</strong></p>\n\n<pre><code>-(void)closeStreams {\n    [_inputStream setDelegate:nil];\n    [_outputStream setDelegate:nil];\n    [_inputStream close];\n    [_outputStream close];\n\n    [_inputStream removeFromRunLoop:[NSRunLoop currentRunLoop] forMode:NSDefaultRunLoopMode];\n    [_outputStream removeFromRunLoop:[NSRunLoop currentRunLoop] forMode:NSDefaultRunLoopMode];\n\n    _inputStream = nil;\n    _outputStream = nil;\n\n}\n</code></pre>\n\n<p>Hope this is enough. Thanks in advance</p>\n"},{"tags":["objective-c","cocoa","syntax-highlighting"],"answer_count":2,"favorite_count":3,"up_vote_count":5,"down_vote_count":0,"view_count":381,"score":5,"question_id":10062083,"title":"an objc syntax highlighting library that supports multiple language?","body":"<p>I come from the ruby and python worlds where we have many libraries that can syntax highlight arbitrary code from many languages. I am looking for something similar in the objc ecosystem, but i can't seem to find such, is there one available?</p>\n\n<p>The equivalent libraries in Ruby would be <a href=\"http://coderay.rubychan.de/\">CodeRay</a> and <a href=\"http://pygments.org/\">Pygments</a> for Python,</p>\n\n<p>thanks in advance!</p>\n"},{"tags":["cocoa","rounded-corners","nsimage"],"answer_count":3,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":1909,"score":1,"question_id":1849636,"title":"How to draw a rounded NSImage","body":"<p>I am trying to create a <code>NSImage</code> or <code>NSImageCell</code> with rounded corners inside a <code>NSTableView</code>.  I can't get anything to work.  Here is the best I have so far inside my custom <code>NSCell</code>:</p>\n\n<pre><code>- (void)drawInteriorWithFrame:(NSRect)frame inView:(NSView *)controlView { \n  if (thumbnailLink) {\n\tNSURL *url = [NSURL URLWithString:thumbnailLink];\n\tif (url) {\n\t\tNSRect imageFrame = [self _imageFrameForInteriorFrame:frame];\n\t\tNSImage *image = [[NSImage alloc] initWithContentsOfURL:url];\n\t\t[image setScalesWhenResized:YES];\n\t\t[image setSize:NSMakeSize(IMAGE_HEIGHT, IMAGE_WIDTH)];\n\n\t\t[NSGraphicsContext saveGraphicsState];\n\t\timageFrame = NSInsetRect(imageFrame, 1, 1);\n\t\tNSBezierPath *clipPath = [NSBezierPath bezierPathWithRoundedRect:imageFrame cornerRadius:5.0];\n\t\t[clipPath setWindingRule:NSEvenOddWindingRule];\n\t\t[clipPath addClip];\n\t\t[NSGraphicsContext restoreGraphicsState];\t\n\t\t[image drawInRect:imageFrame fromRect:NSMakeRect(0, 0, 0, 0) operation:NSCompositeSourceIn fraction:1.0];\n\t\t[image release];\n\t}\n}\n...\n</code></pre>\n\n<p>Any ideas on how to this?</p>\n"},{"tags":["iphone","cocoa"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":1009,"score":0,"question_id":4173784,"title":"iPhone login example","body":"<p>I'm developing a simple application. The layout is:<br>\nwhen you open the application, a login screen appears.\nAfter the user clicks on the button \"login\", the application sends the two fields (username and password) to a login.php. login.php is:</p>\n\n<pre><code>&lt;form method=\"POST\"&gt;\n\n&lt;label for=\"id_username\"&gt;Username:&lt;/label&gt;\n&lt;input id=\"id_username\" type=\"text\" name=\"username\" maxlength=\"30\" /&gt;\n&lt;label for=\"id_password\"&gt;Password:&lt;/label&gt;\n&lt;input type=\"password\" name=\"password\" id=\"id_password\" /&gt;\n&lt;input type=\"submit\" class=\"bigbutton\" value=\"login\"/&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>If the login is correct the loginview disappears and a tabbar controller will appear.</p>\n\n<p>How can I send the two fields username and password to my page.php? And how can I receive a cookie for that?</p>\n"},{"tags":["xml","xcode","cocoa","nsxmldocument"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":367,"score":2,"question_id":5261696,"title":"Cocoa XML reader app","body":"<p>I'm a newbie to Cocoa, just develop some little apps with C/C++ on Windows.\nI want to make a \"simple\" app on Cocoa.\nWhen the user specific XML file, the file nodes are represented \"enduser viewable\".</p>\n\n<p>I made an interface with some NSTextField.\nI made a subclass of NSDocument called \"XMLFile\" so I got \"XMLFile.h\" and \"XMLFile.m\" in my Xcode project.</p>\n\n<p>In the plist of my app I set up a new \"Document Types\":\nXML File - extensions: xml - role: view - class: XMLFile - store type: XML</p>\n\n<p>Here is my \"XMLFile.h\":</p>\n\n<pre><code>#import &lt;Cocoa/Cocoa.h&gt;\n\n\n@interface FichierXML : NSDocument {\n\n}\n\n        IBOutlet NSTextField *dateField;\n        IBOutlet NSTextField *titleField;\n        IBOutlet NSTextField *descField;\n        IBOutlet NSTextField *vidfileField;\n        IBOutlet NSTextField *imgfileField;\n        IBOutlet NSObjectController *object;\n        NSUInteger *mask;\n\n@end\n</code></pre>\n\n<p>And here is my \"XMLFile.m\":</p>\n\n<pre><code>#import \"XMLFile.h\"\n\n@implementation XMLFile\n\n- (BOOL)readFromData:(NSData *)datafile ofType:(NSString *)typeName error:(NSError **)outerror\n\n{\n\n    NSMutableArray* ReportCreationDate = [[NSMutableArray alloc] initWithCapacity:10];\n    NSMutableArray* ReportTitle = [[NSMutableArray alloc] initWithCapacity:10];\n    NSMutableArray* ReportDescription = [[NSMutableArray alloc] initWithCapacity:10];\n    NSMutableArray* VideoPath = [[NSMutableArray alloc] initWithCapacity:10];\n    NSMutableArray* VideoThumbnailImageName = [[NSMutableArray alloc] initWithCapacity:10];\n\n    NSXMLDocument* doc = [[NSXMLDocument alloc] initWithData:datafile options:mask error:outerror];\n    NSXMLElement* root  = [doc rootElement];\n    NSArray* dateElement = [root nodesForXPath:@\"//Report/ReportCreationDate\" error:nil];\n    for(NSXMLElement* xmlElement in dateElement)\n        [dateElement setStringValue:[xmlElement stringValue]];\n    NSArray* titleElement = [root nodesForXPath:@\"//Report/ReportTitle\" error:nil];\n    for(NSXMLElement* xmlElement in titleElement)\n        [titleField setStringValue:[xmlElement stringValue]];\n    NSArray* descElement = [root nodesForXPath:@\"//Report/ReportDescription\" error:nil];\n    for(NSXMLElement* xmlElement in descElement)\n        [descField setStringValue:[xmlElement stringValue]];\n    NSArray* vidfileElement = [root nodesForXPath:@\"//Report/Videos/Video/VideoPath\" error:nil];\n    for(NSXMLElement* xmlElement in vidfileElement)\n        [vidfileField setStringValue:[xmlElement stringValue]];\n    NSArray* imgfileElement = [root nodesForXPath:@\"//Report/Videos/Video/VideoThumbnailImageName\" error:nil];\n    for(NSXMLElement* xmlElement in imgfileElement)\n        [imgfileField setStringValue:[xmlElement stringValue]];\n\n    [doc release];\n    [ReportCreationDate release];\n    [ReportTitle release];\n    [ReportDescription release];\n    [VideoPath release];\n    [VideoThumbnailImageName release];\n\n    return YES;\n}\n\n@end\n</code></pre>\n\n<p>The user opens the XMLFile, and XMLDocument analyses the file to extract nodes' data and sends it to the differents NSTextField. But it doesn't work.</p>\n\n<p>If someone can help me.</p>\n"},{"tags":["iphone","objective-c","xcode","cocoa","uiscrollview"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12876867,"title":"Restore the state of UIScrollview","body":"<p>I'm trying to figure out how to save the state of a UIScrollView. For example, I have several images and Labels in a UIScrollView that are loaded from xib. </p>\n\n<p>Now my question is how can I make it when the user returns to this page the state of scrollview is the same that they stopped scrolling at? Does anyone know how to accomplish this? Thanks.</p>\n\n<p>I've found this: </p>\n\n<pre><code>NSUserDefaults  *defaults = [NSUserDefaults standardDefaults];\n[defaults setFloat: scrollview.contentOffset.x forKey: @\"myScrollPositionX\"];\n[defaults setFloat: scrollview.contentOffset.y forKey: @\"myScrollPositionY\"];\n</code></pre>\n\n<p>and for restore:</p>\n\n<pre><code>scrollView.contentOffset = CGPointMake([defaults floatForKey: @\"myScrollPositionX\"], [defaults floatForKey: @\"myScrollPositionY\"]); \n</code></pre>\n\n<p>Where should I implement this? Sorry I'm a <strong>newcomer</strong>, so pls make it simple :D</p>\n"},{"tags":["iphone","objective-c","ios","cocoa","automatic-ref-counting"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":106,"score":2,"question_id":12876052,"title":"Is this a leak under ARC?","body":"<p>I am using ARC and in one method I alloc an operation object. Will that cause a memory leak? If yes where should I set it to <code>nil</code>? Inside the completion blocks or after the <code>[operation start];</code> ?</p>\n\n<pre><code>AFHTTPRequestOperation *operation = [[AFHTTPRequestOperation alloc] initWithRequest:request];\n[operation setCompletionBlockWithSuccess:^(AFHTTPRequestOperation *operation, id responseObject) {\n    // success downloading file\n    // Do something\n} failure:^(AFHTTPRequestOperation *operation, NSError *error) {\n    // error downloading file\n    // Do something else\n}];\n\n[operation start];\n</code></pre>\n"},{"tags":["objective-c","cocoa","nsmutablearray"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":68,"score":0,"question_id":12872138,"title":"Reading NSMutableArray from File","body":"<p>I am trying to read an 2 NSMutableArrays from file. I am saving and loading as such:</p>\n\n<p>SAVE:</p>\n\n<pre><code>NSMutableDictionary *saveDict = [NSMutableDictionary dictionary];\n[saveDict setValue:name forKey:@\"name\"];\n[saveDict setValue:last_episodue forKey:@\"whereat\"];\nNSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);\nNSString *documentsDirectory = [paths objectAtIndex:0];\nNSString *filePath = [documentsDirectory stringByAppendingString:@\"/ShopFile.sav\"];\n[saveDict writeToFile:filePath atomically:YES];\n</code></pre>\n\n<p>LOAD: </p>\n\n<pre><code>        name = [[NSMutableArray alloc]init];\n    last_episodue = [[NSMutableArray alloc]init];\n\n    NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);\n    NSString *documentsDirectory = [paths objectAtIndex:0];\n    NSString *filePath = [documentsDirectory stringByAppendingString:@\"/ShopFile.sav\"];\n    NSDictionary *loadDict = [NSDictionary dictionaryWithContentsOfFile:filePath];\n    name =            [loadDict valueForKey:@\"name\"];\n    last_episodue=     [loadDict valueForKey:@\"whereat\"];\n</code></pre>\n\n<p>The variables name and last_episodue have been declared in the header file. </p>\n\n<p>The program compiles and runs, however at runtime when trying to load the file, the LOAD part of the code executes, and when it finishes, the program stops working. This is the debugging information (first part):</p>\n\n<pre><code>2012-10-13 12:14:10.801 series[5223:303] -[NSISRestrictedToZeroMarkerVariable copyWithZone:]: unrecognized selector sent to instance 0x1001900c0\n2012-10-13 12:14:10.803 series[5223:303] -[NSISRestrictedToZeroMarkerVariable copyWithZone:]: unrecognized selector sent to instance 0x1001900c0\n2012-10-13 12:14:10.906 series[5223:303] (\n</code></pre>\n\n<p>Any idea what the problem might be? Thanks!</p>\n\n<p>Edit: This is the content of the file where the saving takes place:</p>\n\n<pre><code> &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE plist PUBLIC \"-//Apple//DTD PLIST 1.0//EN\" \"http://www.apple.com/DTDs/PropertyList-1.0.dtd\"&gt;\n&lt;plist version=\"1.0\"&gt;\n&lt;dict&gt;\n    &lt;key&gt;name&lt;/key&gt;\n    &lt;array&gt;\n        &lt;string&gt;a&lt;/string&gt;\n    &lt;/array&gt;\n    &lt;key&gt;whereat&lt;/key&gt;\n    &lt;array&gt;\n        &lt;string&gt;a&lt;/string&gt;\n    &lt;/array&gt;\n&lt;/dict&gt;\n&lt;/plist&gt;\n</code></pre>\n"},{"tags":["osx","cocoa","spotlight"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":12680482,"title":"Occasional mdworker crash with new custom importer for some files","body":"<p>My <strong>Spotlight importer</strong> is importing meta-data from a couple hundred of my app's document files.</p>\n\n<p>All is working fine under the Xcode debugger with various files. However, the <strong>mdworker process crashes</strong> twice for the 300+ files when running the importer once it's installed on the system.</p>\n\n<p>The stack trace doesn't help much to indicate the issue (some STL libary location) - Is there any way turning on more debugging information for importers running <em>in the field</em> in Spotlight server?<br>\nIn particular the <strong>name of the file triggering the crash</strong>?</p>\n\n<p>Any hints appreciated.</p>\n"},{"tags":["ios","cocoa"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":91,"score":0,"question_id":12867535,"title":"EKEventStore eventsMatchingPredicate assigning value","body":"<p>I am having problems storing the events from an EKEventStore query. For instance when using the following code, <em>events</em> is always nil:</p>\n\n<pre><code>__block NSArray *events = [[NSArray alloc] init];\n\nif ([eventStore respondsToSelector:@selector(requestAccessToEntityType:completion:)]) {\n    [eventStore requestAccessToEntityType:EKEntityTypeEvent completion:^(BOOL granted, NSError *error) {\n        dispatch_async(dispatch_get_main_queue(), ^{\n            if (granted)\n                events = [eventStore eventsMatchingPredicate:predicate];\n        });\n    }];\n}\n</code></pre>\n\n<p>I know that [eventStore eventsMatchingPredicate:predicate] is returning events as if I put a NSLog inside the block then I can see the event details. It seems like there is a problem with retaining the result. As you can see I have tried doing it on the main thread with no avail.</p>\n\n<p>I am using ARC which might make a difference.</p>\n\n<p>Thanks</p>\n"},{"tags":["osx","cocoa","spotlight","quicklook"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":311,"score":0,"question_id":3754555,"title":"OSX Quicklook debugging","body":"<p>I am writing a quicklook plugin for an MPO file.</p>\n\n<p>The plugin isn't that much of a problem, but the problem is trying to debug it. Apples documentation says that to debug you use </p>\n\n<pre><code>qlmanage -r &lt;filename&gt;\n</code></pre>\n\n<p>And I have. However, none of my breakpoints are matched. I assume this is as it hasn't matched my quicklook plugin with the type. Using mdl (or mdimport) i get a filetype of dyn.ah62d4rv4ge8046dt. Using that I get nothing. I have played around with the info.plist, as I assume that is the problem, and I have looked at other plugins to fix that, but still no breakpoints hit and it is not using my code.</p>\n\n<p>My (important parts of) info.plist currently looks like this:</p>\n\n<pre><code>&lt;key&gt;CFBundleDocumentTypes&lt;/key&gt;\n    &lt;array&gt;\n        &lt;dict&gt;\n            &lt;key&gt;CFBundleTypeRole&lt;/key&gt;\n            &lt;string&gt;QLGenerator&lt;/string&gt;\n            &lt;key&gt;LSItemContentTypes&lt;/key&gt;\n            &lt;array&gt;\n                &lt;string&gt;dyn.ah62d4rv4ge8046dt&lt;/string&gt;\n            &lt;/array&gt;\n        &lt;/dict&gt;\n        &lt;dict&gt;\n            &lt;key&gt;CFBundleTypeRole&lt;/key&gt;\n            &lt;string&gt;QLGenerator&lt;/string&gt;\n            &lt;key&gt;LSItemContentTypes&lt;/key&gt;\n            &lt;array&gt;\n                &lt;string&gt;public.image.mpo&lt;/string&gt;\n            &lt;/array&gt;\n        &lt;/dict&gt;\n    &lt;/array&gt;\n...\n\n    &lt;key&gt;UTImportedTypeDeclarations&lt;/key&gt;\n    &lt;array&gt;\n        &lt;dict&gt;\n            &lt;key&gt;UTTypeConformsTo&lt;/key&gt;\n            &lt;array&gt;\n                &lt;string&gt;public.data&lt;/string&gt;\n                &lt;string&gt;public.image&lt;/string&gt;\n            &lt;/array&gt;\n            &lt;key&gt;UTTypeDescription&lt;/key&gt;\n            &lt;string&gt;MPO Image file&lt;/string&gt;\n            &lt;key&gt;UTTypeIconFile&lt;/key&gt;\n            &lt;string&gt;MPO&lt;/string&gt;\n            &lt;key&gt;UTTypeIdentifier&lt;/key&gt;\n            &lt;string&gt;public.image.mpo&lt;/string&gt;\n            &lt;key&gt;UTTypeTagSpecification&lt;/key&gt;\n            &lt;dict&gt;\n                &lt;key&gt;public.filename-extension&lt;/key&gt;\n                &lt;array&gt;\n                    &lt;string&gt;mpo&lt;/string&gt;\n                &lt;/array&gt;\n            &lt;/dict&gt;\n        &lt;/dict&gt;\n    &lt;/array&gt;\n</code></pre>\n\n<p>Is there anything obviously that I am missing here, or any other reason that it is not executing my plugin?</p>\n"},{"tags":["cocoa","cocoa-touch","xcode","interface-builder"],"answer_count":17,"favorite_count":25,"up_vote_count":66,"down_vote_count":0,"view_count":29650,"score":66,"question_id":1725881,"title":"\"Unknown class <MyClass> in Interface Builder file\" error at runtime","body":"<p>Even though Interface Builder is aware of a <code>MyClass</code>, I get an error when starting the application.</p>\n\n<p>This happens when <code>MyClass</code> is part of a library, and does not happen if I compile the class directly in the application target.</p>\n"},{"tags":["osx","cocoa","dock"],"answer_count":2,"favorite_count":2,"up_vote_count":3,"down_vote_count":1,"view_count":369,"score":2,"question_id":8317101,"title":"Add/remove application icon from dock at runtime?","body":"<p>Is there a public Apple API which allows you to remove an application's dock icon at runtime? \nI have tried substituting an empty view with zero size via NSApplication's dockTile, but that simply erases the dock icon without reclaiming its space and launch indicator.  I also know about the LSUIElement parameter in an application's info.plist, but this value is only evaluated on launch.  It is not a runtime parameter.</p>\n"},{"tags":["objective-c","xcode","osx","cocoa","quicktime"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":94,"score":0,"question_id":12771539,"title":"How to display a button above a QTCaptureView?","body":"<p>How can i display a button above a QTCaptureView?\nI have tried to put a button above the QTCaptureView on IB but when i run it, after the QTCaptureView starts showing the iSight camera image, the button hides behind the QTCaptureView...</p>\n"},{"tags":["iphone","objective-c","cocoa","application","foundation"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":75,"score":1,"question_id":12871385,"title":"List of Applications on my iphone in Foundation Framework","body":"<p>I wonder how I can get a list of applications installed on my iphone from Objective-C (Foundation Framework).\nDoes anyone can help me?</p>\n\n<p>I also wanted to know if you can launch an app from within my application.</p>\n\n<p>Thank you very much to all</p>\n"},{"tags":["objective-c","cocoa-touch","cocoa"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":73,"score":0,"question_id":12870840,"title":"Is it ever OK to not chain initializers in Objective-C?","body":"<p>I am coding in Objective-C / Cocoa-Touch for iPhone, and I was wondering, is it ever OK to not chain initializers? For instance, in my parent class I have three initializers that all need to be inherited from by child class. Is it OK in this instance to not chain? For instance, in this one class I have it set up like this:</p>\n\n<pre><code>- (id)initWithGraphic:(Graphic*)graphic size:(CGSize)size\n{\n    self = [super initWithFrame:CGRectZero];\n    if (self) \n    {\n      ...\n\n    }\n    return self;\n}\n\n- (id)initWithGraphic:(Graphic*)graphic maximumDimension:(CGFloat)maximumDimension\n{\n    self = [super initWithFrame:CGRectZero];\n    if (self) \n    {\n      ...\n\n    }\n    return self;\n}\n\n- (id)initWithGraphic:(Graphic*)graphic \n{\n    self = [super initWithFrame:CGRectZero];\n    if (self) \n    {\n      ...\n\n    }\n    return self;\n}\n</code></pre>\n\n<p>So essentially I don't have one designated initializer because it's tough for me to chain them together, I basically have three.</p>\n"},{"tags":["objective-c","osx","cocoa","app-store"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":12856428,"title":"Search Mac App Store for Applications to open File","body":"<p>is there any way to open the Mac App Store and search for applications that can handle a given file type? Like in the Finder:</p>\n\n<pre><code>Right Click &gt; Open With &gt; App Store...\n</code></pre>\n\n<p>and <code>uti:public.image</code> will be inserted into the search field (for images).</p>\n\n<p>I was able to search the App Store via <code>macappstore://ax.search.itunes.apple.com/WebObjects/MZSearch.woa/wa/search?q=&lt;searchstring&gt;</code> but this won't work for something link <code>uti:public.image</code>, only for <em>normal</em> searched like \"iPhoto\" e.g.</p>\n\n<p>Sadly those specific searches only work from the search field. Is there a way around this issue?</p>\n"},{"tags":["objective-c","osx","cocoa","nsstring"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":41,"score":-1,"question_id":12852497,"title":"How can I separate these paragraphs into strings by the newline characters in objective c","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/8409120/separate-a-txt-file-into-separate-strings\">Separate a .txt file into separate strings</a>  </p>\n</blockquote>\n\n\n\n<p><strong>Example text I would like to split into separate strings:</strong> </p>\n\n<p>Integer posuere erat a ante venenatis dapibus posuere velit aliquet. Cras justo odio, dapibus ac facilisis in, egestas eget quam.</p>\n\n<p>Maecenas faucibus mollis interdum. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. </p>\n\n<p>Integer posuere erat a ante venenatis dapibus posuere velit aliquet. Aenean lacinia bibendum nulla sed consectetur. Cras mattis consectetur purus sit amet fermentum. Donec sed odio dui.</p>\n\n<p><strong>I would like to split this text by newlines... \nIve tried using the string method componentsSeparatedByString while passing in a @\"\\n\" as an argument but it just doesn't seem to be working... \nAnyone have any ideas? \nThanks :)</strong></p>\n"},{"tags":["objective-c","xcode","cocoa"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":12862704,"title":"How to update a NSTextField Value during an action?","body":"<p>I am running a lengthly task in an Action and I would like to have a display of where I am at. For that I created a Text Field and I tried it with setStringValue:</p>\n\n<pre><code>[textField setStingValue: [NSSting stringWithFormat:@\"%ld\",currentValue]]\n</code></pre>\n\n<p>The code works but unfortunately it is not updating the NSTextField after every iteration but rather when the whole Action is done.</p>\n\n<p>What am I doing wrong?</p>\n"},{"tags":["cocoa","osx-snow-leopard","abaddressbook","abperson"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":12869160,"title":"On Snow Leopard, why is -[<ABImageClient> consumeImageData:forTag:] not being called after [ABPerson beginLoadingImageDataForClient:] is called?","body":"<p>I'm trying to load image date for person entries in the shared <code>ABAddressBook</code>.  In particular, I'm calling </p>\n\n<pre><code>-[ABPerson beginLoadingImageDataForClient:]\n</code></pre>\n\n<p>and passing as the argument an object which adopts <code>ABImageClient</code> and implements</p>\n\n<pre><code>-[&lt;ABPersonClient&gt; consumeImageData:forTag:]\n</code></pre>\n\n<p>The approach I'm using works fine on Mountain Lion, but fails on Snow Leopard.  In particular, <code>-consumeImageData:forTag:</code> never gets called.  </p>\n\n<p>The following sample app command line program demonstrates my approach:</p>\n\n<pre><code>#import &lt;Foundation/Foundation.h&gt;\n#import &lt;AddressBook/AddressBook.h&gt;\n\n@interface ImageConsumer : NSObject &lt;ABImageClient&gt;\n@property (nonatomic, strong) NSMutableDictionary *imagesForNumbers;\n@end\n\n@implementation ImageConsumer\n\n- (id)init\n{\n    self = [super init];\n    if (self) {\n        self.imagesForNumbers = [NSMutableDictionary dictionary];\n    }\n    return self;\n}\n\n- (void)consumeImageData:(NSData *)data forTag:(NSInteger)tag\n{\n    [self.imagesForNumbers setObject:data forKey:[NSNumber numberWithInteger:tag]];\n    NSLog(@\"%s: loaded data of length %zu for tag %zd\", __PRETTY_FUNCTION__, data.length, tag);\n}\n\n@end\n\nint main(int argc, const char * argv[])\n{\n    @autoreleasepool {\n        NSArray *persons = [[ABAddressBook sharedAddressBook] people];\n        ImageConsumer *imageConsumer = [[ImageConsumer alloc] init];\n        for (ABPerson *person in persons) {\n            NSInteger loadingKey = [person beginLoadingImageDataForClient:imageConsumer];\n            NSLog(@\"requested data person named %@ %@ and received tag %zd\", [person valueForProperty:kABFirstNameProperty], [person valueForProperty:kABLastNameProperty], loadingKey);\n        }\n        [[NSRunLoop mainRunLoop] run];\n    }\n    return 0;\n}\n</code></pre>\n\n<p>Am I misusing the ABAddressBook calls for loading image data for instances of <code>ABPerson</code>?  Is this a bug with <code>ABAddressBook</code> on Snow Leopard?  If so, is there a work-around?</p>\n"},{"tags":["cocoa","connection","internet"],"answer_count":4,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":2295,"score":1,"question_id":2995822,"title":"check internet connection in cocoa application","body":"<p>How do I check internet connection in cocoa application?\nCan Reachability code from iphone apple example be reused for this purpose?</p>\n\n<p>Thanks,</p>\n\n<p>Nava</p>\n"},{"tags":["xcode","cocoa","nstableview","pdfview"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":12868692,"title":"load PDF file from an NSTableView in Xcode Cocoa","body":"<p>My application has a Table View which displays a list of all PDF files in a certain directory. How can I load the file selected in the Table View into my PDFView?</p>\n"},{"tags":["cocoa","ftp","nstask"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12867974,"title":"NSTask & FTP Connection","body":"<p>What I'm trying to do is connect to a host with an NSTask request such as \"ftp www.host.com\"</p>\n\n<p>Actually i wrote the following code :</p>\n\n<pre><code>STask *task;\n    task = [[NSTask alloc] init];\n    [task setLaunchPath:@\"/bin/bash\" ];\n\n    NSArray *arguments;\n    arguments = [NSArray arrayWithObjects:taskToExecute, nil]; //TaskToExecute is a file with the code to execute..\n    [task setArguments: arguments];\n\n    NSPipe *pipe;\n    pipe = [NSPipe pipe];\n    [task setStandardOutput: pipe];\n    [task setStandardError: pipe];\n\n    NSFileHandle *file;\n    file = [pipe fileHandleForReading];\n\n\n\n    [task launch];\n\n    NSData *data;\n    data = [file readDataToEndOfFile];\n\n    NSString *responseString;\n    responseString = [[NSString alloc] initWithData: data encoding: NSUTF8StringEncoding];\n\n\n\n\n\n        [responseTextView setString:[NSString stringWithFormat:@\"%@\\nTask response:\\n%@\\n\\n%@\",[self getDateTime],responseString,[[responseTextView textStorage]string]]];\n</code></pre>\n\n<p>Ok, the issue is that when trying to retrieve an output string, JUST with this task, the app crashes (I believe because in the terminal app you would need to enter username &amp; password and here you can't do it..)</p>\n\n<p>Any suggestion ?</p>\n"},{"tags":["ios","xcode","cocoa","time","runloop"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":119,"score":0,"question_id":12865614,"title":"Proper way to delay while allowing the run loop to continue","body":"<p>I have a need to delay for a certain amount of time and yet allow other things on the same runloop to keep running. I have been using the following code to do this:</p>\n\n<pre><code>[[NSRunLoop currentRunLoop] runUntilDate:[NSDate dateWithTimeIntervalSinceNow:1]];\n</code></pre>\n\n<p>This seems to do exactly what I want, except that sometimes the function returns immediately without waiting the desired time (1 second).</p>\n\n<p>Can anyone let me know what could cause this? And what is the proper way to wait while allowing the run loop to run?</p>\n\n<p>NOTE: I want to delay in a manner similar to sleep(), such that after the delay I am back in the same execution stream as before.</p>\n"},{"tags":["objective-c","cocoa","cocoa-touch"],"answer_count":3,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":531,"score":3,"question_id":1295325,"title":"Setting a property on a custom object through Interface Builder","body":"<p>I have a custom UITableViewController subclass which I use in two places in a nib file. What should I do if I want the two instances to have slightly different behavior? Of course in the code I can select one kind of behavior or the other based on the value of a BOOL, but how do I set that BOOL from Interface Builder, without having to write an Interface Builder plugin?</p>\n"},{"tags":["cocoa","core-foundation","pasteboard"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":12838643,"title":"Are there some interface on operations in Core Fundation? not Cocoa","body":"<p>I'm trying to work on carbon to cocoa. There are some carbon apis that about getting &amp; setting   value on clipboard. All of them are in C/C++ files.</p>\n\n<p>I searched many answers in the internet and apple developer website, all of them had suggest me that NSPasteboard, I also wrapp cocoa api about it in .m file and invoke them in C/C++ file, it solve me much, but not all.</p>\n\n<p>PutScrapFlavor, I failed to wrap it with cocoa. Any suggestions here?</p>\n\n<p>On the other hands, I really want there are some core foundation api could be called in existing C/C++ files, anyone knows this? not NSPasteboard in cocoa.</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["osx","cocoa"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":12866994,"title":"what does \"failed to load window nib file\" mean?","body":"<p>I'm working on my first Cocoa application, and I'm hoping very much that </p>\n\n<pre><code>[NSWindowController loadWindow]: failed to load window nib file 'Genius Document'\n</code></pre>\n\n<p>means that there's something very specific I've done wrong, because if I have to go back and redo all the bindings I'll want to kill myself.</p>\n\n<p>FWIW, I'm working with a document-based application that has (so far) only one XIB file and no NIB files.</p>\n\n<p>I can post code/screenshots of my bindings but in case that's not necessary I didn't want to make people wade through them.</p>\n\n<p>Thanks for the help.</p>\n"},{"tags":["objective-c","xcode","cocoa","ios5"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":368,"score":0,"question_id":10513130,"title":"Uiwebview in uiscrollview tips","body":"<p>I have a <code>UIScrollview</code> to allow for pagination, and a <code>UIWebview</code> on the detail views inside. I know you are not supposed to do that according to Apples Class Reference, but I don't see another option.</p>\n\n<p>In order to make responses and experience a bit better, I disabled scrolling of the <code>UIWebview</code>, with:</p>\n\n<pre><code>[[[webView subviews] lastObject] setScrollEnabled:FALSE];\n</code></pre>\n\n<p>But now I am looking for a solution to make the webview the right size, depending on the content. Is there an easy way to do this, where the width of the webview stays the same, but the height grows (automatically) when that is required to show the full article? This will remove the scrolling problem, as it sit he scrollview who will take care of all the scrolling in this scenario.</p>\n\n<p>Does that make sense?</p>\n"},{"tags":["cocoa","menu","contextmenu","reuse"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":36,"score":1,"question_id":11580505,"title":"Avoid blue flash behavior when reusing submenu of main menu as context menu","body":"<p>I have the following problem: In an Cocoa app, a submenu is defined and attached in the main menu. Now I need the exact same submenu as a context menu for a <code>NSView</code>.</p>\n\n<p>Now, my goal is to avoid creating an exact duplicate of the main menu. I thought that I could reuse the already existing submenu. Indeed, I can just assign the corresponding menu to the <code>NSView</code> with Interface Builder and that seems to work.</p>\n\n<p>But unfortunately, every time I select an item in the context menu now, the corresponding root main menu item flashes blue.</p>\n\n<p>Is there any way to disable this behaviour? Or do you have other suggestions how this problem can be solved without duplicating the existing submenu?</p>\n"},{"tags":["objective-c","cocoa","webkit"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":12865496,"title":"Using Webkit, how do I make pages available offline? Obj-C, Cocoa","body":"<p>Alright. So I have an app that loads webpages from Wikipedia.org/WolframAlpha.com. I want to add a button that downloads a page for offline use. How would I go about doing that using Webkit? I don't believe I want pure caching, as I want the page to always be available until the user deletes it (I think I need to download to hard drive or something). </p>\n\n<p>I am not very familiar with Webkit, so any help would be appreciated. At the moment all I have is:</p>\n\n<pre><code>- (IBAction)downloadWebpage:(id)sender {\n    //Download Webpage\n}\n</code></pre>\n\n<p>My webView is defined as <code>*webView</code>. Thanks.</p>\n"},{"tags":["objective-c","osx","cocoa","pdf","watermark"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":74,"score":0,"question_id":12860666,"title":"How to 'watermark' a PDF file?","body":"<p>OK, I'm familiar with the whole concept and I've already managed to 'watermark' an <code>NSImage</code>.</p>\n\n<p>This is how I'm doing it :</p>\n\n<pre><code>- (void)maskOne:(NSString*)filename atTarget:(NSString*)folder\n{\n    NSString* target = [self getTargetPathForFile:filename path:folder];\n\n    NSImage* newImage;\n\n    NSImage* oldImage = [[NSImage alloc] initWithContentsOfFile:filename];\n\n    newImage = [self maskImage:oldImage withMask:[self imageWithSubviews]];\n\n    [self saveImage:newImage asPNG:target]; \n}\n</code></pre>\n\n<p>where <code>[self imageWithSubviews]</code> returns an <code>NSImage</code> from an embedded black-bg box with some transparent text in it.</p>\n\n<hr>\n\n<p>Now, in an bigger app of mine, as a sub-project, I'm trying to 'protect' exported PDFs by applying a watermark (nothing complicated, just a simple piece of text in the middle of <strong>each</strong> page, or something).</p>\n\n<p>How would you go about it?</p>\n"},{"tags":["cocoa","binding"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":27,"score":1,"question_id":12854273,"title":"in Cocoa Bindings, when to use \"selection\" and when to use \"arrangedObjects\"?","body":"<p>I know (or at least I think I know) that \"selection\" is essentially one <em>particular</em> arrangedObject, but when I'm doing binding I'm always binding one object at a time.  So how do I know when to use \"selection\" and when to use \"arrangedObjects\"?</p>\n"},{"tags":["cocoa","nstextfield","nsattributedstring"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":472,"score":0,"question_id":8684972,"title":"NSTextField's attributed string is delayed in rendering","body":"<p>I've got an Label (NSTextField) in IB that's bound to a controller.\nThe controller, on awakeFromNIB, sets the attributedStringValue of the label to contain some coloured text and a link or two.</p>\n\n<p>When you see the label it contains the correct string value, but some of the formatting is lost - until you click on the label, and it updates to contain the correct formatting.</p>\n\n<p>I'm using this code to set the value:</p>\n\n<pre><code>[self.testTextField setAllowsEditingTextAttributes:YES];\n[self.testTextField setSelectable:YES];\nNSMutableAttributedString *linkString = [[NSMutableAttributedString alloc] initWithString:@\"hit this \"];\n\n[linkString beginEditing];\n\nNSMutableAttributedString* attrString = [[NSMutableAttributedString alloc] initWithString:@\"link\"];\nNSRange range = NSMakeRange(0, [attrString length]);\n\n[attrString addAttribute:NSLinkAttributeName value:[[NSURL URLWithString:@\"http://google.com\"] absoluteString] range:range];\n[attrString addAttribute:NSUnderlineStyleAttributeName value:[NSNumber numberWithInt:NSUnderlinePatternDot] range:range];\n[attrString addAttribute:NSForegroundColorAttributeName value:[NSColor blackColor] range:range];\n[linkString appendAttributedString:attrString];\n\n[linkString appendAttributedString:[[NSAttributedString alloc] initWithString:@\" to search\"]];\n\n[linkString addAttribute:NSForegroundColorAttributeName value:[NSColor redColor] range:NSMakeRange(0, [linkString length])];\n\n[linkString endEditing];\n\n[self.testTextField setAttributedStringValue:linkString];\n</code></pre>\n\n<p>Based on this example, you'll see the string coloured red and in the default Label font.\nThen when you click on the label the font changes size and face and the link magically renders.</p>\n\n<p>Any ideas on how to get the string to render correctly the first time? </p>\n"},{"tags":["objective-c","osx","cocoa","system","developer-tools"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":65,"score":-1,"question_id":12561540,"title":"List of All OSX Developer Utilities?","body":"<p>I'm new to OSX Development and Apple system frameworks/apis/tools.</p>\n\n<p>In the process of learning, I've stumbled upon a handful of \"secret\" utility programs that are extremely helpful to developers but have mixed levels of visibility/googleability/shell completion (e.g. <code>kextutil</code>, <code>lsregister</code>, <code>auvaltool</code>)</p>\n\n<p>Is there a listing of all these \"secret\" developer utilities somewhere?</p>\n"},{"tags":["xcode","cocoa","show-hide","nswindow","nswindowcontroller"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":12843616,"title":"deminiaturize NSWindow without making it key","body":"<p>I have main window and several child windows, i would like to show main window when user click on dock icon, but without making it a key window, if there just was one (it will become automatically key if there is no key window).</p>\n\n<p>Here is current code:</p>\n\n<pre><code>if ( fMainWinDelegate ) {\n    if (not [NSApp keyWindow]) {\n        NSLog(@\"AppDelegate::applicationShouldHandleReopen [fMainWinDelegate showWindow]\");\n        [fMainWinDelegate showWindow];\n    }\n    else {\n        if ([fMainWinDelegate.window isMiniaturized]) {\n            NSLog(@\"AppDelegate::applicationShouldHandleReopen [fMainWinDelegate.window deminiaturize:self]\");\n            [fMainWinDelegate.window deminiaturize:self];\n            //this one is not working, it make window also the key window\n        }\n        else if (not [fMainWinDelegate.window isVisible] &amp;&amp; not [fMainWinDelegate.window isMiniaturized]) {\n            NSLog(@\"AppDelegate::applicationShouldHandleReopen [fMainWinDelegate.window orderFront:self]\");\n            [fMainWinDelegate.window orderFront:self];\n        }\n    }\n}\n</code></pre>\n"},{"tags":["objective-c","xcode","cocoa","memory-management","uiviewcontroller"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":12863119,"title":"Cocoa - Memory error","body":"<p>I'm with a problem. I have a menu that has a very costume behavior. So i've make a xib for it. That menu is used in 5 different viewControllers, so I allocate the InteractionsMenuViewController and this code is called:</p>\n\n<pre><code>    NSArray *xib = [[NSBundle mainBundle] loadNibNamed:@\"interactionsMenu\" owner:self options:nil];\n    _interactionsMenuView = [xib objectAtIndex:0];\n UIButton*openButton=(UIButton*)[_interactionsMenuView viewWithTag:1];\n    [openButton addTarget:self action:@selector(openInteractionsMenu:) forControlEvents:UIControlEventTouchUpInside];\n\n}\n\n- (void)openInteractionsMenu:(id)sender {}\n</code></pre>\n\n<p>The problem is that when I tap the button with the tag:1 I get this error:</p>\n\n<p><img src=\"http://i.stack.imgur.com/iMPkW.png\" alt=\"enter image description here\"></p>\n\n<p>And what am I doing wrong?</p>\n"},{"tags":["osx","cocoa","osx-gatekeeper"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":12831307,"title":"How can I codesign a .mpkg on osx?","body":"<p>The DMG file I created to install had a mpkg folder for installation. Under OSX 10.7, there is no problem. At OSX 10.8, however, the mpkg was denied by gatekeeper. Thus, I thought that the mpkg should be signed with apple developer code signing. </p>\n\n<p>The problem is what I don't know how to do that for mpkg file. 'productsign' did not work. How can I do for successful signing?</p>\n"},{"tags":["objective-c","cocoa","nsdate","nstimer"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":72,"score":0,"question_id":12860165,"title":"NSTimer doesn't get fired at specified date","body":"<p>I'm creating an NSTimer:</p>\n\n<pre><code>    NSTimer *saveProgressSizeTimer = [[NSTimer alloc]\n    initWithFireDate:[NSDate dateWithTimeIntervalSinceNow:2.0f]\n    interval:1.0f\n    target:self\n    selector:@selector(myMethod:)\n    userInfo:myUserInfo\n    repeats:YES];\n</code></pre>\n\n<p>However, the timer doesn't get fired. The method doesn't get invoked.\nIf I print my date I get the following:</p>\n\n<blockquote>\n  <p>2012-10-12 15:19:02.786 MyApp[1768:303] fire date: 2012-10-12 13:21:02 +0000</p>\n</blockquote>\n\n<p>Shouldn't it be \"2012-10-12 15:21:02\" ? Somehow the hours are wrong. But why? If I change the Time Zone from UTC/GMT +1 hour (I'm sitting in Germany) to another, the date is still 2012-10-12 13:19:02 plus two seconds.</p>\n\n<p>What am I doing wrong?</p>\n\n<p>Thanks!</p>\n"},{"tags":["cocoa","ios6"],"answer_count":3,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":339,"score":2,"question_id":12705348,"title":"Target orientation of iOS6 shouldAutorotate","body":"<p>i want to allow the should rotate, based on the target orientation</p>\n\n<pre><code>[[UIDevice currentDevice] orientation] \n</code></pre>\n\n<p>however the code above, when used in shouldRotate holds the current (old) orientation, not the target orientation</p>\n\n<pre><code>- (BOOL) shouldAutorotate {\n\n    return YES;\n}\n</code></pre>\n"},{"tags":["objective-c","cocoa","osx","nsview"],"answer_count":3,"favorite_count":0,"up_vote_count":6,"down_vote_count":0,"view_count":1226,"score":6,"question_id":4630509,"title":"How to find if the mouse is over a view","body":"<p>I need to find if the mouse position is inside an NSView's rect.</p>\n\n<p>I'd use <code>NSPointInRect(point, rect)</code>, but I'd need to convert the rect coordinates to screen coordinates and I'm not sure how. Any help would be much appreciated!</p>\n"},{"tags":["cocoa","nstableview","editing","nstextfield"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":93,"score":0,"question_id":9426255,"title":"How to bind a NSTextField to a raw string while displaying another attributed string?","body":"<p>I'm using view-based <code>NSTableView</code> and would like to allow users to edit text in place. Cocoa typically has superb support for this, but I am not sure how to bind the value of <code>NSTextField</code> to one string while displaying a slightly different string to the user, as shown below. For example, when user clicks on a text field or presses enter key to edit, the field editor should only be filled with <code>exportTest.zip</code> and not <code>exportTest.zip Shared</code>, and whatever edit user makes should only affect the <code>exportTest.zip</code> value as well. Can this be done using cocoa text?</p>\n\n<p><img src=\"http://i.stack.imgur.com/dtf1w.png\" alt=\"enter image description here\"></p>\n"},{"tags":["ios","cocoa","uitableview"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":38,"score":1,"question_id":12857831,"title":"Grouped UITableView & Section Index","body":"<p>There's this piece of information in Apple's docs for <code>tableView:sectionForSectionIndexTitle:atIndex:</code>:</p>\n\n<blockquote>\n  <p>You implement this method only for table views with a section index list — which can only be table views created in the plain style (<code>UITableViewStylePlain</code>).</p>\n</blockquote>\n\n<p>(Source: <a href=\"http://developer.apple.com/library/ios/#documentation/uikit/reference/UITableViewDataSource_Protocol/Reference/Reference.html\" rel=\"nofollow\">http://developer.apple.com/library/ios/#documentation/uikit/reference/UITableViewDataSource_Protocol/Reference/Reference.html</a>)</p>\n\n<p>Does anybody know why is that? I'm making an app that has a grouped table view (<code>UITableViewStyleGrouped</code>) with an index and it works without any issues. Is the documentation wrong or am I missing something obvious?</p>\n"},{"tags":["objective-c","osx","cocoa"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":50,"score":1,"question_id":12857065,"title":"Why createDirectoryAtPath with attributes not work","body":"<p>In OS X desktop application</p>\n\n<pre><code>NSFileManager *manager = [NSFileManager defaultManager];\n\nNSDictionary *dirMeta = [NSDictionary dictionaryWithObjectsAndKeys:@\"jack\", @\"creator\", nil];\nNSLog(@\"%@\", [dirMeta objectForKey:@\"creator\"]);//output jack\n\n[manager createDirectoryAtPath:@\"/Users/loki/Desktop/fromCap\" withIntermediateDirectories:YES attributes:dirMeta error:NULL];\n\nNSDictionary *attri2 = [manager attributesOfItemAtPath:@\"/User/loki/Desktop/fromCap\" error:nil];\nNSLog(@\"value is %@\", [attri2 objectForKey:@\"creator\"]);//output null\n</code></pre>\n\n<p>Am I using createDirectoryAtPath wrongly?\nWhy attri2 get nothing data out of the directory?</p>\n"},{"tags":["cocoa","safari","osx-mountain-lion","safari6"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":60,"score":0,"question_id":12855168,"title":"Mac OS X Safari 6 default search engine change between possible values","body":"<p>I would like to change the Safari default search engine programmatically on Mac OS X. I know there are 3 possible values, but where Safari stores the current value? I would like to change from Google to Yahoo from Cocoa code. Is it possible?  </p>\n\n<p>I've seen in the a <code>SearchProviderIdentifierMigratedToSystemPreference</code> variable is set to YES in the <code>com.apple.Safari.plist</code> file, that can be located at <code>~/Library/Preferences</code>. This could be the key to the current value, but where the \"System Preference\" is stored? Do you have any clues about this?</p>\n\n<hr>\n\n<p>Update: I've found the this command <code>defaults read -g NSPreferredWebServices</code> always returns the selected default search engine. The problem with this is that when I change the value of it, the safari doesn't changes the value.<br>\nHere's the command that changes the value to Bing:<br>\n<code>defaults write -g NSPreferredWebServices '{NSWebServicesProviderWebSearch = { NSDefaultDisplayName = Bing; NSProviderIdentifier = \"com.bing.www\"; }; }';</code>  </p>\n\n<p>This command should be executed in the terminal.</p>\n"},{"tags":["xcode","cocoa","xcode4","xcode-template","copyright-display"],"answer_count":1,"favorite_count":5,"up_vote_count":6,"down_vote_count":0,"view_count":447,"score":6,"question_id":10097192,"title":"How to change entire copyright notice template for Xcode?","body":"<p>I've found a few answers on how to change your company name, but is there any way to change the entire copyright template in Xcode? </p>\n\n<p><strong>For example:</strong></p>\n\n<p><em>Change :</em></p>\n\n<pre><code>(c) 2012 MyCoolCompany\n</code></pre>\n\n<p><em>to :</em></p>\n\n<pre><code>(c) 2012 MyCoolCompany, unauthorized reproduction is prohibited, contact bla-bla-bla@example.com for details, etc.\n</code></pre>\n"},{"tags":["iphone","objective-c","ios","cocoa","xcode4.2"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":95,"score":0,"question_id":12841968,"title":"imagePickerController","body":"<p>I've been looking and searching in the forum for a few days and I do not seem to understand how to resolve this problem I am currently facing while writing a small app for iPhone that take photos from the album and allows some minor picture editing using filters.</p>\n\n<p>I am working with imagePickerController to select images from the photo album or from the camera.</p>\n\n<p>The code that I am using was intended to work on a small jpg image \"001.jpg\"</p>\n\n<pre><code>    - (void)viewDidLoad {\n[self.imageView setImage:[UIImage imageNamed:@\"001.jpg\"]];\n}\n</code></pre>\n\n<p>and the relative adjustment slider would look like this:</p>\n\n<pre><code>(IBAction) sliderMoved:(id)sender;\n{\n    UIImage *image = [UIImage imageNamed:@\"001.jpg\"]; ...\n</code></pre>\n\n<p>Since it all worked very well in my first phase and filters applies OK to the jpg, I moved on with implementing imagePickerController.</p>\n\n<pre><code>- (void)imagePickerController:(UIImagePickerController *)picker didFinishPickingMediaWithInfo:(NSDictionary *)info {\n    [picker dismissModalViewControllerAnimated:YES];\n    imageView.image = [info objectForKey:@\"UIImagePickerControllerOriginalImage\"];\n}\n</code></pre>\n\n<p>So I was able to pick a photo from the album, show it on the UIImageView but the filters are still looking for 001.jpg so I've changed the name to:</p>\n\n<pre><code>        - (void)viewDidLoad {\n        imageView.image = [UIImage imageNamed:@\"UIImagePickerControllerOriginalImage\"];\n}\n</code></pre>\n\n<p>and </p>\n\n<pre><code>- (IBAction) sliderMoved:(id)sender;\n{\n    UIImage *image = [UIImage imageNamed:@\"UIImagePickerControllerOriginalImage\"]; ...\n</code></pre>\n\n<p>but it does not work, basically it crashes when i move the slide to apply the filter telling me that the location is invalid. Both didLoad and sliderMove were changed to reflect the picker image but neither one work.\nI think i will have to rewrite the image, maybe smaller size and give it a name, that i where my understanding and knowledge really stops and need some help.</p>\n\n<p>Thanks in advance and anything helps.</p>\n"},{"tags":["osx","cocoa","png","icns","iconutil"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":104,"score":2,"question_id":12772346,"title":"Retina-ready .icns icon file on 10.5 Leopard (size limit?)","body":"<p>I'm trying to create a retina ready version of my application's icon. The application targets 10.5+. I'm using Uli Kusterer's <a href=\"https://github.com/uliwitness/oldiconutil\" rel=\"nofollow\">oldiconutil</a> to post process the .icns file I make from a .iconset using iconutil on 10.8. The problem is that if I include a 1024x1024 icon (\"icon_512x512@2x.png\"), the icon does not display on 10.5. Finder doesn't display the icon, and when it is opened in Icon Composer on 10.5, it appears to be blank/empty. If I remove this largest size, the icon displays correctly on 10.5. Interestingly, if I substitute a completely different, simpler 1024x1024 image with a much smaller file size (~300K instead of ~1MB), the icon again works fine on 10.5. So it seems that there may be some limit on the file size of the overall .icns file and/or the individual image chunks in a .icns file that when exceeded breaks compatibility with Leopard.</p>\n\n<p>Compressing the 1024x1024 image with <a href=\"http://tinypng.org\" rel=\"nofollow\">TinyPNG</a> was not enough to fix the problem. It did result in a significantly smaller .icns file before running it through oldiconutil, but the final, JPEG2000 compressed output of oldiconutil was still much larger than the variant using a simpler substitute image, presumably because the more complicated image is simply not as compressible.</p>\n\n<p>Has anyone else run into this problem before? Have you found a solution? If I can't figure out a solution, I'll have to just omit a retina ready application icon until I drop support for 10.5.</p>\n"},{"tags":["cocoa","uiviewcontroller","interface-builder","nsobject"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":1244,"score":2,"question_id":5227332,"title":"View outlet not available to File's Owner","body":"<p>I was getting the following message upon creating a new view controller. Everything was compiling a-okay in Xcode without errors, but the app was immediately quitting upon loading the new view from a RootViewController.</p>\n\n<pre><code>Terminating app due to uncaught exception 'NSInternalInconsistencyException', reason: '-[UIViewController _loadViewFromNibNamed:bundle:] loaded the \"HomeView\" nib but the view outlet was not set.'\n</code></pre>\n\n<p>To resolve this, I tried connecting the File's Owner to the view, but the view outlet wasn't even available to the File's owner.</p>\n"},{"tags":["ios","cocoa"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":12853196,"title":"How to apply scale animation on a rectangular UIView which has been rotated?","body":"<p>I have to draw a rectangular shape which appears to grow.</p>\n\n<p><strong>My Approach</strong></p>\n\n<p>1.i made a UIView subclass,say DrwArrow and in its draw rect method i am drawing my shape I am initializing it with the height required. </p>\n\n<ol>\n<li>i am now adding the DrwArrow object on my view and setting its center at the required point and then applying rotation at the required angle.</li>\n</ol>\n\n<p>3.In order to apply scale animation i am setting its rect to  0 height and the scaling it to the required height.</p>\n\n<p><strong>Issue</strong></p>\n\n<p>The approach works fine when the rectangle is either vertical or horizontal but when the angle is not a multiple of 90 then it scales erroneously, I guess because the height of rect changes due to rotation applied..</p>\n\n<p>I need suggestion regarding the approach i should follow.</p>\n\n<p>Before downvoting please gv rsn so that i can improve.</p>\n"},{"tags":["cocoa","drag-and-drop","nstableview","appkit"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":115,"score":0,"question_id":12851989,"title":"Promising files from my view-based NSTableView","body":"<p>I'm writing a Mac app with a view-based table view. It's a list of images, which I intend for the user to be able to drag to the Finder to save each image to a file.</p>\n\n<p>The data source owns an array of custom model objects. The model objects all conform to the <code>NSPasteboardWriting</code> protocol as follows:</p>\n\n<pre>- (NSArray *)writableTypesForPasteboard:(NSPasteboard *)pasteboard {\n    //self.screenshotImageDataType is set after the image is downloaded, by examining the data with a CGImageSource.\n    //I have verified that it is correct at this point. Its value in my test was @\"public.jpeg\" (kUTTypeJPEG).\n    return @[ self.screenshotImageDataType, (__bridge NSString *)kUTTypeURL, (__bridge NSString *)kPasteboardTypeFilePromiseContent ];\n}\n\n- (id)pasteboardPropertyListForType:(NSString *)type {\n    if (UTTypeEqual((__bridge CFStringRef)type, (__bridge CFStringRef)self.screenshotImageDataType)) {\n        return self.screenshotImageData;\n    } else if (UTTypeEqual((__bridge CFStringRef)type, kUTTypeURL)) {\n        return [self.screenshotImageURL pasteboardPropertyListForType:type];\n    } else if (UTTypeEqual((__bridge CFStringRef)type, kPasteboardTypeFilePromiseContent)) {\n        return self.screenshotImageDataType;\n    }\n\n    id plist = [self.screenshotImage pasteboardPropertyListForType:type]\n        ?: [self.screenshotImageURL pasteboardPropertyListForType:type];\n    NSLog(@\"plist for type %@: %@ %p\", type, [plist className], plist);\n    return [self.screenshotImage pasteboardPropertyListForType:type]\n        ?: [self.screenshotImageURL pasteboardPropertyListForType:type];\n}</pre>\n\n<p>The URLs that my objects own are web URLs, not local files. They're the URLs the images were downloaded from.</p>\n\n<p>The table view's data-source-and-delegate-in-one implements a method relating to file promises:</p>\n\n<pre>- (NSArray *)tableView:(NSTableView *)tableView\nnamesOfPromisedFilesDroppedAtDestination:(NSURL *)dropDestinationURL\nforDraggedRowsWithIndexes:(NSIndexSet *)rows\n{\n    return [[self.screenshots objectsAtIndexes:rows] valueForKeyPath:@\"screenshotImageURL.lastPathComponent\"];\n}</pre>\n\n<p>Logging the value of that expression produces a valid filename with the correct filename extension.</p>\n\n<p>Finally, in <code>windowDidLoad</code>, I have sent the message that turns this whole mess on:</p>\n\n<pre><code>//Enable copy drags to non-local destinations (i.e., other apps).\n[self.tableView setDraggingSourceOperationMask:NSDragOperationCopy forLocal:NO];\n</code></pre>\n\n<p>The stage is set. Here's what happens when the curtains go up:</p>\n\n<p>When I drag to a window owned by the Finder, the view I'm dragging to highlights, indicating that it will accept the drag.</p>\n\n<p>However, when I drop the image, no file is created.</p>\n\n<p>Why doesn't the file whose contents I've promised get created?</p>\n"},{"tags":["iphone","ios","cocoa","uiview","catiledlayer"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":44,"score":1,"question_id":12778777,"title":"Capturing CATiledLayer content to another layer or image context","body":"<p>I'm trying to screen capture a view that uses CATiledLayers (for animation) but unable to get the image that I want.</p>\n\n<p>I tried it on Apple's \"PhotoScroller\" sample application and added this:</p>\n\n<pre><code>UIGraphicsBeginImageContext(self.view.frame.size);\nCGContextRef ctx = UIGraphicsGetCurrentContext();\n[self.view.layer renderInContext:ctx];\nUIImage *screenshot = UIGraphicsGetImageFromCurrentImageContext();\nUIGraphicsEndImageContext();\n</code></pre>\n\n<p>However, the tiles don't render in the resulting UIImage and all I get is the tile outlines.</p>\n\n<p>Seems that CATiledLayer's renderInContext behaves differently from CALayer.</p>\n\n<p>Am I doing anything wrong in trying to capture the tiles?  Is my only solution to render the tiles individually myself?</p>\n"},{"tags":["objective-c","ios","cocoa"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":71,"score":1,"question_id":12851635,"title":"Getting an error from adding to a NSDictionary","body":"<pre><code>main_dict = [[NSDictionary alloc] init];\nNSMutableArray *insert = [[NSMutableArray alloc] init];\n[insert addObject:main_event];      \nNSString *count = [NSString stringWithFormat:@\"%i\",total_count];\n[main_dict setValue:insert forKey:count];\n</code></pre>\n\n<p>I initialized the NSDictionary, main_dict and the NSMustableArray, insert. Then I added the main_event to the insert array. Finally added that array into dictionary with the key value. </p>\n\n<p>I got SIG_ABRT signal when I stepped into the <code>[main_dict setValue:insert forKey:count];</code>  </p>\n\n<p>What's wrong? I have all the elements initialized and have values, but still SIG_ABRT. </p>\n"},{"tags":["cocoa","osx","nsopenpanel"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":369,"score":1,"question_id":2869605,"title":"Changing the text of the cancel button of an NSOpenPanel (Cocoa OSX)","body":"<p>I would like to have a customizable chooser where many features may be customized.  One thing I cannot figure out how to do is change the text of the cancel button.  I found that the method setPrompt will change the text of the okay button but I can find no similar method for the cancel button, is there such a method?  </p>\n"},{"tags":["objective-c","osx","cocoa","opengl"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":62,"score":1,"question_id":12775400,"title":"Making NSOpenGLViews fade in and out using NSViewAnimation","body":"<p>In the application I'm creating I wish to have certain <code>NSOpenGLViews</code> fade in and out of view when the user presses a button. Towards this end I've created a short test app using <code>NSViewAnimation</code>, attempting to fade out views over a duration of ten seconds. The code is closely based on that in <a href=\"https://developer.apple.com/library/mac/#documentation/cocoa/conceptual/AnimationGuide/Articles/ViewAnimations.html\" rel=\"nofollow\">this post</a>. </p>\n\n<p>The code works perfectly for general objects inherited from <code>NSView</code>, for example an <code>NSBox</code> object, but when I attempt to use it with an <code>NSOpenGLView</code> object, the view does nothing for ten seconds and then suddenly disappears. Is there something extra I have to do to get <code>NSViewAnimation</code> to work with <code>NSOpenGLView</code>, or is <code>NSViewAnimation</code> not the right tool for the job in this case?</p>\n\n<p>The relevant code:</p>\n\n<pre><code>// AppDelegate.m\n#import \"AppDelegate.h\"\n\n@implementation AppDelegate\n@synthesize theForeground;  // an instance of a the Foreground class - a subclass of NSOpenGLView\n@synthesize theBox;\n@synthesize theBackground;\n\n//code omitted\n\n- (IBAction)buttonPressed:(id)sender\n{\n    NSViewAnimation *theAnim;\n    NSMutableDictionary * theViewDict;\n\n    theViewDict = [NSMutableDictionary dictionaryWithCapacity:2];\n    [theViewDict setObject: theForeground forKey:NSViewAnimationTargetKey];\n    [theViewDict setObject:NSViewAnimationFadeOutEffect\n                   forKey:NSViewAnimationEffectKey];\n\n    theAnim = [[NSViewAnimation alloc] initWithViewAnimations:  [NSArrayarrayWithObject:theViewDict]];\n\n    [theAnim setDuration:10.0];\n    [theAnim setAnimationCurve:NSAnimationEaseInOut];\n\n    [theAnim startAnimation];\n\n    [theAnim release];\n}\n@end\n\n\n// Foreground.m\n\n#import \"ForegroundView.h\"\n\n@implementation ForegroundView\n\n// code omitted\n- (void)drawRect:(NSRect)dirtyRect\n{\n    glClearColor(0, 0, 0, 1.0);\n    glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);\n    glColor3f(1.0, 0.0, 0.0);\n    glBegin(GL_QUADS);\n        glVertex2f(-0.5, -0.5);\n        glVertex2f(0.5, -0.5);\n        glVertex2f(0.5, 0.5);\n        glVertex2f(-0.5, 0.5);\n    glEnd();\n    glFlush();\n}\n\n@end\n</code></pre>\n"},{"tags":["cocoa","ios","ios4","grand-central-dispatch"],"answer_count":5,"favorite_count":9,"up_vote_count":10,"down_vote_count":0,"view_count":7539,"score":10,"question_id":4607125,"title":"usage of dispatch_sync in Grand Central Dispatch","body":"<p>Can someone explain with really clear use cases what the purpose of dispatch_sync in GCD is for? I can't seem to understand where and why I would have to use this.</p>\n\n<p>Thanks!</p>\n"},{"tags":["iphone","objective-c","ios","ipad","cocoa"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":62,"score":0,"question_id":12848344,"title":"Loading nib file from framework","body":"<p>I have a nib file created from Interface builder which I have inserted in a framework as bundle resources and added to my project. I am trying to load the nib file from the framework but not sure how to load it for a ViewController. Could anyone share any thoughts as of how to load the nib file from main bundle of the framework resource folder?</p>\n\n<p>Thanks.</p>\n"},{"tags":["xcode","osx","cocoa","osx-mountain-lion"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":12810290,"title":"Only show notification if user is at computer","body":"<p>Whats the best way to detect if a user is currently at their computer, ie using it in some way. We have an application that should only issue notifications (banner notifications with a close button) if the user is at their computer.</p>\n\n<p><em>For example, imagine a stock trading application that alerts the user to various time sensitive information that might be relevant for only a few minutes. If the user is away from their computer, they don't want to find 20 un-actioned alerts to dismiss.</em></p>\n"},{"tags":["objective-c","cocoa","nstableview","nstextfield"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":77,"score":0,"question_id":12846529,"title":"NSTableView get elements inside selected row","body":"<p>I have an <code>NSTableView</code> of content type <code>View Based</code> with two columns. </p>\n\n<p>My objects are structured as follows:</p>\n\n<pre><code>Table View\n    Table Column\n        Table Cell View\n            Text Field\n    Table Column\n        Table Cell View\n            Popup Button\n</code></pre>\n\n<p>For a selected row, I want to get an element inside the selected row for a specific column. Specifically, I want to get the <code>Text Field</code> in the first column for the selected row.</p>\n\n<p>I have an outlet to the table view and I have the index of the selected row so far, but that's about it:</p>\n\n<pre><code>- (void)getSelectedTextField\n{\n    NSInteger selected = [tableView selectedRow];\n}\n</code></pre>\n\n<p>Any ideas on how I can go about tackling this problem?</p>\n\n<p><strong>Edit</strong>: This is what I am trying to do: I want to change the text field to be in an editing state and focus on it so the user can start editing the text field value as soon as it is selected</p>\n"},{"tags":["objective-c","cocoa","nsstring","int"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":90,"score":0,"question_id":12848744,"title":"How to take a NSString such as, \"0+1+2\", get the sum of those and create new string. Obj-C","body":"<p>Alright. My app has a text field and next to it are two buttons (Plus button and Equals button). When you press the \"Plus\" button, it takes the text inside of the textField and adds a \"+\" to it. Code below:</p>\n\n<pre><code>- (IBAction)plusButtonPressed:(id)sender {\n    NSString *plusString = @\"+\";\n    NSString *inputString = carbsField.text;\n    NSString *outputString = [NSString stringWithFormat:@\"%@%@\",inputString,plusString];\n    NSLog(@\"%@\",outputString);\n    [carbsField setText:outputString];\n}\n</code></pre>\n\n<p>I will eventually make that more intelligent so that I can't put two pluses or whatever. Anyway, then I want the equal button to take whatever is in the textField, which should look something like: \"23+54+2.2\" and get the sum of those values. I believe I know how to take an Integer and make it a String, but I want to verify it:</p>\n\n<pre><code>int value = 56;\nNSString *string = @\"%d\",value;\n</code></pre>\n\n<p>Well, if anyone can show me how to do this, I would be very appreciative. Thanks.</p>\n\n<p><strong>EDIT</strong>\nAt the moment, I have not tried anything. This is because I do not know where to start. I have an idea of what to do, but I do not know how to execute it. I believe I need to get all characters before a \"+\" convert them into <code>int</code> and then get the sum of some array of those values. </p>\n\n<p><strong>Edit #2</strong>\nI now use:</p>\n\n<pre><code>- (IBAction)equalButtonPressed:(id)sender {\n    NSString *inputString = carbsField.text;\n    NSArray *numbers = [inputString componentsSeparatedByString:@\"+\"];\n    int sum = 0;\n    for (NSString *number in numbers) {\n        sum += [number intValue];\n    }\n    NSString *theSum = [NSString stringWithFormat:@\"%d\",sum];\n    NSLog(@\"%@\",theSum);\n}\n</code></pre>\n\n<p>However, it won't log anything at all. What did I do wrong?</p>\n"},{"tags":["cocoa","nsarray","nsdate"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1716,"score":0,"question_id":4354753,"title":"sorting an NSArray of NSDates","body":"<p>I have an NSArray of NSDate objects and I want to sort them so that today is at 0, yesterday at 1 etc.</p>\n\n<p>Is it ascending or descending, and do i use a function, selector or what?</p>\n"},{"tags":["cocoa","nswindow","osx-mountain-lion","nscontrol"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":49,"score":1,"question_id":12846651,"title":"keeping NSPanel controls active","body":"<p>I have an NIB-based NSPanel, style Utility Panel, that I'm making a child window of my NSDocument window. I'd like it to behave like a drawer, in that it appears like part of the window, with controls drawn in their active-window state whenever the document window is main. I'm also planning on customizing the frame, close &amp; minimize buttons.</p>\n\n<p>The panel has becomesKeyOnlyIfNeeded &amp; excludedFromWindowsMenu set to YES, and its subclassed to return YES from canBecomeKeyWindow.</p>\n\n<p>The panel's NIB contains a NSSegmentedControl and a view into which I add a view from another NIB. I'm finding that the segmented control is being drawn in its window-inactive state unless the panel is clicked on to become key.</p>\n\n<p><img src=\"http://i.stack.imgur.com/8jqQ7.png\" alt=\"enter image description here\"></p>\n\n<p>I tried a trick from OmniGroup's OIInspectorWindow &amp; cocoadev.com's NSWindow page, implementing an _hasActiveControls method that returns YES, but that seemed to have no effect. I then tried then overriding isMainWindow to return YES whenever the parent window is the main window (plus observing the window's state change notification &amp; calling -display). I was hoping that this would fool the control &amp; window frame to draw in the active state. On 10.7 (Lion) it turns out that the control does indeed draw active as I wanted, though the window frame isn't. On 10.8 (Mountian Lion), not even that, the segmented control is still inactive when the window isn't key.</p>\n\n<p>I can live with my trick not affecting the window frame &amp; close button, since I plan on customizing those anyway. Does anyone know either a) why my trick doesn't work on 10.8 and how I can get it to work, or b) another way to ensure my panel's control is always active when its parent window is main.</p>\n"},{"tags":["cocoa","nsstring"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":12844638,"title":"NSString Range or Index out of bounds","body":"<p>For some reason this is tripping me up today.</p>\n\n<p>I've got an NSString I'm trying to search using <code>-rangeOfString:options:range:</code> and I keep getting this exception. What I'm doing:</p>\n\n<p>I'm searching the string trying to find the next newline character after a certain character index (so, given an index <code>i</code>, find the next occurrence of <code>@\"\\n\"</code> after that). I have <code>i</code>, now I'm searching for the next newline like so (this is in an <code>NSTextView</code> subclass)</p>\n\n<pre><code>NSRange untilReturn = [wholeString rangeOfString:@\"\\n\" options:kNilOptions range:NSMakeRange(startLocation, [wholeString length] - 1)];\n</code></pre>\n\n<p>Where <code>wholeText</code> is the whole text of the textView and <code>startLocation</code> is <code>i</code>.</p>\n\n<p>But when I run this I get an out of bounds exception and I can't seem to figure out what's going wrong. Can someone lend a hand?</p>\n"},{"tags":["objective-c","json","cocoa"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":53,"score":2,"question_id":12784652,"title":"Counting JSON, NSArray","body":"<p>I got a small problem i got a JSON feed like</p>\n\n<pre><code> [\n    {\n        id: \"7\",\n        title: \"\",\n\n    },\n    id: \"8\",\n    title: \"\"\n}\n]\n</code></pre>\n\n<p>Now i want to count al 'objects' in my JSON i tried;</p>\n"},{"tags":["iphone","objective-c","ios","osx","cocoa"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":66,"score":0,"question_id":12845839,"title":"@synchronized the same object twice, in Objective-C","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/8956857/how-does-this-recursive-synchronized-call-not-deadlock\">How does this recursive synchronized call not deadlock?</a>  </p>\n</blockquote>\n\n\n\n<p>In Objective-C, will there be any problem if I synchronize an object (self) more than once? For example:</p>\n\n<pre><code>-(void) methodOne {\n   @synchronized(self) {\n      [self methodTwo];\n      // other code which need to be executed in a synchronized block...\n   }\n}\n\n-(void) methodTwo { // this method must be synchronized\n   @synchornized(self) {\n      // do something...\n   }\n}\n</code></pre>\n\n<p>The reason why I'm trying to obtain the same lock twice (in the above example) is I have another method which is not synchronized, calling methodTwo:</p>\n\n<pre><code>-(void)methodThree { // this method does not need to be sync'ed, for performance\n   [self methodTwo];\n   [self methodOther];\n   [self methodETC];\n}\n</code></pre>\n"},{"tags":["objective-c","osx","cocoa","core-foundation"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":104,"score":1,"question_id":12801957,"title":"How to calculate the size of a folder. (This size must agree with Finder.)","body":"<p>I need to calculate the size of a folder in MacOS. This size value must agree with Finder. I've tried several ways to do this. but the results are always different from Finder. </p>\n\n<p>the following methods are what I tried. </p>\n\n<pre><code>typedef struct{\n    //getResourceValue in NSURL\n    unsigned long long fileSize;\n    unsigned long long fileAllocSize;\n    unsigned long long totalFileSize;\n    unsigned long long totalFileAllocSize;\n    //lstat in posix\n    unsigned long long statSize;\n    unsigned long long blockSize;\n    //NSFileManager\n    unsigned long long cocoaSizeNo;\n    unsigned long long cocoaSizeYes\n}sizePack;\n\n- (sizePack)foldSize:(NSString *)direString{\n\n    sizePack sizeP;\n    memset(&amp;sizeP, 0, sizeof(sizeP));\n\n    NSFileManager *fileManager = [NSFileManager defaultManager];\n\n    NSArray *tempArray = [fileManager contentsOfDirectoryAtPath:direString error:nil];\n    for (NSString *fileName in tempArray) {\n        BOOL flag = YES;\n        NSString *fullPath = [direString stringByAppendingPathComponent:fileName];\n        if ([fileManager fileExistsAtPath:fullPath isDirectory:&amp;flag]) {\n            if (!flag) {\n\n                NSNumber* FileSize;\n                NSNumber* FileAllocatedSize;\n                NSNumber* TotalFileSize;\n                NSNumber* TotalAllocatedSize;\n\n                NSURL* url = [NSURL fileURLWithPath:fullPath];\n                [url getResourceValue:&amp;FileSize forKey:NSURLFileSizeKey error:nil];\n                [url getResourceValue:&amp;FileAllocatedSize forKey:NSURLFileAllocatedSizeKey error:nil];\n                [url getResourceValue:&amp;TotalFileSize forKey:NSURLTotalFileSizeKey error:nil];\n                [url getResourceValue:&amp;TotalAllocatedSize forKey:NSURLTotalFileAllocatedSizeKey error:nil];\n\n\n                struct stat statbuf;\n                stat([fullPath UTF8String], &amp;statbuf);\n\n                unsigned long long fileSize = [FileSize unsignedLongLongValue];\n                unsigned long long fileAllocSize = [FileAllocatedSize unsignedLongLongValue];\n                unsigned long long totalFileSize = [TotalFileSize unsignedLongLongValue];\n                unsigned long long totalFileAllocSize = [TotalAllocatedSize unsignedLongLongValue];\n                unsigned long long cocoaSizeNO = [[[NSFileManager defaultManager] fileAttributesAtPath:fullPath traverseLink:NO] fileSize];\n\n                unsigned long long cocoaSizeYES = [[[NSFileManager defaultManager] fileAttributesAtPath:fullPath traverseLink:YES] fileSize];\n\n\n                sizeP.fileSize += fileSize;\n                sizeP.fileAllocSize += fileAllocSize;\n                sizeP.totalFileSize += totalFileSize;\n                sizeP.totalFileAllocSize += totalFileAllocSize;\n                sizeP.statSize += statbuf.st_size;\n                sizeP.blockSize += statbuf.st_blksize;\n                sizeP.cocoaSizeNo += cocoaSizeNO;\n                sizeP.cocoaSizeYes += cocoaSizeYES;\n            }\n            else {\n                sizePack tmp = [self foldSize:fullPath];\n                sizeP.fileSize += tmp.fileSize;\n                sizeP.fileAllocSize += tmp.fileAllocSize;\n                sizeP.totalFileSize += tmp.totalFileSize;\n                sizeP.totalFileAllocSize += tmp.totalFileAllocSize;\n                sizeP.statSize += tmp.statSize;\n                sizeP.blockSize += tmp.blockSize*4096;\n                sizeP.cocoaSizeNo += tmp.cocoaSizeNo;\n                sizeP.cocoaSizeYes += tmp.cocoaSizeYes;\n            }\n        }\n    }\n\n    return sizeP;\n}\n</code></pre>\n"},{"tags":["iphone","objective-c","xcode","cocoa","ibaction"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":12810733,"title":"Xcode: Button clicked results in NSInvalidArgumentException","body":"<p>I'm working in Xcode 4.3.2.</p>\n\n<p>I am new to Xcode. I'm building an application that must change to different views on button clicks. My files are: AppDelegate.h/.m, GreenViewController.h/.m, SwitchViewController.h/.m, GreenView.xib - I am not using storyboards, but my project demands that I don't use them (backwards compatibility issues).</p>\n\n<p>Here's my problem (it seems very simple): I'm trying to print to the console when a UIButton (placed in GreenView.xib) is clicked. Here's my code for GreenViewController.h</p>\n\n<pre><code>#import &lt;UIKit/UIKit.h&gt;\n@interface GreenViewController : UIViewController\n- (IBAction)switchViews:(id)sender;\n@end\n</code></pre>\n\n<p>Here's my (deprecated) code for GreenViewController.m:</p>\n\n<pre><code>#import \"GreenViewController.h\"\n@implementation GreenViewController\n\n- (IBAction) switchViews:(id)sender {\n    NSLog(@\"Button Pressed!\");\n}\n</code></pre>\n\n<p>The owner for GreenView.xib is GreenViewController. </p>\n\n<p>For some reason I have the error only when the UIButton (in GreenView.xib) is pressed:</p>\n\n<pre><code>2012-10-09 18:07:38.490 MyViewSwitcher[8655:f803] -[SwitchViewController switchViews:]: unrecognized selector sent to instance 0x688a660\n2012-10-09 18:07:38.492 MyViewSwitcher[8655:f803] *** Terminating app due to uncaught exception 'NSInvalidArgumentException', reason: '-[SwitchViewController switchViews:]: unrecognized selector sent to instance 0x688a660'\n</code></pre>\n\n<p>It seems that SwitchViewController is expecting something from the method \"switchViews\", but   \"switchViews\" is only listed in GreenViewController. Before, I had \"switchViews\" in SwitchViewController, but I deleted all the code corresponding to the method &amp; all the connections. Again, I've double checked that \"switchViews\" in GreenViewController is connected to the UIButton found in GreenView.xib. I've already cleaned &amp; re-built my project &amp; I still get this error.</p>\n\n<p>Thanks for your help!</p>\n"},{"tags":["xcode","osx","cocoa","tree","quartz"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":32,"score":1,"question_id":12843682,"title":"How to create draggable nodes in tree?","body":"<p>I'm creating an OS X app to draw trees. This is current state of my progress: <a href=\"http://cl.ly/K60v\" rel=\"nofollow\">http://cl.ly/K60v</a> \nI'm using Quartz to draw circles and lines between the nodes.</p>\n\n<p>What I want to ask is how can make these circles draggable? And when I drag a node, the connecting lines between the nodes should also update their coordinates.</p>\n\n<p>I have a video to show you what I want to achieve: <a href=\"http://cl.ly/K64J\" rel=\"nofollow\">http://cl.ly/K64J</a></p>\n\n<p>I'm a student and I'm learning Cocoa, so I'd be really glad if you could explain me what's the best/easiest way to do this. Thanks!</p>\n\n<pre><code>// Draw the node oval\nNSRect rectForOval = NSMakeRect(theNodePoint.x, theNodePoint.y, [Node diameter], [Node diameter]);\nNSBezierPath *ovalPath = [NSBezierPath bezierPathWithOvalInRect:rectForOval];\n[ovalPath setLineWidth:2.18];\n[white set]; [ovalPath fill];\n[black set]; [ovalPath stroke];\n\n// Draw connecting line\nNSPoint startPoint = NSMakePoint(theNodePoint.x + [Node radius], theNodePoint.y + [Node diameter]);\nNSPoint endPoint = NSMakePoint(rectForNextNode.origin.x + rectForNextNode.size.width * 0.50 + [Node radius], rectForNextNode.origin.y);\n\nNSBezierPath *linePath = [NSBezierPath bezierPath];\n[linePath setLineWidth: 2.18];\n[linePath moveToPoint:startPoint];\n[linePath lineToPoint:endPoint];\n[black set]; [linePath stroke];\n</code></pre>\n"},{"tags":["objective-c","cocoa","automatic-ref-counting"],"answer_count":3,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":1017,"score":4,"question_id":8716840,"title":"Questions about a readonly @property in ARC","body":"<p>In my interface (.h) file, I have</p>\n\n<pre><code>@property(readonly) NSString *foo;\n</code></pre>\n\n<p>and in my implementation (.m) file, I have</p>\n\n<pre><code>@synthesize foo;\n</code></pre>\n\n<p>With ARC turned on, the compiler gives me this error: <strong>Automatic Reference Counting Issue: ARC forbids synthesizing a property of an Objective-C object with unspecified ownership or storage attribute.</strong></p>\n\n<p>The error goes away if I add a <code>strong</code>, <code>weak</code>, or <code>copy</code> to the property. Why is this? Why would there be any differences between these things for a <em>read-only</em> property, what are those differences, and why does the programmer have to worry about them? Why can’t the compiler intelligently deduce a default setting for a read-only property?</p>\n\n<p>Another question while I’m at it: <code>strong</code>, <code>weak</code>, or <code>copy</code> are the only things that make sense in ARC, right? I shouldn’t be using <code>retain</code> and <code>assign</code> anymore, should I?</p>\n"},{"tags":["objective-c","cocoa","osx","desktop"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":540,"score":1,"question_id":4222769,"title":"show desktop/hide all windows under Mac OS X","body":"<p>I am trying to create an application which show the desktop / hide all application even the finder.</p>\n\n<p>Do you have any idea to achieve this?</p>\n\n<p>Thanks and regards,</p>\n"},{"tags":["cocoa","touch"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":36,"score":1,"question_id":12840448,"title":"to make audio from parts of many other audios","body":"<p>I want to create an audio file from small audios.\nThis other audio files should include selected ranges from other audios.\nFor example, from the 1st audio from 10th sec to 50th sec and from the 2nd audio from 20th sec to 30th sec.\nThen I want to create a 3rd audio file which will be 50 sec.</p>\n\n<p>How can I do this?</p>\n"},{"tags":["objective-c","xcode","osx","cocoa","nsbutton"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":62,"score":0,"question_id":9891017,"title":"Change button function on press?","body":"<p>I am working on a XCode 4.4 project and I am at a point where I need to conserve some space in my GUI. I have two buttons that each handle a method, one to power on a device and the other to power off the same device. </p>\n\n<p>My question is how can I combine these two buttons into one so when the user presses the power on button it changes to the power off button and so on. I need to be able to change the icon on the button as well to display a change. I would think this is generally pretty simple to achieve. Any advice would be greatly appreciated, thanks in advance.</p>\n"},{"tags":["objective-c","osx","cocoa"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":132,"score":1,"question_id":11775128,"title":"Set text vertical center in NSTextField","body":"<p>In a certain height NSTextField , the layout would be like this if text's size is small</p>\n\n<p><img src=\"http://i.stack.imgur.com/HdUPO.jpg\" alt=\"enter image description here\"></p>\n\n<p>the text is flowing to the top ,how to make the text center like this:</p>\n\n<p><img src=\"http://i.stack.imgur.com/QL77o.jpg\" alt=\"enter image description here\"></p>\n"},{"tags":["cocoa","methods","nsbutton"],"answer_count":4,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":163,"score":0,"question_id":7379093,"title":"NSButton with two functions","body":"<p>i have a NSButton which uploads a file and parses the response.\nI want to implement the following:\nWhen i click on the button he uploads the file and parses the response. While this is happening the buttons title should change from \"upload\" to \"cancel\" and when i press on the button again while he is uploading or parsing the process of parsing or uploading should stop.\nWhen the process was canceled or successfully the buttons title should return to \"upload\" and if i would click the button now he should start with upload and parsing again.\nI hope you can imagine what i mean, english isn't my native language ;)</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["cocoa","user-interface","interface-builder","appkit","nsbutton"],"answer_count":2,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":974,"score":5,"question_id":3797640,"title":"Borderless NSButton turns gray when clicked","body":"<p>I am making a little application with three NSButtons with an image set. These buttons have no border nor background. However, when I click a button it turns into a gray rectangle.</p>\n\n<p>How can I fix this? Thanks.</p>\n"},{"tags":["cocoa","ios6"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":236,"score":0,"question_id":12770476,"title":"mfmailcomposeviewcontroller crashing on iOS 6","body":"<p>Normally, when I use mfmailcomposeviewcontroller like so:</p>\n\n<pre><code>if ([MFMailComposeViewController canSendMail])\n{\n\n        MFMailComposeViewController *mcvc = [[MFMailComposeViewController alloc] init];\n        mcvc.mailComposeDelegate = self;\n\n        [mcvc setSubject:@\"Check out these diamonds!\"];\n\n        [self presentModalViewController:mcvc animated:YES];\n        [mcvc release];\n}\n</code></pre>\n\n<p>And I am now getting this error on iOS 6:</p>\n\n<pre><code>*** Terminating app due to uncaught exception 'NSInternalInconsistencyException',\nreason: 'Could not load NIB in bundle: 'NSBundle &lt;/Users/ericshorr/Library/Application Support/iPhone Simulator/6.0/Applications/7904C2AD-23E1-4211-B5FA-A1F03CB3A875/SDE Group Diamonds.app&gt; (loaded)' with name 'MFMailComposeInternalViewController''\n</code></pre>\n"},{"tags":["objective-c","ios","cocoa","input","handwriting"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":12182357,"title":"Impose specific input method","body":"<p>In an application I want to have a text field where the input method always should be handwritten simplified chinese, even though the user probably haven't even activated this input method in the settings.</p>\n\n<p>Is there a way to impose a specific input method?\n<code>UITextField</code> has a property <code>inputView</code> which can be used for a custom input view, can also existing input methods' views be grabbed and set as <code>inputView</code>?</p>\n"},{"tags":["cocoa","view","drawrect","nsrect"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":12824729,"title":"Drawing with drawRect method - Cocoa","body":"<p>I've been looking for solutions but can't figure out if it is possible to do the following:</p>\n\n<p>I have a drawRect method, what i want to do is to add a graphic element (such as rects and lines) to the current view without refreshing it. I used to call setNeedsDisplay but this method is actually deleting myView an re-drawing it from 0.. Any suggestion to keep the old one and add new content ?</p>\n\n<p>Thank</p>\n"},{"tags":["objective-c","osx","cocoa","nswindow"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":52,"score":1,"question_id":12824785,"title":"Transparent NSWindow with visible controls","body":"<p>How to make an <code>NSWindow</code> transparent while keeping all controls (views, buttons, ...) within this window visible?</p>\n"},{"tags":["osx","cocoa"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12837759,"title":"NSTableview reloadData not working","body":"<p>I am trying to populate NSTableView. When i call the reloadData numberOfRowsInTableView method working. But viewForTableColumn method is not working. In first time this both delegate working perfectly. </p>\n\n<pre><code>- (NSInteger)numberOfRowsInTableView:(NSTableView *)tableView {\n\n\nreturn [self.entityMap count];\n\n}\n\n- (NSView *)tableView:(NSTableView *)tableView  viewForTableColumn:(NSTableColumn *)tableColumn row:(NSInteger)row {\n\nif([tableColumn.identifier isEqualToString:@\"coloum0\"])\n{\nNSTextField *result = [tableView makeViewWithIdentifier:@\"coloum0\" owner:self];\n\n// There is no existing cell to reuse so we will create a new one\nif (result == nil) {\n\n\n    result.identifier = @\"coloum0\";\n\n}\n\n\nreturn result;\n}\nif([tableColumn.identifier isEqualToString:@\"coloum1\"])\n{\n    NSComboBox *result = [tableView makeViewWithIdentifier:@\"coloum1\" owner:self];\n\n    // There is no existing cell to reuse so we will create a new one\n    if (result == nil) {\n\n\n        result.identifier = @\"coloum1\";\n    }\n\n\n    return result;\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["objective-c","ios","cocoa"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":12836627,"title":"What situation can cause Terminating app due to uncaught exception of class 'nil'","body":"<p>My app crashed occasionally with </p>\n\n<pre><code>2012-10-10 23:19:24.039 [26442:850f] -[NSNull allKeys]: unrecognized selector sent to instance 0x7fff741cbea0\n2012-10-10 23:19:24.040 [26442:850f] *** Terminating app due to uncaught exception of class 'nil'\n</code></pre>\n\n<p>The object has already been tested <code>[obj isKindOfClass:[NSDictionary class]]</code> before call <code>allKeys:</code></p>\n\n<p>and if I call <code>[[NSNull null] allKeys]</code> intentionally, it crashes with</p>\n\n<pre><code>2012-10-11 16:22:15.606 [14939:403] -[NSNull allKeys]: unrecognized selector sent to instance 0x7fff73659f00\n2012-10-11 16:22:15.622 [14939:403] *** Terminating app due to uncaught exception 'NSInvalidArgumentException', reason: '-[NSNull allKeys]: unrecognized selector sent to instance 0x7fff73659f00'\n</code></pre>\n\n<p>I want to know what situation causes <code>Terminating app due to uncaught exception of class 'nil'</code> so I can debug this problem.</p>\n"},{"tags":["objective-c","cocoa","git","merge"],"answer_count":1,"favorite_count":2,"up_vote_count":7,"down_vote_count":0,"view_count":2059,"score":7,"question_id":2729109,"title":"Should I merge .pbxproj files with git using merge=union?","body":"<p>I'm wondering whether the merge=union option in .gitattributes makes sense for .pbxproj files.</p>\n\n<p>The manpage states for this option:\nRun 3-way file level merge for text files, but take lines from both versions, instead of leaving conflict markers. This tends to leave the added lines in the resulting file in random order and the user should verify the result.</p>\n\n<p>Normally, this should be fine for the 90% case of adding files to the project. Does anybody have experience with this?</p>\n"},{"tags":["objective-c","cocoa","osx","pdfkit"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":535,"score":0,"question_id":1853124,"title":"Cocoa PDFKit Unlocking Encrypted Files","body":"<p>I have a PDF document that has an owner password set but no user password. Therefore it is encrypted.</p>\n\n<p>I know the owner password and want to use PDFKit to confirm when the document has been decrypted.</p>\n\n<p>I have used the PDFDocument unlockWithPassword method which returns YES when the file is unlocked. However this method also returns yes when the file has been unlocked by a user password and not the owner password.</p>\n\n<p>The unlockWithPassword method appears not to change the state of the isEncrpyted method which I tried to use to confirm the decryption.</p>\n\n<p>I want to decrpyt the file so that I can use the write methods to write a new file with no security. At the moment calling this method on the document object results in a zero length file being created. I assume this is because of the encryption.</p>\n\n<p>Am I going about this the right way or should I be using a different method for decrypting the pdf file.</p>\n"},{"tags":["objective-c","osx","cocoa","nssplitview"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":59,"score":1,"question_id":12819478,"title":"How to change the NSSplitView divider thickness to 1px?","body":"<p>I would like to make the divider of an <code>NSSplitView</code> very thin, only 1px wide like Mail.app, Xcode.app, and many other Mac applications.</p>\n\n<p>What is a good way to do this?</p>\n\n<p>I have experimented with setting the divider style in Interface Builder as well as subclassing <code>NSSplitView</code> to override <code>-dividerThickness</code>, but the closest I have gotten is 2px, and this broke the divider functionality (I could no longer move the divider).</p>\n\n<p><strong>EDIT:</strong> I am aware of alternatives such as <code>RBSplitView</code> and <code>BWSplitView</code>, but I would like to use <code>NSSplitView</code> if possible. Basically, how does Apple do it?</p>\n"},{"tags":["iphone","ios","xcode","cocoa","google-maps"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":12833869,"title":"How to include compass mode in my iphone google maps app","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/9876157/is-the-current-location-compass-heading-button-available-in-the-ios-sdk\">Is the Current Location/Compass heading button available in the iOS sdk?</a>  </p>\n</blockquote>\n\n\n\n<p>I am working on Google maps app for Iphone.I would like to include compass mode for the map.I searched in web but didn't find any good reference.could any provide links of \"Compass mode for Iphone\" and if any sample code if you have done.As per my app  \"in Compass mode, the little arrowhead icon in its lower-left corner grows a little white cone, just like the blue marker, which lets you know that you're now using the Compass mode.If you rotate to face a different direction while the iPhone Maps app is in Compass mode, the map rotates in real time. So the map always displays the direction you're currently facing\".</p>\n"},{"tags":["iphone","objective-c","ios","cocoa-touch","cocoa"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12833352,"title":"Uncaught exception: <NSRangeException> valueAtIndex:inPropertyWithKey: index != 0 for non-toMany key","body":"<p>I am getting this exception message:</p>\n\n<p><em><strong></em>* Uncaught exception:  valueAtIndex:inPropertyWithKey: index != 0 for non-toMany key</strong></p>\n\n<p>Does anyone know how to resolve this?</p>\n\n<p>Google is not giving me any results for this exception.</p>\n\n<p><strong>Edit</strong> Adding Code</p>\n\n<p>when the control comes to the return statement in:</p>\n\n<pre><code>- (id)tableView:(NSTableView *)tableView\n      objectValueForTableColumn:(NSTableColumn *)tableColumn\n                            row:(int)row {\nif ([[tableColumn identifier] isEqualToString:@\"Methods\"])\n  {\n    return [plistArray_ valueAtIndex:row inPropertyWithKey:@\"functionName\"];\n  }\nreturn [plistArray valueAtIndex:row inPropertyWithKey:@\"address\"];\n}\n</code></pre>\n"},{"tags":["objective-c","cocoa","gps"],"answer_count":2,"favorite_count":4,"up_vote_count":2,"down_vote_count":0,"view_count":335,"score":2,"question_id":9462538,"title":"How to read NMEA data from USB GPS device through cocoa application","body":"<p>I am using <strong>USB GlobalSat(USG-MR350)</strong> GPS device. I want to get location data (latitude and longitude) from the device within my mac cocoa application.Tried to run the <strong>AMSerialPort</strong> sample code.It is detecting the usb device but it is giving output in <strong>nonreadable</strong> format.How can this data be converted to readable format.This is a part of the source code:</p>\n\n<pre><code>- (void)serialPortReadData:(NSDictionary *)dataDictionary\n{\n    // this method is called if data arrives \n    // @\"data\" is the actual data, @\"serialPort\" is the sending port\n    AMSerialPort *sendPort = [dataDictionary objectForKey:@\"serialPort\"];\n    NSData *data = [dataDictionary objectForKey:@\"data\"];\n    if ([data length] &gt; 0) {\n        NSString *text = [[NSString alloc] initWithData:data encoding:NSASCIIStringEncoding];\n        [outputTextView insertText:text];\n        [text release];\n        // continue listening\n        [sendPort readDataInBackground];\n    } else { // port closed\n        [outputTextView insertText:@\"port closed\\r\"];\n    }\n    [outputTextView setNeedsDisplay:YES];\n    [outputTextView displayIfNeeded];\n}\n</code></pre>\n"},{"tags":["ios","cocoa","iphone-sdk-4.0","xcode4","ios4"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":84,"score":0,"question_id":12820159,"title":"How do I enter the time value in hh:mm:ss format?","body":"<p>I need to enter the time value hh:mm:ss <code>(09:45:56)</code> format , but in the Xcode text field I always get <code>(094556)</code> as format -<br>\nhow to resolve this?</p>\n"},{"tags":["cocoa","core-animation","osx-snow-leopard","nsviewanimation"],"answer_count":3,"favorite_count":1,"up_vote_count":6,"down_vote_count":0,"view_count":1406,"score":6,"question_id":1424462,"title":"Any reason to use NSViewAnimation over CoreAnimation techniques?","body":"<p>I'm working on a Snow Leopard app and I'm doing some view animations (swapping them) and I've seen some older examples using NSViewAnimation. I'm wondering if these are completely obsoleted by Core Animation?</p>\n\n<p>It seems fairly simple for me to use</p>\n\n<pre><code>[[myView animator] setFrame:newSwapFrame];\n</code></pre>\n\n<p>But I'm just wondering if I'm missing something, or if NSViewAnimation is still relevant (other than for backwards compatibility).</p>\n"},{"tags":["objective-c","osx","cocoa"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":80,"score":0,"question_id":12831249,"title":"How to display on dual screens on Mac OS X Lion","body":"<p>I want my app to be displayed on both laptop screen and an external screen with two separated NSWindow, I can't find any document about how to implement it. Any hint?</p>\n\n<p>Thanks</p>\n"},{"tags":["ios","cocoa","uibutton"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":409,"score":1,"question_id":11346697,"title":"How to not stretch an image in UIButton","body":"<p>I'm trying to create a custom UITableViewCell programmatically and one of the subviews of this cell is going to be a button with an image in it (a simple image of a magnifying glass). However, I want the button's image to be centered and scaled proportionately down to fit in the button and NOT to be stretched to fill the entire button.  Below is my code where self refers to the custom UITableViewCell which I am placing the button into.</p>\n\n<pre><code>self.myButton = [UIButton buttonWithType:UIButtonTypeRoundedRect];\n[self.myButton setBackgroundImage:[UIImage imageNamed: @image_name_here\"] forState:UIControlStateNormal];\nself.myButton.frame = CGRectMake(...//something, something)\nself.myButton.imageView.contentMode = UIViewContentModeCenter;\n[self.contentView addSubview:self.mySearchHelpButton];\n</code></pre>\n\n<p>Right now the image stretches to fill the entire button rather than scaling proportionately so that it fits nicely.</p>\n\n<p>I have also tried setting the contentMode to <code>UIViewContentModeScaleAspectFill</code> but this doesn't seem to change anything. In fact, none of the different contentModes seem to change anything. </p>\n"},{"tags":["iphone","cocoa","cocoa-touch","core-data"],"answer_count":4,"favorite_count":3,"up_vote_count":2,"down_vote_count":0,"view_count":1053,"score":2,"question_id":2811207,"title":"How to view existing data in Core Data?","body":"<p>Well, may be this question is silly, but I couldn't find a way (except programmatically).\nI built a project (for iPhone OS 3.0) which uses Core Data.\nThe <em>xcdatamodel</em> file shows the schema description, but I want to see the data in tabular form (like the <em>management studio</em> for <em>mssql server</em> or <em>phpmyadmin</em> for <em>mysql</em>).</p>\n\n<p>Is there any way (except coding)? What is that?</p>\n\n<p>Also, which file (in disk/device) those data are stored into?</p>\n\n<p>[ I built the tutorial (from apple) on Core Data, named <em>Locations</em>. They used this line somewhere in the code:\n<code>NSURL *storeUrl = [NSURL fileURLWithPath: [[self applicationDocumentsDirectory] stringByAppendingPathComponent: @\"Locations.sqlite\"]];</code> </p>\n\n<p>But, I did not see any \"xxxxx.sqlite\" file in project location (nor in the disk).]</p>\n"},{"tags":["multithreading","cocoa","grand-central-dispatch","key-value-observing"],"answer_count":3,"favorite_count":2,"up_vote_count":8,"down_vote_count":0,"view_count":106,"score":8,"question_id":12403229,"title":"What is the Cocoa-way of observing progress of a background task?","body":"<p>Imagine the following situation: you have a background task (the term \"task\" here means a random computational unit, not an NSTask!), that is implemented using any of the modern technology such as Grand Central Dispatch or Operation Queues. Some controller object on main thread wants to monitor the progress of this background task and report it to a user.</p>\n\n<p>Task progress can have following characteristics:</p>\n\n<ul>\n<li><strong>Be indeterminate or determinate</strong><br>\n<em>Because controller object must know when to switch NSProgressIndicator to the appropriate style. We can use a convention that progress is treated as indeterminate until the actual progress value raises from zero.</em></li>\n<li><strong>Progress value itself</strong><br>\n<em>A simple float value</em></li>\n<li><strong>Localized description of a current phase</strong><br>\n<em>NSString, because communication with user is good</em></li>\n</ul>\n\n<p>What design suits these requirements at best while being the most Cocoa-ish?</p>\n\n<h1>There can be variants.</h1>\n\n<h2>Delegation</h2>\n\n<p>Before firing up the task set your controller object as delegate.</p>\n\n<pre><code>@protocol MyBackgroundTaskDelegate\n@required\n- (void) progress: (float) value; // 0.0…1.0\n@optional\n- (void) workingOn: (NSString*) msg; // @\"Doing this, doing that…\"\n@end\n</code></pre>\n\n<p>Actually, i successfully used this template many times, but it feels a little too verbose.</p>\n\n<h2>Block callback</h2>\n\n<p>Very similar to delegation, but keeps code in one place.</p>\n\n<pre><code>// Starting our background task...\n[MyTask startComputationWithProgressHandler: ^(float progress, NSString* msg)\n{\n    // Switching to the main thread because all UI stuff should go there...\n    dispatch_async(dispatch_get_main_queue(), ^()\n    {\n        self.progressIndicator.progress = progress;\n        self.informationalMessage = msg;\n    });\n}];\n</code></pre>\n\n<h2>KVO or polling of a progress properties</h2>\n\n<p>In this case background task object must have two properties similar to these:</p>\n\n<pre><code>@property(readonly, atomic) float progress;\n@property(readonly, atomic) NSString* message;\n</code></pre>\n\n<p>And a client (our controller object) should set itself as an observer of these properties. The major flaw i see in this solution is that KVO-notifications always arrive on the same thread that caused the change. While you can force your observer (callback) method to run on a particular GCD queue it may not be always appropriate.</p>\n\n<h2>NSNotificationCenter</h2>\n\n<p>Background task sends notifications and client listens to them.</p>\n\n<p><strong>Is there any other patterns applicable to this situation?</strong> What solution can be treated as a most modern and Cocoa-ish?</p>\n"},{"tags":["iphone","cocoa","cocoa-touch","core-data","nsfetchedresultscontrolle"],"answer_count":2,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":1467,"score":3,"question_id":2989910,"title":"Calling NSFetchedResultsController & CoreData experts","body":"<p>I am having a few nagging issues with NSFetchedResultsController and CoreData, any of which I would be very grateful to get help on. </p>\n\n<p>Issue 1 - Updates: I update my store on a background thread which results in certain rows being delete, inserted or updated. The changes are merged into the context on the main thread using the \"mergeChangesFromContextDidSaveNotification:\" method. Inserts and deletes are updated properly, but updates are not (e.g. the cell label is not updated with the change) although I have confirmed the updates to come through the contextDidSaveNotifcation, exactly like the inserts and deleted. My current workaround is to temporarily change the staleness interval of the context to 0, but this does not seem like the ideal solution. </p>\n\n<p>Issue 2 - Deleting objects: My fetch batch size is 20. If an object is deleted by the background thread which is in the first 20 rows, everything works fine. But if the object is after the first 20 rows and the table is scrolled down, a \"CoreData could not fulfill a fault\" error is raised. I have tried resaving the context and reperforming the frc fetch - all to no avail. Note: In this scenario, the frc delegate method \"didChangeObject....\" is not called for the delete - I assume this is because the object in question had not been faulted at that time (as it is was outside the initial fetch range). But for some reason, the context still thinks the object is around, although is has been deleted from the store.</p>\n\n<p>Issue 3 - Deleting sections : When the deletion of a row leads to the deletion of a section, I have gotten the \"invalid number of rows in section???\" error. I have worked around this by removing the \"reloadSection\" line from the NSFetchedResultsChangeMove: section and replacing it with \"[tableView insertRowsAtIndexPaths....\" This seems to work, but once again, I am not sure if this is the best solution.</p>\n\n<p>Any help would be greatly appreciated. Thank you!</p>\n"},{"tags":["osx","cocoa","application-loader"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":65,"score":0,"question_id":12562879,"title":"Mac App Store Application Loader Exception","body":"<p>I'm trying to send my pkg file to Apple, but it says :</p>\n\n<blockquote>\n  <p>\"There was a general exception while executing\"</p>\n  \n  <p>\"An exception has occured: null\"</p>\n</blockquote>\n\n<p>So what am I to do now :D? Any clues?\nThe only thing I did was download the new XCode so I could use iconutil to make a 1024x1024 icon, which seemed to work fine.</p>\n\n<p>This is the error output in the console :</p>\n\n<pre><code>23/09/12 22:15:17,993 Application Loader:  Error:\n[2012-09-23 22:14:48 CEST] &lt;main&gt;  INFO: Transporter is searching for updated software components.\n[2012-09-23 22:14:52 CEST] &lt;main&gt;  INFO: Transporter is up-to-date.\n[2012-09-23 22:14:53 CEST] &lt;main&gt;  INFO: MD5 checksum calculation in the transporter will be skipped.\n[2012-09-23 22:14:53 CEST] &lt;main&gt;  INFO: Logging level set to eXtreme\n[2012-09-23 22:14:53 CEST] &lt;main&gt;  INFO: Logging configured successfully.\n[2012-09-23 22:14:53 CEST] &lt;main&gt; DEBUG: Attempting refresh of configuration data from https://contentdelivery.itunes.apple.com/transporter/Defaults.properties\n[2012-09-23 22:14:54 CEST] &lt;main&gt; DEBUG: Configuration refresh successful.\n[2012-09-23 22:14:54 CEST] &lt;main&gt; DEBUG: Saving configuration to local path: /Users/Home/.itmstransporter/Defaults.properties\n[2012-09-23 22:14:54 CEST] &lt;main&gt;  INFO: iTMSTransporter : iTunes Store Transporter [1.7.5.1]\n[2012-09-23 22:14:54 CEST] &lt;main&gt;  INFO: OS identifier: Mac OS X 10.7.5 (x86_64); jvm=20.10-b01-428; jre=1.6.0_35-b10-428-11M3811\n[2012-09-23 22:14:54 CEST] &lt;main&gt;  INFO: Memory: [JVM] 21M free, 31M total, 1011M max [System] (Physical) 445M free, 4096M total (Swap) 216M free, 256M total\n[2012-09-23 22:14:54 CEST] &lt;main&gt;  INFO: Client: Application Loader 2.7 (273)\n[2012-09-23 22:14:54 CEST] &lt;main&gt;  INFO: Upload mode selected.\njava.util.zip.ZipException: ZIP_Read: error reading zip file\n    at java.util.zip.ZipFile.read(Native Method)\n    at java.util.zip.ZipFile.access$1200(ZipFile.java:31)\n    at java.util.zip.ZipFile$ZipFileInputStream.read(ZipFile.java:459)\n    at java.util.zip.ZipFile$1.fill(ZipFile.java:242)\n    at java.util.zip.InflaterInputStream.read(InflaterInputStream.java:141)\n    at java.io.BufferedInputStream.read1(BufferedInputStream.java:256)\n    at java.io.BufferedInputStream.read(BufferedInputStream.java:317)\n    at java.io.FilterInputStream.read(FilterInputStream.java:90)\n    at org.apache.felix.framework.cache.BundleCache.copyStreamToFile(BundleCache.java:328)\n    at org.apache.felix.framework.cache.JarContent.extractEmbeddedJar(JarContent.java:471)\n    at org.apache.felix.framework.cache.JarContent.getEntryAsContent(JarContent.java:266)\n    at org.apache.felix.framework.ModuleImpl.calculateContentPath(ModuleImpl.java:595)\n    at org.apache.felix.framework.ModuleImpl.initializeContentPath(ModuleImpl.java:546)\n    at org.apache.felix.framework.ModuleImpl.getContentPath(ModuleImpl.java:532)\n    at org.apache.felix.framework.ModuleImpl.access$800(ModuleImpl.java:71)\n    at org.apache.felix.framework.ModuleImpl$ModuleClassLoader.findClass(ModuleImpl.java:1810)\n    at org.apache.felix.framework.ModuleImpl.findClassOrResourceByDelegation(ModuleImpl.java:727)\n    at org.apache.felix.framework.ModuleImpl.access$400(ModuleImpl.java:71)\n    at org.apache.felix.framework.ModuleImpl$ModuleClassLoader.loadClass(ModuleImpl.java:1768)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:247)\n    at org.apache.felix.framework.ModuleImpl.getClassByDelegation(ModuleImpl.java:645)\n    at org.apache.felix.framework.resolver.WireImpl.getClass(WireImpl.java:99)\n    at org.apache.felix.framework.ModuleImpl.searchImports(ModuleImpl.java:1390)\n    at org.apache.felix.framework.ModuleImpl.findClassOrResourceByDelegation(ModuleImpl.java:722)\n    at org.apache.felix.framework.ModuleImpl.access$400(ModuleImpl.java:71)\n    at org.apache.felix.framework.ModuleImpl$ModuleClassLoader.loadClass(ModuleImpl.java:1768)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:247)\n    at com.apple.transporter.operation.Verify.dealWithIgnorablePackagesInPackagePath(Verify.java:615)\n    at com.apple.transporter.operation.Upload.performUploadRequest(Upload.java:77)\n    at com.apple.transporter.operation.Upload.performRequest(Upload.java:883)\n    at com.apple.transporter.operation.Verify.execute(Verify.java:85)\n    at com.apple.transporter.Application.begin(Application.java:149)\n    at com.apple.transporter.osgi.TransporterService.run(TransporterService.java:46)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at com.apple.transporter.osgi.OSGiBootstrapper.runTransporter(OSGiBootstrapper.java:399)\n    at com.apple.transporter.osgi.OSGiBootstrapper.bootstrap(OSGiBootstrapper.java:233)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at com.apple.transporter.FrameworkLoader.start(FrameworkLoader.java:143)\n    at com.apple.transporter.Application.main(Application.java:71)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at com.webobjects._bootstrap.WOBootstrap.main(WOBootstrap.java:71)\njava.lang.RuntimeException: Unable to open JAR file, probably deleted: error in opening zip file\n    at org.apache.felix.framework.cache.JarContent.openZipFile(JarContent.java:489)\n    at org.apache.felix.framework.cache.JarContent.&lt;init&gt;(JarContent.java:63)\n    at org.apache.felix.framework.cache.JarContent.getEntryAsContent(JarContent.java:275)\n    at org.apache.felix.framework.ModuleImpl.calculateContentPath(ModuleImpl.java:595)\n    at org.apache.felix.framework.ModuleImpl.initializeContentPath(ModuleImpl.java:546)\n    at org.apache.felix.framework.ModuleImpl.getContentPath(ModuleImpl.java:532)\n    at org.apache.felix.framework.ModuleImpl.access$800(ModuleImpl.java:71)\n    at org.apache.felix.framework.ModuleImpl$ModuleClassLoader.findClass(ModuleImpl.java:1810)\n    at org.apache.felix.framework.ModuleImpl.findClassOrResourceByDelegation(ModuleImpl.java:727)\n    at org.apache.felix.framework.ModuleImpl.access$400(ModuleImpl.java:71)\n    at org.apache.felix.framework.ModuleImpl$ModuleClassLoader.loadClass(ModuleImpl.java:1768)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:247)\n    at org.apache.felix.framework.ModuleImpl.getClassByDelegation(ModuleImpl.java:645)\n    at org.apache.felix.framework.resolver.WireImpl.getClass(WireImpl.java:99)\n    at org.apache.felix.framework.ModuleImpl.searchImports(ModuleImpl.java:1390)\n    at org.apache.felix.framework.ModuleImpl.findClassOrResourceByDelegation(ModuleImpl.java:722)\n    at org.apache.felix.framework.ModuleImpl.access$400(ModuleImpl.java:71)\n    at org.apache.felix.framework.ModuleImpl$ModuleClassLoader.loadClass(ModuleImpl.java:1768)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:247)\n    at com.apple.transporter.operation.Verify.dealWithIgnorablePackagesInPackagePath(Verify.java:615)\n    at com.apple.transporter.operation.Upload.performUploadRequest(Upload.java:77)\n    at com.apple.transporter.operation.Upload.performRequest(Upload.java:883)\n    at com.apple.transporter.operation.Verify.execute(Verify.java:85)\n    at com.apple.transporter.Application.begin(Application.java:149)\n    at com.apple.transporter.osgi.TransporterService.run(TransporterService.java:46)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at com.apple.transporter.osgi.OSGiBootstrapper.runTransporter(OSGiBootstrapper.java:399)\n    at com.apple.transporter.osgi.OSGiBootstrapper.bootstrap(OSGiBootstrapper.java:233)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at com.apple.transporter.FrameworkLoader.start(FrameworkLoader.java:143)\n    at com.apple.transporter.Application.main(Application.java:71)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at com.webobjects._bootstrap.WOBootstrap.main(WOBootstrap.java:71)\n[2012-09-23 22:15:15 CEST] &lt;main&gt; ERROR: There was a general exception while executing\n[2012-09-23 22:15:15 CEST] &lt;main&gt; ERROR: An exception has occurred: null\n[2012-09-23 22:15:15 CEST] &lt;main&gt; DEBUG: java.lang.NullPointerException\n    at org.apache.felix.framework.ModuleImpl$ModuleClassLoader.findClass(ModuleImpl.java:1813)\n    at org.apache.felix.framework.ModuleImpl.findClassOrResourceByDelegation(ModuleImpl.java:727)\n    at org.apache.felix.framework.ModuleImpl.access$400(ModuleImpl.java:71)\n    at org.apache.felix.framework.ModuleImpl$ModuleClassLoader.loadClass(ModuleImpl.java:1768)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:247)\n    at org.apache.felix.framework.ModuleImpl.getClassByDelegation(ModuleImpl.java:645)\n    at org.apache.felix.framework.resolver.WireImpl.getClass(WireImpl.java:99)\n    at org.apache.felix.framework.ModuleImpl.searchImports(ModuleImpl.java:1390)\n    at org.apache.felix.framework.ModuleImpl.findClassOrResourceByDelegation(ModuleImpl.java:722)\n    at org.apache.felix.framework.ModuleImpl.access$400(ModuleImpl.java:71)\n    at org.apache.felix.framework.ModuleImpl$ModuleClassLoader.loadClass(ModuleImpl.java:1768)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:247)\n    at com.apple.transporter.operation.Verify.dealWithIgnorablePackagesInPackagePath(Verify.java:615)\n    at com.apple.transporter.operation.Upload.performUploadRequest(Upload.java:77)\n    at com.apple.transporter.operation.Upload.performRequest(Upload.java:883)\n    at com.apple.transporter.operation.Verify.execute(Verify.java:85)\n    at com.apple.transporter.Application.begin(Application.java:149)\n    at com.apple.transporter.osgi.TransporterService.run(TransporterService.java:46)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at com.apple.transporter.osgi.OSGiBootstrapper.runTransporter(OSGiBootstrapper.java:399)\n    at com.apple.transporter.osgi.OSGiBootstrapper.bootstrap(OSGiBootstrapper.java:233)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at com.apple.transporter.FrameworkLoader.start(FrameworkLoader.java:143)\n    at com.apple.transporter.Application.main(Application.java:71)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at com.webobjects._bootstrap.WOBootstrap.main(WOBootstrap.java:71)\n\n[2012-09-23 22:15:16 CEST] &lt;main&gt; DBG-X: Returning 1\n23/09/12 22:15:17,995 Application Loader:  Out:\nERROR: Unable to extract embedded JAR file. (java.util.zip.ZipException: ZIP_Read: error reading zip file)\nERROR: Unable to get module class path. (java.lang.RuntimeException: Unable to open JAR file, probably deleted: error in opening zip file)\n</code></pre>\n"},{"tags":["ios","cocoa","core-data","magicalrecord"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":121,"score":0,"question_id":12700590,"title":"Switching between Core Data stores","body":"<p>I am currently updating an app to use Core Data. The app you could say is a \"database viewer\", only one database is able to be viewed at a time. Each database is kept in its own separate folder. Currently the data is downloaded and stored as a set of plist files. </p>\n\n<p>In the new version I need to convert these plist databases into Core Data stores (one store for each database.) I've already setup the methods that create the separate store files, and crete the entities. The problem is that all the entities are saved to the first database I created, not to the \"current\" or \"lastly created\" file.</p>\n\n<p>The basic process I'm using is:</p>\n\n<pre><code>//For each database {\n//Create the sqlite file and set up NSManagedObjectContext\n[MagicalRecord setupCoreDataStackWithStoreNamed:\n    [NSURL fileURLWithPath:\n    [NSString stringWithFormat:@\"%@/%@/%@.sqlite\",\n    dirPath, directory, directory]]];\nNSManagedObjectContext *managedObjectContext = \n    [NSManagedObjectContext MR_contextForCurrentThread];\n\n//Iterate through all the plist files and create the necessary entities.\n//Save new entities to file\n[managedObjectContext MR_save];\n//Clean up all cashes\n[MagicalRecord cleanUp];\n}\n</code></pre>\n\n<p>How would one properly switch between stores, essentially \"reseting\" everything between each switch. Preferably (if possible) using magical record.</p>\n\n<p>EDIT: \nI've found out a portion of the problem, and removed most of the unwanted behavior. It turns out, you can't reliably call <code>[MagicalRecord cleanUp]</code> on a background thread. Also, It isn't doing what I think it should (see below). I ended up calling back to the main thread after each \"save\" to reset the Core Data stack. Doing this creates a new context for the first three databases. after that, it duplicates the context from the database three databases ago. So the same three contexts are used in a loop.</p>\n\n<p>This is what I currently have; \nI start the process by creating a background thread and run the code to create a single database in the background:</p>\n\n<pre><code>backgroundQueue = dispatch_queue_create(\"com.BrandonMcQuilkin.myQueue\", NULL);\n    dispatch_async(backgroundQueue, ^(void) {\n        [self createSQLiteDatabase:updateList];\n    });\n</code></pre>\n\n<p>Then creating the stack and database:</p>\n\n<pre><code>- (void)createSQLiteDatabase:(NSArray *)updateList\n{\n    NSString *directory = [updateList objectAtIndex:0];\n    [MagicalRecord setupCoreDataStackWithStoreNamed:\n        [NSURL fileURLWithPath:[NSString stringWithFormat:@\"%@/%@/%@.sqlite\",\n        dirPath, directory, directory]]];\n    NSManagedObjectContext *managedObjectContext = \n        [NSManagedObjectContext MR_contextForCurrentThread];\n    //Check to see if the stack has reset\n    NSLog(@\"Before:%i\", [[Competition MR_findAllInContext:managedObjectContext] count]);\n\n    //Create and add entities to context...\n\n    //Prepare for next loop\n    NSLog(@\"After:%i\", [[Competition MR_findAllInContext:managedObjectContext] count]);\n    [managedObjectContext MR_saveNestedContexts];\n    [NSManagedObjectContext MR_resetContextForCurrentThread];\n\n    NSMutableArray *temp = [[NSMutableArray alloc] initWithArray:updateList];\n    [temp removeObjectAtIndex:0];\n\n    dispatch_async(dispatch_get_main_queue(), ^(void){\n        [self shouldContinueUpdating:temp];\n    });\n</code></pre>\n\n<p>Then reset everything and repeat for all databases:</p>\n\n<pre><code>- (void)shouldContinueUpdating:(NSArray *)databases\n{\n    //preform cleanup on main thread and release background thread\n    [MagicalRecord cleanUp];\n    dispatch_release(backgroundQueue);\n\n    if ([databases count] != 0) {\n        backgroundQueue = dispatch_queue_create(\"com.BrandonMcQuilkin.myQueue\", NULL);\n        dispatch_async(backgroundQueue, ^(void) {\n            [self createSQLiteDatabase:databases];\n        });\n    }\n}\n</code></pre>\n\n<p>With the two NSLogs, I get this in the console: (using six databases, the pattern is the same no matter how many databases I convert.)</p>\n\n<pre><code>//First Loop\nBefore:0\nAfter:308\n//Second Loop\nBefore:0\nAfter:257\n//Third Loop\nBefore:0\nAfter:37\n//Fourth Loop\nBefore:308 \nAfter:541 \n//Fifth Loop\nBefore:257\nAfter:490\n//Sixth Loop\nBefore:37\nAfter:270\n... Keep adding to each of the three contexts.\n</code></pre>\n\n<p>And <code>[MagicalRecord cleanUp]</code> isn't doing what It say it's doing. Here is what the method is supposed to do.</p>\n\n<pre><code>+ (void) cleanUpStack;\n{\n[NSManagedObjectContext MR_cleanUp];\n[NSManagedObjectModel MR_setDefaultManagedObjectModel:nil];\n[NSPersistentStoreCoordinator MR_setDefaultStoreCoordinator:nil];\n[NSPersistentStore MR_setDefaultPersistentStore:nil];\n}\n</code></pre>\n\n<p>But It turns out that the NSStoreCoordinator every time I save, is the same coordinator, in the same memory location, and each store is hanging around. Something is not working right...</p>\n"},{"tags":["ios","cocoa-touch","cocoa","icloud"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":47,"score":1,"question_id":12625111,"title":"iCloud and a Web Application","body":"<p>I have an iOS app that lets the user manager recipes. I would also like them to be able to manage the same recipes on their iPad and Mac. It seems that iCloud would allow me to do exactly that.</p>\n\n<p>However, if I want to also build a web application that provides the same functionality, am I right in thinking I need my own non-iCloud solution? Is there any iCloud API that lets a user log in to their apple account and access the data added in the iOS/OS X applications?</p>\n\n<p>If I want to allow web access to the data, am I forced to write my own data service and syncing process? Or are there some ways to at least 'connect' the iCloud data to my own user accounts?</p>\n"},{"tags":["osx","cocoa","osx-lion","nsoutlineview"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":171,"score":1,"question_id":9743148,"title":"Custom View-Based NSOutlineView disclosure?","body":"<p>Is there a simple way to customize the disclosure triangle for expandable items?</p>\n\n<p>I tried removing it and calling <code>[outlineView expandItem:X]</code> when my custom disclosure indicator was clicked, but all the sexy built-in animations didn't work. Is there a trick to enable those animations? I tried <code>[outlineView beginUpdates]</code> but that yielded no results either.</p>\n"},{"tags":["xcode","cocoa","ios5","mkannotationview"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":73,"score":0,"question_id":12825298,"title":"Custom MKAnnotationView with addSubview not setImage, making it selectable","body":"<p>I'm making an iOS app which has a map screen.  I am trying to solve a map-pin clutter issue by  selecting the top 10 furthest apart pins which are being displayed, then shrink the other pins to dots.  I was able to implement this by making a custom MKAnnotationView, and using self addSubview: pinImageView,  self addSubview: dotImageView.  I also did a nice animation between the two.  But now I am struggling to figure out how to have these pins and dots selectable.</p>\n\n<p>Here is my issue:</p>\n\n<p>it seems like self setImage also sets the frame of the clickable region for the MKAnnotationView.  So the way I've implemented it, I can't get the annotationview to be clickable.  I have tried to set a tap event but absolutely nothing happened.</p>\n\n<p>I have also tried to make a \"ghost\" pin, meaning I made a png with alpha all 0 then used self setImage: ghostPin.   This works!  However, it does not seem like the right way to do things.  Also it gets complicated, since I have to go from ghostPin to ghostDot, when a pin turns into a dot, if you know what I mean!  Not to mention, calling self setImage displaces all my subviews.</p>\n\n<p>Does anyone have a simple solution?  I am wondering, maybe I can just use a tap event.  Perhaps the tap event wasn't working because the frame of the superview of the listening view was 0 width, 0 height.  Or maybe it wasn't listening because the map was stealing the tap events?</p>\n\n<p>I'm not sure.  Help would be appreciated, thanks.</p>\n\n<p>P.S., I have been listening to annotation taps by overriding the </p>\n\n<ul>\n<li>(void)setSelected:(BOOL)selected animated:(BOOL)animated</li>\n</ul>\n\n<p>method from within my CustomMKAnnotionView class</p>\n"},{"tags":["objective-c","cocoa","fullscreen","nswindow","nsapplication"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":158,"score":1,"question_id":9449505,"title":"Fullscreen app in OS X with multiple windows?","body":"<p>I want to make a fullscreen app that shows the background of the new space, in addition to having normal window behavior. Basically, when the user goes full screen, I want every <code>NSWindow</code> in the app to stay the same size, stay in the same position of the screen, but move to the new space. Is this possible? If so, where is the documentation for that kind of behavior?</p>\n\n<p>EDIT: I know this is now quite old, but I have just discovered <code>customWindowsToEnterFullScreenForWindow</code>. I have used it to solve the problem. The code is below, just incase anyone else is interested in doing this too.</p>\n\n<pre><code>- (NSArray*) customWindowsToEnterFullScreenForWindow:(NSWindow*)window {\n    if ([window isEqualTo:self.window]) {\n        return [NSArray arrayWithObjects:window, otherwindow, nil];\n    }\n\n    return nil;\n}\n\n- (NSArray*) customWindowsToExitFullScreenForWindow:(NSWindow*)window {\n    if ([window isEqualTo:self.window]) {\n        return [NSArray arrayWithObjects:window, otherwindow, nil];\n    }\n\n    return nil;\n}\n</code></pre>\n\n<p>These are <code>NSWindowDelegate</code> methods though, so be sure to set the window's delegate. Otherwise, it may cause some confusion.</p>\n"},{"tags":["ios","cocoa","file","sqlite","copy-item"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":52,"score":1,"question_id":12823090,"title":"Why does the copyItemAtPath:toPath:userPath failed to copy the file when the file really exists? NSFileNoSuchFileError, Cocoa Error Code 4","body":"<pre><code>- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions\n{\n// Override point for customization after application launch.\nif ([[UIDevice currentDevice] userInterfaceIdiom] == UIUserInterfaceIdiomPad) {\nUISplitViewController *splitViewController = (UISplitViewController *)self.window.rootViewController;\nUINavigationController *navigationController = [splitViewController.viewControllers lastObject];\nsplitViewController.delegate = (id)navigationController.topViewController;\n}\n\n\nNSString *dbFilename = @\"CoordinatesDatabase.sql\";\nNSString *userPath = [[CoordinatesAppDelegate applicationDocumentsDirectory] stringByAppendingPathComponent: dbFilename];\nNSString *srcPath = [[[NSBundle mainBundle] resourcePath] stringByAppendingPathComponent: dbFilename];\nNSLog(@\"userPath %@\", userPath);\nNSLog(@\"srcPath %@\", srcPath);\nNSFileManager *fileManager = [NSFileManager defaultManager];\n\nBOOL foundInBundle = [fileManager fileExistsAtPath: srcPath];\nBOOL foundInUserPath = [fileManager fileExistsAtPath: userPath];\nBOOL copySuccess = FALSE;\n\nNSError *error;\n\nif(foundInBundle)\n{\n    if(!foundInUserPath)\n    {\n        NSLog(@\"don't have copy, copy one\");\n        copySuccess = [fileManager copyItemAtPath: srcPath toPath: userPath error: &amp;error];\n    }\n    if(!copySuccess)\n    {\n        NSLog(@\"Failed with message: %@'.\", [error localizedDescription]);\n    }\n}\nelse\n{\n    NSLog(@\"Some error\");\n}\nreturn YES;\n}\n</code></pre>\n\n<p>According to foundInBundle, the CoordinatesDatabase.sql exists in the application bundle. Why can't the \"copySuccess = [fileManager copyItemAtPath: srcPath toPath: userPath error: &amp;error];\" be successful?</p>\n\n<p>The error it produces is something like \"Operation couldn't be completed. Cocoa Error 4\". According to my googling, Cocoa Code Error 4 means NSFileNoSuchFileError but I'm really sure that the CoordinatesDatabase.sql is there in the app bundle.</p>\n\n<p>Or am I wrong that CoordintesDatabase.sql does exist in the app bundle?</p>\n"},{"tags":["ios","xml","cocoa","parsing"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":53,"score":1,"question_id":12823082,"title":"is there any efficient way to search information in a big remote XML file?","body":"<p>I'm working in an iOS app, and the client wants that the app performs a search in a XML that his server provides. The problem is that the file size is about 6MB. So a download plus parse plus search, could take a lot of time. So I'm wondering if there is a more efficient way to perform this task? Or it has to be done in a different way (without XML file at all)?</p>\n"},{"tags":["cocoa","nsstring","filenames","filepath","nsbundle"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":1356,"score":2,"question_id":7223065,"title":"Get filename and extension from filepath programmatically cocoa?","body":"<p>I know you can use NSBundle:</p>\n\n<pre><code> NSString *filePath = [[NSBundle mainBundle] pathForResource:@\"foo\" ofType:@\"rtf\"];\n</code></pre>\n\n<p>to get the filepath of a file, but how would I get the filename and extension (separately) from the filepath programmatically using NSBundle. </p>\n\n<p>For example, I may have: /Users/theuser/Documents/yourdocument.txt</p>\n\n<p>It is obvious that the file is 'yourdocument', and the extension 'txt'</p>\n\n<p>But I need to get the filename and extension from the filepath to use as an NSString.</p>\n\n<p>Your help is greatly appreciated!</p>\n"},{"tags":["ios","cocoa","uiscrollview"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":12822023,"title":"Keep UIView at fixed point in content while zooming in UIScrollView","body":"<p>I'm trying to mimic the behavior of the GPS dot when zooming in the Maps app.  When you zoom in the Maps app, the GPS dot stays with the position on the map, and the dot itself doesn't grow in size.  This is true while pinching, and also when you double-tap to zoom in an entire 'level'. </p>\n\n<p>My app uses a UIScrollView with a large image that you can zoom and scroll around on.  I also show a dot on top of the image that corresponds to a point in the content.  </p>\n\n<p>I've been able to have the dot track the content of the map when pinch zooming by adjusting its position via layoutSubviews.  The problem is the double-tap gesture.  When I call setZoomScale:animated:, layoutSubviews gets called once, immediately at the start of the animation with the final scale value.  This causes my dot to jump to a wrong location initially and fly to the right spot by the end of the animation.</p>\n\n<p>I'm inserting the contentView and the dotView as subviews of the UIScrollView.  Here's what my layoutSubviews code looks like:</p>\n\n<pre><code>- (void)layoutSubviews \n{\n    [super layoutSubviews];\n\n    ...\n\n    CGPoint pt = _GPSPosition;\n    pt.x = (pt.x * self.zoomScale);\n    pt.y = (pt.y * self.zoomScale);\n\n    _GPSDot.center = pt;\n}\n</code></pre>\n\n<p>If I want to zoom to a particular scale with animation by calling:</p>\n\n<pre><code>[self setZoomScale:scale animated:YES];\n</code></pre>\n\n<p>how can I get my dot to nicely track the content during the animation?</p>\n"},{"tags":["objective-c","ios","cocoa","nsurlconnection"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":1,"view_count":92,"score":1,"question_id":12818887,"title":"How to detect if NSURLConnection's sendSynchronousRequest:returningResponse:error: ended up being timed out or other error","body":"<p>I use <code>NSURLConnection's</code> <code>sendSynchronousRequest:returningResponse:error:</code> method (in a separate <code>NSOperation</code> thread) to connect to external server to retreive data. How do I know if the operation ended timed out, or some other network error?</p>\n"},{"tags":["objective-c","osx","cocoa","launchd"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":110,"score":3,"question_id":11557026,"title":"SMJobRemove succeeds, but plist and helper tool not deleted","body":"<p>I'm trying to remove a privileged helper tool installed via <code>SMJobBless</code>, I'm getting a positive return value and no errors, yet the files at /Library/PrivilegedTools and /Library/LaunchDaemons are not deleted. Do I have to delete these files myself?</p>\n\n<p>From the documentation I read:</p>\n\n<blockquote>\n  <p>Return Value true if the job was removed successfully, otherwise\n  false.</p>\n</blockquote>\n\n<p>I'm calling the following to remove the job:\n<code>result = SMJobRemove(kSMDomainSystemLaunchd, (__bridge CFStringRef)label, _authRef, YES, &amp;errorCF);</code></p>\n"},{"tags":["osx","cocoa","nstableview","nstablecellview"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":86,"score":0,"question_id":12771156,"title":"Cocoa : Custom TableView cell?","body":"<p>I am not really familiar with tables, as I usually make games, but now I want to create a level builder where I need a table view with custom cells. I have created a nib file and I have subclassed NSTableCellView, but I don't know what to do next. All I have is: </p>\n\n<pre><code>- (void)applicationDidFinishLaunching:(NSNotification *)aNotification{\n    NSScrollView * tableContainer = [[NSScrollView alloc] initWithFrame:NSMakeRect(self.window.frame.size.width-TABLEWIDTH, 0, TABLEWIDTH, self.window.frame.size.height)];\n    SpriteTable *sT = [[SpriteTable alloc]initWithFrame:NSMakeRect(self.window.frame.size.width-TABLEWIDTH, 0, TABLEWIDTH, self.window.frame.size.height)];\n    NSTableView *tableView = [[NSTableView alloc] initWithFrame: sT.bounds];\n\n    NSTableColumn*  firstColumn = [[[NSTableColumn alloc] initWithIdentifier:@\"firstColumn\"] autorelease];\n    [[firstColumn headerCell] setStringValue:@\"First Column\"];\n    [tableView  addTableColumn:firstColumn];\n\n    tableView.dataSource = self;\n    tableView.delegate = self;\n    [tableContainer setDocumentView:tableView];\n    tableContainer.autoresizingMask = NSViewHeightSizable | NSViewMinXMargin;\n    [self.window.contentView addSubview: tableContainer];\n\n\n}\n\n\n- (NSInteger)numberOfRowsInTableView:(NSTableView *)tableView{\n\n    return 4;\n}\n\n\n\n- (NSView *)tableView:(NSTableView *)tableView\n   viewForTableColumn:(NSTableColumn *)tableColumn\n                  row:(NSInteger)row {\n\n    // get an existing cell with the MyView identifier if it exists\n    CustomCell *result = [tableView makeViewWithIdentifier:@\"MyView\" owner:self];\n\n\n    // There is no existing cell to reuse so we will create a new one\n    if (result == nil) {\n        NSLog(@\"result = nil\");\n\n        // create the new NSTextField with a frame of the {0,0} with the width of the table\n        // note that the height of the frame is not really relevant, the row-height will modify the height\n        // the new text field is then returned as an autoreleased object\n        //result = [[[NSTextField alloc] initWithFrame:NSMakeRect(0, 0, 250, 70)] autorelease];\n\n        // the identifier of the NSTextField instance is set to MyView. This\n        // allows it to be re-used\n        result.identifier = @\"MyView\";\n    }\n\n    // result is now guaranteed to be valid, either as a re-used cell\n    // or as a new cell, so set the stringValue of the cell to the\n    // nameArray value at row\n\n    result.imageView.image = [NSImage imageNamed:NSImageNameHomeTemplate];\n\n    // return the result.\n    return result;\n\n}\n</code></pre>\n\n<p>If any, which delegate methods do I have to implement ? And how do I customize my cell WITH a nib file ?</p>\n"},{"tags":["objective-c","cocoa","nscollectionview","nscollectionviewitem"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12814028,"title":"Get the index of view from which a button was clicked in a NSCollectionView","body":"<p>I have a <code>NSCollectionView</code> and I am adding my custom view which acts as <code>NSCollectionViewItem</code> for that collection view. In my collectionViewItem, I have a <code>NSButton</code> along with various other elements. I have a method <code>onButtonClick</code> which is connected to that button. Now, suppose I add 5 items of my collectonViewItem on to the collectionView. \nHow can I get the index of the view from where the button was clicked?</p>\n\n<p>Inside <code>onButtonClick</code>, I tried following code but it always returns 0 regardless of which button I click:</p>\n\n<pre><code>id collectionViewItem = [sender superView];\nNSInteger index = [[colloectionView subviews]  indexOfObject:collectionViewItem];\n</code></pre>\n\n<p>What is the right way to achieve this?</p>\n"},{"tags":["objective-c","osx","cocoa"],"answer_count":0,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":125,"score":2,"question_id":12309830,"title":"LSSharedFileListInsertItemURL can't assign icon to Finder sidebar item in 10.7 and older","body":"<p>I'm trying to add a link to a folder in the Finder sidebar. It works fine in every other OS, but when I try to add the icon to this item in Mac OS X 10.7 or Mac OS X 10.8 nothing happens. In 10.6, however, my code works great.</p>\n\n<pre><code>CFURLRef url = (CFURLRef)[NSURL fileURLWithPath:self.syncFolderPath]; \nIconRef iconRef;\nFSRef fref;\n\nCFURLRef iconURLRef = (CFURLRef)[NSURL fileURLWithPath:@\"/pathTo/icon.icns\"];\nCFURLGetFSRef(iconURLRef, &amp;fref);\nRegisterIconRefFromFSRef('SSBL', 'ssic', &amp;fref, &amp;iconRef);\n\n// Create a reference to the shared file list.\nLSSharedFileListRef favoriteItems = LSSharedFileListCreate(NULL, kLSSharedFileListFavoriteItems, NULL);\n\nif (favoriteItems) {\n    LSSharedFileListItemRef item = LSSharedFileListInsertItemURL(favoriteItems, kLSSharedFileListItemBeforeFirst, NULL, iconRef, url, NULL, NULL);\n\n    if (item){\n        CFRelease(item);\n    }\n}   \n\nCFRelease(favoriteItems);\n</code></pre>\n\n<p>Can somebody give me advice? What is wrong with my code?</p>\n"},{"tags":["osx","cocoa","applescript","finder","appleevents"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":65,"score":2,"question_id":12803847,"title":"Set position of window with AppleScript","body":"<p>I'm trying to set the position of the Messages.app chat window using AppleScript.</p>\n\n<pre><code>tell application \"System Events\"\n    set position of window 1 of application \"Messages\" to {100, 100}\nend tell\n</code></pre>\n\n<p>With this code I get an error:</p>\n\n<pre><code>error \"Messages got an error: Can’t set «class posn» of window 1 to {100, 100}.\" \nnumber -10006 from «class posn» of window 1\n</code></pre>\n\n<p>What does that mean?</p>\n\n<p>If I try the same code with Finder it works. But most of the other applications don't work.</p>\n"},{"tags":["objective-c","cocoa","mouseevent","nsbutton","nsevent"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":93,"score":1,"question_id":12118932,"title":"NSButton image shadow on mouseEntered event","body":"<p>I have a borderless NSButton that contains an image and is subclassed with my ButtonEffect class to detect mouseEntered and mouseExited events. My goal is to have just the edge of the image glow as the mouse enters the button area. I know I can achieve this by using two different images (one with shadow and another without) but I need to do this with one image.</p>\n\n<p>Here's an example of what I hope to achieve for the mouseEntered event:\n<img src=\"http://i.stack.imgur.com/hejb7.png\" alt=\"mouse entered button area\"></p>\n\n<p>And here's what it should look after the cursor leaves the button area:\n<img src=\"http://i.stack.imgur.com/P5Hmf.png\" alt=\"mouse exited button area\"></p>\n\n<p>Here's my attempt by setting the background of the cell but it changes the color of the entire button area.</p>\n\n<pre><code>#import \"ButtonEffect.h\"\n\n@interface ButtonEffect ()\n\n@property NSTrackingArea *trackingArea;\n\n@end\n\n@implementation ButtonEffect\n\n- (void)updateTrackingAreas {\n    [super updateTrackingAreas];\n\n    if (_trackingArea) {\n        [self removeTrackingArea:_trackingArea];\n    }\n\n    NSTrackingAreaOptions options = NSTrackingInVisibleRect | NSTrackingMouseEnteredAndExited | NSTrackingActiveInKeyWindow;\n    _trackingArea = [[NSTrackingArea alloc] initWithRect:NSZeroRect options:options owner:self userInfo:nil];\n    [self addTrackingArea:_trackingArea];\n}\n\n- (void)mouseEntered:(NSEvent *)event {\n    [[NSCursor pointingHandCursor] set];\n    [self.cell setBackgroundColor:NSColor.redColor];\n    NSLog(@\"mouse entered button\");\n}\n\n- (void)mouseExited:(NSEvent *)event {\n    [[NSCursor arrowCursor] set];\n    [self.cell setBackgroundColor:nil];\n    NSLog(@\"mouse exited button\");\n}\n\n@end\n</code></pre>\n"},{"tags":["ios","cocoa","autolayout"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":268,"score":0,"question_id":12695222,"title":"ios autolayout visual format - alignment","body":"<p>In iOS6, I am using autolayouts.</p>\n\n<ul>\n<li>I have 2 views v1 and v2 programatically created.  </li>\n<li>v2 is added as a subview to v1</li>\n<li>The constraints for v1 have already been created programatically (not shown here). </li>\n<li>I want v1 and v2 to be of the same size and I want v2 to be placed on top of v1 exactly the horizontal and vertical center matching such that v2 is exactly on top of v1</li>\n</ul>\n\n<p><strong>Question:</strong></p>\n\n<ul>\n<li>How can I achieve this (preferably using visual format, if its not possible can you suggest alternate approach)?</li>\n</ul>\n\n<p><strong>Code</strong> - Given below is my attempt but however it doesn't provide the desired output. - No errors thrown. V1 is placed correctly but V2 is one the left hand corner of V1</p>\n\n<p><strong>Note - I have explained below in the comments, what I am trying to do.</strong></p>\n\n<pre><code>[v1 addSubView:v2];\n\nv1.translatesAutoresizingMaskIntoConstraints        = NO;\nv2.translatesAutoresizingMaskIntoConstraints        = NO;\n\nNSDictionary *viewDictionary = NSDictionaryOfVariableBindings(v1,\n                                                              v2);\n\n//I wanted v1 and v2 to be of the same height and wanted the center Y to be aligned together\nNSArray *horizontalConstraints = [NSLayoutConstraint constraintsWithVisualFormat:@\"H:[v2(==v1)]\"\n                                                                         options:NSLayoutFormatAlignAllCenterY\n                                                                         metrics:nil\n                                                                           views:viewDictionary];\n\n\n//I wanted v1 and v2 to be of the same height and wanted the center X to be aligned together\nNSArray *verticalConstraints = [NSLayoutConstraint constraintsWithVisualFormat:@\"V:[v2(==v1)]\"\n                                                                       options:NSLayoutFormatAlignAllCenterX\n                                                                       metrics:nil\n                                                                         views:viewDictionary];\n\n[v1 addConstraints:horizontalConstraints];\n[v1 addConstraints:verticalConstraints];\n</code></pre>\n"},{"tags":["ios","cocoa","automatic-ref-counting"],"answer_count":2,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":86,"score":5,"question_id":12809107,"title":"Passing objects safely as opaque context params under ARC","body":"<p>Under manual memory management, I use this pattern fairly often:</p>\n\n<pre><code>NSString * myStr = /* some local object */\n[UIView beginAnimation:@\"foo\" context:(void *)[myStr retain]];\n</code></pre>\n\n<p>And then, later and asynchronously:</p>\n\n<pre><code>- (void)animationDidStop:(NSString *)anim finished:(NSNumber *)num context:(void *)context\n{\n    NSString * contextStr = (NSString *)context;\n    // ...\n    [contextStr release];\n}\n</code></pre>\n\n<p>i.e. I manually managed the lifetime of an object used as an opaque context. (This is true for the old UIView animations but also for other kinds of API that I use.)</p>\n\n<p>Under ARC, my instinct is that I want to <code>__bridge_retained</code> going in and <code>__bridge_transfer</code> in the handler, <a href=\"http://stackoverflow.com/questions/8515475/getting-a-error-with-implicit-conversion-of-an-pointer-using-automatic-reference\">as suggested here</a>. But this treats a Cocoa object as a <code>CFType</code> not because it's really bridged, but just for the purpose of shoving a retain down its throat.</p>\n\n<p>Is this valid, and is this stylistically acceptable? If not, what's the better* solution? </p>\n\n<p>(The accepted answer <a href=\"http://stackoverflow.com/questions/8157105/uiview-animation-on-multiple-uiimageviews-in-arc\">in this question</a> gives a different answer, saying that <code>__bridge</code> alone is OK, but that seems to me to be wrong, since the original string would be at risk of being deallocated as soon as it goes out of scope in the first function. Right?)</p>\n\n<p>*Please don't say \"use block-based animations instead\". (That's not what I'm asking about.)</p>\n"},{"tags":["objective-c","cocoa"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":510,"score":0,"question_id":1053061,"title":"How to get instance of UIView subclass from app controller","body":"<p>If I subclassed a UIView from interface builder, and now need an instance of that subclass in my app controller, how would I get that reference (To the subclass and not the UIView)?</p>\n"},{"tags":["cocoa","sqlite","core-data"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":415,"score":1,"question_id":6285298,"title":"Core Data SQLite encryption?","body":"<p>Has anyone used encryption on their Core Data SQLite stores? And how did you implement it?</p>\n"},{"tags":["objective-c","xcode","osx","cocoa","nsopenpanel"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":88,"score":0,"question_id":12806104,"title":"Setting a Custom Title to the NSOpenPanel Cancel Button","body":"<p>I have tried using this:</p>\n\n<p>1) Create the file <code>NSOpenPanelExtension.h</code> that contains:</p>\n\n<pre><code>#import &lt;Cocoa/Cocoa.h&gt;\n\n@interface NSOpenPanel (Extension)\n\n- (void)setCancelButtonTitle:(NSString *)newTitle;\n\n@end\n</code></pre>\n\n<p>2) Create the file <code>NSOpenPanelExtension.m</code> that contains:</p>\n\n<pre><code>#import \"NSOpenPanelExtension.h\"\n\n@implementation NSOpenPanel (Extension)\n\n- (void)setCancelButtonTitle:(NSString *)newTitle\n{\nNSRect oldFrame = [_cancelButton frame];\n\n[_cancelButton setTitle:newTitle];\n[_cancelButton sizeToFit];\n\nNSRect newFrame = [_cancelButton frame];\nfloat delta = oldFrame.size.width - newFrame.size.width;\n\n[_cancelButton setFrameOrigin:NSMakePoint(oldFrame.origin.x + delta,\noldFrame.origin.y)];\n}\n\n@end\n</code></pre>\n\n<p>3) Use it where you need it:</p>\n\n<pre><code>#import \"NSOpenPanelExtension.h\"\n...\nNSOpenPanel *panel = [NSOpenPanel openPanel];  \n[panel setCancelButtonTitle:@\"NO!\"];\n</code></pre>\n\n<p>But when I <code>[panel setCancelButtonTitle:@\"NO!\"]</code> my <code>NSOpenPanel</code> crashes and this appears on my console (along with the usual errors and codes):</p>\n\n<pre><code>*** Assertion failure in -[NSRemoteOpenPanel forwardingTargetForSelector:], /SourceCache/RemoteViewServices/RemoteViewServices-80.5/NSRemoteSavePanel.m:1975\nAn uncaught exception was raised\nsandboxed save/open panel presently acting unlike a panel\n</code></pre>\n\n<p>What's wrong? How can I change the cancel button title of a <code>NSOpenPanel</code>? Example code would be appreciated!</p>\n"},{"tags":["ios","cocoa","uitableview","uitableviewcontroller","uitableviewdatasource"],"answer_count":2,"favorite_count":0,"up_vote_count":6,"down_vote_count":0,"view_count":163,"score":6,"question_id":12787821,"title":"UITableView reloadData does nothing (UITableView is not nil)","body":"<p>I'm building my first real app, and you guys has already been most helpful, but I've been struggling with the tableView not updating. I hope that someone here could shed some light over this, and maybe come up with any ideas on other stuff i might have missed or done unnecessarily complicated. </p>\n\n<p>For now, the app is supposed to do the following:</p>\n\n<ol>\n<li>Fill table with data from the sqlite db (basically just list all tables)</li>\n<li>User presses button (which triggers fetchData method)</li>\n<li>(void)fetchData compares local db to server db checksums</li>\n<li>(void)fetchData sets up a NSURLConnection, communicating with the server thru POST</li>\n<li>When connection has received all data, it updates the local db</li>\n<li>The tableView dataSource (which is a NSMutableArray) is updated with the new db data</li>\n<li>The tableview gets updated and lists all tables in the database [myTableView reloadData] is called</li>\n</ol>\n\n<p>Things I've double checked: connections between tableview and delegate, datasource and outlet; that the tableView is not nil; that the datasource itself has been accurately updated;</p>\n\n<p>Everything works up to that last point (7). It seems that myTableView is <em>not</em> nil at the time. Ideas? And please tell me if you would need to see more of my code. </p>\n\n<p>I've also looked a bit at the methods beginUpdates and endUpdates, but it seems to me that they focuses on a few changes at a time and user interactivity. I would like to just reload the entire table based on user choices (i.e. would like to reflect a whole other SQL select string depending on the current user login). Or is there another, even better way to do that?</p>\n\n<p>Thanks in advance!</p>\n\n<p>Here's a rather good chunk of the code:</p>\n\n<pre><code>#import \"FirstViewController.h\"\n@interface FirstViewController ()\n@end\n\n@implementation FirstViewController\n#import \"FirstViewController.h\"\n\n@synthesize myTextView, myTableViewDataSource, myFetchedData, resultat, tablesAndChecks, tablesArr, checksArr, tablesToRequest,receivedData, receivedDataString, SQL, sqlStatementsArr, failedSqlStatementsArr, failedSqlStatementsCodeArr, dbloop1;\n\n\n\n#pragma mark Table view methods\n- (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView {\n    return 1;\n}\n\n// Customize the number of rows in the table view.\n- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section {\n    NSLog(@\"Konfigurerar tableView\"); //swedish for \"Configuring tableView\"\n    if(myTableView.dataSource==nil){\n        NSLog(@\"datasource = nil\");\n    }else{\n        NSLog(@\"datasource != nil\"); //This prints in log\n    }\n    NSLog(@\"%d\",[myTableViewDataSource count]); //prints \"19\" in log\n\n    return [myTableViewDataSource count];\n}\n\n// Customize the appearance of table view cells.\n- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {\n    NSLog(@\"calling cellForRowAtIndexPath\"); //This does NOT print in log\n\n    static NSString *CellIdentifier = @\"myCell\";\n\n    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];\n    if (cell == nil) {\n        cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier];\n    }\n\n    // Set up the cell...\n    cell.textLabel.font = [UIFont fontWithName:@\"Helvetica\" size:15];\n    cell.textLabel.text = [NSString  stringWithFormat:@\"Tabell %d: %@\", [indexPath row], [myTableViewDataSource objectAtIndex:[indexPath row]]];\n\n    return cell;\n}\n\n\n\n- (void)connectionDidFinishLoading:(NSURLConnection *)connection\n{\n    NSLog(@\"connection did finish loading\");\n\n    //...\n    //script that receives a long SQL-string from the server\n    //and then updates the database with it goes here    \n    //...\n\n    //Ok, so now the database has updated correctly, and it's time \n    //to update the tableview so that it reflects the new data.\n    //\n    //Get data from database...\n    NSMutableArray * tempArray = [[NSMutableArray alloc] initWithCapacity:0];\n\n    if (sqlite3_open(dbpath, &amp;contactDB) == SQLITE_OK)\n    {\n        NSLog(@\"Databasen öppnad\");\n        NSString *beginSQL = [NSString stringWithFormat: @\"SELECT name FROM sqlite_master WHERE type='table' ORDER BY name;\"];\n        const char *begin_stmt = [beginSQL UTF8String];\n        sqlite3_prepare_v2(contactDB, begin_stmt, -1, &amp;statement, NULL);\n        while(sqlite3_step(statement) == SQLITE_ROW) {\n            char *col1 = (char *)sqlite3_column_text(statement, 0);\n            if (col1 !=NULL){\n                [tempArray addObject:[NSString stringWithUTF8String: col1]];\n            }\n        }\n        if (sqlite3_step(statement) == SQLITE_DONE)\n        {\n            NSLog(@\"#####%s;   Done: %@\", sqlite3_errmsg(nil), beginSQL);\n        } else {\n            NSLog(@\"#####%s;   Error with string: %@; Errcode: %d Errmsg: %s\", sqlite3_errmsg(nil), beginSQL, sqlite3_errcode(contactDB), sqlite3_errmsg(nil));\n        }\n\n        NSLog(@\"%d\", sqlite3_finalize(statement));\n        sqlite3_close(contactDB);\n\n        //update the datasource to the values of tempArray\n        myTableViewDataSource = tempArray;\n\n        //Some logging to see that the updated data is in the array... (which it is)\n        NSLog(@\"myTableViewDataSource count: %d\",[myTableViewDataSource count]);\n\n        for (i=0; i&lt;[myTableViewDataSource count]; i++) {\n            NSLog(@\"%@\",[myTableViewDataSource objectAtIndex:i]);\n        }\n    }\n\n    //Finally, check so that myTableView isn't nil and can receive messages\n    if(myTableView == nil){\n        NSLog(@\"NILCHECK mytableview is nil!\");\n    }else{\n        NSLog(@\"NILCHECK mytableview is NOT nil!\"); //This is printed out to the log\n    }\n\n    //Reload data -&gt; nothing happens...\n    [myTableView reloadData];\n}\n\n\n- (void)fetchData\n{\n    //function that gets current checksums for all db tables on the server, compares them to the local database\n    //and then requests an SQL-string from the server to update the tables that needs it.\n    //I don't think this is relevant for my problem, and it runs fine anyways.\n\n    //The last thing it does is setting up a NSURLConnection to communicate with \n    //the server (sending which tables to request via POST and then getting the SQL-string as the server response)\n\n        NSURLConnection *theConnection=[[NSURLConnection alloc] initWithRequest:request delegate:self];\n        if (theConnection) {\n            //receivedData = [NSMutableData data];\n            NSLog(@\"ReceivedData är: %d\", [receivedData length]);\n        } else {\n            NSLog(@\"Connection Failed!\");\n        }\n\n        //All done here, now the ReceivedData method takes over\n\n    }\n}\n</code></pre>\n\n<p><strong>Update:</strong></p>\n\n<p>This is my viewDidLoad method:</p>\n\n<pre><code>- (void)viewDidLoad\n{\n    //creates database and fills \"tempArray\" with data\n\n        NSLog(@\"%d\", sqlite3_finalize(statement));\n        sqlite3_close(contactDB);\n\n        myTableViewDataSource = tempArray;\n        NSLog(@\"myTableViewDataSource count: %d\",[myTableViewDataSource count]);\n\n        for (i=0; i&lt;[myTableViewDataSource count]; i++) {\n            NSLog(@\"%@\",[myTableViewDataSource objectAtIndex:i]);\n        }\n\n    }\n\n    myTableView = [[UITableView alloc] initWithFrame:self.view.frame style:UITableViewStylePlain];\n    myTableView.delegate = self;   //Added this after comment (1)\n    myTableView.dataSource = self; //Added this after comment (2)\n}\n</code></pre>\n\n<p>Update:\nAfter adding this:</p>\n\n<pre><code>myTableView.delegate = self;\nmyTableView.dataSource = self;\n</code></pre>\n\n<p>to viewDidLoad, the <code>tableView:numberOfRowsInSection:</code> is called, and dataSource is not nil, but <code>tableView:cellForRowAtIndexPath:</code> is not called, and the table is not updated.</p>\n\n<p><strong>Update 2:</strong>\nHere's my header file:</p>\n\n<pre><code>    //\n//  FirstViewController.h\n//  OHBSYS Storyboards\n//\n//  Created by David Forsberg on 2012-09-25.\n//  Copyright (c) 2012 David Forsberg. All rights reserved.\n//\n\n#import &lt;UIKit/UIKit.h&gt;\n#import &lt;sqlite3.h&gt;\n\n@interface FirstViewController : UIViewController &lt;UITableViewDataSource, UITableViewDelegate&gt;{\n    NSString *databasePath;\n    sqlite3 *contactDB;\n\n    UITextView *myTextView;\n    UITableView *myTableView;\n\n    NSMutableArray *myTableViewDataSource;\n\n    NSMutableString * tableRowCount;\n    NSMutableArray * dbloop1;\n\n    //And a bunch of other variables here\n}\n\n@property (retain, nonatomic) IBOutlet UITextView *myTextView;\n@property (nonatomic, retain) IBOutlet UITableView *myTableView;\n@property (nonatomic, retain) IBOutlet NSMutableArray *myTableViewDataSource;\n\n- (IBAction) fetchData;\n\n@property (nonatomic) NSString * tableRowCount;\n@property (nonatomic, retain) NSMutableArray * dbloop1;\n\n//A bunch of other properties here as well\n\n@end\n</code></pre>\n\n<p><strong>Update 3:</strong></p>\n\n<p>I've tried checking the values using breakpoints.</p>\n\n<p>Breakpoint inside tableview:numberofrowsinsection:</p>\n\n<pre><code>(lldb) po self.myTableView\n(UITableView *) $0 = 0x0d13ca00 &lt;UITableView: 0xd13ca00; frame = (0 20; 768 1004); clipsToBounds = YES; layer = &lt;CALayer: 0x2a3d30&gt;; contentOffset: {0, 0}&gt;\n(lldb) po self.myTableView.delegate\n(objc_object *) $1 = 0x0ce99500 &lt;FirstViewController: 0xce99500&gt;\n(lldb) po self.myTableView.dataSource\n(objc_object *) $2 = 0x0ce99500 &lt;FirstViewController: 0xce99500&gt;\n(lldb) po self.myTableViewDataSource\n(NSMutableArray *) $3 = 0x0029fb20 &lt;__NSArrayM 0x29fb20&gt;(\nCONTACTS,\nsqlite_sequence\n)\n\n(lldb) \n</code></pre>\n\n<p>Breakpoint after the db is updated, right before reloadData is called:</p>\n\n<pre><code>(lldb) po self.myTableView\n(UITableView *) $4 = 0x0d13ca00 &lt;UITableView: 0xd13ca00; frame = (0 20; 768 1004); clipsToBounds = YES; layer = &lt;CALayer: 0x2a3d30&gt;; contentOffset: {0, 0}&gt;\n(lldb) po self.myTableView.delegate\n(objc_object *) $5 = 0x0ce99500 &lt;FirstViewController: 0xce99500&gt;\n(lldb) po self.myTableView.dataSource\n(objc_object *) $6 = 0x0ce99500 &lt;FirstViewController: 0xce99500&gt;\n(lldb) po self.myTableView.dataSource //(accidentally hit that twice)\n(objc_object *) $7 = 0x0ce99500 &lt;FirstViewController: 0xce99500&gt;\n(lldb) po self.myTableViewDataSource\n(NSMutableArray *) $8 = 0x0ce6baa0 &lt;__NSArrayM 0xce6baa0&gt;(\nCONTACTS,\nmeta_tablechecksums,\nprot_multicoltest,\nprot_multicoltest_4,\nprot_multicoltest_4_desc,\nprot_multicoltest_desc,\nsqlite_sequence,\nsuperadmin_filefolders,\nsuperadmin_files,\nsuperadmin_imagefolders,\nsuperadmin_images,\nsys_customers,\nsys_fieldlooks,\nsys_fieldtypes,\nsys_formtables,\nsys_pages,\nsys_subpages,\nsys_userroles,\nsys_users\n)\n\n(lldb) \n</code></pre>\n\n<p> </p>\n\n<p>Breakpoint AT reloadData line:</p>\n\n<pre><code>(lldb) po self.myTableView\n(UITableView *) $9 = 0x0d13ca00 &lt;UITableView: 0xd13ca00; frame = (0 20; 768 1004); clipsToBounds = YES; layer = &lt;CALayer: 0x2a3d30&gt;; contentOffset: {0, 0}&gt;\n(lldb) po self.myTableView.delegate\n(objc_object *) $10 = 0x0ce99500 &lt;FirstViewController: 0xce99500&gt;\n(lldb) po self.myTableView.dataSource\n(objc_object *) $11 = 0x0ce99500 &lt;FirstViewController: 0xce99500&gt;\n(lldb) po self.myTableViewDataSource\n(NSMutableArray *) $12 = 0x0ce6baa0 &lt;__NSArrayM 0xce6baa0&gt;(\nCONTACTS,\nmeta_tablechecksums,\nprot_multicoltest,\nprot_multicoltest_4,\nprot_multicoltest_4_desc,\nprot_multicoltest_desc,\nsqlite_sequence,\nsuperadmin_filefolders,\nsuperadmin_files,\nsuperadmin_imagefolders,\nsuperadmin_images,\nsys_customers,\nsys_fieldlooks,\nsys_fieldtypes,\nsys_formtables,\nsys_pages,\nsys_subpages,\nsys_userroles,\nsys_users\n)\n\n(lldb) \n</code></pre>\n\n<p>Breakpoint inside tableview:numberofrowsinsection: after the db was updated and the reloadData command was run:</p>\n\n<pre><code>(lldb) po self.myTableView\n(UITableView *) $13 = 0x0d13ca00 &lt;UITableView: 0xd13ca00; frame = (0 20; 768 1004); clipsToBounds = YES; layer = &lt;CALayer: 0x2a3d30&gt;; contentOffset: {0, 0}&gt;\n(lldb) po self.myTableView.delegate\n(objc_object *) $14 = 0x0ce99500 &lt;FirstViewController: 0xce99500&gt;\n(lldb) po self.myTableView.dataSource\n(objc_object *) $15 = 0x0ce99500 &lt;FirstViewController: 0xce99500&gt;\n(lldb) po self.myTableViewDataSource\n(NSMutableArray *) $16 = 0x0ce6baa0 &lt;__NSArrayM 0xce6baa0&gt;(\nCONTACTS,\nmeta_tablechecksums,\nprot_multicoltest,\nprot_multicoltest_4,\nprot_multicoltest_4_desc,\nprot_multicoltest_desc,\nsqlite_sequence,\nsuperadmin_filefolders,\nsuperadmin_files,\nsuperadmin_imagefolders,\nsuperadmin_images,\nsys_customers,\nsys_fieldlooks,\nsys_fieldtypes,\nsys_formtables,\nsys_pages,\nsys_subpages,\nsys_userroles,\nsys_users\n)\n\n(lldb) \n</code></pre>\n"},{"tags":["cocoa","class","variables","static"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":82,"score":1,"question_id":12732959,"title":"Declaring static variables in cocoa","body":"<p>I want to have a static variable in Cocoa.</p>\n\n<p>After looking at <a href=\"http://stackoverflow.com/questions/695980/how-do-i-declare-class-level-properties-in-objective-c\">How do I declare class-level properties in Objective-C?</a>, I am unclear whether there is anything wrong with what I have always done so far, i.e.</p>\n\n<pre><code>// Foo.m\nstatic NSString* id;\n@interface Foo ()\n</code></pre>\n\n<p>instead of</p>\n\n<pre><code>// Foo.h\n@interface Foo {\n}\n\n+(NSString*) id;\n\n// Foo.m\n+(NSString*) id\n{\n  static NSString* fooId = nil;\n\n  if (fooId == nil)\n  {\n    // create id\n  }\n\n  return fooId;\n}\n</code></pre>\n\n<p>Obviously, the second approach offers an opportunity for initializing the id.  But if I initialize the id myself somewhere else in the code, within, say a getter:</p>\n\n<pre><code>-(NSString*) getId\n{\n    if (id==nil) {\n      id =  ... // init goes here\n    }\n    return id;\n}\n</code></pre>\n\n<p>Then is there anything wrong with the simple static declaration approach as opposed to the more complex class function approach?  What am I missing?</p>\n"},{"tags":["objective-c","cocoa","reference-counting","retaincount"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":99,"score":2,"question_id":5204986,"title":"Reference count is still 1 after [obj release], when it should be deallocated","body":"<p>When I create an object and check its retain count, I get 1 as expected. When I release the object and then check the retain count again, it is still 1. Shouldn't the object be deallocated, and the retain count 0?</p>\n\n<pre><code>NSMutableString *str=[[NSMutableString alloc] initWithString:@\"hello\"];\nNSLog(@\"reference count is %i\",[str retainCount]);\n[str release];\nNSLog(@\"reference count is %i\",[str retainCount]);\n</code></pre>\n\n<p>I <em>do</em> see 0 for the retain count if I set <code>str</code> to <code>nil</code> first. Why is that?</p>\n"},{"tags":["osx","cocoa","installer","mac-app-store","osx-mountain-lion"],"answer_count":2,"favorite_count":3,"up_vote_count":1,"down_vote_count":0,"view_count":770,"score":1,"question_id":11432939,"title":"Unable to sign a Mac installer for distribution outside the Mac app store","body":"<p>I am facing a problem in signing a installer for mac application which I am planning to distribute outside the mac app store. I am using the developer installer certificate to sign the app but it is giving some error. below is command I am using to sign the app.</p>\n\n<pre><code>productsign --sign \"Developer ID Installer: XYZ\" \"/path/to/input\" \"/path/to/output\" \n\nproductsign: signing product with identity \"Developer ID Installer: XYZ\" from keychain \"login keychain Path\"\n\nproductsign: adding intermediate certificate \"Developer ID Certification Authority\"\n\nproductsign: adding intermediate certificate \"Apple Root CA\"\n\nproductsign: error: Can't add contents of input archive to output.\n</code></pre>\n\n<p>Does anyone have the solution or any idea about this problem.</p>\n\n<ol>\n<li><p>If I try to create the installer through xcode then it will work fine. But since my application installer contains multiple .pkg file inside it ,we are creating the installer file through pakagemaker. My next query is: </p></li>\n<li><p>Is it possible to successfully sign a installer created with pakagemaker.</p></li>\n<li><p>Is it possible to sign a .mpkg file.</p></li>\n</ol>\n\n<p>Thanks in advance.</p>\n"},{"tags":["objective-c","cocoa","gcc","nslog","gnustep"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":992,"score":1,"question_id":4976351,"title":"NSLog error: Can't find 'NXConstantString'?","body":"<p>I finally got GNUstep working (on windows), and it compiles and runs fine. However, whenever I try to use NSLog, I get the following error:</p>\n\n<pre><code>$ gcc -o hello hello.m -I /GNUstep/System/Library/Headers \\\n&gt; -L /GNUstep/System/Library/Libraries -lobjc -lgnustep-base\nhello.m: In function 'main':\nhello.m:4:5: error: cannot find interface declaration for 'NXConstantString'\n</code></pre>\n\n<p>My source code:</p>\n\n<pre><code>#import &lt;Foundation/Foundation.h&gt;\n\nint main(void) {\n    NSLog(@\"hello world\");\n}\n</code></pre>\n"},{"tags":["cocoa"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":72,"score":1,"question_id":11725217,"title":"Reading in a very large file","body":"<p>I'm working on an application that reads in a huge text file (can be up to 5gb in size).  Currently, I am using fscanf to read in the file, because I have found it to be the fastest so far.  However, it still takes quite a large quantity of time to read the whole file in.  </p>\n\n<p>Is there a faster way to read in data from a file?  </p>\n"},{"tags":["c++","xcode","cocoa","linker","glfw"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":12802467,"title":"Linker error on GLFW when trying to compile GLFW on Mac","body":"<p>I'm trying to use glfw 2.7.5 on my mac with xcode but I'm getting the following errors:</p>\n\n<pre><code>Undefined symbols for architecture i386:\n  \"_glfwGetKey\", referenced from:\n      Game::run() in Game.o\n      RedScene::update(float, bool) in main.o\n  \"_glfwGetWindowParam\", referenced from:\n      Game::run() in Game.o\n  \"_glfwInit\", referenced from:\n      Window::Window() in Window.o\n  \"_glfwOpenWindow\", referenced from:\n      createWindow(int, int, int, int, int, int, int, int) in Window.o\n  \"_glfwOpenWindowHint\", referenced from:\n      Window::Window() in Window.o\n  \"_glfwPollEvents\", referenced from:\n      Game::run() in Game.o\n  \"_glfwSetKeyCallback\", referenced from:\n      createWindow(int, int, int, int, int, int, int, int) in Window.o\n  \"_glfwSetMouseButtonCallback\", referenced from:\n      createWindow(int, int, int, int, int, int, int, int) in Window.o\n  \"_glfwSetMousePosCallback\", referenced from:\n      createWindow(int, int, int, int, int, int, int, int) in Window.o\n  \"_glfwSetMouseWheelCallback\", referenced from:\n      createWindow(int, int, int, int, int, int, int, int) in Window.o\n  \"_glfwSetWindowTitle\", referenced from:\n      Window::setCaption(std::__1::basic_string&lt;char, std::__1::char_traits&lt;char&gt;, std::__1::allocator&lt;char&gt; &gt; const&amp;) in Window.o\n  \"_glfwSwapBuffers\", referenced from:\n      RedScene::update(float, bool) in main.o\n  \"_glfwSwapInterval\", referenced from:\n      createWindow(int, int, int, int, int, int, int, int) in Window.o\n  \"_glfwTerminate\", referenced from:\n      Window::~Window() in Window.o\nld: symbol(s) not found for architecture i386\nclang: error: linker command failed with exit code 1 (use -v to see invocation) \n</code></pre>\n\n<p>I've read this <a href=\"http://stackoverflow.com/questions/9250961/problems-using-glfw-and-xcode-wont-compile\">Problems using GLFW and XCode : won&#39;t compile</a> and several other links on the internet but I can't find a solution.</p>\n\n<p>I've set the Cocoa framework, the OpenGL framework and libglfw.a (which I compiled using \"sudo make cocoa-install\"), in the linker flags I set -lgflw and I'm building for 32-bit Intel. At first I was building for a 64-bit but I think GLFW doesn't support that on Mac yet (I was getting joystick file errors), the error changes when I compile for 32-bit and it can't find the functions I'm using. Any idea what I could do to fix this?</p>\n"},{"tags":["cocoa","core-data","nsmanagedobjectcontext"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":85,"score":2,"question_id":12763053,"title":"Refreshing fetched properties of NSManagedObject","body":"<p>I have a <code>NSManagedObject</code> subclass which has a one-to-many relationship and a fetched property that is set up in the data model to provide a filtered subset of the objects in that relationship.</p>\n\n<pre><code>//School.h\n@interface School : NSManagedObject\n@property (nonatomic, retain) NSSet *pupils;\n@property (nonatomic, retain) NSArray *starPupuils;\n@end\n\n//School.m\n@implementation School\n@dynamic pupils;\n@dynamic starPupils;\n@end\n</code></pre>\n\n<p>I then have a view controller that watches a School object for changes to pupils then refreshes the starPupils data:</p>\n\n<pre><code>-(void)setSchool:(School *)school\n{\n    …\n    self.contentArray = [self.school starPupils];\n    [self.school addObserver:self\n                  forKeyPath:@\"pupils\"\n                     options:nil\n                     context:nil];\n    …\n}\n\n-(void)observeValueForKeyPath:(NSString *)keyPath ofObject:(id)object change:(NSDictionary *)change context:(void *)context\n{\n    if ([keyPath isEqualToString:@\"pupils\"])\n    {\n        self.contentArray = [self.school starPupils];\n    }\n}\n</code></pre>\n\n<p>This works fine when the fetched property is first accessed but as expected the starPupils array is cached and does not update itself as pupils are added and removed.</p>\n\n<blockquote>\n  <p>If objects in the destination entity are changed, you must reevaluate the fetched property to ensure it is up-to-date. You use <code>refreshObject:mergeChanges:</code> to manually refresh the properties—this causes the fetch request associated with this property to be executed again when the object fault is next fired. — <a href=\"https://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/CoreData/Articles/cdRelationships.html\" rel=\"nofollow\">Core Data Programming Guide: Relationships and Fetched Properties</a></p>\n</blockquote>\n\n<p><strong>My question is, where should I be calling <code>refreshObject:mergeChanges:</code> from?</strong></p>\n\n<p>I've looked into calling it from the parts of the codebase that handle the adding and removing of pupils and that works fine when on the same context but often the changes take place in a separate background context. </p>\n\n<p>This background context has its <code>parentContext</code> set to the <code>mainContext</code> that my view controller is always dealing with so when it is saved, the changes are automatically merged back in to <code>mainContext</code>. I looked into calling <code>refreshObject:mergeChanges:</code> in response to the <code>NSManagedObjectContextDidSaveNotification</code> of the <code>bgContext</code> but by the time that's called the changes have already been made and the KVO stuff has already been triggered.</p>\n\n<p>I tried adding the following but end up in an infinite loop:</p>\n\n<pre><code>-(void)observeValueForKeyPath:(NSString *)keyPath ofObject:(id)object change:(NSDictionary *)change context:(void *)context\n{\n    if ([keyPath isEqualToString:@\"pupils\"])\n    {\n        [self.school.managedObjectContext refreshObject:self.school mergeChanges:YES];\n        self.contentArray = [self.school starPupils];\n    }\n}\n</code></pre>\n\n<p>My current implementation is as follows:</p>\n\n<pre><code>-(void)observeValueForKeyPath:(NSString *)keyPath ofObject:(id)object change:(NSDictionary *)change context:(void *)context\n{\n    if ([keyPath isEqualToString:@\"pupils\"])\n    {\n        if (self.contentArray == [self.school starPupils])\n        {\n            /*\n             self.contentArray is currently pointing at previous fetched starPupils\n             we need to reset the object to a faulted state\n             this will twigger another KVO notification for @\"pupils\" but the code within this if statement will not be executed again\n             */\n            [self.school.managedObjectContext refreshObject:self.school mergeChanges:YES];\n            self.contentArray = [self.school starPupils];\n        }\n    }\n}\n</code></pre>\n\n<p>which works but doesn't feel optimal. Do you have any better suggestions or references to best practice?</p>\n"},{"tags":["objective-c","cocoa","uitableview","nstableview"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":12797121,"title":"Extended NSTableView","body":"<p>I would like to make a table-view with expanding ability.\nWhen you press a row, the row should expand to show options like delete, copy and so on.\nI have found an example for iOS, but I didn't get it running on Mac OS X, because <code>NSTableView</code> and <code>UITableView</code> are very different.</p>\n\n<p><a href=\"http://www.cocoacontrols.com/platforms/ios/controls/kofiles\" rel=\"nofollow\">http://www.cocoacontrols.com/platforms/ios/controls/kofiles</a></p>\n\n<p>Has anyone another template?\nOr maybe even get this example running on Mac OS X?</p>\n"},{"tags":["objective-c","cocoa","key","nslog","identifier"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":26,"score":-3,"question_id":12801146,"title":"show pressed key in nslog without a button","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/12770343/write-down-every-hit-key\">write down every hit key</a><br>\n  <a href=\"http://stackoverflow.com/questions/12781770/write-key-in-a-textfield\">write key in a textfield</a>  </p>\n</blockquote>\n\n\n\n<p>how can I make it, that if I press a key on my keyboard and in NSLog it shows me the pressed key or its identifier? I don't want to use buttons, because 250 buttons are to many for me.</p>\n\n<p>I tried this bur it does not work</p>\n\n<pre><code>- (BOOL)acceptsFirstResponder {\nreturn YES;\n}\n- (void)keyDown:(NSEvent *)theEvent {\nif ([[theEvent characters] isEqualToString:@\"o\"]) {\n    NSLog(@\"o\");\n}\n}\n</code></pre>\n\n<p>Tanks in advents </p>\n"},{"tags":["objective-c","cocoa","osx-mountain-lion","nsprogressindicator"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":44,"score":2,"question_id":12800596,"title":"File copy with progress indicator","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/12705491/how-to-display-file-copy-progress-in-10-8\">How to display file copy progress in 10.8</a>  </p>\n</blockquote>\n\n\n\n<p>I found \"<a href=\"http://www.cimgf.com/2008/05/03/cocoa-tutorial-file-copy-with-progress-indicator/\" rel=\"nofollow\">COCOA TUTORIAL: FILE COPY WITH PROGRESS INDICATOR</a>\", but in this tutorial used File Manager Reference function which deprecated in OS X 10.8 (FSFileOperationScheduleWithRunLoop...). \nAnybody know how to copy files with <code>NSProgressIdicator</code> object?</p>\n"},{"tags":["osx","cocoa","uti"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":18,"score":1,"question_id":12796391,"title":"Retrieve all app bundle identifiers which can open file at given URL","body":"<p>How to retrieve all app bundle IDs which can open file at given URL? Like if file at given URL is .xml I want to get array of all app bundle IDs which can open .xml.</p>\n"},{"tags":["osx","cocoa","drawing"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":12799920,"title":"Drawing on NSBitmapImageRep","body":"<p>I'm trying to create in-memory image, draw on it and save to disk.</p>\n\n<p>Current code is:</p>\n\n<pre><code>NSBitmapImageRep *rep = [[NSBitmapImageRep alloc]\n                         initWithBitmapDataPlanes:NULL\n                         pixelsWide:256\n                         pixelsHigh:256\n                         bitsPerSample:8\n                         samplesPerPixel:4\n                         hasAlpha:YES\n                         isPlanar:YES\n                         colorSpaceName:NSDeviceRGBColorSpace\n                         bitmapFormat:NSAlphaFirstBitmapFormat\n                         bytesPerRow:0\n                         bitsPerPixel:8\n                         ];\n\n\n[NSGraphicsContext saveGraphicsState];\n[NSGraphicsContext setCurrentContext:[NSGraphicsContext graphicsContextWithBitmapImageRep:rep]];\n\n// Draw your content...\nNSRect aRect=NSMakeRect(10.0,10.0,30.0,30.0);\nNSBezierPath *thePath=[NSBezierPath bezierPathWithRect:aRect];\n[[NSColor redColor] set];\n[thePath fill];\n\n[NSGraphicsContext restoreGraphicsState];\n\n\nNSData *data = [rep representationUsingType: NSPNGFileType properties: nil];\n[data writeToFile: @\"test.png\" atomically: NO];\n</code></pre>\n\n<p>when trying to draw in current context, I'm getting error</p>\n\n<pre><code>CGContextSetFillColorWithColor: invalid context 0x0\n</code></pre>\n\n<p>What is wrong here? Why context returned by NSBitmapImageRep is NULL?\nWhat is the best way to create drawn image and save it?</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>Finally came to following solution:</p>\n\n<pre><code>NSImage *image = [[NSImage alloc] initWithSize:NSMakeSize(256, 256)];\n[image lockFocus];\n\nNSRect aRect=NSMakeRect(10.0,10.0,30.0,30.0);\nNSBezierPath *thePath=[NSBezierPath bezierPathWithRect:aRect];\n[[NSColor redColor] set];\n[thePath fill];\n\n[image unlockFocus];\n\nNSData *data = [image TIFFRepresentation];\n[data writeToFile: @\"test.png\" atomically: NO];\n</code></pre>\n"},{"tags":["osx","cocoa","nswindow","shadow"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":102,"score":3,"question_id":10372107,"title":"How to manipulate shadow of window?","body":"<p>For example: enlarge shadow, remove bottom shadow, ...</p>\n\n<p>And I tried to override the <strong>invalidateShadow</strong> selector of NSWindow, but it was not invoked when window's shadow changed. I do not want to remove shadow, I want to prevent shadow from being invalidated. When is <strong>invalidateShadow</strong> called ?</p>\n"},{"tags":["iphone","cocoa","parsing","nsstring"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":69,"score":0,"question_id":12798866,"title":"Is there a format string parser for NSString?","body":"<p>I'd like to parse strings using format strings as in <code>+stringWithFormat:…</code>. It would be quite convenient to print and parse strings with the same format string. Only one localized would be needed.</p>\n\n<p>Example:</p>\n\n<pre><code>NSString *format = @\"His name is \\\"%@\\\"\";\nNSString *string = [NSString stringWithFormat:format, @\"Bob\"];\nNSArray *array = [string parseWithFormat:format];\n</code></pre>\n\n<p><code>array</code> should return <code>@[@\"Bob\"]</code>. Is there such an open source project that tries to accomplish that? I think it should be possible to convert such format strings into regular expressions.</p>\n"},{"tags":["objective-c","cocoa","autorelease","nsurlcache"],"answer_count":1,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":1477,"score":4,"question_id":2159205,"title":"NSURLCache crashes with autoreleased objects, but leaks otherwise","body":"<p><code>CSURLCache</code> is designed to cache resources for offline browsing, as <code>NSURLCache</code> only stores data in-memory.</p>\n\n<p>If <code>cachedResponse</code> is autoreleased before returning the application crashes, if not, the objects are simply leaked.</p>\n\n<p>Any light that could be shed onto this would be much appreciated.</p>\n\n<p>Please note <code>stringByEncodingURLEntities</code> is a category method on <code>NSString</code>.</p>\n\n<pre><code>@interface CSURLCache : NSURLCache {} @end\n\n@implementation CSURLCache\n\n- (NSCachedURLResponse *)cachedResponseForRequest:(NSURLRequest *)request\n{\n    NSString *path = [[NSSearchPathForDirectoriesInDomains(NSCachesDirectory, NSUserDomainMask, YES) lastObject] stringByAppendingPathComponent:[[[request URL] absoluteString] stringByEncodingURLEntities]];\n\n    if ([[NSFileManager defaultManager] fileExistsAtPath:path])\n    {\n        NSData *data = [[NSData alloc] initWithContentsOfFile:path];\n        NSURLResponse *response = [[NSURLResponse alloc] initWithURL:[request URL]\n                                                            MIMEType:nil\n                                               expectedContentLength:[data length]\n                                                    textEncodingName:nil];\n\n        NSCachedURLResponse *cachedResponse = [[NSCachedURLResponse alloc] initWithResponse:response\n                                                                                       data:data];\n        [response release];\n        [data release];\n\n        return cachedResponse;\n    }\n\n    return nil;\n}\n\n@end\n</code></pre>\n\n<p><strong>UPDATE</strong>: After submitting a radar to Apple it appears that this is a known issue (Radar #7640470).</p>\n"},{"tags":["objective-c","osx","cocoa","interface-builder","nstableview"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":34,"score":1,"question_id":12799112,"title":"NSTableView align to the right of the window?","body":"<p>Ok, I have an NSTableView in my window in Interface Builder and I'd like it to be at a constant width of 250 (even when the user resizes the window !!!). I'd also want it to stay on the right side, like a side panel or so. I also want the cells to stay at the exact same width.\nI have added an image below. I guess there are some options in Interface Builder right ? </p>\n\n<p><img src=\"http://i.stack.imgur.com/40yf5.png\" alt=\"enter image description here\"></p>\n"},{"tags":["iphone","cocoa","application","iphone-sdk-4.0","cocos2d-iphone"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":5,"view_count":67,"score":-5,"question_id":12798627,"title":"Searching for tutorial and sample code websites for Iphone app programming","body":"<p>I would like to implement an Iphone-App with \"point of interest\" functions. I am new to cocoa. Does anyone know some good tutorial sites or sites with sample code? \nI have been googleing and havent found much. Maybe you now some good websites.</p>\n\n<p>Help would be very much appreciated.</p>\n"},{"tags":["iphone","objective-c","cocoa","cocoa-touch"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":9365,"score":2,"question_id":818097,"title":"UITableView - add cells","body":"<p>I have a UITableViews inside of a TabBarController that are populated with separate arrays of data. Due to web syncing, this array updates, and I'd like to update the table.</p>\n\n<p>Calling:</p>\n\n<pre><code>[self.tableView reloadData]\n</code></pre>\n\n<p>will reload content in existing cells, but I need to add cells for the new data. It seems that this method is not calling</p>\n\n<pre><code>-tableView:tableView numberOfRowsInSection:section\n</code></pre>\n\n<p>again, which is where I dynamically specify the number of rows. Any ideas? I've read all the docs I can find, and haven't caught onto anything. Is this a application design issue?</p>\n\n<p>Thanks!</p>\n"},{"tags":["osx","cocoa","skype"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":12797252,"title":"cocoa Skype - error 541 application: operation failed","body":"<p>I use skype.framework and call API: CREATE APPLICATION</p>\n\n<p>But it has error 541</p>\n\n<p>The skype document said that this error is ERROR 541 APPLICATION: operation failed - in case an application with this name already exists.</p>\n\n<p>So, I try to call [skypeAPI sendSkypeCommand:@\"DELETE APPLICATION TestApp\"]. It still has error 541. Do you have any ideas?</p>\n"},{"tags":["cocoa","osx","copy-paste","nspasteboard"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":235,"score":3,"question_id":6118435,"title":"How to save off the pasteboard contents first and restore them afterward?","body":"<p>I have a faceless Mac OS X app which needs to copy selection from other apps. I achieve this by simulating CMD+C keystrokes. It works perfectly.\nBut there is a, I think it's critical, side effect. It'll override users' pasteboard without their permission. \nSo I was thinking before I copying selection I should save pasteboard content and then restore it. Can someone give me some hint, maybe sample code? </p>\n"},{"tags":["objective-c","osx","cocoa","nsview","nsoutlineview"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":37,"score":1,"question_id":12776376,"title":"View-based NSOutlineView cellviews overlapping","body":"<p>Is there any way to overlap cellviews in <code>NSOutlineView</code>? </p>\n\n<p><code>NSView</code> have no clipsToBounds property. I tried switch on the <code>wantsLayer</code> property of the cell view and its superview - rowView, then set outlineView property <code>setIntercellSpacing:NSMakeSize(0.f, -10.f)</code>, but views are trimmed to its bounds.<br>\nI tried to overload a <code>NSView</code>'s visibleRect method and no result. How can I overlap cell views?</p>\n"},{"tags":["iphone","cocoa","nsxmlparser","nsoperation"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":284,"score":0,"question_id":6806281,"title":"NSXMLParser crashing when calling abortParsing from within delegate","body":"<p>I have an NSXMLParser object+delegate inside the main of an NSOperation. The NSXMLParser delegate checks before executing each of its callbacks if a BOOL cancel; variable is set. If it is set it calls [parser abortParsing] and returns immediately.</p>\n\n<p>What happens however is as soon as the return is executed my app crashes with an illegal memory access.</p>\n\n<p>Here is the call stack for the crash:</p>\n\n<pre><code>#0  0x00080030 in -[MGTwitterHTTPURLConnection data] at .../Twitter/Twitter+OAuth/MGTwitterEngine/MGTwitterHTTPURLConnection.m:69\n#1  0x35432808 in nodePush ()\n#2  0x3543eb5a in xmlParseChunk ()\n#3  0x3464ed64 in -[NSXMLParser parse] ()\n#4  0x000510e2 in -[ItemTableParser parse:] ()\n</code></pre>\n\n<p>and the locals:</p>\n\n<pre><code>self    MGTwitterHTTPURLConnection *    0x0\n_cmd    SEL 0x518fbf0\n</code></pre>\n\n<p>That Twitter stuff you see has NO relation whatsoever with the code I am running. It is just a random piece of memory where it crashes. I don't use any Twitter code whatsoever. The .m files are just there in my project and compiled.</p>\n\n<p>Here a piece of code of one of the delegate methods:</p>\n\n<pre><code>- (void)parser:(NSXMLParser *)parser didStartElement:(NSString *)elementName namespaceURI:(NSString *)namespaceURI qualifiedName:(NSString *)qualifiedName attributes:(NSDictionary *)attributeDict\n{\n    if ( self.cancel )\n    {\n        [parser abortParsing];\n        return;\n    }  .....\n</code></pre>\n\n<p>Here the code where the parser is created and called</p>\n\n<pre><code>-(NSArray *)parse:(NSData *)data\n{\n    NSXMLParser * parser = [[NSXMLParser alloc]initWithData:data];\n    [parser setDelegate:self];\n\n    [parser parse];\n    [parser release];\n    parser = nil;\n    return resultTable;\n}\n</code></pre>\n\n<ul>\n<li>What am I doing wrong?</li>\n<li>Is there a better way of stopping an NSXMLParser?</li>\n</ul>\n\n<p>Thanks</p>\n"},{"tags":["osx","cocoa","skype"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":12796221,"title":"cocoa skype api how to get user that is calling come","body":"<p>I'm using skype api to get a name of friend that is calling come on MAC OSX. </p>\n\n<p>But in <a href=\"http://developer.skype.com/public-api-reference#OBJECT_CALL\" rel=\"nofollow\">Skype Public API</a>, I don't see it. Do you have any ideas?</p>\n"},{"tags":["objective-c","cocoa","drag-and-drop","nsview"],"answer_count":1,"favorite_count":2,"up_vote_count":6,"down_vote_count":0,"view_count":161,"score":6,"question_id":8250203,"title":"-performDragOperation: not called when dragging from dock stack","body":"<p>Hi I have a custom view inside of a status item. I implemented a drag and drop and it all works but when dragging from a dock stack, all of the dragging methods are called except for <code>-performDragOperation:</code> and <code>prepareForDragOperation:</code></p>\n"},{"tags":["objective-c","cocoa","nsbezierpath"],"answer_count":1,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":729,"score":4,"question_id":5091163,"title":"How to use NSPointArray?","body":"<p>so I'm want to use the method  <code>appendBezierPathWithPoints:count:</code> in NSBezierPath.  But the method requires me to use NSPointArray.   The documentary doesn't really talk much about it and all I could get about it is that it's an array of NSPoints and I'm not sure how to do it.  I'm think that it uses the c array mechanism, but I'm not sure.  </p>\n\n<p>Thanks.</p>\n"},{"tags":["objective-c","osx","cocoa"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":60,"score":0,"question_id":12783234,"title":"Prevent OS X 10.8 from going to sleep","body":"<p>I need to stop OS X from running screensaver for a while, and then allow it. I found IOKit's functions IOPMAssertionCreateWithName and IOPMAssertionRelease, but they don't work as expected. After creating Assertion, screensaver is blocked, it's ok, but it is still blocked even after I release my Assertion. Here is some sample code I have on github: <a href=\"https://github.com/silvansky/OSX-TestSleep\" rel=\"nofollow\">https://github.com/silvansky/OSX-TestSleep</a> - the main method is like this:</p>\n\n<pre><code>- (IBAction)toggle:(id)sender\n{\n    if (_assertionID == kIOPMNullAssertionID)\n    {\n        // toggle on\n        CFStringRef reasonForActivity= CFSTR(\"Test reason\");\n\n        IOReturn success = IOPMAssertionCreateWithName(kIOPMAssertionTypePreventUserIdleDisplaySleep, kIOPMAssertionLevelOn, reasonForActivity, &amp;_assertionID);\n        [self.statusField setStringValue:@\"Assert ON\"];\n        NSLog(@\"*** lock: %d, success: %d\", _assertionID, success);\n    }\n    else\n    {\n        // toggle off\n        IOReturn success = IOPMAssertionRelease(_assertionID);\n        [self.statusField setStringValue:@\"Assert OFF\"];\n        NSLog(@\"*** unlock: %d. success: %d\", _assertionID, success);\n        _assertionID = kIOPMNullAssertionID;\n    }\n}\n</code></pre>\n\n<p>So, when I press \"toggle\" button second time, screensaver is still blocked.</p>\n\n<p>Is there a way to fix that? My system is OS X 10.8.2, Xcode 4.5.1.</p>\n"},{"tags":["objective-c","osx","cocoa","nswindowcontroller","nsviewcontroller"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":12791642,"title":"Howto identify modalForWindow using NSViewController","body":"<p>I have one NSWindow (mainwindow) for my OSX NSApplicationDelegate. The NSWindow also holds several NSView's where the content is set using NSViewControllers. Currently I ran into a problem when I wanted a NSPanel, a sheet, to drop down from the top of one of my NSViews (not from the top of my app). I wanted to use the code:</p>\n\n<pre><code>[NSApp beginSheet:self.loginSheet.window\n       modalForWindow:self.view.window\n        modalDelegate:self\n       didEndSelector:nil\n          contextInfo:nil];\n</code></pre>\n\n<p>The loginSheet is a subclass of NSWindowController which loads the xib file using:</p>\n\n<pre><code> loginSheet = [[sheetWindowController alloc] initWithWindowNibName:@\"loginSheet\"];\n</code></pre>\n\n<p>However, I run this code from my NSViewController and my self.view.window is always nil. My NSView seems otherwise correctly initialized and works fine, but the drop down of the sheet does not work as my modalForwindow (self.view.window) is nil.  If I use the code:</p>\n\n<pre><code> [NSApp beginSheet:self.loginSheet.window\n       modalForWindow:[[NSApplication sharedApplication] mainWindow]\n        modalDelegate:self\n       didEndSelector:nil\n          contextInfo:nil];\n</code></pre>\n\n<p>it works like a charm. But from all my searching to find an answer to my problem it seems that this working approach is a big no-no since it blocks the entire app from any response. I wanted my sheet to be linked to one of my NSViews' but I dont see how I can do this given that the app only have one NSWindow? Am I not doing something that makes my self.view.window stay nil? Is there a good way for me to find the parent window of custom views? If you have any suggestions for how to solve this problem or can give me a hint on what I am doing wrong that would be greatly appreciated.</p>\n\n<p>Thanks! Cheers, Trond</p>\n"},{"tags":["iphone","ios","cocoa","uiview","catiledlayer"],"answer_count":2,"favorite_count":0,"up_vote_count":8,"down_vote_count":0,"view_count":293,"score":8,"question_id":11086414,"title":"CATiledLayer to CALayer","body":"<p>I have a view with a CATiledLayer backing. I want to take the visible tiles from this CATiledLayer UIView and add it to another view as its CALayer backing, thus recreating the visible image in another UIView that doesnt use CATiledLayer.</p>\n\n<p>The reason I want to do this is I will use this second UIView to mask the effect of updating the CATiledLayer backed UIView - this currently produces a flicker as all tiles are re-loaded.</p>\n\n<p>The problem is, I'm not totally sure how i would do this. Any ideas?</p>\n"},{"tags":["cocoa","nsstring","surrogate-pairs"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":38,"score":2,"question_id":12788691,"title":"Simplest way to extract first Unicode codepoint of an NSString (outside the BMP)?","body":"<p>For historical reasons, Cocoa's Unicode implementation is 16-bit: it handles Unicode characters above <code>0xFFFF</code> via \"surrogate pairs\". This means that the following code is not going to work:</p>\n\n<pre><code>NSString myString = @\"𠬠\";\nuint32_t codepoint = [myString characterAtIndex:0];\nprintf(\"%04x\\n\", codepoint);  // incorrectly prints \"d842\"\n</code></pre>\n\n<p>Now, <em>this</em> code works 100% of the time, but it's ridiculously verbose:</p>\n\n<pre><code>NSString myString = @\"𠬠\";\nuint32_t codepoint;\n[@\"𠬠\" getBytes:&amp;codepoint maxLength:4 usedLength:nil\n    encoding:NSUTF32StringEncoding options:0\n    range:NSMakeRange(0,2) remainingRange:nil];\nprintf(\"%04x\\n\", codepoint);  // prints \"20d20\"\n</code></pre>\n\n<p>And <em>this</em> code using <code>mbtowc</code> works, but it's still pretty verbose, affects global state, isn't thread-safe, and probably fills up the autorelease pool on top of all that:</p>\n\n<pre><code>setlocale(LC_CTYPE, \"UTF-8\");\nwchar_t codepoint;\nmbtowc(&amp;codepoint, [@\"𠬠\" UTF8String], 16);\nprintf(\"%04x\\n\", codepoint);  // prints \"20d20\"\n</code></pre>\n\n<p>Is there any <em>simple</em> Cocoa/Foundation idiom for extracting the first (or Nth) Unicode codepoint from an NSString? Preferably a one-liner that just returns the codepoint?</p>\n\n<p>The answer given in <a href=\"http://blog.ablepear.com/2010/09/objective-c-tuesdays-slicing-and-dicing.html\" rel=\"nofollow\">this otherwise excellent summary of Cocoa Unicode support</a> (near the end of the article) is simply \"Don't try it. If your input contains surrogate pairs, filter them out or something, because there's no sane way to handle them properly.\"</p>\n"},{"tags":["objective-c","cocoa","syntax-highlighting","nstextview"],"answer_count":3,"favorite_count":7,"up_vote_count":7,"down_vote_count":0,"view_count":3121,"score":7,"question_id":2218415,"title":"NSTextView syntax highlighting","body":"<p>I'm working on a Cocoa text editor which uses an NSTextView. Is it possible to change the color of certain portions of the text?</p>\n"},{"tags":["objective-c","xcode","osx","cocoa"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":47,"score":1,"question_id":12675711,"title":"Export OSX Executable in XCode from Cocoa Application Project","body":"<p>I made a command line tool as a Cocoa Application in XCode and when I archive it, it generates a .app file that contains the underlying executable file.  To actually run it, I need to execute that underlying file which is located at AppName.app/Contents/MacOS/AppName.  Is there any way I can have it build just the executable?  I don't want to have to create a post build step that copies the executable out of the .app file.</p>\n\n<p>Thanks</p>\n"},{"tags":["cocoa","label","nsview","void"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":12787922,"title":"Void method not updating label - Cocoa","body":"<p><img src=\"http://i.stack.imgur.com/UbZFq.png\" alt=\"This is to show you that the outlet is connected\">\nThis is to show you that the outlet is connected</p>\n\n<p><em><strong>I have a outlet which is</em></strong> : <code>IBOutlet NSTextField *coordinates</code></p>\n\n<p>Here is the <strong>code</strong> in the \".m\" file..</p>\n\n<pre><code>-(void)mouseDragged:(NSEvent *)theEvent { \n\n//Basically this method gets the mouse coordinates in a view\n\n    NSPoint p = [theEvent locationInWindow]; \n\n\n    x = ((int)p.x - xo);\n    y = ((int)p.y - yo - 50);\n\n\n    [self performSelector:@selector(updateLabel)];\n\n    //redrawing the view (working with Bezier path)\n    [self setNeedsDisplay:YES];\n\n\n}\n\n\n-(void)updateLabel {\n\n    [coordinates setStringValue:[NSString stringWithFormat:@\"%i - %i\",x,y]];\n\n  // ** ABOVE HERE IS THE ISSUE, IF I LOG THAT STRING,\n  // I GET WHAT I WANT BUT OBVIOUSLY IN THE LOG, \n  // WHY THE LABEL SEEMS NOT TO REFRESH OR UPDATE HER CONTENT ?\n\n}\n</code></pre>\n\n<p><strong>NOTE : This is a subclass of <code>NSView</code></strong></p>\n\n<p>Your help would be really appreciated, thanks in advance to you all.</p>\n\n<p><em><strong>UPDATE</em></strong></p>\n\n<p>This is the \".h\" file</p>\n\n<pre><code>@interface Bezier : NSView {\n\n//Outlets\n\nIBOutlet NSTextField *coordinates;\n}\n- (void) updateLabel;\n</code></pre>\n"},{"tags":["objective-c","cocoa","key","textfield","check"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":45,"score":-2,"question_id":12781770,"title":"write key in a textfield","body":"<p>I have a Textfield and I want it to show which button is pressed. But I don't have any idea to do that. Can somebody help me? (If it is important to know. It is for OS X not for iOS)</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["objective-c","osx","cocoa","nstableview","nstablecellview"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":92,"score":0,"question_id":12787906,"title":"Custom NSTableView with custom NSTableCellView?","body":"<p>I would like to create an NSTableview with custom NSTableCellViews. </p>\n\n<p>Here is what I have right now: </p>\n\n<ul>\n<li>A nib file for the cell (view nib) called <strong>CustomCell.xib</strong></li>\n<li>A custom class for my cell called <strong>CustomCell</strong></li>\n<li>And the code in my <strong>AppDelegate.m</strong>:</li>\n</ul>\n\n<p>Here I create my table view programmatically: </p>\n\n<pre><code>    NSScrollView *tableContainer = [[NSScrollView alloc]initWithFrame:NSMakeRect(self.window.frame.size.width-TABLEWIDTH, 0, TABLEWIDTH, self.window.frame.size.height)];\n    NSTableView *tableView = [[NSTableView alloc] initWithFrame:NSMakeRect(self.window.frame.size.width-TABLEWIDTH, 0, TABLEWIDTH, self.window.frame.size.height)];\n\n    NSTableColumn *firstColumn = [[[NSTableColumn alloc] initWithIdentifier:@\"firstColumn\"] autorelease];\n    [[firstColumn headerCell] setStringValue:@\"First Column\"];\n    [tableView  addTableColumn:firstColumn];\n\n    tableView.dataSource = self;\n    tableView.delegate = self;\n    [tableContainer setDocumentView:tableView];\n    tableContainer.autoresizingMask = NSViewHeightSizable | NSViewMinXMargin;\n    [self.window.contentView addSubview: tableContainer];\n</code></pre>\n\n<p>And here is the delegate method where I would like to put my custom cell code: </p>\n\n<pre><code>- (NSView *)tableView:(NSTableView *)tableView viewForTableColumn:(NSTableColumn *)tableColumn row:(NSInteger)row {\n\n\n    // In IB the tableColumn has the identifier set to the same string as the keys in our dictionary\n    NSString *identifier = [tableColumn identifier];\n\n    if ([identifier isEqualToString:@\"myCell\"]) {\n\n        // We pass us as the owner so we can setup target/actions into this main controller object\n        CustomCell *cellView = [tableView makeViewWithIdentifier:identifier owner:self];\n        // Then setup properties on the cellView based on the column\n        cellView.textField.stringValue = @\"Name\";\n        return cellView;\n    }\n    return nil;\n}\n</code></pre>\n\n<p>In the nib file for my custom cell I have hooked up the cell view with my custom class called <strong>CustomCell</strong> which subclasses <strong>NSTableCellView</strong>. I have not done any other steps as for now. So my <strong>CustomCell.m</strong> is just default initialization code. I haven't touched it. And I did not do anything else in my nib file, so I did not change file's owner or anything like that because I don't really know what to do. \nCan anyone help out ? I looked at sample files from the Apple documentation, but after days of researching I have not found any solutions. I would really appreciate if you could help me. </p>\n"},{"tags":["cocoa"],"answer_count":7,"favorite_count":3,"up_vote_count":3,"down_vote_count":0,"view_count":2044,"score":3,"question_id":2234364,"title":"How to detect a gamepad button press on OSX 10.5 and higher?","body":"<p>How do I detect a button press on a USB gamepad on OSX 10.5 and higher?</p>\n\n<p>I can't wrap my head around the ridiculously complex HID Manager (even though apparently it was simplified with 10.5), and the code samples at Apple have thousands of lines of code that would take days to understand and isolate what I need, so I'd appreciate if someone posts a simple, and fully coded solution for this isolated problem.</p>\n\n<hr>\n\n<p><strong>EDIT</strong>: so far all answers are links to source code or semi obscure libraries for all kinds of HID devices, which will require more research time than what I'd like to invest on this. I am starting a bounty to get an actual <strong>snippet of code</strong> that solves this simple problem (using an external library or not).</p>\n\n<hr>\n\n<p><strong>EDIT POS BOUNTY</strong>: thanks to all for you help; but unfortunately the answer that has been automatically selected by the system is not working for me, can't figure out why; and the author has not yet replied to my comments. Any insight would be appreciated, but until a fix is found, anyone looking for resources on this topic should take this answer with a pinch of salt.</p>\n"},{"tags":["cocoa","core-data","nsmanagedobject","nsarraycontroller","nsoutlineview"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":12734158,"title":"Custom NSMangedObject accessor crashed NSOutlineView","body":"<p>I am thinking this is a bug in Core Data but before I file a bug report, I want to be sure it is not just me being stupid.</p>\n\n<p>I set up an NSOutlineView to access the data of 5 different Core Data entities.  Each entity's data is accessed with a different NSArrayController which is bound to the Entity and its' ManagedObjectContext.  I then have the NSOutlineViewDataSource methods return the correct NSString object depending on which entity was expanded.</p>\n\n<p>NOTE:  entities is declared elsewhere as an NSArray with names for the entities.</p>\n\n<pre><code>- (id)outlineView:(NSOutlineView *)outlineView child:(NSInteger)index\n       ofItem:(id)item {\n\nif(nil == item) {\n    return [entities objectAtIndex:index];\n}\nNSInteger entityIdx = [entities indexOfObject:item];\nif (entityIdx == NSNotFound) {\n    return @\"\";\n}\nid returnObject = @\"\";\nswitch (entityIdx) {\n    case 0: {\n        Person *person  = [[peopleArrayController arrangedObjects] objectAtIndex:index];\n        returnObject = person.fullName;\n        break;\n    }\n    case 1: {\n        Media *media = [[mediaArrayController arrangedObjects] objectAtIndex:index];\n        returnObject = media.imageTitle;\n        break;\n    }\n    case 2: {\n        Note *note  = [[notesArrayController arrangedObjects] objectAtIndex:index];\n        returnObject = note.noteDescription;\n        break;\n    }\n    case 3: {\n        Source *source = [[sourcesArrayController arrangedObjects] objectAtIndex:index];\n        returnObject = source.title;\n        break;\n    }\n    case 4: {\n        Repository *repo = [[repostioriesArrayController arrangedObjects] objectAtIndex:index];\n        returnObject = repo.name;\n        break;\n    }\n    default:\n        break;\n}\n\n\nreturn returnObject;\n</code></pre>\n\n<p>}</p>\n\n<p>The Person entity property fullName and the Media entity property imageTitle are custom accessors.</p>\n\n<pre><code>- (NSString *)fullName {\n[self willAccessValueForKey:@\"surName\"];\n[self willAccessValueForKey:@\"givenName\"];\nNSString *firstName = [self valueForKey:@\"givenName\"];\nNSString *lastName = [self valueForKey:@\"surName\"];\nNSString *string = [NSString stringWithFormat:@\"%@ %@\", (firstName) ? firstName : @\"\", (lastName) ? lastName : @\"\"];\n[self didAccessValueForKey:@\"surName\"];\n[self didAccessValueForKey:@\"givenName\"];\nreturn string;\n</code></pre>\n\n<p>}</p>\n\n<pre><code>- (id) imageTitle {\n[self willAccessValueForKey:@\"path\"];\nid title = [[self valueForKey:@\"path\"] lastPathComponent];\n[self didAccessValueForKey:@\"path\"];\nreturn title;\n</code></pre>\n\n<p>}</p>\n\n<p>The program was crashing when I tried to expand the Person or the Media entities but not when I expanded the other entities.  I traced the crash to [NSCell _setContents:][NSObject(NSObject) doesNotRecognizeSelector:]</p>\n\n<p>I changed the Media property being returned to a standard Core Data accessor property @\"path\" and the program stopped crashing when I expanded the Media entity.  So the problem is definitely related to the custom accessor.</p>\n\n<p>FYI - I checked to make sure the entity was set to use the NSManagedObject class.  </p>\n\n<p>Can anyone give me a reason for the crash other than a bug?</p>\n"},{"tags":["objective-c","xcode","osx","cocoa","osx-snow-leopard"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":72,"score":1,"question_id":12786733,"title":"Retina \"@2x\" graphics incorrectly being used on standard-def display (using Snow Leopard / Xcode 4.2 )","body":"<p>I am developing a Mac app using Xcode 4.2 in OS X 10.6 Snow Leopard.</p>\n\n<p>My Xcode project contains, in the same folder and at exactly-doubled dimensions:</p>\n\n<p><code>image.png</code><br>\n<code>image@2x.png</code></p>\n\n<p>I use the <a href=\"https://developer.apple.com/resources/high-resolution/\" rel=\"nofollow\">Apple-recommended</a> -[NSImage imageNamed:] method to load the correct resource depending on the user's screen type:</p>\n\n<p><code>[NSImage imageNamed:@\"image\"];</code></p>\n\n<p>However, when I run the app on my non-retina 1440x900 display, the \"@2x\" version of the image is displayed. I get a 100x100 image when it should be a 50x50.</p>\n\n<p>The same code works fine to deliver both standard-def and retina images, depending, when I run the app in 10.7 Lion (switching between standard and HiDPI modes).</p>\n\n<p>I've thus far been unable to get Snow Leopard HiDPI (720x450) mode to work. But it still should be displaying the standard-def image when I use my standard-def display.</p>\n\n<p>Is there a limitation of either Snow Leopard or Xcode 4.2 that causes this to work incorrectly? If so, how do you release an app that has a Deployment Target of 10.6 but still also has retina graphics support?</p>\n"},{"tags":["ios","osx","cocoa","core-data","cocoa-bindings"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":50,"score":1,"question_id":12787167,"title":"How to post a notification for a custom Core Data property that is dependent on a relationship?","body":"<p>I have a <code>Client</code> that has a to-many-relationship to <code>Invoice</code>, the property is called <code>invoices</code>. Now I wrote a custom read-only property <code>latestInvoice</code> which I want to observe in my interface:</p>\n\n<pre><code>- (MyInvoice *)latestInvoice\n{\n  NSArray *invoices = [self valueForKey:@\"invoices\"];\n  NSSortDescriptor *sortDescriptor = [NSSortDescriptor\n    sortDescriptorWithKey:@\"date\" ascending:NO];\n\n  return invoices.count\n    ? [invoices sortedArrayUsingDescriptors:@[sortDescriptor]][0]\n    : nil;\n}\n</code></pre>\n\n<p>I register <code>Client</code> as an observer for <code>invoices</code>:</p>\n\n<pre><code>- (void)dealloc\n{\n  [self removeObserver:self forKeyPath:@\"invoices\"];\n}\n\n- (void)registerObservers\n{\n  [self addObserver:self forKeyPath:@\"invoices\" options:\n    (NSKeyValueObservingOptionNew | NSKeyValueObservingOptionOld)\n    context:NULL];\n}\n\n- (void)awakeFromInsert\n{\n  [super awakeFromInsert];\n\n  [self registerObservers];\n}\n\n- (void)awakeFromFetch\n{\n  [super awakeFromFetch];\n\n  [self registerObservers];\n}\n</code></pre>\n\n<p>And I manually post change notifications:</p>\n\n<pre><code>- (void)observeValueForKeyPath:(NSString *)keyPath ofObject:(id)object\n  change:(NSDictionary *)change context:(void *)context\n{\n  if ([keyPath isEqualToString:@\"invoices\"])\n  {\n    [self willChangeValueForKey:@\"latestInvoice\"];\n    [self didChangeValueForKey:@\"latestInvoice\"];\n  }\n}\n</code></pre>\n\n<p>Is this the right / bug-free / preferred way to do observe Core Data properties that depend on a relationship or do I abuse the framework?</p>\n"},{"tags":["objective-c","cocoa","core-data","migration","icloud"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":176,"score":2,"question_id":12754366,"title":"Migrating a Core Data Store from iCloud to local","body":"<p>I'm currently struggling with Core Data iCloud migration.</p>\n\n<p>I want to move a store from an iCloud ubiquity container (.nosync) to a local URL. Problem is whenever I call something like this:</p>\n\n<pre><code>[self.persistentStoreCoordinator migratePersistentStore: currentiCloudStore \n                                                  toURL: localURL \n                                                options: nil \n                                               withType: NSSQLiteStoreType \n                                                  error: &amp;error];\n</code></pre>\n\n<p>I get this error:</p>\n\n<p>\"-NSPersistentStoreCoordinator addPersistentStoreWithType:configuration:URL:options:error:: CoreData: Ubiquity:  Error: A persistent store which has been previously added to a coordinator using the iCloud integration options must always be added to the coordinator with the options present in the options dictionary. If you wish to use the store without iCloud, migrate the data from the iCloud store file to a new store file in local storage. file://localhost/Users/sch/Library/Containers/bla/Data/Documents/tmp.sqlite. This will be a fatal error in a future release\"</p>\n\n<p>Anyone ever seen this? Maybe I'm just missing the right migration options?</p>\n"},{"tags":["objective-c","cocoa","nsmutablearray"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":12785977,"title":"Reading string from array then changing string and outputting new result","body":"<p>I am trying to grab a string in my array, change nth letter in the string to a ?, then print the result in a textfield. The problem is my NSMutableArray is being stored into a UIPickerView and I think it would be best just to read the string from the PickerView then change the nth char and print the result. I am struggling with how to grab the string from the picker and change the nth letter.</p>\n\n<pre><code>    - (UIView *)viewForRow:(NSInteger)row forComponent:(NSInteger)component\n    {\n    if (row == 0 ) {\n     NSString *originalStringTwo = @\"%@\", *arrayDictionary;\n    NSRange two = [originalStringTwo rangeOfString:@\"2\"];\n    NSString *newStringTwo = [originalStringTwo stringByReplacingCharactersInRange:two        withString:@\"?\"];\n\n    _resultLabel.text = newStringTwo;\n    }\n\n\n    if (row == 1 ) {\n    NSString *originalStringThree = @\"%@\", *arrayDictionary;\n    NSRange three = [originalStringThree rangeOfString:@\"3\"];\n    NSString *newStringThree = [originalStringThreestringByReplacingCharactersInRange:three withString:@\"?\"];\n\n    _resultLabel.text = newStringThree;\n    }\n\n    if ( row == 2 ) {\n    NSString *originalStringFour = @\"%@\", *arrayDictionary;\n    NSRange four = [originalStringFour rangeOfString:@\"4\"];\n    NSString *newStringFour = [originalStringFour stringByReplacingCharactersInRange:four withString:@\"?\"];\n\n   _resultLabel.text = newStringFour;\n    }\n    return 0;\n}\n</code></pre>\n"},{"tags":["objective-c","xcode","cocoa","core-data"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":12709433,"title":"Is it possible to see the entries in a Core Data table non-programmatically?","body":"<p>I've been looking into some tutorials on using Core Data, and I've seen consists of setting up the Entities and Attributes for Core Data in *.xcdatamodeld, then actually working with the data itself through a view on the app using <code>NSManagedObjectContext</code> and all the related coding. </p>\n\n<p>I'm wondering if there is a way to see the data (from within Xcode) without having to build up a whole view to do it?  I was looking through the Apple docs quick and everything there also just seems to have all the code for accessing the data, but I didn't see anything that suggests just looking at the tables is even possible.</p>\n"},{"tags":["objective-c","cocoa"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":33,"score":2,"question_id":12778957,"title":"Ordering of Preprocessor statement gives me warning?","body":"<p>I have a code as following</p>\n\n<p><strong>ApplicationSetting.h</strong></p>\n\n<p>FOUNDATION_EXPORT BOOL *const TEST_MODE;</p>\n\n<p><strong>ApplicationSetting.m</strong></p>\n\n<p>#ifdef DEBUG<br>\nBOOL *const TEST_MODE = YES;<br>\n #else<br>\nBOOL *const TEST_MODE = NO;<br>\n #endif</p>\n\n<p>The above .m file's code gives me this warning</p>\n\n<pre><code>Incompatible integer to pointer conversion initializing 'BOOL *const' \n(aka 'signed char *const') with an expression of type 'signed char'; \n</code></pre>\n\n<p>But, if I change it to be come like this</p>\n\n<p>#ifdef DEBUG<br>\nBOOL *const TEST_MODE = NO;<br>\n #else<br>\nBOOL *const TEST_MODE = YES;<br>\n #endif</p>\n\n<p>It works just fine without any warning.</p>\n\n<p>Do you have any idea how could this happens?</p>\n"},{"tags":["cocoa","core-image","cifilter","ciimage"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":12780298,"title":"How to use output of CIFilter recursively as new input?","body":"<p>I've written an own CIFilter kernel which is doing some image processing on the camera signal. It takes two arguments:\nArgument one is \"inputImage\" (the current camera image) argument 2 is \"backgroundImage\" which is being initialized with the first camera image.</p>\n\n<p>The filter is supposed to work recursively. The result of the filter should be used as new \"backgroundImage\" in the next iteration. I am calculating a background image and some variances and therefore need the result from the previous render.</p>\n\n<p>Unfortunately I cannot use the output CIImage of the CIFilter in the next iteration, because the memory load gets up and up. After 10 seconds of processing it ends up with 1.4GB of RAM usage. Using the filter in a standard manner (without recursion) memory management is fine.</p>\n\n<p>How can I reuse the output of a filter as input in the next iteration?\nI've done a NSLog on the result image. Ant it told me</p>\n\n<pre><code>background {\n\nCISampler:0x1002e0360 image {                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             \n   FEPromise: 0x1013aa230 extent [0 0 1280 720]; DOD [0 0 1280 720]; filter MyFeatureDetectFilter: 0x101388dd0; kernel coreImageKernel; image {\n\nCISampler:0x10139e200 image {                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                \n   FEBufferImage: 0x10139bee0 metadata.colorspace: HDTV; extent: [0 0 1280 720]; format: BGRA_8; uid 5                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         \n}\n</code></pre>\n\n<p>After some seconds the log becomes sth. like</p>\n\n<pre><code>                            }                                                                                                                                                            \n                         }                                                                                                                                                     \n                       }                                                                                                                                                                                 \n                     }                                                                                                                                                    \n                   }                                                                                                                                                       \n</code></pre>\n\n<p>This tells me that CIImages are 'always' prototypes of the desired operation. And using them recursively adds just the \"resulting CIImage 'prototype'\" as input into the new 'prototype'.\nOver time the \"rule\" for rendering blows up into a huge structure of nested prototypes.</p>\n\n<p>Is there any way to force CIImages to flatten the structure inside memory?\nI would be happy if I could do recursive processing, because this would blow up the power of QuartzCore to the extreme.</p>\n\n<p>I tried the same in QuartzComposer. Connecting the output with the input works, but takes a lot of memory, too. After some time it crashes. Then I tried to use the Queue from QC and everything worked fine. What is the \"xcode\" equivalent of the  QC Queue? Or is there any mechanism to rewrite my kernel to keep \"results\" in memory for the next iteration?</p>\n"},{"tags":["objective-c","cocoa","plugins"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12782069,"title":"Cocoa app plug-ins / sugars?","body":"<p>My app should be extendable using plug-ins or often called sugars.\nI would place them under appname.app/Contents/sugars/sugarname.appnamesugar</p>\n\n<p>Those are bundles, compiled in a separate project.\nThis would allow me to expand the functionality of the app without having to submit an update. </p>\n\n<p>So, this is how much I know. How do I go on?\nHow do I launch any methods and get results from them my main application.\nIt would be good if I could give some kind of a class which they subclass and override it's methods to implement the functionality. </p>\n\n<p>Those apps can do this:</p>\n\n<p><a href=\"http://panic.com/coda/\" rel=\"nofollow\">http://panic.com/coda/</a></p>\n\n<p><a href=\"https://droplr.com/hello\" rel=\"nofollow\">https://droplr.com/hello</a></p>\n\n<p>I hope you can help me.</p>\n"},{"tags":["cocoa-touch","ipad","cocoa"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":12777215,"title":"In-App purchase - does it possible to maintain group based products","body":"<p>I have more than hundreds of products. We can split products by group. Each group can have different pricing tier. For example, group1 -> tier1, group2 -> tier2, group3 -> tier3, etc. All products in a group should be same pricing tier. </p>\n\n<p>Is it possible to implement group based pricing tier? And also, i want to maintain the product status information (purchased or not). </p>\n"},{"tags":["ios","cocoa","core-data","appkit"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":12744328,"title":"Purpose of NSRefreshedObjectsKey","body":"<p>In a <code>NSManagedObjectContextObjectsDidChangeNotification</code> notification, I sometimes get the <code>NSRefreshedObjectsKey</code> key.</p>\n\n<p>I understand <a href=\"https://developer.apple.com/library/mac/documentation/Cocoa/Reference/CoreDataFramework/Classes/NSManagedObjectContext_Class/NSManagedObjectContext.html#//apple_ref/occ/instm/NSManagedObjectContext/refreshObject%3amergeChanges%3a\" rel=\"nofollow\">refreshed objects</a> to be a new fetch of the object from the persistent store/cache.</p>\n\n<p>What causes the notification to return refreshed objects then?  For inserted, updated, deleted, etc it is obvious, but what must I do to an object for it to appear in the <code>NSRefreshedObjectsKey</code> key?  E.g. is it that it may have simply been touched in some way (same values written to same keys)?</p>\n"},{"tags":["osx","cocoa","nstableview"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":45,"score":1,"question_id":12778141,"title":"Hover effect issue in NSTableView","body":"<p>I have a view based NSTableView in my application and I have added the hovering effect for the rows using the implementation in HoverTableDemo. I can get the hovering effect when the mouse is over a row without a problem , however when the tableview is scrolled down sometimes it leaves highlighting effect on the top cells when the table view is scrolled up again. I think this is due to NSTableView reuses the cell.  I highlight the row by overriding the </p>\n\n<pre><code> - (void)drawBackgroundInRect:(NSRect)dirtyRect\n</code></pre>\n\n<p>method in NSTableRowView. Could someone point me to the right direction to solve this issue ? </p>\n\n<p>Thanks in advance .</p>\n"},{"tags":["ruby","cocoa","macruby","scripting-bridge"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":25,"score":1,"question_id":12774308,"title":"Closing windows with MacRuby and the Scripting Bridge","body":"<p>I'm trying to write a quick script that will close all but the current window for the terminal application.  This script uses MacRuby and the Scripting Bridge.  Heres' what I have so far:</p>\n\n<pre><code>#!/usr/local/bin/macruby\n\nframework \"Foundation\"\nframework \"ScriptingBridge\"\n\nterminal = SBApplication.applicationWithBundleIdentifier(\"com.apple.Terminal\")\nterminal.windows[2].close while terminal.windows.count &gt; 1\n</code></pre>\n\n<p>When I try to run this, I get the following error:</p>\n\n<pre><code>undefined method `close' for #&lt;TerminalWindow:0x40033b0e0&gt; (NoMethodError)\n</code></pre>\n\n<p>This approach seems to work fine with AppleScript.  Does anybody know why it's failing here?</p>\n"},{"tags":["iphone","cocoa","memory-management","memory-leaks","uiwebview"],"answer_count":5,"favorite_count":4,"up_vote_count":10,"down_vote_count":0,"view_count":5325,"score":10,"question_id":2950907,"title":"UIWebView memory management","body":"<p>I have a problem with memory management.</p>\n\n<p>I am developing an application that makes heavy use of UIWebView. This app generates dynamically lots of UIWebViews while loading content from my server. Some of these UIWebViews are quite large and have a lot of pictures.</p>\n\n<p>If I use instruments to detect leaks, I do not detect any. However, lots of objects are allocated and I suspect that has to do with the UIWebViews.</p>\n\n<p>When the webviews release because no longer needed, it appears that not all memory is released. I mean, after a request to my server the app creates an UITableView and many webviews (instruments say about 8Mb). When user tap back, all of them are released but memory usage only decrements about 2-3 Mb, and after 5-10 minutes using the app it crashes.</p>\n\n<p>Am I missing something?\nAnyone know what could be happening?</p>\n\n<p>Thank you!</p>\n"},{"tags":["cocoa","drag-and-drop","nstableview"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":12422871,"title":"Drag and drop of columns between two NSTableViews in same applications","body":"<p>How can i make use of drag and drop of columns between two tableviews. Within a tableview for a row its fairly simple, but little bit tweaking is required for columns. But when it comes to  dragging an entire column from a table to another, I am unable to do.\nKindly help me...</p>\n"},{"tags":["objective-c","ios","cocoa"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":12775499,"title":"Functions for subview abstracted to different .h and .m files","body":"<p>I have MasterViewController.h and MasterViewController.m files and within those files I load a subview on top of part of that view when the a button is pressed. I want the functions of that subview (IBActions, etc.) to be in different files (ContactUs.h and ContactUs.m) so I can abstract this program and break it into smaller/simpler pieces. </p>\n\n<p>How can I go about doing this? The .xib file is loaded in the MasterViewController.m with:</p>\n\n<pre><code>[[NSBundle mainBundle] loadNibNamed@\"ContactUs_GeneralContact\" owner:self options[NSDictionary dictionary]];\n</code></pre>\n"},{"tags":["osx","cocoa","frameworks","core-image"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":12775665,"title":"CoreImage.framework not found","body":"<p>I'm developing a cocoa application.\nI'm using CIFilter, and CIImage for applying core concepts in NSImage.</p>\n\n<p>So I need to import <code>CoreImage.framework</code>. But I'm not getting the framework in my developer library folders. I'm searching the framework at /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.8.sdk/System/Library/Frameworks</p>\n\n<p>and</p>\n\n<p>/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.7.sdk/System/Library/Frameworks</p>\n\n<p>But the CoreImage.framework is not there.</p>\n\n<p>Can anyone please help me for adding CoreImage.framework in my code?</p>\n\n<p>Thanks,\niPHoneDv</p>\n"},{"tags":["cocoa","nscalendar"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":12775459,"title":"getting calendars created in reminders","body":"<p>I can get all the calendars by using the following code.</p>\n\n<pre><code>NSMutableArray* calendars = [NSMutableArray arrayWithArray:[[CalCalendarStore defaultCalendarStore] calendars]];\n</code></pre>\n\n<p>In this all the calendars which comes under reminders will also be included. But, how can i filter the calendars which are in the reminders. Or in other sense how can i get all the calendars which are included in Reminders.  </p>\n\n<p>Regards,</p>\n"},{"tags":["cocoa","pdf","xcode4.2"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":28,"score":2,"question_id":12774068,"title":"Display a list of all PDF files on HDD in a Cocoa application","body":"<p>I am trying to make a simple OS x PDF reader in Xcode 4.2. I would like to have a drawer that displays all the PDF files on the users computer with the ability to click on a select PDF and have my PDFView display it. I currently have everything set up, I have my main window and drawer with a Browser View as its content view. How can I populate the Browser View with a list of all PDF files on the HDD and have the list selectable to open that PDF file? This is where i am stuck and am tired of searching so I broke down and decided to ask for help. I am fairly new to Objective-C and am using Xcode 4.2 on Snow Leopard 10.6.8. Any help/suggestions will be greatly appreciated!</p>\n"},{"tags":["osx","cocoa","nsdocument","uti"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":12774220,"title":"NSDocument could not be opened in app with multiple document types","body":"<p>My app has two custom document types. Both are declared, and their UTIs exported, in the target. Both UTIs conform to public.data and public.content; and the documents both use NSKeyedArchiver for reading and writing to disk.</p>\n\n<p>Within the NSDocument subclass for DocumentType1, I'm using the following code to open a document of DocumentType2 after having run an NSOpenPanel to find out which URL to open:</p>\n\n<pre><code>self.docType2FileURL = [openPanel URLs][0];\nNSLog(@\"docType2FileURL: %@\", self. docType2FileURL);\nNSError *err = nil;\nself.docType2FileSecurityScopedBookmark = [NSURL bookmarkDataWithContentsOfURL:self.docType2FileURL error:&amp;err];\nif (err != nil) {\n    NSLog(@\"bookmark error: %@\", err);\n}\nNSLog(@\"bookmark: %@\", self.docType2FileSecurityScopedBookmark);\n[[NSDocumentController sharedDocumentController] openDocumentWithContentsOfURL:self.docType2FileURL display:NO completionHandler:^(NSDocument *document, BOOL documentWasAlreadyOpen, NSError *error) {\n    if (error) {\n        NSLog(@\"Error: %@\", error);\n    } else {\n        NSLog(@\"No error.\");\n    }\n    self.docType2pointer = (DocumentType2 *)document;\n}];\n</code></pre>\n\n<p>This is failing, and resulting in the following log statements:</p>\n\n<blockquote>\n  <p>2012-10-07 11:05:37.956 MyApp[64151:303] docType2FileURL: file://localhost/path/to/file2.docType2</p>\n  \n  <p>2012-10-07 11:05:37.958 MyApp[64151:303] bookmark error: Error Domain=NSCocoaErrorDomain Code=256 \"The file couldn’t be opened.\"</p>\n  \n  <p>2012-10-07 11:05:37.959 MyApp[64151:303] bookmark: (null)</p>\n  \n  <p>2012-10-07 11:05:38.015 MyApp[64151:303] Error: Error Domain=NSCocoaErrorDomain Code=256 \"The document “name of file.docType2” could not be opened. MyApp cannot open files of this type.\" UserInfo=0x1001b2c30 {NSLocalizedFailureReason=MyApp cannot open files of this type., NSLocalizedDescription=The document “name of file.docType2” could not be opened. MyApp cannot open files of this type., NSUnderlyingError=0x1005db460 \"“name of file.docType2” could not be handled because MyApp cannot open files of this type.\"}</p>\n</blockquote>\n\n<p>For whatever reason, not only is the document not opening, but the app is also unable to create a bookmark to it. Do you have any ideas on why that could be?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["objective-c","cocoa"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":12773281,"title":"NSUnicodeStringEncoding prepends FFFE to every string","body":"<p>I'm trying to append a string to a file by encoding it as <code>NSUnicodeStringEncoding</code> first. I'm doing this:</p>\n\n<pre><code>NSData *data = [@\"data\" dataUsingEncoding: NSUnicodeStringEncoding];\nNSFileHandle *output = [NSFileHandle fileHandleForUpdatingAtPath:@\"file\"];\n[output seekToEndOfFile];\n[output writeData:data];\n</code></pre>\n\n<p>If I do this a number of times and then take a look at the file I notice that every string added has FFFE prepended to it. But when I switch from <code>NSUnicodeStringEncoding</code> to <code>NSUTF8StringEncoding</code> this prefix goes away.</p>\n"},{"tags":["iphone","cocoa","time","nstimeinterval"],"answer_count":7,"favorite_count":15,"up_vote_count":23,"down_vote_count":0,"view_count":19888,"score":23,"question_id":1237778,"title":"How do I break down an NSTimeInterval into year, months, days, hours, minutes and seconds on iPhone?","body":"<p>I have a time interval that spans years and I want all the time components from year down to seconds.</p>\n\n<p>My first thought is to integer divide the time interval by seconds in a year, subtract that from a running total of seconds, divide that by seconds in a month, subtract that from the running total and so on.</p>\n\n<p>That just seems convoluted and I've read that whenever you are doing something that looks convoluted, there is probably a built-in method.</p>\n\n<p>Is there?</p>\n\n<p>I integrated Alex's 2nd method into my code.</p>\n\n<p>It's in a method called by a UIDatePicker in my interface.</p>\n\n<pre><code>NSDate *now = [NSDate date];\nNSDate *then = self.datePicker.date;\nNSTimeInterval howLong = [now timeIntervalSinceDate:then];\n\nNSDate *date = [NSDate dateWithTimeIntervalSince1970:howLong];\nNSString *dateStr = [date description];\nconst char *dateStrPtr = [dateStr UTF8String];\nint year, month, day, hour, minute, sec;\n\nsscanf(dateStrPtr, \"%d-%d-%d %d:%d:%d\", &amp;year, &amp;month, &amp;day, &amp;hour, &amp;minute, &amp;sec);\nyear -= 1970;\n\nNSLog(@\"%d years\\n%d months\\n%d days\\n%d hours\\n%d minutes\\n%d seconds\", year, month, day, hour, minute, sec);\n</code></pre>\n\n<p>When I set the date picker to a date 1 year and 1 day in the past, I get:</p>\n\n<blockquote>\n  <p>1 years 1 months 1 days 16 hours 0\n  minutes 20 seconds</p>\n</blockquote>\n\n<p>which is 1 month and 16 hours off. If I set the date picker to 1 day in the past, I am off by the same amount.</p>\n\n<p><strong>Update</strong>: I have an app that calculates your age in years, given your birthday (set from a UIDatePicker), yet it was often off. This proves there was an inaccuracy, but I can't figure out where it comes from, can you?</p>\n"},{"tags":["objective-c","cocoa","nsarray"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":236,"score":0,"question_id":1690876,"title":"Empty value in NSArray","body":"<p>I can't believe I forgot this, what is in an <code>NSArray</code> if there's no value in the field (this is being determined by loading a .plist file).  I know I should know this, but right now I'm having a serious brain fart</p>\n"},{"tags":["xcode","cocoa","xcode4.2"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":571,"score":0,"question_id":8124746,"title":"Cocoa: HUD Window in center of Main window","body":"<p>How to do that my <code>HUD Window panel</code> (Second window) will be in front of Main Window (first-main Window) in center? Just like a child window to move with the parent window (Main Window).</p>\n\n<p>Main Window is sizable and movable.. so when I <code>orderFront</code> or <code>makeKeyAndOrderFront</code> my <code>HUD Window panel</code> is displaying by coords of screen, but not by Main Window.</p>\n"},{"tags":["cocoa","core-data","nsmanagedobject","catransform3d","transformable"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":40,"score":1,"question_id":12700945,"title":"Need help debugging exception in _encodeObject when using [NSValue valueWithCATransform3D: ] to create Transformable attribute","body":"<p>I am trying to save a CATransform3D in a Core Data store.  In my custom NSObject subclass I use:</p>\n\n<pre><code>self.transform = [NSValue valueWithCATransform3D: inputTransform ];\n</code></pre>\n\n<p>to convert the input CATransform3D to an NSValue.  NSLog shows what looks like the expected transform:</p>\n\n<pre><code>2012-10-02 18:12:27.019 Model Importer[27908:303] Transform: &lt;00000000 0000f03f 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 0000f03f 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 0000f03f 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 0000f03f&gt;\n</code></pre>\n\n<p>From everything I've read NSValue, by implementing NSCoding (through NSSecureCoding), should be storable when specified as Transformable in the model.  However, when writing to the store I get the exception:</p>\n\n<p><strong>[NSKeyedArchiver encodeValueOfObjCType:at:]: this archiver cannot encode structs</strong></p>\n\n<p>I have other Transformable attributes of type CIColor that seem to be working fine.</p>\n\n<p>I'm sure there are many other ways I could store the CATransform3D attributes, but I'd like to understand what's not working here, to avoid running into similar situations.</p>\n\n<p>For what it's worth, at this point the store is set to the default binary, but this doesn't look to me like it would depend on the store type.</p>\n\n<p>Did I miss something, is this a known bug, or something else?</p>\n\n<p>Thanks!</p>\n"},{"tags":["cocoa","memory-management","memory-leaks","objective-c++"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":68,"score":1,"question_id":12327699,"title":"Should I [retain] and [release] when creating an object then adding it to a vector?","body":"<p>I have code like this:</p>\n\n<pre><code>vector&lt;SoundObject*&gt; sounds ;\n\n- (void) loadSound:(NSString*) name\n  {\n    SoundObject* so = [[[SoundObject alloc] init] load:name] ;\n    if( so )\n      sounds.push_back( so ) ;\n  }\n</code></pre>\n\n<p>Ok, so I did a couple of things here (I may be very noob at this, just focus on <em>memory leaks</em>).</p>\n\n<ol>\n<li>Should I call <code>[so retain]</code> before pushing <code>so</code> into the array?</li>\n<li><strong>It is possible for <code>load</code> to fail, and if it does, it returns <code>nil</code>.</strong>\n<ul>\n<li>If <code>load</code> did fail, <em>do I have to call <code>[self release]</code> before returning from <code>load</code>?</em> </li>\n</ul></li>\n</ol>\n"},{"tags":["objective-c","cocoa","detect","keydown"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":4,"view_count":73,"score":-3,"question_id":12770980,"title":"Detect which key is pressed","body":"<p>I want to detect which key is pressed and print it in the <code>NSLog</code> (I heard that every key has a number). </p>\n\n<p>At the moment my code is like this but it does not work for me:</p>\n\n<pre><code>- (BOOL)acceptsFirstResponder {\nreturn YES;\n}\n\n\n-(void)keyUp:(NSEvent*)event {\nNSLog(@\"Key %@\", event);\n}\n</code></pre>\n"},{"tags":["objective-c","xcode","osx","cocoa","retina-display"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":108,"score":1,"question_id":12714923,"title":"OS X icons size","body":"<p>What size should an application icon and menu bar icon for OS X be?  </p>\n\n<p>I can deal with small resolution displays but what about Retina - does an icon displayed on the menu bar (e.g. 20 x 20 ) will be smaller or blurred on a new MacBook Pro with Retina display? \nI reckon that the Application icon will be scaled, so if I'll prepare twice larger than regular it should be OK on Retina.</p>\n\n<p>I found an excellent guide for iOS development with sizes specification but I can't find similar size specifications for OS X. </p>\n"},{"tags":["objective-c","xcode","osx","cocoa","appkit"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":83,"score":1,"question_id":12767838,"title":"loadNibNamed deprecation in 10.8","body":"<p>I have found that <code>loadNibNamed</code> is deprecated in 10.8 -  what is the proper way to load the nibs?</p>\n\n<p>I'm trying to create a custom sheet in my app, do I have to create <code>NSWindowController</code> with <code>initWithWindowNibName</code> for the custom sheet? </p>\n"},{"tags":["objective-c","xcode","cocoa"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":53,"score":1,"question_id":12611062,"title":"ControlTextDidChange not called on setStringValue","body":"<p>I've implemented a delegate and its <code>controlTextDidChange</code> method it is called whenever i enter text in the <code>NSTextField</code>. </p>\n\n<p>When I set text programmatically via <code>[field setStringValue:@\"newText\"]</code> the <code>controlTextDidChange</code> is NOT called. </p>\n\n<p>Could you please explain this? And how I should programmatically set a new value that triggers invocation of my delegate's method <code>controlTextDidChange</code>.</p>\n"},{"tags":["objective-c","cocoa","keyboard","hit"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":56,"score":-3,"question_id":12770343,"title":"write down every hit key","body":"<p>I want to write down every key that is hit on my keyboard. Something like a keylogger, but I do not use it as one. So maybe in a disabled textfield. How can I catch the hit button?</p>\n"},{"tags":["objective-c","osx","cocoa","nsview"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":12769738,"title":"How to make my view stick to the right of the window?","body":"<p>I want to \"align\" my view to the right of my window, without resizing. I put in the code below </p>\n\n<pre><code>tableContainer.autoresizingMask = NSViewHeightSizable | NSViewLayerContentsPlacementRight;\n</code></pre>\n\n<p>but it always resizes my views width. I just want to create a view whose width stays the same and always sticks to the right of the window. So just like the panels in Photoshop for example. How do I achieve that ?</p>\n"},{"tags":["cocoa","nstableview","nsimage","nstablecellview"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":12769877,"title":"Display row of images","body":"<p>I want to display several images in a scrollable row. What's the best way to do it? I thought of NSTableView + NSTableCellView, but it seems a bit strange... I.e. cannot find out what DataSource must look like. (images should be taken from local resources)</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["objective-c","cocoa","fullscreen"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":12763101,"title":"Allow Full screen only in Cocoa","body":"<p>How can I make it, that my app only opens in fullscreen? So maybe you can make it smaller but the best way is to enable it only fullscreen</p>\n"},{"tags":["cocoa","memory-management","nsundomanager"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":36,"score":1,"question_id":12758069,"title":"Does NSUndoManager retain its arguments?","body":"<p>The following is code for enabling undo from the book cocoa programming for OS X by Aaron Hillegas :</p>\n\n<pre><code>-(void)removeObjectFromEmployeesAtIndex:(NSUInteger)index\n{\nPerson *p = [employees objectAtIndex:index];\nNSLog(@\"removing %@ from %@\", p, employees);\n// Add the inverse of this operation to the undo stack \nNSUndoManager *undo = [self undoManager]; [[undo prepareWithInvocationTarget:self]  insertObject:p inEmployeesAtIndex:index]; \n\nif (![undo isUndoing]) { \n  [undo setActionName:@\"Remove Person\"];\n} \n[employees removeObjectAtIndex:index];\n}\n</code></pre>\n\n<p>While removing an employee , we push a command onto the undo stack to reinsert that employee  into the array . But what guarantee is there that p wont have been released when the undo is invoked ?</p>\n"},{"tags":["objective-c","ios","cocoa","uitableview"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":73,"score":0,"question_id":12732640,"title":"UITableView's \"attempt to delete section\" assertion failure","body":"<p>I'm trying to update <code>UITableView</code> with the following code:</p>\n\n<pre><code>NSMutableIndexSet *sectionsToDelete = [NSMutableIndexSet indexSet];\nNSMutableIndexSet *sectionsToInsert = [NSMutableIndexSet indexSet];\nNSMutableIndexSet *sectionsToReload = [NSMutableIndexSet indexSet];\n\n/* ... */\n\n[[self tableView] beginUpdates];\nif ([sectionsToReload count]) {\n    DBGLogObject(sectionsToReload);\n    [[self tableView] reloadSections:sectionsToReload withRowAnimation:animation];\n}\nif ([sectionsToDelete count]) {\n    DBGLogObject(sectionsToDelete);\n    [[self tableView] deleteSections:sectionsToDelete withRowAnimation:animation];\n}\nif ([sectionsToInsert count]) {\n    DBGLogObject(sectionsToInsert);\n    [[self tableView] insertSections:sectionsToInsert withRowAnimation:animation];\n}\n[[self tableView] endUpdates];\n</code></pre>\n\n<p>Log:</p>\n\n<pre><code>sectionsToReload = &lt;NSMutableIndexSet: 0x71b19f0&gt;[number of indexes: 2 (in 1 ranges), indexes: (1-2)]\nsectionsToInsert = &lt;NSMutableIndexSet: 0x71ac570&gt;[number of indexes: 3 (in 2 ranges), indexes: (0 3-4)]\n</code></pre>\n\n<p>(Note there's no <code>sectionsToDelete</code> in the log.)</p>\n\n<p>The thing is that even though there's no deletion I get an error:</p>\n\n<pre><code>2012-10-04 19:21:16.769 Syntax[903:c07] *** Assertion failure in -[UITableView _endCellAnimationsWithContext:], /SourceCache/UIKit_Sim/UIKit-2372/UITableView.m:826\n2012-10-04 19:24:51.655 Syntax[903:c07] *** Terminating app due to uncaught exception 'NSInternalInconsistencyException', reason: 'attempt to delete section 2, but there are only 2 sections before the update'\n</code></pre>\n\n<p>Any ideas?</p>\n"},{"tags":["objective-c","cocoa"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":34,"score":-2,"question_id":12762849,"title":"error when trying to read a file's date created property in objective-c","body":"<p>Im trying to read the date created property of a File in my computer I am using the following lines of code:</p>\n\n<pre><code>NSError *error = [[NSError alloc] init];\nNSDictionary *localFileProperties = [[NSFileManager defaultManager] attributesOfFileSystemForPath:path error:&amp;error];\nNSLog(@\"file date: %@\",[localFileProperties fileModificationDate]);\n</code></pre>\n\n<p>But I get a (null) as an answer, and I don't know what I am doing wrong, I don't get an error, and when I inspect the NSDictionary description it has only this 5 keys:</p>\n\n<pre><code>Printing description of localFileProperties:\n{\n    NSFileSystemFreeNodes = 113416750;\n    NSFileSystemFreeSize = 464555008000;\n    NSFileSystemNodes = 121886742;\n    NSFileSystemNumber = 16777218;\n    NSFileSystemSize = 499248103424;\n}\n</code></pre>\n\n<p>Am I missing something in my code? or what can be wrong with it?</p>\n"},{"tags":["objective-c","osx","cocoa"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":12761482,"title":"Finding how many instances of a specific text in a TextView for Objective C","body":"<p>I am starting to learn how to code a mac application using Objective C. Right now I have a TextView filled up with text. Is there any way I can get the number of instances a specific word appearing in that textview.</p>\n\n<p>I have read up on <code>NSTextFinder</code> Class but I can't set my TextView as the client of the <code>NSTextFinder</code> and there is no sample code to help me along. Any help is appreciated</p>\n"},{"tags":["objective-c","ios","osx","cocoa"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":101,"score":1,"question_id":12760234,"title":"Objective-C: Correct way to pass a property's reference into a method call","body":"<p>If I have a property like this:</p>\n\n<pre><code>@property(strong, readwrite, nonatomic) NSDate* aProperty;\n</code></pre>\n\n<p>and I want to pass the reference into another method, are these correct:</p>\n\n<pre><code>if([AnotherClass aMethod:&amp;(self.aProperty)]) { ...\nif([AnotherClass aMethod:&amp;self.aProperty]) { ...\n</code></pre>\n"},{"tags":["cocoa","limit","nsuserdefaults","options"],"answer_count":5,"favorite_count":1,"up_vote_count":12,"down_vote_count":0,"view_count":1284,"score":12,"question_id":5520797,"title":"When (not) to abuse NSUserDefaults","body":"<p>I wonder what the guidelines are for:<br>\n1 - how often I can read from NSUserDefaults<br>\n2 - how much data I can reasonably store in NSUserDefaults</p>\n\n<p>Obviously, there are limits to how much NSUserDefaults can be used but I have trouble determining what's reasonable and what isn't.</p>\n\n<p>Some examples among others:  </p>\n\n<ul>\n<li><p>If my game has an option for the computer to be one of the players, I will use NSUserDefaults to save that boolean value.  That much is clear.  But is it also reasonable to access NSUserDefaults during my game every time I want to know whether the computer is a player or should I be using an instance variable for that instead?  Assume here I need to check that boolean every second.  Is the answer the same is it's 100 ms instead? What about every 10 s?</p></li>\n<li><p>If my game has 50 moving objects and I want their positions and speeds to be stored when the user quits the app, is NSUserDefaults a reasonable place to store that data?  What about 20 moving objects? What about 200?</p></li>\n</ul>\n"},{"tags":["objective-c","cocoa","content","nsstatusitem"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":12760707,"title":"Update statusItem Title","body":"<p>How can I update my statusItem Title?\nAt the moment I do it with a timer</p>\n\n<pre><code>[NSTimer scheduledTimerWithTimeInterval:0.01 target:self selector:@selector(myVoid) userInfo:nil repeats:YES];\n</code></pre>\n\n<p>and the void is:</p>\n\n<pre><code>-(void)myVoid {\n\nstatusItem = [[[NSStatusBar systemStatusBar] statusItemWithLength:NSVariableStatusItemLength] retain];\n[statusItem setTitle:myString];\n\n}\n</code></pre>\n\n<p>The content of <code>myString</code> changes. How can I update the Title? At the moment, when I update it there comes another statusItem and another and another...</p>\n"},{"tags":["iphone","objective-c","cocoa","https"],"answer_count":2,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":925,"score":3,"question_id":606098,"title":"Add custom certificate for iphone HTTP API","body":"<p>Is there any way to bundle a certificate in my application - and then use that to perform HTTP GET/POST using a <code>NSURLRequest</code>?</p>\n\n<p>I.e. the certificate should not be used for other HTTP traffic on the device, only by my application.</p>\n\n<p>Cheers</p>\n"},{"tags":["osx","cocoa"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":12760328,"title":"IKImageBrowserView Alternative","body":"<p>IKImageBrowserView is great, but it turns on discrete graphics, which is too much for the purpose I'm using it for.</p>\n\n<p>Can anyone recommend an alternative (third-party or included) view which can be used to show a fixed number of small (16x16) images, where a user can select one of the images?</p>\n\n<p>For clarification, this is what I'm using IKImageBrowserView for in my app:\n<img src=\"http://i.stack.imgur.com/U9TCX.png\" alt=\"enter image description here\"></p>\n\n<p>Thank you!</p>\n"},{"tags":["cocoa","core-data"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":12755635,"title":"How to create an instance of an Entity without using Array Controller?","body":"<p>Basically, this is a noob question. Forgive. :(</p>\n\n<p>Every example in books or on the web I've seen uses add remove buttons with a Table to create an instance of a managed object. I can do this. I have done this. But I'd rather not do this. I'd much rather use an  NSForm and click an \"add\" button to create the instance and add it to the database. </p>\n\n<p>I'm sure this just needs to be a method on the button itself. It fetches values from the form such as name, age... whatever and then when add is clicked, it adds that to the table and to the data base. </p>\n\n<p>I did find some material that showed me how to \"manually\" create a MO instance, but then, I couldn't set the properties / attributes of that instance using \n<code>newStudent.firstName = [[form cellAtIndex:1] stringValue];</code> </p>\n\n<p>Would I need to create a class for <code>Student</code> and set properties there? Am I just missing something stupid? My noob instincts tell me this isn't the best approach. There's got to be a more elegant touch. </p>\n\n<p>Any suggestions welcome. I'm new to OS programming and even newer to Core Data. Thank you very much. </p>\n"},{"tags":["cocoa","xcode","xcode4"],"answer_count":12,"favorite_count":10,"up_vote_count":23,"down_vote_count":0,"view_count":16895,"score":23,"question_id":5422066,"title":"Unable to build using Xcode 4 - The selected run destination is not valid for this action","body":"<p>So I'm horribly confused by this error, other threads on Stack Overflow mention I should set the SDK, but I see no option to do this.  I'm trying to build:http://wafflesoftware.net/shortcut/</p>\n\n<p>And I get no options, and I can only choose My Mac 64-bit, and I want it in 32-bit.  Really beginning to hate Xcode 4.</p>\n\n<p>Here is the screenshot when I try to edit my scheme: <a href=\"http://groovyape.com/scheme.png\" rel=\"nofollow\">http://groovyape.com/scheme.png</a></p>\n\n<p>Thoughts?</p>\n"},{"tags":["objective-c","cocoa","nsdictionary","crash-reports"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":70,"score":1,"question_id":12759583,"title":"Error with NSDictionary - 'Count of objects differs from count of keys'","body":"<p>I just got a crash report (at launch), after submitting my app to the Mac App Store, for review :</p>\n\n<pre><code>Application Specific Information:\nobjc[1832]: garbage collection is ON\n*** Terminating app due to uncaught exception 'NSInvalidArgumentException', reason: '*** -[NSDictionary initWithObjects:forKeys:]: count of objects (0) differs from count of keys (2)'\nterminate called throwing an exception\nabort() called\n</code></pre>\n\n<p>This is the part of code, I'm suspecting :</p>\n\n<pre><code>- (NSMutableDictionary*)getNewChapterWithTitle:(NSString*)title\n{\n    if (title==nil) title = [NSString stringWithFormat:@\"Chapter %d\",[[self appChapters] count]+1];\n\n    // Align Justify\n    NSMutableParagraphStyle * paragraphStyle = [[NSParagraphStyle defaultParagraphStyle] mutableCopy];\n    [paragraphStyle setAlignment:NSJustifiedTextAlignment];\n\n    // Set Font\n    NSDictionary *font = [NSDictionary dictionaryWithObjects:[NSArray arrayWithObjects:[NSFont fontWithName:@\"Garamond\" size:15.0],paragraphStyle, nil] forKeys:[NSArray arrayWithObjects:NSFontAttributeName, NSParagraphStyleAttributeName, nil]];\n\n    NSString* lipsum = @\"\\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc consequat fermentum faucibusPhasellus ac consequat metus. Sed at lectus sit amet tellus vulputate mollis vel suscipit metus. Nulla a sapien purus. Aenean sollicitudin lacus varius nisi faucibus nec lacinia mauris fermentum. Aliquam euismod quam rhoncus ipsum pulvinar quis condimentum magna imperdiet. Nullam augue leo, dictum tincidunt ullamcorper id, porta in lorem. Duis in vestibulum nisl.\\\n    \\n\\n\\\n    Donec imperdiet dignissim massa, at ultricies enim dignissim at. Etiam pharetra neque quis quam condimentum vitae viverra nisl volutpat. Vivamus urna ante, ultrices ut tincidunt id, auctor id est. Nunc eget diam purus, at viverra orci. Maecenas eu magna mi, id venenatis arcu. Maecenas ornare, tortor sit amet gravida placerat, diam urna lacinia nunc, a dictum arcu libero sed metus. Nulla pulvinar sapien vitae lectus faucibus quis tempus elit volutpat. Integer facilisis interdum lectus, sit amet dapibus enim mattis non. Donec sed pulvinar risus. Mauris in nulla urna, sit amet placerat turpis. Proin felis erat, pretium sed pharetra vel, tincidunt quis tortor. Donec ut nisi dui. Pellentesque gravida gravida justo, quis convallis leo euismod in. Nam pretium accumsan sapien ac interdum.\";\n\n    NSMutableAttributedString* theLipsum = [[NSMutableAttributedString alloc] initWithString:lipsum attributes:font];\n\n    return [[NSMutableDictionary dictionaryWithObjectsAndKeys:\n            [title retain],@\"title\",\n            [theLipsum retain],@\"content\",\n            [NSNumber numberWithInt:0],@\"isMarkdown\",\n            nil] retain];\n}\n</code></pre>\n\n<p>Do you see anything \"obviously\" wrong with the above? (It's being called like 4-5 times, from <code>awakeFromNib</code>, so I guess that's the culprit...)</p>\n\n<hr>\n\n<p><strong>HINT :</strong> The <code>retain</code>s have been added after the report; I don't know if it's going to help though at all...</p>\n"},{"tags":["cocoa","nstextfield","double-click","nsevent","click-counting"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":69,"score":0,"question_id":12680701,"title":"Change NSTextField's behavior for multiple clicks in a row","body":"<p>I have a <code>NSTextField</code> which is nested by a custom view and I want to change the default behavior of multiple clicks in a row (double click, tripple click etc.), similarly to the behavior of text nodes MindNode (see the image below).</p>\n\n<p>I want the first click to \"activate\" the text field and then go on from the beginning (like reseting the click count of the event).</p>\n\n<p>I have following ideas, but I don't know how to implement them and if they actually make sense:</p>\n\n<ul>\n<li>Somehow change the time using <code>+[NSEvent doubleClickInterval]</code> and slow down the second click.</li>\n<li>Reduce the click count programmatically?</li>\n<li>Make the NSTextField non-selectable using <code>-hitTest:</code>, forward the click to the superview, change some parameter of the text field and accept the next clicks. In this case, the click count of the second click is still 2.</li>\n<li>Override <code>-mouseDown:</code> and not call super. This breaks the NSTextField's selection functionality.</li>\n</ul>\n\n<p>I hope there is an easier way to achieve this, which I have overlooked.</p>\n\n<p>Thanks for your answers!</p>\n\n<p>Here is a graphical representation of the problem:\n<img src=\"http://i.stack.imgur.com/pNUIv.png\" alt=\"Changing the behavior of multiple click for NSTextField\"></p>\n"},{"tags":["cocoa","nstableview","cocoa-bindings","nsarraycontroller","nssearchfield"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":12758573,"title":"Search resets NSArrayController selection to none","body":"<p>I've got an <code>NSTableView</code> bound to an <code>NSArrayController</code> via <code>content</code> and <code>selection indexes</code>. All great so far - content displayed, etc.</p>\n\n<p><img src=\"http://i.stack.imgur.com/GDqRs.png\" alt=\"enter image description here\"></p>\n\n<p>Now an <code>NSSearchField</code> is bound to the array controller via <code>filterPredicate</code> and the property of the array content instances that's to be searched.<br>\nSearching/filtering the table view works great; table view showing only matching entries.</p>\n\n<p><strong>However</strong>, searching resets the selection on the <code>NSTableView</code> if the existing selection isn't in the search results. Worse, not only during the search but after ending the search there's no selection on the table view.</p>\n\n<p>The <code>NSArrayController</code> is set up to <em>Avoid Empty Selection</em>.</p>\n\n<p>Yet, debugging the array controller's <code>selection indexes</code> shows that <strong>searching resets them to an empty set.</strong> Don't quite know what to make of it..</p>\n\n<p>Any hints on how to properly configure bindings in this scenario to <strong>really</strong> prevent an empty selection much appreciated!</p>\n"},{"tags":["objective-c","cocoa","nstimer"],"answer_count":2,"favorite_count":3,"up_vote_count":3,"down_vote_count":0,"view_count":2289,"score":3,"question_id":2188064,"title":"Problems invalidating & re-creating NSTimer(s)","body":"<p>I'm having problems starting &amp; stopping NSTimers.  The docs say that a timer is stopped by [timer invalidate];</p>\n\n<p>I have a timer object declared as such</p>\n\n<pre><code>.h\nNSTimer *incrementTimer;\n@property (nonatomic, retain) NSTimer *incrementTimer;\n.m\n@synthesize incrementTimer;\n-(void)dealloc {\n [incrementTimer release];\n [super dealloc];\n }\n</code></pre>\n\n<p>-The usual.</p>\n\n<p>When it's needed, my method does the following:</p>\n\n<pre><code>-(void)setGenCount {\n    if(!condition1 &amp;&amp; condition2) {\n        incrementTimer = [NSTimer scheduledTimerWithTimeInterval: 2.0 \n                                                      target: self \n                                                    selector:@selector(incrementBatteryVoltage:) \n                                                    userInfo: nil \n                                                     repeats: YES]; \n    }\n}\n</code></pre>\n\n<p>Everything above works fine.  However, once that timer does it's job, I want it to invalidate itself. I invalidate the timer because there is an equal decrement method that could be called and would fight against the incrementTimer if it was still active. (Previously, I noticed that my two timers, if active, were acting on the same ivar by increasing &amp; decreasing the value (a sort of fight)... without crashing)  The selector called works as follows:  </p>\n\n<pre><code>-(void)incrementBatteryVoltage:(NSTimer *)timer {\n    if(battVoltage &lt; 24.0) {\n         generatorDisplay.battVoltage += 0.1;\n      }\n    if(battery1Voltage == 24.0) {\n         [timer invalidate];\n      }\n  }\n</code></pre>\n\n<p>I have an equal method that Decrements the battery count. (previously mentioned)<br>\nDue to my program design: the interface simulates a voltage display.  When the \"machine\" is turned off, I want all the timers invalidated, regardless of what any voltage value is.  I'm doing this by checking to see if the timer is valid.</p>\n\n<pre><code>-(void)deEnergizeDisplays {\n\n   if([decrementTimer isValid]) {\n        [decrementTimer invalidate];\n        decrementTimer = nil;\n     }\n\n    if([incrementTimer isValid]) {\n       [incrementTimer invalidate];\n       incrementTimer = nil;\n    }\n</code></pre>\n\n<p>I'm getting numerous \"BAD_ACCESS\" crashes. The erroneous line call is always pointing toward my [timer isValid] call.  It seems that if the timer is invalidated... the pointer \ndoesn't exist either.  I know that the [timer invalidate] message disables the timer and then it is removed from the run loop and then it is released. And my understanding is: it is an autoreleased object per it's naming covention.</p>\n\n<p>My thought are: If I'm sending a retain message, shouldn't the reference still exist?  I've tried several combinations, taking away:</p>\n\n<pre><code>timer = nil;\n</code></pre>\n\n<p>or even instead of: </p>\n\n<pre><code>if([timer isValid])\n</code></pre>\n\n<p>I tried :</p>\n\n<pre><code>if([timer != nil])\n</code></pre>\n\n<p>and: </p>\n\n<pre><code>if(timer)\n</code></pre>\n\n<p>I always get the same crash. Thanks for any help on starting &amp; stopping NSTimers.</p>\n"},{"tags":["java","objective-c","osx","cocoa","jre"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":74,"score":0,"question_id":12758488,"title":"Make user install Java from a Mac OS X app","body":"<p><strong>OK, here's my situation :</strong></p>\n\n<ul>\n<li>I've got an app (I'm about to distribute from within the App Store)</li>\n<li>The app depends on an \"included\" <code>.jar</code> file</li>\n<li>So, for the app to run smoothly, the java runtime must be present on the user OS X installation</li>\n<li>As of recently, <em>Mountain Lion</em> strips any previous <code>Java Runtime</code> installation</li>\n<li>I know that Java can be installed, when it's needed</li>\n</ul>\n\n<p><strong>However :</strong></p>\n\n<ul>\n<li>my app just got rejected, seemingly because it \"did nothing\"</li>\n<li>I suspect the issue is that the testing was done on a Mountain Lion - running Mac, withOUT a Java runtime.</li>\n</ul>\n\n<p><strong>Questions :</strong></p>\n\n<ul>\n<li>How do we make sure the Java Runtime is installed</li>\n<li>Why doesn't a call to <code>/usr/bin/java</code> trigger the automatic installation of the JRE?</li>\n<li>How do we make the user install the runtime, before we make any use of it?</li>\n</ul>\n"},{"tags":["objective-c","osx","cocoa","nsbuttoncell"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":63,"score":0,"question_id":12661423,"title":"Get highlighted state for NSButtonCell","body":"<p>I have a <code>NSTableView</code> that contains a <code>NSButtonCell</code> in one of the columns. To draw a custom background in neighbor cells (based on <code>NSTextFieldCell</code>) I use <code>isHighlighted</code> method:</p>\n\n<pre><code>- (void)drawWithFrame:(NSRect)cellFrame inView:(NSView *)controlView {\n     if ([self isHighlighted]) {\n     //here I draw the cell background\n</code></pre>\n\n<p>But for <code>NSButtonCell</code> <i><code>isHighlighted</code></i> shows only the button pressed state.</p>\n\n<p>How to determine when the <code>NSButtonCell</code> is selected, i.e. when it's highlighted in the row?</p>\n"},{"tags":["xcode","cocoa","web-content"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":12758540,"title":"Load web content without a WebView in Cocoa","body":"<p>I already worked with web content, but every time I used a NSWebView to do that and then this method: <code>stringByEvaluatingJavaScriptFromString:@\"document.getElementsByClassName('...')[0].innerText;\"];</code></p>\n\n<p>My Question is: can I do exactly the same withoud using a WebView or any other Interface Elements ?</p>\n"},{"tags":["objective-c","cocoa","core-data","nsarraycontroller","nscollectionview"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":12671691,"title":"NSArrayController SelectedObjects different from ArrangedObjects","body":"<p>I'm new at cocoa and I am build an application that uses core data. Basically I managed to connect everything, the <code>NSCollectionView</code> with <code>NSArrayController</code> working on entity mode and using the context from <code>AppDelegate</code>. My program searches all the computer for some specific files and saves them in the <code>SQLStore</code>, but my NSArrayController selectedObjects isn't updating so I can't properly display the data, I display a total of 22 entities but all with the same attributes that the first entity has. The problem is that the <code>NSArrayController</code> is only selecting the first entity I save in the <code>NSManagedObjectContext</code> and I want it to select everyone, what should I do to force this update? </p>\n\n<p>Hope for some help, sorry if it is something to obvious and if you have some doubt on my question or my english, that is pretty bad, don't hesitate to ask. </p>\n\n<p>Best regards.</p>\n"},{"tags":["cocoa","osx","alerts","document-based"],"answer_count":8,"favorite_count":4,"up_vote_count":5,"down_vote_count":0,"view_count":5817,"score":5,"question_id":604768,"title":"Wait for [NSAlert beginSheetModalForWindow:...];","body":"<p>When I display an NSAlert like this, I get the response straight away:</p>\n\n<pre><code>int response;\nNSAlert *alert = [NSAlert alertWithMessageText:... ...];\nresponse = [alert runModal];\n</code></pre>\n\n<p>The problem is that this is application-modal and my application is document based. I display the alert in the current document's window by using sheets, like this:</p>\n\n<pre><code>int response;\nNSAlert *alert = [NSAlert alertWithMessageText:... ...];\n[alert beginSheetModalForWindow:aWindow\n                  modalDelegate:self\n                 didEndSelector:@selector(alertDidEnd:returnCode:contextInfo:)\n                    contextInfo:&amp;response];\n\n//elsewhere\n- (void) alertDidEnd:(NSAlert *) alert returnCode:(int) returnCode contextInfo:(int *) contextInfo\n{\n    *contextInfo = returnCode;\n}\n</code></pre>\n\n<p>The only issue with this is that <code>beginSheetModalForWindow:</code> returns straight away so I cannot reliably ask the user a question and wait for a response. This wouldn't be a big deal if I could split the task into two areas but I can't.</p>\n\n<p>I have a loop that processes about 40 different objects (that are in a tree). If one object fails, I want the alert to show and ask the user whether to continue or abort (continue processing at the current branch), but since my application is document based, the Apple Human Interface Guidelines dictate to use sheets when the alert is specific to a document.</p>\n\n<p>How can I display the alert sheet and wait for a response?</p>\n"},{"tags":["xcode","cocoa","nsworkspace"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":6,"score":0,"question_id":12757523,"title":"How to get localized names of Finder labels from [NSWorkspace fileLabels]?","body":"<p>When I use [NSWorkspace fileLabels] I get an array of names for Finder labels. These names are always English. How to convert (or get) them localized?</p>\n"},{"tags":["ios","cocoa","core-data","nspredicate"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":72,"score":1,"question_id":12750377,"title":"Navigating the Core Data Object Graph [2]","body":"<p>I asked a <a href=\"http://stackoverflow.com/questions/12733490/navigating-the-core-data-object-graph\">question</a> yesterday where I really should have started with a simpler example.  Having distilled my question to the basics, I've managed to solve my problem using existing SO questions and answers.</p>\n\n<p>I'm summarising my question here (and providing my own solution) because I don't think there are any posts that explain this clearly enough.  Being new to Core Data and struggling to get away from SQL concepts, I'd  welcome feedback on how appropriate my solution is, and if there are better ways of modelling the problem.</p>\n\n<p><em><strong>Question</em></strong></p>\n\n<p>Given the following object model, that has three entities A, B and C, each linked by to-many relationships:</p>\n\n<p><img src=\"http://i.stack.imgur.com/zfIY2.png\" alt=\"Model\"></p>\n\n<p>How is it possible to identify the parent <strong><em>A</em></strong> entities, that have grandchildren <strong><em>C</em></strong> entities with a particular attribute?  By example, using these sample entities and their relationships:</p>\n\n<p><img src=\"http://i.stack.imgur.com/yD9L4.png\" alt=\"example\"> </p>\n\n<p>How can I find our which entity <strong><em>A</em></strong> s have child entity <strong><em>C</em></strong> s with the Tag:Yes?</p>\n\n<p><em><strong>Solution</em></strong></p>\n\n<p>I've been able to achieve this is using the <code>SUBQUERY</code> keyword of <code>NSPredicate</code>.  Here is the code snippet that worked for me (assuming you've set up your managed object context etc):</p>\n\n<pre><code>NSError *error = nil;\nNSFetchRequest *fetchRequest = [[NSFetchRequest alloc] init];\nNSEntityDescription *entity = [NSEntityDescription entityForName:@\"EntityA\" inManagedObjectContext:context];   \n[fetchRequest setEntity:entity];\nNSPredicate *predicateTemplate = [NSPredicate predicateWithFormat:@\"(0 != SUBQUERY(child, $a, (0 != SUBQUERY($a.child, $child, $child.tag == %@).@count)).@count)\", @\"YES\"]; \n[fetchRequest setPredicate:predicateTemplate];\nNSArray *test = [context executeFetchRequest:fetchRequest error:&amp;error];\n</code></pre>\n\n<p>Breaking the all important NSPredicate string onto several lines:</p>\n\n<pre><code>(0 != SUBQUERY(child, \n               $a, \n               (0 != SUBQUERY($a.child,\n                              $child, \n                              $child.tag == %@).@count)\n               ).@count\n)\n</code></pre>\n\n<p>The important part is we are selecting the <code>EntityA</code> to work from and then in the nested subquery working through the <code>child</code> relationships of the entities. I expect this can be repeated for several depths.  Not the most intuitive thing to put together... but it works.  Comments welcome.</p>\n"},{"tags":["cocoa"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":149,"score":0,"question_id":10970239,"title":"Local Notification is displayed without didFinishLaunchingWithOptions:","body":"<p>I have quite an understanding issue with displaying local notifications.\nAs far as I was reading in other threads, one has first create and schedule the local notification with the application.</p>\n\n<p>For displaying that notification, one has to use the delegates didFinishLaunchingWithOptions: (if app is in background operation) and didReceiveLocalNotification: (if app is in foreground).</p>\n\n<p>Now even though I did NOT change the didFinishLaunchingWithOptions: method, the notification is already getting viewed when my app is in the background.</p>\n\n<p>It wouldn't be that big of a problem if the didFinishLaunchingWithOptions: would at least be used when I specify it at all. But it doesn't.</p>\n\n<p>So my problem is, that even though I haven't used the didFinishLaunchingWithOptions: method, the notification is getting displayed. When the user clicks on the notification, the app gets to foreground and the didReceiveLocalNotification: method is triggered and the notification is displayed again.</p>\n\n<p>What I originally wanted to do is to cancelAllLocalNotifications on execution of didFinishLaunchingWithOptions:, but since it is not getting executed, I'm kinda stuck here.</p>\n\n<p>Ok, there might be a workaround with applicationWillEnterForeground: but honestly, I'd like to understand, why the notification is getting displayed even without having specified that in didFinishLaunchingWithOptions:.</p>\n\n<p>All of your help is really appreaciated!! Thanks!!</p>\n\n<pre><code>//\n//  myNotificationsClass.m\n//\n\n\n#import \"myNotificationsClass.h\"\n\n@implementation myNotificationsClass\n\n//Sets up a Local Notification with Message, TimeFromNow, BadgeNumber and UserInfo\n\n//no Class Instance for calling this method needed!!\n\n+ (void)setupLocalNotificationsWithMessage: (NSString *) message andTimeFromNow: (NSTimeInterval) seconds andAlertAction: (NSString *) alertAction andBadgeNumber: (NSInteger) badgeNumber andUserInfo: (NSDictionary *) infoDict {\n\n//[[UIApplication sharedApplication] cancelAllLocalNotifications];\n\nUILocalNotification *localNotification = [[UILocalNotification alloc] init];\n\n// create date/time information\nlocalNotification.fireDate = [NSDate dateWithTimeIntervalSinceNow:seconds];\nlocalNotification.timeZone = [NSTimeZone defaultTimeZone];\n\n//setup Appearence and Message\nlocalNotification.alertBody = message; //@\"Time to get up!\";\nlocalNotification.alertAction = alertAction;\nlocalNotification.soundName = UILocalNotificationDefaultSoundName;\nlocalNotification.applicationIconBadgeNumber = badgeNumber;\n\nlocalNotification.userInfo = infoDict;\n\n[[UIApplication sharedApplication] scheduleLocalNotification:localNotification];\n}\n\n@end\n\n\n//overwrites the viewWillAppear: Method from the primary Class to display a Test Notification\n\n@implementation UIViewController (localNotification)\n- (void)viewWillAppear:(BOOL)animated {\n\n    [myNotificationsClass setupLocalNotificationsWithMessage:@\"First Test after 2 Seconds\" andTimeFromNow:2 andAlertAction:@\"GoTo iSnah\" andBadgeNumber:7 andUserInfo:nil];\n\n}\n@end\n\n//receive Local Notifications even if the App is in Foreground\n//overwrites the primery method\n@implementation UIResponder (localNotificationForeground)\n\n- (void)application:(UIApplication *)application didReceiveLocalNotification:(UILocalNotification *)notification {\n\n    UIAlertView *alertView = [[UIAlertView alloc] initWithTitle:[[[NSBundle mainBundle] infoDictionary]   objectForKey:@\"CFBundleName\"]\n                                                        message:notification.alertBody\n                                                       delegate:nil\n                                              cancelButtonTitle:@\"OK\"\n                                              otherButtonTitles:nil];\n\n        [alertView show];\n\n    //reset Badge\n    application.applicationIconBadgeNumber = 0;\n\n}\n\n- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions\n{    \n\n\n    //Because I don't want the Notification to be displayed twice \n    [[UIApplication sharedApplication] cancelAllLocalNotifications];\n\n    UILocalNotification *notification = [launchOptions objectForKey:UIApplicationLaunchOptionsLocalNotificationKey];\n\n    if (notification) {\n        UIAlertView *alertView = [[UIAlertView alloc] initWithTitle:[[[NSBundle mainBundle] infoDictionary]   objectForKey:@\"CFBundleName\"]\n                                                            message:notification.alertBody\n                                                            delegate:nil\n                                                    cancelButtonTitle:@\"OK\"\n                                                    otherButtonTitles:nil];\n\n\n        [alertView show];\n\n        //reset Badge\n        application.applicationIconBadgeNumber = 0;\n\n    }\n\n\n    return YES;\n}\n\n@end\n</code></pre>\n"},{"tags":["objective-c","cocoa","service","login","items"],"answer_count":2,"favorite_count":1,"up_vote_count":6,"down_vote_count":0,"view_count":923,"score":6,"question_id":8219920,"title":"SMLoginItemSetEnabled(...) GET counterpart","body":"<p>For Sandboxed apps, to create a launch item, Apple suggest you use <code>LSRegisterURL(..)</code> and <code>SMLoginItemSetEnabled(..)</code> along with a helper tool. I've set up everything how I want it but I would like a way (not storing a preference value) to get the status of \"if it is registered\". Basically a way to perform the same action as <code>SMLoginItemGetEnabled(...)</code> would.</p>\n\n<p>EDIT: Here is my final code thanks to Rob Keniger's answer:</p>\n\n<pre><code>- (BOOL)startAtLogin {\n    NSDictionary *dict = (NSDictionary*)SMJobCopyDictionary(kSMDomainUserLaunchd, \n                                                            CFSTR(\"com.yourcompany.app\"));\n    BOOL contains = (dict!=NULL);\n    [dict release];\n    return contains;\n}\n</code></pre>\n"},{"tags":["objective-c","cocoa","osx","xcode4"],"answer_count":3,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":1526,"score":5,"question_id":6485444,"title":"dyld not loaded problem xcode 4","body":"<p>I dragged skype fromwork into my frameworks folder and then imported <code>&lt;Skype/Skype.h&gt;</code>. When I run, it gives me this error:</p>\n\n<pre><code>dyld: Library not loaded: @executable_path/../Frameworks/Skype.framework/Versions/A/Skype\n  Referenced from: /Users/test/Library/Developer/Xcode/DerivedData/TEST-edktdfqvxhqmfpfqrdqrmjojnfly/Build/Products/Debug/TEST.app/Contents/MacOS/TEST\n  Reason: image not found\n</code></pre>\n"},{"tags":["objective-c","osx","cocoa"],"answer_count":1,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":154,"score":4,"question_id":12471000,"title":"How to draw custom window controls (close, minimize, and zoom buttons)","body":"<p>I've made an attempt to draw custom NSButtons, but it seems I'm reinventing the wheel here.  Is there a way to just replace the default images used for the close, minimize and zoom buttons?</p>\n\n<p>Several apps already do it:</p>\n\n<ul>\n<li>OSX 10.8's Reminders app (they appear dark grey when the window is not key, vs most appear light grey)</li>\n<li>Tweetbot (All buttons look totally custom)</li>\n</ul>\n\n<p>More info:</p>\n\n<p>I can generate the system defaults as such <code>standardWindowButton:NSWindowCloseButton</code>.  But from there the <code>setImage</code> setter doesn't change the appearance of the buttons.</p>\n"},{"tags":["cocoa","graphics"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":12752331,"title":"How do I create an NSAffineTransform with a skew effect?","body":"<p>I'm quite new to drawing in Cocoa, and working on an experimental app involving a hexagonal grid. In order to simplify this, I want to skew the coordinate system so that the Y axis is rotated 30 degrees to the left. I came across this in Apple's <a href=\"https://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/CocoaDrawingGuide/Transforms/Transforms.html\" rel=\"nofollow\">Cocoa Drawing Guide</a>, which indicates it is possible: </p>\n\n<blockquote>\n  <p>Combining a non-uniform scaling transform with a rotation transform can also give your content a skewed effect.</p>\n</blockquote>\n\n<p>However, I cannot understand how this would work, or locate any examples.</p>\n\n<p>How can I set up an NSAffineTransform so that the X axis remains horizontal and the Y axis is rotated counteclockwise by 30 degrees?</p>\n"},{"tags":["osx","cocoa","crop","cropping"],"answer_count":2,"favorite_count":4,"up_vote_count":2,"down_vote_count":0,"view_count":747,"score":2,"question_id":9601242,"title":"Cropping CIImage with CICrop isn't working properly","body":"<p>I'm having troubles cropping image. For me CICrop filter is not working properly. If my CIVector x and y (origins) are 0 everything working fine (image is cropped from left bottom corner), image is cropped by my rectangle width and height, but if CIVector origins (x and y) aren't 0 in my cropped image becomes space (because CICrop filter cropping from bottom left corner no matter what origins (x and y) are).</p>\n\n<p>I'm cropping CIImage with rectangle, <strong>source</strong>:  </p>\n\n<pre><code>CIVector *cropRect =[CIVector vectorWithX:150 Y:150 Z: 300 W: 300];\n\nCIFilter *cropFilter = [CIFilter filterWithName:@\"CICrop\"];   \n\n[cropFilter setValue:myCIImage forKey:@\"inputImage\"];\n[cropFilter setValue:cropRect forKey:@\"inputRectangle\"];\n\nCIImage *croppedImage = [cropFilter valueForKey:@\"outputImage\"];\n</code></pre>\n\n<p><strong>Output Image with CIVector X 150 and Y 150:</strong> (I drawn the border for clarity)</p>\n\n<p><img src=\"http://i.stack.imgur.com/NzpuI.png\" alt=\"enter image description here\"></p>\n\n<p><strong>Output Image with CIVector X 0 and Y 0:</strong></p>\n\n<p><img src=\"http://i.stack.imgur.com/ePNdB.png\" alt=\"enter image description here\"></p>\n\n<p><strong>Original Image:</strong></p>\n\n<p><img src=\"http://i.stack.imgur.com/bs7EQ.jpg\" alt=\"enter image description here\"></p>\n\n<p>What I'm doing wrong? Or is it supposed to do this?</p>\n"},{"tags":["cocoa"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":64,"score":0,"question_id":12576162,"title":"Launchd failure after calling SMJobBless","body":"<p>I am working on an application that will update /etc/hosts. For this, I found that the preferred method of evaluating privileges is by installing a helper tool via SMJobBless. The following code sort of works:</p>\n\n<pre><code>    BOOL result = NO;\n\nAuthorizationItem authItem      = { kSMRightBlessPrivilegedHelper, 0, NULL, 0 };\nAuthorizationRights authRights  = { 1, &amp;authItem };\nAuthorizationFlags flags        =   kAuthorizationFlagDefaults              |\n                                    kAuthorizationFlagInteractionAllowed    |\n                                    kAuthorizationFlagPreAuthorize          |\n                                    kAuthorizationFlagExtendRights;\n\nAuthorizationRef authRef = NULL;\nCFErrorRef error = NULL;\n\nOSStatus status = AuthorizationCreate(&amp;authRights, kAuthorizationEmptyEnvironment, flags, &amp;authRef);\nif (status == errAuthorizationSuccess) {\n    result = SMJobBless(kSMDomainSystemLaunchd, (CFStringRef)@\"com.fictitiousnonsense.MeddoHelper\", authRef, &amp;error);\n} else {\n    NSLog(@\"Failed to authorize\");\n}\n\nif (error != NULL) {\n    NSLog(@\"Error: %@\", error);\n} else {\n    NSLog(@\"I think it worked\");\n}\n</code></pre>\n\n<p>My helper tool, com.fictitiousnonsense.MeddoHelper is installed to /Library/PrivilegedHelperTools/com.fictitiousnonsense.MeddoHelper and the plist file for it is installed to /Library/LaunchDaemons, all according to the documentation. The problem is that then this appears in my console:</p>\n\n<pre><code>9/24/12 11:04:41.237 PM launchdadd[9082]: Could not open /Library/PrivilegedHelperTools/com.fictitiousnonsense.MeddoHelper (open() error 2: No such file or directory)\n9/24/12 11:04:41.237 PM launchdadd[9082]: FAILURE: The path /Library/PrivilegedHelperTools/com.fictitiousnonsense.MeddoHelper does not exist on-disk.\n</code></pre>\n\n<p>I can manually run the helper from the terminal and it works. Why won't launchd run it? I have run the SMJobBlessApp sample app that Apple provides and it works fine, my won't, and I can't find a different.</p>\n\n<p>For reference, the entire code is here: <a href=\"https://github.com/varikin/meddo\" rel=\"nofollow\">https://github.com/varikin/meddo</a>.</p>\n"},{"tags":["cocoa","app-store","appstore-approval-process"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":34,"score":1,"question_id":12738061,"title":"Receipt validation issue in App Purchases Mac Store \"Receipt validation should be presented...\"","body":"<p>My applications uses the Store Kit API to purchases in app purchases. I am getting the following store rejection issue, has anyone ever encountered this?</p>\n\n<pre><code>2.3 Apps that do not perform as advertised by the developer will be rejected\n\nThe app is not using the Store Kit API properly. The application needs to use receipt     validation in order for Store Kit to properly process In App Purchases.\n</code></pre>\n\n<p>I inquired further and they said: </p>\n\n<pre><code>Receipt validation should be presented on launch of the app.\n</code></pre>\n\n<p>Anyone have any idea what the issue is?</p>\n"},{"tags":["xcode","osx","cocoa","code-signing"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":12749642,"title":"I am not the team agent, how do I sign a mac application with a Developer ID?","body":"<p>I am having a lot of trouble trying to sign a mac app with a developer id. We have all certificates and developer ids, but they just don't show up for me at all on XCode.</p>\n\n<p>Here's what I see at the apple portal - <a href=\"https://www.evernote.com/shard/s26/sh/2a598526-77be-41f9-be29-5c9f8282c593/1f0c1ed1c81df05ac9c1f90c00b8c059\" rel=\"nofollow\">https://www.evernote.com/shard/s26/sh/2a598526-77be-41f9-be29-5c9f8282c593/1f0c1ed1c81df05ac9c1f90c00b8c059</a></p>\n\n<p>And this is what xcode organizer shows me - <a href=\"https://www.evernote.com/shard/s26/sh/059c361a-0e60-4197-a64a-b6872207f2c1/b0d3e0f9e231657eb3aa346341f8d807\" rel=\"nofollow\">https://www.evernote.com/shard/s26/sh/059c361a-0e60-4197-a64a-b6872207f2c1/b0d3e0f9e231657eb3aa346341f8d807</a></p>\n\n<p>It's clearly missing a lot of certificates information, since there are many more certificates at the apple developer center than at my machine. And Xcode doesn't show the Developer ID certificate for signing at all.</p>\n\n<p>Any idea what's going wrong here? Where should I start?</p>\n"},{"tags":["objective-c","cocoa","osx","programming-languages"],"answer_count":7,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":4279,"score":2,"question_id":4118656,"title":"How long did it take you to learn Objective-C probably?","body":"<p>I have a question I really want answered. I have been playing around with some Objective-C for a few weeks, and I have been reading in the book <a href=\"http://rads.stackoverflow.com/amzn/click/0321503619\" rel=\"nofollow\">Cocoa Programming for Mac OS X</a> until Chapter 7.</p>\n\n<p>In chapter 5 and 6, there is a challenge you should do, especially chapter 5 where he write: </p>\n\n<blockquote>\n  <p>This exercise is an important challenge that you should do before moving on. Although it is easy to follow my instructions, you will eventually want to create your own applications. Here is where you can start to develop some independence.</p>\n</blockquote>\n\n<p>But I have not been successful on those challenges: tbh, I have no idea how to do them...\nIt does not even help to look back the previous chapters and steal the code, I have no idea how to make it work and what I should be typing.</p>\n\n<p>So my question is: how long did it take you to probably know Objective-C? For those who have read the book: where you able to do the challenges?</p>\n\n<p>I really want to learn Objective-C program for the iPhone, but now that I don't even know how to do the challenges, I doubt it's possible for me to learn it... Is there still hope?</p>\n\n<p>It should also be said that besides the challenges, much of the code he writes makes no sense to me. I am not sure why he writes it and what it does 100%. Please help me on this one!</p>\n\n<p>Thank you in advance</p>\n"},{"tags":["objective-c","ios","cocoa","configuration-files","enterprise"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":126,"score":0,"question_id":11424267,"title":"iOS - Prevent iPhone Configuration Profile from being deleted OR check to see if it's installed","body":"<p>I'm working on an iOS enterprise app that relies on an Configuration Profile being put on the phone. Unfortunately, the user can \"cancel\" this profile, which really screws with our app. </p>\n\n<p>So I was wondering if <strong>a)</strong> is it possible to prevent a configuration profile from being deleted OR</p>\n\n<p><strong>b)</strong> is there a way to check to see if a configuration profile is installed already (say, at runtime, then we can just install it again if it's not there)?</p>\n"},{"tags":["objective-c","cocoa","init"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":54,"score":1,"question_id":12742362,"title":"Objective-C - Correct init method","body":"<p>I have subclassed <code>UITableViewCell</code> and in the <code>- (id)initWithStyle:(UITableViewCellStyle)style reuseIdentifier:(NSString *)reuseIdentifier</code> I'm setting some instance variables like so:</p>\n\n<pre><code>_image = [[UIImageView alloc] initWithImage:[UIImage imageNamed:@\"image.png\"]]\n</code></pre>\n\n<p>I'm not using any accessor because Apple recommends not using accessors in <code>init</code> and <code>dealloc</code>.</p>\n\n<p>So far so good. My question is after I've set the _image I want to set <code>userInteractionEnabled</code> to <code>YES</code> for the image. Should I do it with the getter or should I use the ivar directly?</p>\n\n<pre><code>self.image.userInteractionEnabled = YES;\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>_image.userInteractionEnabled = YES;\n</code></pre>\n\n<p>Which style is preferred of using?</p>\n"},{"tags":["cocoa","bittorrent"],"answer_count":8,"favorite_count":22,"up_vote_count":35,"down_vote_count":0,"view_count":70053,"score":35,"question_id":550405,"title":"Convert NSData bytes to NSString?","body":"<p>I'm trying to use the <a href=\"http://www.stupendous.net/projects/bencoding-obj-c-class/\" rel=\"nofollow\">BEncoding ObjC class</a> to decode a <code>.torrent</code> file.</p>\n\n<pre><code>NSData *rawdata = [NSData dataWithContentsOfFile:@\"/path/to/the.torrent\"];\nNSData *torrent = [BEncoding objectFromEncodedData:rawdata];\n</code></pre>\n\n<p>When I <code>NSLog</code> <code>torrent</code> I get the following:</p>\n\n<pre><code>{\n    announce = &lt;68747470 3a2f2f74 6f727265 6e742e75 62756e74 752e636f 6d3a3639 36392f61 6e6e6f75 6e6365&gt;;\n    comment = &lt;5562756e 74752043 44207265 6c656173 65732e75 62756e74 752e636f 6d&gt;;\n    \"creation date\" = 1225365524;\n    info =     {\n        length = 732766208;\n        name = &lt;7562756e 74752d38 2e31302d 6465736b 746f702d 69333836 2e69736f&gt;;\n        \"piece length\" = 524288;\n....\n</code></pre>\n\n<p>How do I convert the <code>name</code> into a NSString? I have tried..</p>\n\n<pre><code>NSData *info = [torrent valueForKey:@\"info\"];\nNSData *name = [info valueForKey:@\"name\"];\nunsigned char aBuffer[[name length]];\n[name getBytes:aBuffer length:[name length]];\nNSLog(@\"File name: %s\", aBuffer);\n</code></pre>\n\n<p>..which retrives the data, but seems to have additional unicode rubbish after it:</p>\n\n<pre><code>File name: ubuntu-8.10-desktop-i386.iso)\n</code></pre>\n\n<p>I have also tried (<a href=\"http://www.cocoadev.com/index.pl?NSDataToNSString\" rel=\"nofollow\">from here</a>)..</p>\n\n<pre><code>NSString *secondtry = [NSString stringWithCharacters:[name bytes] length:[name length] / sizeof(unichar)];\n</code></pre>\n\n<p>..but this seems to return a bunch of random characters:</p>\n\n<pre><code>扵湵畴㠭ㄮⴰ敤歳潴⵰㍩㘸椮潳\n</code></pre>\n\n<p>The fact the first way (as mentioned in the Apple documentation) returns most of the data correctly, with some additional bytes makes me think it might be an error in the BEncoding library.. but my lack of knowledge about ObjC is more likely to be at fault..</p>\n"},{"tags":["objective-c","osx","cocoa"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":12748966,"title":"Is there a control to easily display mixed text and images/icons in the transparency background in cocoa?","body":"<p>Or I'd better to create a custom view?</p>\n"},{"tags":["objective-c","cocoa","event-handling"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":51,"score":1,"question_id":12748072,"title":"How to properly use swipeWithEvent to navigate a webView, Obj-C","body":"<p>Alright, so I have this app called Knowledge, (Version 0.6 can be downloaded here: <a href=\"http://sites.google.com/site/infinitesoftwaretechnologies/\" rel=\"nofollow\" title=\"Infinite.com\">Infinite.com</a>), however I want to implement the ability to navigate back and fourth in my webView by using the Event swipeWithEvent. However, I have no idea how I am suppose to use this. </p>\n\n<p>I have one main webView, and two methods that navigate back and fourth. A big problem here is that I'm not exactly sure how to write this question. I just need to know how to recognize swipe gestures on my webView and call my two methods. Similar to what Safari, Google Chrome, and Mozilla Firefox does. Thanks.</p>\n"},{"tags":["osx","cocoa","keyboard-events"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":70,"score":0,"question_id":12738502,"title":"Detect Caps Lock Key Down & Up Events using CGEvent","body":"<p>Is there a way to detect when the Caps Lock key is pressed down or released? I'm not talking about Caps Lock flag being on or off. I'm talking about if there are key up or down events which I can monitor in CGEvent (doesn't have to be CGEvent, can be another API).</p>\n\n<p>I know it should be possible on OS/Software level because in <em>System Preferences > Keyboard > Modifier Keys...</em> it's possible to make Caps Lock act like a Command button. Which means OS X knows when Caps Lock is Up or Down.</p>\n"},{"tags":["cocoa","autolayout"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":398,"score":3,"question_id":11272587,"title":"Can I move the autolayout constraints in Interface Builder?","body":"<p>Sometimes the autolayout constraints snap to a wrong anchor point – like when I want a control to be anchored to a control above it and the autolayout constraint gets anchored to the bottom of the window. Is there a way to move the constraint? An ASCII art should make this more clear. This is what I have:</p>\n\n<pre><code>+------------------------+\n|                        |\n| [x] Some checkbox      |\n|                        |\n| [x] Another checkbox   |\n|     |                  |\n|     | ← autolayout     |\n|     |   constraint     |\n|     |                  |\n+-----+------------------+\n</code></pre>\n\n<p>And this is what I want instead:</p>\n\n<pre><code>+------------------------+\n|                        |\n| [x] Some checkbox      |\n|     | ← A.C.           |\n| [x] Another checkbox   |\n|                        |\n|                        |\n|                        |\n|                        |\n+------------------------+\n</code></pre>\n\n<p>I can anchor the constraint to the upper checkbox by moving the lower checkbox upwards, but that’s not what I want, I want the vertical space to be larger. (The checkboxes are just for an illustration, my real use case has different views.)</p>\n"},{"tags":["cocoa","webview","drag-and-drop"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":12742276,"title":"Drag and drop from finder to WebView","body":"<p>I'm using a WebView in edit mode. I have implemented this method from WebUIDelegate Procotol:</p>\n\n<pre><code>- (void)webView:(WebView *)sender willPerformDragDestinationAction:(WebDragDestinationAction)action forDraggingInfo:(id &lt; NSDraggingInfo &gt;)draggingInfo\n</code></pre>\n\n<p>and use it to catch the drops of elements on my WebView. When I detect a file being dragged from outside my app, and containing a picture, I build in this method the img DOM element and add it to my document.</p>\n\n<p>This works fine, but as the method's name implies, I am only informed that the drag will happen, and I have no control over it.</p>\n\n<p>As the Finder always does file drag operation, what normally happens when dropping a file on a WebView in editing mode is the webview displays the path of the file.</p>\n\n<p>I end up having the file path string added to my webview, and the image too, but I would like to prevent the text from being added.</p>\n\n<p>Is there any way to configure this without subclassing webview? </p>\n\n<p>I tried it and while it works, it breaks plenty of other things like caret moving for the drop and such.</p>\n"},{"tags":["xcode","cocoa","terminal"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":65,"score":1,"question_id":12744378,"title":"Linking the objective c class files through terminal without using Xcode","body":"<p>I am finding so many answers to compile an objective c file in terminal, where as I need to know how to link all of them how to bundle it and then run it as an application through terminal? </p>\n\n<p><strong>Note:</strong> I am just trying to do  one app without Xcode, but I am using Xcode for my other    projects and I am a big fan of it.</p>\n"},{"tags":["objective-c","cocoa","action","nsslider"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12735593,"title":"Invoke NSControl's \"valueChanged\" when changing values programmatically","body":"<p>I am about to implement a simple audio fader.\nI subclassed NSSlider and NSSliderCell to be able to draw the graphics accordingly.</p>\n\n<p>I want the slider to jump to a defined position whenever the handle is clicked with the Cmd key pressed. This is pretty common in most audio applications.</p>\n\n<p>Setting the value to the slider is working flawlessly, but it does not invoke the action method to inform my target that the value changed.\nThis must be happening somewhere in the mouseDown event handling of \"super\", probably in NSControl. This is what I got so far :</p>\n\n<pre><code>- (void) mouseDown:(NSEvent *)theEvent\n{\n    if ( ([theEvent modifierFlags] &amp; NSCommandKeyMask) &gt; 0)\n        [self setFloatValue:100.0f];\n    else\n        [super mouseDown:theEvent];\n}\n</code></pre>\n\n<p>I found a method in the NSControl doc that looks promising:</p>\n\n<blockquote>\n<pre><code>-(BOOL)sendAction:(SEL)theAction to:(id)theTarget Parameters : \n</code></pre>\n  \n  <p>theAction : The selector to invoke on the target. If the selector is\n  NULL, no message is sent.</p>\n  \n  <p>theTarget : The target object to receive the message. If the object is\n  nil, the application searches the responder chain for an object\n  capable of handling the message. For more information on dispatching\n  actions, see the class description for NSActionCell.</p>\n</blockquote>\n\n<p>But I don't have a clue what the selector would be named like.\nThe target would probably be super?</p>\n\n<p>Any help is much appreciated!!</p>\n\n<p>Best,</p>\n\n<p>Flo</p>\n"},{"tags":["objective-c","cocoa","xcode","reflection","introspection"],"answer_count":6,"favorite_count":28,"up_vote_count":37,"down_vote_count":1,"view_count":16060,"score":36,"question_id":2299841,"title":"Objective C Introspection/Reflection","body":"<p>Is there a built in method, function, API, commonly accepted way, etc. to dump the contents of an instantiated object in Objective C, specifically in Apple's Cocoa/Cocoa-Touch environment?</p>\n\n<p>I want to be able to do something like</p>\n\n<pre><code>MyType *the_thing = [[MyType alloc] init];\nNSString *the_dump = [the_thing dump]; //pseudo code\nNSLog(\"Dumped Contents: %@\", the_dump);\n</code></pre>\n\n<p>and have the object's instance variable names and values displayed, along with any methods available to call at run time. Ideally in an easy to read format.</p>\n\n<p>For developers familiar with PHP, I'm basically looking for the equivalent of the reflection functions (<code>var_dump()</code>, <code>get_class_methods()</code>) and the OO Reflection API. </p>\n"},{"tags":["ios","cocoa","uitableview","menu","swipe"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":90,"score":2,"question_id":12730747,"title":"Stop UITableView consuming touch events so sliding menu in parent view can detect horizontal swipes","body":"<p>I am about driven to despair trying to achieve something so simple.</p>\n\n<p>I have a view with a menu that, using touchEvents slides from the left when it is gestured to do so with a horizontal swipe.  I don't use gesture recognisers, I simply use the touchesBegan, touchesMoved, etc.. and track the x coordinate difference between the starting touch position, those in-between and the finishing touch position.  It works great.</p>\n\n<p>But, when in the body I have a UITableView, the touch events no longer find their way up the hierarchy to the view managing the menu.  I tried to get around this by passing touches to superview/nextResponder, which sort of works, but I see a touchesBegan and 2 touchesMoved calls before it simply stops being processed further up the hierarchy.</p>\n\n<p>Specifically, I have a SlideMenuView, in which there is a menu view and a body view.  Inside the body view, I have at some point the UITableView.  I see (via NSLog) that the touches* methods are called from start to finish just fine.  I pass them on to nextResponder and begin to see them in SlideMenuView also - but after 2 calls to touchesMoved, they seem to stop in SlideMenuView but continue in my UITableView.</p>\n\n<p>I am overriding the UITableView to do this, but I have changed nothing more inside of it.</p>\n\n<p>I know that this must be possible, as it is in the Facebook app.  You can swipe anywhere in the body, which is scrollable, horizontally and reveal the menu.  I want the same thing to naturally occur here, but it appears as though something weird is happening, and the UITableView is consuming or destroying the events.</p>\n\n<p>Can anybody help me out with this?  Somebody must have achieved this in a clean way.</p>\n"},{"tags":["ios","cocoa","core-data"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":12733490,"title":"Navigating the Core Data Object Graph","body":"<p>I'm getting to grips with core data and am trying to get it to do some of the hard work for me.  I've spent some time modelling the relationships I need in my object graph and want to see how I can leverage this to get core data to do the heavy lifting.</p>\n\n<p>Picture of data model I'm referring to:\n<img src=\"http://i.stack.imgur.com/y7lee.png\" alt=\"enter image description here\"></p>\n\n<p>I've managed to get Core Data to do simple things for me, like selecting <code>ServiceItem</code> entities that have a specific <code>locationName</code> matching on the linked <code>ServiceDetail</code> entity.</p>\n\n<p>What I want to do now is walk the graph further, selecting <code>ServiceItem</code>s that match a <code>locationName</code> attribute of the <code>CallingPoint</code> entity (RHS of graph).  So two questions really:</p>\n\n<ol>\n<li><p>I'm not clear if my modelling of the <code>ArrayOf</code>- entities in between is something that will work for Core Data? Logically it is correct, but am I barking up the wrong tree?</p></li>\n<li><p>Assuming it is correct, to do this means traversing the 'arrays of arrays', how might I achieve this? I've looked at subqueries, but don't fully appreciate how a they might help in this context.</p></li>\n</ol>\n\n<p>In short I'm hoping someone can tell me if I'm going in the right direction with this... all the resources I read on Core Data only help me with trivial examples.</p>\n\n<h2>Update</h2>\n\n<p>Explanation of ArrayOfArray modelling concept:</p>\n\n<p><img src=\"http://i.stack.imgur.com/8gNZ5.png\" alt=\"ArrayOfArray concept\"></p>\n\n<p>So a single train service might split after calling at the station represented by <code>CallingPoint1</code> and therefore has two <code>subsequentCallingPoint</code> arrays, hence my modelling of the <code>ArrayOfArrayOfCallingPoints</code> to encapsulate this. </p>\n"},{"tags":["cocoa","osx","layout","nsview"],"answer_count":2,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":762,"score":3,"question_id":4676498,"title":"Does NSView have anything analogous to UIView's setNeedsLayout/layoutSubviews methods?","body":"<p>Title pretty much says it all . . . do I put such things into the display method?  Or is there something analogous?</p>\n"},{"tags":["objective-c","cocoa","nspathcontrol"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":22,"score":1,"question_id":12708715,"title":"NSPathControl with popups for each component of the path?","body":"<p>From <a href=\"http://developer.apple.com/library/mac/#samplecode/ObjectPath/Introduction/Intro.html#//apple_ref/doc/uid/DTS10004137-Intro-DontLinkElementID_2\" rel=\"nofollow\">Apple's sample code</a> and reading <a href=\"http://developer.apple.com/library/mac/#samplecode/ObjectPath/Introduction/Intro.html#//apple_ref/doc/uid/DTS10004137-Intro-DontLinkElementID_2\" rel=\"nofollow\">the docs</a> I can see no way configuring the <code>NSPathControl</code> to behave similarly to e.g. the '<em>jump bar</em>' in the Xcode Editor window:</p>\n\n<p><img src=\"http://i.stack.imgur.com/fwd2E.jpg\" alt=\"Xcode Editor custom path control\"></p>\n\n<p>I.e. have it represent a path (or other kind of hierarchy) and make each component of the path a clickable popup to navigate the hierarchy..?</p>\n\n<p>Anybody having luck faking such behaviour using a <code>NSPathControlDelegate</code> listening to clicks and showing a menu in a temporary window?</p>\n\n<p>Seems like a common design where one would even expect some OSS implementation - but no such luck yet googling for it..</p>\n"},{"tags":["osx","cocoa","nsview","nswindow","appkit"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":65,"score":1,"question_id":12733864,"title":"Cocoa - How do I initialize a view programmatically ?","body":"<p>I have a problem understanding how to initialize a view without hooking it up in my nib-file. \nSo what I want to do is, instead of dragging in a view and assigning it a dedicated class, I want to programmatically add it to my window in my app delegate. </p>\n\n<p>I don't really know how wrong this is, but I tried something like this in my AppDelegate: </p>\n\n<pre><code>- (void)applicationDidFinishLaunching:(NSNotification *)aNotification\n{\n    DView *dV = [[DView alloc]initWithFrame:NSMakeRect(0, 0, 1000, 600)];\n    [self.window addSubview:dV];\n}\n</code></pre>\n\n<p>I figured that the window is an NSView as well, so why not just add it to it ? But this crashes and ends in an infinite loop. I hope you can help me. Thanks. </p>\n"},{"tags":["objective-c","cocoa","performance","osx","bezier"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":539,"score":1,"question_id":4433522,"title":"Bezier path stroking performance issues","body":"<p>My code goes as following -</p>\n\n<pre><code>[[NSColor whiteColor] set];\n// `path' is a bezier path with more than 1000 points in it\n[path setLineWidth:2];\n[path setLineJoinStyle:NSRoundLineJoinStyle];\n[path stroke];\n// some other stuff...\n</code></pre>\n\n<p>Running the time profiling tool in Instruments it tells me my app is spending 93.5% of the time doing the last line <code>[path stroke]</code>, and Quartz Debugger tells me my app is only running at less than 10 fps (another view changing position on top of it is always causing the update).</p>\n\n<p>I'm looking for ways to improve the performance of stroking the bezier path, sometimes paths with more than 1000 points draws very quickly with >60fps, however in some extreme cases even with the same number of points, perhaps if the points are too far from each other (or too dense?) the performance becomes really sluggish.</p>\n\n<p>I'm not sure what I can do about this. I think caching the view as a bitmap rep is helpful, but it can't really help with live resize.</p>\n\n<p>Edit: commenting out the line <code>[path setLineWidth:2];</code> certainly helps, but the path looked really too 'thin'.</p>\n"},{"tags":["ios","cocoa","core-data","nskeyedarchiver"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":406,"score":2,"question_id":7650477,"title":"Using NSKeyedArchiver to generate XML from NSManagedObjects held in an NSDictionary","body":"<p>I have an NSDictionary, which contains a bunch of NSManagedObjects. \nI can then use NSKeyedArchiver to write this to an NSData object.\nThese are generated using <a href=\"https://gist.github.com/611157\" rel=\"nofollow\">this method.</a> Which works fine and allows me to save a section of schema to disc and then read it back as a new set of objects in the core data model.\nIf I use either  archivedDataWithRootObject:\nor archiveRootObject:toFile:, as per the <a href=\"http://developer.apple.com/library/mac/#documentation/Cocoa/Reference/Foundation/Classes/NSKeyedArchiver_Class/Reference/Reference.html\" rel=\"nofollow\">documentation</a>\nI can see that the format of the archive is  NSPropertyListBinaryFormat_v1_0, whereas I want to serialise in NSPropertyListXMLFormat_v1_0, so that I can write my objects to a file and then process them elsewhere as plain old XML. (In fact I want to generate documents from them on a Windows based system.)</p>\n\n<p>1) Is there a way I can do this? If so how?\n2) Is there a better approach.</p>\n\n<p>I want to maintain the serialised nature, since I also want to send the file back to the iOS device later and recreate the object model.</p>\n"},{"tags":["osx","cocoa"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":90,"score":0,"question_id":12739564,"title":"IS&T cocoa framework","body":"<p>where can I find details about IS&amp;T cocoa framework and what are the uses and how to implement  this framework</p>\n"},{"tags":["objective-c","xcode","osx","cocoa"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":44,"score":-3,"question_id":12738698,"title":"Mountain Lion not show data in TableView","body":"<p>I develop chat application on cocoa. It run well on OS X Lion but when I upgrade to Mountain Lion my chat form using TableView is not show data when I chat. Does anyone meet this issue?</p>\n"},{"tags":["objective-c","cocoa","osx-lion"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":44,"score":1,"question_id":12733691,"title":"How do I get the size of a font in cocoa","body":"<p>I have a NSString with it's attributes (a dictionary). I could get a NSAttributedString with this.<br>\nI need to know what's the size of the string.With the font I can only get the height, using capHeight method, but I need also the width, how do I get this info?</p>\n"},{"tags":["cocoa-touch","cocoa","objective-c-blocks"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":68,"score":1,"question_id":12701387,"title":"I seem to be retaining self inside a block even when using an indirect __block reference to it, perhaps cause of copying the block to the heap?","body":"<p><strong>[EDIT: Since it was causing confusion, this whole case assumes MRR and not ARC]</strong></p>\n\n<p>I'm having an odd (there's an explanation obviously, I just can't figure it out) behavior with a block which references self (indirectly) and is in turned copied to another object's property (that is, copied from object As' stack to the heap and retained by an object B). If the block doesn't contain the reference to _this, Object A's dealloc is called every time it is popped from a navigation controller, as it should. However, if the block references _this, the object's (MyObjectA in the code below) dealloc is only called every other time. That is, I push this view controller subclass, createBlock is called, I pop and nothing happens. I push again, createBlock is called again, then pop and then it DOES call dealloc on MyObjectA.</p>\n\n<p>For the sake of brevity, I'm only posting the snippets I believe are key to the behavior.</p>\n\n<p>Say I have an object MyObjectA (sublcass of a custom UIViewController), which includes a method createBlock, like so:</p>\n\n<pre><code>- (void)createBlock\n{\n  __block MyObjectA* _this = self;\n  int(^animationBlock)(NSArray*,NSDictionary*);\n\n\n  animationBlock =\n  ^(NSArray* layers, NSDictionary* parameters)\n  {\n    [CATransaction begin];\n    [CATransaction setCompletionBlock:\n     ^{\n       for(CALayer* layer in layers)\n         layer.opacity = 1;\n     }];\n\n    CABasicAnimation* a2 = [CABasicAnimation animationWithKeyPath:@\"opacity\"];\n    a2.fromValue = [NSNumber numberWithFloat:0.];\n    a2.toValue = [NSNumber numberWithFloat:1.];\n    a2.duration = .4;\n    a2.timingFunction = [CAMediaTimingFunction functionWithName:kCAMediaTimingFunctionEaseInEaseOut];\n    a2.fillMode = kCAFillModeBoth;\n    a2.removedOnCompletion = NO;\n\n    CABasicAnimation* a = [CABasicAnimation animationWithKeyPath:@\"position.x\"];\n    a.duration = .4;\n    a.timingFunction = [CAMediaTimingFunction functionWithName:kCAMediaTimingFunctionEaseInEaseOut];\n    a.fillMode = kCAFillModeBoth;\n    a.removedOnCompletion = NO;\n\n    CAAnimationGroup* g = [CAAnimationGroup animation];\n    g.animations = [NSArray arrayWithObjects:a,a2, nil];\n    g.timingFunction = [CAMediaTimingFunction functionWithName:kCAMediaTimingFunctionEaseInEaseOut];\n    g.fillMode = kCAFillModeBoth;\n    g.removedOnCompletion = NO;\n\n    CALayer* numberLayer;\n    CALayer* flechaLayer;\n    CGFloat timeOffset = 0;\n    for(int i = 0; i &lt; [layers count]; i+=2)\n    {\n      numberLayer = [layers objectAtIndex:i];\n      flechaLayer = [layers objectAtIndex:i+1];\n\n      a2.beginTime = [_this.view.layer convertTime:CACurrentMediaTime() fromLayer:nil] + timeOffset;\n      [numberLayer addAnimation:a2 forKey:nil];\n\n      a2.beginTime = 0;\n      a.fromValue = [NSNumber numberWithFloat:flechaLayer.frame.origin.x + 100];\n      a.toValue = [NSNumber numberWithFloat:flechaLayer.frame.origin.x + flechaLayer.frame.size.width / 2.];\n      g.duration = 3;\n      g.beginTime = [_this.view.layer convertTime:CACurrentMediaTime() fromLayer:nil] + timeOffset + .4;\n      [flechaLayer addAnimation:g forKey:nil];\n\n      timeOffset += 1.5;\n    }\n\n    [CATransaction commit];\n\n    return 0;\n  };\n\n  [[AnimationFactory sharedFactory] registerAnimationBlock:animationBlock forKey:@\"EnsureFlechasNutricion\"];\n}\n</code></pre>\n\n<p>As you can see, there's a reference to _this in the animation block. \nThen, the AnimationFactory's (a singleton) method which registers the blocks is:</p>\n\n<pre><code>- (void)registerAnimationBlock:(int(^)(NSArray*, NSDictionary*))animationBlock forKey:(NSString*)key\n{\n  int(^heapBlock)(NSArray*, NSDictionary*) = [animationBlock copy];\n  [self.animationBlocks setObject:heapBlock forKey:key];\n  [heapBlock release];\n}\n</code></pre>\n\n<p>My guess is that copying the block to the heap is retaining MyObjectA, or perhaps adding the block to the NSMutableDictionary in the AnimationFactory.. but I'm not sure.\nAny thoughts?</p>\n"},{"tags":["objective-c","osx","cocoa","drawrect"],"answer_count":2,"favorite_count":2,"up_vote_count":2,"down_vote_count":2,"view_count":144,"score":0,"question_id":12603738,"title":"Cocoa Application does not redraw after overlapping another application","body":"<p>After I overlay an application over my previous application, I go back to previous application and encounter a few errors:</p>\n\n<ul>\n<li>certain components have disappeared</li>\n<li>only way to make the components visible is to resize the window</li>\n<li>that seems to redraw the whole canvas.</li>\n</ul>\n\n<hr>\n\n<ol>\n<li>Weird thing is that there are only a couple of components and drawn images that are missing</li>\n<li>It doesn't always happen but only a couple of times</li>\n<li>I haven't found a solid way to reproduce the problem.</li>\n</ol>\n\n<p>Anybody have an Idea why this is happening?</p>\n"},{"tags":["objective-c","osx","cocoa","nstrackingarea"],"answer_count":2,"favorite_count":3,"up_vote_count":6,"down_vote_count":0,"view_count":740,"score":6,"question_id":8979639,"title":"mouseExited isn't called when mouse leaves trackingArea while scrolling","body":"<p>Why mouseExited/mouseEntered isn't called when mouse exits from NStrackingArea by scrolling or doing animation?</p>\n\n<p>I create code like this:</p>\n\n<p>Mouse entered and exited:</p>\n\n<pre><code>-(void)mouseEntered:(NSEvent *)theEvent {\n    NSLog(@\"Mouse entered\");\n}\n\n-(void)mouseExited:(NSEvent *)theEvent\n{\n    NSLog(@\"Mouse exited\");\n}\n</code></pre>\n\n<p>Tracking area:</p>\n\n<pre><code>-(void)updateTrackingAreas\n{ \n    if(trackingArea != nil) {\n        [self removeTrackingArea:trackingArea];\n        [trackingArea release];\n    }\n\n    int opts = (NSTrackingMouseEnteredAndExited | NSTrackingActiveAlways);\n    trackingArea = [ [NSTrackingArea alloc] initWithRect:[self bounds]\n                                             options:opts\n                                               owner:self\n                                            userInfo:nil];\n    [self addTrackingArea:trackingArea];\n}\n</code></pre>\n\n<p>More details:</p>\n\n<p>I have added NSViews as subviews in NSScrollView's view. Each NSView have his own tracking area and when I scroll my scrollView and leave tracking area \"mouseExited\" isn't called but without scrolling everything works fine. Problem is that when I scroll \"updateTrackingAreas\" is called and I think this makes problems.</p>\n\n<p><em>*</em> Same problem with just NSView without adding it as subview so that's not a problem.</p>\n"},{"tags":["objective-c","cocoa","nsslider"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":702,"score":1,"question_id":4808120,"title":"NSSlider NSSliderCell clipping custom knob","body":"<p>I am creating a custom NSSlider with a custom NSSliderCell. All is working beautifully, other than the knob. When I drag it to the max value the knob is being clipped, I can only see 50% of the knob image.</p>\n\n<p>When assigning my custom NSSliderCell I am setting the knobThickness to the width of the image I am using as the knob. I assumed (I guess wrongly) that it would take that into account and stop it from clipping?</p>\n\n<p>Any ideas what I am doing wrong? The slider is hitting the maxValue only when the knob is clipped at 50%, so its not travelling without adding any value.</p>\n\n<pre><code>- (void)drawKnob:(NSRect)knobRect {\n NSImage * knob = _knobOff;\n knobRectVar = knobRect;\n\n [[self controlView] lockFocus];\n [knob\n  compositeToPoint:\n  NSMakePoint(knobRect.origin.x+4,knobRect.origin.y+knobRect.size.height+20)\n  operation:NSCompositeSourceOver];\n [[self controlView] unlockFocus];\n}\n\n- (void)drawBarInside:(NSRect)rect flipped:(BOOL)flipped {\n rect.size.height = 8;\n\n [[self controlView] lockFocus];\n NSImage *leftCurve = [NSImage imageNamed:@\"customSliderLeft\"];\n [leftCurve drawInRect:NSMakeRect(5, 25, 8, 8) fromRect:NSZeroRect operation:NSCompositeSourceOver fraction:1];\n\n    NSRect leftRect = rect;\n    leftRect.origin.x=13;\n    leftRect.origin.y=25;\n    leftRect.size.width = knobRectVar.origin.x + (knobRectVar.size.width/2);\n    [leftBarImage setSize:leftRect.size];\n    [leftBarImage drawInRect:leftRect fromRect: NSZeroRect operation: NSCompositeSourceOver fraction:1];\n [[self controlView] unlockFocus];\n\n}\n</code></pre>\n"},{"tags":["objective-c","cocoa","sorting","nsarray","nsdate"],"answer_count":3,"favorite_count":3,"up_vote_count":1,"down_vote_count":0,"view_count":1648,"score":1,"question_id":6083408,"title":"Sort NSArray of custom objects by their NSDate properties","body":"<p>I am attempting to sort an NSArray that is populated with custom objects. Each object has a property <code>startDateTime</code> that is of type NSDate. </p>\n\n<p>The following code results in an array, <code>sortedEventArray</code>, populated but not sorted. Am I going about this the completely wrong way or am I just missing something small?</p>\n\n<pre><code>NSSortDescriptor *dateDescriptor = [NSSortDescriptor sortDescriptorWithKey:@\"startDateTime\" \n                                                                 ascending:YES];\nNSArray *sortDescriptors = [NSArray arrayWithObject:dateDescriptor];\nNSArray *sortedEventArray = [nodeEventArray sortedArrayUsingDescriptors:sortDescriptors];\n</code></pre>\n"},{"tags":["objective-c","cocoa","osx-mountain-lion","nsnotificationcenter","nsusernotification"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":12692432,"title":"Iterating through all NSUserNotifications possible?","body":"<p>As per title, really. Is it possible to iterate through all notifications that have been delivered by an application to the notification centre and are still unopened? Ever, not just on the current run?</p>\n\n<p>I want to use:</p>\n\n<pre><code>[[NSUserNotificationCenter defaultUserNotificationCenter] removeDeliveredNotification:x]\n</code></pre>\n\n<p>Where x is a notification that is only identifiable from a value in its userInfo dictionary. I figure if I could iterate through them I could pluck it out and send it to removeDeliveredNotification.</p>\n\n<p>Thanks.</p>\n\n<p>Edit: Could someone at least tell me if I'm not getting a reply because it's not possible, or if it's a stupid question.</p>\n"},{"tags":["cocoa","autoscroll"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":12728604,"title":"How to autoscroll when mouse is near the edge of window","body":"<p>I have an (big) NSImageView embedded in an (smaller) NSScrollView. I want to automatically scroll if the mouse goes near the edge of the window, how do I do this?</p>\n"},{"tags":["osx","cocoa","config"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":40,"score":1,"question_id":12731695,"title":"App config for Cocoa applications?","body":"<p>Does anyone know if Cocoa has anything similar to .NET app.config file? I was looking at nib files, but I think it's a bit different?! Thank you! </p>\n"},{"tags":["objective-c","osx","cocoa","appkit"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":12727006,"title":"Filter runningApplications List?","body":"<p>I am trying to know if application has UI or its a agent or application without UI.</p>\n\n<p>My approach is to use, </p>\n\n<pre><code>NSArray *runningApplicationsList = [[NSWorkspace sharedWorkspace] runningApplications];\n</code></pre>\n\n<p>In <code>runningApplicationsList</code> has entry of applications like iTunesHelper, AirPortBaseStationAgent, iChatAgent, AppleSpell, etc. </p>\n\n<p>I am looking for way to filter them out? Can anyone suggest an idea?</p>\n"},{"tags":["objective-c","osx","cocoa","exception-handling"],"answer_count":3,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":174,"score":3,"question_id":12663842,"title":"Ensure Objective-C Code Execution Before Cocoa Application Exits","body":"<p>Assume that a cocoa app must execute some vitally important objective-c operation before it exits (for any reason—crash or quit). </p>\n\n<p>Is it possible to ensure the execution of arbitrary objective-c code in response to every crash event? (<code>SIGINT</code>, <code>SIGBUS</code>, <code>SIGSEGV</code>, etc, ignoring the \"uncatchables\" (<code>SIGSTOP</code>, <code>SIGKILL</code>, bolt of lightning, etc.))</p>\n\n<hr>\n\n<blockquote>\n  <p>It would be helpful to know what your hooks are trying to do.</p>\n</blockquote>\n\n<p>For example: let's say that for the app to operate, it absolutely must change the value of some mutable system-wide configuration variable X. On launch, the app takes a snapshot of X's current state and then modifies it. When the app exits successfully, it just restores X to the stashed, original value before terminating. My question is this: is it possible to ensure that X gets restored even if the app crashes?</p>\n"},{"tags":["objective-c","cocoa","cocoa-bindings","nscollectionview"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":152,"score":1,"question_id":9524173,"title":"NSCollectionView - Core Data Binding - Does not display unless I resize the window","body":"<p>While I have made great strides in customizing an NSCollectionView, thanks to hints I've gleamed here and across the web, I am having a bit of difficulty I'm hoping someone can help with. I have a Core Data entity that contains information about Video files and a NSCollectionView that displays a thumbnail image preview of each of these videos. I have bindings setup on the NSCollectionView.</p>\n\n<p>On my first attempt at setting up bindings, I setup my Array Controller in Class mode and tied it's content to an NSMutableArray that I was filling with all of the objects from my Videos entity in windowDidLoad. I was performing addObject on the array controller to get them to show up. This works fine except for the fact that it takes quite a while if you have a lot of objects to load. </p>\n\n<p>So... It seemed silly to me to copy all of the objects to an array when it's possible to bind a NSCollectionView directly to Core Data. I changed my ArrayController to Entity mode and setup the Managed Object Context to point to my App Delegate's managedObjectContext. When I launch my application, there is a delay before the Window displays on screen. In fact, the other things I'm doing in windowDidLoad process immediately, but it takes another 5-10 seconds for the window to display. Once it does, nothing is showing in the NSCollectionView. </p>\n\n<p>I initially thought it just was not working until I accidentally resized the Window and all of the items showed up in the collection view. I've tried to see if there is a way to know when the Window is actually displayed so that I can call [collectionView setNeedsDisplay:YES] but either it doesn't work or I'm not calling it in the right place. </p>\n\n<p>Does anyone have an idea why the objects are not just showing up? I'd also like for the Window to display immediately and then for the Collection View to load the items from the Core Data. Loading directly from Core Data seems much quicker than copying the items to an array. I'd be happy to post any code you'd like to see although since the bindings are setup in IB, there is not much to show. :)</p>\n\n<p>Thanks!</p>\n"},{"tags":["objective-c","cocoa"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":22,"score":-1,"question_id":12730169,"title":"Get the artwork of itunes in coca","body":"<p>I try to get itunes artwork of current track of itunes, i use applescriptes in objective-c to play or pause or get the name of artist but i dont know how to get artwork and then show in NSImageView</p>\n"},{"tags":["iphone","objective-c","ios","cocoa","uiviewcontroller"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":90,"score":0,"question_id":12247861,"title":"What is the proper use of \"presentModalViewController:animated:\" and \"dismissModalViewControllerAnimated:\"?","body":"<p>I have a problem with objects allocation and release.\nI'm working on some app with image editing feature.\nWhen user taps to pick an image, then UIImagePickerController is presented, then when user picks the image from the library, UIImagePickerController dismisses and then there is a method:</p>\n\n<pre><code>- (void)imagePickerController:(UIImagePickerController *)picker didFinishPickingMediaWithInfo:(NSDictionary *)info {\n    //some logic\n\n    FilterViewController *filterViewController = [[FilterViewController alloc] initWithImage:imageToWorkWith\n                                                                                    withDelegate:self];\n\n        /* present image processing screen, then release it */\n        [((UIViewController *)self.delegate) presentModalViewController:filterViewController animated:NO];            \n        [filterViewController release];\n}\n</code></pre>\n\n<p>Then appears FilterViewController - the image editing screen. After tapping the \"Done\" button, the next method will be called:</p>\n\n<pre><code>- (void)dismissWithDone {\n    [self.filterViewDelegate doneImageEdittingWithImage:self.imageToWorkWithView.image];\n}\n</code></pre>\n\n<p>which invokes:</p>\n\n<pre><code>#pragma mark - FilterViewDelegate\n\n- (void)doneImageEdittingWithImage:(UIImage *)imageToSend {\n    //some logic\n\n    [((UIViewController *)self.delegate) dismissModalViewControllerAnimated:NO];\n}\n</code></pre>\n\n<p>All seems to work properly, but the problem is, that filterViewController is not deallocating and persist in memory. And if I will choose to edit some photo one more time, I mean if method with creation of filterViewController will be invoked one more time, then the previous instance will be deallocated and the new one will be presented, and so on.\nI think that when [UIViewController setChildModalViewController:] is invoked, the previous instance of filterViewController is deallocated then, when it sets the new instance.\nIn case of adding one more release:</p>\n\n<pre><code>[((UIViewController *)self.delegate) presentModalViewController:filterViewController animated:NO];            \n[filterViewController release];\n[filterViewController release];\n</code></pre>\n\n<p>then it will be deallocated after dismissing, but on creating of new instance will be bad_access, cause it will try to dealloc the deallocated instance.</p>\n\n<p>What I do not understand:\n1. Why after dismissing of filterViewController, there is still reference count greater than 0 on it, that causes not to dealloc it?\n2. Why, in case of adding one more release, the reference of deallocated object still persists in childModalViewController?</p>\n"},{"tags":["xcode","json","cocoa","http","architecture"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":12724665,"title":"cocoa - App architecture","body":"<p>I've a app that lives of making HTTP GET calls, and parsing the JSON responses. I've about 5/6 different views, where that are waiting for that responses to present the information. The contents are much like text and images.</p>\n\n<p>Problems:\n- If I make the requests only when the user enters on the view, he have to wait to much, and that's not a good user experience.\n- If I make all the requests on the first viewcontroller, the app becomes more slow, and sometimes it takes to long to respond to the user taps.</p>\n\n<p>Questions:\n- What is the best way to implement the app, so I've a good user experience and a good performance?</p>\n"},{"tags":["ios","cocoa","nspathcontrol"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":12717389,"title":"NSPathControl equivalent for iOS","body":"<p>Is there a control on iOS (iPhone/iPad) that works like NSPathControl does in OSX? (to add dynamically a node to a root on event, that could go back, remove a node on event...)</p>\n"},{"tags":["objective-c","xcode","cocoa","embedded-resource","resourcebundle"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12726205,"title":"Lock Embedded Resources in Cocoa","body":"<p>I'm developing on Cocoa using Xcode. I was wondering if there is a way to lock the embedded resources of my app, like logos, images, sounds, ... so nobody can change them?</p>\n"},{"tags":["iphone","cocoa","mouseevent","nsbutton","badge"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":12724077,"title":"Remove appearance of two badge icons on button while clicking, cocoa","body":"<p>I have a button with a badge counter on it. when i click on the button ,while clicking,two small badges are drawn but on releasing the mouse it gets back to normal. how can i remove the small badge that appears on the button while clicking.Implementation is done in cocoa.</p>\n"},{"tags":["objective-c","cocoa","nsarchiving"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":12723032,"title":"How to get file path? Loading documents in Document based app","body":"<p>I want to be able to save and load documents, so I'm trying to use these methods:</p>\n\n<p>[NSKeyedArchiver archiveRootObject: rootObject toFile: @\"myMap.map\"];</p>\n\n<p>rootObject = [NSKeyedUnarchiver unarchiveObjectWithFile:@\"myMap.map\"];  </p>\n\n<p>What am I meant to put as the file argument? I just have a constant string for now, but that means I can only load one file, I assume there's a way to get the user's selection from the open panel to be the argument, but how?</p>\n"},{"tags":["objective-c","xcode","osx","cocoa"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":66,"score":2,"question_id":11651512,"title":"ImageMagick in App bundle","body":"<p>I found <a href=\"http://stackoverflow.com/questions/4773768/bundle-imagemagick-library-with-os-x-app\">question (link)</a> witch is very similar to my problem. And the code in the <a href=\"http://stackoverflow.com/a/4792558/1428622\">answer</a> looks to be something I've been looking for for long time:</p>\n\n<pre><code>-(id)init\n{\n    if ([super init])\n    {\n        NSString* bundlePath = [[NSBundle mainBundle] bundlePath];\n        NSString* imageMagickPath = [bundlePath stringByAppendingPathComponent:@\"/Contents/Resources/ImageMagick\"];\n        NSString* imageMagickLibraryPath = [imageMagickPath stringByAppendingPathComponent:@\"/lib\"];\n\n        MAGICK_HOME = imageMagickPath;\n        DYLD_LIBRARY_PATH = imageMagickLibraryPath;\n    }\n    return self;\n}\n\n-(void)composite\n{\n    NSTask *task = [[NSTask alloc] init];\n\n    // the ImageMagick library needs these two environment variables.\n    NSMutableDictionary* environment = [[NSMutableDictionary alloc] init];\n    [environment setValue:MAGICK_HOME forKey:@\"MAGICK_HOME\"];\n    [environment setValue:DYLD_LIBRARY_PATH forKey:@\"DYLD_LIBRARY_PATH\"];\n\n    // helper function from\n    // http://www.karelia.com/cocoa_legacy/Foundation_Categories/NSFileManager__Get_.m\n    NSString* pwd = [Helpers pathFromUserLibraryPath:@\"MyApp\"];\n\n    // executable binary path\n    NSString* exe = [MAGICK_HOME stringByAppendingPathComponent:@\"/bin/composite\"];\n\n    [task setEnvironment:environment];\n    [task setCurrentDirectoryPath:pwd]; // pwd\n    [task setLaunchPath:exe]; // the path to composite binary\n    // these are just example arguments\n    [task setArguments:[NSArray arrayWithObjects: @\"-gravity\", @\"center\", @\"stupid hat.png\", @\"IDR663.gif\", @\"bla.png\", nil]];\n    [task launch];\n    [task waitUntilExit];\n}\n</code></pre>\n\n<p>But when I try to use it I am having 6 errors:</p>\n\n<pre><code>Use of undeclared identifier 'MAGICK_HOME'\nUse of undeclared identifier 'DYLD_LIBRARY_PATH'\nUse of undeclared identifier 'MAGICK_HOME'\nUse of undeclared identifier 'DYLD_LIBRARY_PATH'\nUse of undeclared identifier 'Helpers'\nUse of undeclared identifier 'MAGICK_HOME'\n</code></pre>\n\n<p><img src=\"http://i.stack.imgur.com/6MKJM.png\" alt=\"enter image description here\"></p>\n\n<p>How could I fix it?</p>\n"},{"tags":["objective-c","cocoa","floating-point","core-foundation","byte-order"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":12719118,"title":"Swap byte-order for double values","body":"<p>I'm reading in binary data that might possibly consist of 64 bit floats (\"doubles\") in the Big Endian byte-order. I read them individually into a buffer of the type Float64 using the getBytes:range: method of NSData. Now I would like to change the byte order to Little Endian. For integers, this is easily possible using the Core-Foundation function CFSwapIntXX(), with XX being the number of bits. But there are no corresponding methods for floats. What is the preferred way to do this?</p>\n\n<p>I tried to \"force\" a 64bit double as an argument to the function CFSwapInt64() by previously memcopying it into an int64_t variable and then back again to the double value. It works correctly, but this seems rather brutal to me. Is there no method that comes with the standard framework?</p>\n"},{"tags":["objective-c","osx","cocoa","carbon","nsfilemanager"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":70,"score":0,"question_id":12705491,"title":"How to display file copy progress in 10.8","body":"<p><a href=\"https://developer.apple.com/library/mac/#documentation/Carbon/Reference/File_Manager/DeprecationAppendix/AppendixADeprecatedAPI.html#//apple_ref/c/func/FSCopyObjectAsync\" rel=\"nofollow\">FSCopyObjectAsync</a> is Deprecated in OS X v10.8, Now how to display progress indictor for file copy operation.</p>\n"},{"tags":["iphone","cocoa","encryption","passwords","md5"],"answer_count":9,"favorite_count":3,"up_vote_count":6,"down_vote_count":1,"view_count":2715,"score":5,"question_id":2003776,"title":"Is Md5 Encryption Symmetric or Asymmetric?","body":"<p>For my iPhone application, Apple wants to know if my password encryption (md5) is greater then 64-bit symmetric or greater then 1024-bit symmetric.  I have not been able to find it online, so I am wondering if anyone knows the answer.  In addition, is this considered an appropriate encryption technology for passwords, or should I use something different?</p>\n\n<p>Thanks for any help!</p>\n"},{"tags":["objective-c","osx","cocoa","plugins"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":65,"score":0,"question_id":12720536,"title":"How to create Apple mail plugin","body":"<p>I'm going to create a mail plugin for Apple mail application for some addition features.\nI have no idea where to start as there is no official documentation are there for mail plugin.\nSo can anyone please help me, how can we start the project.\nIs there any initial link or tutorial, please suggest?</p>\n\n<p>Thanks,\niPhoneDv</p>\n"},{"tags":["osx","cocoa","webkit","swf"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":12721706,"title":"cocoa using WebView load swf file","body":"<p>I use webview to load a SWF file in Mac OS X, but it notices \"Missing Plug-in\".</p>\n\n<p>Here my code:</p>\n\n<pre><code>NSString *htmlString = [NSString stringWithFormat:@\"&lt;html&gt;&lt;body style='overflow:hide;'&gt;&lt;object width=\\\"344\\\" height=\\\"298\\\"&gt;&lt;param name=\\\"movie\\\" value=\\\"%@\\\"&lt;embed type=\\\"application/x-shockwave-flash\\\" src=\\\"%@\\\" width=\\\"344\\\" height=\\\"298\\\"/&gt;&lt;/body&gt;&lt;/html&gt;\", flashLink, flashLink];\n[[webView mainFrame]loadHTMLString:htmlString baseURL:nil];\nWebPreferences *prefs = [vwWeb preferences];\n[prefs setPlugInsEnabled:YES];\n</code></pre>\n\n<p>how can I load this swf?</p>\n"},{"tags":["osx","cocoa","appkit"],"answer_count":3,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":356,"score":4,"question_id":7564290,"title":"Why isn't applicationShouldOpenUntitledFile being called?","body":"<p>I added a <code>applicationShouldOpenUntitledFile</code> method to my application delegate, returning <code>NO</code> as Apple's documentation specifies. However, I'm still getting a new document on startup. What's wrong?</p>\n\n<pre><code>@implementation AppDelegate\n\n@synthesize window;\n\n- (void)applicationDidFinishLaunching:(NSNotification *)aNotification\n{\n    NSLog( @\"This is being called\" );\n}\n\n- (BOOL)applicationShouldOpenUntitledFile:(NSApplication *)sender\n{\n    NSLog( @\"This never is\" );\n    return NO;  \n}\n\n@end\n</code></pre>\n"},{"tags":["xcode","osx","cocoa","time"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":43,"score":1,"question_id":12720501,"title":"time not declared in scope, how do I find which includes a file uses?","body":"<p>This is driving me nuts, I have been stuck on this problem for a few hours.  I'm using time.h in several files in my project, and on every one get the error \"time was not declared in scope\" when I try to use the function time().  The strange thing is time_t is defined, I get no errors about it.  I thought perhaps it was pulling in the C++ version somehow so tried using namespace std:: but that didn't work either.  struct tm and localtime aren't declared in scope either.  All code compiles fine on other systems BTW.</p>\n\n<p>I'm going nuts here, how can I figure out what headers a file is using, what is defined or what is going on?  I don't know how to proceed, please help!</p>\n\n<p>I am using GCC 4.2 in Xcode 3.2.5 with 10.6 SDK</p>\n\n<p>In case you want to see the code here it is, not useful though, it has to be a compiler/include file problem I think.</p>\n\n<pre><code>            time_t long_time;\n            time(&amp;long_time);\n            tm* st = localtime(&amp;long_time);\n            sprintf(temp, \"%02d:%02d:%02d %02d.%02d.%04d  \",\n                    st-&gt;tm_hour, st-&gt;tm_min, st-&gt;tm_sec, st-&gt;tm_mon+1, st-&gt;tm_mday, st-&gt;tm_year+1900);\n</code></pre>\n"},{"tags":["cocoa","nsview","nswindow","nswindowcontroller","nstoolbar"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":12719590,"title":"Changing view in NSWindow removes contents of view","body":"<p>I am using an NSToolbar and NSWindowController to change the views of an NSWindow.  When the toolbar items are selected, the view is successfully changed for the window and the window changes it's size according to the view size. Upon the initial loading of the window, the contents of the view appear as expected. However, once a toolbar item is selected the contents of the new view are not visible and when the view is switched back to the original view, it's contents are no longer visible either. Not sure what is causing this so any help would be appreciated.</p>\n\n<pre><code>#import &lt;Cocoa/Cocoa.h&gt;\n\n@interface WindowController : NSWindowController {\n    IBOutlet NSView *firstView;\n    IBOutlet NSView *secondView;\n\n    int currentViewTag;\n}\n\n- (IBAction)switchView:(id)sender;\n\n@end\n</code></pre>\n\n<p>and</p>\n\n<pre><code>#import \"WindowController.h\"\n\n@interface WindowController ()\n\n@end\n\n@implementation WindowController\n\n- (id)init {\n    self = [super initWithWindowNibName:@\"WindowController\"];\n    if (self) {\n    }\n\n    return self;\n}\n\n- (void)windowDidLoad {\n    [super windowDidLoad];\n}\n\n- (NSRect)newFrameForNewContentView:(NSView*)view {\n\n    NSWindow *window = [self window];\n    NSRect newFrameRect = [window frameRectForContentRect:[view frame]];\n    NSRect oldFrameRect = [window frame];\n    NSSize newSize = newFrameRect.size;\n    NSSize oldSize = oldFrameRect.size;\n\n    NSRect frame = [window frame];\n    frame.size = newSize;\n    frame.origin.y -= (newSize.height - oldSize.height);\n\n    return frame;\n}\n\n- (NSView *)viewForTag:(int)tag {\n\n    NSView *view = nil;\n    switch (tag) {\n        case 0:\n            view = firstView;\n            break;\n        case 1:\n            view = secondView;\n            break;\n    }\n\n    return  view;\n}\n\n- (BOOL)validateToolbarItem:(NSToolbarItem *)item {\n    if ([item tag] == currentViewTag) return NO;\n    else return YES;\n}\n\n- (void)awakeFromNib {\n\n    [[self window] setContentSize:[firstView frame].size];\n    [[[self window] contentView] addSubview:firstView];\n    [[[self window] contentView] setWantsLayer:YES];\n}\n\n- (IBAction)switchView:(id)sender {\n\n    double tag = [sender tag];\n    NSView *view = [self viewForTag:tag];\n    NSView *previousView = [self viewForTag:currentViewTag];\n    currentViewTag = tag;\n\n    NSRect newFrame = [self newFrameForNewContentView:view];\n\n\n    [NSAnimationContext beginGrouping];\n\n    if ([[NSApp currentEvent] modifierFlags] &amp; NSShiftKeyMask)\n        [[NSAnimationContext currentContext] setDuration:1.0];\n\n    [[[[self window] contentView] animator] replaceSubview:previousView with:view];\n    [[[self window] animator] setFrame:newFrame display:YES];\n\n    [NSAnimationContext endGrouping];\n}\n\n@end\n</code></pre>\n"},{"tags":["iphone","ios","xcode","cocoa"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":227,"score":1,"question_id":10636128,"title":"iPhone User-Agent","body":"<p>I'm getching content in a universal iOS app using:</p>\n\n<pre><code>NSString stringWithContentsOfURL: [ NSURL URLWithString: link ]\n</code></pre>\n\n<p>... does that send iPhone/iPad user's IP and User-Agent to the server from which its fetching content from?</p>\n\n<p>I <em>need</em> it to send at least user-agent so I can detect whether its an iPhone or iPad and optimize the content accordingly.</p>\n"},{"tags":["osx","cocoa","url","nsurl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":12719303,"title":"How to get the path/directory component from a NSURL?","body":"<p>I retrieved a NSURL from a NSSavePanel.  I now have this NSURL which gives me the following:</p>\n\n<p><code>file://localhost/Users/brett/Documents/asdf%20asdf.json</code></p>\n\n<p>Now, it is easy for me to retrieve just the filename using something like the following:</p>\n\n<p><code>[[[NSFileManager defaultManager] displayNameAtPath:pathAndFilename] stringByDeletingPathExtension]</code></p>\n\n<p>This gives me just the localized filename, as expected: <code>asdf%20asdf</code></p>\n\n<p><strong>So, how do I get the path, like so:</strong> <code>file://localhost/Users/brett/Documents/</code></p>\n"},{"tags":["objective-c","xcode","cocoa"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12718219,"title":"How to add outer glow on CAShapeLayer","body":"<p>I would like to create outer glow effect on CAShapeLayer which I animate later. Is this possible to achieve? I was looking at the documentation and can't find nothing similar. </p>\n"},{"tags":["cocoa","nsnotificationcenter","osx-mountain-lion","nsusernotification"],"answer_count":1,"favorite_count":3,"up_vote_count":15,"down_vote_count":0,"view_count":609,"score":15,"question_id":12113300,"title":"NSUserNotificationCenter dismiss notification","body":"<p>I'm trying to use the new Mountain Lion NSUserNotificationCenter for my application (which isn't too hard actually). Posting notifications works like a charm via </p>\n\n<pre><code>NSUserNotification *userNotification = [[NSUserNotification alloc] init];\nuserNotification.title = @\"Some title\";\nuserNotification.informativeText = @\"Some text\";\n\n[[NSUserNotificationCenter defaultUserNotificationCenter] deliverNotification:userNotification];\n</code></pre>\n\n<p>However, i'd like to dismiss all notifications that are on the screen once the app gains focus. E.g. like the new Messages app does it. When new messages are received in the background, notifications are shown. When the app becomes active again, these are dismissed automatically and vanish from the screen and from the Notification Center. </p>\n\n<p>To replicate this, I've registered a method to the <code>NSApplicationDidBecomeActiveNotification</code> notification which also gets called succesfully. In there I call <code>[NSUserNotificationCenter defaultUserNotificationCenter] removeAllDeliveredNotifications]</code>.</p>\n\n<p>This, however, has the effect that notifications that have been collected in the Notification Center are removed while the corresponding \"bubbles\" that are displayed in the top right corner are still displayed. </p>\n\n<p>Iterating all delivered notifications and removing them each on their own has the exactly same effect, as has using <code>scheduleNotification</code> instead of <code>deliverNotification</code>.</p>\n\n<p>Am I the only one experiencing this, or am I missing something to dismiss the on-screen part and the Notification Center part of a notification programatically?</p>\n"},{"tags":["cocoa","nsscrollview","nsscroller"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":399,"score":1,"question_id":6031604,"title":"Can NSScrollView scroll if setHasHorizontalScroller:NO?","body":"<p>Is it possible to 'hide' the scrollers of an NSScrollView and still get gestural scrolling behavior?</p>\n"},{"tags":["xcode","cocoa","localization","xib","ibtool"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":12717212,"title":"Merging ibtool localization .strings","body":"<p>Example: I have an <strong>EnglishXib.strings</strong> file generated with <strong><em>ibtool</em></strong>:</p>\n\n<pre><code>/* Class = \"NSButton\"; title = \"Hello World\"; ObjectID = \"1\"; */\n\"1.title\" = \"Hello World\";\n</code></pre>\n\n<p>and some localizated version of it, for example <strong>ItalianXib.strings</strong>:</p>\n\n<pre><code>/* Class = \"NSButton\"; title = \"Hello World\"; ObjectID = \"1\"; */\n\"1.title\" = \"Ciao a tutti\";\n</code></pre>\n\n<p><br>After a month, in the 2.0 version of my program, i generate the <strong>EnglishXib2.strings</strong>:</p>\n\n<pre><code>/* Class = \"NSButton\"; title = \"Hello World\"; ObjectID = \"1\"; */\n\"1.title\" = \"Hello World\";\n\n/* Class = \"NSButton\"; title = \"Dog\"; ObjectID = \"2\"; */\n\"2.title\" = \"Dog\";\n\n/* Class = \"NSButton\"; title = \"Cat\"; ObjectID = \"3\"; */\n\"3.title\" = \"Cat\";\n</code></pre>\n\n<p>Now i need to update every other localization .strings with the new words and send them to the translator to have the 2.0 version of each localization file.<br>\nI know, i could just copy and paste the new words in each file, but I'm looking for an automatic method... ibtool is not helping me and neither does google.<br>\nAnd i'm too lazy to write a script for this... lol... can you help me?</p>\n"},{"tags":["osx","cocoa","osx-lion"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":12717132,"title":"Send a Lion Resume message to other apps","body":"<p>I'm totally new to OSX programming so I'm not sure if this is possible. I'm playing around with the Lion Application Resume APIs. I'd like my application to send a message to another application to cause them to save their state. I don't want to tell the other application to quit.</p>\n\n<p>I know that if I'm writing an application I need to respond to the encodeRestorableStateWithCoder message that the OS sends. Is there a way to request the OS send that message to another application?</p>\n"},{"tags":["objective-c","cocoa","uicolor"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":83,"score":2,"question_id":12715810,"title":"Lightening a UIColor","body":"<p>I ran into a situation yesterday where I needed to lighten a UIColor so I created a category and added a <code>lighten</code> method. I thought it would be straight forward to just multiply the value by each component of the color but my greens started turning yellow so I knew it had to be more complicated.</p>\n\n<p>The solution I came up with was to convert from sRGB to Linear, multiply the color, and then convert back. This seems to work but I'm not sure if it's \"correct\". I couldn't find anything in the docs that stated that UIColor was in sRGB space. I'm also no color scientist so I only have a rudimentary knowledge of the math involved.</p>\n\n<p>Anyway here is my code, I'm asking for some peer review and to see if anyone has a better understanding of modifying UIColors.</p>\n\n<pre><code>CGFloat sRGB2Linear(CGFloat x){\n    CGFloat a = 0.055;\n    if(x &lt;= 0.04045){\n        return x * (1.0 / 12.92);\n    }else{\n        return pow((x + a) * (1.0 / (1 + a)), 2.4);\n    }\n}\n\nCGFloat linear2sRGB(CGFloat x){\n    CGFloat a = 0.055;\n    if(x &lt;= 0.0031308){\n        return x * 12.92;\n    }else{\n        return (1 + a) * pow(x, 1 / 2.4) - a;\n    }\n}\n\n- (UIColor *)lighten:(CGFloat)value{\n    const CGFloat *components = CGColorGetComponents([self CGColor]);\n    CGFloat newR = (sRGB2Linear(components[0])+1)*value;\n    CGFloat newG = (sRGB2Linear(components[1])+1)*value;\n    CGFloat newB = (sRGB2Linear(components[2])+1)*value;\n    newR = MAX(0, MIN(1, linear2sRGB(newR)));\n    newG = MAX(0, MIN(1, linear2sRGB(newG)));\n    newB = MAX(0, MIN(1, linear2sRGB(newB)));\n    return [UIColor colorWithRed:newR green:newG blue:newB alpha:components[3]];\n}\n</code></pre>\n"},{"tags":["cocoa","selection","nstableview"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":12715826,"title":"NSTableView select row by pressing \"space\"","body":"<p>I didn't find any information on this question, and I wonder if it is possible to make NSTableView (or subclass) to select rows by pressing space bar on keyboard, and navigate through rows by pressing up/down keys without the selection being reset. I want to make nstableview to behave like total commander's file panel, if someone used it under windows. And I don't even know where to start.</p>\n"},{"tags":["objective-c","osx","cocoa"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":86,"score":2,"question_id":9135349,"title":"Different transparencies in Cocoa?","body":"<p>I have overloaded NSWindow and have created a custom window of my own (Borderless and transparency of 0.3 alphaValue). I am going to be drawing images in this window. Is there any way I can get the images that will be drawn in the window opaque? I want the window to remain transparent but want the images to be opaque. How would I do this?</p>\n\n<p>Mac OS X Snow Leopard\nXcode 3.2.6</p>\n"},{"tags":["objective-c","cocoa","nstextfield"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":44,"score":1,"question_id":12712288,"title":"Making invisible characters visible in NSTextField","body":"<p>I have a NSTextField and I want to give the user the opportunity to make invisible characters like blanks, carriage returns and tabs visible. Unfortunately I didn't find a word in Apple's documentaion about this. I assume I'm not using the right term when looking for it.</p>\n\n<p>Any clues how to do this?</p>\n"},{"tags":["cocoa","osx","unix"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":203,"score":0,"question_id":2460068,"title":"Saving CFPropertyLists To Users Folder","body":"<p>I'm trying to save a CFPropertyList to a location in the user's home folder.  Using the code below I'm getting errorCode = -10 (unknown error).</p>\n\n<pre><code>CFURLRef fileURL = CFURLCreateWithFileSystemPath(kCFAllocatorDefault, CFSTR(\"~/testfile.txt\"),  kCFURLPOSIXPathStyle, false );  \n\nSInt32 errorCode;\nBoolean status = CFURLWriteDataAndPropertiesToResource(fileURL, xmlData, NULL, &amp;errorCode);\n</code></pre>\n\n<p>If I change the path to something like \"/testfile.txt\" without the '~' then everything works.  How can one save a property list to the current user's home folder?  Must one obtain the user's name first and include it in the path such as /users/toffler/testfile.txt?</p>\n"},{"tags":["cocoa"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":276,"score":0,"question_id":11209768,"title":"NSView Border Color","body":"<p>i am applying a border to NSView but how can i change the bordercolor. Using NSColor with setBorderColor is showing a warning. I want to use Orange Color in Border</p>\n\n<pre><code>    [self setWantsLayer:YES];\n    self .layer.masksToBounds   = YES;    \n    self.layer.borderWidth      = 6.0f ;\n\n    [self.layer setBorderColor:CGColorGetConstantColor(kCGColorBlack)]; \n</code></pre>\n\n<p>How can i set other colors(excluding black and white) in Border </p>\n\n<p>Regards,\nHaseena</p>\n"},{"tags":["objective-c","cocoa","growl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":12700489,"title":"When registering my application with Growl, how can I define what notification style to use in the .growlRegDict file?","body":"<p>I would like to force growl to use the Bezel style notification for all notifications in my application.</p>\n\n<p>Considering a typical .growlRegDict looks something like the example below, is there a key/value that I can define in my application's .growlRegDict file that will set the default style for my application to the Bezel style.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE plist PUBLIC \"-//Apple//DTD PLIST 1.0//EN\" \"http://www.apple.com/DTDs/PropertyList-    1.0.dtd\"&gt;\n&lt;plist version=\"1.0\"&gt;\n&lt;dict&gt;\n    &lt;key&gt;TicketVersion&lt;/key&gt;\n    &lt;integer&gt;1&lt;/integer&gt;\n    &lt;key&gt;AllNotifications&lt;/key&gt;\n    &lt;array&gt;\n        &lt;string&gt;MyNotification&lt;/string&gt;\n    &lt;/array&gt;\n    &lt;key&gt;DefaultNotifications&lt;/key&gt;\n    &lt;array&gt;\n        &lt;string&gt;MyNotification&lt;/string&gt;\n    &lt;/array&gt;\n&lt;/dict&gt;\n&lt;/plist&gt;\n</code></pre>\n"},{"tags":["cocoa","user-interface"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":12713852,"title":"Custom control bar at top of window","body":"<p>I want to create a control bar, if that's what it's called, with icons like those shown on the right side of the screen shot.  This is a screenshot from Sparrow, and as you can see there are icons (buttons) on the top right of the 'control bar'. </p>\n\n<p><img src=\"http://i.stack.imgur.com/8iLqY.png\" alt=\"enter image description here\"> </p>\n\n<p>I've seen this in Sparrow, Coda, Reeder, and Ecoute, but I've had trouble researching it because I don't know what the actual name for that bar is, and I'm new to Cocoa. </p>\n\n<p>How do I create this type of UI?</p>\n"},{"tags":["xcode","cocoa","nstextfield","nsbutton","nssearchfield"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":12712762,"title":"NSTextField validation and NSSearchField save it's value to recent history on NSButton click","body":"<p>I have this setup, my <code>NSWinow</code> has two <code>NSSearchFiled</code>s with relative autosave search history, one <code>NSTextField</code> and a <code>NSButton</code>.</p>\n\n<p><code>NSSearchFiled</code> has to autosave the search (wich work right when user press \"Enter\" key)\n<code>NSTextField</code> needs to be validated and saved to user prefs (by it's <code>action</code>).</p>\n\n<p>The problem is that if i have focus on <code>NSSearchFiled</code> and click on <code>NSButton</code> the string is not autosaved to recents, if i have focus on <code>NSTextField</code> and click on <code>NSButton</code> the value is not validated and saved to user prefs...</p>\n\n<p>I've tried this in NSButton action:</p>\n\n<pre><code>// SearchF_Name is of NSSearchFiled\n[SearchF_Name sendAction:SearchF_Name.action to:SearchF_Name.target];\n</code></pre>\n\n<p>with no luck, and googling doesn't help either... Con you help me?</p>\n"},{"tags":["multithreading","cocoa","crash","enumeration","nsarraycontroller"],"answer_count":3,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":1679,"score":0,"question_id":3925054,"title":"Collection was mutated while being enumerated crash with NSTableView, NSArrayController and NSThread","body":"<p>In my small Core Data application I have some NSTableView views binded with NSArrayController controllers in Entity mode.</p>\n\n<p>When I try to import some big amount of data to my table in background thread, after some successfully added imports (from dozens to hundreds items) I get crash with log:</p>\n\n<p><strong>Serious application error.  Exception was caught during Core Data change processing: *** Collection  was mutated while being enumerated.NSHashTable (%@) {\n[5]  (entity: Word; id: 0x1001dd4b0  ; data: { ....... entity description here.... }</strong> ....</p>\n\n<p>...and stack trace:</p>\n\n<pre><code>#0  0x7fff83e0e2fa in mach_msg_trap\n#1  0x7fff83e0e96d in mach_msg\n#2  0x7fff8816c614 in _CGSSynchronizeWindowBackingStore\n#3  0x7fff88152169 in _CGSLockWindow\n#4  0x7fff88158cff in CGSDeviceLock\n#5  0x7fff81ecae43 in ripd_Lock\n#6  0x7fff81eca746 in ripl_BltShape\n#7  0x7fff81ec7d86 in ripc_Render\n#8  0x7fff81ec5317 in ripc_DrawRects\n#9  0x7fff88158641 in CGContextFillRects\n#10 0x7fff8818ee1a in CGContextFillRect\n#11 0x7fff86e712f8 in NSRectFillUsingOperation\n#12 0x7fff86f2152e in NSDrawWindowBackground\n#13 0x7fff86ea16c2 in -[NSThemeFrame drawWindowBackgroundRect:]\n#14 0x7fff86e6eb9a in -[NSFrameView drawThemeContentFill:inView:]\n#15 0x7fff86e68aa5 in -[NSThemeFrame drawRect:]\n#16 0x7fff86e68131 in -[NSView _drawRect:clip:]\n#17 0x7fff86e65907 in -[NSView _recursiveDisplayRectIfNeededIgnoringOpacity:isVisibleRect:rectIsVisibleRectForView:topView:]\n#18 0x7fff86e64ee8 in -[NSThemeFrame _recursiveDisplayRectIfNeededIgnoringOpacity:isVisibleRect:rectIsVisibleRectForView:topView:]\n#19 0x7fff86e6179a in -[NSView _displayRectIgnoringOpacity:isVisibleRect:rectIsVisibleRectForView:]\n#20 0x7fff86ddaff6 in -[NSView displayIfNeeded]\n#21 0x7fff86dd5ea2 in _handleWindowNeedsDisplay\n#22 0x7fff80099a2d in __NSFireTimer\n#23 0x7fff815aa678 in __CFRunLoopRun\n#24 0x7fff815a884f in CFRunLoopRunSpecific\n#25 0x7fff82c3991a in RunCurrentEventLoopInMode\n#26 0x7fff82c3971f in ReceiveNextEventCommon\n#27 0x7fff82c395d8 in BlockUntilNextEventMatchingListInMode\n#28 0x7fff86dab29e in _DPSNextEvent\n#29 0x7fff86daabed in -[NSApplication nextEventMatchingMask:untilDate:inMode:dequeue:]\n#30 0x7fff86d708d3 in -[NSApplication run]\n#31 0x7fff86d695f8 in NSApplicationMain\n</code></pre>\n\n<p>Assuming there is an issue with updating table (enumeration not being thread safe), I have tried to solve this problem by disabling controller and table before import starts using:</p>\n\n<pre><code>[wordsController setEditable:NO];\n[wordsController setAutomaticallyPreparesContent:NO];\n[wordsTable setEnabled:NO];\n</code></pre>\n\n<p>but it does not help. During import I still see new entities being added to the tale until crash.</p>\n\n<p>Anyone knows what is the trick to disable NSArrayController from tracking changes for a time of background processing? Or maybe it is other issue here?</p>\n\n<p>Thank You very much for any hints.</p>\n"},{"tags":["json","cocoa","nsjsonserialization"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":12707203,"title":"Cocoa - Parse a JSON string","body":"<p>I know that the web is full of examples about this, but I've tried everything, and I'm missing something. I want to parse a JSON string into a dicionary.</p>\n\n<p>E have this response of the server:</p>\n\n<pre><code>{\"type\":\"response\", \"action\":\"mkac\", \"result\":\"[{\"Band\":\"Adele\",\"Hits\":422},{\"Band\":\"Bryan Adams\",\"Hits\":93},{\"Band\":\"Adai\",\"Hits\":30},{\"Band\":\"Adamo\",\"Hits\":18},{\"Band\":\"Adelle\",\"Hits\":15}]\"}\n</code></pre>\n\n<p>And I make:</p>\n\n<pre><code>NSError *parseError = nil;\n                        NSDictionary *outputDictionary = \n                        [NSJSONSerialization JSONObjectWithData: [output dataUsingEncoding:NSUTF8StringEncoding]\n                                                        options: NSJSONReadingMutableContainers\n                                                          error: &amp;parseError];\n                        NSLog(@\"server said: %@\", [outputDictionary objectForKey:@\"result\"]);\n</code></pre>\n\n<p>But the outputDictionary allways gives me null.</p>\n\n<p>Can anyone help me with that?</p>\n\n<p>Thanks a lot.</p>\n"},{"tags":["cocoa","webview","nstextview"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":12709961,"title":"NSTextView quote level","body":"<p>I'm using a custom subclass of NSTextView in my project, and I'd like to know if someone knows a way to display graphics in them in the fashion Mail.app from Apple does when showing text being replied to.</p>\n\n<p>Like this:</p>\n\n<p><img src=\"http://i.stack.imgur.com/kwBs1.png\" alt=\"text is appended a blue vertical line in front of every line\"></p>\n\n<p>I read on SO in another message that the component used to display mails might be a WebView. That's fine by me, I could use that. Does that mean then that this line should be drawn using CSS or something like this?</p>\n"},{"tags":["osx","cocoa","automatic-ref-counting","nsopenpanel"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":82,"score":0,"question_id":8702894,"title":"NSOpenPanel appears as sheet only once","body":"<p>I have an app where I use NSOpenPanel:</p>\n\n<pre><code>openDlg = [NSOpenPanel openPanel];\n[openDlg setCanChooseDirectories:YES];\n[openDlg beginSheetModalForWindow:MainWindow completionHandler:nil];\n\nif ([openDlg runModal] == NSOKButton){\n     NSLog(@\"accept\");\n} else {\n     NSLog(@\"cancel\");\n}\n</code></pre>\n\n<p>The thing is that after canceling, if I show the popup again it appears as a window, instead of sheet (which does on the first call). I think this is due to some release thing, but my project uses ARC, so I don't know. What I'm doing wrong? Thanks!</p>\n"},{"tags":["objective-c","osx","cocoa","carbon"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":12707858,"title":"HICocoaView keyboard events","body":"<p>I'm experimenting with adding support for Cocoa views to an old Carbon PowerPlant application. The aim is to find a way to begin to refactor the application over time to remove all the PowerPlant UI code and eventually end up with something that will compile as a 64 bit app.</p>\n\n<p>Anyway, the problem I'm having is with keyboard events. I am creating an HICocoaView that is embedded in a floating window that is in a group with the PowerPlant window underneath. I have an LPane derived class that wraps all this up nicely so I can create any NSView inside it and it will behave almost as if it was embedded in the LView hierarchy. Where I'm having trouble is with getting an NSTextView to behave properly with regards to key presses. When I click the view I can write text but it does not respond to keys like the cursor keys or backspace.</p>\n\n<p>I'm assuming I've got some kind of problem with the responder chain but I can't figure out how to set it up so the NSApp will forward the key events correctly to the view. I've made the view the first responder and tried to make the window key but nothing's working.</p>\n\n<p>Has anybody had any success with doing this kind of Cocoa-Carbon integration with HICocoaView? I know it's not the ideal strategy for porting to Cocoa but rewriting everything from scratch just isn't an option.</p>\n"},{"tags":["objective-c","osx","cocoa","keyboard","carbon"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":12707197,"title":"How to re-map Mac OS keys? (or how is Keyboard Maestro made?)","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/6307847/catching-events-in-mac-os-x\">Catching events in Mac OS X</a>  </p>\n</blockquote>\n\n\n\n<p>Keyboard Maestro (I'm not affiliated with them) allows you to re-map keyboard shortcuts in Mac OS, and the effect of it is global, i.e. it affects every program running on Mac OS.</p>\n\n<p><strong>How did they write the keyboard remapping part?</strong></p>\n\n<p>Or, in other words:</p>\n\n<p><strong>How can I write a tool that maps keystroke A to keystroke B, so that every program running on Mac OS believes that keystroke B was pressed?</strong></p>\n"},{"tags":["cocoa","events","usercontrols","nswindow","nswindowcontroller"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12677976,"title":"NSWindow ignore mouse/keyboard events","body":"<p>At this time I'm developing a Cocoa application, that is formed by a main <code>NSWindowController</code>, where all the application data is showed and some others <code>NSWindowControllers</code> that will appear, like a formulary, when the user needs to edit or add more data to the main <code>NSWindowController</code> window.</p>\n\n<p>My problem is that when i need to add or edit data in these formularies, the main <code>NSWindowController</code> can't have any kind of user interaction, to prevent any change in the main <code>NSWindowController</code>'s displayed information.</p>\n\n<p>I've already tried <code>-(void)setIgnoresMouseEvents:(BOOL)flag</code> but this solution makes the main NSWindowController completely transparent to interaction, making any accidental click, interact with any window bellow thus hiding the application.</p>\n\n<p>Does anyone knows of a better solution?</p>\n"},{"tags":["xcode","cocoa","command-line","terminal","hack"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":12698352,"title":"How to use an existing Mac app via command line?","body":"<p>I am looking to adapt a css formatter app I downloaded from the app store so I can control it from the command line. Basically before I push a file to github I would like to have the app format a .css file. So I am wondering How I would get the app to run its process without doing it by hand. </p>\n\n<p>I am not sure where to begin... I have xcode.</p>\n\n<p>So my question is, where do I begin? </p>\n\n<p>Can you point me to any articles of people that have done something similar?\nWhat files should I be most concerned with in the app? </p>\n\n<p>Thanks for the direction</p>\n"},{"tags":["python","cocoa","filenames","pyobjc"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":508,"score":2,"question_id":7406102,"title":"Create (sane/safe) filename from any (unsafe) string","body":"<p>I want to create a sane/safe filename (i.e. somewhat readable, no \"strange\" characters, etc.) from some random Unicode string (mich might contain just anything).</p>\n\n<p>(It doesn't matter for me wether the function is Cocoa, ObjC, Python, etc.)</p>\n\n<hr>\n\n<p>Of course, there might be infinite many characters which might be strange. Thus, it is not really a solution to have a blacklist and to add more and more to that list over the time.</p>\n\n<p>I could have a whitelist. However, I don't really know how to define it. <code>[a-zA-Z0-9 .]</code> is a start but I also want to accept unicode chars which can be displayed in a normal way.</p>\n"},{"tags":["cocoa","localization","interface-builder"],"answer_count":5,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":633,"score":3,"question_id":1396954,"title":"Localising nib files","body":"<p>I am writing a app which has about 10 nib files for conveying different UI messages and for taking user input. I want to know how to localize these messages that appear on my custom sheets. Is there any way i can have a single file with generic strings and depending on language it replaces the generic string with string in that particular language. also i want to know how to load dynamic strings into messages in custom sheets like file names or the number of files selected etc.</p>\n\n<p>i have taken a look at ibtool but doesnt it duplicate the nib files by creating .lproj files for different languages? doing this simply makes the size of my app huge.</p>\n\n<p>Thanks</p>\n"},{"tags":["iphone","cocoa","uisearchbar"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":12689518,"title":"Master side of a UISplitViewController becomes black","body":"<p>I have an iPad app where I use a <code>UISplitViewController</code>. The master side contains a table and <code>UISearchBar</code>. A strange thing happens if I activate an <code>UISearchBar</code>:</p>\n\n<ul>\n<li><p>for the portrait mode a half-transparent black square appears on the bottom part of a master side, taking a half of the screen. </p></li>\n<li><p>if I'm in a landscape mode the whole master side becomes fully black...</p></li>\n</ul>\n\n<p>Anyone know what's happening and how to fix it?</p>\n"},{"tags":["cocoa","nsscrollview","nsimageview"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":75,"score":0,"question_id":12703890,"title":"Panning problems with Cocoa NSScrollView","body":"<p>Im using Xcode to make an application that has a NSImageView that I have made into an NSScrollView (I think) by means of selecting it in my .xib, going to the editor menu in Xcode then embedded in > scrollView. </p>\n\n<p>I have an image in my NSScrollView that is larger than the window it is opened in, I can scroll using the scroll bars fine and have even turned on the <code>autoscroll:</code> function in my <code>mouseDragged:</code> method. </p>\n\n<p>I would like to be able to simply pan around the image without touching the edges of the screen using <code>mouseDragged:</code>. So far my code for <code>mouseDragged:</code> in my panning.m(subclass of NSImageView) is such:</p>\n\n<pre><code>-(void)mouseDragged:(NSEvent *)theEvent{\n   NSPoint p = [theEvent locationInWindow];\n   [self scrollRectToVisible:NSMakeRect(p.x - self.visibleRect.origin.x, p.y - self.visibleRect.origin.y, self.visibleRect.size.width, self.visibleRect.size.height)];\n   [self autoscroll:theEvent];\n}\n</code></pre>\n\n<p>This works to some degree, however there is a lot of jittering. Maybe because I am not restricting the bounds?</p>\n\n<p>I was wondering if I am on the right track or is there a better/more efficient way.</p>\n\n<p>Any help is appreciated.</p>\n\n<p>Cheers.</p>\n"},{"tags":["objective-c","osx","cocoa"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":12703648,"title":"IKImageView : Is convertViewPointToImagePoint: cares about zoomFactor","body":"<p>When I call</p>\n\n<pre><code>- (NSPoint)convertViewPointToImagePoint:(NSPoint)viewPoint\n</code></pre>\n\n<p>I get real point on image even if it zoomed?</p>\n"},{"tags":["cocoa","console","nsfilehandle","keyboard-input"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":70,"score":1,"question_id":12666336,"title":"NSFileHandle and scanf not echoing input in Xcode 4.5","body":"<p>I successfully use NSFileHandle to read keyboard input: </p>\n\n<pre><code>NSFileHandle * keyboard = [NSFileHandle fileHandleWithStandardInput];\nNSData *inputData = [keyboard availableData];\nNSString * input =[[NSString alloc] initWithData:inputData encoding:NSUTF8StringEncoding];\n</code></pre>\n\n<p>As the user types, only the first character of input is echoed on the screen. For example, if I type <code>hello</code>, only <code>h</code> is echoed on the screen. However the full input is read into the string.</p>\n\n<p>The proper echo behavior works in Xcode 4.2. I'm currently using Xcode 4.5.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Giving up on <code>NSFileHandle</code> for now, I tried to use <code>scanf</code>. However there's the same echoing issue. <code>scanf</code> code:</p>\n\n<pre><code>char word[4];\nscanf(\"%s\",word);\nNSString * input = [[NSString alloc] initWithBytes:word length:4 encoding:NSUTF8StringEncoding];\n</code></pre>\n"},{"tags":["objective-c","xcode","cocoa"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":12701791,"title":"Get and choose path Objective C","body":"<p>This is what I have:</p>\n\n<p><img src=\"http://i.stack.imgur.com/btwfa.png\" alt=\"Example\"></p>\n\n<p>How do I make it so the label contains the current path to the desktop, and how do I make it so when they hit choose, they can choose an install location, and then set the label to contain that path? Thanks!</p>\n"},{"tags":["ios","xcode","cocoa"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":12702211,"title":"Get Xcode console output to log in a file","body":"<p>I'm running some iOS app tests and would like to get xcode's console to log its output to a file. \nIs there a way I can do this?</p>\n"},{"tags":["cocoa","http","get"],"answer_count":2,"favorite_count":1,"up_vote_count":6,"down_vote_count":0,"view_count":5130,"score":6,"question_id":706369,"title":"How to do an http get in cocoa on the iPhone","body":"<p>can anyone paste some code on how to do a simple http get in cocoa?</p>\n"},{"tags":["objective-c","osx","cocoa","joystick"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":12702208,"title":"Create a new keyboard key","body":"<p>When you connects you usb joystick to your Mac, it basically creates a new keyboard key for every button. <br />\nI mean, when you press the left button in your usb joystick, you don't simple press the left key in your keyboard. It creates a key that is pressed when the button is pressed. Example:</p>\n\n<p>Joystick's left key: \"J1_LEFT\"<br />\n<img src=\"http://i.stack.imgur.com/PUIyy.png\" alt=\"Example 01\"></p>\n\n<p>With Cocoa it's possible? There's a way to simulate a usb joystick (create and press keys)? Even if it's not simple I'll appreciate if you share with me a solution.</p>\n"},{"tags":["osx","cocoa","fonts"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12666346,"title":"Getting a dotted font from a regular font","body":"<p>I have a need to take a regular font and obtain a dotted version of it. By \"dotted\", I mean that the lines and curves that make up the letterforms are composed of dots or dashes <a href=\"http://www.myfonts.com/search/dotted/fonts/\" rel=\"nofollow\">MyFonts</a> has some examples of what I mean.</p>\n\n<p>Is there any way to convert an existing non-dotted font into a dotted font without having to use a font editor myself?</p>\n"},{"tags":["objective-c","osx","cocoa"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":62,"score":1,"question_id":12677356,"title":"change window background color","body":"<p>I want to change the background color of my window every second so here is my code:</p>\n\n<pre><code>- (void)applicationDidFinishLaunching:(NSNotification *)aNotification\n{\n    [NSTimer scheduledTimerWithTimeInterval:1.0 target:self selector:@selector(newColor) userInfo:nil repeats:YES];\n}\n\n-(void)newColor {\n    int r;\n    r = (arc4random()%250)+1;\n    NSLog(@\"%i\", r);\n\n    int g;\n    g = (arc4random()%250)+1;\n    NSLog(@\"%i\", g);\n\n    int b;\n    b = (arc4random()%250)+1;\n    NSLog(@\"%i\", b);\n\n    NSColor *theColor = [NSColor colorWithDeviceRed:(int)r green:(int)g blue:(int)b alpha:(float)1.0];\n    [_window setBackgroundColor:theColor];\n}\n</code></pre>\n\n<p>I think my problem is in defining the colors with the variables, but I'm not sure.</p>\n"},{"tags":["objective-c","cocoa","private"],"answer_count":3,"favorite_count":30,"up_vote_count":190,"down_vote_count":20,"view_count":30741,"score":170,"question_id":844658,"title":"What does \"@private\" mean in Objective-C?","body":"<p>What does <code>@private</code> mean in Objective-C?</p>\n"},{"tags":["java","objective-c","ios","cocoa","list"],"answer_count":4,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":1082,"score":3,"question_id":7020042,"title":"What is the LinkedList equivalent in iOS frameworks?","body":"<p>In java, one can make use of the generic <code>LinkedList</code> to improve the efficiency when objects are often added to the front of the list. What is its equivalent in the iOS frameworks?</p>\n"},{"tags":["cocoa","unit-testing","core-data","ocmock","mogenerator"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":12697058,"title":"OCMock with Core Data/Mogenerator throws exception NSInvalidArgumentException [NSProxy doesNotRecognizeSelector]","body":"<p>I am using OCMock to mock NSManagedObjects in my unit tests. I use Mogenerator to generate machine and human readable files for my core data objects. I am trying to mock an NSManagedObject to return a boolean value and a string. Both are attributes on my core data entity. When I mock the <code>BOOL</code>, the value is returned from the object correctly, my class uses it, and the test passes successfully. When I attempt to stub an <code>NSString</code> property on the same object, it throws an <code>NSInvalidArgumentException [NSProxy doesNotRecognizeSelector]</code>.</p>\n\n<p>Here is the calling code:</p>\n\n<pre><code>id biller = [OCMockObject mockForClass:[Biller class]];\n// passes\n[[[biller stub] andReturnValue:OCMOCK_VALUE((BOOL){NO})] billerValidatedValue];\n// throws exception\n[[[biller stub] andReturn:@\"Test\"] name];\n</code></pre>\n\n<p>Here is the exception:</p>\n\n<pre><code>*** Terminating app due to uncaught exception 'NSInvalidArgumentException', reason: '*** -[NSProxy doesNotRecognizeSelector:name] called!'\n</code></pre>\n\n<p>I know there are <a href=\"http://iamleeg.blogspot.com/2009/09/unit-testing-core-data-driven-apps.html\" rel=\"nofollow\">some recommendations</a> to have an interface that sits in front of the NSManagedObject for testing purposes, but this seems to be adding complexity on top of the Mogenerator machine/human files. </p>\n\n<p>Are there any other suggestions around this without completely reconfiguring this code? This code is already in production, and we are trying to add unit tests in as we develop new features.</p>\n"},{"tags":["cocoa","focus","calayer","nsscrollview"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":12699823,"title":"NSScrollView focus ring lost in CALayer-backed views","body":"<p>An NSScrollView (<em>i.e.</em> with an NSTableView inside) stops drawing its focus ring as first responder if its superview is layer-backed (Mac OS 10.7.4, XCode 4.5). Everything returns to normal when superview's <code>-wantsLayer</code> is set to <code>NO</code>. The behaviour is illustrated in a minimal test project available here: <a href=\"http://www.filedropper.com/testnstableviewwithcalayer\" rel=\"nofollow\">http://www.filedropper.com/testnstableviewwithcalayer</a>.</p>\n\n<p>The problem with clipped focus rings in layer-backed views seems to be <a href=\"http://stackoverflow.com/questions/5207949/how-to-fix-focus-rings-highlight-being-clipped-when-using-calayer\">well-known</a>, but in this case the focus ring is completely lost. At the same time, other controls under 10.7.4, such as NSTextField, are able to draw their focus ring correctly with or without CA layer backing.</p>\n\n<p>Is this a feature or a bug and is there a work-around short of disabling layer backing entirely? I would greatly appreciate any helpful suggestions.</p>\n"},{"tags":["cocoa","png","tiff","retina-display"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":12695181,"title":"Both PNG and multi-representation TIFF in Mac App supporting retina display?","body":"<p>In Xcode, I add both <code>image.png</code> (normal size) and <code>image@2x.png</code> (retina size) for my images as resources.  When I build my app and look in the <code>/Contents/Resources/</code> of the bundle, it shows both an <code>image.png</code> file and an <code>image.tiff</code> file.  The TIFF contains <em>both</em> normal and retina representations.</p>\n\n<p>Does <code>image.png</code> need to be included in the final app bundle?</p>\n\n<p>I would think it doesn't since the TIFF file contains the same image (as well as the retina version).  It just seems to unnecessarily increase the size of the app bundle.  I'm building with the 10.8 SDK for 10.6 or later.</p>\n"},{"tags":["cocoa","nstableview","nsscrollview","nslayoutconstraint"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":128,"score":0,"question_id":12698380,"title":"Automatic Layout Constraints in NSScrollView","body":"<p>I'm creating an NSTableView inside a NSScrollView programmatically, but when I try to set the frame to the scroll view I'm getting a constraint error.</p>\n\n<pre><code>Unable to simultaneously satisfy constraints:\n(\n    \"&lt;NSAutoresizingMaskLayoutConstraint:0x107d4ec50 h=--&amp; v=--&amp; V:[NSScrollView:0x10068c570(372.5)]&gt;\",\n    \"&lt;NSAutoresizingMaskLayoutConstraint:0x107d4d020 h=-&amp;- v=-&amp;- V:[NSClipView:0x10068d7f0]-(673)-|   (Names: '|':NSScrollView:0x10068c570 )&gt;\",\n    \"&lt;NSAutoresizingMaskLayoutConstraint:0x107d4cfc0 h=-&amp;- v=-&amp;- V:|-(2)-[NSClipView:0x10068d7f0]   (Names: '|':NSScrollView:0x10068c570 )&gt;\"\n)\n\nWill attempt to recover by breaking constraint \n&lt;NSAutoresizingMaskLayoutConstraint:0x107d4d020 h=-&amp;- v=-&amp;- V:[NSClipView:0x10068d7f0]-(673)-|   (Names: '|':NSScrollView:0x10068c570 )&gt;\n\nSet the NSUserDefault NSConstraintBasedLayoutVisualizeMutuallyExclusiveConstraints to YES to have -[NSWindow visualizeConstraints:] automatically called when this happens.  And/or, break on objc_exception_throw to catch this in the debugger.\n</code></pre>\n\n<p>It seems like they are being created automatically.</p>\n\n<p>This is my creation code (using arc) I'm subclassing NSView</p>\n\n<pre><code>    -(void)addColumnsToTable{\n    NSTableColumn *col = [[NSTableColumn alloc]initWithIdentifier:@\"priority\"];\n    [col.headerCell setStringValue:@\"priority\"];\n    [col setWidth:10];\n    [col setMinWidth:1];\n    [col setMaxWidth:10];\n    [self.tableView addTableColumn:col];\n\n  //  col = [[NSTableColumn alloc]initWithIdentifier:@\"name\"];\n   // [self.tableView addTableColumn:col];\n\n}\n\n\n-(void)createTable{\n    NSTableView *tableView = [[NSTableView alloc]initWithFrame:NSZeroRect];\n\n    [tableView setDelegate:self];\n    [tableView setDataSource:self];\n\n    NSScrollView *scrollView = [[NSScrollView alloc]initWithFrame:self.bounds];\n    [scrollView setBorderType:NSGrooveBorder];\n\n    [self addSubview:scrollView];\n    [scrollView setDocumentView:tableView];\n    [scrollView setHasVerticalScroller:YES];\n    [scrollView setAutohidesScrollers:YES];\n\n\n    self.tableView = tableView;\n    self.scrollView = scrollView;\n\n    [self addColumnsToTable];\n\n}\n</code></pre>\n\n<p>Here is where is breaking:</p>\n\n<pre><code>-(void)setFrame:(NSRect)frameRect{\n    [super setFrame:frameRect];\n    [self.scrollView setFrame:self.bounds];\n\n}\n</code></pre>\n\n<p>Is there a way to turn off this automatic constraints ? </p>\n"},{"tags":["objective-c","cocoa","notifications","nsusernotification"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":70,"score":1,"question_id":12698332,"title":"Custom icon for each NSUserNotification?","body":"<p>Is there any way to provide <strong>custom</strong> icons for each <code>NSUserNotification</code>, instead of the default app logo? Like the <code>iconData</code> parameter in <code>Growl</code>.</p>\n\n<p>I want to show \"Someone has just posted something\" with the photo of this \"someone\".</p>\n"},{"tags":["objective-c","xcode","cocoa","nsimage"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":12697465,"title":"NSImage doesn't scale","body":"<p>I'm developing a quick app in which I have a method that should rescale a @2x image to a regular one. The problem is that it doesn't :(</p>\n\n<p>Why?</p>\n\n<pre><code>-(BOOL)createNormalImage:(NSString*)inputRetinaImagePath {\n\nNSImage *inputRetinaImage = [[NSImage alloc] initWithContentsOfFile:inputRetinaImagePath];\n\n\n\nNSSize size = NSZeroSize;\nsize.width = inputRetinaImage.size.width*0.5;\nsize.height = inputRetinaImage.size.height*0.5;\n\n[inputRetinaImage setSize:size];\n\n\nNSLog(@\"%f\",inputRetinaImage.size.height);\n\n\nNSBitmapImageRep *imgRep = [[inputRetinaImage representations] objectAtIndex: 0];\n\nNSData *data = [imgRep representationUsingType: NSPNGFileType properties: nil];\n\nNSString *outputFilePath = [[inputRetinaImagePath substringToIndex:inputRetinaImagePath.length - 7] stringByAppendingString:@\".png\"];\n\nNSLog([@\"Normal version file path: \" stringByAppendingString:outputFilePath]);\n[data writeToFile:outputFilePath atomically: NO];\nreturn true;\n}\n</code></pre>\n\n<p>Thanks in advance</p>\n\n<p>Tobias Timpe</p>\n"},{"tags":["objective-c","osx","cocoa","nsscrollview"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":34,"score":1,"question_id":12697335,"title":"NSScrollView jumps around, adds padding at the bottom","body":"<p>I have an NSScrollView in a Mac app, which I'm iteratively adding (identical) subviews to. However, when the window appears, the bottom of the scroll view is visible, however, the scroll bar is at the top. Scrolling up or down initially causes the scroll view to jump quickly to a location, then it will smoothy scroll as normal. In addition, it appears to add a large, empty space at the bottom, but that could just be my code.</p>\n\n<pre><code>    for (int i=0; i&lt;[userList count]; i++) {  ///user list is an array of ID strings\n    PaneViewController *pane = [[PaneViewController alloc] initWithNibName:@\"PaneViewController\" bundle:nil];\n    [pane setPaneID:[userList objectAtIndex:i]];\n    pane.view.frame = CGRectMake(0, (i*pane.view.frame.size.height), pane.view.frame.size.width, pane.view.frame.size.height);\n    [self.scrollView.contentView addSubview:pane.view];\n}\n[self.scrollView.documentView setFrame:CGRectMake(0, 0, self.scrollView.frame.size.width, ([userList count])*125)]; /// 125 is the height of the paneView\n[self.scrollView.verticalScroller setFloatValue:0.0];\n</code></pre>\n\n<p>It shows the same behavior when the line</p>\n\n<pre><code>[self.scrollView.contentView addSubview:pane.view];\n</code></pre>\n\n<p>is changed to </p>\n\n<pre><code>[self.scrollView.documentView addSubview:pane.view];\n</code></pre>\n\n<p>Lastly, though I haven't tested it because the views are identical, my instinct tells me that this is going to fill up bottom to top, i.e., <code>[userList objectAtIndex:0]</code> will be assigned to the view at the bottom of the list, because of Cocoas whacky coordinate system. Is this true and if so, how do I fix it?</p>\n\n<p>P.S. - The scroll view is set up in Interface Builder, if that matters. Also, using an NSListView instead of an NSScrollView is not really an option, for a number of reasons.</p>\n"},{"tags":["ios","cocoa","pdf","hyperlink"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":63,"score":1,"question_id":12451417,"title":"Looking for how-to use UIGraphicsSetPDFContextURLForRect on iOS or Cocoa","body":"<p>I'm playing to manipulate PDF on iOS (display but also and mostly generation).</p>\n\n<p>I wish to embed rectangular areas which act as \"external\" links (URLs like <a href=\"http://host.tld/path/file\" rel=\"nofollow\">http://host.tld/path/file</a>).</p>\n\n<p>Do you know where I can find an example(s) of how to use the UIGraphicsSetPDFContextURLForRect function? I find absolutly nothing on Internet.</p>\n\n<p>If I understand well, the only requirement is that the current graphic context should be PDF \"type\" and I think I respect this since, upstream, I call UIGraphicsPushContext why my PDF context as parameter (this was anyway required for methods like drawAtPoint: that I use also with success).</p>\n\n<p>I do not think it is important but just in case I specify that this DOES NOT take place in the drawRect: of a View subclass.</p>\n\n<p>You're quite right to say me unequivocally that I have \"all wrong\". The graphical environment is so sophisticated and rich in iOS that I assume to have not assimilated more than 1 or 2% for now.</p>\n\n<p>Thank you in advance.</p>\n"},{"tags":["objective-c","cocoa","blocks","nsalert"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":65,"score":3,"question_id":12693752,"title":"Modal NSAlert within block not displayed","body":"<p>In my document-based application, I have overridden the method openDocument: in my subclass of NSDocumentcontroller so that I can display my own openPanel. I pass the chosen URLs to the method openDocumentWithContentsOfURL:display:completionHandler:. I use this code for the call:</p>\n\n<pre><code>[self openDocumentWithContentsOfURL:[chosenFiles objectAtIndex:i] display:YES completionHandler:^(NSDocument *document, BOOL documentWasAlreadyOpen, NSError *error) {\n\n    if (document == nil)\n    {\n        NSAlert* alert = [NSAlert alertWithError:error];\n        [alert runModal];\n    }\n\n}];\n</code></pre>\n\n<p>So I want to display the passed error if nil gets returned as a reference to the document. The problem is, that the program just \"freezes\" after I press the \"Open\" button in the open panel. Then I need to manually stop the program with the \"stop\" button in Xcode. No spinning beach ball appears, though. If I comment the line \"[alert runModal]\", the program does not freeze any more, but no alert is displayed, of course.</p>\n\n<p>Now the strange thing: The code works <em>sometimes</em>. If I switch from Xcode to my browser and back and I run the program again, it sometimes works flawlessly and the error is displayed. After some time it stops working again. It is unpredictable, but most of the time it doesn't work.</p>\n\n<p>All this sounds like a race-condition to me. It certainly has something to do with the block? But what do I do wrong?</p>\n"},{"tags":["objective-c","osx","cocoa","plugins","nsbundle"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":12693446,"title":"How to disable (or be notified of) the deletion of a loaded plugin (NSBundle) file?","body":"<p>I wrote an app with a plugin system (with NSBundle), all is ok but i want to handle the case of when a plugin file is deleted during the app execution.</p>\n\n<p>I think the best way to do that is to disable the deletion of a loaded plugin file (like dll in windows, they can't be deleted when loaded by applications)</p>\n\n<p>But in OSX it's possible to delete the plugin file even if it is used by an app.</p>\n\n<p>Is it possible to disable the deletion of the plugin file when an app uses it ?</p>\n\n<p>Or at least is it possible to be notified when a file is deleted so i can update my app when a plugin file is deleted ?</p>\n\n<p>Thank you</p>\n"},{"tags":["c#",".net","cocoa","monotouch","monomac"],"answer_count":0,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":151,"score":5,"question_id":12689702,"title":"Are there any real-world MonoMac apps that were Mac AppStore approved?","body":"<p><em>(I do hope my question still fits into <a href=\"http://stackoverflow.com/faq#questions\">what is allowed to ask here</a>)</em></p>\n\n<p>Having successfully developed and deployed iPhone applications using <a href=\"http://xamarin.com/monotouch\" rel=\"nofollow\">MonoTouch</a>, I was looking for ways to do it for OS X, too.</p>\n\n<p>What I found was <a href=\"http://www.mono-project.com/MonoMac\" rel=\"nofollow\">MonoMac</a> (<a href=\"https://github.com/mono/monomac\" rel=\"nofollow\">also on Github</a>) which looks promising to me. </p>\n\n<p>Since most stuff seems to be from 2010/2011 I'm unsure whether this is still up-to-date.</p>\n\n<p><strong>My questions therefore are:</strong></p>\n\n<ul>\n<li>Are there any real-world applications out there that were recently successfully submitted to the Mac OS X AppStore?</li>\n<li>Would you recommend using it for commercial projects nowadays?</li>\n<li>Are there any working alternatives? (beside learning Objective C, which I'm currently doing)</li>\n</ul>\n"},{"tags":["iphone","ios","cocoa","quartz","runloop"],"answer_count":8,"favorite_count":16,"up_vote_count":19,"down_vote_count":0,"view_count":8123,"score":19,"question_id":4739748,"title":"Is there a way to make drawRect work right NOW?","body":"<p><em><strong>The original question...............................................</em></strong></p>\n\n<p>If you are an advanced user of drawRect on your ipop*, you will know that of course drawRect will not actually run until \"all processing is finished.\" setNeedsDisplay flags a view as invalidated and the OS, in a word, waits until all processing is done. This can be infuriating in the common situation where you want to have:</p>\n\n<ul>\n<li>a view controller 1</li>\n<li>starts some function 2</li>\n<li>which incrementally 3\n<ul>\n<li>creates a more and more complicated artwork and 4</li>\n<li>at each step, you setNeedsDisplay (wrong!) 5</li>\n</ul></li>\n<li>until all the work is done 6</li>\n</ul>\n\n<p>Of course, when you do that, all that happens is that drawRect is run <strong><em>once only</em></strong> after step 6.  What you want is for the ^&amp;£@%$@ view to be refreshed at point 5. This can lead to you smashing your ipops on the floor, scanning Stackoverflow for hours, screaming at the kids more than necessary about the dangers of crossing the street, etc etc. What to do?</p>\n\n<p>Footnotes:<br>\n<em>*</em> ipop:  i Pad Or Phone !</p>\n\n<p><em><strong>Solution to the original question..............................................</em></strong></p>\n\n<p>In a word, you can <strong><em>(A) background</em></strong> the large painting, and call to the foreground for UI updates or <strong><em>(B) arguably controversially</em></strong> there are four 'immediate' methods suggested that do not use a background process. For the result of what works, run the demo program.  It has #defines for all five methods.</p>\n\n<p><em><strong>Truly astounding alternate solution introduced by Tom Swift..................</em></strong></p>\n\n<p>Tom Swift has explained the amazing idea of quite simply <strong>manipulating the run loop</strong>. Here's how you trigger the run loop:</p>\n\n<p>[[NSRunLoop currentRunLoop] runMode: NSDefaultRunLoopMode beforeDate: [NSDate date]];</p>\n\n<p>This is a truly amazing piece of engineering. Of course one should be extremely careful when manipulating the run loop and as many pointed out this approach is strictly for experts.</p>\n\n<p><em><strong>The Bizarre Problem That Arises..............................................</em></strong></p>\n\n<p>Even though a number of the methods work, they don't actually \"work\" because there is a bizarre progressive-slow-down artifact you will see clearly in the demo.</p>\n\n<p>Scroll to the 'answer' I pasted in below, showing the console output - you can see how it progressively slows.</p>\n\n<p>Here's the new SO question:<br>\n<a href=\"http://stackoverflow.com/questions/4786754\">Mysterious &quot;progressive slowing&quot; problem in run loop / drawRect.</a></p>\n\n<p>Here is V2 of the demo app...<br>\n<a href=\"http://www.fileswap.com/dl/p8lU3gAi/stepwiseDrawingV2.zip.html\">http://www.fileswap.com/dl/p8lU3gAi/stepwiseDrawingV2.zip.html</a></p>\n\n<p>You will see it tests all five methods,</p>\n\n<pre><code>#ifdef TOMSWIFTMETHOD\n [self setNeedsDisplay];\n [[NSRunLoop currentRunLoop]\n      runMode:NSDefaultRunLoopMode beforeDate:[NSDate date]];\n#endif\n#ifdef HOTPAW\n [self setNeedsDisplay];\n [CATransaction flush];\n#endif\n#ifdef LLOYDMETHOD\n [CATransaction begin];\n [self setNeedsDisplay];\n [CATransaction commit];\n#endif\n#ifdef DDLONG\n [self setNeedsDisplay];\n [[self layer] displayIfNeeded];\n#endif\n#ifdef BACKGROUNDMETHOD\n // here, the painting is being done in the bg, we have been\n // called here in the foreground to inval\n [self setNeedsDisplay];\n#endif\n</code></pre>\n\n<ul>\n<li><p>You can see for yourself which methods work and which do not.</p></li>\n<li><p>you can see the bizarre \"progressive-slow-down\". why does it happen?</p></li>\n<li><p>you can see with the controversial TOMSWIFT method, there is actually no problem at all with responsiveness. tap for response at any time. (but still the bizarre \"progressive-slow-down\" problem)</p></li>\n</ul>\n\n<p>So the overwhelming thing is this weird  \"progressive-slow-down\": on each iteration, for unknown reasons, the time taken for a loop deceases.  Note that this applies to both doing it \"properly\" (background look) or using one of the 'immediate' methods.  </p>\n\n<p><em><strong>Practical solutions ........................</em></strong></p>\n\n<p>For anyone reading in the future, if you are actually unable to get this to work in production code because of the \"mystery progressive slowdown\" ... Felz and Void have each presented astounding solutions in the other specific question, hope it helps.</p>\n"},{"tags":["cocoa","osx"],"answer_count":6,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":658,"score":2,"question_id":194192,"title":"How can I get notified when the user finishes editing a cell in an NSTableView?","body":"<p>I need to know when the user finishes editing a cell in an NSTableView. The table contains all of the user's calendars (obtained from the CalCalendarStore), so in order for the user's changes to be saved I need to inform the CalCalendarStore of the changes. However, I can't find anything that gets called after the user finishes their editing - I would guess that there would be a method in the table's delegate, but I only saw one that gets called when editing starts, not when editing ends.</p>\n"},{"tags":["iphone","objective-c","cocoa","cocoa-touch","nsstring"],"answer_count":2,"favorite_count":2,"up_vote_count":4,"down_vote_count":0,"view_count":1817,"score":4,"question_id":2266396,"title":"How to truncate an NSString based on the graphical width?","body":"<p>In UILabel there's functionality to truncate labels using different truncation techniques (UILineBreakMode). In NSString UIKit Additions there is a similar functionality for drawing strings.</p>\n\n<p>However, I found no way to access the actual truncated string. Is there any other way to get a truncated string based on the (graphical) width for a given font?</p>\n\n<p>I'd like to have a category on NSString with this method:</p>\n\n<pre><code>-(NSString*)stringByTruncatingStringWithFont:(UIFont *)font forWidth:(CGFloat)width lineBreakMode:(UILineBreakMode)lineBreakMode\n</code></pre>\n"},{"tags":["cocoa","osx","opengl","frameworks","macbookpro"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":260,"score":2,"question_id":4054788,"title":"Prevent OpenGL.framework from Loading in Cocoa App","body":"<p>My application links against these Frameworks:</p>\n\n<pre><code>Cocoa.Framework\nAppKit.Framework\nCoreData.Framework\nFoundation.Framework\n</code></pre>\n\n<p>Note that OpenGL.Framework is <strong><em>NOT</em></strong> linked. However, after setting DYLD_PRINT_LIBRARIES=1, I note that:</p>\n\n<blockquote>\n  <p>...</p>\n  \n  <p>dyld: loaded: /System/Library/Frameworks/<strong>OpenGL.framework</strong>/Versions/A/<strong>OpenGL</strong></p>\n  \n  <p>dyld: loaded: /System/Library/Frameworks/<strong>OpenGL.framework</strong>/Versions/A/Libraries/...</p>\n  \n  <p>dyld: loaded: /System/Library/Frameworks/<strong>OpenGL.framework</strong>/Versions/A/Libraries/...</p>\n  \n  <p>dyld: loaded: /System/Library/Frameworks/<strong>OpenGL.framework</strong>/Versions/A/Libraries/...</p>\n  \n  <p>dyld: loaded: /System/Library/Frameworks/<strong>OpenGL.framework</strong>/Versions/A/Libraries/...</p>\n  \n  <p>dyld: loaded: /System/Library/Frameworks/<strong>OpenGL.framework</strong>/Versions/A/Libraries/...</p>\n  \n  <p>...</p>\n</blockquote>\n\n<p>This is a huge problem because, as noted on the [cocoa-dev list][1], the OpenGL framework causes the NVidia graphics card to power on for the newer MacBook Pros. </p>\n\n<p>As expected, my application causes the NVidia card to power on. What's worse, is that the framework does not unload when the window is closed. </p>\n\n<p>The only non-standard graphic elements I have are some custom NSBezierPath drawings and a shadow. </p>\n\n<p>Essentially, when my app starts integrated graphics are used UNTIL the window is shown, and then discrete graphics are powered on and <em>remain on</em> regardless of the window state. </p>\n\n<hr>\n\n<p><strong>ANSWER</strong></p>\n\n<p>For an NSView with NSBezierPaths OR clear backgrounds, make sure to set: [myView setWantsLayer:NO]</p>\n"},{"tags":["cocoa","nsbox"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":36,"score":-1,"question_id":12240788,"title":"Changing Visibility of NSbox Objective C","body":"<p>How can I change a <code>NSBox</code> to <code>isHidden:YES|NO</code> programmatically?</p>\n"},{"tags":["ios","cocoa","ios6"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":872,"score":1,"question_id":12690963,"title":"preferredInterfaceOrientationForPresentation must return a supported interface orientation","body":"<p>This error doesnt make sence, as the preffered orientation UIInterfaceOrientationLandscapeRight is returned by the supported orientation</p>\n\n<pre><code>//iOS6\n\n-(BOOL)shouldAutorotate\n{\n    return NO;\n}\n\n-(NSUInteger)supportedInterfaceOrientations\n{\n    return (UIInterfaceOrientationLandscapeRight | UIInterfaceOrientationLandscapeLeft);\n}\n\n- (UIInterfaceOrientation)preferredInterfaceOrientationForPresentation\n{\n    return UIInterfaceOrientationLandscapeRight;\n}\n</code></pre>\n\n<p>Error </p>\n\n<p><strong>Terminating app due to uncaught exception 'UIApplicationInvalidInterfaceOrientation', reason: 'preferredInterfaceOrientationForPresentation must return a supported interface orientation!'</strong></p>\n"},{"tags":["osx","cocoa","notifications"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":210,"score":0,"question_id":7499974,"title":"How to set local notification on Mac OS X?","body":"<p>I'm writing an app for mac os x, and I have to display a notification every day, to remind users about something. The notification should appear even if the app isn't running, and I can't use push notification.</p>\n\n<p>I guess the best solution would be local notification, just like on iOS. Also I know UILocalNotification is available on iOS only. But I think there should be an alternative solution. </p>\n\n<p>Can anybody please point me in the right direction? Is it even possible? If yes, what is the best practice to do this?</p>\n"},{"tags":["cocoa","osx","nstask"],"answer_count":4,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":1054,"score":1,"question_id":1395273,"title":"Working around NSFileHandle NSTask blocking when passing large amounts of data","body":"<p>I've got a bit of code that handles exporting data from my application.  It takes in an NSString full of XML and runs it through a PHP script to generate HTMl, RTF, etc.   It works well unless a user has a large list.  This is apparently due to it overrunning the 8k or so buffer of NSPipe.    </p>\n\n<p>I worked around it (I think) in the readPipe and readHandle, but I'm not sure how to handle it in the writeHandle/writePipe.  The application will beachball at <code>[writeHandle writeData:[in...</code> unless I break on it in gdb, wait a few seconds and and then continue.  </p>\n\n<p>Any help on how I can workaround this in my code?  </p>\n\n<pre><code>- (NSString *)outputFromExporter:(COExporter *)exporter input:(NSString *)input {\n  NSString *exportedString = nil;\n  NSString *path = [exporter path];\n  NSTask *task = [[NSTask alloc] init];\n\n  NSPipe *writePipe = [NSPipe pipe];\n  NSFileHandle *writeHandle = [writePipe fileHandleForWriting];\n  NSPipe *readPipe = [NSPipe pipe];\n  NSFileHandle *readHandle = [readPipe fileHandleForReading];\n\n  NSMutableData *outputData = [[NSMutableData alloc] init];\n  NSData *readData = nil;\n\n  // Set the launch path and I/O for the task\n  [task setLaunchPath:path];\n  [task setStandardInput:writePipe];\n  [task setStandardOutput:readPipe];\n\n  // Launch the exporter, it will convert the raw OPML into HTML, Plaintext, etc\n  [task launch];\n\n  // Write the raw OPML representation to the exporter's input stream\n  [writeHandle writeData:[input dataUsingEncoding:NSUTF8StringEncoding]];\n  [writeHandle closeFile];\n\n  while ((readData = [readHandle availableData]) &amp;&amp; [readData length]) {\n    [outputData appendData:readData];\n  }\n\n  exportedString = [[NSString alloc] initWithData:outputData encoding:NSUTF8StringEncoding];\n  return exportedString;\n}\n</code></pre>\n"},{"tags":["objective-c","xcode","cocoa-touch","cocoa","xcode4"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":12690110,"title":"XCode 4 Does not give output","body":"<p>I'm following the book of Programming in Objective-C by Stephen G. Kochan. I was trying the code and to improve the class example by myself. I opened a project in Mac OS X / Applications / Command Line Tool and the program executes successfully.</p>\n\n<p>When I opened the project as IOS  / Framework &amp; Library / Cocoa Touch Static Library, XCode separates class and implementation files normally. When I try to compile, XCode says it has built successfully but there is no output in the console.</p>\n\n<p>I just followed the book and I am sure there is nothing wrong about Class or the implementation files. \"NSLog(@\"\"); files stays in there\". According to the book, files are separated by 3:</p>\n\n<ol>\n<li>Interface Part (class part)</li>\n<li>Implementation Part (Which instances located in)</li>\n<li>int main (int argc, char *argv[]) part.</li>\n</ol>\n\n<p>But when I open the project as cocoa-static library, I get only 1 *.m file. I cannot add any additional *.m file with add -> new file.</p>\n\n<p>My question is, is there any relative problem with my file structure that I am working on? Should I need also separate implementation part and the main part?</p>\n\n<p>I would really appreciate if someone could help with this probelem. I really got stuck and having struggling to proceed next step of the book because I can not try code examples anymore...</p>\n"},{"tags":["cocoa","notifications","scintilla"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":12689718,"title":"How to get Scintilla Notifications in Cocoa?","body":"<p>How I can catch <a href=\"http://www.scintilla.org/ScintillaDoc.html#Notifications\" rel=\"nofollow\">Scintilla Notifications</a> (like SCN_AUTOCSELECTION, etc) in Cocoa application?\nShould I use NSNotificationCenter or I need to modify Scintilla source files to get this feature?</p>\n"},{"tags":["objective-c","cocoa","nsstring","static-methods"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":41,"score":1,"question_id":12688918,"title":"Inputstring is null after being set in a static method, why?","body":"<p>I am uncertain of how memory is managed in my particular case...</p>\n\n<p>I have two methods:</p>\n\n<pre><code>+(NSMutableDictionary *)loadPlist: (NSString*) name\n                     andErrorDesc: (NSString*) errorDesc\n                        andFormat: (NSPropertyListFormat*) format\n                     andplistPath: (NSMutableString*) plistPath\n{    \n    NSString * destPath = [NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES) lastObject];\n\n    destPath = [destPath stringByAppendingPathComponent:\n                 [NSString stringWithFormat:@\"%@.plist\", name]];\n\n    if (![[NSFileManager defaultManager] fileExistsAtPath:destPath])\n    {\n        [[NSFileManager defaultManager] copyItemAtPath:[[NSBundle mainBundle] pathForResource:name ofType:@\"plist\"] toPath:destPath error:nil];\n    }\n\n    plistPath = [NSMutableString stringWithString:[destPath copy]];\n\n    NSData * plistXML =\n    [[NSFileManager defaultManager] contentsAtPath:plistPath];\n\n    NSLog(@\"AFTER plistPath: \\n%@\",plistPath);\n\n\n    return\n    (NSMutableDictionary *)[NSPropertyListSerialization\n                            propertyListFromData:plistXML\n                            mutabilityOption:NSPropertyListMutableContainersAndLeaves\n                            format:format\n                            errorDescription:&amp;errorDesc];\n}\n\n\n+(bool)writeToCache:(NSString*) data andField: (NSString*) field\n{\n    NSString * errorDesc = nil;\n    NSPropertyListFormat format;\n    NSMutableString * plistPath;\n    NSMutableDictionary * temp = [BPUtils loadPlist:@\"cache\" andErrorDesc:errorDesc andFormat:&amp;format andplistPath:plistPath];\n\n    if (!temp)\n    {\n        NSLog(@\"Error reading plist: %@, format: %d\", errorDesc, format);\n        return false;\n    }\n\n    NSMutableArray * arr = [temp objectForKey:field];\n    [arr addObject:data];\n\n    NSLog(@\"path: %@\",plistPath);\n\n    // Write to plist\n    bool res = [temp writeToFile:plistPath atomically:YES];\n\n    NSLog(@\"RES: %d\", res);\n\n    return true;\n}\n</code></pre>\n\n<p>The problem is that the bottom method that sends in \"plistPath\" to the above method retrives a null plistPath after the above method has set it. Why and how can I fix this?</p>\n\n<pre><code>NSLog(@\"path: %@\",plistPath); \n</code></pre>\n\n<p>in the bottom method shows null, why?</p>\n\n<p><strong>I use ARC.</strong> Also \"destPath\" is set and shows the correct path.</p>\n"},{"tags":["objective-c","cocoa","exception","nsmutablearray"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":582,"score":0,"question_id":2713445,"title":"When I am replacing or inserting an object into nsmutable array, I am getting an Exception","body":"<p>While replacing or inserting into an <code>NSMutable</code> array, I am getting exception as:</p>\n\n<blockquote>\n  <p>Terminating app due to uncaught exception 'NSInternalInconsistencyException', reason: '<em>*</em> -[NSCFArray replaceObjectAtIndex:withObject:]: mutating method sent to immutable object'</p>\n</blockquote>\n\n<pre><code>[list replaceObjectAtIndex:indexRow withObject:editcontacts];\n//or\n\n[list insertObject:editcontacts atIndex:indexRow];\n</code></pre>\n"},{"tags":["objective-c","osx","cocoa"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":12636235,"title":"Setup separate app volume controls","body":"<p>How can i control my app's output volume. </p>\n\n<p>I've got an app that uses <a href=\"https://github.com/mattgallagher/AudioStreamer\" rel=\"nofollow\">https://github.com/mattgallagher/AudioStreamer</a> to stream mp3 files from the internet. The <code>AudioStreamer</code> class does not have a way to change output volume and I don't want to change system volume.</p>\n\n<p>Many apps do this:</p>\n\n<ul>\n<li>iTunes</li>\n<li>Spotify</li>\n<li>MPlayerX</li>\n<li>Most Audio Players</li>\n</ul>\n"},{"tags":["objective-c","cocoa","spotlight","nsmetadataquery"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":330,"score":0,"question_id":4147555,"title":"NSMetaDataQuery, set the setSearchScope paths to be recursive?","body":"<p>In Objective-C, I am setting up an <code>NSMetaDataQuery</code> and setting the <code>setSearchScope:</code> for the query to search a specific users Documents folder. The search works but doesn't recurse down the directory tree, only searching in the Documents folder.<br>\nI've tried wildcards but no joy. </p>\n\n<p>Here is basically what I've attempted, and it works except not searching below the Documents directory:</p>\n\n<pre><code>query = [[NSMetadataQuery alloc] init];\n[query setSearchScopes:[NSArray arrayWithObjects:@\"/Users/username/Documents/\",nil]];\n[query setPredicate:[NSPredicate predicateWithFormat:@\"(kMDItemFSContentChangeDate &gt;= '$time.this_week')\"]];\n[query startQuery];\n</code></pre>\n"},{"tags":["objective-c","cocoa","search","spotlight"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":101,"score":0,"question_id":4957723,"title":"How to search a directory and display search results in a table in Objective-C","body":"<p>I want to create an iTunes style search function where a searchfield will look through the contents of a directory and display the results in an <code>NSTableView</code>.<br>\nThis would be specifically for music so the searchfield should match either song name, artist name or song name. </p>\n\n<p>Is there a way to do this in Objective-C without having the contents of the directory added into the <code>NSTableView</code> first?</p>\n"},{"tags":["cocoa","uiviewcontroller","modal-dialog"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":973,"score":1,"question_id":5252013,"title":"How to determine if a UIViewController has been called as ModalDialog?","body":"<p>In my app I can call a UIViewControle in both mode: Push and  ModalDialog.</p>\n\n<p>How can I determine, once the UIViewController is active, if has been called as Push or Modal Dialog ?</p>\n"},{"tags":["cocoa","spotlight","nspredicateeditor"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":190,"score":1,"question_id":4708256,"title":"Configuring NSPredicateEditor(RowTemplate) for Spotlight metadata queriesI'","body":"<p>I'm trying to configure an <code>NSPredicateEditor</code> (in Interface Builder) to edit the predicate for an <code>NSMetadataQuery</code>. </p>\n\n<p>As a first step, I'm trying to configure an <code>NSPredicateEditorRowTemplate</code> to accept key path(s) for the left-side expression, trying a single keyPath (<code>kMDItemTextContent</code>) to get started.</p>\n\n<p>I can't figure out how to get all the pieces into IB. I've selected the row template, and set \"Left Exprs\" to \"Key Paths\" in the IB Attributes Inspector. But, using Apple's PhotoSearch example as a model, it appears that I should enter a user-readable attribute name (say, \"Content\") here; I can't figure out how to bind it to \"<code>kMDItemTextContent</code>\".</p>\n\n<p>I've dissected the (correctly-configured) NIB in PhotoSearch(*), and inside it there is an <code>NSKeyPathExpression</code> specifying a metadata attribute attached to an <code>NSPopUpButton</code>/<code>NSPopUpButtonCell</code>.</p>\n\n<p>I can't figure out where to navigate in IB to find the <code>NSPopUpButton</code>, and I'm not sure what I'd do to bind it to an <code>NSExpression</code>.</p>\n\n<p>Any help appreciated.</p>\n\n<p><em>(*) In case you're wondering, I got inside the NIB by converting it to a XIB, confirming that it still builds correctly, then examining it with BBEdit.</em></p>\n"}]}
